(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[535],{81618:function(gr){"use strict";(function(P,x){gr.exports=x()})(this,function(){function P(r){var e=[];return r.AMapUI&&e.push(x(r.AMapUI)),r.Loca&&e.push(i(r.Loca)),Promise.all(e)}function x(r){return new Promise(function(e,n){var a=[];if(r.plugins)for(var u=0;u<r.plugins.length;u+=1)c.AMapUI.plugins.indexOf(r.plugins[u])==-1&&a.push(r.plugins[u]);if(s.AMapUI===t.failed)n("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(s.AMapUI===t.notload){s.AMapUI=t.loading,c.AMapUI.version=r.version||c.AMapUI.version,u=c.AMapUI.version;var l=document.body||document.head,h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/ui/"+u+"/main.js",h.onerror=function(p){s.AMapUI=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},h.onload=function(){if(s.AMapUI=t.loaded,a.length)window.AMapUI.loadUI(a,function(){for(var p=0,d=a.length;p<d;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}for(e();v.AMapUI.length;)v.AMapUI.splice(0,1)[0]()});else for(e();v.AMapUI.length;)v.AMapUI.splice(0,1)[0]()},l.appendChild(h)}else s.AMapUI===t.loaded?r.version&&r.version!==c.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):a.length?window.AMapUI.loadUI(a,function(){for(var p=0,d=a.length;p<d;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}e()}):e():r.version&&r.version!==c.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):v.AMapUI.push(function(p){p?n(p):a.length?window.AMapUI.loadUI(a,function(){for(var d=0,g=a.length;d<g;d++){var y=a[d].split("/").slice(-1)[0];window.AMapUI[y]=arguments[d]}e()}):e()})})}function i(r){return new Promise(function(e,n){if(c.AMap.version.startsWith("2.0"))n("Loca \u6682\u4E0D\u9002\u914D JSAPI 2.0,\u8BF7\u4F7F\u7528 1.4.15");else if(s.Loca===t.failed)n("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(s.Loca===t.notload){s.Loca=t.loading,c.Loca.version=r.version||c.Loca.version;var a=c.Loca.version,u=c.key,l=document.body||document.head,h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/loca?v="+a+"&key="+u,h.onerror=function(p){s.Loca=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},h.onload=function(){for(s.Loca=t.loaded,e();v.Loca.length;)v.Loca.splice(0,1)[0]()},l.appendChild(h)}else s.Loca===t.loaded?r.version&&r.version!==c.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):e():r.version&&r.version!==c.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):v.Loca.push(function(p){p?n(p):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(r){r.notload="notload",r.loading="loading",r.loaded="loaded",r.failed="failed"})(t||(t={}));var c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},v={AMap:[],AMapUI:[],Loca:[]},o=[],f=function(r){typeof r=="function"&&(s.AMap===t.loaded?r(window.AMap):o.push(r))};return{load:function(r){return new Promise(function(e,n){if(s.AMap==t.failed)n("");else if(s.AMap==t.notload){var a=r.key,u=r.version,l=r.plugins;a?(window.AMap&&location.host!=="lbs.amap.com"&&n("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),c.key=a,c.AMap.version=u||c.AMap.version,c.AMap.plugins=l||c.AMap.plugins,s.AMap=t.loading,u=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)s.AMap=t.failed,n(p);else for(s.AMap=t.loaded,P(r).then(function(){e(window.AMap)}).catch(n);o.length;)o.splice(0,1)[0]()},l=document.createElement("script"),l.type="text/javascript",l.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+c.AMap.version+"&key="+a+"&plugin="+c.AMap.plugins.join(","),l.onerror=function(p){s.AMap=t.failed,n(p)},u.appendChild(l)):n("\u8BF7\u586B\u5199key")}else if(s.AMap==t.loaded)if(r.key&&r.key!==c.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(r.version&&r.version!==c.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(a=[],r.plugins)for(u=0;u<r.plugins.length;u+=1)c.AMap.plugins.indexOf(r.plugins[u])==-1&&a.push(r.plugins[u]);a.length?window.AMap.plugin(a,function(){P(r).then(function(){e(window.AMap)}).catch(n)}):P(r).then(function(){e(window.AMap)}).catch(n)}else if(r.key&&r.key!==c.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(r.version&&r.version!==c.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var h=[];if(r.plugins)for(u=0;u<r.plugins.length;u+=1)c.AMap.plugins.indexOf(r.plugins[u])==-1&&h.push(r.plugins[u]);f(function(){h.length?window.AMap.plugin(h,function(){P(r).then(function(){e(window.AMap)}).catch(n)}):P(r).then(function(){e(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},v={AMap:[],AMapUI:[],Loca:[]}}}})},64317:function(gr,P,x){"use strict";var i=x(67294),t=x(6454),c=x(22270),s=x(66758),v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],o=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function f(){return f=Object.assign||function(y){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(y[m]=C[m])}return y},f.apply(this,arguments)}function r(y,E){var C=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);E&&(m=m.filter(function(M){return Object.getOwnPropertyDescriptor(y,M).enumerable})),C.push.apply(C,m)}return C}function e(y){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?r(Object(C),!0).forEach(function(m){n(y,m,C[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(C)):r(Object(C)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(C,m))})}return y}function n(y,E,C){return E in y?Object.defineProperty(y,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[E]=C,y}function a(y,E){if(y==null)return{};var C=u(y,E),m,M;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);for(M=0;M<b.length;M++)m=b[M],!(E.indexOf(m)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,m)||(C[m]=y[m]))}return C}function u(y,E){if(y==null)return{};var C={},m=Object.keys(y),M,b;for(b=0;b<m.length;b++)M=m[b],!(E.indexOf(M)>=0)&&(C[M]=y[M]);return C}var l=i.forwardRef(function(y,E){var C=y.fieldProps,m=y.children,M=y.params,b=y.proFieldProps,S=y.mode,A=y.valueEnum,T=y.request,O=y.showSearch,D=y.options,L=a(y,v),Z=(0,i.useContext)(s.Z);return i.createElement(t.Z,f({mode:"edit",valueEnum:(0,c.h)(A),request:T,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:e({options:D,mode:S,showSearch:O,getPopupContainer:Z.getPopupContainer},C),ref:E,proFieldProps:b},L),m)}),h=i.forwardRef(function(y,E){var C=y.fieldProps,m=y.children,M=y.params,b=y.proFieldProps,S=y.mode,A=y.valueEnum,T=y.request,O=y.options,D=a(y,o),L=e({options:O,mode:S||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},C),Z=(0,i.useContext)(s.Z);return i.createElement(t.Z,f({mode:"edit",valueEnum:(0,c.h)(A),request:T,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:e({getPopupContainer:Z.getPopupContainer},L),ref:E,proFieldProps:b},D),m)}),p=l,d=h,g=p;g.SearchSelect=d,g.displayName="ProFormComponent",P.Z=g},11338:function(gr,P,x){"use strict";x.d(P,{Z:function(){return ht}});var i=x(9715),t=x(86585),c=x(84305),s=x(69224),v=x(67294),o=x(94184),f=x.n(o),r=x(76422),e=x(1643),n=x(94237),a=x(28991),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},l=u,h=x(27029),p=function(Q,xt){return v.createElement(h.Z,(0,a.Z)((0,a.Z)({},Q),{},{ref:xt,icon:l}))};p.displayName="FilterOutlined";var d=v.forwardRef(p),g=x(97435),y=x(52241),E=x(29504),C=["size","collapse","collapseLabel","initialValues","onValuesChange","form","bordered","ignoreRules","footerRender"];function m(){return m=Object.assign||function(nt){for(var Q=1;Q<arguments.length;Q++){var xt=arguments[Q];for(var _t in xt)Object.prototype.hasOwnProperty.call(xt,_t)&&(nt[_t]=xt[_t])}return nt},m.apply(this,arguments)}function M(nt,Q){if(nt==null)return{};var xt=b(nt,Q),_t,Nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(nt);for(Nt=0;Nt<rt.length;Nt++)_t=rt[Nt],!(Q.indexOf(_t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(nt,_t)||(xt[_t]=nt[_t]))}return xt}function b(nt,Q){if(nt==null)return{};var xt={},_t=Object.keys(nt),Nt,rt;for(rt=0;rt<_t.length;rt++)Nt=_t[rt],!(Q.indexOf(Nt)>=0)&&(xt[Nt]=nt[Nt]);return xt}function S(nt,Q){var xt=Object.keys(nt);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(nt);Q&&(_t=_t.filter(function(Nt){return Object.getOwnPropertyDescriptor(nt,Nt).enumerable})),xt.push.apply(xt,_t)}return xt}function A(nt){for(var Q=1;Q<arguments.length;Q++){var xt=arguments[Q]!=null?arguments[Q]:{};Q%2?S(Object(xt),!0).forEach(function(_t){T(nt,_t,xt[_t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(xt)):S(Object(xt)).forEach(function(_t){Object.defineProperty(nt,_t,Object.getOwnPropertyDescriptor(xt,_t))})}return nt}function T(nt,Q,xt){return Q in nt?Object.defineProperty(nt,Q,{value:xt,enumerable:!0,configurable:!0,writable:!0}):nt[Q]=xt,nt}function O(nt,Q){return Y(nt)||U(nt,Q)||L(nt,Q)||D()}function D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(nt,Q){if(!!nt){if(typeof nt=="string")return Z(nt,Q);var xt=Object.prototype.toString.call(nt).slice(8,-1);if(xt==="Object"&&nt.constructor&&(xt=nt.constructor.name),xt==="Map"||xt==="Set")return Array.from(nt);if(xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt))return Z(nt,Q)}}function Z(nt,Q){(Q==null||Q>nt.length)&&(Q=nt.length);for(var xt=0,_t=new Array(Q);xt<Q;xt++)_t[xt]=nt[xt];return _t}function U(nt,Q){var xt=nt==null?null:typeof Symbol!="undefined"&&nt[Symbol.iterator]||nt["@@iterator"];if(xt!=null){var _t=[],Nt=!0,rt=!1,q,G;try{for(xt=xt.call(nt);!(Nt=(q=xt.next()).done)&&(_t.push(q.value),!(Q&&_t.length===Q));Nt=!0);}catch(N){rt=!0,G=N}finally{try{!Nt&&xt.return!=null&&xt.return()}finally{if(rt)throw G}}return _t}}function Y(nt){if(Array.isArray(nt))return nt}var W=function(Q){var xt=Q.items,_t=Q.prefixCls,Nt=Q.size,rt=Nt===void 0?"middle":Nt,q=Q.collapse,G=Q.collapseLabel,N=Q.onValuesChange,at=Q.bordered,H=Q.values,ft=H===void 0?{}:H,ct=Q.footerRender,K=(0,n.YB)(),$="".concat(_t,"-light-filter"),et=(0,v.useState)(!1),B=O(et,2),w=B[0],R=B[1],V=(0,v.useState)(function(){return A({},ft)}),tt=O(V,2),lt=tt[0],Et=tt[1];(0,v.useEffect)(function(){Et(A({},ft))},[ft]);var ot=(0,v.useMemo)(function(){var zt=[],$t=[];return xt.forEach(function(ce){var ye=ce.props||{},Je=ye.secondary;Je||q?zt.push(ce):$t.push(ce)}),{collapseItems:zt,outsideItems:$t}},[Q.items.length]),Mt=ot.collapseItems,Ot=ot.outsideItems,Ft=function(){return G||(q?v.createElement(d,{className:"".concat($,"-collapse-icon")}):v.createElement(r.Z,{size:rt,label:K.getMessage("form.lightFilter.more","\u66F4\u591A\u7B5B\u9009"),expanded:w}))};return v.createElement("div",{className:f()($,"".concat($,"-").concat(rt),T({},"".concat($,"-effective"),Object.keys(ft).some(function(zt){return ft[zt]})))},v.createElement("div",{className:"".concat($,"-container")},Ot.map(function(zt,$t){var ce=zt.key;return v.createElement("div",{className:"".concat($,"-item"),key:ce||$t},v.cloneElement(zt,{proFieldProps:{light:!0,label:zt.props.label,bordered:at},bordered:at}))}),Mt.length?v.createElement("div",{className:"".concat($,"-item"),key:"more"},v.createElement(e.Z,{padding:24,onVisibleChange:R,visible:w,label:Ft(),footerRender:ct,footer:{onConfirm:function(){N(A({},lt)),R(!1)},onClear:function(){var $t={};Mt.forEach(function(ce){var ye=ce.props.name;$t[ye]=void 0}),N($t)}}},Mt.map(function(zt){var $t=zt.key,ce=zt.props,ye=ce.name,Je=ce.fieldProps,nr=A(A({},Je),{},{onChange:function(mr){return Et(A(A({},lt),{},T({},ye,(mr==null?void 0:mr.target)?mr.target.value:mr))),!1}});return lt.hasOwnProperty(ye)&&(nr[zt.props.valuePropName||"value"]=lt[ye]),v.createElement("div",{className:"".concat($,"-line"),key:$t},v.cloneElement(zt,{fieldProps:nr}))}))):null))};function J(nt){var Q=nt.size,xt=nt.collapse,_t=nt.collapseLabel,Nt=nt.initialValues,rt=nt.onValuesChange,q=nt.form,G=nt.bordered,N=nt.ignoreRules,at=nt.footerRender,H=M(nt,C),ft=(0,v.useContext)(s.ZP.ConfigContext),ct=ft.getPrefixCls,K=ct("pro-form"),$=t.Z.useForm(),et=O($,1),B=et[0],w=q||B,R=(0,v.useState)(function(){return A({},Nt)}),V=O(R,2),tt=V[0],lt=V[1];return v.createElement(y.Z,m({size:Q,initialValues:Nt,form:w,contentRender:function(ot){return v.createElement(W,{prefixCls:K,items:ot.flatMap(function(Mt){return(Mt==null?void 0:Mt.type.displayName)==="ProForm-Group"?Mt.props.children:Mt}),size:Q,bordered:G,collapse:xt,collapseLabel:_t,values:tt,footerRender:at,onValuesChange:function(Ot){var Ft=A(A({},tt),Ot);lt(Ft),w.setFieldsValue(Ft),w.submit(),rt&&rt(Ot,Ft)}})},formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},(0,g.Z)(H,["labelWidth"]),{onValuesChange:function(ot,Mt){lt(Mt),rt&&rt(ot,Mt),w.submit()}}))}var ht=J},46343:function(gr,P,x){"use strict";x.d(P,{zj:function(){return Q},oI:function(){return rt},ni:function(){return W},gg:function(){return Nt}});var i=x(34155);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function t(q,G,N,at){function H(ft){return ft instanceof N?ft:new N(function(ct){ct(ft)})}return new(N||(N=Promise))(function(ft,ct){function K(B){try{et(at.next(B))}catch(w){ct(w)}}function $(B){try{et(at.throw(B))}catch(w){ct(w)}}function et(B){B.done?ft(B.value):H(B.value).then(K,$)}et((at=at.apply(q,G||[])).next())})}function c(q,G){var N={label:0,sent:function(){if(ft[0]&1)throw ft[1];return ft[1]},trys:[],ops:[]},at,H,ft,ct;return ct={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function K(et){return function(B){return $([et,B])}}function $(et){if(at)throw new TypeError("Generator is already executing.");for(;N;)try{if(at=1,H&&(ft=et[0]&2?H.return:et[0]?H.throw||((ft=H.return)&&ft.call(H),0):H.next)&&!(ft=ft.call(H,et[1])).done)return ft;switch(H=0,ft&&(et=[et[0]&2,ft.value]),et[0]){case 0:case 1:ft=et;break;case 4:return N.label++,{value:et[1],done:!1};case 5:N.label++,H=et[1],et=[0];continue;case 7:et=N.ops.pop(),N.trys.pop();continue;default:if(ft=N.trys,!(ft=ft.length>0&&ft[ft.length-1])&&(et[0]===6||et[0]===2)){N=0;continue}if(et[0]===3&&(!ft||et[1]>ft[0]&&et[1]<ft[3])){N.label=et[1];break}if(et[0]===6&&N.label<ft[1]){N.label=ft[1],ft=et;break}if(ft&&N.label<ft[2]){N.label=ft[2],N.ops.push(et);break}ft[2]&&N.ops.pop(),N.trys.pop();continue}et=G.call(q,N)}catch(B){et=[6,B],H=0}finally{at=ft=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}function s(q,G){var N=typeof Symbol=="function"&&q[Symbol.iterator];if(!N)return q;var at=N.call(q),H,ft=[],ct;try{for(;(G===void 0||G-- >0)&&!(H=at.next()).done;)ft.push(H.value)}catch(K){ct={error:K}}finally{try{H&&!H.done&&(N=at.return)&&N.call(at)}finally{if(ct)throw ct.error}}return ft}function v(){for(var q=[],G=0;G<arguments.length;G++)q=q.concat(s(arguments[G]));return q}function o(q){return q&&q.__esModule&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q}function f(q,G){return G={exports:{}},q(G,G.exports),G.exports}var r=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(at){return at&&typeof at.length=="number"&&at.length>=0&&at.length%1==0}q.exports=G.default});o(r);var e=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(N){return function(){for(var at=[],H=arguments.length;H--;)at[H]=arguments[H];var ft=at.pop();return N.call(this,at,ft)}},q.exports=G.default});o(e);var n=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.fallback=H,G.wrap=ft;var N=G.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,at=G.hasNextTick=typeof i=="object"&&typeof i.nextTick=="function";function H(K){setTimeout(K,0)}function ft(K){return function($){for(var et=[],B=arguments.length-1;B-- >0;)et[B]=arguments[B+1];return K(function(){return $.apply(void 0,et)})}}var ct;N?ct=setImmediate:at?ct=i.nextTick:ct=H,G.default=ft(ct)});o(n);var a=n.fallback,u=n.wrap,l=n.hasSetImmediate,h=n.hasNextTick,p=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ft;var N=H(e),at=H(n);function H($){return $&&$.__esModule?$:{default:$}}function ft($){return(0,d.isAsync)($)?function(){for(var et=[],B=arguments.length;B--;)et[B]=arguments[B];var w=et.pop(),R=$.apply(this,et);return ct(R,w)}:(0,N.default)(function(et,B){var w;try{w=$.apply(this,et)}catch(R){return B(R)}if(w&&typeof w.then=="function")return ct(w,B);B(null,w)})}function ct($,et){return $.then(function(B){K(et,null,B)},function(B){K(et,B&&B.message?B:new Error(B))})}function K($,et,B){try{$(et,B)}catch(w){(0,at.default)(function(R){throw R},w)}}q.exports=G.default});o(p);var d=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.isAsyncIterable=G.isAsyncGenerator=G.isAsync=void 0;var N=at(p);function at($){return $&&$.__esModule?$:{default:$}}function H($){return $[Symbol.toStringTag]==="AsyncFunction"}function ft($){return $[Symbol.toStringTag]==="AsyncGenerator"}function ct($){return typeof $[Symbol.asyncIterator]=="function"}function K($){if(typeof $!="function")throw new Error("expected a function");return H($)?(0,N.default)($):$}G.default=K,G.isAsync=H,G.isAsyncGenerator=ft,G.isAsyncIterable=ct});o(d);var g=d.isAsyncIterable,y=d.isAsyncGenerator,E=d.isAsync,C=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(at,H){if(H===void 0&&(H=at.length),!H)throw new Error("arity is undefined");function ft(){for(var ct=this,K=[],$=arguments.length;$--;)K[$]=arguments[$];return typeof K[H-1]=="function"?at.apply(this,K):new Promise(function(et,B){K[H-1]=function(w){for(var R=[],V=arguments.length-1;V-- >0;)R[V]=arguments[V+1];if(w)return B(w);et(R.length>1?R:R[0])},at.apply(ct,K)})}return Object.defineProperty(ft,"name",{configurable:!0,value:"awaitable("+at.name+")"}),ft}q.exports=G.default});o(C);var m=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ft(r),at=ft(d),H=ft(C);function ft(ct){return ct&&ct.__esModule?ct:{default:ct}}G.default=(0,H.default)(function(ct,K,$){var et=(0,N.default)(K)?[]:{};ct(K,function(B,w,R){(0,at.default)(B)(function(V){for(var tt,lt=[],Et=arguments.length-1;Et-- >0;)lt[Et]=arguments[Et+1];lt.length<2&&(tt=lt,lt=tt[0]),et[w]=lt,R(V)})},function(B){return $(B,et)})},3),q.exports=G.default});o(m);var M=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(at){function H(){for(var ft=[],ct=arguments.length;ct--;)ft[ct]=arguments[ct];if(at!==null){var K=at;at=null,K.apply(this,ft)}}return Object.assign(H,at),H}q.exports=G.default});o(M);var b=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(N){return N[Symbol.iterator]&&N[Symbol.iterator]()},q.exports=G.default});o(b);var S=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=$;var N=H(r),at=H(b);function H(et){return et&&et.__esModule?et:{default:et}}function ft(et){var B=-1,w=et.length;return function(){return++B<w?{value:et[B],key:B}:null}}function ct(et){var B=-1;return function(){var R=et.next();return R.done?null:(B++,{value:R.value,key:B})}}function K(et){var B=et?Object.keys(et):[],w=-1,R=B.length;return function(){var tt=B[++w];return w<R?{value:et[tt],key:tt}:null}}function $(et){if((0,N.default)(et))return ft(et);var B=(0,at.default)(et);return B?ct(B):K(et)}q.exports=G.default});o(S);var A=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(at){return function(){for(var H=[],ft=arguments.length;ft--;)H[ft]=arguments[ft];if(at===null)throw new Error("Callback was already called.");var ct=at;at=null,ct.apply(this,H)}}q.exports=G.default});o(A);var T=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N={};G.default=N,q.exports=G.default});o(T);var O=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=H;var N=at(T);function at(ft){return ft&&ft.__esModule?ft:{default:ft}}function H(ft,ct,K,$){var et=!1,B=!1,w=!1,R=0,V=0;function tt(){R>=ct||w||et||(w=!0,ft.next().then(function(ot){var Mt=ot.value,Ot=ot.done;if(!(B||et)){if(w=!1,Ot){et=!0,R<=0&&$(null);return}R++,K(Mt,V,lt),V++,tt()}}).catch(Et))}function lt(ot,Mt){if(R-=1,!B){if(ot)return Et(ot);if(ot===!1){et=!0,B=!0;return}if(Mt===N.default||et&&R<=0)return et=!0,$(null);tt()}}function Et(ot){B||(w=!1,et=!0,$(ot))}tt()}q.exports=G.default});o(O);var D=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=K(M),at=K(S),H=K(A),ft=K(O),ct=K(T);function K($){return $&&$.__esModule?$:{default:$}}G.default=function($){return function(et,B,w){if(w=(0,N.default)(w),$<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!et)return w(null);if((0,d.isAsyncGenerator)(et))return(0,ft.default)(et,$,B,w);if((0,d.isAsyncIterable)(et))return(0,ft.default)(et[Symbol.asyncIterator](),$,B,w);var R=(0,at.default)(et),V=!1,tt=!1,lt=0,Et=!1;function ot(Ot,Ft){if(!tt)if(lt-=1,Ot)V=!0,w(Ot);else if(Ot===!1)V=!0,tt=!0;else{if(Ft===ct.default||V&&lt<=0)return V=!0,w(null);Et||Mt()}}function Mt(){for(Et=!0;lt<$&&!V;){var Ot=R();if(Ot===null){V=!0,lt<=0&&w(null);return}lt+=1,B(Ot.value,Ot.key,(0,H.default)(ot))}Et=!1}Mt()}},q.exports=G.default});o(D);var L=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ft(D),at=ft(d),H=ft(C);function ft(K){return K&&K.__esModule?K:{default:K}}function ct(K,$,et,B){return(0,N.default)($)(K,(0,at.default)(et),B)}G.default=(0,H.default)(ct,4),q.exports=G.default});o(L);var Z=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=H(L),at=H(C);function H(ct){return ct&&ct.__esModule?ct:{default:ct}}function ft(ct,K,$){return(0,N.default)(ct,1,K,$)}G.default=(0,at.default)(ft,3),q.exports=G.default});o(Z);var U=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ft;var N=H(m),at=H(Z);function H(ct){return ct&&ct.__esModule?ct:{default:ct}}function ft(ct,K){return(0,N.default)(at.default,ct,K)}q.exports=G.default}),Y=o(U),W=function(){function q(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];this.args=[],this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];return this.args=N,Y(this.tasks)},q.prototype.tap=function(G,N){var at=this;this.tasks.push(function(H){N.apply(void 0,v(at.args)),H(null,G)})},q}(),J=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=et(r),at=et(T),H=et(L),ft=et(M),ct=et(A),K=et(d),$=et(C);function et(V){return V&&V.__esModule?V:{default:V}}function B(V,tt,lt){lt=(0,ft.default)(lt);var Et=0,ot=0,Mt=V.length,Ot=!1;Mt===0&&lt(null);function Ft(zt,$t){zt===!1&&(Ot=!0),Ot!==!0&&(zt?lt(zt):(++ot===Mt||$t===at.default)&&lt(null))}for(;Et<Mt;Et++)tt(V[Et],Et,(0,ct.default)(Ft))}function w(V,tt,lt){return(0,H.default)(V,Infinity,tt,lt)}function R(V,tt,lt){var Et=(0,N.default)(V)?B:w;return Et(V,(0,K.default)(tt),lt)}G.default=(0,$.default)(R,3),q.exports=G.default});o(J);var ht=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ft;var N=H(J),at=H(m);function H(ct){return ct&&ct.__esModule?ct:{default:ct}}function ft(ct,K){return(0,at.default)(N.default,ct,K)}q.exports=G.default}),nt=o(ht),Q=function(){function q(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];this.tasks=[]}return q.prototype.promise=function(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];return nt(this.tasks)},q.prototype.tapPromise=function(G,N){var at=this;this.tasks.push(function(H){return t(at,void 0,void 0,function(){return c(this,function(ft){switch(ft.label){case 0:return[4,N()];case 1:return ft.sent(),H(null,G),[2]}})})})},q}(),xt=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ct(M),at=ct(A),H=ct(d),ft=ct(C);function ct($){return $&&$.__esModule?$:{default:$}}function K($,et){if(et=(0,N.default)(et),!Array.isArray($))return et(new Error("First argument to waterfall must be an array of functions"));if(!$.length)return et();var B=0;function w(V){var tt=(0,H.default)($[B++]);tt.apply(void 0,V.concat([(0,at.default)(R)]))}function R(V){for(var tt=[],lt=arguments.length-1;lt-- >0;)tt[lt]=arguments[lt+1];if(V!==!1){if(V||B===$.length)return et.apply(void 0,[V].concat(tt));w(tt)}}w([])}G.default=(0,ft.default)(K),q.exports=G.default}),_t=o(xt),Nt=function(){function q(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];return _t(this.tasks)},q.prototype.tap=function(G,N){this.tasks.length===0?this.tasks.push(function(at){var H=N();at(H?null:!1,H)}):this.tasks.push(function(at,H){var ft=N();H(ft?null:!1,G)})},q}(),rt=function(){function q(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],at=0;at<arguments.length;at++)N[at]=G[at];return Y(this.tasks)},q.prototype.tap=function(G,N){this.tasks.push(function(at){var H=N();at(H,G)})},q}()},63531:function(gr){(function(x,i){gr.exports=i()})(window,function(){return function(P){var x={};function i(t){if(x[t])return x[t].exports;var c=x[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=x,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:s})},i.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,c){if(c&1&&(t=i(t)),c&8||c&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),c&2&&typeof t!="string")for(var v in t)i.d(s,v,function(o){return t[o]}.bind(null,v));return s},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s="./src/index.ts")}({"./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js":function(P,x,i){(function(c,s){P.exports=s()})(typeof self!="undefined"?self:this,function(){return function(t){var c={};function s(v){if(c[v])return c[v].exports;var o=c[v]={i:v,l:!1,exports:{}};return t[v].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=c,s.d=function(v,o,f){s.o(v,o)||Object.defineProperty(v,o,{configurable:!1,enumerable:!0,get:f})},s.n=function(v){var o=v&&v.__esModule?function(){return v.default}:function(){return v};return s.d(o,"a",o),o},s.o=function(v,o){return Object.prototype.hasOwnProperty.call(v,o)},s.p="",s(s.s=31)}([function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Array.isArray?Array.isArray(o):Object(v.a)(o,"Array")}},function(t,c,s){"use strict";var v=function(o){return o!==null&&typeof o!="function"&&isFinite(o.length)};c.a=v},function(t,c,s){"use strict";var v=s(0),o=s(13);function f(r,e){if(!!r){var n;if(Object(v.a)(r))for(var a=0,u=r.length;a<u&&(n=e(r[a],a),n!==!1);a++);else if(Object(o.a)(r)){for(var l in r)if(r.hasOwnProperty(l)&&(n=e(r[l],l),n===!1))break}}}c.a=f},function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Object(v.a)(o,"Function")}},function(t,c,s){"use strict";var v={}.toString,o=function(f,r){return v.call(f)==="[object "+r+"]"};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Number")};c.a=o},function(t,c,s){"use strict";var v=function(o){return o==null};c.a=v},function(t,c,s){var v=s(33),o=v.mix;t.exports={assign:o}},function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Object(v.a)(o,"String")}},function(t,c,s){"use strict";var v=s(15),o=s(4),f=function(r){if(!Object(v.a)(r)||!Object(o.a)(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};c.a=f},function(t,c,s){"use strict";var v=s(6);c.a=function(o){return Object(v.a)(o)?"":o.toString()}},function(t,c,s){var v=s(18),o=function(){function f(e,n){n===void 0&&(n={});var a=this;a.options=n,a.rootNode=v(e,n)}var r=f.prototype;return r.execute=function(){throw new Error("please override this method")},f}();t.exports=o},function(t,c,s){"use strict";var v=s(1),o=function(f,r){return Object(v.a)(f)?f.indexOf(r)>-1:!1};c.a=o},function(t,c,s){"use strict";c.a=function(v){var o=typeof v;return v!==null&&o==="object"||o==="function"}},function(t,c,s){"use strict";var v=s(2),o=s(1),f=function(r,e){if(!Object(o.a)(r))return r;var n=[];return Object(v.a)(r,function(a,u){e(a,u)&&n.push(a)}),n};c.a=f},function(t,c,s){"use strict";var v=function(o){return typeof o=="object"&&o!==null};c.a=v},function(t,c,s){"use strict";c.a=o;function v(f,r){for(var e in r)r.hasOwnProperty(e)&&e!=="constructor"&&r[e]!==void 0&&(f[e]=r[e])}function o(f,r,e,n){return r&&v(f,r),e&&v(f,e),n&&v(f,n),f}},function(t,c,s){var v=s(30),o=["LR","RL","TB","BT","H","V"],f=["LR","RL","H"],r=function(a){return f.indexOf(a)>-1},e=o[0];t.exports=function(n,a,u){var l=a.direction||e;if(a.isHorizontal=r(l),l&&o.indexOf(l)===-1)throw new TypeError("Invalid direction: "+l);if(l===o[0])u(n,a);else if(l===o[1])u(n,a),n.right2left();else if(l===o[2])u(n,a);else if(l===o[3])u(n,a),n.bottom2top();else if(l===o[4]||l===o[5]){var h=v(n,a),p=h.left,d=h.right;u(p,a),u(d,a),a.isHorizontal?p.right2left():p.bottom2top(),d.translate(p.x-d.x,p.y-d.y),n.x=p.x,n.y=d.y;var g=n.getBoundingBox();a.isHorizontal?g.top<0&&n.translate(0,-g.top):g.left<0&&n.translate(-g.left,0)}var y=a.fixedRoot;return y===void 0&&(y=!0),y&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n}},function(t,c,s){var v=s(7),o=18,f=o*2,r=o,e={getId:function(l){return l.id||l.name},getHGap:function(l){return l.hgap||r},getVGap:function(l){return l.vgap||r},getChildren:function(l){return l.children},getHeight:function(l){return l.height||f},getWidth:function(l){var h=l.label||" ";return l.width||h.split("").length*o}};function n(u,l){var h=this;if(h.vgap=h.hgap=0,u instanceof n)return u;h.data=u;var p=l.getHGap(u),d=l.getVGap(u);return h.width=l.getWidth(u),h.height=l.getHeight(u),h.id=l.getId(u),h.x=h.y=0,h.depth=0,h.children||(h.children=[]),h.addGap(p,d),h}v.assign(n.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(l,h){var p=this;p.hgap+=l,p.vgap+=h,p.width+=2*l,p.height+=2*h},eachNode:function(l){for(var h=this,p=[h],d;d=p.shift();)l(d),p=d.children.concat(p)},DFTraverse:function(l){this.eachNode(l)},BFTraverse:function(l){for(var h=this,p=[h],d;d=p.shift();)l(d),p=p.concat(d.children)},getBoundingBox:function(){var l={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(h){l.left=Math.min(l.left,h.x),l.top=Math.min(l.top,h.y),l.width=Math.max(l.width,h.x+h.width),l.height=Math.max(l.height,h.y+h.height)}),l},translate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=0),this.eachNode(function(p){p.x+=l,p.y+=h})},right2left:function(){var l=this,h=l.getBoundingBox();l.eachNode(function(p){p.x=p.x-(p.x-h.left)*2-p.width}),l.translate(h.width,0)},bottom2top:function(){var l=this,h=l.getBoundingBox();l.eachNode(function(p){p.y=p.y-(p.y-h.top)*2-p.height}),l.translate(0,h.height)}});function a(u,l,h){l===void 0&&(l={}),l=v.assign({},e,l);var p=new n(u,l),d=[p],g;if(!h&&!u.collapsed){for(;g=d.shift();)if(!g.data.collapsed){var y=l.getChildren(g.data),E=y?y.length:0;if(g.children=new Array(E),y&&E)for(var C=0;C<E;C++){var m=new n(y[C],l);g.children[C]=m,d.push(m),m.parent=g,m.depth=g.depth+1}}}return p}t.exports=a},function(t,c,s){"use strict";var v=s(6),o=s(20);function f(r,e){var n=Object(o.a)(e),a=n.length;if(Object(v.a)(r))return!a;for(var u=0;u<a;u+=1){var l=n[u];if(e[l]!==r[l]||!(l in r))return!1}return!0}c.a=f},function(t,c,s){"use strict";var v=s(2),o=s(3),f=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return Object(v.a)(r,function(n,a){Object(o.a)(r)&&a==="prototype"||e.push(a)}),e};c.a=f},function(t,c,s){"use strict";var v=s(1),o=Array.prototype.splice,f=function(e,n){if(!Object(v.a)(e))return[];for(var a=e?n.length:0,u=a-1;a--;){var l=void 0,h=n[a];(a===u||h!==l)&&(l=h,o.call(e,h,1))}return e};c.a=f},function(t,c,s){"use strict";var v=s(12),o=s(2),f=function(r){var e=[];return Object(o.a)(r,function(n){Object(v.a)(e,n)||e.push(n)}),e};c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(3),f=s(24),r=function(e,n){if(!n)return{0:e};if(!Object(o.a)(n)){var a=Object(v.a)(n)?n:n.replace(/\s+/g,"").split("*");n=function(l){for(var h="_",p=0,d=a.length;p<d;p++)h+=l[a[p]]&&l[a[p]].toString();return h}}var u=Object(f.a)(e,n);return u};c.a=r},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3),r=Object.prototype.hasOwnProperty;function e(n,a){if(!a||!Object(o.a)(n))return{};var u={},l=Object(f.a)(a)?a:function(p){return p[a]},h;return Object(v.a)(n,function(p){h=l(p),r.call(u,h)?u[h].push(p):u[h]=[p]}),u}c.a=e},function(t,c,s){"use strict";c.a=function(v,o){return v.hasOwnProperty(o)}},function(t,c,s){"use strict";var v=s(2),o=s(3),f=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return Object(v.a)(r,function(n,a){Object(o.a)(r)&&a==="prototype"||e.push(n)}),e};c.a=f},function(t,c,s){"use strict";var v={}.toString,o=function(f){return v.call(f).replace(/^\[object /,"").replace(/]$/,"")};c.a=o},function(t,c,s){"use strict";var v=Object.prototype,o=function(f){var r=f&&f.constructor,e=typeof r=="function"&&r.prototype||v;return f===e};c.a=o},function(t,c,s){"use strict";var v=s(15),o=s(1),f=s(8),r=function(e,n){if(e===n)return!0;if(!e||!n||Object(f.a)(e)||Object(f.a)(n))return!1;if(Object(o.a)(e)||Object(o.a)(n)){if(e.length!==n.length)return!1;for(var a=!0,u=0;u<e.length&&(a=r(e[u],n[u]),!!a);u++);return a}if(Object(v.a)(e)||Object(v.a)(n)){var l=Object.keys(e),h=Object.keys(n);if(l.length!==h.length)return!1;for(var a=!0,u=0;u<l.length&&(a=r(e[l[u]],n[l[u]]),!!a);u++);return a}return!1};c.a=r},function(t,c,s){var v=s(18);t.exports=function(o,f){for(var r=v(o.data,f,!0),e=v(o.data,f,!0),n=o.children.length,a=Math.round(n/2),u=f.getSide||function(d,g){return g<a?"right":"left"},l=0;l<n;l++){var h=o.children[l],p=u(h,l);p==="right"?e.children.push(h):r.children.push(h)}return r.eachNode(function(d){d.isRoot()||(d.side="left")}),e.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:r,right:e}}},function(t,c,s){var v={compactBox:s(32),dendrogram:s(114),indented:s(116),mindmap:s(118)};t.exports=v},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(113),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=s(12);s.d(c,"contains",function(){return v.a}),s.d(c,"includes",function(){return v.a});var o=s(34);s.d(c,"difference",function(){return o.a});var f=s(35);s.d(c,"find",function(){return f.a});var r=s(36);s.d(c,"findIndex",function(){return r.a});var e=s(37);s.d(c,"firstValue",function(){return e.a});var n=s(38);s.d(c,"flatten",function(){return n.a});var a=s(39);s.d(c,"flattenDeep",function(){return a.a});var u=s(40);s.d(c,"getRange",function(){return u.a});var l=s(41);s.d(c,"pull",function(){return l.a});var h=s(21);s.d(c,"pullAt",function(){return h.a});var p=s(42);s.d(c,"reduce",function(){return p.a});var d=s(43);s.d(c,"remove",function(){return d.a});var g=s(44);s.d(c,"sortBy",function(){return g.a});var y=s(45);s.d(c,"union",function(){return y.a});var E=s(22);s.d(c,"uniq",function(){return E.a});var C=s(46);s.d(c,"valuesOfKey",function(){return C.a});var m=s(47);s.d(c,"head",function(){return m.a});var M=s(48);s.d(c,"last",function(){return M.a});var b=s(49);s.d(c,"startsWith",function(){return b.a});var S=s(50);s.d(c,"endsWith",function(){return S.a});var A=s(14);s.d(c,"filter",function(){return A.a});var T=s(51);s.d(c,"every",function(){return T.a});var O=s(52);s.d(c,"some",function(){return O.a});var D=s(53);s.d(c,"group",function(){return D.a});var L=s(24);s.d(c,"groupBy",function(){return L.a});var Z=s(23);s.d(c,"groupToMap",function(){return Z.a});var U=s(54);s.d(c,"getWrapBehavior",function(){return U.a});var Y=s(55);s.d(c,"wrapBehavior",function(){return Y.a});var W=s(56);s.d(c,"number2color",function(){return W.a});var J=s(57);s.d(c,"parseRadius",function(){return J.a});var ht=s(58);s.d(c,"clamp",function(){return ht.a});var nt=s(59);s.d(c,"fixedBase",function(){return nt.a});var Q=s(60);s.d(c,"isDecimal",function(){return Q.a});var xt=s(61);s.d(c,"isEven",function(){return xt.a});var _t=s(62);s.d(c,"isInteger",function(){return _t.a});var Nt=s(63);s.d(c,"isNegative",function(){return Nt.a});var rt=s(64);s.d(c,"isNumberEqual",function(){return rt.a});var q=s(65);s.d(c,"isOdd",function(){return q.a});var G=s(66);s.d(c,"isPositive",function(){return G.a});var N=s(67);s.d(c,"maxBy",function(){return N.a});var at=s(68);s.d(c,"minBy",function(){return at.a});var H=s(69);s.d(c,"mod",function(){return H.a});var ft=s(70);s.d(c,"toDegree",function(){return ft.a});var ct=s(71);s.d(c,"toInteger",function(){return ct.a});var K=s(72);s.d(c,"toRadian",function(){return K.a});var $=s(73);s.d(c,"forIn",function(){return $.a});var et=s(25);s.d(c,"has",function(){return et.a});var B=s(74);s.d(c,"hasKey",function(){return B.a});var w=s(75);s.d(c,"hasValue",function(){return w.a});var R=s(20);s.d(c,"keys",function(){return R.a});var V=s(19);s.d(c,"isMatch",function(){return V.a});var tt=s(26);s.d(c,"values",function(){return tt.a});var lt=s(76);s.d(c,"lowerCase",function(){return lt.a});var Et=s(77);s.d(c,"lowerFirst",function(){return Et.a});var ot=s(78);s.d(c,"substitute",function(){return ot.a});var Mt=s(79);s.d(c,"upperCase",function(){return Mt.a});var Ot=s(80);s.d(c,"upperFirst",function(){return Ot.a});var Ft=s(27);s.d(c,"getType",function(){return Ft.a});var zt=s(81);s.d(c,"isArguments",function(){return zt.a});var $t=s(0);s.d(c,"isArray",function(){return $t.a});var ce=s(1);s.d(c,"isArrayLike",function(){return ce.a});var ye=s(82);s.d(c,"isBoolean",function(){return ye.a});var Je=s(83);s.d(c,"isDate",function(){return Je.a});var nr=s(84);s.d(c,"isError",function(){return nr.a});var Xe=s(3);s.d(c,"isFunction",function(){return Xe.a});var mr=s(85);s.d(c,"isFinite",function(){return mr.a});var Gr=s(6);s.d(c,"isNil",function(){return Gr.a});var xe=s(86);s.d(c,"isNull",function(){return xe.a});var de=s(5);s.d(c,"isNumber",function(){return de.a});var ze=s(13);s.d(c,"isObject",function(){return ze.a});var Ue=s(15);s.d(c,"isObjectLike",function(){return Ue.a});var Kr=s(9);s.d(c,"isPlainObject",function(){return Kr.a});var rn=s(28);s.d(c,"isPrototype",function(){return rn.a});var ci=s(87);s.d(c,"isRegExp",function(){return ci.a});var Zi=s(8);s.d(c,"isString",function(){return Zi.a});var Ki=s(4);s.d(c,"isType",function(){return Ki.a});var ji=s(88);s.d(c,"isUndefined",function(){return ji.a});var Ae=s(89);s.d(c,"isElement",function(){return Ae.a});var De=s(90);s.d(c,"requestAnimationFrame",function(){return De.a});var ar=s(91);s.d(c,"clearAnimationFrame",function(){return ar.a});var Pr=s(92);s.d(c,"augment",function(){return Pr.a});var or=s(93);s.d(c,"clone",function(){return or.a});var wr=s(94);s.d(c,"debounce",function(){return wr.a});var cn=s(95);s.d(c,"memoize",function(){return cn.a});var Fn=s(96);s.d(c,"deepMix",function(){return Fn.a});var nn=s(2);s.d(c,"each",function(){return nn.a});var Hr=s(97);s.d(c,"extend",function(){return Hr.a});var Gn=s(98);s.d(c,"indexOf",function(){return Gn.a});var $n=s(99);s.d(c,"isEmpty",function(){return $n.a});var Vr=s(29);s.d(c,"isEqual",function(){return Vr.a});var Ir=s(100);s.d(c,"isEqualWith",function(){return Ir.a});var ti=s(101);s.d(c,"map",function(){return ti.a});var ge=s(102);s.d(c,"mapValues",function(){return ge.a});var Le=s(16);s.d(c,"mix",function(){return Le.a}),s.d(c,"assign",function(){return Le.a});var Se=s(103);s.d(c,"get",function(){return Se.a});var Ve=s(104);s.d(c,"set",function(){return Ve.a});var le=s(105);s.d(c,"pick",function(){return le.a});var vr=s(106);s.d(c,"throttle",function(){return vr.a});var He=s(107);s.d(c,"toArray",function(){return He.a});var rr=s(10);s.d(c,"toString",function(){return rr.a});var Dr=s(108);s.d(c,"uniqueId",function(){return Dr.a});var Mr=s(109);s.d(c,"noop",function(){return Mr.a});var an=s(110);s.d(c,"identity",function(){return an.a});var gn=s(111);s.d(c,"size",function(){return gn.a});var qr=s(112);s.d(c,"Cache",function(){return qr.a})},function(t,c,s){"use strict";var v=s(14),o=s(12),f=function(r,e){return e===void 0&&(e=[]),Object(v.a)(r,function(n){return!Object(o.a)(e,n)})};c.a=f},function(t,c,s){"use strict";var v=s(3),o=s(19),f=s(0),r=s(9);function e(n,a){if(!Object(f.a)(n))return null;var u;if(Object(v.a)(a)&&(u=a),Object(r.a)(a)&&(u=function(h){return Object(o.a)(h,a)}),u){for(var l=0;l<n.length;l+=1)if(u(n[l]))return n[l]}return null}c.a=e},function(t,c,s){"use strict";function v(o,f,r){r===void 0&&(r=0);for(var e=r;e<o.length;e++)if(f(o[e],e))return e;return-1}c.a=v},function(t,c,s){"use strict";var v=s(6),o=s(0),f=function(r,e){for(var n=null,a=0;a<r.length;a++){var u=r[a],l=u[e];if(!Object(v.a)(l)){Object(o.a)(l)?n=l[0]:n=l;break}}return n};c.a=f},function(t,c,s){"use strict";var v=s(0),o=function(f){if(!Object(v.a)(f))return[];for(var r=[],e=0;e<f.length;e++)r=r.concat(f[e]);return r};c.a=o},function(t,c,s){"use strict";var v=s(0),o=function(f,r){if(r===void 0&&(r=[]),!Object(v.a)(f))r.push(f);else for(var e=0;e<f.length;e+=1)o(f[e],r);return r};c.a=o},function(t,c,s){"use strict";var v=s(0),o=s(14),f=function(r){if(r=Object(o.a)(r,function(l){return!isNaN(l)}),!r.length)return{min:0,max:0};if(Object(v.a)(r[0])){for(var e=[],n=0;n<r.length;n++)e=e.concat(r[n]);r=e}var a=Math.max.apply(null,r),u=Math.min.apply(null,r);return{min:u,max:a}};c.a=f},function(t,c,s){"use strict";var v=Array.prototype,o=v.splice,f=v.indexOf,r=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var u=0;u<n.length;u++)for(var l=n[u],h=-1;(h=f.call(e,l))>-1;)o.call(e,h,1);return e};c.a=r},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(9),r=function(e,n,a){if(!Object(o.a)(e)&&!Object(f.a)(e))return e;var u=a;return Object(v.a)(e,function(l,h){u=n(u,l,h)}),u};c.a=r},function(t,c,s){"use strict";var v=s(1),o=s(21),f=function(r,e){var n=[];if(!Object(v.a)(r))return n;for(var a=-1,u=[],l=r.length;++a<l;){var h=r[a];e(h,a,r)&&(n.push(h),u.push(a))}return Object(o.a)(r,u),n};c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(8),f=s(3);function r(e,n){var a;if(Object(f.a)(n))a=function(l,h){return n(l)-n(h)};else{var u=[];Object(o.a)(n)?u.push(n):Object(v.a)(n)&&(u=n),a=function(l,h){for(var p=0;p<u.length;p+=1){var d=u[p];if(l[d]>h[d])return 1;if(l[d]<h[d])return-1}return 0}}return e.sort(a),e}c.a=r},function(t,c,s){"use strict";var v=s(22),o=function(){for(var f=[],r=0;r<arguments.length;r++)f[r]=arguments[r];return Object(v.a)([].concat.apply([],f))};c.a=o},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(6);c.a=function(r,e){var n=[],a={};return r.forEach(function(u){var l=u[e];Object(f.a)(l)||(Object(o.a)(l)||(l=[l]),Object(v.a)(l,function(h){a[h]||(n.push(h),a[h]=!0)}))}),n}},function(t,c,s){"use strict";c.a=o;var v=s(1);function o(f){if(Object(v.a)(f))return f[0]}},function(t,c,s){"use strict";c.a=o;var v=s(1);function o(f){if(Object(v.a)(f)){var r=f;return r[r.length-1]}}},function(t,c,s){"use strict";var v=s(0),o=s(8);function f(r,e){return Object(v.a)(r)||Object(o.a)(r)?r[0]===e:!1}c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(8);function f(r,e){return Object(v.a)(r)||Object(o.a)(r)?r[r.length-1]===e:!1}c.a=f},function(t,c,s){"use strict";var v=function(o,f){for(var r=0;r<o.length;r++)if(!f(o[r],r))return!1;return!0};c.a=v},function(t,c,s){"use strict";var v=function(o,f){for(var r=0;r<o.length;r++)if(f(o[r],r))return!0;return!1};c.a=v},function(t,c,s){"use strict";var v=s(23);c.a=function(o,f){if(!f)return[o];var r=Object(v.a)(o,f),e=[];for(var n in r)e.push(r[n]);return e}},function(t,c,s){"use strict";function v(o,f){return o["_wrap_"+f]}c.a=v},function(t,c,s){"use strict";function v(o,f){if(o["_wrap_"+f])return o["_wrap_"+f];var r=function(e){o[f](e)};return o["_wrap_"+f]=r,r}c.a=v},function(t,c,s){"use strict";var v={};function o(f){var r=v[f];if(!r){for(var e=f.toString(16),n=e.length;n<6;n++)e="0"+e;r="#"+e,v[f]=r}return r}c.a=o},function(t,c,s){"use strict";var v=s(0);function o(f){var r=0,e=0,n=0,a=0;return Object(v.a)(f)?f.length===1?r=e=n=a=f[0]:f.length===2?(r=n=f[0],e=a=f[1]):f.length===3?(r=f[0],e=a=f[1],n=f[2]):(r=f[0],e=f[1],n=f[2],a=f[3]):r=e=n=a=f,{r1:r,r2:e,r3:n,r4:a}}c.a=o},function(t,c,s){"use strict";var v=function(o,f,r){return o<f?f:o>r?r:o};c.a=v},function(t,c,s){"use strict";var v=function(o,f){var r=f.toString(),e=r.indexOf(".");if(e===-1)return Math.round(o);var n=r.substr(e+1).length;return n>20&&(n=20),parseFloat(o.toFixed(n))};c.a=v},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%1!=0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%2==0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=Number.isInteger?Number.isInteger:function(f){return Object(v.a)(f)&&f%1==0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f<0};c.a=o},function(t,c,s){"use strict";c.a=o;var v=1e-5;function o(f,r,e){return e===void 0&&(e=v),Math.abs(f-r)<e}},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%2!=0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f>0};c.a=o},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3);c.a=function(r,e){if(!!Object(o.a)(r)){var n=r[0],a;Object(f.a)(e)?a=e(r[0]):a=r[0][e];var u;return Object(v.a)(r,function(l){Object(f.a)(e)?u=e(l):u=l[e],u>a&&(n=l,a=u)}),n}}},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3);c.a=function(r,e){if(!!Object(o.a)(r)){var n=r[0],a;Object(f.a)(e)?a=e(r[0]):a=r[0][e];var u;return Object(v.a)(r,function(l){Object(f.a)(e)?u=e(l):u=l[e],u<a&&(n=l,a=u)}),n}}},function(t,c,s){"use strict";var v=function(o,f){return(o%f+f)%f};c.a=v},function(t,c,s){"use strict";var v=180/Math.PI,o=function(f){return v*f};c.a=o},function(t,c,s){"use strict";c.a=parseInt},function(t,c,s){"use strict";var v=Math.PI/180,o=function(f){return v*f};c.a=o},function(t,c,s){"use strict";var v=s(2);c.a=v.a},function(t,c,s){"use strict";var v=s(25);c.a=v.a},function(t,c,s){"use strict";var v=s(12),o=s(26);c.a=function(f,r){return Object(v.a)(Object(o.a)(f),r)}},function(t,c,s){"use strict";var v=s(10),o=function(f){return Object(v.a)(f).toLowerCase()};c.a=o},function(t,c,s){"use strict";var v=s(10),o=function(f){var r=Object(v.a)(f);return r.charAt(0).toLowerCase()+r.substring(1)};c.a=o},function(t,c,s){"use strict";function v(o,f){return!o||!f?o:o.replace(/\\?\{([^{}]+)\}/g,function(r,e){return r.charAt(0)==="\\"?r.slice(1):f[e]===void 0?"":f[e]})}c.a=v},function(t,c,s){"use strict";var v=s(10),o=function(f){return Object(v.a)(f).toUpperCase()};c.a=o},function(t,c,s){"use strict";var v=s(10),o=function(f){var r=Object(v.a)(f);return r.charAt(0).toUpperCase()+r.substring(1)};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Arguments")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Boolean")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Date")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Error")};c.a=o},function(t,c,s){"use strict";var v=s(5);c.a=function(o){return Object(v.a)(o)&&isFinite(o)}},function(t,c,s){"use strict";var v=function(o){return o===null};c.a=v},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"RegExp")};c.a=o},function(t,c,s){"use strict";var v=function(o){return o===void 0};c.a=v},function(t,c,s){"use strict";var v=function(o){return o instanceof Element||o instanceof HTMLDocument};c.a=v},function(t,c,s){"use strict";c.a=v;function v(o){var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return setTimeout(r,16)};return f(o)}},function(t,c,s){"use strict";c.a=v;function v(o){var f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;f(o)}},function(t,c,s){"use strict";var v=s(16),o=s(3),f=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var n=r[0],a=1;a<r.length;a++){var u=r[a];Object(o.a)(u)&&(u=u.prototype),Object(v.a)(n.prototype,u)}};c.a=f},function(t,c,s){"use strict";var v=s(0),o=function(f){if(typeof f!="object"||f===null)return f;var r;if(Object(v.a)(f)){r=[];for(var e=0,n=f.length;e<n;e++)typeof f[e]=="object"&&f[e]!=null?r[e]=o(f[e]):r[e]=f[e]}else{r={};for(var a in f)typeof f[a]=="object"&&f[a]!=null?r[a]=o(f[a]):r[a]=f[a]}return r};c.a=o},function(t,c,s){"use strict";function v(o,f,r){var e;return function(){var n=this,a=arguments,u=function(){e=null,r||o.apply(n,a)},l=r&&!e;clearTimeout(e),e=setTimeout(u,f),l&&o.apply(n,a)}}c.a=v},function(t,c,s){"use strict";var v=s(3);c.a=function(o,f){if(!Object(v.a)(o))throw new TypeError("Expected a function");var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=f?f.apply(this,e):e[0],u=r.cache;if(u.has(a))return u.get(a);var l=o.apply(this,e);return u.set(a,l),l};return r.cache=new Map,r}},function(t,c,s){"use strict";var v=s(0),o=s(9),f=5;function r(n,a,u,l){u=u||0,l=l||f;for(var h in a)if(a.hasOwnProperty(h)){var p=a[h];p!==null&&Object(o.a)(p)?(Object(o.a)(n[h])||(n[h]={}),u<l?r(n[h],p,u+1,l):n[h]=a[h]):Object(v.a)(p)?(n[h]=[],n[h]=n[h].concat(p)):p!==void 0&&(n[h]=p)}}var e=function(n){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];for(var l=0;l<a.length;l+=1)r(n,a[l]);return n};c.a=e},function(t,c,s){"use strict";var v=s(16),o=s(3),f=function(r,e,n,a){Object(o.a)(e)||(n=e,e=r,r=function(){});var u=Object.create?function(h,p){return Object.create(h,{constructor:{value:p}})}:function(h,p){function d(){}d.prototype=h;var g=new d;return g.constructor=p,g},l=u(e.prototype,r);return r.prototype=Object(v.a)(l,r.prototype),r.superclass=u(e.prototype,e),Object(v.a)(l,n),Object(v.a)(r,a),r};c.a=f},function(t,c,s){"use strict";var v=s(1),o=function(f,r){if(!Object(v.a)(f))return-1;var e=Array.prototype.indexOf;if(e)return e.call(f,r);for(var n=-1,a=0;a<f.length;a++)if(f[a]===r){n=a;break}return n};c.a=o},function(t,c,s){"use strict";var v=s(6),o=s(1),f=s(27),r=s(28),e=Object.prototype.hasOwnProperty;function n(a){if(Object(v.a)(a))return!0;if(Object(o.a)(a))return!a.length;var u=Object(f.a)(a);if(u==="Map"||u==="Set")return!a.size;if(Object(r.a)(a))return!Object.keys(a).length;for(var l in a)if(e.call(a,l))return!1;return!0}c.a=n},function(t,c,s){"use strict";var v=s(3),o=s(29);c.a=function(f,r,e){return Object(v.a)(e)?!!e(f,r):Object(o.a)(f,r)}},function(t,c,s){"use strict";var v=s(2),o=s(1),f=function(r,e){if(!Object(o.a)(r))return r;var n=[];return Object(v.a)(r,function(a,u){n.push(e(a,u))}),n};c.a=f},function(t,c,s){"use strict";var v=s(6),o=s(13),f=function(r){return r};c.a=function(r,e){e===void 0&&(e=f);var n={};return Object(o.a)(r)&&!Object(v.a)(r)&&Object.keys(r).forEach(function(a){n[a]=e(r[a],a)}),n}},function(t,c,s){"use strict";var v=s(8);c.a=function(o,f,r){for(var e=0,n=Object(v.a)(f)?f.split("."):f;o&&e<n.length;)o=o[n[e++]];return o===void 0||e<n.length?r:o}},function(t,c,s){"use strict";var v=s(13),o=s(8),f=s(5);c.a=function(r,e,n){var a=r,u=Object(o.a)(e)?e.split("."):e;return u.forEach(function(l,h){h<u.length-1?(Object(v.a)(a[l])||(a[l]=Object(f.a)(u[h+1])?[]:{}),a=a[l]):a[l]=n}),r}},function(t,c,s){"use strict";var v=s(2),o=s(9),f=Object.prototype.hasOwnProperty;c.a=function(r,e){if(r===null||!Object(o.a)(r))return{};var n={};return Object(v.a)(e,function(a){f.call(r,a)&&(n[a]=r[a])}),n}},function(t,c,s){"use strict";c.a=function(v,o,f){var r,e,n,a,u=0;f||(f={});var l=function(){u=f.leading===!1?0:Date.now(),r=null,a=v.apply(e,n),r||(e=n=null)},h=function(){var p=Date.now();!u&&f.leading===!1&&(u=p);var d=o-(p-u);return e=this,n=arguments,d<=0||d>o?(r&&(clearTimeout(r),r=null),u=p,a=v.apply(e,n),r||(e=n=null)):!r&&f.trailing!==!1&&(r=setTimeout(l,d)),a};return h.cancel=function(){clearTimeout(r),u=0,r=e=n=null},h}},function(t,c,s){"use strict";var v=s(1);c.a=function(o){return Object(v.a)(o)?Array.prototype.slice.call(o):[]}},function(t,c,s){"use strict";var v={};c.a=function(o){return o=o||"g",v[o]?v[o]+=1:v[o]=1,o+v[o]}},function(t,c,s){"use strict";c.a=function(){}},function(t,c,s){"use strict";c.a=function(v){return v}},function(t,c,s){"use strict";c.a=f;var v=s(6),o=s(1);function f(r){return Object(v.a)(r)?0:Object(o.a)(r)?r.length:Object.keys(r).length}},function(t,c,s){"use strict";var v=function(){function o(){this.map={}}return o.prototype.has=function(f){return this.map[f]!==void 0},o.prototype.get=function(f,r){var e=this.map[f];return e===void 0?r:e},o.prototype.set=function(f,r){this.map[f]=r},o.prototype.clear=function(){this.map={}},o.prototype.delete=function(f){delete this.map[f]},o.prototype.size=function(){return Object.keys(this.map).length},o}();c.a=v},function(t,c){function s(n,a,u,l){l===void 0&&(l=[]);var h=this;h.w=n||0,h.h=a||0,h.y=u||0,h.x=0,h.c=l||[],h.cs=l.length,h.prelim=0,h.mod=0,h.shift=0,h.change=0,h.tl=null,h.tr=null,h.el=null,h.er=null,h.msel=0,h.mser=0}s.fromNode=function(n,a){if(!n)return null;var u=[];return n.children.forEach(function(l){u.push(s.fromNode(l,a))}),a?new s(n.height,n.width,n.x,u):new s(n.width,n.height,n.y,u)};function v(n,a,u){u?n.y+=a:n.x+=a,n.children.forEach(function(l){v(l,a,u)})}function o(n,a){var u=a?n.y:n.x;return n.children.forEach(function(l){u=Math.min(o(l,a),u)}),u}function f(n,a){var u=o(n,a);v(n,-u,a)}function r(n,a,u){u?a.y=n.x:a.x=n.x,n.c.forEach(function(l,h){r(l,a.children[h],u)})}function e(n,a,u){u===void 0&&(u=0),a?(n.x=u,u+=n.width):(n.y=u,u+=n.height),n.children.forEach(function(l){e(l,a,u)})}t.exports=function(n,a){a===void 0&&(a={});var u=a.isHorizontal;function l(D){if(D.cs===0){h(D);return}l(D.c[0]);for(var L=T(E(D.c[0].el),0,null),Z=1;Z<D.cs;++Z){l(D.c[Z]);var U=E(D.c[Z].er);p(D,Z,L),L=T(U,Z,L)}M(D),h(D)}function h(D){D.cs===0?(D.el=D,D.er=D,D.msel=D.mser=0):(D.el=D.c[0].el,D.msel=D.c[0].msel,D.er=D.c[D.cs-1].er,D.mser=D.c[D.cs-1].mser)}function p(D,L,Z){for(var U=D.c[L-1],Y=U.mod,W=D.c[L],J=W.mod;U!==null&&W!==null;){E(U)>Z.low&&(Z=Z.nxt);var ht=Y+U.prelim+U.w-(J+W.prelim);ht>0&&(J+=ht,d(D,L,Z.index,ht));var nt=E(U),Q=E(W);nt<=Q&&(U=y(U),U!==null&&(Y+=U.mod)),nt>=Q&&(W=g(W),W!==null&&(J+=W.mod))}!U&&!!W?C(D,L,W,J):!!U&&!W&&m(D,L,U,Y)}function d(D,L,Z,U){D.c[L].mod+=U,D.c[L].msel+=U,D.c[L].mser+=U,S(D,L,Z,U)}function g(D){return D.cs===0?D.tl:D.c[0]}function y(D){return D.cs===0?D.tr:D.c[D.cs-1]}function E(D){return D.y+D.h}function C(D,L,Z,U){var Y=D.c[0].el;Y.tl=Z;var W=U-Z.mod-D.c[0].msel;Y.mod+=W,Y.prelim-=W,D.c[0].el=D.c[L].el,D.c[0].msel=D.c[L].msel}function m(D,L,Z,U){var Y=D.c[L].er;Y.tr=Z;var W=U-Z.mod-D.c[L].mser;Y.mod+=W,Y.prelim-=W,D.c[L].er=D.c[L-1].er,D.c[L].mser=D.c[L-1].mser}function M(D){D.prelim=(D.c[0].prelim+D.c[0].mod+D.c[D.cs-1].mod+D.c[D.cs-1].prelim+D.c[D.cs-1].w)/2-D.w/2}function b(D,L){L+=D.mod,D.x=D.prelim+L,A(D);for(var Z=0;Z<D.cs;Z++)b(D.c[Z],L)}function S(D,L,Z,U){if(Z!==L-1){var Y=L-Z;D.c[Z+1].shift+=U/Y,D.c[L].shift-=U/Y,D.c[L].change-=U-U/Y}}function A(D){for(var L=0,Z=0,U=0;U<D.cs;U++)L+=D.c[U].shift,Z+=L+D.c[U].change,D.c[U].mod+=Z}function T(D,L,Z){for(;Z!==null&&D>=Z.low;)Z=Z.nxt;return{low:D,index:L,nxt:Z}}e(n,u);var O=s.fromNode(n,u);return l(O),b(O,0),r(O,n,u),f(n,u),n}},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(115),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return g.rootNode.width=0,r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){var v=s(7);function o(e,n){e===void 0&&(e=0),n===void 0&&(n=[]);var a=this;a.x=a.y=0,a.leftChild=a.rightChild=null,a.height=0,a.children=n}var f={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function r(e,n,a){a?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(u,l){r(u,n.children[l],a)})}t.exports=function(e,n){n===void 0&&(n={}),n=v.assign({},f,n);var a=0;function u(g){if(!g)return null;g.width=0,g.depth&&g.depth>a&&(a=g.depth);var y=g.children,E=y.length,C=new o(g.height,[]);return y.forEach(function(m,M){var b=u(m);C.children.push(b),M===0&&(C.leftChild=b),M===E-1&&(C.rightChild=b)}),C.originNode=g,C.isLeaf=g.isLeaf(),C}function l(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=a;else{var y=g.children.map(function(C){return l(C)}),E=Math.min.apply(null,y);g.drawingDepth=E-1}return g.drawingDepth}var h;function p(g){g.x=g.drawingDepth*n.rankSep,g.isLeaf?(g.y=0,h&&(g.y=h.y+h.height+n.nodeSep,g.originNode.parent!==h.originNode.parent&&(g.y+=n.subTreeSep)),h=g):(g.children.forEach(function(y){p(y)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var d=u(e);return l(d),p(d),r(d,e,n.isHorizontal),e}},function(t,c,s){function v(p,d){p.prototype=Object.create(d.prototype),p.prototype.constructor=p,p.__proto__=d}var o=s(11),f=s(117),r=s(30),e=s(7),n=["LR","RL","H"],a=n[0],u=function(p){v(d,p);function d(){return p.apply(this,arguments)||this}var g=d.prototype;return g.execute=function(){var E=this,C=E.options,m=E.rootNode;C.isHorizontal=!0;var M=C.indent,b=M===void 0?20:M,S=C.dropCap,A=S===void 0?!0:S,T=C.direction||a;if(T&&n.indexOf(T)===-1)throw new TypeError("Invalid direction: "+T);if(T===n[0])f(m,b,A);else if(T===n[1])f(m,b,A),m.right2left();else if(T===n[2]){var O=r(m,C),D=O.left,L=O.right;f(D,b,A),D.right2left(),f(L,b,A);var Z=D.getBoundingBox();L.translate(Z.width,0),m.x=L.x-m.width/2}return m},d}(o),l={};function h(p,d){return d=e.assign({},l,d),new u(p,d).execute()}t.exports=h},function(t,c){function s(v,o,f,r){if(!r)try{if(v.id===v.parent.children[0].id){v.x+=f*v.depth,v.y=o?o.y:0;return}}catch(e){}v.x+=f*v.depth,v.y=o?o.y+o.height:0}t.exports=function(v,o,f){var r=null;v.eachNode(function(e){s(e,r,o,f),r=e})}},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(119),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){var v=s(7);function o(e,n){var a=0;return e.children.length?e.children.forEach(function(u){a+=o(u,n)}):a=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,a)+2*e._subTreeSep,e.totalHeight}function f(e){var n=e.children,a=n.length;if(a){n.forEach(function(g){f(g)});var u=n[0],l=n[a-1],h=l.y-u.y+l.height,p=0;if(n.forEach(function(g){p+=g.totalHeight}),h>e.height)e.y=u.y+h/2-e.height/2;else if(n.length!==1||e.height>p){var d=e.y+(e.height-h)/2-u.y;n.forEach(function(g){g.translate(0,d)})}else e.y=(u.y+u.height/2+l.y+l.height/2)/2-e.height/2}}var r={getSubTreeSep:function(){return 0}};t.exports=function(e,n){n===void 0&&(n={}),n=v.assign({},r,n),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse(function(a){a.x=a.parent.x+a.parent.width}),e.parent=null,o(e,n),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode(function(a){var u=a.children,l=u.length;if(l){var h=u[0];if(h.startY=a.startY+a._subTreeSep,l===1)h.y=a.y+a.height/2-h.height/2;else{h.y=h.startY+h.totalHeight/2-h.height/2;for(var p=1;p<l;p++){var d=u[p];d.startY=u[p-1].startY+u[p-1].totalHeight,d.y=d.startY+d.totalHeight/2-d.height/2}}}}),f(e)}}])})},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/augment.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];for(var f=v[0],r=1;r<v.length;r++){var e=v[r];c.default(e)&&(e=e.prototype),t.default(f.prototype,e)}};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/cache.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(){function c(){this.map={}}return c.prototype.has=function(s){return this.map[s]!==void 0},c.prototype.get=function(s,v){var o=this.map[s];return o===void 0?v:o},c.prototype.set=function(s,v){this.map[s]=v},c.prototype.clear=function(){this.map={}},c.prototype.delete=function(s){delete this.map[s]},c.prototype.size=function(){return Object.keys(this.map).length},c}();x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clamp.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c,s,v){return c<s?s:c>v?v:c};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clear-animation-frame.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(c)}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clone.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){if(typeof s!="object"||s===null)return s;var v;if(t.default(s)){v=[];for(var o=0,f=s.length;o<f;o++)typeof s[o]=="object"&&s[o]!=null?v[o]=c(s[o]):v[o]=s[o]}else{v={};for(var r in s)typeof s[r]=="object"&&s[r]!=null?v[r]=c(s[r]):v[r]=s[r]}return v};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){return t.default(s)?s.indexOf(v)>-1:!1};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/debounce.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c,s,v){var o;return function(){var f=this,r=arguments,e=function(){o=null,v||c.apply(f,r)},n=v&&!o;clearTimeout(o),o=setTimeout(e,s),n&&c.apply(f,r)}}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/deep-mix.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),s=5;function v(f,r,e,n){e=e||0,n=n||s;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u!==null&&c.default(u)?(c.default(f[a])||(f[a]={}),e<n?v(f[a],u,e+1,n):f[a]=r[a]):t.default(u)?(f[a]=[],f[a]=f[a].concat(u)):u!==void 0&&(f[a]=u)}}var o=function(f){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0;n<r.length;n+=1)v(f,r[n]);return f};x.default=o},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/difference.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),s=function(v,o){return o===void 0&&(o=[]),t.default(v,function(f){return!c.default(o,f)})};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js");function s(v,o){if(!!v){var f;if(t.default(v))for(var r=0,e=v.length;r<e&&(f=o(v[r],r),f!==!1);r++);else if(c.default(v)){for(var n in v)if(v.hasOwnProperty(n)&&(f=o(v[n],n),f===!1))break}}}x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/ends-with.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");function s(v,o){return t.default(v)||c.default(v)?v[v.length-1]===o:!1}x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/every.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c,s){for(var v=0;v<c.length;v++)if(!s(c[v],v))return!1;return!0};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/extend.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=function(v,o,f,r){c.default(o)||(f=o,o=v,v=function(){});var e=Object.create?function(a,u){return Object.create(a,{constructor:{value:u}})}:function(a,u){function l(){}l.prototype=a;var h=new l;return h.constructor=u,h},n=e(o.prototype,v);return v.prototype=t.default(n,v.prototype),v.superclass=e(o.prototype,o),t.default(n,f),t.default(v,r),v};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return s;for(var o=[],f=0;f<s.length;f++){var r=s[f];v(r,f)&&o.push(r)}return o};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/find-index.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c,s,v){v===void 0&&(v=0);for(var o=v;o<c.length;o++)if(s(c[o],o))return o;return-1}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/find.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js");function o(f,r){if(!s.default(f))return null;var e;if(t.default(r)&&(e=r),v.default(r)&&(e=function(a){return c.default(a,r)}),e){for(var n=0;n<f.length;n+=1)if(e(f[n]))return f[n]}return null}x.default=o},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/first-value.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=function(v,o){for(var f=null,r=0;r<v.length;r++){var e=v[r],n=e[o];if(!t.default(n)){c.default(n)?f=n[0]:f=n;break}}return f};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/fixed-base.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c,s){var v=s.toString(),o=v.indexOf(".");if(o===-1)return Math.round(c);var f=v.substr(o+1).length;return f>20&&(f=20),parseFloat(c.toFixed(f))};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten-deep.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s,v){if(v===void 0&&(v=[]),!t.default(s))v.push(s);else for(var o=0;o<s.length;o+=1)c(s[o],v);return v};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){if(!t.default(s))return[];for(var v=[],o=0;o<s.length;o++)v=v.concat(s[o]);return v};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/for-in.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js");x.default=t.default},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-range.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){var v=s.filter(function(n){return!isNaN(n)});if(!v.length)return{min:0,max:0};if(t.default(s[0])){for(var o=[],f=0;f<s.length;f++)o=o.concat(s[f]);v=o}var r=Math.max.apply(null,v),e=Math.min.apply(null,v);return{min:e,max:r}};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t={}.toString,c=function(s){return t.call(s).replace(/^\[object /,"").replace(/]$/,"")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-wrap-behavior.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c,s){return c["_wrap_"+s]}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");x.default=function(c,s,v){for(var o=0,f=t.default(s)?s.split("."):s;c&&o<f.length;)c=c[f[o++]];return c===void 0||o<f.length?v:c}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.prototype.hasOwnProperty;function v(o,f){if(!f||!t.default(o))return{};for(var r={},e=c.default(f)?f:function(l){return l[f]},n,a=0;a<o.length;a++){var u=o[a];n=e(u),s.call(r,n)?r[n].push(u):r[n]=[u]}return r}x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js"),v=function(o,f){if(!f)return{0:o};if(!c.default(f)){var r=t.default(f)?f:f.replace(/\s+/g,"").split("*");f=function(n){for(var a="_",u=0,l=r.length;u<l;u++)a+=n[r[u]]&&n[r[u]].toString();return a}}var e=s.default(o,f);return e};x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js");x.default=function(c,s){if(!s)return[c];var v=t.default(c,s),o=[];for(var f in v)o.push(v[f]);return o}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-key.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js");x.default=t.default},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-value.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js");x.default=function(s,v){return t.default(c.default(s),v)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(t,c){return t.hasOwnProperty(c)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/head.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function c(s){if(t.default(s))return s[0]}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/identity.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(t){return t}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/index-of.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return-1;var o=Array.prototype.indexOf;if(o)return o.call(s,v);for(var f=-1,r=0;r<s.length;r++)if(s[r]===v){f=r;break}return f};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js");Object.defineProperty(x,"contains",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(x,"includes",{enumerable:!0,get:function(){return t.default}});var c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/difference.js");Object.defineProperty(x,"difference",{enumerable:!0,get:function(){return c.default}});var s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/find.js");Object.defineProperty(x,"find",{enumerable:!0,get:function(){return s.default}});var v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/find-index.js");Object.defineProperty(x,"findIndex",{enumerable:!0,get:function(){return v.default}});var o=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/first-value.js");Object.defineProperty(x,"firstValue",{enumerable:!0,get:function(){return o.default}});var f=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten.js");Object.defineProperty(x,"flatten",{enumerable:!0,get:function(){return f.default}});var r=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten-deep.js");Object.defineProperty(x,"flattenDeep",{enumerable:!0,get:function(){return r.default}});var e=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-range.js");Object.defineProperty(x,"getRange",{enumerable:!0,get:function(){return e.default}});var n=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull.js");Object.defineProperty(x,"pull",{enumerable:!0,get:function(){return n.default}});var a=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js");Object.defineProperty(x,"pullAt",{enumerable:!0,get:function(){return a.default}});var u=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/reduce.js");Object.defineProperty(x,"reduce",{enumerable:!0,get:function(){return u.default}});var l=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/remove.js");Object.defineProperty(x,"remove",{enumerable:!0,get:function(){return l.default}});var h=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/sort-by.js");Object.defineProperty(x,"sortBy",{enumerable:!0,get:function(){return h.default}});var p=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/union.js");Object.defineProperty(x,"union",{enumerable:!0,get:function(){return p.default}});var d=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js");Object.defineProperty(x,"uniq",{enumerable:!0,get:function(){return d.default}});var g=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values-of-key.js");Object.defineProperty(x,"valuesOfKey",{enumerable:!0,get:function(){return g.default}});var y=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/head.js");Object.defineProperty(x,"head",{enumerable:!0,get:function(){return y.default}});var E=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/last.js");Object.defineProperty(x,"last",{enumerable:!0,get:function(){return E.default}});var C=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/starts-with.js");Object.defineProperty(x,"startsWith",{enumerable:!0,get:function(){return C.default}});var m=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/ends-with.js");Object.defineProperty(x,"endsWith",{enumerable:!0,get:function(){return m.default}});var M=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js");Object.defineProperty(x,"filter",{enumerable:!0,get:function(){return M.default}});var b=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/every.js");Object.defineProperty(x,"every",{enumerable:!0,get:function(){return b.default}});var S=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/some.js");Object.defineProperty(x,"some",{enumerable:!0,get:function(){return S.default}});var A=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group.js");Object.defineProperty(x,"group",{enumerable:!0,get:function(){return A.default}});var T=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js");Object.defineProperty(x,"groupBy",{enumerable:!0,get:function(){return T.default}});var O=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js");Object.defineProperty(x,"groupToMap",{enumerable:!0,get:function(){return O.default}});var D=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-wrap-behavior.js");Object.defineProperty(x,"getWrapBehavior",{enumerable:!0,get:function(){return D.default}});var L=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/wrap-behavior.js");Object.defineProperty(x,"wrapBehavior",{enumerable:!0,get:function(){return L.default}});var Z=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/number2color.js");Object.defineProperty(x,"number2color",{enumerable:!0,get:function(){return Z.default}});var U=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/parse-radius.js");Object.defineProperty(x,"parseRadius",{enumerable:!0,get:function(){return U.default}});var Y=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clamp.js");Object.defineProperty(x,"clamp",{enumerable:!0,get:function(){return Y.default}});var W=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/fixed-base.js");Object.defineProperty(x,"fixedBase",{enumerable:!0,get:function(){return W.default}});var J=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-decimal.js");Object.defineProperty(x,"isDecimal",{enumerable:!0,get:function(){return J.default}});var ht=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-even.js");Object.defineProperty(x,"isEven",{enumerable:!0,get:function(){return ht.default}});var nt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-integer.js");Object.defineProperty(x,"isInteger",{enumerable:!0,get:function(){return nt.default}});var Q=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-negative.js");Object.defineProperty(x,"isNegative",{enumerable:!0,get:function(){return Q.default}});var xt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number-equal.js");Object.defineProperty(x,"isNumberEqual",{enumerable:!0,get:function(){return xt.default}});var _t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-odd.js");Object.defineProperty(x,"isOdd",{enumerable:!0,get:function(){return _t.default}});var Nt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-positive.js");Object.defineProperty(x,"isPositive",{enumerable:!0,get:function(){return Nt.default}});var rt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/max-by.js");Object.defineProperty(x,"maxBy",{enumerable:!0,get:function(){return rt.default}});var q=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/min-by.js");Object.defineProperty(x,"minBy",{enumerable:!0,get:function(){return q.default}});var G=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mod.js");Object.defineProperty(x,"mod",{enumerable:!0,get:function(){return G.default}});var N=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-degree.js");Object.defineProperty(x,"toDegree",{enumerable:!0,get:function(){return N.default}});var at=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-integer.js");Object.defineProperty(x,"toInteger",{enumerable:!0,get:function(){return at.default}});var H=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-radian.js");Object.defineProperty(x,"toRadian",{enumerable:!0,get:function(){return H.default}});var ft=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/for-in.js");Object.defineProperty(x,"forIn",{enumerable:!0,get:function(){return ft.default}});var ct=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js");Object.defineProperty(x,"has",{enumerable:!0,get:function(){return ct.default}});var K=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-key.js");Object.defineProperty(x,"hasKey",{enumerable:!0,get:function(){return K.default}});var $=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-value.js");Object.defineProperty(x,"hasValue",{enumerable:!0,get:function(){return $.default}});var et=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js");Object.defineProperty(x,"keys",{enumerable:!0,get:function(){return et.default}});var B=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js");Object.defineProperty(x,"isMatch",{enumerable:!0,get:function(){return B.default}});var w=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js");Object.defineProperty(x,"values",{enumerable:!0,get:function(){return w.default}});var R=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-case.js");Object.defineProperty(x,"lowerCase",{enumerable:!0,get:function(){return R.default}});var V=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-first.js");Object.defineProperty(x,"lowerFirst",{enumerable:!0,get:function(){return V.default}});var tt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/substitute.js");Object.defineProperty(x,"substitute",{enumerable:!0,get:function(){return tt.default}});var lt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-case.js");Object.defineProperty(x,"upperCase",{enumerable:!0,get:function(){return lt.default}});var Et=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-first.js");Object.defineProperty(x,"upperFirst",{enumerable:!0,get:function(){return Et.default}});var ot=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js");Object.defineProperty(x,"getType",{enumerable:!0,get:function(){return ot.default}});var Mt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-arguments.js");Object.defineProperty(x,"isArguments",{enumerable:!0,get:function(){return Mt.default}});var Ot=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js");Object.defineProperty(x,"isArray",{enumerable:!0,get:function(){return Ot.default}});var Ft=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");Object.defineProperty(x,"isArrayLike",{enumerable:!0,get:function(){return Ft.default}});var zt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-boolean.js");Object.defineProperty(x,"isBoolean",{enumerable:!0,get:function(){return zt.default}});var $t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-date.js");Object.defineProperty(x,"isDate",{enumerable:!0,get:function(){return $t.default}});var ce=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-error.js");Object.defineProperty(x,"isError",{enumerable:!0,get:function(){return ce.default}});var ye=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");Object.defineProperty(x,"isFunction",{enumerable:!0,get:function(){return ye.default}});var Je=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-finite.js");Object.defineProperty(x,"isFinite",{enumerable:!0,get:function(){return Je.default}});var nr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");Object.defineProperty(x,"isNil",{enumerable:!0,get:function(){return nr.default}});var Xe=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-null.js");Object.defineProperty(x,"isNull",{enumerable:!0,get:function(){return Xe.default}});var mr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");Object.defineProperty(x,"isNumber",{enumerable:!0,get:function(){return mr.default}});var Gr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js");Object.defineProperty(x,"isObject",{enumerable:!0,get:function(){return Gr.default}});var xe=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js");Object.defineProperty(x,"isObjectLike",{enumerable:!0,get:function(){return xe.default}});var de=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js");Object.defineProperty(x,"isPlainObject",{enumerable:!0,get:function(){return de.default}});var ze=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js");Object.defineProperty(x,"isPrototype",{enumerable:!0,get:function(){return ze.default}});var Ue=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-reg-exp.js");Object.defineProperty(x,"isRegExp",{enumerable:!0,get:function(){return Ue.default}});var Kr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");Object.defineProperty(x,"isString",{enumerable:!0,get:function(){return Kr.default}});var rn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");Object.defineProperty(x,"isType",{enumerable:!0,get:function(){return rn.default}});var ci=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-undefined.js");Object.defineProperty(x,"isUndefined",{enumerable:!0,get:function(){return ci.default}});var Zi=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-element.js");Object.defineProperty(x,"isElement",{enumerable:!0,get:function(){return Zi.default}});var Ki=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/request-animation-frame.js");Object.defineProperty(x,"requestAnimationFrame",{enumerable:!0,get:function(){return Ki.default}});var ji=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clear-animation-frame.js");Object.defineProperty(x,"clearAnimationFrame",{enumerable:!0,get:function(){return ji.default}});var Ae=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/augment.js");Object.defineProperty(x,"augment",{enumerable:!0,get:function(){return Ae.default}});var De=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clone.js");Object.defineProperty(x,"clone",{enumerable:!0,get:function(){return De.default}});var ar=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/debounce.js");Object.defineProperty(x,"debounce",{enumerable:!0,get:function(){return ar.default}});var Pr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/memoize.js");Object.defineProperty(x,"memoize",{enumerable:!0,get:function(){return Pr.default}});var or=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/deep-mix.js");Object.defineProperty(x,"deepMix",{enumerable:!0,get:function(){return or.default}});var wr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js");Object.defineProperty(x,"each",{enumerable:!0,get:function(){return wr.default}});var cn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/extend.js");Object.defineProperty(x,"extend",{enumerable:!0,get:function(){return cn.default}});var Fn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index-of.js");Object.defineProperty(x,"indexOf",{enumerable:!0,get:function(){return Fn.default}});var nn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-empty.js");Object.defineProperty(x,"isEmpty",{enumerable:!0,get:function(){return nn.default}});var Hr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js");Object.defineProperty(x,"isEqual",{enumerable:!0,get:function(){return Hr.default}});var Gn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal-with.js");Object.defineProperty(x,"isEqualWith",{enumerable:!0,get:function(){return Gn.default}});var $n=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/map.js");Object.defineProperty(x,"map",{enumerable:!0,get:function(){return $n.default}});var Vr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/map-values.js");Object.defineProperty(x,"mapValues",{enumerable:!0,get:function(){return Vr.default}});var Ir=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js");Object.defineProperty(x,"mix",{enumerable:!0,get:function(){return Ir.default}}),Object.defineProperty(x,"assign",{enumerable:!0,get:function(){return Ir.default}});var ti=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get.js");Object.defineProperty(x,"get",{enumerable:!0,get:function(){return ti.default}});var ge=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/set.js");Object.defineProperty(x,"set",{enumerable:!0,get:function(){return ge.default}});var Le=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pick.js");Object.defineProperty(x,"pick",{enumerable:!0,get:function(){return Le.default}});var Se=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/throttle.js");Object.defineProperty(x,"throttle",{enumerable:!0,get:function(){return Se.default}});var Ve=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-array.js");Object.defineProperty(x,"toArray",{enumerable:!0,get:function(){return Ve.default}});var le=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js");Object.defineProperty(x,"toString",{enumerable:!0,get:function(){return le.default}});var vr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/unique-id.js");Object.defineProperty(x,"uniqueId",{enumerable:!0,get:function(){return vr.default}});var He=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/noop.js");Object.defineProperty(x,"noop",{enumerable:!0,get:function(){return He.default}});var rr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/identity.js");Object.defineProperty(x,"identity",{enumerable:!0,get:function(){return rr.default}});var Dr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/size.js");Object.defineProperty(x,"size",{enumerable:!0,get:function(){return Dr.default}});var Mr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/cache.js");Object.defineProperty(x,"Cache",{enumerable:!0,get:function(){return Mr.default}})},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-arguments.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Arguments")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return c!==null&&typeof c!="function"&&isFinite(c.length)};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");x.default=function(c){return Array.isArray?Array.isArray(c):t.default(c,"Array")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-boolean.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Boolean")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-date.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Date")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-decimal.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%1!=0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-element.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return c instanceof Element||c instanceof HTMLDocument};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-empty.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js"),v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js"),o=Object.prototype.hasOwnProperty;function f(r){if(t.default(r))return!0;if(c.default(r))return!r.length;var e=s.default(r);if(e==="Map"||e==="Set")return!r.size;if(v.default(r))return!Object.keys(r).length;for(var n in r)if(o.call(r,n))return!1;return!0}x.default=f},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal-with.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js");x.default=function(s,v,o){return t.default(o)?!!o(s,v):c.default(s,v)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),v=function(o,f){if(o===f)return!0;if(!o||!f||s.default(o)||s.default(f))return!1;if(c.default(o)||c.default(f)){if(o.length!==f.length)return!1;for(var r=!0,e=0;e<o.length&&(r=v(o[e],f[e]),!!r);e++);return r}if(t.default(o)||t.default(f)){var n=Object.keys(o),a=Object.keys(f);if(n.length!==a.length)return!1;for(var r=!0,e=0;e<n.length&&(r=v(o[n[e]],f[n[e]]),!!r);e++);return r}return!1};x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-error.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Error")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-even.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%2==0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-finite.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");function c(s){return t.default(s)&&isFinite(s)}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");x.default=function(c){return t.default(c,"Function")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-integer.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=Number.isInteger?Number.isInteger:function(s){return t.default(s)&&s%1==0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js");function s(v,o){var f=c.default(o),r=f.length;if(t.default(v))return!r;for(var e=0;e<r;e+=1){var n=f[e];if(o[n]!==v[n]||!(n in v))return!1}return!0}x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-negative.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s<0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return c==null};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-null.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return c===null};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number-equal.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=1e-5;function c(s,v,o){return o===void 0&&(o=t),Math.abs(s-v)<o}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Number")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return typeof c=="object"&&c!==null};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(t){var c=typeof t;return t!==null&&c==="object"||c==="function"}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-odd.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%2!=0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),s=function(v){if(!t.default(v)||!c.default(v,"Object"))return!1;if(Object.getPrototypeOf(v)===null)return!0;for(var o=v;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(v)===o};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-positive.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s>0};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=Object.prototype,c=function(s){var v=s&&s.constructor,o=typeof v=="function"&&v.prototype||t;return s===o};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-reg-exp.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"RegExp")};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");x.default=function(c){return t.default(c,"String")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t={}.toString,c=function(s,v){return t.call(s)==="[object "+v+"]"};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-undefined.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c){return c===void 0};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.keys?function(v){return Object.keys(v)}:function(v){var o=[];return t.default(v,function(f,r){c.default(v)&&r==="prototype"||o.push(r)}),o};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/last.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function c(s){if(t.default(s)){var v=s;return v[v.length-1]}}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-case.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){return t.default(s).toLowerCase()};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-first.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){var v=t.default(s);return v.charAt(0).toLowerCase()+v.substring(1)};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/map-values.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js"),s=function(v){return v};x.default=function(v,o){o===void 0&&(o=s);var f={};return c.default(v)&&!t.default(v)&&Object.keys(v).forEach(function(r){f[r]=o(v[r],r)}),f}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/map.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return s;for(var o=[],f=0;f<s.length;f++){var r=s[f];o.push(v(r,f))}return o};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/max-by.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");x.default=function(v,o){if(!!c.default(v)){var f=v[0],r;s.default(o)?r=o(v[0]):r=v[0][o];var e;return t.default(v,function(n){s.default(o)?e=o(n):e=n[o],e>r&&(f=n,r=e)}),f}}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/memoize.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");x.default=function(c,s){if(!t.default(c))throw new TypeError("Expected a function");var v=function(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];var r=s?s.apply(this,o):o[0],e=v.cache;if(e.has(r))return e.get(r);var n=c.apply(this,o);return e.set(r,n),n};return v.cache=new Map,v}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/min-by.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");x.default=function(v,o){if(!!c.default(v)){var f=v[0],r;s.default(o)?r=o(v[0]):r=v[0][o];var e;return t.default(v,function(n){s.default(o)?e=o(n):e=n[o],e<r&&(f=n,r=e)}),f}}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(s,v){for(var o in v)v.hasOwnProperty(o)&&o!=="constructor"&&v[o]!==void 0&&(s[o]=v[o])}function c(s,v,o,f){return v&&t(s,v),o&&t(s,o),f&&t(s,f),s}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/mod.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c,s){return(c%s+s)%s};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/noop.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/number2color.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t={};function c(s){var v=t[s];if(!v){for(var o=s.toString(16),f=o.length;f<6;f++)o="0"+o;v="#"+o,t[s]=v}return v}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/parse-radius.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js");function c(s){var v=0,o=0,f=0,r=0;return t.default(s)?s.length===1?v=o=f=r=s[0]:s.length===2?(v=f=s[0],o=r=s[1]):s.length===3?(v=s[0],o=r=s[1],f=s[2]):(v=s[0],o=s[1],f=s[2],r=s[3]):v=o=f=r=s,{r1:v,r2:o,r3:f,r4:r}}x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pick.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),s=Object.prototype.hasOwnProperty;x.default=function(v,o){if(v===null||!c.default(v))return{};var f={};return t.default(o,function(r){s.call(v,r)&&(f[r]=v[r])}),f}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=Array.prototype.splice,s=function(o,f){if(!t.default(o))return[];for(var r=o?f.length:0,e=r-1;r--;){var n=void 0,a=f[r];(r===e||a!==n)&&(n=a,c.call(o,a,1))}return o};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=Array.prototype,c=t.splice,s=t.indexOf,v=function(o){for(var f=[],r=1;r<arguments.length;r++)f[r-1]=arguments[r];for(var e=0;e<f.length;e++)for(var n=f[e],a=-1;(a=s.call(o,n))>-1;)c.call(o,a,1);return o};x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/reduce.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),v=function(o,f,r){if(!c.default(o)&&!s.default(o))return o;var e=r;return t.default(o,function(n,a){e=f(e,n,a)}),e};x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/remove.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js"),s=function(v,o){var f=[];if(!t.default(v))return f;for(var r=-1,e=[],n=v.length;++r<n;){var a=v[r];o(a,r,v)&&(f.push(a),e.push(r))}return c.default(v,e),f};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/request-animation-frame.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){return setTimeout(v,16)};return s(c)}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/set.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");x.default=function(v,o,f){var r=v,e=c.default(o)?o.split("."):o;return e.forEach(function(n,a){a<e.length-1?(t.default(r[n])||(r[n]=s.default(e[a+1])?[]:{}),r=r[n]):r[n]=f}),v}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/size.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function s(v){return t.default(v)?0:c.default(v)?v.length:Object.keys(v).length}x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/some.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=function(c,s){for(var v=0;v<c.length;v++)if(s(c[v],v))return!0;return!1};x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/sort-by.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");function v(o,f){var r;if(s.default(f))r=function(n,a){return f(n)-f(a)};else{var e=[];c.default(f)?e.push(f):t.default(f)&&(e=f),r=function(n,a){for(var u=0;u<e.length;u+=1){var l=e[u];if(n[l]>a[l])return 1;if(n[l]<a[l])return-1}return 0}}return o.sort(r),o}x.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/starts-with.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");function s(v,o){return t.default(v)||c.default(v)?v[0]===o:!1}x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/substitute.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c,s){return!c||!s?c:c.replace(/\\?\{([^{}]+)\}/g,function(v,o){return v.charAt(0)==="\\"?v.slice(1):s[o]===void 0?"":s[o]})}x.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/throttle.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(t,c,s){var v,o,f,r,e=0;s||(s={});var n=function(){e=s.leading===!1?0:Date.now(),v=null,r=t.apply(o,f),v||(o=f=null)},a=function(){var u=Date.now();!e&&s.leading===!1&&(e=u);var l=c-(u-e);return o=this,f=arguments,l<=0||l>c?(v&&(clearTimeout(v),v=null),e=u,r=t.apply(o,f),v||(o=f=null)):!v&&s.trailing!==!1&&(v=setTimeout(n,l)),r};return a.cancel=function(){clearTimeout(v),e=0,v=o=f=null},a}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-array.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");x.default=function(c){return t.default(c)?Array.prototype.slice.call(c):[]}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-degree.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=180/Math.PI,c=function(s){return t*s};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-integer.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=parseInt},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-radian.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=Math.PI/180,c=function(s){return t*s};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");x.default=function(c){return t.default(c)?"":c.toString()}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/union.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js"),c=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return t.default([].concat.apply([],s))};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),s=function(v){var o=[];return c.default(v,function(f){t.default(o,f)||o.push(f)}),o};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/unique-id.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t={};x.default=function(c){return c=c||"g",t[c]?t[c]+=1:t[c]=1,c+t[c]}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-case.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){return t.default(s).toUpperCase()};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-first.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){var v=t.default(s);return v.charAt(0).toUpperCase()+v.substring(1)};x.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/values-of-key.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");x.default=function(s,v){for(var o=[],f={},r=0;r<s.length;r++){var e=s[r],n=e[v];if(!c.default(n)){t.default(n)||(n=[n]);for(var a=0;a<n.length;a++){var u=n[a];f[u]||(o.push(u),f[u]=!0)}}}return o}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.values?function(v){return Object.values(v)}:function(v){var o=[];return t.default(v,function(f,r){c.default(v)&&r==="prototype"||o.push(f)}),o};x.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/wrap-behavior.js":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(c,s){if(c["_wrap_"+s])return c["_wrap_"+s];var v=function(o){c[s](o)};return c["_wrap_"+s]=v,v}x.default=t},"./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js":function(P,x){P.exports=i;function i(t){var c=0,s=0,v=0,o=0;return t.map(function(f){f=f.slice();var r=f[0],e=r.toUpperCase();if(r!=e)switch(f[0]=e,r){case"a":f[6]+=v,f[7]+=o;break;case"v":f[1]+=o;break;case"h":f[1]+=v;break;default:for(var n=1;n<f.length;)f[n++]+=v,f[n++]+=o}switch(e){case"Z":v=c,o=s;break;case"H":v=f[1];break;case"V":o=f[1];break;case"M":v=c=f[1],o=s=f[2];break;default:v=f[f.length-2],o=f[f.length-1]}return f})}},"./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";function c(H,ft){return H<ft?-1:H>ft?1:H>=ft?0:NaN}function s(H){return H.length===1&&(H=v(H)),{left:function(ft,ct,K,$){for(K==null&&(K=0),$==null&&($=ft.length);K<$;){var et=K+$>>>1;H(ft[et],ct)<0?K=et+1:$=et}return K},right:function(ft,ct,K,$){for(K==null&&(K=0),$==null&&($=ft.length);K<$;){var et=K+$>>>1;H(ft[et],ct)>0?$=et:K=et+1}return K}}}function v(H){return function(ft,ct){return c(H(ft),ct)}}var o=s(c),f=o.right,r=o.left;function e(H,ft){ft==null&&(ft=n);for(var ct=0,K=H.length-1,$=H[0],et=new Array(K<0?0:K);ct<K;)et[ct]=ft($,$=H[++ct]);return et}function n(H,ft){return[H,ft]}function a(H,ft,ct){var K=H.length,$=ft.length,et=new Array(K*$),B,w,R,V;for(ct==null&&(ct=n),B=R=0;B<K;++B)for(V=H[B],w=0;w<$;++w,++R)et[R]=ct(V,ft[w]);return et}function u(H,ft){return ft<H?-1:ft>H?1:ft>=H?0:NaN}function l(H){return H===null?NaN:+H}function h(H,ft){var ct=H.length,K=0,$=-1,et=0,B,w,R=0;if(ft==null)for(;++$<ct;)isNaN(B=l(H[$]))||(w=B-et,et+=w/++K,R+=w*(B-et));else for(;++$<ct;)isNaN(B=l(ft(H[$],$,H)))||(w=B-et,et+=w/++K,R+=w*(B-et));if(K>1)return R/(K-1)}function p(H,ft){var ct=h(H,ft);return ct&&Math.sqrt(ct)}function d(H,ft){var ct=H.length,K=-1,$,et,B;if(ft==null){for(;++K<ct;)if(($=H[K])!=null&&$>=$)for(et=B=$;++K<ct;)($=H[K])!=null&&(et>$&&(et=$),B<$&&(B=$))}else for(;++K<ct;)if(($=ft(H[K],K,H))!=null&&$>=$)for(et=B=$;++K<ct;)($=ft(H[K],K,H))!=null&&(et>$&&(et=$),B<$&&(B=$));return[et,B]}var g=Array.prototype,y=g.slice,E=g.map;function C(H){return function(){return H}}function m(H){return H}function M(H,ft,ct){H=+H,ft=+ft,ct=($=arguments.length)<2?(ft=H,H=0,1):$<3?1:+ct;for(var K=-1,$=Math.max(0,Math.ceil((ft-H)/ct))|0,et=new Array($);++K<$;)et[K]=H+K*ct;return et}var b=Math.sqrt(50),S=Math.sqrt(10),A=Math.sqrt(2);function T(H,ft,ct){var K,$=-1,et,B,w;if(ft=+ft,H=+H,ct=+ct,H===ft&&ct>0)return[H];if((K=ft<H)&&(et=H,H=ft,ft=et),(w=O(H,ft,ct))===0||!isFinite(w))return[];if(w>0)for(H=Math.ceil(H/w),ft=Math.floor(ft/w),B=new Array(et=Math.ceil(ft-H+1));++$<et;)B[$]=(H+$)*w;else for(H=Math.floor(H*w),ft=Math.ceil(ft*w),B=new Array(et=Math.ceil(H-ft+1));++$<et;)B[$]=(H-$)/w;return K&&B.reverse(),B}function O(H,ft,ct){var K=(ft-H)/Math.max(0,ct),$=Math.floor(Math.log(K)/Math.LN10),et=K/Math.pow(10,$);return $>=0?(et>=b?10:et>=S?5:et>=A?2:1)*Math.pow(10,$):-Math.pow(10,-$)/(et>=b?10:et>=S?5:et>=A?2:1)}function D(H,ft,ct){var K=Math.abs(ft-H)/Math.max(0,ct),$=Math.pow(10,Math.floor(Math.log(K)/Math.LN10)),et=K/$;return et>=b?$*=10:et>=S?$*=5:et>=A&&($*=2),ft<H?-$:$}function L(H){return Math.ceil(Math.log(H.length)/Math.LN2)+1}function Z(){var H=m,ft=d,ct=L;function K($){var et,B=$.length,w,R=new Array(B);for(et=0;et<B;++et)R[et]=H($[et],et,$);var V=ft(R),tt=V[0],lt=V[1],Et=ct(R,tt,lt);Array.isArray(Et)||(Et=D(tt,lt,Et),Et=M(Math.ceil(tt/Et)*Et,lt,Et));for(var ot=Et.length;Et[0]<=tt;)Et.shift(),--ot;for(;Et[ot-1]>lt;)Et.pop(),--ot;var Mt=new Array(ot+1),Ot;for(et=0;et<=ot;++et)Ot=Mt[et]=[],Ot.x0=et>0?Et[et-1]:tt,Ot.x1=et<ot?Et[et]:lt;for(et=0;et<B;++et)w=R[et],tt<=w&&w<=lt&&Mt[f(Et,w,0,ot)].push($[et]);return Mt}return K.value=function($){return arguments.length?(H=typeof $=="function"?$:C($),K):H},K.domain=function($){return arguments.length?(ft=typeof $=="function"?$:C([$[0],$[1]]),K):ft},K.thresholds=function($){return arguments.length?(ct=typeof $=="function"?$:Array.isArray($)?C(y.call($)):C($),K):ct},K}function U(H,ft,ct){if(ct==null&&(ct=l),!!(K=H.length)){if((ft=+ft)<=0||K<2)return+ct(H[0],0,H);if(ft>=1)return+ct(H[K-1],K-1,H);var K,$=(K-1)*ft,et=Math.floor($),B=+ct(H[et],et,H),w=+ct(H[et+1],et+1,H);return B+(w-B)*($-et)}}function Y(H,ft,ct){return H=E.call(H,l).sort(c),Math.ceil((ct-ft)/(2*(U(H,.75)-U(H,.25))*Math.pow(H.length,-1/3)))}function W(H,ft,ct){return Math.ceil((ct-ft)/(3.5*p(H)*Math.pow(H.length,-1/3)))}function J(H,ft){var ct=H.length,K=-1,$,et;if(ft==null){for(;++K<ct;)if(($=H[K])!=null&&$>=$)for(et=$;++K<ct;)($=H[K])!=null&&$>et&&(et=$)}else for(;++K<ct;)if(($=ft(H[K],K,H))!=null&&$>=$)for(et=$;++K<ct;)($=ft(H[K],K,H))!=null&&$>et&&(et=$);return et}function ht(H,ft){var ct=H.length,K=ct,$=-1,et,B=0;if(ft==null)for(;++$<ct;)isNaN(et=l(H[$]))?--K:B+=et;else for(;++$<ct;)isNaN(et=l(ft(H[$],$,H)))?--K:B+=et;if(K)return B/K}function nt(H,ft){var ct=H.length,K=-1,$,et=[];if(ft==null)for(;++K<ct;)isNaN($=l(H[K]))||et.push($);else for(;++K<ct;)isNaN($=l(ft(H[K],K,H)))||et.push($);return U(et.sort(c),.5)}function Q(H){for(var ft=H.length,ct,K=-1,$=0,et,B;++K<ft;)$+=H[K].length;for(et=new Array($);--ft>=0;)for(B=H[ft],ct=B.length;--ct>=0;)et[--$]=B[ct];return et}function xt(H,ft){var ct=H.length,K=-1,$,et;if(ft==null){for(;++K<ct;)if(($=H[K])!=null&&$>=$)for(et=$;++K<ct;)($=H[K])!=null&&et>$&&(et=$)}else for(;++K<ct;)if(($=ft(H[K],K,H))!=null&&$>=$)for(et=$;++K<ct;)($=ft(H[K],K,H))!=null&&et>$&&(et=$);return et}function _t(H,ft){for(var ct=ft.length,K=new Array(ct);ct--;)K[ct]=H[ft[ct]];return K}function Nt(H,ft){if(!!(ct=H.length)){var ct,K=0,$=0,et,B=H[$];for(ft==null&&(ft=c);++K<ct;)(ft(et=H[K],B)<0||ft(B,B)!==0)&&(B=et,$=K);if(ft(B,B)===0)return $}}function rt(H,ft,ct){for(var K=(ct==null?H.length:ct)-(ft=ft==null?0:+ft),$,et;K;)et=Math.random()*K--|0,$=H[K+ft],H[K+ft]=H[et+ft],H[et+ft]=$;return H}function q(H,ft){var ct=H.length,K=-1,$,et=0;if(ft==null)for(;++K<ct;)($=+H[K])&&(et+=$);else for(;++K<ct;)($=+ft(H[K],K,H))&&(et+=$);return et}function G(H){if(!(et=H.length))return[];for(var ft=-1,ct=xt(H,N),K=new Array(ct);++ft<ct;)for(var $=-1,et,B=K[ft]=new Array(et);++$<et;)B[$]=H[$][ft];return K}function N(H){return H.length}function at(){return G(arguments)}t.bisect=f,t.bisectRight=f,t.bisectLeft=r,t.ascending=c,t.bisector=s,t.cross=a,t.descending=u,t.deviation=p,t.extent=d,t.histogram=Z,t.thresholdFreedmanDiaconis=Y,t.thresholdScott=W,t.thresholdSturges=L,t.max=J,t.mean=ht,t.median=nt,t.merge=Q,t.min=xt,t.pairs=e,t.permute=_t,t.quantile=U,t.range=M,t.scan=Nt,t.shuffle=rt,t.sum=q,t.ticks=T,t.tickIncrement=O,t.tickStep=D,t.transpose=G,t.variance=h,t.zip=at,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-array@2.11.0@d3-array/dist/d3-array.js":function(P,x,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(x)})(this,function(c){"use strict";function s(ge,Le){return ge<Le?-1:ge>Le?1:ge>=Le?0:NaN}function v(ge){var Le=ge,Se=ge;ge.length===1&&(Le=function(He,rr){return ge(He)-rr},Se=o(ge));function Ve(He,rr,Dr,Mr){for(Dr==null&&(Dr=0),Mr==null&&(Mr=He.length);Dr<Mr;){var an=Dr+Mr>>>1;Se(He[an],rr)<0?Dr=an+1:Mr=an}return Dr}function le(He,rr,Dr,Mr){for(Dr==null&&(Dr=0),Mr==null&&(Mr=He.length);Dr<Mr;){var an=Dr+Mr>>>1;Se(He[an],rr)>0?Mr=an:Dr=an+1}return Dr}function vr(He,rr,Dr,Mr){Dr==null&&(Dr=0),Mr==null&&(Mr=He.length);var an=Ve(He,rr,Dr,Mr-1);return an>Dr&&Le(He[an-1],rr)>-Le(He[an],rr)?an-1:an}return{left:Ve,center:vr,right:le}}function o(ge){return function(Le,Se){return s(ge(Le),Se)}}function f(ge){return ge===null?NaN:+ge}function r(ge,Le){var Se,Ve,le,vr,He,rr,Dr,le,Mr,an,gn,qr,Dn;return t.__generator(this,function(ae){switch(ae.label){case 0:if(Le!==void 0)return[3,9];ae.label=1;case 1:ae.trys.push([1,6,7,8]),Se=t.__values(ge),Ve=Se.next(),ae.label=2;case 2:return Ve.done?[3,5]:(le=Ve.value,le!=null&&(le=+le)>=le?[4,le]:[3,4]);case 3:ae.sent(),ae.label=4;case 4:return Ve=Se.next(),[3,2];case 5:return[3,8];case 6:return vr=ae.sent(),an={error:vr},[3,8];case 7:try{Ve&&!Ve.done&&(gn=Se.return)&&gn.call(Se)}finally{if(an)throw an.error}return[7];case 8:return[3,17];case 9:He=-1,ae.label=10;case 10:ae.trys.push([10,15,16,17]),rr=t.__values(ge),Dr=rr.next(),ae.label=11;case 11:return Dr.done?[3,14]:(le=Dr.value,(le=Le(le,++He,ge))!=null&&(le=+le)>=le?[4,le]:[3,13]);case 12:ae.sent(),ae.label=13;case 13:return Dr=rr.next(),[3,11];case 14:return[3,17];case 15:return Mr=ae.sent(),qr={error:Mr},[3,17];case 16:try{Dr&&!Dr.done&&(Dn=rr.return)&&Dn.call(rr)}finally{if(qr)throw qr.error}return[7];case 17:return[2]}})}var e=v(s),n=e.right,a=e.left,u=v(f).center;function l(ge,Le){var Se,Ve,le,vr,He=0;if(Le===void 0)try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;Mr!=null&&(Mr=+Mr)>=Mr&&++He}}catch(Dn){Se={error:Dn}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var an=-1;try{for(var gn=t.__values(ge),qr=gn.next();!qr.done;qr=gn.next()){var Mr=qr.value;(Mr=Le(Mr,++an,ge))!=null&&(Mr=+Mr)>=Mr&&++He}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=gn.return)&&vr.call(gn)}finally{if(le)throw le.error}}}return He}function h(ge){return ge.length|0}function p(ge){return!(ge>0)}function d(ge){return typeof ge!="object"||"length"in ge?ge:Array.from(ge)}function g(ge){return function(Le){return ge.apply(void 0,t.__spread(Le))}}function y(){for(var ge=[],Le=0;Le<arguments.length;Le++)ge[Le]=arguments[Le];var Se=typeof ge[ge.length-1]=="function"&&g(ge.pop());ge=ge.map(d);var Ve=ge.map(h),le=ge.length-1,vr=new Array(le+1).fill(0),He=[];if(le<0||Ve.some(p))return He;for(;;){He.push(vr.map(function(Dr,Mr){return ge[Mr][Dr]}));for(var rr=le;++vr[rr]===Ve[rr];){if(rr===0)return Se?He.map(Se):He;vr[rr--]=0}}}function E(ge,Le){var Se=0,Ve=0;return Float64Array.from(ge,Le===void 0?function(le){return Se+=+le||0}:function(le){return Se+=+Le(le,Ve++,ge)||0})}function C(ge,Le){return Le<ge?-1:Le>ge?1:Le>=ge?0:NaN}function m(ge,Le){var Se,Ve,le,vr,He=0,rr,Dr=0,Mr=0;if(Le===void 0)try{for(var an=t.__values(ge),gn=an.next();!gn.done;gn=an.next()){var qr=gn.value;qr!=null&&(qr=+qr)>=qr&&(rr=qr-Dr,Dr+=rr/++He,Mr+=rr*(qr-Dr))}}catch(sr){Se={error:sr}}finally{try{gn&&!gn.done&&(Ve=an.return)&&Ve.call(an)}finally{if(Se)throw Se.error}}else{var Dn=-1;try{for(var ae=t.__values(ge),er=ae.next();!er.done;er=ae.next()){var qr=er.value;(qr=Le(qr,++Dn,ge))!=null&&(qr=+qr)>=qr&&(rr=qr-Dr,Dr+=rr/++He,Mr+=rr*(qr-Dr))}}catch(sr){le={error:sr}}finally{try{er&&!er.done&&(vr=ae.return)&&vr.call(ae)}finally{if(le)throw le.error}}}if(He>1)return Mr/(He-1)}function M(ge,Le){var Se=m(ge,Le);return Se&&Math.sqrt(Se)}function b(ge,Le){var Se,Ve,le,vr,He,rr;if(Le===void 0)try{for(var Dr=t.__values(ge),Mr=Dr.next();!Mr.done;Mr=Dr.next()){var an=Mr.value;an!=null&&(He===void 0?an>=an&&(He=rr=an):(He>an&&(He=an),rr<an&&(rr=an)))}}catch(ae){Se={error:ae}}finally{try{Mr&&!Mr.done&&(Ve=Dr.return)&&Ve.call(Dr)}finally{if(Se)throw Se.error}}else{var gn=-1;try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var an=Dn.value;(an=Le(an,++gn,ge))!=null&&(He===void 0?an>=an&&(He=rr=an):(He>an&&(He=an),rr<an&&(rr=an)))}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}}return[He,rr]}var S=function(){function ge(){this._partials=new Float64Array(32),this._n=0}return ge.prototype.add=function(Le){for(var Se=this._partials,Ve=0,le=0;le<this._n&&le<32;le++){var vr=Se[le],He=Le+vr,rr=Math.abs(Le)<Math.abs(vr)?Le-(He-vr):vr-(He-Le);rr&&(Se[Ve++]=rr),Le=He}return Se[Ve]=Le,this._n=Ve+1,this},ge.prototype.valueOf=function(){var Le=this._partials,Se=this._n,Ve,le,vr,He=0;if(Se>0){for(He=Le[--Se];Se>0&&(Ve=He,le=Le[--Se],He=Ve+le,vr=le-(He-Ve),!vr););Se>0&&(vr<0&&Le[Se-1]<0||vr>0&&Le[Se-1]>0)&&(le=vr*2,Ve=He+le,le==Ve-He&&(He=Ve))}return He},ge}();function A(ge,Le){var Se,Ve,le,vr,He=new S;if(Le===void 0)try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;(Mr=+Mr)&&He.add(Mr)}}catch(Dn){Se={error:Dn}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var an=-1;try{for(var gn=t.__values(ge),qr=gn.next();!qr.done;qr=gn.next()){var Mr=qr.value;(Mr=+Le(Mr,++an,ge))&&He.add(Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=gn.return)&&vr.call(gn)}finally{if(le)throw le.error}}}return+He}var T=function(ge){t.__extends(Le,ge);function Le(Se,Ve){var le,vr;Se===void 0&&(Se=[]),Ve===void 0&&(Ve=U);var He=ge.call(this)||this;Object.defineProperties(He,{_intern:{value:new Map},_key:{value:Ve}});try{for(var rr=t.__values(Se),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=t.__read(Dr.value,2),an=Mr[0],gn=Mr[1];He.set(an,gn)}}catch(qr){le={error:qr}}finally{try{Dr&&!Dr.done&&(vr=rr.return)&&vr.call(rr)}finally{if(le)throw le.error}}return He}return Le.prototype.get=function(Se){return ge.prototype.get.call(this,D(this,Se))},Le.prototype.has=function(Se){return ge.prototype.has.call(this,D(this,Se))},Le.prototype.set=function(Se,Ve){return ge.prototype.set.call(this,L(this,Se),Ve)},Le.prototype.delete=function(Se){return ge.prototype.delete.call(this,Z(this,Se))},Le}(Map),O=function(ge){t.__extends(Le,ge);function Le(Se,Ve){var le,vr;Se===void 0&&(Se=[]),Ve===void 0&&(Ve=U);var He=ge.call(this)||this;Object.defineProperties(He,{_intern:{value:new Map},_key:{value:Ve}});try{for(var rr=t.__values(Se),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;He.add(Mr)}}catch(an){le={error:an}}finally{try{Dr&&!Dr.done&&(vr=rr.return)&&vr.call(rr)}finally{if(le)throw le.error}}return He}return Le.prototype.has=function(Se){return ge.prototype.has.call(this,D(this,Se))},Le.prototype.add=function(Se){return ge.prototype.add.call(this,L(this,Se))},Le.prototype.delete=function(Se){return ge.prototype.delete.call(this,Z(this,Se))},Le}(Set);function D(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)?Se.get(le):Le}function L(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)?Se.get(le):(Se.set(le,Le),Le)}function Z(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)&&(Le=Se.get(Le),Se.delete(le)),Le}function U(ge){return ge!==null&&typeof ge=="object"?ge.valueOf():ge}function Y(ge){return ge}function W(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Y,Y,Le)}function J(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Array.from,Y,Le)}function ht(ge,Le){for(var Se=[],Ve=2;Ve<arguments.length;Ve++)Se[Ve-2]=arguments[Ve];return Nt(ge,Y,Le,Se)}function nt(ge,Le){for(var Se=[],Ve=2;Ve<arguments.length;Ve++)Se[Ve-2]=arguments[Ve];return Nt(ge,Array.from,Le,Se)}function Q(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Y,_t,Le)}function xt(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Array.from,_t,Le)}function _t(ge){if(ge.length!==1)throw new Error("duplicate key");return ge[0]}function Nt(ge,Le,Se,Ve){return function le(vr,He){var rr,Dr,Mr,an;if(He>=Ve.length)return Se(vr);var gn=new T,qr=Ve[He++],Dn=-1;try{for(var ae=t.__values(vr),er=ae.next();!er.done;er=ae.next()){var sr=er.value,kr=qr(sr,++Dn,vr),Rn=gn.get(kr);Rn?Rn.push(sr):gn.set(kr,[sr])}}catch(fa){rr={error:fa}}finally{try{er&&!er.done&&(Dr=ae.return)&&Dr.call(ae)}finally{if(rr)throw rr.error}}try{for(var pi=t.__values(gn),Yi=pi.next();!Yi.done;Yi=pi.next()){var da=t.__read(Yi.value,2),kr=da[0],_a=da[1];gn.set(kr,le(_a,He))}}catch(fa){Mr={error:fa}}finally{try{Yi&&!Yi.done&&(an=pi.return)&&an.call(pi)}finally{if(Mr)throw Mr.error}}return Le(gn)}(ge,0)}function rt(ge,Le){return Array.from(Le,function(Se){return ge[Se]})}function q(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");ge=Array.from(ge);var Ve=t.__read(Le,1),le=Ve[0],vr=le===void 0?s:le;if(vr.length===1||Le.length>1){var He=Uint32Array.from(ge,function(rr,Dr){return Dr});return Le.length>1?(Le=Le.map(function(rr){return ge.map(rr)}),He.sort(function(rr,Dr){var Mr,an;try{for(var gn=t.__values(Le),qr=gn.next();!qr.done;qr=gn.next()){var Dn=qr.value,ae=s(Dn[rr],Dn[Dr]);if(ae)return ae}}catch(er){Mr={error:er}}finally{try{qr&&!qr.done&&(an=gn.return)&&an.call(gn)}finally{if(Mr)throw Mr.error}}})):(vr=ge.map(vr),He.sort(function(rr,Dr){return s(vr[rr],vr[Dr])})),rt(ge,He)}return ge.sort(vr)}function G(ge,Le,Se){return(Le.length===1?q(ht(ge,Le,Se),function(Ve,le){var vr=t.__read(Ve,2),He=vr[0],rr=vr[1],Dr=t.__read(le,2),Mr=Dr[0],an=Dr[1];return s(rr,an)||s(He,Mr)}):q(W(ge,Se),function(Ve,le){var vr=t.__read(Ve,2),He=vr[0],rr=vr[1],Dr=t.__read(le,2),Mr=Dr[0],an=Dr[1];return Le(rr,an)||s(He,Mr)})).map(function(Ve){var le=t.__read(Ve,1),vr=le[0];return vr})}var N=Array.prototype,at=N.slice;function H(ge){return function(){return ge}}var ft=Math.sqrt(50),ct=Math.sqrt(10),K=Math.sqrt(2);function $(ge,Le,Se){var Ve,le=-1,vr,He,rr;if(Le=+Le,ge=+ge,Se=+Se,ge===Le&&Se>0)return[ge];if((Ve=Le<ge)&&(vr=ge,ge=Le,Le=vr),(rr=et(ge,Le,Se))===0||!isFinite(rr))return[];if(rr>0)for(ge=Math.ceil(ge/rr),Le=Math.floor(Le/rr),He=new Array(vr=Math.ceil(Le-ge+1));++le<vr;)He[le]=(ge+le)*rr;else for(rr=-rr,ge=Math.ceil(ge*rr),Le=Math.floor(Le*rr),He=new Array(vr=Math.ceil(Le-ge+1));++le<vr;)He[le]=(ge+le)/rr;return Ve&&He.reverse(),He}function et(ge,Le,Se){var Ve=(Le-ge)/Math.max(0,Se),le=Math.floor(Math.log(Ve)/Math.LN10),vr=Ve/Math.pow(10,le);return le>=0?(vr>=ft?10:vr>=ct?5:vr>=K?2:1)*Math.pow(10,le):-Math.pow(10,-le)/(vr>=ft?10:vr>=ct?5:vr>=K?2:1)}function B(ge,Le,Se){var Ve=Math.abs(Le-ge)/Math.max(0,Se),le=Math.pow(10,Math.floor(Math.log(Ve)/Math.LN10)),vr=Ve/le;return vr>=ft?le*=10:vr>=ct?le*=5:vr>=K&&(le*=2),Le<ge?-le:le}function w(ge,Le,Se){for(var Ve;;){var le=et(ge,Le,Se);if(le===Ve||le===0||!isFinite(le))return[ge,Le];le>0?(ge=Math.floor(ge/le)*le,Le=Math.ceil(Le/le)*le):le<0&&(ge=Math.ceil(ge*le)/le,Le=Math.floor(Le*le)/le),Ve=le}}function R(ge){return Math.ceil(Math.log(l(ge))/Math.LN2)+1}function V(){var ge=Y,Le=b,Se=R;function Ve(le){var vr;Array.isArray(le)||(le=Array.from(le));var He,rr=le.length,Dr,Mr=new Array(rr);for(He=0;He<rr;++He)Mr[He]=ge(le[He],He,le);var an=Le(Mr),gn=an[0],qr=an[1],Dn=Se(Mr,gn,qr);if(!Array.isArray(Dn)){var ae=qr,er=+Dn;if(Le===b&&(vr=t.__read(w(gn,qr,er),2),gn=vr[0],qr=vr[1]),Dn=$(gn,qr,er),Dn[Dn.length-1]>=qr)if(ae>=qr&&Le===b){var sr=et(gn,qr,er);isFinite(sr)&&(sr>0?qr=(Math.floor(qr/sr)+1)*sr:sr<0&&(qr=(Math.ceil(qr*-sr)+1)/-sr))}else Dn.pop()}for(var kr=Dn.length;Dn[0]<=gn;)Dn.shift(),--kr;for(;Dn[kr-1]>qr;)Dn.pop(),--kr;var Rn=new Array(kr+1),pi;for(He=0;He<=kr;++He)pi=Rn[He]=[],pi.x0=He>0?Dn[He-1]:gn,pi.x1=He<kr?Dn[He]:qr;for(He=0;He<rr;++He)Dr=Mr[He],gn<=Dr&&Dr<=qr&&Rn[n(Dn,Dr,0,kr)].push(le[He]);return Rn}return Ve.value=function(le){return arguments.length?(ge=typeof le=="function"?le:H(le),Ve):ge},Ve.domain=function(le){return arguments.length?(Le=typeof le=="function"?le:H([le[0],le[1]]),Ve):Le},Ve.thresholds=function(le){return arguments.length?(Se=typeof le=="function"?le:Array.isArray(le)?H(at.call(le)):H(le),Ve):Se},Ve}function tt(ge,Le){var Se,Ve,le,vr,He;if(Le===void 0)try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;Mr!=null&&(He<Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var an=-1;try{for(var gn=t.__values(ge),qr=gn.next();!qr.done;qr=gn.next()){var Mr=qr.value;(Mr=Le(Mr,++an,ge))!=null&&(He<Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=gn.return)&&vr.call(gn)}finally{if(le)throw le.error}}}return He}function lt(ge,Le){var Se,Ve,le,vr,He;if(Le===void 0)try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;Mr!=null&&(He>Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var an=-1;try{for(var gn=t.__values(ge),qr=gn.next();!qr.done;qr=gn.next()){var Mr=qr.value;(Mr=Le(Mr,++an,ge))!=null&&(He>Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=gn.return)&&vr.call(gn)}finally{if(le)throw le.error}}}return He}function Et(ge,Le,Se,Ve,le){for(Se===void 0&&(Se=0),Ve===void 0&&(Ve=ge.length-1),le===void 0&&(le=s);Ve>Se;){if(Ve-Se>600){var vr=Ve-Se+1,He=Le-Se+1,rr=Math.log(vr),Dr=.5*Math.exp(2*rr/3),Mr=.5*Math.sqrt(rr*Dr*(vr-Dr)/vr)*(He-vr/2<0?-1:1),an=Math.max(Se,Math.floor(Le-He*Dr/vr+Mr)),gn=Math.min(Ve,Math.floor(Le+(vr-He)*Dr/vr+Mr));Et(ge,Le,an,gn,le)}var qr=ge[Le],Dn=Se,ae=Ve;for(ot(ge,Se,Le),le(ge[Ve],qr)>0&&ot(ge,Se,Ve);Dn<ae;){for(ot(ge,Dn,ae),++Dn,--ae;le(ge[Dn],qr)<0;)++Dn;for(;le(ge[ae],qr)>0;)--ae}le(ge[Se],qr)===0?ot(ge,Se,ae):(++ae,ot(ge,ae,Ve)),ae<=Le&&(Se=ae+1),Le<=ae&&(Ve=ae-1)}return ge}function ot(ge,Le,Se){var Ve=ge[Le];ge[Le]=ge[Se],ge[Se]=Ve}function Mt(ge,Le,Se){if(ge=Float64Array.from(r(ge,Se)),!!(Ve=ge.length)){if((Le=+Le)<=0||Ve<2)return lt(ge);if(Le>=1)return tt(ge);var Ve,le=(Ve-1)*Le,vr=Math.floor(le),He=tt(Et(ge,vr).subarray(0,vr+1)),rr=lt(ge.subarray(vr+1));return He+(rr-He)*(le-vr)}}function Ot(ge,Le,Se){if(Se===void 0&&(Se=f),!!(Ve=ge.length)){if((Le=+Le)<=0||Ve<2)return+Se(ge[0],0,ge);if(Le>=1)return+Se(ge[Ve-1],Ve-1,ge);var Ve,le=(Ve-1)*Le,vr=Math.floor(le),He=+Se(ge[vr],vr,ge),rr=+Se(ge[vr+1],vr+1,ge);return He+(rr-He)*(le-vr)}}function Ft(ge,Le,Se){return Math.ceil((Se-Le)/(2*(Mt(ge,.75)-Mt(ge,.25))*Math.pow(l(ge),-1/3)))}function zt(ge,Le,Se){return Math.ceil((Se-Le)/(3.5*M(ge)*Math.pow(l(ge),-1/3)))}function $t(ge,Le){var Se,Ve,le,vr,He,rr=-1,Dr=-1;if(Le===void 0)try{for(var Mr=t.__values(ge),an=Mr.next();!an.done;an=Mr.next()){var gn=an.value;++Dr,gn!=null&&(He<gn||He===void 0&&gn>=gn)&&(He=gn,rr=Dr)}}catch(ae){Se={error:ae}}finally{try{an&&!an.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}else try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var gn=Dn.value;(gn=Le(gn,++Dr,ge))!=null&&(He<gn||He===void 0&&gn>=gn)&&(He=gn,rr=Dr)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}return rr}function ce(ge,Le){var Se,Ve,le,vr,He=0,rr=0;if(Le===void 0)try{for(var Dr=t.__values(ge),Mr=Dr.next();!Mr.done;Mr=Dr.next()){var an=Mr.value;an!=null&&(an=+an)>=an&&(++He,rr+=an)}}catch(ae){Se={error:ae}}finally{try{Mr&&!Mr.done&&(Ve=Dr.return)&&Ve.call(Dr)}finally{if(Se)throw Se.error}}else{var gn=-1;try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var an=Dn.value;(an=Le(an,++gn,ge))!=null&&(an=+an)>=an&&(++He,rr+=an)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}}if(He)return rr/He}function ye(ge,Le){return Mt(ge,.5,Le)}function Je(ge){var Le,Se,Ve,le,vr,He;return t.__generator(this,function(rr){switch(rr.label){case 0:rr.trys.push([0,5,6,7]),Le=t.__values(ge),Se=Le.next(),rr.label=1;case 1:return Se.done?[3,4]:(Ve=Se.value,[5,t.__values(Ve)]);case 2:rr.sent(),rr.label=3;case 3:return Se=Le.next(),[3,1];case 4:return[3,7];case 5:return le=rr.sent(),vr={error:le},[3,7];case 6:try{Se&&!Se.done&&(He=Le.return)&&He.call(Le)}finally{if(vr)throw vr.error}return[7];case 7:return[2]}})}function nr(ge){return Array.from(Je(ge))}function Xe(ge,Le){var Se,Ve,le,vr,He,rr=-1,Dr=-1;if(Le===void 0)try{for(var Mr=t.__values(ge),an=Mr.next();!an.done;an=Mr.next()){var gn=an.value;++Dr,gn!=null&&(He>gn||He===void 0&&gn>=gn)&&(He=gn,rr=Dr)}}catch(ae){Se={error:ae}}finally{try{an&&!an.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}else try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var gn=Dn.value;(gn=Le(gn,++Dr,ge))!=null&&(He>gn||He===void 0&&gn>=gn)&&(He=gn,rr=Dr)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}return rr}function mr(ge,Le){var Se,Ve;Le===void 0&&(Le=Gr);var le=[],vr,He=!1;try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;He&&le.push(Le(vr,Mr)),vr=Mr,He=!0}}catch(an){Se={error:an}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return le}function Gr(ge,Le){return[ge,Le]}function xe(ge,Le,Se){ge=+ge,Le=+Le,Se=(le=arguments.length)<2?(Le=ge,ge=0,1):le<3?1:+Se;for(var Ve=-1,le=Math.max(0,Math.ceil((Le-ge)/Se))|0,vr=new Array(le);++Ve<le;)vr[Ve]=ge+Ve*Se;return vr}function de(ge,Le){var Se,Ve,le,vr;Le===void 0&&(Le=s);var He,rr=!1;if(Le.length===1){var Dr=void 0;try{for(var Mr=t.__values(ge),an=Mr.next();!an.done;an=Mr.next()){var gn=an.value,qr=Le(gn);(rr?s(qr,Dr)<0:s(qr,qr)===0)&&(He=gn,Dr=qr,rr=!0)}}catch(er){Se={error:er}}finally{try{an&&!an.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}}else try{for(var Dn=t.__values(ge),ae=Dn.next();!ae.done;ae=Dn.next()){var qr=ae.value;(rr?Le(qr,He)<0:Le(qr,qr)===0)&&(He=qr,rr=!0)}}catch(er){le={error:er}}finally{try{ae&&!ae.done&&(vr=Dn.return)&&vr.call(Dn)}finally{if(le)throw le.error}}return He}function ze(ge,Le){var Se,Ve;if(Le===void 0&&(Le=s),Le.length===1)return Xe(ge,Le);var le,vr=-1,He=-1;try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;++He,(vr<0?Le(Mr,Mr)===0:Le(Mr,le)<0)&&(le=Mr,vr=He)}}catch(an){Se={error:an}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return vr}function Ue(ge,Le){var Se,Ve,le,vr;Le===void 0&&(Le=s);var He,rr=!1;if(Le.length===1){var Dr=void 0;try{for(var Mr=t.__values(ge),an=Mr.next();!an.done;an=Mr.next()){var gn=an.value,qr=Le(gn);(rr?s(qr,Dr)>0:s(qr,qr)===0)&&(He=gn,Dr=qr,rr=!0)}}catch(er){Se={error:er}}finally{try{an&&!an.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}}else try{for(var Dn=t.__values(ge),ae=Dn.next();!ae.done;ae=Dn.next()){var qr=ae.value;(rr?Le(qr,He)>0:Le(qr,qr)===0)&&(He=qr,rr=!0)}}catch(er){le={error:er}}finally{try{ae&&!ae.done&&(vr=Dn.return)&&vr.call(Dn)}finally{if(le)throw le.error}}return He}function Kr(ge,Le){var Se,Ve;if(Le===void 0&&(Le=s),Le.length===1)return $t(ge,Le);var le,vr=-1,He=-1;try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;++He,(vr<0?Le(Mr,Mr)===0:Le(Mr,le)>0)&&(le=Mr,vr=He)}}catch(an){Se={error:an}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return vr}function rn(ge,Le){var Se=ze(ge,Le);return Se<0?void 0:Se}var ci=Zi(Math.random);function Zi(ge){return function(Se,Ve,le){Ve===void 0&&(Ve=0),le===void 0&&(le=Se.length);for(var vr=le-(Ve=+Ve);vr;){var He=ge()*vr--|0,rr=Se[vr+Ve];Se[vr+Ve]=Se[He+Ve],Se[He+Ve]=rr}return Se}}function Ki(ge,Le){var Se,Ve,le,vr,He=0;if(Le===void 0)try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;(Mr=+Mr)&&(He+=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var an=-1;try{for(var gn=t.__values(ge),qr=gn.next();!qr.done;qr=gn.next()){var Mr=qr.value;(Mr=+Le(Mr,++an,ge))&&(He+=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=gn.return)&&vr.call(gn)}finally{if(le)throw le.error}}}return He}function ji(ge){if(!(vr=ge.length))return[];for(var Le=-1,Se=lt(ge,Ae),Ve=new Array(Se);++Le<Se;)for(var le=-1,vr,He=Ve[Le]=new Array(vr);++le<vr;)He[le]=ge[le][Le];return Ve}function Ae(ge){return ge.length}function De(){return ji(arguments)}function ar(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=-1;try{for(var vr=t.__values(ge),He=vr.next();!He.done;He=vr.next()){var rr=He.value;if(!Le(rr,++le,ge))return!1}}catch(Dr){Se={error:Dr}}finally{try{He&&!He.done&&(Ve=vr.return)&&Ve.call(vr)}finally{if(Se)throw Se.error}}return!0}function Pr(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=-1;try{for(var vr=t.__values(ge),He=vr.next();!He.done;He=vr.next()){var rr=He.value;if(Le(rr,++le,ge))return!0}}catch(Dr){Se={error:Dr}}finally{try{He&&!He.done&&(Ve=vr.return)&&Ve.call(vr)}finally{if(Se)throw Se.error}}return!1}function or(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=[],vr=-1;try{for(var He=t.__values(ge),rr=He.next();!rr.done;rr=He.next()){var Dr=rr.value;Le(Dr,++vr,ge)&&le.push(Dr)}}catch(Mr){Se={error:Mr}}finally{try{rr&&!rr.done&&(Ve=He.return)&&Ve.call(He)}finally{if(Se)throw Se.error}}return le}function wr(ge,Le){if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof Le!="function")throw new TypeError("mapper is not a function");return Array.from(ge,function(Se,Ve){return Le(Se,Ve,ge)})}function cn(ge,Le,Se){var Ve,le;if(typeof Le!="function")throw new TypeError("reducer is not a function");var vr=ge[Symbol.iterator](),He,rr,Dr=-1;if(arguments.length<3){if(Ve=vr.next(),He=Ve.done,Se=Ve.value,He)return;++Dr}for(;le=vr.next(),He=le.done,rr=le.value,!He;)Se=Le(Se,rr,++Dr,ge);return Se}function Fn(ge){if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(ge).reverse()}function nn(ge){for(var Le,Se,Ve,le,vr=[],He=1;He<arguments.length;He++)vr[He-1]=arguments[He];ge=new Set(ge);try{for(var rr=t.__values(vr),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;try{for(var an=(Ve=void 0,t.__values(Mr)),gn=an.next();!gn.done;gn=an.next()){var qr=gn.value;ge.delete(qr)}}catch(Dn){Ve={error:Dn}}finally{try{gn&&!gn.done&&(le=an.return)&&le.call(an)}finally{if(Ve)throw Ve.error}}}}catch(Dn){Le={error:Dn}}finally{try{Dr&&!Dr.done&&(Se=rr.return)&&Se.call(rr)}finally{if(Le)throw Le.error}}return ge}function Hr(ge,Le){var Se,Ve,le,vr=Le[Symbol.iterator](),He=new Set;try{for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;if(He.has(Mr))return!1;for(var an=void 0,gn=void 0;(le=vr.next(),an=le.value,gn=le.done,le)&&!gn;){if(Object.is(Mr,an))return!1;He.add(an)}}}catch(qr){Se={error:qr}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return!0}function Gn(ge){return ge instanceof Set?ge:new Set(ge)}function $n(ge){for(var Le,Se,Ve,le,vr=[],He=1;He<arguments.length;He++)vr[He-1]=arguments[He];ge=new Set(ge),vr=vr.map(Gn);try{t:for(var rr=t.__values(ge),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;try{for(var an=(Ve=void 0,t.__values(vr)),gn=an.next();!gn.done;gn=an.next()){var qr=gn.value;if(!qr.has(Mr)){ge.delete(Mr);continue t}}}catch(Dn){Ve={error:Dn}}finally{try{gn&&!gn.done&&(le=an.return)&&le.call(an)}finally{if(Ve)throw Ve.error}}}}catch(Dn){Le={error:Dn}}finally{try{Dr&&!Dr.done&&(Se=rr.return)&&Se.call(rr)}finally{if(Le)throw Le.error}}return ge}function Vr(ge,Le){var Se,Ve,le,vr=ge[Symbol.iterator](),He=new Set;try{for(var rr=t.__values(Le),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;if(!He.has(Mr))for(var an=void 0,gn=void 0;le=vr.next(),an=le.value,gn=le.done,le;){if(gn)return!1;if(He.add(an),Object.is(Mr,an))break}}}catch(qr){Se={error:qr}}finally{try{Dr&&!Dr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return!0}function Ir(ge,Le){return Vr(Le,ge)}function ti(){for(var ge,Le,Se,Ve,le=[],vr=0;vr<arguments.length;vr++)le[vr]=arguments[vr];var He=new Set;try{for(var rr=t.__values(le),Dr=rr.next();!Dr.done;Dr=rr.next()){var Mr=Dr.value;try{for(var an=(Se=void 0,t.__values(Mr)),gn=an.next();!gn.done;gn=an.next()){var qr=gn.value;He.add(qr)}}catch(Dn){Se={error:Dn}}finally{try{gn&&!gn.done&&(Ve=an.return)&&Ve.call(an)}finally{if(Se)throw Se.error}}}}catch(Dn){ge={error:Dn}}finally{try{Dr&&!Dr.done&&(Le=rr.return)&&Le.call(rr)}finally{if(ge)throw ge.error}}return He}c.Adder=S,c.InternMap=T,c.InternSet=O,c.ascending=s,c.bin=V,c.bisect=n,c.bisectCenter=u,c.bisectLeft=a,c.bisectRight=n,c.bisector=v,c.count=l,c.cross=y,c.cumsum=E,c.descending=C,c.deviation=M,c.difference=nn,c.disjoint=Hr,c.every=ar,c.extent=b,c.filter=or,c.fsum=A,c.greatest=Ue,c.greatestIndex=Kr,c.group=W,c.groupSort=G,c.groups=J,c.histogram=V,c.index=Q,c.indexes=xt,c.intersection=$n,c.least=de,c.leastIndex=ze,c.map=wr,c.max=tt,c.maxIndex=$t,c.mean=ce,c.median=ye,c.merge=nr,c.min=lt,c.minIndex=Xe,c.nice=w,c.pairs=mr,c.permute=rt,c.quantile=Mt,c.quantileSorted=Ot,c.quickselect=Et,c.range=xe,c.reduce=cn,c.reverse=Fn,c.rollup=ht,c.rollups=nt,c.scan=rn,c.shuffle=ci,c.shuffler=Zi,c.some=Pr,c.sort=q,c.subset=Ir,c.sum=Ki,c.superset=Vr,c.thresholdFreedmanDiaconis=Ft,c.thresholdScott=zt,c.thresholdSturges=R,c.tickIncrement=et,c.tickStep=B,c.ticks=$,c.transpose=ji,c.union=ti,c.variance=m,c.zip=De,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";var c="$";function s(){}s.prototype=v.prototype={constructor:s,has:function(g){return c+g in this},get:function(g){return this[c+g]},set:function(g,y){return this[c+g]=y,this},remove:function(g){var y=c+g;return y in this&&delete this[y]},clear:function(){for(var g in this)g[0]===c&&delete this[g]},keys:function(){var g=[];for(var y in this)y[0]===c&&g.push(y.slice(1));return g},values:function(){var g=[];for(var y in this)y[0]===c&&g.push(this[y]);return g},entries:function(){var g=[];for(var y in this)y[0]===c&&g.push({key:y.slice(1),value:this[y]});return g},size:function(){var g=0;for(var y in this)y[0]===c&&++g;return g},empty:function(){for(var g in this)if(g[0]===c)return!1;return!0},each:function(g){for(var y in this)y[0]===c&&g(this[y],y.slice(1),this)}};function v(g,y){var E=new s;if(g instanceof s)g.each(function(S,A){E.set(A,S)});else if(Array.isArray(g)){var C=-1,m=g.length,M;if(y==null)for(;++C<m;)E.set(C,g[C]);else for(;++C<m;)E.set(y(M=g[C],C,g),M)}else if(g)for(var b in g)E.set(b,g[b]);return E}function o(){var g=[],y=[],E,C,m;function M(S,A,T,O){if(A>=g.length)return E!=null&&S.sort(E),C!=null?C(S):S;for(var D=-1,L=S.length,Z=g[A++],U,Y,W=v(),J,ht=T();++D<L;)(J=W.get(U=Z(Y=S[D])+""))?J.push(Y):W.set(U,[Y]);return W.each(function(nt,Q){O(ht,Q,M(nt,A,T,O))}),ht}function b(S,A){if(++A>g.length)return S;var T,O=y[A-1];return C!=null&&A>=g.length?T=S.entries():(T=[],S.each(function(D,L){T.push({key:L,values:b(D,A)})})),O!=null?T.sort(function(D,L){return O(D.key,L.key)}):T}return m={object:function(S){return M(S,0,f,r)},map:function(S){return M(S,0,e,n)},entries:function(S){return b(M(S,0,e,n),0)},key:function(S){return g.push(S),m},sortKeys:function(S){return y[g.length-1]=S,m},sortValues:function(S){return E=S,m},rollup:function(S){return C=S,m}}}function f(){return{}}function r(g,y,E){g[y]=E}function e(){return v()}function n(g,y,E){g.set(y,E)}function a(){}var u=v.prototype;a.prototype=l.prototype={constructor:a,has:u.has,add:function(g){return g+="",this[c+g]=g,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};function l(g,y){var E=new a;if(g instanceof a)g.each(function(M){E.add(M)});else if(g){var C=-1,m=g.length;if(y==null)for(;++C<m;)E.add(g[C]);else for(;++C<m;)E.add(y(g[C],C,g))}return E}function h(g){var y=[];for(var E in g)y.push(E);return y}function p(g){var y=[];for(var E in g)y.push(g[E]);return y}function d(g){var y=[];for(var E in g)y.push({key:E,value:g[E]});return y}t.nest=o,t.set=l,t.map=v,t.keys=h,t.values=p,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-composite-projections@1.4.0@d3-composite-projections/d3-composite-projections.js":function(P,x,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(x,i("./node_modules/_d3-geo@2.0.1@d3-geo/dist/d3-geo.js"),i("./node_modules/_d3-path@2.0.0@d3-path/dist/d3-path.js"))})(this,function(c,s,v){"use strict";var o=1e-6;function f(){}var r=Infinity,e=r,n=-r,a=n,u={point:l,lineStart:f,lineEnd:f,polygonStart:f,polygonEnd:f,result:function(){var q=[[r,e],[n,a]];return n=a=-(e=r=Infinity),q}};function l(q,G){q<r&&(r=q),q>n&&(n=q),G<e&&(e=G),G>a&&(a=G)}function h(q,G,N){var at=G[1][0]-G[0][0],H=G[1][1]-G[0][1],ft=q.clipExtent&&q.clipExtent();q.scale(150).translate([0,0]),ft!=null&&q.clipExtent(null),s.geoStream(N,q.stream(u));var ct=u.result(),K=Math.min(at/(ct[1][0]-ct[0][0]),H/(ct[1][1]-ct[0][1])),$=+G[0][0]+(at-K*(ct[1][0]+ct[0][0]))/2,et=+G[0][1]+(H-K*(ct[1][1]+ct[0][1]))/2;return ft!=null&&q.clipExtent(ft),q.scale(K*150).translate([$,et])}function p(q,G,N){return h(q,[[0,0],G],N)}function d(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function g(){var q,G,N=s.geoAlbers(),at,H=s.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ft,ct=s.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),K,$,et={point:function(R,V){$=[R,V]}};function B(R){var V=R[0],tt=R[1];return $=null,at.point(V,tt),$||(ft.point(V,tt),$)||(K.point(V,tt),$)}B.invert=function(R){var V=N.scale(),tt=N.translate(),lt=(R[0]-tt[0])/V,Et=(R[1]-tt[1])/V;return(Et>=.12&&Et<.234&&lt>=-.425&&lt<-.214?H:Et>=.166&&Et<.234&&lt>=-.214&&lt<-.115?ct:N).invert(R)},B.stream=function(R){return q&&G===R?q:q=d([N.stream(G=R),H.stream(R),ct.stream(R)])},B.precision=function(R){return arguments.length?(N.precision(R),H.precision(R),ct.precision(R),w()):N.precision()},B.scale=function(R){return arguments.length?(N.scale(R),H.scale(R*.35),ct.scale(R),B.translate(N.translate())):N.scale()},B.translate=function(R){if(!arguments.length)return N.translate();var V=N.scale(),tt=+R[0],lt=+R[1];return at=N.translate(R).clipExtent([[tt-.455*V,lt-.238*V],[tt+.455*V,lt+.238*V]]).stream(et),ft=H.translate([tt-.307*V,lt+.201*V]).clipExtent([[tt-.425*V+o,lt+.12*V+o],[tt-.214*V-o,lt+.234*V-o]]).stream(et),K=ct.translate([tt-.205*V,lt+.212*V]).clipExtent([[tt-.214*V+o,lt+.166*V+o],[tt-.115*V-o,lt+.234*V-o]]).stream(et),w()},B.fitExtent=function(R,V){return h(B,R,V)},B.fitSize=function(R,V){return p(B,R,V)};function w(){return q=G=null,B}return B.drawCompositionBorders=function(R){var V=N([-102.91,26.3]),tt=N([-104,27.5]),lt=N([-108,29.1]),Et=N([-110,29.1]),ot=N([-110,26.7]),Mt=N([-112.8,27.6]),Ot=N([-114.3,30.6]),Ft=N([-119.3,30.1]);R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.moveTo(ot[0],ot[1]),R.lineTo(Mt[0],Mt[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ft[0],Ft[1])},B.getCompositionBorders=function(){var R=v.path();return this.drawCompositionBorders(R),R.toString()},B.scale(1070)}function y(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function E(){var q,G,N=s.geoAlbers(),at,H=s.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ft,ct=s.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),K,$=s.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),et,B=s.geoEquirectangular().rotate([173,14]),w,R=s.geoEquirectangular().rotate([-145,-16.8]),V,tt,lt={point:function(Mt,Ot){tt=[Mt,Ot]}};function Et(Mt){var Ot=Mt[0],Ft=Mt[1];return tt=null,at.point(Ot,Ft),tt||(ft.point(Ot,Ft),tt)||(K.point(Ot,Ft),tt)||(et.point(Ot,Ft),tt)||(w.point(Ot,Ft),tt)||(V.point(Ot,Ft),tt)}Et.invert=function(Mt){var Ot=N.scale(),Ft=N.translate(),zt=(Mt[0]-Ft[0])/Ot,$t=(Mt[1]-Ft[1])/Ot;return($t>=.12&&$t<.234&&zt>=-.425&&zt<-.214?H:$t>=.166&&$t<.234&&zt>=-.214&&zt<-.115?ct:$t>=.2064&&$t<.2413&&zt>=.312&&zt<.385?$:$t>=.09&&$t<.1197&&zt>=-.4243&&zt<-.3232?B:$t>=-.0518&&$t<.0895&&zt>=-.4243&&zt<-.3824?R:N).invert(Mt)},Et.stream=function(Mt){return q&&G===Mt?q:q=y([N.stream(G=Mt),H.stream(Mt),ct.stream(Mt),$.stream(Mt),B.stream(Mt),R.stream(Mt)])},Et.precision=function(Mt){return arguments.length?(N.precision(Mt),H.precision(Mt),ct.precision(Mt),$.precision(Mt),B.precision(Mt),R.precision(Mt),ot()):N.precision()},Et.scale=function(Mt){return arguments.length?(N.scale(Mt),H.scale(Mt*.35),ct.scale(Mt),$.scale(Mt),B.scale(Mt*2),R.scale(Mt),Et.translate(N.translate())):N.scale()},Et.translate=function(Mt){if(!arguments.length)return N.translate();var Ot=N.scale(),Ft=+Mt[0],zt=+Mt[1];return at=N.translate(Mt).clipExtent([[Ft-.455*Ot,zt-.238*Ot],[Ft+.455*Ot,zt+.238*Ot]]).stream(lt),ft=H.translate([Ft-.307*Ot,zt+.201*Ot]).clipExtent([[Ft-.425*Ot+o,zt+.12*Ot+o],[Ft-.214*Ot-o,zt+.233*Ot-o]]).stream(lt),K=ct.translate([Ft-.205*Ot,zt+.212*Ot]).clipExtent([[Ft-.214*Ot+o,zt+.166*Ot+o],[Ft-.115*Ot-o,zt+.233*Ot-o]]).stream(lt),et=$.translate([Ft+.35*Ot,zt+.224*Ot]).clipExtent([[Ft+.312*Ot+o,zt+.2064*Ot+o],[Ft+.385*Ot-o,zt+.233*Ot-o]]).stream(lt),w=B.translate([Ft-.492*Ot,zt+.09*Ot]).clipExtent([[Ft-.4243*Ot+o,zt+.0903*Ot+o],[Ft-.3233*Ot-o,zt+.1197*Ot-o]]).stream(lt),V=R.translate([Ft-.408*Ot,zt+.018*Ot]).clipExtent([[Ft-.4244*Ot+o,zt-.0519*Ot+o],[Ft-.3824*Ot-o,zt+.0895*Ot-o]]).stream(lt),ot()},Et.fitExtent=function(Mt,Ot){return h(Et,Mt,Ot)},Et.fitSize=function(Mt,Ot){return p(Et,Mt,Ot)};function ot(){return q=G=null,Et}return Et.drawCompositionBorders=function(Mt){var Ot=N([-110.4641,28.2805]),Ft=N([-104.0597,28.9528]),zt=N([-103.7049,25.1031]),$t=N([-109.8337,24.4531]),ce=N([-124.4745,28.1407]),ye=N([-110.931,30.8844]),Je=N([-109.8337,24.4531]),nr=N([-122.4628,21.8562]),Xe=N([-76.8579,25.1544]),mr=N([-72.429,24.2097]),Gr=N([-72.8265,22.7056]),xe=N([-77.1852,23.6392]),de=N([-125.0093,29.7791]),ze=N([-118.5193,31.3262]),Ue=N([-118.064,29.6912]),Kr=N([-124.4369,28.169]),rn=N([-128.1314,37.4582]),ci=N([-125.2132,38.214]),Zi=N([-122.3616,30.5115]),Ki=N([-125.0315,29.8211]);Mt.moveTo(Ot[0],Ot[1]),Mt.lineTo(Ft[0],Ft[1]),Mt.lineTo(zt[0],zt[1]),Mt.lineTo(zt[0],zt[1]),Mt.lineTo($t[0],$t[1]),Mt.closePath(),Mt.moveTo(ce[0],ce[1]),Mt.lineTo(ye[0],ye[1]),Mt.lineTo(Je[0],Je[1]),Mt.lineTo(Je[0],Je[1]),Mt.lineTo(nr[0],nr[1]),Mt.closePath(),Mt.moveTo(Xe[0],Xe[1]),Mt.lineTo(mr[0],mr[1]),Mt.lineTo(Gr[0],Gr[1]),Mt.lineTo(Gr[0],Gr[1]),Mt.lineTo(xe[0],xe[1]),Mt.closePath(),Mt.moveTo(de[0],de[1]),Mt.lineTo(ze[0],ze[1]),Mt.lineTo(Ue[0],Ue[1]),Mt.lineTo(Ue[0],Ue[1]),Mt.lineTo(Kr[0],Kr[1]),Mt.closePath(),Mt.moveTo(rn[0],rn[1]),Mt.lineTo(ci[0],ci[1]),Mt.lineTo(Zi[0],Zi[1]),Mt.lineTo(Zi[0],Zi[1]),Mt.lineTo(Ki[0],Ki[1]),Mt.closePath()},Et.getCompositionBorders=function(){var Mt=v.path();return this.drawCompositionBorders(Mt),Mt.toString()},Et.scale(1070)}function C(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function m(){var q,G,N=s.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),at,H=s.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),ft,ct,K={point:function(B,w){ct=[B,w]}};function $(B){var w=B[0],R=B[1];return ct=null,at.point(w,R),ct||(ft.point(w,R),ct)}$.invert=function(B){var w=N.scale(),R=N.translate(),V=(B[0]-R[0])/w,tt=(B[1]-R[1])/w;return(tt>=.05346&&tt<.0897&&V>=-.13388&&V<-.0322?H:N).invert(B)},$.stream=function(B){return q&&G===B?q:q=C([N.stream(G=B),H.stream(B)])},$.precision=function(B){return arguments.length?(N.precision(B),H.precision(B),et()):N.precision()},$.scale=function(B){return arguments.length?(N.scale(B),H.scale(B),$.translate(N.translate())):N.scale()},$.translate=function(B){if(!arguments.length)return N.translate();var w=N.scale(),R=+B[0],V=+B[1];return at=N.translate(B).clipExtent([[R-.06857*w,V-.1288*w],[R+.13249*w,V+.06*w]]).stream(K),ft=H.translate([R+.1*w,V-.094*w]).clipExtent([[R-.1331*w+o,V+.053457*w+o],[R-.0354*w-o,V+.08969*w-o]]).stream(K),et()},$.fitExtent=function(B,w){return h($,B,w)},$.fitSize=function(B,w){return p($,B,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(B){var w=N([-14.034675,34.965007]),R=N([-7.4208899,35.536988]),V=N([-7.3148275,33.54359]);B.moveTo(w[0],w[1]),B.lineTo(R[0],R[1]),B.lineTo(V[0],V[1])},$.getCompositionBorders=function(){var B=v.path();return this.drawCompositionBorders(B),B.toString()},$.scale(2700)}function M(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function b(){var q,G,N=s.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),at,H=s.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),ft,ct=s.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),K,$,et={point:function(R,V){$=[R,V]}};function B(R){var V=R[0],tt=R[1];return $=null,at.point(V,tt),$||(ft.point(V,tt),$)||(K.point(V,tt),$)}B.invert=function(R){var V=N.scale(),tt=N.translate(),lt=(R[0]-tt[0])/V,Et=(R[1]-tt[1])/V;return(Et>=.0093&&Et<.03678&&lt>=-.03875&&lt<-.0116?H:Et>=-.0412&&Et<.0091&&lt>=-.07782&&lt<-.01166?ct:N).invert(R)},B.stream=function(R){return q&&G===R?q:q=M([N.stream(G=R),H.stream(R),ct.stream(R)])},B.precision=function(R){return arguments.length?(N.precision(R),H.precision(R),ct.precision(R),w()):N.precision()},B.scale=function(R){return arguments.length?(N.scale(R),H.scale(R),ct.scale(R*.6),B.translate(N.translate())):N.scale()},B.translate=function(R){if(!arguments.length)return N.translate();var V=N.scale(),tt=+R[0],lt=+R[1];return at=N.translate(R).clipExtent([[tt-.0115*V,lt-.1138*V],[tt+.2105*V,lt+.0673*V]]).stream(et),ft=H.translate([tt-.0265*V,lt+.025*V]).clipExtent([[tt-.0388*V+o,lt+.0093*V+o],[tt-.0116*V-o,lt+.0368*V-o]]).stream(et),K=ct.translate([tt-.045*V,lt+-.02*V]).clipExtent([[tt-.0778*V+o,lt-.0413*V+o],[tt-.0117*V-o,lt+.0091*V-o]]).stream(et),w()},B.fitExtent=function(R,V){return h(B,R,V)},B.fitSize=function(R,V){return p(B,R,V)};function w(){return q=G=null,B}return B.drawCompositionBorders=function(R){var V=N([-12.8351,38.7113]),tt=N([-10.8482,38.7633]),lt=N([-10.8181,37.2072]),Et=N([-12.7345,37.1573]),ot=N([-16.0753,41.4436]),Mt=N([-10.9168,41.6861]),Ot=N([-10.8557,38.7747]),Ft=N([-15.6728,38.5505]);R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath(),R.moveTo(ot[0],ot[1]),R.lineTo(Mt[0],Mt[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ft[0],Ft[1]),R.closePath()},B.getCompositionBorders=function(){var R=v.path();return this.drawCompositionBorders(R),R.toString()},B.scale(4200)}function S(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function A(){var q,G,N=s.geoMercator().rotate([80,1.5]),at,H=s.geoMercator().rotate([90.73,1]),ft,ct,K={point:function(B,w){ct=[B,w]}};function $(B){var w=B[0],R=B[1];return ct=null,at.point(w,R),ct||(ft.point(w,R),ct)}$.invert=function(B){var w=N.scale(),R=N.translate(),V=(B[0]-R[0])/w,tt=(B[1]-R[1])/w;return(tt>=-.0676&&tt<-.026&&V>=-.0857&&V<-.0263?H:N).invert(B)},$.stream=function(B){return q&&G===B?q:q=S([N.stream(G=B),H.stream(B)])},$.precision=function(B){return arguments.length?(N.precision(B),H.precision(B),et()):N.precision()},$.scale=function(B){return arguments.length?(N.scale(B),H.scale(B),$.translate(N.translate())):N.scale()},$.translate=function(B){if(!arguments.length)return N.translate();var w=N.scale(),R=+B[0],V=+B[1];return at=N.translate(B).clipExtent([[R-.0262*w,V-.0734*w],[R+.1741*w,V+.079*w]]).stream(K),ft=H.translate([R-.06*w,V-.04*w]).clipExtent([[R-.0857*w+o,V-.0676*w+o],[R-.0263*w-o,V-.026*w-o]]).stream(K),et()},$.fitExtent=function(B,w){return h($,B,w)},$.fitSize=function(B,w){return p($,B,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(B){var w=N([-84.9032,2.3757]),R=N([-81.5047,2.3708]),V=N([-81.5063,-.01]),tt=N([-84.9086,-.005]);B.moveTo(w[0],w[1]),B.lineTo(R[0],R[1]),B.lineTo(V[0],V[1]),B.lineTo(tt[0],tt[1]),B.closePath()},$.getCompositionBorders=function(){var B=v.path();return this.drawCompositionBorders(B),B.toString()},$.scale(3500)}function T(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function O(){var q,G,N=s.geoTransverseMercator().rotate([72,37]),at,H=s.geoStereographic().rotate([72,0]),ft,ct=s.geoMercator().rotate([80,33.5]),K,$=s.geoMercator().rotate([110,25]),et,B,w={point:function(tt,lt){B=[tt,lt]}};function R(tt){var lt=tt[0],Et=tt[1];return B=null,at.point(lt,Et),B||(ft.point(lt,Et),B)||(K.point(lt,Et),B)||(et.point(lt,Et),B)}R.invert=function(tt){var lt=N.scale(),Et=N.translate(),ot=(tt[0]-Et[0])/lt,Mt=(tt[1]-Et[1])/lt;return(Mt>=.2582&&Mt<.32&&ot>=-.1036&&ot<-.087?H:Mt>=-.01298&&Mt<.0133&&ot>=-.11396&&ot<-.05944?ct:Mt>=.01539&&Mt<.03911&&ot>=-.089&&ot<-.0588?$:N).invert(tt)},R.stream=function(tt){return q&&G===tt?q:q=T([N.stream(G=tt),H.stream(tt),ct.stream(tt),$.stream(tt)])},R.precision=function(tt){return arguments.length?(N.precision(tt),H.precision(tt),ct.precision(tt),$.precision(tt),V()):N.precision()},R.scale=function(tt){return arguments.length?(N.scale(tt),H.scale(tt*.15),ct.scale(tt*1.5),$.scale(tt*1.5),R.translate(N.translate())):N.scale()},R.translate=function(tt){if(!arguments.length)return N.translate();var lt=N.scale(),Et=+tt[0],ot=+tt[1];return at=N.translate(tt).clipExtent([[Et-.059*lt,ot-.3835*lt],[Et+.4498*lt,ot+.3375*lt]]).stream(w),ft=H.translate([Et-.087*lt,ot+.17*lt]).clipExtent([[Et-.1166*lt+o,ot+.2582*lt+o],[Et-.06*lt-o,ot+.32*lt-o]]).stream(w),K=ct.translate([Et-.092*lt,ot-0*lt]).clipExtent([[Et-.114*lt+o,ot-.013*lt+o],[Et-.0594*lt-o,ot+.0133*lt-o]]).stream(w),et=$.translate([Et-.089*lt,ot-.0265*lt]).clipExtent([[Et-.089*lt+o,ot+.0154*lt+o],[Et-.0588*lt-o,ot+.0391*lt-o]]).stream(w),V()},R.fitExtent=function(tt,lt){return h(R,tt,lt)},R.fitSize=function(tt,lt){return p(R,tt,lt)};function V(){return q=G=null,R}return R.drawCompositionBorders=function(tt){var lt=N([-82.6999,-51.3043]),Et=N([-77.5442,-51.6631]),ot=N([-78.0254,-55.186]),Mt=N([-83.6106,-54.7785]),Ot=N([-80.0638,-35.984]),Ft=N([-76.2153,-36.1811]),zt=N([-76.2994,-37.6839]),$t=N([-80.2231,-37.4757]),ce=N([-78.442,-37.706]),ye=N([-76.263,-37.8054]),Je=N([-76.344,-39.1595]),nr=N([-78.5638,-39.0559]);tt.moveTo(lt[0],lt[1]),tt.lineTo(Et[0],Et[1]),tt.lineTo(ot[0],ot[1]),tt.lineTo(ot[0],ot[1]),tt.lineTo(Mt[0],Mt[1]),tt.closePath(),tt.moveTo(Ot[0],Ot[1]),tt.lineTo(Ft[0],Ft[1]),tt.lineTo(zt[0],zt[1]),tt.lineTo(zt[0],zt[1]),tt.lineTo($t[0],$t[1]),tt.closePath(),tt.moveTo(ce[0],ce[1]),tt.lineTo(ye[0],ye[1]),tt.lineTo(Je[0],Je[1]),tt.lineTo(Je[0],Je[1]),tt.lineTo(nr[0],nr[1]),tt.closePath()},R.getCompositionBorders=function(){var tt=v.path();return this.drawCompositionBorders(tt),tt.toString()},R.scale(700)}function D(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function L(){var q,G,N=s.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),at,H=s.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),ft,ct=s.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),K,$,et={point:function(R,V){$=[R,V]}};function B(R){var V=R[0],tt=R[1];return $=null,at.point(V,tt),$||(ft.point(V,tt),$)||(K.point(V,tt),$)}B.invert=function(R){var V=N.scale(),tt=N.translate(),lt=(R[0]-tt[0])/V,Et=(R[1]-tt[1])/V;return(Et>=-.10925&&Et<-.02701&&lt>=-.135&&lt<-.0397?H:Et>=.04713&&Et<.11138&&lt>=-.03986&&lt<.051?ct:N).invert(R)},B.stream=function(R){return q&&G===R?q:q=D([N.stream(G=R),H.stream(R),ct.stream(R)])},B.precision=function(R){return arguments.length?(N.precision(R),H.precision(R),ct.precision(R),w()):N.precision()},B.scale=function(R){return arguments.length?(N.scale(R),H.scale(R),ct.scale(R*.7),B.translate(N.translate())):N.scale()},B.translate=function(R){if(!arguments.length)return N.translate();var V=N.scale(),tt=+R[0],lt=+R[1];return at=N.translate(R).clipExtent([[tt-.1352*V,lt-.1091*V],[tt+.117*V,lt+.098*V]]).stream(et),ft=H.translate([tt-.0425*V,lt-.005*V]).clipExtent([[tt-.135*V+o,lt-.1093*V+o],[tt-.0397*V-o,lt-.027*V-o]]).stream(et),K=ct.translate(R).clipExtent([[tt-.0399*V+o,lt+.0471*V+o],[tt+.051*V-o,lt+.1114*V-o]]).stream(et),w()},B.fitExtent=function(R,V){return h(B,R,V)},B.fitSize=function(R,V){return p(B,R,V)};function w(){return q=G=null,B}return B.drawCompositionBorders=function(R){var V=N([126.01320483689143,41.621090310215585]),tt=N([133.04304387025903,42.15087523707186]),lt=N([133.3021766080688,37.43975444725098]),Et=N([126.87889168628224,36.95488945159779]),ot=N([132.9,29.8]),Mt=N([134,33]),Ot=N([139.3,33.2]),Ft=N([139.16,30.5]);R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath(),R.moveTo(ot[0],ot[1]),R.lineTo(Mt[0],Mt[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ft[0],Ft[1])},B.getCompositionBorders=function(){var R=v.path();return this.drawCompositionBorders(R),R.toString()},B.scale(2200)}function Z(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function U(){var q,G,N=s.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),at,H=s.geoMercator().center([-53.2,3.9]),ft,ct=s.geoMercator().center([-61.03,14.67]),K,$=s.geoMercator().center([-61.46,16.14]),et,B=s.geoMercator().center([-62.85,17.92]),w,R=s.geoMercator().center([-56.23,46.93]),V,tt=s.geoMercator().center([45.16,-12.8]),lt,Et=s.geoMercator().center([55.52,-21.13]),ot,Mt=s.geoMercator().center([165.8,-21.07]),Ot,Ft=s.geoMercator().center([-178.1,-14.3]),zt,$t=s.geoMercator().center([-150.55,-17.11]),ce,ye=s.geoMercator().center([-150.55,-17.11]),Je,nr,Xe={point:function(xe,de){nr=[xe,de]}};function mr(xe){var de=xe[0],ze=xe[1];return nr=null,at.point(de,ze),nr||(ft.point(de,ze),nr)||(K.point(de,ze),nr)||(et.point(de,ze),nr)||(w.point(de,ze),nr)||(V.point(de,ze),nr)||(lt.point(de,ze),nr)||(ot.point(de,ze),nr)||(Ot.point(de,ze),nr)||(zt.point(de,ze),nr)||(ce.point(de,ze),nr)||(Je.point(de,ze),nr)}mr.invert=function(xe){var de=N.scale(),ze=N.translate(),Ue=(xe[0]-ze[0])/de,Kr=(xe[1]-ze[1])/de;return(Kr>=.029&&Kr<.0864&&Ue>=-.14&&Ue<-.0996?H:Kr>=0&&Kr<.029&&Ue>=-.14&&Ue<-.0996?ct:Kr>=-.032&&Kr<0&&Ue>=-.14&&Ue<-.0996?$:Kr>=-.052&&Kr<-.032&&Ue>=-.14&&Ue<-.0996?B:Kr>=-.076&&Kr<.052&&Ue>=-.14&&Ue<-.0996?R:Kr>=-.076&&Kr<-.052&&Ue>=.0967&&Ue<.1371?tt:Kr>=-.052&&Kr<-.02&&Ue>=.0967&&Ue<.1371?Et:Kr>=-.02&&Kr<.012&&Ue>=.0967&&Ue<.1371?Mt:Kr>=.012&&Kr<.033&&Ue>=.0967&&Ue<.1371?Ft:Kr>=.033&&Kr<.0864&&Ue>=.0967&&Ue<.1371?$t:N).invert(xe)},mr.stream=function(xe){return q&&G===xe?q:q=Z([N.stream(G=xe),H.stream(xe),ct.stream(xe),$.stream(xe),B.stream(xe),R.stream(xe),tt.stream(xe),Et.stream(xe),Mt.stream(xe),Ft.stream(xe),$t.stream(xe),ye.stream(xe)])},mr.precision=function(xe){return arguments.length?(N.precision(xe),H.precision(xe),ct.precision(xe),$.precision(xe),B.precision(xe),R.precision(xe),tt.precision(xe),Et.precision(xe),Mt.precision(xe),Ft.precision(xe),$t.precision(xe),ye.precision(xe),Gr()):N.precision()},mr.scale=function(xe){return arguments.length?(N.scale(xe),H.scale(xe*.6),ct.scale(xe*1.6),$.scale(xe*1.4),B.scale(xe*5),R.scale(xe*1.3),tt.scale(xe*1.6),Et.scale(xe*1.2),Mt.scale(xe*.3),Ft.scale(xe*2.7),$t.scale(xe*.5),ye.scale(xe*.06),mr.translate(N.translate())):N.scale()},mr.translate=function(xe){if(!arguments.length)return N.translate();var de=N.scale(),ze=+xe[0],Ue=+xe[1];return at=N.translate(xe).clipExtent([[ze-.0996*de,Ue-.0908*de],[ze+.0967*de,Ue+.0864*de]]).stream(Xe),ft=H.translate([ze-.12*de,Ue+.0575*de]).clipExtent([[ze-.14*de+o,Ue+.029*de+o],[ze-.0996*de-o,Ue+.0864*de-o]]).stream(Xe),K=ct.translate([ze-.12*de,Ue+.013*de]).clipExtent([[ze-.14*de+o,Ue+0*de+o],[ze-.0996*de-o,Ue+.029*de-o]]).stream(Xe),et=$.translate([ze-.12*de,Ue-.014*de]).clipExtent([[ze-.14*de+o,Ue-.032*de+o],[ze-.0996*de-o,Ue+0*de-o]]).stream(Xe),w=B.translate([ze-.12*de,Ue-.044*de]).clipExtent([[ze-.14*de+o,Ue-.052*de+o],[ze-.0996*de-o,Ue-.032*de-o]]).stream(Xe),V=R.translate([ze-.12*de,Ue-.065*de]).clipExtent([[ze-.14*de+o,Ue-.076*de+o],[ze-.0996*de-o,Ue-.052*de-o]]).stream(Xe),lt=tt.translate([ze+.117*de,Ue-.064*de]).clipExtent([[ze+.0967*de+o,Ue-.076*de+o],[ze+.1371*de-o,Ue-.052*de-o]]).stream(Xe),ot=Et.translate([ze+.116*de,Ue-.0355*de]).clipExtent([[ze+.0967*de+o,Ue-.052*de+o],[ze+.1371*de-o,Ue-.02*de-o]]).stream(Xe),Ot=Mt.translate([ze+.116*de,Ue-.0048*de]).clipExtent([[ze+.0967*de+o,Ue-.02*de+o],[ze+.1371*de-o,Ue+.012*de-o]]).stream(Xe),zt=Ft.translate([ze+.116*de,Ue+.022*de]).clipExtent([[ze+.0967*de+o,Ue+.012*de+o],[ze+.1371*de-o,Ue+.033*de-o]]).stream(Xe),Je=ye.translate([ze+.11*de,Ue+.045*de]).clipExtent([[ze+.0967*de+o,Ue+.033*de+o],[ze+.1371*de-o,Ue+.06*de-o]]).stream(Xe),ce=$t.translate([ze+.115*de,Ue+.075*de]).clipExtent([[ze+.0967*de+o,Ue+.06*de+o],[ze+.1371*de-o,Ue+.0864*de-o]]).stream(Xe),Gr()},mr.fitExtent=function(xe,de){return h(mr,xe,de)},mr.fitSize=function(xe,de){return p(mr,xe,de)};function Gr(){return q=G=null,mr}return mr.drawCompositionBorders=function(xe){var de,ze,Ue,Kr;de=N([-7.938886725111036,43.7219460918835]),ze=N([-4.832080896458295,44.12930268549372]),Ue=N([-4.205299743793263,40.98096346967365]),Kr=N([-7.071796453126152,40.610037319181444]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([-8.42751373617692,45.32889452553031]),ze=N([-5.18599305777107,45.7566442062976]),Ue=N([-4.832080905154431,44.129302726751426]),Kr=N([-7.938886737126192,43.72194613263854]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([-9.012656899657046,47.127733821030176]),ze=N([-5.6105244772793155,47.579777861410626]),Ue=N([-5.185993067168585,45.756644248170346]),Kr=N([-8.427513749141811,45.32889456686326]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([-9.405747558985553,48.26506375557457]),ze=N([-5.896175018439575,48.733352850851624]),Ue=N([-5.610524487556043,47.57977790393761]),Kr=N([-9.012656913808351,47.127733862971255]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([-9.908436061346974,49.642448789505856]),ze=N([-6.262026716233124,50.131426841787174]),Ue=N([-5.896175029331232,48.73335289377258]),Kr=N([-9.40574757396393,48.26506379787767]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([11.996907706504462,50.16039028163579]),ze=N([15.649907879773343,49.68279246765253]),Ue=N([15.156712840526632,48.30371557625831]),Kr=N([11.64122661754411,48.761078240546816]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([11.641226606955788,48.7610781975889]),ze=N([15.156712825832164,48.30371553390465]),Ue=N([14.549932166241172,46.4866532486199]),Kr=N([11.204443787952183,46.91899233914248]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([11.204443778297161,46.918992296823646]),ze=N([14.549932152815039,46.486653206856396]),Ue=N([13.994409796764009,44.695833444323256]),Kr=N([10.805306599253848,45.105133870684924]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([10.805306590412085,45.10513382903308]),ze=N([13.99440978444733,44.695833403183606]),Ue=N([13.654633799024392,43.53552468558152]),Kr=N([10.561516803980956,43.930671459798624]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([10.561516795617383,43.93067141859757]),ze=N([13.654633787361952,43.5355246448671]),Ue=N([12.867691604239901,40.640701985019405]),Kr=N([9.997809515987688,41.00288343254471]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([10.8,42.4]),ze=N([12.8,42.13]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1])},mr.getCompositionBorders=function(){var xe=v.path();return this.drawCompositionBorders(xe),xe.toString()},mr.scale(2700)}function Y(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function W(){var q,G,N=s.geoConicConformal().rotate([-10,-53]).parallels([0,60]),at,H=s.geoMercator().center([-61.46,16.14]),ft,ct=s.geoMercator().center([-53.2,3.9]),K,$=s.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),et,B=s.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),w,R=s.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),V,tt=s.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),lt,Et=s.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),ot,Mt=s.geoMercator().center([-61.03,14.67]),Ot,Ft=s.geoMercator().center([45.16,-12.8]),zt,$t=s.geoMercator().center([55.52,-21.13]),ce,ye=s.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),Je,nr,Xe={point:function(xe,de){nr=[xe,de]}};function mr(xe){var de=xe[0],ze=xe[1];return nr=null,at.point(de,ze),nr||(K.point(de,ze),nr)||(Ot.point(de,ze),nr)||(ft.point(de,ze),nr)||(ot.point(de,ze),nr)||(lt.point(de,ze),nr)||(zt.point(de,ze),nr)||(ce.point(de,ze),nr)||(Je.point(de,ze),nr)||(et.point(de,ze),nr)||(w.point(de,ze),nr)||(V.point(de,ze),nr)}mr.invert=function(xe){var de=N.scale(),ze=N.translate(),Ue=(xe[0]-(ze[0]+.08*de))/de,Kr=(xe[1]-ze[1])/de;return(Kr>=-.31&&Kr<-.24&&Ue>=.14&&Ue<.24?H:Kr>=-.24&&Kr<-.17&&Ue>=.14&&Ue<.24?ct:Kr>=-.17&&Kr<-.12&&Ue>=.21&&Ue<.24?B:Kr>=-.17&&Kr<-.14&&Ue>=.14&&Ue<.165?R:Kr>=-.17&&Kr<-.1&&Ue>=.14&&Ue<.24?$:Kr>=-.1&&Kr<-.03&&Ue>=.14&&Ue<.24?tt:Kr>=-.03&&Kr<.04&&Ue>=.14&&Ue<.24?Et:Kr>=-.31&&Kr<-.24&&Ue>=.24&&Ue<.34?Mt:Kr>=-.24&&Kr<-.17&&Ue>=.24&&Ue<.34?Ft:Kr>=-.17&&Kr<-.1&&Ue>=.24&&Ue<.34?$t:Kr>=-.1&&Kr<-.03&&Ue>=.24&&Ue<.34?ye:N).invert(xe)},mr.stream=function(xe){return q&&G===xe?q:q=Y([N.stream(G=xe),ct.stream(xe),Mt.stream(xe),H.stream(xe),Et.stream(xe),tt.stream(xe),Ft.stream(xe),$t.stream(xe),ye.stream(xe),$.stream(xe),B.stream(xe),R.stream(xe)])},mr.precision=function(xe){return arguments.length?(N.precision(xe),ct.precision(xe),Mt.precision(xe),H.precision(xe),Et.precision(xe),tt.precision(xe),Ft.precision(xe),$t.precision(xe),ye.precision(xe),$.precision(xe),B.precision(xe),R.precision(xe),Gr()):N.precision()},mr.scale=function(xe){return arguments.length?(N.scale(xe),H.scale(xe*3),ct.scale(xe*.8),Mt.scale(xe*3.5),$t.scale(xe*2.7),$.scale(xe*2),B.scale(xe*2),R.scale(xe*2),tt.scale(xe*3),Et.scale(xe),Ft.scale(xe*5.5),ye.scale(xe*6),mr.translate(N.translate())):N.scale()},mr.translate=function(xe){if(!arguments.length)return N.translate();var de=N.scale(),ze=+xe[0],Ue=+xe[1];return at=N.translate([ze-.08*de,Ue]).clipExtent([[ze-.51*de,Ue-.33*de],[ze+.5*de,Ue+.33*de]]).stream(Xe),ft=H.translate([ze+.19*de,Ue-.275*de]).clipExtent([[ze+.14*de+o,Ue-.31*de+o],[ze+.24*de-o,Ue-.24*de-o]]).stream(Xe),K=ct.translate([ze+.19*de,Ue-.205*de]).clipExtent([[ze+.14*de+o,Ue-.24*de+o],[ze+.24*de-o,Ue-.17*de-o]]).stream(Xe),et=$.translate([ze+.19*de,Ue-.135*de]).clipExtent([[ze+.14*de+o,Ue-.17*de+o],[ze+.24*de-o,Ue-.1*de-o]]).stream(Xe),w=B.translate([ze+.225*de,Ue-.147*de]).clipExtent([[ze+.21*de+o,Ue-.17*de+o],[ze+.24*de-o,Ue-.12*de-o]]).stream(Xe),V=R.translate([ze+.153*de,Ue-.15*de]).clipExtent([[ze+.14*de+o,Ue-.17*de+o],[ze+.165*de-o,Ue-.14*de-o]]).stream(Xe),lt=tt.translate([ze+.19*de,Ue-.065*de]).clipExtent([[ze+.14*de+o,Ue-.1*de+o],[ze+.24*de-o,Ue-.03*de-o]]).stream(Xe),ot=Et.translate([ze+.19*de,Ue+.005*de]).clipExtent([[ze+.14*de+o,Ue-.03*de+o],[ze+.24*de-o,Ue+.04*de-o]]).stream(Xe),Ot=Mt.translate([ze+.29*de,Ue-.275*de]).clipExtent([[ze+.24*de+o,Ue-.31*de+o],[ze+.34*de-o,Ue-.24*de-o]]).stream(Xe),zt=Ft.translate([ze+.29*de,Ue-.205*de]).clipExtent([[ze+.24*de+o,Ue-.24*de+o],[ze+.34*de-o,Ue-.17*de-o]]).stream(Xe),ce=$t.translate([ze+.29*de,Ue-.135*de]).clipExtent([[ze+.24*de+o,Ue-.17*de+o],[ze+.34*de-o,Ue-.1*de-o]]).stream(Xe),Je=ye.translate([ze+.29*de,Ue-.065*de]).clipExtent([[ze+.24*de+o,Ue-.1*de+o],[ze+.34*de-o,Ue-.03*de-o]]).stream(Xe),Gr()},mr.fitExtent=function(xe,de){return h(mr,xe,de)},mr.fitSize=function(xe,de){return p(mr,xe,de)};function Gr(){return q=G=null,mr}return mr.drawCompositionBorders=function(xe){var de,ze,Ue,Kr;de=N([42.45755610828648,63.343658547914934]),ze=N([52.65837266667029,59.35045080290929]),Ue=N([47.19754502247785,56.12653496548117]),Kr=N([37.673034273363044,59.61638268506111]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([59.41110754003403,62.35069727399336]),ze=N([66.75050228640794,57.11797303636038]),Ue=N([60.236065725110436,54.63331433818992]),Kr=N([52.65837313153311,59.350450804599355]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([48.81091130080243,66.93353402634641]),ze=N([59.41110730654679,62.35069740653086]),Ue=N([52.6583728974441,59.3504509222445]),Kr=N([42.45755631675751,63.34365868805821]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([31.054198418446475,52.1080673766184]),ze=N([39.09869284884117,49.400700047190554]),Ue=N([36.0580811499175,46.02944174908498]),Kr=N([28.690508588835726,48.433126979386415]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([33.977877745912025,55.849945501331]),ze=N([42.75328432167726,52.78455122462353]),Ue=N([39.09869297540224,49.400700176148625]),Kr=N([31.05419851807008,52.10806751810923]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([52.658372900759296,59.35045068526415]),ze=N([60.23606549583304,54.63331423800264]),Ue=N([54.6756370953122,51.892298789399455]),Kr=N([47.19754524788189,56.126534861222794]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([47.19754506082455,56.126534735591456]),ze=N([54.675636900123514,51.892298681337095]),Ue=N([49.94448648951486,48.98775484983285]),Kr=N([42.75328468716108,52.78455126060818]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([42.75328453416769,52.78455113209101]),ze=N([49.94448632339758,48.98775473706457]),Ue=N([45.912339990394315,45.99361784987003]),Kr=N([39.09869317356607,49.40070009378711]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([37.673034114296634,59.61638254183119]),ze=N([47.197544835420544,56.126534839849846]),Ue=N([42.75328447467064,52.78455135314068]),Kr=N([33.977877870363905,55.849945644671145]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([44.56748486446032,57.26489367845818]),Ue=N([43.9335791193588,53.746540942601726]),Kr=N([43,56]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath(),de=N([37.673034114296634,59.61638254183119]),ze=N([40.25902691953466,58.83002044222639]),Ue=N([38.458270492742024,57.26232178028002]),Kr=N([35.97754948030156,58.00266637992386]),xe.moveTo(de[0],de[1]),xe.lineTo(ze[0],ze[1]),xe.lineTo(Ue[0],Ue[1]),xe.lineTo(Kr[0],Kr[1]),xe.closePath()},mr.getCompositionBorders=function(){var xe=v.path();return this.drawCompositionBorders(xe),xe.toString()},mr.scale(750)}function J(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function ht(){var q,G,N=s.geoConicConformal().rotate([-5.5,-52.2]).parallels([0,60]),at,H=s.geoMercator().center([-68.25,12.2]),ft,ct=s.geoMercator().center([-63.1,17.5]),K,$,et={point:function(R,V){$=[R,V]}};function B(R){var V=t.__read(R,2),tt=V[0],lt=V[1];return $=null,at.point(tt,lt),$||(ft.point(tt,lt),$)||(K.point(tt,lt),$)}B.invert=function(R){var V=N.scale(),tt=N.translate(),lt=(R[0]-tt[0])/V,Et=(R[1]-tt[1])/V;return(Et>=-.0067&&Et<.0015&&lt>=-.0232&&lt<-.0154?H:Et>=-.022&&Et<-.014&&lt>=-.023&&lt<-.014?ct:N).invert(R)},B.stream=function(R){return q&&G===R?q:q=J([N.stream(G=R),H.stream(R),ct.stream(R)])},B.precision=function(R){return arguments.length?(N.precision(R),H.precision(R),ct.precision(R),w()):N.precision()},B.scale=function(R){return arguments.length?(N.scale(R),H.scale(R),ct.scale(R),B.translate(N.translate())):N.scale()},B.translate=function(R){if(!arguments.length)return N.translate();var V=N.scale(),tt=+R[0],lt=+R[1];return at=N.translate(R).clipExtent([[tt-.0245*V,lt-.026*V],[tt+.023*V,lt+.026*V]]).stream(et),ft=H.translate([tt-.0186*V,lt-.00325*V]).clipExtent([[tt-.0232*V+o,lt-.0067*V+o],[tt-.0154*V-o,lt+.0015*V-o]]).stream(et),K=ct.translate([tt-.0185*V,lt-.017*V]).clipExtent([[tt-.023*V+o,lt-.022*V+o],[tt-.014*V-o,lt-.014*V-o]]).stream(et),w()},B.fitExtent=function(R,V){return h(B,R,V)},B.fitSize=function(R,V){return p(B,R,V)};function w(){return q=G=null,B}return B.drawCompositionBorders=function(R){var V=N([3.30573,52.5562]),tt=N([4.043,52.572]),lt=N([4.0646,52.1017]),Et=N([3.3382,52.0861]),ot=N([3.262,53.439]),Mt=N([4.1373,53.4571]),Ot=N([4.1574,52.9946]),Ft=N([3.2951,52.9768]);R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath(),R.moveTo(ot[0],ot[1]),R.lineTo(Mt[0],Mt[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ot[0],Ot[1]),R.lineTo(Ft[0],Ft[1]),R.closePath()},B.getCompositionBorders=function(){var R=v.path();return this.drawCompositionBorders(R),R.toString()},B.scale(4200)}function nt(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function Q(){var q,G,N=s.geoMercator().center([105.25,4]),at,H=s.geoMercator().center([118.65,2.86]),ft,ct,K={point:function(B,w){ct=[B,w]}};function $(B){var w=B[0],R=B[1];return ct=null,at.point(w,R),ct||(ft.point(w,R),ct)}$.invert=function(B){var w=N.scale(),R=N.translate(),V=(B[0]-R[0])/w,tt=(B[1]-R[1])/w;return(tt>=-.0521&&tt<.0229&&V>=-.0111&&V<.1?H:N).invert(B)},$.stream=function(B){return q&&G===B?q:q=nt([N.stream(G=B),H.stream(B)])},$.precision=function(B){return arguments.length?(N.precision(B),H.precision(B),et()):N.precision()},$.scale=function(B){return arguments.length?(N.scale(B),H.scale(B*.615),$.translate(N.translate())):N.scale()},$.translate=function(B){if(!arguments.length)return N.translate();var w=N.scale(),R=+B[0],V=+B[1];return at=N.translate(B).clipExtent([[R-.11*w,V-.0521*w],[R-.0111*w,V+.0521*w]]).stream(K),ft=H.translate([R+.09*w,V-0*w]).clipExtent([[R-.0111*w+o,V-.0521*w+o],[R+.1*w-o,V+.024*w-o]]).stream(K),et()},$.fitExtent=function(B,w){return h($,B,w)},$.fitSize=function(B,w){return p($,B,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(B){var w=N([106.3214,2.0228]),R=N([105.1843,2.3761]),V=N([104.2151,3.3618]),tt=N([104.215,4.5651]);B.moveTo(w[0],w[1]),B.lineTo(R[0],R[1]),B.lineTo(V[0],V[1]),B.lineTo(tt[0],tt[1])},$.getCompositionBorders=function(){var B=v.path();return this.drawCompositionBorders(B),B.toString()},$.scale(4800)}function xt(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function _t(){var q,G,N=s.geoMercator().rotate([-9.5,-1.5]),at,H=s.geoMercator().rotate([-8.6,-3.5]),ft,ct=s.geoMercator().rotate([-5.6,1.45]),K,$,et={point:function(R,V){$=[R,V]}};function B(R){var V=R[0],tt=R[1];return $=null,at.point(V,tt),$||(ft.point(V,tt),$)||(K.point(V,tt),$)}B.invert=function(R){var V=N.scale(),tt=N.translate(),lt=(R[0]-tt[0])/V,Et=(R[1]-tt[1])/V;return(Et>=-.02&&Et<0&&lt>=-.038&&lt<-.005?H:Et>=0&&Et<.02&&lt>=-.038&&lt<-.005?ct:N).invert(R)},B.stream=function(R){return q&&G===R?q:q=xt([N.stream(G=R),H.stream(R),ct.stream(R)])},B.precision=function(R){return arguments.length?(N.precision(R),H.precision(R),ct.precision(R),w()):N.precision()},B.scale=function(R){return arguments.length?(N.scale(R),H.scale(R*1.5),ct.scale(R*4),B.translate(N.translate())):N.scale()},B.translate=function(R){if(!arguments.length)return N.translate();var V=N.scale(),tt=+R[0],lt=+R[1];return at=N.translate(R).clipExtent([[tt-.005*V,lt-.02*V],[tt+.038*V,lt+.02*V]]).stream(et),ft=H.translate([tt-.025*V,lt-.01*V]).clipExtent([[tt-.038*V+o,lt-.02*V+o],[tt-.005*V-o,lt+0*V-o]]).stream(et),K=ct.translate([tt-.025*V,lt+.01*V]).clipExtent([[tt-.038*V+o,lt-0*V+o],[tt-.005*V-o,lt+.02*V-o]]).stream(et),w()},B.fitExtent=function(R,V){return h(B,R,V)},B.fitSize=function(R,V){return p(B,R,V)};function w(){return q=G=null,B}return B.drawCompositionBorders=function(R){var V,tt,lt,Et;V=N([9.21327272751682,2.645820439454123]),tt=N([11.679126293239872,2.644755519268689]),lt=N([11.676845389029227,.35307824637606433]),Et=N([9.213572917774014,.35414205204417754]),R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath(),V=N([7.320873711543669,2.64475551449975]),tt=N([9.213272722738658,2.645820434679803]),lt=N([9.213422896480349,1.4999812505283054]),Et=N([7.322014760520787,1.4989168878985566]),R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath(),V=N([7.3220147605302905,1.4989168783492766]),tt=N([9.213422896481598,1.499981240979021]),lt=N([9.213572912999604,.354142056817247]),Et=N([7.323154615739809,.353078251154504]),R.moveTo(V[0],V[1]),R.lineTo(tt[0],tt[1]),R.lineTo(lt[0],lt[1]),R.lineTo(Et[0],Et[1]),R.closePath()},B.getCompositionBorders=function(){var R=v.path();return this.drawCompositionBorders(R),R.toString()},B.scale(12e3)}function Nt(q){var G=q.length;return{point:function(N,at){for(var H=-1;++H<G;)q[H].point(N,at)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function rt(){var q,G,N=s.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),at,H=s.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),ft,ct,K={point:function(B,w){ct=[B,w]}};function $(B){var w=B[0],R=B[1];return ct=null,at.point(w,R),ct||(ft.point(w,R),ct)}$.invert=function(B){var w=N.scale(),R=N.translate(),V=(B[0]-R[0])/w,tt=(B[1]-R[1])/w;return(tt>=-.089&&tt<.06&&V>=.029&&V<.046?H:N).invert(B)},$.stream=function(B){return q&&G===B?q:q=Nt([N.stream(G=B),H.stream(B)])},$.precision=function(B){return arguments.length?(N.precision(B),H.precision(B),et()):N.precision()},$.scale=function(B){return arguments.length?(N.scale(B),H.scale(B),$.translate(N.translate())):N.scale()},$.translate=function(B){if(!arguments.length)return N.translate();var w=N.scale(),R=+B[0],V=+B[1];return at=N.translate(B).clipExtent([[R-.065*w,V-.089*w],[R+.075*w,V+.089*w]]).stream(K),ft=H.translate([R+.01*w,V+.025*w]).clipExtent([[R+.029*w+o,V-.089*w+o],[R+.046*w-o,V-.06*w-o]]).stream(K),et()},$.fitExtent=function(B,w){return h($,B,w)},$.fitSize=function(B,w){return p($,B,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(B){var w,R,V,tt;w=N([-1.113205870242365,59.64920050773357]),R=N([.807899092399606,59.59085836472269]),V=N([.5778611961420386,57.93467822832577]),tt=N([-1.25867782078448,57.99029450085142]),B.moveTo(w[0],w[1]),B.lineTo(R[0],R[1]),B.lineTo(V[0],V[1]),B.lineTo(tt[0],tt[1]),B.closePath()},$.getCompositionBorders=function(){var B=v.path();return this.drawCompositionBorders(B),B.toString()},$.scale(2800)}c.geoAlbersUk=rt,c.geoAlbersUsa=g,c.geoAlbersUsaTerritories=E,c.geoConicConformalEurope=W,c.geoConicConformalFrance=U,c.geoConicConformalNetherlands=ht,c.geoConicConformalPortugal=b,c.geoConicConformalSpain=m,c.geoConicEquidistantJapan=L,c.geoMercatorEcuador=A,c.geoMercatorEquatorialGuinea=_t,c.geoMercatorMalaysia=Q,c.geoTransverseMercatorChile=O,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";var c={},s={},v=34,o=10,f=13;function r(W){return new Function("d","return {"+W.map(function(J,ht){return JSON.stringify(J)+": d["+ht+'] || ""'}).join(",")+"}")}function e(W,J){var ht=r(W);return function(nt,Q){return J(ht(nt),Q,W)}}function n(W){var J=Object.create(null),ht=[];return W.forEach(function(nt){for(var Q in nt)Q in J||ht.push(J[Q]=Q)}),ht}function a(W,J){var ht=W+"",nt=ht.length;return nt<J?new Array(J-nt+1).join(0)+ht:ht}function u(W){return W<0?"-"+a(-W,6):W>9999?"+"+a(W,6):a(W,4)}function l(W){var J=W.getUTCHours(),ht=W.getUTCMinutes(),nt=W.getUTCSeconds(),Q=W.getUTCMilliseconds();return isNaN(W)?"Invalid Date":u(W.getUTCFullYear())+"-"+a(W.getUTCMonth()+1,2)+"-"+a(W.getUTCDate(),2)+(Q?"T"+a(J,2)+":"+a(ht,2)+":"+a(nt,2)+"."+a(Q,3)+"Z":nt?"T"+a(J,2)+":"+a(ht,2)+":"+a(nt,2)+"Z":ht||J?"T"+a(J,2)+":"+a(ht,2)+"Z":"")}function h(W){var J=new RegExp('["'+W+`
\r]`),ht=W.charCodeAt(0);function nt(N,at){var H,ft,ct=Q(N,function(K,$){if(H)return H(K,$-1);ft=K,H=at?e(K,at):r(K)});return ct.columns=ft||[],ct}function Q(N,at){var H=[],ft=N.length,ct=0,K=0,$,et=ft<=0,B=!1;N.charCodeAt(ft-1)===o&&--ft,N.charCodeAt(ft-1)===f&&--ft;function w(){if(et)return s;if(B)return B=!1,c;var V,tt=ct,lt;if(N.charCodeAt(tt)===v){for(;ct++<ft&&N.charCodeAt(ct)!==v||N.charCodeAt(++ct)===v;);return(V=ct)>=ft?et=!0:(lt=N.charCodeAt(ct++))===o?B=!0:lt===f&&(B=!0,N.charCodeAt(ct)===o&&++ct),N.slice(tt+1,V-1).replace(/""/g,'"')}for(;ct<ft;){if((lt=N.charCodeAt(V=ct++))===o)B=!0;else if(lt===f)B=!0,N.charCodeAt(ct)===o&&++ct;else if(lt!==ht)continue;return N.slice(tt,V)}return et=!0,N.slice(tt,ft)}for(;($=w())!==s;){for(var R=[];$!==c&&$!==s;)R.push($),$=w();at&&(R=at(R,K++))==null||H.push(R)}return H}function xt(N,at){return N.map(function(H){return at.map(function(ft){return G(H[ft])}).join(W)})}function _t(N,at){return at==null&&(at=n(N)),[at.map(G).join(W)].concat(xt(N,at)).join(`
`)}function Nt(N,at){return at==null&&(at=n(N)),xt(N,at).join(`
`)}function rt(N){return N.map(q).join(`
`)}function q(N){return N.map(G).join(W)}function G(N){return N==null?"":N instanceof Date?l(N):J.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:nt,parseRows:Q,format:_t,formatBody:Nt,formatRows:rt,formatRow:q,formatValue:G}}var p=h(","),d=p.parse,g=p.parseRows,y=p.format,E=p.formatBody,C=p.formatRows,m=p.formatRow,M=p.formatValue,b=h("	"),S=b.parse,A=b.parseRows,T=b.format,O=b.formatBody,D=b.formatRows,L=b.formatRow,Z=b.formatValue;function U(W){for(var J in W){var ht=W[J].trim(),nt,Q;if(!ht)ht=null;else if(ht==="true")ht=!0;else if(ht==="false")ht=!1;else if(ht==="NaN")ht=NaN;else if(!isNaN(nt=+ht))ht=nt;else if(Q=ht.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Y&&!!Q[4]&&!Q[7]&&(ht=ht.replace(/-/g,"/").replace(/T/," ")),ht=new Date(ht);else continue;W[J]=ht}return W}var Y=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();t.autoType=U,t.csvFormat=y,t.csvFormatBody=E,t.csvFormatRow=m,t.csvFormatRows=C,t.csvFormatValue=M,t.csvParse=d,t.csvParseRows=g,t.dsvFormat=h,t.tsvFormat=T,t.tsvFormatBody=O,t.tsvFormatRow=L,t.tsvFormatRows=D,t.tsvFormatValue=Z,t.tsvParse=S,t.tsvParseRows=A,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-geo@1.12.1@d3-geo/dist/d3-geo.js"),i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c,s){"use strict";var v=Math.abs,o=Math.atan,f=Math.atan2,r=Math.cos,e=Math.exp,n=Math.floor,a=Math.log,u=Math.max,l=Math.min,h=Math.pow,p=Math.round,d=Math.sign||function(pt){return pt>0?1:pt<0?-1:0},g=Math.sin,y=Math.tan,E=1e-6,C=1e-12,m=Math.PI,M=m/2,b=m/4,S=Math.SQRT1_2,A=W(2),T=W(m),O=m*2,D=180/m,L=m/180;function Z(pt){return pt?pt/Math.sin(pt):1}function U(pt){return pt>1?M:pt<-1?-M:Math.asin(pt)}function Y(pt){return pt>1?0:pt<-1?m:Math.acos(pt)}function W(pt){return pt>0?Math.sqrt(pt):0}function J(pt){return pt=e(2*pt),(pt-1)/(pt+1)}function ht(pt){return(e(pt)-e(-pt))/2}function nt(pt){return(e(pt)+e(-pt))/2}function Q(pt){return a(pt+W(pt*pt+1))}function xt(pt){return a(pt+W(pt*pt-1))}function _t(pt){var mt=y(pt/2),Pt=2*a(r(pt/2))/(mt*mt);function It(Ht,Gt){var qt=r(Ht),Fe=r(Gt),Be=g(Gt),$e=Fe*qt,hr=-((1-$e?a((1+$e)/2)/(1-$e):-.5)+Pt/(1+$e));return[hr*Fe*g(Ht),hr*Be]}return It.invert=function(Ht,Gt){var qt=W(Ht*Ht+Gt*Gt),Fe=-pt/2,Be=50,$e;if(!qt)return[0,0];do{var hr=Fe/2,Tr=r(hr),Xr=g(hr),en=y(hr),An=a(1/Tr);Fe-=$e=(2/en*An-Pt*en-qt)/(-An/(Xr*Xr)+1-Pt/(2*Tr*Tr))}while(v($e)>E&&--Be>0);var Yn=g(Fe);return[f(Ht*Yn,qt*r(Fe)),U(Gt*Yn/qt)]},It}var Nt=function(){var pt=M,mt=c.geoProjectionMutator(_t),Pt=mt(pt);return Pt.radius=function(It){return arguments.length?mt(pt=It*L):pt*D},Pt.scale(179.976).clipAngle(147)};function rt(pt,mt){var Pt=r(mt),It=Z(Y(Pt*r(pt/=2)));return[2*Pt*g(pt)*It,g(mt)*It]}rt.invert=function(pt,mt){if(!(pt*pt+4*mt*mt>m*m+E)){var Pt=pt,It=mt,Ht=25;do{var Gt=g(Pt),qt=g(Pt/2),Fe=r(Pt/2),Be=g(It),$e=r(It),hr=g(2*It),Tr=Be*Be,Xr=$e*$e,en=qt*qt,An=1-Xr*Fe*Fe,Yn=An?Y($e*Fe)*W(vi=1/An):vi=0,vi,Qi=2*Yn*$e*qt-pt,ga=Yn*Be-mt,Pa=vi*(Xr*en+Yn*$e*Fe*Tr),Ta=vi*(.5*Gt*hr-Yn*2*Be*qt),La=vi*.25*(hr*qt-Yn*Be*Xr*Gt),So=vi*(Tr*Fe+Yn*en*$e),Os=Ta*La-So*Pa;if(!Os)break;var ls=(ga*Ta-Qi*So)/Os,rs=(Qi*La-ga*Pa)/Os;Pt-=ls,It-=rs}while((v(ls)>E||v(rs)>E)&&--Ht>0);return[Pt,It]}};var q=function(){return c.geoProjection(rt).scale(152.63)};function G(pt){var mt=g(pt),Pt=r(pt),It=pt>=0?1:-1,Ht=y(It*pt),Gt=(1+mt-Pt)/2;function qt(Fe,Be){var $e=r(Be),hr=r(Fe/=2);return[(1+$e)*g(Fe),(It*Be>-f(hr,Ht)-.001?0:-It*10)+Gt+g(Be)*Pt-(1+$e)*mt*hr]}return qt.invert=function(Fe,Be){var $e=0,hr=0,Tr=50;do{var Xr=r($e),en=g($e),An=r(hr),Yn=g(hr),vi=1+An,Qi=vi*en-Fe,ga=Gt+Yn*Pt-vi*mt*Xr-Be,Pa=vi*Xr/2,Ta=-en*Yn,La=mt*vi*en/2,So=Pt*An+mt*Xr*Yn,Os=Ta*La-So*Pa,ls=(ga*Ta-Qi*So)/Os/2,rs=(Qi*La-ga*Pa)/Os;$e-=ls,hr-=rs}while((v(ls)>E||v(rs)>E)&&--Tr>0);return It*hr>-f(r($e),Ht)-.001?[$e*2,hr]:null},qt}var N=function(){var pt=20*L,mt=pt>=0?1:-1,Pt=y(mt*pt),It=c.geoProjectionMutator(G),Ht=It(pt),Gt=Ht.stream;return Ht.parallel=function(qt){return arguments.length?(Pt=y((mt=(pt=qt*L)>=0?1:-1)*pt),It(pt)):pt*D},Ht.stream=function(qt){var Fe=Ht.rotate(),Be=Gt(qt),$e=(Ht.rotate([0,0]),Gt(qt));return Ht.rotate(Fe),Be.sphere=function(){$e.polygonStart(),$e.lineStart();for(var hr=mt*-180;mt*hr<180;hr+=mt*90)$e.point(hr,mt*90);for(;mt*(hr-=pt)>=-180;)$e.point(hr,mt*-f(r(hr*L/2),Pt)*D);$e.lineEnd(),$e.polygonEnd()},Be},Ht.scale(218.695).center([0,28.0974])};function at(pt,mt){var Pt=y(mt/2),It=W(1-Pt*Pt),Ht=1+It*r(pt/=2),Gt=g(pt)*It/Ht,qt=Pt/Ht,Fe=Gt*Gt,Be=qt*qt;return[4/3*Gt*(3+Fe-3*Be),4/3*qt*(3+3*Fe-Be)]}at.invert=function(pt,mt){if(pt*=3/8,mt*=3/8,!pt&&v(mt)>1)return null;var Pt=pt*pt,It=mt*mt,Ht=1+Pt+It,Gt=W((Ht-W(Ht*Ht-4*mt*mt))/2),qt=U(Gt)/3,Fe=Gt?xt(v(mt/Gt))/3:Q(v(pt))/3,Be=r(qt),$e=nt(Fe),hr=$e*$e-Be*Be;return[d(pt)*2*f(ht(Fe)*Be,.25-hr),d(mt)*2*f($e*g(qt),.25+hr)]};var H=function(){return c.geoProjection(at).scale(66.1603)},ft=W(8),ct=a(1+A);function K(pt,mt){var Pt=v(mt);return Pt<b?[pt,a(y(b+mt/2))]:[pt*r(Pt)*(2*A-1/g(Pt)),d(mt)*(2*A*(Pt-b)-a(y(Pt/2)))]}K.invert=function(pt,mt){if((Gt=v(mt))<ct)return[pt,2*o(e(mt))-M];var Pt=b,It=25,Ht,Gt;do{var qt=r(Pt/2),Fe=y(Pt/2);Pt-=Ht=(ft*(Pt-b)-a(Fe)-Gt)/(ft-qt*qt/(2*Fe))}while(v(Ht)>C&&--It>0);return[pt/(r(Pt)*(ft-1/g(Pt))),d(mt)*Pt]};var $=function(){return c.geoProjection(K).scale(112.314)};function et(pt){var mt=2*m/pt;function Pt(It,Ht){var Gt=c.geoAzimuthalEquidistantRaw(It,Ht);if(v(It)>M){var qt=f(Gt[1],Gt[0]),Fe=W(Gt[0]*Gt[0]+Gt[1]*Gt[1]),Be=mt*p((qt-M)/mt)+M,$e=f(g(qt-=Be),2-r(qt));qt=Be+U(m/Fe*g($e))-$e,Gt[0]=Fe*r(qt),Gt[1]=Fe*g(qt)}return Gt}return Pt.invert=function(It,Ht){var Gt=W(It*It+Ht*Ht);if(Gt>M){var qt=f(Ht,It),Fe=mt*p((qt-M)/mt)+M,Be=qt>Fe?-1:1,$e=Gt*r(Fe-qt),hr=1/y(Be*Y(($e-m)/W(m*(m-2*$e)+Gt*Gt)));qt=Fe+2*o((hr+Be*W(hr*hr-3))/3),It=Gt*r(qt),Ht=Gt*g(qt)}return c.geoAzimuthalEquidistantRaw.invert(It,Ht)},Pt}var B=function(){var pt=5,mt=c.geoProjectionMutator(et),Pt=mt(pt),It=Pt.stream,Ht=.01,Gt=-r(Ht*L),qt=g(Ht*L);return Pt.lobes=function(Fe){return arguments.length?mt(pt=+Fe):pt},Pt.stream=function(Fe){var Be=Pt.rotate(),$e=It(Fe),hr=(Pt.rotate([0,0]),It(Fe));return Pt.rotate(Be),$e.sphere=function(){hr.polygonStart(),hr.lineStart();for(var Tr=0,Xr=360/pt,en=2*m/pt,An=90-180/pt,Yn=M;Tr<pt;++Tr,An-=Xr,Yn-=en)hr.point(f(qt*r(Yn),Gt)*D,U(qt*g(Yn))*D),An<-90?(hr.point(-90,-180-An-Ht),hr.point(-90,-180-An+Ht)):(hr.point(90,An+Ht),hr.point(90,An-Ht));hr.lineEnd(),hr.polygonEnd()},$e},Pt.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)};function w(pt,mt){var Pt=pt*g(mt),It=30,Ht;do mt-=Ht=(mt+g(mt)-Pt)/(1+r(mt));while(v(Ht)>E&&--It>0);return mt/2}function R(pt,mt,Pt){function It(Ht,Gt){return[pt*Ht*r(Gt=w(Pt,Gt)),mt*g(Gt)]}return It.invert=function(Ht,Gt){return Gt=U(Gt/mt),[Ht/(pt*r(Gt)),U((2*Gt+g(2*Gt))/Pt)]},It}var V=R(A/M,A,m),tt=function(){return c.geoProjection(V).scale(169.529)},lt=2.00276,Et=1.11072;function ot(pt,mt){var Pt=w(m,mt);return[lt*pt/(1/r(mt)+Et/r(Pt)),(mt+A*g(Pt))/lt]}ot.invert=function(pt,mt){var Pt=lt*mt,It=mt<0?-b:b,Ht=25,Gt,qt;do qt=Pt-A*g(It),It-=Gt=(g(2*It)+2*It-m*g(qt))/(2*r(2*It)+2+m*r(qt)*A*r(It));while(v(Gt)>E&&--Ht>0);return qt=Pt-A*g(It),[pt*(1/r(qt)+Et/r(It))/lt,qt]};var Mt=function(){return c.geoProjection(ot).scale(160.857)},Ot=function(pt){var mt=0,Pt=c.geoProjectionMutator(pt),It=Pt(mt);return It.parallel=function(Ht){return arguments.length?Pt(mt=Ht*L):mt*D},It};function Ft(pt,mt){return[pt*r(mt),mt]}Ft.invert=function(pt,mt){return[pt/r(mt),mt]};var zt=function(){return c.geoProjection(Ft).scale(152.63)};function $t(pt){if(!pt)return Ft;var mt=1/y(pt);function Pt(It,Ht){var Gt=mt+pt-Ht,qt=Gt&&It*r(Ht)/Gt;return[Gt*g(qt),mt-Gt*r(qt)]}return Pt.invert=function(It,Ht){var Gt=W(It*It+(Ht=mt-Ht)*Ht),qt=mt+pt-Gt;return[Gt/r(qt)*f(It,Ht),qt]},Pt}var ce=function(){return Ot($t).scale(123.082).center([0,26.1441]).parallel(45)};function ye(pt){function mt(Pt,It){var Ht=M-It,Gt=Ht&&Pt*pt*g(Ht)/Ht;return[Ht*g(Gt)/pt,M-Ht*r(Gt)]}return mt.invert=function(Pt,It){var Ht=Pt*pt,Gt=M-It,qt=W(Ht*Ht+Gt*Gt),Fe=f(Ht,Gt);return[(qt?qt/g(qt):1)*Fe/pt,M-qt]},mt}var Je=function(){var pt=.5,mt=c.geoProjectionMutator(ye),Pt=mt(pt);return Pt.fraction=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(158.837)},nr=R(1,4/m,m),Xe=function(){return c.geoProjection(nr).scale(152.63)};function mr(pt,mt,Pt,It,Ht,Gt){var qt=r(Gt),Fe;if(v(pt)>1||v(Gt)>1)Fe=Y(Pt*Ht+mt*It*qt);else{var Be=g(pt/2),$e=g(Gt/2);Fe=2*U(W(Be*Be+mt*It*$e*$e))}return v(Fe)>E?[Fe,f(It*g(Gt),mt*Ht-Pt*It*qt)]:[0,0]}function Gr(pt,mt,Pt){return Y((pt*pt+mt*mt-Pt*Pt)/(2*pt*mt))}function xe(pt){return pt-2*m*n((pt+m)/(2*m))}function de(pt,mt,Pt){for(var It=[[pt[0],pt[1],g(pt[1]),r(pt[1])],[mt[0],mt[1],g(mt[1]),r(mt[1])],[Pt[0],Pt[1],g(Pt[1]),r(Pt[1])]],Ht=It[2],Gt,qt=0;qt<3;++qt,Ht=Gt)Gt=It[qt],Ht.v=mr(Gt[1]-Ht[1],Ht[3],Ht[2],Gt[3],Gt[2],Gt[0]-Ht[0]),Ht.point=[0,0];var Fe=Gr(It[0].v[0],It[2].v[0],It[1].v[0]),Be=Gr(It[0].v[0],It[1].v[0],It[2].v[0]),$e=m-Fe;It[2].point[1]=0,It[0].point[0]=-(It[1].point[0]=It[0].v[0]/2);var hr=[It[2].point[0]=It[0].point[0]+It[2].v[0]*r(Fe),2*(It[0].point[1]=It[1].point[1]=It[2].v[0]*g(Fe))];function Tr(Xr,en){var An=g(en),Yn=r(en),vi=new Array(3),Qi;for(Qi=0;Qi<3;++Qi){var ga=It[Qi];if(vi[Qi]=mr(en-ga[1],ga[3],ga[2],Yn,An,Xr-ga[0]),!vi[Qi][0])return ga.point;vi[Qi][1]=xe(vi[Qi][1]-ga.v[1])}var Pa=hr.slice();for(Qi=0;Qi<3;++Qi){var Ta=Qi==2?0:Qi+1,La=Gr(It[Qi].v[0],vi[Qi][0],vi[Ta][0]);vi[Qi][1]<0&&(La=-La),Qi?Qi==1?(La=Be-La,Pa[0]-=vi[Qi][0]*r(La),Pa[1]-=vi[Qi][0]*g(La)):(La=$e-La,Pa[0]+=vi[Qi][0]*r(La),Pa[1]+=vi[Qi][0]*g(La)):(Pa[0]+=vi[Qi][0]*r(La),Pa[1]-=vi[Qi][0]*g(La))}return Pa[0]/=3,Pa[1]/=3,Pa}return Tr}function ze(pt){return pt[0]*=L,pt[1]*=L,pt}function Ue(){return Kr([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Kr(pt,mt,Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:[pt,mt,Pt]}),Ht=[-It[0],-It[1]],Gt=c.geoRotation(Ht),qt=c.geoProjection(de(ze(Gt(pt)),ze(Gt(mt)),ze(Gt(Pt)))).rotate(Ht),Fe=qt.center;return delete qt.rotate,qt.center=function(Be){return arguments.length?Fe(Gt(Be)):Gt.invert(Fe())},qt.clipAngle(90)}function rn(pt,mt){var Pt=W(1-g(mt));return[2/T*pt*Pt,T*(1-Pt)]}rn.invert=function(pt,mt){var Pt=(Pt=mt/T-1)*Pt;return[Pt>0?pt*W(m/Pt)/2:0,U(1-Pt)]};var ci=function(){return c.geoProjection(rn).scale(95.6464).center([0,30])};function Zi(pt){var mt=y(pt);function Pt(It,Ht){return[It,(It?It/g(It):1)*(g(Ht)*r(It)-mt*r(Ht))]}return Pt.invert=mt?function(It,Ht){It&&(Ht*=g(It)/It);var Gt=r(It);return[It,2*f(W(Gt*Gt+mt*mt-Ht*Ht)-Gt,mt-Ht)]}:function(It,Ht){return[It,U(It?Ht*y(It)/It:Ht)]},Pt}var Ki=function(){return Ot(Zi).scale(249.828).clipAngle(90)},ji=W(3);function Ae(pt,mt){return[ji*pt*(2*r(2*mt/3)-1)/T,ji*T*g(mt/3)]}Ae.invert=function(pt,mt){var Pt=3*U(mt/(ji*T));return[T*pt/(ji*(2*r(2*Pt/3)-1)),Pt]};var De=function(){return c.geoProjection(Ae).scale(156.19)};function ar(pt){var mt=r(pt);function Pt(It,Ht){return[It*mt,g(Ht)/mt]}return Pt.invert=function(It,Ht){return[It/mt,U(Ht*mt)]},Pt}var Pr=function(){return Ot(ar).parallel(38.58).scale(195.044)};function or(pt){var mt=r(pt);function Pt(It,Ht){return[It*mt,(1+mt)*y(Ht/2)]}return Pt.invert=function(It,Ht){return[It/mt,o(Ht/(1+mt))*2]},Pt}var wr=function(){return Ot(or).scale(124.75)};function cn(pt,mt){var Pt=W(8/(3*m));return[Pt*pt*(1-v(mt)/m),Pt*mt]}cn.invert=function(pt,mt){var Pt=W(8/(3*m)),It=mt/Pt;return[pt/(Pt*(1-v(It)/m)),It]};var Fn=function(){return c.geoProjection(cn).scale(165.664)};function nn(pt,mt){var Pt=W(4-3*g(v(mt)));return[2/W(6*m)*pt*Pt,d(mt)*W(2*m/3)*(2-Pt)]}nn.invert=function(pt,mt){var Pt=2-v(mt)/W(2*m/3);return[pt*W(6*m)/(2*Pt),d(mt)*U((4-Pt*Pt)/3)]};var Hr=function(){return c.geoProjection(nn).scale(165.664)};function Gn(pt,mt){var Pt=W(m*(4+m));return[2/Pt*pt*(1+W(1-4*mt*mt/(m*m))),4/Pt*mt]}Gn.invert=function(pt,mt){var Pt=W(m*(4+m))/2;return[pt*Pt/(1+W(1-mt*mt*(4+m)/(4*m))),mt*Pt/2]};var $n=function(){return c.geoProjection(Gn).scale(180.739)};function Vr(pt,mt){var Pt=(2+M)*g(mt);mt/=2;for(var It=0,Ht=Infinity;It<10&&v(Ht)>E;It++){var Gt=r(mt);mt-=Ht=(mt+g(mt)*(Gt+2)-Pt)/(2*Gt*(1+Gt))}return[2/W(m*(4+m))*pt*(1+r(mt)),2*W(m/(4+m))*g(mt)]}Vr.invert=function(pt,mt){var Pt=mt*W((4+m)/m)/2,It=U(Pt),Ht=r(It);return[pt/(2/W(m*(4+m))*(1+Ht)),U((It+Pt*(Ht+2))/(2+M))]};var Ir=function(){return c.geoProjection(Vr).scale(180.739)};function ti(pt,mt){return[pt*(1+r(mt))/W(2+m),2*mt/W(2+m)]}ti.invert=function(pt,mt){var Pt=W(2+m),It=mt*Pt/2;return[Pt*pt/(1+r(It)),It]};var ge=function(){return c.geoProjection(ti).scale(173.044)};function Le(pt,mt){for(var Pt=(1+M)*g(mt),It=0,Ht=Infinity;It<10&&v(Ht)>E;It++)mt-=Ht=(mt+g(mt)-Pt)/(1+r(mt));return Pt=W(2+m),[pt*(1+r(mt))/Pt,2*mt/Pt]}Le.invert=function(pt,mt){var Pt=1+M,It=W(Pt/2);return[pt*2*It/(1+r(mt*=It)),U((mt+g(mt))/Pt)]};var Se=function(){return c.geoProjection(Le).scale(173.044)},Ve=3+2*A;function le(pt,mt){var Pt=g(pt/=2),It=r(pt),Ht=W(r(mt)),Gt=r(mt/=2),qt=g(mt)/(Gt+A*It*Ht),Fe=W(2/(1+qt*qt)),Be=W((A*Gt+(It+Pt)*Ht)/(A*Gt+(It-Pt)*Ht));return[Ve*(Fe*(Be-1/Be)-2*a(Be)),Ve*(Fe*qt*(Be+1/Be)-2*o(qt))]}le.invert=function(pt,mt){if(!(Gt=at.invert(pt/1.2,mt*1.065)))return null;var Pt=Gt[0],It=Gt[1],Ht=20,Gt;pt/=Ve,mt/=Ve;do{var qt=Pt/2,Fe=It/2,Be=g(qt),$e=r(qt),hr=g(Fe),Tr=r(Fe),Xr=r(It),en=W(Xr),An=hr/(Tr+A*$e*en),Yn=An*An,vi=W(2/(1+Yn)),Qi=A*Tr+($e+Be)*en,ga=A*Tr+($e-Be)*en,Pa=Qi/ga,Ta=W(Pa),La=Ta-1/Ta,So=Ta+1/Ta,Os=vi*La-2*a(Ta)-pt,ls=vi*An*So-2*o(An)-mt,rs=hr&&S*en*Be*Yn/hr,Us=(A*$e*Tr+en)/(2*(Tr+A*$e*en)*(Tr+A*$e*en)*en),du=-.5*An*vi*vi*vi,Wu=du*rs,wu=du*Us,fu=(fu=2*Tr+A*en*($e-Be))*fu*Ta,ms=(A*$e*Tr*en+Xr)/fu,Iu=-(A*Be*hr)/(en*fu),oe=La*Wu-2*ms/Ta+vi*(ms+ms/Pa),ue=La*wu-2*Iu/Ta+vi*(Iu+Iu/Pa),Tt=An*So*Wu-2*rs/(1+Yn)+vi*So*rs+vi*An*(ms-ms/Pa),Lt=An*So*wu-2*Us/(1+Yn)+vi*So*Us+vi*An*(Iu-Iu/Pa),se=ue*Tt-Lt*oe;if(!se)break;var Te=(ls*ue-Os*Lt)/se,Rr=(Os*Tt-ls*oe)/se;Pt-=Te,It=u(-M,l(M,It-Rr))}while((v(Te)>E||v(Rr)>E)&&--Ht>0);return v(v(It)-M)<E?[0,It]:Ht&&[Pt,It]};var vr=function(){return c.geoProjection(le).scale(62.5271)},He=r(35*L);function rr(pt,mt){var Pt=y(mt/2);return[pt*He*W(1-Pt*Pt),(1+He)*Pt]}rr.invert=function(pt,mt){var Pt=mt/(1+He);return[pt&&pt/(He*W(1-Pt*Pt)),2*o(Pt)]};var Dr=function(){return c.geoProjection(rr).scale(137.152)};function Mr(pt,mt){var Pt=mt/2,It=r(Pt);return[2*pt/T*r(mt)*It*It,T*y(Pt)]}Mr.invert=function(pt,mt){var Pt=o(mt/T),It=r(Pt),Ht=2*Pt;return[pt*T/2/(r(Ht)*It*It),Ht]};var an=function(){return c.geoProjection(Mr).scale(135.264)};function gn(pt){return[pt[0]/2,U(y(pt[1]/2*L))*D]}function qr(pt){return[pt[0]*2,2*o(g(pt[1]*L))*D]}var Dn=function(pt){pt==null&&(pt=c.geoOrthographic);var mt=pt(),Pt=c.geoEquirectangular().scale(D).precision(0).clipAngle(null).translate([0,0]);function It(Gt){return mt(gn(Gt))}mt.invert&&(It.invert=function(Gt){return qr(mt.invert(Gt))}),It.stream=function(Gt){var qt=mt.stream(Gt),Fe=Pt.stream({point:function(Be,$e){qt.point(Be/2,U(y(-$e/2*L))*D)},lineStart:function(){qt.lineStart()},lineEnd:function(){qt.lineEnd()},polygonStart:function(){qt.polygonStart()},polygonEnd:function(){qt.polygonEnd()}});return Fe.sphere=qt.sphere,Fe};function Ht(Gt){It[Gt]=function(qt){return arguments.length?(mt[Gt](qt),It):mt[Gt]()}}return It.rotate=function(Gt){return arguments.length?(Pt.rotate(Gt),It):Pt.rotate()},It.center=function(Gt){return arguments.length?(mt.center(gn(Gt)),It):qr(mt.center())},Ht("clipAngle"),Ht("clipExtent"),Ht("scale"),Ht("translate"),Ht("precision"),It.scale(249.5)};function ae(pt,mt){var Pt=2*m/mt,It=pt*pt;function Ht(Gt,qt){var Fe=c.geoAzimuthalEquidistantRaw(Gt,qt),Be=Fe[0],$e=Fe[1],hr=Be*Be+$e*$e;if(hr>It){var Tr=W(hr),Xr=f($e,Be),en=Pt*p(Xr/Pt),An=Xr-en,Yn=pt*r(An),vi=(pt*g(An)-An*g(Yn))/(M-Yn),Qi=er(An,vi),ga=(m-pt)/sr(Qi,Yn,m);Be=Tr;var Pa=50,Ta;do Be-=Ta=(pt+sr(Qi,Yn,Be)*ga-Tr)/(Qi(Be)*ga);while(v(Ta)>E&&--Pa>0);$e=An*g(Be),Be<M&&($e-=vi*(Be-M));var La=g(en),So=r(en);Fe[0]=Be*So-$e*La,Fe[1]=Be*La+$e*So}return Fe}return Ht.invert=function(Gt,qt){var Fe=Gt*Gt+qt*qt;if(Fe>It){var Be=W(Fe),$e=f(qt,Gt),hr=Pt*p($e/Pt),Tr=$e-hr;Gt=Be*r(Tr),qt=Be*g(Tr);for(var Xr=Gt-M,en=g(Gt),An=qt/en,Yn=Gt<M?Infinity:0,vi=10;;){var Qi=pt*g(An),ga=pt*r(An),Pa=g(ga),Ta=M-ga,La=(Qi-An*Pa)/Ta,So=er(An,La);if(v(Yn)<C||!--vi)break;An-=Yn=(An*en-La*Xr-qt)/(en-Xr*2*(Ta*(ga+An*Qi*r(ga)-Pa)-Qi*(Qi-An*Pa))/(Ta*Ta))}Be=pt+sr(So,ga,Gt)*(m-pt)/sr(So,ga,m),$e=hr+An,Gt=Be*r($e),qt=Be*g($e)}return c.geoAzimuthalEquidistantRaw.invert(Gt,qt)},Ht}function er(pt,mt){return function(Pt){var It=pt*r(Pt);return Pt<M&&(It-=mt),W(1+It*It)}}function sr(pt,mt,Pt){for(var It=50,Ht=(Pt-mt)/It,Gt=pt(mt)+pt(Pt),qt=1,Fe=mt;qt<It;++qt)Gt+=2*pt(Fe+=Ht);return Gt*.5*Ht}var kr=function(){var pt=6,mt=30*L,Pt=r(mt),It=g(mt),Ht=c.geoProjectionMutator(ae),Gt=Ht(mt,pt),qt=Gt.stream,Fe=.01,Be=-r(Fe*L),$e=g(Fe*L);return Gt.radius=function(hr){return arguments.length?(Pt=r(mt=hr*L),It=g(mt),Ht(mt,pt)):mt*D},Gt.lobes=function(hr){return arguments.length?Ht(mt,pt=+hr):pt},Gt.stream=function(hr){var Tr=Gt.rotate(),Xr=qt(hr),en=(Gt.rotate([0,0]),qt(hr));return Gt.rotate(Tr),Xr.sphere=function(){en.polygonStart(),en.lineStart();for(var An=0,Yn=2*m/pt,vi=0;An<pt;++An,vi-=Yn)en.point(f($e*r(vi),Be)*D,U($e*g(vi))*D),en.point(f(It*r(vi-Yn/2),Pt)*D,U(It*g(vi-Yn/2))*D);en.lineEnd(),en.polygonEnd()},Xr},Gt.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)},Rn=function(pt,mt,Pt,It,Ht,Gt,qt,Fe){arguments.length<8&&(Fe=0);function Be($e,hr){if(!hr)return[pt*$e/m,0];var Tr=hr*hr,Xr=pt+Tr*(mt+Tr*(Pt+Tr*It)),en=hr*(Ht-1+Tr*(Gt-Fe+Tr*qt)),An=(Xr*Xr+en*en)/(2*en),Yn=$e*U(Xr/An)/m;return[An*g(Yn),hr*(1+Tr*Fe)+An*(1-r(Yn))]}return Be.invert=function($e,hr){var Tr=m*$e/pt,Xr=hr,en,An,Yn=50;do{var vi=Xr*Xr,Qi=pt+vi*(mt+vi*(Pt+vi*It)),ga=Xr*(Ht-1+vi*(Gt-Fe+vi*qt)),Pa=Qi*Qi+ga*ga,Ta=2*ga,La=Pa/Ta,So=La*La,Os=U(Qi/La)/m,ls=Tr*Os,rs=Qi*Qi,Us=(2*mt+vi*(4*Pt+vi*6*It))*Xr,du=Ht+vi*(3*Gt+vi*5*qt),Wu=2*(Qi*Us+ga*(du-1)),wu=2*(du-1),fu=(Wu*Ta-Pa*wu)/(Ta*Ta),ms=r(ls),Iu=g(ls),oe=La*ms,ue=La*Iu,Tt=Tr/m*(1/W(1-rs/So))*(Us*La-Qi*fu)/So,Lt=ue-$e,se=Xr*(1+vi*Fe)+La-oe-hr,Te=fu*Iu+oe*Tt,Rr=oe*Os,un=1+fu-(fu*ms-ue*Tt),Wr=ue*Os,bn=Te*Wr-un*Rr;if(!bn)break;Tr-=en=(se*Te-Lt*un)/bn,Xr-=An=(Lt*Wr-se*Rr)/bn}while((v(en)>E||v(An)>E)&&--Yn>0);return[Tr,Xr]},Be},pi=Rn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Yi=function(){return c.geoProjection(pi).scale(149.995)},da=Rn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),_a=function(){return c.geoProjection(da).scale(153.93)},fa=Rn(5/6*m,-.62636,-.0344,0,1.3493,-.05524,0,.045),wo=function(){return c.geoProjection(fa).scale(130.945)};function ho(pt,mt){var Pt=pt*pt,It=mt*mt;return[pt*(1-.162388*It)*(.87-952426e-9*Pt*Pt),mt*(1+It/12)]}ho.invert=function(pt,mt){var Pt=pt,It=mt,Ht=50,Gt;do{var qt=It*It;It-=Gt=(It*(1+qt/12)-mt)/(1+qt/4)}while(v(Gt)>E&&--Ht>0);Ht=50,pt/=1-.162388*qt;do{var Fe=(Fe=Pt*Pt)*Fe;Pt-=Gt=(Pt*(.87-952426e-9*Fe)-pt)/(.87-.00476213*Fe)}while(v(Gt)>E&&--Ht>0);return[Pt,It]};var mo=function(){return c.geoProjection(ho).scale(131.747)},yo=Rn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),zo=function(){return c.geoProjection(yo).scale(131.087)},io=function(pt){var mt=pt(M,0)[0]-pt(-M,0)[0];function Pt(It,Ht){var Gt=It>0?-.5:.5,qt=pt(It+Gt*m,Ht);return qt[0]-=Gt*mt,qt}return pt.invert&&(Pt.invert=function(It,Ht){var Gt=It>0?-.5:.5,qt=pt.invert(It+Gt*mt,Ht),Fe=qt[0]-Gt*m;return Fe<-m?Fe+=2*m:Fe>m&&(Fe-=2*m),qt[0]=Fe,qt}),Pt};function Za(pt,mt){var Pt=d(pt),It=d(mt),Ht=r(mt),Gt=r(pt)*Ht,qt=g(pt)*Ht,Fe=g(It*mt);pt=v(f(qt,Fe)),mt=U(Gt),v(pt-M)>E&&(pt%=M);var Be=qa(pt>m/4?M-pt:pt,mt);return pt>m/4&&(Fe=Be[0],Be[0]=-Be[1],Be[1]=-Fe),Be[0]*=Pt,Be[1]*=-It,Be}Za.invert=function(pt,mt){v(pt)>1&&(pt=d(pt)*2-pt),v(mt)>1&&(mt=d(mt)*2-mt);var Pt=d(pt),It=d(mt),Ht=-Pt*pt,Gt=-It*mt,qt=Gt/Ht<1,Fe=Zt(qt?Gt:Ht,qt?Ht:Gt),Be=Fe[0],$e=Fe[1],hr=r($e);return qt&&(Be=-M-Be),[Pt*(f(g(Be)*hr,-g($e))+m),It*U(r(Be)*hr)]};function qa(pt,mt){if(mt===M)return[0,0];var Pt=g(mt),It=Pt*Pt,Ht=It*It,Gt=1+Ht,qt=1+3*Ht,Fe=1-Ht,Be=U(1/W(Gt)),$e=Fe+It*Gt*Be,hr=(1-Pt)/$e,Tr=W(hr),Xr=hr*Gt,en=W(Xr),An=Tr*Fe,Yn,vi;if(pt===0)return[0,-(An+It*en)];var Qi=r(mt),ga=1/Qi,Pa=2*Pt*Qi,Ta=(-3*It+Be*qt)*Pa,La=(-$e*Qi-(1-Pt)*Ta)/($e*$e),So=.5*La/Tr,Os=Fe*So-2*It*Tr*Pa,ls=It*Gt*La+hr*qt*Pa,rs=-ga*Pa,Us=-ga*ls,du=-2*ga*Os,Wu=4*pt/m,wu;if(pt>.222*m||mt<m/4&&pt>.175*m){if(Yn=(An+It*W(Xr*(1+Ht)-An*An))/(1+Ht),pt>m/4)return[Yn,Yn];var fu=Yn,ms=.5*Yn;Yn=.5*(ms+fu),vi=50;do{var Iu=W(Xr-Yn*Yn),oe=Yn*(du+rs*Iu)+Us*U(Yn/en)-Wu;if(!oe)break;oe<0?ms=Yn:fu=Yn,Yn=.5*(ms+fu)}while(v(fu-ms)>E&&--vi>0)}else{Yn=E,vi=25;do{var ue=Yn*Yn,Tt=W(Xr-ue),Lt=du+rs*Tt,se=Yn*Lt+Us*U(Yn/en)-Wu,Te=Lt+(Us-rs*ue)/Tt;Yn-=wu=Tt?se/Te:0}while(v(wu)>E&&--vi>0)}return[Yn,-An-It*W(Xr-Yn*Yn)]}function Zt(pt,mt){for(var Pt=0,It=1,Ht=.5,Gt=50;;){var qt=Ht*Ht,Fe=W(Ht),Be=U(1/W(1+qt)),$e=1-qt+Ht*(1+qt)*Be,hr=(1-Fe)/$e,Tr=W(hr),Xr=hr*(1+qt),en=Tr*(1-qt),An=Xr-pt*pt,Yn=W(An),vi=mt+en+Ht*Yn;if(v(It-Pt)<C||--Gt==0||vi===0)break;vi>0?Pt=Ht:It=Ht,Ht=.5*(Pt+It)}if(!Gt)return null;var Qi=U(Fe),ga=r(Qi),Pa=1/ga,Ta=2*Fe*ga,La=(-3*Ht+Be*(1+3*qt))*Ta,So=(-$e*ga-(1-Fe)*La)/($e*$e),Os=.5*So/Tr,ls=(1-qt)*Os-2*Ht*Tr*Ta,rs=-2*Pa*ls,Us=-Pa*Ta,du=-Pa*(Ht*(1+qt)*So+hr*(1+3*qt)*Ta);return[m/4*(pt*(rs+Us*Yn)+du*U(pt/W(Xr))),Qi]}var je=function(){return c.geoProjection(io(Za)).scale(239.75)};function lr(pt,mt,Pt){var It,Ht,Gt;return pt?(It=Br(pt,Pt),mt?(Ht=Br(mt,1-Pt),Gt=Ht[1]*Ht[1]+Pt*It[0]*It[0]*Ht[0]*Ht[0],[[It[0]*Ht[2]/Gt,It[1]*It[2]*Ht[0]*Ht[1]/Gt],[It[1]*Ht[1]/Gt,-It[0]*It[2]*Ht[0]*Ht[2]/Gt],[It[2]*Ht[1]*Ht[2]/Gt,-Pt*It[0]*It[1]*Ht[0]/Gt]]):[[It[0],0],[It[1],0],[It[2],0]]):(Ht=Br(mt,1-Pt),[[0,Ht[0]/Ht[1]],[1/Ht[1],0],[Ht[2]/Ht[1],0]])}function Br(pt,mt){var Pt,It,Ht,Gt,qt;if(mt<E)return Gt=g(pt),It=r(pt),Pt=mt*(pt-Gt*It)/4,[Gt-Pt*It,It+Pt*Gt,1-mt*Gt*Gt/2,pt-Pt];if(mt>=1-E)return Pt=(1-mt)/4,It=nt(pt),Gt=J(pt),Ht=1/It,qt=It*ht(pt),[Gt+Pt*(qt-pt)/(It*It),Ht-Pt*Gt*Ht*(qt-pt),Ht+Pt*Gt*Ht*(qt+pt),2*o(e(pt))-M+Pt*(qt-pt)/It];var Fe=[1,0,0,0,0,0,0,0,0],Be=[W(mt),0,0,0,0,0,0,0,0],$e=0;for(It=W(1-mt),qt=1;v(Be[$e]/Fe[$e])>E&&$e<8;)Pt=Fe[$e++],Be[$e]=(Pt-It)/2,Fe[$e]=(Pt+It)/2,It=W(Pt*It),qt*=2;Ht=qt*Fe[$e]*pt;do Gt=Be[$e]*g(It=Ht)/Fe[$e],Ht=(U(Gt)+Ht)/2;while(--$e);return[g(Ht),Gt=r(Ht),Gt/r(Ht-It),Ht]}function Vt(pt,mt,Pt){var It=v(pt),Ht=v(mt),Gt=ht(Ht);if(It){var qt=1/g(It),Fe=1/(y(It)*y(It)),Be=-(Fe+Pt*(Gt*Gt*qt*qt)-1+Pt),$e=(Pt-1)*Fe,hr=(-Be+W(Be*Be-4*$e))/2;return[ee(o(1/W(hr)),Pt)*d(pt),ee(o(W((hr/Fe-1)/Pt)),1-Pt)*d(mt)]}return[0,ee(o(Gt),1-Pt)*d(mt)]}function ee(pt,mt){if(!mt)return pt;if(mt===1)return a(y(pt/2+b));for(var Pt=1,It=W(1-mt),Ht=W(mt),Gt=0;v(Ht)>E;Gt++){if(pt%m){var qt=o(It*y(pt)/Pt);qt<0&&(qt+=m),pt+=qt+~~(pt/m)*m}else pt+=pt;Ht=(Pt+It)/2,It=W(Pt*It),Ht=((Pt=Ht)-It)/2}return pt/(h(2,Gt)*Pt)}function Ce(pt,mt){var Pt=(A-1)/(A+1),It=W(1-Pt*Pt),Ht=ee(M,It*It),Gt=-1,qt=a(y(m/4+v(mt)/2)),Fe=e(Gt*qt)/W(Pt),Be=Me(Fe*r(Gt*pt),Fe*g(Gt*pt)),$e=Vt(Be[0],Be[1],It*It);return[-$e[1],(mt>=0?1:-1)*(.5*Ht-$e[0])]}function Me(pt,mt){var Pt=pt*pt,It=mt+1,Ht=1-Pt-mt*mt;return[.5*((pt>=0?M:-M)-f(Ht,2*pt)),-.25*a(Ht*Ht+4*Pt)+.5*a(It*It+Pt)]}function Sr(pt,mt){var Pt=mt[0]*mt[0]+mt[1]*mt[1];return[(pt[0]*mt[0]+pt[1]*mt[1])/Pt,(pt[1]*mt[0]-pt[0]*mt[1])/Pt]}Ce.invert=function(pt,mt){var Pt=(A-1)/(A+1),It=W(1-Pt*Pt),Ht=ee(M,It*It),Gt=-1,qt=lr(.5*Ht-mt,-pt,It*It),Fe=Sr(qt[0],qt[1]),Be=f(Fe[1],Fe[0])/Gt;return[Be,2*o(e(.5/Gt*a(Pt*Fe[0]*Fe[0]+Pt*Fe[1]*Fe[1])))-M]};var pn=function(){return c.geoProjection(io(Ce)).scale(151.496)};function En(pt,mt){if(arguments.length<2&&(mt=pt),mt===1)return c.geoAzimuthalEqualAreaRaw;if(mt===Infinity)return fi;function Pt(It,Ht){var Gt=c.geoAzimuthalEqualAreaRaw(It/mt,Ht);return Gt[0]*=pt,Gt}return Pt.invert=function(It,Ht){var Gt=c.geoAzimuthalEqualAreaRaw.invert(It/pt,Ht);return Gt[0]*=mt,Gt},Pt}function fi(pt,mt){return[pt*r(mt)/r(mt/=2),2*g(mt)]}fi.invert=function(pt,mt){var Pt=2*U(mt/2);return[pt*r(Pt/2)/r(Pt),Pt]};var Ci=function(){var pt=2,mt=c.geoProjectionMutator(En),Pt=mt(pt);return Pt.coefficient=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(169.529)};function aa(pt){var mt=g(pt),Pt=r(pt),It=ta(pt);It.invert=ta(-pt);function Ht(Gt,qt){var Fe=It(Gt,qt);Gt=Fe[0],qt=Fe[1];var Be=g(qt),$e=r(qt),hr=r(Gt),Tr=Y(mt*Be+Pt*$e*hr),Xr=g(Tr),en=v(Xr)>E?Tr/Xr:1;return[en*Pt*g(Gt),(v(Gt)>M?en:-en)*(mt*$e-Pt*Be*hr)]}return Ht.invert=function(Gt,qt){var Fe=W(Gt*Gt+qt*qt),Be=-g(Fe),$e=r(Fe),hr=Fe*$e,Tr=-qt*Be,Xr=Fe*mt,en=W(hr*hr+Tr*Tr-Xr*Xr),An=f(hr*Xr+Tr*en,Tr*Xr-hr*en),Yn=(Fe>M?-1:1)*f(Gt*Be,Fe*r(An)*$e+qt*g(An)*Be);return It.invert(Yn,An)},Ht}function ta(pt){var mt=g(pt),Pt=r(pt);return function(It,Ht){var Gt=r(Ht),qt=r(It)*Gt,Fe=g(It)*Gt,Be=g(Ht);return[f(Fe,qt*Pt-Be*mt),U(Be*Pt+qt*mt)]}}var Ea=function(){var pt=0,mt=c.geoProjectionMutator(aa),Pt=mt(pt),It=Pt.rotate,Ht=Pt.stream,Gt=c.geoCircle();return Pt.parallel=function(qt){if(!arguments.length)return pt*D;var Fe=Pt.rotate();return mt(pt=qt*L).rotate(Fe)},Pt.rotate=function(qt){return arguments.length?(It.call(Pt,[qt[0],qt[1]-pt*D]),Gt.center([-qt[0],-qt[1]]),Pt):(qt=It.call(Pt),qt[1]+=pt*D,qt)},Pt.stream=function(qt){return qt=Ht(qt),qt.sphere=function(){qt.polygonStart();var Fe=.01,Be=Gt.radius(90-Fe)().coordinates[0],$e=Be.length-1,hr=-1,Tr;for(qt.lineStart();++hr<$e;)qt.point((Tr=Be[hr])[0],Tr[1]);for(qt.lineEnd(),Be=Gt.radius(90+Fe)().coordinates[0],$e=Be.length-1,qt.lineStart();--hr>=0;)qt.point((Tr=Be[hr])[0],Tr[1]);qt.lineEnd(),qt.polygonEnd()},qt},Pt.scale(79.4187).parallel(45).clipAngle(180-.001)},ca=41+48/36+37/3600,to=ar(0);function za(pt){var mt=ca*L,Pt=rn(m,mt)[0]-rn(-m,mt)[0],It=to(0,mt)[1],Ht=rn(0,mt)[1],Gt=T-Ht,qt=O/pt,Fe=4/O,Be=It+Gt*Gt*4/O;function $e(hr,Tr){var Xr,en=v(Tr);if(en>mt){var An=l(pt-1,u(0,n((hr+m)/qt)));hr+=m*(pt-1)/pt-An*qt,Xr=rn(hr,en),Xr[0]=Xr[0]*O/Pt-O*(pt-1)/(2*pt)+An*O/pt,Xr[1]=It+(Xr[1]-Ht)*4*Gt/O,Tr<0&&(Xr[1]=-Xr[1])}else Xr=to(hr,Tr);return Xr[0]*=Fe,Xr[1]/=Be,Xr}return $e.invert=function(hr,Tr){hr/=Fe,Tr*=Be;var Xr=v(Tr);if(Xr>It){var en=l(pt-1,u(0,n((hr+m)/qt)));hr=(hr+m*(pt-1)/pt-en*qt)*Pt/O;var An=rn.invert(hr,.25*(Xr-It)*O/Gt+Ht);return An[0]-=m*(pt-1)/pt-en*qt,Tr<0&&(An[1]=-An[1]),An}return to.invert(hr,Tr)},$e}function Ia(pt){return{type:"Polygon",coordinates:[s.range(-180,180+pt/2,pt).map(function(mt,Pt){return[mt,Pt&1?90-1e-6:ca]}).concat(s.range(180,-180-pt/2,-pt).map(function(mt,Pt){return[mt,Pt&1?-90+1e-6:-ca]}))]}}var Va=function(){var pt=4,mt=c.geoProjectionMutator(za),Pt=mt(pt),It=Pt.stream;return Pt.lobes=function(Ht){return arguments.length?mt(pt=+Ht):pt},Pt.stream=function(Ht){var Gt=Pt.rotate(),qt=It(Ht),Fe=(Pt.rotate([0,0]),It(Ht));return Pt.rotate(Gt),qt.sphere=function(){c.geoStream(Ia(180/pt),Fe)},qt},Pt.scale(239.75)};function ro(pt){var mt=1+pt,Pt=g(1/mt),It=U(Pt),Ht=2*W(m/(Gt=m+4*It*mt)),Gt,qt=.5*Ht*(mt+W(pt*(2+pt))),Fe=pt*pt,Be=mt*mt;function $e(hr,Tr){var Xr=1-g(Tr),en,An;if(Xr&&Xr<2){var Yn=M-Tr,vi=25,Qi;do{var ga=g(Yn),Pa=r(Yn),Ta=It+f(ga,mt-Pa),La=1+Be-2*mt*Pa;Yn-=Qi=(Yn-Fe*It-mt*ga+La*Ta-.5*Xr*Gt)/(2*mt*ga*Ta)}while(v(Qi)>C&&--vi>0);en=Ht*W(La),An=hr*Ta/m}else en=Ht*(pt+Xr),An=hr*It/m;return[en*g(An),qt-en*r(An)]}return $e.invert=function(hr,Tr){var Xr=hr*hr+(Tr-=qt)*Tr,en=(1+Be-Xr/(Ht*Ht))/(2*mt),An=Y(en),Yn=g(An),vi=It+f(Yn,mt-en);return[U(hr/W(Xr))*m/vi,U(1-2*(An-Fe*It-mt*Yn+(1+Be-2*mt*en)*vi)/Gt)]},$e}var Ee=function(){var pt=1,mt=c.geoProjectionMutator(ro),Pt=mt(pt);return Pt.ratio=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(167.774).center([0,18.67])},be=.7109889596207567,pe=.0528035274542;function vt(pt,mt){return mt>-be?(pt=V(pt,mt),pt[1]+=pe,pt):Ft(pt,mt)}vt.invert=function(pt,mt){return mt>-be?V.invert(pt,mt-pe):Ft.invert(pt,mt)};var gt=function(){return c.geoProjection(vt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function dt(pt,mt){return v(mt)>be?(pt=V(pt,mt),pt[1]-=mt>0?pe:-pe,pt):Ft(pt,mt)}dt.invert=function(pt,mt){return v(mt)>be?V.invert(pt,mt+(mt>0?pe:-pe)):Ft.invert(pt,mt)};var Dt=function(){return c.geoProjection(dt).scale(152.63)};function te(pt,mt){return v(pt[0]-mt[0])<E&&v(pt[1]-mt[1])<E}function Ge(pt,mt){for(var Pt=-1,It=pt.length,Ht=pt[0],Gt,qt,Fe,Be=[];++Pt<It;){Gt=pt[Pt],qt=(Gt[0]-Ht[0])/mt,Fe=(Gt[1]-Ht[1])/mt;for(var $e=0;$e<mt;++$e)Be.push([Ht[0]+$e*qt,Ht[1]+$e*Fe]);Ht=Gt}return Be.push(Gt),Be}function cr(pt){var mt=[],Pt,It,Ht,Gt,qt,Fe,Be,$e=pt[0].length;for(Be=0;Be<$e;++Be)Pt=pt[0][Be],It=Pt[0][0],Ht=Pt[0][1],Gt=Pt[1][1],qt=Pt[2][0],Fe=Pt[2][1],mt.push(Ge([[It+E,Ht+E],[It+E,Gt-E],[qt-E,Gt-E],[qt-E,Fe+E]],30));for(Be=pt[1].length-1;Be>=0;--Be)Pt=pt[1][Be],It=Pt[0][0],Ht=Pt[0][1],Gt=Pt[1][1],qt=Pt[2][0],Fe=Pt[2][1],mt.push(Ge([[qt-E,Fe-E],[qt-E,Gt+E],[It+E,Gt+E],[It+E,Ht-E]],30));return{type:"Polygon",coordinates:[s.merge(mt)]}}var zr=function(pt,mt){var Pt=cr(mt);mt=mt.map(function(Fe){return Fe.map(function(Be){return[[Be[0][0]*L,Be[0][1]*L],[Be[1][0]*L,Be[1][1]*L],[Be[2][0]*L,Be[2][1]*L]]})});var It=mt.map(function(Fe){return Fe.map(function(Be){var $e=pt(Be[0][0],Be[0][1])[0],hr=pt(Be[2][0],Be[2][1])[0],Tr=pt(Be[1][0],Be[0][1])[1],Xr=pt(Be[1][0],Be[1][1])[1],en;return Tr>Xr&&(en=Tr,Tr=Xr,Xr=en),[[$e,Tr],[hr,Xr]]})});function Ht(Fe,Be){for(var $e=Be<0?-1:1,hr=mt[+(Be<0)],Tr=0,Xr=hr.length-1;Tr<Xr&&Fe>hr[Tr][2][0];++Tr);var en=pt(Fe-hr[Tr][1][0],Be);return en[0]+=pt(hr[Tr][1][0],$e*Be>$e*hr[Tr][0][1]?hr[Tr][0][1]:Be)[0],en}pt.invert&&(Ht.invert=function(Fe,Be){for(var $e=It[+(Be<0)],hr=mt[+(Be<0)],Tr=0,Xr=$e.length;Tr<Xr;++Tr){var en=$e[Tr];if(en[0][0]<=Fe&&Fe<en[1][0]&&en[0][1]<=Be&&Be<en[1][1]){var An=pt.invert(Fe-pt(hr[Tr][1][0],0)[0],Be);return An[0]+=hr[Tr][1][0],te(Ht(An[0],An[1]),[Fe,Be])?An:null}}});var Gt=c.geoProjection(Ht),qt=Gt.stream;return Gt.stream=function(Fe){var Be=Gt.rotate(),$e=qt(Fe),hr=(Gt.rotate([0,0]),qt(Fe));return Gt.rotate(Be),$e.sphere=function(){c.geoStream(Pt,hr)},$e},Gt},Rt=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ei=function(){return zr(ot,Rt).scale(160.857)},ri=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],k=function(){return zr(dt,ri).scale(152.63)},it=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Bt=function(){return zr(V,it).scale(169.529)},yt=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],ne=function(){return zr(V,yt).scale(169.529).rotate([20,0])},_e=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],ur=function(){return zr(vt,_e).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},jr=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],_r=function(){return zr(Ft,jr).scale(152.63).rotate([-20,0])};function Pn(pt,mt){return[3/O*pt*W(m*m/3-mt*mt),mt]}Pn.invert=function(pt,mt){return[O/3*pt/W(m*m/3-mt*mt),mt]};var Ln=function(){return c.geoProjection(Pn).scale(158.837)};function Li(pt){function mt(Pt,It){if(v(v(It)-M)<E)return[0,It<0?-2:2];var Ht=g(It),Gt=h((1+Ht)/(1-Ht),pt/2),qt=.5*(Gt+1/Gt)+r(Pt*=pt);return[2*g(Pt)/qt,(Gt-1/Gt)/qt]}return mt.invert=function(Pt,It){var Ht=v(It);if(v(Ht-2)<E)return Pt?null:[0,d(It)*M];if(Ht>2)return null;Pt/=2,It/=2;var Gt=Pt*Pt,qt=It*It,Fe=2*It/(1+Gt+qt);return Fe=h((1+Fe)/(1-Fe),1/pt),[f(2*Pt,1-Gt-qt)/pt,U((Fe-1)/(Fe+1))]},mt}var sa=function(){var pt=.5,mt=c.geoProjectionMutator(Li),Pt=mt(pt);return Pt.spacing=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(124.75)},$i=m/A;function Sa(pt,mt){return[pt*(1+W(r(mt)))/2,mt/(r(mt/2)*r(pt/6))]}Sa.invert=function(pt,mt){var Pt=v(pt),It=v(mt),Ht=E,Gt=M;It<$i?Gt*=It/$i:Ht+=6*Y($i/It);for(var qt=0;qt<25;qt++){var Fe=g(Gt),Be=W(r(Gt)),$e=g(Gt/2),hr=r(Gt/2),Tr=g(Ht/6),Xr=r(Ht/6),en=.5*Ht*(1+Be)-Pt,An=Gt/(hr*Xr)-It,Yn=Be?-.25*Ht*Fe/Be:0,vi=.5*(1+Be),Qi=(1+.5*Gt*$e/hr)/(hr*Xr),ga=Gt/hr*(Tr/6)/(Xr*Xr),Pa=Yn*ga-Qi*vi,Ta=(en*ga-An*vi)/Pa,La=(An*Yn-en*Qi)/Pa;if(Gt-=Ta,Ht-=La,v(Ta)<E&&v(La)<E)break}return[pt<0?-Ht:Ht,mt<0?-Gt:Gt]};var pa=function(){return c.geoProjection(Sa).scale(97.2672)};function Fa(pt,mt){var Pt=pt*pt,It=mt*mt;return[pt*(.975534+It*(-.119161+Pt*-.0143059+It*-.0547009)),mt*(1.00384+Pt*(.0802894+It*-.02855+Pt*199025e-9)+It*(.0998909+It*-.0491032))]}Fa.invert=function(pt,mt){var Pt=d(pt)*m,It=mt/2,Ht=50;do{var Gt=Pt*Pt,qt=It*It,Fe=Pt*It,Be=Pt*(.975534+qt*(-.119161+Gt*-.0143059+qt*-.0547009))-pt,$e=It*(1.00384+Gt*(.0802894+qt*-.02855+Gt*199025e-9)+qt*(.0998909+qt*-.0491032))-mt,hr=.975534-qt*(.119161+3*Gt*.0143059+qt*.0547009),Tr=-Fe*(2*.119161+4*.0547009*qt+2*.0143059*Gt),Xr=Fe*(2*.0802894+4*199025e-9*Gt+2*-.02855*qt),en=1.00384+Gt*(.0802894+199025e-9*Gt)+qt*(3*(.0998909-.02855*Gt)-5*.0491032*qt),An=Tr*Xr-en*hr,Yn=($e*Tr-Be*en)/An,vi=(Be*Xr-$e*hr)/An;Pt-=Yn,It-=vi}while((v(Yn)>E||v(vi)>E)&&--Ht>0);return Ht&&[Pt,It]};var Ua=function(){return c.geoProjection(Fa).scale(139.98)};function vo(pt,mt){return[g(pt)/r(mt),y(mt)*r(pt)]}vo.invert=function(pt,mt){var Pt=pt*pt,It=mt*mt,Ht=It+1,Gt=pt?S*W((Ht-W(Pt*Pt+2*Pt*(It-1)+Ht*Ht))/Pt+1):1/W(Ht);return[U(pt*Gt),d(mt)*Y(Gt)]};var No=function(){return c.geoProjection(vo).scale(144.049).clipAngle(90-.001)};function Yo(pt){var mt=r(pt),Pt=y(b+pt/2);function It(Ht,Gt){var qt=Gt-pt,Fe=v(qt)<E?Ht*mt:v(Fe=b+Gt/2)<E||v(v(Fe)-M)<E?0:Ht*qt/a(y(Fe)/Pt);return[Fe,qt]}return It.invert=function(Ht,Gt){var qt,Fe=Gt+pt;return[v(Gt)<E?Ht/mt:v(qt=b+Fe/2)<E||v(v(qt)-M)<E?0:Ht*a(y(qt)/Pt)/Gt,Fe]},It}var Ds=function(){return Ot(Yo).parallel(40).scale(158.837)};function Go(pt,mt){return[pt,1.25*a(y(b+.4*mt))]}Go.invert=function(pt,mt){return[pt,2.5*o(e(.8*mt))-.625*m]};var Io=function(){return c.geoProjection(Go).scale(108.318)};function xo(pt){var mt=pt.length-1;function Pt(It,Ht){for(var Gt=r(Ht),qt=2/(1+Gt*r(It)),Fe=qt*Gt*g(It),Be=qt*g(Ht),$e=mt,hr=pt[$e],Tr=hr[0],Xr=hr[1],en;--$e>=0;)hr=pt[$e],Tr=hr[0]+Fe*(en=Tr)-Be*Xr,Xr=hr[1]+Fe*Xr+Be*en;return Tr=Fe*(en=Tr)-Be*Xr,Xr=Fe*Xr+Be*en,[Tr,Xr]}return Pt.invert=function(It,Ht){var Gt=20,qt=It,Fe=Ht;do{for(var Be=mt,$e=pt[Be],hr=$e[0],Tr=$e[1],Xr=0,en=0,An;--Be>=0;)$e=pt[Be],Xr=hr+qt*(An=Xr)-Fe*en,en=Tr+qt*en+Fe*An,hr=$e[0]+qt*(An=hr)-Fe*Tr,Tr=$e[1]+qt*Tr+Fe*An;Xr=hr+qt*(An=Xr)-Fe*en,en=Tr+qt*en+Fe*An,hr=qt*(An=hr)-Fe*Tr-It,Tr=qt*Tr+Fe*An-Ht;var Yn=Xr*Xr+en*en,vi,Qi;qt-=vi=(hr*Xr+Tr*en)/Yn,Fe-=Qi=(Tr*Xr-hr*en)/Yn}while(v(vi)+v(Qi)>E*E&&--Gt>0);if(Gt){var ga=W(qt*qt+Fe*Fe),Pa=2*o(ga*.5),Ta=g(Pa);return[f(qt*Ta,ga*r(Pa)),ga?U(Fe*Ta/ga):0]}},Pt}var Lo=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Fo=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],so=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Qo=[[.9245,0],[0,0],[.01943,0]],Jo=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Eo(){return Xo(Lo,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function ds(){return Xo(Fo,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ns(){return Xo(so,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function qo(){return Xo(Qo,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function is(){return Xo(Jo,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Xo(pt,mt){var Pt=c.geoProjection(xo(pt)).rotate(mt).clipAngle(90),It=c.geoRotation(mt),Ht=Pt.center;return delete Pt.rotate,Pt.center=function(Gt){return arguments.length?Ht(It(Gt)):It.invert(Ht())},Pt}var as=W(6),$a=W(7);function Su(pt,mt){var Pt=U(7*g(mt)/(3*as));return[as*pt*(2*r(2*Pt/3)-1)/$a,9*g(Pt/3)/$a]}Su.invert=function(pt,mt){var Pt=3*U(mt*$a/9);return[pt*$a/(as*(2*r(2*Pt/3)-1)),U(g(Pt)*3*as/7)]};var pu=function(){return c.geoProjection(Su).scale(164.859)};function Qs(pt,mt){for(var Pt=(1+S)*g(mt),It=mt,Ht=0,Gt;Ht<25&&(It-=Gt=(g(It/2)+g(It)-Pt)/(.5*r(It/2)+r(It)),!(v(Gt)<E));Ht++);return[pt*(1+2*r(It)/r(It/2))/(3*A),2*W(3)*g(It/2)/W(2+A)]}Qs.invert=function(pt,mt){var Pt=mt*W(2+A)/(2*W(3)),It=2*U(Pt);return[3*A*pt/(1+2*r(It)/r(It/2)),U((Pt+g(It))/(1+S))]};var au=function(){return c.geoProjection(Qs).scale(188.209)};function Ko(pt,mt){for(var Pt=W(6/(4+m)),It=(1+m/4)*g(mt),Ht=mt/2,Gt=0,qt;Gt<25&&(Ht-=qt=(Ht/2+g(Ht)-It)/(.5+r(Ht)),!(v(qt)<E));Gt++);return[Pt*(.5+r(Ht))*pt/1.5,Pt*Ht]}Ko.invert=function(pt,mt){var Pt=W(6/(4+m)),It=mt/Pt;return v(v(It)-M)<E&&(It=It<0?-M:M),[1.5*pt/(Pt*(.5+r(It))),U((It/2+g(It))/(1+m/4))]};var ie=function(){return c.geoProjection(Ko).scale(166.518)};function he(pt,mt){var Pt=mt*mt,It=Pt*Pt;return[pt*(.8707-.131979*Pt+It*(-.013791+It*(.003971*Pt-.001529*It))),mt*(1.007226+Pt*(.015085+It*(-.044475+.028874*Pt-.005916*It)))]}he.invert=function(pt,mt){var Pt=mt,It=25,Ht;do{var Gt=Pt*Pt,qt=Gt*Gt;Pt-=Ht=(Pt*(1.007226+Gt*(.015085+qt*(-.044475+.028874*Gt-.005916*qt)))-mt)/(1.007226+Gt*(.015085*3+qt*(-.044475*7+.028874*9*Gt-.005916*11*qt)))}while(v(Ht)>E&&--It>0);return[pt/(.8707+(Gt=Pt*Pt)*(-.131979+Gt*(-.013791+Gt*Gt*Gt*(.003971-.001529*Gt)))),Pt]};var Kt=function(){return c.geoProjection(he).scale(175.295)};function Re(pt,mt){var Pt=mt*mt,It=Pt*Pt,Ht=Pt*It;return[pt*(.84719-.13063*Pt+Ht*Ht*(-.04515+.05494*Pt-.02326*It+.00331*Ht)),mt*(1.01183+It*It*(-.02625+.01926*Pt-.00396*It))]}Re.invert=function(pt,mt){var Pt=mt,It=25,Ht,Gt,qt,Fe;do Gt=Pt*Pt,qt=Gt*Gt,Pt-=Ht=(Pt*(1.01183+qt*qt*(-.02625+.01926*Gt-.00396*qt))-mt)/(1.01183+qt*qt*(9*-.02625+11*.01926*Gt+13*-.00396*qt));while(v(Ht)>C&&--It>0);return Gt=Pt*Pt,qt=Gt*Gt,Fe=Gt*qt,[pt/(.84719-.13063*Gt+Fe*Fe*(-.04515+.05494*Gt-.02326*qt+.00331*Fe)),Pt]};var br=function(){return c.geoProjection(Re).scale(175.295)};function Tn(pt,mt){return[pt*(1+r(mt))/2,2*(mt-y(mt/2))]}Tn.invert=function(pt,mt){for(var Pt=mt/2,It=0,Ht=Infinity;It<10&&v(Ht)>E;++It){var Gt=r(mt/2);mt-=Ht=(mt-y(mt/2)-Pt)/(1-.5/(Gt*Gt))}return[2*pt/(1+r(mt)),mt]};var gi=function(){return c.geoProjection(Tn).scale(152.63)},Oi=1.0148,Di=.23185,ea=-.14499,ha=.02406,Ba=Oi,na=5*Di,ts=7*ea,po=9*ha,uo=1.790857183;function Zo(pt,mt){var Pt=mt*mt;return[pt,mt*(Oi+Pt*Pt*(Di+Pt*(ea+ha*Pt)))]}Zo.invert=function(pt,mt){mt>uo?mt=uo:mt<-uo&&(mt=-uo);var Pt=mt,It;do{var Ht=Pt*Pt;Pt-=It=(Pt*(Oi+Ht*Ht*(Di+Ht*(ea+ha*Ht)))-mt)/(Ba+Ht*Ht*(na+Ht*(ts+po*Ht)))}while(v(It)>E);return[pt,Pt]};var Qa=function(){return c.geoProjection(Zo).scale(139.319)};function go(pt,mt){if(v(mt)<E)return[pt,0];var Pt=y(mt),It=pt*g(mt);return[g(It)/Pt,mt+(1-r(It))/Pt]}go.invert=function(pt,mt){if(v(mt)<E)return[pt,0];var Pt=pt*pt+mt*mt,It=mt*.5,Ht=10,Gt;do{var qt=y(It),Fe=1/r(It),Be=Pt-2*mt*It+It*It;It-=Gt=(qt*Be+2*(It-mt))/(2+Be*Fe*Fe+2*(It-mt)*qt)}while(v(Gt)>E&&--Ht>0);return qt=y(It),[(v(mt)<v(It+1/qt)?U(pt*qt):d(pt)*(Y(v(pt*qt))+M))/g(It),It]};var fs=function(){return c.geoProjection(go).scale(103.74)},es=function(pt,mt){var Pt=ss(pt[1],pt[0]),It=ss(mt[1],mt[0]),Ht=Zs(Pt,It),Gt=Bo(Pt)/Bo(It);return os([1,0,pt[0][0],0,1,pt[0][1]],os([Gt,0,0,0,Gt,0],os([r(Ht),g(Ht),0,-g(Ht),r(Ht),0],[1,0,-mt[0][0],0,1,-mt[0][1]])))};function Rs(pt){var mt=1/(pt[0]*pt[4]-pt[1]*pt[3]);return[mt*pt[4],-mt*pt[1],mt*(pt[1]*pt[5]-pt[2]*pt[4]),-mt*pt[3],mt*pt[0],mt*(pt[2]*pt[3]-pt[0]*pt[5])]}function os(pt,mt){return[pt[0]*mt[0]+pt[1]*mt[3],pt[0]*mt[1]+pt[1]*mt[4],pt[0]*mt[2]+pt[1]*mt[5]+pt[2],pt[3]*mt[0]+pt[4]*mt[3],pt[3]*mt[1]+pt[4]*mt[4],pt[3]*mt[2]+pt[4]*mt[5]+pt[5]]}function ss(pt,mt){return[pt[0]-mt[0],pt[1]-mt[1]]}function Bo(pt){return W(pt[0]*pt[0]+pt[1]*pt[1])}function Zs(pt,mt){return f(pt[0]*mt[1]-pt[1]*mt[0],pt[0]*mt[0]+pt[1]*mt[1])}var Es=function(pt,mt,Pt){Pt=Pt==null?-m/6:Pt,It(pt,{transform:[r(Pt),g(Pt),0,-g(Pt),r(Pt),0]});function It($e,hr){if($e.edges=Au($e.face),hr.face){var Tr=$e.shared=bu($e.face,hr.face),Xr=es(Tr.map(hr.project),Tr.map($e.project));$e.transform=hr.transform?os(hr.transform,Xr):Xr;for(var en=hr.edges,An=0,Yn=en.length;An<Yn;++An)Fs(Tr[0],en[An][1])&&Fs(Tr[1],en[An][0])&&(en[An]=$e),Fs(Tr[0],en[An][0])&&Fs(Tr[1],en[An][1])&&(en[An]=$e);for(en=$e.edges,An=0,Yn=en.length;An<Yn;++An)Fs(Tr[0],en[An][0])&&Fs(Tr[1],en[An][1])&&(en[An]=hr),Fs(Tr[0],en[An][1])&&Fs(Tr[1],en[An][0])&&(en[An]=hr)}else $e.transform=hr.transform;return $e.children&&$e.children.forEach(function(vi){It(vi,$e)}),$e}function Ht($e,hr){var Tr=mt($e,hr),Xr=Tr.project([$e*D,hr*D]),en;return(en=Tr.transform)?[en[0]*Xr[0]+en[1]*Xr[1]+en[2],-(en[3]*Xr[0]+en[4]*Xr[1]+en[5])]:(Xr[1]=-Xr[1],Xr)}Bs(pt)&&(Ht.invert=function($e,hr){var Tr=Gt(pt,[$e,-hr]);return Tr&&(Tr[0]*=L,Tr[1]*=L,Tr)});function Gt($e,hr){var Tr=$e.project.invert,Xr=$e.transform,en=hr;if(Xr&&(Xr=Rs(Xr),en=[Xr[0]*en[0]+Xr[1]*en[1]+Xr[2],Xr[3]*en[0]+Xr[4]*en[1]+Xr[5]]),Tr&&$e===qt(An=Tr(en)))return An;for(var An,Yn=$e.children,vi=0,Qi=Yn&&Yn.length;vi<Qi;++vi)if(An=Gt(Yn[vi],hr))return An}function qt($e){return mt($e[0]*L,$e[1]*L)}var Fe=c.geoProjection(Ht),Be=Fe.stream;return Fe.stream=function($e){var hr=Fe.rotate(),Tr=Be($e),Xr=(Fe.rotate([0,0]),Be($e));return Fe.rotate(hr),Tr.sphere=function(){Xr.polygonStart(),Xr.lineStart(),Ns(Xr,pt),Xr.lineEnd(),Xr.polygonEnd()},Tr},Fe};function Ns(pt,mt,Pt){var It,Ht=mt.edges,Gt=Ht.length,qt,Fe={type:"MultiPoint",coordinates:mt.face},Be=mt.face.filter(function(Yn){return v(Yn[1])!==90}),$e=c.geoBounds({type:"MultiPoint",coordinates:Be}),hr=!1,Tr=-1,Xr=$e[1][0]-$e[0][0],en=Xr===180||Xr===360?[($e[0][0]+$e[1][0])/2,($e[0][1]+$e[1][1])/2]:c.geoCentroid(Fe);if(Pt)for(;++Tr<Gt&&Ht[Tr]!==Pt;);++Tr;for(var An=0;An<Gt;++An)qt=Ht[(An+Tr)%Gt],Array.isArray(qt)?(hr||(pt.point((It=c.geoInterpolate(qt[0],en)(E))[0],It[1]),hr=!0),pt.point((It=c.geoInterpolate(qt[1],en)(E))[0],It[1])):(hr=!1,qt!==Pt&&Ns(pt,qt,mt))}function Fs(pt,mt){return pt&&mt&&pt[0]===mt[0]&&pt[1]===mt[1]}function bu(pt,mt){for(var Pt,It,Ht=pt.length,Gt=null,qt=0;qt<Ht;++qt){Pt=pt[qt];for(var Fe=mt.length;--Fe>=0;)if(It=mt[Fe],Pt[0]===It[0]&&Pt[1]===It[1]){if(Gt)return[Gt,Pt];Gt=Pt}}}function Au(pt){for(var mt=pt.length,Pt=[],It=pt[mt-1],Ht=0;Ht<mt;++Ht)Pt.push([It,It=pt[Ht]]);return Pt}function Bs(pt){return pt.project.invert||pt.children&&pt.children.some(Bs)}var ou=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Js=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(pt){return pt.map(function(mt){return ou[mt]})}),gu=function(pt){pt=pt||function(Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:Pt});return c.geoGnomonic().scale(1).translate([0,0]).rotate([-It[0],-It[1]])};var mt=Js.map(function(Pt){return{face:Pt,project:pt(Pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(Pt,It){var Ht=mt[Pt];Ht&&(Ht.children||(Ht.children=[])).push(mt[It])}),Es(mt[0],function(Pt,It){return mt[Pt<-m/2?It<0?6:4:Pt<0?It<0?2:0:Pt<m/2?It<0?3:1:It<0?7:5]}).scale(101.858).center([0,45])},qs=2/W(3);function js(pt,mt){var Pt=rn(pt,mt);return[Pt[0]*qs,Pt[1]]}js.invert=function(pt,mt){return rn.invert(pt/qs,mt)};var Ws=function(pt){pt=pt||function(Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:Pt});return c.geoProjection(js).translate([0,0]).scale(1).rotate(It[1]>0?[-It[0],0]:[180-It[0],180])};var mt=Js.map(function(Pt){return{face:Pt,project:pt(Pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(Pt,It){var Ht=mt[Pt];Ht&&(Ht.children||(Ht.children=[])).push(mt[It])}),Es(mt[0],function(Pt,It){return mt[Pt<-m/2?It<0?6:4:Pt<0?It<0?2:0:Pt<m/2?It<0?3:1:It<0?7:5]}).scale(121.906).center([0,48.5904])},Nu=function(pt){pt=pt||function(qt){var Fe=qt.length===6?c.geoCentroid({type:"MultiPoint",coordinates:qt}):qt[0];return c.geoGnomonic().scale(1).translate([0,0]).rotate([-Fe[0],-Fe[1]])};var mt=Js.map(function(qt){for(var Fe=qt.map(Ss),Be=Fe.length,$e=Fe[Be-1],hr,Tr=[],Xr=0;Xr<Be;++Xr)hr=Fe[Xr],Tr.push(vu([$e[0]*.9486832980505138+hr[0]*.31622776601683794,$e[1]*.9486832980505138+hr[1]*.31622776601683794,$e[2]*.9486832980505138+hr[2]*.31622776601683794]),vu([hr[0]*.9486832980505138+$e[0]*.31622776601683794,hr[1]*.9486832980505138+$e[1]*.31622776601683794,hr[2]*.9486832980505138+$e[2]*.31622776601683794])),$e=hr;return Tr}),Pt=[],It=[-1,0,0,1,0,1,4,5];mt.forEach(function(qt,Fe){for(var Be=Js[Fe],$e=Be.length,hr=Pt[Fe]=[],Tr=0;Tr<$e;++Tr)mt.push([Be[Tr],qt[(Tr*2+2)%(2*$e)],qt[(Tr*2+1)%(2*$e)]]),It.push(Fe),hr.push(Pu(Ss(qt[(Tr*2+2)%(2*$e)]),Ss(qt[(Tr*2+1)%(2*$e)])))});var Ht=mt.map(function(qt){return{project:pt(qt),face:qt}});It.forEach(function(qt,Fe){var Be=Ht[qt];Be&&(Be.children||(Be.children=[])).push(Ht[Fe])});function Gt(qt,Fe){var Be=r(Fe),$e=[Be*r(qt),Be*g(qt),g(Fe)],hr=qt<-m/2?Fe<0?6:4:qt<0?Fe<0?2:0:qt<m/2?Fe<0?3:1:Fe<0?7:5,Tr=Pt[hr];return Ht[su(Tr[0],$e)<0?8+3*hr:su(Tr[1],$e)<0?8+3*hr+1:su(Tr[2],$e)<0?8+3*hr+2:hr]}return Es(Ht[0],Gt).scale(110.625).center([0,45])};function su(pt,mt){for(var Pt=0,It=pt.length,Ht=0;Pt<It;++Pt)Ht+=pt[Pt]*mt[Pt];return Ht}function Pu(pt,mt){return[pt[1]*mt[2]-pt[2]*mt[1],pt[2]*mt[0]-pt[0]*mt[2],pt[0]*mt[1]-pt[1]*mt[0]]}function vu(pt){return[f(pt[1],pt[0])*D,U(u(-1,l(1,pt[2])))*D]}function Ss(pt){var mt=pt[0]*L,Pt=pt[1]*L,It=r(Pt);return[It*r(mt),It*g(mt),g(Pt)]}var mu=function(){},Ou=function(pt){if((Pt=pt.length)<4)return!1;for(var mt=0,Pt,It=pt[Pt-1][1]*pt[0][0]-pt[Pt-1][0]*pt[0][1];++mt<Pt;)It+=pt[mt-1][1]*pt[mt][0]-pt[mt-1][0]*pt[mt][1];return It<=0},Gs=function(pt,mt){for(var Pt=mt[0],It=mt[1],Ht=!1,Gt=0,qt=pt.length,Fe=qt-1;Gt<qt;Fe=Gt++){var Be=pt[Gt],$e=Be[0],hr=Be[1],Tr=pt[Fe],Xr=Tr[0],en=Tr[1];hr>It^en>It&&Pt<(Xr-$e)*(It-hr)/(en-hr)+$e&&(Ht=!Ht)}return Ht},Ao=function(pt,mt){var Pt=mt.stream,It;if(!Pt)throw new Error("invalid projection");switch(pt&&pt.type){case"Feature":It=us;break;case"FeatureCollection":It=cs;break;default:It=_s;break}return It(pt,Pt)};function cs(pt,mt){return{type:"FeatureCollection",features:pt.features.map(function(Pt){return us(Pt,mt)})}}function us(pt,mt){return{type:"Feature",id:pt.id,properties:pt.properties,geometry:_s(pt.geometry,mt)}}function lo(pt,mt){return{type:"GeometryCollection",geometries:pt.geometries.map(function(Pt){return _s(Pt,mt)})}}function _s(pt,mt){if(!pt)return null;if(pt.type==="GeometryCollection")return lo(pt,mt);var Pt;switch(pt.type){case"Point":Pt=Vs;break;case"MultiPoint":Pt=Vs;break;case"LineString":Pt=uu;break;case"MultiLineString":Pt=uu;break;case"Polygon":Pt=tu;break;case"MultiPolygon":Pt=tu;break;case"Sphere":Pt=tu;break;default:return null}return c.geoStream(pt,mt(Pt)),Pt.result()}var jo=[],Wo=[],Vs={point:function(pt,mt){jo.push([pt,mt])},result:function(){var pt=jo.length?jo.length<2?{type:"Point",coordinates:jo[0]}:{type:"MultiPoint",coordinates:jo}:null;return jo=[],pt}},uu={lineStart:mu,point:function(pt,mt){jo.push([pt,mt])},lineEnd:function(){jo.length&&(Wo.push(jo),jo=[])},result:function(){var pt=Wo.length?Wo.length<2?{type:"LineString",coordinates:Wo[0]}:{type:"MultiLineString",coordinates:Wo}:null;return Wo=[],pt}},tu={polygonStart:mu,lineStart:mu,point:function(pt,mt){jo.push([pt,mt])},lineEnd:function(){var pt=jo.length;if(pt){do jo.push(jo[0].slice());while(++pt<4);Wo.push(jo),jo=[]}},polygonEnd:mu,result:function(){if(!Wo.length)return null;var pt=[],mt=[];return Wo.forEach(function(Pt){Ou(Pt)?pt.push([Pt]):mt.push(Pt)}),mt.forEach(function(Pt){var It=Pt[0];pt.some(function(Ht){if(Gs(Ht[0],It))return Ht.push(Pt),!0})||pt.push([Pt])}),Wo=[],pt.length?pt.length>1?{type:"MultiPolygon",coordinates:pt}:{type:"Polygon",coordinates:pt[0]}:null}},Hs=function(pt){var mt=pt(M,0)[0]-pt(-M,0)[0];function Pt(It,Ht){var Gt=v(It)<M,qt=pt(Gt?It:It>0?It-m:It+m,Ht),Fe=(qt[0]-qt[1])*S,Be=(qt[0]+qt[1])*S;if(Gt)return[Fe,Be];var $e=mt*S,hr=Fe>0^Be>0?-1:1;return[hr*Fe-d(Be)*$e,hr*Be-d(Fe)*$e]}return pt.invert&&(Pt.invert=function(It,Ht){var Gt=(It+Ht)*S,qt=(Ht-It)*S,Fe=v(Gt)<.5*mt&&v(qt)<.5*mt;if(!Fe){var Be=mt*S,$e=Gt>0^qt>0?-1:1,hr=-$e*It+(qt>0?1:-1)*Be,Tr=-$e*Ht+(Gt>0?1:-1)*Be;Gt=(-hr-Tr)*S,qt=(hr-Tr)*S}var Xr=pt.invert(Gt,qt);return Fe||(Xr[0]+=Gt>0?m:-m),Xr}),c.geoProjection(Pt).rotate([-90,-90,45]).clipAngle(180-.001)},bs=function(){return Hs(Za).scale(176.423)},ps=function(){return Hs(Ce).scale(111.48)},kt=function(pt,mt){if(!(0<=(mt=+mt)&&mt<=20))throw new Error("invalid digits");function Pt(Be){var $e=Be.length,hr=2,Tr=new Array($e);for(Tr[0]=+Be[0].toFixed(mt),Tr[1]=+Be[1].toFixed(mt);hr<$e;)Tr[hr]=Be[hr],++hr;return Tr}function It(Be){return Be.map(Pt)}function Ht(Be){return Be.map(It)}function Gt(Be){if(Be==null)return Be;var $e;switch(Be.type){case"GeometryCollection":$e={type:"GeometryCollection",geometries:Be.geometries.map(Gt)};break;case"Point":$e={type:"Point",coordinates:Pt(Be.coordinates)};break;case"MultiPoint":case"LineString":$e={type:Be.type,coordinates:It(Be.coordinates)};break;case"MultiLineString":case"Polygon":$e={type:Be.type,coordinates:Ht(Be.coordinates)};break;case"MultiPolygon":$e={type:"MultiPolygon",coordinates:Be.coordinates.map(Ht)};break;default:return Be}return Be.bbox!=null&&($e.bbox=Be.bbox),$e}function qt(Be){var $e={type:"Feature",properties:Be.properties,geometry:Gt(Be.geometry)};return Be.id!=null&&($e.id=Be.id),Be.bbox!=null&&($e.bbox=Be.bbox),$e}if(pt!=null)switch(pt.type){case"Feature":return qt(pt);case"FeatureCollection":{var Fe={type:"FeatureCollection",features:pt.features.map(qt)};return pt.bbox!=null&&(Fe.bbox=pt.bbox),Fe}default:return Gt(pt)}return pt};function Xt(pt){var mt=g(pt);function Pt(It,Ht){var Gt=mt?y(It*mt/2)/mt:It/2;if(!Ht)return[2*Gt,-pt];var qt=2*o(Gt*g(Ht)),Fe=1/y(Ht);return[g(qt)*Fe,Ht+(1-r(qt))*Fe-pt]}return Pt.invert=function(It,Ht){if(v(Ht+=pt)<E)return[mt?2*o(mt*It/2)/mt:It,0];var Gt=It*It+Ht*Ht,qt=0,Fe=10,Be;do{var $e=y(qt),hr=1/r(qt),Tr=Gt-2*Ht*qt+qt*qt;qt-=Be=($e*Tr+2*(qt-Ht))/(2+Tr*hr*hr+2*(qt-Ht)*$e)}while(v(Be)>E&&--Fe>0);var Xr=It*($e=y(qt)),en=y(v(Ht)<v(qt+1/$e)?U(Xr)*.5:Y(Xr)*.5+m/4)/g(qt);return[mt?2*o(mt*en)/mt:2*en,qt]},Pt}var We=function(){return Ot(Xt).scale(131.215)},Ie=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ie.forEach(function(pt){pt[1]*=1.0144});function xr(pt,mt){var Pt=l(18,v(mt)*36/m),It=n(Pt),Ht=Pt-It,Gt=(Tr=Ie[It])[0],qt=Tr[1],Fe=(Tr=Ie[++It])[0],Be=Tr[1],$e=(Tr=Ie[l(19,++It)])[0],hr=Tr[1],Tr;return[pt*(Fe+Ht*($e-Gt)/2+Ht*Ht*($e-2*Fe+Gt)/2),(mt>0?M:-M)*(Be+Ht*(hr-qt)/2+Ht*Ht*(hr-2*Be+qt)/2)]}xr.invert=function(pt,mt){var Pt=mt/M,It=Pt*90,Ht=l(18,v(It/5)),Gt=u(0,n(Ht));do{var qt=Ie[Gt][1],Fe=Ie[Gt+1][1],Be=Ie[l(19,Gt+2)][1],$e=Be-qt,hr=Be-2*Fe+qt,Tr=2*(v(Pt)-Fe)/$e,Xr=hr/$e,en=Tr*(1-Xr*Tr*(1-2*Xr*Tr));if(en>=0||Gt===1){It=(mt>=0?5:-5)*(en+Ht);var An=50,Yn;do Ht=l(18,v(It)/5),Gt=n(Ht),en=Ht-Gt,qt=Ie[Gt][1],Fe=Ie[Gt+1][1],Be=Ie[l(19,Gt+2)][1],It-=(Yn=(mt>=0?M:-M)*(Fe+en*(Be-qt)/2+en*en*(Be-2*Fe+qt)/2)-mt)*D;while(v(Yn)>C&&--An>0);break}}while(--Gt>=0);var vi=Ie[Gt][0],Qi=Ie[Gt+1][0],ga=Ie[l(19,Gt+2)][0];return[pt/(Qi+en*(ga-vi)/2+en*en*(ga-2*Qi+vi)/2),It*L]};var Zr=function(){return c.geoProjection(xr).scale(152.63)};function ln(pt){function mt(Pt,It){var Ht=r(It),Gt=(pt-1)/(pt-Ht*r(Pt));return[Gt*Ht*g(Pt),Gt*g(It)]}return mt.invert=function(Pt,It){var Ht=Pt*Pt+It*It,Gt=W(Ht),qt=(pt-W(1-Ht*(pt+1)/(pt-1)))/((pt-1)/Gt+Gt/(pt-1));return[f(Pt*qt,Gt*W(1-qt*qt)),Gt?U(It*qt/Gt):0]},mt}function Mn(pt,mt){var Pt=ln(pt);if(!mt)return Pt;var It=r(mt),Ht=g(mt);function Gt(qt,Fe){var Be=Pt(qt,Fe),$e=Be[1],hr=$e*Ht/(pt-1)+It;return[Be[0]*It/hr,$e/hr]}return Gt.invert=function(qt,Fe){var Be=(pt-1)/(pt-1-Fe*Ht);return Pt.invert(Be*qt,Be*Fe*It)},Gt}var In=function(){var pt=2,mt=0,Pt=c.geoProjectionMutator(Mn),It=Pt(pt,mt);return It.distance=function(Ht){return arguments.length?Pt(pt=+Ht,mt):pt},It.tilt=function(Ht){return arguments.length?Pt(pt,mt=Ht*L):mt*D},It.scale(432.147).clipAngle(Y(1/pt)*D-1e-6)},zn=1e-4,on=1e4,wn=-180,bt=wn+zn,jt=180,Jt=jt-zn,re=-90,st=re+zn,St=90,Ut=St-zn;function wt(pt){return pt.length>0}function Qt(pt){return Math.floor(pt*on)/on}function Oe(pt){return pt===re||pt===St?[0,pt]:[wn,Qt(pt)]}function ve(pt){var mt=pt[0],Pt=pt[1],It=!1;return mt<=bt?(mt=wn,It=!0):mt>=Jt&&(mt=jt,It=!0),Pt<=st?(Pt=re,It=!0):Pt>=Ut&&(Pt=St,It=!0),It?[mt,Pt]:pt}function we(pt){return pt.map(ve)}function Ne(pt,mt,Pt){for(var It=0,Ht=pt.length;It<Ht;++It){var Gt=pt[It].slice();Pt.push({index:-1,polygon:mt,ring:Gt});for(var qt=0,Fe=Gt.length;qt<Fe;++qt){var Be=Gt[qt],$e=Be[0],hr=Be[1];if($e<=bt||$e>=Jt||hr<=st||hr>=Ut){Gt[qt]=ve(Be);for(var Tr=qt+1;Tr<Fe;++Tr){var Xr=Gt[Tr],en=Xr[0],An=Xr[1];if(en>bt&&en<Jt&&An>st&&An<Ut)break}if(Tr===qt+1)continue;if(qt){var Yn={index:-1,polygon:mt,ring:Gt.slice(0,qt+1)};Yn.ring[Yn.ring.length-1]=Oe(hr),Pt[Pt.length-1]=Yn}else Pt.pop();if(Tr>=Fe)break;Pt.push({index:-1,polygon:mt,ring:Gt=Gt.slice(Tr-1)}),Gt[0]=Oe(Gt[0][1]),qt=-1,Fe=Gt.length}}}}function Qe(pt){var mt,Pt=pt.length,It={},Ht={},Gt,qt,Fe,Be,$e;for(mt=0;mt<Pt;++mt){if(Gt=pt[mt],qt=Gt.ring[0],Be=Gt.ring[Gt.ring.length-1],qt[0]===Be[0]&&qt[1]===Be[1]){Gt.polygon.push(Gt.ring),pt[mt]=null;continue}Gt.index=mt,It[qt]=Ht[Be]=Gt}for(mt=0;mt<Pt;++mt)if(Gt=pt[mt],Gt){if(qt=Gt.ring[0],Be=Gt.ring[Gt.ring.length-1],Fe=Ht[qt],$e=It[Be],delete It[qt],delete Ht[Be],qt[0]===Be[0]&&qt[1]===Be[1]){Gt.polygon.push(Gt.ring);continue}Fe?(delete Ht[qt],delete It[Fe.ring[0]],Fe.ring.pop(),pt[Fe.index]=null,Gt={index:-1,polygon:Fe.polygon,ring:Fe.ring.concat(Gt.ring)},Fe===$e?Gt.polygon.push(Gt.ring):(Gt.index=Pt++,pt.push(It[Gt.ring[0]]=Ht[Gt.ring[Gt.ring.length-1]]=Gt))):$e?(delete It[Be],delete Ht[$e.ring[$e.ring.length-1]],Gt.ring.pop(),Gt={index:Pt++,polygon:$e.polygon,ring:Gt.ring.concat($e.ring)},pt[$e.index]=null,pt.push(It[Gt.ring[0]]=Ht[Gt.ring[Gt.ring.length-1]]=Gt)):(Gt.ring.push(Gt.ring[0]),Gt.polygon.push(Gt.ring))}}function Ye(pt){var mt={type:"Feature",geometry:Ar(pt.geometry)};return pt.id!=null&&(mt.id=pt.id),pt.bbox!=null&&(mt.bbox=pt.bbox),pt.properties!=null&&(mt.properties=pt.properties),mt}function Ar(pt){if(pt==null)return pt;var mt,Pt,It,Ht;switch(pt.type){case"GeometryCollection":mt={type:"GeometryCollection",geometries:pt.geometries.map(Ar)};break;case"Point":mt={type:"Point",coordinates:ve(pt.coordinates)};break;case"MultiPoint":case"LineString":mt={type:pt.type,coordinates:we(pt.coordinates)};break;case"MultiLineString":mt={type:"MultiLineString",coordinates:pt.coordinates.map(we)};break;case"Polygon":{var Gt=[];Ne(pt.coordinates,Gt,Pt=[]),Qe(Pt),mt={type:"Polygon",coordinates:Gt};break}case"MultiPolygon":{Pt=[],It=-1,Ht=pt.coordinates.length;for(var qt=new Array(Ht);++It<Ht;)Ne(pt.coordinates[It],qt[It]=[],Pt);Qe(Pt),mt={type:"MultiPolygon",coordinates:qt.filter(wt)};break}default:return pt}return pt.bbox!=null&&(mt.bbox=pt.bbox),mt}var yr=function(pt){if(pt==null)return pt;switch(pt.type){case"Feature":return Ye(pt);case"FeatureCollection":{var mt={type:"FeatureCollection",features:pt.features.map(Ye)};return pt.bbox!=null&&(mt.bbox=pt.bbox),mt}default:return Ar(pt)}};function Ur(pt,mt){var Pt=y(mt/2),It=g(b*Pt);return[pt*(.74482-.34588*It*It),1.70711*Pt]}Ur.invert=function(pt,mt){var Pt=mt/1.70711,It=g(b*Pt);return[pt/(.74482-.34588*It*It),2*o(Pt)]};var pr=function(){return c.geoProjection(Ur).scale(146.153)},Fr=function(pt,mt,Pt){var It=c.geoInterpolate(mt,Pt),Ht=It(.5),Gt=c.geoRotation([-Ht[0],-Ht[1]])(mt),qt=It.distance/2,Fe=-U(g(Gt[1]*L)/g(qt)),Be=[-Ht[0],-Ht[1],-(Gt[0]>0?m-Fe:Fe)*D],$e=c.geoProjection(pt(qt)).rotate(Be),hr=c.geoRotation(Be),Tr=$e.center;return delete $e.rotate,$e.center=function(Xr){return arguments.length?Tr(hr(Xr)):hr.invert(Tr())},$e.clipAngle(90)};function Yr(pt){var mt=r(pt);function Pt(It,Ht){var Gt=c.geoGnomonicRaw(It,Ht);return Gt[0]*=mt,Gt}return Pt.invert=function(It,Ht){return c.geoGnomonicRaw.invert(It/mt,Ht)},Pt}function Sn(){return Nn([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Nn(pt,mt){return Fr(Yr,pt,mt)}function hn(pt){if(!(pt*=2))return c.geoAzimuthalEquidistantRaw;var mt=-pt/2,Pt=-mt,It=pt*pt,Ht=y(Pt),Gt=.5/g(Pt);function qt(Fe,Be){var $e=Y(r(Be)*r(Fe-mt)),hr=Y(r(Be)*r(Fe-Pt)),Tr=Be<0?-1:1;return $e*=$e,hr*=hr,[($e-hr)/(2*pt),Tr*W(4*It*hr-(It-$e+hr)*(It-$e+hr))/(2*pt)]}return qt.invert=function(Fe,Be){var $e=Be*Be,hr=r(W($e+(Xr=Fe+mt)*Xr)),Tr=r(W($e+(Xr=Fe+Pt)*Xr)),Xr,en;return[f(en=hr-Tr,Xr=(hr+Tr)*Ht),(Be<0?-1:1)*Y(W(Xr*Xr+en*en)*Gt)]},qt}function Bn(){return qn([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function qn(pt,mt){return Fr(hn,pt,mt)}function Ai(pt,mt){if(v(mt)<E)return[pt,0];var Pt=v(mt/M),It=U(Pt);if(v(pt)<E||v(v(mt)-M)<E)return[0,d(mt)*m*y(It/2)];var Ht=r(It),Gt=v(m/pt-pt/m)/2,qt=Gt*Gt,Fe=Ht/(Pt+Ht-1),Be=Fe*(2/Pt-1),$e=Be*Be,hr=$e+qt,Tr=Fe-$e,Xr=qt+Fe;return[d(pt)*m*(Gt*Tr+W(qt*Tr*Tr-hr*(Fe*Fe-$e)))/hr,d(mt)*m*(Be*Xr-Gt*W((qt+1)*hr-Xr*Xr))/hr]}Ai.invert=function(pt,mt){if(v(mt)<E)return[pt,0];if(v(pt)<E)return[0,M*g(2*o(mt/m))];var Pt=(pt/=m)*pt,It=(mt/=m)*mt,Ht=Pt+It,Gt=Ht*Ht,qt=-v(mt)*(1+Ht),Fe=qt-2*It+Pt,Be=-2*qt+1+2*It+Gt,$e=It/Be+(2*Fe*Fe*Fe/(Be*Be*Be)-9*qt*Fe/(Be*Be))/27,hr=(qt-Fe*Fe/(3*Be))/Be,Tr=2*W(-hr/3),Xr=Y(3*$e/(hr*Tr))/3;return[m*(Ht-1+W(1+2*(Pt-It)+Gt))/(2*pt),d(mt)*m*(-Tr*r(Xr+m/3)-Fe/(3*Be))]};var Ti=function(){return c.geoProjection(Ai).scale(79.4183)};function Oa(pt,mt){if(v(mt)<E)return[pt,0];var Pt=v(mt/M),It=U(Pt);if(v(pt)<E||v(v(mt)-M)<E)return[0,d(mt)*m*y(It/2)];var Ht=r(It),Gt=v(m/pt-pt/m)/2,qt=Gt*Gt,Fe=Ht*(W(1+qt)-Gt*Ht)/(1+qt*Pt*Pt);return[d(pt)*m*Fe,d(mt)*m*W(1-Fe*(2*Gt+Fe))]}Oa.invert=function(pt,mt){if(!pt)return[0,M*g(2*o(mt/m))];var Pt=v(pt/m),It=(1-Pt*Pt-(mt/=m)*mt)/(2*Pt),Ht=It*It,Gt=W(Ht+1);return[d(pt)*m*(Gt-It),d(mt)*M*g(2*f(W((1-2*It*Pt)*(It+Gt)-Pt),W(Gt+It+Pt)))]};var va=function(){return c.geoProjection(Oa).scale(79.4183)};function ma(pt,mt){if(v(mt)<E)return[pt,0];var Pt=mt/M,It=U(Pt);if(v(pt)<E||v(v(mt)-M)<E)return[0,m*y(It/2)];var Ht=(m/pt-pt/m)/2,Gt=Pt/(1+r(It));return[m*(d(pt)*W(Ht*Ht+1-Gt*Gt)-Ht),m*Gt]}ma.invert=function(pt,mt){if(!mt)return[pt,0];var Pt=mt/m,It=(m*m*(1-Pt*Pt)-pt*pt)/(2*m*pt);return[pt?m*(d(pt)*W(It*It+1)-It):0,M*g(2*o(Pt))]};var jn=function(){return c.geoProjection(ma).scale(79.4183)};function hi(pt,mt){if(!mt)return[pt,0];var Pt=v(mt);if(!pt||Pt===M)return[0,mt];var It=Pt/M,Ht=It*It,Gt=(8*It-Ht*(Ht+2)-5)/(2*Ht*(It-1)),qt=Gt*Gt,Fe=It*Gt,Be=Ht+qt+2*Fe,$e=It+3*Gt,hr=pt/M,Tr=hr+1/hr,Xr=d(v(pt)-M)*W(Tr*Tr-4),en=Xr*Xr,An=Be*(Ht+qt*en-1)+(1-Ht)*(Ht*($e*$e+4*qt)+12*Fe*qt+4*qt*qt),Yn=(Xr*(Be+qt-1)+2*W(An))/(4*Be+en);return[d(pt)*M*Yn,d(mt)*M*W(1+Xr*v(Yn)-Yn*Yn)]}hi.invert=function(pt,mt){var Pt;if(!pt||!mt)return[pt,mt];mt/=m;var It=d(pt)*pt/M,Ht=(It*It-1+4*mt*mt)/v(It),Gt=Ht*Ht,qt=2*mt,Fe=50;do{var Be=qt*qt,$e=(8*qt-Be*(Be+2)-5)/(2*Be*(qt-1)),hr=(3*qt-Be*qt-10)/(2*Be*qt),Tr=$e*$e,Xr=qt*$e,en=qt+$e,An=en*en,Yn=qt+3*$e,vi=An*(Be+Tr*Gt-1)+(1-Be)*(Be*(Yn*Yn+4*Tr)+Tr*(12*Xr+4*Tr)),Qi=-2*en*(4*Xr*Tr+(1-4*Be+3*Be*Be)*(1+hr)+Tr*(-6+14*Be-Gt+(-8+8*Be-2*Gt)*hr)+Xr*(-8+12*Be+(-10+10*Be-Gt)*hr)),ga=W(vi),Pa=Ht*(An+Tr-1)+2*ga-It*(4*An+Gt),Ta=Ht*(2*$e*hr+2*en*(1+hr))+Qi/ga-8*en*(Ht*(-1+Tr+An)+2*ga)*(1+hr)/(Gt+4*An);qt-=Pt=Pa/Ta}while(Pt>E&&--Fe>0);return[d(pt)*(W(Ht*Ht+4)+Ht)*m/4,M*qt]};var Ha=function(){return c.geoProjection(hi).scale(127.16)},Wa=4*m+3*W(3),Xn=2*W(2*m*W(3)/Wa),ja=R(Xn*W(3)/m,Xn,Wa/6),fo=function(){return c.geoProjection(ja).scale(176.84)};function Do(pt,mt){return[pt*W(1-3*mt*mt/(m*m)),mt]}Do.invert=function(pt,mt){return[pt/W(1-3*mt*mt/(m*m)),mt]};var Ro=function(){return c.geoProjection(Do).scale(152.63)};function Ys(pt,mt){var Pt=.90631*g(mt),It=W(1-Pt*Pt),Ht=W(2/(1+It*r(pt/=3)));return[2.66723*It*Ht*g(pt),1.24104*Pt*Ht]}Ys.invert=function(pt,mt){var Pt=pt/2.66723,It=mt/1.24104,Ht=W(Pt*Pt+It*It),Gt=2*U(Ht/2);return[3*f(pt*y(Gt),2.66723*Ht),Ht&&U(mt*g(Gt)/(1.24104*.90631*Ht))]};var gs=function(){return c.geoProjection(Ys).scale(172.632)};function yu(pt,mt){var Pt=r(mt),It=r(pt)*Pt,Ht=1-It,Gt=r(pt=f(g(pt)*Pt,-g(mt))),qt=g(pt);return Pt=W(1-It*It),[qt*Pt-Gt*Ht,-Gt*Pt-qt*Ht]}yu.invert=function(pt,mt){var Pt=(pt*pt+mt*mt)/-2,It=W(-Pt*(2+Pt)),Ht=mt*Pt+pt*It,Gt=pt*Pt-mt*It,qt=W(Gt*Gt+Ht*Ht);return[f(It*Ht,qt*(1+Pt)),qt?-U(It*Gt/qt):0]};var Tu=function(){return c.geoProjection(yu).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)};function lu(pt,mt){var Pt=rt(pt,mt);return[(Pt[0]+pt/M)/2,(Pt[1]+mt)/2]}lu.invert=function(pt,mt){var Pt=pt,It=mt,Ht=25;do{var Gt=r(It),qt=g(It),Fe=g(2*It),Be=qt*qt,$e=Gt*Gt,hr=g(Pt),Tr=r(Pt/2),Xr=g(Pt/2),en=Xr*Xr,An=1-$e*Tr*Tr,Yn=An?Y(Gt*Tr)*W(vi=1/An):vi=0,vi,Qi=.5*(2*Yn*Gt*Xr+Pt/M)-pt,ga=.5*(Yn*qt+It)-mt,Pa=.5*vi*($e*en+Yn*Gt*Tr*Be)+.5/M,Ta=vi*(hr*Fe/4-Yn*qt*Xr),La=.125*vi*(Fe*Xr-Yn*qt*$e*hr),So=.5*vi*(Be*Tr+Yn*en*Gt)+.5,Os=Ta*La-So*Pa,ls=(ga*Ta-Qi*So)/Os,rs=(Qi*La-ga*Pa)/Os;Pt-=ls,It-=rs}while((v(ls)>E||v(rs)>E)&&--Ht>0);return[Pt,It]};var eo=function(){return c.geoProjection(lu).scale(158.837)};t.geoAiry=Nt,t.geoAiryRaw=_t,t.geoAitoff=q,t.geoAitoffRaw=rt,t.geoArmadillo=N,t.geoArmadilloRaw=G,t.geoAugust=H,t.geoAugustRaw=at,t.geoBaker=$,t.geoBakerRaw=K,t.geoBerghaus=B,t.geoBerghausRaw=et,t.geoBoggs=Mt,t.geoBoggsRaw=ot,t.geoBonne=ce,t.geoBonneRaw=$t,t.geoBottomley=Je,t.geoBottomleyRaw=ye,t.geoBromley=Xe,t.geoBromleyRaw=nr,t.geoChamberlin=Kr,t.geoChamberlinRaw=de,t.geoChamberlinAfrica=Ue,t.geoCollignon=ci,t.geoCollignonRaw=rn,t.geoCraig=Ki,t.geoCraigRaw=Zi,t.geoCraster=De,t.geoCrasterRaw=Ae,t.geoCylindricalEqualArea=Pr,t.geoCylindricalEqualAreaRaw=ar,t.geoCylindricalStereographic=wr,t.geoCylindricalStereographicRaw=or,t.geoEckert1=Fn,t.geoEckert1Raw=cn,t.geoEckert2=Hr,t.geoEckert2Raw=nn,t.geoEckert3=$n,t.geoEckert3Raw=Gn,t.geoEckert4=Ir,t.geoEckert4Raw=Vr,t.geoEckert5=ge,t.geoEckert5Raw=ti,t.geoEckert6=Se,t.geoEckert6Raw=Le,t.geoEisenlohr=vr,t.geoEisenlohrRaw=le,t.geoFahey=Dr,t.geoFaheyRaw=rr,t.geoFoucaut=an,t.geoFoucautRaw=Mr,t.geoGilbert=Dn,t.geoGingery=kr,t.geoGingeryRaw=ae,t.geoGinzburg4=Yi,t.geoGinzburg4Raw=pi,t.geoGinzburg5=_a,t.geoGinzburg5Raw=da,t.geoGinzburg6=wo,t.geoGinzburg6Raw=fa,t.geoGinzburg8=mo,t.geoGinzburg8Raw=ho,t.geoGinzburg9=zo,t.geoGinzburg9Raw=yo,t.geoGringorten=je,t.geoGringortenRaw=Za,t.geoGuyou=pn,t.geoGuyouRaw=Ce,t.geoHammer=Ci,t.geoHammerRaw=En,t.geoHammerRetroazimuthal=Ea,t.geoHammerRetroazimuthalRaw=aa,t.geoHealpix=Va,t.geoHealpixRaw=za,t.geoHill=Ee,t.geoHillRaw=ro,t.geoHomolosine=Dt,t.geoHomolosineRaw=dt,t.geoInterrupt=zr,t.geoInterruptedBoggs=Ei,t.geoInterruptedHomolosine=k,t.geoInterruptedMollweide=Bt,t.geoInterruptedMollweideHemispheres=ne,t.geoInterruptedSinuMollweide=ur,t.geoInterruptedSinusoidal=_r,t.geoKavrayskiy7=Ln,t.geoKavrayskiy7Raw=Pn,t.geoLagrange=sa,t.geoLagrangeRaw=Li,t.geoLarrivee=pa,t.geoLarriveeRaw=Sa,t.geoLaskowski=Ua,t.geoLaskowskiRaw=Fa,t.geoLittrow=No,t.geoLittrowRaw=vo,t.geoLoximuthal=Ds,t.geoLoximuthalRaw=Yo,t.geoMiller=Io,t.geoMillerRaw=Go,t.geoModifiedStereographic=Xo,t.geoModifiedStereographicRaw=xo,t.geoModifiedStereographicAlaska=Eo,t.geoModifiedStereographicGs48=ds,t.geoModifiedStereographicGs50=ns,t.geoModifiedStereographicMiller=qo,t.geoModifiedStereographicLee=is,t.geoMollweide=tt,t.geoMollweideRaw=V,t.geoMtFlatPolarParabolic=pu,t.geoMtFlatPolarParabolicRaw=Su,t.geoMtFlatPolarQuartic=au,t.geoMtFlatPolarQuarticRaw=Qs,t.geoMtFlatPolarSinusoidal=ie,t.geoMtFlatPolarSinusoidalRaw=Ko,t.geoNaturalEarth=Kt,t.geoNaturalEarthRaw=he,t.geoNaturalEarth2=br,t.geoNaturalEarth2Raw=Re,t.geoNellHammer=gi,t.geoNellHammerRaw=Tn,t.geoPatterson=Qa,t.geoPattersonRaw=Zo,t.geoPolyconic=fs,t.geoPolyconicRaw=go,t.geoPolyhedral=Es,t.geoPolyhedralButterfly=gu,t.geoPolyhedralCollignon=Ws,t.geoPolyhedralWaterman=Nu,t.geoProject=Ao,t.geoGringortenQuincuncial=bs,t.geoPeirceQuincuncial=ps,t.geoPierceQuincuncial=ps,t.geoQuantize=kt,t.geoQuincuncial=Hs,t.geoRectangularPolyconic=We,t.geoRectangularPolyconicRaw=Xt,t.geoRobinson=Zr,t.geoRobinsonRaw=xr,t.geoSatellite=In,t.geoSatelliteRaw=Mn,t.geoSinuMollweide=gt,t.geoSinuMollweideRaw=vt,t.geoSinusoidal=zt,t.geoSinusoidalRaw=Ft,t.geoStitch=yr,t.geoTimes=pr,t.geoTimesRaw=Ur,t.geoTwoPointAzimuthal=Nn,t.geoTwoPointAzimuthalRaw=Yr,t.geoTwoPointAzimuthalUsa=Sn,t.geoTwoPointEquidistant=qn,t.geoTwoPointEquidistantRaw=hn,t.geoTwoPointEquidistantUsa=Bn,t.geoVanDerGrinten=Ti,t.geoVanDerGrintenRaw=Ai,t.geoVanDerGrinten2=va,t.geoVanDerGrinten2Raw=Oa,t.geoVanDerGrinten3=jn,t.geoVanDerGrinten3Raw=ma,t.geoVanDerGrinten4=Ha,t.geoVanDerGrinten4Raw=hi,t.geoWagner4=fo,t.geoWagner4Raw=ja,t.geoWagner6=Ro,t.geoWagner6Raw=Do,t.geoWagner7=gs,t.geoWagner7Raw=Ys,t.geoWiechel=Tu,t.geoWiechelRaw=yu,t.geoWinkel3=eo,t.geoWinkel3Raw=lu,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@1.12.1@d3-geo/dist/d3-geo.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";function s(){return new v}function v(){this.reset()}v.prototype={constructor:v,reset:function(){this.s=this.t=0},add:function(st){f(o,st,this.t),f(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new v;function f(st,St,Ut){var wt=st.s=St+Ut,Qt=wt-St,Oe=wt-Qt;st.t=St-Oe+(Ut-Qt)}var r=1e-6,e=1e-12,n=Math.PI,a=n/2,u=n/4,l=n*2,h=180/n,p=n/180,d=Math.abs,g=Math.atan,y=Math.atan2,E=Math.cos,C=Math.ceil,m=Math.exp,M=Math.log,b=Math.pow,S=Math.sin,A=Math.sign||function(st){return st>0?1:st<0?-1:0},T=Math.sqrt,O=Math.tan;function D(st){return st>1?0:st<-1?n:Math.acos(st)}function L(st){return st>1?a:st<-1?-a:Math.asin(st)}function Z(st){return(st=S(st/2))*st}function U(){}function Y(st,St){st&&J.hasOwnProperty(st.type)&&J[st.type](st,St)}var W={Feature:function(st,St){Y(st.geometry,St)},FeatureCollection:function(st,St){for(var Ut=st.features,wt=-1,Qt=Ut.length;++wt<Qt;)Y(Ut[wt].geometry,St)}},J={Sphere:function(st,St){St.sphere()},Point:function(st,St){st=st.coordinates,St.point(st[0],st[1],st[2])},MultiPoint:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)st=Ut[wt],St.point(st[0],st[1],st[2])},LineString:function(st,St){ht(st.coordinates,St,0)},MultiLineString:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)ht(Ut[wt],St,0)},Polygon:function(st,St){nt(st.coordinates,St)},MultiPolygon:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)nt(Ut[wt],St)},GeometryCollection:function(st,St){for(var Ut=st.geometries,wt=-1,Qt=Ut.length;++wt<Qt;)Y(Ut[wt],St)}};function ht(st,St,Ut){var wt=-1,Qt=st.length-Ut,Oe;for(St.lineStart();++wt<Qt;)Oe=st[wt],St.point(Oe[0],Oe[1],Oe[2]);St.lineEnd()}function nt(st,St){var Ut=-1,wt=st.length;for(St.polygonStart();++Ut<wt;)ht(st[Ut],St,1);St.polygonEnd()}function Q(st,St){st&&W.hasOwnProperty(st.type)?W[st.type](st,St):Y(st,St)}var xt=s(),_t=s(),Nt,rt,q,G,N,at={point:U,lineStart:U,lineEnd:U,polygonStart:function(){xt.reset(),at.lineStart=H,at.lineEnd=ft},polygonEnd:function(){var st=+xt;_t.add(st<0?l+st:st),this.lineStart=this.lineEnd=this.point=U},sphere:function(){_t.add(l)}};function H(){at.point=ct}function ft(){K(Nt,rt)}function ct(st,St){at.point=K,Nt=st,rt=St,st*=p,St*=p,q=st,G=E(St=St/2+u),N=S(St)}function K(st,St){st*=p,St*=p,St=St/2+u;var Ut=st-q,wt=Ut>=0?1:-1,Qt=wt*Ut,Oe=E(St),ve=S(St),we=N*ve,Ne=G*Oe+we*E(Qt),Qe=we*wt*S(Qt);xt.add(y(Qe,Ne)),q=st,G=Oe,N=ve}function $(st){return _t.reset(),Q(st,at),_t*2}function et(st){return[y(st[1],st[0]),L(st[2])]}function B(st){var St=st[0],Ut=st[1],wt=E(Ut);return[wt*E(St),wt*S(St),S(Ut)]}function w(st,St){return st[0]*St[0]+st[1]*St[1]+st[2]*St[2]}function R(st,St){return[st[1]*St[2]-st[2]*St[1],st[2]*St[0]-st[0]*St[2],st[0]*St[1]-st[1]*St[0]]}function V(st,St){st[0]+=St[0],st[1]+=St[1],st[2]+=St[2]}function tt(st,St){return[st[0]*St,st[1]*St,st[2]*St]}function lt(st){var St=T(st[0]*st[0]+st[1]*st[1]+st[2]*st[2]);st[0]/=St,st[1]/=St,st[2]/=St}var Et,ot,Mt,Ot,Ft,zt,$t,ce,ye=s(),Je,nr,Xe={point:mr,lineStart:xe,lineEnd:de,polygonStart:function(){Xe.point=ze,Xe.lineStart=Ue,Xe.lineEnd=Kr,ye.reset(),at.polygonStart()},polygonEnd:function(){at.polygonEnd(),Xe.point=mr,Xe.lineStart=xe,Xe.lineEnd=de,xt<0?(Et=-(Mt=180),ot=-(Ot=90)):ye>r?Ot=90:ye<-r&&(ot=-90),nr[0]=Et,nr[1]=Mt},sphere:function(){Et=-(Mt=180),ot=-(Ot=90)}};function mr(st,St){Je.push(nr=[Et=st,Mt=st]),St<ot&&(ot=St),St>Ot&&(Ot=St)}function Gr(st,St){var Ut=B([st*p,St*p]);if(ce){var wt=R(ce,Ut),Qt=[wt[1],-wt[0],0],Oe=R(Qt,wt);lt(Oe),Oe=et(Oe);var ve=st-Ft,we=ve>0?1:-1,Ne=Oe[0]*h*we,Qe,Ye=d(ve)>180;Ye^(we*Ft<Ne&&Ne<we*st)?(Qe=Oe[1]*h,Qe>Ot&&(Ot=Qe)):(Ne=(Ne+360)%360-180,Ye^(we*Ft<Ne&&Ne<we*st)?(Qe=-Oe[1]*h,Qe<ot&&(ot=Qe)):(St<ot&&(ot=St),St>Ot&&(Ot=St))),Ye?st<Ft?rn(Et,st)>rn(Et,Mt)&&(Mt=st):rn(st,Mt)>rn(Et,Mt)&&(Et=st):Mt>=Et?(st<Et&&(Et=st),st>Mt&&(Mt=st)):st>Ft?rn(Et,st)>rn(Et,Mt)&&(Mt=st):rn(st,Mt)>rn(Et,Mt)&&(Et=st)}else Je.push(nr=[Et=st,Mt=st]);St<ot&&(ot=St),St>Ot&&(Ot=St),ce=Ut,Ft=st}function xe(){Xe.point=Gr}function de(){nr[0]=Et,nr[1]=Mt,Xe.point=mr,ce=null}function ze(st,St){if(ce){var Ut=st-Ft;ye.add(d(Ut)>180?Ut+(Ut>0?360:-360):Ut)}else zt=st,$t=St;at.point(st,St),Gr(st,St)}function Ue(){at.lineStart()}function Kr(){ze(zt,$t),at.lineEnd(),d(ye)>r&&(Et=-(Mt=180)),nr[0]=Et,nr[1]=Mt,ce=null}function rn(st,St){return(St-=st)<0?St+360:St}function ci(st,St){return st[0]-St[0]}function Zi(st,St){return st[0]<=st[1]?st[0]<=St&&St<=st[1]:St<st[0]||st[1]<St}function Ki(st){var St,Ut,wt,Qt,Oe,ve,we;if(Ot=Mt=-(Et=ot=Infinity),Je=[],Q(st,Xe),Ut=Je.length){for(Je.sort(ci),St=1,wt=Je[0],Oe=[wt];St<Ut;++St)Qt=Je[St],Zi(wt,Qt[0])||Zi(wt,Qt[1])?(rn(wt[0],Qt[1])>rn(wt[0],wt[1])&&(wt[1]=Qt[1]),rn(Qt[0],wt[1])>rn(wt[0],wt[1])&&(wt[0]=Qt[0])):Oe.push(wt=Qt);for(ve=-Infinity,Ut=Oe.length-1,St=0,wt=Oe[Ut];St<=Ut;wt=Qt,++St)Qt=Oe[St],(we=rn(wt[1],Qt[0]))>ve&&(ve=we,Et=Qt[0],Mt=wt[1])}return Je=nr=null,Et===Infinity||ot===Infinity?[[NaN,NaN],[NaN,NaN]]:[[Et,ot],[Mt,Ot]]}var ji,Ae,De,ar,Pr,or,wr,cn,Fn,nn,Hr,Gn,$n,Vr,Ir,ti,ge={sphere:U,point:Le,lineStart:Ve,lineEnd:He,polygonStart:function(){ge.lineStart=rr,ge.lineEnd=Dr},polygonEnd:function(){ge.lineStart=Ve,ge.lineEnd=He}};function Le(st,St){st*=p,St*=p;var Ut=E(St);Se(Ut*E(st),Ut*S(st),S(St))}function Se(st,St,Ut){++ji,De+=(st-De)/ji,ar+=(St-ar)/ji,Pr+=(Ut-Pr)/ji}function Ve(){ge.point=le}function le(st,St){st*=p,St*=p;var Ut=E(St);Vr=Ut*E(st),Ir=Ut*S(st),ti=S(St),ge.point=vr,Se(Vr,Ir,ti)}function vr(st,St){st*=p,St*=p;var Ut=E(St),wt=Ut*E(st),Qt=Ut*S(st),Oe=S(St),ve=y(T((ve=Ir*Oe-ti*Qt)*ve+(ve=ti*wt-Vr*Oe)*ve+(ve=Vr*Qt-Ir*wt)*ve),Vr*wt+Ir*Qt+ti*Oe);Ae+=ve,or+=ve*(Vr+(Vr=wt)),wr+=ve*(Ir+(Ir=Qt)),cn+=ve*(ti+(ti=Oe)),Se(Vr,Ir,ti)}function He(){ge.point=Le}function rr(){ge.point=Mr}function Dr(){an(Gn,$n),ge.point=Le}function Mr(st,St){Gn=st,$n=St,st*=p,St*=p,ge.point=an;var Ut=E(St);Vr=Ut*E(st),Ir=Ut*S(st),ti=S(St),Se(Vr,Ir,ti)}function an(st,St){st*=p,St*=p;var Ut=E(St),wt=Ut*E(st),Qt=Ut*S(st),Oe=S(St),ve=Ir*Oe-ti*Qt,we=ti*wt-Vr*Oe,Ne=Vr*Qt-Ir*wt,Qe=T(ve*ve+we*we+Ne*Ne),Ye=L(Qe),Ar=Qe&&-Ye/Qe;Fn+=Ar*ve,nn+=Ar*we,Hr+=Ar*Ne,Ae+=Ye,or+=Ye*(Vr+(Vr=wt)),wr+=Ye*(Ir+(Ir=Qt)),cn+=Ye*(ti+(ti=Oe)),Se(Vr,Ir,ti)}function gn(st){ji=Ae=De=ar=Pr=or=wr=cn=Fn=nn=Hr=0,Q(st,ge);var St=Fn,Ut=nn,wt=Hr,Qt=St*St+Ut*Ut+wt*wt;return Qt<e&&(St=or,Ut=wr,wt=cn,Ae<r&&(St=De,Ut=ar,wt=Pr),Qt=St*St+Ut*Ut+wt*wt,Qt<e)?[NaN,NaN]:[y(Ut,St)*h,L(wt/T(Qt))*h]}function qr(st){return function(){return st}}function Dn(st,St){function Ut(wt,Qt){return wt=st(wt,Qt),St(wt[0],wt[1])}return st.invert&&St.invert&&(Ut.invert=function(wt,Qt){return wt=St.invert(wt,Qt),wt&&st.invert(wt[0],wt[1])}),Ut}function ae(st,St){return[d(st)>n?st+Math.round(-st/l)*l:st,St]}ae.invert=ae;function er(st,St,Ut){return(st%=l)?St||Ut?Dn(kr(st),Rn(St,Ut)):kr(st):St||Ut?Rn(St,Ut):ae}function sr(st){return function(St,Ut){return St+=st,[St>n?St-l:St<-n?St+l:St,Ut]}}function kr(st){var St=sr(st);return St.invert=sr(-st),St}function Rn(st,St){var Ut=E(st),wt=S(st),Qt=E(St),Oe=S(St);function ve(we,Ne){var Qe=E(Ne),Ye=E(we)*Qe,Ar=S(we)*Qe,yr=S(Ne),Ur=yr*Ut+Ye*wt;return[y(Ar*Qt-Ur*Oe,Ye*Ut-yr*wt),L(Ur*Qt+Ar*Oe)]}return ve.invert=function(we,Ne){var Qe=E(Ne),Ye=E(we)*Qe,Ar=S(we)*Qe,yr=S(Ne),Ur=yr*Qt-Ar*Oe;return[y(Ar*Qt+yr*Oe,Ye*Ut+Ur*wt),L(Ur*Ut-Ye*wt)]},ve}function pi(st){st=er(st[0]*p,st[1]*p,st.length>2?st[2]*p:0);function St(Ut){return Ut=st(Ut[0]*p,Ut[1]*p),Ut[0]*=h,Ut[1]*=h,Ut}return St.invert=function(Ut){return Ut=st.invert(Ut[0]*p,Ut[1]*p),Ut[0]*=h,Ut[1]*=h,Ut},St}function Yi(st,St,Ut,wt,Qt,Oe){if(!!Ut){var ve=E(St),we=S(St),Ne=wt*Ut;Qt==null?(Qt=St+wt*l,Oe=St-Ne/2):(Qt=da(ve,Qt),Oe=da(ve,Oe),(wt>0?Qt<Oe:Qt>Oe)&&(Qt+=wt*l));for(var Qe,Ye=Qt;wt>0?Ye>Oe:Ye<Oe;Ye-=Ne)Qe=et([ve,-we*E(Ye),-we*S(Ye)]),st.point(Qe[0],Qe[1])}}function da(st,St){St=B(St),St[0]-=st,lt(St);var Ut=D(-St[1]);return((-St[2]<0?-Ut:Ut)+l-r)%l}function _a(){var st=qr([0,0]),St=qr(90),Ut=qr(6),wt,Qt,Oe={point:ve};function ve(Ne,Qe){wt.push(Ne=Qt(Ne,Qe)),Ne[0]*=h,Ne[1]*=h}function we(){var Ne=st.apply(this,arguments),Qe=St.apply(this,arguments)*p,Ye=Ut.apply(this,arguments)*p;return wt=[],Qt=er(-Ne[0]*p,-Ne[1]*p,0).invert,Yi(Oe,Qe,Ye,1),Ne={type:"Polygon",coordinates:[wt]},wt=Qt=null,Ne}return we.center=function(Ne){return arguments.length?(st=typeof Ne=="function"?Ne:qr([+Ne[0],+Ne[1]]),we):st},we.radius=function(Ne){return arguments.length?(St=typeof Ne=="function"?Ne:qr(+Ne),we):St},we.precision=function(Ne){return arguments.length?(Ut=typeof Ne=="function"?Ne:qr(+Ne),we):Ut},we}function fa(){var st=[],St;return{point:function(Ut,wt,Qt){St.push([Ut,wt,Qt])},lineStart:function(){st.push(St=[])},lineEnd:U,rejoin:function(){st.length>1&&st.push(st.pop().concat(st.shift()))},result:function(){var Ut=st;return st=[],St=null,Ut}}}function wo(st,St){return d(st[0]-St[0])<r&&d(st[1]-St[1])<r}function ho(st,St,Ut,wt){this.x=st,this.z=St,this.o=Ut,this.e=wt,this.v=!1,this.n=this.p=null}function mo(st,St,Ut,wt,Qt){var Oe=[],ve=[],we,Ne;if(st.forEach(function(pr){if(!((Fr=pr.length-1)<=0)){var Fr,Yr=pr[0],Sn=pr[Fr],Nn;if(wo(Yr,Sn)){if(!Yr[2]&&!Sn[2]){for(Qt.lineStart(),we=0;we<Fr;++we)Qt.point((Yr=pr[we])[0],Yr[1]);Qt.lineEnd();return}Sn[0]+=2*r}Oe.push(Nn=new ho(Yr,pr,null,!0)),ve.push(Nn.o=new ho(Yr,null,Nn,!1)),Oe.push(Nn=new ho(Sn,pr,null,!1)),ve.push(Nn.o=new ho(Sn,null,Nn,!0))}}),!!Oe.length){for(ve.sort(St),yo(Oe),yo(ve),we=0,Ne=ve.length;we<Ne;++we)ve[we].e=Ut=!Ut;for(var Qe=Oe[0],Ye,Ar;;){for(var yr=Qe,Ur=!0;yr.v;)if((yr=yr.n)===Qe)return;Ye=yr.z,Qt.lineStart();do{if(yr.v=yr.o.v=!0,yr.e){if(Ur)for(we=0,Ne=Ye.length;we<Ne;++we)Qt.point((Ar=Ye[we])[0],Ar[1]);else wt(yr.x,yr.n.x,1,Qt);yr=yr.n}else{if(Ur)for(Ye=yr.p.z,we=Ye.length-1;we>=0;--we)Qt.point((Ar=Ye[we])[0],Ar[1]);else wt(yr.x,yr.p.x,-1,Qt);yr=yr.p}yr=yr.o,Ye=yr.z,Ur=!Ur}while(!yr.v);Qt.lineEnd()}}}function yo(st){if(!!(St=st.length)){for(var St,Ut=0,wt=st[0],Qt;++Ut<St;)wt.n=Qt=st[Ut],Qt.p=wt,wt=Qt;wt.n=Qt=st[0],Qt.p=wt}}var zo=s();function io(st){return d(st[0])<=n?st[0]:A(st[0])*((d(st[0])+n)%l-n)}function Za(st,St){var Ut=io(St),wt=St[1],Qt=S(wt),Oe=[S(Ut),-E(Ut),0],ve=0,we=0;zo.reset(),Qt===1?wt=a+r:Qt===-1&&(wt=-a-r);for(var Ne=0,Qe=st.length;Ne<Qe;++Ne)if(!!(Ar=(Ye=st[Ne]).length))for(var Ye,Ar,yr=Ye[Ar-1],Ur=io(yr),pr=yr[1]/2+u,Fr=S(pr),Yr=E(pr),Sn=0;Sn<Ar;++Sn,Ur=hn,Fr=qn,Yr=Ai,yr=Nn){var Nn=Ye[Sn],hn=io(Nn),Bn=Nn[1]/2+u,qn=S(Bn),Ai=E(Bn),Ti=hn-Ur,Oa=Ti>=0?1:-1,va=Oa*Ti,ma=va>n,jn=Fr*qn;if(zo.add(y(jn*Oa*S(va),Yr*Ai+jn*E(va))),ve+=ma?Ti+Oa*l:Ti,ma^Ur>=Ut^hn>=Ut){var hi=R(B(yr),B(Nn));lt(hi);var Ha=R(Oe,hi);lt(Ha);var Wa=(ma^Ti>=0?-1:1)*L(Ha[2]);(wt>Wa||wt===Wa&&(hi[0]||hi[1]))&&(we+=ma^Ti>=0?1:-1)}}return(ve<-r||ve<r&&zo<-r)^we&1}function qa(st,St,Ut,wt){return function(Qt){var Oe=St(Qt),ve=fa(),we=St(ve),Ne=!1,Qe,Ye,Ar,yr={point:Ur,lineStart:Fr,lineEnd:Yr,polygonStart:function(){yr.point=Sn,yr.lineStart=Nn,yr.lineEnd=hn,Ye=[],Qe=[]},polygonEnd:function(){yr.point=Ur,yr.lineStart=Fr,yr.lineEnd=Yr,Ye=c.merge(Ye);var Bn=Za(Qe,wt);Ye.length?(Ne||(Qt.polygonStart(),Ne=!0),mo(Ye,je,Bn,Ut,Qt)):Bn&&(Ne||(Qt.polygonStart(),Ne=!0),Qt.lineStart(),Ut(null,null,1,Qt),Qt.lineEnd()),Ne&&(Qt.polygonEnd(),Ne=!1),Ye=Qe=null},sphere:function(){Qt.polygonStart(),Qt.lineStart(),Ut(null,null,1,Qt),Qt.lineEnd(),Qt.polygonEnd()}};function Ur(Bn,qn){st(Bn,qn)&&Qt.point(Bn,qn)}function pr(Bn,qn){Oe.point(Bn,qn)}function Fr(){yr.point=pr,Oe.lineStart()}function Yr(){yr.point=Ur,Oe.lineEnd()}function Sn(Bn,qn){Ar.push([Bn,qn]),we.point(Bn,qn)}function Nn(){we.lineStart(),Ar=[]}function hn(){Sn(Ar[0][0],Ar[0][1]),we.lineEnd();var Bn=we.clean(),qn=ve.result(),Ai,Ti=qn.length,Oa,va,ma;if(Ar.pop(),Qe.push(Ar),Ar=null,!!Ti){if(Bn&1){if(va=qn[0],(Oa=va.length-1)>0){for(Ne||(Qt.polygonStart(),Ne=!0),Qt.lineStart(),Ai=0;Ai<Oa;++Ai)Qt.point((ma=va[Ai])[0],ma[1]);Qt.lineEnd()}return}Ti>1&&Bn&2&&qn.push(qn.pop().concat(qn.shift())),Ye.push(qn.filter(Zt))}}return yr}}function Zt(st){return st.length>1}function je(st,St){return((st=st.x)[0]<0?st[1]-a-r:a-st[1])-((St=St.x)[0]<0?St[1]-a-r:a-St[1])}var lr=qa(function(){return!0},Br,ee,[-n,-a]);function Br(st){var St=NaN,Ut=NaN,wt=NaN,Qt;return{lineStart:function(){st.lineStart(),Qt=1},point:function(Oe,ve){var we=Oe>0?n:-n,Ne=d(Oe-St);d(Ne-n)<r?(st.point(St,Ut=(Ut+ve)/2>0?a:-a),st.point(wt,Ut),st.lineEnd(),st.lineStart(),st.point(we,Ut),st.point(Oe,Ut),Qt=0):wt!==we&&Ne>=n&&(d(St-wt)<r&&(St-=wt*r),d(Oe-we)<r&&(Oe-=we*r),Ut=Vt(St,Ut,Oe,ve),st.point(wt,Ut),st.lineEnd(),st.lineStart(),st.point(we,Ut),Qt=0),st.point(St=Oe,Ut=ve),wt=we},lineEnd:function(){st.lineEnd(),St=Ut=NaN},clean:function(){return 2-Qt}}}function Vt(st,St,Ut,wt){var Qt,Oe,ve=S(st-Ut);return d(ve)>r?g((S(St)*(Oe=E(wt))*S(Ut)-S(wt)*(Qt=E(St))*S(st))/(Qt*Oe*ve)):(St+wt)/2}function ee(st,St,Ut,wt){var Qt;if(st==null)Qt=Ut*a,wt.point(-n,Qt),wt.point(0,Qt),wt.point(n,Qt),wt.point(n,0),wt.point(n,-Qt),wt.point(0,-Qt),wt.point(-n,-Qt),wt.point(-n,0),wt.point(-n,Qt);else if(d(st[0]-St[0])>r){var Oe=st[0]<St[0]?n:-n;Qt=Ut*Oe/2,wt.point(-Oe,Qt),wt.point(0,Qt),wt.point(Oe,Qt)}else wt.point(St[0],St[1])}function Ce(st){var St=E(st),Ut=6*p,wt=St>0,Qt=d(St)>r;function Oe(Ye,Ar,yr,Ur){Yi(Ur,st,Ut,yr,Ye,Ar)}function ve(Ye,Ar){return E(Ye)*E(Ar)>St}function we(Ye){var Ar,yr,Ur,pr,Fr;return{lineStart:function(){pr=Ur=!1,Fr=1},point:function(Yr,Sn){var Nn=[Yr,Sn],hn,Bn=ve(Yr,Sn),qn=wt?Bn?0:Qe(Yr,Sn):Bn?Qe(Yr+(Yr<0?n:-n),Sn):0;if(!Ar&&(pr=Ur=Bn)&&Ye.lineStart(),Bn!==Ur&&(hn=Ne(Ar,Nn),(!hn||wo(Ar,hn)||wo(Nn,hn))&&(Nn[2]=1)),Bn!==Ur)Fr=0,Bn?(Ye.lineStart(),hn=Ne(Nn,Ar),Ye.point(hn[0],hn[1])):(hn=Ne(Ar,Nn),Ye.point(hn[0],hn[1],2),Ye.lineEnd()),Ar=hn;else if(Qt&&Ar&&wt^Bn){var Ai;!(qn&yr)&&(Ai=Ne(Nn,Ar,!0))&&(Fr=0,wt?(Ye.lineStart(),Ye.point(Ai[0][0],Ai[0][1]),Ye.point(Ai[1][0],Ai[1][1]),Ye.lineEnd()):(Ye.point(Ai[1][0],Ai[1][1]),Ye.lineEnd(),Ye.lineStart(),Ye.point(Ai[0][0],Ai[0][1],3)))}Bn&&(!Ar||!wo(Ar,Nn))&&Ye.point(Nn[0],Nn[1]),Ar=Nn,Ur=Bn,yr=qn},lineEnd:function(){Ur&&Ye.lineEnd(),Ar=null},clean:function(){return Fr|(pr&&Ur)<<1}}}function Ne(Ye,Ar,yr){var Ur=B(Ye),pr=B(Ar),Fr=[1,0,0],Yr=R(Ur,pr),Sn=w(Yr,Yr),Nn=Yr[0],hn=Sn-Nn*Nn;if(!hn)return!yr&&Ye;var Bn=St*Sn/hn,qn=-St*Nn/hn,Ai=R(Fr,Yr),Ti=tt(Fr,Bn),Oa=tt(Yr,qn);V(Ti,Oa);var va=Ai,ma=w(Ti,va),jn=w(va,va),hi=ma*ma-jn*(w(Ti,Ti)-1);if(!(hi<0)){var Ha=T(hi),Wa=tt(va,(-ma-Ha)/jn);if(V(Wa,Ti),Wa=et(Wa),!yr)return Wa;var Xn=Ye[0],ja=Ar[0],fo=Ye[1],Do=Ar[1],Ro;ja<Xn&&(Ro=Xn,Xn=ja,ja=Ro);var Ys=ja-Xn,gs=d(Ys-n)<r,yu=gs||Ys<r;if(!gs&&Do<fo&&(Ro=fo,fo=Do,Do=Ro),yu?gs?fo+Do>0^Wa[1]<(d(Wa[0]-Xn)<r?fo:Do):fo<=Wa[1]&&Wa[1]<=Do:Ys>n^(Xn<=Wa[0]&&Wa[0]<=ja)){var Tu=tt(va,(-ma+Ha)/jn);return V(Tu,Ti),[Wa,et(Tu)]}}}function Qe(Ye,Ar){var yr=wt?st:n-st,Ur=0;return Ye<-yr?Ur|=1:Ye>yr&&(Ur|=2),Ar<-yr?Ur|=4:Ar>yr&&(Ur|=8),Ur}return qa(ve,we,Oe,wt?[0,-st]:[-n,st-n])}function Me(st,St,Ut,wt,Qt,Oe){var ve=st[0],we=st[1],Ne=St[0],Qe=St[1],Ye=0,Ar=1,yr=Ne-ve,Ur=Qe-we,pr;if(pr=Ut-ve,!(!yr&&pr>0)){if(pr/=yr,yr<0){if(pr<Ye)return;pr<Ar&&(Ar=pr)}else if(yr>0){if(pr>Ar)return;pr>Ye&&(Ye=pr)}if(pr=Qt-ve,!(!yr&&pr<0)){if(pr/=yr,yr<0){if(pr>Ar)return;pr>Ye&&(Ye=pr)}else if(yr>0){if(pr<Ye)return;pr<Ar&&(Ar=pr)}if(pr=wt-we,!(!Ur&&pr>0)){if(pr/=Ur,Ur<0){if(pr<Ye)return;pr<Ar&&(Ar=pr)}else if(Ur>0){if(pr>Ar)return;pr>Ye&&(Ye=pr)}if(pr=Oe-we,!(!Ur&&pr<0)){if(pr/=Ur,Ur<0){if(pr>Ar)return;pr>Ye&&(Ye=pr)}else if(Ur>0){if(pr<Ye)return;pr<Ar&&(Ar=pr)}return Ye>0&&(st[0]=ve+Ye*yr,st[1]=we+Ye*Ur),Ar<1&&(St[0]=ve+Ar*yr,St[1]=we+Ar*Ur),!0}}}}}var Sr=1e9,pn=-Sr;function En(st,St,Ut,wt){function Qt(Qe,Ye){return st<=Qe&&Qe<=Ut&&St<=Ye&&Ye<=wt}function Oe(Qe,Ye,Ar,yr){var Ur=0,pr=0;if(Qe==null||(Ur=ve(Qe,Ar))!==(pr=ve(Ye,Ar))||Ne(Qe,Ye)<0^Ar>0)do yr.point(Ur===0||Ur===3?st:Ut,Ur>1?wt:St);while((Ur=(Ur+Ar+4)%4)!==pr);else yr.point(Ye[0],Ye[1])}function ve(Qe,Ye){return d(Qe[0]-st)<r?Ye>0?0:3:d(Qe[0]-Ut)<r?Ye>0?2:1:d(Qe[1]-St)<r?Ye>0?1:0:Ye>0?3:2}function we(Qe,Ye){return Ne(Qe.x,Ye.x)}function Ne(Qe,Ye){var Ar=ve(Qe,1),yr=ve(Ye,1);return Ar!==yr?Ar-yr:Ar===0?Ye[1]-Qe[1]:Ar===1?Qe[0]-Ye[0]:Ar===2?Qe[1]-Ye[1]:Ye[0]-Qe[0]}return function(Qe){var Ye=Qe,Ar=fa(),yr,Ur,pr,Fr,Yr,Sn,Nn,hn,Bn,qn,Ai,Ti={point:Oa,lineStart:hi,lineEnd:Ha,polygonStart:ma,polygonEnd:jn};function Oa(Xn,ja){Qt(Xn,ja)&&Ye.point(Xn,ja)}function va(){for(var Xn=0,ja=0,fo=Ur.length;ja<fo;++ja)for(var Do=Ur[ja],Ro=1,Ys=Do.length,gs=Do[0],yu,Tu,lu=gs[0],eo=gs[1];Ro<Ys;++Ro)yu=lu,Tu=eo,gs=Do[Ro],lu=gs[0],eo=gs[1],Tu<=wt?eo>wt&&(lu-yu)*(wt-Tu)>(eo-Tu)*(st-yu)&&++Xn:eo<=wt&&(lu-yu)*(wt-Tu)<(eo-Tu)*(st-yu)&&--Xn;return Xn}function ma(){Ye=Ar,yr=[],Ur=[],Ai=!0}function jn(){var Xn=va(),ja=Ai&&Xn,fo=(yr=c.merge(yr)).length;(ja||fo)&&(Qe.polygonStart(),ja&&(Qe.lineStart(),Oe(null,null,1,Qe),Qe.lineEnd()),fo&&mo(yr,we,Xn,Oe,Qe),Qe.polygonEnd()),Ye=Qe,yr=Ur=pr=null}function hi(){Ti.point=Wa,Ur&&Ur.push(pr=[]),qn=!0,Bn=!1,Nn=hn=NaN}function Ha(){yr&&(Wa(Fr,Yr),Sn&&Bn&&Ar.rejoin(),yr.push(Ar.result())),Ti.point=Oa,Bn&&Ye.lineEnd()}function Wa(Xn,ja){var fo=Qt(Xn,ja);if(Ur&&pr.push([Xn,ja]),qn)Fr=Xn,Yr=ja,Sn=fo,qn=!1,fo&&(Ye.lineStart(),Ye.point(Xn,ja));else if(fo&&Bn)Ye.point(Xn,ja);else{var Do=[Nn=Math.max(pn,Math.min(Sr,Nn)),hn=Math.max(pn,Math.min(Sr,hn))],Ro=[Xn=Math.max(pn,Math.min(Sr,Xn)),ja=Math.max(pn,Math.min(Sr,ja))];Me(Do,Ro,st,St,Ut,wt)?(Bn||(Ye.lineStart(),Ye.point(Do[0],Do[1])),Ye.point(Ro[0],Ro[1]),fo||Ye.lineEnd(),Ai=!1):fo&&(Ye.lineStart(),Ye.point(Xn,ja),Ai=!1)}Nn=Xn,hn=ja,Bn=fo}return Ti}}function fi(){var st=0,St=0,Ut=960,wt=500,Qt,Oe,ve;return ve={stream:function(we){return Qt&&Oe===we?Qt:Qt=En(st,St,Ut,wt)(Oe=we)},extent:function(we){return arguments.length?(st=+we[0][0],St=+we[0][1],Ut=+we[1][0],wt=+we[1][1],Qt=Oe=null,ve):[[st,St],[Ut,wt]]}}}var Ci=s(),aa,ta,Ea,ca={sphere:U,point:U,lineStart:to,lineEnd:U,polygonStart:U,polygonEnd:U};function to(){ca.point=Ia,ca.lineEnd=za}function za(){ca.point=ca.lineEnd=U}function Ia(st,St){st*=p,St*=p,aa=st,ta=S(St),Ea=E(St),ca.point=Va}function Va(st,St){st*=p,St*=p;var Ut=S(St),wt=E(St),Qt=d(st-aa),Oe=E(Qt),ve=S(Qt),we=wt*ve,Ne=Ea*Ut-ta*wt*Oe,Qe=ta*Ut+Ea*wt*Oe;Ci.add(y(T(we*we+Ne*Ne),Qe)),aa=st,ta=Ut,Ea=wt}function ro(st){return Ci.reset(),Q(st,ca),+Ci}var Ee=[null,null],be={type:"LineString",coordinates:Ee};function pe(st,St){return Ee[0]=st,Ee[1]=St,ro(be)}var vt={Feature:function(st,St){return dt(st.geometry,St)},FeatureCollection:function(st,St){for(var Ut=st.features,wt=-1,Qt=Ut.length;++wt<Qt;)if(dt(Ut[wt].geometry,St))return!0;return!1}},gt={Sphere:function(){return!0},Point:function(st,St){return Dt(st.coordinates,St)},MultiPoint:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)if(Dt(Ut[wt],St))return!0;return!1},LineString:function(st,St){return te(st.coordinates,St)},MultiLineString:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)if(te(Ut[wt],St))return!0;return!1},Polygon:function(st,St){return Ge(st.coordinates,St)},MultiPolygon:function(st,St){for(var Ut=st.coordinates,wt=-1,Qt=Ut.length;++wt<Qt;)if(Ge(Ut[wt],St))return!0;return!1},GeometryCollection:function(st,St){for(var Ut=st.geometries,wt=-1,Qt=Ut.length;++wt<Qt;)if(dt(Ut[wt],St))return!0;return!1}};function dt(st,St){return st&&gt.hasOwnProperty(st.type)?gt[st.type](st,St):!1}function Dt(st,St){return pe(st,St)===0}function te(st,St){for(var Ut,wt,Qt,Oe=0,ve=st.length;Oe<ve;Oe++){if(wt=pe(st[Oe],St),wt===0||Oe>0&&(Qt=pe(st[Oe],st[Oe-1]),Qt>0&&Ut<=Qt&&wt<=Qt&&(Ut+wt-Qt)*(1-Math.pow((Ut-wt)/Qt,2))<e*Qt))return!0;Ut=wt}return!1}function Ge(st,St){return!!Za(st.map(cr),zr(St))}function cr(st){return st=st.map(zr),st.pop(),st}function zr(st){return[st[0]*p,st[1]*p]}function Rt(st,St){return(st&&vt.hasOwnProperty(st.type)?vt[st.type]:dt)(st,St)}function Ei(st,St,Ut){var wt=c.range(st,St-r,Ut).concat(St);return function(Qt){return wt.map(function(Oe){return[Qt,Oe]})}}function ri(st,St,Ut){var wt=c.range(st,St-r,Ut).concat(St);return function(Qt){return wt.map(function(Oe){return[Oe,Qt]})}}function k(){var st,St,Ut,wt,Qt,Oe,ve,we,Ne=10,Qe=Ne,Ye=90,Ar=360,yr,Ur,pr,Fr,Yr=2.5;function Sn(){return{type:"MultiLineString",coordinates:Nn()}}function Nn(){return c.range(C(wt/Ye)*Ye,Ut,Ye).map(pr).concat(c.range(C(we/Ar)*Ar,ve,Ar).map(Fr)).concat(c.range(C(St/Ne)*Ne,st,Ne).filter(function(hn){return d(hn%Ye)>r}).map(yr)).concat(c.range(C(Oe/Qe)*Qe,Qt,Qe).filter(function(hn){return d(hn%Ar)>r}).map(Ur))}return Sn.lines=function(){return Nn().map(function(hn){return{type:"LineString",coordinates:hn}})},Sn.outline=function(){return{type:"Polygon",coordinates:[pr(wt).concat(Fr(ve).slice(1),pr(Ut).reverse().slice(1),Fr(we).reverse().slice(1))]}},Sn.extent=function(hn){return arguments.length?Sn.extentMajor(hn).extentMinor(hn):Sn.extentMinor()},Sn.extentMajor=function(hn){return arguments.length?(wt=+hn[0][0],Ut=+hn[1][0],we=+hn[0][1],ve=+hn[1][1],wt>Ut&&(hn=wt,wt=Ut,Ut=hn),we>ve&&(hn=we,we=ve,ve=hn),Sn.precision(Yr)):[[wt,we],[Ut,ve]]},Sn.extentMinor=function(hn){return arguments.length?(St=+hn[0][0],st=+hn[1][0],Oe=+hn[0][1],Qt=+hn[1][1],St>st&&(hn=St,St=st,st=hn),Oe>Qt&&(hn=Oe,Oe=Qt,Qt=hn),Sn.precision(Yr)):[[St,Oe],[st,Qt]]},Sn.step=function(hn){return arguments.length?Sn.stepMajor(hn).stepMinor(hn):Sn.stepMinor()},Sn.stepMajor=function(hn){return arguments.length?(Ye=+hn[0],Ar=+hn[1],Sn):[Ye,Ar]},Sn.stepMinor=function(hn){return arguments.length?(Ne=+hn[0],Qe=+hn[1],Sn):[Ne,Qe]},Sn.precision=function(hn){return arguments.length?(Yr=+hn,yr=Ei(Oe,Qt,90),Ur=ri(St,st,Yr),pr=Ei(we,ve,90),Fr=ri(wt,Ut,Yr),Sn):Yr},Sn.extentMajor([[-180,-90+r],[180,90-r]]).extentMinor([[-180,-80-r],[180,80+r]])}function it(){return k()()}function Bt(st,St){var Ut=st[0]*p,wt=st[1]*p,Qt=St[0]*p,Oe=St[1]*p,ve=E(wt),we=S(wt),Ne=E(Oe),Qe=S(Oe),Ye=ve*E(Ut),Ar=ve*S(Ut),yr=Ne*E(Qt),Ur=Ne*S(Qt),pr=2*L(T(Z(Oe-wt)+ve*Ne*Z(Qt-Ut))),Fr=S(pr),Yr=pr?function(Sn){var Nn=S(Sn*=pr)/Fr,hn=S(pr-Sn)/Fr,Bn=hn*Ye+Nn*yr,qn=hn*Ar+Nn*Ur,Ai=hn*we+Nn*Qe;return[y(qn,Bn)*h,y(Ai,T(Bn*Bn+qn*qn))*h]}:function(){return[Ut*h,wt*h]};return Yr.distance=pr,Yr}function yt(st){return st}var ne=s(),_e=s(),ur,jr,_r,Pn,Ln={point:U,lineStart:U,lineEnd:U,polygonStart:function(){Ln.lineStart=Li,Ln.lineEnd=Sa},polygonEnd:function(){Ln.lineStart=Ln.lineEnd=Ln.point=U,ne.add(d(_e)),_e.reset()},result:function(){var st=ne/2;return ne.reset(),st}};function Li(){Ln.point=sa}function sa(st,St){Ln.point=$i,ur=_r=st,jr=Pn=St}function $i(st,St){_e.add(Pn*st-_r*St),_r=st,Pn=St}function Sa(){$i(ur,jr)}var pa=Infinity,Fa=pa,Ua=-pa,vo=Ua,No={point:Yo,lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U,result:function(){var st=[[pa,Fa],[Ua,vo]];return Ua=vo=-(Fa=pa=Infinity),st}};function Yo(st,St){st<pa&&(pa=st),st>Ua&&(Ua=st),St<Fa&&(Fa=St),St>vo&&(vo=St)}var Ds=0,Go=0,Io=0,xo=0,Lo=0,Fo=0,so=0,Qo=0,Jo=0,Eo,ds,ns,qo,is={point:Xo,lineStart:as,lineEnd:pu,polygonStart:function(){is.lineStart=Qs,is.lineEnd=au},polygonEnd:function(){is.point=Xo,is.lineStart=as,is.lineEnd=pu},result:function(){var st=Jo?[so/Jo,Qo/Jo]:Fo?[xo/Fo,Lo/Fo]:Io?[Ds/Io,Go/Io]:[NaN,NaN];return Ds=Go=Io=xo=Lo=Fo=so=Qo=Jo=0,st}};function Xo(st,St){Ds+=st,Go+=St,++Io}function as(){is.point=$a}function $a(st,St){is.point=Su,Xo(ns=st,qo=St)}function Su(st,St){var Ut=st-ns,wt=St-qo,Qt=T(Ut*Ut+wt*wt);xo+=Qt*(ns+st)/2,Lo+=Qt*(qo+St)/2,Fo+=Qt,Xo(ns=st,qo=St)}function pu(){is.point=Xo}function Qs(){is.point=Ko}function au(){ie(Eo,ds)}function Ko(st,St){is.point=ie,Xo(Eo=ns=st,ds=qo=St)}function ie(st,St){var Ut=st-ns,wt=St-qo,Qt=T(Ut*Ut+wt*wt);xo+=Qt*(ns+st)/2,Lo+=Qt*(qo+St)/2,Fo+=Qt,Qt=qo*st-ns*St,so+=Qt*(ns+st),Qo+=Qt*(qo+St),Jo+=Qt*3,Xo(ns=st,qo=St)}function he(st){this._context=st}he.prototype={_radius:4.5,pointRadius:function(st){return this._radius=st,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(st,St){switch(this._point){case 0:{this._context.moveTo(st,St),this._point=1;break}case 1:{this._context.lineTo(st,St);break}default:{this._context.moveTo(st+this._radius,St),this._context.arc(st,St,this._radius,0,l);break}}},result:U};var Kt=s(),Re,br,Tn,gi,Oi,Di={point:U,lineStart:function(){Di.point=ea},lineEnd:function(){Re&&ha(br,Tn),Di.point=U},polygonStart:function(){Re=!0},polygonEnd:function(){Re=null},result:function(){var st=+Kt;return Kt.reset(),st}};function ea(st,St){Di.point=ha,br=gi=st,Tn=Oi=St}function ha(st,St){gi-=st,Oi-=St,Kt.add(T(gi*gi+Oi*Oi)),gi=st,Oi=St}function Ba(){this._string=[]}Ba.prototype={_radius:4.5,_circle:na(4.5),pointRadius:function(st){return(st=+st)!==this._radius&&(this._radius=st,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(st,St){switch(this._point){case 0:{this._string.push("M",st,",",St),this._point=1;break}case 1:{this._string.push("L",st,",",St);break}default:{this._circle==null&&(this._circle=na(this._radius)),this._string.push("M",st,",",St,this._circle);break}}},result:function(){if(this._string.length){var st=this._string.join("");return this._string=[],st}else return null}};function na(st){return"m0,"+st+"a"+st+","+st+" 0 1,1 0,"+-2*st+"a"+st+","+st+" 0 1,1 0,"+2*st+"z"}function ts(st,St){var Ut=4.5,wt,Qt;function Oe(ve){return ve&&(typeof Ut=="function"&&Qt.pointRadius(+Ut.apply(this,arguments)),Q(ve,wt(Qt))),Qt.result()}return Oe.area=function(ve){return Q(ve,wt(Ln)),Ln.result()},Oe.measure=function(ve){return Q(ve,wt(Di)),Di.result()},Oe.bounds=function(ve){return Q(ve,wt(No)),No.result()},Oe.centroid=function(ve){return Q(ve,wt(is)),is.result()},Oe.projection=function(ve){return arguments.length?(wt=ve==null?(st=null,yt):(st=ve).stream,Oe):st},Oe.context=function(ve){return arguments.length?(Qt=ve==null?(St=null,new Ba):new he(St=ve),typeof Ut!="function"&&Qt.pointRadius(Ut),Oe):St},Oe.pointRadius=function(ve){return arguments.length?(Ut=typeof ve=="function"?ve:(Qt.pointRadius(+ve),+ve),Oe):Ut},Oe.projection(st).context(St)}function po(st){return{stream:uo(st)}}function uo(st){return function(St){var Ut=new Zo;for(var wt in st)Ut[wt]=st[wt];return Ut.stream=St,Ut}}function Zo(){}Zo.prototype={constructor:Zo,point:function(st,St){this.stream.point(st,St)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qa(st,St,Ut){var wt=st.clipExtent&&st.clipExtent();return st.scale(150).translate([0,0]),wt!=null&&st.clipExtent(null),Q(Ut,st.stream(No)),St(No.result()),wt!=null&&st.clipExtent(wt),st}function go(st,St,Ut){return Qa(st,function(wt){var Qt=St[1][0]-St[0][0],Oe=St[1][1]-St[0][1],ve=Math.min(Qt/(wt[1][0]-wt[0][0]),Oe/(wt[1][1]-wt[0][1])),we=+St[0][0]+(Qt-ve*(wt[1][0]+wt[0][0]))/2,Ne=+St[0][1]+(Oe-ve*(wt[1][1]+wt[0][1]))/2;st.scale(150*ve).translate([we,Ne])},Ut)}function fs(st,St,Ut){return go(st,[[0,0],St],Ut)}function es(st,St,Ut){return Qa(st,function(wt){var Qt=+St,Oe=Qt/(wt[1][0]-wt[0][0]),ve=(Qt-Oe*(wt[1][0]+wt[0][0]))/2,we=-Oe*wt[0][1];st.scale(150*Oe).translate([ve,we])},Ut)}function Rs(st,St,Ut){return Qa(st,function(wt){var Qt=+St,Oe=Qt/(wt[1][1]-wt[0][1]),ve=-Oe*wt[0][0],we=(Qt-Oe*(wt[1][1]+wt[0][1]))/2;st.scale(150*Oe).translate([ve,we])},Ut)}var os=16,ss=E(30*p);function Bo(st,St){return+St?Es(st,St):Zs(st)}function Zs(st){return uo({point:function(St,Ut){St=st(St,Ut),this.stream.point(St[0],St[1])}})}function Es(st,St){function Ut(wt,Qt,Oe,ve,we,Ne,Qe,Ye,Ar,yr,Ur,pr,Fr,Yr){var Sn=Qe-wt,Nn=Ye-Qt,hn=Sn*Sn+Nn*Nn;if(hn>4*St&&Fr--){var Bn=ve+yr,qn=we+Ur,Ai=Ne+pr,Ti=T(Bn*Bn+qn*qn+Ai*Ai),Oa=L(Ai/=Ti),va=d(d(Ai)-1)<r||d(Oe-Ar)<r?(Oe+Ar)/2:y(qn,Bn),ma=st(va,Oa),jn=ma[0],hi=ma[1],Ha=jn-wt,Wa=hi-Qt,Xn=Nn*Ha-Sn*Wa;(Xn*Xn/hn>St||d((Sn*Ha+Nn*Wa)/hn-.5)>.3||ve*yr+we*Ur+Ne*pr<ss)&&(Ut(wt,Qt,Oe,ve,we,Ne,jn,hi,va,Bn/=Ti,qn/=Ti,Ai,Fr,Yr),Yr.point(jn,hi),Ut(jn,hi,va,Bn,qn,Ai,Qe,Ye,Ar,yr,Ur,pr,Fr,Yr))}}return function(wt){var Qt,Oe,ve,we,Ne,Qe,Ye,Ar,yr,Ur,pr,Fr,Yr={point:Sn,lineStart:Nn,lineEnd:Bn,polygonStart:function(){wt.polygonStart(),Yr.lineStart=qn},polygonEnd:function(){wt.polygonEnd(),Yr.lineStart=Nn}};function Sn(Oa,va){Oa=st(Oa,va),wt.point(Oa[0],Oa[1])}function Nn(){Ar=NaN,Yr.point=hn,wt.lineStart()}function hn(Oa,va){var ma=B([Oa,va]),jn=st(Oa,va);Ut(Ar,yr,Ye,Ur,pr,Fr,Ar=jn[0],yr=jn[1],Ye=Oa,Ur=ma[0],pr=ma[1],Fr=ma[2],os,wt),wt.point(Ar,yr)}function Bn(){Yr.point=Sn,wt.lineEnd()}function qn(){Nn(),Yr.point=Ai,Yr.lineEnd=Ti}function Ai(Oa,va){hn(Qt=Oa,va),Oe=Ar,ve=yr,we=Ur,Ne=pr,Qe=Fr,Yr.point=hn}function Ti(){Ut(Ar,yr,Ye,Ur,pr,Fr,Oe,ve,Qt,we,Ne,Qe,os,wt),Yr.lineEnd=Bn,Bn()}return Yr}}var Ns=uo({point:function(st,St){this.stream.point(st*p,St*p)}});function Fs(st){return uo({point:function(St,Ut){var wt=st(St,Ut);return this.stream.point(wt[0],wt[1])}})}function bu(st,St,Ut,wt,Qt){function Oe(ve,we){return ve*=wt,we*=Qt,[St+st*ve,Ut-st*we]}return Oe.invert=function(ve,we){return[(ve-St)/st*wt,(Ut-we)/st*Qt]},Oe}function Au(st,St,Ut,wt,Qt,Oe){var ve=E(Oe),we=S(Oe),Ne=ve*st,Qe=we*st,Ye=ve/st,Ar=we/st,yr=(we*Ut-ve*St)/st,Ur=(we*St+ve*Ut)/st;function pr(Fr,Yr){return Fr*=wt,Yr*=Qt,[Ne*Fr-Qe*Yr+St,Ut-Qe*Fr-Ne*Yr]}return pr.invert=function(Fr,Yr){return[wt*(Ye*Fr-Ar*Yr+yr),Qt*(Ur-Ar*Fr-Ye*Yr)]},pr}function Bs(st){return ou(function(){return st})()}function ou(st){var St,Ut=150,wt=480,Qt=250,Oe=0,ve=0,we=0,Ne=0,Qe=0,Ye,Ar=0,yr=1,Ur=1,pr=null,Fr=lr,Yr=null,Sn,Nn,hn,Bn=yt,qn=.5,Ai,Ti,Oa,va,ma;function jn(Xn){return Oa(Xn[0]*p,Xn[1]*p)}function hi(Xn){return Xn=Oa.invert(Xn[0],Xn[1]),Xn&&[Xn[0]*h,Xn[1]*h]}jn.stream=function(Xn){return va&&ma===Xn?va:va=Ns(Fs(Ye)(Fr(Ai(Bn(ma=Xn)))))},jn.preclip=function(Xn){return arguments.length?(Fr=Xn,pr=void 0,Wa()):Fr},jn.postclip=function(Xn){return arguments.length?(Bn=Xn,Yr=Sn=Nn=hn=null,Wa()):Bn},jn.clipAngle=function(Xn){return arguments.length?(Fr=+Xn?Ce(pr=Xn*p):(pr=null,lr),Wa()):pr*h},jn.clipExtent=function(Xn){return arguments.length?(Bn=Xn==null?(Yr=Sn=Nn=hn=null,yt):En(Yr=+Xn[0][0],Sn=+Xn[0][1],Nn=+Xn[1][0],hn=+Xn[1][1]),Wa()):Yr==null?null:[[Yr,Sn],[Nn,hn]]},jn.scale=function(Xn){return arguments.length?(Ut=+Xn,Ha()):Ut},jn.translate=function(Xn){return arguments.length?(wt=+Xn[0],Qt=+Xn[1],Ha()):[wt,Qt]},jn.center=function(Xn){return arguments.length?(Oe=Xn[0]%360*p,ve=Xn[1]%360*p,Ha()):[Oe*h,ve*h]},jn.rotate=function(Xn){return arguments.length?(we=Xn[0]%360*p,Ne=Xn[1]%360*p,Qe=Xn.length>2?Xn[2]%360*p:0,Ha()):[we*h,Ne*h,Qe*h]},jn.angle=function(Xn){return arguments.length?(Ar=Xn%360*p,Ha()):Ar*h},jn.reflectX=function(Xn){return arguments.length?(yr=Xn?-1:1,Ha()):yr<0},jn.reflectY=function(Xn){return arguments.length?(Ur=Xn?-1:1,Ha()):Ur<0},jn.precision=function(Xn){return arguments.length?(Ai=Bo(Ti,qn=Xn*Xn),Wa()):T(qn)},jn.fitExtent=function(Xn,ja){return go(jn,Xn,ja)},jn.fitSize=function(Xn,ja){return fs(jn,Xn,ja)},jn.fitWidth=function(Xn,ja){return es(jn,Xn,ja)},jn.fitHeight=function(Xn,ja){return Rs(jn,Xn,ja)};function Ha(){var Xn=Au(Ut,0,0,yr,Ur,Ar).apply(null,St(Oe,ve)),ja=(Ar?Au:bu)(Ut,wt-Xn[0],Qt-Xn[1],yr,Ur,Ar);return Ye=er(we,Ne,Qe),Ti=Dn(St,ja),Oa=Dn(Ye,Ti),Ai=Bo(Ti,qn),Wa()}function Wa(){return va=ma=null,jn}return function(){return St=st.apply(this,arguments),jn.invert=St.invert&&hi,Ha()}}function Js(st){var St=0,Ut=n/3,wt=ou(st),Qt=wt(St,Ut);return Qt.parallels=function(Oe){return arguments.length?wt(St=Oe[0]*p,Ut=Oe[1]*p):[St*h,Ut*h]},Qt}function gu(st){var St=E(st);function Ut(wt,Qt){return[wt*St,S(Qt)/St]}return Ut.invert=function(wt,Qt){return[wt/St,L(Qt*St)]},Ut}function qs(st,St){var Ut=S(st),wt=(Ut+S(St))/2;if(d(wt)<r)return gu(st);var Qt=1+Ut*(2*wt-Ut),Oe=T(Qt)/wt;function ve(we,Ne){var Qe=T(Qt-2*wt*S(Ne))/wt;return[Qe*S(we*=wt),Oe-Qe*E(we)]}return ve.invert=function(we,Ne){var Qe=Oe-Ne,Ye=y(we,d(Qe))*A(Qe);return Qe*wt<0&&(Ye-=n*A(we)*A(Qe)),[Ye/wt,L((Qt-(we*we+Qe*Qe)*wt*wt)/(2*wt))]},ve}function js(){return Js(qs).scale(155.424).center([0,33.6442])}function Ws(){return js().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Nu(st){var St=st.length;return{point:function(Ut,wt){for(var Qt=-1;++Qt<St;)st[Qt].point(Ut,wt)},sphere:function(){for(var Ut=-1;++Ut<St;)st[Ut].sphere()},lineStart:function(){for(var Ut=-1;++Ut<St;)st[Ut].lineStart()},lineEnd:function(){for(var Ut=-1;++Ut<St;)st[Ut].lineEnd()},polygonStart:function(){for(var Ut=-1;++Ut<St;)st[Ut].polygonStart()},polygonEnd:function(){for(var Ut=-1;++Ut<St;)st[Ut].polygonEnd()}}}function su(){var st,St,Ut=Ws(),wt,Qt=js().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Oe,ve=js().rotate([157,0]).center([-3,19.9]).parallels([8,18]),we,Ne,Qe={point:function(yr,Ur){Ne=[yr,Ur]}};function Ye(yr){var Ur=yr[0],pr=yr[1];return Ne=null,wt.point(Ur,pr),Ne||(Oe.point(Ur,pr),Ne)||(we.point(Ur,pr),Ne)}Ye.invert=function(yr){var Ur=Ut.scale(),pr=Ut.translate(),Fr=(yr[0]-pr[0])/Ur,Yr=(yr[1]-pr[1])/Ur;return(Yr>=.12&&Yr<.234&&Fr>=-.425&&Fr<-.214?Qt:Yr>=.166&&Yr<.234&&Fr>=-.214&&Fr<-.115?ve:Ut).invert(yr)},Ye.stream=function(yr){return st&&St===yr?st:st=Nu([Ut.stream(St=yr),Qt.stream(yr),ve.stream(yr)])},Ye.precision=function(yr){return arguments.length?(Ut.precision(yr),Qt.precision(yr),ve.precision(yr),Ar()):Ut.precision()},Ye.scale=function(yr){return arguments.length?(Ut.scale(yr),Qt.scale(yr*.35),ve.scale(yr),Ye.translate(Ut.translate())):Ut.scale()},Ye.translate=function(yr){if(!arguments.length)return Ut.translate();var Ur=Ut.scale(),pr=+yr[0],Fr=+yr[1];return wt=Ut.translate(yr).clipExtent([[pr-.455*Ur,Fr-.238*Ur],[pr+.455*Ur,Fr+.238*Ur]]).stream(Qe),Oe=Qt.translate([pr-.307*Ur,Fr+.201*Ur]).clipExtent([[pr-.425*Ur+r,Fr+.12*Ur+r],[pr-.214*Ur-r,Fr+.234*Ur-r]]).stream(Qe),we=ve.translate([pr-.205*Ur,Fr+.212*Ur]).clipExtent([[pr-.214*Ur+r,Fr+.166*Ur+r],[pr-.115*Ur-r,Fr+.234*Ur-r]]).stream(Qe),Ar()},Ye.fitExtent=function(yr,Ur){return go(Ye,yr,Ur)},Ye.fitSize=function(yr,Ur){return fs(Ye,yr,Ur)},Ye.fitWidth=function(yr,Ur){return es(Ye,yr,Ur)},Ye.fitHeight=function(yr,Ur){return Rs(Ye,yr,Ur)};function Ar(){return st=St=null,Ye}return Ye.scale(1070)}function Pu(st){return function(St,Ut){var wt=E(St),Qt=E(Ut),Oe=st(wt*Qt);return[Oe*Qt*S(St),Oe*S(Ut)]}}function vu(st){return function(St,Ut){var wt=T(St*St+Ut*Ut),Qt=st(wt),Oe=S(Qt),ve=E(Qt);return[y(St*Oe,wt*ve),L(wt&&Ut*Oe/wt)]}}var Ss=Pu(function(st){return T(2/(1+st))});Ss.invert=vu(function(st){return 2*L(st/2)});function mu(){return Bs(Ss).scale(124.75).clipAngle(180-.001)}var Ou=Pu(function(st){return(st=D(st))&&st/S(st)});Ou.invert=vu(function(st){return st});function Gs(){return Bs(Ou).scale(79.4188).clipAngle(180-.001)}function Ao(st,St){return[st,M(O((a+St)/2))]}Ao.invert=function(st,St){return[st,2*g(m(St))-a]};function cs(){return us(Ao).scale(961/l)}function us(st){var St=Bs(st),Ut=St.center,wt=St.scale,Qt=St.translate,Oe=St.clipExtent,ve=null,we,Ne,Qe;St.scale=function(Ar){return arguments.length?(wt(Ar),Ye()):wt()},St.translate=function(Ar){return arguments.length?(Qt(Ar),Ye()):Qt()},St.center=function(Ar){return arguments.length?(Ut(Ar),Ye()):Ut()},St.clipExtent=function(Ar){return arguments.length?(Ar==null?ve=we=Ne=Qe=null:(ve=+Ar[0][0],we=+Ar[0][1],Ne=+Ar[1][0],Qe=+Ar[1][1]),Ye()):ve==null?null:[[ve,we],[Ne,Qe]]};function Ye(){var Ar=n*wt(),yr=St(pi(St.rotate()).invert([0,0]));return Oe(ve==null?[[yr[0]-Ar,yr[1]-Ar],[yr[0]+Ar,yr[1]+Ar]]:st===Ao?[[Math.max(yr[0]-Ar,ve),we],[Math.min(yr[0]+Ar,Ne),Qe]]:[[ve,Math.max(yr[1]-Ar,we)],[Ne,Math.min(yr[1]+Ar,Qe)]])}return Ye()}function lo(st){return O((a+st)/2)}function _s(st,St){var Ut=E(st),wt=st===St?S(st):M(Ut/E(St))/M(lo(St)/lo(st)),Qt=Ut*b(lo(st),wt)/wt;if(!wt)return Ao;function Oe(ve,we){Qt>0?we<-a+r&&(we=-a+r):we>a-r&&(we=a-r);var Ne=Qt/b(lo(we),wt);return[Ne*S(wt*ve),Qt-Ne*E(wt*ve)]}return Oe.invert=function(ve,we){var Ne=Qt-we,Qe=A(wt)*T(ve*ve+Ne*Ne),Ye=y(ve,d(Ne))*A(Ne);return Ne*wt<0&&(Ye-=n*A(ve)*A(Ne)),[Ye/wt,2*g(b(Qt/Qe,1/wt))-a]},Oe}function jo(){return Js(_s).scale(109.5).parallels([30,30])}function Wo(st,St){return[st,St]}Wo.invert=Wo;function Vs(){return Bs(Wo).scale(152.63)}function uu(st,St){var Ut=E(st),wt=st===St?S(st):(Ut-E(St))/(St-st),Qt=Ut/wt+st;if(d(wt)<r)return Wo;function Oe(ve,we){var Ne=Qt-we,Qe=wt*ve;return[Ne*S(Qe),Qt-Ne*E(Qe)]}return Oe.invert=function(ve,we){var Ne=Qt-we,Qe=y(ve,d(Ne))*A(Ne);return Ne*wt<0&&(Qe-=n*A(ve)*A(Ne)),[Qe/wt,Qt-A(wt)*T(ve*ve+Ne*Ne)]},Oe}function tu(){return Js(uu).scale(131.154).center([0,13.9389])}var Hs=1.340264,bs=-.081106,ps=893e-6,kt=.003796,Xt=T(3)/2,We=12;function Ie(st,St){var Ut=L(Xt*S(St)),wt=Ut*Ut,Qt=wt*wt*wt;return[st*E(Ut)/(Xt*(Hs+3*bs*wt+Qt*(7*ps+9*kt*wt))),Ut*(Hs+bs*wt+Qt*(ps+kt*wt))]}Ie.invert=function(st,St){for(var Ut=St,wt=Ut*Ut,Qt=wt*wt*wt,Oe=0,ve,we,Ne;Oe<We&&(we=Ut*(Hs+bs*wt+Qt*(ps+kt*wt))-St,Ne=Hs+3*bs*wt+Qt*(7*ps+9*kt*wt),Ut-=ve=we/Ne,wt=Ut*Ut,Qt=wt*wt*wt,!(d(ve)<e));++Oe);return[Xt*st*(Hs+3*bs*wt+Qt*(7*ps+9*kt*wt))/E(Ut),L(S(Ut)/Xt)]};function xr(){return Bs(Ie).scale(177.158)}function Zr(st,St){var Ut=E(St),wt=E(st)*Ut;return[Ut*S(st)/wt,S(St)/wt]}Zr.invert=vu(g);function ln(){return Bs(Zr).scale(144.049).clipAngle(60)}function Mn(){var st=1,St=0,Ut=0,wt=1,Qt=1,Oe=0,ve,we,Ne=null,Qe,Ye,Ar,yr=1,Ur=1,pr=uo({point:function(Bn,qn){var Ai=hn([Bn,qn]);this.stream.point(Ai[0],Ai[1])}}),Fr=yt,Yr,Sn;function Nn(){return yr=st*wt,Ur=st*Qt,Yr=Sn=null,hn}function hn(Bn){var qn=Bn[0]*yr,Ai=Bn[1]*Ur;if(Oe){var Ti=Ai*ve-qn*we;qn=qn*ve+Ai*we,Ai=Ti}return[qn+St,Ai+Ut]}return hn.invert=function(Bn){var qn=Bn[0]-St,Ai=Bn[1]-Ut;if(Oe){var Ti=Ai*ve+qn*we;qn=qn*ve-Ai*we,Ai=Ti}return[qn/yr,Ai/Ur]},hn.stream=function(Bn){return Yr&&Sn===Bn?Yr:Yr=pr(Fr(Sn=Bn))},hn.postclip=function(Bn){return arguments.length?(Fr=Bn,Ne=Qe=Ye=Ar=null,Nn()):Fr},hn.clipExtent=function(Bn){return arguments.length?(Fr=Bn==null?(Ne=Qe=Ye=Ar=null,yt):En(Ne=+Bn[0][0],Qe=+Bn[0][1],Ye=+Bn[1][0],Ar=+Bn[1][1]),Nn()):Ne==null?null:[[Ne,Qe],[Ye,Ar]]},hn.scale=function(Bn){return arguments.length?(st=+Bn,Nn()):st},hn.translate=function(Bn){return arguments.length?(St=+Bn[0],Ut=+Bn[1],Nn()):[St,Ut]},hn.angle=function(Bn){return arguments.length?(Oe=Bn%360*p,we=S(Oe),ve=E(Oe),Nn()):Oe*h},hn.reflectX=function(Bn){return arguments.length?(wt=Bn?-1:1,Nn()):wt<0},hn.reflectY=function(Bn){return arguments.length?(Qt=Bn?-1:1,Nn()):Qt<0},hn.fitExtent=function(Bn,qn){return go(hn,Bn,qn)},hn.fitSize=function(Bn,qn){return fs(hn,Bn,qn)},hn.fitWidth=function(Bn,qn){return es(hn,Bn,qn)},hn.fitHeight=function(Bn,qn){return Rs(hn,Bn,qn)},hn}function In(st,St){var Ut=St*St,wt=Ut*Ut;return[st*(.8707-.131979*Ut+wt*(-.013791+wt*(.003971*Ut-.001529*wt))),St*(1.007226+Ut*(.015085+wt*(-.044475+.028874*Ut-.005916*wt)))]}In.invert=function(st,St){var Ut=St,wt=25,Qt;do{var Oe=Ut*Ut,ve=Oe*Oe;Ut-=Qt=(Ut*(1.007226+Oe*(.015085+ve*(-.044475+.028874*Oe-.005916*ve)))-St)/(1.007226+Oe*(.015085*3+ve*(-.044475*7+.028874*9*Oe-.005916*11*ve)))}while(d(Qt)>r&&--wt>0);return[st/(.8707+(Oe=Ut*Ut)*(-.131979+Oe*(-.013791+Oe*Oe*Oe*(.003971-.001529*Oe)))),Ut]};function zn(){return Bs(In).scale(175.295)}function on(st,St){return[E(St)*S(st),S(St)]}on.invert=vu(L);function wn(){return Bs(on).scale(249.5).clipAngle(90+r)}function bt(st,St){var Ut=E(St),wt=1+E(st)*Ut;return[Ut*S(st)/wt,S(St)/wt]}bt.invert=vu(function(st){return 2*g(st)});function jt(){return Bs(bt).scale(250).clipAngle(142)}function Jt(st,St){return[M(O((a+St)/2)),-st]}Jt.invert=function(st,St){return[-St,2*g(m(st))-a]};function re(){var st=us(Jt),St=st.center,Ut=st.rotate;return st.center=function(wt){return arguments.length?St([-wt[1],wt[0]]):(wt=St(),[wt[1],-wt[0]])},st.rotate=function(wt){return arguments.length?Ut([wt[0],wt[1],wt.length>2?wt[2]+90:90]):(wt=Ut(),[wt[0],wt[1],wt[2]-90])},Ut([0,0,90]).scale(159.155)}t.geoAlbers=Ws,t.geoAlbersUsa=su,t.geoArea=$,t.geoAzimuthalEqualArea=mu,t.geoAzimuthalEqualAreaRaw=Ss,t.geoAzimuthalEquidistant=Gs,t.geoAzimuthalEquidistantRaw=Ou,t.geoBounds=Ki,t.geoCentroid=gn,t.geoCircle=_a,t.geoClipAntimeridian=lr,t.geoClipCircle=Ce,t.geoClipExtent=fi,t.geoClipRectangle=En,t.geoConicConformal=jo,t.geoConicConformalRaw=_s,t.geoConicEqualArea=js,t.geoConicEqualAreaRaw=qs,t.geoConicEquidistant=tu,t.geoConicEquidistantRaw=uu,t.geoContains=Rt,t.geoDistance=pe,t.geoEqualEarth=xr,t.geoEqualEarthRaw=Ie,t.geoEquirectangular=Vs,t.geoEquirectangularRaw=Wo,t.geoGnomonic=ln,t.geoGnomonicRaw=Zr,t.geoGraticule=k,t.geoGraticule10=it,t.geoIdentity=Mn,t.geoInterpolate=Bt,t.geoLength=ro,t.geoMercator=cs,t.geoMercatorRaw=Ao,t.geoNaturalEarth1=zn,t.geoNaturalEarth1Raw=In,t.geoOrthographic=wn,t.geoOrthographicRaw=on,t.geoPath=ts,t.geoProjection=Bs,t.geoProjectionMutator=ou,t.geoRotation=pi,t.geoStereographic=jt,t.geoStereographicRaw=bt,t.geoStream=Q,t.geoTransform=po,t.geoTransverseMercator=re,t.geoTransverseMercatorRaw=Jt,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";var s=function(){return new v};function v(){this.reset()}v.prototype={constructor:v,reset:function(){this.s=this.t=0},add:function(kt){f(o,kt,this.t),f(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new v;function f(kt,Xt,We){var Ie=kt.s=Xt+We,xr=Ie-Xt,Zr=Ie-xr;kt.t=Xt-Zr+(We-xr)}var r=1e-6,e=1e-12,n=Math.PI,a=n/2,u=n/4,l=n*2,h=180/n,p=n/180,d=Math.abs,g=Math.atan,y=Math.atan2,E=Math.cos,C=Math.ceil,m=Math.exp,M=Math.log,b=Math.pow,S=Math.sin,A=Math.sign||function(kt){return kt>0?1:kt<0?-1:0},T=Math.sqrt,O=Math.tan;function D(kt){return kt>1?0:kt<-1?n:Math.acos(kt)}function L(kt){return kt>1?a:kt<-1?-a:Math.asin(kt)}function Z(kt){return(kt=S(kt/2))*kt}function U(){}function Y(kt,Xt){kt&&J.hasOwnProperty(kt.type)&&J[kt.type](kt,Xt)}var W={Feature:function(kt,Xt){Y(kt.geometry,Xt)},FeatureCollection:function(kt,Xt){for(var We=kt.features,Ie=-1,xr=We.length;++Ie<xr;)Y(We[Ie].geometry,Xt)}},J={Sphere:function(kt,Xt){Xt.sphere()},Point:function(kt,Xt){kt=kt.coordinates,Xt.point(kt[0],kt[1],kt[2])},MultiPoint:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)kt=We[Ie],Xt.point(kt[0],kt[1],kt[2])},LineString:function(kt,Xt){ht(kt.coordinates,Xt,0)},MultiLineString:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)ht(We[Ie],Xt,0)},Polygon:function(kt,Xt){nt(kt.coordinates,Xt)},MultiPolygon:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)nt(We[Ie],Xt)},GeometryCollection:function(kt,Xt){for(var We=kt.geometries,Ie=-1,xr=We.length;++Ie<xr;)Y(We[Ie],Xt)}};function ht(kt,Xt,We){var Ie=-1,xr=kt.length-We,Zr;for(Xt.lineStart();++Ie<xr;)Zr=kt[Ie],Xt.point(Zr[0],Zr[1],Zr[2]);Xt.lineEnd()}function nt(kt,Xt){var We=-1,Ie=kt.length;for(Xt.polygonStart();++We<Ie;)ht(kt[We],Xt,1);Xt.polygonEnd()}var Q=function(kt,Xt){kt&&W.hasOwnProperty(kt.type)?W[kt.type](kt,Xt):Y(kt,Xt)},xt=s(),_t=s(),Nt,rt,q,G,N,at={point:U,lineStart:U,lineEnd:U,polygonStart:function(){xt.reset(),at.lineStart=H,at.lineEnd=ft},polygonEnd:function(){var kt=+xt;_t.add(kt<0?l+kt:kt),this.lineStart=this.lineEnd=this.point=U},sphere:function(){_t.add(l)}};function H(){at.point=ct}function ft(){K(Nt,rt)}function ct(kt,Xt){at.point=K,Nt=kt,rt=Xt,kt*=p,Xt*=p,q=kt,G=E(Xt=Xt/2+u),N=S(Xt)}function K(kt,Xt){kt*=p,Xt*=p,Xt=Xt/2+u;var We=kt-q,Ie=We>=0?1:-1,xr=Ie*We,Zr=E(Xt),ln=S(Xt),Mn=N*ln,In=G*Zr+Mn*E(xr),zn=Mn*Ie*S(xr);xt.add(y(zn,In)),q=kt,G=Zr,N=ln}var $=function(kt){return _t.reset(),Q(kt,at),_t*2};function et(kt){return[y(kt[1],kt[0]),L(kt[2])]}function B(kt){var Xt=kt[0],We=kt[1],Ie=E(We);return[Ie*E(Xt),Ie*S(Xt),S(We)]}function w(kt,Xt){return kt[0]*Xt[0]+kt[1]*Xt[1]+kt[2]*Xt[2]}function R(kt,Xt){return[kt[1]*Xt[2]-kt[2]*Xt[1],kt[2]*Xt[0]-kt[0]*Xt[2],kt[0]*Xt[1]-kt[1]*Xt[0]]}function V(kt,Xt){kt[0]+=Xt[0],kt[1]+=Xt[1],kt[2]+=Xt[2]}function tt(kt,Xt){return[kt[0]*Xt,kt[1]*Xt,kt[2]*Xt]}function lt(kt){var Xt=T(kt[0]*kt[0]+kt[1]*kt[1]+kt[2]*kt[2]);kt[0]/=Xt,kt[1]/=Xt,kt[2]/=Xt}var Et,ot,Mt,Ot,Ft,zt,$t,ce,ye=s(),Je,nr,Xe={point:mr,lineStart:xe,lineEnd:de,polygonStart:function(){Xe.point=ze,Xe.lineStart=Ue,Xe.lineEnd=Kr,ye.reset(),at.polygonStart()},polygonEnd:function(){at.polygonEnd(),Xe.point=mr,Xe.lineStart=xe,Xe.lineEnd=de,xt<0?(Et=-(Mt=180),ot=-(Ot=90)):ye>r?Ot=90:ye<-r&&(ot=-90),nr[0]=Et,nr[1]=Mt}};function mr(kt,Xt){Je.push(nr=[Et=kt,Mt=kt]),Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt)}function Gr(kt,Xt){var We=B([kt*p,Xt*p]);if(ce){var Ie=R(ce,We),xr=[Ie[1],-Ie[0],0],Zr=R(xr,Ie);lt(Zr),Zr=et(Zr);var ln=kt-Ft,Mn=ln>0?1:-1,In=Zr[0]*h*Mn,zn,on=d(ln)>180;on^(Mn*Ft<In&&In<Mn*kt)?(zn=Zr[1]*h,zn>Ot&&(Ot=zn)):(In=(In+360)%360-180,on^(Mn*Ft<In&&In<Mn*kt)?(zn=-Zr[1]*h,zn<ot&&(ot=zn)):(Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt))),on?kt<Ft?rn(Et,kt)>rn(Et,Mt)&&(Mt=kt):rn(kt,Mt)>rn(Et,Mt)&&(Et=kt):Mt>=Et?(kt<Et&&(Et=kt),kt>Mt&&(Mt=kt)):kt>Ft?rn(Et,kt)>rn(Et,Mt)&&(Mt=kt):rn(kt,Mt)>rn(Et,Mt)&&(Et=kt)}else Je.push(nr=[Et=kt,Mt=kt]);Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt),ce=We,Ft=kt}function xe(){Xe.point=Gr}function de(){nr[0]=Et,nr[1]=Mt,Xe.point=mr,ce=null}function ze(kt,Xt){if(ce){var We=kt-Ft;ye.add(d(We)>180?We+(We>0?360:-360):We)}else zt=kt,$t=Xt;at.point(kt,Xt),Gr(kt,Xt)}function Ue(){at.lineStart()}function Kr(){ze(zt,$t),at.lineEnd(),d(ye)>r&&(Et=-(Mt=180)),nr[0]=Et,nr[1]=Mt,ce=null}function rn(kt,Xt){return(Xt-=kt)<0?Xt+360:Xt}function ci(kt,Xt){return kt[0]-Xt[0]}function Zi(kt,Xt){return kt[0]<=kt[1]?kt[0]<=Xt&&Xt<=kt[1]:Xt<kt[0]||kt[1]<Xt}var Ki=function(kt){var Xt,We,Ie,xr,Zr,ln,Mn;if(Ot=Mt=-(Et=ot=Infinity),Je=[],Q(kt,Xe),We=Je.length){for(Je.sort(ci),Xt=1,Ie=Je[0],Zr=[Ie];Xt<We;++Xt)xr=Je[Xt],Zi(Ie,xr[0])||Zi(Ie,xr[1])?(rn(Ie[0],xr[1])>rn(Ie[0],Ie[1])&&(Ie[1]=xr[1]),rn(xr[0],Ie[1])>rn(Ie[0],Ie[1])&&(Ie[0]=xr[0])):Zr.push(Ie=xr);for(ln=-Infinity,We=Zr.length-1,Xt=0,Ie=Zr[We];Xt<=We;Ie=xr,++Xt)xr=Zr[Xt],(Mn=rn(Ie[1],xr[0]))>ln&&(ln=Mn,Et=xr[0],Mt=Ie[1])}return Je=nr=null,Et===Infinity||ot===Infinity?[[NaN,NaN],[NaN,NaN]]:[[Et,ot],[Mt,Ot]]},ji,Ae,De,ar,Pr,or,wr,cn,Fn,nn,Hr,Gn,$n,Vr,Ir,ti,ge={sphere:U,point:Le,lineStart:Ve,lineEnd:He,polygonStart:function(){ge.lineStart=rr,ge.lineEnd=Dr},polygonEnd:function(){ge.lineStart=Ve,ge.lineEnd=He}};function Le(kt,Xt){kt*=p,Xt*=p;var We=E(Xt);Se(We*E(kt),We*S(kt),S(Xt))}function Se(kt,Xt,We){++ji,De+=(kt-De)/ji,ar+=(Xt-ar)/ji,Pr+=(We-Pr)/ji}function Ve(){ge.point=le}function le(kt,Xt){kt*=p,Xt*=p;var We=E(Xt);Vr=We*E(kt),Ir=We*S(kt),ti=S(Xt),ge.point=vr,Se(Vr,Ir,ti)}function vr(kt,Xt){kt*=p,Xt*=p;var We=E(Xt),Ie=We*E(kt),xr=We*S(kt),Zr=S(Xt),ln=y(T((ln=Ir*Zr-ti*xr)*ln+(ln=ti*Ie-Vr*Zr)*ln+(ln=Vr*xr-Ir*Ie)*ln),Vr*Ie+Ir*xr+ti*Zr);Ae+=ln,or+=ln*(Vr+(Vr=Ie)),wr+=ln*(Ir+(Ir=xr)),cn+=ln*(ti+(ti=Zr)),Se(Vr,Ir,ti)}function He(){ge.point=Le}function rr(){ge.point=Mr}function Dr(){an(Gn,$n),ge.point=Le}function Mr(kt,Xt){Gn=kt,$n=Xt,kt*=p,Xt*=p,ge.point=an;var We=E(Xt);Vr=We*E(kt),Ir=We*S(kt),ti=S(Xt),Se(Vr,Ir,ti)}function an(kt,Xt){kt*=p,Xt*=p;var We=E(Xt),Ie=We*E(kt),xr=We*S(kt),Zr=S(Xt),ln=Ir*Zr-ti*xr,Mn=ti*Ie-Vr*Zr,In=Vr*xr-Ir*Ie,zn=T(ln*ln+Mn*Mn+In*In),on=L(zn),wn=zn&&-on/zn;Fn+=wn*ln,nn+=wn*Mn,Hr+=wn*In,Ae+=on,or+=on*(Vr+(Vr=Ie)),wr+=on*(Ir+(Ir=xr)),cn+=on*(ti+(ti=Zr)),Se(Vr,Ir,ti)}var gn=function(kt){ji=Ae=De=ar=Pr=or=wr=cn=Fn=nn=Hr=0,Q(kt,ge);var Xt=Fn,We=nn,Ie=Hr,xr=Xt*Xt+We*We+Ie*Ie;return xr<e&&(Xt=or,We=wr,Ie=cn,Ae<r&&(Xt=De,We=ar,Ie=Pr),xr=Xt*Xt+We*We+Ie*Ie,xr<e)?[NaN,NaN]:[y(We,Xt)*h,L(Ie/T(xr))*h]},qr=function(kt){return function(){return kt}},Dn=function(kt,Xt){function We(Ie,xr){return Ie=kt(Ie,xr),Xt(Ie[0],Ie[1])}return kt.invert&&Xt.invert&&(We.invert=function(Ie,xr){return Ie=Xt.invert(Ie,xr),Ie&&kt.invert(Ie[0],Ie[1])}),We};function ae(kt,Xt){return[kt>n?kt-l:kt<-n?kt+l:kt,Xt]}ae.invert=ae;function er(kt,Xt,We){return(kt%=l)?Xt||We?Dn(kr(kt),Rn(Xt,We)):kr(kt):Xt||We?Rn(Xt,We):ae}function sr(kt){return function(Xt,We){return Xt+=kt,[Xt>n?Xt-l:Xt<-n?Xt+l:Xt,We]}}function kr(kt){var Xt=sr(kt);return Xt.invert=sr(-kt),Xt}function Rn(kt,Xt){var We=E(kt),Ie=S(kt),xr=E(Xt),Zr=S(Xt);function ln(Mn,In){var zn=E(In),on=E(Mn)*zn,wn=S(Mn)*zn,bt=S(In),jt=bt*We+on*Ie;return[y(wn*xr-jt*Zr,on*We-bt*Ie),L(jt*xr+wn*Zr)]}return ln.invert=function(Mn,In){var zn=E(In),on=E(Mn)*zn,wn=S(Mn)*zn,bt=S(In),jt=bt*xr-wn*Zr;return[y(wn*xr+bt*Zr,on*We+jt*Ie),L(jt*We-on*Ie)]},ln}var pi=function(kt){kt=er(kt[0]*p,kt[1]*p,kt.length>2?kt[2]*p:0);function Xt(We){return We=kt(We[0]*p,We[1]*p),We[0]*=h,We[1]*=h,We}return Xt.invert=function(We){return We=kt.invert(We[0]*p,We[1]*p),We[0]*=h,We[1]*=h,We},Xt};function Yi(kt,Xt,We,Ie,xr,Zr){if(!!We){var ln=E(Xt),Mn=S(Xt),In=Ie*We;xr==null?(xr=Xt+Ie*l,Zr=Xt-In/2):(xr=da(ln,xr),Zr=da(ln,Zr),(Ie>0?xr<Zr:xr>Zr)&&(xr+=Ie*l));for(var zn,on=xr;Ie>0?on>Zr:on<Zr;on-=In)zn=et([ln,-Mn*E(on),-Mn*S(on)]),kt.point(zn[0],zn[1])}}function da(kt,Xt){Xt=B(Xt),Xt[0]-=kt,lt(Xt);var We=D(-Xt[1]);return((-Xt[2]<0?-We:We)+l-r)%l}var _a=function(){var kt=qr([0,0]),Xt=qr(90),We=qr(6),Ie,xr,Zr={point:ln};function ln(In,zn){Ie.push(In=xr(In,zn)),In[0]*=h,In[1]*=h}function Mn(){var In=kt.apply(this,arguments),zn=Xt.apply(this,arguments)*p,on=We.apply(this,arguments)*p;return Ie=[],xr=er(-In[0]*p,-In[1]*p,0).invert,Yi(Zr,zn,on,1),In={type:"Polygon",coordinates:[Ie]},Ie=xr=null,In}return Mn.center=function(In){return arguments.length?(kt=typeof In=="function"?In:qr([+In[0],+In[1]]),Mn):kt},Mn.radius=function(In){return arguments.length?(Xt=typeof In=="function"?In:qr(+In),Mn):Xt},Mn.precision=function(In){return arguments.length?(We=typeof In=="function"?In:qr(+In),Mn):We},Mn},fa=function(){var kt=[],Xt;return{point:function(We,Ie){Xt.push([We,Ie])},lineStart:function(){kt.push(Xt=[])},lineEnd:U,rejoin:function(){kt.length>1&&kt.push(kt.pop().concat(kt.shift()))},result:function(){var We=kt;return kt=[],Xt=null,We}}},wo=function(kt,Xt,We,Ie,xr,Zr){var ln=kt[0],Mn=kt[1],In=Xt[0],zn=Xt[1],on=0,wn=1,bt=In-ln,jt=zn-Mn,Jt;if(Jt=We-ln,!(!bt&&Jt>0)){if(Jt/=bt,bt<0){if(Jt<on)return;Jt<wn&&(wn=Jt)}else if(bt>0){if(Jt>wn)return;Jt>on&&(on=Jt)}if(Jt=xr-ln,!(!bt&&Jt<0)){if(Jt/=bt,bt<0){if(Jt>wn)return;Jt>on&&(on=Jt)}else if(bt>0){if(Jt<on)return;Jt<wn&&(wn=Jt)}if(Jt=Ie-Mn,!(!jt&&Jt>0)){if(Jt/=jt,jt<0){if(Jt<on)return;Jt<wn&&(wn=Jt)}else if(jt>0){if(Jt>wn)return;Jt>on&&(on=Jt)}if(Jt=Zr-Mn,!(!jt&&Jt<0)){if(Jt/=jt,jt<0){if(Jt>wn)return;Jt>on&&(on=Jt)}else if(jt>0){if(Jt<on)return;Jt<wn&&(wn=Jt)}return on>0&&(kt[0]=ln+on*bt,kt[1]=Mn+on*jt),wn<1&&(Xt[0]=ln+wn*bt,Xt[1]=Mn+wn*jt),!0}}}}},ho=function(kt,Xt){return d(kt[0]-Xt[0])<r&&d(kt[1]-Xt[1])<r};function mo(kt,Xt,We,Ie){this.x=kt,this.z=Xt,this.o=We,this.e=Ie,this.v=!1,this.n=this.p=null}var yo=function(kt,Xt,We,Ie,xr){var Zr=[],ln=[],Mn,In;if(kt.forEach(function(Jt){if(!((re=Jt.length-1)<=0)){var re,st=Jt[0],St=Jt[re],Ut;if(ho(st,St)){for(xr.lineStart(),Mn=0;Mn<re;++Mn)xr.point((st=Jt[Mn])[0],st[1]);xr.lineEnd();return}Zr.push(Ut=new mo(st,Jt,null,!0)),ln.push(Ut.o=new mo(st,null,Ut,!1)),Zr.push(Ut=new mo(St,Jt,null,!1)),ln.push(Ut.o=new mo(St,null,Ut,!0))}}),!!Zr.length){for(ln.sort(Xt),zo(Zr),zo(ln),Mn=0,In=ln.length;Mn<In;++Mn)ln[Mn].e=We=!We;for(var zn=Zr[0],on,wn;;){for(var bt=zn,jt=!0;bt.v;)if((bt=bt.n)===zn)return;on=bt.z,xr.lineStart();do{if(bt.v=bt.o.v=!0,bt.e){if(jt)for(Mn=0,In=on.length;Mn<In;++Mn)xr.point((wn=on[Mn])[0],wn[1]);else Ie(bt.x,bt.n.x,1,xr);bt=bt.n}else{if(jt)for(on=bt.p.z,Mn=on.length-1;Mn>=0;--Mn)xr.point((wn=on[Mn])[0],wn[1]);else Ie(bt.x,bt.p.x,-1,xr);bt=bt.p}bt=bt.o,on=bt.z,jt=!jt}while(!bt.v);xr.lineEnd()}}};function zo(kt){if(!!(Xt=kt.length)){for(var Xt,We=0,Ie=kt[0],xr;++We<Xt;)Ie.n=xr=kt[We],xr.p=Ie,Ie=xr;Ie.n=xr=kt[0],xr.p=Ie}}var io=1e9,Za=-io;function qa(kt,Xt,We,Ie){function xr(zn,on){return kt<=zn&&zn<=We&&Xt<=on&&on<=Ie}function Zr(zn,on,wn,bt){var jt=0,Jt=0;if(zn==null||(jt=ln(zn,wn))!==(Jt=ln(on,wn))||In(zn,on)<0^wn>0)do bt.point(jt===0||jt===3?kt:We,jt>1?Ie:Xt);while((jt=(jt+wn+4)%4)!==Jt);else bt.point(on[0],on[1])}function ln(zn,on){return d(zn[0]-kt)<r?on>0?0:3:d(zn[0]-We)<r?on>0?2:1:d(zn[1]-Xt)<r?on>0?1:0:on>0?3:2}function Mn(zn,on){return In(zn.x,on.x)}function In(zn,on){var wn=ln(zn,1),bt=ln(on,1);return wn!==bt?wn-bt:wn===0?on[1]-zn[1]:wn===1?zn[0]-on[0]:wn===2?zn[1]-on[1]:on[0]-zn[0]}return function(zn){var on=zn,wn=fa(),bt,jt,Jt,re,st,St,Ut,wt,Qt,Oe,ve,we={point:Ne,lineStart:yr,lineEnd:Ur,polygonStart:Ye,polygonEnd:Ar};function Ne(Fr,Yr){xr(Fr,Yr)&&on.point(Fr,Yr)}function Qe(){for(var Fr=0,Yr=0,Sn=jt.length;Yr<Sn;++Yr)for(var Nn=jt[Yr],hn=1,Bn=Nn.length,qn=Nn[0],Ai,Ti,Oa=qn[0],va=qn[1];hn<Bn;++hn)Ai=Oa,Ti=va,qn=Nn[hn],Oa=qn[0],va=qn[1],Ti<=Ie?va>Ie&&(Oa-Ai)*(Ie-Ti)>(va-Ti)*(kt-Ai)&&++Fr:va<=Ie&&(Oa-Ai)*(Ie-Ti)<(va-Ti)*(kt-Ai)&&--Fr;return Fr}function Ye(){on=wn,bt=[],jt=[],ve=!0}function Ar(){var Fr=Qe(),Yr=ve&&Fr,Sn=(bt=c.merge(bt)).length;(Yr||Sn)&&(zn.polygonStart(),Yr&&(zn.lineStart(),Zr(null,null,1,zn),zn.lineEnd()),Sn&&yo(bt,Mn,Fr,Zr,zn),zn.polygonEnd()),on=zn,bt=jt=Jt=null}function yr(){we.point=pr,jt&&jt.push(Jt=[]),Oe=!0,Qt=!1,Ut=wt=NaN}function Ur(){bt&&(pr(re,st),St&&Qt&&wn.rejoin(),bt.push(wn.result())),we.point=Ne,Qt&&on.lineEnd()}function pr(Fr,Yr){var Sn=xr(Fr,Yr);if(jt&&Jt.push([Fr,Yr]),Oe)re=Fr,st=Yr,St=Sn,Oe=!1,Sn&&(on.lineStart(),on.point(Fr,Yr));else if(Sn&&Qt)on.point(Fr,Yr);else{var Nn=[Ut=Math.max(Za,Math.min(io,Ut)),wt=Math.max(Za,Math.min(io,wt))],hn=[Fr=Math.max(Za,Math.min(io,Fr)),Yr=Math.max(Za,Math.min(io,Yr))];wo(Nn,hn,kt,Xt,We,Ie)?(Qt||(on.lineStart(),on.point(Nn[0],Nn[1])),on.point(hn[0],hn[1]),Sn||on.lineEnd(),ve=!1):Sn&&(on.lineStart(),on.point(Fr,Yr),ve=!1)}Ut=Fr,wt=Yr,Qt=Sn}return we}}var Zt=function(){var kt=0,Xt=0,We=960,Ie=500,xr,Zr,ln;return ln={stream:function(Mn){return xr&&Zr===Mn?xr:xr=qa(kt,Xt,We,Ie)(Zr=Mn)},extent:function(Mn){return arguments.length?(kt=+Mn[0][0],Xt=+Mn[0][1],We=+Mn[1][0],Ie=+Mn[1][1],xr=Zr=null,ln):[[kt,Xt],[We,Ie]]}}},je=s(),lr=function(kt,Xt){var We=Xt[0],Ie=Xt[1],xr=[S(We),-E(We),0],Zr=0,ln=0;je.reset();for(var Mn=0,In=kt.length;Mn<In;++Mn)if(!!(on=(zn=kt[Mn]).length))for(var zn,on,wn=zn[on-1],bt=wn[0],jt=wn[1]/2+u,Jt=S(jt),re=E(jt),st=0;st<on;++st,bt=Ut,Jt=Qt,re=Oe,wn=St){var St=zn[st],Ut=St[0],wt=St[1]/2+u,Qt=S(wt),Oe=E(wt),ve=Ut-bt,we=ve>=0?1:-1,Ne=we*ve,Qe=Ne>n,Ye=Jt*Qt;if(je.add(y(Ye*we*S(Ne),re*Oe+Ye*E(Ne))),Zr+=Qe?ve+we*l:ve,Qe^bt>=We^Ut>=We){var Ar=R(B(wn),B(St));lt(Ar);var yr=R(xr,Ar);lt(yr);var Ur=(Qe^ve>=0?-1:1)*L(yr[2]);(Ie>Ur||Ie===Ur&&(Ar[0]||Ar[1]))&&(ln+=Qe^ve>=0?1:-1)}}return(Zr<-r||Zr<r&&je<-r)^ln&1},Br=s(),Vt,ee,Ce,Me={sphere:U,point:U,lineStart:Sr,lineEnd:U,polygonStart:U,polygonEnd:U};function Sr(){Me.point=En,Me.lineEnd=pn}function pn(){Me.point=Me.lineEnd=U}function En(kt,Xt){kt*=p,Xt*=p,Vt=kt,ee=S(Xt),Ce=E(Xt),Me.point=fi}function fi(kt,Xt){kt*=p,Xt*=p;var We=S(Xt),Ie=E(Xt),xr=d(kt-Vt),Zr=E(xr),ln=S(xr),Mn=Ie*ln,In=Ce*We-ee*Ie*Zr,zn=ee*We+Ce*Ie*Zr;Br.add(y(T(Mn*Mn+In*In),zn)),Vt=kt,ee=We,Ce=Ie}var Ci=function(kt){return Br.reset(),Q(kt,Me),+Br},aa=[null,null],ta={type:"LineString",coordinates:aa},Ea=function(kt,Xt){return aa[0]=kt,aa[1]=Xt,Ci(ta)},ca={Feature:function(kt,Xt){return za(kt.geometry,Xt)},FeatureCollection:function(kt,Xt){for(var We=kt.features,Ie=-1,xr=We.length;++Ie<xr;)if(za(We[Ie].geometry,Xt))return!0;return!1}},to={Sphere:function(){return!0},Point:function(kt,Xt){return Ia(kt.coordinates,Xt)},MultiPoint:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)if(Ia(We[Ie],Xt))return!0;return!1},LineString:function(kt,Xt){return Va(kt.coordinates,Xt)},MultiLineString:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)if(Va(We[Ie],Xt))return!0;return!1},Polygon:function(kt,Xt){return ro(kt.coordinates,Xt)},MultiPolygon:function(kt,Xt){for(var We=kt.coordinates,Ie=-1,xr=We.length;++Ie<xr;)if(ro(We[Ie],Xt))return!0;return!1},GeometryCollection:function(kt,Xt){for(var We=kt.geometries,Ie=-1,xr=We.length;++Ie<xr;)if(za(We[Ie],Xt))return!0;return!1}};function za(kt,Xt){return kt&&to.hasOwnProperty(kt.type)?to[kt.type](kt,Xt):!1}function Ia(kt,Xt){return Ea(kt,Xt)===0}function Va(kt,Xt){var We=Ea(kt[0],kt[1]),Ie=Ea(kt[0],Xt),xr=Ea(Xt,kt[1]);return Ie+xr<=We+r}function ro(kt,Xt){return!!lr(kt.map(Ee),be(Xt))}function Ee(kt){return kt=kt.map(be),kt.pop(),kt}function be(kt){return[kt[0]*p,kt[1]*p]}var pe=function(kt,Xt){return(kt&&ca.hasOwnProperty(kt.type)?ca[kt.type]:za)(kt,Xt)};function vt(kt,Xt,We){var Ie=c.range(kt,Xt-r,We).concat(Xt);return function(xr){return Ie.map(function(Zr){return[xr,Zr]})}}function gt(kt,Xt,We){var Ie=c.range(kt,Xt-r,We).concat(Xt);return function(xr){return Ie.map(function(Zr){return[Zr,xr]})}}function dt(){var kt,Xt,We,Ie,xr,Zr,ln,Mn,In=10,zn=In,on=90,wn=360,bt,jt,Jt,re,st=2.5;function St(){return{type:"MultiLineString",coordinates:Ut()}}function Ut(){return c.range(C(Ie/on)*on,We,on).map(Jt).concat(c.range(C(Mn/wn)*wn,ln,wn).map(re)).concat(c.range(C(Xt/In)*In,kt,In).filter(function(wt){return d(wt%on)>r}).map(bt)).concat(c.range(C(Zr/zn)*zn,xr,zn).filter(function(wt){return d(wt%wn)>r}).map(jt))}return St.lines=function(){return Ut().map(function(wt){return{type:"LineString",coordinates:wt}})},St.outline=function(){return{type:"Polygon",coordinates:[Jt(Ie).concat(re(ln).slice(1),Jt(We).reverse().slice(1),re(Mn).reverse().slice(1))]}},St.extent=function(wt){return arguments.length?St.extentMajor(wt).extentMinor(wt):St.extentMinor()},St.extentMajor=function(wt){return arguments.length?(Ie=+wt[0][0],We=+wt[1][0],Mn=+wt[0][1],ln=+wt[1][1],Ie>We&&(wt=Ie,Ie=We,We=wt),Mn>ln&&(wt=Mn,Mn=ln,ln=wt),St.precision(st)):[[Ie,Mn],[We,ln]]},St.extentMinor=function(wt){return arguments.length?(Xt=+wt[0][0],kt=+wt[1][0],Zr=+wt[0][1],xr=+wt[1][1],Xt>kt&&(wt=Xt,Xt=kt,kt=wt),Zr>xr&&(wt=Zr,Zr=xr,xr=wt),St.precision(st)):[[Xt,Zr],[kt,xr]]},St.step=function(wt){return arguments.length?St.stepMajor(wt).stepMinor(wt):St.stepMinor()},St.stepMajor=function(wt){return arguments.length?(on=+wt[0],wn=+wt[1],St):[on,wn]},St.stepMinor=function(wt){return arguments.length?(In=+wt[0],zn=+wt[1],St):[In,zn]},St.precision=function(wt){return arguments.length?(st=+wt,bt=vt(Zr,xr,90),jt=gt(Xt,kt,st),Jt=vt(Mn,ln,90),re=gt(Ie,We,st),St):st},St.extentMajor([[-180,-90+r],[180,90-r]]).extentMinor([[-180,-80-r],[180,80+r]])}function Dt(){return dt()()}var te=function(kt,Xt){var We=kt[0]*p,Ie=kt[1]*p,xr=Xt[0]*p,Zr=Xt[1]*p,ln=E(Ie),Mn=S(Ie),In=E(Zr),zn=S(Zr),on=ln*E(We),wn=ln*S(We),bt=In*E(xr),jt=In*S(xr),Jt=2*L(T(Z(Zr-Ie)+ln*In*Z(xr-We))),re=S(Jt),st=Jt?function(St){var Ut=S(St*=Jt)/re,wt=S(Jt-St)/re,Qt=wt*on+Ut*bt,Oe=wt*wn+Ut*jt,ve=wt*Mn+Ut*zn;return[y(Oe,Qt)*h,y(ve,T(Qt*Qt+Oe*Oe))*h]}:function(){return[We*h,Ie*h]};return st.distance=Jt,st},Ge=function(kt){return kt},cr=s(),zr=s(),Rt,Ei,ri,k,it={point:U,lineStart:U,lineEnd:U,polygonStart:function(){it.lineStart=Bt,it.lineEnd=_e},polygonEnd:function(){it.lineStart=it.lineEnd=it.point=U,cr.add(d(zr)),zr.reset()},result:function(){var kt=cr/2;return cr.reset(),kt}};function Bt(){it.point=yt}function yt(kt,Xt){it.point=ne,Rt=ri=kt,Ei=k=Xt}function ne(kt,Xt){zr.add(k*kt-ri*Xt),ri=kt,k=Xt}function _e(){ne(Rt,Ei)}var ur=Infinity,jr=ur,_r=-ur,Pn=_r,Ln={point:Li,lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U,result:function(){var kt=[[ur,jr],[_r,Pn]];return _r=Pn=-(jr=ur=Infinity),kt}};function Li(kt,Xt){kt<ur&&(ur=kt),kt>_r&&(_r=kt),Xt<jr&&(jr=Xt),Xt>Pn&&(Pn=Xt)}var sa=0,$i=0,Sa=0,pa=0,Fa=0,Ua=0,vo=0,No=0,Yo=0,Ds,Go,Io,xo,Lo={point:Fo,lineStart:so,lineEnd:Eo,polygonStart:function(){Lo.lineStart=ds,Lo.lineEnd=ns},polygonEnd:function(){Lo.point=Fo,Lo.lineStart=so,Lo.lineEnd=Eo},result:function(){var kt=Yo?[vo/Yo,No/Yo]:Ua?[pa/Ua,Fa/Ua]:Sa?[sa/Sa,$i/Sa]:[NaN,NaN];return sa=$i=Sa=pa=Fa=Ua=vo=No=Yo=0,kt}};function Fo(kt,Xt){sa+=kt,$i+=Xt,++Sa}function so(){Lo.point=Qo}function Qo(kt,Xt){Lo.point=Jo,Fo(Io=kt,xo=Xt)}function Jo(kt,Xt){var We=kt-Io,Ie=Xt-xo,xr=T(We*We+Ie*Ie);pa+=xr*(Io+kt)/2,Fa+=xr*(xo+Xt)/2,Ua+=xr,Fo(Io=kt,xo=Xt)}function Eo(){Lo.point=Fo}function ds(){Lo.point=qo}function ns(){is(Ds,Go)}function qo(kt,Xt){Lo.point=is,Fo(Ds=Io=kt,Go=xo=Xt)}function is(kt,Xt){var We=kt-Io,Ie=Xt-xo,xr=T(We*We+Ie*Ie);pa+=xr*(Io+kt)/2,Fa+=xr*(xo+Xt)/2,Ua+=xr,xr=xo*kt-Io*Xt,vo+=xr*(Io+kt),No+=xr*(xo+Xt),Yo+=xr*3,Fo(Io=kt,xo=Xt)}function Xo(kt){this._context=kt}Xo.prototype={_radius:4.5,pointRadius:function(kt){return this._radius=kt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(kt,Xt){switch(this._point){case 0:{this._context.moveTo(kt,Xt),this._point=1;break}case 1:{this._context.lineTo(kt,Xt);break}default:{this._context.moveTo(kt+this._radius,Xt),this._context.arc(kt,Xt,this._radius,0,l);break}}},result:U};var as=s(),$a,Su,pu,Qs,au,Ko={point:U,lineStart:function(){Ko.point=ie},lineEnd:function(){$a&&he(Su,pu),Ko.point=U},polygonStart:function(){$a=!0},polygonEnd:function(){$a=null},result:function(){var kt=+as;return as.reset(),kt}};function ie(kt,Xt){Ko.point=he,Su=Qs=kt,pu=au=Xt}function he(kt,Xt){Qs-=kt,au-=Xt,as.add(T(Qs*Qs+au*au)),Qs=kt,au=Xt}function Kt(){this._string=[]}Kt.prototype={_radius:4.5,_circle:Re(4.5),pointRadius:function(kt){return(kt=+kt)!==this._radius&&(this._radius=kt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(kt,Xt){switch(this._point){case 0:{this._string.push("M",kt,",",Xt),this._point=1;break}case 1:{this._string.push("L",kt,",",Xt);break}default:{this._circle==null&&(this._circle=Re(this._radius)),this._string.push("M",kt,",",Xt,this._circle);break}}},result:function(){if(this._string.length){var kt=this._string.join("");return this._string=[],kt}else return null}};function Re(kt){return"m0,"+kt+"a"+kt+","+kt+" 0 1,1 0,"+-2*kt+"a"+kt+","+kt+" 0 1,1 0,"+2*kt+"z"}var br=function(kt,Xt){var We=4.5,Ie,xr;function Zr(ln){return ln&&(typeof We=="function"&&xr.pointRadius(+We.apply(this,arguments)),Q(ln,Ie(xr))),xr.result()}return Zr.area=function(ln){return Q(ln,Ie(it)),it.result()},Zr.measure=function(ln){return Q(ln,Ie(Ko)),Ko.result()},Zr.bounds=function(ln){return Q(ln,Ie(Ln)),Ln.result()},Zr.centroid=function(ln){return Q(ln,Ie(Lo)),Lo.result()},Zr.projection=function(ln){return arguments.length?(Ie=ln==null?(kt=null,Ge):(kt=ln).stream,Zr):kt},Zr.context=function(ln){return arguments.length?(xr=ln==null?(Xt=null,new Kt):new Xo(Xt=ln),typeof We!="function"&&xr.pointRadius(We),Zr):Xt},Zr.pointRadius=function(ln){return arguments.length?(We=typeof ln=="function"?ln:(xr.pointRadius(+ln),+ln),Zr):We},Zr.projection(kt).context(Xt)},Tn=function(kt,Xt,We,Ie){return function(xr,Zr){var ln=Xt(Zr),Mn=xr.invert(Ie[0],Ie[1]),In=fa(),zn=Xt(In),on=!1,wn,bt,jt,Jt={point:re,lineStart:St,lineEnd:Ut,polygonStart:function(){Jt.point=wt,Jt.lineStart=Qt,Jt.lineEnd=Oe,bt=[],wn=[]},polygonEnd:function(){Jt.point=re,Jt.lineStart=St,Jt.lineEnd=Ut,bt=c.merge(bt);var ve=lr(wn,Mn);bt.length?(on||(Zr.polygonStart(),on=!0),yo(bt,Oi,ve,We,Zr)):ve&&(on||(Zr.polygonStart(),on=!0),Zr.lineStart(),We(null,null,1,Zr),Zr.lineEnd()),on&&(Zr.polygonEnd(),on=!1),bt=wn=null},sphere:function(){Zr.polygonStart(),Zr.lineStart(),We(null,null,1,Zr),Zr.lineEnd(),Zr.polygonEnd()}};function re(ve,we){var Ne=xr(ve,we);kt(ve=Ne[0],we=Ne[1])&&Zr.point(ve,we)}function st(ve,we){var Ne=xr(ve,we);ln.point(Ne[0],Ne[1])}function St(){Jt.point=st,ln.lineStart()}function Ut(){Jt.point=re,ln.lineEnd()}function wt(ve,we){jt.push([ve,we]);var Ne=xr(ve,we);zn.point(Ne[0],Ne[1])}function Qt(){zn.lineStart(),jt=[]}function Oe(){wt(jt[0][0],jt[0][1]),zn.lineEnd();var ve=zn.clean(),we=In.result(),Ne,Qe=we.length,Ye,Ar,yr;if(jt.pop(),wn.push(jt),jt=null,!!Qe){if(ve&1){if(Ar=we[0],(Ye=Ar.length-1)>0){for(on||(Zr.polygonStart(),on=!0),Zr.lineStart(),Ne=0;Ne<Ye;++Ne)Zr.point((yr=Ar[Ne])[0],yr[1]);Zr.lineEnd()}return}Qe>1&&ve&2&&we.push(we.pop().concat(we.shift())),bt.push(we.filter(gi))}}return Jt}};function gi(kt){return kt.length>1}function Oi(kt,Xt){return((kt=kt.x)[0]<0?kt[1]-a-r:a-kt[1])-((Xt=Xt.x)[0]<0?Xt[1]-a-r:a-Xt[1])}var Di=Tn(function(){return!0},ea,Ba,[-n,-a]);function ea(kt){var Xt=NaN,We=NaN,Ie=NaN,xr;return{lineStart:function(){kt.lineStart(),xr=1},point:function(Zr,ln){var Mn=Zr>0?n:-n,In=d(Zr-Xt);d(In-n)<r?(kt.point(Xt,We=(We+ln)/2>0?a:-a),kt.point(Ie,We),kt.lineEnd(),kt.lineStart(),kt.point(Mn,We),kt.point(Zr,We),xr=0):Ie!==Mn&&In>=n&&(d(Xt-Ie)<r&&(Xt-=Ie*r),d(Zr-Mn)<r&&(Zr-=Mn*r),We=ha(Xt,We,Zr,ln),kt.point(Ie,We),kt.lineEnd(),kt.lineStart(),kt.point(Mn,We),xr=0),kt.point(Xt=Zr,We=ln),Ie=Mn},lineEnd:function(){kt.lineEnd(),Xt=We=NaN},clean:function(){return 2-xr}}}function ha(kt,Xt,We,Ie){var xr,Zr,ln=S(kt-We);return d(ln)>r?g((S(Xt)*(Zr=E(Ie))*S(We)-S(Ie)*(xr=E(Xt))*S(kt))/(xr*Zr*ln)):(Xt+Ie)/2}function Ba(kt,Xt,We,Ie){var xr;if(kt==null)xr=We*a,Ie.point(-n,xr),Ie.point(0,xr),Ie.point(n,xr),Ie.point(n,0),Ie.point(n,-xr),Ie.point(0,-xr),Ie.point(-n,-xr),Ie.point(-n,0),Ie.point(-n,xr);else if(d(kt[0]-Xt[0])>r){var Zr=kt[0]<Xt[0]?n:-n;xr=We*Zr/2,Ie.point(-Zr,xr),Ie.point(0,xr),Ie.point(Zr,xr)}else Ie.point(Xt[0],Xt[1])}var na=function(kt,Xt){var We=E(kt),Ie=We>0,xr=d(We)>r;function Zr(on,wn,bt,jt){Yi(jt,kt,Xt,bt,on,wn)}function ln(on,wn){return E(on)*E(wn)>We}function Mn(on){var wn,bt,jt,Jt,re;return{lineStart:function(){Jt=jt=!1,re=1},point:function(st,St){var Ut=[st,St],wt,Qt=ln(st,St),Oe=Ie?Qt?0:zn(st,St):Qt?zn(st+(st<0?n:-n),St):0;if(!wn&&(Jt=jt=Qt)&&on.lineStart(),Qt!==jt&&(wt=In(wn,Ut),(!wt||ho(wn,wt)||ho(Ut,wt))&&(Ut[0]+=r,Ut[1]+=r,Qt=ln(Ut[0],Ut[1]))),Qt!==jt)re=0,Qt?(on.lineStart(),wt=In(Ut,wn),on.point(wt[0],wt[1])):(wt=In(wn,Ut),on.point(wt[0],wt[1]),on.lineEnd()),wn=wt;else if(xr&&wn&&Ie^Qt){var ve;!(Oe&bt)&&(ve=In(Ut,wn,!0))&&(re=0,Ie?(on.lineStart(),on.point(ve[0][0],ve[0][1]),on.point(ve[1][0],ve[1][1]),on.lineEnd()):(on.point(ve[1][0],ve[1][1]),on.lineEnd(),on.lineStart(),on.point(ve[0][0],ve[0][1])))}Qt&&(!wn||!ho(wn,Ut))&&on.point(Ut[0],Ut[1]),wn=Ut,jt=Qt,bt=Oe},lineEnd:function(){jt&&on.lineEnd(),wn=null},clean:function(){return re|(Jt&&jt)<<1}}}function In(on,wn,bt){var jt=B(on),Jt=B(wn),re=[1,0,0],st=R(jt,Jt),St=w(st,st),Ut=st[0],wt=St-Ut*Ut;if(!wt)return!bt&&on;var Qt=We*St/wt,Oe=-We*Ut/wt,ve=R(re,st),we=tt(re,Qt),Ne=tt(st,Oe);V(we,Ne);var Qe=ve,Ye=w(we,Qe),Ar=w(Qe,Qe),yr=Ye*Ye-Ar*(w(we,we)-1);if(!(yr<0)){var Ur=T(yr),pr=tt(Qe,(-Ye-Ur)/Ar);if(V(pr,we),pr=et(pr),!bt)return pr;var Fr=on[0],Yr=wn[0],Sn=on[1],Nn=wn[1],hn;Yr<Fr&&(hn=Fr,Fr=Yr,Yr=hn);var Bn=Yr-Fr,qn=d(Bn-n)<r,Ai=qn||Bn<r;if(!qn&&Nn<Sn&&(hn=Sn,Sn=Nn,Nn=hn),Ai?qn?Sn+Nn>0^pr[1]<(d(pr[0]-Fr)<r?Sn:Nn):Sn<=pr[1]&&pr[1]<=Nn:Bn>n^(Fr<=pr[0]&&pr[0]<=Yr)){var Ti=tt(Qe,(-Ye+Ur)/Ar);return V(Ti,we),[pr,et(Ti)]}}}function zn(on,wn){var bt=Ie?kt:n-kt,jt=0;return on<-bt?jt|=1:on>bt&&(jt|=2),wn<-bt?jt|=4:wn>bt&&(jt|=8),jt}return Tn(ln,Mn,Zr,Ie?[0,-kt]:[-n,kt-n])},ts=function(kt){return{stream:po(kt)}};function po(kt){return function(Xt){var We=new uo;for(var Ie in kt)We[Ie]=kt[Ie];return We.stream=Xt,We}}function uo(){}uo.prototype={constructor:uo,point:function(kt,Xt){this.stream.point(kt,Xt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zo(kt,Xt,We){var Ie=Xt[1][0]-Xt[0][0],xr=Xt[1][1]-Xt[0][1],Zr=kt.clipExtent&&kt.clipExtent();kt.scale(150).translate([0,0]),Zr!=null&&kt.clipExtent(null),Q(We,kt.stream(Ln));var ln=Ln.result(),Mn=Math.min(Ie/(ln[1][0]-ln[0][0]),xr/(ln[1][1]-ln[0][1])),In=+Xt[0][0]+(Ie-Mn*(ln[1][0]+ln[0][0]))/2,zn=+Xt[0][1]+(xr-Mn*(ln[1][1]+ln[0][1]))/2;return Zr!=null&&kt.clipExtent(Zr),kt.scale(Mn*150).translate([In,zn])}function Qa(kt,Xt,We){return Zo(kt,[[0,0],Xt],We)}var go=16,fs=E(30*p),es=function(kt,Xt){return+Xt?os(kt,Xt):Rs(kt)};function Rs(kt){return po({point:function(Xt,We){Xt=kt(Xt,We),this.stream.point(Xt[0],Xt[1])}})}function os(kt,Xt){function We(Ie,xr,Zr,ln,Mn,In,zn,on,wn,bt,jt,Jt,re,st){var St=zn-Ie,Ut=on-xr,wt=St*St+Ut*Ut;if(wt>4*Xt&&re--){var Qt=ln+bt,Oe=Mn+jt,ve=In+Jt,we=T(Qt*Qt+Oe*Oe+ve*ve),Ne=L(ve/=we),Qe=d(d(ve)-1)<r||d(Zr-wn)<r?(Zr+wn)/2:y(Oe,Qt),Ye=kt(Qe,Ne),Ar=Ye[0],yr=Ye[1],Ur=Ar-Ie,pr=yr-xr,Fr=Ut*Ur-St*pr;(Fr*Fr/wt>Xt||d((St*Ur+Ut*pr)/wt-.5)>.3||ln*bt+Mn*jt+In*Jt<fs)&&(We(Ie,xr,Zr,ln,Mn,In,Ar,yr,Qe,Qt/=we,Oe/=we,ve,re,st),st.point(Ar,yr),We(Ar,yr,Qe,Qt,Oe,ve,zn,on,wn,bt,jt,Jt,re,st))}}return function(Ie){var xr,Zr,ln,Mn,In,zn,on,wn,bt,jt,Jt,re,st={point:St,lineStart:Ut,lineEnd:Qt,polygonStart:function(){Ie.polygonStart(),st.lineStart=Oe},polygonEnd:function(){Ie.polygonEnd(),st.lineStart=Ut}};function St(Ne,Qe){Ne=kt(Ne,Qe),Ie.point(Ne[0],Ne[1])}function Ut(){wn=NaN,st.point=wt,Ie.lineStart()}function wt(Ne,Qe){var Ye=B([Ne,Qe]),Ar=kt(Ne,Qe);We(wn,bt,on,jt,Jt,re,wn=Ar[0],bt=Ar[1],on=Ne,jt=Ye[0],Jt=Ye[1],re=Ye[2],go,Ie),Ie.point(wn,bt)}function Qt(){st.point=St,Ie.lineEnd()}function Oe(){Ut(),st.point=ve,st.lineEnd=we}function ve(Ne,Qe){wt(xr=Ne,Qe),Zr=wn,ln=bt,Mn=jt,In=Jt,zn=re,st.point=wt}function we(){We(wn,bt,on,jt,Jt,re,Zr,ln,xr,Mn,In,zn,go,Ie),st.lineEnd=Qt,Qt()}return st}}var ss=po({point:function(kt,Xt){this.stream.point(kt*p,Xt*p)}});function Bo(kt){return Zs(function(){return kt})()}function Zs(kt){var Xt,We=150,Ie=480,xr=250,Zr,ln,Mn=0,In=0,zn=0,on=0,wn=0,bt,jt,Jt=null,re=Di,st=null,St,Ut,wt,Qt=Ge,Oe=.5,ve=es(Ar,Oe),we,Ne;function Qe(pr){return pr=jt(pr[0]*p,pr[1]*p),[pr[0]*We+Zr,ln-pr[1]*We]}function Ye(pr){return pr=jt.invert((pr[0]-Zr)/We,(ln-pr[1])/We),pr&&[pr[0]*h,pr[1]*h]}function Ar(pr,Fr){return pr=Xt(pr,Fr),[pr[0]*We+Zr,ln-pr[1]*We]}Qe.stream=function(pr){return we&&Ne===pr?we:we=ss(re(bt,ve(Qt(Ne=pr))))},Qe.clipAngle=function(pr){return arguments.length?(re=+pr?na(Jt=pr*p,6*p):(Jt=null,Di),Ur()):Jt*h},Qe.clipExtent=function(pr){return arguments.length?(Qt=pr==null?(st=St=Ut=wt=null,Ge):qa(st=+pr[0][0],St=+pr[0][1],Ut=+pr[1][0],wt=+pr[1][1]),Ur()):st==null?null:[[st,St],[Ut,wt]]},Qe.scale=function(pr){return arguments.length?(We=+pr,yr()):We},Qe.translate=function(pr){return arguments.length?(Ie=+pr[0],xr=+pr[1],yr()):[Ie,xr]},Qe.center=function(pr){return arguments.length?(Mn=pr[0]%360*p,In=pr[1]%360*p,yr()):[Mn*h,In*h]},Qe.rotate=function(pr){return arguments.length?(zn=pr[0]%360*p,on=pr[1]%360*p,wn=pr.length>2?pr[2]%360*p:0,yr()):[zn*h,on*h,wn*h]},Qe.precision=function(pr){return arguments.length?(ve=es(Ar,Oe=pr*pr),Ur()):T(Oe)},Qe.fitExtent=function(pr,Fr){return Zo(Qe,pr,Fr)},Qe.fitSize=function(pr,Fr){return Qa(Qe,pr,Fr)};function yr(){jt=Dn(bt=er(zn,on,wn),Xt);var pr=Xt(Mn,In);return Zr=Ie-pr[0]*We,ln=xr+pr[1]*We,Ur()}function Ur(){return we=Ne=null,Qe}return function(){return Xt=kt.apply(this,arguments),Qe.invert=Xt.invert&&Ye,yr()}}function Es(kt){var Xt=0,We=n/3,Ie=Zs(kt),xr=Ie(Xt,We);return xr.parallels=function(Zr){return arguments.length?Ie(Xt=Zr[0]*p,We=Zr[1]*p):[Xt*h,We*h]},xr}function Ns(kt){var Xt=E(kt);function We(Ie,xr){return[Ie*Xt,S(xr)/Xt]}return We.invert=function(Ie,xr){return[Ie/Xt,L(xr*Xt)]},We}function Fs(kt,Xt){var We=S(kt),Ie=(We+S(Xt))/2;if(d(Ie)<r)return Ns(kt);var xr=1+We*(2*Ie-We),Zr=T(xr)/Ie;function ln(Mn,In){var zn=T(xr-2*Ie*S(In))/Ie;return[zn*S(Mn*=Ie),Zr-zn*E(Mn)]}return ln.invert=function(Mn,In){var zn=Zr-In;return[y(Mn,d(zn))/Ie*A(zn),L((xr-(Mn*Mn+zn*zn)*Ie*Ie)/(2*Ie))]},ln}var bu=function(){return Es(Fs).scale(155.424).center([0,33.6442])},Au=function(){return bu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Bs(kt){var Xt=kt.length;return{point:function(We,Ie){for(var xr=-1;++xr<Xt;)kt[xr].point(We,Ie)},sphere:function(){for(var We=-1;++We<Xt;)kt[We].sphere()},lineStart:function(){for(var We=-1;++We<Xt;)kt[We].lineStart()},lineEnd:function(){for(var We=-1;++We<Xt;)kt[We].lineEnd()},polygonStart:function(){for(var We=-1;++We<Xt;)kt[We].polygonStart()},polygonEnd:function(){for(var We=-1;++We<Xt;)kt[We].polygonEnd()}}}var ou=function(){var kt,Xt,We=Au(),Ie,xr=bu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Zr,ln=bu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Mn,In,zn={point:function(bt,jt){In=[bt,jt]}};function on(bt){var jt=bt[0],Jt=bt[1];return In=null,Ie.point(jt,Jt),In||(Zr.point(jt,Jt),In)||(Mn.point(jt,Jt),In)}on.invert=function(bt){var jt=We.scale(),Jt=We.translate(),re=(bt[0]-Jt[0])/jt,st=(bt[1]-Jt[1])/jt;return(st>=.12&&st<.234&&re>=-.425&&re<-.214?xr:st>=.166&&st<.234&&re>=-.214&&re<-.115?ln:We).invert(bt)},on.stream=function(bt){return kt&&Xt===bt?kt:kt=Bs([We.stream(Xt=bt),xr.stream(bt),ln.stream(bt)])},on.precision=function(bt){return arguments.length?(We.precision(bt),xr.precision(bt),ln.precision(bt),wn()):We.precision()},on.scale=function(bt){return arguments.length?(We.scale(bt),xr.scale(bt*.35),ln.scale(bt),on.translate(We.translate())):We.scale()},on.translate=function(bt){if(!arguments.length)return We.translate();var jt=We.scale(),Jt=+bt[0],re=+bt[1];return Ie=We.translate(bt).clipExtent([[Jt-.455*jt,re-.238*jt],[Jt+.455*jt,re+.238*jt]]).stream(zn),Zr=xr.translate([Jt-.307*jt,re+.201*jt]).clipExtent([[Jt-.425*jt+r,re+.12*jt+r],[Jt-.214*jt-r,re+.234*jt-r]]).stream(zn),Mn=ln.translate([Jt-.205*jt,re+.212*jt]).clipExtent([[Jt-.214*jt+r,re+.166*jt+r],[Jt-.115*jt-r,re+.234*jt-r]]).stream(zn),wn()},on.fitExtent=function(bt,jt){return Zo(on,bt,jt)},on.fitSize=function(bt,jt){return Qa(on,bt,jt)};function wn(){return kt=Xt=null,on}return on.scale(1070)};function Js(kt){return function(Xt,We){var Ie=E(Xt),xr=E(We),Zr=kt(Ie*xr);return[Zr*xr*S(Xt),Zr*S(We)]}}function gu(kt){return function(Xt,We){var Ie=T(Xt*Xt+We*We),xr=kt(Ie),Zr=S(xr),ln=E(xr);return[y(Xt*Zr,Ie*ln),L(Ie&&We*Zr/Ie)]}}var qs=Js(function(kt){return T(2/(1+kt))});qs.invert=gu(function(kt){return 2*L(kt/2)});var js=function(){return Bo(qs).scale(124.75).clipAngle(180-.001)},Ws=Js(function(kt){return(kt=D(kt))&&kt/S(kt)});Ws.invert=gu(function(kt){return kt});var Nu=function(){return Bo(Ws).scale(79.4188).clipAngle(180-.001)};function su(kt,Xt){return[kt,M(O((a+Xt)/2))]}su.invert=function(kt,Xt){return[kt,2*g(m(Xt))-a]};var Pu=function(){return vu(su).scale(961/l)};function vu(kt){var Xt=Bo(kt),We=Xt.center,Ie=Xt.scale,xr=Xt.translate,Zr=Xt.clipExtent,ln=null,Mn,In,zn;Xt.scale=function(wn){return arguments.length?(Ie(wn),on()):Ie()},Xt.translate=function(wn){return arguments.length?(xr(wn),on()):xr()},Xt.center=function(wn){return arguments.length?(We(wn),on()):We()},Xt.clipExtent=function(wn){return arguments.length?(wn==null?ln=Mn=In=zn=null:(ln=+wn[0][0],Mn=+wn[0][1],In=+wn[1][0],zn=+wn[1][1]),on()):ln==null?null:[[ln,Mn],[In,zn]]};function on(){var wn=n*Ie(),bt=Xt(pi(Xt.rotate()).invert([0,0]));return Zr(ln==null?[[bt[0]-wn,bt[1]-wn],[bt[0]+wn,bt[1]+wn]]:kt===su?[[Math.max(bt[0]-wn,ln),Mn],[Math.min(bt[0]+wn,In),zn]]:[[ln,Math.max(bt[1]-wn,Mn)],[In,Math.min(bt[1]+wn,zn)]])}return on()}function Ss(kt){return O((a+kt)/2)}function mu(kt,Xt){var We=E(kt),Ie=kt===Xt?S(kt):M(We/E(Xt))/M(Ss(Xt)/Ss(kt)),xr=We*b(Ss(kt),Ie)/Ie;if(!Ie)return su;function Zr(ln,Mn){xr>0?Mn<-a+r&&(Mn=-a+r):Mn>a-r&&(Mn=a-r);var In=xr/b(Ss(Mn),Ie);return[In*S(Ie*ln),xr-In*E(Ie*ln)]}return Zr.invert=function(ln,Mn){var In=xr-Mn,zn=A(Ie)*T(ln*ln+In*In);return[y(ln,d(In))/Ie*A(In),2*g(b(xr/zn,1/Ie))-a]},Zr}var Ou=function(){return Es(mu).scale(109.5).parallels([30,30])};function Gs(kt,Xt){return[kt,Xt]}Gs.invert=Gs;var Ao=function(){return Bo(Gs).scale(152.63)};function cs(kt,Xt){var We=E(kt),Ie=kt===Xt?S(kt):(We-E(Xt))/(Xt-kt),xr=We/Ie+kt;if(d(Ie)<r)return Gs;function Zr(ln,Mn){var In=xr-Mn,zn=Ie*ln;return[In*S(zn),xr-In*E(zn)]}return Zr.invert=function(ln,Mn){var In=xr-Mn;return[y(ln,d(In))/Ie*A(In),xr-A(Ie)*T(ln*ln+In*In)]},Zr}var us=function(){return Es(cs).scale(131.154).center([0,13.9389])};function lo(kt,Xt){var We=E(Xt),Ie=E(kt)*We;return[We*S(kt)/Ie,S(Xt)/Ie]}lo.invert=gu(g);var _s=function(){return Bo(lo).scale(144.049).clipAngle(60)};function jo(kt,Xt,We,Ie){return kt===1&&Xt===1&&We===0&&Ie===0?Ge:po({point:function(xr,Zr){this.stream.point(xr*kt+We,Zr*Xt+Ie)}})}var Wo=function(){var kt=1,Xt=0,We=0,Ie=1,xr=1,Zr=Ge,ln=null,Mn,In,zn,on=Ge,wn,bt,jt;function Jt(){return wn=bt=null,jt}return jt={stream:function(re){return wn&&bt===re?wn:wn=Zr(on(bt=re))},clipExtent:function(re){return arguments.length?(on=re==null?(ln=Mn=In=zn=null,Ge):qa(ln=+re[0][0],Mn=+re[0][1],In=+re[1][0],zn=+re[1][1]),Jt()):ln==null?null:[[ln,Mn],[In,zn]]},scale:function(re){return arguments.length?(Zr=jo((kt=+re)*Ie,kt*xr,Xt,We),Jt()):kt},translate:function(re){return arguments.length?(Zr=jo(kt*Ie,kt*xr,Xt=+re[0],We=+re[1]),Jt()):[Xt,We]},reflectX:function(re){return arguments.length?(Zr=jo(kt*(Ie=re?-1:1),kt*xr,Xt,We),Jt()):Ie<0},reflectY:function(re){return arguments.length?(Zr=jo(kt*Ie,kt*(xr=re?-1:1),Xt,We),Jt()):xr<0},fitExtent:function(re,st){return Zo(jt,re,st)},fitSize:function(re,st){return Qa(jt,re,st)}}};function Vs(kt,Xt){return[E(Xt)*S(kt),S(Xt)]}Vs.invert=gu(L);var uu=function(){return Bo(Vs).scale(249.5).clipAngle(90+r)};function tu(kt,Xt){var We=E(Xt),Ie=1+E(kt)*We;return[We*S(kt)/Ie,S(Xt)/Ie]}tu.invert=gu(function(kt){return 2*g(kt)});var Hs=function(){return Bo(tu).scale(250).clipAngle(142)};function bs(kt,Xt){return[M(O((a+Xt)/2)),-kt]}bs.invert=function(kt,Xt){return[-Xt,2*g(m(kt))-a]};var ps=function(){var kt=vu(bs),Xt=kt.center,We=kt.rotate;return kt.center=function(Ie){return arguments.length?Xt([-Ie[1],Ie[0]]):(Ie=Xt(),[Ie[1],-Ie[0]])},kt.rotate=function(Ie){return arguments.length?We([Ie[0],Ie[1],Ie.length>2?Ie[2]+90:90]):(Ie=We(),[Ie[0],Ie[1],Ie[2]-90])},We([0,0,90]).scale(159.155)};t.geoArea=$,t.geoBounds=Ki,t.geoCentroid=gn,t.geoCircle=_a,t.geoClipExtent=Zt,t.geoContains=pe,t.geoDistance=Ea,t.geoGraticule=dt,t.geoGraticule10=Dt,t.geoInterpolate=te,t.geoLength=Ci,t.geoPath=br,t.geoAlbers=Au,t.geoAlbersUsa=ou,t.geoAzimuthalEqualArea=js,t.geoAzimuthalEqualAreaRaw=qs,t.geoAzimuthalEquidistant=Nu,t.geoAzimuthalEquidistantRaw=Ws,t.geoConicConformal=Ou,t.geoConicConformalRaw=mu,t.geoConicEqualArea=bu,t.geoConicEqualAreaRaw=Fs,t.geoConicEquidistant=us,t.geoConicEquidistantRaw=cs,t.geoEquirectangular=Ao,t.geoEquirectangularRaw=Gs,t.geoGnomonic=_s,t.geoGnomonicRaw=lo,t.geoIdentity=Wo,t.geoProjection=Bo,t.geoProjectionMutator=Zs,t.geoMercator=Pu,t.geoMercatorRaw=su,t.geoOrthographic=uu,t.geoOrthographicRaw=Vs,t.geoStereographic=Hs,t.geoStereographicRaw=tu,t.geoTransverseMercator=ps,t.geoTransverseMercatorRaw=bs,t.geoRotation=pi,t.geoStream=Q,t.geoTransform=ts,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@2.0.1@d3-geo/dist/d3-geo.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-array@2.11.0@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";var s=1e-6,v=1e-12,o=Math.PI,f=o/2,r=o/4,e=o*2,n=180/o,a=o/180,u=Math.abs,l=Math.atan,h=Math.atan2,p=Math.cos,d=Math.ceil,g=Math.exp,y=Math.hypot,E=Math.log,C=Math.pow,m=Math.sin,M=Math.sign||function(bt){return bt>0?1:bt<0?-1:0},b=Math.sqrt,S=Math.tan;function A(bt){return bt>1?0:bt<-1?o:Math.acos(bt)}function T(bt){return bt>1?f:bt<-1?-f:Math.asin(bt)}function O(bt){return(bt=m(bt/2))*bt}function D(){}function L(bt,jt){bt&&U.hasOwnProperty(bt.type)&&U[bt.type](bt,jt)}var Z={Feature:function(bt,jt){L(bt.geometry,jt)},FeatureCollection:function(bt,jt){for(var Jt=bt.features,re=-1,st=Jt.length;++re<st;)L(Jt[re].geometry,jt)}},U={Sphere:function(bt,jt){jt.sphere()},Point:function(bt,jt){bt=bt.coordinates,jt.point(bt[0],bt[1],bt[2])},MultiPoint:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)bt=Jt[re],jt.point(bt[0],bt[1],bt[2])},LineString:function(bt,jt){Y(bt.coordinates,jt,0)},MultiLineString:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)Y(Jt[re],jt,0)},Polygon:function(bt,jt){W(bt.coordinates,jt)},MultiPolygon:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)W(Jt[re],jt)},GeometryCollection:function(bt,jt){for(var Jt=bt.geometries,re=-1,st=Jt.length;++re<st;)L(Jt[re],jt)}};function Y(bt,jt,Jt){var re=-1,st=bt.length-Jt,St;for(jt.lineStart();++re<st;)St=bt[re],jt.point(St[0],St[1],St[2]);jt.lineEnd()}function W(bt,jt){var Jt=-1,re=bt.length;for(jt.polygonStart();++Jt<re;)Y(bt[Jt],jt,1);jt.polygonEnd()}function J(bt,jt){bt&&Z.hasOwnProperty(bt.type)?Z[bt.type](bt,jt):L(bt,jt)}var ht=new c.Adder,nt=new c.Adder,Q,xt,_t,Nt,rt,q={point:D,lineStart:D,lineEnd:D,polygonStart:function(){ht=new c.Adder,q.lineStart=G,q.lineEnd=N},polygonEnd:function(){var bt=+ht;nt.add(bt<0?e+bt:bt),this.lineStart=this.lineEnd=this.point=D},sphere:function(){nt.add(e)}};function G(){q.point=at}function N(){H(Q,xt)}function at(bt,jt){q.point=H,Q=bt,xt=jt,bt*=a,jt*=a,_t=bt,Nt=p(jt=jt/2+r),rt=m(jt)}function H(bt,jt){bt*=a,jt*=a,jt=jt/2+r;var Jt=bt-_t,re=Jt>=0?1:-1,st=re*Jt,St=p(jt),Ut=m(jt),wt=rt*Ut,Qt=Nt*St+wt*p(st),Oe=wt*re*m(st);ht.add(h(Oe,Qt)),_t=bt,Nt=St,rt=Ut}function ft(bt){return nt=new c.Adder,J(bt,q),nt*2}function ct(bt){return[h(bt[1],bt[0]),T(bt[2])]}function K(bt){var jt=bt[0],Jt=bt[1],re=p(Jt);return[re*p(jt),re*m(jt),m(Jt)]}function $(bt,jt){return bt[0]*jt[0]+bt[1]*jt[1]+bt[2]*jt[2]}function et(bt,jt){return[bt[1]*jt[2]-bt[2]*jt[1],bt[2]*jt[0]-bt[0]*jt[2],bt[0]*jt[1]-bt[1]*jt[0]]}function B(bt,jt){bt[0]+=jt[0],bt[1]+=jt[1],bt[2]+=jt[2]}function w(bt,jt){return[bt[0]*jt,bt[1]*jt,bt[2]*jt]}function R(bt){var jt=b(bt[0]*bt[0]+bt[1]*bt[1]+bt[2]*bt[2]);bt[0]/=jt,bt[1]/=jt,bt[2]/=jt}var V,tt,lt,Et,ot,Mt,Ot,Ft,zt,$t,ce,ye={point:Je,lineStart:Xe,lineEnd:mr,polygonStart:function(){ye.point=Gr,ye.lineStart=xe,ye.lineEnd=de,zt=new c.Adder,q.polygonStart()},polygonEnd:function(){q.polygonEnd(),ye.point=Je,ye.lineStart=Xe,ye.lineEnd=mr,ht<0?(V=-(lt=180),tt=-(Et=90)):zt>s?Et=90:zt<-s&&(tt=-90),ce[0]=V,ce[1]=lt},sphere:function(){V=-(lt=180),tt=-(Et=90)}};function Je(bt,jt){$t.push(ce=[V=bt,lt=bt]),jt<tt&&(tt=jt),jt>Et&&(Et=jt)}function nr(bt,jt){var Jt=K([bt*a,jt*a]);if(Ft){var re=et(Ft,Jt),st=[re[1],-re[0],0],St=et(st,re);R(St),St=ct(St);var Ut=bt-ot,wt=Ut>0?1:-1,Qt=St[0]*n*wt,Oe,ve=u(Ut)>180;ve^(wt*ot<Qt&&Qt<wt*bt)?(Oe=St[1]*n,Oe>Et&&(Et=Oe)):(Qt=(Qt+360)%360-180,ve^(wt*ot<Qt&&Qt<wt*bt)?(Oe=-St[1]*n,Oe<tt&&(tt=Oe)):(jt<tt&&(tt=jt),jt>Et&&(Et=jt))),ve?bt<ot?ze(V,bt)>ze(V,lt)&&(lt=bt):ze(bt,lt)>ze(V,lt)&&(V=bt):lt>=V?(bt<V&&(V=bt),bt>lt&&(lt=bt)):bt>ot?ze(V,bt)>ze(V,lt)&&(lt=bt):ze(bt,lt)>ze(V,lt)&&(V=bt)}else $t.push(ce=[V=bt,lt=bt]);jt<tt&&(tt=jt),jt>Et&&(Et=jt),Ft=Jt,ot=bt}function Xe(){ye.point=nr}function mr(){ce[0]=V,ce[1]=lt,ye.point=Je,Ft=null}function Gr(bt,jt){if(Ft){var Jt=bt-ot;zt.add(u(Jt)>180?Jt+(Jt>0?360:-360):Jt)}else Mt=bt,Ot=jt;q.point(bt,jt),nr(bt,jt)}function xe(){q.lineStart()}function de(){Gr(Mt,Ot),q.lineEnd(),u(zt)>s&&(V=-(lt=180)),ce[0]=V,ce[1]=lt,Ft=null}function ze(bt,jt){return(jt-=bt)<0?jt+360:jt}function Ue(bt,jt){return bt[0]-jt[0]}function Kr(bt,jt){return bt[0]<=bt[1]?bt[0]<=jt&&jt<=bt[1]:jt<bt[0]||bt[1]<jt}function rn(bt){var jt,Jt,re,st,St,Ut,wt;if(Et=lt=-(V=tt=Infinity),$t=[],J(bt,ye),Jt=$t.length){for($t.sort(Ue),jt=1,re=$t[0],St=[re];jt<Jt;++jt)st=$t[jt],Kr(re,st[0])||Kr(re,st[1])?(ze(re[0],st[1])>ze(re[0],re[1])&&(re[1]=st[1]),ze(st[0],re[1])>ze(re[0],re[1])&&(re[0]=st[0])):St.push(re=st);for(Ut=-Infinity,Jt=St.length-1,jt=0,re=St[Jt];jt<=Jt;re=st,++jt)st=St[jt],(wt=ze(re[1],st[0]))>Ut&&(Ut=wt,V=st[0],lt=re[1])}return $t=ce=null,V===Infinity||tt===Infinity?[[NaN,NaN],[NaN,NaN]]:[[V,tt],[lt,Et]]}var ci,Zi,Ki,ji,Ae,De,ar,Pr,or,wr,cn,Fn,nn,Hr,Gn,$n,Vr={sphere:D,point:Ir,lineStart:ge,lineEnd:Ve,polygonStart:function(){Vr.lineStart=le,Vr.lineEnd=vr},polygonEnd:function(){Vr.lineStart=ge,Vr.lineEnd=Ve}};function Ir(bt,jt){bt*=a,jt*=a;var Jt=p(jt);ti(Jt*p(bt),Jt*m(bt),m(jt))}function ti(bt,jt,Jt){++ci,Ki+=(bt-Ki)/ci,ji+=(jt-ji)/ci,Ae+=(Jt-Ae)/ci}function ge(){Vr.point=Le}function Le(bt,jt){bt*=a,jt*=a;var Jt=p(jt);Hr=Jt*p(bt),Gn=Jt*m(bt),$n=m(jt),Vr.point=Se,ti(Hr,Gn,$n)}function Se(bt,jt){bt*=a,jt*=a;var Jt=p(jt),re=Jt*p(bt),st=Jt*m(bt),St=m(jt),Ut=h(b((Ut=Gn*St-$n*st)*Ut+(Ut=$n*re-Hr*St)*Ut+(Ut=Hr*st-Gn*re)*Ut),Hr*re+Gn*st+$n*St);Zi+=Ut,De+=Ut*(Hr+(Hr=re)),ar+=Ut*(Gn+(Gn=st)),Pr+=Ut*($n+($n=St)),ti(Hr,Gn,$n)}function Ve(){Vr.point=Ir}function le(){Vr.point=He}function vr(){rr(Fn,nn),Vr.point=Ir}function He(bt,jt){Fn=bt,nn=jt,bt*=a,jt*=a,Vr.point=rr;var Jt=p(jt);Hr=Jt*p(bt),Gn=Jt*m(bt),$n=m(jt),ti(Hr,Gn,$n)}function rr(bt,jt){bt*=a,jt*=a;var Jt=p(jt),re=Jt*p(bt),st=Jt*m(bt),St=m(jt),Ut=Gn*St-$n*st,wt=$n*re-Hr*St,Qt=Hr*st-Gn*re,Oe=y(Ut,wt,Qt),ve=T(Oe),we=Oe&&-ve/Oe;or.add(we*Ut),wr.add(we*wt),cn.add(we*Qt),Zi+=ve,De+=ve*(Hr+(Hr=re)),ar+=ve*(Gn+(Gn=st)),Pr+=ve*($n+($n=St)),ti(Hr,Gn,$n)}function Dr(bt){ci=Zi=Ki=ji=Ae=De=ar=Pr=0,or=new c.Adder,wr=new c.Adder,cn=new c.Adder,J(bt,Vr);var jt=+or,Jt=+wr,re=+cn,st=y(jt,Jt,re);return st<v&&(jt=De,Jt=ar,re=Pr,Zi<s&&(jt=Ki,Jt=ji,re=Ae),st=y(jt,Jt,re),st<v)?[NaN,NaN]:[h(Jt,jt)*n,T(re/st)*n]}function Mr(bt){return function(){return bt}}function an(bt,jt){function Jt(re,st){return re=bt(re,st),jt(re[0],re[1])}return bt.invert&&jt.invert&&(Jt.invert=function(re,st){return re=jt.invert(re,st),re&&bt.invert(re[0],re[1])}),Jt}function gn(bt,jt){return[u(bt)>o?bt+Math.round(-bt/e)*e:bt,jt]}gn.invert=gn;function qr(bt,jt,Jt){return(bt%=e)?jt||Jt?an(ae(bt),er(jt,Jt)):ae(bt):jt||Jt?er(jt,Jt):gn}function Dn(bt){return function(jt,Jt){return jt+=bt,[jt>o?jt-e:jt<-o?jt+e:jt,Jt]}}function ae(bt){var jt=Dn(bt);return jt.invert=Dn(-bt),jt}function er(bt,jt){var Jt=p(bt),re=m(bt),st=p(jt),St=m(jt);function Ut(wt,Qt){var Oe=p(Qt),ve=p(wt)*Oe,we=m(wt)*Oe,Ne=m(Qt),Qe=Ne*Jt+ve*re;return[h(we*st-Qe*St,ve*Jt-Ne*re),T(Qe*st+we*St)]}return Ut.invert=function(wt,Qt){var Oe=p(Qt),ve=p(wt)*Oe,we=m(wt)*Oe,Ne=m(Qt),Qe=Ne*st-we*St;return[h(we*st+Ne*St,ve*Jt+Qe*re),T(Qe*Jt-ve*re)]},Ut}function sr(bt){bt=qr(bt[0]*a,bt[1]*a,bt.length>2?bt[2]*a:0);function jt(Jt){return Jt=bt(Jt[0]*a,Jt[1]*a),Jt[0]*=n,Jt[1]*=n,Jt}return jt.invert=function(Jt){return Jt=bt.invert(Jt[0]*a,Jt[1]*a),Jt[0]*=n,Jt[1]*=n,Jt},jt}function kr(bt,jt,Jt,re,st,St){if(!!Jt){var Ut=p(jt),wt=m(jt),Qt=re*Jt;st==null?(st=jt+re*e,St=jt-Qt/2):(st=Rn(Ut,st),St=Rn(Ut,St),(re>0?st<St:st>St)&&(st+=re*e));for(var Oe,ve=st;re>0?ve>St:ve<St;ve-=Qt)Oe=ct([Ut,-wt*p(ve),-wt*m(ve)]),bt.point(Oe[0],Oe[1])}}function Rn(bt,jt){jt=K(jt),jt[0]-=bt,R(jt);var Jt=A(-jt[1]);return((-jt[2]<0?-Jt:Jt)+e-s)%e}function pi(){var bt=Mr([0,0]),jt=Mr(90),Jt=Mr(6),re,st,St={point:Ut};function Ut(Qt,Oe){re.push(Qt=st(Qt,Oe)),Qt[0]*=n,Qt[1]*=n}function wt(){var Qt=bt.apply(this,arguments),Oe=jt.apply(this,arguments)*a,ve=Jt.apply(this,arguments)*a;return re=[],st=qr(-Qt[0]*a,-Qt[1]*a,0).invert,kr(St,Oe,ve,1),Qt={type:"Polygon",coordinates:[re]},re=st=null,Qt}return wt.center=function(Qt){return arguments.length?(bt=typeof Qt=="function"?Qt:Mr([+Qt[0],+Qt[1]]),wt):bt},wt.radius=function(Qt){return arguments.length?(jt=typeof Qt=="function"?Qt:Mr(+Qt),wt):jt},wt.precision=function(Qt){return arguments.length?(Jt=typeof Qt=="function"?Qt:Mr(+Qt),wt):Jt},wt}function Yi(){var bt=[],jt;return{point:function(Jt,re,st){jt.push([Jt,re,st])},lineStart:function(){bt.push(jt=[])},lineEnd:D,rejoin:function(){bt.length>1&&bt.push(bt.pop().concat(bt.shift()))},result:function(){var Jt=bt;return bt=[],jt=null,Jt}}}function da(bt,jt){return u(bt[0]-jt[0])<s&&u(bt[1]-jt[1])<s}function _a(bt,jt,Jt,re){this.x=bt,this.z=jt,this.o=Jt,this.e=re,this.v=!1,this.n=this.p=null}function fa(bt,jt,Jt,re,st){var St=[],Ut=[],wt,Qt;if(bt.forEach(function(Ye){if(!((Ar=Ye.length-1)<=0)){var Ar,yr=Ye[0],Ur=Ye[Ar],pr;if(da(yr,Ur)){if(!yr[2]&&!Ur[2]){for(st.lineStart(),wt=0;wt<Ar;++wt)st.point((yr=Ye[wt])[0],yr[1]);st.lineEnd();return}Ur[0]+=2*s}St.push(pr=new _a(yr,Ye,null,!0)),Ut.push(pr.o=new _a(yr,null,pr,!1)),St.push(pr=new _a(Ur,Ye,null,!1)),Ut.push(pr.o=new _a(Ur,null,pr,!0))}}),!!St.length){for(Ut.sort(jt),wo(St),wo(Ut),wt=0,Qt=Ut.length;wt<Qt;++wt)Ut[wt].e=Jt=!Jt;for(var Oe=St[0],ve,we;;){for(var Ne=Oe,Qe=!0;Ne.v;)if((Ne=Ne.n)===Oe)return;ve=Ne.z,st.lineStart();do{if(Ne.v=Ne.o.v=!0,Ne.e){if(Qe)for(wt=0,Qt=ve.length;wt<Qt;++wt)st.point((we=ve[wt])[0],we[1]);else re(Ne.x,Ne.n.x,1,st);Ne=Ne.n}else{if(Qe)for(ve=Ne.p.z,wt=ve.length-1;wt>=0;--wt)st.point((we=ve[wt])[0],we[1]);else re(Ne.x,Ne.p.x,-1,st);Ne=Ne.p}Ne=Ne.o,ve=Ne.z,Qe=!Qe}while(!Ne.v);st.lineEnd()}}}function wo(bt){if(!!(jt=bt.length)){for(var jt,Jt=0,re=bt[0],st;++Jt<jt;)re.n=st=bt[Jt],st.p=re,re=st;re.n=st=bt[0],st.p=re}}function ho(bt){return u(bt[0])<=o?bt[0]:M(bt[0])*((u(bt[0])+o)%e-o)}function mo(bt,jt){var Jt=ho(jt),re=jt[1],st=m(re),St=[m(Jt),-p(Jt),0],Ut=0,wt=0,Qt=new c.Adder;st===1?re=f+s:st===-1&&(re=-f-s);for(var Oe=0,ve=bt.length;Oe<ve;++Oe)if(!!(Ne=(we=bt[Oe]).length))for(var we,Ne,Qe=we[Ne-1],Ye=ho(Qe),Ar=Qe[1]/2+r,yr=m(Ar),Ur=p(Ar),pr=0;pr<Ne;++pr,Ye=Yr,yr=Nn,Ur=hn,Qe=Fr){var Fr=we[pr],Yr=ho(Fr),Sn=Fr[1]/2+r,Nn=m(Sn),hn=p(Sn),Bn=Yr-Ye,qn=Bn>=0?1:-1,Ai=qn*Bn,Ti=Ai>o,Oa=yr*Nn;if(Qt.add(h(Oa*qn*m(Ai),Ur*hn+Oa*p(Ai))),Ut+=Ti?Bn+qn*e:Bn,Ti^Ye>=Jt^Yr>=Jt){var va=et(K(Qe),K(Fr));R(va);var ma=et(St,va);R(ma);var jn=(Ti^Bn>=0?-1:1)*T(ma[2]);(re>jn||re===jn&&(va[0]||va[1]))&&(wt+=Ti^Bn>=0?1:-1)}}return(Ut<-s||Ut<s&&Qt<-v)^wt&1}function yo(bt,jt,Jt,re){return function(st){var St=jt(st),Ut=Yi(),wt=jt(Ut),Qt=!1,Oe,ve,we,Ne={point:Qe,lineStart:Ar,lineEnd:yr,polygonStart:function(){Ne.point=Ur,Ne.lineStart=pr,Ne.lineEnd=Fr,ve=[],Oe=[]},polygonEnd:function(){Ne.point=Qe,Ne.lineStart=Ar,Ne.lineEnd=yr,ve=c.merge(ve);var Yr=mo(Oe,re);ve.length?(Qt||(st.polygonStart(),Qt=!0),fa(ve,io,Yr,Jt,st)):Yr&&(Qt||(st.polygonStart(),Qt=!0),st.lineStart(),Jt(null,null,1,st),st.lineEnd()),Qt&&(st.polygonEnd(),Qt=!1),ve=Oe=null},sphere:function(){st.polygonStart(),st.lineStart(),Jt(null,null,1,st),st.lineEnd(),st.polygonEnd()}};function Qe(Yr,Sn){bt(Yr,Sn)&&st.point(Yr,Sn)}function Ye(Yr,Sn){St.point(Yr,Sn)}function Ar(){Ne.point=Ye,St.lineStart()}function yr(){Ne.point=Qe,St.lineEnd()}function Ur(Yr,Sn){we.push([Yr,Sn]),wt.point(Yr,Sn)}function pr(){wt.lineStart(),we=[]}function Fr(){Ur(we[0][0],we[0][1]),wt.lineEnd();var Yr=wt.clean(),Sn=Ut.result(),Nn,hn=Sn.length,Bn,qn,Ai;if(we.pop(),Oe.push(we),we=null,!!hn){if(Yr&1){if(qn=Sn[0],(Bn=qn.length-1)>0){for(Qt||(st.polygonStart(),Qt=!0),st.lineStart(),Nn=0;Nn<Bn;++Nn)st.point((Ai=qn[Nn])[0],Ai[1]);st.lineEnd()}return}hn>1&&Yr&2&&Sn.push(Sn.pop().concat(Sn.shift())),ve.push(Sn.filter(zo))}}return Ne}}function zo(bt){return bt.length>1}function io(bt,jt){return((bt=bt.x)[0]<0?bt[1]-f-s:f-bt[1])-((jt=jt.x)[0]<0?jt[1]-f-s:f-jt[1])}var Za=yo(function(){return!0},qa,je,[-o,-f]);function qa(bt){var jt=NaN,Jt=NaN,re=NaN,st;return{lineStart:function(){bt.lineStart(),st=1},point:function(St,Ut){var wt=St>0?o:-o,Qt=u(St-jt);u(Qt-o)<s?(bt.point(jt,Jt=(Jt+Ut)/2>0?f:-f),bt.point(re,Jt),bt.lineEnd(),bt.lineStart(),bt.point(wt,Jt),bt.point(St,Jt),st=0):re!==wt&&Qt>=o&&(u(jt-re)<s&&(jt-=re*s),u(St-wt)<s&&(St-=wt*s),Jt=Zt(jt,Jt,St,Ut),bt.point(re,Jt),bt.lineEnd(),bt.lineStart(),bt.point(wt,Jt),st=0),bt.point(jt=St,Jt=Ut),re=wt},lineEnd:function(){bt.lineEnd(),jt=Jt=NaN},clean:function(){return 2-st}}}function Zt(bt,jt,Jt,re){var st,St,Ut=m(bt-Jt);return u(Ut)>s?l((m(jt)*(St=p(re))*m(Jt)-m(re)*(st=p(jt))*m(bt))/(st*St*Ut)):(jt+re)/2}function je(bt,jt,Jt,re){var st;if(bt==null)st=Jt*f,re.point(-o,st),re.point(0,st),re.point(o,st),re.point(o,0),re.point(o,-st),re.point(0,-st),re.point(-o,-st),re.point(-o,0),re.point(-o,st);else if(u(bt[0]-jt[0])>s){var St=bt[0]<jt[0]?o:-o;st=Jt*St/2,re.point(-St,st),re.point(0,st),re.point(St,st)}else re.point(jt[0],jt[1])}function lr(bt){var jt=p(bt),Jt=6*a,re=jt>0,st=u(jt)>s;function St(ve,we,Ne,Qe){kr(Qe,bt,Jt,Ne,ve,we)}function Ut(ve,we){return p(ve)*p(we)>jt}function wt(ve){var we,Ne,Qe,Ye,Ar;return{lineStart:function(){Ye=Qe=!1,Ar=1},point:function(yr,Ur){var pr=[yr,Ur],Fr,Yr=Ut(yr,Ur),Sn=re?Yr?0:Oe(yr,Ur):Yr?Oe(yr+(yr<0?o:-o),Ur):0;if(!we&&(Ye=Qe=Yr)&&ve.lineStart(),Yr!==Qe&&(Fr=Qt(we,pr),(!Fr||da(we,Fr)||da(pr,Fr))&&(pr[2]=1)),Yr!==Qe)Ar=0,Yr?(ve.lineStart(),Fr=Qt(pr,we),ve.point(Fr[0],Fr[1])):(Fr=Qt(we,pr),ve.point(Fr[0],Fr[1],2),ve.lineEnd()),we=Fr;else if(st&&we&&re^Yr){var Nn;!(Sn&Ne)&&(Nn=Qt(pr,we,!0))&&(Ar=0,re?(ve.lineStart(),ve.point(Nn[0][0],Nn[0][1]),ve.point(Nn[1][0],Nn[1][1]),ve.lineEnd()):(ve.point(Nn[1][0],Nn[1][1]),ve.lineEnd(),ve.lineStart(),ve.point(Nn[0][0],Nn[0][1],3)))}Yr&&(!we||!da(we,pr))&&ve.point(pr[0],pr[1]),we=pr,Qe=Yr,Ne=Sn},lineEnd:function(){Qe&&ve.lineEnd(),we=null},clean:function(){return Ar|(Ye&&Qe)<<1}}}function Qt(ve,we,Ne){var Qe=K(ve),Ye=K(we),Ar=[1,0,0],yr=et(Qe,Ye),Ur=$(yr,yr),pr=yr[0],Fr=Ur-pr*pr;if(!Fr)return!Ne&&ve;var Yr=jt*Ur/Fr,Sn=-jt*pr/Fr,Nn=et(Ar,yr),hn=w(Ar,Yr),Bn=w(yr,Sn);B(hn,Bn);var qn=Nn,Ai=$(hn,qn),Ti=$(qn,qn),Oa=Ai*Ai-Ti*($(hn,hn)-1);if(!(Oa<0)){var va=b(Oa),ma=w(qn,(-Ai-va)/Ti);if(B(ma,hn),ma=ct(ma),!Ne)return ma;var jn=ve[0],hi=we[0],Ha=ve[1],Wa=we[1],Xn;hi<jn&&(Xn=jn,jn=hi,hi=Xn);var ja=hi-jn,fo=u(ja-o)<s,Do=fo||ja<s;if(!fo&&Wa<Ha&&(Xn=Ha,Ha=Wa,Wa=Xn),Do?fo?Ha+Wa>0^ma[1]<(u(ma[0]-jn)<s?Ha:Wa):Ha<=ma[1]&&ma[1]<=Wa:ja>o^(jn<=ma[0]&&ma[0]<=hi)){var Ro=w(qn,(-Ai+va)/Ti);return B(Ro,hn),[ma,ct(Ro)]}}}function Oe(ve,we){var Ne=re?bt:o-bt,Qe=0;return ve<-Ne?Qe|=1:ve>Ne&&(Qe|=2),we<-Ne?Qe|=4:we>Ne&&(Qe|=8),Qe}return yo(Ut,wt,St,re?[0,-bt]:[-o,bt-o])}function Br(bt,jt,Jt,re,st,St){var Ut=bt[0],wt=bt[1],Qt=jt[0],Oe=jt[1],ve=0,we=1,Ne=Qt-Ut,Qe=Oe-wt,Ye;if(Ye=Jt-Ut,!(!Ne&&Ye>0)){if(Ye/=Ne,Ne<0){if(Ye<ve)return;Ye<we&&(we=Ye)}else if(Ne>0){if(Ye>we)return;Ye>ve&&(ve=Ye)}if(Ye=st-Ut,!(!Ne&&Ye<0)){if(Ye/=Ne,Ne<0){if(Ye>we)return;Ye>ve&&(ve=Ye)}else if(Ne>0){if(Ye<ve)return;Ye<we&&(we=Ye)}if(Ye=re-wt,!(!Qe&&Ye>0)){if(Ye/=Qe,Qe<0){if(Ye<ve)return;Ye<we&&(we=Ye)}else if(Qe>0){if(Ye>we)return;Ye>ve&&(ve=Ye)}if(Ye=St-wt,!(!Qe&&Ye<0)){if(Ye/=Qe,Qe<0){if(Ye>we)return;Ye>ve&&(ve=Ye)}else if(Qe>0){if(Ye<ve)return;Ye<we&&(we=Ye)}return ve>0&&(bt[0]=Ut+ve*Ne,bt[1]=wt+ve*Qe),we<1&&(jt[0]=Ut+we*Ne,jt[1]=wt+we*Qe),!0}}}}}var Vt=1e9,ee=-Vt;function Ce(bt,jt,Jt,re){function st(Oe,ve){return bt<=Oe&&Oe<=Jt&&jt<=ve&&ve<=re}function St(Oe,ve,we,Ne){var Qe=0,Ye=0;if(Oe==null||(Qe=Ut(Oe,we))!==(Ye=Ut(ve,we))||Qt(Oe,ve)<0^we>0)do Ne.point(Qe===0||Qe===3?bt:Jt,Qe>1?re:jt);while((Qe=(Qe+we+4)%4)!==Ye);else Ne.point(ve[0],ve[1])}function Ut(Oe,ve){return u(Oe[0]-bt)<s?ve>0?0:3:u(Oe[0]-Jt)<s?ve>0?2:1:u(Oe[1]-jt)<s?ve>0?1:0:ve>0?3:2}function wt(Oe,ve){return Qt(Oe.x,ve.x)}function Qt(Oe,ve){var we=Ut(Oe,1),Ne=Ut(ve,1);return we!==Ne?we-Ne:we===0?ve[1]-Oe[1]:we===1?Oe[0]-ve[0]:we===2?Oe[1]-ve[1]:ve[0]-Oe[0]}return function(Oe){var ve=Oe,we=Yi(),Ne,Qe,Ye,Ar,yr,Ur,pr,Fr,Yr,Sn,Nn,hn={point:Bn,lineStart:Oa,lineEnd:va,polygonStart:Ai,polygonEnd:Ti};function Bn(jn,hi){st(jn,hi)&&ve.point(jn,hi)}function qn(){for(var jn=0,hi=0,Ha=Qe.length;hi<Ha;++hi)for(var Wa=Qe[hi],Xn=1,ja=Wa.length,fo=Wa[0],Do,Ro,Ys=fo[0],gs=fo[1];Xn<ja;++Xn)Do=Ys,Ro=gs,fo=Wa[Xn],Ys=fo[0],gs=fo[1],Ro<=re?gs>re&&(Ys-Do)*(re-Ro)>(gs-Ro)*(bt-Do)&&++jn:gs<=re&&(Ys-Do)*(re-Ro)<(gs-Ro)*(bt-Do)&&--jn;return jn}function Ai(){ve=we,Ne=[],Qe=[],Nn=!0}function Ti(){var jn=qn(),hi=Nn&&jn,Ha=(Ne=c.merge(Ne)).length;(hi||Ha)&&(Oe.polygonStart(),hi&&(Oe.lineStart(),St(null,null,1,Oe),Oe.lineEnd()),Ha&&fa(Ne,wt,jn,St,Oe),Oe.polygonEnd()),ve=Oe,Ne=Qe=Ye=null}function Oa(){hn.point=ma,Qe&&Qe.push(Ye=[]),Sn=!0,Yr=!1,pr=Fr=NaN}function va(){Ne&&(ma(Ar,yr),Ur&&Yr&&we.rejoin(),Ne.push(we.result())),hn.point=Bn,Yr&&ve.lineEnd()}function ma(jn,hi){var Ha=st(jn,hi);if(Qe&&Ye.push([jn,hi]),Sn)Ar=jn,yr=hi,Ur=Ha,Sn=!1,Ha&&(ve.lineStart(),ve.point(jn,hi));else if(Ha&&Yr)ve.point(jn,hi);else{var Wa=[pr=Math.max(ee,Math.min(Vt,pr)),Fr=Math.max(ee,Math.min(Vt,Fr))],Xn=[jn=Math.max(ee,Math.min(Vt,jn)),hi=Math.max(ee,Math.min(Vt,hi))];Br(Wa,Xn,bt,jt,Jt,re)?(Yr||(ve.lineStart(),ve.point(Wa[0],Wa[1])),ve.point(Xn[0],Xn[1]),Ha||ve.lineEnd(),Nn=!1):Ha&&(ve.lineStart(),ve.point(jn,hi),Nn=!1)}pr=jn,Fr=hi,Yr=Ha}return hn}}function Me(){var bt=0,jt=0,Jt=960,re=500,st,St,Ut;return Ut={stream:function(wt){return st&&St===wt?st:st=Ce(bt,jt,Jt,re)(St=wt)},extent:function(wt){return arguments.length?(bt=+wt[0][0],jt=+wt[0][1],Jt=+wt[1][0],re=+wt[1][1],st=St=null,Ut):[[bt,jt],[Jt,re]]}}}var Sr,pn,En,fi,Ci={sphere:D,point:D,lineStart:aa,lineEnd:D,polygonStart:D,polygonEnd:D};function aa(){Ci.point=Ea,Ci.lineEnd=ta}function ta(){Ci.point=Ci.lineEnd=D}function Ea(bt,jt){bt*=a,jt*=a,pn=bt,En=m(jt),fi=p(jt),Ci.point=ca}function ca(bt,jt){bt*=a,jt*=a;var Jt=m(jt),re=p(jt),st=u(bt-pn),St=p(st),Ut=m(st),wt=re*Ut,Qt=fi*Jt-En*re*St,Oe=En*Jt+fi*re*St;Sr.add(h(b(wt*wt+Qt*Qt),Oe)),pn=bt,En=Jt,fi=re}function to(bt){return Sr=new c.Adder,J(bt,Ci),+Sr}var za=[null,null],Ia={type:"LineString",coordinates:za};function Va(bt,jt){return za[0]=bt,za[1]=jt,to(Ia)}var ro={Feature:function(bt,jt){return be(bt.geometry,jt)},FeatureCollection:function(bt,jt){for(var Jt=bt.features,re=-1,st=Jt.length;++re<st;)if(be(Jt[re].geometry,jt))return!0;return!1}},Ee={Sphere:function(){return!0},Point:function(bt,jt){return pe(bt.coordinates,jt)},MultiPoint:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(pe(Jt[re],jt))return!0;return!1},LineString:function(bt,jt){return vt(bt.coordinates,jt)},MultiLineString:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(vt(Jt[re],jt))return!0;return!1},Polygon:function(bt,jt){return gt(bt.coordinates,jt)},MultiPolygon:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(gt(Jt[re],jt))return!0;return!1},GeometryCollection:function(bt,jt){for(var Jt=bt.geometries,re=-1,st=Jt.length;++re<st;)if(be(Jt[re],jt))return!0;return!1}};function be(bt,jt){return bt&&Ee.hasOwnProperty(bt.type)?Ee[bt.type](bt,jt):!1}function pe(bt,jt){return Va(bt,jt)===0}function vt(bt,jt){for(var Jt,re,st,St=0,Ut=bt.length;St<Ut;St++){if(re=Va(bt[St],jt),re===0||St>0&&(st=Va(bt[St],bt[St-1]),st>0&&Jt<=st&&re<=st&&(Jt+re-st)*(1-Math.pow((Jt-re)/st,2))<v*st))return!0;Jt=re}return!1}function gt(bt,jt){return!!mo(bt.map(dt),Dt(jt))}function dt(bt){return bt=bt.map(Dt),bt.pop(),bt}function Dt(bt){return[bt[0]*a,bt[1]*a]}function te(bt,jt){return(bt&&ro.hasOwnProperty(bt.type)?ro[bt.type]:be)(bt,jt)}function Ge(bt,jt,Jt){var re=c.range(bt,jt-s,Jt).concat(jt);return function(st){return re.map(function(St){return[st,St]})}}function cr(bt,jt,Jt){var re=c.range(bt,jt-s,Jt).concat(jt);return function(st){return re.map(function(St){return[St,st]})}}function zr(){var bt,jt,Jt,re,st,St,Ut,wt,Qt=10,Oe=Qt,ve=90,we=360,Ne,Qe,Ye,Ar,yr=2.5;function Ur(){return{type:"MultiLineString",coordinates:pr()}}function pr(){return c.range(d(re/ve)*ve,Jt,ve).map(Ye).concat(c.range(d(wt/we)*we,Ut,we).map(Ar)).concat(c.range(d(jt/Qt)*Qt,bt,Qt).filter(function(Fr){return u(Fr%ve)>s}).map(Ne)).concat(c.range(d(St/Oe)*Oe,st,Oe).filter(function(Fr){return u(Fr%we)>s}).map(Qe))}return Ur.lines=function(){return pr().map(function(Fr){return{type:"LineString",coordinates:Fr}})},Ur.outline=function(){return{type:"Polygon",coordinates:[Ye(re).concat(Ar(Ut).slice(1),Ye(Jt).reverse().slice(1),Ar(wt).reverse().slice(1))]}},Ur.extent=function(Fr){return arguments.length?Ur.extentMajor(Fr).extentMinor(Fr):Ur.extentMinor()},Ur.extentMajor=function(Fr){return arguments.length?(re=+Fr[0][0],Jt=+Fr[1][0],wt=+Fr[0][1],Ut=+Fr[1][1],re>Jt&&(Fr=re,re=Jt,Jt=Fr),wt>Ut&&(Fr=wt,wt=Ut,Ut=Fr),Ur.precision(yr)):[[re,wt],[Jt,Ut]]},Ur.extentMinor=function(Fr){return arguments.length?(jt=+Fr[0][0],bt=+Fr[1][0],St=+Fr[0][1],st=+Fr[1][1],jt>bt&&(Fr=jt,jt=bt,bt=Fr),St>st&&(Fr=St,St=st,st=Fr),Ur.precision(yr)):[[jt,St],[bt,st]]},Ur.step=function(Fr){return arguments.length?Ur.stepMajor(Fr).stepMinor(Fr):Ur.stepMinor()},Ur.stepMajor=function(Fr){return arguments.length?(ve=+Fr[0],we=+Fr[1],Ur):[ve,we]},Ur.stepMinor=function(Fr){return arguments.length?(Qt=+Fr[0],Oe=+Fr[1],Ur):[Qt,Oe]},Ur.precision=function(Fr){return arguments.length?(yr=+Fr,Ne=Ge(St,st,90),Qe=cr(jt,bt,yr),Ye=Ge(wt,Ut,90),Ar=cr(re,Jt,yr),Ur):yr},Ur.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Rt(){return zr()()}function Ei(bt,jt){var Jt=bt[0]*a,re=bt[1]*a,st=jt[0]*a,St=jt[1]*a,Ut=p(re),wt=m(re),Qt=p(St),Oe=m(St),ve=Ut*p(Jt),we=Ut*m(Jt),Ne=Qt*p(st),Qe=Qt*m(st),Ye=2*T(b(O(St-re)+Ut*Qt*O(st-Jt))),Ar=m(Ye),yr=Ye?function(Ur){var pr=m(Ur*=Ye)/Ar,Fr=m(Ye-Ur)/Ar,Yr=Fr*ve+pr*Ne,Sn=Fr*we+pr*Qe,Nn=Fr*wt+pr*Oe;return[h(Sn,Yr)*n,h(Nn,b(Yr*Yr+Sn*Sn))*n]}:function(){return[Jt*n,re*n]};return yr.distance=Ye,yr}var ri=function(bt){return bt},k=new c.Adder,it=new c.Adder,Bt,yt,ne,_e,ur={point:D,lineStart:D,lineEnd:D,polygonStart:function(){ur.lineStart=jr,ur.lineEnd=Ln},polygonEnd:function(){ur.lineStart=ur.lineEnd=ur.point=D,k.add(u(it)),it=new c.Adder},result:function(){var bt=k/2;return k=new c.Adder,bt}};function jr(){ur.point=_r}function _r(bt,jt){ur.point=Pn,Bt=ne=bt,yt=_e=jt}function Pn(bt,jt){it.add(_e*bt-ne*jt),ne=bt,_e=jt}function Ln(){Pn(Bt,yt)}var Li=Infinity,sa=Li,$i=-Li,Sa=$i,pa={point:Fa,lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D,result:function(){var bt=[[Li,sa],[$i,Sa]];return $i=Sa=-(sa=Li=Infinity),bt}};function Fa(bt,jt){bt<Li&&(Li=bt),bt>$i&&($i=bt),jt<sa&&(sa=jt),jt>Sa&&(Sa=jt)}var Ua=0,vo=0,No=0,Yo=0,Ds=0,Go=0,Io=0,xo=0,Lo=0,Fo,so,Qo,Jo,Eo={point:ds,lineStart:ns,lineEnd:Xo,polygonStart:function(){Eo.lineStart=as,Eo.lineEnd=$a},polygonEnd:function(){Eo.point=ds,Eo.lineStart=ns,Eo.lineEnd=Xo},result:function(){var bt=Lo?[Io/Lo,xo/Lo]:Go?[Yo/Go,Ds/Go]:No?[Ua/No,vo/No]:[NaN,NaN];return Ua=vo=No=Yo=Ds=Go=Io=xo=Lo=0,bt}};function ds(bt,jt){Ua+=bt,vo+=jt,++No}function ns(){Eo.point=qo}function qo(bt,jt){Eo.point=is,ds(Qo=bt,Jo=jt)}function is(bt,jt){var Jt=bt-Qo,re=jt-Jo,st=b(Jt*Jt+re*re);Yo+=st*(Qo+bt)/2,Ds+=st*(Jo+jt)/2,Go+=st,ds(Qo=bt,Jo=jt)}function Xo(){Eo.point=ds}function as(){Eo.point=Su}function $a(){pu(Fo,so)}function Su(bt,jt){Eo.point=pu,ds(Fo=Qo=bt,so=Jo=jt)}function pu(bt,jt){var Jt=bt-Qo,re=jt-Jo,st=b(Jt*Jt+re*re);Yo+=st*(Qo+bt)/2,Ds+=st*(Jo+jt)/2,Go+=st,st=Jo*bt-Qo*jt,Io+=st*(Qo+bt),xo+=st*(Jo+jt),Lo+=st*3,ds(Qo=bt,Jo=jt)}function Qs(bt){this._context=bt}Qs.prototype={_radius:4.5,pointRadius:function(bt){return this._radius=bt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(bt,jt){switch(this._point){case 0:{this._context.moveTo(bt,jt),this._point=1;break}case 1:{this._context.lineTo(bt,jt);break}default:{this._context.moveTo(bt+this._radius,jt),this._context.arc(bt,jt,this._radius,0,e);break}}},result:D};var au=new c.Adder,Ko,ie,he,Kt,Re,br={point:D,lineStart:function(){br.point=Tn},lineEnd:function(){Ko&&gi(ie,he),br.point=D},polygonStart:function(){Ko=!0},polygonEnd:function(){Ko=null},result:function(){var bt=+au;return au=new c.Adder,bt}};function Tn(bt,jt){br.point=gi,ie=Kt=bt,he=Re=jt}function gi(bt,jt){Kt-=bt,Re-=jt,au.add(b(Kt*Kt+Re*Re)),Kt=bt,Re=jt}function Oi(){this._string=[]}Oi.prototype={_radius:4.5,_circle:Di(4.5),pointRadius:function(bt){return(bt=+bt)!==this._radius&&(this._radius=bt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(bt,jt){switch(this._point){case 0:{this._string.push("M",bt,",",jt),this._point=1;break}case 1:{this._string.push("L",bt,",",jt);break}default:{this._circle==null&&(this._circle=Di(this._radius)),this._string.push("M",bt,",",jt,this._circle);break}}},result:function(){if(this._string.length){var bt=this._string.join("");return this._string=[],bt}else return null}};function Di(bt){return"m0,"+bt+"a"+bt+","+bt+" 0 1,1 0,"+-2*bt+"a"+bt+","+bt+" 0 1,1 0,"+2*bt+"z"}function ea(bt,jt){var Jt=4.5,re,st;function St(Ut){return Ut&&(typeof Jt=="function"&&st.pointRadius(+Jt.apply(this,arguments)),J(Ut,re(st))),st.result()}return St.area=function(Ut){return J(Ut,re(ur)),ur.result()},St.measure=function(Ut){return J(Ut,re(br)),br.result()},St.bounds=function(Ut){return J(Ut,re(pa)),pa.result()},St.centroid=function(Ut){return J(Ut,re(Eo)),Eo.result()},St.projection=function(Ut){return arguments.length?(re=Ut==null?(bt=null,ri):(bt=Ut).stream,St):bt},St.context=function(Ut){return arguments.length?(st=Ut==null?(jt=null,new Oi):new Qs(jt=Ut),typeof Jt!="function"&&st.pointRadius(Jt),St):jt},St.pointRadius=function(Ut){return arguments.length?(Jt=typeof Ut=="function"?Ut:(st.pointRadius(+Ut),+Ut),St):Jt},St.projection(bt).context(jt)}function ha(bt){return{stream:Ba(bt)}}function Ba(bt){return function(jt){var Jt=new na;for(var re in bt)Jt[re]=bt[re];return Jt.stream=jt,Jt}}function na(){}na.prototype={constructor:na,point:function(bt,jt){this.stream.point(bt,jt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ts(bt,jt,Jt){var re=bt.clipExtent&&bt.clipExtent();return bt.scale(150).translate([0,0]),re!=null&&bt.clipExtent(null),J(Jt,bt.stream(pa)),jt(pa.result()),re!=null&&bt.clipExtent(re),bt}function po(bt,jt,Jt){return ts(bt,function(re){var st=jt[1][0]-jt[0][0],St=jt[1][1]-jt[0][1],Ut=Math.min(st/(re[1][0]-re[0][0]),St/(re[1][1]-re[0][1])),wt=+jt[0][0]+(st-Ut*(re[1][0]+re[0][0]))/2,Qt=+jt[0][1]+(St-Ut*(re[1][1]+re[0][1]))/2;bt.scale(150*Ut).translate([wt,Qt])},Jt)}function uo(bt,jt,Jt){return po(bt,[[0,0],jt],Jt)}function Zo(bt,jt,Jt){return ts(bt,function(re){var st=+jt,St=st/(re[1][0]-re[0][0]),Ut=(st-St*(re[1][0]+re[0][0]))/2,wt=-St*re[0][1];bt.scale(150*St).translate([Ut,wt])},Jt)}function Qa(bt,jt,Jt){return ts(bt,function(re){var st=+jt,St=st/(re[1][1]-re[0][1]),Ut=-St*re[0][0],wt=(st-St*(re[1][1]+re[0][1]))/2;bt.scale(150*St).translate([Ut,wt])},Jt)}var go=16,fs=p(30*a);function es(bt,jt){return+jt?os(bt,jt):Rs(bt)}function Rs(bt){return Ba({point:function(jt,Jt){jt=bt(jt,Jt),this.stream.point(jt[0],jt[1])}})}function os(bt,jt){function Jt(re,st,St,Ut,wt,Qt,Oe,ve,we,Ne,Qe,Ye,Ar,yr){var Ur=Oe-re,pr=ve-st,Fr=Ur*Ur+pr*pr;if(Fr>4*jt&&Ar--){var Yr=Ut+Ne,Sn=wt+Qe,Nn=Qt+Ye,hn=b(Yr*Yr+Sn*Sn+Nn*Nn),Bn=T(Nn/=hn),qn=u(u(Nn)-1)<s||u(St-we)<s?(St+we)/2:h(Sn,Yr),Ai=bt(qn,Bn),Ti=Ai[0],Oa=Ai[1],va=Ti-re,ma=Oa-st,jn=pr*va-Ur*ma;(jn*jn/Fr>jt||u((Ur*va+pr*ma)/Fr-.5)>.3||Ut*Ne+wt*Qe+Qt*Ye<fs)&&(Jt(re,st,St,Ut,wt,Qt,Ti,Oa,qn,Yr/=hn,Sn/=hn,Nn,Ar,yr),yr.point(Ti,Oa),Jt(Ti,Oa,qn,Yr,Sn,Nn,Oe,ve,we,Ne,Qe,Ye,Ar,yr))}}return function(re){var st,St,Ut,wt,Qt,Oe,ve,we,Ne,Qe,Ye,Ar,yr={point:Ur,lineStart:pr,lineEnd:Yr,polygonStart:function(){re.polygonStart(),yr.lineStart=Sn},polygonEnd:function(){re.polygonEnd(),yr.lineStart=pr}};function Ur(Bn,qn){Bn=bt(Bn,qn),re.point(Bn[0],Bn[1])}function pr(){we=NaN,yr.point=Fr,re.lineStart()}function Fr(Bn,qn){var Ai=K([Bn,qn]),Ti=bt(Bn,qn);Jt(we,Ne,ve,Qe,Ye,Ar,we=Ti[0],Ne=Ti[1],ve=Bn,Qe=Ai[0],Ye=Ai[1],Ar=Ai[2],go,re),re.point(we,Ne)}function Yr(){yr.point=Ur,re.lineEnd()}function Sn(){pr(),yr.point=Nn,yr.lineEnd=hn}function Nn(Bn,qn){Fr(st=Bn,qn),St=we,Ut=Ne,wt=Qe,Qt=Ye,Oe=Ar,yr.point=Fr}function hn(){Jt(we,Ne,ve,Qe,Ye,Ar,St,Ut,st,wt,Qt,Oe,go,re),yr.lineEnd=Yr,Yr()}return yr}}var ss=Ba({point:function(bt,jt){this.stream.point(bt*a,jt*a)}});function Bo(bt){return Ba({point:function(jt,Jt){var re=bt(jt,Jt);return this.stream.point(re[0],re[1])}})}function Zs(bt,jt,Jt,re,st){function St(Ut,wt){return Ut*=re,wt*=st,[jt+bt*Ut,Jt-bt*wt]}return St.invert=function(Ut,wt){return[(Ut-jt)/bt*re,(Jt-wt)/bt*st]},St}function Es(bt,jt,Jt,re,st,St){if(!St)return Zs(bt,jt,Jt,re,st);var Ut=p(St),wt=m(St),Qt=Ut*bt,Oe=wt*bt,ve=Ut/bt,we=wt/bt,Ne=(wt*Jt-Ut*jt)/bt,Qe=(wt*jt+Ut*Jt)/bt;function Ye(Ar,yr){return Ar*=re,yr*=st,[Qt*Ar-Oe*yr+jt,Jt-Oe*Ar-Qt*yr]}return Ye.invert=function(Ar,yr){return[re*(ve*Ar-we*yr+Ne),st*(Qe-we*Ar-ve*yr)]},Ye}function Ns(bt){return Fs(function(){return bt})()}function Fs(bt){var jt,Jt=150,re=480,st=250,St=0,Ut=0,wt=0,Qt=0,Oe=0,ve,we=0,Ne=1,Qe=1,Ye=null,Ar=Za,yr=null,Ur,pr,Fr,Yr=ri,Sn=.5,Nn,hn,Bn,qn,Ai;function Ti(jn){return Bn(jn[0]*a,jn[1]*a)}function Oa(jn){return jn=Bn.invert(jn[0],jn[1]),jn&&[jn[0]*n,jn[1]*n]}Ti.stream=function(jn){return qn&&Ai===jn?qn:qn=ss(Bo(ve)(Ar(Nn(Yr(Ai=jn)))))},Ti.preclip=function(jn){return arguments.length?(Ar=jn,Ye=void 0,ma()):Ar},Ti.postclip=function(jn){return arguments.length?(Yr=jn,yr=Ur=pr=Fr=null,ma()):Yr},Ti.clipAngle=function(jn){return arguments.length?(Ar=+jn?lr(Ye=jn*a):(Ye=null,Za),ma()):Ye*n},Ti.clipExtent=function(jn){return arguments.length?(Yr=jn==null?(yr=Ur=pr=Fr=null,ri):Ce(yr=+jn[0][0],Ur=+jn[0][1],pr=+jn[1][0],Fr=+jn[1][1]),ma()):yr==null?null:[[yr,Ur],[pr,Fr]]},Ti.scale=function(jn){return arguments.length?(Jt=+jn,va()):Jt},Ti.translate=function(jn){return arguments.length?(re=+jn[0],st=+jn[1],va()):[re,st]},Ti.center=function(jn){return arguments.length?(St=jn[0]%360*a,Ut=jn[1]%360*a,va()):[St*n,Ut*n]},Ti.rotate=function(jn){return arguments.length?(wt=jn[0]%360*a,Qt=jn[1]%360*a,Oe=jn.length>2?jn[2]%360*a:0,va()):[wt*n,Qt*n,Oe*n]},Ti.angle=function(jn){return arguments.length?(we=jn%360*a,va()):we*n},Ti.reflectX=function(jn){return arguments.length?(Ne=jn?-1:1,va()):Ne<0},Ti.reflectY=function(jn){return arguments.length?(Qe=jn?-1:1,va()):Qe<0},Ti.precision=function(jn){return arguments.length?(Nn=es(hn,Sn=jn*jn),ma()):b(Sn)},Ti.fitExtent=function(jn,hi){return po(Ti,jn,hi)},Ti.fitSize=function(jn,hi){return uo(Ti,jn,hi)},Ti.fitWidth=function(jn,hi){return Zo(Ti,jn,hi)},Ti.fitHeight=function(jn,hi){return Qa(Ti,jn,hi)};function va(){var jn=Es(Jt,0,0,Ne,Qe,we).apply(null,jt(St,Ut)),hi=Es(Jt,re-jn[0],st-jn[1],Ne,Qe,we);return ve=qr(wt,Qt,Oe),hn=an(jt,hi),Bn=an(ve,hn),Nn=es(hn,Sn),ma()}function ma(){return qn=Ai=null,Ti}return function(){return jt=bt.apply(this,arguments),Ti.invert=jt.invert&&Oa,va()}}function bu(bt){var jt=0,Jt=o/3,re=Fs(bt),st=re(jt,Jt);return st.parallels=function(St){return arguments.length?re(jt=St[0]*a,Jt=St[1]*a):[jt*n,Jt*n]},st}function Au(bt){var jt=p(bt);function Jt(re,st){return[re*jt,m(st)/jt]}return Jt.invert=function(re,st){return[re/jt,T(st*jt)]},Jt}function Bs(bt,jt){var Jt=m(bt),re=(Jt+m(jt))/2;if(u(re)<s)return Au(bt);var st=1+Jt*(2*re-Jt),St=b(st)/re;function Ut(wt,Qt){var Oe=b(st-2*re*m(Qt))/re;return[Oe*m(wt*=re),St-Oe*p(wt)]}return Ut.invert=function(wt,Qt){var Oe=St-Qt,ve=h(wt,u(Oe))*M(Oe);return Oe*re<0&&(ve-=o*M(wt)*M(Oe)),[ve/re,T((st-(wt*wt+Oe*Oe)*re*re)/(2*re))]},Ut}function ou(){return bu(Bs).scale(155.424).center([0,33.6442])}function Js(){return ou().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gu(bt){var jt=bt.length;return{point:function(Jt,re){for(var st=-1;++st<jt;)bt[st].point(Jt,re)},sphere:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].sphere()},lineStart:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].lineStart()},lineEnd:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].lineEnd()},polygonStart:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].polygonStart()},polygonEnd:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].polygonEnd()}}}function qs(){var bt,jt,Jt=Js(),re,st=ou().rotate([154,0]).center([-2,58.5]).parallels([55,65]),St,Ut=ou().rotate([157,0]).center([-3,19.9]).parallels([8,18]),wt,Qt,Oe={point:function(Ne,Qe){Qt=[Ne,Qe]}};function ve(Ne){var Qe=Ne[0],Ye=Ne[1];return Qt=null,re.point(Qe,Ye),Qt||(St.point(Qe,Ye),Qt)||(wt.point(Qe,Ye),Qt)}ve.invert=function(Ne){var Qe=Jt.scale(),Ye=Jt.translate(),Ar=(Ne[0]-Ye[0])/Qe,yr=(Ne[1]-Ye[1])/Qe;return(yr>=.12&&yr<.234&&Ar>=-.425&&Ar<-.214?st:yr>=.166&&yr<.234&&Ar>=-.214&&Ar<-.115?Ut:Jt).invert(Ne)},ve.stream=function(Ne){return bt&&jt===Ne?bt:bt=gu([Jt.stream(jt=Ne),st.stream(Ne),Ut.stream(Ne)])},ve.precision=function(Ne){return arguments.length?(Jt.precision(Ne),st.precision(Ne),Ut.precision(Ne),we()):Jt.precision()},ve.scale=function(Ne){return arguments.length?(Jt.scale(Ne),st.scale(Ne*.35),Ut.scale(Ne),ve.translate(Jt.translate())):Jt.scale()},ve.translate=function(Ne){if(!arguments.length)return Jt.translate();var Qe=Jt.scale(),Ye=+Ne[0],Ar=+Ne[1];return re=Jt.translate(Ne).clipExtent([[Ye-.455*Qe,Ar-.238*Qe],[Ye+.455*Qe,Ar+.238*Qe]]).stream(Oe),St=st.translate([Ye-.307*Qe,Ar+.201*Qe]).clipExtent([[Ye-.425*Qe+s,Ar+.12*Qe+s],[Ye-.214*Qe-s,Ar+.234*Qe-s]]).stream(Oe),wt=Ut.translate([Ye-.205*Qe,Ar+.212*Qe]).clipExtent([[Ye-.214*Qe+s,Ar+.166*Qe+s],[Ye-.115*Qe-s,Ar+.234*Qe-s]]).stream(Oe),we()},ve.fitExtent=function(Ne,Qe){return po(ve,Ne,Qe)},ve.fitSize=function(Ne,Qe){return uo(ve,Ne,Qe)},ve.fitWidth=function(Ne,Qe){return Zo(ve,Ne,Qe)},ve.fitHeight=function(Ne,Qe){return Qa(ve,Ne,Qe)};function we(){return bt=jt=null,ve}return ve.scale(1070)}function js(bt){return function(jt,Jt){var re=p(jt),st=p(Jt),St=bt(re*st);return St===Infinity?[2,0]:[St*st*m(jt),St*m(Jt)]}}function Ws(bt){return function(jt,Jt){var re=b(jt*jt+Jt*Jt),st=bt(re),St=m(st),Ut=p(st);return[h(jt*St,re*Ut),T(re&&Jt*St/re)]}}var Nu=js(function(bt){return b(2/(1+bt))});Nu.invert=Ws(function(bt){return 2*T(bt/2)});function su(){return Ns(Nu).scale(124.75).clipAngle(180-.001)}var Pu=js(function(bt){return(bt=A(bt))&&bt/m(bt)});Pu.invert=Ws(function(bt){return bt});function vu(){return Ns(Pu).scale(79.4188).clipAngle(180-.001)}function Ss(bt,jt){return[bt,E(S((f+jt)/2))]}Ss.invert=function(bt,jt){return[bt,2*l(g(jt))-f]};function mu(){return Ou(Ss).scale(961/e)}function Ou(bt){var jt=Ns(bt),Jt=jt.center,re=jt.scale,st=jt.translate,St=jt.clipExtent,Ut=null,wt,Qt,Oe;jt.scale=function(we){return arguments.length?(re(we),ve()):re()},jt.translate=function(we){return arguments.length?(st(we),ve()):st()},jt.center=function(we){return arguments.length?(Jt(we),ve()):Jt()},jt.clipExtent=function(we){return arguments.length?(we==null?Ut=wt=Qt=Oe=null:(Ut=+we[0][0],wt=+we[0][1],Qt=+we[1][0],Oe=+we[1][1]),ve()):Ut==null?null:[[Ut,wt],[Qt,Oe]]};function ve(){var we=o*re(),Ne=jt(sr(jt.rotate()).invert([0,0]));return St(Ut==null?[[Ne[0]-we,Ne[1]-we],[Ne[0]+we,Ne[1]+we]]:bt===Ss?[[Math.max(Ne[0]-we,Ut),wt],[Math.min(Ne[0]+we,Qt),Oe]]:[[Ut,Math.max(Ne[1]-we,wt)],[Qt,Math.min(Ne[1]+we,Oe)]])}return ve()}function Gs(bt){return S((f+bt)/2)}function Ao(bt,jt){var Jt=p(bt),re=bt===jt?m(bt):E(Jt/p(jt))/E(Gs(jt)/Gs(bt)),st=Jt*C(Gs(bt),re)/re;if(!re)return Ss;function St(Ut,wt){st>0?wt<-f+s&&(wt=-f+s):wt>f-s&&(wt=f-s);var Qt=st/C(Gs(wt),re);return[Qt*m(re*Ut),st-Qt*p(re*Ut)]}return St.invert=function(Ut,wt){var Qt=st-wt,Oe=M(re)*b(Ut*Ut+Qt*Qt),ve=h(Ut,u(Qt))*M(Qt);return Qt*re<0&&(ve-=o*M(Ut)*M(Qt)),[ve/re,2*l(C(st/Oe,1/re))-f]},St}function cs(){return bu(Ao).scale(109.5).parallels([30,30])}function us(bt,jt){return[bt,jt]}us.invert=us;function lo(){return Ns(us).scale(152.63)}function _s(bt,jt){var Jt=p(bt),re=bt===jt?m(bt):(Jt-p(jt))/(jt-bt),st=Jt/re+bt;if(u(re)<s)return us;function St(Ut,wt){var Qt=st-wt,Oe=re*Ut;return[Qt*m(Oe),st-Qt*p(Oe)]}return St.invert=function(Ut,wt){var Qt=st-wt,Oe=h(Ut,u(Qt))*M(Qt);return Qt*re<0&&(Oe-=o*M(Ut)*M(Qt)),[Oe/re,st-M(re)*b(Ut*Ut+Qt*Qt)]},St}function jo(){return bu(_s).scale(131.154).center([0,13.9389])}var Wo=1.340264,Vs=-.081106,uu=893e-6,tu=.003796,Hs=b(3)/2,bs=12;function ps(bt,jt){var Jt=T(Hs*m(jt)),re=Jt*Jt,st=re*re*re;return[bt*p(Jt)/(Hs*(Wo+3*Vs*re+st*(7*uu+9*tu*re))),Jt*(Wo+Vs*re+st*(uu+tu*re))]}ps.invert=function(bt,jt){for(var Jt=jt,re=Jt*Jt,st=re*re*re,St=0,Ut,wt,Qt;St<bs&&(wt=Jt*(Wo+Vs*re+st*(uu+tu*re))-jt,Qt=Wo+3*Vs*re+st*(7*uu+9*tu*re),Jt-=Ut=wt/Qt,re=Jt*Jt,st=re*re*re,!(u(Ut)<v));++St);return[Hs*bt*(Wo+3*Vs*re+st*(7*uu+9*tu*re))/p(Jt),T(m(Jt)/Hs)]};function kt(){return Ns(ps).scale(177.158)}function Xt(bt,jt){var Jt=p(jt),re=p(bt)*Jt;return[Jt*m(bt)/re,m(jt)/re]}Xt.invert=Ws(l);function We(){return Ns(Xt).scale(144.049).clipAngle(60)}function Ie(){var bt=1,jt=0,Jt=0,re=1,st=1,St=0,Ut,wt,Qt=null,Oe,ve,we,Ne=1,Qe=1,Ye=Ba({point:function(Yr,Sn){var Nn=Fr([Yr,Sn]);this.stream.point(Nn[0],Nn[1])}}),Ar=ri,yr,Ur;function pr(){return Ne=bt*re,Qe=bt*st,yr=Ur=null,Fr}function Fr(Yr){var Sn=Yr[0]*Ne,Nn=Yr[1]*Qe;if(St){var hn=Nn*Ut-Sn*wt;Sn=Sn*Ut+Nn*wt,Nn=hn}return[Sn+jt,Nn+Jt]}return Fr.invert=function(Yr){var Sn=Yr[0]-jt,Nn=Yr[1]-Jt;if(St){var hn=Nn*Ut+Sn*wt;Sn=Sn*Ut-Nn*wt,Nn=hn}return[Sn/Ne,Nn/Qe]},Fr.stream=function(Yr){return yr&&Ur===Yr?yr:yr=Ye(Ar(Ur=Yr))},Fr.postclip=function(Yr){return arguments.length?(Ar=Yr,Qt=Oe=ve=we=null,pr()):Ar},Fr.clipExtent=function(Yr){return arguments.length?(Ar=Yr==null?(Qt=Oe=ve=we=null,ri):Ce(Qt=+Yr[0][0],Oe=+Yr[0][1],ve=+Yr[1][0],we=+Yr[1][1]),pr()):Qt==null?null:[[Qt,Oe],[ve,we]]},Fr.scale=function(Yr){return arguments.length?(bt=+Yr,pr()):bt},Fr.translate=function(Yr){return arguments.length?(jt=+Yr[0],Jt=+Yr[1],pr()):[jt,Jt]},Fr.angle=function(Yr){return arguments.length?(St=Yr%360*a,wt=m(St),Ut=p(St),pr()):St*n},Fr.reflectX=function(Yr){return arguments.length?(re=Yr?-1:1,pr()):re<0},Fr.reflectY=function(Yr){return arguments.length?(st=Yr?-1:1,pr()):st<0},Fr.fitExtent=function(Yr,Sn){return po(Fr,Yr,Sn)},Fr.fitSize=function(Yr,Sn){return uo(Fr,Yr,Sn)},Fr.fitWidth=function(Yr,Sn){return Zo(Fr,Yr,Sn)},Fr.fitHeight=function(Yr,Sn){return Qa(Fr,Yr,Sn)},Fr}function xr(bt,jt){var Jt=jt*jt,re=Jt*Jt;return[bt*(.8707-.131979*Jt+re*(-.013791+re*(.003971*Jt-.001529*re))),jt*(1.007226+Jt*(.015085+re*(-.044475+.028874*Jt-.005916*re)))]}xr.invert=function(bt,jt){var Jt=jt,re=25,st;do{var St=Jt*Jt,Ut=St*St;Jt-=st=(Jt*(1.007226+St*(.015085+Ut*(-.044475+.028874*St-.005916*Ut)))-jt)/(1.007226+St*(.015085*3+Ut*(-.044475*7+.028874*9*St-.005916*11*Ut)))}while(u(st)>s&&--re>0);return[bt/(.8707+(St=Jt*Jt)*(-.131979+St*(-.013791+St*St*St*(.003971-.001529*St)))),Jt]};function Zr(){return Ns(xr).scale(175.295)}function ln(bt,jt){return[p(jt)*m(bt),m(jt)]}ln.invert=Ws(T);function Mn(){return Ns(ln).scale(249.5).clipAngle(90+s)}function In(bt,jt){var Jt=p(jt),re=1+p(bt)*Jt;return[Jt*m(bt)/re,m(jt)/re]}In.invert=Ws(function(bt){return 2*l(bt)});function zn(){return Ns(In).scale(250).clipAngle(142)}function on(bt,jt){return[E(S((f+jt)/2)),-bt]}on.invert=function(bt,jt){return[-jt,2*l(g(bt))-f]};function wn(){var bt=Ou(on),jt=bt.center,Jt=bt.rotate;return bt.center=function(re){return arguments.length?jt([-re[1],re[0]]):(re=jt(),[re[1],-re[0]])},bt.rotate=function(re){return arguments.length?Jt([re[0],re[1],re.length>2?re[2]+90:90]):(re=Jt(),[re[0],re[1],re[2]-90])},Jt([0,0,90]).scale(159.155)}t.geoAlbers=Js,t.geoAlbersUsa=qs,t.geoArea=ft,t.geoAzimuthalEqualArea=su,t.geoAzimuthalEqualAreaRaw=Nu,t.geoAzimuthalEquidistant=vu,t.geoAzimuthalEquidistantRaw=Pu,t.geoBounds=rn,t.geoCentroid=Dr,t.geoCircle=pi,t.geoClipAntimeridian=Za,t.geoClipCircle=lr,t.geoClipExtent=Me,t.geoClipRectangle=Ce,t.geoConicConformal=cs,t.geoConicConformalRaw=Ao,t.geoConicEqualArea=ou,t.geoConicEqualAreaRaw=Bs,t.geoConicEquidistant=jo,t.geoConicEquidistantRaw=_s,t.geoContains=te,t.geoDistance=Va,t.geoEqualEarth=kt,t.geoEqualEarthRaw=ps,t.geoEquirectangular=lo,t.geoEquirectangularRaw=us,t.geoGnomonic=We,t.geoGnomonicRaw=Xt,t.geoGraticule=zr,t.geoGraticule10=Rt,t.geoIdentity=Ie,t.geoInterpolate=Ei,t.geoLength=to,t.geoMercator=mu,t.geoMercatorRaw=Ss,t.geoNaturalEarth1=Zr,t.geoNaturalEarth1Raw=xr,t.geoOrthographic=Mn,t.geoOrthographicRaw=ln,t.geoPath=ea,t.geoProjection=Ns,t.geoProjectionMutator=Fs,t.geoRotation=sr,t.geoStereographic=zn,t.geoStereographicRaw=In,t.geoStream=J,t.geoTransform=ha,t.geoTransverseMercator=wn,t.geoTransverseMercatorRaw=on,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-hexjson@1.1.1@d3-hexjson/build/d3-hexjson.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";function s(u,l,h){var p=u.layout,d=[],g=0;Object.keys(u.hexes).forEach(function(O){u.hexes[O].key=O,d.push(u.hexes[O])});var y=c.max(d,function(O){return+O.q}),E=c.min(d,function(O){return+O.q}),C=c.max(d,function(O){return+O.r}),m=c.min(d,function(O){return+O.r}),M=y-E+1,b=C-m+1;p==="odd-r"||p==="even-r"?g=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):g=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var S=g*Math.sqrt(3),A=f(p,S,g),T=r(A);return d.forEach(function(O){O.qc=O.q-E,O.rc=C-O.r,O.x=v(O,p,S,g),O.y=o(O,p,S,g),O.vertices=A,O.points=T}),d}function v(u,l,h,p){var d=0,g=0;switch(l){case"odd-r":g=u.rc%2==1?h:h/2,d=u.qc*h+g;break;case"even-r":g=u.rc%2==0?h:h/2,d=u.qc*h+g;break;case"odd-q":case"even-q":d=u.qc*p*1.5+p;break}return d}function o(u,l,h,p){var d=0,g=0;switch(l){case"odd-r":case"even-r":d=u.rc*p*1.5+p;break;case"odd-q":g=u.qc%2==1?h:h/2,d=u.rc*h+g;break;case"even-q":g=u.qc%2==0?h:h/2,d=u.rc*h+g;break}return d}function f(u,l,h){var p=[];switch(u){case"odd-r":case"even-r":p.push({x:0,y:0-h}),p.push({x:0+l*.5,y:0-.5*h}),p.push({x:0+l*.5,y:0+.5*h}),p.push({x:0,y:0+h}),p.push({x:0-l*.5,y:0+.5*h}),p.push({x:0-l*.5,y:0-.5*h});break;case"odd-q":case"even-q":p.push({x:0-h,y:0}),p.push({x:0-.5*h,y:0-l*.5}),p.push({x:0+.5*h,y:0-l*.5}),p.push({x:0+h,y:0}),p.push({x:0+.5*h,y:0+l*.5}),p.push({x:0-.5*h,y:0+l*.5});break}return p}function r(u){var l="";return u.forEach(function(h){l+=h.x+","+h.y+" "}),l.substring(0,l.length-1)}function e(u){var l={};l.layout=u.layout,l.hexes={};var h=[];Object.keys(u.hexes).forEach(function(M){h.push(u.hexes[M])});var p=c.max(h,function(M){return+M.q}),d=c.min(h,function(M){return+M.q}),g=c.max(h,function(M){return+M.r}),y=c.min(h,function(M){return+M.r}),E,C,m;for(E=d;E<=p;E++)for(C=y;C<=g;C++)m="Q"+E+"R"+C,l.hexes[m]={q:E,r:C};return l}function n(u,l,h,p){var d=[],g=u.layout;Object.keys(u.hexes).forEach(function(nt){d.push(u.hexes[nt])});var y=c.max(d,function(nt){return+nt.q}),E=c.min(d,function(nt){return+nt.q}),C=c.max(d,function(nt){return+nt.r}),m=c.min(d,function(nt){return+nt.r}),M=y-E+1,b=C-m+1,S;g==="odd-r"||g==="even-r"?S=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):S=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var A=S*Math.sqrt(3),T=[],O=S*S*4,D=d.length;if(D>1){d.forEach(function(nt){nt.qc=nt.q-E,nt.rc=C-nt.r,nt.x=v(nt,g,A,S),nt.y=o(nt,g,A,S)});for(var L=0;L<D-1;L++)for(var Z=L+1;Z<D;Z++){var U=d[L],Y=d[Z];if(U[p]!==Y[p]&&Math.abs(U.q-Y.q)<=1&&Math.abs(U.r-Y.r)<=1&&(U.x-Y.x)*(U.x-Y.x)+(U.y-Y.y)*(U.y-Y.y)<O){var W={};W.x=Y.x+(U.x-Y.x)/2,W.y=Y.y+(U.y-Y.y)/2;var J={},ht=Math.sqrt(3)*4;J.dx=(U.y-Y.y)/ht,J.dy=-(U.x-Y.x)/ht,T.push({x:W.x-2*J.dx,y:W.y-2*J.dy}),T.push({x:W.x-J.dx,y:W.y-J.dy}),T.push({x:W.x,y:W.y}),T.push({x:W.x+J.dx,y:W.y+J.dy}),T.push({x:W.x+2*J.dx,y:W.y+2*J.dy})}}}return T}function a(u,l,h,p){var d=[],g=u.layout;Object.keys(u.hexes).forEach(function(Q){d.push(u.hexes[Q])});var y=c.max(d,function(Q){return+Q.q}),E=c.min(d,function(Q){return+Q.q}),C=c.max(d,function(Q){return+Q.r}),m=c.min(d,function(Q){return+Q.r}),M=y-E+1,b=C-m+1,S;g==="odd-r"||g==="even-r"?S=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):S=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var A=S*Math.sqrt(3),T=[],O=S*S*4,D=d.length;if(D>1){d.forEach(function(Q){Q.qc=Q.q-E,Q.rc=C-Q.r,Q.x=v(Q,g,A,S),Q.y=o(Q,g,A,S)});for(var L=0;L<D-1;L++)for(var Z=L+1;Z<D;Z++){var U=d[L],Y=d[Z];if(U[p]!==Y[p]&&Math.abs(U.q-Y.q)<=1&&Math.abs(U.r-Y.r)<=1&&(U.x-Y.x)*(U.x-Y.x)+(U.y-Y.y)*(U.y-Y.y)<O){var W={};W.x=Y.x+(U.x-Y.x)/2,W.y=Y.y+(U.y-Y.y)/2;var J={},ht=1;U[p]<Y[p]&&(ht=-1);var nt=Math.sqrt(3)*2*ht;J.dx=(U.y-Y.y)/nt,J.dy=-(U.x-Y.x)/nt,T.push({x1:W.x-J.dx,y1:W.y-J.dy,x2:W.x+J.dx,y2:W.y+J.dy})}}}return T}t.renderHexJSON=s,t.getGridForHexJSON=e,t.getBoundaryDotsForHexJSON=n,t.getBoundarySegmentsForHexJSON=a,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";function c(Ae,De){return Ae.parent===De.parent?1:2}function s(Ae){return Ae.reduce(v,0)/Ae.length}function v(Ae,De){return Ae+De.x}function o(Ae){return 1+Ae.reduce(f,0)}function f(Ae,De){return Math.max(Ae,De.y)}function r(Ae){for(var De;De=Ae.children;)Ae=De[0];return Ae}function e(Ae){for(var De;De=Ae.children;)Ae=De[De.length-1];return Ae}function n(){var Ae=c,De=1,ar=1,Pr=!1;function or(wr){var cn,Fn=0;wr.eachAfter(function(Vr){var Ir=Vr.children;Ir?(Vr.x=s(Ir),Vr.y=o(Ir)):(Vr.x=cn?Fn+=Ae(Vr,cn):0,Vr.y=0,cn=Vr)});var nn=r(wr),Hr=e(wr),Gn=nn.x-Ae(nn,Hr)/2,$n=Hr.x+Ae(Hr,nn)/2;return wr.eachAfter(Pr?function(Vr){Vr.x=(Vr.x-wr.x)*De,Vr.y=(wr.y-Vr.y)*ar}:function(Vr){Vr.x=(Vr.x-Gn)/($n-Gn)*De,Vr.y=(1-(wr.y?Vr.y/wr.y:1))*ar})}return or.separation=function(wr){return arguments.length?(Ae=wr,or):Ae},or.size=function(wr){return arguments.length?(Pr=!1,De=+wr[0],ar=+wr[1],or):Pr?null:[De,ar]},or.nodeSize=function(wr){return arguments.length?(Pr=!0,De=+wr[0],ar=+wr[1],or):Pr?[De,ar]:null},or}function a(Ae){var De=0,ar=Ae.children,Pr=ar&&ar.length;if(!Pr)De=1;else for(;--Pr>=0;)De+=ar[Pr].value;Ae.value=De}function u(){return this.eachAfter(a)}function l(Ae){var De=this,ar,Pr=[De],or,wr,cn;do for(ar=Pr.reverse(),Pr=[];De=ar.pop();)if(Ae(De),or=De.children,or)for(wr=0,cn=or.length;wr<cn;++wr)Pr.push(or[wr]);while(Pr.length);return this}function h(Ae){for(var De=this,ar=[De],Pr,or;De=ar.pop();)if(Ae(De),Pr=De.children,Pr)for(or=Pr.length-1;or>=0;--or)ar.push(Pr[or]);return this}function p(Ae){for(var De=this,ar=[De],Pr=[],or,wr,cn;De=ar.pop();)if(Pr.push(De),or=De.children,or)for(wr=0,cn=or.length;wr<cn;++wr)ar.push(or[wr]);for(;De=Pr.pop();)Ae(De);return this}function d(Ae){return this.eachAfter(function(De){for(var ar=+Ae(De.data)||0,Pr=De.children,or=Pr&&Pr.length;--or>=0;)ar+=Pr[or].value;De.value=ar})}function g(Ae){return this.eachBefore(function(De){De.children&&De.children.sort(Ae)})}function y(Ae){for(var De=this,ar=E(De,Ae),Pr=[De];De!==ar;)De=De.parent,Pr.push(De);for(var or=Pr.length;Ae!==ar;)Pr.splice(or,0,Ae),Ae=Ae.parent;return Pr}function E(Ae,De){if(Ae===De)return Ae;var ar=Ae.ancestors(),Pr=De.ancestors(),or=null;for(Ae=ar.pop(),De=Pr.pop();Ae===De;)or=Ae,Ae=ar.pop(),De=Pr.pop();return or}function C(){for(var Ae=this,De=[Ae];Ae=Ae.parent;)De.push(Ae);return De}function m(){var Ae=[];return this.each(function(De){Ae.push(De)}),Ae}function M(){var Ae=[];return this.eachBefore(function(De){De.children||Ae.push(De)}),Ae}function b(){var Ae=this,De=[];return Ae.each(function(ar){ar!==Ae&&De.push({source:ar.parent,target:ar})}),De}function S(Ae,De){var ar=new L(Ae),Pr=+Ae.value&&(ar.value=Ae.value),or,wr=[ar],cn,Fn,nn,Hr;for(De==null&&(De=T);or=wr.pop();)if(Pr&&(or.value=+or.data.value),(Fn=De(or.data))&&(Hr=Fn.length))for(or.children=new Array(Hr),nn=Hr-1;nn>=0;--nn)wr.push(cn=or.children[nn]=new L(Fn[nn])),cn.parent=or,cn.depth=or.depth+1;return ar.eachBefore(D)}function A(){return S(this).eachBefore(O)}function T(Ae){return Ae.children}function O(Ae){Ae.data=Ae.data.data}function D(Ae){var De=0;do Ae.height=De;while((Ae=Ae.parent)&&Ae.height<++De)}function L(Ae){this.data=Ae,this.depth=this.height=0,this.parent=null}L.prototype=S.prototype={constructor:L,count:u,each:l,eachAfter:p,eachBefore:h,sum:d,sort:g,path:y,ancestors:C,descendants:m,leaves:M,links:b,copy:A};var Z=Array.prototype.slice;function U(Ae){for(var De=Ae.length,ar,Pr;De;)Pr=Math.random()*De--|0,ar=Ae[De],Ae[De]=Ae[Pr],Ae[Pr]=ar;return Ae}function Y(Ae){for(var De=0,ar=(Ae=U(Z.call(Ae))).length,Pr=[],or,wr;De<ar;)or=Ae[De],wr&&ht(wr,or)?++De:(wr=Q(Pr=W(Pr,or)),De=0);return wr}function W(Ae,De){var ar,Pr;if(nt(De,Ae))return[De];for(ar=0;ar<Ae.length;++ar)if(J(De,Ae[ar])&&nt(_t(Ae[ar],De),Ae))return[Ae[ar],De];for(ar=0;ar<Ae.length-1;++ar)for(Pr=ar+1;Pr<Ae.length;++Pr)if(J(_t(Ae[ar],Ae[Pr]),De)&&J(_t(Ae[ar],De),Ae[Pr])&&J(_t(Ae[Pr],De),Ae[ar])&&nt(Nt(Ae[ar],Ae[Pr],De),Ae))return[Ae[ar],Ae[Pr],De];throw new Error}function J(Ae,De){var ar=Ae.r-De.r,Pr=De.x-Ae.x,or=De.y-Ae.y;return ar<0||ar*ar<Pr*Pr+or*or}function ht(Ae,De){var ar=Ae.r-De.r+1e-6,Pr=De.x-Ae.x,or=De.y-Ae.y;return ar>0&&ar*ar>Pr*Pr+or*or}function nt(Ae,De){for(var ar=0;ar<De.length;++ar)if(!ht(Ae,De[ar]))return!1;return!0}function Q(Ae){switch(Ae.length){case 1:return xt(Ae[0]);case 2:return _t(Ae[0],Ae[1]);case 3:return Nt(Ae[0],Ae[1],Ae[2])}}function xt(Ae){return{x:Ae.x,y:Ae.y,r:Ae.r}}function _t(Ae,De){var ar=Ae.x,Pr=Ae.y,or=Ae.r,wr=De.x,cn=De.y,Fn=De.r,nn=wr-ar,Hr=cn-Pr,Gn=Fn-or,$n=Math.sqrt(nn*nn+Hr*Hr);return{x:(ar+wr+nn/$n*Gn)/2,y:(Pr+cn+Hr/$n*Gn)/2,r:($n+or+Fn)/2}}function Nt(Ae,De,ar){var Pr=Ae.x,or=Ae.y,wr=Ae.r,cn=De.x,Fn=De.y,nn=De.r,Hr=ar.x,Gn=ar.y,$n=ar.r,Vr=Pr-cn,Ir=Pr-Hr,ti=or-Fn,ge=or-Gn,Le=nn-wr,Se=$n-wr,Ve=Pr*Pr+or*or-wr*wr,le=Ve-cn*cn-Fn*Fn+nn*nn,vr=Ve-Hr*Hr-Gn*Gn+$n*$n,He=Ir*ti-Vr*ge,rr=(ti*vr-ge*le)/(He*2)-Pr,Dr=(ge*Le-ti*Se)/He,Mr=(Ir*le-Vr*vr)/(He*2)-or,an=(Vr*Se-Ir*Le)/He,gn=Dr*Dr+an*an-1,qr=2*(wr+rr*Dr+Mr*an),Dn=rr*rr+Mr*Mr-wr*wr,ae=-(gn?(qr+Math.sqrt(qr*qr-4*gn*Dn))/(2*gn):Dn/qr);return{x:Pr+rr+Dr*ae,y:or+Mr+an*ae,r:ae}}function rt(Ae,De,ar){var Pr=Ae.x-De.x,or,wr,cn=Ae.y-De.y,Fn,nn,Hr=Pr*Pr+cn*cn;Hr?(wr=De.r+ar.r,wr*=wr,nn=Ae.r+ar.r,nn*=nn,wr>nn?(or=(Hr+nn-wr)/(2*Hr),Fn=Math.sqrt(Math.max(0,nn/Hr-or*or)),ar.x=Ae.x-or*Pr-Fn*cn,ar.y=Ae.y-or*cn+Fn*Pr):(or=(Hr+wr-nn)/(2*Hr),Fn=Math.sqrt(Math.max(0,wr/Hr-or*or)),ar.x=De.x+or*Pr-Fn*cn,ar.y=De.y+or*cn+Fn*Pr)):(ar.x=De.x+ar.r,ar.y=De.y)}function q(Ae,De){var ar=Ae.r+De.r-1e-6,Pr=De.x-Ae.x,or=De.y-Ae.y;return ar>0&&ar*ar>Pr*Pr+or*or}function G(Ae){var De=Ae._,ar=Ae.next._,Pr=De.r+ar.r,or=(De.x*ar.r+ar.x*De.r)/Pr,wr=(De.y*ar.r+ar.y*De.r)/Pr;return or*or+wr*wr}function N(Ae){this._=Ae,this.next=null,this.previous=null}function at(Ae){if(!(or=Ae.length))return 0;var De,ar,Pr,or,wr,cn,Fn,nn,Hr,Gn,$n;if(De=Ae[0],De.x=0,De.y=0,!(or>1))return De.r;if(ar=Ae[1],De.x=-ar.r,ar.x=De.r,ar.y=0,!(or>2))return De.r+ar.r;rt(ar,De,Pr=Ae[2]),De=new N(De),ar=new N(ar),Pr=new N(Pr),De.next=Pr.previous=ar,ar.next=De.previous=Pr,Pr.next=ar.previous=De;t:for(Fn=3;Fn<or;++Fn){rt(De._,ar._,Pr=Ae[Fn]),Pr=new N(Pr),nn=ar.next,Hr=De.previous,Gn=ar._.r,$n=De._.r;do if(Gn<=$n){if(q(nn._,Pr._)){ar=nn,De.next=ar,ar.previous=De,--Fn;continue t}Gn+=nn._.r,nn=nn.next}else{if(q(Hr._,Pr._)){De=Hr,De.next=ar,ar.previous=De,--Fn;continue t}$n+=Hr._.r,Hr=Hr.previous}while(nn!==Hr.next);for(Pr.previous=De,Pr.next=ar,De.next=ar.previous=ar=Pr,wr=G(De);(Pr=Pr.next)!==ar;)(cn=G(Pr))<wr&&(De=Pr,wr=cn);ar=De.next}for(De=[ar._],Pr=ar;(Pr=Pr.next)!==ar;)De.push(Pr._);for(Pr=Y(De),Fn=0;Fn<or;++Fn)De=Ae[Fn],De.x-=Pr.x,De.y-=Pr.y;return Pr.r}function H(Ae){return at(Ae),Ae}function ft(Ae){return Ae==null?null:ct(Ae)}function ct(Ae){if(typeof Ae!="function")throw new Error;return Ae}function K(){return 0}function $(Ae){return function(){return Ae}}function et(Ae){return Math.sqrt(Ae.value)}function B(){var Ae=null,De=1,ar=1,Pr=K;function or(wr){return wr.x=De/2,wr.y=ar/2,Ae?wr.eachBefore(w(Ae)).eachAfter(R(Pr,.5)).eachBefore(V(1)):wr.eachBefore(w(et)).eachAfter(R(K,1)).eachAfter(R(Pr,wr.r/Math.min(De,ar))).eachBefore(V(Math.min(De,ar)/(2*wr.r))),wr}return or.radius=function(wr){return arguments.length?(Ae=ft(wr),or):Ae},or.size=function(wr){return arguments.length?(De=+wr[0],ar=+wr[1],or):[De,ar]},or.padding=function(wr){return arguments.length?(Pr=typeof wr=="function"?wr:$(+wr),or):Pr},or}function w(Ae){return function(De){De.children||(De.r=Math.max(0,+Ae(De)||0))}}function R(Ae,De){return function(ar){if(Pr=ar.children){var Pr,or,wr=Pr.length,cn=Ae(ar)*De||0,Fn;if(cn)for(or=0;or<wr;++or)Pr[or].r+=cn;if(Fn=at(Pr),cn)for(or=0;or<wr;++or)Pr[or].r-=cn;ar.r=Fn+cn}}}function V(Ae){return function(De){var ar=De.parent;De.r*=Ae,ar&&(De.x=ar.x+Ae*De.x,De.y=ar.y+Ae*De.y)}}function tt(Ae){Ae.x0=Math.round(Ae.x0),Ae.y0=Math.round(Ae.y0),Ae.x1=Math.round(Ae.x1),Ae.y1=Math.round(Ae.y1)}function lt(Ae,De,ar,Pr,or){for(var wr=Ae.children,cn,Fn=-1,nn=wr.length,Hr=Ae.value&&(Pr-De)/Ae.value;++Fn<nn;)cn=wr[Fn],cn.y0=ar,cn.y1=or,cn.x0=De,cn.x1=De+=cn.value*Hr}function Et(){var Ae=1,De=1,ar=0,Pr=!1;function or(cn){var Fn=cn.height+1;return cn.x0=cn.y0=ar,cn.x1=Ae,cn.y1=De/Fn,cn.eachBefore(wr(De,Fn)),Pr&&cn.eachBefore(tt),cn}function wr(cn,Fn){return function(nn){nn.children&&lt(nn,nn.x0,cn*(nn.depth+1)/Fn,nn.x1,cn*(nn.depth+2)/Fn);var Hr=nn.x0,Gn=nn.y0,$n=nn.x1-ar,Vr=nn.y1-ar;$n<Hr&&(Hr=$n=(Hr+$n)/2),Vr<Gn&&(Gn=Vr=(Gn+Vr)/2),nn.x0=Hr,nn.y0=Gn,nn.x1=$n,nn.y1=Vr}}return or.round=function(cn){return arguments.length?(Pr=!!cn,or):Pr},or.size=function(cn){return arguments.length?(Ae=+cn[0],De=+cn[1],or):[Ae,De]},or.padding=function(cn){return arguments.length?(ar=+cn,or):ar},or}var ot="$",Mt={depth:-1},Ot={};function Ft(Ae){return Ae.id}function zt(Ae){return Ae.parentId}function $t(){var Ae=Ft,De=zt;function ar(Pr){var or,wr,cn=Pr.length,Fn,nn,Hr,Gn=new Array(cn),$n,Vr,Ir={};for(wr=0;wr<cn;++wr)or=Pr[wr],Hr=Gn[wr]=new L(or),($n=Ae(or,wr,Pr))!=null&&($n+="")&&(Vr=ot+(Hr.id=$n),Ir[Vr]=Vr in Ir?Ot:Hr);for(wr=0;wr<cn;++wr)if(Hr=Gn[wr],$n=De(Pr[wr],wr,Pr),$n==null||!($n+="")){if(Fn)throw new Error("multiple roots");Fn=Hr}else{if(nn=Ir[ot+$n],!nn)throw new Error("missing: "+$n);if(nn===Ot)throw new Error("ambiguous: "+$n);nn.children?nn.children.push(Hr):nn.children=[Hr],Hr.parent=nn}if(!Fn)throw new Error("no root");if(Fn.parent=Mt,Fn.eachBefore(function(ti){ti.depth=ti.parent.depth+1,--cn}).eachBefore(D),Fn.parent=null,cn>0)throw new Error("cycle");return Fn}return ar.id=function(Pr){return arguments.length?(Ae=ct(Pr),ar):Ae},ar.parentId=function(Pr){return arguments.length?(De=ct(Pr),ar):De},ar}function ce(Ae,De){return Ae.parent===De.parent?1:2}function ye(Ae){var De=Ae.children;return De?De[0]:Ae.t}function Je(Ae){var De=Ae.children;return De?De[De.length-1]:Ae.t}function nr(Ae,De,ar){var Pr=ar/(De.i-Ae.i);De.c-=Pr,De.s+=ar,Ae.c+=Pr,De.z+=ar,De.m+=ar}function Xe(Ae){for(var De=0,ar=0,Pr=Ae.children,or=Pr.length,wr;--or>=0;)wr=Pr[or],wr.z+=De,wr.m+=De,De+=wr.s+(ar+=wr.c)}function mr(Ae,De,ar){return Ae.a.parent===De.parent?Ae.a:ar}function Gr(Ae,De){this._=Ae,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=De}Gr.prototype=Object.create(L.prototype);function xe(Ae){for(var De=new Gr(Ae,0),ar,Pr=[De],or,wr,cn,Fn;ar=Pr.pop();)if(wr=ar._.children)for(ar.children=new Array(Fn=wr.length),cn=Fn-1;cn>=0;--cn)Pr.push(or=ar.children[cn]=new Gr(wr[cn],cn)),or.parent=ar;return(De.parent=new Gr(null,0)).children=[De],De}function de(){var Ae=ce,De=1,ar=1,Pr=null;function or(Hr){var Gn=xe(Hr);if(Gn.eachAfter(wr),Gn.parent.m=-Gn.z,Gn.eachBefore(cn),Pr)Hr.eachBefore(nn);else{var $n=Hr,Vr=Hr,Ir=Hr;Hr.eachBefore(function(Ve){Ve.x<$n.x&&($n=Ve),Ve.x>Vr.x&&(Vr=Ve),Ve.depth>Ir.depth&&(Ir=Ve)});var ti=$n===Vr?1:Ae($n,Vr)/2,ge=ti-$n.x,Le=De/(Vr.x+ti+ge),Se=ar/(Ir.depth||1);Hr.eachBefore(function(Ve){Ve.x=(Ve.x+ge)*Le,Ve.y=Ve.depth*Se})}return Hr}function wr(Hr){var Gn=Hr.children,$n=Hr.parent.children,Vr=Hr.i?$n[Hr.i-1]:null;if(Gn){Xe(Hr);var Ir=(Gn[0].z+Gn[Gn.length-1].z)/2;Vr?(Hr.z=Vr.z+Ae(Hr._,Vr._),Hr.m=Hr.z-Ir):Hr.z=Ir}else Vr&&(Hr.z=Vr.z+Ae(Hr._,Vr._));Hr.parent.A=Fn(Hr,Vr,Hr.parent.A||$n[0])}function cn(Hr){Hr._.x=Hr.z+Hr.parent.m,Hr.m+=Hr.parent.m}function Fn(Hr,Gn,$n){if(Gn){for(var Vr=Hr,Ir=Hr,ti=Gn,ge=Vr.parent.children[0],Le=Vr.m,Se=Ir.m,Ve=ti.m,le=ge.m,vr;ti=Je(ti),Vr=ye(Vr),ti&&Vr;)ge=ye(ge),Ir=Je(Ir),Ir.a=Hr,vr=ti.z+Ve-Vr.z-Le+Ae(ti._,Vr._),vr>0&&(nr(mr(ti,Hr,$n),Hr,vr),Le+=vr,Se+=vr),Ve+=ti.m,Le+=Vr.m,le+=ge.m,Se+=Ir.m;ti&&!Je(Ir)&&(Ir.t=ti,Ir.m+=Ve-Se),Vr&&!ye(ge)&&(ge.t=Vr,ge.m+=Le-le,$n=Hr)}return $n}function nn(Hr){Hr.x*=De,Hr.y=Hr.depth*ar}return or.separation=function(Hr){return arguments.length?(Ae=Hr,or):Ae},or.size=function(Hr){return arguments.length?(Pr=!1,De=+Hr[0],ar=+Hr[1],or):Pr?null:[De,ar]},or.nodeSize=function(Hr){return arguments.length?(Pr=!0,De=+Hr[0],ar=+Hr[1],or):Pr?[De,ar]:null},or}function ze(Ae,De,ar,Pr,or){for(var wr=Ae.children,cn,Fn=-1,nn=wr.length,Hr=Ae.value&&(or-ar)/Ae.value;++Fn<nn;)cn=wr[Fn],cn.x0=De,cn.x1=Pr,cn.y0=ar,cn.y1=ar+=cn.value*Hr}var Ue=(1+Math.sqrt(5))/2;function Kr(Ae,De,ar,Pr,or,wr){for(var cn=[],Fn=De.children,nn,Hr,Gn=0,$n=0,Vr=Fn.length,Ir,ti,ge=De.value,Le,Se,Ve,le,vr,He,rr;Gn<Vr;){Ir=or-ar,ti=wr-Pr;do Le=Fn[$n++].value;while(!Le&&$n<Vr);for(Se=Ve=Le,He=Math.max(ti/Ir,Ir/ti)/(ge*Ae),rr=Le*Le*He,vr=Math.max(Ve/rr,rr/Se);$n<Vr;++$n){if(Le+=Hr=Fn[$n].value,Hr<Se&&(Se=Hr),Hr>Ve&&(Ve=Hr),rr=Le*Le*He,le=Math.max(Ve/rr,rr/Se),le>vr){Le-=Hr;break}vr=le}cn.push(nn={value:Le,dice:Ir<ti,children:Fn.slice(Gn,$n)}),nn.dice?lt(nn,ar,Pr,or,ge?Pr+=ti*Le/ge:wr):ze(nn,ar,Pr,ge?ar+=Ir*Le/ge:or,wr),ge-=Le,Gn=$n}return cn}var rn=function Ae(De){function ar(Pr,or,wr,cn,Fn){Kr(De,Pr,or,wr,cn,Fn)}return ar.ratio=function(Pr){return Ae((Pr=+Pr)>1?Pr:1)},ar}(Ue);function ci(){var Ae=rn,De=!1,ar=1,Pr=1,or=[0],wr=K,cn=K,Fn=K,nn=K,Hr=K;function Gn(Vr){return Vr.x0=Vr.y0=0,Vr.x1=ar,Vr.y1=Pr,Vr.eachBefore($n),or=[0],De&&Vr.eachBefore(tt),Vr}function $n(Vr){var Ir=or[Vr.depth],ti=Vr.x0+Ir,ge=Vr.y0+Ir,Le=Vr.x1-Ir,Se=Vr.y1-Ir;Le<ti&&(ti=Le=(ti+Le)/2),Se<ge&&(ge=Se=(ge+Se)/2),Vr.x0=ti,Vr.y0=ge,Vr.x1=Le,Vr.y1=Se,Vr.children&&(Ir=or[Vr.depth+1]=wr(Vr)/2,ti+=Hr(Vr)-Ir,ge+=cn(Vr)-Ir,Le-=Fn(Vr)-Ir,Se-=nn(Vr)-Ir,Le<ti&&(ti=Le=(ti+Le)/2),Se<ge&&(ge=Se=(ge+Se)/2),Ae(Vr,ti,ge,Le,Se))}return Gn.round=function(Vr){return arguments.length?(De=!!Vr,Gn):De},Gn.size=function(Vr){return arguments.length?(ar=+Vr[0],Pr=+Vr[1],Gn):[ar,Pr]},Gn.tile=function(Vr){return arguments.length?(Ae=ct(Vr),Gn):Ae},Gn.padding=function(Vr){return arguments.length?Gn.paddingInner(Vr).paddingOuter(Vr):Gn.paddingInner()},Gn.paddingInner=function(Vr){return arguments.length?(wr=typeof Vr=="function"?Vr:$(+Vr),Gn):wr},Gn.paddingOuter=function(Vr){return arguments.length?Gn.paddingTop(Vr).paddingRight(Vr).paddingBottom(Vr).paddingLeft(Vr):Gn.paddingTop()},Gn.paddingTop=function(Vr){return arguments.length?(cn=typeof Vr=="function"?Vr:$(+Vr),Gn):cn},Gn.paddingRight=function(Vr){return arguments.length?(Fn=typeof Vr=="function"?Vr:$(+Vr),Gn):Fn},Gn.paddingBottom=function(Vr){return arguments.length?(nn=typeof Vr=="function"?Vr:$(+Vr),Gn):nn},Gn.paddingLeft=function(Vr){return arguments.length?(Hr=typeof Vr=="function"?Vr:$(+Vr),Gn):Hr},Gn}function Zi(Ae,De,ar,Pr,or){var wr=Ae.children,cn,Fn=wr.length,nn,Hr=new Array(Fn+1);for(Hr[0]=nn=cn=0;cn<Fn;++cn)Hr[cn+1]=nn+=wr[cn].value;Gn(0,Fn,Ae.value,De,ar,Pr,or);function Gn($n,Vr,Ir,ti,ge,Le,Se){if($n>=Vr-1){var Ve=wr[$n];Ve.x0=ti,Ve.y0=ge,Ve.x1=Le,Ve.y1=Se;return}for(var le=Hr[$n],vr=Ir/2+le,He=$n+1,rr=Vr-1;He<rr;){var Dr=He+rr>>>1;Hr[Dr]<vr?He=Dr+1:rr=Dr}vr-Hr[He-1]<Hr[He]-vr&&$n+1<He&&--He;var Mr=Hr[He]-le,an=Ir-Mr;if(Le-ti>Se-ge){var gn=(ti*an+Le*Mr)/Ir;Gn($n,He,Mr,ti,ge,gn,Se),Gn(He,Vr,an,gn,ge,Le,Se)}else{var qr=(ge*an+Se*Mr)/Ir;Gn($n,He,Mr,ti,ge,Le,qr),Gn(He,Vr,an,ti,qr,Le,Se)}}}function Ki(Ae,De,ar,Pr,or){(Ae.depth&1?ze:lt)(Ae,De,ar,Pr,or)}var ji=function Ae(De){function ar(Pr,or,wr,cn,Fn){if((nn=Pr._squarify)&&nn.ratio===De)for(var nn,Hr,Gn,$n,Vr=-1,Ir,ti=nn.length,ge=Pr.value;++Vr<ti;){for(Hr=nn[Vr],Gn=Hr.children,$n=Hr.value=0,Ir=Gn.length;$n<Ir;++$n)Hr.value+=Gn[$n].value;Hr.dice?lt(Hr,or,wr,cn,wr+=(Fn-wr)*Hr.value/ge):ze(Hr,or,wr,or+=(cn-or)*Hr.value/ge,Fn),ge-=Hr.value}else Pr._squarify=nn=Kr(De,Pr,or,wr,cn,Fn),nn.ratio=De}return ar.ratio=function(Pr){return Ae((Pr=+Pr)>1?Pr:1)},ar}(Ue);t.cluster=n,t.hierarchy=S,t.pack=B,t.packEnclose=Y,t.packSiblings=H,t.partition=Et,t.stratify=$t,t.tree=de,t.treemap=ci,t.treemapBinary=Zi,t.treemapDice=lt,t.treemapResquarify=ji,t.treemapSlice=ze,t.treemapSliceDice=Ki,t.treemapSquarify=rn,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";var c=Math.PI,s=2*c,v=1e-6,o=s-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function r(){return new f}f.prototype=r.prototype={constructor:f,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,a,u){this._+="Q"+ +e+","+ +n+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(e,n,a,u,l,h){this._+="C"+ +e+","+ +n+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+h)},arcTo:function(e,n,a,u,l){e=+e,n=+n,a=+a,u=+u,l=+l;var h=this._x1,p=this._y1,d=a-e,g=u-n,y=h-e,E=p-n,C=y*y+E*E;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(C>v)if(!(Math.abs(E*d-g*y)>v)||!l)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var m=a-h,M=u-p,b=d*d+g*g,S=m*m+M*M,A=Math.sqrt(b),T=Math.sqrt(C),O=l*Math.tan((c-Math.acos((b+C-S)/(2*A*T)))/2),D=O/T,L=O/A;Math.abs(D-1)>v&&(this._+="L"+(e+D*y)+","+(n+D*E)),this._+="A"+l+","+l+",0,0,"+ +(E*m>y*M)+","+(this._x1=e+L*d)+","+(this._y1=n+L*g)}},arc:function(e,n,a,u,l,h){e=+e,n=+n,a=+a,h=!!h;var p=a*Math.cos(u),d=a*Math.sin(u),g=e+p,y=n+d,E=1^h,C=h?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+g+","+y:(Math.abs(this._x1-g)>v||Math.abs(this._y1-y)>v)&&(this._+="L"+g+","+y),!!a&&(C<0&&(C=C%s+s),C>o?this._+="A"+a+","+a+",0,1,"+E+","+(e-p)+","+(n-d)+"A"+a+","+a+",0,1,"+E+","+(this._x1=g)+","+(this._y1=y):C>v&&(this._+="A"+a+","+a+",0,"+ +(C>=c)+","+E+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=n+a*Math.sin(l))))},rect:function(e,n,a,u){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},t.path=r,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-path@2.0.0@d3-path/dist/d3-path.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";var c=Math.PI,s=2*c,v=1e-6,o=s-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function r(){return new f}f.prototype=r.prototype={constructor:f,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,a,u){this._+="Q"+ +e+","+ +n+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(e,n,a,u,l,h){this._+="C"+ +e+","+ +n+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+h)},arcTo:function(e,n,a,u,l){e=+e,n=+n,a=+a,u=+u,l=+l;var h=this._x1,p=this._y1,d=a-e,g=u-n,y=h-e,E=p-n,C=y*y+E*E;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(C>v)if(!(Math.abs(E*d-g*y)>v)||!l)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var m=a-h,M=u-p,b=d*d+g*g,S=m*m+M*M,A=Math.sqrt(b),T=Math.sqrt(C),O=l*Math.tan((c-Math.acos((b+C-S)/(2*A*T)))/2),D=O/T,L=O/A;Math.abs(D-1)>v&&(this._+="L"+(e+D*y)+","+(n+D*E)),this._+="A"+l+","+l+",0,0,"+ +(E*m>y*M)+","+(this._x1=e+L*d)+","+(this._y1=n+L*g)}},arc:function(e,n,a,u,l,h){e=+e,n=+n,a=+a,h=!!h;var p=a*Math.cos(u),d=a*Math.sin(u),g=e+p,y=n+d,E=1^h,C=h?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+g+","+y:(Math.abs(this._x1-g)>v||Math.abs(this._y1-y)>v)&&(this._+="L"+g+","+y),!!a&&(C<0&&(C=C%s+s),C>o?this._+="A"+a+","+a+",0,1,"+E+","+(e-p)+","+(n-d)+"A"+a+","+a+",0,1,"+E+","+(this._x1=g)+","+(this._y1=y):C>v&&(this._+="A"+a+","+a+",0,"+ +(C>=c)+","+E+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=n+a*Math.sin(l))))},rect:function(e,n,a,u){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},t.path=r,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js":function(P,x,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(x,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"),i("./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js"),i("./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js"))})(this,function(c,s,v,o){"use strict";function f(A){return A.target.depth}function r(A){return A.depth}function e(A,T){return T-1-A.height}function n(A,T){return A.sourceLinks.length?A.depth:T-1}function a(A){return A.targetLinks.length?A.depth:A.sourceLinks.length?s.min(A.sourceLinks,f)-1:0}function u(A){return function(){return A}}function l(A,T){return p(A.source,T.source)||A.index-T.index}function h(A,T){return p(A.target,T.target)||A.index-T.index}function p(A,T){return A.y0-T.y0}function d(A){return A.value}function g(A){return A.index}function y(A){return A.nodes}function E(A){return A.links}function C(A,T){var O=A.get(T);if(!O)throw new Error("missing: "+T);return O}function m(){var A=0,T=0,O=1,D=1,L=24,Z=8,U=g,Y=n,W,J=y,ht=E,nt=6;function Q(){var G={nodes:J.apply(null,arguments),links:ht.apply(null,arguments)};return xt(G),_t(G),Nt(G),rt(G),q(G),G}Q.update=function(G){return q(G),G},Q.nodeId=function(G){return arguments.length?(U=typeof G=="function"?G:u(G),Q):U},Q.nodeAlign=function(G){return arguments.length?(Y=typeof G=="function"?G:u(G),Q):Y},Q.nodeSort=function(G){return arguments.length?(W=G,Q):W},Q.nodeWidth=function(G){return arguments.length?(L=+G,Q):L},Q.nodePadding=function(G){return arguments.length?(Z=+G,Q):Z},Q.nodes=function(G){return arguments.length?(J=typeof G=="function"?G:u(G),Q):J},Q.links=function(G){return arguments.length?(ht=typeof G=="function"?G:u(G),Q):ht},Q.size=function(G){return arguments.length?(A=T=0,O=+G[0],D=+G[1],Q):[O-A,D-T]},Q.extent=function(G){return arguments.length?(A=+G[0][0],O=+G[1][0],T=+G[0][1],D=+G[1][1],Q):[[A,T],[O,D]]},Q.iterations=function(G){return arguments.length?(nt=+G,Q):nt};function xt(G){G.nodes.forEach(function(at,H){at.index=H,at.sourceLinks=[],at.targetLinks=[]});var N=v.map(G.nodes,U);G.links.forEach(function(at,H){at.index=H;var ft=at.source,ct=at.target;typeof ft!="object"&&(ft=at.source=C(N,ft)),typeof ct!="object"&&(ct=at.target=C(N,ct)),ft.sourceLinks.push(at),ct.targetLinks.push(at)})}function _t(G){G.nodes.forEach(function(N){N.value=Math.max(s.sum(N.sourceLinks,d),s.sum(N.targetLinks,d))})}function Nt(G){var N,at,H,ft=G.nodes.length;for(N=G.nodes,at=[],H=0;N.length;++H,N=at,at=[]){if(H>ft)throw new Error("circular link");N.forEach(function(K){K.depth=H,K.sourceLinks.forEach(function($){at.indexOf($.target)<0&&at.push($.target)})})}for(N=G.nodes,at=[],H=0;N.length;++H,N=at,at=[]){if(H>ft)throw new Error("circular link");N.forEach(function(K){K.height=H,K.targetLinks.forEach(function($){at.indexOf($.source)<0&&at.push($.source)})})}var ct=(O-A-L)/(H-1);G.nodes.forEach(function(K){K.x1=(K.x0=A+Math.max(0,Math.min(H-1,Math.floor(Y.call(null,K,H))))*ct)+L})}function rt(G){var N=v.nest().key(function(et){return et.x0}).sortKeys(s.ascending).entries(G.nodes).map(function(et){return et.values});ft(),$();for(var at=.9,H=nt;H>0;--H,at*=.9)K(at),$(),ct(at),$();function ft(){var et=s.min(N,function(B){return(D-T-(B.length-1)*Z)/s.sum(B,d)});N.forEach(function(B){W!=null&&B.sort(W),B.forEach(function(w,R){w.y1=(w.y0=R)+w.value*et})}),G.links.forEach(function(B){B.width=B.value*et})}function ct(et){N.forEach(function(B){B.forEach(function(w){var R,V,tt,lt,Et=w.y0;try{for(var ot=t.__values(w.sourceLinks.sort(h)),Mt=ot.next();!Mt.done;Mt=ot.next()){var Ot=Mt.value,Ft=Ot.target,zt=Ot.width,$t=Ot.value;if($t>0){var ce=0;try{for(var ye=(tt=void 0,t.__values(Ft.targetLinks)),Je=ye.next();!Je.done;Je=ye.next()){var nr=Je.value,Xe=nr.source,mr=nr.width;if(Xe===w)break;ce+=mr+Z/2}}catch(Gr){tt={error:Gr}}finally{try{Je&&!Je.done&&(lt=ye.return)&&lt.call(ye)}finally{if(tt)throw tt.error}}ce=(Et-ce-Ft.y0)*et*($t/Math.min(w.value,Ft.value)),Ft.y0+=ce,Ft.y1+=ce}Et+=zt+Z/2}}catch(Gr){R={error:Gr}}finally{try{Mt&&!Mt.done&&(V=ot.return)&&V.call(ot)}finally{if(R)throw R.error}}})})}function K(et){N.slice().reverse().forEach(function(B){B.forEach(function(w){var R,V,tt,lt,Et=w.y0;try{for(var ot=t.__values(w.targetLinks.sort(l)),Mt=ot.next();!Mt.done;Mt=ot.next()){var Ot=Mt.value,Ft=Ot.source,zt=Ot.width,$t=Ot.value;if($t>0){var ce=0;try{for(var ye=(tt=void 0,t.__values(Ft.sourceLinks)),Je=ye.next();!Je.done;Je=ye.next()){var nr=Je.value,Xe=nr.target,mr=nr.width;if(Xe===w)break;ce+=mr+Z/2}}catch(Gr){tt={error:Gr}}finally{try{Je&&!Je.done&&(lt=ye.return)&&lt.call(ye)}finally{if(tt)throw tt.error}}ce=(Et-ce-Ft.y0)*et*($t/Math.min(w.value,Ft.value)),Ft.y0+=ce,Ft.y1+=ce}Et+=zt+Z/2}}catch(Gr){R={error:Gr}}finally{try{Mt&&!Mt.done&&(V=ot.return)&&V.call(ot)}finally{if(R)throw R.error}}})})}function $(){N.forEach(function(et){var B,w,R=T,V=et.length,tt;for(W===void 0&&et.sort(p),tt=0;tt<V;++tt)B=et[tt],w=R-B.y0,w>0&&(B.y0+=w,B.y1+=w),R=B.y1+Z;if(w=R-Z-D,w>0)for(R=B.y0-=w,B.y1-=w,tt=V-2;tt>=0;--tt)B=et[tt],w=B.y1+Z-R,w>0&&(B.y0-=w,B.y1-=w),R=B.y0})}}function q(G){G.nodes.forEach(function(N){N.sourceLinks.sort(h),N.targetLinks.sort(l)}),G.nodes.forEach(function(N){var at=N.y0,H=at;N.sourceLinks.forEach(function(ft){ft.y0=at+ft.width/2,at+=ft.width}),N.targetLinks.forEach(function(ft){ft.y1=H+ft.width/2,H+=ft.width})})}return Q}function M(A){return[A.source.x1,A.y0]}function b(A){return[A.target.x0,A.y1]}function S(){return o.linkHorizontal().source(M).target(b)}c.sankey=m,c.sankeyCenter=a,c.sankeyLeft=r,c.sankeyRight=e,c.sankeyJustify=n,c.sankeyLinkHorizontal=S,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js":function(P,x,i){(function(t,c){c(x,i("./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js"))})(this,function(t,c){"use strict";function s(Zt){return function(){return Zt}}var v=Math.abs,o=Math.atan2,f=Math.cos,r=Math.max,e=Math.min,n=Math.sin,a=Math.sqrt,u=1e-12,l=Math.PI,h=l/2,p=2*l;function d(Zt){return Zt>1?0:Zt<-1?l:Math.acos(Zt)}function g(Zt){return Zt>=1?h:Zt<=-1?-h:Math.asin(Zt)}function y(Zt){return Zt.innerRadius}function E(Zt){return Zt.outerRadius}function C(Zt){return Zt.startAngle}function m(Zt){return Zt.endAngle}function M(Zt){return Zt&&Zt.padAngle}function b(Zt,je,lr,Br,Vt,ee,Ce,Me){var Sr=lr-Zt,pn=Br-je,En=Ce-Vt,fi=Me-ee,Ci=fi*Sr-En*pn;if(!(Ci*Ci<u))return Ci=(En*(je-ee)-fi*(Zt-Vt))/Ci,[Zt+Ci*Sr,je+Ci*pn]}function S(Zt,je,lr,Br,Vt,ee,Ce){var Me=Zt-lr,Sr=je-Br,pn=(Ce?ee:-ee)/a(Me*Me+Sr*Sr),En=pn*Sr,fi=-pn*Me,Ci=Zt+En,aa=je+fi,ta=lr+En,Ea=Br+fi,ca=(Ci+ta)/2,to=(aa+Ea)/2,za=ta-Ci,Ia=Ea-aa,Va=za*za+Ia*Ia,ro=Vt-ee,Ee=Ci*Ea-ta*aa,be=(Ia<0?-1:1)*a(r(0,ro*ro*Va-Ee*Ee)),pe=(Ee*Ia-za*be)/Va,vt=(-Ee*za-Ia*be)/Va,gt=(Ee*Ia+za*be)/Va,dt=(-Ee*za+Ia*be)/Va,Dt=pe-ca,te=vt-to,Ge=gt-ca,cr=dt-to;return Dt*Dt+te*te>Ge*Ge+cr*cr&&(pe=gt,vt=dt),{cx:pe,cy:vt,x01:-En,y01:-fi,x11:pe*(Vt/ro-1),y11:vt*(Vt/ro-1)}}function A(){var Zt=y,je=E,lr=s(0),Br=null,Vt=C,ee=m,Ce=M,Me=null;function Sr(){var pn,En,fi=+Zt.apply(this,arguments),Ci=+je.apply(this,arguments),aa=Vt.apply(this,arguments)-h,ta=ee.apply(this,arguments)-h,Ea=v(ta-aa),ca=ta>aa;if(Me||(Me=pn=c.path()),Ci<fi&&(En=Ci,Ci=fi,fi=En),!(Ci>u))Me.moveTo(0,0);else if(Ea>p-u)Me.moveTo(Ci*f(aa),Ci*n(aa)),Me.arc(0,0,Ci,aa,ta,!ca),fi>u&&(Me.moveTo(fi*f(ta),fi*n(ta)),Me.arc(0,0,fi,ta,aa,ca));else{var to=aa,za=ta,Ia=aa,Va=ta,ro=Ea,Ee=Ea,be=Ce.apply(this,arguments)/2,pe=be>u&&(Br?+Br.apply(this,arguments):a(fi*fi+Ci*Ci)),vt=e(v(Ci-fi)/2,+lr.apply(this,arguments)),gt=vt,dt=vt,Dt,te;if(pe>u){var Ge=g(pe/fi*n(be)),cr=g(pe/Ci*n(be));(ro-=Ge*2)>u?(Ge*=ca?1:-1,Ia+=Ge,Va-=Ge):(ro=0,Ia=Va=(aa+ta)/2),(Ee-=cr*2)>u?(cr*=ca?1:-1,to+=cr,za-=cr):(Ee=0,to=za=(aa+ta)/2)}var zr=Ci*f(to),Rt=Ci*n(to),Ei=fi*f(Va),ri=fi*n(Va);if(vt>u){var k=Ci*f(za),it=Ci*n(za),Bt=fi*f(Ia),yt=fi*n(Ia),ne;if(Ea<l&&(ne=b(zr,Rt,Bt,yt,k,it,Ei,ri))){var _e=zr-ne[0],ur=Rt-ne[1],jr=k-ne[0],_r=it-ne[1],Pn=1/n(d((_e*jr+ur*_r)/(a(_e*_e+ur*ur)*a(jr*jr+_r*_r)))/2),Ln=a(ne[0]*ne[0]+ne[1]*ne[1]);gt=e(vt,(fi-Ln)/(Pn-1)),dt=e(vt,(Ci-Ln)/(Pn+1))}}Ee>u?dt>u?(Dt=S(Bt,yt,zr,Rt,Ci,dt,ca),te=S(k,it,Ei,ri,Ci,dt,ca),Me.moveTo(Dt.cx+Dt.x01,Dt.cy+Dt.y01),dt<vt?Me.arc(Dt.cx,Dt.cy,dt,o(Dt.y01,Dt.x01),o(te.y01,te.x01),!ca):(Me.arc(Dt.cx,Dt.cy,dt,o(Dt.y01,Dt.x01),o(Dt.y11,Dt.x11),!ca),Me.arc(0,0,Ci,o(Dt.cy+Dt.y11,Dt.cx+Dt.x11),o(te.cy+te.y11,te.cx+te.x11),!ca),Me.arc(te.cx,te.cy,dt,o(te.y11,te.x11),o(te.y01,te.x01),!ca))):(Me.moveTo(zr,Rt),Me.arc(0,0,Ci,to,za,!ca)):Me.moveTo(zr,Rt),!(fi>u)||!(ro>u)?Me.lineTo(Ei,ri):gt>u?(Dt=S(Ei,ri,k,it,fi,-gt,ca),te=S(zr,Rt,Bt,yt,fi,-gt,ca),Me.lineTo(Dt.cx+Dt.x01,Dt.cy+Dt.y01),gt<vt?Me.arc(Dt.cx,Dt.cy,gt,o(Dt.y01,Dt.x01),o(te.y01,te.x01),!ca):(Me.arc(Dt.cx,Dt.cy,gt,o(Dt.y01,Dt.x01),o(Dt.y11,Dt.x11),!ca),Me.arc(0,0,fi,o(Dt.cy+Dt.y11,Dt.cx+Dt.x11),o(te.cy+te.y11,te.cx+te.x11),ca),Me.arc(te.cx,te.cy,gt,o(te.y11,te.x11),o(te.y01,te.x01),!ca))):Me.arc(0,0,fi,Va,Ia,ca)}if(Me.closePath(),pn)return Me=null,pn+""||null}return Sr.centroid=function(){var pn=(+Zt.apply(this,arguments)+ +je.apply(this,arguments))/2,En=(+Vt.apply(this,arguments)+ +ee.apply(this,arguments))/2-l/2;return[f(En)*pn,n(En)*pn]},Sr.innerRadius=function(pn){return arguments.length?(Zt=typeof pn=="function"?pn:s(+pn),Sr):Zt},Sr.outerRadius=function(pn){return arguments.length?(je=typeof pn=="function"?pn:s(+pn),Sr):je},Sr.cornerRadius=function(pn){return arguments.length?(lr=typeof pn=="function"?pn:s(+pn),Sr):lr},Sr.padRadius=function(pn){return arguments.length?(Br=pn==null?null:typeof pn=="function"?pn:s(+pn),Sr):Br},Sr.startAngle=function(pn){return arguments.length?(Vt=typeof pn=="function"?pn:s(+pn),Sr):Vt},Sr.endAngle=function(pn){return arguments.length?(ee=typeof pn=="function"?pn:s(+pn),Sr):ee},Sr.padAngle=function(pn){return arguments.length?(Ce=typeof pn=="function"?pn:s(+pn),Sr):Ce},Sr.context=function(pn){return arguments.length?(Me=pn==null?null:pn,Sr):Me},Sr}function T(Zt){this._context=Zt}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;default:this._context.lineTo(Zt,je);break}}};function O(Zt){return new T(Zt)}function D(Zt){return Zt[0]}function L(Zt){return Zt[1]}function Z(){var Zt=D,je=L,lr=s(!0),Br=null,Vt=O,ee=null;function Ce(Me){var Sr,pn=Me.length,En,fi=!1,Ci;for(Br==null&&(ee=Vt(Ci=c.path())),Sr=0;Sr<=pn;++Sr)!(Sr<pn&&lr(En=Me[Sr],Sr,Me))===fi&&((fi=!fi)?ee.lineStart():ee.lineEnd()),fi&&ee.point(+Zt(En,Sr,Me),+je(En,Sr,Me));if(Ci)return ee=null,Ci+""||null}return Ce.x=function(Me){return arguments.length?(Zt=typeof Me=="function"?Me:s(+Me),Ce):Zt},Ce.y=function(Me){return arguments.length?(je=typeof Me=="function"?Me:s(+Me),Ce):je},Ce.defined=function(Me){return arguments.length?(lr=typeof Me=="function"?Me:s(!!Me),Ce):lr},Ce.curve=function(Me){return arguments.length?(Vt=Me,Br!=null&&(ee=Vt(Br)),Ce):Vt},Ce.context=function(Me){return arguments.length?(Me==null?Br=ee=null:ee=Vt(Br=Me),Ce):Br},Ce}function U(){var Zt=D,je=null,lr=s(0),Br=L,Vt=s(!0),ee=null,Ce=O,Me=null;function Sr(En){var fi,Ci,aa,ta=En.length,Ea,ca=!1,to,za=new Array(ta),Ia=new Array(ta);for(ee==null&&(Me=Ce(to=c.path())),fi=0;fi<=ta;++fi){if(!(fi<ta&&Vt(Ea=En[fi],fi,En))===ca)if(ca=!ca)Ci=fi,Me.areaStart(),Me.lineStart();else{for(Me.lineEnd(),Me.lineStart(),aa=fi-1;aa>=Ci;--aa)Me.point(za[aa],Ia[aa]);Me.lineEnd(),Me.areaEnd()}ca&&(za[fi]=+Zt(Ea,fi,En),Ia[fi]=+lr(Ea,fi,En),Me.point(je?+je(Ea,fi,En):za[fi],Br?+Br(Ea,fi,En):Ia[fi]))}if(to)return Me=null,to+""||null}function pn(){return Z().defined(Vt).curve(Ce).context(ee)}return Sr.x=function(En){return arguments.length?(Zt=typeof En=="function"?En:s(+En),je=null,Sr):Zt},Sr.x0=function(En){return arguments.length?(Zt=typeof En=="function"?En:s(+En),Sr):Zt},Sr.x1=function(En){return arguments.length?(je=En==null?null:typeof En=="function"?En:s(+En),Sr):je},Sr.y=function(En){return arguments.length?(lr=typeof En=="function"?En:s(+En),Br=null,Sr):lr},Sr.y0=function(En){return arguments.length?(lr=typeof En=="function"?En:s(+En),Sr):lr},Sr.y1=function(En){return arguments.length?(Br=En==null?null:typeof En=="function"?En:s(+En),Sr):Br},Sr.lineX0=Sr.lineY0=function(){return pn().x(Zt).y(lr)},Sr.lineY1=function(){return pn().x(Zt).y(Br)},Sr.lineX1=function(){return pn().x(je).y(lr)},Sr.defined=function(En){return arguments.length?(Vt=typeof En=="function"?En:s(!!En),Sr):Vt},Sr.curve=function(En){return arguments.length?(Ce=En,ee!=null&&(Me=Ce(ee)),Sr):Ce},Sr.context=function(En){return arguments.length?(En==null?ee=Me=null:Me=Ce(ee=En),Sr):ee},Sr}function Y(Zt,je){return je<Zt?-1:je>Zt?1:je>=Zt?0:NaN}function W(Zt){return Zt}function J(){var Zt=W,je=Y,lr=null,Br=s(0),Vt=s(p),ee=s(0);function Ce(Me){var Sr,pn=Me.length,En,fi,Ci=0,aa=new Array(pn),ta=new Array(pn),Ea=+Br.apply(this,arguments),ca=Math.min(p,Math.max(-p,Vt.apply(this,arguments)-Ea)),to,za=Math.min(Math.abs(ca)/pn,ee.apply(this,arguments)),Ia=za*(ca<0?-1:1),Va;for(Sr=0;Sr<pn;++Sr)(Va=ta[aa[Sr]=Sr]=+Zt(Me[Sr],Sr,Me))>0&&(Ci+=Va);for(je!=null?aa.sort(function(ro,Ee){return je(ta[ro],ta[Ee])}):lr!=null&&aa.sort(function(ro,Ee){return lr(Me[ro],Me[Ee])}),Sr=0,fi=Ci?(ca-pn*Ia)/Ci:0;Sr<pn;++Sr,Ea=to)En=aa[Sr],Va=ta[En],to=Ea+(Va>0?Va*fi:0)+Ia,ta[En]={data:Me[En],index:Sr,value:Va,startAngle:Ea,endAngle:to,padAngle:za};return ta}return Ce.value=function(Me){return arguments.length?(Zt=typeof Me=="function"?Me:s(+Me),Ce):Zt},Ce.sortValues=function(Me){return arguments.length?(je=Me,lr=null,Ce):je},Ce.sort=function(Me){return arguments.length?(lr=Me,je=null,Ce):lr},Ce.startAngle=function(Me){return arguments.length?(Br=typeof Me=="function"?Me:s(+Me),Ce):Br},Ce.endAngle=function(Me){return arguments.length?(Vt=typeof Me=="function"?Me:s(+Me),Ce):Vt},Ce.padAngle=function(Me){return arguments.length?(ee=typeof Me=="function"?Me:s(+Me),Ce):ee},Ce}var ht=Q(O);function nt(Zt){this._curve=Zt}nt.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Zt,je){this._curve.point(je*Math.sin(Zt),je*-Math.cos(Zt))}};function Q(Zt){function je(lr){return new nt(Zt(lr))}return je._curve=Zt,je}function xt(Zt){var je=Zt.curve;return Zt.angle=Zt.x,delete Zt.x,Zt.radius=Zt.y,delete Zt.y,Zt.curve=function(lr){return arguments.length?je(Q(lr)):je()._curve},Zt}function _t(){return xt(Z().curve(ht))}function Nt(){var Zt=U().curve(ht),je=Zt.curve,lr=Zt.lineX0,Br=Zt.lineX1,Vt=Zt.lineY0,ee=Zt.lineY1;return Zt.angle=Zt.x,delete Zt.x,Zt.startAngle=Zt.x0,delete Zt.x0,Zt.endAngle=Zt.x1,delete Zt.x1,Zt.radius=Zt.y,delete Zt.y,Zt.innerRadius=Zt.y0,delete Zt.y0,Zt.outerRadius=Zt.y1,delete Zt.y1,Zt.lineStartAngle=function(){return xt(lr())},delete Zt.lineX0,Zt.lineEndAngle=function(){return xt(Br())},delete Zt.lineX1,Zt.lineInnerRadius=function(){return xt(Vt())},delete Zt.lineY0,Zt.lineOuterRadius=function(){return xt(ee())},delete Zt.lineY1,Zt.curve=function(Ce){return arguments.length?je(Q(Ce)):je()._curve},Zt}function rt(Zt,je){return[(je=+je)*Math.cos(Zt-=Math.PI/2),je*Math.sin(Zt)]}var q=Array.prototype.slice;function G(Zt){return Zt.source}function N(Zt){return Zt.target}function at(Zt){var je=G,lr=N,Br=D,Vt=L,ee=null;function Ce(){var Me,Sr=q.call(arguments),pn=je.apply(this,Sr),En=lr.apply(this,Sr);if(ee||(ee=Me=c.path()),Zt(ee,+Br.apply(this,(Sr[0]=pn,Sr)),+Vt.apply(this,Sr),+Br.apply(this,(Sr[0]=En,Sr)),+Vt.apply(this,Sr)),Me)return ee=null,Me+""||null}return Ce.source=function(Me){return arguments.length?(je=Me,Ce):je},Ce.target=function(Me){return arguments.length?(lr=Me,Ce):lr},Ce.x=function(Me){return arguments.length?(Br=typeof Me=="function"?Me:s(+Me),Ce):Br},Ce.y=function(Me){return arguments.length?(Vt=typeof Me=="function"?Me:s(+Me),Ce):Vt},Ce.context=function(Me){return arguments.length?(ee=Me==null?null:Me,Ce):ee},Ce}function H(Zt,je,lr,Br,Vt){Zt.moveTo(je,lr),Zt.bezierCurveTo(je=(je+Br)/2,lr,je,Vt,Br,Vt)}function ft(Zt,je,lr,Br,Vt){Zt.moveTo(je,lr),Zt.bezierCurveTo(je,lr=(lr+Vt)/2,Br,lr,Br,Vt)}function ct(Zt,je,lr,Br,Vt){var ee=rt(je,lr),Ce=rt(je,lr=(lr+Vt)/2),Me=rt(Br,lr),Sr=rt(Br,Vt);Zt.moveTo(ee[0],ee[1]),Zt.bezierCurveTo(Ce[0],Ce[1],Me[0],Me[1],Sr[0],Sr[1])}function K(){return at(H)}function $(){return at(ft)}function et(){var Zt=at(ct);return Zt.angle=Zt.x,delete Zt.x,Zt.radius=Zt.y,delete Zt.y,Zt}var B={draw:function(Zt,je){var lr=Math.sqrt(je/l);Zt.moveTo(lr,0),Zt.arc(0,0,lr,0,p)}},w={draw:function(Zt,je){var lr=Math.sqrt(je/5)/2;Zt.moveTo(-3*lr,-lr),Zt.lineTo(-lr,-lr),Zt.lineTo(-lr,-3*lr),Zt.lineTo(lr,-3*lr),Zt.lineTo(lr,-lr),Zt.lineTo(3*lr,-lr),Zt.lineTo(3*lr,lr),Zt.lineTo(lr,lr),Zt.lineTo(lr,3*lr),Zt.lineTo(-lr,3*lr),Zt.lineTo(-lr,lr),Zt.lineTo(-3*lr,lr),Zt.closePath()}},R=Math.sqrt(1/3),V=R*2,tt={draw:function(Zt,je){var lr=Math.sqrt(je/V),Br=lr*R;Zt.moveTo(0,-lr),Zt.lineTo(Br,0),Zt.lineTo(0,lr),Zt.lineTo(-Br,0),Zt.closePath()}},lt=.8908130915292852,Et=Math.sin(l/10)/Math.sin(7*l/10),ot=Math.sin(p/10)*Et,Mt=-Math.cos(p/10)*Et,Ot={draw:function(Zt,je){var lr=Math.sqrt(je*lt),Br=ot*lr,Vt=Mt*lr;Zt.moveTo(0,-lr),Zt.lineTo(Br,Vt);for(var ee=1;ee<5;++ee){var Ce=p*ee/5,Me=Math.cos(Ce),Sr=Math.sin(Ce);Zt.lineTo(Sr*lr,-Me*lr),Zt.lineTo(Me*Br-Sr*Vt,Sr*Br+Me*Vt)}Zt.closePath()}},Ft={draw:function(Zt,je){var lr=Math.sqrt(je),Br=-lr/2;Zt.rect(Br,Br,lr,lr)}},zt=Math.sqrt(3),$t={draw:function(Zt,je){var lr=-Math.sqrt(je/(zt*3));Zt.moveTo(0,lr*2),Zt.lineTo(-zt*lr,-lr),Zt.lineTo(zt*lr,-lr),Zt.closePath()}},ce=-.5,ye=Math.sqrt(3)/2,Je=1/Math.sqrt(12),nr=(Je/2+1)*3,Xe={draw:function(Zt,je){var lr=Math.sqrt(je/nr),Br=lr/2,Vt=lr*Je,ee=Br,Ce=lr*Je+lr,Me=-ee,Sr=Ce;Zt.moveTo(Br,Vt),Zt.lineTo(ee,Ce),Zt.lineTo(Me,Sr),Zt.lineTo(ce*Br-ye*Vt,ye*Br+ce*Vt),Zt.lineTo(ce*ee-ye*Ce,ye*ee+ce*Ce),Zt.lineTo(ce*Me-ye*Sr,ye*Me+ce*Sr),Zt.lineTo(ce*Br+ye*Vt,ce*Vt-ye*Br),Zt.lineTo(ce*ee+ye*Ce,ce*Ce-ye*ee),Zt.lineTo(ce*Me+ye*Sr,ce*Sr-ye*Me),Zt.closePath()}},mr=[B,w,tt,Ft,Ot,$t,Xe];function Gr(){var Zt=s(B),je=s(64),lr=null;function Br(){var Vt;if(lr||(lr=Vt=c.path()),Zt.apply(this,arguments).draw(lr,+je.apply(this,arguments)),Vt)return lr=null,Vt+""||null}return Br.type=function(Vt){return arguments.length?(Zt=typeof Vt=="function"?Vt:s(Vt),Br):Zt},Br.size=function(Vt){return arguments.length?(je=typeof Vt=="function"?Vt:s(+Vt),Br):je},Br.context=function(Vt){return arguments.length?(lr=Vt==null?null:Vt,Br):lr},Br}function xe(){}function de(Zt,je,lr){Zt._context.bezierCurveTo((2*Zt._x0+Zt._x1)/3,(2*Zt._y0+Zt._y1)/3,(Zt._x0+2*Zt._x1)/3,(Zt._y0+2*Zt._y1)/3,(Zt._x0+4*Zt._x1+je)/6,(Zt._y0+4*Zt._y1+lr)/6)}function ze(Zt){this._context=Zt}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:de(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function Ue(Zt){return new ze(Zt)}function Kr(Zt){this._context=Zt}Kr.prototype={areaStart:xe,areaEnd:xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._x2=Zt,this._y2=je;break;case 1:this._point=2,this._x3=Zt,this._y3=je;break;case 2:this._point=3,this._x4=Zt,this._y4=je,this._context.moveTo((this._x0+4*this._x1+Zt)/6,(this._y0+4*this._y1+je)/6);break;default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function rn(Zt){return new Kr(Zt)}function ci(Zt){this._context=Zt}ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var lr=(this._x0+4*this._x1+Zt)/6,Br=(this._y0+4*this._y1+je)/6;this._line?this._context.lineTo(lr,Br):this._context.moveTo(lr,Br);break;case 3:this._point=4;default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function Zi(Zt){return new ci(Zt)}function Ki(Zt,je){this._basis=new ze(Zt),this._beta=je}Ki.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Zt=this._x,je=this._y,lr=Zt.length-1;if(lr>0)for(var Br=Zt[0],Vt=je[0],ee=Zt[lr]-Br,Ce=je[lr]-Vt,Me=-1,Sr;++Me<=lr;)Sr=Me/lr,this._basis.point(this._beta*Zt[Me]+(1-this._beta)*(Br+Sr*ee),this._beta*je[Me]+(1-this._beta)*(Vt+Sr*Ce));this._x=this._y=null,this._basis.lineEnd()},point:function(Zt,je){this._x.push(+Zt),this._y.push(+je)}};var ji=function Zt(je){function lr(Br){return je===1?new ze(Br):new Ki(Br,je)}return lr.beta=function(Br){return Zt(+Br)},lr}(.85);function Ae(Zt,je,lr){Zt._context.bezierCurveTo(Zt._x1+Zt._k*(Zt._x2-Zt._x0),Zt._y1+Zt._k*(Zt._y2-Zt._y0),Zt._x2+Zt._k*(Zt._x1-je),Zt._y2+Zt._k*(Zt._y1-lr),Zt._x2,Zt._y2)}function De(Zt,je){this._context=Zt,this._k=(1-je)/6}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ae(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2,this._x1=Zt,this._y1=je;break;case 2:this._point=3;default:Ae(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var ar=function Zt(je){function lr(Br){return new De(Br,je)}return lr.tension=function(Br){return Zt(+Br)},lr}(0);function Pr(Zt,je){this._context=Zt,this._k=(1-je)/6}Pr.prototype={areaStart:xe,areaEnd:xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._x3=Zt,this._y3=je;break;case 1:this._point=2,this._context.moveTo(this._x4=Zt,this._y4=je);break;case 2:this._point=3,this._x5=Zt,this._y5=je;break;default:Ae(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var or=function Zt(je){function lr(Br){return new Pr(Br,je)}return lr.tension=function(Br){return Zt(+Br)},lr}(0);function wr(Zt,je){this._context=Zt,this._k=(1-je)/6}wr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ae(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var cn=function Zt(je){function lr(Br){return new wr(Br,je)}return lr.tension=function(Br){return Zt(+Br)},lr}(0);function Fn(Zt,je,lr){var Br=Zt._x1,Vt=Zt._y1,ee=Zt._x2,Ce=Zt._y2;if(Zt._l01_a>u){var Me=2*Zt._l01_2a+3*Zt._l01_a*Zt._l12_a+Zt._l12_2a,Sr=3*Zt._l01_a*(Zt._l01_a+Zt._l12_a);Br=(Br*Me-Zt._x0*Zt._l12_2a+Zt._x2*Zt._l01_2a)/Sr,Vt=(Vt*Me-Zt._y0*Zt._l12_2a+Zt._y2*Zt._l01_2a)/Sr}if(Zt._l23_a>u){var pn=2*Zt._l23_2a+3*Zt._l23_a*Zt._l12_a+Zt._l12_2a,En=3*Zt._l23_a*(Zt._l23_a+Zt._l12_a);ee=(ee*pn+Zt._x1*Zt._l23_2a-je*Zt._l12_2a)/En,Ce=(Ce*pn+Zt._y1*Zt._l23_2a-lr*Zt._l12_2a)/En}Zt._context.bezierCurveTo(Br,Vt,ee,Ce,Zt._x2,Zt._y2)}function nn(Zt,je){this._context=Zt,this._alpha=je}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var lr=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lr*lr+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3;default:Fn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var Hr=function Zt(je){function lr(Br){return je?new nn(Br,je):new De(Br,0)}return lr.alpha=function(Br){return Zt(+Br)},lr}(.5);function Gn(Zt,je){this._context=Zt,this._alpha=je}Gn.prototype={areaStart:xe,areaEnd:xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var lr=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lr*lr+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Zt,this._y3=je;break;case 1:this._point=2,this._context.moveTo(this._x4=Zt,this._y4=je);break;case 2:this._point=3,this._x5=Zt,this._y5=je;break;default:Fn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var $n=function Zt(je){function lr(Br){return je?new Gn(Br,je):new Pr(Br,0)}return lr.alpha=function(Br){return Zt(+Br)},lr}(.5);function Vr(Zt,je){this._context=Zt,this._alpha=je}Vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var lr=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(lr*lr+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var Ir=function Zt(je){function lr(Br){return je?new Vr(Br,je):new wr(Br,0)}return lr.alpha=function(Br){return Zt(+Br)},lr}(.5);function ti(Zt){this._context=Zt}ti.prototype={areaStart:xe,areaEnd:xe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Zt,je){Zt=+Zt,je=+je,this._point?this._context.lineTo(Zt,je):(this._point=1,this._context.moveTo(Zt,je))}};function ge(Zt){return new ti(Zt)}function Le(Zt){return Zt<0?-1:1}function Se(Zt,je,lr){var Br=Zt._x1-Zt._x0,Vt=je-Zt._x1,ee=(Zt._y1-Zt._y0)/(Br||Vt<0&&-0),Ce=(lr-Zt._y1)/(Vt||Br<0&&-0),Me=(ee*Vt+Ce*Br)/(Br+Vt);return(Le(ee)+Le(Ce))*Math.min(Math.abs(ee),Math.abs(Ce),.5*Math.abs(Me))||0}function Ve(Zt,je){var lr=Zt._x1-Zt._x0;return lr?(3*(Zt._y1-Zt._y0)/lr-je)/2:je}function le(Zt,je,lr){var Br=Zt._x0,Vt=Zt._y0,ee=Zt._x1,Ce=Zt._y1,Me=(ee-Br)/3;Zt._context.bezierCurveTo(Br+Me,Vt+Me*je,ee-Me,Ce-Me*lr,ee,Ce)}function vr(Zt){this._context=Zt}vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:le(this,this._t0,Ve(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){var lr=NaN;if(Zt=+Zt,je=+je,!(Zt===this._x1&&je===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3,le(this,Ve(this,lr=Se(this,Zt,je)),lr);break;default:le(this,this._t0,lr=Se(this,Zt,je));break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je,this._t0=lr}}};function He(Zt){this._context=new rr(Zt)}(He.prototype=Object.create(vr.prototype)).point=function(Zt,je){vr.prototype.point.call(this,je,Zt)};function rr(Zt){this._context=Zt}rr.prototype={moveTo:function(Zt,je){this._context.moveTo(je,Zt)},closePath:function(){this._context.closePath()},lineTo:function(Zt,je){this._context.lineTo(je,Zt)},bezierCurveTo:function(Zt,je,lr,Br,Vt,ee){this._context.bezierCurveTo(je,Zt,Br,lr,ee,Vt)}};function Dr(Zt){return new vr(Zt)}function Mr(Zt){return new He(Zt)}function an(Zt){this._context=Zt}an.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Zt=this._x,je=this._y,lr=Zt.length;if(lr)if(this._line?this._context.lineTo(Zt[0],je[0]):this._context.moveTo(Zt[0],je[0]),lr===2)this._context.lineTo(Zt[1],je[1]);else for(var Br=gn(Zt),Vt=gn(je),ee=0,Ce=1;Ce<lr;++ee,++Ce)this._context.bezierCurveTo(Br[0][ee],Vt[0][ee],Br[1][ee],Vt[1][ee],Zt[Ce],je[Ce]);(this._line||this._line!==0&&lr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Zt,je){this._x.push(+Zt),this._y.push(+je)}};function gn(Zt){var je,lr=Zt.length-1,Br,Vt=new Array(lr),ee=new Array(lr),Ce=new Array(lr);for(Vt[0]=0,ee[0]=2,Ce[0]=Zt[0]+2*Zt[1],je=1;je<lr-1;++je)Vt[je]=1,ee[je]=4,Ce[je]=4*Zt[je]+2*Zt[je+1];for(Vt[lr-1]=2,ee[lr-1]=7,Ce[lr-1]=8*Zt[lr-1]+Zt[lr],je=1;je<lr;++je)Br=Vt[je]/ee[je-1],ee[je]-=Br,Ce[je]-=Br*Ce[je-1];for(Vt[lr-1]=Ce[lr-1]/ee[lr-1],je=lr-2;je>=0;--je)Vt[je]=(Ce[je]-Vt[je+1])/ee[je];for(ee[lr-1]=(Zt[lr]+Vt[lr-1])/2,je=0;je<lr-1;++je)ee[je]=2*Zt[je+1]-Vt[je+1];return[Vt,ee]}function qr(Zt){return new an(Zt)}function Dn(Zt,je){this._context=Zt,this._t=je}Dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,je),this._context.lineTo(Zt,je);else{var lr=this._x*(1-this._t)+Zt*this._t;this._context.lineTo(lr,this._y),this._context.lineTo(lr,je)}break}}this._x=Zt,this._y=je}};function ae(Zt){return new Dn(Zt,.5)}function er(Zt){return new Dn(Zt,0)}function sr(Zt){return new Dn(Zt,1)}function kr(Zt,je){if((Ce=Zt.length)>1)for(var lr=1,Br,Vt,ee=Zt[je[0]],Ce,Me=ee.length;lr<Ce;++lr)for(Vt=ee,ee=Zt[je[lr]],Br=0;Br<Me;++Br)ee[Br][1]+=ee[Br][0]=isNaN(Vt[Br][1])?Vt[Br][0]:Vt[Br][1]}function Rn(Zt){for(var je=Zt.length,lr=new Array(je);--je>=0;)lr[je]=je;return lr}function pi(Zt,je){return Zt[je]}function Yi(){var Zt=s([]),je=Rn,lr=kr,Br=pi;function Vt(ee){var Ce=Zt.apply(this,arguments),Me,Sr=ee.length,pn=Ce.length,En=new Array(pn),fi;for(Me=0;Me<pn;++Me){for(var Ci=Ce[Me],aa=En[Me]=new Array(Sr),ta=0,Ea;ta<Sr;++ta)aa[ta]=Ea=[0,+Br(ee[ta],Ci,ta,ee)],Ea.data=ee[ta];aa.key=Ci}for(Me=0,fi=je(En);Me<pn;++Me)En[fi[Me]].index=Me;return lr(En,fi),En}return Vt.keys=function(ee){return arguments.length?(Zt=typeof ee=="function"?ee:s(q.call(ee)),Vt):Zt},Vt.value=function(ee){return arguments.length?(Br=typeof ee=="function"?ee:s(+ee),Vt):Br},Vt.order=function(ee){return arguments.length?(je=ee==null?Rn:typeof ee=="function"?ee:s(q.call(ee)),Vt):je},Vt.offset=function(ee){return arguments.length?(lr=ee==null?kr:ee,Vt):lr},Vt}function da(Zt,je){if((Br=Zt.length)>0){for(var lr,Br,Vt=0,ee=Zt[0].length,Ce;Vt<ee;++Vt){for(Ce=lr=0;lr<Br;++lr)Ce+=Zt[lr][Vt][1]||0;if(Ce)for(lr=0;lr<Br;++lr)Zt[lr][Vt][1]/=Ce}kr(Zt,je)}}function _a(Zt,je){if((Sr=Zt.length)>0)for(var lr,Br=0,Vt,ee,Ce,Me,Sr,pn=Zt[je[0]].length;Br<pn;++Br)for(Ce=Me=0,lr=0;lr<Sr;++lr)(ee=(Vt=Zt[je[lr]][Br])[1]-Vt[0])>0?(Vt[0]=Ce,Vt[1]=Ce+=ee):ee<0?(Vt[1]=Me,Vt[0]=Me+=ee):(Vt[0]=0,Vt[1]=ee)}function fa(Zt,je){if((Vt=Zt.length)>0){for(var lr=0,Br=Zt[je[0]],Vt,ee=Br.length;lr<ee;++lr){for(var Ce=0,Me=0;Ce<Vt;++Ce)Me+=Zt[Ce][lr][1]||0;Br[lr][1]+=Br[lr][0]=-Me/2}kr(Zt,je)}}function wo(Zt,je){if(!(!((Ce=Zt.length)>0)||!((ee=(Vt=Zt[je[0]]).length)>0))){for(var lr=0,Br=1,Vt,ee,Ce;Br<ee;++Br){for(var Me=0,Sr=0,pn=0;Me<Ce;++Me){for(var En=Zt[je[Me]],fi=En[Br][1]||0,Ci=En[Br-1][1]||0,aa=(fi-Ci)/2,ta=0;ta<Me;++ta){var Ea=Zt[je[ta]],ca=Ea[Br][1]||0,to=Ea[Br-1][1]||0;aa+=ca-to}Sr+=fi,pn+=aa*fi}Vt[Br-1][1]+=Vt[Br-1][0]=lr,Sr&&(lr-=pn/Sr)}Vt[Br-1][1]+=Vt[Br-1][0]=lr,kr(Zt,je)}}function ho(Zt){var je=Zt.map(mo);return Rn(Zt).sort(function(lr,Br){return je[lr]-je[Br]})}function mo(Zt){for(var je=-1,lr=0,Br=Zt.length,Vt,ee=-Infinity;++je<Br;)(Vt=+Zt[je][1])>ee&&(ee=Vt,lr=je);return lr}function yo(Zt){var je=Zt.map(zo);return Rn(Zt).sort(function(lr,Br){return je[lr]-je[Br]})}function zo(Zt){for(var je=0,lr=-1,Br=Zt.length,Vt;++lr<Br;)(Vt=+Zt[lr][1])&&(je+=Vt);return je}function io(Zt){return yo(Zt).reverse()}function Za(Zt){var je=Zt.length,lr,Br,Vt=Zt.map(zo),ee=ho(Zt),Ce=0,Me=0,Sr=[],pn=[];for(lr=0;lr<je;++lr)Br=ee[lr],Ce<Me?(Ce+=Vt[Br],Sr.push(Br)):(Me+=Vt[Br],pn.push(Br));return pn.reverse().concat(Sr)}function qa(Zt){return Rn(Zt).reverse()}t.arc=A,t.area=U,t.areaRadial=Nt,t.curveBasis=Ue,t.curveBasisClosed=rn,t.curveBasisOpen=Zi,t.curveBundle=ji,t.curveCardinal=ar,t.curveCardinalClosed=or,t.curveCardinalOpen=cn,t.curveCatmullRom=Hr,t.curveCatmullRomClosed=$n,t.curveCatmullRomOpen=Ir,t.curveLinear=O,t.curveLinearClosed=ge,t.curveMonotoneX=Dr,t.curveMonotoneY=Mr,t.curveNatural=qr,t.curveStep=ae,t.curveStepAfter=sr,t.curveStepBefore=er,t.line=Z,t.lineRadial=_t,t.linkHorizontal=K,t.linkRadial=et,t.linkVertical=$,t.pie=J,t.pointRadial=rt,t.radialArea=Nt,t.radialLine=_t,t.stack=Yi,t.stackOffsetDiverging=_a,t.stackOffsetExpand=da,t.stackOffsetNone=kr,t.stackOffsetSilhouette=fa,t.stackOffsetWiggle=wo,t.stackOrderAppearance=ho,t.stackOrderAscending=yo,t.stackOrderDescending=io,t.stackOrderInsideOut=Za,t.stackOrderNone=Rn,t.stackOrderReverse=qa,t.symbol=Gr,t.symbolCircle=B,t.symbolCross=w,t.symbolDiamond=tt,t.symbolSquare=Ft,t.symbolStar=Ot,t.symbolTriangle=$t,t.symbolWye=Xe,t.symbols=mr,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";function c(H){return function(){return H}}function s(H){return H[0]}function v(H){return H[1]}function o(){this._=null}function f(H){H.U=H.C=H.L=H.R=H.P=H.N=null}o.prototype={constructor:o,insert:function(H,ft){var ct,K,$;if(H){if(ft.P=H,ft.N=H.N,H.N&&(H.N.P=ft),H.N=ft,H.R){for(H=H.R;H.L;)H=H.L;H.L=ft}else H.R=ft;ct=H}else this._?(H=n(this._),ft.P=null,ft.N=H,H.P=H.L=ft,ct=H):(ft.P=ft.N=null,this._=ft,ct=null);for(ft.L=ft.R=null,ft.U=ct,ft.C=!0,H=ft;ct&&ct.C;)K=ct.U,ct===K.L?($=K.R,$&&$.C?(ct.C=$.C=!1,K.C=!0,H=K):(H===ct.R&&(r(this,ct),H=ct,ct=H.U),ct.C=!1,K.C=!0,e(this,K))):($=K.L,$&&$.C?(ct.C=$.C=!1,K.C=!0,H=K):(H===ct.L&&(e(this,ct),H=ct,ct=H.U),ct.C=!1,K.C=!0,r(this,K))),ct=H.U;this._.C=!1},remove:function(H){H.N&&(H.N.P=H.P),H.P&&(H.P.N=H.N),H.N=H.P=null;var ft=H.U,ct,K=H.L,$=H.R,et,B;if(K?$?et=n($):et=K:et=$,ft?ft.L===H?ft.L=et:ft.R=et:this._=et,K&&$?(B=et.C,et.C=H.C,et.L=K,K.U=et,et!==$?(ft=et.U,et.U=H.U,H=et.R,ft.L=H,et.R=$,$.U=et):(et.U=ft,ft=et,H=et.R)):(B=H.C,H=et),H&&(H.U=ft),!B){if(H&&H.C){H.C=!1;return}do{if(H===this._)break;if(H===ft.L){if(ct=ft.R,ct.C&&(ct.C=!1,ft.C=!0,r(this,ft),ct=ft.R),ct.L&&ct.L.C||ct.R&&ct.R.C){(!ct.R||!ct.R.C)&&(ct.L.C=!1,ct.C=!0,e(this,ct),ct=ft.R),ct.C=ft.C,ft.C=ct.R.C=!1,r(this,ft),H=this._;break}}else if(ct=ft.L,ct.C&&(ct.C=!1,ft.C=!0,e(this,ft),ct=ft.L),ct.L&&ct.L.C||ct.R&&ct.R.C){(!ct.L||!ct.L.C)&&(ct.R.C=!1,ct.C=!0,r(this,ct),ct=ft.L),ct.C=ft.C,ft.C=ct.L.C=!1,e(this,ft),H=this._;break}ct.C=!0,H=ft,ft=ft.U}while(!H.C);H&&(H.C=!1)}}};function r(H,ft){var ct=ft,K=ft.R,$=ct.U;$?$.L===ct?$.L=K:$.R=K:H._=K,K.U=$,ct.U=K,ct.R=K.L,ct.R&&(ct.R.U=ct),K.L=ct}function e(H,ft){var ct=ft,K=ft.L,$=ct.U;$?$.L===ct?$.L=K:$.R=K:H._=K,K.U=$,ct.U=K,ct.L=K.R,ct.L&&(ct.L.U=ct),K.R=ct}function n(H){for(;H.L;)H=H.L;return H}function a(H,ft,ct,K){var $=[null,null],et=rt.push($)-1;return $.left=H,$.right=ft,ct&&l($,H,ft,ct),K&&l($,ft,H,K),_t[H.index].halfedges.push(et),_t[ft.index].halfedges.push(et),$}function u(H,ft,ct){var K=[ft,ct];return K.left=H,K}function l(H,ft,ct,K){!H[0]&&!H[1]?(H[0]=K,H.left=ft,H.right=ct):H.left===ct?H[1]=K:H[0]=K}function h(H,ft,ct,K,$){var et=H[0],B=H[1],w=et[0],R=et[1],V=B[0],tt=B[1],lt=0,Et=1,ot=V-w,Mt=tt-R,Ot;if(Ot=ft-w,!(!ot&&Ot>0)){if(Ot/=ot,ot<0){if(Ot<lt)return;Ot<Et&&(Et=Ot)}else if(ot>0){if(Ot>Et)return;Ot>lt&&(lt=Ot)}if(Ot=K-w,!(!ot&&Ot<0)){if(Ot/=ot,ot<0){if(Ot>Et)return;Ot>lt&&(lt=Ot)}else if(ot>0){if(Ot<lt)return;Ot<Et&&(Et=Ot)}if(Ot=ct-R,!(!Mt&&Ot>0)){if(Ot/=Mt,Mt<0){if(Ot<lt)return;Ot<Et&&(Et=Ot)}else if(Mt>0){if(Ot>Et)return;Ot>lt&&(lt=Ot)}if(Ot=$-R,!(!Mt&&Ot<0)){if(Ot/=Mt,Mt<0){if(Ot>Et)return;Ot>lt&&(lt=Ot)}else if(Mt>0){if(Ot<lt)return;Ot<Et&&(Et=Ot)}return!(lt>0)&&!(Et<1)||(lt>0&&(H[0]=[w+lt*ot,R+lt*Mt]),Et<1&&(H[1]=[w+Et*ot,R+Et*Mt])),!0}}}}}function p(H,ft,ct,K,$){var et=H[1];if(et)return!0;var B=H[0],w=H.left,R=H.right,V=w[0],tt=w[1],lt=R[0],Et=R[1],ot=(V+lt)/2,Mt=(tt+Et)/2,Ot,Ft;if(Et===tt){if(ot<ft||ot>=K)return;if(V>lt){if(!B)B=[ot,ct];else if(B[1]>=$)return;et=[ot,$]}else{if(!B)B=[ot,$];else if(B[1]<ct)return;et=[ot,ct]}}else if(Ot=(V-lt)/(Et-tt),Ft=Mt-Ot*ot,Ot<-1||Ot>1)if(V>lt){if(!B)B=[(ct-Ft)/Ot,ct];else if(B[1]>=$)return;et=[($-Ft)/Ot,$]}else{if(!B)B=[($-Ft)/Ot,$];else if(B[1]<ct)return;et=[(ct-Ft)/Ot,ct]}else if(tt<Et){if(!B)B=[ft,Ot*ft+Ft];else if(B[0]>=K)return;et=[K,Ot*K+Ft]}else{if(!B)B=[K,Ot*K+Ft];else if(B[0]<ft)return;et=[ft,Ot*ft+Ft]}return H[0]=B,H[1]=et,!0}function d(H,ft,ct,K){for(var $=rt.length,et;$--;)(!p(et=rt[$],H,ft,ct,K)||!h(et,H,ft,ct,K)||!(Math.abs(et[0][0]-et[1][0])>nt||Math.abs(et[0][1]-et[1][1])>nt))&&delete rt[$]}function g(H){return _t[H.index]={site:H,halfedges:[]}}function y(H,ft){var ct=H.site,K=ft.left,$=ft.right;return ct===$&&($=K,K=ct),$?Math.atan2($[1]-K[1],$[0]-K[0]):(ct===K?(K=ft[1],$=ft[0]):(K=ft[0],$=ft[1]),Math.atan2(K[0]-$[0],$[1]-K[1]))}function E(H,ft){return ft[+(ft.left!==H.site)]}function C(H,ft){return ft[+(ft.left===H.site)]}function m(){for(var H=0,ft=_t.length,ct,K,$,et;H<ft;++H)if((ct=_t[H])&&(et=(K=ct.halfedges).length)){var B=new Array(et),w=new Array(et);for($=0;$<et;++$)B[$]=$,w[$]=y(ct,rt[K[$]]);for(B.sort(function(R,V){return w[V]-w[R]}),$=0;$<et;++$)w[$]=K[B[$]];for($=0;$<et;++$)K[$]=w[$]}}function M(H,ft,ct,K){var $=_t.length,et,B,w,R,V,tt,lt,Et,ot,Mt,Ot,Ft,zt=!0;for(et=0;et<$;++et)if(B=_t[et]){for(w=B.site,V=B.halfedges,R=V.length;R--;)rt[V[R]]||V.splice(R,1);for(R=0,tt=V.length;R<tt;)Mt=C(B,rt[V[R]]),Ot=Mt[0],Ft=Mt[1],lt=E(B,rt[V[++R%tt]]),Et=lt[0],ot=lt[1],(Math.abs(Ot-Et)>nt||Math.abs(Ft-ot)>nt)&&(V.splice(R,0,rt.push(u(w,Mt,Math.abs(Ot-H)<nt&&K-Ft>nt?[H,Math.abs(Et-H)<nt?ot:K]:Math.abs(Ft-K)<nt&&ct-Ot>nt?[Math.abs(ot-K)<nt?Et:ct,K]:Math.abs(Ot-ct)<nt&&Ft-ft>nt?[ct,Math.abs(Et-ct)<nt?ot:ft]:Math.abs(Ft-ft)<nt&&Ot-H>nt?[Math.abs(ot-ft)<nt?Et:H,ft]:null))-1),++tt);tt&&(zt=!1)}if(zt){var $t,ce,ye,Je=Infinity;for(et=0,zt=null;et<$;++et)(B=_t[et])&&(w=B.site,$t=w[0]-H,ce=w[1]-ft,ye=$t*$t+ce*ce,ye<Je&&(Je=ye,zt=B));if(zt){var nr=[H,ft],Xe=[H,K],mr=[ct,K],Gr=[ct,ft];zt.halfedges.push(rt.push(u(w=zt.site,nr,Xe))-1,rt.push(u(w,Xe,mr))-1,rt.push(u(w,mr,Gr))-1,rt.push(u(w,Gr,nr))-1)}}for(et=0;et<$;++et)(B=_t[et])&&(B.halfedges.length||delete _t[et])}var b=[],S;function A(){f(this),this.x=this.y=this.arc=this.site=this.cy=null}function T(H){var ft=H.P,ct=H.N;if(!(!ft||!ct)){var K=ft.site,$=H.site,et=ct.site;if(K!==et){var B=$[0],w=$[1],R=K[0]-B,V=K[1]-w,tt=et[0]-B,lt=et[1]-w,Et=2*(R*lt-V*tt);if(!(Et>=-Q)){var ot=R*R+V*V,Mt=tt*tt+lt*lt,Ot=(lt*ot-V*Mt)/Et,Ft=(R*Mt-tt*ot)/Et,zt=b.pop()||new A;zt.arc=H,zt.site=$,zt.x=Ot+B,zt.y=(zt.cy=Ft+w)+Math.sqrt(Ot*Ot+Ft*Ft),H.circle=zt;for(var $t=null,ce=Nt._;ce;)if(zt.y<ce.y||zt.y===ce.y&&zt.x<=ce.x)if(ce.L)ce=ce.L;else{$t=ce.P;break}else if(ce.R)ce=ce.R;else{$t=ce;break}Nt.insert($t,zt),$t||(S=zt)}}}}function O(H){var ft=H.circle;ft&&(ft.P||(S=ft.N),Nt.remove(ft),b.push(ft),f(ft),H.circle=null)}var D=[];function L(){f(this),this.edge=this.site=this.circle=null}function Z(H){var ft=D.pop()||new L;return ft.site=H,ft}function U(H){O(H),xt.remove(H),D.push(H),f(H)}function Y(H){var ft=H.circle,ct=ft.x,K=ft.cy,$=[ct,K],et=H.P,B=H.N,w=[H];U(H);for(var R=et;R.circle&&Math.abs(ct-R.circle.x)<nt&&Math.abs(K-R.circle.cy)<nt;)et=R.P,w.unshift(R),U(R),R=et;w.unshift(R),O(R);for(var V=B;V.circle&&Math.abs(ct-V.circle.x)<nt&&Math.abs(K-V.circle.cy)<nt;)B=V.N,w.push(V),U(V),V=B;w.push(V),O(V);var tt=w.length,lt;for(lt=1;lt<tt;++lt)V=w[lt],R=w[lt-1],l(V.edge,R.site,V.site,$);R=w[0],V=w[tt-1],V.edge=a(R.site,V.site,null,$),T(R),T(V)}function W(H){for(var ft=H[0],ct=H[1],K,$,et,B,w=xt._;w;)if(et=J(w,ct)-ft,et>nt)w=w.L;else if(B=ft-ht(w,ct),B>nt){if(!w.R){K=w;break}w=w.R}else{et>-nt?(K=w.P,$=w):B>-nt?(K=w,$=w.N):K=$=w;break}g(H);var R=Z(H);if(xt.insert(K,R),!(!K&&!$)){if(K===$){O(K),$=Z(K.site),xt.insert(R,$),R.edge=$.edge=a(K.site,R.site),T(K),T($);return}if(!$){R.edge=a(K.site,R.site);return}O(K),O($);var V=K.site,tt=V[0],lt=V[1],Et=H[0]-tt,ot=H[1]-lt,Mt=$.site,Ot=Mt[0]-tt,Ft=Mt[1]-lt,zt=2*(Et*Ft-ot*Ot),$t=Et*Et+ot*ot,ce=Ot*Ot+Ft*Ft,ye=[(Ft*$t-ot*ce)/zt+tt,(Et*ce-Ot*$t)/zt+lt];l($.edge,V,Mt,ye),R.edge=a(V,H,null,ye),$.edge=a(H,Mt,null,ye),T(K),T($)}}function J(H,ft){var ct=H.site,K=ct[0],$=ct[1],et=$-ft;if(!et)return K;var B=H.P;if(!B)return-Infinity;ct=B.site;var w=ct[0],R=ct[1],V=R-ft;if(!V)return w;var tt=w-K,lt=1/et-1/V,Et=tt/V;return lt?(-Et+Math.sqrt(Et*Et-2*lt*(tt*tt/(-2*V)-R+V/2+$-et/2)))/lt+K:(K+w)/2}function ht(H,ft){var ct=H.N;if(ct)return J(ct,ft);var K=H.site;return K[1]===ft?K[0]:Infinity}var nt=1e-6,Q=1e-12,xt,_t,Nt,rt;function q(H,ft,ct){return(H[0]-ct[0])*(ft[1]-H[1])-(H[0]-ft[0])*(ct[1]-H[1])}function G(H,ft){return ft[1]-H[1]||ft[0]-H[0]}function N(H,ft){var ct=H.sort(G).pop(),K,$,et;for(rt=[],_t=new Array(H.length),xt=new o,Nt=new o;;)if(et=S,ct&&(!et||ct[1]<et.y||ct[1]===et.y&&ct[0]<et.x))(ct[0]!==K||ct[1]!==$)&&(W(ct),K=ct[0],$=ct[1]),ct=H.pop();else if(et)Y(et.arc);else break;if(m(),ft){var B=+ft[0][0],w=+ft[0][1],R=+ft[1][0],V=+ft[1][1];d(B,w,R,V),M(B,w,R,V)}this.edges=rt,this.cells=_t,xt=Nt=rt=_t=null}N.prototype={constructor:N,polygons:function(){var H=this.edges;return this.cells.map(function(ft){var ct=ft.halfedges.map(function(K){return E(ft,H[K])});return ct.data=ft.site.data,ct})},triangles:function(){var H=[],ft=this.edges;return this.cells.forEach(function(ct,K){if(!!(w=(et=ct.halfedges).length))for(var $=ct.site,et,B=-1,w,R,V=ft[et[w-1]],tt=V.left===$?V.right:V.left;++B<w;)R=tt,V=ft[et[B]],tt=V.left===$?V.right:V.left,R&&tt&&K<R.index&&K<tt.index&&q($,R,tt)<0&&H.push([$.data,R.data,tt.data])}),H},links:function(){return this.edges.filter(function(H){return H.right}).map(function(H){return{source:H.left.data,target:H.right.data}})},find:function(H,ft,ct){for(var K=this,$,et=K._found||0,B=K.cells.length,w;!(w=K.cells[et]);)if(++et>=B)return null;var R=H-w.site[0],V=ft-w.site[1],tt=R*R+V*V;do w=K.cells[$=et],et=null,w.halfedges.forEach(function(lt){var Et=K.edges[lt],ot=Et.left;if(!((ot===w.site||!ot)&&!(ot=Et.right))){var Mt=H-ot[0],Ot=ft-ot[1],Ft=Mt*Mt+Ot*Ot;Ft<tt&&(tt=Ft,et=ot.index)}});while(et!==null);return K._found=$,ct==null||tt<=ct*ct?w.site:null}};function at(){var H=s,ft=v,ct=null;function K($){return new N($.map(function(et,B){var w=[Math.round(H(et,B,$)/nt)*nt,Math.round(ft(et,B,$)/nt)*nt];return w.index=B,w.data=et,w}),ct)}return K.polygons=function($){return K($).polygons()},K.links=function($){return K($).links()},K.triangles=function($){return K($).triangles()},K.x=function($){return arguments.length?(H=typeof $=="function"?$:c(+$),K):H},K.y=function($){return arguments.length?(ft=typeof $=="function"?$:c(+$),K):ft},K.extent=function($){return arguments.length?(ct=$==null?null:[[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]],K):ct&&[[ct[0][0],ct[0][1]],[ct[1][0],ct[1][1]]]},K.size=function($){return arguments.length?(ct=$==null?null:[[0,0],[+$[0],+$[1]]],K):ct&&[ct[1][0]-ct[0][0],ct[1][1]-ct[0][1]]},K}t.voronoi=at,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_dagre@0.8.5@dagre/index.js":function(P,x,i){P.exports={graphlib:i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js"),layout:i("./node_modules/_dagre@0.8.5@dagre/lib/layout.js"),debug:i("./node_modules/_dagre@0.8.5@dagre/lib/debug.js"),util:{time:i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").time,notime:i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").notime},version:i("./node_modules/_dagre@0.8.5@dagre/lib/version.js")}},"./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js");P.exports={run:s,undo:o};function s(f){var r=f.graph().acyclicer==="greedy"?c(f,e(f)):v(f);t.forEach(r,function(n){var a=f.edge(n);f.removeEdge(n),a.forwardName=n.name,a.reversed=!0,f.setEdge(n.w,n.v,a,t.uniqueId("rev"))});function e(n){return function(a){return n.edge(a).weight}}}function v(f){var r=[],e={},n={};function a(u){t.has(n,u)||(n[u]=!0,e[u]=!0,t.forEach(f.outEdges(u),function(l){t.has(e,l.w)?r.push(l):a(l.w)}),delete e[u])}return t.forEach(f.nodes(),a),r}function o(f){t.forEach(f.edges(),function(r){var e=f.edge(r);if(e.reversed){f.removeEdge(r);var n=e.forwardName;delete e.reversed,delete e.forwardName,f.setEdge(r.w,r.v,e,n)}})}},"./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=s;function s(o){function f(r){var e=o.children(r),n=o.node(r);if(e.length&&t.forEach(e,f),t.has(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,u=n.maxRank+1;a<u;++a)v(o,"borderLeft","_bl",r,n,a),v(o,"borderRight","_br",r,n,a)}}t.forEach(o.children(),f)}function v(o,f,r,e,n,a){var u={width:0,height:0,rank:a,borderType:f},l=n[f][a-1],h=c.addDummyNode(o,"border",u,r);n[f][a]=h,o.setParent(h,e),l&&o.setEdge(l,h,{weight:1})}},"./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports={adjust:c,undo:s};function c(a){var u=a.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&v(a)}function s(a){var u=a.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&f(a),(u==="lr"||u==="rl")&&(e(a),v(a))}function v(a){t.forEach(a.nodes(),function(u){o(a.node(u))}),t.forEach(a.edges(),function(u){o(a.edge(u))})}function o(a){var u=a.width;a.width=a.height,a.height=u}function f(a){t.forEach(a.nodes(),function(u){r(a.node(u))}),t.forEach(a.edges(),function(u){var l=a.edge(u);t.forEach(l.points,r),t.has(l,"y")&&r(l)})}function r(a){a.y=-a.y}function e(a){t.forEach(a.nodes(),function(u){n(a.node(u))}),t.forEach(a.edges(),function(u){var l=a.edge(u);t.forEach(l.points,n),t.has(l,"x")&&n(l)})}function n(a){var u=a.x;a.x=a.y,a.y=u}},"./node_modules/_dagre@0.8.5@dagre/lib/data/list.js":function(P,x){P.exports=i;function i(){var s={};s._next=s._prev=s,this._sentinel=s}i.prototype.dequeue=function(){var s=this._sentinel,v=s._prev;if(v!==s)return t(v),v},i.prototype.enqueue=function(s){var v=this._sentinel;s._prev&&s._next&&t(s),s._next=v._next,v._next._prev=s,v._next=s,s._prev=v},i.prototype.toString=function(){for(var s=[],v=this._sentinel,o=v._prev;o!==v;)s.push(JSON.stringify(o,c)),o=o._prev;return"["+s.join(", ")+"]"};function t(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function c(s,v){if(s!=="_next"&&s!=="_prev")return v}},"./node_modules/_dagre@0.8.5@dagre/lib/debug.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports={debugOrdering:v};function v(o){var f=c.buildLayerMatrix(o),r=new s({compound:!0,multigraph:!0}).setGraph({});return t.forEach(o.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+o.node(e).rank)}),t.forEach(o.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),t.forEach(f,function(e,n){var a="layer"+n;r.setNode(a,{rank:"same"}),t.reduce(e,function(u,l){return r.setEdge(u,l,{style:"invis"}),l})}),r}},"./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js":function(P,x,i){var t;try{t=i("./node_modules/_graphlib@2.1.8@graphlib/index.js")}catch(c){}t||(t=window.graphlib),P.exports=t},"./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/data/list.js");P.exports=o;var v=t.constant(1);function o(a,u){if(a.nodeCount()<=1)return[];var l=e(a,u||v),h=f(l.graph,l.buckets,l.zeroIdx);return t.flatten(t.map(h,function(p){return a.outEdges(p.v,p.w)}),!0)}function f(a,u,l){for(var h=[],p=u[u.length-1],d=u[0],g;a.nodeCount();){for(;g=d.dequeue();)r(a,u,l,g);for(;g=p.dequeue();)r(a,u,l,g);if(a.nodeCount()){for(var y=u.length-2;y>0;--y)if(g=u[y].dequeue(),g){h=h.concat(r(a,u,l,g,!0));break}}}return h}function r(a,u,l,h,p){var d=p?[]:void 0;return t.forEach(a.inEdges(h.v),function(g){var y=a.edge(g),E=a.node(g.v);p&&d.push({v:g.v,w:g.w}),E.out-=y,n(u,l,E)}),t.forEach(a.outEdges(h.v),function(g){var y=a.edge(g),E=g.w,C=a.node(E);C.in-=y,n(u,l,C)}),a.removeNode(h.v),d}function e(a,u){var l=new c,h=0,p=0;t.forEach(a.nodes(),function(y){l.setNode(y,{v:y,in:0,out:0})}),t.forEach(a.edges(),function(y){var E=l.edge(y.v,y.w)||0,C=u(y),m=E+C;l.setEdge(y.v,y.w,m),p=Math.max(p,l.node(y.v).out+=C),h=Math.max(h,l.node(y.w).in+=C)});var d=t.range(p+h+3).map(function(){return new s}),g=h+1;return t.forEach(l.nodes(),function(y){n(d,g,l.node(y))}),{graph:l,buckets:d,zeroIdx:g}}function n(a,u,l){l.out?l.in?a[l.out-l.in+u].enqueue(l):a[a.length-1].enqueue(l):a[0].enqueue(l)}},"./node_modules/_dagre@0.8.5@dagre/lib/layout.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/normalize.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js"),o=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").normalizeRanks,f=i("./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js"),r=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").removeEmptyRanks,e=i("./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js"),n=i("./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js"),a=i("./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js"),u=i("./node_modules/_dagre@0.8.5@dagre/lib/order/index.js"),l=i("./node_modules/_dagre@0.8.5@dagre/lib/position/index.js"),h=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),p=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports=d;function d(q,G){var N=G&&G.debugTiming?h.time:h.notime;N("layout",function(){var at=N("  buildLayoutGraph",function(){return O(q)});N("  runLayout",function(){g(at,N)}),N("  updateInputGraph",function(){y(q,at)})})}function g(q,G){G("    makeSpaceForEdgeLabels",function(){D(q)}),G("    removeSelfEdges",function(){Q(q)}),G("    acyclic",function(){c.run(q)}),G("    nestingGraph.run",function(){e.run(q)}),G("    rank",function(){v(h.asNonCompoundGraph(q))}),G("    injectEdgeLabelProxies",function(){L(q)}),G("    removeEmptyRanks",function(){r(q)}),G("    nestingGraph.cleanup",function(){e.cleanup(q)}),G("    normalizeRanks",function(){o(q)}),G("    assignRankMinMax",function(){Z(q)}),G("    removeEdgeLabelProxies",function(){U(q)}),G("    normalize.run",function(){s.run(q)}),G("    parentDummyChains",function(){f(q)}),G("    addBorderSegments",function(){n(q)}),G("    order",function(){u(q)}),G("    insertSelfEdges",function(){xt(q)}),G("    adjustCoordinateSystem",function(){a.adjust(q)}),G("    position",function(){l(q)}),G("    positionSelfEdges",function(){_t(q)}),G("    removeBorderNodes",function(){nt(q)}),G("    normalize.undo",function(){s.undo(q)}),G("    fixupEdgeLabelCoords",function(){J(q)}),G("    undoCoordinateSystem",function(){a.undo(q)}),G("    translateGraph",function(){Y(q)}),G("    assignNodeIntersects",function(){W(q)}),G("    reversePoints",function(){ht(q)}),G("    acyclic.undo",function(){c.undo(q)})}function y(q,G){t.forEach(q.nodes(),function(N){var at=q.node(N),H=G.node(N);at&&(at.x=H.x,at.y=H.y,G.children(N).length&&(at.width=H.width,at.height=H.height))}),t.forEach(q.edges(),function(N){var at=q.edge(N),H=G.edge(N);at.points=H.points,t.has(H,"x")&&(at.x=H.x,at.y=H.y)}),q.graph().width=G.graph().width,q.graph().height=G.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],C={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],M=["width","height"],b={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function O(q){var G=new p({multigraph:!0,compound:!0}),N=rt(q.graph());return G.setGraph(t.merge({},C,Nt(N,E),t.pick(N,m))),t.forEach(q.nodes(),function(at){var H=rt(q.node(at));G.setNode(at,t.defaults(Nt(H,M),b)),G.setParent(at,q.parent(at))}),t.forEach(q.edges(),function(at){var H=rt(q.edge(at));G.setEdge(at,t.merge({},A,Nt(H,S),t.pick(H,T)))}),G}function D(q){var G=q.graph();G.ranksep/=2,t.forEach(q.edges(),function(N){var at=q.edge(N);at.minlen*=2,at.labelpos.toLowerCase()!=="c"&&(G.rankdir==="TB"||G.rankdir==="BT"?at.width+=at.labeloffset:at.height+=at.labeloffset)})}function L(q){t.forEach(q.edges(),function(G){var N=q.edge(G);if(N.width&&N.height){var at=q.node(G.v),H=q.node(G.w),ft={rank:(H.rank-at.rank)/2+at.rank,e:G};h.addDummyNode(q,"edge-proxy",ft,"_ep")}})}function Z(q){var G=0;t.forEach(q.nodes(),function(N){var at=q.node(N);at.borderTop&&(at.minRank=q.node(at.borderTop).rank,at.maxRank=q.node(at.borderBottom).rank,G=t.max(G,at.maxRank))}),q.graph().maxRank=G}function U(q){t.forEach(q.nodes(),function(G){var N=q.node(G);N.dummy==="edge-proxy"&&(q.edge(N.e).labelRank=N.rank,q.removeNode(G))})}function Y(q){var G=Number.POSITIVE_INFINITY,N=0,at=Number.POSITIVE_INFINITY,H=0,ft=q.graph(),ct=ft.marginx||0,K=ft.marginy||0;function $(et){var B=et.x,w=et.y,R=et.width,V=et.height;G=Math.min(G,B-R/2),N=Math.max(N,B+R/2),at=Math.min(at,w-V/2),H=Math.max(H,w+V/2)}t.forEach(q.nodes(),function(et){$(q.node(et))}),t.forEach(q.edges(),function(et){var B=q.edge(et);t.has(B,"x")&&$(B)}),G-=ct,at-=K,t.forEach(q.nodes(),function(et){var B=q.node(et);B.x-=G,B.y-=at}),t.forEach(q.edges(),function(et){var B=q.edge(et);t.forEach(B.points,function(w){w.x-=G,w.y-=at}),t.has(B,"x")&&(B.x-=G),t.has(B,"y")&&(B.y-=at)}),ft.width=N-G+ct,ft.height=H-at+K}function W(q){t.forEach(q.edges(),function(G){var N=q.edge(G),at=q.node(G.v),H=q.node(G.w),ft,ct;N.points?(ft=N.points[0],ct=N.points[N.points.length-1]):(N.points=[],ft=H,ct=at),N.points.unshift(h.intersectRect(at,ft)),N.points.push(h.intersectRect(H,ct))})}function J(q){t.forEach(q.edges(),function(G){var N=q.edge(G);if(t.has(N,"x"))switch((N.labelpos==="l"||N.labelpos==="r")&&(N.width-=N.labeloffset),N.labelpos){case"l":N.x-=N.width/2+N.labeloffset;break;case"r":N.x+=N.width/2+N.labeloffset;break}})}function ht(q){t.forEach(q.edges(),function(G){var N=q.edge(G);N.reversed&&N.points.reverse()})}function nt(q){t.forEach(q.nodes(),function(G){if(q.children(G).length){var N=q.node(G),at=q.node(N.borderTop),H=q.node(N.borderBottom),ft=q.node(t.last(N.borderLeft)),ct=q.node(t.last(N.borderRight));N.width=Math.abs(ct.x-ft.x),N.height=Math.abs(H.y-at.y),N.x=ft.x+N.width/2,N.y=at.y+N.height/2}}),t.forEach(q.nodes(),function(G){q.node(G).dummy==="border"&&q.removeNode(G)})}function Q(q){t.forEach(q.edges(),function(G){if(G.v===G.w){var N=q.node(G.v);N.selfEdges||(N.selfEdges=[]),N.selfEdges.push({e:G,label:q.edge(G)}),q.removeEdge(G)}})}function xt(q){var G=h.buildLayerMatrix(q);t.forEach(G,function(N){var at=0;t.forEach(N,function(H,ft){var ct=q.node(H);ct.order=ft+at,t.forEach(ct.selfEdges,function(K){h.addDummyNode(q,"selfedge",{width:K.label.width,height:K.label.height,rank:ct.rank,order:ft+ ++at,e:K.e,label:K.label},"_se")}),delete ct.selfEdges})})}function _t(q){t.forEach(q.nodes(),function(G){var N=q.node(G);if(N.dummy==="selfedge"){var at=q.node(N.e.v),H=at.x+at.width/2,ft=at.y,ct=N.x-H,K=at.height/2;q.setEdge(N.e,N.label),q.removeNode(G),N.label.points=[{x:H+2*ct/3,y:ft-K},{x:H+5*ct/6,y:ft-K},{x:H+ct,y:ft},{x:H+5*ct/6,y:ft+K},{x:H+2*ct/3,y:ft+K}],N.label.x=N.x,N.label.y=N.y}})}function Nt(q,G){return t.mapValues(t.pick(q,G),Number)}function rt(q){var G={};return t.forEach(q,function(N,at){G[at.toLowerCase()]=N}),G}},"./node_modules/_dagre@0.8.5@dagre/lib/lodash.js":function(P,x,i){var t;try{t={cloneDeep:i("./node_modules/_lodash@4.17.20@lodash/cloneDeep.js"),constant:i("./node_modules/_lodash@4.17.20@lodash/constant.js"),defaults:i("./node_modules/_lodash@4.17.20@lodash/defaults.js"),each:i("./node_modules/_lodash@4.17.20@lodash/each.js"),filter:i("./node_modules/_lodash@4.17.20@lodash/filter.js"),find:i("./node_modules/_lodash@4.17.20@lodash/find.js"),flatten:i("./node_modules/_lodash@4.17.20@lodash/flatten.js"),forEach:i("./node_modules/_lodash@4.17.20@lodash/forEach.js"),forIn:i("./node_modules/_lodash@4.17.20@lodash/forIn.js"),has:i("./node_modules/_lodash@4.17.20@lodash/has.js"),isUndefined:i("./node_modules/_lodash@4.17.20@lodash/isUndefined.js"),last:i("./node_modules/_lodash@4.17.20@lodash/last.js"),map:i("./node_modules/_lodash@4.17.20@lodash/map.js"),mapValues:i("./node_modules/_lodash@4.17.20@lodash/mapValues.js"),max:i("./node_modules/_lodash@4.17.20@lodash/max.js"),merge:i("./node_modules/_lodash@4.17.20@lodash/merge.js"),min:i("./node_modules/_lodash@4.17.20@lodash/min.js"),minBy:i("./node_modules/_lodash@4.17.20@lodash/minBy.js"),now:i("./node_modules/_lodash@4.17.20@lodash/now.js"),pick:i("./node_modules/_lodash@4.17.20@lodash/pick.js"),range:i("./node_modules/_lodash@4.17.20@lodash/range.js"),reduce:i("./node_modules/_lodash@4.17.20@lodash/reduce.js"),sortBy:i("./node_modules/_lodash@4.17.20@lodash/sortBy.js"),uniqueId:i("./node_modules/_lodash@4.17.20@lodash/uniqueId.js"),values:i("./node_modules/_lodash@4.17.20@lodash/values.js"),zipObject:i("./node_modules/_lodash@4.17.20@lodash/zipObject.js")}}catch(c){}t||(t=window._),P.exports=t},"./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={run:s,cleanup:r};function s(e){var n=c.addDummyNode(e,"root",{},"_root"),a=o(e),u=t.max(t.values(a))-1,l=2*u+1;e.graph().nestingRoot=n,t.forEach(e.edges(),function(p){e.edge(p).minlen*=l});var h=f(e)+1;t.forEach(e.children(),function(p){v(e,n,l,h,u,a,p)}),e.graph().nodeRankFactor=l}function v(e,n,a,u,l,h,p){var d=e.children(p);if(!d.length){p!==n&&e.setEdge(n,p,{weight:0,minlen:a});return}var g=c.addBorderNode(e,"_bt"),y=c.addBorderNode(e,"_bb"),E=e.node(p);e.setParent(g,p),E.borderTop=g,e.setParent(y,p),E.borderBottom=y,t.forEach(d,function(C){v(e,n,a,u,l,h,C);var m=e.node(C),M=m.borderTop?m.borderTop:C,b=m.borderBottom?m.borderBottom:C,S=m.borderTop?u:2*u,A=M!==b?1:l-h[p]+1;e.setEdge(g,M,{weight:S,minlen:A,nestingEdge:!0}),e.setEdge(b,y,{weight:S,minlen:A,nestingEdge:!0})}),e.parent(p)||e.setEdge(n,g,{weight:0,minlen:l+h[p]})}function o(e){var n={};function a(u,l){var h=e.children(u);h&&h.length&&t.forEach(h,function(p){a(p,l+1)}),n[u]=l}return t.forEach(e.children(),function(u){a(u,1)}),n}function f(e){return t.reduce(e.edges(),function(n,a){return n+e.edge(a).weight},0)}function r(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,t.forEach(e.edges(),function(a){var u=e.edge(a);u.nestingEdge&&e.removeEdge(a)})}},"./node_modules/_dagre@0.8.5@dagre/lib/normalize.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={run:s,undo:o};function s(f){f.graph().dummyChains=[],t.forEach(f.edges(),function(r){v(f,r)})}function v(f,r){var e=r.v,n=f.node(e).rank,a=r.w,u=f.node(a).rank,l=r.name,h=f.edge(r),p=h.labelRank;if(u!==n+1){f.removeEdge(r);var d,g,y;for(y=0,++n;n<u;++y,++n)h.points=[],g={width:0,height:0,edgeLabel:h,edgeObj:r,rank:n},d=c.addDummyNode(f,"edge",g,"_d"),n===p&&(g.width=h.width,g.height=h.height,g.dummy="edge-label",g.labelpos=h.labelpos),f.setEdge(e,d,{weight:h.weight},l),y===0&&f.graph().dummyChains.push(d),e=d;f.setEdge(e,a,{weight:h.weight},l)}}function o(f){t.forEach(f.graph().dummyChains,function(r){var e=f.node(r),n=e.edgeLabel,a;for(f.setEdge(e.edgeObj,n);e.dummy;)a=f.successors(r)[0],f.removeNode(r),n.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height),r=a,e=f.node(r)})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s,v,o){var f={},r;t.forEach(o,function(e){for(var n=s.parent(e),a,u;n;){if(a=s.parent(n),a?(u=f[a],f[a]=n):(u=r,r=n),u&&u!==n){v.setEdge(u,n);return}n=a}})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s,v){return t.map(v,function(o){var f=s.inEdges(o);if(f.length){var r=t.reduce(f,function(e,n){var a=s.edge(n),u=s.node(n.v);return{sum:e.sum+a.weight*u.order,weight:e.weight+a.weight}},{sum:0,weight:0});return{v:o,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:o}})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports=s;function s(o,f,r){var e=v(o),n=new c({compound:!0}).setGraph({root:e}).setDefaultNodeLabel(function(a){return o.node(a)});return t.forEach(o.nodes(),function(a){var u=o.node(a),l=o.parent(a);(u.rank===f||u.minRank<=f&&f<=u.maxRank)&&(n.setNode(a),n.setParent(a,l||e),t.forEach(o[r](a),function(h){var p=h.v===a?h.w:h.v,d=n.edge(p,a),g=t.isUndefined(d)?0:d.weight;n.setEdge(p,a,{weight:o.edge(h).weight+g})}),t.has(u,"minRank")&&n.setNode(a,{borderLeft:u.borderLeft[f],borderRight:u.borderRight[f]}))}),n}function v(o){for(var f;o.hasNode(f=t.uniqueId("_root")););return f}},"./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(v,o){for(var f=0,r=1;r<o.length;++r)f+=s(v,o[r-1],o[r]);return f}function s(v,o,f){for(var r=t.zipObject(f,t.map(f,function(h,p){return p})),e=t.flatten(t.map(o,function(h){return t.sortBy(t.map(v.outEdges(h),function(p){return{pos:r[p.w],weight:v.edge(p).weight}}),"pos")}),!0),n=1;n<f.length;)n<<=1;var a=2*n-1;n-=1;var u=t.map(new Array(a),function(){return 0}),l=0;return t.forEach(e.forEach(function(h){var p=h.pos+n;u[p]+=h.weight;for(var d=0;p>0;)p%2&&(d+=u[p+1]),p=p-1>>1,u[p]+=h.weight;l+=h.weight*d})),l}},"./node_modules/_dagre@0.8.5@dagre/lib/order/index.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js"),o=i("./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js"),f=i("./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js"),r=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,e=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=n;function n(h){var p=e.maxRank(h),d=a(h,t.range(1,p+1),"inEdges"),g=a(h,t.range(p-1,-1,-1),"outEdges"),y=c(h);l(h,y);for(var E=Number.POSITIVE_INFINITY,C,m=0,M=0;M<4;++m,++M){u(m%2?d:g,m%4>=2),y=e.buildLayerMatrix(h);var b=s(h,y);b<E&&(M=0,C=t.cloneDeep(y),E=b)}l(h,C)}function a(h,p,d){return t.map(p,function(g){return o(h,g,d)})}function u(h,p){var d=new r;t.forEach(h,function(g){var y=g.graph().root,E=v(g,y,d,p);t.forEach(E.vs,function(C,m){g.node(C).order=m}),f(g,d,E.vs)})}function l(h,p){t.forEach(p,function(d){t.forEach(d,function(g,y){h.node(g).order=y})})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s){var v={},o=t.filter(s.nodes(),function(a){return!s.children(a).length}),f=t.max(t.map(o,function(a){return s.node(a).rank})),r=t.map(t.range(f+1),function(){return[]});function e(a){if(!t.has(v,a)){v[a]=!0;var u=s.node(a);r[u.rank].push(a),t.forEach(s.successors(a),e)}}var n=t.sortBy(o,function(a){return s.node(a).rank});return t.forEach(n,e),r}},"./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(o,f){var r={};t.forEach(o,function(n,a){var u=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};t.isUndefined(n.barycenter)||(u.barycenter=n.barycenter,u.weight=n.weight)}),t.forEach(f.edges(),function(n){var a=r[n.v],u=r[n.w];!t.isUndefined(a)&&!t.isUndefined(u)&&(u.indegree++,a.out.push(r[n.w]))});var e=t.filter(r,function(n){return!n.indegree});return s(e)}function s(o){var f=[];function r(a){return function(u){u.merged||(t.isUndefined(u.barycenter)||t.isUndefined(a.barycenter)||u.barycenter>=a.barycenter)&&v(a,u)}}function e(a){return function(u){u.in.push(a),--u.indegree==0&&o.push(u)}}for(;o.length;){var n=o.pop();f.push(n),t.forEach(n.in.reverse(),r(n)),t.forEach(n.out,e(n))}return t.map(t.filter(f,function(a){return!a.merged}),function(a){return t.pick(a,["vs","i","barycenter","weight"])})}function v(o,f){var r=0,e=0;o.weight&&(r+=o.barycenter*o.weight,e+=o.weight),f.weight&&(r+=f.barycenter*f.weight,e+=f.weight),o.vs=f.vs.concat(o.vs),o.barycenter=r/e,o.weight=e,o.i=Math.min(f.i,o.i),f.merged=!0}},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js");P.exports=o;function o(e,n,a,u){var l=e.children(n),h=e.node(n),p=h?h.borderLeft:void 0,d=h?h.borderRight:void 0,g={};p&&(l=t.filter(l,function(b){return b!==p&&b!==d}));var y=c(e,l);t.forEach(y,function(b){if(e.children(b.v).length){var S=o(e,b.v,a,u);g[b.v]=S,t.has(S,"barycenter")&&r(b,S)}});var E=s(y,a);f(E,g);var C=v(E,u);if(p&&(C.vs=t.flatten([p,C.vs,d],!0),e.predecessors(p).length)){var m=e.node(e.predecessors(p)[0]),M=e.node(e.predecessors(d)[0]);t.has(C,"barycenter")||(C.barycenter=0,C.weight=0),C.barycenter=(C.barycenter*C.weight+m.order+M.order)/(C.weight+2),C.weight+=2}return C}function f(e,n){t.forEach(e,function(a){a.vs=t.flatten(a.vs.map(function(u){return n[u]?n[u].vs:u}),!0)})}function r(e,n){t.isUndefined(e.barycenter)?(e.barycenter=n.barycenter,e.weight=n.weight):(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight)}},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=s;function s(f,r){var e=c.partition(f,function(g){return t.has(g,"barycenter")}),n=e.lhs,a=t.sortBy(e.rhs,function(g){return-g.i}),u=[],l=0,h=0,p=0;n.sort(o(!!r)),p=v(u,a,p),t.forEach(n,function(g){p+=g.vs.length,u.push(g.vs),l+=g.barycenter*g.weight,h+=g.weight,p=v(u,a,p)});var d={vs:t.flatten(u,!0)};return h&&(d.barycenter=l/h,d.weight=h),d}function v(f,r,e){for(var n;r.length&&(n=t.last(r)).i<=e;)r.pop(),f.push(n.vs),e++;return e}function o(f){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:f?e.i-r.i:r.i-e.i}}},"./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js":function(P,x,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(o){var f=v(o);t.forEach(o.graph().dummyChains,function(r){for(var e=o.node(r),n=e.edgeObj,a=s(o,f,n.v,n.w),u=a.path,l=a.lca,h=0,p=u[h],d=!0;r!==n.w;){if(e=o.node(r),d){for(;(p=u[h])!==l&&o.node(p).maxRank<e.rank;)h++;p===l&&(d=!1)}if(!d){for(;h<u.length-1&&o.node(p=u[h+1]).minRank<=e.rank;)h++;p=u[h]}o.setParent(r,p),r=o.successors(r)[0]}})}function s(o,f,r,e){var n=[],a=[],u=Math.min(f[r].low,f[e].low),l=Math.max(f[r].lim,f[e].lim),h,p;h=r;do h=o.parent(h),n.push(h);while(h&&(f[h].low>u||l>f[h].lim));for(p=h,h=e;(h=o.parent(h))!==p;)a.push(h);return{path:n.concat(a.reverse()),lca:p}}function v(o){var f={},r=0;function e(n){var a=r;t.forEach(o.children(n),e),f[n]={low:a,lim:r++}}return t.forEach(o.children(),e),f}},"./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={positionX:d,findType1Conflicts:v,findType2Conflicts:o,addConflict:r,hasConflict:e,verticalAlignment:n,horizontalCompaction:a,alignCoordinates:h,findSmallestWidthAlignment:l,balance:p};function v(E,C){var m={};function M(b,S){var A=0,T=0,O=b.length,D=t.last(S);return t.forEach(S,function(L,Z){var U=f(E,L),Y=U?E.node(U).order:O;(U||L===D)&&(t.forEach(S.slice(T,Z+1),function(W){t.forEach(E.predecessors(W),function(J){var ht=E.node(J),nt=ht.order;(nt<A||Y<nt)&&!(ht.dummy&&E.node(W).dummy)&&r(m,J,W)})}),T=Z+1,A=Y)}),S}return t.reduce(C,M),m}function o(E,C){var m={};function M(S,A,T,O,D){var L;t.forEach(t.range(A,T),function(Z){L=S[Z],E.node(L).dummy&&t.forEach(E.predecessors(L),function(U){var Y=E.node(U);Y.dummy&&(Y.order<O||Y.order>D)&&r(m,U,L)})})}function b(S,A){var T=-1,O,D=0;return t.forEach(A,function(L,Z){if(E.node(L).dummy==="border"){var U=E.predecessors(L);U.length&&(O=E.node(U[0]).order,M(A,D,Z,T,O),D=Z,T=O)}M(A,D,A.length,O,S.length)}),A}return t.reduce(C,b),m}function f(E,C){if(E.node(C).dummy)return t.find(E.predecessors(C),function(m){return E.node(m).dummy})}function r(E,C,m){if(C>m){var M=C;C=m,m=M}var b=E[C];b||(E[C]=b={}),b[m]=!0}function e(E,C,m){if(C>m){var M=C;C=m,m=M}return t.has(E[C],m)}function n(E,C,m,M){var b={},S={},A={};return t.forEach(C,function(T){t.forEach(T,function(O,D){b[O]=O,S[O]=O,A[O]=D})}),t.forEach(C,function(T){var O=-1;t.forEach(T,function(D){var L=M(D);if(L.length){L=t.sortBy(L,function(J){return A[J]});for(var Z=(L.length-1)/2,U=Math.floor(Z),Y=Math.ceil(Z);U<=Y;++U){var W=L[U];S[D]===D&&O<A[W]&&!e(m,D,W)&&(S[W]=D,S[D]=b[D]=b[W],O=A[W])}}})}),{root:b,align:S}}function a(E,C,m,M,b){var S={},A=u(E,C,m,b),T=b?"borderLeft":"borderRight";function O(Z,U){for(var Y=A.nodes(),W=Y.pop(),J={};W;)J[W]?Z(W):(J[W]=!0,Y.push(W),Y=Y.concat(U(W))),W=Y.pop()}function D(Z){S[Z]=A.inEdges(Z).reduce(function(U,Y){return Math.max(U,S[Y.v]+A.edge(Y))},0)}function L(Z){var U=A.outEdges(Z).reduce(function(W,J){return Math.min(W,S[J.w]-A.edge(J))},Number.POSITIVE_INFINITY),Y=E.node(Z);U!==Number.POSITIVE_INFINITY&&Y.borderType!==T&&(S[Z]=Math.max(S[Z],U))}return O(D,A.predecessors.bind(A)),O(L,A.successors.bind(A)),t.forEach(M,function(Z){S[Z]=S[m[Z]]}),S}function u(E,C,m,M){var b=new c,S=E.graph(),A=g(S.nodesep,S.edgesep,M);return t.forEach(C,function(T){var O;t.forEach(T,function(D){var L=m[D];if(b.setNode(L),O){var Z=m[O],U=b.edge(Z,L);b.setEdge(Z,L,Math.max(A(E,D,O),U||0))}O=D})}),b}function l(E,C){return t.minBy(t.values(C),function(m){var M=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY;return t.forIn(m,function(S,A){var T=y(E,A)/2;M=Math.max(S+T,M),b=Math.min(S-T,b)}),M-b})}function h(E,C){var m=t.values(C),M=t.min(m),b=t.max(m);t.forEach(["u","d"],function(S){t.forEach(["l","r"],function(A){var T=S+A,O=E[T],D;if(O!==C){var L=t.values(O);D=A==="l"?M-t.min(L):b-t.max(L),D&&(E[T]=t.mapValues(O,function(Z){return Z+D}))}})})}function p(E,C){return t.mapValues(E.ul,function(m,M){if(C)return E[C.toLowerCase()][M];var b=t.sortBy(t.map(E,M));return(b[1]+b[2])/2})}function d(E){var C=s.buildLayerMatrix(E),m=t.merge(v(E,C),o(E,C)),M={},b;t.forEach(["u","d"],function(A){b=A==="u"?C:t.values(C).reverse(),t.forEach(["l","r"],function(T){T==="r"&&(b=t.map(b,function(Z){return t.values(Z).reverse()}));var O=(A==="u"?E.predecessors:E.successors).bind(E),D=n(E,b,m,O),L=a(E,b,D.root,D.align,T==="r");T==="r"&&(L=t.mapValues(L,function(Z){return-Z})),M[A+T]=L})});var S=l(E,M);return h(M,S),p(M,E.graph().align)}function g(E,C,m){return function(M,b,S){var A=M.node(b),T=M.node(S),O=0,D;if(O+=A.width/2,t.has(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":D=-A.width/2;break;case"r":D=A.width/2;break}if(D&&(O+=m?D:-D),D=0,O+=(A.dummy?C:E)/2,O+=(T.dummy?C:E)/2,O+=T.width/2,t.has(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":D=T.width/2;break;case"r":D=-T.width/2;break}return D&&(O+=m?D:-D),D=0,O}}function y(E,C){return E.node(C).width}},"./node_modules/_dagre@0.8.5@dagre/lib/position/index.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js").positionX;P.exports=v;function v(f){f=c.asNonCompoundGraph(f),o(f),t.forEach(s(f),function(r,e){f.node(e).x=r})}function o(f){var r=c.buildLayerMatrix(f),e=f.graph().ranksep,n=0;t.forEach(r,function(a){var u=t.max(t.map(a,function(l){return f.node(l).height}));t.forEach(a,function(l){f.node(l).y=n+u/2}),n+=u+e})}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack;P.exports=v;function v(e){var n=new c({directed:!1}),a=e.nodes()[0],u=e.nodeCount();n.setNode(a,{});for(var l,h;o(n,e)<u;)l=f(n,e),h=n.hasNode(l.v)?s(e,l):-s(e,l),r(n,e,h);return n}function o(e,n){function a(u){t.forEach(n.nodeEdges(u),function(l){var h=l.v,p=u===h?l.w:h;!e.hasNode(p)&&!s(n,l)&&(e.setNode(p,{}),e.setEdge(u,p,{}),a(p))})}return t.forEach(e.nodes(),a),e.nodeCount()}function f(e,n){return t.minBy(n.edges(),function(a){if(e.hasNode(a.v)!==e.hasNode(a.w))return s(n,a)})}function r(e,n,a){t.forEach(e.nodes(),function(u){n.node(u).rank+=a})}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js"),c=t.longestPath,s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js");P.exports=o;function o(n){switch(n.graph().ranker){case"network-simplex":e(n);break;case"tight-tree":r(n);break;case"longest-path":f(n);break;default:e(n)}}var f=c;function r(n){c(n),s(n)}function e(n){v(n)}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack,v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").longestPath,o=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.preorder,f=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.postorder,r=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").simplify;P.exports=e,e.initLowLimValues=l,e.initCutValues=n,e.calcCutValue=u,e.leaveEdge=p,e.enterEdge=d,e.exchangeEdges=g;function e(m){m=r(m),v(m);var M=c(m);l(M),n(M,m);for(var b,S;b=p(M);)S=d(M,m,b),g(M,m,b,S)}function n(m,M){var b=f(m,m.nodes());b=b.slice(0,b.length-1),t.forEach(b,function(S){a(m,M,S)})}function a(m,M,b){var S=m.node(b),A=S.parent;m.edge(b,A).cutvalue=u(m,M,b)}function u(m,M,b){var S=m.node(b),A=S.parent,T=!0,O=M.edge(b,A),D=0;return O||(T=!1,O=M.edge(A,b)),D=O.weight,t.forEach(M.nodeEdges(b),function(L){var Z=L.v===b,U=Z?L.w:L.v;if(U!==A){var Y=Z===T,W=M.edge(L).weight;if(D+=Y?W:-W,E(m,b,U)){var J=m.edge(b,U).cutvalue;D+=Y?-J:J}}}),D}function l(m,M){arguments.length<2&&(M=m.nodes()[0]),h(m,{},1,M)}function h(m,M,b,S,A){var T=b,O=m.node(S);return M[S]=!0,t.forEach(m.neighbors(S),function(D){t.has(M,D)||(b=h(m,M,b,D,S))}),O.low=T,O.lim=b++,A?O.parent=A:delete O.parent,b}function p(m){return t.find(m.edges(),function(M){return m.edge(M).cutvalue<0})}function d(m,M,b){var S=b.v,A=b.w;M.hasEdge(S,A)||(S=b.w,A=b.v);var T=m.node(S),O=m.node(A),D=T,L=!1;T.lim>O.lim&&(D=O,L=!0);var Z=t.filter(M.edges(),function(U){return L===C(m,m.node(U.v),D)&&L!==C(m,m.node(U.w),D)});return t.minBy(Z,function(U){return s(M,U)})}function g(m,M,b,S){var A=b.v,T=b.w;m.removeEdge(A,T),m.setEdge(S.v,S.w,{}),l(m),n(m,M),y(m,M)}function y(m,M){var b=t.find(m.nodes(),function(A){return!M.node(A).parent}),S=o(m,b);S=S.slice(1),t.forEach(S,function(A){var T=m.node(A).parent,O=M.edge(A,T),D=!1;O||(O=M.edge(T,A),D=!0),M.node(A).rank=M.node(T).rank+(D?O.minlen:-O.minlen)})}function E(m,M,b){return m.hasEdge(M,b)}function C(m,M,b){return b.low<=M.lim&&M.lim<=b.lim}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports={longestPath:c,slack:s};function c(v){var o={};function f(r){var e=v.node(r);if(t.has(o,r))return e.rank;o[r]=!0;var n=t.min(t.map(v.outEdges(r),function(a){return f(a.w)-v.edge(a).minlen}));return(n===Number.POSITIVE_INFINITY||n===void 0||n===null)&&(n=0),e.rank=n}t.forEach(v.sources(),f)}function s(v,o){return v.node(o.w).rank-v.node(o.v).rank-v.edge(o).minlen}},"./node_modules/_dagre@0.8.5@dagre/lib/util.js":function(P,x,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports={addDummyNode:s,simplify:v,asNonCompoundGraph:o,successorWeights:f,predecessorWeights:r,intersectRect:e,buildLayerMatrix:n,normalizeRanks:a,removeEmptyRanks:u,addBorderNode:l,maxRank:h,partition:p,time:d,notime:g};function s(y,E,C,m){var M;do M=t.uniqueId(m);while(y.hasNode(M));return C.dummy=E,y.setNode(M,C),M}function v(y){var E=new c().setGraph(y.graph());return t.forEach(y.nodes(),function(C){E.setNode(C,y.node(C))}),t.forEach(y.edges(),function(C){var m=E.edge(C.v,C.w)||{weight:0,minlen:1},M=y.edge(C);E.setEdge(C.v,C.w,{weight:m.weight+M.weight,minlen:Math.max(m.minlen,M.minlen)})}),E}function o(y){var E=new c({multigraph:y.isMultigraph()}).setGraph(y.graph());return t.forEach(y.nodes(),function(C){y.children(C).length||E.setNode(C,y.node(C))}),t.forEach(y.edges(),function(C){E.setEdge(C,y.edge(C))}),E}function f(y){var E=t.map(y.nodes(),function(C){var m={};return t.forEach(y.outEdges(C),function(M){m[M.w]=(m[M.w]||0)+y.edge(M).weight}),m});return t.zipObject(y.nodes(),E)}function r(y){var E=t.map(y.nodes(),function(C){var m={};return t.forEach(y.inEdges(C),function(M){m[M.v]=(m[M.v]||0)+y.edge(M).weight}),m});return t.zipObject(y.nodes(),E)}function e(y,E){var C=y.x,m=y.y,M=E.x-C,b=E.y-m,S=y.width/2,A=y.height/2;if(!M&&!b)throw new Error("Not possible to find intersection inside of the rectangle");var T,O;return Math.abs(b)*S>Math.abs(M)*A?(b<0&&(A=-A),T=A*M/b,O=A):(M<0&&(S=-S),T=S,O=S*b/M),{x:C+T,y:m+O}}function n(y){var E=t.map(t.range(h(y)+1),function(){return[]});return t.forEach(y.nodes(),function(C){var m=y.node(C),M=m.rank;t.isUndefined(M)||(E[M][m.order]=C)}),E}function a(y){var E=t.min(t.map(y.nodes(),function(C){return y.node(C).rank}));t.forEach(y.nodes(),function(C){var m=y.node(C);t.has(m,"rank")&&(m.rank-=E)})}function u(y){var E=t.min(t.map(y.nodes(),function(b){return y.node(b).rank})),C=[];t.forEach(y.nodes(),function(b){var S=y.node(b).rank-E;C[S]||(C[S]=[]),C[S].push(b)});var m=0,M=y.graph().nodeRankFactor;t.forEach(C,function(b,S){t.isUndefined(b)&&S%M!=0?--m:m&&t.forEach(b,function(A){y.node(A).rank+=m})})}function l(y,E,C,m){var M={width:0,height:0};return arguments.length>=4&&(M.rank=C,M.order=m),s(y,"border",M,E)}function h(y){return t.max(t.map(y.nodes(),function(E){var C=y.node(E).rank;if(!t.isUndefined(C))return C}))}function p(y,E){var C={lhs:[],rhs:[]};return t.forEach(y,function(m){E(m)?C.lhs.push(m):C.rhs.push(m)}),C}function d(y,E){var C=t.now();try{return E()}finally{console.log(y+" time: "+(t.now()-C)+"ms")}}function g(y,E){return E()}},"./node_modules/_dagre@0.8.5@dagre/lib/version.js":function(P,x){P.exports="0.8.5"},"./node_modules/_graphlib@2.1.8@graphlib/index.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/index.js");P.exports={Graph:t.Graph,json:i("./node_modules/_graphlib@2.1.8@graphlib/lib/json.js"),alg:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js"),version:t.version}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(s){var v={},o=[],f;function r(e){t.has(v,e)||(v[e]=!0,f.push(e),t.each(s.successors(e),r),t.each(s.predecessors(e),r))}return t.each(s.nodes(),function(e){f=[],r(e),f.length&&o.push(f)}),o}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(v,o,f){t.isArray(o)||(o=[o]);var r=(v.isDirected()?v.successors:v.neighbors).bind(v),e=[],n={};return t.each(o,function(a){if(!v.hasNode(a))throw new Error("Graph does not have node: "+a);s(v,a,f==="post",n,r,e)}),e}function s(v,o,f,r,e,n){t.has(r,o)||(r[o]=!0,f||n.push(o),t.each(e(o),function(a){s(v,a,f,r,e,n)}),f&&n.push(o))}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=s;function s(v,o,f){return c.transform(v.nodes(),function(r,e){r[e]=t(v,e,o,f)},{})}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");P.exports=v;var s=t.constant(1);function v(f,r,e,n){return o(f,String(r),e||s,n||function(a){return f.outEdges(a)})}function o(f,r,e,n){var a={},u=new c,l,h,p=function(d){var g=d.v!==l?d.v:d.w,y=a[g],E=e(d),C=h.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+E);C<y.distance&&(y.distance=C,y.predecessor=l,u.decrease(g,C))};for(f.nodes().forEach(function(d){var g=d===r?0:Number.POSITIVE_INFINITY;a[d]={distance:g},u.add(d,g)});u.size()>0&&(l=u.removeMin(),h=a[l],h.distance!==Number.POSITIVE_INFINITY);)n(l).forEach(p);return a}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js");P.exports=s;function s(v){return t.filter(c(v),function(o){return o.length>1||o.length===1&&v.hasEdge(o[0],o[0])})}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=s;var c=t.constant(1);function s(o,f,r){return v(o,f||c,r||function(e){return o.outEdges(e)})}function v(o,f,r){var e={},n=o.nodes();return n.forEach(function(a){e[a]={},e[a][a]={distance:0},n.forEach(function(u){a!==u&&(e[a][u]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(u){var l=u.v===a?u.w:u.v,h=f(u);e[a][l]={distance:h,predecessor:a}})}),n.forEach(function(a){var u=e[a];n.forEach(function(l){var h=e[l];n.forEach(function(p){var d=h[a],g=u[p],y=h[p],E=d.distance+g.distance;E<y.distance&&(y.distance=E,y.predecessor=g.predecessor)})})}),e}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js":function(P,x,i){P.exports={components:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js"),dijkstra:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),dijkstraAll:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js"),findCycles:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js"),floydWarshall:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js"),isAcyclic:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js"),postorder:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js"),preorder:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js"),prim:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js"),tarjan:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js"),topsort:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js");P.exports=c;function c(s){try{t(s)}catch(v){if(v instanceof t.CycleException)return!1;throw v}return!0}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");P.exports=c;function c(s,v){return t(s,v,"post")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");P.exports=c;function c(s,v){return t(s,v,"pre")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),s=i("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");P.exports=v;function v(o,f){var r=new c,e={},n=new s,a;function u(h){var p=h.v===a?h.w:h.v,d=n.priority(p);if(d!==void 0){var g=f(h);g<d&&(e[p]=a,n.decrease(p,g))}}if(o.nodeCount()===0)return r;t.each(o.nodes(),function(h){n.add(h,Number.POSITIVE_INFINITY),r.setNode(h)}),n.decrease(o.nodes()[0],0);for(var l=!1;n.size()>0;){if(a=n.removeMin(),t.has(e,a))r.setEdge(a,e[a]);else{if(l)throw new Error("Input graph is not connected: "+o);l=!0}o.nodeEdges(a).forEach(u)}return r}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(s){var v=0,o=[],f={},r=[];function e(n){var a=f[n]={onStack:!0,lowlink:v,index:v++};if(o.push(n),s.successors(n).forEach(function(h){t.has(f,h)?f[h].onStack&&(a.lowlink=Math.min(a.lowlink,f[h].index)):(e(h),a.lowlink=Math.min(a.lowlink,f[h].lowlink))}),a.lowlink===a.index){var u=[],l;do l=o.pop(),f[l].onStack=!1,u.push(l);while(n!==l);r.push(u)}}return s.nodes().forEach(function(n){t.has(f,n)||e(n)}),r}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c,c.CycleException=s;function c(v){var o={},f={},r=[];function e(n){if(t.has(f,n))throw new s;t.has(o,n)||(f[n]=!0,o[n]=!0,t.each(v.predecessors(n),e),delete f[n],r.push(n))}if(t.each(v.sinks(),e),t.size(o)!==v.nodeCount())throw new s;return r}function s(){}s.prototype=new Error},"./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(){this._arr=[],this._keyIndices={}}c.prototype.size=function(){return this._arr.length},c.prototype.keys=function(){return this._arr.map(function(s){return s.key})},c.prototype.has=function(s){return t.has(this._keyIndices,s)},c.prototype.priority=function(s){var v=this._keyIndices[s];if(v!==void 0)return this._arr[v].priority},c.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},c.prototype.add=function(s,v){var o=this._keyIndices;if(s=String(s),!t.has(o,s)){var f=this._arr,r=f.length;return o[s]=r,f.push({key:s,priority:v}),this._decrease(r),!0}return!1},c.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var s=this._arr.pop();return delete this._keyIndices[s.key],this._heapify(0),s.key},c.prototype.decrease=function(s,v){var o=this._keyIndices[s];if(v>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+s+" Old: "+this._arr[o].priority+" New: "+v);this._arr[o].priority=v,this._decrease(o)},c.prototype._heapify=function(s){var v=this._arr,o=2*s,f=o+1,r=s;o<v.length&&(r=v[o].priority<v[r].priority?o:r,f<v.length&&(r=v[f].priority<v[r].priority?f:r),r!==s&&(this._swap(s,r),this._heapify(r)))},c.prototype._decrease=function(s){for(var v=this._arr,o=v[s].priority,f;s!==0&&(f=s>>1,!(v[f].priority<o));)this._swap(s,f),s=f},c.prototype._swap=function(s,v){var o=this._arr,f=this._keyIndices,r=o[s],e=o[v];o[s]=e,o[v]=r,f[e.key]=s,f[r.key]=v}},"./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js":function(P,x,i){"use strict";var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=o;var c="\0",s="\0",v="";function o(u){this._isDirected=t.has(u,"directed")?u.directed:!0,this._isMultigraph=t.has(u,"multigraph")?u.multigraph:!1,this._isCompound=t.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[s]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(u){return this._label=u,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultNodeLabelFn=u,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return t.keys(this._nodes)},o.prototype.sources=function(){var u=this;return t.filter(this.nodes(),function(l){return t.isEmpty(u._in[l])})},o.prototype.sinks=function(){var u=this;return t.filter(this.nodes(),function(l){return t.isEmpty(u._out[l])})},o.prototype.setNodes=function(u,l){var h=arguments,p=this;return t.each(u,function(d){h.length>1?p.setNode(d,l):p.setNode(d)}),this},o.prototype.setNode=function(u,l){return t.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=l),this):(this._nodes[u]=arguments.length>1?l:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=s,this._children[u]={},this._children[s][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},o.prototype.node=function(u){return this._nodes[u]},o.prototype.hasNode=function(u){return t.has(this._nodes,u)},o.prototype.removeNode=function(u){var l=this;if(t.has(this._nodes,u)){var h=function(p){l.removeEdge(l._edgeObjs[p])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],t.each(this.children(u),function(p){l.setParent(p)}),delete this._children[u]),t.each(t.keys(this._in[u]),h),delete this._in[u],delete this._preds[u],t.each(t.keys(this._out[u]),h),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},o.prototype.setParent=function(u,l){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(l))l=s;else{l+="";for(var h=l;!t.isUndefined(h);h=this.parent(h))if(h===u)throw new Error("Setting "+l+" as parent of "+u+" would create a cycle");this.setNode(l)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=l,this._children[l][u]=!0,this},o.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},o.prototype.parent=function(u){if(this._isCompound){var l=this._parent[u];if(l!==s)return l}},o.prototype.children=function(u){if(t.isUndefined(u)&&(u=s),this._isCompound){var l=this._children[u];if(l)return t.keys(l)}else{if(u===s)return this.nodes();if(this.hasNode(u))return[]}},o.prototype.predecessors=function(u){var l=this._preds[u];if(l)return t.keys(l)},o.prototype.successors=function(u){var l=this._sucs[u];if(l)return t.keys(l)},o.prototype.neighbors=function(u){var l=this.predecessors(u);if(l)return t.union(l,this.successors(u))},o.prototype.isLeaf=function(u){var l;return this.isDirected()?l=this.successors(u):l=this.neighbors(u),l.length===0},o.prototype.filterNodes=function(u){var l=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});l.setGraph(this.graph());var h=this;t.each(this._nodes,function(g,y){u(y)&&l.setNode(y,g)}),t.each(this._edgeObjs,function(g){l.hasNode(g.v)&&l.hasNode(g.w)&&l.setEdge(g,h.edge(g))});var p={};function d(g){var y=h.parent(g);return y===void 0||l.hasNode(y)?(p[g]=y,y):y in p?p[y]:d(y)}return this._isCompound&&t.each(l.nodes(),function(g){l.setParent(g,d(g))}),l},o.prototype.setDefaultEdgeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultEdgeLabelFn=u,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return t.values(this._edgeObjs)},o.prototype.setPath=function(u,l){var h=this,p=arguments;return t.reduce(u,function(d,g){return p.length>1?h.setEdge(d,g,l):h.setEdge(d,g),g}),this},o.prototype.setEdge=function(){var u,l,h,p,d=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(u=g.v,l=g.w,h=g.name,arguments.length===2&&(p=arguments[1],d=!0)):(u=g,l=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],d=!0)),u=""+u,l=""+l,t.isUndefined(h)||(h=""+h);var y=e(this._isDirected,u,l,h);if(t.has(this._edgeLabels,y))return d&&(this._edgeLabels[y]=p),this;if(!t.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(l),this._edgeLabels[y]=d?p:this._defaultEdgeLabelFn(u,l,h);var E=n(this._isDirected,u,l,h);return u=E.v,l=E.w,Object.freeze(E),this._edgeObjs[y]=E,f(this._preds[l],u),f(this._sucs[u],l),this._in[l][y]=E,this._out[u][y]=E,this._edgeCount++,this},o.prototype.edge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h);return this._edgeLabels[p]},o.prototype.hasEdge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h);return t.has(this._edgeLabels,p)},o.prototype.removeEdge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h),d=this._edgeObjs[p];return d&&(u=d.v,l=d.w,delete this._edgeLabels[p],delete this._edgeObjs[p],r(this._preds[l],u),r(this._sucs[u],l),delete this._in[l][p],delete this._out[u][p],this._edgeCount--),this},o.prototype.inEdges=function(u,l){var h=this._in[u];if(h){var p=t.values(h);return l?t.filter(p,function(d){return d.v===l}):p}},o.prototype.outEdges=function(u,l){var h=this._out[u];if(h){var p=t.values(h);return l?t.filter(p,function(d){return d.w===l}):p}},o.prototype.nodeEdges=function(u,l){var h=this.inEdges(u,l);if(h)return h.concat(this.outEdges(u,l))};function f(u,l){u[l]?u[l]++:u[l]=1}function r(u,l){--u[l]||delete u[l]}function e(u,l,h,p){var d=""+l,g=""+h;if(!u&&d>g){var y=d;d=g,g=y}return d+v+g+v+(t.isUndefined(p)?c:p)}function n(u,l,h,p){var d=""+l,g=""+h;if(!u&&d>g){var y=d;d=g,g=y}var E={v:d,w:g};return p&&(E.name=p),E}function a(u,l){return e(u,l.v,l.w,l.name)}},"./node_modules/_graphlib@2.1.8@graphlib/lib/index.js":function(P,x,i){P.exports={Graph:i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),version:i("./node_modules/_graphlib@2.1.8@graphlib/lib/version.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/json.js":function(P,x,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js");P.exports={write:s,read:f};function s(r){var e={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:v(r),edges:o(r)};return t.isUndefined(r.graph())||(e.value=t.clone(r.graph())),e}function v(r){return t.map(r.nodes(),function(e){var n=r.node(e),a=r.parent(e),u={v:e};return t.isUndefined(n)||(u.value=n),t.isUndefined(a)||(u.parent=a),u})}function o(r){return t.map(r.edges(),function(e){var n=r.edge(e),a={v:e.v,w:e.w};return t.isUndefined(e.name)||(a.name=e.name),t.isUndefined(n)||(a.value=n),a})}function f(r){var e=new c(r.options).setGraph(r.value);return t.each(r.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.each(r.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}},"./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js":function(P,x,i){var t;try{t={clone:i("./node_modules/_lodash@4.17.20@lodash/clone.js"),constant:i("./node_modules/_lodash@4.17.20@lodash/constant.js"),each:i("./node_modules/_lodash@4.17.20@lodash/each.js"),filter:i("./node_modules/_lodash@4.17.20@lodash/filter.js"),has:i("./node_modules/_lodash@4.17.20@lodash/has.js"),isArray:i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),isEmpty:i("./node_modules/_lodash@4.17.20@lodash/isEmpty.js"),isFunction:i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),isUndefined:i("./node_modules/_lodash@4.17.20@lodash/isUndefined.js"),keys:i("./node_modules/_lodash@4.17.20@lodash/keys.js"),map:i("./node_modules/_lodash@4.17.20@lodash/map.js"),reduce:i("./node_modules/_lodash@4.17.20@lodash/reduce.js"),size:i("./node_modules/_lodash@4.17.20@lodash/size.js"),transform:i("./node_modules/_lodash@4.17.20@lodash/transform.js"),union:i("./node_modules/_lodash@4.17.20@lodash/union.js"),values:i("./node_modules/_lodash@4.17.20@lodash/values.js")}}catch(c){}t||(t=window._),P.exports=t},"./node_modules/_graphlib@2.1.8@graphlib/lib/version.js":function(P,x){P.exports="2.1.8"},"./node_modules/_isarray@0.0.1@isarray/index.js":function(P,x){P.exports=Array.isArray||function(i){return Object.prototype.toString.call(i)=="[object Array]"}},"./node_modules/_lodash@4.17.20@lodash/_DataView.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"DataView");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_Hash.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_hashClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hashDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_hashGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_hashHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_hashSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_ListCache.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_listCacheClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_listCacheDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_listCacheGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_listCacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_listCacheSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_Map.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Map");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_MapCache.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_Promise.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Promise");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_Set.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Set");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_SetCache.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_setCacheAdd.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setCacheHas.js");function v(o){var f=-1,r=o==null?0:o.length;for(this.__data__=new t;++f<r;)this.add(o[f])}v.prototype.add=v.prototype.push=c,v.prototype.has=s,P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_Stack.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_stackClear.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_stackDelete.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_stackGet.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_stackHas.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_stackSet.js");function r(e){var n=this.__data__=new t(e);this.size=n.size}r.prototype.clear=c,r.prototype.delete=s,r.prototype.get=v,r.prototype.has=o,r.prototype.set=f,P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_Symbol.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t.Symbol;P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t.Uint8Array;P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_WeakMap.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"WeakMap");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_apply.js":function(P,x){function i(t,c,s){switch(s.length){case 0:return t.call(c);case 1:return t.call(c,s[0]);case 2:return t.call(c,s[0],s[1]);case 3:return t.call(c,s[0],s[1],s[2])}return t.apply(c,s)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayEach.js":function(P,x){function i(t,c){for(var s=-1,v=t==null?0:t.length;++s<v&&c(t[s],s,t)!==!1;);return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js":function(P,x){function i(t,c){for(var s=-1,v=t==null?0:t.length,o=0,f=[];++s<v;){var r=t[s];c(r,s,t)&&(f[o++]=r)}return f}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayIncludes.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIndexOf.js");function c(s,v){var o=s==null?0:s.length;return!!o&&t(s,v,0)>-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_arrayIncludesWith.js":function(P,x){function i(t,c,s){for(var v=-1,o=t==null?0:t.length;++v<o;)if(s(c,t[v]))return!0;return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseTimes.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),r=Object.prototype,e=r.hasOwnProperty;function n(a,u){var l=s(a),h=!l&&c(a),p=!l&&!h&&v(a),d=!l&&!h&&!p&&f(a),g=l||h||p||d,y=g?t(a.length,String):[],E=y.length;for(var C in a)(u||e.call(a,C))&&!(g&&(C=="length"||p&&(C=="offset"||C=="parent")||d&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||o(C,E)))&&y.push(C);return y}P.exports=n},"./node_modules/_lodash@4.17.20@lodash/_arrayMap.js":function(P,x){function i(t,c){for(var s=-1,v=t==null?0:t.length,o=Array(v);++s<v;)o[s]=c(t[s],s,t);return o}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayPush.js":function(P,x){function i(t,c){for(var s=-1,v=c.length,o=t.length;++s<v;)t[o+s]=c[s];return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayReduce.js":function(P,x){function i(t,c,s,v){var o=-1,f=t==null?0:t.length;for(v&&f&&(s=t[++o]);++o<f;)s=c(s,t[o],o,t);return s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arraySome.js":function(P,x){function i(t,c){for(var s=-1,v=t==null?0:t.length;++s<v;)if(c(t[s],s,t))return!0;return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_asciiSize.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseProperty.js"),c=t("length");P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js");function s(v,o,f){(f!==void 0&&!c(v[o],f)||f===void 0&&!(o in v))&&t(v,o,f)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_assignValue.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),s=Object.prototype,v=s.hasOwnProperty;function o(f,r,e){var n=f[r];(!(v.call(f,r)&&c(n,e))||e===void 0&&!(r in f))&&t(f,r,e)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/eq.js");function c(s,v){for(var o=s.length;o--;)if(t(s[o][0],v))return o;return-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseAssign.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v,o){return v&&t(o,c(o),v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseAssignIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function s(v,o){return v&&t(o,c(o),v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_defineProperty.js");function c(s,v,o){v=="__proto__"&&t?t(s,v,{configurable:!0,enumerable:!0,value:o,writable:!0}):s[v]=o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseClone.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseAssign.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignIn.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_copyArray.js"),e=i("./node_modules/_lodash@4.17.20@lodash/_copySymbols.js"),n=i("./node_modules/_lodash@4.17.20@lodash/_copySymbolsIn.js"),a=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js"),u=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeysIn.js"),l=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),h=i("./node_modules/_lodash@4.17.20@lodash/_initCloneArray.js"),p=i("./node_modules/_lodash@4.17.20@lodash/_initCloneByTag.js"),d=i("./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js"),g=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),y=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),E=i("./node_modules/_lodash@4.17.20@lodash/isMap.js"),C=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),m=i("./node_modules/_lodash@4.17.20@lodash/isSet.js"),M=i("./node_modules/_lodash@4.17.20@lodash/keys.js"),b=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),S=1,A=2,T=4,O="[object Arguments]",D="[object Array]",L="[object Boolean]",Z="[object Date]",U="[object Error]",Y="[object Function]",W="[object GeneratorFunction]",J="[object Map]",ht="[object Number]",nt="[object Object]",Q="[object RegExp]",xt="[object Set]",_t="[object String]",Nt="[object Symbol]",rt="[object WeakMap]",q="[object ArrayBuffer]",G="[object DataView]",N="[object Float32Array]",at="[object Float64Array]",H="[object Int8Array]",ft="[object Int16Array]",ct="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",et="[object Uint16Array]",B="[object Uint32Array]",w={};w[O]=w[D]=w[q]=w[G]=w[L]=w[Z]=w[N]=w[at]=w[H]=w[ft]=w[ct]=w[J]=w[ht]=w[nt]=w[Q]=w[xt]=w[_t]=w[Nt]=w[K]=w[$]=w[et]=w[B]=!0,w[U]=w[Y]=w[rt]=!1;function R(V,tt,lt,Et,ot,Mt){var Ot,Ft=tt&S,zt=tt&A,$t=tt&T;if(lt&&(Ot=ot?lt(V,Et,ot,Mt):lt(V)),Ot!==void 0)return Ot;if(!C(V))return V;var ce=g(V);if(ce){if(Ot=h(V),!Ft)return r(V,Ot)}else{var ye=l(V),Je=ye==Y||ye==W;if(y(V))return f(V,Ft);if(ye==nt||ye==O||Je&&!ot){if(Ot=zt||Je?{}:d(V),!Ft)return zt?n(V,o(Ot,V)):e(V,v(Ot,V))}else{if(!w[ye])return ot?V:{};Ot=p(V,ye,Ft)}}Mt||(Mt=new t);var nr=Mt.get(V);if(nr)return nr;Mt.set(V,Ot),m(V)?V.forEach(function(Gr){Ot.add(R(Gr,tt,lt,Gr,V,Mt))}):E(V)&&V.forEach(function(Gr,xe){Ot.set(xe,R(Gr,tt,lt,xe,V,Mt))});var Xe=$t?zt?u:a:zt?b:M,mr=ce?void 0:Xe(V);return c(mr||V,function(Gr,xe){mr&&(xe=Gr,Gr=V[xe]),s(Ot,xe,R(Gr,tt,lt,xe,V,Mt))}),Ot}P.exports=R},"./node_modules/_lodash@4.17.20@lodash/_baseCreate.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=Object.create,s=function(){function v(){}return function(o){if(!t(o))return{};if(c)return c(o);v.prototype=o;var f=new v;return v.prototype=void 0,f}}();P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseEach.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_createBaseEach.js"),s=c(t);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js");function c(s,v,o){for(var f=-1,r=s.length;++f<r;){var e=s[f],n=v(e);if(n!=null&&(a===void 0?n===n&&!t(n):o(n,a)))var a=n,u=e}return u}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseFilter.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js");function c(s,v){var o=[];return t(s,function(f,r,e){v(f,r,e)&&o.push(f)}),o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js":function(P,x){function i(t,c,s,v){for(var o=t.length,f=s+(v?1:-1);v?f--:++f<o;)if(c(t[f],f,t))return f;return-1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isFlattenable.js");function s(v,o,f,r,e){var n=-1,a=v.length;for(f||(f=c),e||(e=[]);++n<a;){var u=v[n];o>0&&f(u)?o>1?s(u,o-1,f,r,e):t(e,u):r||(e[e.length]=u)}return e}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseFor.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createBaseFor.js"),c=t();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v,o){return v&&t(v,o,c)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function s(v,o){o=t(o,v);for(var f=0,r=o.length;v!=null&&f<r;)v=v[c(o[f++])];return f&&f==r?v:void 0}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function s(v,o,f){var r=o(v);return c(v)?r:t(r,f(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getRawTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_objectToString.js"),v="[object Null]",o="[object Undefined]",f=t?t.toStringTag:void 0;function r(e){return e==null?e===void 0?o:v:f&&f in Object(e)?c(e):s(e)}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_baseGt.js":function(P,x){function i(t,c){return t>c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseHas.js":function(P,x){var i=Object.prototype,t=i.hasOwnProperty;function c(s,v){return s!=null&&t.call(s,v)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseHasIn.js":function(P,x){function i(t,c){return t!=null&&c in Object(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseIndexOf.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIsNaN.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_strictIndexOf.js");function v(o,f,r){return f===f?s(o,f,r):t(o,c,r)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsArguments.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Arguments]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqualDeep.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js");function s(v,o,f,r,e){return v===o?!0:v==null||o==null||!c(v)&&!c(o)?v!==v&&o!==o:t(v,o,f,r,s,e)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseIsEqualDeep.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_equalArrays.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_equalByTag.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_equalObjects.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),n=1,a="[object Arguments]",u="[object Array]",l="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function d(g,y,E,C,m,M){var b=f(g),S=f(y),A=b?u:o(g),T=S?u:o(y);A=A==a?l:A,T=T==a?l:T;var O=A==l,D=T==l,L=A==T;if(L&&r(g)){if(!r(y))return!1;b=!0,O=!1}if(L&&!O)return M||(M=new t),b||e(g)?c(g,y,E,C,m,M):s(g,y,A,E,C,m,M);if(!(E&n)){var Z=O&&p.call(g,"__wrapped__"),U=D&&p.call(y,"__wrapped__");if(Z||U){var Y=Z?g.value():g,W=U?y.value():y;return M||(M=new t),m(Y,W,E,C,M)}}return L?(M||(M=new t),v(g,y,E,C,m,M)):!1}P.exports=d},"./node_modules/_lodash@4.17.20@lodash/_baseIsMap.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Map]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsMatch.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js"),s=1,v=2;function o(f,r,e,n){var a=e.length,u=a,l=!n;if(f==null)return!u;for(f=Object(f);a--;){var h=e[a];if(l&&h[2]?h[1]!==f[h[0]]:!(h[0]in f))return!1}for(;++a<u;){h=e[a];var p=h[0],d=f[p],g=h[1];if(l&&h[2]){if(d===void 0&&!(p in f))return!1}else{var y=new t;if(n)var E=n(d,g,p,f,r,y);if(!(E===void 0?c(g,d,s|v,n,y):E))return!1}}return!0}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_baseIsNaN.js":function(P,x){function i(t){return t!==t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseIsNative.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isMasked.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_toSource.js"),o=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,r=Function.prototype,e=Object.prototype,n=r.toString,a=e.hasOwnProperty,u=RegExp("^"+n.call(a).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(h){if(!s(h)||c(h))return!1;var p=t(h)?u:f;return p.test(v(h))}P.exports=l},"./node_modules/_lodash@4.17.20@lodash/_baseIsSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Set]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsTypedArray.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isLength.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object Arguments]",o="[object Array]",f="[object Boolean]",r="[object Date]",e="[object Error]",n="[object Function]",a="[object Map]",u="[object Number]",l="[object Object]",h="[object RegExp]",p="[object Set]",d="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",m="[object Float64Array]",M="[object Int8Array]",b="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",L={};L[C]=L[m]=L[M]=L[b]=L[S]=L[A]=L[T]=L[O]=L[D]=!0,L[v]=L[o]=L[y]=L[f]=L[E]=L[r]=L[e]=L[n]=L[a]=L[u]=L[l]=L[h]=L[p]=L[d]=L[g]=!1;function Z(U){return s(U)&&c(U.length)&&!!L[t(U)]}P.exports=Z},"./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseMatches.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseMatchesProperty.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/property.js");function f(r){return typeof r=="function"?r:r==null?s:typeof r=="object"?v(r)?c(r[0],r[1]):t(r):o(r)}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseKeys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_nativeKeys.js"),s=Object.prototype,v=s.hasOwnProperty;function o(f){if(!t(f))return c(f);var r=[];for(var e in Object(f))v.call(f,e)&&e!="constructor"&&r.push(e);return r}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_baseKeysIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nativeKeysIn.js"),v=Object.prototype,o=v.hasOwnProperty;function f(r){if(!t(r))return s(r);var e=c(r),n=[];for(var a in r)a=="constructor"&&(e||!o.call(r,a))||n.push(a);return n}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseLt.js":function(P,x){function i(t,c){return t<c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseMap.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function s(v,o){var f=-1,r=c(v)?Array(v.length):[];return t(v,function(e,n,a){r[++f]=o(e,n,a)}),r}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseMatches.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsMatch.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getMatchData.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js");function v(o){var f=c(o);return f.length==1&&f[0][2]?s(f[0][0],f[0][1]):function(r){return r===o||t(r,o,f)}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseMatchesProperty.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js"),c=i("./node_modules/_lodash@4.17.20@lodash/get.js"),s=i("./node_modules/_lodash@4.17.20@lodash/hasIn.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js"),e=1,n=2;function a(u,l){return v(u)&&o(l)?f(r(u),l):function(h){var p=c(h,u);return p===void 0&&p===l?s(h,u):t(l,p,e|n)}}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/_baseMerge.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseMergeDeep.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),f=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_safeGet.js");function e(n,a,u,l,h){n!==a&&s(a,function(p,d){if(h||(h=new t),o(p))v(n,a,d,u,e,l,h);else{var g=l?l(r(n,d),p,d+"",n,a,h):void 0;g===void 0&&(g=p),c(n,d,g)}},f)}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseMergeDeep.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_copyArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),a=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),u=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),l=i("./node_modules/_lodash@4.17.20@lodash/isPlainObject.js"),h=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),p=i("./node_modules/_lodash@4.17.20@lodash/_safeGet.js"),d=i("./node_modules/_lodash@4.17.20@lodash/toPlainObject.js");function g(y,E,C,m,M,b,S){var A=p(y,C),T=p(E,C),O=S.get(T);if(O){t(y,C,O);return}var D=b?b(A,T,C+"",y,E,S):void 0,L=D===void 0;if(L){var Z=r(T),U=!Z&&n(T),Y=!Z&&!U&&h(T);D=T,Z||U||Y?r(A)?D=A:e(A)?D=v(A):U?(L=!1,D=c(T,!0)):Y?(L=!1,D=s(T,!0)):D=[]:l(T)||f(T)?(D=A,f(A)?D=d(A):(!u(A)||a(A))&&(D=o(T))):L=!1}L&&(S.set(T,D),M(D,T,m,b,S),S.delete(T)),t(y,C,D)}P.exports=g},"./node_modules/_lodash@4.17.20@lodash/_baseOrderBy.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseMap.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_baseSortBy.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_compareMultiple.js"),e=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function a(u,l,h){l.length?l=t(l,function(g){return n(g)?function(y){return c(y,g.length===1?g[0]:g)}:g}):l=[e];var p=-1;l=t(l,f(s));var d=v(u,function(g,y,E){var C=t(l,function(m){return m(g)});return{criteria:C,index:++p,value:g}});return o(d,function(g,y){return r(g,y,h)})}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/_basePick.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_basePickBy.js"),c=i("./node_modules/_lodash@4.17.20@lodash/hasIn.js");function s(v,o){return t(v,o,function(f,r){return c(v,r)})}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_basePickBy.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseSet.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js");function v(o,f,r){for(var e=-1,n=f.length,a={};++e<n;){var u=f[e],l=t(o,u);r(l,u)&&c(a,s(u,o),l)}return a}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseProperty.js":function(P,x){function i(t){return function(c){return c==null?void 0:c[t]}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_basePropertyDeep.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js");function c(s){return function(v){return t(v,s)}}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseRange.js":function(P,x){var i=Math.ceil,t=Math.max;function c(s,v,o,f){for(var r=-1,e=t(i((v-s)/(o||1)),0),n=Array(e);e--;)n[f?e:++r]=s,s+=o;return n}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseReduce.js":function(P,x){function i(t,c,s,v,o){return o(t,function(f,r,e){s=v?(v=!1,f):c(s,f,r,e)}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseRest.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_overRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToString.js");function v(o,f){return s(c(o,f,t),o+"")}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function f(r,e,n,a){if(!v(r))return r;e=c(e,r);for(var u=-1,l=e.length,h=l-1,p=r;p!=null&&++u<l;){var d=o(e[u]),g=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return r;if(u!=h){var y=p[d];g=a?a(y,d,p):void 0,g===void 0&&(g=v(y)?y:s(e[u+1])?[]:{})}t(p,d,g),p=p[d]}return r}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseSetToString.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/constant.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_defineProperty.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),v=c?function(o,f){return c(o,"toString",{configurable:!0,enumerable:!1,value:t(f),writable:!0})}:s;P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseSortBy.js":function(P,x){function i(t,c){var s=t.length;for(t.sort(c);s--;)t[s]=t[s].value;return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseTimes.js":function(P,x){function i(t,c){for(var s=-1,v=Array(t);++s<t;)v[s]=c(s);return v}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseToString.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),o=1/0,f=t?t.prototype:void 0,r=f?f.toString:void 0;function e(n){if(typeof n=="string")return n;if(s(n))return c(n,e)+"";if(v(n))return r?r.call(n):"";var a=n+"";return a=="0"&&1/n==-o?"-0":a}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseUnary.js":function(P,x){function i(t){return function(c){return t(c)}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseUniq.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_SetCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayIncludes.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_arrayIncludesWith.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_cacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_createSet.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),r=200;function e(n,a,u){var l=-1,h=c,p=n.length,d=!0,g=[],y=g;if(u)d=!1,h=s;else if(p>=r){var E=a?null:o(n);if(E)return f(E);d=!1,h=v,y=new t}else y=a?[]:g;t:for(;++l<p;){var C=n[l],m=a?a(C):C;if(C=u||C!==0?C:0,d&&m===m){for(var M=y.length;M--;)if(y[M]===m)continue t;a&&y.push(m),g.push(C)}else h(y,m,u)||(y!==g&&y.push(m),g.push(C))}return g}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseValues.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js");function c(s,v){return t(v,function(o){return s[o]})}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseZipObject.js":function(P,x){function i(t,c,s){for(var v=-1,o=t.length,f=c.length,r={};++v<o;){var e=v<f?c[v]:void 0;s(r,t[v],e)}return r}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_cacheHas.js":function(P,x){function i(t,c){return t.has(c)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_castFunction.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function c(s){return typeof s=="function"?s:t}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_castPath.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_stringToPath.js"),v=i("./node_modules/_lodash@4.17.20@lodash/toString.js");function o(f,r){return t(f)?f:c(f,r)?[f]:s(v(f))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js");function c(s){var v=new s.constructor(s.byteLength);return new t(v).set(new t(s)),v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js":function(P,x,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=x&&!x.nodeType&&x,v=s&&typeof t=="object"&&t&&!t.nodeType&&t,o=v&&v.exports===s,f=o?c.Buffer:void 0,r=f?f.allocUnsafe:void 0;function e(n,a){if(a)return n.slice();var u=n.length,l=r?r(u):new n.constructor(u);return n.copy(l),l}t.exports=e}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/_cloneDataView.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js");function c(s,v){var o=v?t(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.byteLength)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_cloneRegExp.js":function(P,x){var i=/\w*$/;function t(c){var s=new c.constructor(c.source,i.exec(c));return s.lastIndex=c.lastIndex,s}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_cloneSymbol.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=t?t.prototype:void 0,s=c?c.valueOf:void 0;function v(o){return s?Object(s.call(o)):{}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js");function c(s,v){var o=v?t(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.length)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_compareAscending.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js");function c(s,v){if(s!==v){var o=s!==void 0,f=s===null,r=s===s,e=t(s),n=v!==void 0,a=v===null,u=v===v,l=t(v);if(!a&&!l&&!e&&s>v||e&&n&&u&&!a&&!l||f&&n&&u||!o&&u||!r)return 1;if(!f&&!e&&!l&&s<v||l&&o&&r&&!f&&!e||a&&o&&r||!n&&r||!u)return-1}return 0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_compareMultiple.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_compareAscending.js");function c(s,v,o){for(var f=-1,r=s.criteria,e=v.criteria,n=r.length,a=o.length;++f<n;){var u=t(r[f],e[f]);if(u){if(f>=a)return u;var l=o[f];return u*(l=="desc"?-1:1)}}return s.index-v.index}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_copyArray.js":function(P,x){function i(t,c){var s=-1,v=t.length;for(c||(c=Array(v));++s<v;)c[s]=t[s];return c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_copyObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js");function s(v,o,f,r){var e=!f;f||(f={});for(var n=-1,a=o.length;++n<a;){var u=o[n],l=r?r(f[u],v[u],u,f,v):void 0;l===void 0&&(l=v[u]),e?c(f,u,l):t(f,u,l)}return f}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_copySymbols.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js");function s(v,o){return t(v,c(v),o)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_copySymbolsIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js");function s(v,o){return t(v,c(v),o)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_coreJsData.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t["__core-js_shared__"];P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_createAssigner.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js");function s(v){return t(function(o,f){var r=-1,e=f.length,n=e>1?f[e-1]:void 0,a=e>2?f[2]:void 0;for(n=v.length>3&&typeof n=="function"?(e--,n):void 0,a&&c(f[0],f[1],a)&&(n=e<3?void 0:n,e=1),o=Object(o);++r<e;){var u=f[r];u&&v(o,u,r,n)}return o})}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_createBaseEach.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function c(s,v){return function(o,f){if(o==null)return o;if(!t(o))return s(o,f);for(var r=o.length,e=v?r:-1,n=Object(o);(v?e--:++e<r)&&f(n[e],e,n)!==!1;);return o}}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_createBaseFor.js":function(P,x){function i(t){return function(c,s,v){for(var o=-1,f=Object(c),r=v(c),e=r.length;e--;){var n=r[t?e:++o];if(s(f[n],n,f)===!1)break}return c}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_createFind.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function v(o){return function(f,r,e){var n=Object(f);if(!c(f)){var a=t(r,3);f=s(f),r=function(l){return a(n[l],l,n)}}var u=o(f,r,e);return u>-1?n[a?f[u]:u]:void 0}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_createRange.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRange.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),s=i("./node_modules/_lodash@4.17.20@lodash/toFinite.js");function v(o){return function(f,r,e){return e&&typeof e!="number"&&c(f,r,e)&&(r=e=void 0),f=s(f),r===void 0?(r=f,f=0):r=s(r),e=e===void 0?f<r?1:-1:s(e),t(f,r,e,o)}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_createSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Set.js"),c=i("./node_modules/_lodash@4.17.20@lodash/noop.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),v=1/0,o=t&&1/s(new t([,-0]))[1]==v?function(f){return new t(f)}:c;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_defineProperty.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=function(){try{var s=t(Object,"defineProperty");return s({},"",{}),s}catch(v){}}();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_equalArrays.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_SetCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arraySome.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cacheHas.js"),v=1,o=2;function f(r,e,n,a,u,l){var h=n&v,p=r.length,d=e.length;if(p!=d&&!(h&&d>p))return!1;var g=l.get(r),y=l.get(e);if(g&&y)return g==e&&y==r;var E=-1,C=!0,m=n&o?new t:void 0;for(l.set(r,e),l.set(e,r);++E<p;){var M=r[E],b=e[E];if(a)var S=h?a(b,M,E,e,r,l):a(M,b,E,r,e,l);if(S!==void 0){if(S)continue;C=!1;break}if(m){if(!c(e,function(A,T){if(!s(m,T)&&(M===A||u(M,A,n,a,l)))return m.push(T)})){C=!1;break}}else if(!(M===b||u(M,b,n,a,l))){C=!1;break}}return l.delete(r),l.delete(e),C}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_equalByTag.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js"),s=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_equalArrays.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_mapToArray.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),r=1,e=2,n="[object Boolean]",a="[object Date]",u="[object Error]",l="[object Map]",h="[object Number]",p="[object RegExp]",d="[object Set]",g="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",m=t?t.prototype:void 0,M=m?m.valueOf:void 0;function b(S,A,T,O,D,L,Z){switch(T){case C:if(S.byteLength!=A.byteLength||S.byteOffset!=A.byteOffset)return!1;S=S.buffer,A=A.buffer;case E:return!(S.byteLength!=A.byteLength||!L(new c(S),new c(A)));case n:case a:case h:return s(+S,+A);case u:return S.name==A.name&&S.message==A.message;case p:case g:return S==A+"";case l:var U=o;case d:var Y=O&r;if(U||(U=f),S.size!=A.size&&!Y)return!1;var W=Z.get(S);if(W)return W==A;O|=e,Z.set(S,A);var J=v(U(S),U(A),O,D,L,Z);return Z.delete(S),J;case y:if(M)return M.call(S)==M.call(A)}return!1}P.exports=b},"./node_modules/_lodash@4.17.20@lodash/_equalObjects.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js"),c=1,s=Object.prototype,v=s.hasOwnProperty;function o(f,r,e,n,a,u){var l=e&c,h=t(f),p=h.length,d=t(r),g=d.length;if(p!=g&&!l)return!1;for(var y=p;y--;){var E=h[y];if(!(l?E in r:v.call(r,E)))return!1}var C=u.get(f),m=u.get(r);if(C&&m)return C==r&&m==f;var M=!0;u.set(f,r),u.set(r,f);for(var b=l;++y<p;){E=h[y];var S=f[E],A=r[E];if(n)var T=l?n(A,S,E,r,f,u):n(S,A,E,f,r,u);if(!(T===void 0?S===A||a(S,A,e,n,u):T)){M=!1;break}b||(b=E=="constructor")}if(M&&!b){var O=f.constructor,D=r.constructor;O!=D&&"constructor"in f&&"constructor"in r&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(M=!1)}return u.delete(f),u.delete(r),M}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_flatRest.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/flatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_overRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToString.js");function v(o){return s(c(o,void 0,t),o+"")}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js":function(P,x,i){(function(t){var c=typeof t=="object"&&t&&t.Object===Object&&t;P.exports=c}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/global.js"))},"./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function v(o){return t(o,s,c)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_getAllKeysIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function v(o){return t(o,s,c)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_getMapData.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isKeyable.js");function c(s,v){var o=s.__data__;return t(v)?o[typeof v=="string"?"string":"hash"]:o.map}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_getMatchData.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v){for(var o=c(v),f=o.length;f--;){var r=o[f],e=v[r];o[f]=[r,e,t(e)]}return o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_getNative.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getValue.js");function s(v,o){var f=c(v,o);return t(f)?f:void 0}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_getPrototype.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_overArg.js"),c=t(Object.getPrototypeOf,Object);P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_getRawTag.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=Object.prototype,s=c.hasOwnProperty,v=c.toString,o=t?t.toStringTag:void 0;function f(r){var e=s.call(r,o),n=r[o];try{r[o]=void 0;var a=!0}catch(l){}var u=v.call(r);return a&&(e?r[o]=n:delete r[o]),u}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getSymbols.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js"),c=i("./node_modules/_lodash@4.17.20@lodash/stubArray.js"),s=Object.prototype,v=s.propertyIsEnumerable,o=Object.getOwnPropertySymbols,f=o?function(r){return r==null?[]:(r=Object(r),t(o(r),function(e){return v.call(r,e)}))}:c;P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js"),v=i("./node_modules/_lodash@4.17.20@lodash/stubArray.js"),o=Object.getOwnPropertySymbols,f=o?function(r){for(var e=[];r;)t(e,s(r)),r=c(r);return e}:v;P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getTag.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_DataView.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Map.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_Promise.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_Set.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_WeakMap.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_toSource.js"),e="[object Map]",n="[object Object]",a="[object Promise]",u="[object Set]",l="[object WeakMap]",h="[object DataView]",p=r(t),d=r(c),g=r(s),y=r(v),E=r(o),C=f;(t&&C(new t(new ArrayBuffer(1)))!=h||c&&C(new c)!=e||s&&C(s.resolve())!=a||v&&C(new v)!=u||o&&C(new o)!=l)&&(C=function(m){var M=f(m),b=M==n?m.constructor:void 0,S=b?r(b):"";if(S)switch(S){case p:return h;case d:return e;case g:return a;case y:return u;case E:return l}return M}),P.exports=C},"./node_modules/_lodash@4.17.20@lodash/_getValue.js":function(P,x){function i(t,c){return t==null?void 0:t[c]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_hasPath.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isLength.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function r(e,n,a){n=t(n,e);for(var u=-1,l=n.length,h=!1;++u<l;){var p=f(n[u]);if(!(h=e!=null&&a(e,p)))break;e=e[p]}return h||++u!=l?h:(l=e==null?0:e.length,!!l&&o(l)&&v(p,l)&&(s(e)||c(e)))}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_hasUnicode.js":function(P,x){var i="\\ud800-\\udfff",t="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",v=t+c+s,o="\\ufe0e\\ufe0f",f="\\u200d",r=RegExp("["+f+i+v+o+"]");function e(n){return r.test(n)}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_hashClear.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js");function c(){this.__data__=t?t(null):{},this.size=0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_hashDelete.js":function(P,x){function i(t){var c=this.has(t)&&delete this.__data__[t];return this.size-=c?1:0,c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_hashGet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c="__lodash_hash_undefined__",s=Object.prototype,v=s.hasOwnProperty;function o(f){var r=this.__data__;if(t){var e=r[f];return e===c?void 0:e}return v.call(r,f)?r[f]:void 0}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_hashHas.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c=Object.prototype,s=c.hasOwnProperty;function v(o){var f=this.__data__;return t?f[o]!==void 0:s.call(f,o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_hashSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c="__lodash_hash_undefined__";function s(v,o){var f=this.__data__;return this.size+=this.has(v)?0:1,f[v]=t&&o===void 0?c:o,this}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_initCloneArray.js":function(P,x){var i=Object.prototype,t=i.hasOwnProperty;function c(s){var v=s.length,o=new s.constructor(v);return v&&typeof s[0]=="string"&&t.call(s,"index")&&(o.index=s.index,o.input=s.input),o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_initCloneByTag.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_cloneDataView.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cloneRegExp.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_cloneSymbol.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js"),f="[object Boolean]",r="[object Date]",e="[object Map]",n="[object Number]",a="[object RegExp]",u="[object Set]",l="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",d="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",m="[object Int32Array]",M="[object Uint8Array]",b="[object Uint8ClampedArray]",S="[object Uint16Array]",A="[object Uint32Array]";function T(O,D,L){var Z=O.constructor;switch(D){case p:return t(O);case f:case r:return new Z(+O);case d:return c(O,L);case g:case y:case E:case C:case m:case M:case b:case S:case A:return o(O,L);case e:return new Z;case n:case l:return new Z(O);case a:return s(O);case u:return new Z;case h:return v(O)}}P.exports=T},"./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseCreate.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js");function v(o){return typeof o.constructor=="function"&&!s(o)?t(c(o)):{}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_isFlattenable.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=t?t.isConcatSpreadable:void 0;function o(f){return s(f)||c(f)||!!(v&&f&&f[v])}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isIndex.js":function(P,x){var i=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function c(s,v){var o=typeof s;return v=v==null?i:v,!!v&&(o=="number"||o!="symbol"&&t.test(s))&&s>-1&&s%1==0&&s<v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isObject.js");function o(f,r,e){if(!v(e))return!1;var n=typeof r;return(n=="number"?c(e)&&s(r,e.length):n=="string"&&r in e)?t(e[r],f):!1}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isKey.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;function o(f,r){if(t(f))return!1;var e=typeof f;return e=="number"||e=="symbol"||e=="boolean"||f==null||c(f)?!0:v.test(f)||!s.test(f)||r!=null&&f in Object(r)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isKeyable.js":function(P,x){function i(t){var c=typeof t;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?t!=="__proto__":t===null}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_isMasked.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_coreJsData.js"),c=function(){var v=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();function s(v){return!!c&&c in v}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_isPrototype.js":function(P,x){var i=Object.prototype;function t(c){var s=c&&c.constructor,v=typeof s=="function"&&s.prototype||i;return c===v}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js");function c(s){return s===s&&!t(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheClear.js":function(P,x){function i(){this.__data__=[],this.size=0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_listCacheDelete.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js"),c=Array.prototype,s=c.splice;function v(o){var f=this.__data__,r=t(f,o);if(r<0)return!1;var e=f.length-1;return r==e?f.pop():s.call(f,r,1),--this.size,!0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_listCacheGet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s){var v=this.__data__,o=t(v,s);return o<0?void 0:v[o][1]}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheHas.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s){return t(this.__data__,s)>-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s,v){var o=this.__data__,f=t(o,s);return f<0?(++this.size,o.push([s,v])):o[f][1]=v,this}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheClear.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Hash.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_Map.js");function v(){this.size=0,this.__data__={hash:new t,map:new(s||c),string:new t}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_mapCacheDelete.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){var v=t(this,s).delete(s);return this.size-=v?1:0,v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheGet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){return t(this,s).get(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheHas.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){return t(this,s).has(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s,v){var o=t(this,s),f=o.size;return o.set(s,v),this.size+=o.size==f?0:1,this}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapToArray.js":function(P,x){function i(t){var c=-1,s=Array(t.size);return t.forEach(function(v,o){s[++c]=[o,v]}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js":function(P,x){function i(t,c){return function(s){return s==null?!1:s[t]===c&&(c!==void 0||t in Object(s))}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_memoizeCapped.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/memoize.js"),c=500;function s(v){var o=t(v,function(r){return f.size===c&&f.clear(),r}),f=o.cache;return o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=t(Object,"create");P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_nativeKeys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_overArg.js"),c=t(Object.keys,Object);P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_nativeKeysIn.js":function(P,x){function i(t){var c=[];if(t!=null)for(var s in Object(t))c.push(s);return c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js":function(P,x,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js"),s=x&&!x.nodeType&&x,v=s&&typeof t=="object"&&t&&!t.nodeType&&t,o=v&&v.exports===s,f=o&&c.process,r=function(){try{var e=v&&v.require&&v.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(n){}}();t.exports=r}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/_objectToString.js":function(P,x){var i=Object.prototype,t=i.toString;function c(s){return t.call(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_overArg.js":function(P,x){function i(t,c){return function(s){return t(c(s))}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_overRest.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_apply.js"),c=Math.max;function s(v,o,f){return o=c(o===void 0?v.length-1:o,0),function(){for(var r=arguments,e=-1,n=c(r.length-o,0),a=Array(n);++e<n;)a[e]=r[o+e];e=-1;for(var u=Array(o+1);++e<o;)u[e]=r[e];return u[o]=f(a),t(v,this,u)}}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_root.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js"),c=typeof self=="object"&&self&&self.Object===Object&&self,s=t||c||Function("return this")();P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_safeGet.js":function(P,x){function i(t,c){if(!(c==="constructor"&&typeof t[c]=="function")&&c!="__proto__")return t[c]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setCacheAdd.js":function(P,x){var i="__lodash_hash_undefined__";function t(c){return this.__data__.set(c,i),this}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_setCacheHas.js":function(P,x){function i(t){return this.__data__.has(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setToArray.js":function(P,x){function i(t){var c=-1,s=Array(t.size);return t.forEach(function(v){s[++c]=v}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setToString.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseSetToString.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_shortOut.js"),s=c(t);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_shortOut.js":function(P,x){var i=800,t=16,c=Date.now;function s(v){var o=0,f=0;return function(){var r=c(),e=t-(r-f);if(f=r,e>0){if(++o>=i)return arguments[0]}else o=0;return v.apply(void 0,arguments)}}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_stackClear.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js");function c(){this.__data__=new t,this.size=0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_stackDelete.js":function(P,x){function i(t){var c=this.__data__,s=c.delete(t);return this.size=c.size,s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackGet.js":function(P,x){function i(t){return this.__data__.get(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackHas.js":function(P,x){function i(t){return this.__data__.has(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Map.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),v=200;function o(f,r){var e=this.__data__;if(e instanceof t){var n=e.__data__;if(!c||n.length<v-1)return n.push([f,r]),this.size=++e.size,this;e=this.__data__=new s(n)}return e.set(f,r),this.size=e.size,this}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_strictIndexOf.js":function(P,x){function i(t,c,s){for(var v=s-1,o=t.length;++v<o;)if(t[v]===c)return v;return-1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stringSize.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_asciiSize.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasUnicode.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_unicodeSize.js");function v(o){return c(o)?s(o):t(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_stringToPath.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_memoizeCapped.js"),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,v=t(function(o){var f=[];return o.charCodeAt(0)===46&&f.push(""),o.replace(c,function(r,e,n,a){f.push(n?a.replace(s,"$1"):e||r)}),f});P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_toKey.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),c=1/0;function s(v){if(typeof v=="string"||t(v))return v;var o=v+"";return o=="0"&&1/v==-c?"-0":o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_toSource.js":function(P,x){var i=Function.prototype,t=i.toString;function c(s){if(s!=null){try{return t.call(s)}catch(v){}try{return s+""}catch(v){}}return""}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_unicodeSize.js":function(P,x){var i="\\ud800-\\udfff",t="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",v=t+c+s,o="\\ufe0e\\ufe0f",f="["+i+"]",r="["+v+"]",e="\\ud83c[\\udffb-\\udfff]",n="(?:"+r+"|"+e+")",a="[^"+i+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=n+"?",d="["+o+"]?",g="(?:"+h+"(?:"+[a,u,l].join("|")+")"+d+p+")*",y=d+p+g,E="(?:"+[a+r+"?",r,u,l,f].join("|")+")",C=RegExp(e+"(?="+e+")|"+E+y,"g");function m(M){for(var b=C.lastIndex=0;C.test(M);)++b;return b}P.exports=m},"./node_modules/_lodash@4.17.20@lodash/clone.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseClone.js"),c=4;function s(v){return t(v,c)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/cloneDeep.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseClone.js"),c=1,s=4;function v(o){return t(o,c|s)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/constant.js":function(P,x){function i(t){return function(){return t}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/defaults.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),v=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),o=Object.prototype,f=o.hasOwnProperty,r=t(function(e,n){e=Object(e);var a=-1,u=n.length,l=u>2?n[2]:void 0;for(l&&s(n[0],n[1],l)&&(u=1);++a<u;)for(var h=n[a],p=v(h),d=-1,g=p.length;++d<g;){var y=p[d],E=e[y];(E===void 0||c(E,o[y])&&!f.call(e,y))&&(e[y]=h[y])}return e});P.exports=r},"./node_modules/_lodash@4.17.20@lodash/each.js":function(P,x,i){P.exports=i("./node_modules/_lodash@4.17.20@lodash/forEach.js")},"./node_modules/_lodash@4.17.20@lodash/eq.js":function(P,x){function i(t,c){return t===c||t!==t&&c!==c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/filter.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseFilter.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:c;return e(f,s(r,3))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/find.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createFind.js"),c=i("./node_modules/_lodash@4.17.20@lodash/findIndex.js"),s=t(c);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/findIndex.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/toInteger.js"),v=Math.max;function o(f,r,e){var n=f==null?0:f.length;if(!n)return-1;var a=e==null?0:s(e);return a<0&&(a=v(n+a,0)),t(f,c(r,3),a)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/flatten.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js");function c(s){var v=s==null?0:s.length;return v?t(s,1):[]}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/forEach.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_castFunction.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:c;return e(f,s(r))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/forIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_castFunction.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function v(o,f){return o==null?o:t(o,c(f),s)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/get.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js");function c(s,v,o){var f=s==null?void 0:t(s,v);return f===void 0?o:f}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/has.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseHas.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasPath.js");function s(v,o){return v!=null&&c(v,o,t)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/hasIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseHasIn.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasPath.js");function s(v,o){return v!=null&&c(v,o,t)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/identity.js":function(P,x){function i(t){return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isArguments.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsArguments.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s=Object.prototype,v=s.hasOwnProperty,o=s.propertyIsEnumerable,f=t(function(){return arguments}())?t:function(r){return c(r)&&v.call(r,"callee")&&!o.call(r,"callee")};P.exports=f},"./node_modules/_lodash@4.17.20@lodash/isArray.js":function(P,x){var i=Array.isArray;P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isArrayLike.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isLength.js");function s(v){return v!=null&&c(v.length)&&!t(v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js");function s(v){return c(v)&&t(v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/isBuffer.js":function(P,x,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=i("./node_modules/_lodash@4.17.20@lodash/stubFalse.js"),v=x&&!x.nodeType&&x,o=v&&typeof t=="object"&&t&&!t.nodeType&&t,f=o&&o.exports===v,r=f?c.Buffer:void 0,e=r?r.isBuffer:void 0,n=e||s;t.exports=n}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/isEmpty.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),n="[object Map]",a="[object Set]",u=Object.prototype,l=u.hasOwnProperty;function h(p){if(p==null)return!0;if(o(p)&&(v(p)||typeof p=="string"||typeof p.splice=="function"||f(p)||e(p)||s(p)))return!p.length;var d=c(p);if(d==n||d==a)return!p.size;if(r(p))return!t(p).length;for(var g in p)if(l.call(p,g))return!1;return!0}P.exports=h},"./node_modules/_lodash@4.17.20@lodash/isFunction.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),s="[object AsyncFunction]",v="[object Function]",o="[object GeneratorFunction]",f="[object Proxy]";function r(e){if(!c(e))return!1;var n=t(e);return n==v||n==o||n==s||n==f}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/isLength.js":function(P,x){var i=9007199254740991;function t(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/isMap.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isMap,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isObject.js":function(P,x){function i(t){var c=typeof t;return t!=null&&(c=="object"||c=="function")}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isObjectLike.js":function(P,x){function i(t){return t!=null&&typeof t=="object"}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isPlainObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object Object]",o=Function.prototype,f=Object.prototype,r=o.toString,e=f.hasOwnProperty,n=r.call(Object);function a(u){if(!s(u)||t(u)!=v)return!1;var l=c(u);if(l===null)return!0;var h=e.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&r.call(h)==n}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/isSet.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsSet.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isSet,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isString.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object String]";function o(f){return typeof f=="string"||!c(f)&&s(f)&&t(f)==v}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isSymbol.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Symbol]";function v(o){return typeof o=="symbol"||c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/isTypedArray.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsTypedArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isTypedArray,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isUndefined.js":function(P,x){function i(t){return t===void 0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/keys.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function v(o){return s(o)?t(o):c(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/keysIn.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseKeysIn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function v(o){return s(o)?t(o,!0):c(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/last.js":function(P,x){function i(t){var c=t==null?0:t.length;return c?t[c-1]:void 0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/map.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseMap.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:s;return e(f,c(r,3))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/mapValues.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js");function v(o,f){var r={};return f=s(f,3),c(o,function(e,n,a){t(r,n,f(e,n,a))}),r}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/max.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseGt.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function v(o){return o&&o.length?t(o,s,c):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/memoize.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),c="Expected a function";function s(v,o){if(typeof v!="function"||o!=null&&typeof o!="function")throw new TypeError(c);var f=function(){var r=arguments,e=o?o.apply(this,r):r[0],n=f.cache;if(n.has(e))return n.get(e);var a=v.apply(this,r);return f.cache=n.set(e,a)||n,a};return f.cache=new(s.Cache||t),f}s.Cache=t,P.exports=s},"./node_modules/_lodash@4.17.20@lodash/merge.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseMerge.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_createAssigner.js"),s=c(function(v,o,f){t(v,o,f)});P.exports=s},"./node_modules/_lodash@4.17.20@lodash/min.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseLt.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function v(o){return o&&o.length?t(o,s,c):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/minBy.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseLt.js");function v(o,f){return o&&o.length?t(o,c(f,2),s):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/noop.js":function(P,x){function i(){}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/now.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=function(){return t.Date.now()};P.exports=c},"./node_modules/_lodash@4.17.20@lodash/pick.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_basePick.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_flatRest.js"),s=c(function(v,o){return v==null?{}:t(v,o)});P.exports=s},"./node_modules/_lodash@4.17.20@lodash/property.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseProperty.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_basePropertyDeep.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function o(f){return s(f)?t(v(f)):c(f)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/range.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createRange.js"),c=t();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/reduce.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayReduce.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseReduce.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function f(r,e,n){var a=o(r)?t:v,u=arguments.length<3;return a(r,s(e,4),n,u,c)}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/size.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isString.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_stringSize.js"),f="[object Map]",r="[object Set]";function e(n){if(n==null)return 0;if(s(n))return v(n)?o(n):n.length;var a=c(n);return a==f||a==r?n.size:t(n).length}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/sortBy.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseOrderBy.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),o=s(function(f,r){if(f==null)return[];var e=r.length;return e>1&&v(f,r[0],r[1])?r=[]:e>2&&v(r[0],r[1],r[2])&&(r=[r[0]]),c(f,t(r,1),[])});P.exports=o},"./node_modules/_lodash@4.17.20@lodash/stubArray.js":function(P,x){function i(){return[]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/stubFalse.js":function(P,x){function i(){return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/toFinite.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toNumber.js"),c=1/0,s=17976931348623157e292;function v(o){if(!o)return o===0?o:0;if(o=t(o),o===c||o===-c){var f=o<0?-1:1;return f*s}return o===o?o:0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/toInteger.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toFinite.js");function c(s){var v=t(s),o=v%1;return v===v?o?v-o:v:0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/toNumber.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),s=0/0,v=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,r=/^0o[0-7]+$/i,e=parseInt;function n(a){if(typeof a=="number")return a;if(c(a))return s;if(t(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=t(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=a.replace(v,"");var l=f.test(a);return l||r.test(a)?e(a.slice(2),l?2:8):o.test(a)?s:+a}P.exports=n},"./node_modules/_lodash@4.17.20@lodash/toPlainObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function s(v){return t(v,c(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/toString.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseToString.js");function c(s){return s==null?"":t(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/transform.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseCreate.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),a=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js");function u(l,h,p){var d=f(l),g=d||r(l)||a(l);if(h=v(h,4),p==null){var y=l&&l.constructor;g?p=d?new y:[]:n(l)?p=e(y)?c(o(l)):{}:p={}}return(g?t:s)(l,function(E,C,m){return h(p,E,C,m)}),p}P.exports=u},"./node_modules/_lodash@4.17.20@lodash/union.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseUniq.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js"),o=c(function(f){return s(t(f,1,v,!0))});P.exports=o},"./node_modules/_lodash@4.17.20@lodash/uniqueId.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toString.js"),c=0;function s(v){var o=++c;return t(v)+o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/values.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseValues.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v){return v==null?[]:t(v,c(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/zipObject.js":function(P,x,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseZipObject.js");function s(v,o){return c(v||[],o||[],t)}P.exports=s},"./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js":function(P,x){P.exports=c;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function c(o){var f=[];return o.replace(t,function(r,e,n){var a=e.toLowerCase();for(n=v(n),a=="m"&&n.length>2&&(f.push([e].concat(n.splice(0,2))),a="l",e=e=="m"?"l":"L");;){if(n.length==i[a])return n.unshift(e),f.push(n);if(n.length<i[a])throw new Error("malformed path data");f.push([e].concat(n.splice(0,i[a])))}}),f}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function v(o){var f=o.match(s);return f?f.map(Number):[]}},"./node_modules/_point-at-length@1.1.0@point-at-length/index.js":function(P,x,i){var t=i("./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js"),c=i("./node_modules/_isarray@0.0.1@isarray/index.js"),s=i("./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js");P.exports=v;function v(e){if(!(this instanceof v))return new v(e);this._path=c(e)?e:t(e),this._path=s(this._path),this._path=r(this._path),this._path=f(this._path)}v.prototype.at=function(e,n){return this._walk(e,n).pos},v.prototype.length=function(){return this._walk(null).length},v.prototype._walk=function(e,n){for(var a=[0,0],u=[0,0,0],l=[0,0],h=0,p=0;p<this._path.length;p++){var d=this._path[p];if(d[0]==="M"){if(a[0]=d[1],a[1]=d[2],e===0)return{length:h,pos:a}}else if(d[0]==="C"){u[0]=l[0]=a[0],u[1]=l[1]=a[1],u[2]=h;for(var g=100,y=0;y<=g;y++){var E=y/g,C=S(d,E),m=A(d,E);if(h+=o(a[0],a[1],C,m),a[0]=C,a[1]=m,typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}else if(d[0]==="Q"){u[0]=l[0]=a[0],u[1]=l[1]=a[1],u[2]=h;for(var g=100,y=0;y<=g;y++){var E=y/g,C=T(d,E),m=O(d,E);if(h+=o(a[0],a[1],C,m),a[0]=C,a[1]=m,typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}else if(d[0]==="L"){if(u[0]=a[0],u[1]=a[1],u[2]=h,h+=o(a[0],a[1],d[1],d[2]),a[0]=d[1],a[1]=d[2],typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}return{length:h,pos:a};function S(D,L){return Math.pow(1-L,3)*l[0]+3*Math.pow(1-L,2)*L*D[1]+3*(1-L)*Math.pow(L,2)*D[3]+Math.pow(L,3)*D[5]}function A(D,L){return Math.pow(1-L,3)*l[1]+3*Math.pow(1-L,2)*L*D[2]+3*(1-L)*Math.pow(L,2)*D[4]+Math.pow(L,3)*D[6]}function T(D,L){return Math.pow(1-L,2)*l[0]+2*(1-L)*L*D[1]+Math.pow(L,2)*D[3]}function O(D,L){return Math.pow(1-L,2)*l[1]+2*(1-L)*L*D[2]+Math.pow(L,2)*D[4]}};function o(e,n,a,u){var l=e-a,h=n-u;return Math.sqrt(l*l+h*h)}function f(e){for(var n,a=0,u=0,l={S:{to:"C",x:3},T:{to:"Q",x:1}},h=0,p=e.length;h<p;h++){var d=e[h],g=l[d[0]];g&&(d[0]=g.to,n&&(n[0]===g.to?(a=2*n[g.x+2]-n[g.x],u=2*n[g.x+3]-n[g.x+1]):(a=n[n.length-2],u=n[n.length-1])),d.splice(1,0,a,u)),n=d}return e}function r(e){for(var n=[],a=["L",0,0],u,l=0,h=e.length;l<h;l++){var p=e[l];switch(p[0]){case"M":a=["L",p[1],p[2]],n.push(p);break;case"Z":n.push(a);break;case"H":u=n[n.length-1]||["L",0,0],n.push(["L",p[1],u[u.length-1]]);break;case"V":u=n[n.length-1]||["L",0,0],n.push(["L",u[u.length-2],p[1]]);break;default:n.push(p)}}return n}},"./node_modules/_regression@2.0.1@regression/dist/regression.js":function(P,x,i){var t,c,s;(function(v,o){if(!0)c=[P],t=o,s=typeof t=="function"?t.apply(x,c):t,s!==void 0&&(P.exports=s);else var f})(this,function(v){"use strict";function o(p,d,g){return d in p?Object.defineProperty(p,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[d]=g,p}var f=Object.assign||function(p){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])}return p};function r(p){if(Array.isArray(p)){for(var d=0,g=Array(p.length);d<p.length;d++)g[d]=p[d];return g}else return Array.from(p)}var e={order:2,precision:2,period:null};function n(p,d){var g=[],y=[];p.forEach(function(b,S){b[1]!==null&&(y.push(b),g.push(d[S]))});var E=y.reduce(function(b,S){return b+S[1]},0),C=E/y.length,m=y.reduce(function(b,S){var A=S[1]-C;return b+A*A},0),M=y.reduce(function(b,S,A){var T=g[A],O=S[1]-T[1];return b+O*O},0);return 1-M/m}function a(p,d){for(var g=p,y=p.length-1,E=[d],C=0;C<y;C++){for(var m=C,M=C+1;M<y;M++)Math.abs(g[C][M])>Math.abs(g[C][m])&&(m=M);for(var b=C;b<y+1;b++){var S=g[b][C];g[b][C]=g[b][m],g[b][m]=S}for(var A=C+1;A<y;A++)for(var T=y;T>=C;T--)g[T][A]-=g[T][C]*g[C][A]/g[C][C]}for(var O=y-1;O>=0;O--){for(var D=0,L=O+1;L<y;L++)D+=g[L][O]*E[L];E[O]=(g[y][O]-D)/g[O][O]}return E}function u(p,d){var g=Math.pow(10,d);return Math.round(p*g)/g}var l={linear:function(d,g){for(var y=[0,0,0,0,0],E=0,C=0;C<d.length;C++)d[C][1]!==null&&(E++,y[0]+=d[C][0],y[1]+=d[C][1],y[2]+=d[C][0]*d[C][0],y[3]+=d[C][0]*d[C][1],y[4]+=d[C][1]*d[C][1]);var m=E*y[2]-y[0]*y[0],M=E*y[3]-y[0]*y[1],b=m===0?0:u(M/m,g.precision),S=u(y[1]/E-b*y[0]/E,g.precision),A=function(D){return[u(D,g.precision),u(b*D+S,g.precision)]},T=d.map(function(O){return A(O[0])});return{points:T,predict:A,equation:[b,S],r2:u(n(d,T),g.precision),string:S===0?"y = "+b+"x":"y = "+b+"x + "+S}},exponential:function(d,g){for(var y=[0,0,0,0,0,0],E=0;E<d.length;E++)d[E][1]!==null&&(y[0]+=d[E][0],y[1]+=d[E][1],y[2]+=d[E][0]*d[E][0]*d[E][1],y[3]+=d[E][1]*Math.log(d[E][1]),y[4]+=d[E][0]*d[E][1]*Math.log(d[E][1]),y[5]+=d[E][0]*d[E][1]);var C=y[1]*y[2]-y[5]*y[5],m=Math.exp((y[2]*y[3]-y[5]*y[4])/C),M=(y[1]*y[4]-y[5]*y[3])/C,b=u(m,g.precision),S=u(M,g.precision),A=function(D){return[u(D,g.precision),u(b*Math.exp(S*D),g.precision)]},T=d.map(function(O){return A(O[0])});return{points:T,predict:A,equation:[b,S],string:"y = "+b+"e^("+S+"x)",r2:u(n(d,T),g.precision)}},logarithmic:function(d,g){for(var y=[0,0,0,0],E=d.length,C=0;C<E;C++)d[C][1]!==null&&(y[0]+=Math.log(d[C][0]),y[1]+=d[C][1]*Math.log(d[C][0]),y[2]+=d[C][1],y[3]+=Math.pow(Math.log(d[C][0]),2));var m=(E*y[1]-y[2]*y[0])/(E*y[3]-y[0]*y[0]),M=u(m,g.precision),b=u((y[2]-M*y[0])/E,g.precision),S=function(O){return[u(O,g.precision),u(u(b+M*Math.log(O),g.precision),g.precision)]},A=d.map(function(T){return S(T[0])});return{points:A,predict:S,equation:[b,M],string:"y = "+b+" + "+M+" ln(x)",r2:u(n(d,A),g.precision)}},power:function(d,g){for(var y=[0,0,0,0,0],E=d.length,C=0;C<E;C++)d[C][1]!==null&&(y[0]+=Math.log(d[C][0]),y[1]+=Math.log(d[C][1])*Math.log(d[C][0]),y[2]+=Math.log(d[C][1]),y[3]+=Math.pow(Math.log(d[C][0]),2));var m=(E*y[1]-y[0]*y[2])/(E*y[3]-Math.pow(y[0],2)),M=(y[2]-m*y[0])/E,b=u(Math.exp(M),g.precision),S=u(m,g.precision),A=function(D){return[u(D,g.precision),u(u(b*Math.pow(D,S),g.precision),g.precision)]},T=d.map(function(O){return A(O[0])});return{points:T,predict:A,equation:[b,S],string:"y = "+b+"x^"+S,r2:u(n(d,T),g.precision)}},polynomial:function(d,g){for(var y=[],E=[],C=0,m=0,M=d.length,b=g.order+1,S=0;S<b;S++){for(var A=0;A<M;A++)d[A][1]!==null&&(C+=Math.pow(d[A][0],S)*d[A][1]);y.push(C),C=0;for(var T=[],O=0;O<b;O++){for(var D=0;D<M;D++)d[D][1]!==null&&(m+=Math.pow(d[D][0],S+O));T.push(m),m=0}E.push(T)}E.push(y);for(var L=a(E,b).map(function(J){return u(J,g.precision)}),Z=function(ht){return[u(ht,g.precision),u(L.reduce(function(nt,Q,xt){return nt+Q*Math.pow(ht,xt)},0),g.precision)]},U=d.map(function(J){return Z(J[0])}),Y="y = ",W=L.length-1;W>=0;W--)W>1?Y+=L[W]+"x^"+W+" + ":W===1?Y+=L[W]+"x + ":Y+=L[W];return{string:Y,points:U,predict:Z,equation:[].concat(r(L)).reverse(),r2:u(n(d,U),g.precision)}}};function h(){var p=function(g,y){return f({_round:u},g,o({},y,function(E,C){return l[y](E,f({},e,C))}))};return Object.keys(l).reduce(p,{})}v.exports=h()})},"./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";function c(B){if(B.length===0)return 0;for(var w,R=B[0],V=0,tt=1;tt<B.length;tt++)w=R+B[tt],Math.abs(R)>=Math.abs(B[tt])?V+=R-w+B[tt]:V+=B[tt]-w+R,R=w;return R+V}function s(B){if(B.length===0)throw new Error("mean requires at least one data point");return c(B)/B.length}function v(B,w){var R,V,tt=s(B),lt=0;if(w===2)for(V=0;V<B.length;V++)lt+=(R=B[V]-tt)*R;else for(V=0;V<B.length;V++)lt+=Math.pow(B[V]-tt,w);return lt}function o(B){if(B.length===0)throw new Error("variance requires at least one data point");return v(B,2)/B.length}function f(B){if(B.length===1)return 0;var w=o(B);return Math.sqrt(w)}function r(B){if(B.length===0)throw new Error("mode requires at least one data point");if(B.length===1)return B[0];for(var w=B[0],R=NaN,V=0,tt=1,lt=1;lt<B.length+1;lt++)B[lt]!==w?(V<tt&&(V=tt,R=w),tt=1,w=B[lt]):tt++;return R}function e(B){return B.slice().sort(function(w,R){return w-R})}function n(B){if(B.length===0)throw new Error("min requires at least one data point");for(var w=B[0],R=1;R<B.length;R++)B[R]<w&&(w=B[R]);return w}function a(B){if(B.length===0)throw new Error("max requires at least one data point");for(var w=B[0],R=1;R<B.length;R++)B[R]>w&&(w=B[R]);return w}function u(B,w){var R=B.length*w;if(B.length===0)throw new Error("quantile requires at least one data point.");if(w<0||1<w)throw new Error("quantiles must be between 0 and 1");return w===1?B[B.length-1]:w===0?B[0]:R%1!=0?B[Math.ceil(R)-1]:B.length%2==0?(B[R-1]+B[R])/2:B[R]}function l(B,w,R,V){for(R=R||0,V=V||B.length-1;R<V;){if(600<V-R){var tt=V-R+1,lt=w-R+1,Et=Math.log(tt),ot=.5*Math.exp(2*Et/3),Mt=.5*Math.sqrt(Et*ot*(tt-ot)/tt);lt-tt/2<0&&(Mt*=-1),l(B,w,Math.max(R,Math.floor(w-lt*ot/tt+Mt)),Math.min(V,Math.floor(w+(tt-lt)*ot/tt+Mt)))}var Ot=B[w],Ft=R,zt=V;for(h(B,R,w),B[V]>Ot&&h(B,R,V);Ft<zt;){for(h(B,Ft,zt),Ft++,zt--;B[Ft]<Ot;)Ft++;for(;B[zt]>Ot;)zt--}B[R]===Ot?h(B,R,zt):h(B,++zt,V),zt<=w&&(R=zt+1),w<=zt&&(V=zt-1)}}function h(B,w,R){var V=B[w];B[w]=B[R],B[R]=V}function p(B,w){var R=B.slice();if(Array.isArray(w)){(function(lt,Et){for(var ot=[0],Mt=0;Mt<Et.length;Mt++)ot.push(y(lt.length,Et[Mt]));ot.push(lt.length-1),ot.sort(g);for(var Ot=[0,ot.length-1];Ot.length;){var Ft=Math.ceil(Ot.pop()),zt=Math.floor(Ot.pop());if(!(Ft-zt<=1)){var $t=Math.floor((zt+Ft)/2);d(lt,ot[$t],ot[zt],ot[Ft]),Ot.push(zt,$t,$t,Ft)}}})(R,w);for(var V=[],tt=0;tt<w.length;tt++)V[tt]=u(R,w[tt]);return V}return d(R,y(R.length,w),0,R.length-1),u(R,w)}function d(B,w,R,V){w%1==0?l(B,w,R,V):(l(B,w=Math.floor(w),R,V),l(B,w+1,w+1,V))}function g(B,w){return B-w}function y(B,w){var R=B*w;return w===1?B-1:w===0?0:R%1!=0?Math.ceil(R)-1:B%2==0?R-.5:R}function E(B,w){if(w<B[0])return 0;if(w>B[B.length-1])return 1;var R=function(lt,Et){for(var ot=0,Mt=0,Ot=lt.length;Mt<Ot;)Et<=lt[ot=Mt+Ot>>>1]?Ot=ot:Mt=-~ot;return Mt}(B,w);if(B[R]!==w)return R/B.length;R++;var V=function(lt,Et){for(var ot=0,Mt=0,Ot=lt.length;Mt<Ot;)Et>=lt[ot=Mt+Ot>>>1]?Mt=-~ot:Ot=ot;return Mt}(B,w);if(V===R)return R/B.length;var tt=V-R+1;return tt*(V+R)/2/tt/B.length}function C(B){var w=p(B,.75),R=p(B,.25);if(typeof w=="number"&&typeof R=="number")return w-R}function m(B){return+p(B,.5)}function M(B){for(var w=m(B),R=[],V=0;V<B.length;V++)R.push(Math.abs(B[V]-w));return m(R)}function b(B,w){w=w||Math.random;for(var R,V,tt=B.length;0<tt;)V=Math.floor(w()*tt--),R=B[tt],B[tt]=B[V],B[V]=R;return B}function S(B,w){return b(B.slice().slice(),w)}function A(B){for(var w,R=0,V=0;V<B.length;V++)V!==0&&B[V]===w||(w=B[V],R++);return R}function T(B,w){for(var R=[],V=0;V<B;V++){for(var tt=[],lt=0;lt<w;lt++)tt.push(0);R.push(tt)}return R}function O(B,w,R,V){var tt;if(0<B){var lt=(R[w]-R[B-1])/(w-B+1);tt=V[w]-V[B-1]-(w-B+1)*lt*lt}else tt=V[w]-R[w]*R[w]/(w+1);return tt<0?0:tt}function D(B,w,R,V,tt,lt,Et){if(!(w<B)){var ot=Math.floor((B+w)/2);V[R][ot]=V[R-1][ot-1],tt[R][ot]=ot;var Mt=R;R<B&&(Mt=Math.max(Mt,tt[R][B-1]||0)),Mt=Math.max(Mt,tt[R-1][ot]||0);var Ot,Ft,zt,$t=ot-1;w<V.length-1&&($t=Math.min($t,tt[R][w+1]||0));for(var ce=$t;Mt<=ce&&!((Ot=O(ce,ot,lt,Et))+V[R-1][Mt-1]>=V[R][ot]);--ce)(Ft=O(Mt,ot,lt,Et)+V[R-1][Mt-1])<V[R][ot]&&(V[R][ot]=Ft,tt[R][ot]=Mt),Mt++,(zt=Ot+V[R-1][ce-1])<V[R][ot]&&(V[R][ot]=zt,tt[R][ot]=ce);D(B,ot-1,R,V,tt,lt,Et),D(ot+1,w,R,V,tt,lt,Et)}}function L(B,w){if(B.length!==w.length)throw new Error("sampleCovariance requires samples with equal lengths");if(B.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var R=s(B),V=s(w),tt=0,lt=0;lt<B.length;lt++)tt+=(B[lt]-R)*(w[lt]-V);return tt/(B.length-1)}function Z(B){if(B.length<2)throw new Error("sampleVariance requires at least two data points");return v(B,2)/(B.length-1)}function U(B){var w=Z(B);return Math.sqrt(w)}function Y(B,w,R,V){return(B*w+R*V)/(w+V)}function W(B){if(B.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var w=0,R=0;R<B.length;R++)w+=Math.pow(B[R],2);return Math.sqrt(w/B.length)}function J(){this.totalCount=0,this.data={}}function ht(){this.weights=[],this.bias=0}J.prototype.train=function(B,w){for(var R in this.data[w]||(this.data[w]={}),B){var V=B[R];this.data[w][R]===void 0&&(this.data[w][R]={}),this.data[w][R][V]===void 0&&(this.data[w][R][V]=0),this.data[w][R][V]++}this.totalCount++},J.prototype.score=function(B){var w,R={};for(var V in B){var tt=B[V];for(w in this.data)R[w]={},this.data[w][V]?R[w][V+"_"+tt]=(this.data[w][V][tt]||0)/this.totalCount:R[w][V+"_"+tt]=0}var lt={};for(w in R)for(var Et in lt[w]=0,R[w])lt[w]+=R[w][Et];return lt},ht.prototype.predict=function(B){if(B.length!==this.weights.length)return null;for(var w=0,R=0;R<this.weights.length;R++)w+=this.weights[R]*B[R];return 0<(w+=this.bias)?1:0},ht.prototype.train=function(B,w){if(w!==0&&w!==1)return null;B.length!==this.weights.length&&(this.weights=B,this.bias=1);var R=this.predict(B);if(R!==w){for(var V=w-R,tt=0;tt<this.weights.length;tt++)this.weights[tt]+=V*B[tt];this.bias+=V}return this};var nt=1e-4;function Q(B){if(B<0)throw new Error("factorial requires a non-negative value");if(Math.floor(B)!==B)throw new Error("factorial requires an integer input");for(var w=1,R=2;R<=B;R++)w*=R;return w}var xt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],_t=Math.log(Math.sqrt(2*Math.PI)),Nt={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},rt=Math.sqrt(2*Math.PI),q={gaussian:function(B){return Math.exp(-.5*B*B)/rt}},G={nrd:function(B){var w=U(B),R=C(B);return typeof R=="number"&&(w=Math.min(w,R/1.34)),1.06*w*Math.pow(B.length,-.2)}};function N(B,w,R){var V,tt;if(w===void 0)V=q.gaussian;else if(typeof w=="string"){if(!q[w])throw new Error('Unknown kernel "'+w+'"');V=q[w]}else V=w;if(R===void 0)tt=G.nrd(B);else if(typeof R=="string"){if(!G[R])throw new Error('Unknown bandwidth method "'+R+'"');tt=G[R](B)}else tt=R;return function(lt){var Et=0,ot=0;for(Et=0;Et<B.length;Et++)ot+=V((lt-B[Et])/tt);return ot/tt/B.length}}var at=Math.sqrt(2*Math.PI);function H(B){for(var w=B,R=B,V=1;V<15;V++)w+=R*=B*B/(2*V+1);return Math.round(1e4*(.5+w/at*Math.exp(-B*B/2)))/1e4}for(var ft=[],ct=0;ct<=3.09;ct+=.01)ft.push(H(ct));function K(B){var w=1/(1+.5*Math.abs(B)),R=w*Math.exp(-Math.pow(B,2)-1.26551223+1.00002368*w+.37409196*Math.pow(w,2)+.09678418*Math.pow(w,3)-.18628806*Math.pow(w,4)+.27886807*Math.pow(w,5)-1.13520398*Math.pow(w,6)+1.48851587*Math.pow(w,7)-.82215223*Math.pow(w,8)+.17087277*Math.pow(w,9));return 0<=B?1-R:R-1}function $(B){var w=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),R=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*w)+Math.log(1-B*B)/2,2)-Math.log(1-B*B)/w)-(2/(Math.PI*w)+Math.log(1-B*B)/2));return 0<=B?R:-R}function et(B){if(typeof B=="number")return B<0?-1:B===0?0:1;throw new TypeError("not a number")}t.linearRegression=function(B){var w,R,V=B.length;if(V===1)R=B[w=0][1];else{for(var tt,lt,Et,ot=0,Mt=0,Ot=0,Ft=0,zt=0;zt<V;zt++)ot+=lt=(tt=B[zt])[0],Mt+=Et=tt[1],Ot+=lt*lt,Ft+=lt*Et;R=Mt/V-(w=(V*Ft-ot*Mt)/(V*Ot-ot*ot))*ot/V}return{m:w,b:R}},t.linearRegressionLine=function(B){return function(w){return B.b+B.m*w}},t.standardDeviation=f,t.rSquared=function(B,w){if(B.length<2)return 1;for(var R,V=0,tt=0;tt<B.length;tt++)V+=B[tt][1];R=V/B.length;for(var lt=0,Et=0;Et<B.length;Et++)lt+=Math.pow(R-B[Et][1],2);for(var ot=0,Mt=0;Mt<B.length;Mt++)ot+=Math.pow(B[Mt][1]-w(B[Mt][0]),2);return 1-ot/lt},t.mode=function(B){return r(e(B))},t.modeFast=function(B){for(var w,R=new Map,V=0,tt=0;tt<B.length;tt++){var lt=R.get(B[tt]);lt===void 0?lt=1:lt++,V<lt&&(w=B[tt],V=lt),R.set(B[tt],lt)}if(V===0)throw new Error("mode requires at last one data point");return w},t.modeSorted=r,t.min=n,t.max=a,t.extent=function(B){if(B.length===0)throw new Error("extent requires at least one data point");for(var w=B[0],R=B[0],V=1;V<B.length;V++)B[V]>R&&(R=B[V]),B[V]<w&&(w=B[V]);return[w,R]},t.minSorted=function(B){return B[0]},t.maxSorted=function(B){return B[B.length-1]},t.extentSorted=function(B){return[B[0],B[B.length-1]]},t.sum=c,t.sumSimple=function(B){for(var w=0,R=0;R<B.length;R++)w+=B[R];return w},t.product=function(B){for(var w=1,R=0;R<B.length;R++)w*=B[R];return w},t.quantile=p,t.quantileSorted=u,t.quantileRank=function(B,w){return E(e(B),w)},t.quantileRankSorted=E,t.interquartileRange=C,t.iqr=C,t.medianAbsoluteDeviation=M,t.mad=M,t.chunk=function(B,w){var R=[];if(w<1)throw new Error("chunk size must be a positive number");if(Math.floor(w)!==w)throw new Error("chunk size must be an integer");for(var V=0;V<B.length;V+=w)R.push(B.slice(V,V+w));return R},t.sampleWithReplacement=function(B,w,R){if(B.length===0)return[];R=R||Math.random;for(var V=B.length,tt=[],lt=0;lt<w;lt++){var Et=Math.floor(R()*V);tt.push(B[Et])}return tt},t.shuffle=S,t.shuffleInPlace=b,t.sample=function(B,w,R){return S(B,R).slice(0,w)},t.ckmeans=function(B,w){if(w>B.length)throw new Error("cannot generate more classes than there are data values");var R=e(B);if(A(R)===1)return[R];var V=T(w,R.length),tt=T(w,R.length);(function(Ot,Ft,zt){for(var $t,ce=Ft[0].length,ye=Ot[Math.floor(ce/2)],Je=[],nr=[],Xe=0;Xe<ce;++Xe)$t=Ot[Xe]-ye,Xe===0?(Je.push($t),nr.push($t*$t)):(Je.push(Je[Xe-1]+$t),nr.push(nr[Xe-1]+$t*$t)),Ft[0][Xe]=O(0,Xe,Je,nr),zt[0][Xe]=0;for(var mr=1;mr<Ft.length;++mr)D(mr<Ft.length-1?mr:ce-1,ce-1,mr,Ft,zt,Je,nr)})(R,V,tt);for(var lt=[],Et=tt[0].length-1,ot=tt.length-1;0<=ot;ot--){var Mt=tt[ot][Et];lt[ot]=R.slice(Mt,Et+1),0<ot&&(Et=Mt-1)}return lt},t.uniqueCountSorted=A,t.sumNthPowerDeviations=v,t.equalIntervalBreaks=function(B,w){if(B.length<2)return B;for(var R=n(B),V=a(B),tt=[R],lt=(V-R)/w,Et=1;Et<w;Et++)tt.push(tt[0]+lt*Et);return tt.push(V),tt},t.sampleCovariance=L,t.sampleCorrelation=function(B,w){return L(B,w)/U(B)/U(w)},t.sampleVariance=Z,t.sampleStandardDeviation=U,t.sampleSkewness=function(B){if(B.length<3)throw new Error("sampleSkewness requires at least three data points");for(var w,R=s(B),V=0,tt=0,lt=0;lt<B.length;lt++)V+=(w=B[lt]-R)*w,tt+=w*w*w;var Et=B.length-1,ot=Math.sqrt(V/Et),Mt=B.length;return Mt*tt/((Mt-1)*(Mt-2)*Math.pow(ot,3))},t.sampleKurtosis=function(B){var w=B.length;if(w<4)throw new Error("sampleKurtosis requires at least four data points");for(var R,V=s(B),tt=0,lt=0,Et=0;Et<w;Et++)tt+=(R=B[Et]-V)*R,lt+=R*R*R*R;return(w-1)/((w-2)*(w-3))*(w*(w+1)*lt/(tt*tt)-3*(w-1))},t.permutationsHeap=function(B){for(var w=new Array(B.length),R=[B.slice()],V=0;V<B.length;V++)w[V]=0;for(V=0;V<B.length;)if(w[V]<V){var tt=0;V%2!=0&&(tt=w[V]);var lt=B[tt];B[tt]=B[V],B[V]=lt,R.push(B.slice()),w[V]++,V=0}else w[V]=0,V++;return R},t.combinations=function B(w,R){var V,tt,lt,Et,ot=[];for(V=0;V<w.length;V++)if(R===1)ot.push([w[V]]);else for(lt=B(w.slice(V+1,w.length),R-1),tt=0;tt<lt.length;tt++)(Et=lt[tt]).unshift(w[V]),ot.push(Et);return ot},t.combinationsReplacement=function B(w,R){for(var V=[],tt=0;tt<w.length;tt++)if(R===1)V.push([w[tt]]);else for(var lt=B(w.slice(tt,w.length),R-1),Et=0;Et<lt.length;Et++)V.push([w[tt]].concat(lt[Et]));return V},t.addToMean=function(B,w,R){return B+(R-B)/(w+1)},t.combineMeans=Y,t.combineVariances=function(B,w,R,V,tt,lt){var Et=Y(w,R,tt,lt);return(R*(B+Math.pow(w-Et,2))+lt*(V+Math.pow(tt-Et,2)))/(R+lt)},t.geometricMean=function(B){if(B.length===0)throw new Error("geometricMean requires at least one data point");for(var w=1,R=0;R<B.length;R++){if(B[R]<=0)throw new Error("geometricMean requires only positive numbers as input");w*=B[R]}return Math.pow(w,1/B.length)},t.harmonicMean=function(B){if(B.length===0)throw new Error("harmonicMean requires at least one data point");for(var w=0,R=0;R<B.length;R++){if(B[R]<=0)throw new Error("harmonicMean requires only positive numbers as input");w+=1/B[R]}return B.length/w},t.average=s,t.mean=s,t.median=m,t.medianSorted=function(B){return u(B,.5)},t.subtractFromMean=function(B,w,R){return(B*w-R)/(w-1)},t.rootMeanSquare=W,t.rms=W,t.variance=o,t.tTest=function(B,w){return(s(B)-w)/(f(B)/Math.sqrt(B.length))},t.tTestTwoSample=function(B,w,R){var V=B.length,tt=w.length;if(!V||!tt)return null;R||(R=0);var lt=s(B),Et=s(w),ot=Z(B),Mt=Z(w);if(typeof lt=="number"&&typeof Et=="number"&&typeof ot=="number"&&typeof Mt=="number"){var Ot=((V-1)*ot+(tt-1)*Mt)/(V+tt-2);return(lt-Et-R)/Math.sqrt(Ot*(1/V+1/tt))}},t.BayesianClassifier=J,t.bayesian=J,t.PerceptronModel=ht,t.perceptron=ht,t.epsilon=nt,t.factorial=Q,t.gamma=function B(w){if(typeof(R=w)=="number"&&isFinite(R)&&Math.floor(R)===R)return w<=0?NaN:Q(w-1);var R;if(--w<0)return Math.PI/(Math.sin(Math.PI*-w)*B(-w));var V=w+.25;return Math.pow(w/Math.E,w)*Math.sqrt(2*Math.PI*(w+1/6))*(1+1/144/Math.pow(V,2)-1/12960/Math.pow(V,3)-257/207360/Math.pow(V,4)-52/2612736/Math.pow(V,5)+5741173/9405849600/Math.pow(V,6)+37529/18811699200/Math.pow(V,7))},t.gammaln=function(B){if(B<=0)return 1/0;B--;for(var w=xt[0],R=1;R<15;R++)w+=xt[R]/(B+R);var V=5.2421875+B;return _t+Math.log(w)-V+(B+.5)*Math.log(V)},t.bernoulliDistribution=function(B){if(B<0||1<B)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-B,B]},t.binomialDistribution=function(B,w){if(!(w<0||1<w||B<=0||B%1!=0)){for(var R=0,V=0,tt=[],lt=1;tt[R]=lt*Math.pow(w,R)*Math.pow(1-w,B-R),V+=tt[R],lt=lt*(B-++R+1)/R,V<1-nt;);return tt}},t.poissonDistribution=function(B){if(!(B<=0)){for(var w=0,R=0,V=[],tt=1;V[w]=Math.exp(-B)*Math.pow(B,w)/tt,R+=V[w],tt*=++w,R<1-nt;);return V}},t.chiSquaredDistributionTable=Nt,t.chiSquaredGoodnessOfFit=function(B,w,R){for(var V,tt,lt=0,Et=w(s(B)),ot=[],Mt=[],Ot=0;Ot<B.length;Ot++)ot[B[Ot]]===void 0&&(ot[B[Ot]]=0),ot[B[Ot]]++;for(Ot=0;Ot<ot.length;Ot++)ot[Ot]===void 0&&(ot[Ot]=0);for(tt in Et)tt in ot&&(Mt[+tt]=Et[tt]*B.length);for(tt=Mt.length-1;0<=tt;tt--)Mt[tt]<3&&(Mt[tt-1]+=Mt[tt],Mt.pop(),ot[tt-1]+=ot[tt],ot.pop());for(tt=0;tt<ot.length;tt++)lt+=Math.pow(ot[tt]-Mt[tt],2)/Mt[tt];return V=ot.length-1-1,Nt[V][R]<lt},t.kernelDensityEstimation=N,t.kde=N,t.zScore=function(B,w,R){return(B-w)/R},t.cumulativeStdNormalProbability=function(B){var w=Math.abs(B),R=Math.min(Math.round(100*w),ft.length-1);return 0<=B?ft[R]:+(1-ft[R]).toFixed(4)},t.standardNormalTable=ft,t.errorFunction=K,t.erf=K,t.inverseErrorFunction=$,t.probit=function(B){return B===0?B=nt:1<=B&&(B=1-nt),Math.sqrt(2)*$(2*B-1)},t.permutationTest=function(B,w,R,V){if(V===void 0&&(V=1e4),R===void 0&&(R="two_side"),R!=="two_side"&&R!=="greater"&&R!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var tt=s(B)-s(w),lt=new Array(V),Et=B.concat(w),ot=Math.floor(Et.length/2),Mt=0;Mt<V;Mt++){b(Et);var Ot=Et.slice(0,ot),Ft=Et.slice(ot,Et.length),zt=s(Ot)-s(Ft);lt[Mt]=zt}var $t=0;if(R==="two_side")for(Mt=0;Mt<=V;Mt++)Math.abs(lt[Mt])>=Math.abs(tt)&&($t+=1);else if(R==="greater")for(Mt=0;Mt<=V;Mt++)lt[Mt]>=tt&&($t+=1);else for(Mt=0;Mt<=V;Mt++)lt[Mt]<=tt&&($t+=1);return $t/V},t.bisect=function(B,w,R,V,tt){if(typeof B!="function")throw new TypeError("func must be a function");for(var lt=0;lt<V;lt++){var Et=(w+R)/2;if(B(Et)===0||Math.abs((R-w)/2)<tt)return Et;et(B(Et))===et(B(w))?w=Et:R=Et}throw new Error("maximum number of iterations exceeded")},t.quickselect=l,t.sign=et,t.numericSort=e,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js":function(P,x,i){(function(t,c){c(x)})(this,function(t){"use strict";function c(m){return m}function s(m){if(m==null)return c;var M,b,S=m.scale[0],A=m.scale[1],T=m.translate[0],O=m.translate[1];return function(D,L){L||(M=b=0);var Z=2,U=D.length,Y=new Array(U);for(Y[0]=(M+=D[0])*S+T,Y[1]=(b+=D[1])*A+O;Z<U;)Y[Z]=D[Z],++Z;return Y}}function v(m){var M=s(m.transform),b,S=Infinity,A=S,T=-S,O=-S;function D(Z){Z=M(Z),Z[0]<S&&(S=Z[0]),Z[0]>T&&(T=Z[0]),Z[1]<A&&(A=Z[1]),Z[1]>O&&(O=Z[1])}function L(Z){switch(Z.type){case"GeometryCollection":Z.geometries.forEach(L);break;case"Point":D(Z.coordinates);break;case"MultiPoint":Z.coordinates.forEach(D);break}}m.arcs.forEach(function(Z){for(var U=-1,Y=Z.length,W;++U<Y;)W=M(Z[U],U),W[0]<S&&(S=W[0]),W[0]>T&&(T=W[0]),W[1]<A&&(A=W[1]),W[1]>O&&(O=W[1])});for(b in m.objects)L(m.objects[b]);return[S,A,T,O]}function o(m,M){for(var b,S=m.length,A=S-M;A<--S;)b=m[A],m[A++]=m[S],m[S]=b}function f(m,M){return typeof M=="string"&&(M=m.objects[M]),M.type==="GeometryCollection"?{type:"FeatureCollection",features:M.geometries.map(function(b){return r(m,b)})}:r(m,M)}function r(m,M){var b=M.id,S=M.bbox,A=M.properties==null?{}:M.properties,T=e(m,M);return b==null&&S==null?{type:"Feature",properties:A,geometry:T}:S==null?{type:"Feature",id:b,properties:A,geometry:T}:{type:"Feature",id:b,bbox:S,properties:A,geometry:T}}function e(m,M){var b=s(m.transform),S=m.arcs;function A(U,Y){Y.length&&Y.pop();for(var W=S[U<0?~U:U],J=0,ht=W.length;J<ht;++J)Y.push(b(W[J],J));U<0&&o(Y,ht)}function T(U){return b(U)}function O(U){for(var Y=[],W=0,J=U.length;W<J;++W)A(U[W],Y);return Y.length<2&&Y.push(Y[0]),Y}function D(U){for(var Y=O(U);Y.length<4;)Y.push(Y[0]);return Y}function L(U){return U.map(D)}function Z(U){var Y=U.type,W;switch(Y){case"GeometryCollection":return{type:Y,geometries:U.geometries.map(Z)};case"Point":W=T(U.coordinates);break;case"MultiPoint":W=U.coordinates.map(T);break;case"LineString":W=O(U.arcs);break;case"MultiLineString":W=U.arcs.map(O);break;case"Polygon":W=L(U.arcs);break;case"MultiPolygon":W=U.arcs.map(L);break;default:return null}return{type:Y,coordinates:W}}return Z(M)}function n(m,M){var b={},S={},A={},T=[],O=-1;M.forEach(function(Z,U){var Y=m.arcs[Z<0?~Z:Z],W;Y.length<3&&!Y[1][0]&&!Y[1][1]&&(W=M[++O],M[O]=Z,M[U]=W)}),M.forEach(function(Z){var U=D(Z),Y=U[0],W=U[1],J,ht;if(J=A[Y])if(delete A[J.end],J.push(Z),J.end=W,ht=S[W]){delete S[ht.start];var nt=ht===J?J:J.concat(ht);S[nt.start=J.start]=A[nt.end=ht.end]=nt}else S[J.start]=A[J.end]=J;else if(J=S[W])if(delete S[J.start],J.unshift(Z),J.start=Y,ht=A[Y]){delete A[ht.end];var Q=ht===J?J:ht.concat(J);S[Q.start=ht.start]=A[Q.end=J.end]=Q}else S[J.start]=A[J.end]=J;else J=[Z],S[J.start=Y]=A[J.end=W]=J});function D(Z){var U=m.arcs[Z<0?~Z:Z],Y=U[0],W;return m.transform?(W=[0,0],U.forEach(function(J){W[0]+=J[0],W[1]+=J[1]})):W=U[U.length-1],Z<0?[W,Y]:[Y,W]}function L(Z,U){for(var Y in Z){var W=Z[Y];delete U[W.start],delete W.start,delete W.end,W.forEach(function(J){b[J<0?~J:J]=1}),T.push(W)}}return L(A,S),L(S,A),M.forEach(function(Z){b[Z<0?~Z:Z]||T.push([Z])}),T}function a(m){return e(m,u.apply(this,arguments))}function u(m,M,b){var S,A,T;if(arguments.length>1)S=l(m,M,b);else for(A=0,S=new Array(T=m.arcs.length);A<T;++A)S[A]=A;return{type:"MultiLineString",arcs:n(m,S)}}function l(m,M,b){var S=[],A=[],T;function O(Y){var W=Y<0?~Y:Y;(A[W]||(A[W]=[])).push({i:Y,g:T})}function D(Y){Y.forEach(O)}function L(Y){Y.forEach(D)}function Z(Y){Y.forEach(L)}function U(Y){switch(T=Y,Y.type){case"GeometryCollection":Y.geometries.forEach(U);break;case"LineString":D(Y.arcs);break;case"MultiLineString":case"Polygon":L(Y.arcs);break;case"MultiPolygon":Z(Y.arcs);break}}return U(M),A.forEach(b==null?function(Y){S.push(Y[0].i)}:function(Y){b(Y[0].g,Y[Y.length-1].g)&&S.push(Y[0].i)}),S}function h(m){for(var M=-1,b=m.length,S,A=m[b-1],T=0;++M<b;)S=A,A=m[M],T+=S[0]*A[1]-S[1]*A[0];return Math.abs(T)}function p(m){return e(m,d.apply(this,arguments))}function d(m,M){var b={},S=[],A=[];M.forEach(T);function T(L){switch(L.type){case"GeometryCollection":L.geometries.forEach(T);break;case"Polygon":O(L.arcs);break;case"MultiPolygon":L.arcs.forEach(O);break}}function O(L){L.forEach(function(Z){Z.forEach(function(U){(b[U=U<0?~U:U]||(b[U]=[])).push(L)})}),S.push(L)}function D(L){return h(e(m,{type:"Polygon",arcs:[L]}).coordinates[0])}return S.forEach(function(L){if(!L._){var Z=[],U=[L];for(L._=1,A.push(Z);L=U.pop();)Z.push(L),L.forEach(function(Y){Y.forEach(function(W){b[W<0?~W:W].forEach(function(J){J._||(J._=1,U.push(J))})})})}}),S.forEach(function(L){delete L._}),{type:"MultiPolygon",arcs:A.map(function(L){var Z=[],U;if(L.forEach(function(nt){nt.forEach(function(Q){Q.forEach(function(xt){b[xt<0?~xt:xt].length<2&&Z.push(xt)})})}),Z=n(m,Z),(U=Z.length)>1)for(var Y=1,W=D(Z[0]),J,ht;Y<U;++Y)(J=D(Z[Y]))>W&&(ht=Z[0],Z[0]=Z[Y],Z[Y]=ht,W=J);return Z}).filter(function(L){return L.length>0})}}function g(m,M){for(var b=0,S=m.length;b<S;){var A=b+S>>>1;m[A]<M?b=A+1:S=A}return b}function y(m){var M={},b=m.map(function(){return[]});function S(nt,Q){nt.forEach(function(xt){xt<0&&(xt=~xt);var _t=M[xt];_t?_t.push(Q):M[xt]=[Q]})}function A(nt,Q){nt.forEach(function(xt){S(xt,Q)})}function T(nt,Q){nt.type==="GeometryCollection"?nt.geometries.forEach(function(xt){T(xt,Q)}):nt.type in O&&O[nt.type](nt.arcs,Q)}var O={LineString:S,MultiLineString:A,Polygon:A,MultiPolygon:function(nt,Q){nt.forEach(function(xt){A(xt,Q)})}};m.forEach(T);for(var D in M)for(var L=M[D],Z=L.length,U=0;U<Z;++U)for(var Y=U+1;Y<Z;++Y){var W=L[U],J=L[Y],ht;(ht=b[W])[D=g(ht,J)]!==J&&ht.splice(D,0,J),(ht=b[J])[D=g(ht,W)]!==W&&ht.splice(D,0,W)}return b}function E(m){if(m==null)return c;var M,b,S=m.scale[0],A=m.scale[1],T=m.translate[0],O=m.translate[1];return function(D,L){L||(M=b=0);var Z=2,U=D.length,Y=new Array(U),W=Math.round((D[0]-T)/S),J=Math.round((D[1]-O)/A);for(Y[0]=W-M,M=W,Y[1]=J-b,b=J;Z<U;)Y[Z]=D[Z],++Z;return Y}}function C(m,M){if(m.transform)throw new Error("already quantized");if(!M||!M.scale){if(!((O=Math.floor(M))>=2))throw new Error("n must be \u22652");L=m.bbox||v(m);var b=L[0],S=L[1],A=L[2],T=L[3],O;M={scale:[A-b?(A-b)/(O-1):1,T-S?(T-S)/(O-1):1],translate:[b,S]}}else L=m.bbox;var D=E(M),L,Z,U=m.objects,Y={};function W(nt){return D(nt)}function J(nt){var Q;switch(nt.type){case"GeometryCollection":Q={type:"GeometryCollection",geometries:nt.geometries.map(J)};break;case"Point":Q={type:"Point",coordinates:W(nt.coordinates)};break;case"MultiPoint":Q={type:"MultiPoint",coordinates:nt.coordinates.map(W)};break;default:return nt}return nt.id!=null&&(Q.id=nt.id),nt.bbox!=null&&(Q.bbox=nt.bbox),nt.properties!=null&&(Q.properties=nt.properties),Q}function ht(nt){var Q=0,xt=1,_t=nt.length,Nt,rt=new Array(_t);for(rt[0]=D(nt[0],0);++Q<_t;)((Nt=D(nt[Q],Q))[0]||Nt[1])&&(rt[xt++]=Nt);return xt===1&&(rt[xt++]=[0,0]),rt.length=xt,rt}for(Z in U)Y[Z]=J(U[Z]);return{type:"Topology",bbox:L,transform:M,objects:Y,arcs:m.arcs.map(ht)}}t.bbox=v,t.feature=f,t.merge=p,t.mergeArcs=d,t.mesh=a,t.meshArcs=u,t.neighbors=y,t.quantize=C,t.transform=s,t.untransform=E,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_tslib@2.1.0@tslib/tslib.js":function(P,x,i){(function(t){var c,s;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v,o,f,r,e,n,a,u,l,h,p,d,g,y,E,C,m,M,b,S,A,T,O,D;(function(L){var Z=typeof t=="object"?t:typeof self=="object"?self:typeof this=="object"?this:{};c=[x],s=function(Y){L(U(Z,U(Y)))}.apply(x,c),s!==void 0&&(P.exports=s);function U(Y,W){return Y!==Z&&(typeof Object.create=="function"?Object.defineProperty(Y,"__esModule",{value:!0}):Y.__esModule=!0),function(J,ht){return Y[J]=W?W(J,ht):ht}}})(function(L){var Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,W){Y.__proto__=W}||function(Y,W){for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&(Y[J]=W[J])};v=function(Y,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");Z(Y,W);function J(){this.constructor=Y}Y.prototype=W===null?Object.create(W):(J.prototype=W.prototype,new J)},o=Object.assign||function(Y){for(var W,J=1,ht=arguments.length;J<ht;J++){W=arguments[J];for(var nt in W)Object.prototype.hasOwnProperty.call(W,nt)&&(Y[nt]=W[nt])}return Y},f=function(Y,W){var J={};for(var ht in Y)Object.prototype.hasOwnProperty.call(Y,ht)&&W.indexOf(ht)<0&&(J[ht]=Y[ht]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,ht=Object.getOwnPropertySymbols(Y);nt<ht.length;nt++)W.indexOf(ht[nt])<0&&Object.prototype.propertyIsEnumerable.call(Y,ht[nt])&&(J[ht[nt]]=Y[ht[nt]]);return J},r=function(Y,W,J,ht){var nt=arguments.length,Q=nt<3?W:ht===null?ht=Object.getOwnPropertyDescriptor(W,J):ht,xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(Y,W,J,ht);else for(var _t=Y.length-1;_t>=0;_t--)(xt=Y[_t])&&(Q=(nt<3?xt(Q):nt>3?xt(W,J,Q):xt(W,J))||Q);return nt>3&&Q&&Object.defineProperty(W,J,Q),Q},e=function(Y,W){return function(J,ht){W(J,ht,Y)}},n=function(Y,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Y,W)},a=function(Y,W,J,ht){function nt(Q){return Q instanceof J?Q:new J(function(xt){xt(Q)})}return new(J||(J=Promise))(function(Q,xt){function _t(q){try{rt(ht.next(q))}catch(G){xt(G)}}function Nt(q){try{rt(ht.throw(q))}catch(G){xt(G)}}function rt(q){q.done?Q(q.value):nt(q.value).then(_t,Nt)}rt((ht=ht.apply(Y,W||[])).next())})},u=function(Y,W){var J={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},ht,nt,Q,xt;return xt={next:_t(0),throw:_t(1),return:_t(2)},typeof Symbol=="function"&&(xt[Symbol.iterator]=function(){return this}),xt;function _t(rt){return function(q){return Nt([rt,q])}}function Nt(rt){if(ht)throw new TypeError("Generator is already executing.");for(;J;)try{if(ht=1,nt&&(Q=rt[0]&2?nt.return:rt[0]?nt.throw||((Q=nt.return)&&Q.call(nt),0):nt.next)&&!(Q=Q.call(nt,rt[1])).done)return Q;switch(nt=0,Q&&(rt=[rt[0]&2,Q.value]),rt[0]){case 0:case 1:Q=rt;break;case 4:return J.label++,{value:rt[1],done:!1};case 5:J.label++,nt=rt[1],rt=[0];continue;case 7:rt=J.ops.pop(),J.trys.pop();continue;default:if(Q=J.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(rt[0]===6||rt[0]===2)){J=0;continue}if(rt[0]===3&&(!Q||rt[1]>Q[0]&&rt[1]<Q[3])){J.label=rt[1];break}if(rt[0]===6&&J.label<Q[1]){J.label=Q[1],Q=rt;break}if(Q&&J.label<Q[2]){J.label=Q[2],J.ops.push(rt);break}Q[2]&&J.ops.pop(),J.trys.pop();continue}rt=W.call(Y,J)}catch(q){rt=[6,q],nt=0}finally{ht=Q=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}},l=function(Y,W){for(var J in Y)J!=="default"&&!Object.prototype.hasOwnProperty.call(W,J)&&D(W,Y,J)},D=Object.create?function(Y,W,J,ht){ht===void 0&&(ht=J),Object.defineProperty(Y,ht,{enumerable:!0,get:function(){return W[J]}})}:function(Y,W,J,ht){ht===void 0&&(ht=J),Y[ht]=W[J]},h=function(Y){var W=typeof Symbol=="function"&&Symbol.iterator,J=W&&Y[W],ht=0;if(J)return J.call(Y);if(Y&&typeof Y.length=="number")return{next:function(){return Y&&ht>=Y.length&&(Y=void 0),{value:Y&&Y[ht++],done:!Y}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(Y,W){var J=typeof Symbol=="function"&&Y[Symbol.iterator];if(!J)return Y;var ht=J.call(Y),nt,Q=[],xt;try{for(;(W===void 0||W-- >0)&&!(nt=ht.next()).done;)Q.push(nt.value)}catch(_t){xt={error:_t}}finally{try{nt&&!nt.done&&(J=ht.return)&&J.call(ht)}finally{if(xt)throw xt.error}}return Q},d=function(){for(var Y=[],W=0;W<arguments.length;W++)Y=Y.concat(p(arguments[W]));return Y},g=function(){for(var Y=0,W=0,J=arguments.length;W<J;W++)Y+=arguments[W].length;for(var ht=Array(Y),nt=0,W=0;W<J;W++)for(var Q=arguments[W],xt=0,_t=Q.length;xt<_t;xt++,nt++)ht[nt]=Q[xt];return ht},y=function(Y,W){for(var J=0,ht=W.length,nt=Y.length;J<ht;J++,nt++)Y[nt]=W[J];return Y},E=function(Y){return this instanceof E?(this.v=Y,this):new E(Y)},C=function(Y,W,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht=J.apply(Y,W||[]),nt,Q=[];return nt={},xt("next"),xt("throw"),xt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function xt(N){ht[N]&&(nt[N]=function(at){return new Promise(function(H,ft){Q.push([N,at,H,ft])>1||_t(N,at)})})}function _t(N,at){try{Nt(ht[N](at))}catch(H){G(Q[0][3],H)}}function Nt(N){N.value instanceof E?Promise.resolve(N.value.v).then(rt,q):G(Q[0][2],N)}function rt(N){_t("next",N)}function q(N){_t("throw",N)}function G(N,at){N(at),Q.shift(),Q.length&&_t(Q[0][0],Q[0][1])}},m=function(Y){var W,J;return W={},ht("next"),ht("throw",function(nt){throw nt}),ht("return"),W[Symbol.iterator]=function(){return this},W;function ht(nt,Q){W[nt]=Y[nt]?function(xt){return(J=!J)?{value:E(Y[nt](xt)),done:nt==="return"}:Q?Q(xt):xt}:Q}},M=function(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=Y[Symbol.asyncIterator],J;return W?W.call(Y):(Y=typeof h=="function"?h(Y):Y[Symbol.iterator](),J={},ht("next"),ht("throw"),ht("return"),J[Symbol.asyncIterator]=function(){return this},J);function ht(Q){J[Q]=Y[Q]&&function(xt){return new Promise(function(_t,Nt){xt=Y[Q](xt),nt(_t,Nt,xt.done,xt.value)})}}function nt(Q,xt,_t,Nt){Promise.resolve(Nt).then(function(rt){Q({value:rt,done:_t})},xt)}},b=function(Y,W){return Object.defineProperty?Object.defineProperty(Y,"raw",{value:W}):Y.raw=W,Y};var U=Object.create?function(Y,W){Object.defineProperty(Y,"default",{enumerable:!0,value:W})}:function(Y,W){Y.default=W};S=function(Y){if(Y&&Y.__esModule)return Y;var W={};if(Y!=null)for(var J in Y)J!=="default"&&Object.prototype.hasOwnProperty.call(Y,J)&&D(W,Y,J);return U(W,Y),W},A=function(Y){return Y&&Y.__esModule?Y:{default:Y}},T=function(Y,W){if(!W.has(Y))throw new TypeError("attempted to get private field on non-instance");return W.get(Y)},O=function(Y,W,J){if(!W.has(Y))throw new TypeError("attempted to set private field on non-instance");return W.set(Y,J),J},L("__extends",v),L("__assign",o),L("__rest",f),L("__decorate",r),L("__param",e),L("__metadata",n),L("__awaiter",a),L("__generator",u),L("__exportStar",l),L("__createBinding",D),L("__values",h),L("__read",p),L("__spread",d),L("__spreadArrays",g),L("__spreadArray",y),L("__await",E),L("__asyncGenerator",C),L("__asyncDelegator",m),L("__asyncValues",M),L("__makeTemplateObject",b),L("__importStar",S),L("__importDefault",A),L("__classPrivateFieldGet",T),L("__classPrivateFieldSet",O)})}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/global.js"))},"./node_modules/_webpack@4.46.0@webpack/buildin/global.js":function(P,x){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){typeof window=="object"&&(i=window)}P.exports=i},"./node_modules/_webpack@4.46.0@webpack/buildin/module.js":function(P,x){P.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},"./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js":function(P,x,i){var t;/*!
* EventEmitter v5.2.9 - git.io/ee
* Unlicense - http://unlicense.org/
* Oliver Caldwell - https://oli.me.uk/
* @preserve
*/(function(c){"use strict";function s(){}var v=s.prototype,o=c.EventEmitter;function f(n,a){for(var u=n.length;u--;)if(n[u].listener===a)return u;return-1}function r(n){return function(){return this[n].apply(this,arguments)}}v.getListeners=function(a){var u=this._getEvents(),l,h;if(a instanceof RegExp){l={};for(h in u)u.hasOwnProperty(h)&&a.test(h)&&(l[h]=u[h])}else l=u[a]||(u[a]=[]);return l},v.flattenListeners=function(a){var u=[],l;for(l=0;l<a.length;l+=1)u.push(a[l].listener);return u},v.getListenersAsObject=function(a){var u=this.getListeners(a),l;return u instanceof Array&&(l={},l[a]=u),l||u};function e(n){return typeof n=="function"||n instanceof RegExp?!0:n&&typeof n=="object"?e(n.listener):!1}v.addListener=function(a,u){if(!e(u))throw new TypeError("listener must be a function");var l=this.getListenersAsObject(a),h=typeof u=="object",p;for(p in l)l.hasOwnProperty(p)&&f(l[p],u)===-1&&l[p].push(h?u:{listener:u,once:!1});return this},v.on=r("addListener"),v.addOnceListener=function(a,u){return this.addListener(a,{listener:u,once:!0})},v.once=r("addOnceListener"),v.defineEvent=function(a){return this.getListeners(a),this},v.defineEvents=function(a){for(var u=0;u<a.length;u+=1)this.defineEvent(a[u]);return this},v.removeListener=function(a,u){var l=this.getListenersAsObject(a),h,p;for(p in l)l.hasOwnProperty(p)&&(h=f(l[p],u),h!==-1&&l[p].splice(h,1));return this},v.off=r("removeListener"),v.addListeners=function(a,u){return this.manipulateListeners(!1,a,u)},v.removeListeners=function(a,u){return this.manipulateListeners(!0,a,u)},v.manipulateListeners=function(a,u,l){var h,p,d=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(h in u)u.hasOwnProperty(h)&&(p=u[h])&&(typeof p=="function"?d.call(this,h,p):g.call(this,h,p));else for(h=l.length;h--;)d.call(this,u,l[h]);return this},v.removeEvent=function(a){var u=typeof a,l=this._getEvents(),h;if(u==="string")delete l[a];else if(a instanceof RegExp)for(h in l)l.hasOwnProperty(h)&&a.test(h)&&delete l[h];else delete this._events;return this},v.removeAllListeners=r("removeEvent"),v.emitEvent=function(a,u){var l=this.getListenersAsObject(a),h,p,d,g,y;for(g in l)if(l.hasOwnProperty(g))for(h=l[g].slice(0),d=0;d<h.length;d++)p=h[d],p.once===!0&&this.removeListener(a,p.listener),y=p.listener.apply(this,u||[]),y===this._getOnceReturnValue()&&this.removeListener(a,p.listener);return this},v.trigger=r("emitEvent"),v.emit=function(a){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,u)},v.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},v._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},v._getEvents=function(){return this._events||(this._events={})},s.noConflict=function(){return c.EventEmitter=o,s},t=function(){return s}.call(c,i,c,P),t!==void 0&&(P.exports=t)})(typeof window!="undefined"?window:this||{})},"./src/api/geo.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),v=i("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js"),o=i("./src/view.ts"),f=t.__importDefault(i("./src/util/get-geo-projection.ts")),r={geoArea:function(e){return s.geoArea(e)},geoAreaByName:function(e){return s.geoArea(this.geoFeatureByName(e))},geoCentroid:function(e){return s.geoCentroid(e)},geoCentroidByName:function(e){return s.geoCentroid(this.geoFeatureByName(e))},geoDistance:function(e,n){return s.geoDistance(e,n)},geoLength:function(e){return s.geoLength(e)},geoLengthByName:function(e){return s.geoLength(this.geoFeatureByName(e))},geoContains:function(e,n){return s.geoContains(e,n)},geoFeatureByName:function(e){var n=this.rows,a;return n.some(function(u){return u.name===e?(a=u,!0):!1}),a},geoFeatureByPosition:function(e){var n=this.rows,a;return n.some(function(u){return s.geoContains(u,e)?(a=u,!0):!1}),a},geoNameByPosition:function(e){var n=this.geoFeatureByPosition(e);if(n)return n.name},getGeoProjection:f.default,geoProject:function(e,n,a){return n=f.default(n,a),v.geoProject(e,n)},geoProjectByName:function(e,n,a){return n=f.default(n,a),v.geoProject(this.geoFeatureByName(e),n)},geoProjectPosition:function(e,n,a){var u=f.default(n,a);return u(e)},geoProjectInvert:function(e,n,a){var u=f.default(n,a);return u.invert(e)}};c.assign(o.View.prototype,r)},"./src/api/hierarchy.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/view.ts");t.assign(c.View.prototype,{getAllNodes:function(){var s=[],v=this.root;return v&&v.each?v.each(function(o){s.push(o)}):v&&v.eachNode&&v.eachNode(function(o){s.push(o)}),s},getAllLinks:function(){for(var s=[],v=[this.root],o;o=v.pop();){var f=o.children;f&&f.forEach(function(r){s.push({source:o,target:r}),v.push(r)})}return s}}),t.assign(c.View.prototype,{getAllEdges:c.View.prototype.getAllLinks})},"./src/api/partition.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/view.ts");c.assign(v.View.prototype,{partition:function(o,f){return f===void 0&&(f=[]),s.default(this.rows,o,f)},group:function(o,f){f===void 0&&(f=[]);var r=this.partition(o,f);return c.values(r)},groups:function(o,f){return f===void 0&&(f=[]),this.group(o,f)}})},"./src/api/statistics.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/view.ts"),o=t.__importDefault(i("./src/util/p-by-fraction.ts")),f=t.__importDefault(i("./src/constants.ts")),r=f.default.STATISTICS_METHODS;function e(a,u){var l=a.getColumn(u);return s.isArray(l)&&s.isArray(l[0])&&(l=s.flattenDeep(l)),l}r.forEach(function(a){v.View.prototype[a]=function(u){return c[a](e(this,u))}});var n=c.quantile;s.assign(v.View.prototype,{average:v.View.prototype.mean,quantile:function(a,u){return n(e(this,a),u)},quantiles:function(a,u){var l=e(this,a);return u.map(function(h){return n(l,h)})},quantilesByFraction:function(a,u){return this.quantiles(a,o.default(u))},range:function(a){return[this.min(a),this.max(a)]},extent:function(a){return this.range(a)}})},"./src/connector/default.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts");c.DataSet.registerConnector("default",function(s,v){var o;if(t.isString(s)?o=v.getView(s):o=s,!o)throw new TypeError("Invalid dataView");return t.deepMix([],o.rows)})},"./src/connector/dsv.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js"),s=i("./src/data-set.ts");s.DataSet.registerConnector("dsv",function(v,o){o===void 0&&(o={});var f=o.delimiter||",";if(!t.isString(f))throw new TypeError("Invalid delimiter: must be a string!");return c.dsvFormat(f).parse(v)}),s.DataSet.registerConnector("csv",function(v){return c.csvParse(v)}),s.DataSet.registerConnector("tsv",function(v){return c.tsvParse(v)})},"./src/connector/geo-graticule.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),c=i("./src/data-set.ts");function s(v,o){o.dataType="geo-graticule";var f=t.geoGraticule().lines();return f.map(function(r,e){return r.index=""+e,r}),o.rows=f,f}x.default=s,c.DataSet.registerConnector("geo-graticule",s)},"./src/connector/geojson.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),o=i("./src/data-set.ts"),f=v.geoPath();function r(e,n,a){a.dataType=o.DataSet.CONSTANTS.GEO;var u=s.deepMix([],e.features);return u.forEach(function(l){l.name=l.properties.name,l.longitude=[],l.latitude=[];var h=l.pathData=f(l),p=c.default(h);p._path.forEach(function(g){l.longitude.push(g[1]),l.latitude.push(g[2])});var d=f.centroid(l);l.centroidX=d[0],l.centroidY=d[1]}),u}o.DataSet.registerConnector("geo",r),o.DataSet.registerConnector("geojson",r),o.DataSet.registerConnector("GeoJSON",r),x.default=r},"./src/connector/graph.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s={nodes:function(o){return o.nodes},edges:function(o){return o.edges}};function v(o,f,r){f=t.assign({},s,f),r.dataType=c.DataSet.CONSTANTS.GRAPH;var e=f.nodes,n=f.edges;if(e&&!t.isFunction(e))throw new TypeError("Invalid nodes: must be a function!");if(n&&!t.isFunction(n))throw new TypeError("Invalid edges: must be a function!");return r.rows=r.graph={nodes:e(o),edges:n(o)},t.assign(r,r.graph),r.rows}c.DataSet.registerConnector("graph",v),c.DataSet.registerConnector("diagram",v)},"./src/connector/hexjson.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-hexjson@1.1.1@d3-hexjson/build/d3-hexjson.js"),s=i("./src/data-set.ts"),v={width:1,height:1};function o(r){return r.cx=r.x,r.cy=r.y,r.x=[],r.y=[],r.vertices.forEach(function(e){r.x.push(e.x+r.cx),r.y.push(e.y+r.cy)}),r}function f(r,e,n){n.dataType=s.DataSet.CONSTANTS.HEX,e=t.assign({},v,e);var a=e.width,u=e.height,l=t.deepMix([],r);n._HexJSON=l;var h=n._GridHexJSON=c.getGridForHexJSON(l),p=n.rows=c.renderHexJSON(l,a,u).map(o);return n._gridRows=c.renderHexJSON(h,a,u).map(o),p}s.DataSet.registerConnector("hex",f),s.DataSet.registerConnector("hexjson",f),s.DataSet.registerConnector("hex-json",f),s.DataSet.registerConnector("HexJSON",f),x.default=f},"./src/connector/hierarchy.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js"),s=i("./src/data-set.ts");function v(o,f,r){r.dataType=s.DataSet.CONSTANTS.HIERARCHY;var e=f&&f.children?f.children:null;if(e&&!t.isFunction(e))throw new TypeError("Invalid children: must be a function!");return f.pureData?r.rows=r.root=o:r.rows=r.root=c.hierarchy(o,e),o}s.DataSet.registerConnector("hierarchy",v),s.DataSet.registerConnector("tree",v)},"./src/connector/topojson.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js"),v=t.__importDefault(i("./src/connector/geojson.ts")),o=i("./src/data-set.ts");function f(r,e,n){var a=e.object;if(!c.isString(a))throw new TypeError("Invalid object: must be a string!");var u=s.feature(r,r.objects[a]);return v.default(u,void 0,n)}o.DataSet.registerConnector("topojson",f),o.DataSet.registerConnector("TopoJSON",f)},"./src/constants.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},"./src/data-set.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.DataSet=void 0;var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),v=i("./src/view.ts"),o=t.__importDefault(i("./src/constants.ts")),f=function(r){t.__extends(e,r);function e(n){n===void 0&&(n={state:{}});var a=r.call(this)||this;return a.isDataSet=!0,a._onChangeTimer=null,a.views={},a.state={},a.state=n.state,a}return e.registerConnector=function(n,a){e.connectors[n]=a},e.getConnector=function(n){return e.connectors[n]||e.connectors.default},e.registerTransform=function(n,a){e.transforms[n]=a},e.getTransform=function(n){return e.transforms[n]||e.transforms.default},e.prototype._getUniqueViewName=function(){for(var n=c.uniqueId("view_");this.views[n];)n=c.uniqueId("view_");return n},e.prototype.createView=function(n,a){if(c.isNil(n)&&(n=this._getUniqueViewName()),c.isObject(n)&&(a=n,n=this._getUniqueViewName()),this.views[n])throw new Error("data view exists: "+n);var u=new v.View(this,a);return this.views[n]=u,u},e.prototype.getView=function(n){return this.views[n]},e.prototype.setView=function(n,a){this.views[n]=a},e.prototype.setState=function(n,a){var u=this;this.state[n]=a,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){u.emit("statechange",n,a)},16)},e.CONSTANTS=o.default,e.connectors={},e.transforms={},e.DataSet=e,e.DataView=v.View,e.View=v.View,e.version="____DATASET_VERSION____",e}(s.default);x.DataSet=f,c.assign(f,o.default),c.assign(f.prototype,{view:f.prototype.createView}),v.View.DataSet=f},"./src/index.ts":function(P,x,i){"use strict";i("./src/api/geo.ts"),i("./src/api/hierarchy.ts"),i("./src/api/partition.ts"),i("./src/api/statistics.ts"),i("./src/connector/default.ts"),i("./src/connector/dsv.ts"),i("./src/connector/geo-graticule.ts"),i("./src/connector/geojson.ts"),i("./src/connector/graph.ts"),i("./src/connector/hexjson.ts"),i("./src/connector/hierarchy.ts"),i("./src/connector/topojson.ts"),i("./src/transform/default.ts"),i("./src/transform/filter.ts"),i("./src/transform/fold.ts"),i("./src/transform/map.ts"),i("./src/transform/partition.ts"),i("./src/transform/percent.ts"),i("./src/transform/pick.ts"),i("./src/transform/proportion.ts"),i("./src/transform/rename.ts"),i("./src/transform/reverse.ts"),i("./src/transform/sort.ts"),i("./src/transform/sort-by.ts"),i("./src/transform/subset.ts"),i("./src/transform/fill-rows.ts"),i("./src/transform/impute.ts"),i("./src/transform/aggregate.ts"),i("./src/transform/regression.ts"),i("./src/transform/kde.ts"),i("./src/transform/bin/hexagon.ts"),i("./src/transform/bin/histogram.ts"),i("./src/transform/bin/quantile.ts"),i("./src/transform/bin/rectangle.ts"),i("./src/transform/geo/centroid.ts"),i("./src/transform/geo/projection.ts"),i("./src/transform/geo/region.ts"),i("./src/transform/diagram/arc.ts"),i("./src/transform/diagram/dagre.ts"),i("./src/transform/diagram/sankey.ts"),i("./src/transform/diagram/voronoi.ts"),i("./src/transform/hierarchy/cluster.ts"),i("./src/transform/hierarchy/compact-box.ts"),i("./src/transform/hierarchy/dendrogram.ts"),i("./src/transform/hierarchy/indented.ts"),i("./src/transform/hierarchy/pack.ts"),i("./src/transform/hierarchy/partition.ts"),i("./src/transform/hierarchy/tree.ts"),i("./src/transform/hierarchy/treemap.ts"),i("./src/transform/tag-cloud.ts"),i("./src/transform/waffle.ts"),i("./src/transform/kernel-smooth/density.ts"),i("./src/transform/kernel-smooth/regression.ts");var t=i("./src/data-set.ts");P.exports=t.DataSet},"./src/transform/aggregate.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=o.DataSet.registerTransform,r=i("./src/util/option-parser.ts"),e={as:[],fields:[],groupBy:[],operations:[]},n="count",a={count:function(l){return l.length},distinct:function(l,h){var p=c.uniq(l.map(function(d){return d[h]}));return p.length}};o.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(l){a[l]=function(h,p){var d=h.map(function(g){return g[p]});return c.isArray(d)&&c.isArray(d[0])&&(d=c.flattenDeep(d)),s[l](d)}}),a.average=a.mean;function u(l,h){h=c.assign({},e,h);var p=r.getFields(h);if(!c.isArray(p))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var d=h.as||[];c.isString(d)&&(d=[d]);var g=h.operations;c.isString(g)&&(g=[g]);var y=[n];if((!c.isArray(g)||!g.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),g=y,d=g),!(g.length===1&&g[0]===n)){if(g.length!==p.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(d.length!==p.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var E=v.default(l.rows,h.groupBy),C=[];c.forIn(E,function(m){var M=m[0];g.forEach(function(b,S){var A=d[S],T=p[S];M[A]=a[b](m,T)}),C.push(M)}),l.rows=C}f("aggregate",u),f("summary",u),x.default={VALID_AGGREGATES:c.keys(a)}},"./src/transform/bin/hexagon.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=i("./src/util/option-parser.ts"),o={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},f=Math.sqrt(3),r=Math.PI/3,e=[0,r,2*r,3*r,4*r,5*r];function n(h,p,d,g){return Math.sqrt((h-d)*(h-d)+(p-g)*(p-g))}function a(h,p,d){var g=h-d;p=p/2;var y=Math.floor(g/p),E=p*(y+(Math.abs(y%2)===1?1:0)),C=p*(y+(Math.abs(y%2)===1?0:1));return[E+d,C+d]}function u(h,p,d){p===void 0&&(p=[1,1]),d===void 0&&(d=[0,0]);var g={},y=t.__read(p,2),E=y[0],C=y[1],m=t.__read(d,2),M=m[0],b=m[1];return h.forEach(function(S){var A,T,O=t.__read(S,2),D=O[0],L=O[1],Z=t.__read(a(D,E,M),2),U=Z[0],Y=Z[1],W=t.__read(a(L,C,b),2),J=W[0],ht=W[1],nt=n(D,L,U,J),Q=n(D,L,Y,ht),xt,_t,Nt;nt<Q?(xt="x"+U+"y"+J,A=t.__read([U,J],2),_t=A[0],Nt=A[1]):(xt="x"+Y+"y"+ht,T=t.__read([Y,ht],2),_t=T[0],Nt=T[1]),g[xt]=g[xt]||{x:_t,y:Nt,count:0},g[xt].count++}),g}function l(h,p){p=c.assign({},o,p);var d=v.getFields(p);if(!c.isArray(d)||d.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var g=t.__read(d,2),y=g[0],E=g[1],C=h.range(y),m=h.range(E),M=C[1]-C[0],b=m[1]-m[0],S=p.binWidth||[];if(S.length!==2){var A=t.__read(p.bins,2),T=A[0],O=A[1];if(T<=0||O<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");S=[M/T,b/O]}var D=t.__read(p.offset,2),L=D[0],Z=D[1],U=3*S[0]/(f*S[1]),Y=h.rows.map(function(q){return[q[y],U*q[E]]}),W=u(Y,[S[0],U*S[1]],[L,U*Z]),J=t.__read(p.as,3),ht=J[0],nt=J[1],Q=J[2];if(!ht||!nt||!Q)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var xt=S[0]/f,_t=e.map(function(q){return[Math.sin(q)*xt,-Math.cos(q)*xt]}),Nt=[],rt=0;p.sizeByCount&&c.forIn(W,function(q){q.count>rt&&(rt=q.count)}),c.forIn(W,function(q){var G=q.x,N=q.y,at=q.count,H={};H[Q]=at,p.sizeByCount?(H[ht]=_t.map(function(ft){return G+q.count/rt*ft[0]}),H[nt]=_t.map(function(ft){return(N+q.count/rt*ft[1])/U})):(H[ht]=_t.map(function(ft){return G+ft[0]}),H[nt]=_t.map(function(ft){return(N+ft[1])/U})),Nt.push(H)}),h.rows=Nt}s.DataSet.registerTransform("bin.hexagon",l),s.DataSet.registerTransform("bin.hex",l),s.DataSet.registerTransform("hexbin",l)},"./src/transform/bin/histogram.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function r(a,u,l){var h=a-l,p=Math.floor(h/u);return[p*u+l,(p+1)*u+l]}function e(a){return Math.ceil(Math.log(a)/Math.LN2)+1}function n(a,u){u=c.assign({},f,u);var l=o.getField(u);if(a.rows.length!==0){var h=a.range(l),p=h[1]-h[0],d=u.binWidth,g=u.bins;if(!d&&g){if(g<=0)throw new TypeError("Invalid bins: it must be a positive number!");d=p/g}if(!d&&!g){var y=e(a.rows.length);d=p/y}var E=u.offset%d,C=[],m=u.groupBy,M=s.default(a.rows,m);c.forIn(M,function(b){var S={},A=b.map(function(Z){return Z[l]});A.forEach(function(Z){var U=t.__read(r(Z,d,E),2),Y=U[0],W=U[1],J=Y+"-"+W;S[J]=S[J]||{x0:Y,x1:W,count:0},S[J].count++});var T=t.__read(u.as,2),O=T[0],D=T[1];if(!O||!D)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var L=c.pick(b[0],m);c.forIn(S,function(Z){var U=c.assign({},L);U[O]=[Z.x0,Z.x1],U[D]=Z.count,C.push(U)})}),a.rows=C}}v.DataSet.registerTransform("bin.histogram",n),v.DataSet.registerTransform("bin.dot",n)},"./src/transform/bin/quantile.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=t.__importDefault(i("./src/util/p-by-fraction.ts")),f=i("./src/data-set.ts"),r=f.DataSet.registerTransform,e=i("./src/util/option-parser.ts"),n={as:"_bin",groupBy:[],fraction:4};function a(u,l){l=c.assign({},n,l);var h=e.getField(l),p=l.as;if(!c.isString(p))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var d=l.p,g=l.fraction;(!c.isArray(d)||d.length===0)&&(d=o.default(g));var y=u.rows,E=l.groupBy,C=v.default(y,E),m=[];c.forIn(C,function(M){var b=M[0],S=M.map(function(T){return T[h]}),A=d.map(function(T){return s.quantile(S,T)});b[p]=A,m.push(b)}),u.rows=m}r("bin.quantile",a)},"./src/transform/bin/rectangle.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=s.DataSet.registerTransform,o=i("./src/util/option-parser.ts"),f={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function r(n,a,u){var l=n-u,h=Math.floor(l/a);return[h*a+u,(h+1)*a+u]}function e(n,a){a=c.assign({},f,a);var u=t.__read(o.getFields(a),2),l=u[0],h=u[1];if(!l||!h)throw new TypeError("Invalid fields: must be an array with 2 strings!");var p=n.range(l),d=n.range(h),g=p[1]-p[0],y=d[1]-d[0],E=a.binWidth||[];if(E.length!==2){var C=t.__read(a.bins,2),m=C[0],M=C[1];if(m<=0||M<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");E=[g/m,y/M]}var b=n.rows.map(function(J){return[J[l],J[h]]}),S={},A=t.__read(a.offset,2),T=A[0],O=A[1];b.forEach(function(J){var ht=t.__read(r(J[0],E[0],T),2),nt=ht[0],Q=ht[1],xt=t.__read(r(J[1],E[1],O),2),_t=xt[0],Nt=xt[1],rt=nt+"-"+Q+"-"+_t+"-"+Nt;S[rt]=S[rt]||{x0:nt,x1:Q,y0:_t,y1:Nt,count:0},S[rt].count++});var D=[],L=t.__read(a.as,3),Z=L[0],U=L[1],Y=L[2];if(!Z||!U||!Y)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!a.sizeByCount)c.forIn(S,function(J){var ht={};ht[Z]=[J.x0,J.x1,J.x1,J.x0],ht[U]=[J.y0,J.y0,J.y1,J.y1],ht[Y]=J.count,D.push(ht)});else{var W=0;c.forIn(S,function(J){J.count>W&&(W=J.count)}),c.forIn(S,function(J){var ht=J.x0,nt=J.x1,Q=J.y0,xt=J.y1,_t=J.count,Nt=_t/W,rt=t.__read([(ht+nt)/2,(Q+xt)/2],2),q=rt[0],G=rt[1],N=(nt-ht)*Nt/2,at=(xt-Q)*Nt/2,H=q-N,ft=q+N,ct=G-at,K=G+at,$={};$[Z]=[H,ft,ft,H],$[U]=[ct,ct,K,K],$[Y]=_t,D.push($)})}n.rows=D}v("bin.rectangle",e),v("bin.rect",e)},"./src/transform/default.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("default",function(c){return c})},"./src/transform/diagram/arc.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(a){return a.id},source:function(a){return a.source},target:function(a){return a.target},sourceWeight:function(a){return a.value||1},targetWeight:function(a){return a.value||1},sortBy:null};function v(a,u,l){return l===void 0&&(l={}),a.forEach(function(h){var p=u.edgeSource(h),d=u.edgeTarget(h);l[p]||(l[p]={id:p}),l[d]||(l[d]={id:d})}),t.values(l)}function o(a,u,l){t.forIn(a,function(h,p){h.inEdges=u.filter(function(d){return""+l.target(d)==""+p}),h.outEdges=u.filter(function(d){return""+l.source(d)==""+p}),h.edges=h.outEdges.concat(h.inEdges),h.frequency=h.edges.length,h.value=0,h.inEdges.forEach(function(d){h.value+=l.targetWeight(d)}),h.outEdges.forEach(function(d){h.value+=l.sourceWeight(d)})})}function f(a,u){var l={weight:function(p,d){return d.value-p.value},frequency:function(p,d){return d.frequency-p.frequency},id:function(p,d){return(""+u.id(p)).localeCompare(""+u.id(d))}},h=l[u.sortBy];!h&&t.isFunction(u.sortBy)&&(h=u.sortBy),h&&a.sort(h)}function r(a,u){var l=a.length;if(!l)throw new TypeError("Invalid nodes: it's empty!");if(u.weight){var h=u.marginRatio;if(h<0||h>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var p=h/(2*l),d=u.thickness;if(d<=0||d>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var g=0;a.forEach(function(E){g+=E.value}),a.forEach(function(E){E.weight=E.value/g,E.width=E.weight*(1-h),E.height=d}),a.forEach(function(E,C){for(var m=0,M=C-1;M>=0;M--)m+=a[M].width+2*p;var b=E.minX=p+m,S=E.maxX=E.minX+E.width,A=E.minY=u.y-d/2,T=E.maxY=A+d;E.x=[b,S,S,b],E.y=[A,A,T,T]})}else{var y=1/l;a.forEach(function(E,C){E.x=(C+.5)*y,E.y=u.y})}}function e(a,u,l){if(l.weight){var h={};t.forIn(a,function(p,d){h[d]=p.value}),u.forEach(function(p){var d=l.source(p),g=l.target(p),y=a[d],E=a[g];if(y&&E){var C=h[d],m=l.sourceWeight(p),M=y.minX+(y.value-C)/y.value*y.width,b=M+m/y.value*y.width;h[d]-=m;var S=h[g],A=l.targetWeight(p),T=E.minX+(E.value-S)/E.value*E.width,O=T+A/E.value*E.width;h[g]-=A;var D=l.y;p.x=[M,b,T,O],p.y=[D,D,D,D]}})}else u.forEach(function(p){var d=a[l.source(p)],g=a[l.target(p)];d&&g&&(p.x=[d.x,g.x],p.y=[d.y,g.y])})}function n(a,u){u=t.assign({},s,u);var l={},h=a.nodes,p=a.edges;(!t.isArray(h)||h.length===0)&&(h=v(p,u,l)),h.forEach(function(d){var g=u.id(d);l[g]=d}),o(l,p,u),f(h,u),r(h,u),e(l,p,u),a.nodes=h,a.edges=p}c.DataSet.registerTransform("diagram.arc",n),c.DataSet.registerTransform("arc",n)},"./src/transform/diagram/dagre.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./node_modules/_dagre@0.8.5@dagre/index.js")),v=i("./src/data-set.ts"),o={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(r){return r.source},target:function(r){return r.target}};function f(r,e){e=c.assign({},o,e);var n=new s.default.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel(function(){return{}}),r.nodes.forEach(function(l){var h=e.nodeId?e.nodeId(l):l.id;!l.height&&!l.width&&(l.height=l.width=e.edgesep),n.setNode(h,l)}),r.edges.forEach(function(l){n.setEdge(e.source(l),e.target(l))}),s.default.layout(n);var a=[],u=[];n.nodes().forEach(function(l){var h=n.node(l),p=h.x,d=h.y,g=h.height,y=h.width;h.x=[p-y/2,p+y/2,p+y/2,p-y/2],h.y=[d+g/2,d+g/2,d-g/2,d-g/2],a.push(h)}),n.edges().forEach(function(l){var h=n.edge(l).points,p={};p.x=h.map(function(d){return d.x}),p.y=h.map(function(d){return d.y}),u.push(p)}),r.nodes=a,r.edges=u}v.DataSet.registerTransform("diagram.dagre",f),v.DataSet.registerTransform("dagre",f)},"./src/transform/diagram/sankey.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js"),s=i("./src/data-set.ts"),v={sankeyLeft:c.sankeyLeft,sankeyRight:c.sankeyRight,sankeyCenter:c.sankeyCenter,sankeyJustify:c.sankeyJustify},o={value:function(r){return r.value},source:function(r){return r.source},target:function(r){return r.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function f(r,e){e=t.assign({},o,e);var n=null;t.isString(e.nodeAlign)?n=v[e.nodeAlign]:t.isFunction(e.nodeAlign)&&(n=e.nodeAlign);var a=c.sankey().nodeSort(e.sort).links(function(u){return u.edges}).nodeWidth(e.nodeWidth).nodePadding(e.nodePadding).extent([[0,0],[1,1]]);t.isFunction(e.nodeId)&&a.nodeId(e.nodeId),n&&a.nodeAlign(n),a(r),r.nodes.forEach(function(u){var l=u.x0,h=u.x1,p=u.y0,d=u.y1;u.x=[l,h,h,l],u.y=[p,p,d,d]}),r.edges.forEach(function(u){var l=u.source,h=u.target,p=l.x1,d=h.x0;u.x=[p,p,d,d];var g=u.width/2;u.y=[u.y0+g,u.y0-g,u.y1+g,u.y1-g]})}s.DataSet.registerTransform("diagram.sankey",f),s.DataSet.registerTransform("sankey",f)},"./src/transform/diagram/voronoi.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=v.DataSet.registerTransform,f=i("./src/util/option-parser.ts"),r={as:["_x","_y"]};function e(n,a){a=s.assign({},r,a);var u=a.as;if(!s.isArray(u)||u.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var l=u[0],h=u[1],p=f.getFields(a);if(!s.isArray(p)||p.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var d=p[0],g=p[1],y=n.rows,E=y.map(function(M){return[M[d],M[g]]}),C=c.voronoi();a.extend&&C.extent(a.extend),a.size&&C.size(a.size);var m=C(E).polygons();y.forEach(function(M,b){var S=m[b].filter(function(A){return!!A});M[l]=S.map(function(A){return A[0]}),M[h]=S.map(function(A){return A[1]})})}o("diagram.voronoi",e),o("voronoi",e)},"./src/transform/fill-rows.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o={fillBy:"group",groupBy:[],orderBy:[]};function f(e,n){var a=e.map(function(u){return u});return n.forEach(function(u){var l=a.indexOf(u);l>-1&&a.splice(l,1)}),a}function r(e,n){n=c.assign({},o,n);var a=e.rows,u=n.groupBy,l=n.orderBy,h=s.default(a,u,l),p=0,d=[];c.forIn(h,function(b){b.length>p&&(p=b.length,d=b)});var g=[],y={};if(d.forEach(function(b){var S=l.map(function(A){return b[A]}).join("-");g.push(S),y[S]=b}),n.fillBy==="order"){var E=d[0],C=[],m={};a.forEach(function(b){var S=l.map(function(A){return b[A]}).join("-");C.indexOf(S)===-1&&(C.push(S),m[S]=b)});var M=f(C,g);M.forEach(function(b){var S={};u.forEach(function(A){S[A]=E[A]}),l.forEach(function(A){S[A]=m[b][A]}),a.push(S),d.push(S),g.push(b),y[b]=S}),p=d.length}c.forIn(h,function(b){if(b!==d&&b.length<p){var S=b[0],A=[];b.forEach(function(O){A.push(l.map(function(D){return O[D]}).join("-"))});var T=f(g,A);T.some(function(O,D){if(D>=p-b.length)return!0;var L=y[O],Z={};return u.forEach(function(U){Z[U]=S[U]}),l.forEach(function(U){Z[U]=L[U]}),a.push(Z),!1})}})}v.DataSet.registerTransform("fill-rows",r),v.DataSet.registerTransform("fillRows",r)},"./src/transform/filter.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts");function c(s){return!!s}t.DataSet.registerTransform("filter",function(s,v){s.rows=s.rows.filter(v.callback||c)})},"./src/transform/fold.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts"),v={fields:[],key:"key",retains:[],value:"value"};c.DataSet.registerTransform("fold",function(o,f){var r=o.getColumnNames();f=t.assign({},v,f);var e=s.getFields(f);e.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),e=r);var n=f.key,a=f.value,u=f.retains;(!u||u.length===0)&&(u=t.difference(r,e));var l=[];o.rows.forEach(function(h){e.forEach(function(p){var d=t.pick(h,u);d[n]=p,d[a]=h[p],l.push(d)})}),o.rows=l})},"./src/transform/geo/centroid.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=c.DataSet.registerTransform,v=i("./src/util/option-parser.ts"),o={as:["_centroid_x","_centroid_y"]};function f(r,e){e=t.assign({},o,e);var n=v.getField(e),a=e.geoView||e.geoDataView;if(t.isString(a)&&r.dataSet&&(a=r.dataSet.getView(a)),!a||a.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var u=e.as;if(!t.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var l=u[0],h=u[1];r.rows.forEach(function(p){var d=a.geoFeatureByName(p[n]);d&&(a._projectedAs?(p[l]=d[a._projectedAs[2]],p[h]=d[a._projectedAs[3]]):(p[l]=d.centroidX,p[h]=d.centroidY))})}s("geo.centroid",f)},"./src/transform/geo/projection.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),v=t.__importDefault(i("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),o=i("./src/data-set.ts"),f=o.DataSet.registerTransform,r=t.__importDefault(i("./src/util/get-geo-projection.ts")),e={as:["_x","_y","_centroid_x","_centroid_y"]};function n(a,u){if(a.dataType!=="geo"&&a.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");u=c.assign({},e,u);var l=u.projection;if(!l)throw new TypeError("Invalid projection!");l=r.default(l);var h=s.geoPath(l),p=u.as;if(!c.isArray(p)||p.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');a._projectedAs=p;var d=t.__read(p,4),g=d[0],y=d[1],E=d[2],C=d[3];a.rows.forEach(function(m){m[g]=[],m[y]=[];var M=h(m);if(M){var b=v.default(M);b._path.forEach(function(A){m[g].push(A[1]),m[y].push(A[2])});var S=h.centroid(m);m[E]=S[0],m[C]=S[1]}}),a.rows=a.rows.filter(function(m){return m[g].length!==0})}f("geo.projection",n)},"./src/transform/geo/region.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=c.DataSet.registerTransform,v=i("./src/util/option-parser.ts"),o={as:["_x","_y"]};function f(r,e){e=t.assign({},o,e);var n=v.getField(e),a=e.geoView||e.geoDataView;if(t.isString(a)&&(a=r.dataSet.getView(a)),!a||a.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var u=e.as;if(!t.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=u[0],h=u[1];r.rows.forEach(function(p){var d=a.geoFeatureByName(p[n]);d&&(a._projectedAs?(p[l]=d[a._projectedAs[0]],p[h]=d[a._projectedAs[1]]):(p[l]=d.longitude,p[h]=d.latitude))})}s("geo.region",f)},"./src/transform/hierarchy/cluster.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY||!e.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=void 0;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.cluster();h.size(n.size),n.nodeSize&&h.nodeSize(n.nodeSize),n.separation&&h.separation(n.separation),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=g.x,g[d]=g.y})}v.DataSet.registerTransform("hierarchy.cluster",r),v.DataSet.registerTransform("dendrogram",r)},"./src/transform/hierarchy/compact-box.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.compactBox(e,r)}s.DataSet.registerTransform("hierarchy.compact-box",o),s.DataSet.registerTransform("compact-box-tree",o),s.DataSet.registerTransform("non-layered-tidy-tree",o),s.DataSet.registerTransform("mindmap-logical",o)},"./src/transform/hierarchy/dendrogram.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.dendrogram(e,r)}s.DataSet.registerTransform("hierarchy.dendrogram",o),s.DataSet.registerTransform("dendrogram",o)},"./src/transform/hierarchy/indented.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.indented(e,r)}s.DataSet.registerTransform("hierarchy.indented",o),s.DataSet.registerTransform("indented-tree",o)},"./src/transform/hierarchy/pack.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=c.assign({},f,n);var u=n.as;if(!c.isArray(u)||u.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var l;try{l=o.getField(n)}catch(y){console.warn(y)}l&&a.sum(function(y){return y[l]}).sort(function(y,E){return E[l]-y[l]});var h=s.pack();h.size(n.size),n.padding&&h.padding(n.padding),h(a);var p=u[0],d=u[1],g=u[2];a.each(function(y){y[p]=y.x,y[d]=y.y,y[g]=y.r})}v.DataSet.registerTransform("hierarchy.pack",r),v.DataSet.registerTransform("hierarchy.circle-packing",r),v.DataSet.registerTransform("circle-packing",r)},"./src/transform/hierarchy/partition.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.partition();h.size(n.size).round(n.round).padding(n.padding),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=[g.x0,g.x1,g.x1,g.x0],g[d]=[g.y1,g.y1,g.y0,g.y0],["x0","x1","y0","y1"].forEach(function(y){u.indexOf(y)===-1&&delete g[y]})})}v.DataSet.registerTransform("hierarchy.partition",r),v.DataSet.registerTransform("adjacency",r)},"./src/transform/hierarchy/tree.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.tree();h.size(n.size),n.nodeSize&&h.nodeSize(n.nodeSize),n.separation&&h.separation(n.separation),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=g.x,g[d]=g.y})}v.DataSet.registerTransform("hierarchy.tree",r),v.DataSet.registerTransform("tree",r)},"./src/transform/hierarchy/treemap.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.treemap();h.tile(c[n.tile]).size(n.size).round(n.round).padding(n.padding).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=[g.x0,g.x1,g.x1,g.x0],g[d]=[g.y1,g.y1,g.y0,g.y0],["x0","x1","y0","y1"].forEach(function(y){u.indexOf(y)===-1&&delete g[y]})})}v.DataSet.registerTransform("hierarchy.treemap",r),v.DataSet.registerTransform("treemap",r)},"./src/transform/impute.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={groupBy:[]};function e(l){return l.filter(function(h){return!c.isUndefined(h)})}var n=["mean","median","max","min"],a={};n.forEach(function(l){a[l]=function(h,p){return s[l](p)}}),a.value=function(l,h,p){return p};function u(l,h){h=c.assign({},r,h);var p=f.getField(h),d=h.method;if(!d)throw new TypeError("Invalid method!");if(d==="value"&&!c.has(h,"value"))throw new TypeError("Invalid value: it is nil.");var g=e(l.getColumn(p)),y=v.default(l.rows,h.groupBy);c.forIn(y,function(E){var C=e(E.map(function(m){return m[p]}));C.length===0&&(C=g),E.forEach(function(m){if(c.isUndefined(m[p]))if(c.isFunction(d))m[p]=d(m,C,h.value,E);else if(c.isString(d))m[p]=a[d](m,C,h.value);else throw new TypeError("Invalid method: must be a function or one of "+n.join(", "))})})}o.DataSet.registerTransform("impute",u)},"./src/transform/kde.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=t.__importStar(i("./src/util/bandwidth.ts")),f=t.__importDefault(i("./src/util/partition.ts")),r=i("./src/data-set.ts"),e=i("./src/util/option-parser.ts"),n=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),a={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},u=c.keys(v.default),l=c.keys(o);function h(p,d){d=c.assign({},a,d);var g=e.getFields(d);if(!c.isArray(g)||g.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var y=d.as;if(!c.isArray(y)||y.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var E=d.method;if(c.isString(E)){if(u.indexOf(E)===-1)throw new TypeError("invalid method: "+E+". Must be one of "+u.join(", "));E=v.default[E]}if(!c.isFunction(E))throw new TypeError("invalid method: kernel method must be a function!");var C=d.extent;if(!c.isArray(C)||C.length===0){var m=[];c.each(g,function(O){var D=p.range(O);m=m.concat(D)}),C=[Math.min.apply(Math,t.__spread(m)),Math.max.apply(Math,t.__spread(m))]}var M=d.bandwidth;c.isString(M)&&o[M]?M=o[M](p.getColumn(g[0])):c.isFunction(M)?M=M(p.getColumn(g[0])):(!c.isNumber(M)||M<=0)&&(M=o.nrd(p.getColumn(g[0])));var b=s.default(C,d.step?d.step:M),S=[],A=d.groupBy,T=f.default(p.rows,A);c.forIn(T,function(O){var D={};c.each(g,function(L){var Z=c.pick(O[0],A);D[L]=n.kernelDensityEstimation(O.map(function(ht){return ht[L]}),E,M);var U=t.__read(y,3),Y=U[0],W=U[1],J=U[2];Z[Y]=L,Z[W]=[],Z[J]=[],c.each(b,function(ht){var nt=D[L](ht);nt>=d.minSize&&(Z[W].push(ht),Z[J].push(nt))}),S.push(Z)})}),p.rows=S}r.DataSet.registerTransform("kernel-density-estimation",h),r.DataSet.registerTransform("kde",h),r.DataSet.registerTransform("KDE",h),x.default={KERNEL_METHODS:u,BANDWIDTH_METHODS:l}},"./src/transform/kernel-smooth/density.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r=i("./src/util/bandwidth.ts"),e={as:["x","y","z"],method:"gaussian"},n=c.keys(v.default);function a(u,l){var h,p;l=c.assign({},e,l);var d=f.getFields(l);if(!c.isArray(d)||d.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var g=t.__read(l.as,3),y=g[0],E=g[1],C=g[2];if(!c.isString(y)||!c.isString(E)||!c.isString(C))throw new TypeError("invalid as: must be an array of 3 strings!");var m;if(c.isString(l.method)){if(n.indexOf(l.method)===-1)throw new TypeError("invalid method: "+l.method+". Must be one of "+n.join(", "));m=v.default[l.method]}var M=t.__read(d,2),b=M[0],S=M[1],A=l.extent,T=l.bandwidth,O,D;A&&Array.isArray(A)&&Array.isArray(A[0])&&Array.isArray(A[1])?(h=t.__read(A,2),O=h[0],D=h[1]):(O=u.range(b),D=u.range(S));var L,Z;T&&Array.isArray(T)&&T.slice(0,2).every(c.isNumber)&&T.slice(0,2).every(function(G){return G>0})?(p=t.__read(T,2),L=p[0],Z=p[1]):(L=r.silverman(u.getColumn(b)),Z=r.silverman(u.getColumn(S)));for(var U=s.default(O,L),Y=s.default(D,Z),W=u.rows.length,J=[],ht=0;ht<U.length;ht++)for(var nt=0;nt<Y.length;nt++){for(var Q=0,xt=U[ht],_t=Y[nt],Nt=0;Nt<W;Nt++)Q+=m((xt-u.rows[Nt][b])/L)*m((_t-u.rows[Nt][S])/Z);var rt=1/(W*L*Z)*Q,q={};q[y]=xt,q[E]=_t,q[C]=rt,J.push(q)}u.rows=J}o.DataSet.registerTransform("kernel-smooth.density",a),o.DataSet.registerTransform("kernel.density",a),x.default={KERNEL_METHODS:n}},"./src/transform/kernel-smooth/regression.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=i("./src/data-set.ts"),f=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),r=i("./src/util/option-parser.ts"),e=i("./src/util/bandwidth.ts"),n={as:["x","y"],method:"gaussian"},a=c.keys(v.default);function u(p,d,g,y){var E=(y-g)/d;return p(E)}function l(p){return function(d){return c.isArray(d)?d.map(function(g){return p(g)}):p(d)}}function h(p,d){d=c.assign({},n,d);var g=r.getFields(d);if(!c.isArray(g)||!(g.length===1||g.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var y=t.__read(d.as,2),E=y[0],C=y[1];if(!c.isString(E)||!c.isString(C))throw new TypeError("invalid as: must be an array of 2 strings!");var m,M=d.method;if(c.isString(M)){if(a.indexOf(M)===-1)throw new TypeError("invalid method: "+M+". Must be one of "+a.join(", "));m=v.default[M]}var b=t.__read(g,2),S=b[0],A=b[1],T=p.getColumn(S),O=d.extent;(O||!c.isArray(O))&&(O=p.range(S));var D=d.bandwidth;(!D||!c.isNumber(D)||D<=0)&&(D=e.silverman(T));var L=s.default(O,D),Z=T.length,U=u.bind(null,m,D),Y;if(c.isNil(A))Y=l(function(ht){var nt=T.map(function(_t){return U(ht,_t)}),Q=f.sum(nt),xt=Z*D;return!Q||!xt?0:Q/xt});else{var W=p.getColumn(A);Y=l(function(ht){var nt=T.map(function(_t){return U(ht,_t)}),Q=f.sum(nt.map(function(_t,Nt){return _t*W[Nt]})),xt=f.sum(nt);return!Q||!xt?0:Q/xt})}var J=L.map(function(ht){var nt={};return nt[E]=ht,nt[C]=Y(ht),nt});p.rows=J}o.DataSet.registerTransform("kernel-smooth.regression",h),o.DataSet.registerTransform("kernel.regression",h),x.default={KERNEL_METHODS:a}},"./src/transform/map.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts");function c(s){return s}t.DataSet.registerTransform("map",function(s,v){s.rows=s.rows.map(v.callback||c)})},"./src/transform/partition.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o={groupBy:[],orderBy:[]};v.DataSet.registerTransform("partition",function(r,e){e=c.assign({},o,e),r.rows=s.default(r.rows,e.groupBy,e.orderBy)});function f(r,e){e=c.assign({},o,e),r.rows=c.values(s.default(r.rows,e.groupBy,e.orderBy))}v.DataSet.registerTransform("group",f),v.DataSet.registerTransform("groups",f)},"./src/transform/percent.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={groupBy:[],as:"_percent"};function e(n,a){a=c.assign({},r,a);var u=f.getField(a),l=a.dimension,h=a.groupBy,p=a.as;if(!c.isString(l))throw new TypeError("Invalid dimension: must be a string!");if(c.isArray(p)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),p=p[0]),!c.isString(p))throw new TypeError("Invalid as: must be a string!");var d=n.rows,g=[],y=v.default(d,h);c.forIn(y,function(E){var C=s.sum(E.map(function(M){return M[u]})),m=v.default(E,[l]);c.forIn(m,function(M){var b=s.sum(M.map(function(T){return T[u]})),S=M[0],A=S[l];S[u]=b,S[l]=A,C===0?S[p]=0:S[p]=b/C,g.push(S)})}),n.rows=g}o.DataSet.registerTransform("percent",e)},"./src/transform/pick.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts");c.DataSet.registerTransform("pick",function(v,o){var f=s.getFields(o,v.getColumnNames());v.rows=v.rows.map(function(r){return t.pick(r,f)})})},"./src/transform/proportion.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={groupBy:[],as:"_proportion"};function r(e,n){n=c.assign({},f,n);var a=o.getField(n),u=n.dimension,l=n.groupBy,h=n.as;if(!c.isString(u))throw new TypeError("Invalid dimension: must be a string!");if(c.isArray(h)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),h=h[0]),!c.isString(h))throw new TypeError("Invalid as: must be a string!");var p=e.rows,d=[],g=s.default(p,l);c.forIn(g,function(y){var E=y.length,C=s.default(y,[u]);c.forIn(C,function(m){var M=m.length,b=m[0],S=b[u];b[a]=M,b[u]=S,b[h]=M/E,d.push(b)})}),e.rows=d}v.DataSet.registerTransform("proportion",r)},"./src/transform/regression.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_regression@2.0.1@regression/dist/regression.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=t.__importDefault(i("./src/util/get-series-values.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r=i("./src/util/bandwidth.ts"),e={as:["x","y"],method:"linear",order:2,precision:2},n=["linear","exponential","logarithmic","power","polynomial"];function a(u,l){l=s.assign({},e,l);var h=f.getFields(l);if(!s.isArray(h)||h.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var p=t.__read(h,2),d=p[0],g=p[1],y=l.method;if(n.indexOf(y)===-1)throw new TypeError("invalid method: "+y+". Must be one of "+n.join(", "));var E=u.rows.map(function(D){return[D[d],D[g]]}),C=c.default[y](E,l),m=l.extent;(!s.isArray(m)||m.length!==2)&&(m=u.range(d));var M=l.bandwidth;(!s.isNumber(M)||M<=0)&&(M=r.silverman(u.getColumn(d)));var b=v.default(m,M),S=[],A=t.__read(l.as,2),T=A[0],O=A[1];b.forEach(function(D){var L={},Z=t.__read(C.predict(D),2),U=Z[0],Y=Z[1];L[T]=U,L[O]=Y,isFinite(Y)&&S.push(L)}),u.rows=S}o.DataSet.registerTransform("regression",a),x.default={REGRESSION_METHODS:n}},"./src/transform/rename.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts");function s(v,o){var f=o.map||{},r={};t.isPlainObject(f)&&t.forIn(f,function(e,n){t.isString(e)&&t.isString(n)&&(r[n]=e)}),v.rows.forEach(function(e){t.forIn(r,function(n,a){var u=e[a];delete e[a],e[n]=u})})}c.DataSet.registerTransform("rename",s),c.DataSet.registerTransform("rename-fields",s)},"./src/transform/reverse.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("reverse",function(c){c.rows.reverse()})},"./src/transform/sort-by.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts"),v=["ASC","DESC"];function o(f,r){var e=s.getFields(r,[f.getColumnName(0)]);if(!t.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");f.rows=t.sortBy(f.rows,e);var n=r.order;if(n&&v.indexOf(n)===-1)throw new TypeError("Invalid order: "+n+" must be one of "+v.join(", "));n==="DESC"&&f.rows.reverse()}c.DataSet.registerTransform("sort-by",o),c.DataSet.registerTransform("sortBy",o)},"./src/transform/sort.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("sort",function(c,s){var v=c.getColumnName(0);c.rows.sort(s.callback||function(o,f){return o[v]-f[v]})})},"./src/transform/subset.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./src/data-set.ts"),c=i("./src/util/option-parser.ts");t.DataSet.registerTransform("subset",function(s,v){var o=v.startRowIndex||0,f=v.endRowIndex||s.rows.length-1,r=c.getFields(v,s.getColumnNames());s.rows=s.getSubset(o,f,r)})},"./src/transform/tag-cloud.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=t.__importDefault(i("./src/util/tag-cloud.ts")),o=i("./src/util/option-parser.ts"),f={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function r(e,n){n=c.assign({},f,n);var a=v.default();if(!n.size[0]||!n.size[1]){e.rows=[],e._tagCloud=a;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(S){n[S]&&a[S](n[S])});var u=o.getFields(n),l=t.__read(u,2),h=l[0],p=l[1];if(!c.isString(h)||!c.isString(p))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var d=e.rows.map(function(S){return S.text=S[h],S.value=S[p],S});a.words(d),n.imageMask&&a.createMask(n.imageMask);var g=a.start(),y=g._tags,E=g._bounds||[{x:0,y:0},{x:n.size[0],y:n.size[1]}];y.forEach(function(S){S.x+=n.size[0]/2,S.y+=n.size[1]/2});var C=t.__read(n.size,2),m=C[0],M=C[1],b=g.hasImage;y.push({text:"",value:0,x:b?0:E[0].x,y:b?0:E[0].y,opacity:0}),y.push({text:"",value:0,x:b?m:E[1].x,y:b?M:E[1].y,opacity:0}),e.rows=y,e._tagCloud=g}s.DataSet.registerTransform("tag-cloud",r),s.DataSet.registerTransform("word-cloud",r)},"./src/transform/waffle.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function e(n,a){a=c.assign({},r,a);var u=f.getFields(a),l=t.__read(u,2),h=l[0],p=l[1],d=t.__read(a.as,2),g=d[0],y=d[1],E=a.groupBy,C=v.default(n.rows,E),m=c.keys(C),M=t.__read(a.size,2),b=M[0],S=M[1],A=a.maxCount,T=m.length,O=S/T,D=a.rows,L=a.gapRatio,Z=[],U=a.scale,Y=0,W=0;c.forIn(C,function(J){var ht=s.sum(c.map(J,function(Q){return Q[p]})),nt=Math.ceil(ht*U/D);ht*U>A&&(U=A/ht,nt=Math.ceil(ht*U/D)),W=b/nt}),c.forIn(C,function(J){var ht=[Y*O,(Y+1)*O],nt=ht[1]-ht[0],Q=nt*(1-L)/D,xt=0,_t=0;c.each(J,function(Nt){for(var rt=Nt[p],q=Math.round(rt*U),G=0;G<q;G++){_t===D&&(_t=0,xt++);var N=c.pick(Nt,[h,p].concat(E));N[g]=xt*W+W/2,N[y]=_t*Q+Q/2+ht[0],N._wStep=W,N._hStep=Q,_t++,Z.push(N)}}),Y+=1}),n.rows=Z}o.DataSet.registerTransform("waffle",e)},"./src/util/bandwidth.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.nrd=x.silverman=void 0;var t=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js");function c(v){var o=t.standardDeviation(v),f=4*Math.pow(o,5),r=3*v.length;return Math.pow(f/r,.2)}x.silverman=c;function s(v){var o=t.standardDeviation(v),f=t.interquartileRange(v);return typeof f=="number"&&(o=Math.min(o,f/1.34)),1.06*o*Math.pow(v.length,-.2)}x.nrd=s},"./src/util/get-geo-projection.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js")),v=t.__importStar(i("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js")),o=t.__importStar(i("./node_modules/_d3-composite-projections@1.4.0@d3-composite-projections/d3-composite-projections.js"));x.default=function(f,r){if(r===void 0&&(r=!1),c.isFunction(f))return r?f:f();if(c.isString(f)){if(s[f])return r?s[f]:s[f]();if(v[f])return r?v[f]:v[f]();if(o[f])return r?o[f]:o[f]()}return null}},"./src/util/get-series-values.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");x.default=function(c,s){for(var v=s||1,o=t.__read(c,2),f=o[0],r=o[1],e=[],n=f;n<r;)e.push(n),n+=v;return e.push(r),e}},"./src/util/kernel.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function t(s){return Math.abs(s)<=1?.5:0}function c(s){var v=1-Math.pow(Math.abs(s),3);return Math.pow(v,3)}x.default={boxcar:t,cosine:function(s){return Math.abs(s)<=1?Math.PI/4*Math.cos(Math.PI/2*s):0},epanechnikov:function(s){return Math.abs(s)<1?.75*(1-s*s):0},gaussian:function(s){return .3989422804*Math.exp(-.5*s*s)},quartic:function(s){if(Math.abs(s)<1){var v=1-s*s;return 15/16*v*v}return 0},triangular:function(s){var v=Math.abs(s);return v<1?1-v:0},tricube:function(s){return Math.abs(s)<1?70/81*c(s):0},triweight:function(s){if(Math.abs(s)<1){var v=1-s*s;return 35/32*v*v*v}return 0},uniform:t}},"./src/util/option-parser.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getFields=x.getField=void 0;var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c="Invalid field: it must be a string!",s="Invalid fields: it must be an array!";function v(f,r){var e=f.field,n=f.fields;if(t.isString(e))return e;if(t.isArray(e))return console.warn(c),e[0];if(console.warn(c+" will try to get fields instead."),t.isString(n))return n;if(t.isArray(n)&&n.length)return n[0];if(r)return r;throw new TypeError(c)}x.getField=v;function o(f,r){var e=f.field,n=f.fields;if(t.isArray(n))return n;if(t.isString(n))return console.warn(s),[n];if(console.warn(s+" will try to get field instead."),t.isString(e))return console.warn(s),[e];if(t.isArray(e)&&e.length)return console.warn(s),e;if(r)return r;throw new TypeError(s)}x.getFields=o},"./src/util/p-by-fraction.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(t){for(var c=1/t,s=[],v=0;v<=1;v=v+c)s.push(v);return s}},"./src/util/partition.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/simple-sort-by.ts"));x.default=function(v,o,f){f===void 0&&(f=[]);var r=v;f&&f.length&&(r=s.default(v,f));var e;c.isFunction(o)?e=o:c.isArray(o)?e=function(a){return"_"+o.map(function(u){return a[u]}).join("-")}:c.isString(o)&&(e=function(a){return"_"+a[o]});var n=c.groupBy(r,e);return n}},"./src/util/simple-sort-by.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js");function c(s,v){v===void 0&&(v=[]);var o=void 0;return t.isFunction(v)?o=v:t.isArray(v)?o=function(f,r){for(var e=0;e<v.length;e++){var n=v[e];if(f[n]<r[n])return-1;if(f[n]>r[n])return 1}return 0}:t.isString(v)&&(o=function(f,r){return f[v]<r[v]?-1:f[v]>r[v]?1:0}),s.sort(o)}x.default=c},"./src/util/tag-cloud.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=Math.PI/180,s=1<<11>>5,v=1<<11;function o(b){return b.text}function f(){return"serif"}function r(){return"normal"}function e(b){return b.value}function n(){return~~(Math.random()*2)*90}function a(){return 1}function u(b,S,A,T){if(!S.sprite){var O=b.context,D=b.ratio;O.clearRect(0,0,(s<<5)/D,v/D);var L=0,Z=0,U=0,Y=A.length;for(--T;++T<Y;){S=A[T],O.save(),O.font=S.style+" "+S.weight+" "+~~((S.size+1)/D)+"px "+S.font;var W=O.measureText(S.text+"m").width*D,J=S.size<<1;if(S.rotate){var ht=Math.sin(S.rotate*c),nt=Math.cos(S.rotate*c),Q=W*nt,xt=W*ht,_t=J*nt,Nt=J*ht;W=Math.max(Math.abs(Q+Nt),Math.abs(Q-Nt))+31>>5<<5,J=~~Math.max(Math.abs(xt+_t),Math.abs(xt-_t))}else W=W+31>>5<<5;if(J>U&&(U=J),L+W>=s<<5&&(L=0,Z+=U,U=0),Z+J>=v)break;O.translate((L+(W>>1))/D,(Z+(J>>1))/D),S.rotate&&O.rotate(S.rotate*c),O.fillText(S.text,0,0),S.padding&&(O.lineWidth=2*S.padding,O.strokeText(S.text,0,0)),O.restore(),S.width=W,S.height=J,S.xoff=L,S.yoff=Z,S.x1=W>>1,S.y1=J>>1,S.x0=-S.x1,S.y0=-S.y1,S.hasText=!0,L+=W}for(var rt=O.getImageData(0,0,(s<<5)/D,v/D).data,q=[];--T>=0;)if(S=A[T],!!S.hasText){for(var W=S.width,G=W>>5,J=S.y1-S.y0,N=0;N<J*G;N++)q[N]=0;if(L=S.xoff,L==null)return;Z=S.yoff;for(var at=0,H=-1,ft=0;ft<J;ft++){for(var N=0;N<W;N++){var ct=G*ft+(N>>5),K=rt[(Z+ft)*(s<<5)+(L+N)<<2]?1<<31-N%32:0;q[ct]|=K,at|=K}at?H=ft:(S.y0++,J--,ft--,Z++)}S.y1=S.y0+H,S.sprite=q.slice(0,(S.y1-S.y0)*G)}}}function l(b,S,A){A>>=5;for(var T=b.sprite,O=b.width>>5,D=b.x-(O<<4),L=D&127,Z=32-L,U=b.y1-b.y0,Y=(b.y+b.y0)*A+(D>>5),W,J=0;J<U;J++){W=0;for(var ht=0;ht<=O;ht++)if((W<<Z|(ht<O?(W=T[J*O+ht])>>>L:0))&S[Y+ht])return!0;Y+=A}return!1}function h(b,S){var A=b[0],T=b[1];S.x+S.x0<A.x&&(A.x=S.x+S.x0),S.y+S.y0<A.y&&(A.y=S.y+S.y0),S.x+S.x1>T.x&&(T.x=S.x+S.x1),S.y+S.y1>T.y&&(T.y=S.y+S.y1)}function p(b,S){return b.x+b.x1>S[0].x&&b.x+b.x0<S[1].x&&b.y+b.y1>S[0].y&&b.y+b.y0<S[1].y}function d(b){var S=b[0]/b[1];return function(A){return[S*(A*=.1)*Math.cos(A),A*Math.sin(A)]}}function g(b){var S=4,A=S*b[0]/b[1],T=0,O=0;return function(D){var L=D<0?-1:1;switch(Math.sqrt(1+4*L*D)-L&3){case 0:T+=A;break;case 1:O+=S;break;case 2:T-=A;break;default:O-=S;break}return[T,O]}}function y(b){for(var S=[],A=-1;++A<b;)S[A]=0;return S}function E(){return document.createElement("canvas")}function C(b){return typeof b=="function"?b:function(){return b}}var m={archimedean:d,rectangular:g};function M(){var b=[256,256],S=o,A=f,T=e,O=r,D=r,L=n,Z=a,U=d,Y=[],W=Infinity,J=Math.random,ht=E,nt={};nt.canvas=function(_t){return arguments.length?(ht=C(_t),nt):ht},nt.start=function(){var _t=t.__read(b,2),Nt=_t[0],rt=_t[1],q=Q(ht()),G=nt.board?nt.board:y((b[0]>>5)*b[1]),N=Y.length,at=[],H=Y.map(function($,et){return $.text=S.call(this,$,et),$.font=A.call(this,$,et),$.style=O.call(this,$,et),$.weight=D.call(this,$,et),$.rotate=L.call(this,$,et),$.size=~~T.call(this,$,et),$.padding=Z.call(this,$,et),$}).sort(function($,et){return et.size-$.size}),ft=-1,ct=nt.board?[{x:0,y:0},{x:Nt,y:rt}]:null;K();function K(){for(var $=Date.now();Date.now()-$<W&&++ft<N;){var et=H[ft];et.x=Nt*(J()+.5)>>1,et.y=rt*(J()+.5)>>1,u(q,et,H,ft),et.hasText&&xt(G,et,ct)&&(at.push(et),ct?nt.hasImage||h(ct,et):ct=[{x:et.x+et.x0,y:et.y+et.y0},{x:et.x+et.x1,y:et.y+et.y1}],et.x-=b[0]>>1,et.y-=b[1]>>1)}nt._tags=at,nt._bounds=ct}return nt};function Q(_t){_t.width=_t.height=1;var Nt=Math.sqrt(_t.getContext("2d").getImageData(0,0,1,1).data.length>>2);_t.width=(s<<5)/Nt,_t.height=v/Nt;var rt=_t.getContext("2d");return rt.fillStyle=rt.strokeStyle="red",rt.textAlign="center",{context:rt,ratio:Nt}}function xt(_t,Nt,rt){for(var q=Nt.x,G=Nt.y,N=Math.sqrt(b[0]*b[0]+b[1]*b[1]),at=U(b),H=J()<.5?1:-1,ft,ct=-H,K,$;(ft=at(ct+=H))&&(K=~~ft[0],$=~~ft[1],!(Math.min(Math.abs(K),Math.abs($))>=N));)if(Nt.x=q+K,Nt.y=G+$,!(Nt.x+Nt.x0<0||Nt.y+Nt.y0<0||Nt.x+Nt.x1>b[0]||Nt.y+Nt.y1>b[1])&&(!rt||!l(Nt,_t,b[0]))&&(!rt||p(Nt,rt))){for(var et=Nt.sprite,B=Nt.width>>5,w=b[0]>>5,R=Nt.x-(B<<4),V=R&127,tt=32-V,lt=Nt.y1-Nt.y0,Et=void 0,ot=(Nt.y+Nt.y0)*w+(R>>5),Mt=0;Mt<lt;Mt++){Et=0;for(var Ot=0;Ot<=B;Ot++)_t[ot+Ot]|=Et<<tt|(Ot<B?(Et=et[Mt*B+Ot])>>>V:0);ot+=w}return delete Nt.sprite,!0}return!1}return nt.createMask=function(_t){var Nt=document.createElement("canvas"),rt=t.__read(b,2),q=rt[0],G=rt[1];if(!(!q||!G)){var N=q>>5,at=y((q>>5)*G);Nt.width=q,Nt.height=G;var H=Nt.getContext("2d");H.drawImage(_t,0,0,_t.width,_t.height,0,0,q,G);for(var ft=H.getImageData(0,0,q,G).data,ct=0;ct<G;ct++)for(var K=0;K<q;K++){var $=N*ct+(K>>5),et=ct*q+K<<2,B=ft[et]>=250&&ft[et+1]>=250&&ft[et+2]>=250,w=B?1<<31-K%32:0;at[$]|=w}nt.board=at,nt.hasImage=!0}},nt.timeInterval=function(_t){return arguments.length?(W=_t==null?Infinity:_t,nt):W},nt.words=function(_t){return arguments.length?(Y=_t,nt):Y},nt.size=function(_t){return arguments.length?(b=[+_t[0],+_t[1]],nt):b},nt.font=function(_t){return arguments.length?(A=C(_t),nt):A},nt.fontStyle=function(_t){return arguments.length?(O=C(_t),nt):O},nt.fontWeight=function(_t){return arguments.length?(D=C(_t),nt):D},nt.rotate=function(_t){return arguments.length?(L=C(_t),nt):L},nt.text=function(_t){return arguments.length?(S=C(_t),nt):S},nt.spiral=function(_t){return arguments.length?(U=m[_t]||_t,nt):U},nt.fontSize=function(_t){return arguments.length?(T=C(_t),nt):T},nt.padding=function(_t){return arguments.length?(Z=C(_t),nt):Z},nt.random=function(_t){return arguments.length?(J=_t,nt):J},nt}x.default=M},"./src/view.ts":function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.View=void 0;var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js");function v(f){var r={};return s.forIn(f,function(e,n){s.isObject(e)&&e.isView?r[n]=e:s.isArray(e)?r[n]=e.concat([]):s.isPlainObject(e)?r[n]=s.clone(e):r[n]=e}),r}var o=function(f){t.__extends(r,f);function r(e,n){var a=f.call(this)||this;if(a.isView=!0,a.isDataView=!0,a.watchingStates=null,a.dataType="table",a.transforms=[],a.origin=[],a.rows=[],e&&e.isDataSet?a.dataSet=e:(a.dataSet=null,n=e),a.loose=!a.dataSet,n&&(a.watchingStates=n.watchingStates),!a.loose){var u=a.watchingStates;e.on("statechange",function(l){s.isArray(u)?u.indexOf(l)>-1&&a._reExecute():a._reExecute()})}return a}return r.prototype._parseStateExpression=function(e){var n=this.dataSet;if(n!==null){var a=/^\$state\.(\w+)/.exec(e);return a?n.state[a[1]]:e}},r.prototype._preparseOptions=function(e){var n=this,a=v(e);return this.loose||s.forIn(a,function(u,l){s.isString(u)&&/^\$state\./.test(u)&&(a[l]=n._parseStateExpression(u))}),a},r.prototype._prepareSource=function(e,n){if(this._source={source:e,options:n},n){var a=this._preparseOptions(n);this.origin=r.DataSet.getConnector(a.type)(e,a,this)}else if(e instanceof r||s.isString(e))this.origin=r.DataSet.getConnector("default")(e,this.dataSet);else if(s.isArray(e))this.origin=e;else if(s.isObject(e)&&e.type){var a=this._preparseOptions(e);this.origin=r.DataSet.getConnector(a.type)(a,this)}else throw new TypeError("Invalid source");return this.rows=s.deepMix([],this.origin),this},r.prototype.source=function(e,n){return this._prepareSource(e,n)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},r.prototype._executeTransform=function(e){e=this._preparseOptions(e);var n=r.DataSet.getTransform(e.type);n(this,e)},r.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(n){e._executeTransform(n)})},r.prototype.addRow=function(e){this.rows.push(e)},r.prototype.removeRow=function(e){this.rows.splice(e,1)},r.prototype.updateRow=function(e,n){s.assign(this.rows[e],n)},r.prototype.findRows=function(e){return this.rows.filter(function(n){return s.isMatch(n,e)})},r.prototype.findRow=function(e){return s.find(this.rows,e)},r.prototype.getColumnNames=function(){var e=this.rows[0];return e?s.keys(e):[]},r.prototype.getColumnName=function(e){return this.getColumnNames()[e]},r.prototype.getColumnIndex=function(e){var n=this.getColumnNames();return n.indexOf(e)},r.prototype.getColumn=function(e){return this.rows.map(function(n){return n[e]})},r.prototype.getColumnData=function(e){return this.getColumn(e)},r.prototype.getSubset=function(e,n,a){for(var u=[],l=e;l<=n;l++)u.push(s.pick(this.rows[l],a));return u},r.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var e=this._source,n=e.source,a=e.options;this._prepareSource(n,a),this._reExecuteTransforms(),this.trigger("change",[])},r}(c.default);x.View=o}})})},4922:function(gr){(function(x,i){gr.exports=i()})(this,function(){return function(P){var x={};function i(t){if(x[t])return x[t].exports;var c=x[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=x,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=0)}([function(P,x,i){var t=i(1);P.exports=t},function(P,x,i){function t(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}var c=i(2),s=["X","Y","XY","POLYGON"],v=function(){function o(f){t(this,o),this.startPoint=null,this.brushing=!1,this.dragging=!1,this.brushShape=null,this.container=null,this.polygonPath=null,this.style={fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},this.type="XY",this.dragable=!1,this.dragoffX=0,this.dragoffY=0,this.inPlot=!0,this.xField=null,this.yField=null,this.filter=!f.dragable,this.onBrushstart=null,this.onBrushmove=null,this.onBrushend=null,this.onDragstart=null,this.onDragmove=null,this.onDragend=null,this._init(f)}return o.prototype._init=function(r){c.mix(this,r),this.type=this.type.toUpperCase(),s.indexOf(this.type)===-1&&(this.type="XY");var e=this.canvas;if(e){var n=void 0;e.get("children").map(function(p){return p.get("type")==="plotBack"?(n=p.get("plotRange"),!1):p}),this.plot={start:n.bl,end:n.tr},this.bindCanvasEvent()}if(this.chart){var a=this.chart,u=a.get("coord");this.plot={start:u.start,end:u.end};var l=a._getScales("x"),h=a._getScales("y");this.xScale=this.xField?l[this.xField]:a.getXScale(),this.yScale=this.yField?h[this.yField]:a.getYScales()[0]}},o.prototype.clearEvents=function(){this.onMouseDownListener&&this.onMouseDownListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseupListener&&this.onMouseupListener.remove()},o.prototype.bindCanvasEvent=function(){var r=this.canvas,e=r.get("canvasDOM");this.clearEvents(),this.onMouseDownListener=c.addEventListener(e,"mousedown",c.wrapBehavior(this,"_onCanvasMouseDown")),this.onMouseMoveListener=c.addEventListener(e,"mousemove",c.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=c.addEventListener(e,"mouseup",c.wrapBehavior(this,"_onCanvasMouseUp"))},o.prototype._onCanvasMouseDown=function(r){var e=this,n=e.canvas,a=e.type,u=e.brushShape;if(!!a){var l={x:r.offsetX,y:r.offsetY},h=e.plot&&e.inPlot,p=n.get("canvasDOM"),d=n.get("pixelRatio");if(e.selection&&(e.selection=null),e.dragable&&u&&!u.get("destroyed")){if(u.isHit(l.x*d,l.y*d)){if(p.style.cursor="move",e.selection=u,e.dragging=!0,a==="X")e.dragoffX=l.x-u.attr("x"),e.dragoffY=0;else if(a==="Y")e.dragoffX=0,e.dragoffY=l.y-u.attr("y");else if(a==="XY")e.dragoffX=l.x-u.attr("x"),e.dragoffY=l.y-u.attr("y");else if(a==="POLYGON"){var g=u.getBBox();e.dragoffX=l.x-g.minX,e.dragoffY=l.y-g.minY}h&&e.selection.attr("clip",n.addShape("rect",{attrs:{x:this.plot.start.x,y:this.plot.end.y,width:this.plot.end.x-this.plot.start.x,height:this.plot.start.y-this.plot.end.y,fill:"#fff",fillOpacity:0}})),e.onDragstart&&e.onDragstart(r)}e.prePoint=l}if(!e.dragging){e.onBrushstart&&e.onBrushstart(l);var y=e.container;if(h){var E=e.plot,C=E.start,m=E.end;if(l.x<C.x||l.x>m.x||l.y<m.y||l.y>C.y)return}p.style.cursor="crosshair",e.startPoint=l,e.brushShape=null,e.brushing=!0,y?y.clear():(y=n.addGroup({zIndex:5}),y.initTransform()),e.container=y,a==="POLYGON"&&(e.polygonPath="M "+l.x+" "+l.y)}}},o.prototype._onCanvasMouseMove=function(r){var e=this,n=e.brushing,a=e.dragging,u=e.type,l=e.plot,h=e.startPoint,p=e.xScale,d=e.yScale,g=e.canvas;if(!(!n&&!a)){var y={x:r.offsetX,y:r.offsetY},E=g.get("canvasDOM");if(n){E.style.cursor="crosshair";var C=l.start,m=l.end,M=e.polygonPath,b=e.brushShape,S=e.container;e.plot&&e.inPlot&&(y=e._limitCoordScope(y));var A=void 0,T=void 0,O=void 0,D=void 0;u==="Y"?(A=C.x,T=y.y>=h.y?h.y:y.y,O=Math.abs(C.x-m.x),D=Math.abs(h.y-y.y)):u==="X"?(A=y.x>=h.x?h.x:y.x,T=m.y,O=Math.abs(h.x-y.x),D=Math.abs(m.y-C.y)):u==="XY"?(y.x>=h.x?(A=h.x,T=y.y>=h.y?h.y:y.y):(A=y.x,T=y.y>=h.y?h.y:y.y),O=Math.abs(h.x-y.x),D=Math.abs(h.y-y.y)):u==="POLYGON"&&(M+="L "+y.x+" "+y.y,e.polygonPath=M,b?!b.get("destroyed")&&b.attr(c.mix({},b.__attrs,{path:M})):b=S.addShape("path",{attrs:c.mix(e.style,{path:M})})),u!=="POLYGON"&&(b?!b.get("destroyed")&&b.attr(c.mix({},b.__attrs,{x:A,y:T,width:O,height:D})):b=S.addShape("rect",{attrs:c.mix(e.style,{x:A,y:T,width:O,height:D})})),e.brushShape=b}else if(a){E.style.cursor="move";var L=e.selection;if(L&&!L.get("destroyed"))if(u==="POLYGON"){var Z=e.prePoint;e.selection.translate(y.x-Z.x,y.y-Z.y)}else e.dragoffX&&L.attr("x",y.x-e.dragoffX),e.dragoffY&&L.attr("y",y.y-e.dragoffY)}e.prePoint=y,g.draw();var U=e._getSelected(),Y=U.data,W=U.shapes,J=U.xValues,ht=U.yValues,nt={data:Y,shapes:W,x:y.x,y:y.y};p&&(nt[p.field]=J),d&&(nt[d.field]=ht),e.onDragmove&&e.onDragmove(nt),e.onBrushmove&&e.onBrushmove(nt)}},o.prototype._onCanvasMouseUp=function(r){var e=this,n=e.data,a=e.shapes,u=e.xValues,l=e.yValues,h=e.canvas,p=e.type,d=e.startPoint,g=e.chart,y=e.container,E=e.xScale,C=e.yScale,m=r.offsetX,M=r.offsetY,b=h.get("canvasDOM");if(b.style.cursor="default",Math.abs(d.x-m)<=1&&Math.abs(d.y-M)<=1){e.brushing=!1,e.dragging=!1;return}var S={data:n,shapes:a,x:m,y:M};if(E&&(S[E.field]=u),C&&(S[C.field]=l),e.dragging)e.dragging=!1,e.onDragend&&e.onDragend(S);else if(e.brushing){e.brushing=!1;var A=e.brushShape,T=e.polygonPath;p==="POLYGON"&&(T+="z",A&&!A.get("destroyed")&&A.attr(c.mix({},A.__attrs,{path:T})),e.polygonPath=T,h.draw()),e.onBrushend?e.onBrushend(S):g&&e.filter&&(y.clear(),p==="X"?E&&g.filter(E.field,function(O){return u.indexOf(O)>-1}):p==="Y"?C&&g.filter(C.field,function(O){return l.indexOf(O)>-1}):(E&&g.filter(E.field,function(O){return u.indexOf(O)>-1}),C&&g.filter(C.field,function(O){return l.indexOf(O)>-1})),g.repaint())}},o.prototype.setType=function(r){!r||(this.type=r.toUpperCase())},o.prototype.destroy=function(){this.clearEvents()},o.prototype._limitCoordScope=function(r){var e=this.plot,n=e.start,a=e.end;return r.x<n.x&&(r.x=n.x),r.x>a.x&&(r.x=a.x),r.y<a.y&&(r.y=a.y),r.y>n.y&&(r.y=n.y),r},o.prototype._getSelected=function(){var r=this.chart,e=this.xScale,n=this.yScale,a=this.brushShape,u=this.canvas,l=u.get("pixelRatio"),h=[],p=[],d=[],g=[];if(r){var y=r.get("geoms");y.map(function(E){var C=E.getShapes();return C.map(function(m){var M=m.get("origin");return Array.isArray(M)||(M=[M]),M.map(function(b){if(a.isHit(b.x*l,b.y*l)){h.push(m);var S=b._origin;g.push(S),e&&p.push(S[e.field]),n&&d.push(S[n.field])}return b}),m}),E})}return this.shapes=h,this.xValues=p,this.yValues=d,this.data=g,{data:g,xValues:p,yValues:d,shapes:h}},o}();P.exports=v},function(P,x){function i(c,s){for(var v in s)s.hasOwnProperty(v)&&v!=="constructor"&&s[v]!==void 0&&(c[v]=s[v])}var t={mix:function(s,v,o,f){return v&&i(s,v),o&&i(s,o),f&&i(s,f),s},addEventListener:function(s,v,o){if(s.addEventListener)return s.addEventListener(v,o,!1),{remove:function(){s.removeEventListener(v,o,!1)}};if(s.attachEvent)return s.attachEvent("on"+v,o),{remove:function(){s.detachEvent("on"+v,o)}}},wrapBehavior:function(s,v){if(s["_wrap_"+v])return s["_wrap_"+v];var o=function(r){s[v](r)};return s["_wrap_"+v]=o,o},getWrapBehavior:function(s,v){return s["_wrap_"+v]}};P.exports=t}])})},10817:function(gr){(function(x,i){gr.exports=i()})(this,function(){return function(P){var x={};function i(t){if(x[t])return x[t].exports;var c=x[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=x,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=0)}([function(P,x,i){var t=i(1);window&&!window.G2&&console.err("Please load the G2 script first!"),P.exports=t},function(P,x,i){var t=i(2),c=window&&window.G2,s=c.Chart,v=c.Util,o=c.G,f=c.Global,r=o.Canvas,e=v.DomUtil,n=function(l){return typeof l=="number"},a=function(){var u=l.prototype;u._initProps=function(){this.height=26,this.width="auto",this.padding=f.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}};function l(h){this._initProps(),v.deepMix(this,h);var p=this.container;if(!p)throw new Error("Please specify the container for the Slider!");v.isString(p)?this.domContainer=document.getElementById(p):this.domContainer=p,this.handleStyle=v.mix({width:this.height,height:this.height},this.handleStyle),this.width==="auto"&&window.addEventListener("resize",v.wrapBehavior(this,"_initForceFitEvent"))}return u._initForceFitEvent=function(){var p=setTimeout(v.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=p},u.forceFit=function(){if(!(!this||this.destroyed)){var p=e.getWidth(this.domContainer),d=this.height;if(p!==this.domWidth){var g=this.canvas;g.changeSize(p,d),this.bgChart&&this.bgChart.changeWidth(p),g.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),g.draw()}}},u._initWidth=function(){var p;this.width==="auto"?p=e.getWidth(this.domContainer):p=this.width,this.domWidth=p;var d=v.toAllPadding(this.padding);this.layout==="horizontal"?(this.plotWidth=p-d[1]-d[3],this.plotPadding=d[3],this.plotHeight=this.height):this.layout==="vertical"&&(this.plotWidth=this.width,this.plotHeight=this.height-d[0]-d[2],this.plotPadding=d[0])},u.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},u.changeData=function(p){this.data=p,this.repaint()},u.destroy=function(){clearTimeout(this.resizeTimer);var p=this.rangeElement;p.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var d=this.domContainer;d.hasChildNodes();)d.removeChild(d.firstChild);window.removeEventListener("resize",v.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},u.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},u.repaint=function(){this.clear(),this.render()},u._initCanvas=function(){var p=this.domWidth,d=this.height,g=new r({width:p,height:d,containerDOM:this.domContainer,capture:!1}),y=g.get("el");y.style.position="absolute",y.style.top=0,y.style.left=0,y.style.zIndex=3,this.canvas=g},u._initBackground=function(){var p,d=this.data,g=this.xAxis,y=this.yAxis,E=v.deepMix((p={},p[""+g]={range:[0,1]},p),this.scales);if(!d)throw new Error("Please specify the data!");if(!g)throw new Error("Please specify the xAxis!");if(!y)throw new Error("Please specify the yAxis!");var C=this.backgroundChart,m=C.type,M=C.color;v.isArray(m)||(m=[m]);var b=v.toAllPadding(this.padding),S=new s({container:this.container,width:this.domWidth,height:this.height,padding:[0,b[1],0,b[3]],animate:!1});S.source(d),S.scale(E),S.axis(!1),S.tooltip(!1),S.legend(!1),v.each(m,function(A){S[A]().position(g+"*"+y).color(M).opacity(1)}),S.render(),this.bgChart=S,this.scale=this.layout==="horizontal"?S.getXScale():S.getYScales()[0],this.layout==="vertical"&&S.destroy()},u._initRange=function(){var p=this.startRadio,d=this.endRadio,g=this.start,y=this.end,E=this.scale,C=0,m=1;n(p)?C=p:g&&(C=E.scale(E.translate(g))),n(d)?m=d:y&&(m=E.scale(E.translate(y)));var M=this.minSpan,b=this.maxSpan,S=0;if(E.type==="time"||E.type==="timeCat"){var A=E.values,T=A[0],O=A[A.length-1];S=O-T}else E.isLinear&&(S=E.max-E.min);S&&M&&(this.minRange=M/S*100),S&&b&&(this.maxRange=b/S*100);var D=[C*100,m*100];return this.range=D,D},u._getHandleValue=function(p){var d,g=this.range,y=g[0]/100,E=g[1]/100,C=this.scale;return p==="min"?d=this.start?this.start:C.invert(y):d=this.end?this.end:C.invert(E),d},u._initSlider=function(){var p=this.canvas,d=this._initRange(),g=this.scale,y=p.addGroup(t,{middleAttr:this.fillerStyle,range:d,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:g.getText(this._getHandleValue("min")),maxText:g.getText(this._getHandleValue("max"))});this.layout==="horizontal"?y.translate(this.plotPadding,0):this.layout==="vertical"&&y.translate(0,this.plotPadding),this.rangeElement=y},u._bindEvent=function(){var p=this,d=p.rangeElement;d.on("sliderchange",function(g){var y=g.range,E=y[0]/100,C=y[1]/100;p._updateElement(E,C)})},u._updateElement=function(p,d){var g=this.scale,y=this.rangeElement,E=y.get("minTextElement"),C=y.get("maxTextElement"),m=g.invert(p),M=g.invert(d),b=g.getText(m),S=g.getText(M);E.attr("text",b),C.attr("text",S),this.start=m,this.end=M,this.onChange&&this.onChange({startText:b,endText:S,startValue:m,endValue:M,startRadio:p,endRadio:d})},l}();P.exports=a},function(P,x){function i(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var t=window&&window.G2,c=t.Util,s=t.G,v=s.Group,o=c.DomUtil,f=5,r=function(e){i(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},a._initHandle=function(l){var h=this.addGroup(),p=this.get("layout"),d=this.get("handleStyle"),g=d.img,y=d.width,E=d.height,C,m,M;if(p==="horizontal"){var b=d.width;M="ew-resize",m=h.addShape("Image",{attrs:{x:-b/2,y:0,width:b,height:E,img:g,cursor:M}}),C=h.addShape("Text",{attrs:c.mix({x:l==="min"?-(b/2+f):b/2+f,y:E/2,textAlign:l==="min"?"end":"start",textBaseline:"middle",text:l==="min"?this.get("minText"):this.get("maxText"),cursor:M},this.get("textStyle"))})}else M="ns-resize",m=h.addShape("Image",{attrs:{x:0,y:-E/2,width:y,height:E,img:g,cursor:M}}),C=h.addShape("Text",{attrs:c.mix({x:y/2,y:l==="min"?E/2+f:-(E/2+f),textAlign:"center",textBaseline:"middle",text:l==="min"?this.get("minText"):this.get("maxText"),cursor:M},this.get("textStyle"))});return this.set(l+"TextElement",C),this.set(l+"IconElement",m),h},a._initSliderBackground=function(){var l=this.addGroup();return l.initTransform(),l.translate(0,0),l.addShape("Rect",{attrs:c.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),l},a._beforeRenderUI=function(){var l=this._initSliderBackground(),h=this._initHandle("min"),p=this._initHandle("max"),d=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",d),this.set("minHandleElement",h),this.set("maxHandleElement",p),this.set("backgroundElement",l),l.set("zIndex",0),d.set("zIndex",1),h.set("zIndex",2),p.set("zIndex",2),d.attr("cursor","move"),this.sort()},a._renderUI=function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},a._transform=function(l){var h=this.get("range"),p=h[0]/100,d=h[1]/100,g=this.get("width"),y=this.get("height"),E=this.get("minHandleElement"),C=this.get("maxHandleElement"),m=this.get("middleHandleElement");E.resetMatrix?(E.resetMatrix(),C.resetMatrix()):(E.initTransform(),C.initTransform()),l==="horizontal"?(m.attr({x:g*p,y:0,width:(d-p)*g,height:y}),E.translate(p*g,0),C.translate(d*g,0)):(m.attr({x:0,y:y*(1-d),width:g,height:(d-p)*y}),E.translate(0,(1-p)*y),C.translate(0,(1-d)*y))},a._renderHorizontal=function(){this._transform("horizontal")},a._renderVertical=function(){this._transform("vertical")},a._bindUI=function(){this.on("mousedown",c.wrapBehavior(this,"_onMouseDown"))},a._isElement=function(l,h){var p=this.get(h);if(l===p)return!0;if(p.isGroup){var d=p.get("children");return d.indexOf(l)>-1}return!1},a._getRange=function(l,h){var p=l+h;return p=p>100?100:p,p=p<0?0:p,p},a._limitRange=function(l,h,p){p[0]=this._getRange(l,p[0]),p[1]=p[0]+h,p[1]>100&&(p[1]=100,p[0]=p[1]-h)},a._updateStatus=function(l,h){var p=l==="x"?this.get("width"):this.get("height");l=c.upperFirst(l);var d=this.get("range"),g=this.get("page"+l),y=this.get("currentTarget"),E=this.get("rangeStash"),C=this.get("layout"),m=C==="vertical"?-1:1,M=h["page"+l],b=M-g,S=b/p*100*m,A,T=this.get("minRange"),O=this.get("maxRange");d[1]<=d[0]?(this._isElement(y,"minHandleElement")||this._isElement(y,"maxHandleElement"))&&(d[0]=this._getRange(S,d[0]),d[1]=this._getRange(S,d[0])):(this._isElement(y,"minHandleElement")&&(d[0]=this._getRange(S,d[0]),T&&d[1]-d[0]<=T&&this._limitRange(S,T,d),O&&d[1]-d[0]>=O&&this._limitRange(S,O,d)),this._isElement(y,"maxHandleElement")&&(d[1]=this._getRange(S,d[1]),T&&d[1]-d[0]<=T&&this._limitRange(S,T,d),O&&d[1]-d[0]>=O&&this._limitRange(S,O,d))),this._isElement(y,"middleHandleElement")&&(A=E[1]-E[0],this._limitRange(S,A,d)),this.emit("sliderchange",{range:d}),this.set("page"+l,M),this._renderUI(),this.get("canvas").draw()},a._onMouseDown=function(l){var h=l.currentTarget,p=l.event,d=this.get("range");p.stopPropagation(),p.preventDefault(),this.set("pageX",p.pageX),this.set("pageY",p.pageY),this.set("currentTarget",h),this.set("rangeStash",[d[0],d[1]]),this._bindCanvasEvents()},a._bindCanvasEvents=function(){var l=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(l,"mousemove",c.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(l,"mouseup",c.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(l,"mouseleave",c.wrapBehavior(this,"_onCanvasMouseUp"))},a._onCanvasMouseMove=function(l){var h=this.get("layout");h==="horizontal"?this._updateStatus("x",l):this._updateStatus("y",l)},a._onCanvasMouseUp=function(){this._removeDocumentEvents()},a._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},n}(v);P.exports=r}])})},25925:function(gr){(function(x,i){gr.exports=i()})(typeof self!="undefined"?self:this,function(){return function(P){var x={};function i(t){if(x[t])return x[t].exports;var c=x[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=x,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=459)}([function(P,x,i){var t=i(143),c=i(18),s=t.mix({},t,{assign:t.mix,merge:t.deepMix,cloneDeep:t.clone,isFinite,isNaN,snapEqual:t.isNumberEqual,remove:t.pull,inArray:t.contains,toAllPadding:function(o){var f=0,r=0,e=0,n=0;return s.isNumber(o)||s.isString(o)?f=r=e=n=o:s.isArray(o)?(f=o[0],e=s.isNil(o[1])?o[0]:o[1],n=s.isNil(o[2])?o[0]:o[2],r=s.isNil(o[3])?e:o[3]):s.isObject(o)&&(f=o.top||0,e=o.right||0,n=o.bottom||0,r=o.left||0),[f,e,n,r]},getClipByRange:function(o){var f=o.tl,r=o.br,e=new c.Rect({attrs:{x:f.x,y:f.y,width:r.x-f.x,height:r.y-f.y}});return e}});s.Array={groupToMap:t.groupToMap,group:t.group,merge:t.merge,values:t.valuesOfKey,getRange:t.getRange,firstValue:t.firstValue,remove:t.pull},P.exports=s},function(P,x,i){var t=i(59),c={};t.merge(c,t,{isColorProp:function(v){return["fill","stroke","fillStyle","strokeStyle"].includes(v)},isGradientColor:function(v){return/^[r,R,L,l]{1}[\s]*\(/.test(v)},mixin:function(v,o){var f=v.CFG?"CFG":"ATTRS";if(v&&o){v._mixins=o,v[f]=v[f]||{};var r={};c.each(o,function(e){c.augment(v,e);var n=e[f];n&&c.merge(r,n)}),v[f]=c.merge(r,v[f])}}}),P.exports=c},function(P,x,i){var t=i(169),c={};t.merge(c,t,{mixin:function(v,o){var f=v.CFG?"CFG":"ATTRS";if(v&&o){v._mixins=o,v[f]=v[f]||{};var r={};c.each(o,function(e){c.augment(v,e);var n=e[f];n&&c.merge(r,n)}),v[f]=c.merge(r,v[f])}}}),P.exports=c},function(P,x,i){var t=i(22),c=i(5),s=function(o,f){if(!!o){var r=void 0;if(c(o))for(var e=0,n=o.length;e<n&&(r=f(o[e],e),r!==!1);e++);else if(t(o)){for(var a in o)if(o.hasOwnProperty(a)&&(r=f(o[a],a),r===!1))break}}};P.exports=s},function(P,x,i){var t=i(51),c=i(143),s=c.mix({assign:c.mix,isFinite,isNaN,Group:t.Group,Event:t.Event},c);P.exports=s},function(P,x,i){var t=i(14),c=Array.isArray?Array.isArray:function(s){return t(s,"Array")};P.exports=c},function(P,x){var i=function(c){return c==null};P.exports=i},function(P,x,i){var t=i(1),c=i(227),s=i(116),v=i(79),o=["zIndex","capture","visible"],f=function n(a){n.superclass.constructor.call(this,a)};f.ATTRS={},t.extend(f,s);var r={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function e(n){for(var a=[],u=0;u<n.length;u++)t.isArray(n[u])?a.push([].concat(n[u])):a.push(n[u]);return a}t.augment(f,c,{isShape:!0,drawInner:function(a){var u=this,l=u._attrs;u.createPath(a);var h=a.globalAlpha;if(u.hasFill()){var p=l.fillOpacity;!t.isNil(p)&&p!==1?(a.globalAlpha=p,a.fill(),a.globalAlpha=h):a.fill()}if(u.hasStroke()){var d=u._attrs.lineWidth;if(d>0){var g=l.strokeOpacity;!t.isNil(g)&&g!==1&&(a.globalAlpha=g),a.stroke()}}u.afterPath(a)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(a,u){var l=this,h=[a,u,1];if(l.invert(h),l.isHitBox()){var p=l.getBBox();if(p&&!v.box(p.minX,p.maxX,p.minY,p.maxY,h[0],h[1]))return!1}var d=l._attrs.clip;if(d){if(d.invert(h,l.get("canvas")),d.isPointInPath(h[0],h[1]))return l.isPointInPath(h[0],h[1])}else return l.isPointInPath(h[0],h[1]);return!1},calculateBox:function(){return null},getHitLineWidth:function(){var a=this._attrs,u=a.lineAppendWidth||0,l=a.lineWidth||0;return l+u},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var a=this._cfg.box;return a||(a=this.calculateBox(),a&&(a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY),this._cfg.box=a),a},clone:function(){var a=this,u=null,l=a._attrs,h={};return t.each(l,function(p,d){r[d]&&t.isArray(l[d])?h[d]=e(l[d]):h[d]=l[d]}),u=new a.constructor({attrs:h}),t.each(o,function(p){u._cfg[p]=a._cfg[p]}),u}}),P.exports=f},function(P,x,i){var t=i(0),c=i(167),s={version:"3.5.19",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:1/2,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(o,f){c[o]=f},setTheme:function(o){var f={};t.isObject(o)?f=o:t.indexOf(Object.keys(c),o)!==-1?f=c[o]:f=c.default,t.deepMix(s,f)}};s.setTheme("default"),P.exports=s},function(P,x,i){var t=i(2),c=i(350),s=i(172),v=i(93),o=function e(n){e.superclass.constructor.call(this,n)};o.ATTRS={},t.extend(o,s);var f={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function r(e){for(var n=[],a=0;a<e.length;a++)t.isArray(e[a])?n.push([].concat(e[a])):n.push(e[a]);return n}t.augment(o,c,{isShape:!0,drawInner:function(n){var a=this,u=a._attrs;a.createPath(n);var l=n.globalAlpha;if(a.hasFill()){var h=u.fillOpacity;!t.isNil(h)&&h!==1?(n.globalAlpha=h,n.fill(),n.globalAlpha=l):n.fill()}if(a.hasStroke()){var p=a._attrs.lineWidth;if(p>0){var d=u.strokeOpacity;!t.isNil(d)&&d!==1&&(n.globalAlpha=d),n.stroke()}}a.afterPath(n)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(n,a){var u=this,l=[n,a,1];if(u.invert(l),u.isHitBox()){var h=u.getBBox();if(h&&!v.box(h.minX,h.maxX,h.minY,h.maxY,l[0],l[1]))return!1}var p=u._attrs.clip;if(p){if(p.invert(l,u.get("canvas")),p.isPointInPath(l[0],l[1]))return u.isPointInPath(l[0],l[1])}else return u.isPointInPath(l[0],l[1]);return!1},calculateBox:function(){return null},getHitLineWidth:function(){var n=this._attrs,a=n.lineAppendWidth||0,u=n.lineWidth||0;return u+a},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var n=this._cfg.box;return n||(n=this.calculateBox(),n&&(n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY),this._cfg.box=n),n},clone:function(){var n=this,a=null,u=n._attrs,l={};return t.each(u,function(h,p){f[p]&&t.isArray(u[p])?l[p]=r(u[p]):l[p]=u[p]}),a=new n.constructor({attrs:l}),a._cfg.zIndex=n._cfg.zIndex,a}}),P.exports=o},function(P,x){function i(c,s){for(var v in s)s.hasOwnProperty(v)&&v!=="constructor"&&s[v]!==void 0&&(c[v]=s[v])}var t=function(s,v,o,f){return v&&i(s,v),o&&i(s,o),f&&i(s,f),s};P.exports=t},function(P,x,i){var t=i(14),c=function(v){return t(v,"Number")};P.exports=c},function(P,x,i){var t=i(14),c=function(v){return t(v,"String")};P.exports=c},function(P,x,i){var t=i(14),c=function(v){return t(v,"Function")};P.exports=c},function(P,x){var i={}.toString,t=function(s,v){return i.call(s)==="[object "+v+"]"};P.exports=t},function(P,x){var i=function(c){return c!==null&&typeof c!="function"&&isFinite(c.length)};P.exports=i},function(P,x){P.exports={FONT_FAMILY:'BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(4),v=i(190),o=i(36),f=["min","max","median","start","end"],r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return s.mix({},l,{xScales:null,yScales:null,el:null})},a.render=function(){},a.clear=function(){var l=this,h=l.get("el");h&&h.remove(),this.set("el",null)},a.destroy=function(){this.clear(),e.prototype.destroy.call(this)},a.changeVisible=function(l){var h=this;h.set("visible",l);var p=h.get("el");!p||(p.set?p.set("visible",l):p.style.display=l?"":"none")},a.parsePoint=function(l,h){var p=this,d=p.get("xScales"),g=p.get("yScales");s.isFunction(h)&&(h=h(d,g));var y,E;if(s.isArray(h)&&s.isString(h[0])&&h[0].indexOf("%")!==-1)return this._parsePercentPoint(l,h);if(s.isArray(h))y=p._getNormalizedValue(h[0],v.getFirstScale(d)),E=p._getNormalizedValue(h[1],v.getFirstScale(g));else for(var C in h){var m=h[C];d[C]&&(y=p._getNormalizedValue(m,d[C])),g[C]&&(E=p._getNormalizedValue(m,g[C],"y"))}return!s.isNil(y)&&!s.isNil(E)&&!isNaN(y)&&!isNaN(E)?l.convert({x:y,y:E}):null},a._getNormalizedValue=function(l,h){var p;if(s.indexOf(f,l)!==-1){var d;l==="start"?p=0:l==="end"?p=1:l==="median"?(d=h.isCategory?(h.values.length-1)/2:(h.min+h.max)/2,p=h.scale(d)):(h.isCategory?d=l==="min"?0:h.values.length-1:d=h[l],p=h.scale(d))}else p=h.scale(l);return p},a._parsePercentPoint=function(l,h){var p=parseFloat(h[0])/100,d=parseFloat(h[1])/100,g=l.start,y=l.end,E={x:Math.min(g.x,y.x),y:Math.min(g.y,y.y)},C=l.width*p+E.x,m=l.height*d+E.y;return{x:C,y:m}},n}(o);P.exports=r},function(P,x,i){var t=i(112);P.exports=t},function(P,x,i){"use strict";var t=i(85);i.d(x,"a",function(){return t.e}),i.d(x,"f",function(){return t.g}),i.d(x,"d",function(){return t.f});var c=i(241);i.d(x,"e",function(){return c.a}),i.d(x,"c",function(){return c.b});var s=i(242);i.d(x,"b",function(){return s.a})},function(P,x,i){var t=i(10),c=i(3),s=i(22),v=i(6),o=function(){var f=r.prototype;f._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]};function r(e){this._initDefaultCfg(),t(this,e),this.init()}return f.init=function(){},f.getTicks=function(){var n=this,a=n.ticks,u=[];return c(a,function(l){var h;s(l)?h=l:h={text:n.getText(l),tickValue:l,value:n.scale(l)},u.push(h)}),u},f.getText=function(n,a){var u=this.formatter;return n=u?u(n,a):n,(v(n)||!n.toString)&&(n=""),n.toString()},f.rangeMin=function(){return this.range[0]},f.rangeMax=function(){var n=this.range;return n[n.length-1]},f.invert=function(n){return n},f.translate=function(n){return n},f.scale=function(n){return n},f.clone=function(){var n=this,a=n.constructor,u={};return c(n,function(l,h){u[h]=n[h]}),new a(u)},f.change=function(n){return this.ticks=null,t(this,n),this.init(),this},r}();P.exports=o},function(P,x,i){var t=i(0),c=i(25),s=t.PathUtil,v={},o={_coord:null,draw:function(e,n){return this.drawShape?this.drawShape(e,n):null},setCoord:function(e){this._coord=e},parsePath:function(e,n){var a=this._coord;return e=s.parsePathString(e),a.isPolar&&n!==!1?e=c.convertPolarPath(a,e):e=c.convertNormalPath(a,e),e},parsePoint:function(e){var n=this._coord;return n.convertPoint(e)},parsePoints:function(e){var n=this._coord,a=[];return t.each(e,function(u){a.push(n.convertPoint(u))}),a}},f={defaultShapeType:null,setCoord:function(e){this._coord=e},getShape:function(e){var n=this;t.isArray(e)&&(e=e[0]);var a=n[e]||n[n.defaultShapeType];return a._coord=n._coord,a},getShapePoints:function(e,n){var a=this.getShape(e),u=a.getPoints||a.getShapePoints||this.getDefaultPoints,l=u(n);return l},getDefaultPoints:function(){return[]},getMarkerCfg:function(e,n){var a=this.getShape(e);if(!a.getMarkerCfg){var u=this.defaultShapeType;a=this.getShape(u)}return a.getMarkerCfg(n)},getSelectedCfg:function(){return{}},drawShape:function(e,n,a){var u=this.getShape(e),l=u.draw(n,a);return l&&(l.setSilent("origin",n.origin),l._id=n.yIndex?n._id+n.yIndex:n._id,l.name=this.name),l}};v.registerFactory=function(r,e){var n=t.upperFirst(r),a=t.assign({},f,e);return v[n]=a,a.name=r,a},v.registerShape=function(r,e,n){var a=t.upperFirst(r),u=v[a],l=t.assign({},o,n);return u[e]=l,l},v.getShapeFactory=function(r){var e=this;r=r||"point";var n=t.upperFirst(r);return e[n]},P.exports=v},function(P,x){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t=function(s){var v=typeof s=="undefined"?"undefined":i(s);return s!==null&&v==="object"||v==="function"};P.exports=t},function(P,x,i){function t(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function c(C,m){C.prototype=Object.create(m.prototype),C.prototype.constructor=C,s(C,m)}function s(C,m){return s=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b},s(C,m)}var v=i(104),o=i(335),f=i(164),r=i(0),e=i(8),n=i(343),a=i(21),u=i(395),l=i(396),h=i(397),p=i(398),d=["color","shape","size"],g="_origin";function y(C){return(r.isString(C)||r.isPlainObject(C))&&(C=[C]),r.each(C,function(m,M){r.isObject(m)||(C[M]={type:m})}),C}var E=function(C){c(M,C);var m=M.prototype;m.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}};function M(b){var S;return S=C.call(this,b)||this,S.viewTheme=S.get("viewTheme"),r.assign(t(S),u,l,h),S.get("container")&&S._initContainer(),S._initOptions(),S}return m._initOptions=function(){var S=this.get("adjusts");S&&(S=y(S),this.set("adjusts",S))},m._createScale=function(S,A){var T=this.get("scales"),O=T[S];return O||(O=this.get("view").createScale(S,A),T[S]=O),O},m._setAttrOptions=function(S,A){var T=this.get("attrOptions");T[S]=A},m._createAttrOption=function(S,A,T,O){var D={};D.field=A,T?r.isFunction(T)?D.callback=T:D.values=T:S!=="color"&&(D.values=O),this._setAttrOptions(S,D)},m.position=function(S){return this._setAttrOptions("position",{field:S}),this},m.color=function(S,A){var T=this.viewTheme||e;return this._createAttrOption("color",S,A,T.colors),this},m.size=function(S,A){var T=this.viewTheme||e;return this._createAttrOption("size",S,A,T.sizes),this},m.shape=function(S,A){var T=this.viewTheme||e,O=this.get("type"),D=T.shapes[O]||[];return this._createAttrOption("shape",S,A,D),this},m.opacity=function(S,A){var T=this.viewTheme||e;return this._createAttrOption("opacity",S,A,T.opacities),this},m.style=function(S,A){var T=this.get("styleOptions");T||(T={},this.set("styleOptions",T)),r.isObject(S)&&(A=S,S=null);var O;return S&&(O=p(S)),T.fields=O,T.style=A,this},m.label=function(S,A,T){var O=this,D=O.get("labelCfg");D||(D={},O.set("labelCfg",D));var L;return S&&(L=p(S)),D.fields=L,r.isFunction(A)?(T||(T={}),D.callback=A):r.isObject(A)&&(T=A),D.globalCfg=T,this},m.tooltip=function(S,A){var T=this.get("tooltipCfg");if(T||(T={}),S===!1)this.set("tooltipCfg",!1);else{var O;S&&(O=p(S)),T.fields=O,T.cfg=A}return this.set("tooltipCfg",T),this},m.animate=function(S){return this.set("animateCfg",S),this},m.active=function(S,A){return S===!1?this.set("allowActive",!1):r.isObject(S)?(this.set("allowActive",!0),this.set("activedOptions",S)):(this.set("allowActive",!0),this.set("activedOptions",A)),this},m.adjust=function(S){return this.get("hasDefaultAdjust")||(S&&(S=y(S)),this.set("adjusts",S)),this},m.select=function(S,A){return S===!1?this.set("allowSelect",!1):r.isObject(S)?(this.set("allowSelect",!0),this.set("selectedOptions",S)):(this.set("allowSelect",!0),this.set("selectedOptions",A)),this},m.hasAdjust=function(S){var A=this,T=A.get("adjusts");if(!S)return!1;var O=!1;return r.each(T,function(D){if(D.type===S)return O=!0,!1}),O},m.hasStack=function(){var S=this.get("isStacked");return r.isNil(S)&&(S=this.hasAdjust("stack"),this.set("isStacked",S)),S},m.isInCircle=function(){var S=this.get("coord");return S&&S.isPolar},m._initContainer=function(){var S=this,A=S.get("shapeContainer");if(!A){var T=S.get("container"),O=S.get("view"),D=O&&O.get("_id");A=T.addGroup({viewId:D,visible:S.get("visible")}),S.set("shapeContainer",A)}},m.init=function(){var S=this;if(S._initContainer(),S._initAttrs(),S.get("tooltipCfg")&&S.get("tooltipCfg").fields){var A=S.get("tooltipCfg").fields;r.each(A,function(O){S._createScale(O)})}var T=S._processData();S.get("adjusts")&&S._adjust(T),S.set("dataArray",T)},m._initAttrs=function(){var S=this,A=S.get("attrs"),T=S.get("attrOptions"),O=S.get("coord"),D=S.viewTheme||e,L=!1;for(var Z in T)if(T.hasOwnProperty(Z)){var U=T[Z],Y=r.upperFirst(Z),W=p(U.field);Z==="position"&&(U.coord=O,W.length===1&&O.type==="theta"&&(W.unshift("1"),L=!0));for(var J=[],ht=0;ht<W.length;ht++){var nt=W[ht],Q=S._createScale(nt);Z==="color"&&r.isNil(U.values)&&(Q.values.length<=8?U.values=L?D.colors_pie:D.colors:Q.values.length<=16?U.values=L?D.colors_pie_16:D.colors_16:U.values=D.colors_24,r.isNil(U.values)&&(U.values=D.colors)),J.push(Q)}if(O.type==="theta"&&Z==="position"&&J.length>1){var xt=J[1],_t=0,Nt=Math.max.apply(null,xt.values);isFinite(Nt)||(Nt=1),xt.change({nice:!1,min:_t,max:Nt})}U.scales=J;var rt=new v[Y](U);A[Z]=rt}},m._processData=function(){for(var S=this,A=this.get("data"),T=[],O=this._groupData(A),D=0;D<O.length;D++){var L=O[D],Z=S._saveOrigin(L);T.push(S._numberic(Z))}return T},m._groupData=function(S){var A=this._getGroupScales(),T=A.map(function(O){return O.field});return r.Array.group(S,T)},m._saveOrigin=function(S){for(var A=[],T=0;T<S.length;T++){var O=S[T],D={};for(var L in O)D[L]=O[L];D[g]=O,A.push(D)}return A},m._numberic=function(S){for(var A=this.getAttr("position"),T=A.scales,O=[],D=0;D<S.length;D++){for(var L=S[D],Z=!0,U=0;U<Math.min(2,T.length);U++){var Y=T[U];if(Y.isCategory){var W=Y.field;L[W]=Y.translate(L[W]),Number.isNaN(L[W])&&(Z=!1)}}Z&&O.push(L)}return O},m._getGroupScales=function(){var S=this,A=S.get("groupScales");if(!A){A=[];var T=S.get("attrs");r.each(T,function(O){if(d.includes(O.type)){var D=O.scales;r.each(D,function(L){L.isCategory&&r.indexOf(A,L)===-1&&A.push(L)})}}),S.set("groupScales",A)}return A},m._updateStackRange=function(S,A,T){for(var O=r.Array.merge(T),D=A.min,L=A.max,Z=0;Z<O.length;Z++){var U=O[Z];if(!!r.isArray(U[S])){var Y=Math.min.apply(null,U[S]),W=Math.max.apply(null,U[S]);Y<D&&(D=Y),W>L&&(L=W)}}(D<A.min||L>A.max)&&A.change({min:D,max:L})},m._adjust=function(S){if(!(!S||!S.length)){var A=this,T=A.get("adjusts"),O=this.viewTheme||e,D=A.getYScale(),L=A.getXScale(),Z=L.field,U=D?D.field:null;r.each(T,function(Y){var W=r.mix({xField:Z,yField:U},Y),J=r.upperFirst(Y.type);if(J==="Dodge"){var ht=[];if(L.isCategory||L.isIdentity)ht.push("x");else if(!D)ht.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");W.adjustNames=ht,W.dodgeRatio=W.dodgeRatio||O.widthRatio.column}else if(J==="Stack"){var nt=A.get("coord");if(!D){W.height=nt.getHeight();var Q=A.getDefaultValue("size")||3;W.size=Q}!nt.isTransposed&&r.isNil(W.reverseOrder)&&(W.reverseOrder=!0)}var xt=new o[J](W);xt.processAdjust(S),J==="Stack"&&D&&A._updateStackRange(U,D,S)})}},m.setCoord=function(S){this.set("coord",S);var A=this.getAttr("position"),T=this.get("shapeContainer");T.setMatrix(S.matrix),A&&(A.coord=S)},m.paint=function(){var S=this,A=S.get("dataArray"),T=[],O=S.getShapeFactory();O.setCoord(S.get("coord")),S.set("shapeFactory",O);var D=S.get("shapeContainer");S._beforeMapping(A);for(var L=0;L<A.length;L++){var Z=A[L],U=L;Z=S._mapping(Z),T.push(Z),S.draw(Z,D,O,U)}S.get("labelCfg")&&S._addLabels(r.union.apply(null,T),D.get("children")),S.get("sortable")?S.set("dataArray",T):S._sort(T)},m._sort=function(S){var A=this,T=A.getXScale(),O=T.field;r.each(S,function(D){D.sort(function(L,Z){return T.translate(L[g][O])-T.translate(Z[g][O])})}),A.set("dataArray",S)},m._beforeMapping=function(S){var A=this;if(A.get("sortable")){var T=A.getXScale(),O=T.field;r.each(S,function(D){D.sort(function(L,Z){return T.translate(L[O])-T.translate(Z[O])})})}A.get("generatePoints")&&(r.each(S,function(D){A._generatePoints(D)}),r.each(S,function(D,L){var Z=S[L+1];Z&&(D[0].nextPoints=Z[0].points)}))},m._addLabels=function(S,A){var T=this,O=T.get("type"),D=T.get("viewTheme")||e,L=T.get("coord"),Z=n.getLabelsClass(L.type,O),U=T.get("container"),Y=r.map(T.get("labelCfg").fields,function(J){return T._createScale(J)}),W=U.addGroup(Z,{_id:this.get("_id"),labelCfg:r.mix({scales:Y},T.get("labelCfg")),coord:L,geom:T,geomType:O,yScale:T.getYScale(),viewTheme:D,visible:T.get("visible")});W.showLabels(S,A),T.set("labelContainer",W)},m.getShapeFactory=function(){var S=this.get("shapeFactory");if(!S){var A=this.get("shapeType");S=a.getShapeFactory(A),this.set("shapeFactory",S)}return S},m._generatePoints=function(S){for(var A=this,T=A.getShapeFactory(),O=A.getAttr("shape"),D=0;D<S.length;D++){var L=S[D],Z=A.createShapePointsCfg(L),U=O?A._getAttrValues(O,L):null,Y=T.getShapePoints(U,Z);L.points=Y}},m.createShapePointsCfg=function(S){var A=this.getXScale(),T=this.getYScale(),O=this._normalizeValues(S[A.field],A),D;return T?D=this._normalizeValues(S[T.field],T):D=S.y?S.y:.1,{x:O,y:D,y0:T?T.scale(this.getYMinValue()):void 0}},m.getYMinValue=function(){var S=this.getYScale(),A=S.min,T=S.max,O;return A>=0?O=A:T<=0?O=T:O=0,O},m._normalizeValues=function(S,A){var T=[];if(r.isArray(S))for(var O=0;O<S.length;O++){var D=S[O];T.push(A.scale(D))}else T=A.scale(S);return T},m._mapping=function(S){for(var A=this,T=A.get("attrs"),O=[],D=0;D<S.length;D++){var L=S[D],Z={};Z[g]=L[g],Z.points=L.points,Z.nextPoints=L.nextPoints;for(var U in T)if(T.hasOwnProperty(U)){var Y=T[U],W=Y.names,J=A._getAttrValues(Y,L);if(W.length>1)for(var ht=0;ht<J.length;ht++){var nt=J[ht],Q=W[ht];Z[Q]=r.isArray(nt)&&nt.length===1?nt[0]:nt}else Z[W[0]]=J.length===1?J[0]:J}O.push(Z)}return O},m._getAttrValues=function(S,A){for(var T=S.scales,O=[],D=0;D<T.length;D++){var L=T[D],Z=L.field;L.type==="identity"?O.push(L.value):O.push(A[Z])}var U=S.mapping.apply(S,O);return U},m.getAttrValue=function(S,A){var T=this.getAttr(S),O=null;if(T){var D=this._getAttrValues(T,A);O=D[0]}return O},m.getDefaultValue=function(S){var A=this.get(S),T=this.getAttr(S);if(T){var O=T.getScale(S);O.type==="identity"&&(A=O.value)}return A},m.draw=function(S,A,T,O){for(var D=this,L=0;L<S.length;L++){var Z=S[L];D.drawPoint(Z,A,T,O+L)}},m.getCallbackCfg=function(S,A,T){if(!S)return A;var O={},D=S.map(function(L){return T[L]});return r.each(A,function(L,Z){r.isFunction(L)?O[Z]=L.apply(null,D):O[Z]=L}),O},m._getShapeId=function(S){var A=this.get("_id"),T=this.get("keyFields");if(T&&T.length>0)r.each(T,function(ht){A+="-"+S[ht]});else{var O=this.get("type"),D=this.getXScale(),L=this.getYScale(),Z=D.field||"x",U=L.field||"y",Y=S[U],W;D.isIdentity?W=D.value:W=S[Z],O==="interval"||O==="schema"?A+="-"+W:O==="line"||O==="area"||O==="path"?A+="-"+O:A+="-"+W+"-"+Y;var J=this._getGroupScales();r.isEmpty(J)||r.each(J,function(ht){var nt=ht.field;ht.type!=="identity"&&(A+="-"+S[nt])})}return A},m.getDrawCfg=function(S){var A=this,T={origin:S,x:S.x,y:S.y,color:S.color,size:S.size,shape:S.shape,isInCircle:A.isInCircle(),opacity:S.opacity},O=A.get("styleOptions");return O&&O.style&&(T.style=A.getCallbackCfg(O.fields,O.style,S[g])),A.get("generatePoints")&&(T.points=S.points,T.nextPoints=S.nextPoints),A.get("animate")&&(T._id=A._getShapeId(S[g])),T},m.appendShapeInfo=function(S,A){S&&(S.setSilent("index",A),S.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&S.setSilent("animateCfg",this.get("animateCfg")))},m._applyViewThemeShapeStyle=function(S,A,T){var O=this,D=O.viewTheme||e,L=T.name;A?A&&(A.indexOf("hollow")>-1||A.indexOf("liquid")>-1)&&(L="hollow"+r.upperFirst(L)):T.defaultShapeType.indexOf("hollow")>-1&&(L="hollow"+r.upperFirst(L));var Z=D.shape[L]||{};S.style=r.mix({},Z,S.style)},m.drawPoint=function(S,A,T,O){var D=this,L=S.shape,Z=D.getDrawCfg(S);D._applyViewThemeShapeStyle(Z,L,T);var U=T.drawShape(L,Z,A);D.appendShapeInfo(U,O)},m.getAttr=function(S){return this.get("attrs")[S]},m.getXScale=function(){return this.getAttr("position").scales[0]},m.getYScale=function(){return this.getAttr("position").scales[1]},m.getShapes=function(){var S=[],A=this.get("shapeContainer"),T=A.get("children");return r.each(T,function(O){O.get("origin")&&S.push(O)}),S},m.getAttrsForLegend=function(){var S=this.get("attrs"),A=[];return r.each(S,function(T){d.includes(T.type)&&A.push(T)}),A},m.getFieldsForLegend=function(){var S=[],A=this.get("attrOptions");return r.each(d,function(T){var O=A[T];O&&O.field&&r.isString(O.field)&&(S=S.concat(O.field.split("*")))}),r.uniq(S)},m.changeVisible=function(S,A){var T=this;T.set("visible",S);var O=this.get("shapeContainer");O&&O.set("visible",S);var D=this.get("labelContainer");if(D&&D.set("visible",S),!A&&O){var L=O.get("canvas");L.draw()}},m.reset=function(){this.set("attrOptions",{}),this.clearInner()},m.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var S=this.get("shapeContainer");S&&S.clear();var A=this.get("labelContainer");A&&A.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},m.clear=function(){this.clearInner(),this.set("scales",{})},m.destroy=function(){this.clear();var S=this.get("shapeContainer");S&&S.remove(),this.offEvents(),C.prototype.destroy.call(this)},m.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},m.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},M}(f);P.exports=E},function(P,x,i){P.exports={Axis:i(344),Component:i(92),Guide:i(372),Label:i(381),Legend:i(382),Tooltip:i(388)}},function(P,x,i){var t=i(0),c=i(392);function s(n,a){if(!n.length)return[];for(var u=[],l=0,h=n.length;l<h;l++){var p=n[l];l===0?u.push(["M",p.x,p.y]):u.push(["L",p.x,p.y])}return a&&u.push(["Z"]),u}function v(n,a){var u=n.getCenter(),l=Math.sqrt(Math.pow(a.x-u.x,2)+Math.pow(a.y-u.y,2));return l}function o(n,a){for(var u=n.length,l=[n[0]],h=1;h<u;h=h+2){var p=a.convertPoint({x:n[h],y:n[h+1]});l.push(p.x,p.y)}return l}function f(n,a,u){var l=u.isTransposed,h=u.startAngle,p=u.endAngle,d={x:n[1],y:n[2]},g={x:a[1],y:a[2]},y=[],E=l?"y":"x",C=Math.abs(g[E]-d[E])*(p-h),m=g[E]>=d[E]?1:0,M=C>Math.PI?1:0,b=u.convertPoint(g),S=v(u,b);if(S>=.5)if(C===Math.PI*2){var A={x:(g.x+d.x)/2,y:(g.y+d.y)/2},T=u.convertPoint(A);y.push(["A",S,S,0,M,m,T.x,T.y]),y.push(["A",S,S,0,M,m,b.x,b.y])}else y.push(["A",S,S,0,M,m,b.x,b.y]);return y}function r(n){t.each(n,function(a,u){var l=a;if(l[0].toLowerCase()==="a"){var h=n[u-1],p=n[u+1];p&&p[0].toLowerCase()==="a"?h&&h[0].toLowerCase()==="l"&&(h[0]="M"):h&&h[0].toLowerCase()==="a"&&p&&p[0].toLowerCase()==="l"&&(p[0]="M")}})}var e={getLinePath:function(a,u){return s(a,u)},getSplinePath:function(a,u,l){var h=[],p=a[0],d=null;if(a.length<=2)return e.getLinePath(a,u);t.each(a,function(y){(!d||!(d.x===y.x&&d.y===y.y))&&(h.push(y.x),h.push(y.y),d=y)}),l=l||[[0,0],[1,1]];var g=c.catmullRom2bezier(h,u,l);return g.unshift(["M",p.x,p.y]),g},getPointRadius:function(a,u){var l=v(a,u);return l},getPointAngle:function(a,u){var l=a.getCenter(),h=Math.atan2(u.y-l.y,u.x-l.x);return h},convertNormalPath:function(a,u){var l=[];return t.each(u,function(h){var p=h[0];switch(p.toLowerCase()){case"m":case"l":case"c":l.push(o(h,a));break;case"z":default:l.push(h);break}}),l},convertPolarPath:function(a,u){var l=[],h,p,d,g;return t.each(u,function(y,E){var C=y[0];switch(C.toLowerCase()){case"m":case"c":case"q":l.push(o(y,a));break;case"l":h=u[E-1],p=y,d=a.isTransposed,g=d?h[h.length-2]===p[1]:h[h.length-1]===p[2],g?l=l.concat(f(h,p,a)):l.push(o(y,a));break;case"z":default:l.push(y);break}}),r(l),l}};P.exports=e},function(P,x,i){var t=i(6);function c(s){return t(s)?"":s.toString()}P.exports=c},function(P,x,i){var t=i(28),c=i(5),s=5;function v(f,r,e,n){e=e||0,n=n||s;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u!==null&&t(u)?(t(f[a])||(f[a]={}),e<n?v(f[a],u,e+1,n):f[a]=r[a]):c(u)?(f[a]=[],f[a]=f[a].concat(u)):u!==void 0&&(f[a]=u)}}var o=function(){for(var r=new Array(arguments.length),e=r.length,n=0;n<e;n++)r[n]=arguments[n];for(var a=r[0],u=1;u<e;u++)v(a,r[u]);return a};P.exports=o},function(P,x,i){var t=i(63),c=i(14),s=function(o){if(!t(o)||!c(o,"Object"))return!1;if(Object.getPrototypeOf(o)===null)return!0;for(var f=o;Object.getPrototypeOf(f)!==null;)f=Object.getPrototypeOf(f);return Object.getPrototypeOf(o)===f};P.exports=s},function(P,x,i){var t=i(15);function c(s){return t(s)?Array.prototype.slice.call(s):[]}P.exports=c},function(P,x){var i=1e-5;P.exports=function(c,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;return Math.abs(c-s)<v}},function(P,x,i){var t=i(1),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig;P.exports={parseRadius:function(o){var f=0,r=0,e=0,n=0;return t.isArray(o)?o.length===1?f=r=e=n=o[0]:o.length===2?(f=e=o[0],r=n=o[1]):o.length===3?(f=o[0],r=n=o[1],e=o[2]):(f=o[0],r=o[1],e=o[2],n=o[3]):f=r=e=n=o,{r1:f,r2:r,r3:e,r4:n}},parsePath:function(o){if(o=o||[],t.isArray(o))return o;if(t.isString(o))return o=o.match(c),t.each(o,function(f,r){if(f=f.match(s),f[0].length>1){var e=f[0].charAt(0);f.splice(1,0,f[0].substr(1)),f[0]=e}t.each(f,function(n,a){isNaN(n)||(f[a]=+n)}),o[r]=f}),o}}},function(P,x,i){"use strict";x.c=v,x.b=o,x.a=f;var t=i(137);function c(r,e){return function(n){return r+n*e}}function s(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function v(r,e){var n=e-r;return n?c(r,n>180||n<-180?n-360*Math.round(n/360):n):Object(t.a)(isNaN(r)?e:r)}function o(r){return(r=+r)==1?f:function(e,n){return n-e?s(e,n,r):Object(t.a)(isNaN(e)?n:e)}}function f(r,e){var n=e-r;return n?c(r,n):Object(t.a)(isNaN(r)?e:r)}},function(P,x,i){var t=i(12),c=i(5),s=i(6),v=i(10),o=i(3);function f(e,n){return t(n)?n:e.invert(e.scale(n))}var r=function(){function e(a){var u=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var l=null,h=this.callback;if(a.callback){var p=a.callback;l=function(){for(var g=arguments.length,y=new Array(g),E=0;E<g;E++)y[E]=arguments[E];var C=p.apply(void 0,y);return s(C)&&(C=h.apply(u,y)),C}}v(this,a),l&&v(this,{callback:l})}var n=e.prototype;return n._getAttrValue=function(u,l){var h=this.values;if(u.isCategory&&!this.linear){var p=u.translate(l);return h[p%h.length]}var d=u.scale(l);return this.getLinearValue(d)},n.getLinearValue=function(u){var l=this.values,h=l.length-1,p=Math.floor(h*u),d=h*u-p,g=l[p],y=p===h?g:l[p+1],E=g+(y-g)*d;return E},n.callback=function(u){var l=this,h=l.scales[0],p=null;return h.type==="identity"?p=h.value:p=l._getAttrValue(h,u),p},n.getNames=function(){for(var u=this.scales,l=this.names,h=Math.min(u.length,l.length),p=[],d=0;d<h;d++)p.push(l[d]);return p},n.getFields=function(){var u=this.scales,l=[];return o(u,function(h){l.push(h.field)}),l},n.getScale=function(u){var l=this.scales,h=this.names,p=h.indexOf(u);return l[p]},n.mapping=function(){for(var u=this.scales,l=this.callback,h=arguments.length,p=new Array(h),d=0;d<h;d++)p[d]=arguments[d];var g=p;if(l){for(var y=0,E=p.length;y<E;y++)p[y]=this._toOriginParam(p[y],u[y]);g=l.apply(this,p)}return g=[].concat(g),g},n._toOriginParam=function(u,l){var h=u;if(!l.isLinear)if(c(u)){h=[];for(var p=0,d=u.length;p<d;p++)h.push(f(l,u[p]))}else h=f(l,u);return h},e}();P.exports=r},function(P,x,i){var t=i(10),c=function(){var s=v.prototype;s._initDefaultCfg=function(){this.adjustNames=["x","y"]};function v(o){this._initDefaultCfg(),t(this,o)}return s.processAdjust=function(){},v}();P.exports=c},function(P,x,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(36),v=i(4),o=i(187),f=i(188),r=i(16),e=r.FONT_FAMILY,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return v.mix({},p,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},l.beforeRender=function(){var p=this,d=p.get("title"),g=p.get("label"),y=p.get("grid");d&&p.set("title",v.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:e,textAlign:"center"},offset:48},d)),g&&p.set("label",v.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:e},offset:10},g)),y&&p.set("grid",v.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},y))},l.render=function(){var p=this;p.beforeRender();var d=p.get("label");d&&p.renderLabels(),p.get("autoPaint")&&p.paint(),v.isNil(p.get("title"))||p.renderTitle(),p.get("group").sort()},l.renderLabels=function(){var p=this,d=p.get("group"),g=p.get("label"),y=new f({name:"axis-label"});p.set("labelRenderer",y),y.set("labelCfg",g);var E=["formatter","htmlTemplate","labelLine","textStyle","useHtml"];v.each(E,function(C){g[C]&&y.set(C,g[C])}),y.set("coord",p.get("coord")),y.set("group",d.addGroup()),y.set("canvas",p.get("canvas"))},l._parseTicks=function(p){p=p||[];for(var d=p.length,g=0;g<d;g++){var y=p[g];v.isObject(y)||(p[g]=this.parseTick(y,g,d))}return this.set("ticks",p),p},l._addTickItem=function(p,d,g,y){y===void 0&&(y="");var E=this.get("tickItems"),C=this.get("subTickItems"),m=this.getTickEnd(d,g,p),M={x1:d.x,y1:d.y,x2:m.x,y2:m.y};E||(E=[]),C||(C=[]),y==="sub"?C.push(M):E.push(M),this.set("tickItems",E),this.set("subTickItems",C)},l._renderLine=function(){var p=this,d=p.get("line"),g;if(d){g=p.getLinePath(),d=v.mix({path:g},d);var y=p.get("group"),E=y.addShape("path",{attrs:d});E.name="axis-line",p.get("appendInfo")&&E.setSilent("appendInfo",p.get("appendInfo")),p.set("lineShape",E)}},l._processCatTicks=function(){var p=this,d=p.get("label"),g=p.get("tickLine"),y=p.get("ticks");y=p._parseTicks(y);for(var E=p._getNormalizedTicks(y),C=0;C<E.length;C+=3){var m=p.getTickPoint(E[C]),M=p.getTickPoint(E[C+1]),b=p.getTickPoint(E[C+2]),S=Math.floor(C/3),A=y[S];g&&(S===0&&p._addTickItem(S,M,g.length),p._addTickItem(S,b,g.length)),d&&p.addLabel(A,m,S)}},l._getNormalizedTicks=function(p){var d=0;p.length>1&&(d=(p[1].value-p[0].value)/2);for(var g=[],y=0;y<p.length;y++){var E=p[y],C=E.value,m=E.value-d,M=E.value+d;g.push(C,m,M)}var b=v.arrayUtil.getRange(g);return g.map(function(S){var A=(S-b.min)/(b.max-b.min);return A})},l.addLabel=function(p,d,g){var y=this,E=y.get("labelItems"),C=y.get("labelRenderer"),m=v.deepMix({},y.get("label")),M;if(C){var b=y.get("_labelOffset");v.isNil(y.get("label").offset)||(b=y.get("label").offset);var S=y.getSideVector(b,d,g);d={x:d.x+S[0]+m.offsetX,y:d.y+S[1]+m.offsetY},m.text=p.text,m.x=d.x,m.y=d.y,m.point=d,m.textAlign=y.getTextAnchor(S),d.rotate&&(m.rotate=d.rotate),E.push(m)}return M},l._processTicks=function(){var p=this,d=p.get("label"),g=p.get("subTickCount"),y=p.get("tickLine"),E=p.get("ticks");if(E=p._parseTicks(E),v.each(E,function(m,M){var b=p.getTickPoint(m.value,M);y&&p._addTickItem(M,b,y.length),d&&p.addLabel(m,b,M)}),g){var C=p.get("subTickLine");v.each(E,function(m,M){if(M>0){var b=m.value-E[M-1].value;b=b/(p.get("subTickCount")+1);for(var S=1;S<=g;S++){var A={text:"",value:M?E[M-1].value+S*b:S*b},T=p.getTickPoint(A.value),O=void 0;C&&C.length?O=C.length:O=parseInt(y.length*(3/5),10),p._addTickItem(S-1,T,O,"sub")}}})}},l._addTickLine=function(p,d){var g=this,y=v.mix({},d),E=[];v.each(p,function(M){E.push(["M",M.x1,M.y1]),E.push(["L",M.x2,M.y2])}),delete y.length,y.path=E;var C=g.get("group"),m=C.addShape("path",{attrs:y});m.name="axis-ticks",m._id=g.get("_id")+"-ticks",m.set("coord",g.get("coord")),g.get("appendInfo")&&m.setSilent("appendInfo",g.get("appendInfo"))},l._renderTicks=function(){var p=this,d=p.get("tickItems"),g=p.get("subTickItems");if(!v.isEmpty(d)){var y=p.get("tickLine");p._addTickLine(d,y)}if(!v.isEmpty(g)){var E=p.get("subTickLine")||p.get("tickLine");p._addTickLine(g,E)}},l._renderGrid=function(){var p=this.get("grid");if(!!p){p.coord=this.get("coord"),p.appendInfo=this.get("appendInfo");var d=this.get("group");this.set("gridGroup",d.addGroup(o,p))}},l._renderLabels=function(){var p=this,d=p.get("labelRenderer"),g=p.get("labelItems");d&&(d.set("items",g),d._dryDraw())},l.paint=function(){var p=this,d=p.get("tickLine"),g=!0;d&&d.hasOwnProperty("alignWithLabel")&&(g=d.alignWithLabel),p._renderLine();var y=p.get("type"),E=y==="cat"||y==="timeCat";E&&g===!1?p._processCatTicks():p._processTicks(),p._renderTicks(),p._renderGrid(),p._renderLabels();var C=this.get("label");C&&C.autoRotate&&p.autoRotateLabels(),C&&C.autoHide&&p.autoHideLabels()},l.parseTick=function(p,d,g){return{text:p,value:d/(g-1)}},l.getTextAnchor=function(p){var d=Math.abs(p[1]/p[0]),g;return d>=1?g="center":p[0]>0?g="start":g="end",g},l.getMaxLabelWidth=function(p){var d=p.getLabels(),g=0;return v.each(d,function(y){var E=y.getBBox(),C=E.width;g<C&&(g=C)}),g},l.getMaxLabelHeight=function(p){var d=p.getLabels(),g=0;return v.each(d,function(y){var E=y.getBBox(),C=E.height;g<C&&(g=C)}),g},l.destroy=function(){var p=this;if(!p.destroyed){var d=p.get("gridGroup");d&&d.remove();var g=this.get("labelRenderer");g&&g.destroy();var y=p.get("group");y.destroy(),a.prototype.destroy.call(this)}},l.clear=function(){var p=this,d=p.get("group");if(!d.get("destroyed")&&d.get("children").length){var g=p.get("gridGroup");g&&g.clear();var y=this.get("labelRenderer");y&&y.clear();var E=p.get("group");E.clear()}},l.autoRotateLabels=function(){},l.autoHideLabels=function(){},l.renderTitle=function(){},l.getLinePath=function(){},l.getTickPoint=function(){},l.getTickEnd=function(){},l.getSideVector=function(){},u}(s);P.exports=n},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(92),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},r._init=function(){},r.clear=function(){},r.destroy=function(){o.prototype.destroy.call(this)},r.beforeRender=function(){},r.render=function(){},r.afterRender=function(){},r.beforeDraw=function(){},r.draw=function(){},r.afterDraw=function(){},r.show=function(){},r.hide=function(){},r.setOffset=function(){},r.setPosition=function(){},r.setVisible=function(){},r.setZIndex=function(){},f}(s);P.exports=v},function(P,x,i){var t=i(2),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v={};P.exports={parseRadius:function(f){var r=0,e=0,n=0,a=0;return t.isArray(f)?f.length===1?r=e=n=a=f[0]:f.length===2?(r=n=f[0],e=a=f[1]):f.length===3?(r=f[0],e=a=f[1],n=f[2]):(r=f[0],e=f[1],n=f[2],a=f[3]):r=e=n=a=f,{r1:r,r2:e,r3:n,r4:a}},parsePath:function(f){if(f=f||[],t.isArray(f))return f;if(t.isString(f))return f=f.match(c),t.each(f,function(r,e){if(r=r.match(s),r[0].length>1){var n=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=n}t.each(r,function(a,u){isNaN(a)||(r[u]=+a)}),f[e]=r}),f},numberToColor:function(f){var r=v[f];if(!r){for(var e=f.toString(16),n=e.length;n<6;n++)e="0"+e;r="#"+e,v[f]=r}return r}}},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(6),s=i(3),v=i(20),o=i(208),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){r.prototype._initDefaultCfg.call(this);var u=this;u.type="linear",u.isLinear=!0,u.nice=!1,u.min=null,u.minLimit=null,u.max=null,u.maxLimit=null,u.tickCount=null,u.tickInterval=null,u.minTickInterval=null,u.snapArray=null},n.init=function(){var u=this;if(!u.ticks)u.min=u.translate(u.min),u.max=u.translate(u.max),u.initTicks();else{var l=u.ticks,h=u.translate(l[0]),p=u.translate(l[l.length-1]);(c(u.min)||u.min>h)&&(u.min=h),(c(u.max)||u.max<p)&&(u.max=p)}},n.calculateTicks=function(){var u=this.min,l=this.max,h=this.minLimit,p=this.maxLimit,d=this.tickCount,g=this.tickInterval,y=this.minTickInterval,E=this.snapArray;if(d===1)throw new Error("linear scale'tickCount should not be 1");if(l<u)throw new Error("max: "+l+" should not be less than min: "+u);var C=o({min:u,max:l,minLimit:h,maxLimit:p,minCount:d,maxCount:d,interval:g,minTickInterval:y,snapArray:E});return C.ticks},n.initTicks=function(){var u=this,l=u.calculateTicks();if(u.nice)u.ticks=l,u.min=l[0],u.max=l[l.length-1];else{var h=[];s(l,function(p){p>=u.min&&p<=u.max&&h.push(p)}),h.length||(h.push(u.min),h.push(u.max)),u.ticks=h}},n.scale=function(u){if(c(u))return NaN;var l=this.max,h=this.min;if(l===h)return 0;var p=(u-h)/(l-h),d=this.rangeMin(),g=this.rangeMax();return d+p*(g-d)},n.invert=function(u){var l=(u-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+l*(this.max-this.min)},e}(v);v.Linear=f,P.exports=f},function(P,x,i){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c=i(5),s=function v(o){if((typeof o=="undefined"?"undefined":t(o))!=="object"||o===null)return o;var f=void 0;if(c(o)){f=[];for(var r=0,e=o.length;r<e;r++)t(o[r])==="object"&&o[r]!=null?f[r]=v(o[r]):f[r]=o[r]}else{f={};for(var n in o)t(o[n])==="object"&&o[n]!=null?f[n]=v(o[n]):f[n]=o[n]}return f};P.exports=s},function(P,x,i){var t=i(63),c=i(15),s=i(12),v=function o(f,r){if(f===r)return!0;if(!f||!r||s(f)||s(r))return!1;if(c(f)||c(r)){if(f.length!==r.length)return!1;for(var e=!0,n=0;n<f.length&&(e=o(f[n],r[n]),!!e);n++);return e}if(t(f)||t(r)){var a=Object.keys(f),u=Object.keys(r);if(a.length!==u.length)return!1;for(var l=!0,h=0;h<a.length&&(l=o(f[a[h]],r[a[h]]),!!l);h++);return l}return!1};P.exports=v},function(P,x){var i=function(c,s,v){return c<s?s:c>v?v:c};P.exports=i},function(P,x,i){var t=i(218);t.translate=function(c,s,v){var o=new Array(9);return t.fromTranslation(o,v),t.multiply(c,o,s)},t.rotate=function(c,s,v){var o=new Array(9);return t.fromRotation(o,v),t.multiply(c,o,s)},t.scale=function(c,s,v){var o=new Array(9);return t.fromScaling(o,v),t.multiply(c,o,s)},P.exports=t},function(P,x,i){var t=i(1).vec2;P.exports={at:function(s,v,o){return(v-s)*o+s},pointDistance:function(s,v,o,f,r,e){var n=[o-s,f-v];if(t.exactEquals(n,[0,0]))return NaN;var a=[-n[1],n[0]];t.normalize(a,a);var u=[r-s,e-v];return Math.abs(t.dot(u,a))},box:function(s,v,o,f,r){var e=r/2,n=Math.min(s,o),a=Math.max(s,o),u=Math.min(v,f),l=Math.max(v,f);return{minX:n-e,minY:u-e,maxX:a+e,maxY:l+e}},len:function(s,v,o,f){return Math.sqrt((o-s)*(o-s)+(f-v)*(f-v))}}},function(P,x,i){var t=i(1);function c(r,e,n,a){return{x:Math.cos(a)*n+r,y:Math.sin(a)*n+e}}function s(r,e,n,a){var u,l;return a?r<e?(u=e-r,l=Math.PI*2-n+r):r>n&&(u=Math.PI*2-r+e,l=r-n):(u=r-e,l=n-r),u>l?n:e}function v(r,e,n,a){var u=0;return n-e>=Math.PI*2&&(u=Math.PI*2),e=t.mod(e,Math.PI*2),n=t.mod(n,Math.PI*2)+u,r=t.mod(r,Math.PI*2),a?e>=n?r>n&&r<e?r:s(r,n,e,!0):r<e||r>n?r:s(r,e,n):e<=n?e<r&&r<n?r:s(r,e,n,!0):r>e||r<n?r:s(r,n,e)}function o(r,e,n,a,u,l,h,p,d){var g=[h,p],y=[r,e],E=[1,0],C=t.vec2.subtract([],g,y),m=t.vec2.angleTo(E,C);m=v(m,a,u,l);var M=[n*Math.cos(m)+r,n*Math.sin(m)+e];d&&(d.x=M[0],d.y=M[1]);var b=t.vec2.distance(M,g);return b}function f(r,e,n,a,u,l){var h=0,p=Math.PI/2,d=Math.PI,g=Math.PI*3/2,y=[],E=v(h,a,u,l);E===h&&y.push(c(r,e,n,h)),E=v(p,a,u,l),E===p&&y.push(c(r,e,n,p)),E=v(d,a,u,l),E===d&&y.push(c(r,e,n,d)),E=v(g,a,u,l),E===g&&y.push(c(r,e,n,g)),y.push(c(r,e,n,a)),y.push(c(r,e,n,u));var C=Infinity,m=-Infinity,M=Infinity,b=-Infinity;return t.each(y,function(S){C>S.x&&(C=S.x),m<S.x&&(m=S.x),M>S.y&&(M=S.y),b<S.y&&(b=S.y)}),{minX:C,minY:M,maxX:m,maxY:b}}P.exports={nearAngle:v,projectPoint:function(e,n,a,u,l,h,p,d){var g={};return o(e,n,a,u,l,h,p,d,g),g},pointDistance:o,box:f}},function(P,x,i){var t=i(31),c=i(46),s=Math.PI,v=Math.sin,o=Math.cos,f=Math.atan2,r=10,e=s/3;function n(h,p,d,g,y,E,C){var m,M,b,S,A,T,O;if(!p.fill){var D=p.arrowLength||r,L=p.arrowAngle?p.arrowAngle*s/180:e;O=f(g-E,d-y),A=Math.abs(p.lineWidth*o(O))/2,T=Math.abs(p.lineWidth*v(O))/2,C&&(A=-A,T=-T),m=y+D*o(O+L/2),M=E+D*v(O+L/2),b=y+D*o(O-L/2),S=E+D*v(O-L/2),h.beginPath(),h.moveTo(m-A,M-T),h.lineTo(y-A,E-T),h.lineTo(b-A,S-T),h.moveTo(y-A,E-T),h.lineTo(y+A,E+T),h.moveTo(y,E),h.stroke()}}function a(h){var p=[],d=t.parsePath(h.path),g;if(!Array.isArray(d)||d.length===0||d[0][0]!=="M"&&d[0][0]!=="m")return!1;for(var y=d.length,E=0;E<d.length;E++){var C=d[E];g=new c(C,g,E===y-1),p.push(g)}return p}function u(h,p,d,g,y){var E=Math.atan2(g-p,d-h);return{dx:o(E)*y,dy:v(E)*y}}function l(h,p,d,g,y,E,C){var m=C?p.startArrow:p.endArrow,M=m.d,b=y-d,S=E-g,A=Math.atan2(S,b),T=a(m);if(!!T){M&&(y=y-o(A)*M,E=E-v(A)*M),h.save(),h.beginPath(),h.translate(y,E),h.rotate(A);for(var O=0;O<T.length;O++)T[O].draw(h);h.setTransform(1,0,0,1,0,0),h.fillStyle=h.strokeStyle,h.fill(),h.restore()}}P.exports={addStartArrow:function(p,d,g,y,E,C){typeof d.startArrow=="object"?l(p,d,g,y,E,C,!0):d.startArrow&&n(p,d,g,y,E,C,!0)},addEndArrow:function(p,d,g,y,E,C){typeof d.endArrow=="object"?l(p,d,g,y,E,C,!1):d.endArrow&&n(p,d,g,y,E,C,!1)},getShortenOffset:u}},function(P,x,i){var t=i(1),c=i(79),s=i(80),v=i(118),o=i(119),f=t.vec3,r=t.mat3,e=["m","l","c","a","q","h","v","t","s","z"];function n(g,y,E){return{x:E.x+g,y:E.y+y}}function a(g,y){return{x:y.x+(y.x-g.x),y:y.y+(y.y-g.y)}}function u(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function l(g,y){return(g[0]*y[0]+g[1]*y[1])/(u(g)*u(y))}function h(g,y){return(g[0]*y[1]<g[1]*y[0]?-1:1)*Math.acos(l(g,y))}function p(g,y,E,C,m,M,b){var S=t.mod(t.toRadian(b),Math.PI*2),A=g.x,T=g.y,O=y.x,D=y.y,L=Math.cos(S)*(A-O)/2+Math.sin(S)*(T-D)/2,Z=-1*Math.sin(S)*(A-O)/2+Math.cos(S)*(T-D)/2,U=L*L/(m*m)+Z*Z/(M*M);U>1&&(m*=Math.sqrt(U),M*=Math.sqrt(U));var Y=m*m*(Z*Z)+M*M*(L*L),W=Math.sqrt((m*m*(M*M)-Y)/Y);E===C&&(W*=-1),isNaN(W)&&(W=0);var J=W*m*Z/M,ht=W*-M*L/m,nt=(A+O)/2+Math.cos(S)*J-Math.sin(S)*ht,Q=(T+D)/2+Math.sin(S)*J+Math.cos(S)*ht,xt=h([1,0],[(L-J)/m,(Z-ht)/M]),_t=[(L-J)/m,(Z-ht)/M],Nt=[(-1*L-J)/m,(-1*Z-ht)/M],rt=h(_t,Nt);return l(_t,Nt)<=-1&&(rt=Math.PI),l(_t,Nt)>=1&&(rt=0),C===0&&rt>0&&(rt=rt-2*Math.PI),C===1&&rt<0&&(rt=rt+2*Math.PI),[g,nt,Q,m,M,xt,rt,S,C]}var d=function(y,E,C){this.preSegment=E,this.isLast=C,this.init(y,E)};t.augment(d,{init:function(y,E){var C=y[0];E=E||{endPoint:{x:0,y:0}};var m=e.indexOf(C)>=0,M=m?C.toUpperCase():C,b=y,S,A,T,O,D=E.endPoint,L=b[1],Z=b[2];switch(M){default:break;case"M":m?O=n(L,Z,D):O={x:L,y:Z},this.command="M",this.params=[D,O],this.subStart=O,this.endPoint=O;break;case"L":m?O=n(L,Z,D):O={x:L,y:Z},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"H":m?O=n(L,0,D):O={x:L,y:D.y},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"V":m?O=n(0,L,D):O={x:D.x,y:L},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"Q":m?(S=n(L,Z,D),A=n(b[3],b[4],D)):(S={x:L,y:Z},A={x:b[3],y:b[4]}),this.command="Q",this.params=[D,S,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-S.x,A.y-S.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]};break;case"T":m?A=n(L,Z,D):A={x:L,y:Z},E.command==="Q"?(S=a(E.params[1],D),this.command="Q",this.params=[D,S,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-S.x,A.y-S.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]}):(this.command="TL",this.params=[D,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-D.x,A.y-D.y]},this.startTangent=function(){return[D.x-A.x,D.y-A.y]});break;case"C":m?(S=n(L,Z,D),A=n(b[3],b[4],D),T=n(b[5],b[6],D)):(S={x:L,y:Z},A={x:b[3],y:b[4]},T={x:b[5],y:b[6]}),this.command="C",this.params=[D,S,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]};break;case"S":m?(A=n(L,Z,D),T=n(b[3],b[4],D)):(A={x:L,y:Z},T={x:b[3],y:b[4]}),E.command==="C"?(S=a(E.params[2],D),this.command="C",this.params=[D,S,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]}):(this.command="SQ",this.params=[D,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-A.x,D.y-A.y]});break;case"A":{var U=L,Y=Z,W=b[3],J=b[4],ht=b[5];m?O=n(b[6],b[7],D):O={x:b[6],y:b[7]},this.command="A";var nt=p(D,O,J,ht,U,Y,W);this.params=nt;var Q=E.subStart;this.subStart=Q,this.endPoint=O;var xt=nt[5]%(Math.PI*2);t.isNumberEqual(xt,Math.PI*2)&&(xt=0);var _t=nt[6]%(Math.PI*2);t.isNumberEqual(_t,Math.PI*2)&&(_t=0);var Nt=.001;this.startTangent=function(){ht===0&&(Nt*=-1);var rt=nt[3]*Math.cos(xt-Nt)+nt[1],q=nt[4]*Math.sin(xt-Nt)+nt[2];return[rt-Q.x,q-Q.y]},this.endTangent=function(){var rt=nt[6];rt-Math.PI*2<1e-4&&(rt=0);var q=nt[3]*Math.cos(xt+rt+Nt)+nt[1],G=nt[4]*Math.sin(xt+rt-Nt)+nt[2];return[D.x-q,D.y-G]};break}case"Z":this.command="Z",this.params=[D,E.subStart],this.subStart=E.subStart,this.endPoint=E.subStart}},isInside:function(y,E,C){var m=this,M=m.command,b=m.params,S=m.box;if(S&&!c.box(S.minX,S.maxX,S.minY,S.maxY,y,E))return!1;switch(M){default:break;case"M":return!1;case"TL":case"L":case"Z":return c.line(b[0].x,b[0].y,b[1].x,b[1].y,C,y,E);case"SQ":case"Q":return c.quadraticline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,C,y,E);case"C":return c.cubicline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,C,y,E);case"A":{var A=b,T=A[1],O=A[2],D=A[3],L=A[4],Z=A[5],U=A[6],Y=A[7],W=A[8],J=D>L?D:L,ht=D>L?1:D/L,nt=D>L?L/D:1;A=[y,E,1];var Q=[1,0,0,0,1,0,0,0,1];return r.translate(Q,Q,[-T,-O]),r.rotate(Q,Q,-Y),r.scale(Q,Q,[1/ht,1/nt]),f.transformMat3(A,A,Q),c.arcline(0,0,J,Z,Z+U,1-W,C,A[0],A[1])}}return!1},draw:function(y){var E=this.command,C=this.params,m,M,b;switch(E){default:break;case"M":y.moveTo(C[1].x,C[1].y);break;case"TL":case"L":y.lineTo(C[1].x,C[1].y);break;case"SQ":case"Q":m=C[1],M=C[2],y.quadraticCurveTo(m.x,m.y,M.x,M.y);break;case"C":m=C[1],M=C[2],b=C[3],y.bezierCurveTo(m.x,m.y,M.x,M.y,b.x,b.y);break;case"A":{var S=C,A=S[1],T=S[2],O=A,D=T,L=S[3],Z=S[4],U=S[5],Y=S[6],W=S[7],J=S[8],ht=L>Z?L:Z,nt=L>Z?1:L/Z,Q=L>Z?Z/L:1;y.translate(O,D),y.rotate(W),y.scale(nt,Q),y.arc(0,0,ht,U,U+Y,1-J),y.scale(1/nt,1/Q),y.rotate(-W),y.translate(-O,-D);break}case"Z":y.closePath();break}},shortenDraw:function(y,E,C){var m=this.command,M=this.params,b,S,A;switch(m){default:break;case"M":y.moveTo(M[1].x-E,M[1].y-C);break;case"TL":case"L":y.lineTo(M[1].x-E,M[1].y-C);break;case"SQ":case"Q":b=M[1],S=M[2],y.quadraticCurveTo(b.x,b.y,S.x-E,S.y-C);break;case"C":b=M[1],S=M[2],A=M[3],y.bezierCurveTo(b.x,b.y,S.x,S.y,A.x-E,A.y-C);break;case"A":{var T=M,O=T[1],D=T[2],L=O,Z=D,U=T[3],Y=T[4],W=T[5],J=T[6],ht=T[7],nt=T[8],Q=U>Y?U:Y,xt=U>Y?1:U/Y,_t=U>Y?Y/U:1;y.translate(L,Z),y.rotate(ht),y.scale(xt,_t),y.arc(0,0,Q,W,W+J,1-nt),y.scale(1/xt,1/_t),y.rotate(-ht),y.translate(-L,-Z);break}case"Z":y.closePath();break}},getBBox:function(y){var E=y/2,C=this.params,m,M,b,S;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(C[0].x,C[1].x)-E,maxX:Math.max(C[0].x,C[1].x)+E,minY:Math.min(C[0].y,C[1].y)-E,maxY:Math.max(C[0].y,C[1].y)+E};break;case"SQ":case"Q":for(M=v.extrema(C[0].x,C[1].x,C[2].x),b=0,S=M.length;b<S;b++)M[b]=v.at(C[0].x,C[1].x,C[2].x,M[b]);for(M.push(C[0].x,C[2].x),m=v.extrema(C[0].y,C[1].y,C[2].y),b=0,S=m.length;b<S;b++)m[b]=v.at(C[0].y,C[1].y,C[2].y,m);m.push(C[0].y,C[2].y),this.box={minX:Math.min.apply(Math,M)-E,maxX:Math.max.apply(Math,M)+E,minY:Math.min.apply(Math,m)-E,maxY:Math.max.apply(Math,m)+E};break;case"C":for(M=s.extrema(C[0].x,C[1].x,C[2].x,C[3].x),b=0,S=M.length;b<S;b++)M[b]=s.at(C[0].x,C[1].x,C[2].x,C[3].x,M[b]);for(m=s.extrema(C[0].y,C[1].y,C[2].y,C[3].y),b=0,S=m.length;b<S;b++)m[b]=s.at(C[0].y,C[1].y,C[2].y,C[3].y,m[b]);M.push(C[0].x,C[3].x),m.push(C[0].y,C[3].y),this.box={minX:Math.min.apply(Math,M)-E,maxX:Math.max.apply(Math,M)+E,minY:Math.min.apply(Math,m)-E,maxY:Math.max.apply(Math,m)+E};break;case"A":{var A=C,T=A[1],O=A[2],D=A[3],L=A[4],Z=A[5],U=A[6],Y=A[7],W=A[8],J=Z,ht=Z+U,nt=o.xExtrema(Y,D,L),Q=Infinity,xt=-Infinity,_t=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var Nt=nt+b;W===1?J<Nt&&Nt<ht&&_t.push(Nt):ht<Nt&&Nt<J&&_t.push(Nt)}for(b=0,S=_t.length;b<S;b++){var rt=o.xAt(Y,D,L,T,_t[b]);rt<Q&&(Q=rt),rt>xt&&(xt=rt)}var q=o.yExtrema(Y,D,L),G=Infinity,N=-Infinity,at=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var H=q+b;W===1?J<H&&H<ht&&at.push(H):ht<H&&H<J&&at.push(H)}for(b=0,S=at.length;b<S;b++){var ft=o.yAt(Y,D,L,O,at[b]);ft<G&&(G=ft),ft>N&&(N=ft)}this.box={minX:Q-E,maxX:xt+E,minY:G-E,maxY:N+E};break}}}}),P.exports=d},function(P,x,i){"use strict";x.a=function(t,c){return t=+t,c-=t,function(s){return t+c*s}}},function(P,x,i){var t=i(15),c=Array.prototype.indexOf,s=function(o,f){return t(o)?c.call(o,f)>-1:!1};P.exports=s},function(P,x){var i=function(c){for(var s=[],v=0;v<c.length;v++)s=s.concat(c[v]);return s};P.exports=i},function(P,x,i){P.exports={mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,x,i){P.exports={Canvas:i(345),Group:i(171),Shape:i(9),Arc:i(175),Circle:i(176),Dom:i(177),Ellipse:i(178),Fan:i(179),Image:i(180),Line:i(181),Marker:i(95),Path:i(182),Polygon:i(183),Polyline:i(184),Rect:i(185),Text:i(186),PathSegment:i(55),PathUtil:i(96),Event:i(170),version:"3.3.6"}},function(P,x,i){var t=i(2).vec2;P.exports={at:function(s,v,o){return(v-s)*o+s},pointDistance:function(s,v,o,f,r,e){var n=[o-s,f-v];if(t.exactEquals(n,[0,0]))return NaN;var a=[-n[1],n[0]];t.normalize(a,a);var u=[r-s,e-v];return Math.abs(t.dot(u,a))},box:function(s,v,o,f,r){var e=r/2,n=Math.min(s,o),a=Math.max(s,o),u=Math.min(v,f),l=Math.max(v,f);return{minX:n-e,minY:u-e,maxX:a+e,maxY:l+e}},len:function(s,v,o,f){return Math.sqrt((o-s)*(o-s)+(f-v)*(f-v))}}},function(P,x,i){var t=i(2);function c(r,e,n,a){return{x:Math.cos(a)*n+r,y:Math.sin(a)*n+e}}function s(r,e,n,a){var u,l;return a?r<e?(u=e-r,l=Math.PI*2-n+r):r>n&&(u=Math.PI*2-r+e,l=r-n):(u=r-e,l=n-r),u>l?n:e}function v(r,e,n,a){var u=0;return n-e>=Math.PI*2&&(u=Math.PI*2),e=t.mod(e,Math.PI*2),n=t.mod(n,Math.PI*2)+u,r=t.mod(r,Math.PI*2),a?e>=n?r>n&&r<e?r:s(r,n,e,!0):r<e||r>n?r:s(r,e,n):e<=n?e<r&&r<n?r:s(r,e,n,!0):r>e||r<n?r:s(r,n,e)}function o(r,e,n,a,u,l,h,p,d){var g=[h,p],y=[r,e],E=[1,0],C=t.vec2.subtract([],g,y),m=t.vec2.angleTo(E,C);m=v(m,a,u,l);var M=[n*Math.cos(m)+r,n*Math.sin(m)+e];d&&(d.x=M[0],d.y=M[1]);var b=t.vec2.distance(M,g);return b}function f(r,e,n,a,u,l){var h=0,p=Math.PI/2,d=Math.PI,g=Math.PI*3/2,y=[],E=v(h,a,u,l);E===h&&y.push(c(r,e,n,h)),E=v(p,a,u,l),E===p&&y.push(c(r,e,n,p)),E=v(d,a,u,l),E===d&&y.push(c(r,e,n,d)),E=v(g,a,u,l),E===g&&y.push(c(r,e,n,g)),y.push(c(r,e,n,a)),y.push(c(r,e,n,u));var C=Infinity,m=-Infinity,M=Infinity,b=-Infinity;return t.each(y,function(S){C>S.x&&(C=S.x),m<S.x&&(m=S.x),M>S.y&&(M=S.y),b<S.y&&(b=S.y)}),{minX:C,minY:M,maxX:m,maxY:b}}P.exports={nearAngle:v,projectPoint:function(e,n,a,u,l,h,p,d){var g={};return o(e,n,a,u,l,h,p,d,g),g},pointDistance:o,box:f}},function(P,x,i){var t=i(37),c=i(55),s=Math.PI,v=Math.sin,o=Math.cos,f=Math.atan2,r=10,e=s/3;function n(l,h,p,d,g,y,E){var C,m,M,b,S,A,T;if(!h.fill){var O=h.arrowLength||r,D=h.arrowAngle?h.arrowAngle*s/180:e;T=f(d-y,p-g),S=Math.abs(h.lineWidth*o(T))/2,A=Math.abs(h.lineWidth*v(T))/2,E&&(S=-S,A=-A),C=g+O*o(T+D/2),m=y+O*v(T+D/2),M=g+O*o(T-D/2),b=y+O*v(T-D/2),l.beginPath(),l.moveTo(C-S,m-A),l.lineTo(g-S,y-A),l.lineTo(M-S,b-A),l.moveTo(g-S,y-A),l.lineTo(g+S,y+A),l.moveTo(g,y),l.stroke()}}function a(l){var h=[],p=t.parsePath(l.path),d;if(!Array.isArray(p)||p.length===0||p[0][0]!=="M"&&p[0][0]!=="m")return!1;for(var g=p.length,y=0;y<p.length;y++){var E=p[y];d=new c(E,d,y===g-1),h.push(d)}return h}function u(l,h,p,d,g,y,E){var C=E?h.startArrow:h.endArrow,m=C.d,M=0,b=g-p,S=y-d,A=Math.atan(b/S);S===0&&b<0?M=Math.PI:b>0&&S>0?M=Math.PI/2-A:b<0&&S<0?M=-Math.PI/2-A:b>=0&&S<0?M=-A-Math.PI/2:b<=0&&S>0&&(M=Math.PI/2-A);var T=a(C);if(!!T){m&&(E?(g=g+Math.sin(Math.abs(A))*m,y=y+Math.cos(Math.abs(A))*m-.5*l.lineWidth):(g=g-Math.sin(Math.abs(A))*m,y=y-Math.cos(Math.abs(A))*m+.5*l.lineWidth)),l.save(),l.beginPath(),l.translate(g,y),l.rotate(M);for(var O=0;O<T.length;O++)T[O].draw(l);l.setTransform(1,0,0,1,0,0),l.fillStyle=l.strokeStyle,l.fill(),l.restore()}}P.exports={addStartArrow:function(h,p,d,g,y,E){typeof p.startArrow=="object"?u(h,p,d,g,y,E,!0):p.startArrow&&n(h,p,d,g,y,E,!0)},addEndArrow:function(h,p,d,g,y,E){typeof p.endArrow=="object"?u(h,p,d,g,y,E,!1):p.endArrow&&n(h,p,d,g,y,E,!1)}}},function(P,x,i){var t=i(2),c=i(93),s=i(94),v=i(173),o=i(174),f=t.vec3,r=t.mat3,e=["m","l","c","a","q","h","v","t","s","z"];function n(g,y,E){return{x:E.x+g,y:E.y+y}}function a(g,y){return{x:y.x+(y.x-g.x),y:y.y+(y.y-g.y)}}function u(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function l(g,y){return(g[0]*y[0]+g[1]*y[1])/(u(g)*u(y))}function h(g,y){return(g[0]*y[1]<g[1]*y[0]?-1:1)*Math.acos(l(g,y))}function p(g,y,E,C,m,M,b){var S=t.mod(t.toRadian(b),Math.PI*2),A=g.x,T=g.y,O=y.x,D=y.y,L=Math.cos(S)*(A-O)/2+Math.sin(S)*(T-D)/2,Z=-1*Math.sin(S)*(A-O)/2+Math.cos(S)*(T-D)/2,U=L*L/(m*m)+Z*Z/(M*M);U>1&&(m*=Math.sqrt(U),M*=Math.sqrt(U));var Y=m*m*(Z*Z)+M*M*(L*L),W=Math.sqrt((m*m*(M*M)-Y)/Y);E===C&&(W*=-1),isNaN(W)&&(W=0);var J=W*m*Z/M,ht=W*-M*L/m,nt=(A+O)/2+Math.cos(S)*J-Math.sin(S)*ht,Q=(T+D)/2+Math.sin(S)*J+Math.cos(S)*ht,xt=h([1,0],[(L-J)/m,(Z-ht)/M]),_t=[(L-J)/m,(Z-ht)/M],Nt=[(-1*L-J)/m,(-1*Z-ht)/M],rt=h(_t,Nt);return l(_t,Nt)<=-1&&(rt=Math.PI),l(_t,Nt)>=1&&(rt=0),C===0&&rt>0&&(rt=rt-2*Math.PI),C===1&&rt<0&&(rt=rt+2*Math.PI),[g,nt,Q,m,M,xt,rt,S,C]}var d=function(y,E,C){this.preSegment=E,this.isLast=C,this.init(y,E)};t.augment(d,{init:function(y,E){var C=y[0];E=E||{endPoint:{x:0,y:0}};var m=e.indexOf(C)>=0,M=m?C.toUpperCase():C,b=y,S,A,T,O,D=E.endPoint,L=b[1],Z=b[2];switch(M){default:break;case"M":m?O=n(L,Z,D):O={x:L,y:Z},this.command="M",this.params=[D,O],this.subStart=O,this.endPoint=O;break;case"L":m?O=n(L,Z,D):O={x:L,y:Z},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"H":m?O=n(L,0,D):O={x:L,y:D.y},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"V":m?O=n(0,L,D):O={x:D.x,y:L},this.command="L",this.params=[D,O],this.subStart=E.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-D.x,O.y-D.y]},this.startTangent=function(){return[D.x-O.x,D.y-O.y]};break;case"Q":m?(S=n(L,Z,D),A=n(b[3],b[4],D)):(S={x:L,y:Z},A={x:b[3],y:b[4]}),this.command="Q",this.params=[D,S,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-S.x,A.y-S.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]};break;case"T":m?A=n(L,Z,D):A={x:L,y:Z},E.command==="Q"?(S=a(E.params[1],D),this.command="Q",this.params=[D,S,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-S.x,A.y-S.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]}):(this.command="TL",this.params=[D,A],this.subStart=E.subStart,this.endPoint=A,this.endTangent=function(){return[A.x-D.x,A.y-D.y]},this.startTangent=function(){return[D.x-A.x,D.y-A.y]});break;case"C":m?(S=n(L,Z,D),A=n(b[3],b[4],D),T=n(b[5],b[6],D)):(S={x:L,y:Z},A={x:b[3],y:b[4]},T={x:b[5],y:b[6]}),this.command="C",this.params=[D,S,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]};break;case"S":m?(A=n(L,Z,D),T=n(b[3],b[4],D)):(A={x:L,y:Z},T={x:b[3],y:b[4]}),E.command==="C"?(S=a(E.params[2],D),this.command="C",this.params=[D,S,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-S.x,D.y-S.y]}):(this.command="SQ",this.params=[D,A,T],this.subStart=E.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-A.x,T.y-A.y]},this.startTangent=function(){return[D.x-A.x,D.y-A.y]});break;case"A":{var U=L,Y=Z,W=b[3],J=b[4],ht=b[5];m?O=n(b[6],b[7],D):O={x:b[6],y:b[7]},this.command="A";var nt=p(D,O,J,ht,U,Y,W);this.params=nt;var Q=E.subStart;this.subStart=Q,this.endPoint=O;var xt=nt[5]%(Math.PI*2);t.isNumberEqual(xt,Math.PI*2)&&(xt=0);var _t=nt[6]%(Math.PI*2);t.isNumberEqual(_t,Math.PI*2)&&(_t=0);var Nt=.001;this.startTangent=function(){ht===0&&(Nt*=-1);var rt=nt[3]*Math.cos(xt-Nt)+nt[1],q=nt[4]*Math.sin(xt-Nt)+nt[2];return[rt-Q.x,q-Q.y]},this.endTangent=function(){var rt=nt[6];rt-Math.PI*2<1e-4&&(rt=0);var q=nt[3]*Math.cos(xt+rt+Nt)+nt[1],G=nt[4]*Math.sin(xt+rt-Nt)+nt[2];return[D.x-q,D.y-G]};break}case"Z":this.command="Z",this.params=[D,E.subStart],this.subStart=E.subStart,this.endPoint=E.subStart}},isInside:function(y,E,C){var m=this,M=m.command,b=m.params,S=m.box;if(S&&!c.box(S.minX,S.maxX,S.minY,S.maxY,y,E))return!1;switch(M){default:break;case"M":return!1;case"TL":case"L":case"Z":return c.line(b[0].x,b[0].y,b[1].x,b[1].y,C,y,E);case"SQ":case"Q":return c.quadraticline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,C,y,E);case"C":return c.cubicline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,C,y,E);case"A":{var A=b,T=A[1],O=A[2],D=A[3],L=A[4],Z=A[5],U=A[6],Y=A[7],W=A[8],J=D>L?D:L,ht=D>L?1:D/L,nt=D>L?L/D:1;A=[y,E,1];var Q=[1,0,0,0,1,0,0,0,1];return r.translate(Q,Q,[-T,-O]),r.rotate(Q,Q,-Y),r.scale(Q,Q,[1/ht,1/nt]),f.transformMat3(A,A,Q),c.arcline(0,0,J,Z,Z+U,1-W,C,A[0],A[1])}}return!1},draw:function(y){var E=this.command,C=this.params,m,M,b;switch(E){default:break;case"M":y.moveTo(C[1].x,C[1].y);break;case"TL":case"L":y.lineTo(C[1].x,C[1].y);break;case"SQ":case"Q":m=C[1],M=C[2],y.quadraticCurveTo(m.x,m.y,M.x,M.y);break;case"C":m=C[1],M=C[2],b=C[3],y.bezierCurveTo(m.x,m.y,M.x,M.y,b.x,b.y);break;case"A":{var S=C,A=S[1],T=S[2],O=A,D=T,L=S[3],Z=S[4],U=S[5],Y=S[6],W=S[7],J=S[8],ht=L>Z?L:Z,nt=L>Z?1:L/Z,Q=L>Z?Z/L:1;y.translate(O,D),y.rotate(W),y.scale(nt,Q),y.arc(0,0,ht,U,U+Y,1-J),y.scale(1/nt,1/Q),y.rotate(-W),y.translate(-O,-D);break}case"Z":y.closePath();break}},getBBox:function(y){var E=y/2,C=this.params,m,M,b,S;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(C[0].x,C[1].x)-E,maxX:Math.max(C[0].x,C[1].x)+E,minY:Math.min(C[0].y,C[1].y)-E,maxY:Math.max(C[0].y,C[1].y)+E};break;case"SQ":case"Q":for(M=v.extrema(C[0].x,C[1].x,C[2].x),b=0,S=M.length;b<S;b++)M[b]=v.at(C[0].x,C[1].x,C[2].x,M[b]);for(M.push(C[0].x,C[2].x),m=v.extrema(C[0].y,C[1].y,C[2].y),b=0,S=m.length;b<S;b++)m[b]=v.at(C[0].y,C[1].y,C[2].y,m);m.push(C[0].y,C[2].y),this.box={minX:Math.min.apply(Math,M)-E,maxX:Math.max.apply(Math,M)+E,minY:Math.min.apply(Math,m)-E,maxY:Math.max.apply(Math,m)+E};break;case"C":for(M=s.extrema(C[0].x,C[1].x,C[2].x,C[3].x),b=0,S=M.length;b<S;b++)M[b]=s.at(C[0].x,C[1].x,C[2].x,C[3].x,M[b]);for(m=s.extrema(C[0].y,C[1].y,C[2].y,C[3].y),b=0,S=m.length;b<S;b++)m[b]=s.at(C[0].y,C[1].y,C[2].y,C[3].y,m[b]);M.push(C[0].x,C[3].x),m.push(C[0].y,C[3].y),this.box={minX:Math.min.apply(Math,M)-E,maxX:Math.max.apply(Math,M)+E,minY:Math.min.apply(Math,m)-E,maxY:Math.max.apply(Math,m)+E};break;case"A":{var A=C,T=A[1],O=A[2],D=A[3],L=A[4],Z=A[5],U=A[6],Y=A[7],W=A[8],J=Z,ht=Z+U,nt=o.xExtrema(Y,D,L),Q=Infinity,xt=-Infinity,_t=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var Nt=nt+b;W===1?J<Nt&&Nt<ht&&_t.push(Nt):ht<Nt&&Nt<J&&_t.push(Nt)}for(b=0,S=_t.length;b<S;b++){var rt=o.xAt(Y,D,L,T,_t[b]);rt<Q&&(Q=rt),rt>xt&&(xt=rt)}var q=o.yExtrema(Y,D,L),G=Infinity,N=-Infinity,at=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var H=q+b;W===1?J<H&&H<ht&&at.push(H):ht<H&&H<J&&at.push(H)}for(b=0,S=at.length;b<S;b++){var ft=o.yAt(Y,D,L,O,at[b]);ft<G&&(G=ft),ft>N&&(N=ft)}this.box={minX:Q-E,maxX:xt+E,minY:G-E,maxY:N+E};break}}}}),P.exports=d},function(P,x,i){"use strict";function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function c(n,a){for(var u=0;u<a.length;u++){var l=a[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function s(n,a,u){return a&&c(n.prototype,a),u&&c(n,u),n}var v=i(50),o=i(10),f=v.mat3,r=v.vec3,e=function(){s(n,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]);function n(a){t(this,n);var u=this.getDefaultCfg();o(this,u,a),this.init()}return s(n,[{key:"init",value:function(){var u=this.start,l=this.end,h={x:(u.x+l.x)/2,y:(u.y+l.y)/2};this.center=h,this.width=Math.abs(l.x-u.x),this.height=Math.abs(l.y-u.y)}},{key:"_swapDim",value:function(u){var l=this[u];if(l){var h=l.start;l.start=l.end,l.end=h}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(u,l){var h=this[l],p=h.start,d=h.end;return p+u*(d-p)}},{key:"invertDim",value:function(u,l){var h=this[l],p=h.start,d=h.end;return(u-p)/(d-p)}},{key:"convertPoint",value:function(u){return u}},{key:"invertPoint",value:function(u){return u}},{key:"applyMatrix",value:function(u,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=this.matrix,d=[u,l,h];return r.transformMat3(d,d,p),d}},{key:"invertMatrix",value:function(u,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=this.matrix,d=f.invert([],p),g=[u,l,h];return r.transformMat3(g,g,d),g}},{key:"convert",value:function(u){var l=this.convertPoint(u),h=l.x,p=l.y,d=this.applyMatrix(h,p,1);return{x:d[0],y:d[1]}}},{key:"invert",value:function(u){var l=this.invertMatrix(u.x,u.y,1);return this.invertPoint({x:l[0],y:l[1]})}},{key:"rotate",value:function(u){var l=this.matrix,h=this.center;return f.translate(l,l,[-h.x,-h.y]),f.rotate(l,l,u),f.translate(l,l,[h.x,h.y]),this}},{key:"reflect",value:function(u){switch(u){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(u,l){var h=this.matrix,p=this.center;return f.translate(h,h,[-p.x,-p.y]),f.scale(h,h,[u,l]),f.translate(h,h,[p.x,p.y]),this}},{key:"translate",value:function(u,l){var h=this.matrix;return f.translate(h,h,[u,l]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),n}();P.exports=e},function(P,x,i){var t=i(0),c={splitPoints:function(v){var o=[],f=v.x,r=v.y;return r=t.isArray(r)?r:[r],t.each(r,function(e,n){var a={x:t.isArray(f)?f[n]:f,y:e};o.push(a)}),o},addFillAttrs:function(v,o){o.color&&(v.fill=o.color),t.isNumber(o.opacity)&&(v.opacity=v.fillOpacity=o.opacity)},addStrokeAttrs:function(v,o){o.color&&(v.stroke=o.color),t.isNumber(o.opacity)&&(v.opacity=v.strokeOpacity=o.opacity)}};P.exports=c},function(P,x,i){"use strict";i.d(x,"c",function(){return f}),i.d(x,"d",function(){return r}),i.d(x,"b",function(){return a}),i.d(x,"a",function(){return u}),x.g=l,x.h=h,x.f=p;var t=i(509),c=i(101),s=Object(t.a)("start","end","cancel","interrupt"),v=[],o=0,f=1,r=2,e=3,n=4,a=5,u=6;x.e=function(g,y,E,C,m,M){var b=g.__transition;if(!b)g.__transition={};else if(E in b)return;d(g,E,{name:y,index:C,group:m,on:s,tween:v,time:M.time,delay:M.delay,duration:M.duration,ease:M.ease,timer:null,state:o})};function l(g,y){var E=p(g,y);if(E.state>o)throw new Error("too late; already scheduled");return E}function h(g,y){var E=p(g,y);if(E.state>e)throw new Error("too late; already running");return E}function p(g,y){var E=g.__transition;if(!E||!(E=E[y]))throw new Error("transition not found");return E}function d(g,y,E){var C=g.__transition,m;C[y]=E,E.timer=Object(c.timer)(M,0,E.time);function M(T){E.state=f,E.timer.restart(b,E.delay,E.time),E.delay<=T&&b(T-E.delay)}function b(T){var O,D,L,Z;if(E.state!==f)return A();for(O in C)if(Z=C[O],Z.name===E.name){if(Z.state===e)return Object(c.timeout)(b);Z.state===n?(Z.state=u,Z.timer.stop(),Z.on.call("interrupt",g,g.__data__,Z.index,Z.group),delete C[O]):+O<y&&(Z.state=u,Z.timer.stop(),Z.on.call("cancel",g,g.__data__,Z.index,Z.group),delete C[O])}if(Object(c.timeout)(function(){E.state===e&&(E.state=n,E.timer.restart(S,E.delay,E.time),S(T))}),E.state=r,E.on.call("start",g,g.__data__,E.index,E.group),E.state===r){for(E.state=e,m=new Array(L=E.tween.length),O=0,D=-1;O<L;++O)(Z=E.tween[O].value.call(g,g.__data__,E.index,E.group))&&(m[++D]=Z);m.length=D+1}}function S(T){for(var O=T<E.duration?E.ease.call(null,T/E.duration):(E.timer.restart(A),E.state=a,1),D=-1,L=m.length;++D<L;)m[D].call(g,O);E.state===a&&(E.on.call("end",g,g.__data__,E.index,E.group),A())}function A(){E.state=u,E.timer.stop(),delete C[y];for(var T in C)return;delete g.__transition}}},function(P,x,i){P.exports={isFunction:i(13),isObject:i(22),isBoolean:i(60),isNil:i(6),isString:i(12),isArray:i(5),isNumber:i(11),isEmpty:i(61),uniqueId:i(62),clone:i(39),deepMix:i(27),assign:i(10),merge:i(27),upperFirst:i(64),each:i(3),isEqual:i(40),toArray:i(29),extend:i(65),augment:i(66),remove:i(67),isNumberEqual:i(30),toRadian:i(68),toDegree:i(69),mod:i(70),clamp:i(41),createDom:i(71),modifyCSS:i(72),requestAnimationFrame:i(73),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,x,i){var t=i(14),c=function(v){return t(v,"Boolean")};P.exports=c},function(P,x,i){var t=i(6),c=i(15),s=i(113),v=i(114),o=Object.prototype.hasOwnProperty;function f(r){if(t(r))return!0;if(c(r))return!r.length;var e=s(r);if(e==="Map"||e==="Set")return!r.size;if(v(r))return!Object.keys(r).length;for(var n in r)if(o.call(r,n))return!1;return!0}P.exports=f},function(P,x){var i=function(){var t={};return function(c){return c=c||"g",t[c]?t[c]+=1:t[c]=1,c+t[c]}}();P.exports=i},function(P,x){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t=function(s){return(typeof s=="undefined"?"undefined":i(s))==="object"&&s!==null};P.exports=t},function(P,x,i){var t=i(26),c=function(v){var o=t(v);return o.charAt(0).toUpperCase()+o.substring(1)};P.exports=c},function(P,x,i){var t=i(13),c=i(10),s=function(o,f,r,e){t(f)||(r=f,f=o,o=function(){});var n=Object.create?function(u,l){return Object.create(u,{constructor:{value:l}})}:function(u,l){function h(){}h.prototype=u;var p=new h;return p.constructor=l,p},a=n(f.prototype,o);return o.prototype=c(a,o.prototype),o.superclass=n(f.prototype,f),c(a,r),c(o,e),o};P.exports=s},function(P,x,i){var t=i(13),c=i(29),s=i(10),v=function(f){for(var r=c(arguments),e=1;e<r.length;e++){var n=r[e];t(n)&&(n=n.prototype),s(f.prototype,n)}};P.exports=v},function(P,x){var i=Array.prototype,t=i.splice,c=i.indexOf,s=i.slice,v=function(f){for(var r=s.call(arguments,1),e=0;e<r.length;e++)for(var n=r[e],a=-1;(a=c.call(f,n))>-1;)t.call(f,a,1);return f};P.exports=v},function(P,x){var i=Math.PI/180,t=function(s){return i*s};P.exports=t},function(P,x){var i=180/Math.PI,t=function(s){return i*s};P.exports=t},function(P,x){var i=function(c,s){return(c%s+s)%s};P.exports=i},function(P,x){var i=document.createElement("table"),t=document.createElement("tr"),c=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:t,th:t,"*":document.createElement("div")};P.exports=function(o){var f=c.test(o)&&RegExp.$1;f in s||(f="*");var r=s[f];o=o.replace(/(^\s*)|(\s*$)/g,""),r.innerHTML=""+o;var e=r.childNodes[0];return r.removeChild(e),e}},function(P,x){P.exports=function(t,c){if(t)for(var s in c)c.hasOwnProperty(s)&&(t.style[s]=c[s]);return t}},function(P,x){P.exports=function(t){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(s){return setTimeout(s,16)};return c(t)}},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setMatrixArrayType=v,x.toRadian=f,x.equals=r;var t=x.EPSILON=1e-6,c=x.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,s=x.RANDOM=Math.random;function v(e){x.ARRAY_TYPE=c=e}var o=Math.PI/180;function f(e){return e*o}function r(e,n){return Math.abs(e-n)<=t*Math.max(1,Math.abs(e),Math.abs(n))}},function(P,x,i){var t=i(219),c=i(41);t.angle=function(s,v){var o=t.dot(s,v)/(t.length(s)*t.length(v));return Math.acos(c(o,-1,1))},t.direction=function(s,v){return s[0]*v[1]-v[0]*s[1]},t.angleTo=function(s,v,o){var f=t.angle(s,v),r=t.direction(s,v)>=0;return o?r?Math.PI*2-f:f:r?f:Math.PI*2-f},t.vertical=function(s,v,o){return o?(s[0]=v[1],s[1]=-1*v[0]):(s[0]=-1*v[1],s[1]=v[0]),s},P.exports=t},function(P,x,i){var t=i(220);P.exports=t},function(P,x,i){var t=i(39),c=i(3),s=i(42);P.exports=function(o,f){return o=t(o),c(f,function(r){switch(r[0]){case"t":s.translate(o,o,[r[1],r[2]]);break;case"s":s.scale(o,o,[r[1],r[2]]);break;case"r":s.rotate(o,o,r[1]);break;case"m":s.multiply(o,o,r[1]);break;default:return!1}}),o}},function(P,x,i){var t=i(1),c=function(v,o,f,r){this.type=v,this.target=null,this.currentTarget=null,this.bubbles=f,this.cancelable=r,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=o};t.augment(c,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return t.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),P.exports=c},function(P,x,i){var t=i(43),c=i(118),s=i(80),v=i(44);P.exports={line:function(f,r,e,n,a,u,l){var h=t.box(f,r,e,n,a);if(!this.box(h.minX,h.maxX,h.minY,h.maxY,u,l))return!1;var p=t.pointDistance(f,r,e,n,u,l);return isNaN(p)?!1:p<=a/2},polyline:function(f,r,e,n){var a=f.length-1;if(a<1)return!1;for(var u=0;u<a;u++){var l=f[u][0],h=f[u][1],p=f[u+1][0],d=f[u+1][1];if(this.line(l,h,p,d,r,e,n))return!0}return!1},cubicline:function(f,r,e,n,a,u,l,h,p,d,g){return s.pointDistance(f,r,e,n,a,u,l,h,d,g)<=p/2},quadraticline:function(f,r,e,n,a,u,l,h,p){return c.pointDistance(f,r,e,n,a,u,h,p)<=l/2},arcline:function(f,r,e,n,a,u,l,h,p){return v.pointDistance(f,r,e,n,a,u,h,p)<=l/2},rect:function(f,r,e,n,a,u){return f<=a&&a<=f+e&&r<=u&&u<=r+n},circle:function(f,r,e,n,a){return Math.pow(n-f,2)+Math.pow(a-r,2)<=Math.pow(e,2)},box:function(f,r,e,n,a,u){return f<=a&&a<=r&&e<=u&&u<=n}}},function(P,x,i){var t=i(1),c=t.vec2;function s(n,a,u,l,h){var p=1-h;return p*p*(p*l+3*h*u)+h*h*(h*n+3*p*a)}function v(n,a,u,l,h){var p=1-h;return 3*(((a-n)*p+2*(u-a)*h)*p+(l-u)*h*h)}function o(n,a,u,l,h,p,d,g,y,E,C){var m,M=.005,b=Infinity,S,A,T,O,D,L,Z,U=1e-4,Y=[y,E];for(S=0;S<1;S+=.05)A=[s(n,u,h,d,S),s(a,l,p,g,S)],T=c.squaredDistance(Y,A),T<b&&(m=S,b=T);b=Infinity;for(var W=0;W<32&&!(M<U);W++)L=m-M,Z=m+M,A=[s(n,u,h,d,L),s(a,l,p,g,L)],T=c.squaredDistance(Y,A),L>=0&&T<b?(m=L,b=T):(D=[s(n,u,h,d,Z),s(a,l,p,g,Z)],O=c.squaredDistance(Y,D),Z<=1&&O<b?(m=Z,b=O):M*=.5);return C&&(C.x=s(n,u,h,d,m),C.y=s(a,l,p,g,m)),Math.sqrt(b)}function f(n,a,u,l){var h=3*n-9*a+9*u-3*l,p=6*a-12*u+6*l,d=3*u-3*l,g=[],y,E,C;if(t.isNumberEqual(h,0))t.isNumberEqual(p,0)||(y=-d/p,y>=0&&y<=1&&g.push(y));else{var m=p*p-4*h*d;t.isNumberEqual(m,0)?g.push(-p/(2*h)):m>0&&(C=Math.sqrt(m),y=(-p+C)/(2*h),E=(-p-C)/(2*h),y>=0&&y<=1&&g.push(y),E>=0&&E<=1&&g.push(E))}return g}function r(n,a,u,l,h){var p=-3*a+9*u-9*l+3*h,d=n*p+6*a-12*u+6*l;return n*d-3*a+3*u}function e(n,a,u,l,h,p,d,g,y){t.isNil(y)&&(y=1),y=y>1?1:y<0?0:y;for(var E=y/2,C=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],b=0,S=0;S<C;S++){var A=E*m[S]+E,T=r(A,n,u,h,d),O=r(A,a,l,p,g),D=T*T+O*O;b+=M[S]*Math.sqrt(D)}return E*b}P.exports={at:s,derivativeAt:v,projectPoint:function(a,u,l,h,p,d,g,y,E,C){var m={};return o(a,u,l,h,p,d,g,y,E,C,m),m},pointDistance:o,extrema:f,len:e}},function(P,x,i){var t=i(1),c=i(7),s=i(31),v=i(46),o=function f(r){f.superclass.constructor.call(this,r)};o.Symbols={circle:function(r,e,n){return[["M",r,e],["m",-n,0],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0]]},square:function(r,e,n){return[["M",r-n,e-n],["L",r+n,e-n],["L",r+n,e+n],["L",r-n,e+n],["Z"]]},diamond:function(r,e,n){return[["M",r-n,e],["L",r,e-n],["L",r+n,e],["L",r,e+n],["Z"]]},triangle:function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e+a],["L",r,e-a],["L",r+n,e+a],["z"]]},"triangle-down":function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e-a],["L",r+n,e-a],["L",r,e+a],["Z"]]}},o.ATTRS={path:null,lineWidth:1},t.extend(o,c),t.augment(o,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=this.getHitLineWidth(),l=u/2+a;return{minX:e-l,minY:n-l,maxX:e+l,maxY:n+l}},_getPath:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=r.symbol||"circle",l;return t.isFunction(u)?l=u:l=o.Symbols[u],l?l(e,n,a):(console.warn(u+" marker is not supported."),null)},createPath:function(r){var e=this._cfg.segments;if(e&&!this._cfg.hasUpdate){r.beginPath();for(var n=0;n<e.length;n++)e[n].draw(r);return}var a=s.parsePath(this._getPath());r.beginPath();var u;e=[];for(var l=0;l<a.length;l++){var h=a[l];u=new v(h,u,l===a.length-1),e.push(u),u.draw(r)}this._cfg.segments=e,this._cfg.hasUpdate=!1}}),P.exports=o},function(P,x,i){var t=i(59),c=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,s=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig"),o=function(rt){if(!rt)return null;if(typeof rt==typeof[])return rt;var q={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},G=[];return String(rt).replace(s,function(N,at,H){var ft=[],ct=at.toLowerCase();if(H.replace(v,function(K,$){$&&ft.push(+$)}),ct==="m"&&ft.length>2&&(G.push([at].concat(ft.splice(0,2))),ct="l",at=at==="m"?"l":"L"),ct==="o"&&ft.length===1&&G.push([at,ft[0]]),ct==="r")G.push([at].concat(ft));else for(;ft.length>=q[ct]&&(G.push([at].concat(ft.splice(0,q[ct]))),!!q[ct]););}),G},f=function(rt,q){for(var G=[],N=0,at=rt.length;at-2*!q>N;N+=2){var H=[{x:+rt[N-2],y:+rt[N-1]},{x:+rt[N],y:+rt[N+1]},{x:+rt[N+2],y:+rt[N+3]},{x:+rt[N+4],y:+rt[N+5]}];q?N?at-4===N?H[3]={x:+rt[0],y:+rt[1]}:at-2===N&&(H[2]={x:+rt[0],y:+rt[1]},H[3]={x:+rt[2],y:+rt[3]}):H[0]={x:+rt[at-2],y:+rt[at-1]}:at-4===N?H[3]=H[2]:N||(H[0]={x:+rt[N],y:+rt[N+1]}),G.push(["C",(-H[0].x+6*H[1].x+H[2].x)/6,(-H[0].y+6*H[1].y+H[2].y)/6,(H[1].x+6*H[2].x-H[3].x)/6,(H[1].y+6*H[2].y-H[3].y)/6,H[2].x,H[2].y])}return G},r=function(rt,q,G,N,at){var H=[];if(at===null&&N===null&&(N=G),rt=+rt,q=+q,G=+G,N=+N,at!==null){var ft=Math.PI/180,ct=rt+G*Math.cos(-N*ft),K=rt+G*Math.cos(-at*ft),$=q+G*Math.sin(-N*ft),et=q+G*Math.sin(-at*ft);H=[["M",ct,$],["A",G,G,0,+(at-N>180),0,K,et]]}else H=[["M",rt,q],["m",0,-N],["a",G,N,0,1,1,0,2*N],["a",G,N,0,1,1,0,-2*N],["z"]];return H},e=function(rt){if(rt=o(rt),!rt||!rt.length)return[["M",0,0]];var q=[],G=0,N=0,at=0,H=0,ft=0,ct,K;rt[0][0]==="M"&&(G=+rt[0][1],N=+rt[0][2],at=G,H=N,ft++,q[0]=["M",G,N]);for(var $=rt.length===3&&rt[0][0]==="M"&&rt[1][0].toUpperCase()==="R"&&rt[2][0].toUpperCase()==="Z",et,B,w=ft,R=rt.length;w<R;w++){if(q.push(et=[]),B=rt[w],ct=B[0],ct!==ct.toUpperCase())switch(et[0]=ct.toUpperCase(),et[0]){case"A":et[1]=B[1],et[2]=B[2],et[3]=B[3],et[4]=B[4],et[5]=B[5],et[6]=+B[6]+G,et[7]=+B[7]+N;break;case"V":et[1]=+B[1]+N;break;case"H":et[1]=+B[1]+G;break;case"R":K=[G,N].concat(B.slice(1));for(var V=2,tt=K.length;V<tt;V++)K[V]=+K[V]+G,K[++V]=+K[V]+N;q.pop(),q=q.concat(f(K,$));break;case"O":q.pop(),K=r(G,N,B[1],B[2]),K.push(K[0]),q=q.concat(K);break;case"U":q.pop(),q=q.concat(r(G,N,B[1],B[2],B[3])),et=["U"].concat(q[q.length-1].slice(-2));break;case"M":at=+B[1]+G,H=+B[2]+N;break;default:for(var lt=1,Et=B.length;lt<Et;lt++)et[lt]=+B[lt]+(lt%2?G:N)}else if(ct==="R")K=[G,N].concat(B.slice(1)),q.pop(),q=q.concat(f(K,$)),et=["R"].concat(B.slice(-2));else if(ct==="O")q.pop(),K=r(G,N,B[1],B[2]),K.push(K[0]),q=q.concat(K);else if(ct==="U")q.pop(),q=q.concat(r(G,N,B[1],B[2],B[3])),et=["U"].concat(q[q.length-1].slice(-2));else for(var ot=0,Mt=B.length;ot<Mt;ot++)et[ot]=B[ot];if(ct=ct.toUpperCase(),ct!=="O")switch(et[0]){case"Z":G=+at,N=+H;break;case"H":G=et[1];break;case"V":N=et[1];break;case"M":at=et[et.length-2],H=et[et.length-1];break;default:G=et[et.length-2],N=et[et.length-1]}}return q},n=function(rt,q,G,N){return[rt,q,G,N,G,N]},a=function(rt,q,G,N,at,H){var ft=1/3,ct=2/3;return[ft*rt+ct*G,ft*q+ct*N,ft*at+ct*G,ft*H+ct*N,at,H]},u=function Nt(rt,q,G,N,at,H,ft,ct,K,$){G===N&&(G+=1);var et=Math.PI*120/180,B=Math.PI/180*(+at||0),w=[],R,V,tt,lt,Et,ot=function(Pr,or,wr){var cn=Pr*Math.cos(wr)-or*Math.sin(wr),Fn=Pr*Math.sin(wr)+or*Math.cos(wr);return{x:cn,y:Fn}};if($)V=$[0],tt=$[1],lt=$[2],Et=$[3];else{R=ot(rt,q,-B),rt=R.x,q=R.y,R=ot(ct,K,-B),ct=R.x,K=R.y,rt===ct&&q===K&&(ct+=1,K+=1);var Mt=(rt-ct)/2,Ot=(q-K)/2,Ft=Mt*Mt/(G*G)+Ot*Ot/(N*N);Ft>1&&(Ft=Math.sqrt(Ft),G=Ft*G,N=Ft*N);var zt=G*G,$t=N*N,ce=(H===ft?-1:1)*Math.sqrt(Math.abs((zt*$t-zt*Ot*Ot-$t*Mt*Mt)/(zt*Ot*Ot+$t*Mt*Mt)));lt=ce*G*Ot/N+(rt+ct)/2,Et=ce*-N*Mt/G+(q+K)/2,V=Math.asin(((q-Et)/N).toFixed(9)),tt=Math.asin(((K-Et)/N).toFixed(9)),V=rt<lt?Math.PI-V:V,tt=ct<lt?Math.PI-tt:tt,V<0&&(V=Math.PI*2+V),tt<0&&(tt=Math.PI*2+tt),ft&&V>tt&&(V=V-Math.PI*2),!ft&&tt>V&&(tt=tt-Math.PI*2)}var ye=tt-V;if(Math.abs(ye)>et){var Je=tt,nr=ct,Xe=K;tt=V+et*(ft&&tt>V?1:-1),ct=lt+G*Math.cos(tt),K=Et+N*Math.sin(tt),w=Nt(ct,K,G,N,at,0,ft,nr,Xe,[tt,Je,lt,Et])}ye=tt-V;var mr=Math.cos(V),Gr=Math.sin(V),xe=Math.cos(tt),de=Math.sin(tt),ze=Math.tan(ye/4),Ue=4/3*G*ze,Kr=4/3*N*ze,rn=[rt,q],ci=[rt+Ue*Gr,q-Kr*mr],Zi=[ct+Ue*de,K-Kr*xe],Ki=[ct,K];if(ci[0]=2*rn[0]-ci[0],ci[1]=2*rn[1]-ci[1],$)return[ci,Zi,Ki].concat(w);w=[ci,Zi,Ki].concat(w).join().split(",");for(var ji=[],Ae=0,De=w.length;Ae<De;Ae++)ji[Ae]=Ae%2?ot(w[Ae-1],w[Ae],B).y:ot(w[Ae],w[Ae+1],B).x;return ji},l=function(rt,q){var G=e(rt),N=q&&e(q),at={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ft=[],ct=[],K="",$="",et,B=function(Ot,Ft,zt){var $t,ce;if(!Ot)return["C",Ft.x,Ft.y,Ft.x,Ft.y,Ft.x,Ft.y];switch(!(Ot[0]in{T:1,Q:1})&&(Ft.qx=Ft.qy=null),Ot[0]){case"M":Ft.X=Ot[1],Ft.Y=Ot[2];break;case"A":Ot=["C"].concat(u.apply(0,[Ft.x,Ft.y].concat(Ot.slice(1))));break;case"S":zt==="C"||zt==="S"?($t=Ft.x*2-Ft.bx,ce=Ft.y*2-Ft.by):($t=Ft.x,ce=Ft.y),Ot=["C",$t,ce].concat(Ot.slice(1));break;case"T":zt==="Q"||zt==="T"?(Ft.qx=Ft.x*2-Ft.qx,Ft.qy=Ft.y*2-Ft.qy):(Ft.qx=Ft.x,Ft.qy=Ft.y),Ot=["C"].concat(a(Ft.x,Ft.y,Ft.qx,Ft.qy,Ot[1],Ot[2]));break;case"Q":Ft.qx=Ot[1],Ft.qy=Ot[2],Ot=["C"].concat(a(Ft.x,Ft.y,Ot[1],Ot[2],Ot[3],Ot[4]));break;case"L":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ot[2]));break;case"H":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ft.y));break;case"V":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.x,Ot[1]));break;case"Z":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.X,Ft.Y));break;default:break}return Ot},w=function(Ot,Ft){if(Ot[Ft].length>7){Ot[Ft].shift();for(var zt=Ot[Ft];zt.length;)ft[Ft]="A",N&&(ct[Ft]="A"),Ot.splice(Ft++,0,["C"].concat(zt.splice(0,6)));Ot.splice(Ft,1),et=Math.max(G.length,N&&N.length||0)}},R=function(Ot,Ft,zt,$t,ce){Ot&&Ft&&Ot[ce][0]==="M"&&Ft[ce][0]!=="M"&&(Ft.splice(ce,0,["M",$t.x,$t.y]),zt.bx=0,zt.by=0,zt.x=Ot[ce][1],zt.y=Ot[ce][2],et=Math.max(G.length,N&&N.length||0))};et=Math.max(G.length,N&&N.length||0);for(var V=0;V<et;V++){G[V]&&(K=G[V][0]),K!=="C"&&(ft[V]=K,V&&($=ft[V-1])),G[V]=B(G[V],at,$),ft[V]!=="A"&&K==="C"&&(ft[V]="C"),w(G,V),N&&(N[V]&&(K=N[V][0]),K!=="C"&&(ct[V]=K,V&&($=ct[V-1])),N[V]=B(N[V],H,$),ct[V]!=="A"&&K==="C"&&(ct[V]="C"),w(N,V)),R(G,N,at,H,V),R(N,G,H,at,V);var tt=G[V],lt=N&&N[V],Et=tt.length,ot=N&&lt.length;at.x=tt[Et-2],at.y=tt[Et-1],at.bx=parseFloat(tt[Et-4])||at.x,at.by=parseFloat(tt[Et-3])||at.y,H.bx=N&&(parseFloat(lt[ot-4])||H.x),H.by=N&&(parseFloat(lt[ot-3])||H.y),H.x=N&&lt[ot-2],H.y=N&&lt[ot-1]}return N?[G,N]:G},h=/,?([a-z]),?/gi,p=function(rt){return rt.join(",").replace(h,"$1")},d=function(rt,q,G,N,at){var H=-3*q+9*G-9*N+3*at,ft=rt*H+6*q-12*G+6*N;return rt*ft-3*q+3*G},g=function(rt,q,G,N,at,H,ft,ct,K){K===null&&(K=1),K=K>1?1:K<0?0:K;for(var $=K/2,et=12,B=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],w=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],R=0,V=0;V<et;V++){var tt=$*B[V]+$,lt=d(tt,rt,G,at,ft),Et=d(tt,q,N,H,ct),ot=lt*lt+Et*Et;R+=w[V]*Math.sqrt(ot)}return $*R},y=function(rt,q,G,N,at,H,ft,ct){for(var K=[],$=[[],[]],et,B,w,R,V=0;V<2;++V){if(V===0?(B=6*rt-12*G+6*at,et=-3*rt+9*G-9*at+3*ft,w=3*G-3*rt):(B=6*q-12*N+6*H,et=-3*q+9*N-9*H+3*ct,w=3*N-3*q),Math.abs(et)<1e-12){if(Math.abs(B)<1e-12)continue;R=-w/B,R>0&&R<1&&K.push(R);continue}var tt=B*B-4*w*et,lt=Math.sqrt(tt);if(!(tt<0)){var Et=(-B+lt)/(2*et);Et>0&&Et<1&&K.push(Et);var ot=(-B-lt)/(2*et);ot>0&&ot<1&&K.push(ot)}}for(var Mt=K.length,Ot=Mt,Ft;Mt--;)R=K[Mt],Ft=1-R,$[0][Mt]=Ft*Ft*Ft*rt+3*Ft*Ft*R*G+3*Ft*R*R*at+R*R*R*ft,$[1][Mt]=Ft*Ft*Ft*q+3*Ft*Ft*R*N+3*Ft*R*R*H+R*R*R*ct;return $[0][Ot]=rt,$[1][Ot]=q,$[0][Ot+1]=ft,$[1][Ot+1]=ct,$[0].length=$[1].length=Ot+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},E=function(rt,q,G,N,at,H,ft,ct){if(!(Math.max(rt,G)<Math.min(at,ft)||Math.min(rt,G)>Math.max(at,ft)||Math.max(q,N)<Math.min(H,ct)||Math.min(q,N)>Math.max(H,ct))){var K=(rt*N-q*G)*(at-ft)-(rt-G)*(at*ct-H*ft),$=(rt*N-q*G)*(H-ct)-(q-N)*(at*ct-H*ft),et=(rt-G)*(H-ct)-(q-N)*(at-ft);if(!!et){var B=K/et,w=$/et,R=+B.toFixed(2),V=+w.toFixed(2);if(!(R<+Math.min(rt,G).toFixed(2)||R>+Math.max(rt,G).toFixed(2)||R<+Math.min(at,ft).toFixed(2)||R>+Math.max(at,ft).toFixed(2)||V<+Math.min(q,N).toFixed(2)||V>+Math.max(q,N).toFixed(2)||V<+Math.min(H,ct).toFixed(2)||V>+Math.max(H,ct).toFixed(2)))return{x:B,y:w}}}},C=function(rt,q,G){return q>=rt.x&&q<=rt.x+rt.width&&G>=rt.y&&G<=rt.y+rt.height},m=function(rt,q,G,N,at){if(at)return[["M",+rt+ +at,q],["l",G-at*2,0],["a",at,at,0,0,1,at,at],["l",0,N-at*2],["a",at,at,0,0,1,-at,at],["l",at*2-G,0],["a",at,at,0,0,1,-at,-at],["l",0,at*2-N],["a",at,at,0,0,1,at,-at],["z"]];var H=[["M",rt,q],["l",G,0],["l",0,N],["l",-G,0],["z"]];return H.parsePathArray=p,H},M=function(rt,q,G,N){return rt===null&&(rt=q=G=N=0),q===null&&(q=rt.y,G=rt.width,N=rt.height,rt=rt.x),{x:rt,y:q,width:G,w:G,height:N,h:N,x2:rt+G,y2:q+N,cx:rt+G/2,cy:q+N/2,r1:Math.min(G,N)/2,r2:Math.max(G,N)/2,r0:Math.sqrt(G*G+N*N)/2,path:m(rt,q,G,N),vb:[rt,q,G,N].join(" ")}},b=function(rt,q){return rt=M(rt),q=M(q),C(q,rt.x,rt.y)||C(q,rt.x2,rt.y)||C(q,rt.x,rt.y2)||C(q,rt.x2,rt.y2)||C(rt,q.x,q.y)||C(rt,q.x2,q.y)||C(rt,q.x,q.y2)||C(rt,q.x2,q.y2)||(rt.x<q.x2&&rt.x>q.x||q.x<rt.x2&&q.x>rt.x)&&(rt.y<q.y2&&rt.y>q.y||q.y<rt.y2&&q.y>rt.y)},S=function(rt,q,G,N,at,H,ft,ct){t.isArray(rt)||(rt=[rt,q,G,N,at,H,ft,ct]);var K=y.apply(null,rt);return M(K.min.x,K.min.y,K.max.x-K.min.x,K.max.y-K.min.y)},A=function(rt,q,G,N,at,H,ft,ct,K){var $=1-K,et=Math.pow($,3),B=Math.pow($,2),w=K*K,R=w*K,V=et*rt+B*3*K*G+$*3*K*K*at+R*ft,tt=et*q+B*3*K*N+$*3*K*K*H+R*ct,lt=rt+2*K*(G-rt)+w*(at-2*G+rt),Et=q+2*K*(N-q)+w*(H-2*N+q),ot=G+2*K*(at-G)+w*(ft-2*at+G),Mt=N+2*K*(H-N)+w*(ct-2*H+N),Ot=$*rt+K*G,Ft=$*q+K*N,zt=$*at+K*ft,$t=$*H+K*ct,ce=90-Math.atan2(lt-ot,Et-Mt)*180/Math.PI;return{x:V,y:tt,m:{x:lt,y:Et},n:{x:ot,y:Mt},start:{x:Ot,y:Ft},end:{x:zt,y:$t},alpha:ce}},T=function(rt,q,G){var N=S(rt),at=S(q);if(!b(N,at))return G?0:[];for(var H=g.apply(0,rt),ft=g.apply(0,q),ct=~~(H/8),K=~~(ft/8),$=[],et=[],B={},w=G?0:[],R=0;R<ct+1;R++){var V=A.apply(0,rt.concat(R/ct));$.push({x:V.x,y:V.y,t:R/ct})}for(var tt=0;tt<K+1;tt++){var lt=A.apply(0,q.concat(tt/K));et.push({x:lt.x,y:lt.y,t:tt/K})}for(var Et=0;Et<ct;Et++)for(var ot=0;ot<K;ot++){var Mt=$[Et],Ot=$[Et+1],Ft=et[ot],zt=et[ot+1],$t=Math.abs(Ot.x-Mt.x)<.001?"y":"x",ce=Math.abs(zt.x-Ft.x)<.001?"y":"x",ye=E(Mt.x,Mt.y,Ot.x,Ot.y,Ft.x,Ft.y,zt.x,zt.y);if(ye){if(B[ye.x.toFixed(4)]===ye.y.toFixed(4))continue;B[ye.x.toFixed(4)]=ye.y.toFixed(4);var Je=Mt.t+Math.abs((ye[$t]-Mt[$t])/(Ot[$t]-Mt[$t]))*(Ot.t-Mt.t),nr=Ft.t+Math.abs((ye[ce]-Ft[ce])/(zt[ce]-Ft[ce]))*(zt.t-Ft.t);Je>=0&&Je<=1&&nr>=0&&nr<=1&&(G?w++:w.push({x:ye.x,y:ye.y,t1:Je,t2:nr}))}}return w},O=function(rt,q,G){rt=l(rt),q=l(q);for(var N,at,H,ft,ct,K,$,et,B,w,R=G?0:[],V=0,tt=rt.length;V<tt;V++){var lt=rt[V];if(lt[0]==="M")N=ct=lt[1],at=K=lt[2];else{lt[0]==="C"?(B=[N,at].concat(lt.slice(1)),N=B[6],at=B[7]):(B=[N,at,N,at,ct,K,ct,K],N=ct,at=K);for(var Et=0,ot=q.length;Et<ot;Et++){var Mt=q[Et];if(Mt[0]==="M")H=$=Mt[1],ft=et=Mt[2];else{Mt[0]==="C"?(w=[H,ft].concat(Mt.slice(1)),H=w[6],ft=w[7]):(w=[H,ft,H,ft,$,et,$,et],H=$,ft=et);var Ot=T(B,w,G);if(G)R+=Ot;else{for(var Ft=0,zt=Ot.length;Ft<zt;Ft++)Ot[Ft].segment1=V,Ot[Ft].segment2=Et,Ot[Ft].bez1=B,Ot[Ft].bez2=w;R=R.concat(Ot)}}}}}return R},D=function(rt,q){return O(rt,q)};function L(Nt,rt){var q=[],G=[];function N(at,H){if(at.length===1)q.push(at[0]),G.push(at[0]);else{for(var ft=[],ct=0;ct<at.length-1;ct++)ct===0&&q.push(at[0]),ct===at.length-2&&G.push(at[ct+1]),ft[ct]=[(1-H)*at[ct][0]+H*at[ct+1][0],(1-H)*at[ct][1]+H*at[ct+1][1]];N(ft,H)}}return Nt.length&&N(Nt,rt),{left:q,right:G.reverse()}}function Z(Nt,rt,q){var G=[[Nt[1],Nt[2]]];q=q||2;var N=[];rt[0]==="A"?(G.push(rt[6]),G.push(rt[7])):rt[0]==="C"?(G.push([rt[1],rt[2]]),G.push([rt[3],rt[4]]),G.push([rt[5],rt[6]])):rt[0]==="S"||rt[0]==="Q"?(G.push([rt[1],rt[2]]),G.push([rt[3],rt[4]])):G.push([rt[1],rt[2]]);for(var at=G,H=1/q,ft=0;ft<q-1;ft++){var ct=H/(1-H*ft),K=L(at,ct);N.push(K.left),at=K.right}N.push(at);var $=N.map(function(et){var B=[];return et.length===4&&(B.push("C"),B=B.concat(et[2])),et.length>=3&&(et.length===3&&B.push("Q"),B=B.concat(et[1])),et.length===2&&B.push("L"),B=B.concat(et[et.length-1]),B});return $}var U=function(rt,q,G){if(G===1)return[[].concat(rt)];var N=[];if(q[0]==="L"||q[0]==="C"||q[0]==="Q")N=N.concat(Z(rt,q,G));else{var at=[].concat(rt);at[0]==="M"&&(at[0]="L");for(var H=0;H<=G-1;H++)N.push(at)}return N},Y=function(rt,q){if(rt.length===1)return rt;var G=rt.length-1,N=q.length-1,at=G/N,H=[];if(rt.length===1&&rt[0][0]==="M"){for(var ft=0;ft<N-G;ft++)rt.push(rt[0]);return rt}for(var ct=0;ct<N;ct++){var K=Math.floor(at*ct);H[K]=(H[K]||0)+1}var $=H.reduce(function(et,B,w){return w===G?et.concat(rt[G]):et.concat(U(rt[w],rt[w+1],B))},[]);return $.unshift(rt[0]),(q[N]==="Z"||q[N]==="z")&&$.push("Z"),$},W=function(rt,q){if(rt.length!==q.length)return!1;var G=!0;return t.each(rt,function(N,at){if(N!==q[at])return G=!1,!1}),G};function J(Nt,rt,q){var G=null,N=q;return rt<N&&(N=rt,G="add"),Nt<N&&(N=Nt,G="del"),{type:G,min:N}}var ht=function(rt,q){var G=rt.length,N=q.length,at,H,ft=0;if(G===0||N===0)return null;for(var ct=[],K=0;K<=G;K++)ct[K]=[],ct[K][0]={min:K};for(var $=0;$<=N;$++)ct[0][$]={min:$};for(var et=1;et<=G;et++){at=rt[et-1];for(var B=1;B<=N;B++){H=q[B-1],W(at,H)?ft=0:ft=1;var w=ct[et-1][B].min+1,R=ct[et][B-1].min+1,V=ct[et-1][B-1].min+ft;ct[et][B]=J(w,R,V)}}return ct},nt=function(rt,q){var G=ht(rt,q),N=rt.length,at=q.length,H=[],ft=1,ct=1;if(G[N][at]!==N){for(var K=1;K<=N;K++){var $=G[K][K].min;ct=K;for(var et=ft;et<=at;et++)G[K][et].min<$&&($=G[K][et].min,ct=et);ft=ct,G[K][ft].type&&H.push({index:K-1,type:G[K][ft].type})}for(var B=H.length-1;B>=0;B--)ft=H[B].index,H[B].type==="add"?rt.splice(ft,0,[].concat(rt[ft])):rt.splice(ft,1)}N=rt.length;var w=at-N;if(N<at)for(var R=0;R<w;R++)rt[N-1][0]==="z"||rt[N-1][0]==="Z"?rt.splice(N-2,0,rt[N-2]):rt.push(rt[N-1]),N+=1;return rt};function Q(Nt,rt,q){for(var G=[].concat(Nt),N,at=1/(q+1),H=xt(rt)[0],ft=1;ft<=q;ft++)at*=ft,N=Math.floor(Nt.length*at),N===0?G.unshift([H[0]*at+Nt[N][0]*(1-at),H[1]*at+Nt[N][1]*(1-at)]):G.splice(N,0,[H[0]*at+Nt[N][0]*(1-at),H[1]*at+Nt[N][1]*(1-at)]);return G}function xt(Nt){var rt=[];switch(Nt[0]){case"M":rt.push([Nt[1],Nt[2]]);break;case"L":rt.push([Nt[1],Nt[2]]);break;case"A":rt.push([Nt[6],Nt[7]]);break;case"Q":rt.push([Nt[3],Nt[4]]),rt.push([Nt[1],Nt[2]]);break;case"T":rt.push([Nt[1],Nt[2]]);break;case"C":rt.push([Nt[5],Nt[6]]),rt.push([Nt[1],Nt[2]]),rt.push([Nt[3],Nt[4]]);break;case"S":rt.push([Nt[3],Nt[4]]),rt.push([Nt[1],Nt[2]]);break;case"H":rt.push([Nt[1],Nt[1]]);break;case"V":rt.push([Nt[1],Nt[1]]);break;default:}return rt}var _t=function(rt,q){if(rt.length<=1)return rt;for(var G,N=0;N<q.length;N++)if(rt[N][0]!==q[N][0])switch(G=xt(rt[N]),q[N][0]){case"M":rt[N]=["M"].concat(G[0]);break;case"L":rt[N]=["L"].concat(G[0]);break;case"A":rt[N]=[].concat(q[N]),rt[N][6]=G[0][0],rt[N][7]=G[0][1];break;case"Q":if(G.length<2)if(N>0)G=Q(G,rt[N-1],1);else{rt[N]=q[N];break}rt[N]=["Q"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;case"T":rt[N]=["T"].concat(G[0]);break;case"C":if(G.length<3)if(N>0)G=Q(G,rt[N-1],2);else{rt[N]=q[N];break}rt[N]=["C"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;case"S":if(G.length<2)if(N>0)G=Q(G,rt[N-1],1);else{rt[N]=q[N];break}rt[N]=["S"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;default:rt[N]=q[N]}return rt};P.exports={parsePathString:o,parsePathArray:p,pathTocurve:l,pathToAbsolute:e,catmullRomToBezier:f,rectPath:m,fillPath:Y,fillPathByDiff:nt,formatPath:_t,intersection:D}},function(P,x,i){"use strict";x.b=l,x.a=p,x.c=d,x.d=g;var t=0,c=0,s=0,v=1e3,o,f,r=0,e=0,n=0,a=typeof performance=="object"&&performance.now?performance:Date,u=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(M){setTimeout(M,17)};function l(){return e||(u(h),e=a.now()+n)}function h(){e=0}function p(){this._call=this._time=this._next=null}p.prototype=d.prototype={constructor:p,restart:function(M,b,S){if(typeof M!="function")throw new TypeError("callback is not a function");S=(S==null?l():+S)+(b==null?0:+b),!this._next&&f!==this&&(f?f._next=this:o=this,f=this),this._call=M,this._time=S,m()},stop:function(){this._call&&(this._call=null,this._time=Infinity,m())}};function d(M,b,S){var A=new p;return A.restart(M,b,S),A}function g(){l(),++t;for(var M=o,b;M;)(b=e-M._time)>=0&&M._call.call(null,b),M=M._next;--t}function y(){e=(r=a.now())+n,t=c=0;try{g()}finally{t=0,C(),e=0}}function E(){var M=a.now(),b=M-r;b>v&&(n-=b,r=M)}function C(){for(var M,b=o,S,A=Infinity;b;)b._call?(A>b._time&&(A=b._time),M=b,b=b._next):(S=b._next,b._next=null,b=M?M._next=S:o=S);f=M,m(A)}function m(M){if(!t){c&&(c=clearTimeout(c));var b=M-e;b>24?(M<Infinity&&(c=setTimeout(y,M-a.now()-n)),s&&(s=clearInterval(s))):(s||(r=a.now(),s=setInterval(E,v)),t=1,u(y))}}},function(P,x,i){"use strict";var t=i(19),c=i(135),s=i(138),v=i(139),o=i(47),f=i(140),r=i(141),e=i(137);x.a=function(n,a){var u=typeof a,l;return a==null||u==="boolean"?Object(e.a)(a):(u==="number"?o.a:u==="string"?(l=Object(t.a)(a))?(a=l,c.a):r.a:a instanceof t.a?c.a:a instanceof Date?v.a:Array.isArray(a)?s.a:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?f.a:o.a)(n,a)}},function(P,x,i){"use strict";x.a=c,i.d(x,"d",function(){return s}),i.d(x,"c",function(){return v}),x.e=C,x.h=b,x.g=S,x.b=A,x.f=U;var t=i(86);function c(){}var s=.7,v=1/s,o="\\s*([+-]?\\d+)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),a=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),u=new RegExp("^rgba\\("+[o,o,o,f]+"\\)$"),l=new RegExp("^rgba\\("+[r,r,r,f]+"\\)$"),h=new RegExp("^hsl\\("+[f,r,r]+"\\)$"),p=new RegExp("^hsla\\("+[f,r,r,f]+"\\)$"),d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(t.a)(c,C,{copy:function(J){return Object.assign(new this.constructor,this,J)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:y,formatRgb:E,toString:E});function g(){return this.rgb().formatHex()}function y(){return Z(this).formatHsl()}function E(){return this.rgb().formatRgb()}function C(J){var ht,nt;return J=(J+"").trim().toLowerCase(),(ht=e.exec(J))?(nt=ht[1].length,ht=parseInt(ht[1],16),nt===6?m(ht):nt===3?new A(ht>>8&15|ht>>4&240,ht>>4&15|ht&240,(ht&15)<<4|ht&15,1):nt===8?M(ht>>24&255,ht>>16&255,ht>>8&255,(ht&255)/255):nt===4?M(ht>>12&15|ht>>8&240,ht>>8&15|ht>>4&240,ht>>4&15|ht&240,((ht&15)<<4|ht&15)/255):null):(ht=n.exec(J))?new A(ht[1],ht[2],ht[3],1):(ht=a.exec(J))?new A(ht[1]*255/100,ht[2]*255/100,ht[3]*255/100,1):(ht=u.exec(J))?M(ht[1],ht[2],ht[3],ht[4]):(ht=l.exec(J))?M(ht[1]*255/100,ht[2]*255/100,ht[3]*255/100,ht[4]):(ht=h.exec(J))?L(ht[1],ht[2]/100,ht[3]/100,1):(ht=p.exec(J))?L(ht[1],ht[2]/100,ht[3]/100,ht[4]):d.hasOwnProperty(J)?m(d[J]):J==="transparent"?new A(NaN,NaN,NaN,0):null}function m(J){return new A(J>>16&255,J>>8&255,J&255,1)}function M(J,ht,nt,Q){return Q<=0&&(J=ht=nt=NaN),new A(J,ht,nt,Q)}function b(J){return J instanceof c||(J=C(J)),J?(J=J.rgb(),new A(J.r,J.g,J.b,J.opacity)):new A}function S(J,ht,nt,Q){return arguments.length===1?b(J):new A(J,ht,nt,Q==null?1:Q)}function A(J,ht,nt,Q){this.r=+J,this.g=+ht,this.b=+nt,this.opacity=+Q}Object(t.a)(A,S,Object(t.b)(c,{brighter:function(J){return J=J==null?v:Math.pow(v,J),new A(this.r*J,this.g*J,this.b*J,this.opacity)},darker:function(J){return J=J==null?s:Math.pow(s,J),new A(this.r*J,this.g*J,this.b*J,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatRgb:O,toString:O}));function T(){return"#"+D(this.r)+D(this.g)+D(this.b)}function O(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(J===1?")":", "+J+")")}function D(J){return J=Math.max(0,Math.min(255,Math.round(J)||0)),(J<16?"0":"")+J.toString(16)}function L(J,ht,nt,Q){return Q<=0?J=ht=nt=NaN:nt<=0||nt>=1?J=ht=NaN:ht<=0&&(J=NaN),new Y(J,ht,nt,Q)}function Z(J){if(J instanceof Y)return new Y(J.h,J.s,J.l,J.opacity);if(J instanceof c||(J=C(J)),!J)return new Y;if(J instanceof Y)return J;J=J.rgb();var ht=J.r/255,nt=J.g/255,Q=J.b/255,xt=Math.min(ht,nt,Q),_t=Math.max(ht,nt,Q),Nt=NaN,rt=_t-xt,q=(_t+xt)/2;return rt?(ht===_t?Nt=(nt-Q)/rt+(nt<Q)*6:nt===_t?Nt=(Q-ht)/rt+2:Nt=(ht-nt)/rt+4,rt/=q<.5?_t+xt:2-_t-xt,Nt*=60):rt=q>0&&q<1?0:Nt,new Y(Nt,rt,q,J.opacity)}function U(J,ht,nt,Q){return arguments.length===1?Z(J):new Y(J,ht,nt,Q==null?1:Q)}function Y(J,ht,nt,Q){this.h=+J,this.s=+ht,this.l=+nt,this.opacity=+Q}Object(t.a)(Y,U,Object(t.b)(c,{brighter:function(J){return J=J==null?v:Math.pow(v,J),new Y(this.h,this.s,this.l*J,this.opacity)},darker:function(J){return J=J==null?s:Math.pow(s,J),new Y(this.h,this.s,this.l*J,this.opacity)},rgb:function(){var J=this.h%360+(this.h<0)*360,ht=isNaN(J)||isNaN(this.s)?0:this.s,nt=this.l,Q=nt+(nt<.5?nt:1-nt)*ht,xt=2*nt-Q;return new A(W(J>=240?J-240:J+120,xt,Q),W(J,xt,Q),W(J<120?J+240:J-120,xt,Q),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(J===1?")":", "+J+")")}}));function W(J,ht,nt){return(J<60?ht+(nt-ht)*J/60:J<180?nt:J<240?ht+(nt-ht)*(240-J)/60:ht)*255}},function(P,x,i){"use strict";x.b=t,x.a=function(c,s,v){c.prototype=s.prototype=v,v.constructor=c};function t(c,s){var v=Object.create(c.prototype);for(var o in s)v[o]=s[o];return v}},function(P,x,i){"use strict";x.a=t;function t(c,s,v,o,f){var r=c*c,e=r*c;return((1-3*c+3*r-e)*s+(4-6*r+3*e)*v+(1+3*c+3*r-3*e)*o+e*f)/6}x.b=function(c){var s=c.length-1;return function(v){var o=v<=0?v=0:v>=1?(v=1,s-1):Math.floor(v*s),f=c[o],r=c[o+1],e=o>0?c[o-1]:2*f-r,n=o<s-1?c[o+2]:2*r-f;return t((v-o/s)*s,e,f,r,n)}}},function(P,x,i){var t=i(3),c=i(15),s=function(o,f){if(!c(o))return o;var r=[];return t(o,function(e,n){f(e,n)&&r.push(e)}),r};P.exports=s},function(P,x,i){var t=i(6),c=i(5),s=i(3);P.exports=function(o,f){for(var r=[],e={},n=0;n<o.length;n++){var a=o[n],u=a[f];t(u)||(c(u)||(u=[u]),s(u,function(l){e[l]||(r.push(l),e[l]=!0)}))}return r}},function(P,x,i){var t;/*!
* EventEmitter v5.1.0 - git.io/ee
* Unlicense - http://unlicense.org/
* Oliver Caldwell - http://oli.me.uk/
* @preserve
*/(function(c){"use strict";function s(){}var v=s.prototype,o=c.EventEmitter;function f(n,a){for(var u=n.length;u--;)if(n[u].listener===a)return u;return-1}function r(n){return function(){return this[n].apply(this,arguments)}}v.getListeners=function(a){var u=this._getEvents(),l,h;if(a instanceof RegExp){l={};for(h in u)u.hasOwnProperty(h)&&a.test(h)&&(l[h]=u[h])}else l=u[a]||(u[a]=[]);return l},v.flattenListeners=function(a){var u=[],l;for(l=0;l<a.length;l+=1)u.push(a[l].listener);return u},v.getListenersAsObject=function(a){var u=this.getListeners(a),l;return u instanceof Array&&(l={},l[a]=u),l||u};function e(n){return typeof n=="function"||n instanceof RegExp?!0:n&&typeof n=="object"?e(n.listener):!1}v.addListener=function(a,u){if(!e(u))throw new TypeError("listener must be a function");var l=this.getListenersAsObject(a),h=typeof u=="object",p;for(p in l)l.hasOwnProperty(p)&&f(l[p],u)===-1&&l[p].push(h?u:{listener:u,once:!1});return this},v.on=r("addListener"),v.addOnceListener=function(a,u){return this.addListener(a,{listener:u,once:!0})},v.once=r("addOnceListener"),v.defineEvent=function(a){return this.getListeners(a),this},v.defineEvents=function(a){for(var u=0;u<a.length;u+=1)this.defineEvent(a[u]);return this},v.removeListener=function(a,u){var l=this.getListenersAsObject(a),h,p;for(p in l)l.hasOwnProperty(p)&&(h=f(l[p],u),h!==-1&&l[p].splice(h,1));return this},v.off=r("removeListener"),v.addListeners=function(a,u){return this.manipulateListeners(!1,a,u)},v.removeListeners=function(a,u){return this.manipulateListeners(!0,a,u)},v.manipulateListeners=function(a,u,l){var h,p,d=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(h in u)u.hasOwnProperty(h)&&(p=u[h])&&(typeof p=="function"?d.call(this,h,p):g.call(this,h,p));else for(h=l.length;h--;)d.call(this,u,l[h]);return this},v.removeEvent=function(a){var u=typeof a,l=this._getEvents(),h;if(u==="string")delete l[a];else if(a instanceof RegExp)for(h in l)l.hasOwnProperty(h)&&a.test(h)&&delete l[h];else delete this._events;return this},v.removeAllListeners=r("removeEvent"),v.emitEvent=function(a,u){var l=this.getListenersAsObject(a),h,p,d,g,y;for(g in l)if(l.hasOwnProperty(g))for(h=l[g].slice(0),d=0;d<h.length;d++)p=h[d],p.once===!0&&this.removeListener(a,p.listener),y=p.listener.apply(this,u||[]),y===this._getOnceReturnValue()&&this.removeListener(a,p.listener);return this},v.trigger=r("emitEvent"),v.emit=function(a){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,u)},v.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},v._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},v._getEvents=function(){return this._events||(this._events={})},s.noConflict=function(){return c.EventEmitter=o,s},t=function(){return s}.call(c,i,c,P),t!==void 0&&(P.exports=t)})(this||{})},function(P,x,i){var t=i(18),c=t.Group,s=i(24),v=s.Label,o=i(8),f=i(0),r=["line","point","path"],e="_origin";function n(l){var h=0;return f.each(l,function(p){h+=p}),h/l.length}function a(l,h){if(f.isNumber(l)&&f.isNumber(h))return[l,h];for(var p=-1,d=0,g=0,y,E=l.length-1,C,m=0;++p<l.length;)y=E,E=p,m+=C=l[y]*h[E]-l[E]*h[y],d+=(l[y]+l[E])*C,g+=(h[y]+h[E])*C;return m*=3,[d/m,g/m]}var u=function l(h){l.superclass.constructor.call(this,h)};f.extend(u,c),f.augment(u,{getDefaultCfg:function(){return{label:o.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function(){u.superclass._renderUI.call(this),this.initLabelsCfg();var h=this.addGroup(),p=this.addGroup({elCls:"x-line-group"}),d=this.get("labelRenderer");this.set("labelsGroup",h),this.set("lineGroup",p),this.get("labelRenderer").set("group",h),d.set("group",h),d.set("lineGroup",p)},initLabelsCfg:function(){var h=this,p=new v,d=h.getDefaultLabelCfg(),g=h.get("labelCfg");f.deepMix(d,g.globalCfg||g.cfg),p.set("config",!1),d.labelLine&&p.set("labelLine",d.labelLine),p.set("coord",h.get("coord")),this.set("labelRenderer",p),h.set("label",d)},getDefaultLabelCfg:function(){var h=this,p=h.get("labelCfg").cfg||h.get("labelCfg").globalCfg,d=h.get("geomType"),g=h.get("viewTheme")||o;return d==="polygon"||p&&p.offset<0&&f.indexOf(r,d)===-1?f.deepMix({},h.get("label"),g.innerLabels,p):f.deepMix({},h.get("label"),g.label,p)},getLabelsItems:function(h,p){var d=this,g=[],y=d.get("geom"),E=d.get("coord");d._getLabelCfgs(h,p);var C=d.get("labelItemCfgs");return f.each(h,function(m,M){var b=m[e],S=C[M];if(!S){g.push(null);return}f.isArray(S.text)||(S.text=[S.text]);var A=S.text.length;f.each(S.text,function(T,O){if(f.isNil(T)||T===""){g.push(null);return}var D=d.getLabelPoint(S,m,O);D=f.mix({},S,D),D.textAlign||(D.textAlign=d.getLabelAlign(D,O,A)),y&&(D._id=y._getShapeId(b)+"-glabel-"+O+"-"+D.text),D.coord=E,g.push(D)})}),g},adjustItems:function(h){return f.each(h,function(p){!p||(p.offsetX&&(p.x+=p.offsetX),p.offsetY&&(p.y+=p.offsetY))}),h},drawLines:function(h){var p=this;f.each(h,function(d){!d||d.offset>0&&p.lineToLabel(d)})},lineToLabel:function(){},getLabelPoint:function(h,p,d){var g=this,y=g.get("coord"),E=h.text.length;function C(A,T){return f.isArray(A)&&(h.text.length===1?A.length<=2?A=A[A.length-1]:A=n(A):A=A[T]),A}var m={text:h.text[d]};if(p&&this.get("geomType")==="polygon"){var M=a(p.x,p.y);m.x=M[0],m.y=M[1]}else m.x=C(p.x,d),m.y=C(p.y,d);if(p&&p.nextPoints&&(p.shape==="funnel"||p.shape==="pyramid")){var b=-Infinity;p.nextPoints.forEach(function(A){A=y.convert(A),A.x>b&&(b=A.x)}),m.x=(m.x+b)/2}p.shape==="pyramid"&&!p.nextPoints&&p.points&&p.points.forEach(function(A){A=y.convert(A),(f.isArray(A.x)&&!p.x.includes(A.x)||f.isNumber(A.x)&&p.x!==A.x)&&(m.x=(m.x+A.x)/2)}),h.position&&g.setLabelPosition(m,p,d,h.position);var S=g.getLabelOffset(h,d,E);return h.offsetX&&(S.x+=h.offsetX),h.offsetY&&(S.y+=h.offsetY),g.transLabelPoint(m),m.start={x:m.x,y:m.y},m.x+=S.x,m.y+=S.y,m.color=p.color,m},setLabelPosition:function(){},transLabelPoint:function(h){var p=this,d=p.get("coord"),g=d.applyMatrix(h.x,h.y,1);h.x=g[0],h.y=g[1]},getOffsetVector:function(h){var p=this,d=h.offset||0,g=p.get("coord"),y;return g.isTransposed?y=g.applyMatrix(d,0):y=g.applyMatrix(0,d),y},getDefaultOffset:function(h){var p=this,d=0,g=p.get("coord"),y=p.getOffsetVector(h);g.isTransposed?d=y[0]:d=y[1];var E=this.get("yScale");if(E&&h.point){var C=h.point[E.field];C<0&&(d=d*-1)}return d},getLabelOffset:function(h,p,d){var g=this,y=g.getDefaultOffset(h),E=g.get("coord"),C=E.isTransposed,m=C?"x":"y",M=C?1:-1,b={x:0,y:0};return p>0||d===1?b[m]=y*M:b[m]=y*M*-1,b},getLabelAlign:function(h,p,d){var g=this,y="center",E=g.get("coord");if(E.isTransposed){var C=g.getDefaultOffset(h);C<0?y="right":C===0?y="center":y="left",d>1&&p===0&&(y==="right"?y="left":y==="left"&&(y="right"))}return y},_getLabelValue:function(h,p){f.isArray(p)||(p=[p]);var d=[];return f.each(p,function(g){var y=h[g.field];if(f.isArray(y)){var E=[];f.each(y,function(C){E.push(g.getText(C))}),y=E}else y=g.getText(y);(f.isNil(y)||y==="")&&d.push(null),d.push(y)}),d},_getLabelCfgs:function(h){var p=this,d=this.get("labelCfg"),g=d.scales,y=this.get("label"),E=p.get("viewTheme")||o,C=[];d.globalCfg&&d.globalCfg.type&&p.set("type",d.globalCfg.type),f.each(h,function(m,M){var b={},S=m[e],A=p._getLabelValue(S,g);if(d.callback){var T=g.map(function(L){return S[L.field]});b=d.callback.apply(null,[].concat(T,[m,M]))}if(!b&&b!==0){C.push(null);return}if(f.isString(b)||f.isNumber(b)?b={text:b}:(b.text=b.content||A[0],delete b.content),b=f.mix({},y,d.globalCfg||{},b),m.point=S,b.point=S,b.htmlTemplate&&(b.useHtml=!0,b.text=b.htmlTemplate.call(null,b.text,m,M),delete b.htmlTemplate),b.formatter&&(b.text=b.formatter.call(null,b.text,m,M),delete b.formatter),b.label){var O=b.label;delete b.label,b=f.mix(b,O)}if(b.textStyle){delete b.textStyle.offset;var D=b.textStyle;f.isFunction(D)&&(b.textStyle=D.call(null,b.text,m,M))}b.labelLine&&(b.labelLine=f.mix({},y.labelLine,b.labelLine)),b.textStyle=f.mix({},y.textStyle,E.label.textStyle,b.textStyle),delete b.items,C.push(b)}),this.set("labelItemCfgs",C)},showLabels:function(h,p){var d=this,g=d.get("labelRenderer"),y=d.getLabelsItems(h,p);p=[].concat(p);var E=d.get("type");y=d.adjustItems(y,p),d.drawLines(y),g.set("items",y.filter(function(C,m){return C?!0:(p.splice(m,1),!1)})),E&&(g.set("shapes",p),g.set("type",E),g.set("points",h)),g.set("canvas",this.get("canvas")),g.draw()},destroy:function(){this.get("labelRenderer").destroy(),u.superclass.destroy.call(this)}}),P.exports=u},function(P,x,i){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function c(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,s(r,e)}function s(r,e){return s=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},s(r,e)}var v=i(90),o=i(4),f=function(r){c(n,r);var e=n.prototype;e.getDefaultCfg=function(){return{}};function n(a){var u;u=r.call(this)||this;var l=t(u),h={visible:!0},p=l.getDefaultCfg();return l._attrs=h,o.deepMix(h,p,a),u}return e.get=function(u){return this._attrs[u]},e.set=function(u,l){this._attrs[u]=l},e.changeVisible=function(){},e.destroy=function(){var u=this;u._attrs={},u.removeAllListeners(),u.destroyed=!0},n}(v);P.exports=f},function(P,x,i){var t=i(52),c=i(173),s=i(94),v=i(53);P.exports={line:function(f,r,e,n,a,u,l){var h=t.box(f,r,e,n,a);if(!this.box(h.minX,h.maxX,h.minY,h.maxY,u,l))return!1;var p=t.pointDistance(f,r,e,n,u,l);return isNaN(p)?!1:p<=a/2},polyline:function(f,r,e,n){var a=f.length-1;if(a<1)return!1;for(var u=0;u<a;u++){var l=f[u][0],h=f[u][1],p=f[u+1][0],d=f[u+1][1];if(this.line(l,h,p,d,r,e,n))return!0}return!1},cubicline:function(f,r,e,n,a,u,l,h,p,d,g){return s.pointDistance(f,r,e,n,a,u,l,h,d,g)<=p/2},quadraticline:function(f,r,e,n,a,u,l,h,p){return c.pointDistance(f,r,e,n,a,u,h,p)<=l/2},arcline:function(f,r,e,n,a,u,l,h,p){return v.pointDistance(f,r,e,n,a,u,h,p)<=l/2},rect:function(f,r,e,n,a,u){return f<=a&&a<=f+e&&r<=u&&u<=r+n},circle:function(f,r,e,n,a){return Math.pow(n-f,2)+Math.pow(a-r,2)<=Math.pow(e,2)},box:function(f,r,e,n,a,u){return f<=a&&a<=r&&e<=u&&u<=n}}},function(P,x,i){var t=i(2),c=t.vec2;function s(n,a,u,l,h){var p=1-h;return p*p*(p*l+3*h*u)+h*h*(h*n+3*p*a)}function v(n,a,u,l,h){var p=1-h;return 3*(((a-n)*p+2*(u-a)*h)*p+(l-u)*h*h)}function o(n,a,u,l,h,p,d,g,y,E,C){var m,M=.005,b=Infinity,S,A,T,O,D,L,Z,U=1e-4,Y=[y,E];for(S=0;S<1;S+=.05)A=[s(n,u,h,d,S),s(a,l,p,g,S)],T=c.squaredDistance(Y,A),T<b&&(m=S,b=T);b=Infinity;for(var W=0;W<32&&!(M<U);W++)L=m-M,Z=m+M,A=[s(n,u,h,d,L),s(a,l,p,g,L)],T=c.squaredDistance(Y,A),L>=0&&T<b?(m=L,b=T):(D=[s(n,u,h,d,Z),s(a,l,p,g,Z)],O=c.squaredDistance(Y,D),Z<=1&&O<b?(m=Z,b=O):M*=.5);return C&&(C.x=s(n,u,h,d,m),C.y=s(a,l,p,g,m)),Math.sqrt(b)}function f(n,a,u,l){var h=3*n-9*a+9*u-3*l,p=6*a-12*u+6*l,d=3*u-3*l,g=[],y,E,C;if(t.isNumberEqual(h,0))t.isNumberEqual(p,0)||(y=-d/p,y>=0&&y<=1&&g.push(y));else{var m=p*p-4*h*d;t.isNumberEqual(m,0)?g.push(-p/(2*h)):m>0&&(C=Math.sqrt(m),y=(-p+C)/(2*h),E=(-p-C)/(2*h),y>=0&&y<=1&&g.push(y),E>=0&&E<=1&&g.push(E))}return g}function r(n,a,u,l,h){var p=-3*a+9*u-9*l+3*h,d=n*p+6*a-12*u+6*l;return n*d-3*a+3*u}function e(n,a,u,l,h,p,d,g,y){t.isNil(y)&&(y=1),y=y>1?1:y<0?0:y;for(var E=y/2,C=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],b=0,S=0;S<C;S++){var A=E*m[S]+E,T=r(A,n,u,h,d),O=r(A,a,l,p,g),D=T*T+O*O;b+=M[S]*Math.sqrt(D)}return E*b}P.exports={at:s,derivativeAt:v,projectPoint:function(a,u,l,h,p,d,g,y,E,C){var m={};return o(a,u,l,h,p,d,g,y,E,C,m),m},pointDistance:o,extrema:f,len:e}},function(P,x,i){var t=i(2),c=i(9),s=i(37),v=i(55),o=function f(r){f.superclass.constructor.call(this,r)};o.Symbols={circle:function(r,e,n){return[["M",r,e],["m",-n,0],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0]]},square:function(r,e,n){return[["M",r-n,e-n],["L",r+n,e-n],["L",r+n,e+n],["L",r-n,e+n],["Z"]]},diamond:function(r,e,n){return[["M",r-n,e],["L",r,e-n],["L",r+n,e],["L",r,e+n],["Z"]]},triangle:function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e+a],["L",r,e-a],["L",r+n,e+a],["z"]]},"triangle-down":function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e-a],["L",r+n,e-a],["L",r,e+a],["Z"]]}},o.ATTRS={path:null,lineWidth:1},t.extend(o,c),t.augment(o,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius,u=this.getHitLineWidth(),l=u/2+a;return{minX:e-l,minY:n-l,maxX:e+l,maxY:n+l}},_getPath:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=r.symbol||"circle",l;return t.isFunction(u)?l=u:l=o.Symbols[u],l?l(e,n,a):(console.warn(u+" marker is not supported."),null)},createPath:function(r){var e=this._cfg.segments;if(e&&!this._cfg.hasUpdate){r.beginPath();for(var n=0;n<e.length;n++)e[n].draw(r);return}var a=s.parsePath(this._getPath());r.beginPath();var u;e=[];for(var l=0;l<a.length;l++){var h=a[l];u=new v(h,u,l===a.length-1),e.push(u),u.draw(r)}this._cfg.segments=e,this._cfg.hasUpdate=!1}}),P.exports=o},function(P,x,i){var t=i(169),c=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,s=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig"),o=function(rt){if(!rt)return null;if(typeof rt==typeof[])return rt;var q={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},G=[];return String(rt).replace(s,function(N,at,H){var ft=[],ct=at.toLowerCase();if(H.replace(v,function(K,$){$&&ft.push(+$)}),ct==="m"&&ft.length>2&&(G.push([at].concat(ft.splice(0,2))),ct="l",at=at==="m"?"l":"L"),ct==="o"&&ft.length===1&&G.push([at,ft[0]]),ct==="r")G.push([at].concat(ft));else for(;ft.length>=q[ct]&&(G.push([at].concat(ft.splice(0,q[ct]))),!!q[ct]););}),G},f=function(rt,q){for(var G=[],N=0,at=rt.length;at-2*!q>N;N+=2){var H=[{x:+rt[N-2],y:+rt[N-1]},{x:+rt[N],y:+rt[N+1]},{x:+rt[N+2],y:+rt[N+3]},{x:+rt[N+4],y:+rt[N+5]}];q?N?at-4===N?H[3]={x:+rt[0],y:+rt[1]}:at-2===N&&(H[2]={x:+rt[0],y:+rt[1]},H[3]={x:+rt[2],y:+rt[3]}):H[0]={x:+rt[at-2],y:+rt[at-1]}:at-4===N?H[3]=H[2]:N||(H[0]={x:+rt[N],y:+rt[N+1]}),G.push(["C",(-H[0].x+6*H[1].x+H[2].x)/6,(-H[0].y+6*H[1].y+H[2].y)/6,(H[1].x+6*H[2].x-H[3].x)/6,(H[1].y+6*H[2].y-H[3].y)/6,H[2].x,H[2].y])}return G},r=function(rt,q,G,N,at){var H=[];if(at===null&&N===null&&(N=G),rt=+rt,q=+q,G=+G,N=+N,at!==null){var ft=Math.PI/180,ct=rt+G*Math.cos(-N*ft),K=rt+G*Math.cos(-at*ft),$=q+G*Math.sin(-N*ft),et=q+G*Math.sin(-at*ft);H=[["M",ct,$],["A",G,G,0,+(at-N>180),0,K,et]]}else H=[["M",rt,q],["m",0,-N],["a",G,N,0,1,1,0,2*N],["a",G,N,0,1,1,0,-2*N],["z"]];return H},e=function(rt){if(rt=o(rt),!rt||!rt.length)return[["M",0,0]];var q=[],G=0,N=0,at=0,H=0,ft=0,ct,K;rt[0][0]==="M"&&(G=+rt[0][1],N=+rt[0][2],at=G,H=N,ft++,q[0]=["M",G,N]);for(var $=rt.length===3&&rt[0][0]==="M"&&rt[1][0].toUpperCase()==="R"&&rt[2][0].toUpperCase()==="Z",et,B,w=ft,R=rt.length;w<R;w++){if(q.push(et=[]),B=rt[w],ct=B[0],ct!==ct.toUpperCase())switch(et[0]=ct.toUpperCase(),et[0]){case"A":et[1]=B[1],et[2]=B[2],et[3]=B[3],et[4]=B[4],et[5]=B[5],et[6]=+B[6]+G,et[7]=+B[7]+N;break;case"V":et[1]=+B[1]+N;break;case"H":et[1]=+B[1]+G;break;case"R":K=[G,N].concat(B.slice(1));for(var V=2,tt=K.length;V<tt;V++)K[V]=+K[V]+G,K[++V]=+K[V]+N;q.pop(),q=q.concat(f(K,$));break;case"O":q.pop(),K=r(G,N,B[1],B[2]),K.push(K[0]),q=q.concat(K);break;case"U":q.pop(),q=q.concat(r(G,N,B[1],B[2],B[3])),et=["U"].concat(q[q.length-1].slice(-2));break;case"M":at=+B[1]+G,H=+B[2]+N;break;default:for(var lt=1,Et=B.length;lt<Et;lt++)et[lt]=+B[lt]+(lt%2?G:N)}else if(ct==="R")K=[G,N].concat(B.slice(1)),q.pop(),q=q.concat(f(K,$)),et=["R"].concat(B.slice(-2));else if(ct==="O")q.pop(),K=r(G,N,B[1],B[2]),K.push(K[0]),q=q.concat(K);else if(ct==="U")q.pop(),q=q.concat(r(G,N,B[1],B[2],B[3])),et=["U"].concat(q[q.length-1].slice(-2));else for(var ot=0,Mt=B.length;ot<Mt;ot++)et[ot]=B[ot];if(ct=ct.toUpperCase(),ct!=="O")switch(et[0]){case"Z":G=+at,N=+H;break;case"H":G=et[1];break;case"V":N=et[1];break;case"M":at=et[et.length-2],H=et[et.length-1];break;default:G=et[et.length-2],N=et[et.length-1]}}return q},n=function(rt,q,G,N){return[rt,q,G,N,G,N]},a=function(rt,q,G,N,at,H){var ft=1/3,ct=2/3;return[ft*rt+ct*G,ft*q+ct*N,ft*at+ct*G,ft*H+ct*N,at,H]},u=function Nt(rt,q,G,N,at,H,ft,ct,K,$){G===N&&(G+=1);var et=Math.PI*120/180,B=Math.PI/180*(+at||0),w=[],R,V,tt,lt,Et,ot=function(Pr,or,wr){var cn=Pr*Math.cos(wr)-or*Math.sin(wr),Fn=Pr*Math.sin(wr)+or*Math.cos(wr);return{x:cn,y:Fn}};if($)V=$[0],tt=$[1],lt=$[2],Et=$[3];else{R=ot(rt,q,-B),rt=R.x,q=R.y,R=ot(ct,K,-B),ct=R.x,K=R.y,rt===ct&&q===K&&(ct+=1,K+=1);var Mt=(rt-ct)/2,Ot=(q-K)/2,Ft=Mt*Mt/(G*G)+Ot*Ot/(N*N);Ft>1&&(Ft=Math.sqrt(Ft),G=Ft*G,N=Ft*N);var zt=G*G,$t=N*N,ce=(H===ft?-1:1)*Math.sqrt(Math.abs((zt*$t-zt*Ot*Ot-$t*Mt*Mt)/(zt*Ot*Ot+$t*Mt*Mt)));lt=ce*G*Ot/N+(rt+ct)/2,Et=ce*-N*Mt/G+(q+K)/2,V=Math.asin(((q-Et)/N).toFixed(9)),tt=Math.asin(((K-Et)/N).toFixed(9)),V=rt<lt?Math.PI-V:V,tt=ct<lt?Math.PI-tt:tt,V<0&&(V=Math.PI*2+V),tt<0&&(tt=Math.PI*2+tt),ft&&V>tt&&(V=V-Math.PI*2),!ft&&tt>V&&(tt=tt-Math.PI*2)}var ye=tt-V;if(Math.abs(ye)>et){var Je=tt,nr=ct,Xe=K;tt=V+et*(ft&&tt>V?1:-1),ct=lt+G*Math.cos(tt),K=Et+N*Math.sin(tt),w=Nt(ct,K,G,N,at,0,ft,nr,Xe,[tt,Je,lt,Et])}ye=tt-V;var mr=Math.cos(V),Gr=Math.sin(V),xe=Math.cos(tt),de=Math.sin(tt),ze=Math.tan(ye/4),Ue=4/3*G*ze,Kr=4/3*N*ze,rn=[rt,q],ci=[rt+Ue*Gr,q-Kr*mr],Zi=[ct+Ue*de,K-Kr*xe],Ki=[ct,K];if(ci[0]=2*rn[0]-ci[0],ci[1]=2*rn[1]-ci[1],$)return[ci,Zi,Ki].concat(w);w=[ci,Zi,Ki].concat(w).join().split(",");for(var ji=[],Ae=0,De=w.length;Ae<De;Ae++)ji[Ae]=Ae%2?ot(w[Ae-1],w[Ae],B).y:ot(w[Ae],w[Ae+1],B).x;return ji},l=function(rt,q){var G=e(rt),N=q&&e(q),at={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ft=[],ct=[],K="",$="",et,B=function(Ot,Ft,zt){var $t,ce;if(!Ot)return["C",Ft.x,Ft.y,Ft.x,Ft.y,Ft.x,Ft.y];switch(!(Ot[0]in{T:1,Q:1})&&(Ft.qx=Ft.qy=null),Ot[0]){case"M":Ft.X=Ot[1],Ft.Y=Ot[2];break;case"A":Ot=["C"].concat(u.apply(0,[Ft.x,Ft.y].concat(Ot.slice(1))));break;case"S":zt==="C"||zt==="S"?($t=Ft.x*2-Ft.bx,ce=Ft.y*2-Ft.by):($t=Ft.x,ce=Ft.y),Ot=["C",$t,ce].concat(Ot.slice(1));break;case"T":zt==="Q"||zt==="T"?(Ft.qx=Ft.x*2-Ft.qx,Ft.qy=Ft.y*2-Ft.qy):(Ft.qx=Ft.x,Ft.qy=Ft.y),Ot=["C"].concat(a(Ft.x,Ft.y,Ft.qx,Ft.qy,Ot[1],Ot[2]));break;case"Q":Ft.qx=Ot[1],Ft.qy=Ot[2],Ot=["C"].concat(a(Ft.x,Ft.y,Ot[1],Ot[2],Ot[3],Ot[4]));break;case"L":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ot[2]));break;case"H":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ft.y));break;case"V":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.x,Ot[1]));break;case"Z":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.X,Ft.Y));break;default:break}return Ot},w=function(Ot,Ft){if(Ot[Ft].length>7){Ot[Ft].shift();for(var zt=Ot[Ft];zt.length;)ft[Ft]="A",N&&(ct[Ft]="A"),Ot.splice(Ft++,0,["C"].concat(zt.splice(0,6)));Ot.splice(Ft,1),et=Math.max(G.length,N&&N.length||0)}},R=function(Ot,Ft,zt,$t,ce){Ot&&Ft&&Ot[ce][0]==="M"&&Ft[ce][0]!=="M"&&(Ft.splice(ce,0,["M",$t.x,$t.y]),zt.bx=0,zt.by=0,zt.x=Ot[ce][1],zt.y=Ot[ce][2],et=Math.max(G.length,N&&N.length||0))};et=Math.max(G.length,N&&N.length||0);for(var V=0;V<et;V++){G[V]&&(K=G[V][0]),K!=="C"&&(ft[V]=K,V&&($=ft[V-1])),G[V]=B(G[V],at,$),ft[V]!=="A"&&K==="C"&&(ft[V]="C"),w(G,V),N&&(N[V]&&(K=N[V][0]),K!=="C"&&(ct[V]=K,V&&($=ct[V-1])),N[V]=B(N[V],H,$),ct[V]!=="A"&&K==="C"&&(ct[V]="C"),w(N,V)),R(G,N,at,H,V),R(N,G,H,at,V);var tt=G[V],lt=N&&N[V],Et=tt.length,ot=N&&lt.length;at.x=tt[Et-2],at.y=tt[Et-1],at.bx=parseFloat(tt[Et-4])||at.x,at.by=parseFloat(tt[Et-3])||at.y,H.bx=N&&(parseFloat(lt[ot-4])||H.x),H.by=N&&(parseFloat(lt[ot-3])||H.y),H.x=N&&lt[ot-2],H.y=N&&lt[ot-1]}return N?[G,N]:G},h=/,?([a-z]),?/gi,p=function(rt){return rt.join(",").replace(h,"$1")},d=function(rt,q,G,N,at){var H=-3*q+9*G-9*N+3*at,ft=rt*H+6*q-12*G+6*N;return rt*ft-3*q+3*G},g=function(rt,q,G,N,at,H,ft,ct,K){K===null&&(K=1),K=K>1?1:K<0?0:K;for(var $=K/2,et=12,B=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],w=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],R=0,V=0;V<et;V++){var tt=$*B[V]+$,lt=d(tt,rt,G,at,ft),Et=d(tt,q,N,H,ct),ot=lt*lt+Et*Et;R+=w[V]*Math.sqrt(ot)}return $*R},y=function(rt,q,G,N,at,H,ft,ct){for(var K=[],$=[[],[]],et,B,w,R,V=0;V<2;++V){if(V===0?(B=6*rt-12*G+6*at,et=-3*rt+9*G-9*at+3*ft,w=3*G-3*rt):(B=6*q-12*N+6*H,et=-3*q+9*N-9*H+3*ct,w=3*N-3*q),Math.abs(et)<1e-12){if(Math.abs(B)<1e-12)continue;R=-w/B,R>0&&R<1&&K.push(R);continue}var tt=B*B-4*w*et,lt=Math.sqrt(tt);if(!(tt<0)){var Et=(-B+lt)/(2*et);Et>0&&Et<1&&K.push(Et);var ot=(-B-lt)/(2*et);ot>0&&ot<1&&K.push(ot)}}for(var Mt=K.length,Ot=Mt,Ft;Mt--;)R=K[Mt],Ft=1-R,$[0][Mt]=Ft*Ft*Ft*rt+3*Ft*Ft*R*G+3*Ft*R*R*at+R*R*R*ft,$[1][Mt]=Ft*Ft*Ft*q+3*Ft*Ft*R*N+3*Ft*R*R*H+R*R*R*ct;return $[0][Ot]=rt,$[1][Ot]=q,$[0][Ot+1]=ft,$[1][Ot+1]=ct,$[0].length=$[1].length=Ot+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},E=function(rt,q,G,N,at,H,ft,ct){if(!(Math.max(rt,G)<Math.min(at,ft)||Math.min(rt,G)>Math.max(at,ft)||Math.max(q,N)<Math.min(H,ct)||Math.min(q,N)>Math.max(H,ct))){var K=(rt*N-q*G)*(at-ft)-(rt-G)*(at*ct-H*ft),$=(rt*N-q*G)*(H-ct)-(q-N)*(at*ct-H*ft),et=(rt-G)*(H-ct)-(q-N)*(at-ft);if(!!et){var B=K/et,w=$/et,R=+B.toFixed(2),V=+w.toFixed(2);if(!(R<+Math.min(rt,G).toFixed(2)||R>+Math.max(rt,G).toFixed(2)||R<+Math.min(at,ft).toFixed(2)||R>+Math.max(at,ft).toFixed(2)||V<+Math.min(q,N).toFixed(2)||V>+Math.max(q,N).toFixed(2)||V<+Math.min(H,ct).toFixed(2)||V>+Math.max(H,ct).toFixed(2)))return{x:B,y:w}}}},C=function(rt,q,G){return q>=rt.x&&q<=rt.x+rt.width&&G>=rt.y&&G<=rt.y+rt.height},m=function(rt,q,G,N,at){if(at)return[["M",+rt+ +at,q],["l",G-at*2,0],["a",at,at,0,0,1,at,at],["l",0,N-at*2],["a",at,at,0,0,1,-at,at],["l",at*2-G,0],["a",at,at,0,0,1,-at,-at],["l",0,at*2-N],["a",at,at,0,0,1,at,-at],["z"]];var H=[["M",rt,q],["l",G,0],["l",0,N],["l",-G,0],["z"]];return H.parsePathArray=p,H},M=function(rt,q,G,N){return rt===null&&(rt=q=G=N=0),q===null&&(q=rt.y,G=rt.width,N=rt.height,rt=rt.x),{x:rt,y:q,width:G,w:G,height:N,h:N,x2:rt+G,y2:q+N,cx:rt+G/2,cy:q+N/2,r1:Math.min(G,N)/2,r2:Math.max(G,N)/2,r0:Math.sqrt(G*G+N*N)/2,path:m(rt,q,G,N),vb:[rt,q,G,N].join(" ")}},b=function(rt,q){return rt=M(rt),q=M(q),C(q,rt.x,rt.y)||C(q,rt.x2,rt.y)||C(q,rt.x,rt.y2)||C(q,rt.x2,rt.y2)||C(rt,q.x,q.y)||C(rt,q.x2,q.y)||C(rt,q.x,q.y2)||C(rt,q.x2,q.y2)||(rt.x<q.x2&&rt.x>q.x||q.x<rt.x2&&q.x>rt.x)&&(rt.y<q.y2&&rt.y>q.y||q.y<rt.y2&&q.y>rt.y)},S=function(rt,q,G,N,at,H,ft,ct){t.isArray(rt)||(rt=[rt,q,G,N,at,H,ft,ct]);var K=y.apply(null,rt);return M(K.min.x,K.min.y,K.max.x-K.min.x,K.max.y-K.min.y)},A=function(rt,q,G,N,at,H,ft,ct,K){var $=1-K,et=Math.pow($,3),B=Math.pow($,2),w=K*K,R=w*K,V=et*rt+B*3*K*G+$*3*K*K*at+R*ft,tt=et*q+B*3*K*N+$*3*K*K*H+R*ct,lt=rt+2*K*(G-rt)+w*(at-2*G+rt),Et=q+2*K*(N-q)+w*(H-2*N+q),ot=G+2*K*(at-G)+w*(ft-2*at+G),Mt=N+2*K*(H-N)+w*(ct-2*H+N),Ot=$*rt+K*G,Ft=$*q+K*N,zt=$*at+K*ft,$t=$*H+K*ct,ce=90-Math.atan2(lt-ot,Et-Mt)*180/Math.PI;return{x:V,y:tt,m:{x:lt,y:Et},n:{x:ot,y:Mt},start:{x:Ot,y:Ft},end:{x:zt,y:$t},alpha:ce}},T=function(rt,q,G){var N=S(rt),at=S(q);if(!b(N,at))return G?0:[];for(var H=g.apply(0,rt),ft=g.apply(0,q),ct=~~(H/8),K=~~(ft/8),$=[],et=[],B={},w=G?0:[],R=0;R<ct+1;R++){var V=A.apply(0,rt.concat(R/ct));$.push({x:V.x,y:V.y,t:R/ct})}for(var tt=0;tt<K+1;tt++){var lt=A.apply(0,q.concat(tt/K));et.push({x:lt.x,y:lt.y,t:tt/K})}for(var Et=0;Et<ct;Et++)for(var ot=0;ot<K;ot++){var Mt=$[Et],Ot=$[Et+1],Ft=et[ot],zt=et[ot+1],$t=Math.abs(Ot.x-Mt.x)<.001?"y":"x",ce=Math.abs(zt.x-Ft.x)<.001?"y":"x",ye=E(Mt.x,Mt.y,Ot.x,Ot.y,Ft.x,Ft.y,zt.x,zt.y);if(ye){if(B[ye.x.toFixed(4)]===ye.y.toFixed(4))continue;B[ye.x.toFixed(4)]=ye.y.toFixed(4);var Je=Mt.t+Math.abs((ye[$t]-Mt[$t])/(Ot[$t]-Mt[$t]))*(Ot.t-Mt.t),nr=Ft.t+Math.abs((ye[ce]-Ft[ce])/(zt[ce]-Ft[ce]))*(zt.t-Ft.t);Je>=0&&Je<=1&&nr>=0&&nr<=1&&(G?w++:w.push({x:ye.x,y:ye.y,t1:Je,t2:nr}))}}return w},O=function(rt,q,G){rt=l(rt),q=l(q);for(var N,at,H,ft,ct,K,$,et,B,w,R=G?0:[],V=0,tt=rt.length;V<tt;V++){var lt=rt[V];if(lt[0]==="M")N=ct=lt[1],at=K=lt[2];else{lt[0]==="C"?(B=[N,at].concat(lt.slice(1)),N=B[6],at=B[7]):(B=[N,at,N,at,ct,K,ct,K],N=ct,at=K);for(var Et=0,ot=q.length;Et<ot;Et++){var Mt=q[Et];if(Mt[0]==="M")H=$=Mt[1],ft=et=Mt[2];else{Mt[0]==="C"?(w=[H,ft].concat(Mt.slice(1)),H=w[6],ft=w[7]):(w=[H,ft,H,ft,$,et,$,et],H=$,ft=et);var Ot=T(B,w,G);if(G)R+=Ot;else{for(var Ft=0,zt=Ot.length;Ft<zt;Ft++)Ot[Ft].segment1=V,Ot[Ft].segment2=Et,Ot[Ft].bez1=B,Ot[Ft].bez2=w;R=R.concat(Ot)}}}}}return R},D=function(rt,q){return O(rt,q)};function L(Nt,rt){var q=[],G=[];function N(at,H){if(at.length===1)q.push(at[0]),G.push(at[0]);else{for(var ft=[],ct=0;ct<at.length-1;ct++)ct===0&&q.push(at[0]),ct===at.length-2&&G.push(at[ct+1]),ft[ct]=[(1-H)*at[ct][0]+H*at[ct+1][0],(1-H)*at[ct][1]+H*at[ct+1][1]];N(ft,H)}}return Nt.length&&N(Nt,rt),{left:q,right:G.reverse()}}function Z(Nt,rt,q){var G=[[Nt[1],Nt[2]]];q=q||2;var N=[];rt[0]==="A"?(G.push(rt[6]),G.push(rt[7])):rt[0]==="C"?(G.push([rt[1],rt[2]]),G.push([rt[3],rt[4]]),G.push([rt[5],rt[6]])):rt[0]==="S"||rt[0]==="Q"?(G.push([rt[1],rt[2]]),G.push([rt[3],rt[4]])):G.push([rt[1],rt[2]]);for(var at=G,H=1/q,ft=0;ft<q-1;ft++){var ct=H/(1-H*ft),K=L(at,ct);N.push(K.left),at=K.right}N.push(at);var $=N.map(function(et){var B=[];return et.length===4&&(B.push("C"),B=B.concat(et[2])),et.length>=3&&(et.length===3&&B.push("Q"),B=B.concat(et[1])),et.length===2&&B.push("L"),B=B.concat(et[et.length-1]),B});return $}var U=function(rt,q,G){if(G===1)return[[].concat(rt)];var N=[];if(q[0]==="L"||q[0]==="C"||q[0]==="Q")N=N.concat(Z(rt,q,G));else{var at=[].concat(rt);at[0]==="M"&&(at[0]="L");for(var H=0;H<=G-1;H++)N.push(at)}return N},Y=function(rt,q){if(rt.length===1)return rt;var G=rt.length-1,N=q.length-1,at=G/N,H=[];if(rt.length===1&&rt[0][0]==="M"){for(var ft=0;ft<N-G;ft++)rt.push(rt[0]);return rt}for(var ct=0;ct<N;ct++){var K=Math.floor(at*ct);H[K]=(H[K]||0)+1}var $=H.reduce(function(et,B,w){return w===G?et.concat(rt[G]):et.concat(U(rt[w],rt[w+1],B))},[]);return $.unshift(rt[0]),(q[N]==="Z"||q[N]==="z")&&$.push("Z"),$},W=function(rt,q){if(rt.length!==q.length)return!1;var G=!0;return t.each(rt,function(N,at){if(N!==q[at])return G=!1,!1}),G};function J(Nt,rt,q){var G=null,N=q;return rt<N&&(N=rt,G="add"),Nt<N&&(N=Nt,G="del"),{type:G,min:N}}var ht=function(rt,q){var G=rt.length,N=q.length,at,H,ft=0;if(G===0||N===0)return null;for(var ct=[],K=0;K<=G;K++)ct[K]=[],ct[K][0]={min:K};for(var $=0;$<=N;$++)ct[0][$]={min:$};for(var et=1;et<=G;et++){at=rt[et-1];for(var B=1;B<=N;B++){H=q[B-1],W(at,H)?ft=0:ft=1;var w=ct[et-1][B].min+1,R=ct[et][B-1].min+1,V=ct[et-1][B-1].min+ft;ct[et][B]=J(w,R,V)}}return ct},nt=function(rt,q){var G=ht(rt,q),N=rt.length,at=q.length,H=[],ft=1,ct=1;if(G[N][at]!==N){for(var K=1;K<=N;K++){var $=G[K][K].min;ct=K;for(var et=ft;et<=at;et++)G[K][et].min<$&&($=G[K][et].min,ct=et);ft=ct,G[K][ft].type&&H.push({index:K-1,type:G[K][ft].type})}for(var B=H.length-1;B>=0;B--)ft=H[B].index,H[B].type==="add"?rt.splice(ft,0,[].concat(rt[ft])):rt.splice(ft,1)}N=rt.length;var w=at-N;if(N<at)for(var R=0;R<w;R++)rt[N-1][0]==="z"||rt[N-1][0]==="Z"?rt.splice(N-2,0,rt[N-2]):rt.push(rt[N-1]),N+=1;return rt};function Q(Nt,rt,q){for(var G=[].concat(Nt),N,at=1/(q+1),H=xt(rt)[0],ft=1;ft<=q;ft++)at*=ft,N=Math.floor(Nt.length*at),N===0?G.unshift([H[0]*at+Nt[N][0]*(1-at),H[1]*at+Nt[N][1]*(1-at)]):G.splice(N,0,[H[0]*at+Nt[N][0]*(1-at),H[1]*at+Nt[N][1]*(1-at)]);return G}function xt(Nt){var rt=[];switch(Nt[0]){case"M":rt.push([Nt[1],Nt[2]]);break;case"L":rt.push([Nt[1],Nt[2]]);break;case"A":rt.push([Nt[6],Nt[7]]);break;case"Q":rt.push([Nt[3],Nt[4]]),rt.push([Nt[1],Nt[2]]);break;case"T":rt.push([Nt[1],Nt[2]]);break;case"C":rt.push([Nt[5],Nt[6]]),rt.push([Nt[1],Nt[2]]),rt.push([Nt[3],Nt[4]]);break;case"S":rt.push([Nt[3],Nt[4]]),rt.push([Nt[1],Nt[2]]);break;case"H":rt.push([Nt[1],Nt[1]]);break;case"V":rt.push([Nt[1],Nt[1]]);break;default:}return rt}var _t=function(rt,q){if(rt.length<=1)return rt;for(var G,N=0;N<q.length;N++)if(rt[N][0]!==q[N][0])switch(G=xt(rt[N]),q[N][0]){case"M":rt[N]=["M"].concat(G[0]);break;case"L":rt[N]=["L"].concat(G[0]);break;case"A":rt[N]=[].concat(q[N]),rt[N][6]=G[0][0],rt[N][7]=G[0][1];break;case"Q":if(G.length<2)if(N>0)G=Q(G,rt[N-1],1);else{rt[N]=q[N];break}rt[N]=["Q"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;case"T":rt[N]=["T"].concat(G[0]);break;case"C":if(G.length<3)if(N>0)G=Q(G,rt[N-1],2);else{rt[N]=q[N];break}rt[N]=["C"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;case"S":if(G.length<2)if(N>0)G=Q(G,rt[N-1],1);else{rt[N]=q[N];break}rt[N]=["S"].concat(G.reduce(function(at,H){return at.concat(H)},[]));break;default:rt[N]=q[N]}return rt};P.exports={parsePathString:o,parsePathArray:p,pathTocurve:l,pathToAbsolute:e,catmullRomToBezier:f,rectPath:m,fillPath:Y,fillPathByDiff:nt,formatPath:_t,intersection:D}},function(P,x,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(4),v=i(192),o=i(385),f=i(16),r=f.FONT_FAMILY,e=8,n=s.Event,a=s.Group,u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return s.mix({},g,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:r},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},p._calStartPoint=function(){var g={x:10,y:this.get("titleGap")-e},y=this.get("titleShape");if(y){var E=y.getBBox();g.y+=E.height}return g},p.beforeRender=function(){var g=this.get("items");!s.isArray(g)||s.isEmpty(g)||(l.prototype.beforeRender.call(this),this.set("firstItem",g[0]),this.set("lastItem",g[g.length-1]))},p._formatItemValue=function(g){var y=this.get("formatter")||this.get("itemFormatter");return y&&(g=y.call(this,g)),g},p.render=function(){l.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},p._renderSlider=function(){var g=new a,y=new a,E=new a,C=this._calStartPoint(),m=this.get("group"),M=m.addGroup(o,{minHandleElement:g,maxHandleElement:y,backgroundElement:E,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});M.translate(C.x,C.y),this.set("slider",M);var b=this._renderSliderShape();b.attr("clip",M.get("middleHandleElement")),this._renderTrigger()},p._addMiddleBar=function(g,y,E){return g.addShape(y,{attrs:s.mix({},E,this.get("middleBackgroundStyle"))}),g.addShape(y,{attrs:E})},p._renderTrigger=function(){var g=this.get("firstItem"),y=this.get("lastItem"),E=this.get("layout"),C=this.get("textStyle"),m=this.get("triggerAttr"),M=s.mix({},m),b=s.mix({},m),S=s.mix({text:this._formatItemValue(g.value)+""},C),A=s.mix({text:this._formatItemValue(y.value)+""},C);E==="vertical"?(this._addVerticalTrigger("min",M,S),this._addVerticalTrigger("max",b,A)):(this._addHorizontalTrigger("min",M,S),this._addHorizontalTrigger("max",b,A))},p._addVerticalTrigger=function(g,y,E){var C=this.get("slider"),m=C.get(g+"HandleElement"),M=this.get("width"),b=m.addShape("rect",{attrs:s.mix({x:M/2-e-2,y:g==="min"?0:-e,width:2*e+2,height:e},y)}),S=m.addShape("text",{attrs:s.mix(E,{x:M+this.get("textOffset"),y:g==="max"?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),A=this.get("layout"),T=A==="vertical"?"ns-resize":"ew-resize";b.attr("cursor",T),S.attr("cursor",T),this.set(g+"ButtonElement",b),this.set(g+"TextElement",S)},p._addHorizontalTrigger=function(g,y,E){var C=this.get("slider"),m=C.get(g+"HandleElement"),M=m.addShape("rect",{attrs:s.mix({x:g==="min"?-e:0,y:-e-this.get("height")/2,width:e,height:2*e},y)}),b=m.addShape("text",{attrs:s.mix(E,{x:g==="min"?-e-4:e+4,y:e/2+this.get("textOffset")+10,textAlign:g==="min"?"end":"start",textBaseline:"middle"})}),S=this.get("layout"),A=S==="vertical"?"ns-resize":"ew-resize";M.attr("cursor",A),b.attr("cursor",A),this.set(g+"ButtonElement",M),this.set(g+"TextElement",b)},p._bindEvents=function(){var g=this;if(this.get("slidable")){var y=this.get("slider");y.on("sliderchange",function(E){var C=E.range,m=g.get("firstItem").value,M=g.get("lastItem").value,b=m+C[0]/100*(M-m),S=m+C[1]/100*(M-m);g._updateElement(b,S);var A=new n("itemfilter",E,!0,!0);A.range=[b,S],g.emit("itemfilter",A)})}this.get("hoverable")&&(this.get("group").on("mousemove",s.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",s.wrapBehavior(this,"_onMouseLeave")))},p._updateElement=function(g,y){var E=this.get("minTextElement"),C=this.get("maxTextElement");y>1&&(g=parseInt(g,10),y=parseInt(y,10)),E.attr("text",this._formatItemValue(g)+""),C.attr("text",this._formatItemValue(y)+"")},p._onMouseLeave=function(){var g=this.get("group").findById("hoverPointer");g&&g.destroy();var y=this.get("group").findById("hoverText");y&&y.destroy(),this.get("canvas").draw()},p._onMouseMove=function(g){var y=this.get("height"),E=this.get("width"),C=this.get("items"),m=this.get("canvas").get("el"),M=m.getBoundingClientRect(),b=this.get("group").getBBox(),S;if(this.get("layout")==="vertical"){var A=5;this.get("type")==="color-legend"&&(A=30);var T=this.get("titleGap"),O=this.get("titleShape");O&&(T+=O.getBBox().maxY-O.getBBox().minY);var D=g.clientY||g.event.clientY;D=D-M.y-this.get("group").attr("matrix")[7]+b.y-A+T,S=C[0].value+(1-D/y)*(C[C.length-1].value-C[0].value)}else{var L=g.clientX||g.event.clientX;L=L-M.x-this.get("group").attr("matrix")[6],S=C[0].value+L/E*(C[C.length-1].value-C[0].value)}S=S.toFixed(2),this.activate(S),this.emit("mousehover",{value:S})},p.activate=function(g){if(!!g){var y=this.get("group").findById("hoverPointer"),E=this.get("group").findById("hoverText"),C=this.get("items");if(!(g<C[0].value||g>C[C.length-1].value)){var m=this.get("height"),M=this.get("width"),b=this.get("titleShape"),S=this.get("titleGap"),A=[],T=(g-C[0].value)/(C[C.length-1].value-C[0].value),O;if(this.get("layout")==="vertical"){var D=0,L=0;this.get("type")==="color-legend"&&(D=S,b&&(D+=b.getBBox().height)),this.get("slidable")&&(this.get("type")==="color-legend"?D-=13:(D=S-15,b&&(D+=b.getBBox().height)),L+=10),T=(1-T)*m,A=[[L,T+D],[L-10,T+D-5],[L-10,T+D+5]],O=s.mix({},{x:M+this.get("textOffset")/2+L,y:T+D,text:this._formatItemValue(g)+""},this.get("textStyle"),{textAlign:"start"})}else{var Z=0,U=0;this.get("type")==="color-legend"&&(Z=S,b&&(Z+=b.getBBox().height)),this.get("slidable")&&(this.get("type")==="color-legend"?Z-=7:(Z=S,b||(Z-=7)),U+=10),T*=M,A=[[T+U,Z],[T+U-5,Z-10],[T+U+5,Z-10]],O=s.mix({},{x:T-5,y:m+this.get("textOffset")+Z,text:this._formatItemValue(g)+""},this.get("textStyle"))}var Y=s.mix(O,this.get("hoverTextStyle"));E?E.attr(Y):(E=this.get("group").addShape("text",{attrs:Y}),E.set("id","hoverText")),y?y.attr(s.mix({points:A},this.get("pointerStyle"))):(y=this.get("group").addShape("Polygon",{attrs:s.mix({points:A},this.get("pointerStyle"))}),y.set("id","hoverPointer")),this.get("canvas").draw()}}},p.deactivate=function(){var g=this.get("group").findById("hoverPointer");g&&g.destroy();var y=this.get("group").findById("hoverText");y&&y.destroy(),this.get("canvas").draw()},h}(v);P.exports=u},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(92),v=i(4),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return v.mix({},a,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},e.isContentChange=function(a,u){var l=this.get("titleContent"),h=this.get("items"),p=!(a===l&&h.length===u.length);return p||v.each(u,function(d,g){var y=h[g];for(var E in d)if(d.hasOwnProperty(E)&&!v.isObject(d[E])&&d[E]!==y[E]){p=!0;break}if(p)return!1}),p},e.setContent=function(a,u){var l=new Date().valueOf();return this.set("items",u),this.set("titleContent",a),this.set("timeStamp",l),this.render(),this},e.setPosition=function(a,u){this.set("x",a),this.set("y",u)},e.render=function(){},e.clear=function(){},e.show=function(){this.set("visible",!0)},e.hide=function(){this.set("visible",!1)},r}(s);P.exports=o},function(P,x,i){"use strict";i.d(x,"c",function(){return W}),x.a=J;var t=i(472),c=i(473),s=i(474),v=i(475),o=i(445),f=i(477),r=i(478),e=i(479),n=i(480),a=i(481),u=i(482),l=i(483),h=i(484),p=i(485),d=i(486),g=i(487),y=i(488),E=i(447),C=i(489),m=i(490),M=i(491),b=i(492),S=i(493),A=i(494),T=i(495),O=i(496),D=i(497),L=i(498),Z=i(499),U=i(433),Y=i(500),W=[null];function J(nt,Q){this._groups=nt,this._parents=Q}function ht(){return new J([[document.documentElement]],W)}J.prototype=ht.prototype={constructor:J,select:t.a,selectAll:c.a,filter:s.a,data:v.a,enter:o.b,exit:f.a,join:r.a,merge:e.a,order:n.a,sort:a.a,call:u.a,nodes:l.a,node:h.a,size:p.a,empty:d.a,each:g.a,attr:y.a,style:E.a,property:C.a,classed:m.a,text:M.a,html:b.a,raise:S.a,lower:A.a,append:T.a,insert:O.a,remove:D.a,clone:L.a,datum:Z.a,on:U.b,dispatch:Y.a},x.b=ht},function(P,x,i){var t=i(12),c=i(111);P.exports={toTimeStamp:function(v){return t(v)&&(v.indexOf("T")>0?v=new Date(v).getTime():v=new Date(v.replace(/-/ig,"/")).getTime()),c(v)&&(v=v.getTime()),v}}},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i(83);i.d(x,"now",function(){return t.b}),i.d(x,"timer",function(){return t.c}),i.d(x,"timerFlush",function(){return t.d});var c=i(229);i.d(x,"timeout",function(){return c.a});var s=i(230);i.d(x,"interval",function(){return s.a})},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i(471);i.d(x,"create",function(){return t.a});var c=i(418);i.d(x,"creator",function(){return c.a});var s=i(501);i.d(x,"local",function(){return s.a});var v=i(444);i.d(x,"matcher",function(){return v.a});var o=i(502);i.d(x,"mouse",function(){return o.a});var f=i(429);i.d(x,"namespace",function(){return f.a});var r=i(430);i.d(x,"namespaces",function(){return r.a});var e=i(419);i.d(x,"clientPoint",function(){return e.a});var n=i(442);i.d(x,"select",function(){return n.a});var a=i(503);i.d(x,"selectAll",function(){return a.a});var u=i(99);i.d(x,"selection",function(){return u.b});var l=i(431);i.d(x,"selector",function(){return l.a});var h=i(443);i.d(x,"selectorAll",function(){return h.a});var p=i(447);i.d(x,"style",function(){return p.b});var d=i(504);i.d(x,"touch",function(){return d.a});var g=i(505);i.d(x,"touches",function(){return g.a});var y=i(432);i.d(x,"window",function(){return y.a});var E=i(433);i.d(x,"event",function(){return E.c}),i.d(x,"customEvent",function(){return E.a})},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i(231);i.d(x,"easeLinear",function(){return t.a});var c=i(232);i.d(x,"easeQuad",function(){return c.b}),i.d(x,"easeQuadIn",function(){return c.a}),i.d(x,"easeQuadOut",function(){return c.c}),i.d(x,"easeQuadInOut",function(){return c.b});var s=i(233);i.d(x,"easeCubic",function(){return s.b}),i.d(x,"easeCubicIn",function(){return s.a}),i.d(x,"easeCubicOut",function(){return s.c}),i.d(x,"easeCubicInOut",function(){return s.b});var v=i(234);i.d(x,"easePoly",function(){return v.b}),i.d(x,"easePolyIn",function(){return v.a}),i.d(x,"easePolyOut",function(){return v.c}),i.d(x,"easePolyInOut",function(){return v.b});var o=i(235);i.d(x,"easeSin",function(){return o.b}),i.d(x,"easeSinIn",function(){return o.a}),i.d(x,"easeSinOut",function(){return o.c}),i.d(x,"easeSinInOut",function(){return o.b});var f=i(236);i.d(x,"easeExp",function(){return f.b}),i.d(x,"easeExpIn",function(){return f.a}),i.d(x,"easeExpOut",function(){return f.c}),i.d(x,"easeExpInOut",function(){return f.b});var r=i(237);i.d(x,"easeCircle",function(){return r.b}),i.d(x,"easeCircleIn",function(){return r.a}),i.d(x,"easeCircleOut",function(){return r.c}),i.d(x,"easeCircleInOut",function(){return r.b});var e=i(238);i.d(x,"easeBounce",function(){return e.c}),i.d(x,"easeBounceIn",function(){return e.a}),i.d(x,"easeBounceOut",function(){return e.c}),i.d(x,"easeBounceInOut",function(){return e.b});var n=i(239);i.d(x,"easeBack",function(){return n.b}),i.d(x,"easeBackIn",function(){return n.a}),i.d(x,"easeBackOut",function(){return n.c}),i.d(x,"easeBackInOut",function(){return n.b});var a=i(240);i.d(x,"easeElastic",function(){return a.c}),i.d(x,"easeElasticIn",function(){return a.a}),i.d(x,"easeElasticOut",function(){return a.c}),i.d(x,"easeElasticInOut",function(){return a.b})},function(P,x,i){P.exports={Position:i(330),Color:i(331),Shape:i(332),Size:i(333),Opacity:i(334),ColorUtil:i(165)}},function(P,x,i){var t=i(106),c=i(20);c.Linear=i(38),c.Identity=i(209),c.Cat=i(108),c.Time=i(210),c.TimeCat=i(212),c.Log=i(213),c.Pow=i(214);var s=function(r){if(c.hasOwnProperty(r)){var e=t(r);c[e]=function(n){return new c[r](n)}}};for(var v in c)s(v);var o=["cat","timeCat"];c.isCategory=function(f){return o.indexOf(f)>=0},P.exports=c},function(P,x,i){var t=i(26),c=function(v){var o=t(v);return o.charAt(0).toLowerCase()+o.substring(1)};P.exports=c},function(P,x){var i=12;function t(o){var f=1;if(o===Infinity||o===-Infinity)throw new Error("Not support Infinity!");if(o<1){for(var r=0;o<1;)f=f/10,o=o*10,r++;f.toString().length>i&&(f=parseFloat(f.toFixed(r)))}else for(;o>10;)f=f*10,o=o/10;return f}function c(o,f){var r=o.length;if(r===0)return NaN;var e=o[0];if(f<o[0])return NaN;if(f>=o[r-1])return o[r-1];for(var n=1;n<o.length&&!(f<o[n]);n++)e=o[n];return e}function s(o,f){var r=o.length;if(r===0)return NaN;var e;if(f>o[r-1])return NaN;if(f<o[0])return o[0];for(var n=1;n<o.length;n++)if(f<=o[n]){e=o[n];break}return e}var v={snapFactorTo:function(f,r,e){if(isNaN(f))return NaN;var n=1;if(f!==0){f<0&&(n=-1),f=f*n;var a=t(f);n=n*a,f=f/a}e==="floor"?f=v.snapFloor(r,f):e==="ceil"?f=v.snapCeiling(r,f):f=v.snapTo(r,f);var u=parseFloat((f*n).toPrecision(i));if(Math.abs(n)<1&&u.toString().length>i){var l=parseInt(1/n),h=n>0?1:-1;u=f/l*h}return u},snapMultiple:function(f,r,e){var n;return e==="ceil"?n=Math.ceil(f/r):e==="floor"?n=Math.floor(f/r):n=Math.round(f/r),n*r},snapTo:function(f,r){var e=c(f,r),n=s(f,r);if(isNaN(e)||isNaN(n)){if(f[0]>=r)return f[0];var a=f[f.length-1];if(a<=r)return a}return Math.abs(r-e)<Math.abs(n-r)?e:n},snapFloor:function(f,r){return c(f,r)},snapCeiling:function(f,r){return s(f,r)},fixedBase:function(f,r){var e=r.toString(),n=e.indexOf("."),a=e.indexOf("e-");if(n<0&&a<0)return Math.round(f);var u=a>=0?parseInt(e.substr(a+2),10):e.substr(n+1).length;return u>20&&(u=20),parseFloat(f.toFixed(u))}};P.exports=v},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(20),s=i(109),v=i(3),o=i(11),f=i(12),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},a.init=function(){var l=this,h=l.values,p=l.tickCount;if(v(h,function(y,E){h[E]=y.toString()}),!l.ticks){var d=h;if(p){var g=s({maxCount:p,data:h,isRounding:l.isRounding});d=g.ticks}this.ticks=d}},a.getText=function(l){return this.values.indexOf(l)===-1&&o(l)&&(l=this.values[Math.round(l)]),e.prototype.getText.call(this,l)},a.translate=function(l){var h=this.values.indexOf(l);return h===-1&&o(l)?h=l:h===-1&&(h=NaN),h},a.scale=function(l){var h=this.rangeMin(),p=this.rangeMax(),d;return(f(l)||this.values.indexOf(l)!==-1)&&(l=this.translate(l)),this.values.length>1?d=l/(this.values.length-1):d=l,h+d*(p-h)},a.invert=function(l){if(f(l))return l;var h=this.rangeMin(),p=this.rangeMax();l<h&&(l=h),l>p&&(l=p);var d=(l-h)/(p-h),g=Math.round(d*(this.values.length-1))%this.values.length;return g=g||0,this.values[g]},n}(c);c.Cat=r,P.exports=r},function(P,x,i){var t=i(3),c=8,s=4;function v(f){var r=[];return t(f,function(e){r=r.concat(e)}),r}function o(f,r){var e;for(e=r;e>0&&f%e!=0;e--);if(e===1)for(e=r;e>0&&(f-1)%e!=0;e--);return e}P.exports=function(f){var r={},e=[],n=f.isRounding,a=v(f.data),u=a.length,l=f.maxCount||c,h;if(n?(h=o(u-1,l-1)+1,h===2?h=l:h<l-s&&(h=l-s)):h=l,!n&&u<=h+h/2)e=[].concat(a);else{for(var p=parseInt(u/(h-1),10),d=a.map(function(C,m){return m%p==0?a.slice(m,m+p):null}).filter(function(C){return C}),g=1,y=d.length;g<y&&(n?g*p<u-p:g<h-1);g++)e.push(d[g][0]);if(a.length){e.unshift(a[0]);var E=a[u-1];e.indexOf(E)===-1&&e.push(E)}}return r.categories=a,r.ticks=e,r}},function(P,x,i){var t;(function(c){"use strict";var s={},v=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,o=/\d\d?/,f=/\d{3}/,r=/\d{4}/,e=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,n=/\[([^]*?)\]/gm,a=function(){};function u(m,M){for(var b=[],S=0,A=m.length;S<A;S++)b.push(m[S].substr(0,M));return b}function l(m){return function(M,b,S){var A=S[m].indexOf(b.charAt(0).toUpperCase()+b.substr(1).toLowerCase());~A&&(M.month=A)}}function h(m,M){for(m=String(m),M=M||2;m.length<M;)m="0"+m;return m}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],g=u(d,3),y=u(p,3);s.i18n={dayNamesShort:y,dayNames:p,monthNamesShort:g,monthNames:d,amPm:["am","pm"],DoFn:function(M){return M+["th","st","nd","rd"][M%10>3?0:(M-M%10!=10)*M%10]}};var E={D:function(m){return m.getDate()},DD:function(m){return h(m.getDate())},Do:function(m,M){return M.DoFn(m.getDate())},d:function(m){return m.getDay()},dd:function(m){return h(m.getDay())},ddd:function(m,M){return M.dayNamesShort[m.getDay()]},dddd:function(m,M){return M.dayNames[m.getDay()]},M:function(m){return m.getMonth()+1},MM:function(m){return h(m.getMonth()+1)},MMM:function(m,M){return M.monthNamesShort[m.getMonth()]},MMMM:function(m,M){return M.monthNames[m.getMonth()]},YY:function(m){return String(m.getFullYear()).substr(2)},YYYY:function(m){return h(m.getFullYear(),4)},h:function(m){return m.getHours()%12||12},hh:function(m){return h(m.getHours()%12||12)},H:function(m){return m.getHours()},HH:function(m){return h(m.getHours())},m:function(m){return m.getMinutes()},mm:function(m){return h(m.getMinutes())},s:function(m){return m.getSeconds()},ss:function(m){return h(m.getSeconds())},S:function(m){return Math.round(m.getMilliseconds()/100)},SS:function(m){return h(Math.round(m.getMilliseconds()/10),2)},SSS:function(m){return h(m.getMilliseconds(),3)},a:function(m,M){return m.getHours()<12?M.amPm[0]:M.amPm[1]},A:function(m,M){return m.getHours()<12?M.amPm[0].toUpperCase():M.amPm[1].toUpperCase()},ZZ:function(m){var M=m.getTimezoneOffset();return(M>0?"-":"+")+h(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4)}},C={D:[o,function(m,M){m.day=M}],Do:[new RegExp(o.source+e.source),function(m,M){m.day=parseInt(M,10)}],M:[o,function(m,M){m.month=M-1}],YY:[o,function(m,M){var b=new Date,S=+(""+b.getFullYear()).substr(0,2);m.year=""+(M>68?S-1:S)+M}],h:[o,function(m,M){m.hour=M}],m:[o,function(m,M){m.minute=M}],s:[o,function(m,M){m.second=M}],YYYY:[r,function(m,M){m.year=M}],S:[/\d/,function(m,M){m.millisecond=M*100}],SS:[/\d{2}/,function(m,M){m.millisecond=M*10}],SSS:[f,function(m,M){m.millisecond=M}],d:[o,a],ddd:[e,a],MMM:[e,l("monthNamesShort")],MMMM:[e,l("monthNames")],a:[e,function(m,M,b){var S=M.toLowerCase();S===b.amPm[0]?m.isPm=!1:S===b.amPm[1]&&(m.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(m,M){M==="Z"&&(M="+00:00");var b=(M+"").match(/([\+\-]|\d\d)/gi),S;b&&(S=+(b[1]*60)+parseInt(b[2],10),m.timezoneOffset=b[0]==="+"?S:-S)}]};C.dd=C.d,C.dddd=C.ddd,C.DD=C.D,C.mm=C.m,C.hh=C.H=C.HH=C.h,C.MM=C.M,C.ss=C.s,C.A=C.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(m,M,b){var S=b||s.i18n;if(typeof m=="number"&&(m=new Date(m)),Object.prototype.toString.call(m)!=="[object Date]"||isNaN(m.getTime()))throw new Error("Invalid Date in fecha.format");M=s.masks[M]||M||s.masks.default;var A=[];return M=M.replace(n,function(T,O){return A.push(O),"??"}),M=M.replace(v,function(T){return T in E?E[T](m,S):T.slice(1,T.length-1)}),M.replace(/\?\?/g,function(){return A.shift()})},s.parse=function(m,M,b){var S=b||s.i18n;if(typeof M!="string")throw new Error("Invalid format in fecha.parse");if(M=s.masks[M]||M,m.length>1e3)return!1;var A=!0,T={};if(M.replace(v,function(L){if(C[L]){var Z=C[L],U=m.search(Z[0]);~U?m.replace(Z[0],function(Y){return Z[1](T,Y,S),m=m.substr(U+Y.length),Y}):A=!1}return C[L]?"":L.slice(1,L.length-1)}),!A)return!1;var O=new Date;T.isPm===!0&&T.hour!=null&&+T.hour!=12?T.hour=+T.hour+12:T.isPm===!1&&+T.hour==12&&(T.hour=0);var D;return T.timezoneOffset!=null?(T.minute=+(T.minute||0)-+T.timezoneOffset,D=new Date(Date.UTC(T.year||O.getFullYear(),T.month||0,T.day||1,T.hour||0,T.minute||0,T.second||0,T.millisecond||0))):D=new Date(T.year||O.getFullYear(),T.month||0,T.day||1,T.hour||0,T.minute||0,T.second||0,T.millisecond||0),D},typeof P!="undefined"&&P.exports?P.exports=s:(t=function(){return s}.call(x,i,x,P),t!==void 0&&(P.exports=t))})(this)},function(P,x,i){var t=i(14),c=function(v){return t(v,"Date")};P.exports=c},function(P,x,i){P.exports={Canvas:i(215),Group:i(115),Shape:i(7),Arc:i(120),Circle:i(121),Dom:i(122),Ellipse:i(123),Fan:i(124),Image:i(125),Line:i(126),Marker:i(81),Path:i(127),Polygon:i(128),Polyline:i(129),Rect:i(130),Text:i(131),PathSegment:i(46),PathUtil:i(82),Event:i(78),EventEmitter:i(117),version:"3.4.10"}},function(P,x){var i={}.toString,t=function(s){return i.call(s).replace(/^\[object /,"").replace(/\]$/,"")};P.exports=t},function(P,x){var i=Object.prototype,t=function(s){var v=s&&s.constructor,o=typeof v=="function"&&v.prototype||i;return s===o};P.exports=t},function(P,x,i){var t=i(1),c=i(116),s=i(226),v={},o="_INDEX",f=["zIndex","capture","visible"];function r(l){return function(h,p){var d=l(h,p);return d===0?h[o]-p[o]:d}}function e(l,h,p){for(var d,g=l.length-1;g>=0;g--){var y=l[g];if(y._cfg.visible&&y._cfg.capture&&(y.isGroup?d=y.getShape(h,p):y.isHit(h,p)&&(d=y)),d)break}return d}function n(l){for(var h=[],p=0;p<l.length;p++)h.push(l[p]);return h}var a=function l(h){l.superclass.constructor.call(this,h),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function u(l){if(!(l._cfg||l===a)){var h=l.superclass.constructor;h&&!h._cfg&&u(h),l._cfg={},t.merge(l._cfg,h._cfg),t.merge(l._cfg,l.CFG)}}t.extend(a,c),t.augment(a,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return u(this.constructor),t.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(h,p){var d=this.get("canvas");p=p||{};var g=v[h];if(g||(g=t.upperFirst(h),v[h]=g),p.attrs&&d){var y=p.attrs;if(h==="text"){var E=d.get("fontFamily");E&&(y.fontFamily=y.fontFamily?y.fontFamily:E)}}p.canvas=d,p.type=h;var C=new s[g](p);return this.add(C),C},addGroup:function(h,p){var d=this.get("canvas"),g;if(p=t.merge({},p),t.isFunction(h))p?(p.canvas=d,p.parent=this,g=new h(p)):g=new h({canvas:d,parent:this}),this.add(g);else if(t.isObject(h))h.canvas=d,g=new a(h),this.add(g);else if(h===void 0)g=new a,this.add(g);else return!1;return g},renderBack:function(h,p){var d=this.get("backShape"),g=this.getBBox();return t.merge(p,{x:g.minX-h[3],y:g.minY-h[0],width:g.width+h[1]+h[3],height:g.height+h[0]+h[2]}),d?d.attr(p):d=this.addShape("rect",{zIndex:-1,attrs:p}),this.set("backShape",d),this.sort(),d},removeChild:function(h,p){if(arguments.length>=2)this.contain(h)&&h.remove(p);else{if(arguments.length===1)if(t.isBoolean(h))p=h;else return this.contain(h)&&h.remove(!0),this;arguments.length===0&&(p=!0),a.superclass.remove.call(this,p)}return this},add:function(h){var p=this,d=p.get("children");if(t.isArray(h))t.each(h,function(E){var C=E.get("parent");C&&C.removeChild(E,!1),p._setCfgProperty(E)}),p._cfg.children=d.concat(h);else{var g=h,y=g.get("parent");y&&y.removeChild(g,!1),p._setCfgProperty(g),d.push(g)}return p},_setCfgProperty:function(h){var p=this._cfg;h.set("parent",this),h.set("canvas",p.canvas),p.timeline&&h.set("timeline",p.timeline)},contain:function(h){var p=this.get("children");return p.indexOf(h)>-1},getChildByIndex:function(h){var p=this.get("children");return p[h]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var h=this.get("children").length-1;return this.getChildByIndex(h)},getBBox:function(){var h=this,p=Infinity,d=-Infinity,g=Infinity,y=-Infinity,E=h.get("children");E.length>0?t.each(E,function(m){if(m.get("visible")){if(m.isGroup&&m.get("children").length===0)return;var M=m.getBBox();if(!M)return!0;var b=[M.minX,M.minY,1],S=[M.minX,M.maxY,1],A=[M.maxX,M.minY,1],T=[M.maxX,M.maxY,1];m.apply(b),m.apply(S),m.apply(A),m.apply(T);var O=Math.min(b[0],S[0],A[0],T[0]),D=Math.max(b[0],S[0],A[0],T[0]),L=Math.min(b[1],S[1],A[1],T[1]),Z=Math.max(b[1],S[1],A[1],T[1]);O<p&&(p=O),D>d&&(d=D),L<g&&(g=L),Z>y&&(y=Z)}}):(p=0,d=0,g=0,y=0);var C={minX:p,minY:g,maxX:d,maxY:y};return C.x=C.minX,C.y=C.minY,C.width=C.maxX-C.minX,C.height=C.maxY-C.minY,C},getCount:function(){return this.get("children").length},sort:function(){var h=this.get("children");return t.each(h,function(p,d){return p[o]=d,p}),h.sort(r(function(p,d){return p.get("zIndex")-d.get("zIndex")})),this},findById:function(h){return this.find(function(p){return p.get("id")===h})},find:function(h){if(t.isString(h))return this.findById(h);var p=this.get("children"),d=null;return t.each(p,function(g){if(h(g)?d=g:g.find&&(d=g.find(h)),d)return!1}),d},findAll:function(h){var p=this.get("children"),d=[],g=[];return t.each(p,function(y){h(y)&&d.push(y),y.findAllBy&&(g=y.findAllBy(h),d=d.concat(g))}),d},findBy:function(h){var p=this.get("children"),d=null;return t.each(p,function(g){if(h(g)?d=g:g.findBy&&(d=g.findBy(h)),d)return!1}),d},findAllBy:function(h){var p=this.get("children"),d=[],g=[];return t.each(p,function(y){h(y)&&d.push(y),y.findAllBy&&(g=y.findAllBy(h),d=d.concat(g))}),d},getShape:function(h,p){var d=this,g=d._attrs.clip,y=d._cfg.children,E;if(g){var C=[h,p,1];g.invert(C,d.get("canvas")),g.isPointInPath(C[0],C[1])&&(E=e(y,h,p))}else E=e(y,h,p);return E},clearTotalMatrix:function(){var h=this.get("totalMatrix");if(h){this.setSilent("totalMatrix",null);for(var p=this._cfg.children,d=0;d<p.length;d++){var g=p[d];g.clearTotalMatrix()}}},clear:function(h){if(!this.get("destroyed")){for(var p=this._cfg.children,d=p.length-1;d>=0;d--)p[d].remove(!0,h);return this._cfg.children=[],this}},destroy:function(){this.get("destroyed")||(this.clear(),a.superclass.destroy.call(this))},clone:function(){var h=this,p=h._cfg.children,d=h._attrs,g={};t.each(d,function(E,C){C==="matrix"?g[C]=n(d[C]):g[C]=d[C]});var y=new a({attrs:g,canvas:h.get("canvas")});return t.each(p,function(E){y.add(E.clone())}),t.each(f,function(E){y._cfg[E]=h._cfg[E]}),y}}),P.exports=a},function(P,x,i){var t=i(1),c=i(222),s=i(223),v=i(224),o=i(225),f=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},t.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},t.augment(f,c,s,o,v,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,n){return e==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(n),e==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function(e,n){this._cfg[e]=n},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,n){var a=this._cfg,u=a.parent,l=a.el;return u&&t.remove(u.get("children"),this),l&&(n?u&&u._cfg.tobeRemoved.push(l):l.parentNode.removeChild(l)),(e||e===void 0)&&this.destroy(),this},destroy:function(){var e=this.get("destroyed");e||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);a.splice(l,1),a.push(this),u&&(u.parentNode.removeChild(u),e.el=null)}},toBack:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);if(a.splice(l,1),a.unshift(this),u){var h=u.parentNode;h.removeChild(u),h.insertBefore(u,h.firstChild)}}},_beforeSetZIndex:function(e){var n=this._cfg.parent;this._cfg.zIndex=e,t.isNil(n)||n.sort();var a=this._cfg.el;if(a){var u=n._cfg.children,l=u.indexOf(this),h=a.parentNode;h.removeChild(a),l===u.length-1?h.appendChild(a):h.insertBefore(a,h.childNodes[l])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return t.clone(this)},getBBox:function(){}}),P.exports=f},function(P,x,i){var t=i(59),c=Array.prototype.slice;function s(o,f){for(var r=o.length;r--;)if(o[r].callback===f)return r;return-1}var v=function(){};t.augment(v,{on:function(f,r,e){var n=this;if(!t.isFunction(r))throw new TypeError("listener should be a function");return n._cfg._events||(n._cfg._events={}),n._cfg._events[f]||(n._cfg._events[f]=[]),n._cfg._events[f].push({callback:r,one:e}),this},one:function(f,r){return this.on(f,r,!0),this},emit:function(f){if(!this.get("destroyed")&&!(!this._cfg._events||t.isEmpty(this._cfg._events))){var r=this._cfg._events[f];if(!t.isEmpty(r))for(var e=arguments,n=c.call(e,1),a=r.length,u=0;u<a;)!r[u]||(r[u].callback.apply(this,n),r[u]&&r[u].one?(r.splice(u,1),a--):u++)}},trigger:function(){this.emit.apply(this,arguments)},off:function(f,r){var e=this._cfg._events;if(!(!e||t.isEmpty(e))){if(arguments.length===0)return this._cfg._events={},this;if(e[f]){var n=s(e[f],r);n>=0&&e[f].splice(n,1),e[f].length===0&&delete e[f]}}},removeEvent:function(f){return typeof f=="undefined"?this._cfg._events={}:delete this._cfg._events[f],this},_getEvents:function(){return this._cfg._events||{}}}),P.exports=v},function(P,x,i){var t=i(1),c=t.vec2;function s(f,r,e,n){var a=1-n;return a*(a*f+2*n*r)+n*n*e}function v(f,r,e,n,a,u,l,h,p){var d,g=.005,y=Infinity,E,C,m,M,b,S,A=1e-4,T=[l,h];for(M=0;M<1;M+=.05)C=[s(f,e,a,M),s(r,n,u,M)],E=c.squaredDistance(T,C),E<y&&(d=M,y=E);for(y=Infinity,S=0;S<32&&!(g<A);S++){var O=d-g,D=d+g;C=[s(f,e,a,O),s(r,n,u,O)],E=c.squaredDistance(T,C),O>=0&&E<y?(d=O,y=E):(m=[s(f,e,a,D),s(r,n,u,D)],b=c.squaredDistance(T,m),D<=1&&b<y?(d=D,y=b):g*=.5)}return p&&(p.x=s(f,e,a,d),p.y=s(r,n,u,d)),Math.sqrt(y)}function o(f,r,e){var n=f+e-2*r;if(t.isNumberEqual(n,0))return[.5];var a=(f-r)/n;return a<=1&&a>=0?[a]:[]}P.exports={at:s,projectPoint:function(r,e,n,a,u,l,h,p){var d={};return v(r,e,n,a,u,l,h,p,d),d},pointDistance:v,extrema:o}},function(P,x){P.exports={xAt:function(t,c,s,v,o){return c*Math.cos(t)*Math.cos(o)-s*Math.sin(t)*Math.sin(o)+v},yAt:function(t,c,s,v,o){return c*Math.sin(t)*Math.cos(o)+s*Math.cos(t)*Math.sin(o)+v},xExtrema:function(t,c,s){return Math.atan(-s/c*Math.tan(t))},yExtrema:function(t,c,s){return Math.atan(s/(c*Math.tan(t)))}}},function(P,x,i){var t=i(1),c=i(7),s=i(44),v=i(45);function o(e,n,a){return e+n*Math.cos(a)}function f(e,n,a){return e+n*Math.sin(a)}var r=function e(n){e.superclass.constructor.call(this,n)};r.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(r,c),t.augment(r,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var n=this._attrs,a=n.x,u=n.y,l=n.r,h=n.startAngle,p=n.endAngle,d=n.clockwise,g=this.getHitLineWidth(),y=g/2,E=s.box(a,u,l,h,p,d);return E.minX-=y,E.minY-=y,E.maxX+=y,E.maxY+=y,E},getStartTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.startAngle,h=n.r,p=n.clockwise,d=Math.PI/180;p&&(d*=-1);var g=[],y=o(a,h,l+d),E=f(u,h,l+d),C=o(a,h,l),m=f(u,h,l);return g.push([y,E]),g.push([C,m]),g},getEndTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.endAngle,h=n.r,p=n.clockwise,d=Math.PI/180,g=[];p&&(d*=-1);var y=o(a,h,l+d),E=f(u,h,l+d),C=o(a,h,l),m=f(u,h,l);return g.push([C,m]),g.push([y,E]),g},createPath:function(n){var a=this._attrs,u=a.x,l=a.y,h=a.r,p=a.startAngle,d=a.endAngle,g=a.clockwise;n=n||self.get("context"),n.beginPath(),n.arc(u,l,h,p,d,g)},afterPath:function(n){var a=this._attrs;if(n=n||this.get("context"),a.startArrow){var u=this.getStartTangent();v.addStartArrow(n,a,u[0][0],u[0][1],u[1][0],u[1][1])}if(a.endArrow){var l=this.getEndTangent();v.addEndArrow(n,a,l[0][0],l[0][1],l[1][0],l[1][1])}}}),P.exports=r},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,r:0,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.r,n=this.getHitLineWidth(),a=n/2+e;return{minX:f-a,minY:r-a,maxX:f+a,maxY:r+a}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.r;o.beginPath(),o.arc(r,e,n,0,Math.PI*2,!1),o.closePath()}}),P.exports=s},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var o=this,f=o._attrs,r=f.x,e=f.y,n=f.width,a=f.height,u=this.getHitLineWidth(),l=u/2;return{minX:r-l,minY:e-l,maxX:r+n+l,maxY:e+a+l}}}),P.exports=s},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.rx,n=o.ry,a=this.getHitLineWidth(),u=e+a/2,l=n+a/2;return{minX:f-u,minY:r-l,maxX:f+u,maxY:r+l}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.rx,a=f.ry;o=o||self.get("context");var u=n>a?n:a,l=n>a?1:n/a,h=n>a?a/n:1,p=[1,0,0,0,1,0,0,0,1];t.mat3.scale(p,p,[l,h]),t.mat3.translate(p,p,[r,e]),o.beginPath(),o.save(),o.transform(p[0],p[1],p[3],p[4],p[6],p[7]),o.arc(0,0,u,0,Math.PI*2),o.restore(),o.closePath()}}),P.exports=s},function(P,x,i){var t=i(1),c=i(7),s=i(44),v=function o(f){o.superclass.constructor.call(this,f)};v.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},t.extend(v,c),t.augment(v,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var f=this,r=f._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d=this.getHitLineWidth(),g=s.box(e,n,a,l,h,p),y=s.box(e,n,u,l,h,p),E=Math.min(g.minX,y.minX),C=Math.min(g.minY,y.minY),m=Math.max(g.maxX,y.maxX),M=Math.max(g.maxY,y.maxY),b=d/2;return{minX:E-b,minY:C-b,maxX:m+b,maxY:M+b}},createPath:function(f){var r=this._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d={x:Math.cos(l)*a+e,y:Math.sin(l)*a+n},g={x:Math.cos(l)*u+e,y:Math.sin(l)*u+n},y={x:Math.cos(h)*a+e,y:Math.sin(h)*a+n};f=f||self.get("context"),f.beginPath(),f.moveTo(d.x,d.y),f.lineTo(g.x,g.y),f.arc(e,n,u,l,h,p),f.lineTo(y.x,y.y),f.arc(e,n,a,h,l,!p),f.closePath()}}),P.exports=v},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},t.extend(s,c),t.augment(s,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs;(!this._cfg.attrs||this._cfg.attrs.img!==o.img)&&this._setAttrImg();var f=o.x,r=o.y,e=o.width,n=o.height;return{minX:f,minY:r,maxX:f+e,maxY:r+n}},_beforeSetLoading:function(o){var f=this.get("canvas");return o===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,f.draw()),o},_setAttrImg:function(){var o=this,f=o._attrs,r=f.img;if(t.isString(r)){var e=new Image;e.onload=function(){if(o.get("destroyed"))return!1;o.attr("imgSrc",r),o.attr("img",e);var n=o.get("callback");n&&n.call(o),o.set("loading",!1)},e.src=r,e.crossOrigin="Anonymous",o.set("loading",!0)}else return r instanceof Image?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):r instanceof HTMLElement&&t.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"?(f.width||o.attr("width",Number(r.getAttribute("width"))),f.height||o.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):null},drawInner:function(o){if(this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")){this.set("toDraw",!0);return}this._drawImage(o),this._cfg.hasUpdate=!1},_drawImage:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.img,a=f.width,u=f.height,l=f.sx,h=f.sy,p=f.swidth,d=f.sheight;this.set("toDraw",!1);var g=n;if(g instanceof ImageData&&(g=new Image,g.src=n),g instanceof Image||g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS"){if(t.isNil(l)||t.isNil(h)||t.isNil(p)||t.isNil(d)){o.drawImage(g,r,e,a,u);return}if(!t.isNil(l)&&!t.isNil(h)&&!t.isNil(p)&&!t.isNil(d)){o.drawImage(g,l,h,p,d,r,e,a,u);return}}}}),P.exports=s},function(P,x,i){var t=i(1),c=i(7),s=i(45),v=i(43),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(o,c),t.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,e=r.x1,n=r.y1,a=r.x2,u=r.y2,l=this.getHitLineWidth();return v.box(e,n,a,u,l)},createPath:function(r){var e=this,n=this._attrs,a=n.x1,u=n.y1,l=n.x2,h=n.y2;if(n.startArrow&&n.startArrow.d){var p=s.getShortenOffset(a,u,l,h,n.startArrow.d);a+=p.dx,u+=p.dy}if(n.endArrow&&n.endArrow.d){var d=s.getShortenOffset(a,u,l,h,n.endArrow.d);l-=d.dx,h-=d.dy}r=r||e.get("context"),r.beginPath(),r.moveTo(a,u),r.lineTo(l,h)},afterPath:function(r){var e=this,n=e._attrs,a=n.x1,u=n.y1,l=n.x2,h=n.y2;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,l,h,a,u),n.endArrow&&s.addEndArrow(r,n,a,u,l,h)},getPoint:function(r){var e=this._attrs;return{x:v.at(e.x1,e.x2,r),y:v.at(e.y1,e.y2,r)}}}),P.exports=o},function(P,x,i){var t=i(1),c=i(7),s=i(46),v=i(31),o=i(45),f=i(82),r=i(80),e=function n(a){n.superclass.constructor.call(this,a)};e.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(e,c),t.augment(e,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(a){var u=this;if(t.isNil(a)){u.setSilent("segments",null),u.setSilent("box",void 0);return}var l=v.parsePath(a),h,p=[];if(!(!t.isArray(l)||l.length===0||l[0][0]!=="M"&&l[0][0]!=="m")){for(var d=l.length,g=0;g<l.length;g++){var y=l[g];h=new s(y,h,g===d-1),p.push(h)}u.setSilent("segments",p),u.setSilent("tCache",null),u.setSilent("totalLength",null),u.setSilent("box",null)}},calculateBox:function(){var a=this,u=a.get("segments");if(!u)return null;var l=this.getHitLineWidth(),h=Infinity,p=-Infinity,d=Infinity,g=-Infinity;return t.each(u,function(y){y.getBBox(l);var E=y.box;E&&(E.minX<h&&(h=E.minX),E.maxX>p&&(p=E.maxX),E.minY<d&&(d=E.minY),E.maxY>g&&(g=E.maxY))}),h===Infinity||d===Infinity?{minX:0,minY:0,maxX:0,maxY:0}:{minX:h,minY:d,maxX:p,maxY:g}},_setTcache:function(){var a=0,u=0,l=[],h,p,d,g,y=this._cfg.curve;if(!!y){if(t.each(y,function(E,C){d=y[C+1],g=E.length,d&&(a+=r.len(E[g-2],E[g-1],d[1],d[2],d[3],d[4],d[5],d[6]))}),this._cfg.totalLength=a,a===0){this._cfg.tCache=[];return}t.each(y,function(E,C){d=y[C+1],g=E.length,d&&(h=[],h[0]=u/a,p=r.len(E[g-2],E[g-1],d[1],d[2],d[3],d[4],d[5],d[6]),u+=p,h[1]=u/a,l.push(h))}),this._cfg.tCache=l}},getTotalLength:function(){var a=this.get("totalLength");return t.isNil(a)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):a},_calculateCurve:function(){var a=this,u=a._attrs,l=u.path;this._cfg.curve=f.pathTocurve(l)},getStartTangent:function(){var a=this.get("segments"),u,l,h,p;if(a.length>1)if(u=a[0].endPoint,l=a[1].endPoint,h=a[1].startTangent,p=[],t.isFunction(h)){var d=h();p.push([u.x-d[0],u.y-d[1]]),p.push([u.x,u.y])}else p.push([l.x,l.y]),p.push([u.x,u.y]);return p},getEndTangent:function(){var a=this.get("segments"),u=a.length,l,h,p,d;if(u>1)if(l=a[u-2].endPoint,h=a[u-1].endPoint,p=a[u-1].endTangent,d=[],t.isFunction(p)){var g=p();d.push([h.x-g[0],h.y-g[1]]),d.push([h.x,h.y])}else d.push([l.x,l.y]),d.push([h.x,h.y]);return d},getPoint:function(a){var u=this._cfg.tCache,l,h;u||(this._calculateCurve(),this._setTcache(),u=this._cfg.tCache);var p=this._cfg.curve;if(!u||u.length===0)return p?{x:p[0][1],y:p[0][2]}:null;t.each(u,function(E,C){a>=E[0]&&a<=E[1]&&(l=(a-E[0])/(E[1]-E[0]),h=C)});var d=p[h];if(t.isNil(d)||t.isNil(h))return null;var g=d.length,y=p[h+1];return{x:r.at(d[g-2],y[1],y[3],y[5],1-l),y:r.at(d[g-1],y[2],y[4],y[6],1-l)}},createPath:function(a){var u=this,l=u._attrs,h=u.get("segments");if(!!t.isArray(h)){var p=h.length;if(p!==0){if(a=a||u.get("context"),a.beginPath(),l.startArrow&&l.startArrow.d){var d=u.getStartTangent(),g=o.getShortenOffset(d[0][0],d[0][1],d[1][0],d[1][1],l.startArrow.d);h[0].shortenDraw(a,g.dx,g.dy)}else h[0].draw(a);for(var y=1;y<p-2;y++)h[y].draw(a);if(l.endArrow&&l.endArrow.d){var E=u.getEndTangent(),C=o.getShortenOffset(E[0][0],E[0][1],E[1][0],E[1][1],l.endArrow.d),m=h[p-1];m.command.toUpperCase()==="Z"?(h[p-2]&&h[p-2].shortenDraw(a,C.dx,C.dy),m.draw(a)):(p>2&&h[p-2].draw(a),m.shortenDraw(a,C.dx,C.dy))}else h[p-2]&&h[p-2].draw(a),h[p-1].draw(a)}}},afterPath:function(a){var u=this,l=u._attrs,h=u.get("segments"),p=l.path;if(a=a||u.get("context"),!!t.isArray(h)&&h.length!==1&&!(!l.startArrow&&!l.endArrow)&&!(p[p.length-1]==="z"||p[p.length-1]==="Z"||l.fill)){var d=u.getStartTangent();o.addStartArrow(a,l,d[0][0],d[0][1],d[1][0],d[1][1]);var g=u.getEndTangent();o.addEndArrow(a,l,g[0][0],g[0][1],g[1][0],g[1][1])}}}),P.exports=e},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={points:null,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this,f=o._attrs,r=f.points,e=this.getHitLineWidth();if(!r||r.length===0)return null;var n=Infinity,a=Infinity,u=-Infinity,l=-Infinity;t.each(r,function(p){var d=p[0],g=p[1];d<n&&(n=d),d>u&&(u=d),g<a&&(a=g),g>l&&(l=g)});var h=e/2;return{minX:n-h,minY:a-h,maxX:u+h,maxY:l+h}},createPath:function(o){var f=this,r=f._attrs,e=r.points;e.length<2||(o=o||f.get("context"),o.beginPath(),t.each(e,function(n,a){a===0?o.moveTo(n[0],n[1]):o.lineTo(n[0],n[1])}),o.closePath())}}),P.exports=s},function(P,x,i){var t=i(1),c=i(7),s=i(45),v=i(43),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},t.extend(o,c),t.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this,e=r._attrs,n=this.getHitLineWidth(),a=e.points;if(!a||a.length===0)return null;var u=Infinity,l=Infinity,h=-Infinity,p=-Infinity;t.each(a,function(g){var y=g[0],E=g[1];y<u&&(u=y),y>h&&(h=y),E<l&&(l=E),E>p&&(p=E)});var d=n/2;return{minX:u-d,minY:l-d,maxX:h+d,maxY:p+d}},_setTcache:function(){var r=this,e=r._attrs,n=e.points,a=0,u=0,l=[],h,p;!n||n.length===0||(t.each(n,function(d,g){n[g+1]&&(a+=v.len(d[0],d[1],n[g+1][0],n[g+1][1]))}),!(a<=0)&&(t.each(n,function(d,g){n[g+1]&&(h=[],h[0]=u/a,p=v.len(d[0],d[1],n[g+1][0],n[g+1][1]),u+=p,h[1]=u/a,l.push(h))}),this.tCache=l))},createPath:function(r){var e=this,n=e._attrs,a=n.points,u;if(!(a.length<2)){var l=a.length-1,h=a[0][0],p=a[0][1],d=a[l][0],g=a[l][1];if(n.startArrow&&n.startArrow.d){var y=s.getShortenOffset(a[0][0],a[0][1],a[1][0],a[1][1],n.startArrow.d);h+=y.dx,p+=y.dy}if(n.endArrow&&n.endArrow.d){var E=s.getShortenOffset(a[l-1][0],a[l-1][1],a[l][0],a[l][1],n.endArrow.d);d-=E.dx,g-=E.dy}for(r=r||e.get("context"),r.beginPath(),r.moveTo(h,p),u=1;u<l;u++)r.lineTo(a[u][0],a[u][1]);r.lineTo(d,g)}},getStartTangent:function(){var r=this.__attrs.points,e=[];return e.push([r[1][0],r[1][1]]),e.push([r[0][0],r[0][1]]),e},getEndTangent:function(){var r=this.__attrs.points,e=r.length-1,n=[];return n.push([r[e-1][0],r[e-1][1]]),n.push([r[e][0],r[e][1]]),n},afterPath:function(r){var e=this,n=e._attrs,a=n.points,u=a.length-1;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,a[1][0],a[1][1],a[0][0],a[0][1]),n.endArrow&&s.addEndArrow(r,n,a[u-1][0],a[u-1][1],a[u][0],a[u][1])},getPoint:function(r){var e=this._attrs,n=e.points,a=this.tCache,u,l;return a||(this._setTcache(),a=this.tCache),t.each(a,function(h,p){r>=h[0]&&r<=h[1]&&(u=(r-h[0])/(h[1]-h[0]),l=p)}),{x:v.at(n[l][0],n[l+1][0],u),y:v.at(n[l][1],n[l+1][1],u)}}}),P.exports=o},function(P,x,i){var t=i(1),c=i(31),s=c.parseRadius,v=i(7),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},t.extend(o,v),t.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var r=this,e=r._attrs,n=e.x,a=e.y,u=e.width,l=e.height,h=this.getHitLineWidth(),p=h/2;return{minX:n-p,minY:a-p,maxX:n+u+p,maxY:a+l+p}},createPath:function(r){var e=this,n=e._attrs,a=n.x,u=n.y,l=n.width,h=n.height,p=n.radius;if(r=r||e.get("context"),r.beginPath(),p===0)r.rect(a,u,l,h);else{var d=s(p);r.moveTo(a+d.r1,u),r.lineTo(a+l-d.r2,u),d.r2!==0&&r.arc(a+l-d.r2,u+d.r2,d.r2,-Math.PI/2,0),r.lineTo(a+l,u+h-d.r3),d.r3!==0&&r.arc(a+l-d.r3,u+h-d.r3,d.r3,0,Math.PI/2),r.lineTo(a+d.r4,u+h),d.r4!==0&&r.arc(a+d.r4,u+h-d.r4,d.r4,Math.PI/2,Math.PI),r.lineTo(a,u+d.r1),d.r1!==0&&r.arc(a+d.r1,u+d.r1,d.r1,Math.PI,Math.PI*1.5),r.closePath()}}}),P.exports=o},function(P,x,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var o=this._attrs.fontSize;o&&+o<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+o/12,+o/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var o=this._attrs,f=o.fontSize,r=o.fontFamily,e=o.fontWeight,n=o.fontStyle,a=o.fontVariant;o.font=[n,a,e,f+"px",r].join(" ")},_setAttrText:function(){var o=this._attrs,f=o.text,r=null;if(t.isString(f))if(f.indexOf(`
`)!==-1){r=f.split(`
`);var e=r.length;o.lineCount=e}else o.lineCount=1;o.textArr=r},_getTextHeight:function(){var o=this._attrs,f=o.lineCount,r=o.fontSize*1;if(f>1){var e=this._getSpaceingY();return r*f+e*(f-1)}return r},isHitBox:function(){return!1},calculateBox:function(){var o=this,f=o._attrs,r=this._cfg;(!r.attrs||r.hasUpdate)&&(this._assembleFont(),this._setAttrText()),f.textArr||this._setAttrText();var e=f.x,n=f.y,a=o.measureText();if(!a)return{minX:e,minY:n,maxX:e,maxY:n};var u=o._getTextHeight(),l=f.textAlign,h=f.textBaseline,p=o.getHitLineWidth(),d={x:e,y:n-u};l&&(l==="end"||l==="right"?d.x-=a:l==="center"&&(d.x-=a/2)),h&&(h==="top"?d.y+=u:h==="middle"&&(d.y+=u/2)),this.set("startPoint",d);var g=p/2;return{minX:d.x-g,minY:d.y-g,maxX:d.x+a+g,maxY:d.y+u+g}},_getSpaceingY:function(){var o=this._attrs,f=o.lineHeight,r=o.fontSize*1;return f?f-r:r*.14},drawInner:function(o){var f=this,r=f._attrs,e=this._cfg;(!e.attrs||e.hasUpdate)&&(this._assembleFont(),this._setAttrText()),o.font=r.font;var n=r.text;if(!!n){var a=r.textArr,u=r.x,l=r.y;if(o.beginPath(),f.hasStroke()){var h=r.strokeOpacity;!t.isNil(h)&&h!==1&&(o.globalAlpha=h),a?f._drawTextArr(o,!1):o.strokeText(n,u,l),o.globalAlpha=1}if(f.hasFill()){var p=r.fillOpacity;!t.isNil(p)&&p!==1&&(o.globalAlpha=p),a?f._drawTextArr(o,!0):o.fillText(n,u,l)}e.hasUpdate=!1}},_drawTextArr:function(o,f){var r=this._attrs.textArr,e=this._attrs.textBaseline,n=this._attrs.fontSize*1,a=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,h=this.getBBox(),p=h.maxY-h.minY,d;t.each(r,function(g,y){d=l+y*(a+n)-p+n,e==="middle"&&(d+=p-n-(p-n)/2),e==="top"&&(d+=p-n),f?o.fillText(g,u,d):o.strokeText(g,u,d)})},measureText:function(){var o=this,f=o._attrs,r=f.text,e=f.font,n=f.textArr,a,u=0;if(!t.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=e,n?t.each(n,function(h){a=l.measureText(h).width,u<a&&(u=a),l.restore()}):(u=l.measureText(r).width,l.restore()),u}}}),P.exports=s},function(P,x,i){"use strict";x.a=t;function t(c){return(Math.pow(2,-10*c)-.0009765625)*1.0009775171065494}},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i(84);i.d(x,"interpolate",function(){return t.a});var c=i(138);i.d(x,"interpolateArray",function(){return c.a});var s=i(87);i.d(x,"interpolateBasis",function(){return s.b});var v=i(136);i.d(x,"interpolateBasisClosed",function(){return v.a});var o=i(139);i.d(x,"interpolateDate",function(){return o.a});var f=i(47);i.d(x,"interpolateNumber",function(){return f.a});var r=i(140);i.d(x,"interpolateObject",function(){return r.a});var e=i(243);i.d(x,"interpolateRound",function(){return e.a});var n=i(141);i.d(x,"interpolateString",function(){return n.a});var a=i(244);i.d(x,"interpolateTransformCss",function(){return a.a}),i.d(x,"interpolateTransformSvg",function(){return a.b});var u=i(247);i.d(x,"interpolateZoom",function(){return u.a});var l=i(135);i.d(x,"interpolateRgb",function(){return l.a}),i.d(x,"interpolateRgbBasis",function(){return l.b}),i.d(x,"interpolateRgbBasisClosed",function(){return l.c});var h=i(248);i.d(x,"interpolateHsl",function(){return h.a}),i.d(x,"interpolateHslLong",function(){return h.b});var p=i(249);i.d(x,"interpolateLab",function(){return p.a});var d=i(250);i.d(x,"interpolateHcl",function(){return d.a}),i.d(x,"interpolateHclLong",function(){return d.b});var g=i(251);i.d(x,"interpolateCubehelix",function(){return g.b}),i.d(x,"interpolateCubehelixLong",function(){return g.a});var y=i(252);i.d(x,"quantize",function(){return y.a})},function(P,x,i){"use strict";i.d(x,"a",function(){return t}),i.d(x,"b",function(){return c});var t=Math.PI/180,c=180/Math.PI},function(P,x,i){"use strict";i.d(x,"b",function(){return f}),i.d(x,"c",function(){return r});var t=i(19),c=i(87),s=i(136),v=i(32);x.a=function e(n){var a=Object(v.b)(n);function u(l,h){var p=a((l=Object(t.f)(l)).r,(h=Object(t.f)(h)).r),d=a(l.g,h.g),g=a(l.b,h.b),y=Object(v.a)(l.opacity,h.opacity);return function(E){return l.r=p(E),l.g=d(E),l.b=g(E),l.opacity=y(E),l+""}}return u.gamma=e,u}(1);function o(e){return function(n){var a=n.length,u=new Array(a),l=new Array(a),h=new Array(a),p,d;for(p=0;p<a;++p)d=Object(t.f)(n[p]),u[p]=d.r||0,l[p]=d.g||0,h[p]=d.b||0;return u=e(u),l=e(l),h=e(h),d.opacity=1,function(g){return d.r=u(g),d.g=l(g),d.b=h(g),d+""}}}var f=o(c.b),r=o(s.a)},function(P,x,i){"use strict";var t=i(87);x.a=function(c){var s=c.length;return function(v){var o=Math.floor(((v%=1)<0?++v:v)*s),f=c[(o+s-1)%s],r=c[o%s],e=c[(o+1)%s],n=c[(o+2)%s];return Object(t.a)((v-o/s)*s,f,r,e,n)}}},function(P,x,i){"use strict";x.a=function(t){return function(){return t}}},function(P,x,i){"use strict";var t=i(84);x.a=function(c,s){var v=s?s.length:0,o=c?Math.min(v,c.length):0,f=new Array(o),r=new Array(v),e;for(e=0;e<o;++e)f[e]=Object(t.a)(c[e],s[e]);for(;e<v;++e)r[e]=s[e];return function(n){for(e=0;e<o;++e)r[e]=f[e](n);return r}}},function(P,x,i){"use strict";x.a=function(t,c){var s=new Date;return t=+t,c-=t,function(v){return s.setTime(t+c*v),s}}},function(P,x,i){"use strict";var t=i(84);x.a=function(c,s){var v={},o={},f;(c===null||typeof c!="object")&&(c={}),(s===null||typeof s!="object")&&(s={});for(f in s)f in c?v[f]=Object(t.a)(c[f],s[f]):o[f]=s[f];return function(r){for(f in v)o[f]=v[f](r);return o}}},function(P,x,i){"use strict";var t=i(47),c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(c.source,"g");function v(f){return function(){return f}}function o(f){return function(r){return f(r)+""}}x.a=function(f,r){var e=c.lastIndex=s.lastIndex=0,n,a,u,l=-1,h=[],p=[];for(f=f+"",r=r+"";(n=c.exec(f))&&(a=s.exec(r));)(u=a.index)>e&&(u=r.slice(e,u),h[l]?h[l]+=u:h[++l]=u),(n=n[0])===(a=a[0])?h[l]?h[l]+=a:h[++l]=a:(h[++l]=null,p.push({i:l,x:Object(t.a)(n,a)})),e=s.lastIndex;return e<r.length&&(u=r.slice(e),h[l]?h[l]+=u:h[++l]=u),h.length<2?p[0]?o(p[0].x):v(r):(r=p.length,function(d){for(var g=0,y;g<r;++g)h[(y=p[g]).i]=y.x(d);return h.join("")})}},function(P,x,i){var t=i(0),c=i(328),s={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},v={line:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},path:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},area:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.fadeIn},leave:function(){return c.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return c.appear.zoomIn},enter:function(){return c.enter.zoomIn},leave:function(){return c.leave.zoomOut}},edge:{appear:function(){return c.appear.pathIn},enter:function(){return c.enter.pathIn},leave:function(){return c.leave.pathOut}},interval:{appear:function(f){var r;return f.isPolar?(r=c.appear.zoomIn,(f.isTransposed||f.type==="theta")&&(r=c.appear.fanIn)):f.isRect?r=f.isTransposed?c.appear.scaleInX:c.appear.scaleInY:r=c.appear.zoomIn,r},enter:function(f){return f.isRect||f.isTransposed||f.type==="theta"?c.enter.fadeIn:c.enter.zoomIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.type==="theta")return c.update.fanIn}},point:{appear:function(){return c.appear.zoomIn},enter:function(){return c.enter.zoomIn},leave:function(){return c.leave.zoomOut}},schema:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return c.appear.fadeIn},enter:function(){return c.enter.fadeIn},leave:function(){return c.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-ticks":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-grid":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-grid-rect":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(){return c.leave.fadeIn}},labelLine:{appear:function(){return c.appear.pathIn},enter:function(){return c.enter.pathIn},leave:function(){return c.leave.pathOut}}};v.Action=c,v.defaultCfg=s,v.getAnimation=function(o,f,r){var e=this[o];if(e){var n=e[r];if(t.isFunction(n))return n(f)}return!1},v.getAnimateCfg=function(o,f){var r=s[f];return this[o]&&this[o].cfg&&this[o].cfg[f]?t.deepMix({},r,this[o].cfg[f]):r},v.registerAnimation=function(o,f,r){this.Action[o]||(this.Action[o]={}),this.Action[o][f]=r},P.exports=v},function(P,x,i){var t=i(3),c=i(10),s=i(266),v=i(275),o=i(286),f=i(289),r=i(293),e=i(50),n=i(302),a=i(306),u=i(312),l=i(316),h={DOMUtil:s,DomUtil:s,MatrixUtil:e,PathUtil:a,arrayUtil:v,domUtil:s,eventUtil:o,formatUtil:f,mathUtil:r,matrixUtil:e,objectUtil:n,stringUtil:u,pathUtil:a,typeUtil:l,augment:i(66),clone:i(39),debounce:i(322),deepMix:i(27),each:t,extend:i(65),filter:i(88),group:i(160),groupBy:i(162),groupToMap:i(161),indexOf:i(323),isEmpty:i(61),isEqual:i(40),isEqualWith:i(324),map:i(325),mix:c,pick:i(326),throttle:i(327),toArray:i(29),toString:i(26),uniqueId:i(62)};t([s,v,o,f,r,e,n,a,u,l],function(p){c(h,p)}),P.exports=h},function(P,x,i){var t=i(145),c=i(6);function s(v,o){var f=t(o),r=f.length;if(c(v))return!r;for(var e=0;e<r;e+=1){var n=f[e];if(o[n]!==v[n]||!(n in v))return!1}return!0}P.exports=s},function(P,x,i){var t=i(3),c=i(13),s=Object.keys?function(v){return Object.keys(v)}:function(v){var o=[];return t(v,function(f,r){c(v)&&r==="prototype"||o.push(r)}),o};P.exports=s},function(P,x,i){var t=i(15),c=Array.prototype.splice,s=function(o,f){if(!t(o))return[];for(var r=o?f.length:0,e=r-1;r--;){var n=void 0,a=f[r];(r===e||a!==n)&&(n=a,c.call(o,a,1))}return o};P.exports=s},function(P,x,i){var t=i(3),c=i(48),s=function(o){var f=[];return t(o,function(r){c(f,r)||f.push(r)}),f};P.exports=s},function(P,x,i){var t=i(5),c=i(13),s=i(3),v=function(f,r){if(!!t(f)){var e=f[0],n=void 0;c(r)?n=r(f[0]):n=f[0][r];var a=void 0;return s(f,function(u){c(r)?a=r(u):a=u[r],a>n&&(e=u,n=a)}),e}};P.exports=v},function(P,x){P.exports=parseInt},function(P,x){P.exports=function(i,t){return i.hasOwnProperty(t)}},function(P,x,i){var t=i(3),c=i(13),s=Object.values?function(v){return Object.values(v)}:function(v){var o=[];return t(v,function(f,r){c(v)&&r==="prototype"||o.push(f)}),o};P.exports=s},function(P,x,i){var t=i(153);P.exports=function(s,v,o,f,r){if(r)return[["M",+s+ +r,v],["l",o-r*2,0],["a",r,r,0,0,1,r,r],["l",0,f-r*2],["a",r,r,0,0,1,-r,r],["l",r*2-o,0],["a",r,r,0,0,1,-r,-r],["l",0,r*2-f],["a",r,r,0,0,1,r,-r],["z"]];var e=[["M",s,v],["l",o,0],["l",0,f],["l",-o,0],["z"]];return e.parsePathArray=t,e}},function(P,x){var i=/,?([a-z]),?/gi;P.exports=function(c){return c.join(",").replace(i,"$1")}},function(P,x,i){var t=i(155),c=function o(f,r,e,n,a,u,l,h,p,d){e===n&&(e+=1);var g=Math.PI*120/180,y=Math.PI/180*(+a||0),E=[],C=void 0,m=void 0,M=void 0,b=void 0,S=void 0,A=function(et,B,w){var R=et*Math.cos(w)-B*Math.sin(w),V=et*Math.sin(w)+B*Math.cos(w);return{x:R,y:V}};if(d)m=d[0],M=d[1],b=d[2],S=d[3];else{C=A(f,r,-y),f=C.x,r=C.y,C=A(h,p,-y),h=C.x,p=C.y,f===h&&r===p&&(h+=1,p+=1);var T=(f-h)/2,O=(r-p)/2,D=T*T/(e*e)+O*O/(n*n);D>1&&(D=Math.sqrt(D),e=D*e,n=D*n);var L=e*e,Z=n*n,U=(u===l?-1:1)*Math.sqrt(Math.abs((L*Z-L*O*O-Z*T*T)/(L*O*O+Z*T*T)));b=U*e*O/n+(f+h)/2,S=U*-n*T/e+(r+p)/2,m=Math.asin(((r-S)/n).toFixed(9)),M=Math.asin(((p-S)/n).toFixed(9)),m=f<b?Math.PI-m:m,M=h<b?Math.PI-M:M,m<0&&(m=Math.PI*2+m),M<0&&(M=Math.PI*2+M),l&&m>M&&(m=m-Math.PI*2),!l&&M>m&&(M=M-Math.PI*2)}var Y=M-m;if(Math.abs(Y)>g){var W=M,J=h,ht=p;M=m+g*(l&&M>m?1:-1),h=b+e*Math.cos(M),p=S+n*Math.sin(M),E=o(h,p,e,n,a,0,l,J,ht,[M,W,b,S])}Y=M-m;var nt=Math.cos(m),Q=Math.sin(m),xt=Math.cos(M),_t=Math.sin(M),Nt=Math.tan(Y/4),rt=4/3*e*Nt,q=4/3*n*Nt,G=[f,r],N=[f+rt*Q,r-q*nt],at=[h+rt*_t,p-q*xt],H=[h,p];if(N[0]=2*G[0]-N[0],N[1]=2*G[1]-N[1],d)return[N,at,H].concat(E);E=[N,at,H].concat(E).join().split(",");for(var ft=[],ct=0,K=E.length;ct<K;ct++)ft[ct]=ct%2?A(E[ct-1],E[ct],y).y:A(E[ct],E[ct+1],y).x;return ft},s=function(f,r,e,n){return[f,r,e,n,e,n]},v=function(f,r,e,n,a,u){var l=1/3,h=2/3;return[l*f+h*e,l*r+h*n,l*a+h*e,l*u+h*n,a,u]};P.exports=function(f,r){var e=t(f),n=r&&t(r),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],h=[],p="",d="",g=void 0,y=function(O,D,L){var Z=void 0,U=void 0;if(!O)return["C",D.x,D.y,D.x,D.y,D.x,D.y];switch(!(O[0]in{T:1,Q:1})&&(D.qx=D.qy=null),O[0]){case"M":D.X=O[1],D.Y=O[2];break;case"A":O=["C"].concat(c.apply(0,[D.x,D.y].concat(O.slice(1))));break;case"S":L==="C"||L==="S"?(Z=D.x*2-D.bx,U=D.y*2-D.by):(Z=D.x,U=D.y),O=["C",Z,U].concat(O.slice(1));break;case"T":L==="Q"||L==="T"?(D.qx=D.x*2-D.qx,D.qy=D.y*2-D.qy):(D.qx=D.x,D.qy=D.y),O=["C"].concat(v(D.x,D.y,D.qx,D.qy,O[1],O[2]));break;case"Q":D.qx=O[1],D.qy=O[2],O=["C"].concat(v(D.x,D.y,O[1],O[2],O[3],O[4]));break;case"L":O=["C"].concat(s(D.x,D.y,O[1],O[2]));break;case"H":O=["C"].concat(s(D.x,D.y,O[1],D.y));break;case"V":O=["C"].concat(s(D.x,D.y,D.x,O[1]));break;case"Z":O=["C"].concat(s(D.x,D.y,D.X,D.Y));break;default:break}return O},E=function(O,D){if(O[D].length>7){O[D].shift();for(var L=O[D];L.length;)l[D]="A",n&&(h[D]="A"),O.splice(D++,0,["C"].concat(L.splice(0,6)));O.splice(D,1),g=Math.max(e.length,n&&n.length||0)}},C=function(O,D,L,Z,U){O&&D&&O[U][0]==="M"&&D[U][0]!=="M"&&(D.splice(U,0,["M",Z.x,Z.y]),L.bx=0,L.by=0,L.x=O[U][1],L.y=O[U][2],g=Math.max(e.length,n&&n.length||0))};g=Math.max(e.length,n&&n.length||0);for(var m=0;m<g;m++){e[m]&&(p=e[m][0]),p!=="C"&&(l[m]=p,m&&(d=l[m-1])),e[m]=y(e[m],a,d),l[m]!=="A"&&p==="C"&&(l[m]="C"),E(e,m),n&&(n[m]&&(p=n[m][0]),p!=="C"&&(h[m]=p,m&&(d=h[m-1])),n[m]=y(n[m],u,d),h[m]!=="A"&&p==="C"&&(h[m]="C"),E(n,m)),C(e,n,a,u,m),C(n,e,u,a,m);var M=e[m],b=n&&n[m],S=M.length,A=n&&b.length;a.x=M[S-2],a.y=M[S-1],a.bx=parseFloat(M[S-4])||a.x,a.by=parseFloat(M[S-3])||a.y,u.bx=n&&(parseFloat(b[A-4])||u.x),u.by=n&&(parseFloat(b[A-3])||u.y),u.x=n&&b[A-2],u.y=n&&b[A-1]}return n?[e,n]:e}},function(P,x,i){var t=i(156),c=i(157);function s(v,o,f,r,e){var n=[];if(e===null&&r===null&&(r=f),v=+v,o=+o,f=+f,r=+r,e!==null){var a=Math.PI/180,u=v+f*Math.cos(-r*a),l=v+f*Math.cos(-e*a),h=o+f*Math.sin(-r*a),p=o+f*Math.sin(-e*a);n=[["M",u,h],["A",f,f,0,+(e-r>180),0,l,p]]}else n=[["M",v,o],["m",0,-r],["a",f,r,0,1,1,0,2*r],["a",f,r,0,1,1,0,-2*r],["z"]];return n}P.exports=function(o){if(o=t(o),!o||!o.length)return[["M",0,0]];var f=[],r=0,e=0,n=0,a=0,u=0,l=void 0,h=void 0;o[0][0]==="M"&&(r=+o[0][1],e=+o[0][2],n=r,a=e,u++,f[0]=["M",r,e]);for(var p=o.length===3&&o[0][0]==="M"&&o[1][0].toUpperCase()==="R"&&o[2][0].toUpperCase()==="Z",d,g,y=u,E=o.length;y<E;y++){if(f.push(d=[]),g=o[y],l=g[0],l!==l.toUpperCase())switch(d[0]=l.toUpperCase(),d[0]){case"A":d[1]=g[1],d[2]=g[2],d[3]=g[3],d[4]=g[4],d[5]=g[5],d[6]=+g[6]+r,d[7]=+g[7]+e;break;case"V":d[1]=+g[1]+e;break;case"H":d[1]=+g[1]+r;break;case"R":h=[r,e].concat(g.slice(1));for(var C=2,m=h.length;C<m;C++)h[C]=+h[C]+r,h[++C]=+h[C]+e;f.pop(),f=f.concat(c(h,p));break;case"O":f.pop(),h=s(r,e,g[1],g[2]),h.push(h[0]),f=f.concat(h);break;case"U":f.pop(),f=f.concat(s(r,e,g[1],g[2],g[3])),d=["U"].concat(f[f.length-1].slice(-2));break;case"M":n=+g[1]+r,a=+g[2]+e;break;default:for(var M=1,b=g.length;M<b;M++)d[M]=+g[M]+(M%2?r:e)}else if(l==="R")h=[r,e].concat(g.slice(1)),f.pop(),f=f.concat(c(h,p)),d=["R"].concat(g.slice(-2));else if(l==="O")f.pop(),h=s(r,e,g[1],g[2]),h.push(h[0]),f=f.concat(h);else if(l==="U")f.pop(),f=f.concat(s(r,e,g[1],g[2],g[3])),d=["U"].concat(f[f.length-1].slice(-2));else for(var S=0,A=g.length;S<A;S++)d[S]=g[S];if(l=l.toUpperCase(),l!=="O")switch(d[0]){case"Z":r=+n,e=+a;break;case"H":r=d[1];break;case"V":e=d[1];break;case"M":n=d[d.length-2],a=d[d.length-1];break;default:r=d[d.length-2],e=d[d.length-1]}}return f}},function(P,x){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,c=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig");P.exports=function(o){if(!o)return null;if((typeof o=="undefined"?"undefined":i(o))===i([]))return o;var f={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(o).replace(c,function(e,n,a){var u=[],l=n.toLowerCase();if(a.replace(s,function(h,p){p&&u.push(+p)}),l==="m"&&u.length>2&&(r.push([n].concat(u.splice(0,2))),l="l",n=n==="m"?"l":"L"),l==="o"&&u.length===1&&r.push([n,u[0]]),l==="r")r.push([n].concat(u));else for(;u.length>=f[l]&&(r.push([n].concat(u.splice(0,f[l]))),!!f[l]););}),r}},function(P,x){P.exports=function(t,c){for(var s=[],v=0,o=t.length;o-2*!c>v;v+=2){var f=[{x:+t[v-2],y:+t[v-1]},{x:+t[v],y:+t[v+1]},{x:+t[v+2],y:+t[v+3]},{x:+t[v+4],y:+t[v+5]}];c?v?o-4===v?f[3]={x:+t[0],y:+t[1]}:o-2===v&&(f[2]={x:+t[0],y:+t[1]},f[3]={x:+t[2],y:+t[3]}):f[0]={x:+t[o-2],y:+t[o-1]}:o-4===v?f[3]=f[2]:v||(f[0]={x:+t[v],y:+t[v+1]}),s.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return s}},function(P,x,i){var t=i(26),c=function(v){return t(v).toLowerCase()};P.exports=c},function(P,x,i){var t=i(26),c=function(v){return t(v).toUpperCase()};P.exports=c},function(P,x,i){var t=i(161),c=function(v,o){if(!o)return[v];var f=t(v,o),r=[];for(var e in f)r.push(f[e]);return r};P.exports=c},function(P,x,i){var t=i(13),c=i(5),s=i(162),v=function(f,r){if(!r)return{0:f};if(!t(r)){var e=c(r)?r:r.replace(/\s+/g,"").split("*");r=function(u){for(var l="_",h=0,p=e.length;h<p;h++)l+=u[e[h]]&&u[e[h]].toString();return l}}var n=s(f,r);return n};P.exports=v},function(P,x,i){var t=i(3),c=i(5),s=Object.prototype.hasOwnProperty,v=function(f,r){if(!r||!c(f))return f;var e={},n=null;return t(f,function(a){n=r(a),s.call(e,n)?e[n].push(a):e[n]=[a]}),e};P.exports=v},function(P,x,i){function t(E,C){E.prototype=Object.create(C.prototype),E.prototype.constructor=E,c(E,C)}function c(E,C){return c=Object.setPrototypeOf||function(M,b){return M.__proto__=b,M},c(E,C)}var s=i(0),v=i(329),o=i(18),f=o.Canvas,r=s.DomUtil,e=i(8),n=i(414),a=i(200),u=i(202),l=i(201),h=i(203),p="auto";function d(E,C){var m=!1;return s.each(E,function(M){var b=[].concat(M.values),S=[].concat(C.values);if(M.type===C.type&&M.field===C.field&&b.sort().toString()===S.sort().toString()){m=!0;return}}),m}function g(E,C){return s.isEqualWith(E,C,function(m,M){return m===M})}var y=function(E){t(C,E);function C(){return E.apply(this,arguments)||this}var m=C.prototype;return m.getDefaultCfg=function(){var b=E.prototype.getDefaultCfg.call(this);return s.mix(b,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:e.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:e.renderer,views:[]})},m.init=function(){var b=this,S=b.get("viewTheme");b._initCanvas(),b._initPlot(),b._initEvents(),E.prototype.init.call(this);var A=new a.Tooltip({chart:b,viewTheme:S,options:{}});b.set("tooltipController",A);var T=new a.Legend({chart:b,viewTheme:S});b.set("legendController",T),b.set("_id","chart"),b.emit("afterinit")},m._isAutoPadding=function(){var b=this.get("padding");return s.isArray(b)?b.includes(p):b===p},m._getAutoPadding=function(){for(var b=this.get("padding"),S=this.get("frontPlot"),A=S.getBBox(),T=this.get("backPlot"),O=l(T,h(this.get("plotRange"))),D=u(A,O),L=[0-D.minY,D.maxX-this.get("width"),D.maxY-this.get("height"),0-D.minX],Z=s.toAllPadding(b),U=0;U<Z.length;U++)if(Z[U]===p){var Y=Math.max(0,L[U]);Z[U]=Y+this.get("autoPaddingAppend")}return Z},m._initCanvas=function(){var b=this.get("container"),S=this.get("id");!b&&S&&(b=S,this.set("container",S));var A=this.get("width"),T=this.get("height");if(s.isString(b)){if(b=document.getElementById(b),!b)throw new Error("Please specify the container for the chart!");this.set("container",b)}var O=r.createDom('<div style="position:relative;"></div>');b.appendChild(O),this.set("wrapperEl",O),this.get("forceFit")&&(A=r.getWidth(b,A),this.set("width",A));var D=this.get("renderer"),L=new f({containerDOM:O,width:A,height:T,pixelRatio:D==="svg"?1:this.get("pixelRatio"),renderer:D});this.set("canvas",L)},m._initPlot=function(){var b=this;b._initPlotBack();var S=b.get("canvas"),A=S.addGroup({zIndex:1}),T=S.addGroup({zIndex:0}),O=S.addGroup({zIndex:3});b.set("backPlot",A),b.set("middlePlot",T),b.set("frontPlot",O)},m._initPlotBack=function(){var b=this,S=b.get("canvas"),A=b.get("viewTheme"),T=S.addGroup(n,{padding:this.get("padding"),plotBackground:s.mix({},A.plotBackground,b.get("plotBackground")),background:s.mix({},A.background,b.get("background"))});b.set("plot",T),b.set("plotRange",T.get("plotRange"))},m._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",s.wrapBehavior(this,"_initForceFitEvent"))},m._initForceFitEvent=function(){var b=setTimeout(s.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",b)},m._renderLegends=function(){var b=this.get("options"),S=b.legends;if(s.isNil(S)||S!==!1){var A=this.get("legendController");if(A.options=S||{},A.plotRange=this.get("plotRange"),S&&S.custom)A.addCustomLegend();else{var T=this.getAllGeoms(),O=[];s.each(T,function(L){var Z=L.get("view"),U=L.getAttrsForLegend();s.each(U,function(Y){var W=Y.type,J=Y.getScale(W);if(J.field&&J.type!=="identity"&&!d(O,J)){O.push(J);var ht=Z.getFilteredOutValues(J.field);A.addLegend(J,Y,L,ht)}})});var D=this.getYScales();O.length===0&&D.length>1&&A.addMixedLegend(D,T)}A.alignLegends()}},m._renderTooltips=function(){var b=this.get("options");if(s.isNil(b.tooltip)||b.tooltip!==!1){var S=this.get("tooltipController");S.options=b.tooltip||{},S.renderTooltip()}},m.getAllGeoms=function(){var b=[];b=b.concat(this.get("geoms"));var S=this.get("views");return s.each(S,function(A){b=b.concat(A.get("geoms"))}),b},m.forceFit=function(){var b=this;if(!(!b||b.destroyed)){var S=b.get("container"),A=b.get("width"),T=r.getWidth(S,A);if(T!==0&&T!==A){var O=b.get("height");b.changeSize(T,O)}return b}},m.resetPlot=function(){var b=this.get("plot"),S=this.get("padding");g(S,b.get("padding"))||(b.set("padding",S),b.repaint())},m.changeSize=function(b,S){var A=this,T=A.get("canvas");T.changeSize(b,S);var O=this.get("plot");return A.set("width",b),A.set("height",S),O.repaint(),this.set("keepPadding",!0),A.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),A},m.changeWidth=function(b){return this.changeSize(b,this.get("height"))},m.changeHeight=function(b){return this.changeSize(this.get("width"),b)},m.view=function(b){b=b||{},b.theme=this.get("theme"),b.parent=this,b.backPlot=this.get("backPlot"),b.middlePlot=this.get("middlePlot"),b.frontPlot=this.get("frontPlot"),b.canvas=this.get("canvas"),s.isNil(b.animate)&&(b.animate=this.get("animate")),b.options=s.mix({},this._getSharedOptions(),b.options);var S=new v(b);return S.set("_id","view"+this.get("views").length),this.get("views").push(S),this.emit("addview",{view:S}),S},m.removeView=function(b){var S=this.get("views");s.Array.remove(S,b),b.destroy()},m._getSharedOptions=function(){var b=this.get("options"),S={};return s.each(["scales","coord","axes"],function(A){S[A]=s.cloneDeep(b[A])}),S},m.getViewRegion=function(){var b=this.get("plotRange");return{start:b.bl,end:b.tr}},m.legend=function(b,S){var A=this.get("options");A.legends||(A.legends={});var T={};return b===!1?A.legends=!1:s.isObject(b)?T=b:s.isString(b)?T[b]=S:T=S,s.mix(A.legends,T),this},m.tooltip=function(b,S){var A=this.get("options");return A.tooltip||(A.tooltip={}),b===!1?A.tooltip=!1:s.isObject(b)?s.mix(A.tooltip,b):s.mix(A.tooltip,S),this},m.clear=function(){this.emit("beforeclear");for(var b=this.get("views");b.length>0;){var S=b.shift();S.destroy()}E.prototype.clear.call(this);var A=this.get("canvas");return this.resetPlot(),A.draw(),this.emit("afterclear"),this},m.clearInner=function(){var b=this.get("views");s.each(b,function(T){T.clearInner()});var S=this.get("tooltipController");if(S&&S.clear(),!this.get("keepLegend")){var A=this.get("legendController");A&&A.clear()}E.prototype.clearInner.call(this)},m.drawComponents=function(){E.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},m.render=function(){var b=this;if(!b.get("keepPadding")&&b._isAutoPadding()){b.beforeRender(),b.drawComponents();var S=b._getAutoPadding(),A=b.get("plot");g(A.get("padding"),S)||(A.set("padding",S),A.repaint())}var T=b.get("middlePlot");if(b.get("limitInPlot")&&!T.attr("clip")){var O=s.getClipByRange(b.get("plotRange"));T.attr("clip",O)}E.prototype.render.call(this),b._renderTooltips()},m.repaint=function(){this.get("keepPadding")||this.resetPlot(),E.prototype.repaint.call(this)},m.changeVisible=function(b){var S=this.get("wrapperEl"),A=b?"":"none";S.style.display=A},m.toDataURL=function(){var b=this,S=b.get("canvas"),A=b.get("renderer"),T=S.get("el"),O="";if(A==="svg"){var D=T.cloneNode(!0),L=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Z=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",L);Z.replaceChild(D,Z.documentElement);var U=new XMLSerializer().serializeToString(Z);O="data:image/svg+xml;charset=utf8,"+encodeURIComponent(U)}else A==="canvas"&&(O=T.toDataURL("image/png"));return O},m.downloadImage=function(b){var S=this,A=document.createElement("a"),T=S.get("renderer"),O=(b||"chart")+(T==="svg"?".svg":".png"),D=S.get("canvas");D.get("timeline").stopAllAnimations(),setTimeout(function(){var L=S.toDataURL();if(window.Blob&&window.URL&&T!=="svg"){for(var Z=L.split(","),U=Z[0].match(/:(.*?);/)[1],Y=atob(Z[1]),W=Y.length,J=new Uint8Array(W);W--;)J[W]=Y.charCodeAt(W);var ht=new Blob([J],{type:U});window.navigator.msSaveBlob?window.navigator.msSaveBlob(ht,O):A.addEventListener("click",function(){A.download=O,A.href=window.URL.createObjectURL(ht)})}else A.addEventListener("click",function(){A.download=O,A.href=L});var nt=document.createEvent("MouseEvents");nt.initEvent("click",!1,!1),A.dispatchEvent(nt)},16)},m.showTooltip=function(b){var S=this.getViewsByPoint(b);if(S.length){var A=this.get("tooltipController");A.showTooltip(b,S)}return this},m.lockTooltip=function(){var b=this.get("tooltipController");return b.lockTooltip(),this},m.unlockTooltip=function(){var b=this.get("tooltipController");return b.unlockTooltip(),this},m.hideTooltip=function(){var b=this.get("tooltipController");return b.hideTooltip(),this},m.getTooltipItems=function(b){var S=this,A=S.getViewsByPoint(b),T=[];return s.each(A,function(O){var D=O.get("geoms");s.each(D,function(L){var Z=L.get("dataArray"),U=[];s.each(Z,function(Y){var W=L.findPoint(b,Y);if(W){var J=L.getTipItems(W);U=U.concat(J)}}),T=T.concat(U)})}),T},m.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var b=this.get("canvas"),S=this.get("wrapperEl");S.parentNode.removeChild(S),E.prototype.destroy.call(this),b.destroy(),window.removeEventListener("resize",s.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},C}(v);P.exports=y},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(90),v=i(0),o=function(f){t(e,f);var r=e.prototype;r.getDefaultCfg=function(){return{}};function e(n){var a;a=f.call(this)||this;var u={visible:!0},l=a.getDefaultCfg();return a._attrs=u,v.assign(u,l,n),a}return r.get=function(a){return this._attrs[a]},r.set=function(a,u){this._attrs[a]=u},r.show=function(){var a=this.get("visible");a||(this.set("visible",!0),this.changeVisible(!0))},r.hide=function(){var a=this.get("visible");a&&(this.set("visible",!1),this.changeVisible(!1))},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(s);P.exports=o},function(P,x,i){var t=i(11),c=i(12),s=i(3),v=/rgba?\(([\s.,0-9]+)\)/;function o(){var p=document.createElement("i");return p.title="Web Colour Picker",p.style.display="none",document.body.appendChild(p),p}function f(p,d,g,y){var E=p[y]+(d[y]-p[y])*g;return E}function r(p){return"#"+e(p[0])+e(p[1])+e(p[2])}function e(p){return p=Math.round(p),p=p.toString(16),p.length===1&&(p="0"+p),p}function n(p,d){(isNaN(d)||!t(d)||d<0)&&(d=0),d>1&&(d=1);var g=p.length-1,y=Math.floor(g*d),E=g*d-y,C=p[y],m=y===g?C:p[y+1],M=r([f(C,m,E,0),f(C,m,E,1),f(C,m,E,2)]);return M}function a(p){var d=[];return d.push(parseInt(p.substr(1,2),16)),d.push(parseInt(p.substr(3,2),16)),d.push(parseInt(p.substr(5,2),16)),d}var u={},l=null,h={toRGB:function(d){if(d[0]==="#"&&d.length===7)return d;l||(l=o());var g;if(u[d])g=u[d];else{l.style.color=d,g=document.defaultView.getComputedStyle(l,"").getPropertyValue("color");var y=v.exec(g),E=y[1].split(/\s*,\s*/);g=r(E),u[d]=g}return g},rgb2arr:a,gradient:function(d){var g=[];return c(d)&&(d=d.split("-")),s(d,function(y){y.indexOf("#")===-1&&(y=h.toRGB(y)),g.push(a(y))}),function(y){return n(g,y)}}};P.exports=h},function(P,x,i){var t=0,c=i(3),s={values:i(89)};P.exports={isAdjust:function(o){return this.adjustNames.indexOf(o)>=0},_getDimValues:function(o){var f=this,r={},e=[];if(f.xField&&f.isAdjust("x")&&e.push(f.xField),f.yField&&f.isAdjust("y")&&e.push(f.yField),c(e,function(u){var l=s.values(o,u);l.sort(function(h,p){return h-p}),r[u]=l}),!f.yField&&f.isAdjust("y")){var n="y",a=[t,1];r[n]=a}return r},adjustData:function(o,f){var r=this,e=r._getDimValues(f);c(o,function(n,a){c(e,function(u,l){r.adjustDim(l,u,n,o.length,a)})})},getAdjustRange:function(o,f,r){var e=this,n=r.indexOf(f),a=r.length,u,l;return!e.yField&&e.isAdjust("y")?(u=0,l=1):a>1?(u=n===0?r[0]:r[n-1],l=n===a-1?r[a-1]:r[n+1],n!==0?u+=(f-u)/2:u-=(l-f)/2,n!==a-1?l-=(l-f)/2:l+=(f-r[a-2])/2):(u=f===0?0:f-.5,l=f===0?1:f+.5),{pre:u,next:l}},groupData:function(o,f){var r={};return c(o,function(e){var n=e[f];n===void 0&&(n=e[f]=t),r[n]||(r[n]=[]),r[n].push(e)}),r}}},function(P,x,i){var t={default:i(168),dark:i(342)};P.exports=t},function(P,x){var i,t,c="#1890FF",s=["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],v=["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],o=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],f=["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],r=["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],e='BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',n="g2-tooltip",a="g2-tooltip-title",u="g2-tooltip-list",l="g2-tooltip-list-item",h="g2-tooltip-marker",p="g2-tooltip-value",d="g2-legend",g="g2-legend-title",y="g2-legend-list",E="g2-legend-list-item",C="g2-legend-marker",m={defaultColor:c,plotCfg:{padding:[20,20,95,80]},fontFamily:e,defaultLegendPosition:"bottom",colors:s,colors_16:v,colors_24:o,colors_pie:f,colors_pie_16:r,shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:e}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:e}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:e}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:e},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},html:(i={},i[""+d]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:e,lineHeight:"20px",color:"#8C8C8C"},i[""+g]={marginBottom:"4px"},i[""+y]={listStyleType:"none",margin:0,padding:0},i[""+E]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},i[""+C]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},i),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:e},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(t={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},t[""+n]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:e,lineHeight:"20px",padding:"10px 10px 6px 10px"},t[""+a]={marginBottom:"4px"},t[""+u]={margin:0,listStyleType:"none",padding:0},t[""+l]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},t[""+h]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},t[""+p]={display:"inline-block",float:"right",marginLeft:"30px"},t),tooltipMarker:{symbol:function(b,S,A){return[["M",b,S],["m",-A,0],["a",A,A,0,1,0,A*2,0],["a",A,A,0,1,0,-A*2,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:c,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:c,radius:3},interval:{lineWidth:0,fill:c,fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:c,fillOpacity:.6},polygon:{lineWidth:0,fill:c,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},line:{stroke:c,lineWidth:2,fill:null},edge:{stroke:c,lineWidth:1,fill:null},schema:{stroke:c,lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:e,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:e}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};P.exports=m},function(P,x,i){P.exports={isFunction:i(13),isObject:i(22),isBoolean:i(60),isNil:i(6),isString:i(12),isArray:i(5),isNumber:i(11),isEmpty:i(61),uniqueId:i(62),clone:i(39),deepMix:i(27),assign:i(10),merge:i(27),upperFirst:i(64),each:i(3),isEqual:i(40),toArray:i(29),extend:i(65),augment:i(66),remove:i(67),isNumberEqual:i(30),toRadian:i(68),toDegree:i(69),mod:i(70),clamp:i(41),createDom:i(71),modifyCSS:i(72),requestAnimationFrame:i(73),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,x,i){var t=i(2),c=function(v,o,f,r){this.type=v,this.target=null,this.currentTarget=null,this.bubbles=f,this.cancelable=r,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=o};t.augment(c,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return t.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),P.exports=c},function(P,x,i){var t=i(2),c=i(172),s=i(349),v={},o="_INDEX";function f(a){return function(u,l){var h=a(u,l);return h===0?u[o]-l[o]:h}}function r(a,u,l){for(var h,p=a.length-1;p>=0;p--){var d=a[p];if(d._cfg.visible&&d._cfg.capture&&(d.isGroup?h=d.getShape(u,l):d.isHit(u,l)&&(h=d)),h)break}return h}var e=function a(u){a.superclass.constructor.call(this,u),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function n(a){if(!(a._cfg||a===e)){var u=a.superclass.constructor;u&&!u._cfg&&n(u),a._cfg={},t.merge(a._cfg,u._cfg),t.merge(a._cfg,a.CFG)}}t.extend(e,c),t.augment(e,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return n(this.constructor),t.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(u,l){var h=this.get("canvas");l=l||{};var p=v[u];if(p||(p=t.upperFirst(u),v[u]=p),l.attrs&&h){var d=l.attrs;if(u==="text"){var g=h.get("fontFamily");g&&(d.fontFamily=d.fontFamily?d.fontFamily:g)}}l.canvas=h,l.type=u;var y=new s[p](l);return this.add(y),y},addGroup:function(u,l){var h=this.get("canvas"),p;if(l=t.merge({},l),t.isFunction(u))l?(l.canvas=h,l.parent=this,p=new u(l)):p=new u({canvas:h,parent:this}),this.add(p);else if(t.isObject(u))u.canvas=h,p=new e(u),this.add(p);else if(u===void 0)p=new e,this.add(p);else return!1;return p},renderBack:function(u,l){var h=this.get("backShape"),p=this.getBBox();return t.merge(l,{x:p.minX-u[3],y:p.minY-u[0],width:p.width+u[1]+u[3],height:p.height+u[0]+u[2]}),h?h.attr(l):h=this.addShape("rect",{zIndex:-1,attrs:l}),this.set("backShape",h),this.sort(),h},removeChild:function(u,l){if(arguments.length>=2)this.contain(u)&&u.remove(l);else{if(arguments.length===1)if(t.isBoolean(u))l=u;else return this.contain(u)&&u.remove(!0),this;arguments.length===0&&(l=!0),e.superclass.remove.call(this,l)}return this},add:function(u){var l=this,h=l.get("children");if(t.isArray(u))t.each(u,function(g){var y=g.get("parent");y&&y.removeChild(g,!1),l._setCfgProperty(g)}),l._cfg.children=h.concat(u);else{var p=u,d=p.get("parent");d&&d.removeChild(p,!1),l._setCfgProperty(p),h.push(p)}return l},_setCfgProperty:function(u){var l=this._cfg;u.set("parent",this),u.set("canvas",l.canvas),l.timeline&&u.set("timeline",l.timeline)},contain:function(u){var l=this.get("children");return l.indexOf(u)>-1},getChildByIndex:function(u){var l=this.get("children");return l[u]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var u=this.get("children").length-1;return this.getChildByIndex(u)},getBBox:function(){var u=this,l=Infinity,h=-Infinity,p=Infinity,d=-Infinity,g=u.get("children");g.length>0?t.each(g,function(E){if(E.get("visible")){if(E.isGroup&&E.get("children").length===0)return;var C=E.getBBox();if(!C)return!0;var m=[C.minX,C.minY,1],M=[C.minX,C.maxY,1],b=[C.maxX,C.minY,1],S=[C.maxX,C.maxY,1];E.apply(m),E.apply(M),E.apply(b),E.apply(S);var A=Math.min(m[0],M[0],b[0],S[0]),T=Math.max(m[0],M[0],b[0],S[0]),O=Math.min(m[1],M[1],b[1],S[1]),D=Math.max(m[1],M[1],b[1],S[1]);A<l&&(l=A),T>h&&(h=T),O<p&&(p=O),D>d&&(d=D)}}):(l=0,h=0,p=0,d=0);var y={minX:l,minY:p,maxX:h,maxY:d};return y.x=y.minX,y.y=y.minY,y.width=y.maxX-y.minX,y.height=y.maxY-y.minY,y},getCount:function(){return this.get("children").length},sort:function(){var u=this.get("children");return t.each(u,function(l,h){return l[o]=h,l}),u.sort(f(function(l,h){return l.get("zIndex")-h.get("zIndex")})),this},findById:function(u){return this.find(function(l){return l.get("id")===u})},find:function(u){if(t.isString(u))return this.findById(u);var l=this.get("children"),h=null;return t.each(l,function(p){if(u(p)?h=p:p.find&&(h=p.find(u)),h)return!1}),h},findAll:function(u){var l=this.get("children"),h=[],p=[];return t.each(l,function(d){u(d)&&h.push(d),d.findAllBy&&(p=d.findAllBy(u),h=h.concat(p))}),h},findBy:function(u){var l=this.get("children"),h=null;return t.each(l,function(p){if(u(p)?h=p:p.findBy&&(h=p.findBy(u)),h)return!1}),h},findAllBy:function(u){var l=this.get("children"),h=[],p=[];return t.each(l,function(d){u(d)&&h.push(d),d.findAllBy&&(p=d.findAllBy(u),h=h.concat(p))}),h},getShape:function(u,l){var h=this,p=h._attrs.clip,d=h._cfg.children,g;if(p){var y=[u,l,1];p.invert(y,h.get("canvas")),p.isPointInPath(y[0],y[1])&&(g=r(d,u,l))}else g=r(d,u,l);return g},clearTotalMatrix:function(){var u=this.get("totalMatrix");if(u){this.setSilent("totalMatrix",null);for(var l=this._cfg.children,h=0;h<l.length;h++){var p=l[h];p.clearTotalMatrix()}}},clear:function(u){for(var l=this._cfg.children,h=l.length-1;h>=0;h--)l[h].remove(!0,u);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),e.superclass.destroy.call(this))},clone:function(){var u=this,l=u._cfg.children,h=new e;return t.each(l,function(p){h.add(p.clone())}),h}}),P.exports=e},function(P,x,i){var t=i(2),c=i(346),s=i(347),v=i(348),o=i(90),f=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},t.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},t.augment(f,c,s,o,v,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,n){return e==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(n),e==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function(e,n){this._cfg[e]=n},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,n){var a=this._cfg,u=a.parent,l=a.el;return u&&t.remove(u.get("children"),this),l&&(n?u&&u._cfg.tobeRemoved.push(l):l.parentNode.removeChild(l)),(e||e===void 0)&&this.destroy(),this},destroy:function(){var e=this.get("destroyed");e||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);a.splice(l,1),a.push(this),u&&(u.parentNode.removeChild(u),e.el=null)}},toBack:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);if(a.splice(l,1),a.unshift(this),u){var h=u.parentNode;h.removeChild(u),h.insertBefore(u,h.firstChild)}}},_beforeSetZIndex:function(e){var n=this._cfg.parent;this._cfg.zIndex=e,t.isNil(n)||n.sort();var a=this._cfg.el;if(a){var u=n._cfg.children,l=u.indexOf(this),h=a.parentNode;h.removeChild(a),l===u.length-1?h.appendChild(a):h.insertBefore(a,h.childNodes[l])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return t.clone(this)},getBBox:function(){}}),P.exports=f},function(P,x,i){var t=i(2),c=t.vec2;function s(f,r,e,n){var a=1-n;return a*(a*f+2*n*r)+n*n*e}function v(f,r,e,n,a,u,l,h,p){var d,g=.005,y=Infinity,E,C,m,M,b,S,A=1e-4,T=[l,h];for(M=0;M<1;M+=.05)C=[s(f,e,a,M),s(r,n,u,M)],E=c.squaredDistance(T,C),E<y&&(d=M,y=E);for(y=Infinity,S=0;S<32&&!(g<A);S++){var O=d-g,D=d+g;C=[s(f,e,a,O),s(r,n,u,O)],E=c.squaredDistance(T,C),O>=0&&E<y?(d=O,y=E):(m=[s(f,e,a,D),s(r,n,u,D)],b=c.squaredDistance(T,m),D<=1&&b<y?(d=D,y=b):g*=.5)}return p&&(p.x=s(f,e,a,d),p.y=s(r,n,u,d)),Math.sqrt(y)}function o(f,r,e){var n=f+e-2*r;if(t.isNumberEqual(n,0))return[.5];var a=(f-r)/n;return a<=1&&a>=0?[a]:[]}P.exports={at:s,projectPoint:function(r,e,n,a,u,l,h,p){var d={};return v(r,e,n,a,u,l,h,p,d),d},pointDistance:v,extrema:o}},function(P,x){P.exports={xAt:function(t,c,s,v,o){return c*Math.cos(t)*Math.cos(o)-s*Math.sin(t)*Math.sin(o)+v},yAt:function(t,c,s,v,o){return c*Math.sin(t)*Math.cos(o)+s*Math.cos(t)*Math.sin(o)+v},xExtrema:function(t,c,s){return Math.atan(-s/c*Math.tan(t))},yExtrema:function(t,c,s){return Math.atan(s/(c*Math.tan(t)))}}},function(P,x,i){var t=i(2),c=i(9),s=i(53),v=i(54);function o(e,n,a){return e+n*Math.cos(a)}function f(e,n,a){return e+n*Math.sin(a)}var r=function e(n){e.superclass.constructor.call(this,n)};r.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(r,c),t.augment(r,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var n=this._attrs,a=n.x,u=n.y,l=n.r,h=n.startAngle,p=n.endAngle,d=n.clockwise,g=this.getHitLineWidth(),y=g/2,E=s.box(a,u,l,h,p,d);return E.minX-=y,E.minY-=y,E.maxX+=y,E.maxY+=y,E},getStartTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.startAngle,h=n.r,p=n.clockwise,d=Math.PI/180;p&&(d*=-1);var g=[],y=o(a,h,l+d),E=f(u,h,l+d),C=o(a,h,l),m=f(u,h,l);return g.push([y,E]),g.push([C,m]),g},getEndTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.endAngle,h=n.r,p=n.clockwise,d=Math.PI/180,g=[];p&&(d*=-1);var y=o(a,h,l+d),E=f(u,h,l+d),C=o(a,h,l),m=f(u,h,l);return g.push([C,m]),g.push([y,E]),g},createPath:function(n){var a=this._attrs,u=a.x,l=a.y,h=a.r,p=a.startAngle,d=a.endAngle,g=a.clockwise;n=n||self.get("context"),n.beginPath(),n.arc(u,l,h,p,d,g)},afterPath:function(n){var a=this._attrs;if(n=n||this.get("context"),a.startArrow){var u=this.getStartTangent();v.addStartArrow(n,a,u[0][0],u[0][1],u[1][0],u[1][1])}if(a.endArrow){var l=this.getEndTangent();v.addEndArrow(n,a,l[0][0],l[0][1],l[1][0],l[1][1])}}}),P.exports=r},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,r:0,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.r,n=this.getHitLineWidth(),a=n/2+e;return{minX:f-a,minY:r-a,maxX:f+a,maxY:r+a}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.r;o.beginPath(),o.arc(r,e,n,0,Math.PI*2,!1),o.closePath()}}),P.exports=s},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var o=this,f=o._attrs,r=f.x,e=f.y,n=f.width,a=f.height,u=this.getHitLineWidth(),l=u/2;return{minX:r-l,minY:e-l,maxX:r+n+l,maxY:e+a+l}}}),P.exports=s},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.rx,n=o.ry,a=this.getHitLineWidth(),u=e+a/2,l=n+a/2;return{minX:f-u,minY:r-l,maxX:f+u,maxY:r+l}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.rx,a=f.ry;o=o||self.get("context");var u=n>a?n:a,l=n>a?1:n/a,h=n>a?a/n:1,p=[1,0,0,0,1,0,0,0,1];t.mat3.scale(p,p,[l,h]),t.mat3.translate(p,p,[r,e]),o.beginPath(),o.save(),o.transform(p[0],p[1],p[3],p[4],p[6],p[7]),o.arc(0,0,u,0,Math.PI*2),o.restore(),o.closePath()}}),P.exports=s},function(P,x,i){var t=i(2),c=i(9),s=i(53),v=function o(f){o.superclass.constructor.call(this,f)};v.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},t.extend(v,c),t.augment(v,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var f=this,r=f._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d=this.getHitLineWidth(),g=s.box(e,n,a,l,h,p),y=s.box(e,n,u,l,h,p),E=Math.min(g.minX,y.minX),C=Math.min(g.minY,y.minY),m=Math.max(g.maxX,y.maxX),M=Math.max(g.maxY,y.maxY),b=d/2;return{minX:E-b,minY:C-b,maxX:m+b,maxY:M+b}},createPath:function(f){var r=this._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d={x:Math.cos(l)*a+e,y:Math.sin(l)*a+n},g={x:Math.cos(l)*u+e,y:Math.sin(l)*u+n},y={x:Math.cos(h)*a+e,y:Math.sin(h)*a+n};f=f||self.get("context"),f.beginPath(),f.moveTo(d.x,d.y),f.lineTo(g.x,g.y),f.arc(e,n,u,l,h,p),f.lineTo(y.x,y.y),f.arc(e,n,a,h,l,!p),f.closePath()}}),P.exports=v},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},t.extend(s,c),t.augment(s,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs;(!this._cfg.attrs||this._cfg.attrs.img!==o.img)&&this._setAttrImg();var f=o.x,r=o.y,e=o.width,n=o.height;return{minX:f,minY:r,maxX:f+e,maxY:r+n}},_beforeSetLoading:function(o){var f=this.get("canvas");return o===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,f.draw()),o},_setAttrImg:function(){var o=this,f=o._attrs,r=f.img;if(t.isString(r)){var e=new Image;e.onload=function(){if(o.get("destroyed"))return!1;o.attr("imgSrc",r),o.attr("img",e);var n=o.get("callback");n&&n.call(o),o.set("loading",!1)},e.src=r,e.crossOrigin="Anonymous",o.set("loading",!0)}else return r instanceof Image?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):r instanceof HTMLElement&&t.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"?(f.width||o.attr("width",Number(r.getAttribute("width"))),f.height||o.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):null},drawInner:function(o){if(this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")){this.set("toDraw",!0);return}this._drawImage(o),this._cfg.hasUpdate=!1},_drawImage:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.img,a=f.width,u=f.height,l=f.sx,h=f.sy,p=f.swidth,d=f.sheight;this.set("toDraw",!1);var g=n;if(g instanceof ImageData&&(g=new Image,g.src=n),g instanceof Image||g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS"){if(t.isNil(l)||t.isNil(h)||t.isNil(p)||t.isNil(d)){o.drawImage(g,r,e,a,u);return}if(!t.isNil(l)&&!t.isNil(h)&&!t.isNil(p)&&!t.isNil(d)){o.drawImage(g,l,h,p,d,r,e,a,u);return}}}}),P.exports=s},function(P,x,i){var t=i(2),c=i(9),s=i(54),v=i(52),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(o,c),t.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,e=r.x1,n=r.y1,a=r.x2,u=r.y2,l=this.getHitLineWidth();return v.box(e,n,a,u,l)},createPath:function(r){var e=this._attrs,n=e.x1,a=e.y1,u=e.x2,l=e.y2;r=r||self.get("context"),r.beginPath(),r.moveTo(n,a),r.lineTo(u,l)},afterPath:function(r){var e=this._attrs,n=e.x1,a=e.y1,u=e.x2,l=e.y2;r=r||this.get("context"),e.startArrow&&s.addStartArrow(r,e,u,l,n,a),e.endArrow&&s.addEndArrow(r,e,n,a,u,l)},getPoint:function(r){var e=this._attrs;return{x:v.at(e.x1,e.x2,r),y:v.at(e.y1,e.y2,r)}}}),P.exports=o},function(P,x,i){var t=i(2),c=i(9),s=i(55),v=i(37),o=i(54),f=i(96),r=i(94),e=function n(a){n.superclass.constructor.call(this,a)};e.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(e,c),t.augment(e,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(a){var u=this;if(t.isNil(a)){u.setSilent("segments",null),u.setSilent("box",void 0);return}var l=v.parsePath(a),h,p=[];if(!(!t.isArray(l)||l.length===0||l[0][0]!=="M"&&l[0][0]!=="m")){for(var d=l.length,g=0;g<l.length;g++){var y=l[g];h=new s(y,h,g===d-1),p.push(h)}u.setSilent("segments",p),u.setSilent("tCache",null),u.setSilent("box",null)}},calculateBox:function(){var a=this,u=a.get("segments");if(!u)return null;var l=this.getHitLineWidth(),h=Infinity,p=-Infinity,d=Infinity,g=-Infinity;return t.each(u,function(y){y.getBBox(l);var E=y.box;E&&(E.minX<h&&(h=E.minX),E.maxX>p&&(p=E.maxX),E.minY<d&&(d=E.minY),E.maxY>g&&(g=E.maxY))}),h===Infinity||d===Infinity?{minX:0,minY:0,maxX:0,maxY:0}:{minX:h,minY:d,maxX:p,maxY:g}},_setTcache:function(){var a=0,u=0,l=[],h,p,d,g,y=this._cfg.curve;!y||(t.each(y,function(E,C){d=y[C+1],g=E.length,d&&(a+=r.len(E[g-2],E[g-1],d[1],d[2],d[3],d[4],d[5],d[6]))}),t.each(y,function(E,C){d=y[C+1],g=E.length,d&&(h=[],h[0]=u/a,p=r.len(E[g-2],E[g-1],d[1],d[2],d[3],d[4],d[5],d[6]),u+=p,h[1]=u/a,l.push(h))}),this._cfg.tCache=l)},_calculateCurve:function(){var a=this,u=a._attrs,l=u.path;this._cfg.curve=f.pathTocurve(l)},getStartTangent:function(){var a=this.get("segments"),u,l,h,p;if(a.length>1)if(u=a[0].endPoint,l=a[1].endPoint,h=a[1].startTangent,p=[],t.isFunction(h)){var d=h();p.push([u.x-d[0],u.y-d[1]]),p.push([u.x,u.y])}else p.push([l.x,l.y]),p.push([u.x,u.y]);return p},getEndTangent:function(){var a=this.get("segments"),u=a.length,l,h,p,d;if(u>1)if(l=a[u-2].endPoint,h=a[u-1].endPoint,p=a[u-1].endTangent,d=[],t.isFunction(p)){var g=p();d.push([h.x-g[0],h.y-g[1]]),d.push([h.x,h.y])}else d.push([l.x,l.y]),d.push([h.x,h.y]);return d},getPoint:function(a){var u=this._cfg.tCache,l,h;u||(this._calculateCurve(),this._setTcache(),u=this._cfg.tCache);var p=this._cfg.curve;if(!u)return p?{x:p[0][1],y:p[0][2]}:null;t.each(u,function(E,C){a>=E[0]&&a<=E[1]&&(l=(a-E[0])/(E[1]-E[0]),h=C)});var d=p[h];if(t.isNil(d)||t.isNil(h))return null;var g=d.length,y=p[h+1];return{x:r.at(d[g-2],y[1],y[3],y[5],1-l),y:r.at(d[g-1],y[2],y[4],y[6],1-l)}},createPath:function(a){var u=this,l=u.get("segments");if(!!t.isArray(l)){a=a||u.get("context"),a.beginPath();for(var h=l.length,p=0;p<h;p++)l[p].draw(a)}},afterPath:function(a){var u=this,l=u._attrs,h=u.get("segments"),p=l.path;if(a=a||u.get("context"),!!t.isArray(h)&&h.length!==1&&!(!l.startArrow&&!l.endArrow)&&!(p[p.length-1]==="z"||p[p.length-1]==="Z"||l.fill)){var d=u.getStartTangent();o.addStartArrow(a,l,d[0][0],d[0][1],d[1][0],d[1][1]);var g=u.getEndTangent();o.addEndArrow(a,l,g[0][0],g[0][1],g[1][0],g[1][1])}}}),P.exports=e},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={points:null,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this,f=o._attrs,r=f.points,e=this.getHitLineWidth();if(!r||r.length===0)return null;var n=Infinity,a=Infinity,u=-Infinity,l=-Infinity;t.each(r,function(p){var d=p[0],g=p[1];d<n&&(n=d),d>u&&(u=d),g<a&&(a=g),g>l&&(l=g)});var h=e/2;return{minX:n-h,minY:a-h,maxX:u+h,maxY:l+h}},createPath:function(o){var f=this,r=f._attrs,e=r.points;e.length<2||(o=o||f.get("context"),o.beginPath(),t.each(e,function(n,a){a===0?o.moveTo(n[0],n[1]):o.lineTo(n[0],n[1])}),o.closePath())}}),P.exports=s},function(P,x,i){var t=i(2),c=i(9),s=i(54),v=i(52),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},t.extend(o,c),t.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this,e=r._attrs,n=this.getHitLineWidth(),a=e.points;if(!a||a.length===0)return null;var u=Infinity,l=Infinity,h=-Infinity,p=-Infinity;t.each(a,function(g){var y=g[0],E=g[1];y<u&&(u=y),y>h&&(h=y),E<l&&(l=E),E>p&&(p=E)});var d=n/2;return{minX:u-d,minY:l-d,maxX:h+d,maxY:p+d}},_setTcache:function(){var r=this,e=r._attrs,n=e.points,a=0,u=0,l=[],h,p;!n||n.length===0||(t.each(n,function(d,g){n[g+1]&&(a+=v.len(d[0],d[1],n[g+1][0],n[g+1][1]))}),!(a<=0)&&(t.each(n,function(d,g){n[g+1]&&(h=[],h[0]=u/a,p=v.len(d[0],d[1],n[g+1][0],n[g+1][1]),u+=p,h[1]=u/a,l.push(h))}),this.tCache=l))},createPath:function(r){var e=this,n=e._attrs,a=n.points,u,l;if(!(a.length<2)){for(r=r||e.get("context"),r.beginPath(),r.moveTo(a[0][0],a[0][1]),l=1,u=a.length-1;l<u;l++)r.lineTo(a[l][0],a[l][1]);r.lineTo(a[u][0],a[u][1])}},getStartTangent:function(){var r=this.__attrs.points,e=[];return e.push([r[1][0],r[1][1]]),e.push([r[0][0],r[0][1]]),e},getEndTangent:function(){var r=this.__attrs.points,e=r.length-1,n=[];return n.push([r[e-1][0],r[e-1][1]]),n.push([r[e][0],r[e][1]]),n},afterPath:function(r){var e=this,n=e._attrs,a=n.points,u=a.length-1;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,a[1][0],a[1][1],a[0][0],a[0][1]),n.endArrow&&s.addEndArrow(r,n,a[u-1][0],a[u-1][1],a[u][0],a[u][1])},getPoint:function(r){var e=this._attrs,n=e.points,a=this.tCache,u,l;return a||(this._setTcache(),a=this.tCache),t.each(a,function(h,p){r>=h[0]&&r<=h[1]&&(u=(r-h[0])/(h[1]-h[0]),l=p)}),{x:v.at(n[l][0],n[l+1][0],u),y:v.at(n[l][1],n[l+1][1],u)}}}),P.exports=o},function(P,x,i){var t=i(2),c=i(37),s=c.parseRadius,v=i(9),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},t.extend(o,v),t.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var r=this,e=r._attrs,n=e.x,a=e.y,u=e.width,l=e.height,h=this.getHitLineWidth(),p=h/2;return{minX:n-p,minY:a-p,maxX:n+u+p,maxY:a+l+p}},createPath:function(r){var e=this,n=e._attrs,a=n.x,u=n.y,l=n.width,h=n.height,p=n.radius;if(r=r||e.get("context"),r.beginPath(),p===0)r.rect(a,u,l,h);else{var d=s(p);r.moveTo(a+d.r1,u),r.lineTo(a+l-d.r2,u),d.r2!==0&&r.arc(a+l-d.r2,u+d.r2,d.r2,-Math.PI/2,0),r.lineTo(a+l,u+h-d.r3),d.r3!==0&&r.arc(a+l-d.r3,u+h-d.r3,d.r3,0,Math.PI/2),r.lineTo(a+d.r4,u+h),d.r4!==0&&r.arc(a+d.r4,u+h-d.r4,d.r4,Math.PI/2,Math.PI),r.lineTo(a,u+d.r1),d.r1!==0&&r.arc(a+d.r1,u+d.r1,d.r1,Math.PI,Math.PI*1.5),r.closePath()}}}),P.exports=o},function(P,x,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var o=this._attrs.fontSize;o&&+o<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+o/12,+o/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var o=this._attrs,f=o.fontSize,r=o.fontFamily,e=o.fontWeight,n=o.fontStyle,a=o.fontVariant;o.font=[n,a,e,f+"px",r].join(" ")},_setAttrText:function(){var o=this._attrs,f=o.text,r=null;if(t.isString(f)&&f.indexOf(`
`)!==-1){r=f.split(`
`);var e=r.length;o.lineCount=e}o.textArr=r},_getTextHeight:function(){var o=this._attrs,f=o.lineCount,r=o.fontSize*1;if(f>1){var e=this._getSpaceingY();return r*f+e*(f-1)}return r},isHitBox:function(){return!1},calculateBox:function(){var o=this,f=o._attrs,r=this._cfg;(!r.attrs||r.hasUpdate)&&(this._assembleFont(),this._setAttrText()),f.textArr||this._setAttrText();var e=f.x,n=f.y,a=o.measureText();if(!a)return{minX:e,minY:n,maxX:e,maxY:n};var u=o._getTextHeight(),l=f.textAlign,h=f.textBaseline,p=o.getHitLineWidth(),d={x:e,y:n-u};l&&(l==="end"||l==="right"?d.x-=a:l==="center"&&(d.x-=a/2)),h&&(h==="top"?d.y+=u:h==="middle"&&(d.y+=u/2)),this.set("startPoint",d);var g=p/2;return{minX:d.x-g,minY:d.y-g,maxX:d.x+a+g,maxY:d.y+u+g}},_getSpaceingY:function(){var o=this._attrs,f=o.lineHeight,r=o.fontSize*1;return f?f-r:r*.14},drawInner:function(o){var f=this,r=f._attrs,e=this._cfg;(!e.attrs||e.hasUpdate)&&(this._assembleFont(),this._setAttrText()),o.font=r.font;var n=r.text;if(!!n){var a=r.textArr,u=r.x,l=r.y;if(o.beginPath(),f.hasStroke()){var h=r.strokeOpacity;!t.isNil(h)&&h!==1&&(o.globalAlpha=h),a?f._drawTextArr(o,!1):o.strokeText(n,u,l),o.globalAlpha=1}if(f.hasFill()){var p=r.fillOpacity;!t.isNil(p)&&p!==1&&(o.globalAlpha=p),a?f._drawTextArr(o,!0):o.fillText(n,u,l)}e.hasUpdate=!1}},_drawTextArr:function(o,f){var r=this._attrs.textArr,e=this._attrs.textBaseline,n=this._attrs.fontSize*1,a=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,h=this.getBBox(),p=h.maxY-h.minY,d;t.each(r,function(g,y){d=l+y*(a+n)-p+n,e==="middle"&&(d+=p-n-(p-n)/2),e==="top"&&(d+=p-n),f?o.fillText(g,u,d):o.strokeText(g,u,d)})},measureText:function(){var o=this,f=o._attrs,r=f.text,e=f.font,n=f.textArr,a,u=0;if(!t.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=e,n?t.each(n,function(h){a=l.measureText(h).width,u<a&&(u=a),l.restore()}):(u=l.measureText(r).width,l.restore()),u}}}),P.exports=s},function(P,x,i){var t=i(51),c=t.Group,s=i(4),v=function o(f){o.superclass.constructor.call(this,f)};s.extend(v,c),s.augment(v,{getDefaultCfg:function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_renderUI:function(){v.superclass._renderUI.call(this),this._drawLines()},_drawLines:function(){var f=this,r=f.get("lineStyle"),e=f.get("items");e&&e.length&&(f._precessItems(e),f._drawGridLines(e,r))},_precessItems:function(f){var r=this,e;s.each(f,function(n,a){e&&r.get("alternateColor")&&r._drawAlternativeBg(n,e,a),e=n})},_drawGridLines:function(f,r){var e=this,n=this.get("type"),a,u,l,h,p=f.length;n==="line"||n==="polygon"?s.each(f,function(d,g){e.get("hideFirstLine")&&g===0||e.get("hideLastLine")&&g===p-1||(h=d.points,u=[],n==="line"?(u.push(["M",h[0].x,h[0].y]),u.push(["L",h[h.length-1].x,h[h.length-1].y])):s.each(h,function(y,E){E===0?u.push(["M",y.x,y.y]):u.push(["L",y.x,y.y])}),e._drawZeroLine(n,g)?l=s.mix({},e.get("zeroLineStyle"),{path:u}):l=s.mix({},r,{path:u}),a=e.addShape("path",{attrs:l}),a.name="axis-grid",a._id=d._id,a.set("coord",e.get("coord")),e.get("appendInfo")&&a.setSilent("appendInfo",e.get("appendInfo")))}):s.each(f,function(d,g){e.get("hideFirstLine")&&g===0||e.get("hideLastLine")&&g===p-1||(h=d.points,u=[],s.each(h,function(y,E){var C=y.radius;E===0?u.push(["M",y.x,y.y]):u.push(["A",C,C,0,0,y.flag,y.x,y.y])}),l=s.mix({},r,{path:u}),a=e.addShape("path",{attrs:l}),a.name="axis-grid",a._id=d._id,a.set("coord",e.get("coord")),e.get("appendInfo")&&a.setSilent("appendInfo",e.get("appendInfo")))})},_drawZeroLine:function(f,r){var e=this,n=e.get("tickValues");return!!(f==="line"&&n&&n[r]===0&&e.get("hightLightZero"))},_drawAlternativeBg:function(f,r,e){var n=this,a=n.get("alternateColor"),u,l,h;s.isString(a)?l=a:s.isArray(a)&&(l=a[0],h=a[1]),e%2==0?h&&(u=n._getBackItem(r.points,f.points,h)):l&&(u=n._getBackItem(r.points,f.points,l));var p=n.addShape("Path",{attrs:u});p.name="axis-grid-rect",p._id=f._id&&f._id.replace("grid","grid-rect"),p.set("coord",n.get("coord")),n.get("appendInfo")&&p.setSilent("appendInfo",n.get("appendInfo"))},_getBackItem:function(f,r,e){var n=[],a=this.get("type");if(a==="line")n.push(["M",f[0].x,f[0].y]),n.push(["L",f[f.length-1].x,f[f.length-1].y]),n.push(["L",r[r.length-1].x,r[r.length-1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]);else if(a==="polygon"){s.each(f,function(g,y){y===0?n.push(["M",g.x,g.y]):n.push(["L",g.x,g.y])});for(var u=r.length-1;u>=0;u--)n.push(["L",r[u].x,r[u].y]);n.push(["Z"])}else{var l=f[0].flag;s.each(f,function(g,y){var E=g.radius;y===0?n.push(["M",g.x,g.y]):n.push(["A",E,E,0,0,g.flag,g.x,g.y])});for(var h=r.length-1;h>=0;h--){var p=r[h],d=p.radius;h===r.length-1?n.push(["M",p.x,p.y]):n.push(["A",d,d,0,0,l===1?0:1,p.x,p.y])}}return{fill:e,path:n}}}),P.exports=v},function(P,x,i){function t(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,c(u,l)}function c(u,l){return c=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},c(u,l)}var s=i(4),v=s.DomUtil,o=i(36),f=i(365),r=i(366),e=i(367),n={scatter:f,map:r,treemap:e},a=function(u){t(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return s.mix({},d,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},h.clear=function(){var d=this.get("group"),g=this.get("container");d&&!d.get("destroyed")&&d.clear(),g&&(g.innerHTML=""),u.prototype.clear.call(this)},h.destroy=function(){var d=this.get("group"),g=this.get("container");d.destroy||d.destroy(),g&&g.parentNode&&g.parentNode.removeChild(g),u.prototype.destroy.call(this)},h.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},h._dryDraw=function(){var d=this,g=d.get("items"),y=d.getLabels(),E=y.length;s.each(g,function(m,M){if(M<E){var b=y[M];d.changeLabel(b,m)}else{var S=d._addLabel(m,M);S&&(S._id=m._id,S.set("coord",m.coord))}});for(var C=E-1;C>=g.length;C--)y[C].remove();d._adjustLabels(),(d.get("labelLine")||!d.get("config"))&&d.drawLines()},h.draw=function(){this._dryDraw(),this.get("canvas").draw()},h.changeLabel=function(d,g){if(!!d)if(d.tagName){var y=this._createDom(g);d.innerHTML=y.innerHTML,this._setCustomPosition(g,d)}else d._id=g._id,d.attr("text",g.text),(d.attr("x")!==g.x||d.attr("y")!==g.y)&&(d.resetMatrix(),g.textStyle.rotate&&(d.rotateAtStart(g.textStyle.rotate),delete g.textStyle.rotate),d.attr(g))},h.show=function(){var d=this.get("group"),g=this.get("container");d&&d.show(),g&&(g.style.opacity=1)},h.hide=function(){var d=this.get("group"),g=this.get("container");d&&d.hide(),g&&(g.style.opacity=0)},h.drawLines=function(){var d=this,g=d.get("labelLine");typeof g=="boolean"&&d.set("labelLine",{});var y=d.get("lineGroup");!y||y.get("destroyed")?(y=d.get("group").addGroup({elCls:"x-line-group"}),d.set("lineGroup",y)):y.clear(),s.each(d.get("items"),function(E){d.lineToLabel(E,y)})},h.lineToLabel=function(d,g){var y=this;if(!(!y.get("config")&&!d.labelLine)){var E=d.labelLine||y.get("labelLine"),C=typeof d.capture=="undefined"?y.get("capture"):d.capture,m=E.path;if(m&&s.isFunction(E.path)&&(m=E.path(d)),!m){var M=d.start||{x:d.x-d._offset.x,y:d.y-d._offset.y};m=[["M",M.x,M.y],["L",d.x,d.y]]}var b=d.color;b||(d.textStyle&&d.textStyle.fill?b=d.textStyle.fill:b="#000");var S=g.addShape("path",{attrs:s.mix({path:m,fill:null,stroke:b},E),capture:C});S.name=y.get("name"),S._id=d._id&&d._id.replace("glabel","glabelline"),S.set("coord",y.get("coord"))}},h._adjustLabels=function(){var d=this,g=d.get("type"),y=d.getLabels(),E=d.get("shapes"),C=n[g];g==="default"||!C||C(y,E)},h.getLabels=function(){var d=this.get("container");return d?s.toArray(d.childNodes):this.get("group").get("children")},h._addLabel=function(d,g){var y=d;return this.get("config")&&(y=this._getLabelCfg(d,g)),this._createText(y)},h._getLabelCfg=function(d,g){var y=this.get("textStyle")||{},E=this.get("formatter"),C=this.get("htmlTemplate");if(!s.isObject(d)){var m=d;d={},d.text=m}s.isFunction(y)&&(y=y(d.text,d,g)),E&&(d.text=E(d.text,d,g)),C&&(d.useHtml=!0,s.isFunction(C)&&(d.text=C(d.text,d,g))),s.isNil(d.text)&&(d.text=""),d.text=d.text+"";var M=s.mix({},d,{textStyle:y},{x:d.x||0,y:d.y||0});return M},h._init=function(){if(!this.get("group")){var d=this.get("canvas").addGroup({id:"label-group"});this.set("group",d)}},h.initHtmlContainer=function(){var d=this.get("container");if(d)s.isString(d)&&(d=document.getElementById(d),d&&this.set("container",d));else{var g=this.get("containerTpl"),y=this.get("canvas").get("el").parentNode;d=v.createDom(g),y.style.position="relative",y.appendChild(d),this.set("container",d)}return d},h._createText=function(d){var g=s.deepMix({},d),y=this.get("container"),E=typeof g.capture=="undefined"?this.get("capture"):g.capture,C;if(g.useHtml||g.htmlTemplate){y||(y=this.initHtmlContainer());var m=this._createDom(g);y.appendChild(m),this._setCustomPosition(g,m)}else{var M=this.get("name"),b=g.point,S=this.get("group");delete g.point;var A=g.rotate;return g.textStyle&&(g.textStyle.rotate&&(A=g.textStyle.rotate,delete g.textStyle.rotate),g=s.mix({x:g.x,y:g.y,textAlign:g.textAlign,text:g.text},g.textStyle)),C=S.addShape("text",{attrs:g,capture:E}),A&&(Math.abs(A)>Math.PI*2&&(A=A/180*Math.PI),C.transform([["t",-g.x,-g.y],["r",A],["t",g.x,g.y]])),C.setSilent("origin",b||g),C.name=M,this.get("appendInfo")&&C.setSilent("appendInfo",this.get("appendInfo")),C}},h._createDom=function(d){var g=this.get("itemTpl"),y=s.substitute(g,{text:d.text});return v.createDom(y)},h._setCustomPosition=function(d,g){var y=d.textAlign||"left",E=d.y,C=d.x,m=v.getOuterWidth(g),M=v.getOuterHeight(g);E=E-M/2,y==="center"?C=C-m/2:y==="right"&&(C=C-m),g.style.top=parseInt(E,10)+"px",g.style.left=parseInt(C,10)+"px"},l}(o);P.exports=a},function(P,x){var i=function(){function t(){this.bitmap=[]}var c=t.prototype;return c.hasGap=function(v){for(var o=!0,f=this.bitmap,r=Math.floor(v.minX),e=Math.ceil(v.maxX),n=Math.floor(v.minY),a=Math.ceil(v.maxY)-1,u=r;u<e;u++){if(!f[u]){f[u]=[];continue}if(u===r||u===e-1){for(var l=n;l<=a;l++)if(f[u][l]){o=!1;break}}else if(f[u][n]||f[u][a]){o=!1;break}}return o},c.fillGap=function(v){for(var o=this.bitmap,f=Math.floor(v.minX),r=Math.ceil(v.maxX)-1,e=Math.floor(v.minY),n=Math.ceil(v.maxY)-1,a=f;a<=r;a++){for(var u=e;u<n;u+=8)o[a]||(o[a]=[]),o[a][u]=!0;o[a][n]=!0}for(var l=e;l<=n;l++)o[f][l]=!0,o[r][l]=!0},t}();P.exports=i},function(P,x,i){var t=i(4);P.exports={getFirstScale:function(s){var v;return t.each(s,function(o){if(o)return v=o,!1}),v}}},function(P,x,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(4),v=i(192),o=i(16),f=o.FONT_FAMILY,r=s.Event,e=s.Group;function n(l,h){var p=null,d=h instanceof e||h.name==="legendGroup"?h.get("value"):h;return s.each(l,function(g){if(g.value===d)return p=g,!1}),p}function a(l,h){return l.findBy(function(p){return p.name===h})}var u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return s.mix({},g,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:f},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},p.render=function(){l.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},p._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",s.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",s.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",s.wrapBehavior(this,"_onClick"))},p._getLegendItem=function(g){var y=g.get("parent");return y&&y.name==="legendGroup"?y:null},p.activate=function(g){var y=this,E=this,C=E.get("itemsGroup"),m=C.get("children"),M=void 0;m.forEach(function(b){if(M=a(b,"legend-marker"),!!M){var S=b.get("checked");y.get("highlight")?b.get("value")===g&&S?M.attr("stroke","#333"):M.attr("stroke",null):b.get("value")===g&&M.attr("fillOpacity",E.get("activeOpacity"))}}),this.get("canvas").draw()},p.deactivate=function(){var g=this,y=this,E=y.get("itemsGroup"),C=E.get("children"),m=void 0,M=this.get("unCheckColor");C.forEach(function(b){if(m=a(b,"legend-marker"),!!m)if(g.get("highlight")){var S=m.get("oriStroke"),A=b.get("checked");S&&!A?S=M:S="",m.attr("stroke",S)}else m.attr("fillOpacity",y.get("inactiveOpacity"))}),this.get("canvas").draw()},p._onMousemove=function(g){var y=this._getLegendItem(g.currentTarget);if(y&&y.get("checked")){var E=this.get("items"),C=new r("itemhover",g,!0,!0);C.item=n(E,y),C.checked=y.get("checked"),C.currentTarget=g.currentTarget,this.deactivate(),this.activate(y.get("value")),this.emit("itemhover",C)}else this.deactivate(),this.emit("itemunhover",g);this.get("canvas").draw()},p._onMouseleave=function(g){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",g)},p._onClick=function(g){var y=this._getLegendItem(g.currentTarget),E=this.get("items");if(y&&!y.get("destroyed")){var C=y.get("checked"),m=this.get("selectedMode"),M=n(E,y),b=new r("itemclick",g,!0,!0);if(b.item=M,b.currentTarget=y,b.appendInfo=g.currentTarget.get("appendInfo"),b.checked=m==="single"?!0:!C,!this.get("allowAllCanceled")&&C&&this.getCheckedCount()===1){this.emit("clicklastitem",b);return}var S=this.get("unCheckColor"),A=this.get("textStyle").fill,T=void 0,O=void 0,D=void 0;if(m==="single"){var L=this.get("itemsGroup"),Z=L.get("children");s.each(Z,function(U){T=a(U,"legend-marker"),O=a(U,"legend-text"),D=a(U,"legend-item"),U!==y?(T.attr("fill")&&T.attr("fill",S),T.attr("stroke")&&T.attr("stroke",S),O.attr("fill",S),T.setSilent("checked",!1),O.setSilent("checked",!1),D.setSilent("checked",!1),U.setSilent("checked",!1)):(T.attr("fill")&&M&&M.marker&&T.attr("fill",M.marker.fill),T.attr("stroke")&&M&&M.marker&&T.attr("stroke",M.marker.stroke),O.attr("fill",A),T.setSilent("checked",!0),O.setSilent("checked",!0),D.setSilent("checked",!0),U.setSilent("checked",!0))})}else T=a(y,"legend-marker"),O=a(y,"legend-text"),D=a(y,"legend-item"),T.attr("fill")&&M&&M.marker&&T.attr("fill",C?S:M.marker.fill),T.attr("stroke")&&M&&M.marker&&T.attr("stroke",C?S:M.marker.stroke),O.attr("fill",C?S:A),y.setSilent("checked",!C),T.setSilent("checked",!C),O.setSilent("checked",!C),D.setSilent("checked",!C);this.emit("itemclick",b)}this.get("canvas").draw()},p._renderItems=function(){var g=this,y=this.get("items");if(this.get("reversed")&&y.reverse(),s.each(y,function(M,b){g._addItem(M,b)}),this.get("highlight")){var E=this.get("itemsGroup"),C=E.get("children"),m=void 0;C.forEach(function(M){m=a(M,"legend-marker");var b=m.get("oriStroke");b||(m.attr("stroke")?m.set("oriStroke",m.attr("stroke")):m.set("oriStroke",""))})}},p._formatItemValue=function(g){var y=this.get("formatter")||this.get("itemFormatter");return y&&(g=y.call(this,g)),g},p._getNextX=function(){var g=this.get("layout"),y=this.get("itemGap"),E=this.get("itemsGroup"),C=this.get("itemWidth"),m=E.get("children"),M=0;return g==="horizontal"&&s.each(m,function(b){M+=(C||b.getBBox().width)+y}),M},p._getNextY=function(){var g=this.get("itemMarginBottom"),y=this.get("titleShape")?this.get("titleGap"):0,E=this.get("layout"),C=this.get("itemsGroup"),m=this.get("titleShape"),M=C.get("children"),b=y;return m&&(b+=m.getBBox().height),E==="vertical"&&s.each(M,function(S){b+=S.getBBox().height+g}),b},p._addItem=function(g){var y=this.get("itemsGroup"),E=this._getNextX(),C=this._getNextY(),m=this.get("unCheckColor"),M=y.addGroup({x:E,y:C,value:g.value,checked:g.checked});M.set("viewId",this.get("viewId"));var b=this.get("textStyle"),S=this.get("_wordSpaceing"),A=0;if(g.marker){var T=s.mix({},g.marker,{x:g.marker.radius+E,y:C});g.checked||(T.fill&&(T.fill=m),T.stroke&&(T.stroke=m));var O=M.addShape("marker",{type:"marker",attrs:T});O.attr("cursor","pointer"),O.name="legend-marker",A+=O.getBBox().width+S}var D=s.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:f},b,{x:A+E,y:C,text:this._formatItemValue(g.value)});g.checked||s.mix(D,{fill:m});var L=M.addShape("text",{attrs:D});L.attr("cursor","pointer"),L.name="legend-text",this.get("appendInfo")&&L.setSilent("appendInfo",this.get("appendInfo"));var Z=M.getBBox(),U=this.get("itemWidth"),Y=M.addShape("rect",{attrs:{x:E,y:C-Z.height/2,fill:"#fff",fillOpacity:0,width:U||Z.width,height:Z.height}});return Y.attr("cursor","pointer"),Y.setSilent("origin",g),Y.name="legend-item",this.get("appendInfo")&&Y.setSilent("appendInfo",this.get("appendInfo")),M.name="legendGroup",M},p._adjustHorizontal=function(){var g=this.get("itemsGroup"),y=g.get("children"),E=this.get("maxLength"),C=this.get("itemGap"),m=this.get("itemMarginBottom"),M=this.get("titleShape")?this.get("titleGap"):0,b=0,S=0,A=void 0,T=void 0,O=void 0,D=this.get("itemWidth");g.getBBox().width>E&&s.each(y,function(L){O=L.getBBox(),A=D||O.width,T=O.height+m,E-S<A&&(b++,S=0),L.move(S,b*T+M),S+=A+C})},p._adjustVertical=function(){var g=this.get("itemsGroup"),y=this.get("titleShape"),E=g.get("children"),C=this.get("maxLength"),m=this.get("itemGap"),M=this.get("itemMarginBottom"),b=this.get("titleGap"),S=y?y.getBBox().height+b:0,A=this.get("itemWidth"),T=S,O=void 0,D=void 0,L=void 0,Z=0,U=0;g.getBBox().height>C&&s.each(E,function(Y){L=Y.getBBox(),O=L.width,D=L.height,A?Z=A+m:O>Z&&(Z=O+m),C-T<D?(T=S,U+=Z,Y.move(U,S)):Y.move(U,T),T+=D+M})},p._adjustItems=function(){var g=this.get("layout");g==="horizontal"?this._adjustHorizontal():this._adjustVertical()},p.getWidth=function(){return l.prototype.getWidth.call(this)},p.getHeight=function(){return l.prototype.getHeight.call(this)},p.move=function(g,y){l.prototype.move.call(this,g,y)},h}(v);P.exports=u},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(4),v=i(36),o=i(16),f=o.FONT_FAMILY,r=function(e){t(a,e);var n=a.prototype;n.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}};function a(u){var l;return l=e.call(this,u)||this,l._init(),l.beforeRender(),l.render(),l._adjustPositionOffset(),l._bindEvents(),l}return n._init=function(){var l=this.get("group"),h=this.get("container");this.set("canvas",h.get("canvas"));var p=this.get("position");l||(l=h.addGroup({x:0-p[0],y:0-p[1]})),this.set("group",l)},n._adjustPositionOffset=function(){var l=this.get("position"),h=this.get("offset"),p=this.get("offsetX"),d=this.get("offsetY");if(!s.isArray(h)){var g=this.get("layout");h=g==="vertical"?[h,0]:[0,h]}p&&(h[0]=p),d&&(h[1]=d);var y=this.get("group").getBBox();this.move(-y.minX+l[0]+h[0],-y.minY+l[1]+h[1])},n.beforeRender=function(){var l=this.get("group"),h=l.addGroup();this.set("itemsGroup",h)},n.render=function(){this._renderTitle()},n._renderTitle=function(){var l=this.get("title"),h=this.get("titleGap");if(h=h||0,l&&l.text){var p=this.get("group"),d=p.addShape("text",{attrs:s.mix({x:0,y:0-h,fill:"#333",textBaseline:"middle",fontFamily:f},l)});d.name="legend-title",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",d)}},n.getCheckedCount=function(){var l=this.get("itemsGroup"),h=l.get("children"),p=s.filter(h,function(d){return d.get("checked")});return p.length},n.setItems=function(l){this.set("items",l),this.clear(),this.render()},n.addItem=function(l){var h=this.get("items");h.push(l),this.clear(),this.render()},n.clear=function(){var l=this.get("itemsGroup");l.clear();var h=this.get("group");h.clear(),this.beforeRender()},n.destroy=function(){var l=this.get("group");l&&l.destroy(),this._attrs={},this.removeAllListeners(),e.prototype.destroy.call(this)},n.getWidth=function(){var l=this.get("group").getBBox();return l.width},n.getHeight=function(){var l=this.get("group").getBBox();return l.height},n.move=function(l,h){this.get("group").move(l,h)},n.draw=function(){this.get("canvas").draw()},a}(v);P.exports=r},function(P,x,i){function t(C,m){C.prototype=Object.create(m.prototype),C.prototype.constructor=C,c(C,m)}function c(C,m){return c=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b},c(C,m)}var s=i(4),v=i(191),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e=s.Group,n="g2-legend",a="g2-legend-title",u="g2-legend-list",l="g2-legend-list-item",h="g2-legend-text",p="g2-legend-marker";function d(C,m){return C.getElementsByClassName(m)[0]}function g(C,m){var M=C.className;return s.isNil(M)||(M=M.split(" "),M.indexOf(m)>-1)?C:C.parentNode?C.parentNode.className===n?C.parentNode:g(C.parentNode,m):null}function y(C,m){var M=null,b=m instanceof e?m.get("value"):m;return s.each(C,function(S){if(S.value===b)return M=S,!1}),M}var E=function(C){t(m,C);function m(){return C.apply(this,arguments)||this}var M=m.prototype;return M.getDefaultCfg=function(){var S=C.prototype.getDefaultCfg.call(this);return s.mix({},S,{type:"category-legend",container:null,containerTpl:'<div class="'+n+'"><h4 class="'+a+'"></h4><ul class="'+u+'"></ul></div>',itemTpl:'<li class="'+l+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+p+'" style="background-color:{color};"></i><span class="'+h+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:f},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},M._init=function(){},M.beforeRender=function(){},M.render=function(){this._renderHTML()},M._bindEvents=function(){var S=this,A=this.get("legendWrapper"),T=d(A,u);this.get("hoverable")&&(T.onmousemove=function(O){return S._onMousemove(O)},T.onmouseout=function(O){return S._onMouseleave(O)}),this.get("clickable")&&(T.onclick=function(O){return S._onClick(O)})},M._onMousemove=function(S){var A=this.get("items"),T=S.target,O=T.className;if(O=O.split(" "),!(O.indexOf(n)>-1||O.indexOf(u)>-1)){var D=g(T,l),L=y(A,D.getAttribute("data-value"));L?(this.deactivate(),this.activate(D.getAttribute("data-value")),this.emit("itemhover",{item:L,currentTarget:D,checked:L.checked})):L||(this.deactivate(),this.emit("itemunhover",S))}},M._onMouseleave=function(S){this.deactivate(),this.emit("itemunhover",S)},M._onClick=function(S){var A=this,T=this.get("legendWrapper"),O=d(T,u),D=this.get("unCheckColor"),L=this.get("items"),Z=this.get("selectedMode"),U=O.childNodes,Y=S.target,W=Y.className;if(W=W.split(" "),!(W.indexOf(n)>-1||W.indexOf(u)>-1)){var J=g(Y,l),ht=d(J,h),nt=d(J,p),Q=y(L,J.getAttribute("data-value"));if(!!Q){var xt=J.className,_t=J.getAttribute("data-color");if(Z==="single")Q.checked=!0,s.each(U,function(q){if(q!==J){var G=d(q,p);G.style.backgroundColor=D,q.className=q.className.replace("checked","unChecked"),q.style.color=D;var N=y(L,q.getAttribute("data-value"));N.checked=!1}else ht&&(ht.style.color=A.get("textStyle").fill),nt&&(nt.style.backgroundColor=_t),J.className=xt.replace("unChecked","checked")});else{var Nt=xt.indexOf("checked")!==-1,rt=0;if(s.each(U,function(q){q.className.indexOf("checked")!==-1&&rt++}),!this.get("allowAllCanceled")&&Nt&&rt===1){this.emit("clicklastitem",{item:Q,currentTarget:J,checked:Z==="single"?!0:Q.checked});return}Q.checked=!Q.checked,Nt?(nt&&(nt.style.backgroundColor=D),J.className=xt.replace("checked","unChecked"),J.style.color=D):(nt&&(nt.style.backgroundColor=_t),J.className=xt.replace("unChecked","checked"),J.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:Q,currentTarget:J,checked:Z==="single"?!0:Q.checked})}}},M.activate=function(S){var A=this,T=this,O=T.get("items"),D=y(O,S),L=T.get("legendWrapper"),Z=d(L,u),U=Z.childNodes;U.forEach(function(Y){var W=d(Y,p),J=y(O,Y.getAttribute("data-value"));if(A.get("highlight")){if(J===D&&J.checked){W.style.border="1px solid #333";return}}else J===D?W.style.opacity=T.get("activeOpacity"):J.checked&&(W.style.opacity=T.get("inactiveOpacity"))})},M.deactivate=function(){var S=this,A=this,T=A.get("legendWrapper"),O=d(T,u),D=O.childNodes;D.forEach(function(L){var Z=d(L,p);S.get("highlight")?Z.style.border="1px solid #fff":Z.style.opacity=A.get("inactiveOpacity")})},M._renderHTML=function(){var S=this,A=this.get("container"),T=this.get("title"),O=this.get("containerTpl"),D=r.createDom(O),L=d(D,a),Z=d(D,u),U=this.get("unCheckColor"),Y=s.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:f,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:f},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(A)||typeof A=="string"&&A.constructor===String){var W=A.replace("#","");A=document.getElementById(W),A.appendChild(D)}else{var J=this.get("position"),ht={};J==="left"||J==="right"?ht={maxHeight:(this.get("maxLength")||A.offsetHeight)+"px"}:ht={maxWidth:(this.get("maxLength")||A.offsetWidth)+"px"},r.modifyCSS(D,s.mix({},Y.CONTAINER_CLASS,ht,this.get(n))),A.appendChild(D)}r.modifyCSS(Z,s.mix({},Y.LIST_CLASS,this.get(u))),L&&(T&&T.text?(L.innerHTML=T.text,r.modifyCSS(L,s.mix({},Y.TITLE_CLASS,this.get(a),T))):D.removeChild(L));var nt=this.get("items"),Q=this.get("itemTpl"),xt=this.get("position"),_t=this.get("layout"),Nt=xt==="right"||xt==="left"||_t==="vertical"?"block":"inline-block",rt=s.mix({},Y.LIST_ITEM_CLASS,{display:Nt},this.get(l)),q=s.mix({},Y.MARKER_CLASS,this.get(p));if(s.each(nt,function(H,ft){var ct=H.checked,K=S._formatItemValue(H.value),$=H.marker.fill||H.marker.stroke,et=ct?$:U,B;s.isFunction(Q)?B=Q(K,et,ct,ft):B=Q;var w=s.substitute(B,s.mix({},H,{index:ft,checked:ct?"checked":"unChecked",value:K,color:et,originColor:$,originValue:H.value.replace(/\"/g,"&quot;")})),R=r.createDom(w);R.style.color=S.get("textStyle").fill;var V=d(R,p),tt=d(R,h);if(r.modifyCSS(R,rt),V&&r.modifyCSS(V,q),ct||(R.style.color=U,V&&(V.style.backgroundColor=U)),Z.appendChild(R),S.get("abridgeText")){var lt=K,Et=R.offsetWidth,ot=S.get("textStyle").fontSize;isNaN(ot)&&(ot.indexOf("pt")!==-1?ot=parseFloat(ot.substr(0,ot.length-2))*1/72*96:ot.indexOf("px")!==-1&&(ot=parseFloat(ot.substr(0,ot.length-2))));var Mt=ot*lt.length,Ot=Math.floor(Et/ot);Et<2*ot?lt="":Et<Mt&&Ot>1&&(lt=lt.substr(0,Ot-1)+"..."),tt.innerText=lt,R.addEventListener("mouseover",function(){var Ft=d(D.parentNode,"textTip");Ft.style.display="block",Ft.style.left=R.offsetLeft+R.offsetWidth+"px",Ft.style.top=R.offsetTop+15+"px",Ft.innerText=K}),R.addEventListener("mouseout",function(){var Ft=d(D.parentNode,"textTip");Ft.style.display="none"})}}),this.get("abridgeText")){var G=this.get("tipTpl"),N=r.createDom(G),at=this.get("tipStyle");r.modifyCSS(N,at),D.parentNode.appendChild(N),N.addEventListener("mouseover",function(){N.style.display="none"})}this.set("legendWrapper",D)},M._adjustPositionOffset=function(){var S=this.get("autoPosition");if(S!==!1){var A=this.get("position"),T=this.get("offset"),O=this.get("offsetX"),D=this.get("offsetY");O&&(T[0]=O),D&&(T[1]=D);var L=this.get("legendWrapper");L.style.left=A[0]+"px",L.style.top=A[1]+"px",L.style.marginLeft=T[0]+"px",L.style.marginTop=T[1]+"px"}},M.getWidth=function(){return r.getOuterWidth(this.get("legendWrapper"))},M.getHeight=function(){return r.getOuterHeight(this.get("legendWrapper"))},M.move=function(S,A){/^\#/.test(this.get("container"))?C.prototype.move.call(this,S,A):(r.modifyCSS(this.get("legendWrapper"),{left:S+"px",top:A+"px"}),this.set("x",S),this.set("y",A))},M.destroy=function(){var S=this.get("legendWrapper");S&&S.parentNode&&S.parentNode.removeChild(S),C.prototype.destroy.call(this)},m}(v);P.exports=E},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(36),v=i(4),o=function(f){t(e,f);var r=e.prototype;r.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return v.mix({},a,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})};function e(n){var a;return a=f.call(this,n)||this,a._init_(),a.render(),a}return r._init_=function(){var a=this,u=a.get("plot"),l;a.type==="rect"?l=u.addGroup({zIndex:0}):l=u.addGroup(),this.set("container",l)},r._addLineShape=function(a,u){var l=this.get("container"),h=l.addShape("line",{capture:!1,attrs:a});return this.set("crossLineShape"+u,h),h},r._renderHorizontalLine=function(a,u){var l=v.mix(this.get("lineStyle"),this.get("style")),h=v.mix({x1:u?u.bl.x:a.get("width"),y1:0,x2:u?u.br.x:0,y2:0},l);this._addLineShape(h,"X")},r._renderVerticalLine=function(a,u){var l=v.mix(this.get("lineStyle"),this.get("style")),h=v.mix({x1:0,y1:u?u.bl.y:a.get("height"),x2:0,y2:u?u.tl.y:0},l);this._addLineShape(h,"Y")},r._renderBackground=function(a,u){var l=v.mix(this.get("rectStyle"),this.get("style")),h=this.get("container"),p=v.mix({x:u?u.tl.x:0,y:u?u.tl.y:a.get("height"),width:u?u.br.x-u.bl.x:a.get("width"),height:u?Math.abs(u.tl.y-u.bl.y):a.get("height")},l),d=h.addShape("rect",{attrs:p,capture:!1});return this.set("crosshairsRectShape",d),d},r._updateRectShape=function(a){var u,l=this.get("crosshairsRectShape"),h=this.get("isTransposed"),p=a[0],d=a[a.length-1],g=h?"y":"x",y=h?"height":"width",E=p[g];if(a.length>1&&p[g]>d[g]&&(E=d[g]),this.get("width"))l.attr(g,E-this.get("crosshairs").width/2),l.attr(y,this.get("width"));else if(v.isArray(p.point[g])&&!p.size){var C=p.point[g][1]-p.point[g][0];l.attr(g,p.point[g][0]),l.attr(y,C)}else u=3*p.size/4,l.attr(g,E-u),a.length===1?l.attr(y,3*p.size/2):l.attr(y,Math.abs(d[g]-p[g])+2*u)},r.render=function(){var a=this.get("canvas"),u=this.get("plotRange"),l=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(a,u);break;case"y":this._renderVerticalLine(a,u);break;case"cross":this._renderHorizontalLine(a,u),this._renderVerticalLine(a,u);break;case"rect":this._renderBackground(a,u);break;default:l?this._renderHorizontalLine(a,u):this._renderVerticalLine(a,u)}},r.show=function(){var a=this.get("container");f.prototype.show.call(this),a.show()},r.hide=function(){var a=this.get("container");f.prototype.hide.call(this),a.hide()},r.clear=function(){var a=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),f.prototype.clear.call(this),a.clear()},r.destroy=function(){var a=this.get("container");f.prototype.destroy.call(this),a.remove()},r.setPosition=function(a,u,l){var h=this.get("crossLineShapeX"),p=this.get("crossLineShapeY"),d=this.get("crosshairsRectShape");p&&!p.get("destroyed")&&p.move(a,0),h&&!h.get("destroyed")&&h.move(0,u),d&&!d.get("destroyed")&&this._updateRectShape(l)},e}(s);P.exports=o},function(P,x){var i=20,t={_calcTooltipPosition:function(s,v,o,f,r,e){var n=0,a=0,u=20;if(e){var l=e.getBBox();n=l.width,a=l.height,s=l.x,v=l.y,u=5}switch(o){case"inside":s=s+n/2-f/2,v=v+a/2-r/2;break;case"top":s=s+n/2-f/2,v=v-r-u;break;case"left":s=s-f-u,v=v+a/2-r/2;break;case"right":s=s+n+u,v=v+a/2-r/2;break;case"bottom":default:s=s+n/2-f/2,v=v+a+u;break}return[s,v]},_constraintPositionInBoundary:function(s,v,o,f,r,e){return s+o+i>r?(s-=o+i,s=s<0?0:s):s+i<0?s=i:s+=i,v+f+i>e?(v-=f+i,v=v<0?0:v):v+i<0?v=i:v+=i,[s,v]},_constraintPositionInPlot:function(s,v,o,f,r,e){return s+o>r.tr.x&&(e?s-=o+1:s-=o+2*i),s<r.tl.x&&(s=r.tl.x),e||(v+f>r.bl.y&&(v-=f+2*i),v<r.tl.y&&(v=r.tl.y)),[s,v]}};P.exports=t},function(P,x,i){var t=i(4),c={setMarkers:function(v,o){var f=this,r=f.get("markerGroup"),e=f.get("frontPlot");r?r.clear():(r=e.addGroup({zIndex:1,capture:!1}),f.set("markerGroup",r)),t.each(v,function(n){var a=t.mix({fill:n.color,symbol:"circle",shadowColor:n.color},o,{x:n.x,y:n.y});n.marker&&n.marker.activeSymbol&&(a.symbol=n.marker.activeSymbol),r.addShape("marker",{color:n.color,attrs:a})}),this.set("markerItems",v)},clearMarkers:function(){var v=this.get("markerGroup");v&&v.clear()}};P.exports=c},function(P,x,i){function t(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function c(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,s(d,g)}function s(d,g){return s=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E},s(d,g)}var v=i(51),o=i(194),f=i(196),r=i(195),e=i(98),n=i(4),a=i(16),u=a.FONT_FAMILY,l=n.DomUtil,h=n.MatrixUtil,p=function(d){c(y,d);var g=y.prototype;g.getDefaultCfg=function(){var C=d.prototype.getDefaultCfg.call(this);return n.mix({},C,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:u,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})};function y(E){var C;C=d.call(this,E)||this,n.assign(t(C),r),n.assign(t(C),f);var m=C.get("crosshairs");if(m){var M=m.type==="rect"?C.get("backPlot"):C.get("frontPlot"),b=new o(n.mix({plot:M,plotRange:C.get("plotRange"),canvas:C.get("canvas")},C.get("crosshairs")));b.hide(),C.set("crosshairGroup",b)}return C._init_(),C.get("items")&&C.render(),C}return g._init_=function(){var C=this,m=C.get("padding"),M=C.get("frontPlot"),b=M.addGroup({capture:!1});C.set("markerGroup",b);var S=M.addGroup();S.hide(),C.set("container",S);var A=S.addShape("rect",{attrs:n.mix({},C.get("boardStyle"))});C.set("board",A);var T=C.get("titleStyle");if(C.get("showTitle")){var O=S.addShape("text",{attrs:n.mix({x:m.left,y:m.top},T)});C.set("titleShape",O),O.name="tooltip-title"}var D=S.addGroup();D.move(m.left,m.top+T.lineHeight+T.padding),C.set("itemsGroup",D)},g.render=function(){var C=this;C.clear();var m=C.get("container"),M=C.get("board"),b=C.get("showTitle"),S=C.get("titleContent"),A=this.get("titleShape"),T=this.get("itemsGroup"),O=C.get("items"),D=C.get("padding");if(A&&b&&A.attr("text",S),T){var L=C.get("itemGap"),Z=0,U=0;n.each(O,function(ht){var nt=C._addItem(ht);nt.move(Z,U),T.add(nt);var Q=nt.getBBox().height;U+=Q+L})}var Y=m.getBBox(),W=Y.width+D.right,J=Y.height+D.bottom;M.attr("width",W),M.attr("height",J),C._alignToRight(W)},g.clear=function(){var C=this.get("titleShape"),m=this.get("itemsGroup"),M=this.get("board");C.text="",m.clear(),M.attr("width",0),M.attr("height",0)},g.show=function(){var C=this.get("container");C.show();var m=this.get("crosshairGroup");m&&m.show();var M=this.get("markerGroup");M&&M.show(),d.prototype.show.call(this),this.get("canvas").draw()},g.hide=function(){var C=this.get("container");C.hide();var m=this.get("crosshairGroup");m&&m.hide();var M=this.get("markerGroup");M&&M.hide(),d.prototype.hide.call(this),this.get("canvas").draw()},g.destroy=function(){var C=this.get("container"),m=this.get("crosshairGroup");m&&m.destroy();var M=this.get("markerGroup");M&&M.remove(),d.prototype.destroy.call(this),C.remove()},g.setPosition=function(C,m,M){var b=this.get("container"),S=this.get("canvas").get("el"),A=l.getWidth(S),T=l.getHeight(S),O=b.getBBox(),D=O.width,L=O.height,Z=C,U=m,Y;if(this.get("position")){var W=O.width,J=O.height;Y=this._calcTooltipPosition(C,m,this.get("position"),W,J,M),C=Y[0],m=Y[1]}else Y=this._constraintPositionInBoundary(C,m,D,L,A,T),C=Y[0],m=Y[1];if(this.get("inPlot")){var ht=this.get("plotRange");Y=this._constraintPositionInPlot(C,m,D,L,ht,this.get("enterable")),C=Y[0],m=Y[1]}var nt=this.get("markerItems");n.isEmpty(nt)||(Z=nt[0].x,U=nt[0].y);var Q=[1,0,0,0,1,0,0,0,1],xt=h.transform(Q,[["t",C,m]]);b.stopAnimate(),b.animate({matrix:xt},this.get("animationDuration"));var _t=this.get("crosshairGroup");if(_t){var Nt=this.get("items");_t.setPosition(Z,U,Nt)}d.prototype.setPosition.call(this,C,m)},g._addItem=function(C){var m=new v.Group,M=this.get("markerStyle").radius;if(C.marker){var b=n.mix({},C.marker,{x:C.marker.radius/2,y:0,symbol:C.marker.activeSymbol||C.marker.symbol});m.addShape("marker",{attrs:b}),M=C.marker.radius}var S=this.get("nameStyle");m.addShape("text",{attrs:n.mix({x:M+S.padding,y:0,text:C.name},S)});var A=this.get("valueStyle");return m.addShape("text",{attrs:n.mix({x:m.getBBox().width+A.padding,y:0,text:C.value},A)}),m},g._alignToRight=function(C){var m=this,M=this.get("itemsGroup"),b=M.get("children");n.each(b,function(S){var A=S.get("children"),T=A[2],O=T.getBBox().width,D=C-O-m.get("padding").right*2;T.attr("x",D)})},y}(e);P.exports=p},function(P,x,i){var t=i(91),c=i(25),s=i(0),v=function o(f){o.superclass.constructor.call(this,f)};s.extend(v,t),s.augment(v,{getPointRauis:function(f,r){return c.getPointRadius(f,r)},getCirclePoint:function(f,r,e){var n=this,a=n.get("coord"),u=a.getCenter(),l=n._isEmitLabels(),h=n.getPointRauis(a,e);if(h===0)return null;if(a.isTransposed&&h>r&&!l){var p=Math.asin(r/(2*h));f=f+p*2}else h=h+r;return{x:u.x+h*Math.cos(f),y:u.y+h*Math.sin(f),angle:f,r:h}},getArcPoint:function(f,r){var e=this,n;return r=r||0,s.isArray(f.x)||s.isArray(f.y)?n={x:s.isArray(f.x)?f.x[r]:f.x,y:s.isArray(f.y)?f.y[r]:f.y}:n=f,e.transLabelPoint(n),n},getPointAngle:function(f){var r=this,e=r.get("coord");return c.getPointAngle(e,f)},getMiddlePoint:function(f){var r=this,e=r.get("coord"),n=f.length,a={x:0,y:0};return s.each(f,function(u){a.x+=u.x,a.y+=u.y}),a.x/=n,a.y/=n,a=e.convert(a),a},_isToMiddle:function(f){return f.x.length>2},getLabelPoint:function(f,r,e){var n=this,a=f.text[e],u=1,l;n._isToMiddle(r)?l=n.getMiddlePoint(r.points):(f.text.length===1&&e===0?e=1:e===0&&(u=-1),l=n.getArcPoint(r,e));var h=n.getDefaultOffset(f);h=h*u;var p=n.getPointAngle(l),d=n.getCirclePoint(p,h,l);if(d?(d.text=a,d.angle=p,d.color=r.color):d={text:""},f.autoRotate||typeof f.autoRotate=="undefined"){var g=d.textStyle?d.textStyle.rotate:null;g||(g=d.rotate||n.getLabelRotate(p,h,r)),d.rotate=g}return d.start={x:l.x,y:l.y},d},_isEmitLabels:function(){var f=this.get("label");return f.labelEmit},getLabelRotate:function(f){var r=this,e;return e=f*180/Math.PI,e+=90,r._isEmitLabels()&&(e-=90),e&&(e>90?e=e-180:e<-90&&(e=e+180)),e/180*Math.PI},getLabelAlign:function(f){var r=this,e=r.get("coord"),n;if(r._isEmitLabels())f.angle<=Math.PI/2&&f.angle>-Math.PI/2?n="left":n="right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),u=r.getDefaultOffset(f);Math.abs(f.x-a.x)<1?n="center":f.angle>Math.PI||f.angle<=0?u>0?n="left":n="right":u>0?n="right":n="left"}return n}}),P.exports=v},function(P,x){P.exports={toFront:function(t){var c=t.get("parent"),s=c.get("children").indexOf(t);t.set("_originIndex",s),t.toFront()},resetZIndex:function(t){var c=t.get("parent"),s=t.get("_originIndex"),v=c.get("children"),o=v.indexOf(t);s>=0&&s!==o&&(v.splice(o,1),v.splice(s,0,t))}}},function(P,x,i){P.exports={Scale:i(399),Coord:i(400),Axis:i(405),Guide:i(406),Legend:i(409),Tooltip:i(411),Event:i(412)}},function(P,x,i){var t=i(18),c=i(0),s=i(202);function v(f,r,e){e===void 0&&(e=1);var n=[f.x,f.y,e];return c.vec3.transformMat3(n,n,r),{x:n[0],y:n[1]}}function o(f){var r=f.getBBox(),e={x:r.minX,y:r.minY},n={x:r.maxX,y:r.maxY},a=f.attr("matrix");return e=v(e,a),n=v(n,a),{minX:e.x,minY:e.y,maxX:n.x,maxY:n.y}}P.exports=function(r,e){var n=e;return c.each(r.get("children"),function(a){a instanceof t.Group&&c.each(a.get("children"),function(u){if(u instanceof t.Group&&u.get("children").length||u instanceof t.Path)n=s(n,u.getBBox());else if(u instanceof t.Text){var l=o(u);n=s(n,l)}})}),n}},function(P,x){P.exports=function(t,c){return{minX:Math.min(t.minX,c.minX),minY:Math.min(t.minY,c.minY),maxX:Math.max(t.maxX,c.maxX),maxY:Math.max(t.maxY,c.maxY)}}},function(P,x){P.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(P,x,i){"use strict";x.a=b,x.b=S,x.c=A;var t=i(102),c=i(512),s=i(526),v=i(527),o=i(528),f=i(529),r=i(530),e=i(531),n=i(532),a=i(533),u=i(534),l=i(535),h=i(536),p=i(537),d=i(538),g=i(539),y=i(540),E=i(541),C=i(421),m=i(542),M=0;function b(O,D,L,Z){this._groups=O,this._parents=D,this._name=L,this._id=Z}function S(O){return Object(t.selection)().transition(O)}function A(){return++M}var T=t.selection.prototype;b.prototype=S.prototype={constructor:b,select:u.a,selectAll:l.a,filter:r.a,merge:e.a,selection:h.a,transition:E.a,call:T.call,nodes:T.nodes,node:T.node,size:T.size,empty:T.empty,each:T.each,on:n.a,attr:c.a,attrTween:s.a,style:p.a,styleTween:d.a,text:g.a,textTween:y.a,remove:a.a,tween:C.a,delay:v.a,duration:o.a,ease:f.a,end:m.a}},function(P,x,i){var t=i(0),c=t.DomUtil,s=["start","process","end","reset"],v=function(){var o=f.prototype;o.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},o._start=function(e){var n=this;n.preStart&&n.preStart(e),n.start(e),n.onStart&&n.onStart(e)},o._process=function(e){var n=this;n.preProcess&&n.preProcess(e),n.process(e),n.onProcess&&n.onProcess(e)},o._end=function(e){var n=this;n.preEnd&&n.preEnd(e),n.end(e),n.onEnd&&n.onEnd(e)},o._reset=function(e){var n=this;n.preReset&&n.preReset(e),n.reset(e),n.onReset&&n.onReset(e)},o.start=function(){},o.process=function(){},o.end=function(){},o.reset=function(){};function f(r,e){var n=this,a=n.getDefaultCfg();t.assign(n,a,r),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}return o._bindEvents=function(){var e=this,n=e.canvas,a=n.get("canvasDOM");e._clearEvents(),t.each(s,function(u){var l=t.upperFirst(u);e["_on"+l+"Listener"]=c.addEventListener(a,e[u+"Event"],t.wrapBehavior(e,"_"+u))})},o._clearEvents=function(){var e=this;t.each(s,function(n){var a="_on"+t.upperFirst(n)+"Listener";e[a]&&e[a].remove()})},o.destroy=function(){this._clearEvents()},f}();P.exports=v},function(P,x,i){var t=i(105),c=i(18),s=i(142),v=i(163),o=i(8),f=i(21),r=i(0),e={version:o.version,Animate:s,Chart:v,Global:o,Scale:t,Shape:f,Util:r,G:c,DomUtil:r.DomUtil,MatrixUtil:r.MatrixUtil,PathUtil:r.PathUtil};e.track=function(){console.warn("G2 tracks nothing ;-)")},typeof window!="undefined"&&(window.G2?console.warn("There are multiple versions of G2. Version "+e.version+"'s reference is 'window.G2_3'"):window.G2=e),P.exports=e},function(P,x,i){"use strict";x.c=v,x.b=o,x.a=f;var t=i(451);function c(r,e){return function(n){return r+n*e}}function s(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function v(r,e){var n=e-r;return n?c(r,n>180||n<-180?n-360*Math.round(n/360):n):Object(t.a)(isNaN(r)?e:r)}function o(r){return(r=+r)==1?f:function(e,n){return n-e?s(e,n,r):Object(t.a)(isNaN(e)?n:e)}}function f(r,e){var n=e-r;return n?c(r,n):Object(t.a)(isNaN(r)?e:r)}},function(P,x,i){var t=i(6),c=i(11),s=i(107),v=5,o=7,f=[1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],r=[1,2,4,5,10],e=1e-12;P.exports=function(n){var a=n.min,u=n.max,l=n.interval,h=n.minTickInterval,p=[],d=n.minCount||v,g=n.maxCount||o,y=d===g,E=t(n.minLimit)?-Infinity:n.minLimit,C=t(n.maxLimit)?Infinity:n.maxLimit,m=(d+g)/2,M=m,b=n.snapArray?n.snapArray:y?f:r;if(a===E&&u===C&&y&&(l=(u-a)/(M-1)),t(a)&&(a=0),t(u)&&(u=0),Math.abs(u-a)<e&&(a===0?u=1:a>0?a=0:u=0,u-a<5&&!l&&u-a>=1&&(l=1)),t(l)){var S=(u-a)/(m-1);l=s.snapFactorTo(S,b,"ceil"),g!==d&&(M=parseInt((u-a)/l,10),M>g&&(M=g),M<d&&(M=d),l=s.snapFactorTo((u-a)/(M-1),b))}if(c(h)&&l<h&&(l=h),n.interval||g!==d){u=Math.min(s.snapMultiple(u,l,"ceil"),C),a=Math.max(s.snapMultiple(a,l,"floor"),E),M=Math.round((u-a)/l),a=s.fixedBase(a,l),u=s.fixedBase(u,l);for(var A=null;a>E&&E>-Infinity&&(A===null||a<A);)A=a,a=s.fixedBase(a-l,l)}else{m=parseInt(m,10);var T=(u+a)/2,O=s.snapMultiple(T,l,"ceil"),D=Math.floor((m-2)/2),L=O+D*l,Z;m%2==0?Z=O-D*l:Z=O-(D+1)*l;for(var U=null;L<u&&(U===null||L>U);)U=L,L=s.fixedBase(L+l,l);for(var Y=null;Z>a&&(Y===null||Z<Y);)Y=Z,Z=s.fixedBase(Z-l,l);u=L,a=Z}u=Math.min(u,C),a=Math.max(a,E),p.push(a);for(var W=1;W<M;W++){var J=s.fixedBase(l*W+a,l);J<u&&p.push(J)}return p[p.length-1]<u&&p.push(u),{min:a,max:u,interval:l,count:M,ticks:p}}},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var c=i(20),s=i(11),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r._initDefaultCfg=function(){o.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},r.getText=function(){return this.value.toString()},r.scale=function(n){return this.value!==n&&s(n)?n:this.range[0]},r.invert=function(){return this.value},f}(c);c.Identity=v,P.exports=v},function(P,x,i){function t(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,u.__proto__=l}var c=i(110),s=i(3),v=i(6),o=i(12),f=i(20),r=i(38),e=i(211),n=i(100),a=function(u){t(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h._initDefaultCfg=function(){u.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},h.init=function(){var d=this,g=d.values;if(g&&g.length){var y=[],E=Infinity,C=E,m=0;s(g,function(M){var b=d._toTimeStamp(M);if(isNaN(b))throw new TypeError("Invalid Time: "+M);E>b?(C=E,E=b):C>b&&(C=b),m<b&&(m=b),y.push(b)}),g.length>1&&(d.minTickInterval=C-E),(v(d.min)||d._toTimeStamp(d.min)>E)&&(d.min=E),(v(d.max)||d._toTimeStamp(d.max)<m)&&(d.max=m)}u.prototype.init.call(this)},h.calculateTicks=function(){var d=this,g=d.min,y=d.max,E=d.tickCount,C=d.tickInterval,m=e({min:g,max:y,minCount:E,maxCount:E,interval:C,minInterval:d.minTickInterval});return m.ticks},h.getText=function(d){var g=this.formatter;return d=this.translate(d),d=g?g(d):c.format(d,this.mask),d},h.scale=function(d){return o(d)&&(d=this.translate(d)),u.prototype.scale.call(this,d)},h.translate=function(d){return this._toTimeStamp(d)},h._toTimeStamp=function(d){return n.toTimeStamp(d)},l}(r);f.Time=a,P.exports=a},function(P,x,i){var t=i(107),c=i(6),s=6,v=[1,2,4,6,8,12],o=60*1e3,f=3600*1e3,r=24*3600*1e3;function e(g){return new Date(g).getFullYear()}function n(g){return new Date(g,0,1).getTime()}function a(g){return new Date(g).getMonth()}function u(g,y){var E=e(g),C=e(y),m=a(g),M=a(y);return(C-E)*12+(M-m)%12}function l(g,y){return new Date(g,y,1).getTime()}function h(g,y){return Math.ceil((y-g)/r)}function p(g,y){return Math.ceil((y-g)/f)}function d(g,y){return Math.ceil((y-g)/(60*1e3))}P.exports=function(g){var y=g.minInterval,E=[],C=g.min,m=g.max,M=g.interval,b;if(m===C&&(m=C+r),c(M)){var S=m-C,A=r,T=365*A;M=parseInt(S/(g.maxCount||s),10),y&&y>M&&(M=y);var O=M/T,D=e(C);if(O>.51){for(var L=Math.ceil(O),Z=e(m),U=D;U<=Z+L;U=U+L)E.push(n(U));M=null}else if(O>.0834){for(var Y=Math.ceil(O/.0834),W=a(C),J=u(C,m),ht=0;ht<=J+Y;ht=ht+Y)E.push(l(D,ht+W));M=null}else if(M>A*.5){var nt=new Date(C),Q=nt.getFullYear(),xt=nt.getMonth(C),_t=nt.getDate(),Nt=Math.ceil(M/A),rt=h(C,m);M=Nt*A;for(var q=0;q<rt+Nt;q=q+Nt)E.push(new Date(Q,xt,_t+q).getTime())}else if(M>f){var G=new Date(C),N=G.getFullYear(),at=G.getMonth(C),H=G.getDate(),ft=G.getHours(),ct=t.snapTo(v,Math.ceil(M/f)),K=p(C,m);M=ct*f;for(var $=0;$<=K+ct;$=$+ct)E.push(new Date(N,at,H,ft+$).getTime())}else if(M>o){var et=d(C,m),B=Math.ceil(M/o);M=B*o;for(var w=0;w<=et+B;w=w+B)E.push(C+w*o)}else{M<1e3&&(M=1e3),C=Math.floor(C/1e3)*1e3;var R=Math.ceil((m-C)/1e3),V=Math.ceil(M/1e3);M=V*1e3;for(var tt=0;tt<R+V;tt=tt+V)E.push(C+tt*1e3)}}if(!E.length){C=Math.floor(C/1e3)*1e3,m=Math.ceil(m/1e3)*1e3,b=(m-C)/M;for(var lt=0;lt<=b;lt++)E.push(t.fixedBase(M*lt+C,M))}return{max:m,min:C,interval:M,ticks:E,count:E.length}}},function(P,x,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var c=i(20),s=i(108),v=i(110),o=i(109),f=i(100),r=i(3),e=i(11),n=i(22),a=i(12),u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p._initDefaultCfg=function(){l.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},p.init=function(){var g=this,y=this.values;r(y,function(E,C){y[C]=g._toTimeStamp(E)}),this.sortable&&y.sort(function(E,C){return E-C}),g.ticks||(g.ticks=this.calculateTicks())},p.calculateTicks=function(){var g=this,y=g.tickCount,E;if(y){var C=o({maxCount:y,data:g.values,isRounding:g.isRounding});E=C.ticks}else E=g.values;return E},p.translate=function(g){g=this._toTimeStamp(g);var y=this.values.indexOf(g);return y===-1&&(e(g)&&g<this.values.length?y=g:y=NaN),y},p.scale=function(g){var y=this.rangeMin(),E=this.rangeMax(),C=this.translate(g),m;return this.values.length===1||isNaN(C)?m=C:C>-1?m=C/(this.values.length-1):m=0,y+m*(E-y)},p.getText=function(g){var y="",E=this.translate(g);E>-1?y=this.values[E]:y=g;var C=this.formatter;return y=parseInt(y,10),y=C?C(y):v.format(y,this.mask),y},p.getTicks=function(){var g=this,y=this.ticks,E=[];return r(y,function(C){var m;n(C)?m=C:m={text:a(C)?C:g.getText(C),value:g.scale(C),tickValue:C},E.push(m)}),E},p._toTimeStamp=function(g){return f.toTimeStamp(g)},h}(s);c.TimeCat=u,P.exports=u},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(3),s=i(20),v=i(38);function o(r,e){return r===1?1:Math.log(e)/Math.log(r)}var f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){r.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},n.calculateTicks=function(){var u=this,l=u.base,h;if(u.min<0)throw new Error("The minimum value must be greater than zero!");var p=o(l,u.max);if(u.min>0)h=Math.floor(o(l,u.min));else{var d=u.values,g=u.max;c(d,function(b){b>0&&b<g&&(g=b)}),g===u.max&&(g=u.max/l),g>1&&(g=1),h=Math.floor(o(l,g)),u._minTick=h,u.positiveMin=g}for(var y=p-h,E=u.tickCount,C=Math.ceil(y/E),m=[],M=h;M<p+C;M=M+C)m.push(Math.pow(l,M));return u.min===0&&m.unshift(0),m},n._getScalePercent=function(u){var l=this.max,h=this.min;if(l===h||u<=0)return 0;var p=this.base,d=this.positiveMin;d&&(h=d*1/p);var g;return u<d?g=u/d/(o(p,l)-o(p,h)):g=(o(p,u)-o(p,h))/(o(p,l)-o(p,h)),g},n.scale=function(u){var l=this._getScalePercent(u),h=this.rangeMin(),p=this.rangeMax();return h+l*(p-h)},n.invert=function(u){var l=this.base,h=o(l,this.max),p=this.rangeMin(),d=this.rangeMax()-p,g,y=this.positiveMin;if(y){if(u===0)return 0;g=o(l,y/l);var E=1/(h-g)*d;if(u<E)return u/E*y}else g=o(l,this.min);var C=(u-p)/d,m=C*(h-g)+g;return Math.pow(l,m)},e}(v);s.Log=f,P.exports=f},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(20),s=i(38);function v(f,r){var e=Math.E,n=Math.pow(e,Math.log(r)/f);return n}var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){f.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},e.calculateTicks=function(){var a=this,u=a.exponent,l,h=Math.ceil(v(u,a.max));if(a.min>=0?l=Math.floor(v(u,a.min)):l=0,l>h){var p=h;h=l,l=p}for(var d=h-l,g=a.tickCount,y=Math.ceil(d/g),E=[],C=l;C<h+y;C=C+y)E.push(Math.pow(C,u));return E},e._getScalePercent=function(a){var u=this.max,l=this.min;if(u===l)return 0;var h=this.exponent,p=(v(h,a)-v(h,l))/(v(h,u)-v(h,l));return p},e.scale=function(a){var u=this._getScalePercent(a),l=this.rangeMin(),h=this.rangeMax();return l+u*(h-l)},e.invert=function(a){var u=(a-this.rangeMin())/(this.rangeMax()-this.rangeMin()),l=this.exponent,h=v(l,this.max),p=v(l,this.min),d=u*(h-p)+p;return Math.pow(d,l)},r}(s);c.Pow=o,P.exports=o},function(P,x,i){var t=i(216),c=t.detect,s=i(1),v=i(221),o=i(115),f=i(228),r=i(253),e=c(),n=e&&e.name==="firefox",a=function u(l){u.superclass.constructor.call(this,l)};a.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas",supportCSSTransform:!1},s.extend(a,o),s.augment(a,v,{init:function(){a.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this.registerEvent(this)},_scale:function(){if(this._cfg.renderType!=="svg"){var l=this.get("pixelRatio");this.scale(l,l)}},_setGlobalParam:function(){var l=this.get("renderer")||"canvas";l==="svg"?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",s.getRatio()),this._cfg.renderType=l;var h=r[l];this._cfg.renderer=h,this._cfg.canvas=this;var p=new f(this);this._cfg.timeline=p},_setContainer:function(){var l=this.get("containerId"),h=this.get("containerDOM");h||(h=document.getElementById(l),this.set("containerDOM",h)),s.modifyCSS(h,{position:"relative"})},_initPainter:function(){var l=this.get("containerDOM"),h=new this._cfg.renderer.painter(l);this._cfg.painter=h,this._cfg.canvasDOM=this._cfg.el=h.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var l=this.get("canvasDOM"),h=this.get("widthCanvas"),p=this.get("heightCanvas"),d=this.get("widthStyle"),g=this.get("heightStyle");l.style.width=d,l.style.height=g,l.setAttribute("width",h),l.setAttribute("height",p)},getWidth:function(){var l=this.get("pixelRatio"),h=this.get("width");return h*l},getHeight:function(){var l=this.get("pixelRatio"),h=this.get("height");return h*l},changeSize:function(l,h){var p=this.get("pixelRatio"),d=l*p,g=h*p;this.set("widthCanvas",d),this.set("heightCanvas",g),this.set("widthStyle",l+"px"),this.set("heightStyle",h+"px"),this.set("width",l),this.set("height",h),this._resize()},getPointByEvent:function(l){var h=this.get("supportCSSTransform");if(h){var p=this.get("pixelRatio")||1;if(n&&!s.isNil(l.layerX)&&l.layerX!==l.offsetX)return{x:l.layerX*p,y:l.layerY*p};if(!s.isNil(l.offsetX))return{x:l.offsetX*p,y:l.offsetY*p}}var d=this.getClientByEvent(l),g=d.x,y=d.y;return this.getPointByClient(g,y)},getClientByEvent:function(l){var h=l;return l.touches&&(l.type==="touchend"?h=l.changedTouches[0]:h=l.touches[0]),{x:h.clientX,y:h.clientY}},getPointByClient:function(l,h){var p=this.get("el"),d=this.get("pixelRatio")||1,g=p.getBoundingClientRect();return{x:(l-g.left)*d,y:(h-g.top)*d}},getClientByPoint:function(l,h){var p=this.get("el"),d=p.getBoundingClientRect(),g=this.get("pixelRatio")||1;return{clientX:l/g+d.left,clientY:h/g+d.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(l,h,p){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,l,h,p):a.superclass.getShape.call(this,l,h)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var l=this._cfg,h=l.containerDOM,p=l.canvasDOM;p&&h&&h.removeChild(p),l.timeline.stop(),a.superclass.destroy.call(this)}}),P.exports=a},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),function(t){i.d(x,"BrowserInfo",function(){return s}),i.d(x,"NodeInfo",function(){return v}),i.d(x,"SearchBotDeviceInfo",function(){return o}),i.d(x,"BotInfo",function(){return f}),i.d(x,"ReactNativeInfo",function(){return r}),x.detect=h,x.browserName=d,x.parseUserAgent=g,x.detectOS=y,x.getNodeVersion=E;var c=this&&this.__spreadArray||function(m,M,b){if(b||arguments.length===2)for(var S=0,A=M.length,T;S<A;S++)(T||!(S in M))&&(T||(T=Array.prototype.slice.call(M,0,S)),T[S]=M[S]);return m.concat(T||Array.prototype.slice.call(M))},s=function(){function m(M,b,S){this.name=M,this.version=b,this.os=S,this.type="browser"}return m}(),v=function(){function m(M){this.version=M,this.type="node",this.name="node",this.os=t.platform}return m}(),o=function(){function m(M,b,S,A){this.name=M,this.version=b,this.os=S,this.bot=A,this.type="bot-device"}return m}(),f=function(){function m(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return m}(),r=function(){function m(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return m}(),e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,n=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=3,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(m){return m?g(m):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new r:typeof navigator!="undefined"?g(navigator.userAgent):E()}function p(m){return m!==""&&u.reduce(function(M,b){var S=b[0],A=b[1];if(M)return M;var T=A.exec(m);return!!T&&[S,T]},!1)}function d(m){var M=p(m);return M?M[0]:null}function g(m){var M=p(m);if(!M)return null;var b=M[0],S=M[1];if(b==="searchbot")return new f;var A=S[1]&&S[1].split(".").join("_").split("_").slice(0,3);A?A.length<a&&(A=c(c([],A,!0),C(a-A.length),!0)):A=[];var T=A.join("."),O=y(m),D=n.exec(m);return D&&D[1]?new o(b,T,O,D[1]):new s(b,T,O)}function y(m){for(var M=0,b=l.length;M<b;M++){var S=l[M],A=S[0],T=S[1],O=T.exec(m);if(O)return A}return null}function E(){var m=typeof t!="undefined"&&t.version;return m?new v(t.version.slice(1)):null}function C(m){for(var M=[],b=0;b<m;b++)M.push("0");return M}}.call(x,i(217))},function(P,x){var i=P.exports={},t,c;function s(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=s}catch(d){t=s}try{typeof clearTimeout=="function"?c=clearTimeout:c=v}catch(d){c=v}})();function o(d){if(t===setTimeout)return setTimeout(d,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(d,0);try{return t(d,0)}catch(g){try{return t.call(null,d,0)}catch(y){return t.call(this,d,0)}}}function f(d){if(c===clearTimeout)return clearTimeout(d);if((c===v||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(d);try{return c(d)}catch(g){try{return c.call(null,d)}catch(y){return c.call(this,d)}}}var r=[],e=!1,n,a=-1;function u(){!e||!n||(e=!1,n.length?r=n.concat(r):a=-1,r.length&&l())}function l(){if(!e){var d=o(u);e=!0;for(var g=r.length;g;){for(n=r,r=[];++a<g;)n&&n[a].run();a=-1,g=r.length}n=null,e=!1,f(d)}}i.nextTick=function(d){var g=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)g[y-1]=arguments[y];r.push(new h(d,g)),r.length===1&&!e&&o(l)};function h(d,g){this.fun=d,this.array=g}h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function p(){}i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(d){return[]},i.binding=function(d){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(d){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.sub=x.mul=void 0,x.create=v,x.fromMat4=o,x.clone=f,x.copy=r,x.fromValues=e,x.set=n,x.identity=a,x.transpose=u,x.invert=l,x.adjoint=h,x.determinant=p,x.multiply=d,x.translate=g,x.rotate=y,x.scale=E,x.fromTranslation=C,x.fromRotation=m,x.fromScaling=M,x.fromMat2d=b,x.fromQuat=S,x.normalFromMat4=A,x.projection=T,x.str=O,x.frob=D,x.add=L,x.subtract=Z,x.multiplyScalar=U,x.multiplyScalarAndAdd=Y,x.exactEquals=W,x.equals=J;var t=i(74),c=s(t);function s(Q){if(Q&&Q.__esModule)return Q;var xt={};if(Q!=null)for(var _t in Q)Object.prototype.hasOwnProperty.call(Q,_t)&&(xt[_t]=Q[_t]);return xt.default=Q,xt}function v(){var Q=new c.ARRAY_TYPE(9);return c.ARRAY_TYPE!=Float32Array&&(Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0),Q[0]=1,Q[4]=1,Q[8]=1,Q}function o(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=xt[2],Q[3]=xt[4],Q[4]=xt[5],Q[5]=xt[6],Q[6]=xt[8],Q[7]=xt[9],Q[8]=xt[10],Q}function f(Q){var xt=new c.ARRAY_TYPE(9);return xt[0]=Q[0],xt[1]=Q[1],xt[2]=Q[2],xt[3]=Q[3],xt[4]=Q[4],xt[5]=Q[5],xt[6]=Q[6],xt[7]=Q[7],xt[8]=Q[8],xt}function r(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=xt[2],Q[3]=xt[3],Q[4]=xt[4],Q[5]=xt[5],Q[6]=xt[6],Q[7]=xt[7],Q[8]=xt[8],Q}function e(Q,xt,_t,Nt,rt,q,G,N,at){var H=new c.ARRAY_TYPE(9);return H[0]=Q,H[1]=xt,H[2]=_t,H[3]=Nt,H[4]=rt,H[5]=q,H[6]=G,H[7]=N,H[8]=at,H}function n(Q,xt,_t,Nt,rt,q,G,N,at,H){return Q[0]=xt,Q[1]=_t,Q[2]=Nt,Q[3]=rt,Q[4]=q,Q[5]=G,Q[6]=N,Q[7]=at,Q[8]=H,Q}function a(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function u(Q,xt){if(Q===xt){var _t=xt[1],Nt=xt[2],rt=xt[5];Q[1]=xt[3],Q[2]=xt[6],Q[3]=_t,Q[5]=xt[7],Q[6]=Nt,Q[7]=rt}else Q[0]=xt[0],Q[1]=xt[3],Q[2]=xt[6],Q[3]=xt[1],Q[4]=xt[4],Q[5]=xt[7],Q[6]=xt[2],Q[7]=xt[5],Q[8]=xt[8];return Q}function l(Q,xt){var _t=xt[0],Nt=xt[1],rt=xt[2],q=xt[3],G=xt[4],N=xt[5],at=xt[6],H=xt[7],ft=xt[8],ct=ft*G-N*H,K=-ft*q+N*at,$=H*q-G*at,et=_t*ct+Nt*K+rt*$;return et?(et=1/et,Q[0]=ct*et,Q[1]=(-ft*Nt+rt*H)*et,Q[2]=(N*Nt-rt*G)*et,Q[3]=K*et,Q[4]=(ft*_t-rt*at)*et,Q[5]=(-N*_t+rt*q)*et,Q[6]=$*et,Q[7]=(-H*_t+Nt*at)*et,Q[8]=(G*_t-Nt*q)*et,Q):null}function h(Q,xt){var _t=xt[0],Nt=xt[1],rt=xt[2],q=xt[3],G=xt[4],N=xt[5],at=xt[6],H=xt[7],ft=xt[8];return Q[0]=G*ft-N*H,Q[1]=rt*H-Nt*ft,Q[2]=Nt*N-rt*G,Q[3]=N*at-q*ft,Q[4]=_t*ft-rt*at,Q[5]=rt*q-_t*N,Q[6]=q*H-G*at,Q[7]=Nt*at-_t*H,Q[8]=_t*G-Nt*q,Q}function p(Q){var xt=Q[0],_t=Q[1],Nt=Q[2],rt=Q[3],q=Q[4],G=Q[5],N=Q[6],at=Q[7],H=Q[8];return xt*(H*q-G*at)+_t*(-H*rt+G*N)+Nt*(at*rt-q*N)}function d(Q,xt,_t){var Nt=xt[0],rt=xt[1],q=xt[2],G=xt[3],N=xt[4],at=xt[5],H=xt[6],ft=xt[7],ct=xt[8],K=_t[0],$=_t[1],et=_t[2],B=_t[3],w=_t[4],R=_t[5],V=_t[6],tt=_t[7],lt=_t[8];return Q[0]=K*Nt+$*G+et*H,Q[1]=K*rt+$*N+et*ft,Q[2]=K*q+$*at+et*ct,Q[3]=B*Nt+w*G+R*H,Q[4]=B*rt+w*N+R*ft,Q[5]=B*q+w*at+R*ct,Q[6]=V*Nt+tt*G+lt*H,Q[7]=V*rt+tt*N+lt*ft,Q[8]=V*q+tt*at+lt*ct,Q}function g(Q,xt,_t){var Nt=xt[0],rt=xt[1],q=xt[2],G=xt[3],N=xt[4],at=xt[5],H=xt[6],ft=xt[7],ct=xt[8],K=_t[0],$=_t[1];return Q[0]=Nt,Q[1]=rt,Q[2]=q,Q[3]=G,Q[4]=N,Q[5]=at,Q[6]=K*Nt+$*G+H,Q[7]=K*rt+$*N+ft,Q[8]=K*q+$*at+ct,Q}function y(Q,xt,_t){var Nt=xt[0],rt=xt[1],q=xt[2],G=xt[3],N=xt[4],at=xt[5],H=xt[6],ft=xt[7],ct=xt[8],K=Math.sin(_t),$=Math.cos(_t);return Q[0]=$*Nt+K*G,Q[1]=$*rt+K*N,Q[2]=$*q+K*at,Q[3]=$*G-K*Nt,Q[4]=$*N-K*rt,Q[5]=$*at-K*q,Q[6]=H,Q[7]=ft,Q[8]=ct,Q}function E(Q,xt,_t){var Nt=_t[0],rt=_t[1];return Q[0]=Nt*xt[0],Q[1]=Nt*xt[1],Q[2]=Nt*xt[2],Q[3]=rt*xt[3],Q[4]=rt*xt[4],Q[5]=rt*xt[5],Q[6]=xt[6],Q[7]=xt[7],Q[8]=xt[8],Q}function C(Q,xt){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=xt[0],Q[7]=xt[1],Q[8]=1,Q}function m(Q,xt){var _t=Math.sin(xt),Nt=Math.cos(xt);return Q[0]=Nt,Q[1]=_t,Q[2]=0,Q[3]=-_t,Q[4]=Nt,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function M(Q,xt){return Q[0]=xt[0],Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=xt[1],Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function b(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=0,Q[3]=xt[2],Q[4]=xt[3],Q[5]=0,Q[6]=xt[4],Q[7]=xt[5],Q[8]=1,Q}function S(Q,xt){var _t=xt[0],Nt=xt[1],rt=xt[2],q=xt[3],G=_t+_t,N=Nt+Nt,at=rt+rt,H=_t*G,ft=Nt*G,ct=Nt*N,K=rt*G,$=rt*N,et=rt*at,B=q*G,w=q*N,R=q*at;return Q[0]=1-ct-et,Q[3]=ft-R,Q[6]=K+w,Q[1]=ft+R,Q[4]=1-H-et,Q[7]=$-B,Q[2]=K-w,Q[5]=$+B,Q[8]=1-H-ct,Q}function A(Q,xt){var _t=xt[0],Nt=xt[1],rt=xt[2],q=xt[3],G=xt[4],N=xt[5],at=xt[6],H=xt[7],ft=xt[8],ct=xt[9],K=xt[10],$=xt[11],et=xt[12],B=xt[13],w=xt[14],R=xt[15],V=_t*N-Nt*G,tt=_t*at-rt*G,lt=_t*H-q*G,Et=Nt*at-rt*N,ot=Nt*H-q*N,Mt=rt*H-q*at,Ot=ft*B-ct*et,Ft=ft*w-K*et,zt=ft*R-$*et,$t=ct*w-K*B,ce=ct*R-$*B,ye=K*R-$*w,Je=V*ye-tt*ce+lt*$t+Et*zt-ot*Ft+Mt*Ot;return Je?(Je=1/Je,Q[0]=(N*ye-at*ce+H*$t)*Je,Q[1]=(at*zt-G*ye-H*Ft)*Je,Q[2]=(G*ce-N*zt+H*Ot)*Je,Q[3]=(rt*ce-Nt*ye-q*$t)*Je,Q[4]=(_t*ye-rt*zt+q*Ft)*Je,Q[5]=(Nt*zt-_t*ce-q*Ot)*Je,Q[6]=(B*Mt-w*ot+R*Et)*Je,Q[7]=(w*lt-et*Mt-R*tt)*Je,Q[8]=(et*ot-B*lt+R*V)*Je,Q):null}function T(Q,xt,_t){return Q[0]=2/xt,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=-2/_t,Q[5]=0,Q[6]=-1,Q[7]=1,Q[8]=1,Q}function O(Q){return"mat3("+Q[0]+", "+Q[1]+", "+Q[2]+", "+Q[3]+", "+Q[4]+", "+Q[5]+", "+Q[6]+", "+Q[7]+", "+Q[8]+")"}function D(Q){return Math.sqrt(Math.pow(Q[0],2)+Math.pow(Q[1],2)+Math.pow(Q[2],2)+Math.pow(Q[3],2)+Math.pow(Q[4],2)+Math.pow(Q[5],2)+Math.pow(Q[6],2)+Math.pow(Q[7],2)+Math.pow(Q[8],2))}function L(Q,xt,_t){return Q[0]=xt[0]+_t[0],Q[1]=xt[1]+_t[1],Q[2]=xt[2]+_t[2],Q[3]=xt[3]+_t[3],Q[4]=xt[4]+_t[4],Q[5]=xt[5]+_t[5],Q[6]=xt[6]+_t[6],Q[7]=xt[7]+_t[7],Q[8]=xt[8]+_t[8],Q}function Z(Q,xt,_t){return Q[0]=xt[0]-_t[0],Q[1]=xt[1]-_t[1],Q[2]=xt[2]-_t[2],Q[3]=xt[3]-_t[3],Q[4]=xt[4]-_t[4],Q[5]=xt[5]-_t[5],Q[6]=xt[6]-_t[6],Q[7]=xt[7]-_t[7],Q[8]=xt[8]-_t[8],Q}function U(Q,xt,_t){return Q[0]=xt[0]*_t,Q[1]=xt[1]*_t,Q[2]=xt[2]*_t,Q[3]=xt[3]*_t,Q[4]=xt[4]*_t,Q[5]=xt[5]*_t,Q[6]=xt[6]*_t,Q[7]=xt[7]*_t,Q[8]=xt[8]*_t,Q}function Y(Q,xt,_t,Nt){return Q[0]=xt[0]+_t[0]*Nt,Q[1]=xt[1]+_t[1]*Nt,Q[2]=xt[2]+_t[2]*Nt,Q[3]=xt[3]+_t[3]*Nt,Q[4]=xt[4]+_t[4]*Nt,Q[5]=xt[5]+_t[5]*Nt,Q[6]=xt[6]+_t[6]*Nt,Q[7]=xt[7]+_t[7]*Nt,Q[8]=xt[8]+_t[8]*Nt,Q}function W(Q,xt){return Q[0]===xt[0]&&Q[1]===xt[1]&&Q[2]===xt[2]&&Q[3]===xt[3]&&Q[4]===xt[4]&&Q[5]===xt[5]&&Q[6]===xt[6]&&Q[7]===xt[7]&&Q[8]===xt[8]}function J(Q,xt){var _t=Q[0],Nt=Q[1],rt=Q[2],q=Q[3],G=Q[4],N=Q[5],at=Q[6],H=Q[7],ft=Q[8],ct=xt[0],K=xt[1],$=xt[2],et=xt[3],B=xt[4],w=xt[5],R=xt[6],V=xt[7],tt=xt[8];return Math.abs(_t-ct)<=c.EPSILON*Math.max(1,Math.abs(_t),Math.abs(ct))&&Math.abs(Nt-K)<=c.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(K))&&Math.abs(rt-$)<=c.EPSILON*Math.max(1,Math.abs(rt),Math.abs($))&&Math.abs(q-et)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(et))&&Math.abs(G-B)<=c.EPSILON*Math.max(1,Math.abs(G),Math.abs(B))&&Math.abs(N-w)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(w))&&Math.abs(at-R)<=c.EPSILON*Math.max(1,Math.abs(at),Math.abs(R))&&Math.abs(H-V)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(V))&&Math.abs(ft-tt)<=c.EPSILON*Math.max(1,Math.abs(ft),Math.abs(tt))}var ht=x.mul=d,nt=x.sub=Z},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.sqrDist=x.dist=x.div=x.mul=x.sub=x.len=void 0,x.create=v,x.clone=o,x.fromValues=f,x.copy=r,x.set=e,x.add=n,x.subtract=a,x.multiply=u,x.divide=l,x.ceil=h,x.floor=p,x.min=d,x.max=g,x.round=y,x.scale=E,x.scaleAndAdd=C,x.distance=m,x.squaredDistance=M,x.length=b,x.squaredLength=S,x.negate=A,x.inverse=T,x.normalize=O,x.dot=D,x.cross=L,x.lerp=Z,x.random=U,x.transformMat2=Y,x.transformMat2d=W,x.transformMat3=J,x.transformMat4=ht,x.rotate=nt,x.angle=Q,x.str=xt,x.exactEquals=_t,x.equals=Nt;var t=i(74),c=s(t);function s(K){if(K&&K.__esModule)return K;var $={};if(K!=null)for(var et in K)Object.prototype.hasOwnProperty.call(K,et)&&($[et]=K[et]);return $.default=K,$}function v(){var K=new c.ARRAY_TYPE(2);return c.ARRAY_TYPE!=Float32Array&&(K[0]=0,K[1]=0),K}function o(K){var $=new c.ARRAY_TYPE(2);return $[0]=K[0],$[1]=K[1],$}function f(K,$){var et=new c.ARRAY_TYPE(2);return et[0]=K,et[1]=$,et}function r(K,$){return K[0]=$[0],K[1]=$[1],K}function e(K,$,et){return K[0]=$,K[1]=et,K}function n(K,$,et){return K[0]=$[0]+et[0],K[1]=$[1]+et[1],K}function a(K,$,et){return K[0]=$[0]-et[0],K[1]=$[1]-et[1],K}function u(K,$,et){return K[0]=$[0]*et[0],K[1]=$[1]*et[1],K}function l(K,$,et){return K[0]=$[0]/et[0],K[1]=$[1]/et[1],K}function h(K,$){return K[0]=Math.ceil($[0]),K[1]=Math.ceil($[1]),K}function p(K,$){return K[0]=Math.floor($[0]),K[1]=Math.floor($[1]),K}function d(K,$,et){return K[0]=Math.min($[0],et[0]),K[1]=Math.min($[1],et[1]),K}function g(K,$,et){return K[0]=Math.max($[0],et[0]),K[1]=Math.max($[1],et[1]),K}function y(K,$){return K[0]=Math.round($[0]),K[1]=Math.round($[1]),K}function E(K,$,et){return K[0]=$[0]*et,K[1]=$[1]*et,K}function C(K,$,et,B){return K[0]=$[0]+et[0]*B,K[1]=$[1]+et[1]*B,K}function m(K,$){var et=$[0]-K[0],B=$[1]-K[1];return Math.sqrt(et*et+B*B)}function M(K,$){var et=$[0]-K[0],B=$[1]-K[1];return et*et+B*B}function b(K){var $=K[0],et=K[1];return Math.sqrt($*$+et*et)}function S(K){var $=K[0],et=K[1];return $*$+et*et}function A(K,$){return K[0]=-$[0],K[1]=-$[1],K}function T(K,$){return K[0]=1/$[0],K[1]=1/$[1],K}function O(K,$){var et=$[0],B=$[1],w=et*et+B*B;return w>0&&(w=1/Math.sqrt(w),K[0]=$[0]*w,K[1]=$[1]*w),K}function D(K,$){return K[0]*$[0]+K[1]*$[1]}function L(K,$,et){var B=$[0]*et[1]-$[1]*et[0];return K[0]=K[1]=0,K[2]=B,K}function Z(K,$,et,B){var w=$[0],R=$[1];return K[0]=w+B*(et[0]-w),K[1]=R+B*(et[1]-R),K}function U(K,$){$=$||1;var et=c.RANDOM()*2*Math.PI;return K[0]=Math.cos(et)*$,K[1]=Math.sin(et)*$,K}function Y(K,$,et){var B=$[0],w=$[1];return K[0]=et[0]*B+et[2]*w,K[1]=et[1]*B+et[3]*w,K}function W(K,$,et){var B=$[0],w=$[1];return K[0]=et[0]*B+et[2]*w+et[4],K[1]=et[1]*B+et[3]*w+et[5],K}function J(K,$,et){var B=$[0],w=$[1];return K[0]=et[0]*B+et[3]*w+et[6],K[1]=et[1]*B+et[4]*w+et[7],K}function ht(K,$,et){var B=$[0],w=$[1];return K[0]=et[0]*B+et[4]*w+et[12],K[1]=et[1]*B+et[5]*w+et[13],K}function nt(K,$,et,B){var w=$[0]-et[0],R=$[1]-et[1],V=Math.sin(B),tt=Math.cos(B);return K[0]=w*tt-R*V+et[0],K[1]=w*V+R*tt+et[1],K}function Q(K,$){var et=K[0],B=K[1],w=$[0],R=$[1],V=et*et+B*B;V>0&&(V=1/Math.sqrt(V));var tt=w*w+R*R;tt>0&&(tt=1/Math.sqrt(tt));var lt=(et*w+B*R)*V*tt;return lt>1?0:lt<-1?Math.PI:Math.acos(lt)}function xt(K){return"vec2("+K[0]+", "+K[1]+")"}function _t(K,$){return K[0]===$[0]&&K[1]===$[1]}function Nt(K,$){var et=K[0],B=K[1],w=$[0],R=$[1];return Math.abs(et-w)<=c.EPSILON*Math.max(1,Math.abs(et),Math.abs(w))&&Math.abs(B-R)<=c.EPSILON*Math.max(1,Math.abs(B),Math.abs(R))}var rt=x.len=b,q=x.sub=a,G=x.mul=u,N=x.div=l,at=x.dist=m,H=x.sqrDist=M,ft=x.sqrLen=S,ct=x.forEach=function(){var K=v();return function($,et,B,w,R,V){var tt=void 0,lt=void 0;for(et||(et=2),B||(B=0),w?lt=Math.min(w*et+B,$.length):lt=$.length,tt=B;tt<lt;tt+=et)K[0]=$[tt],K[1]=$[tt+1],R(K,K,V),$[tt]=K[0],$[tt+1]=K[1];return $}}()},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.len=x.sqrDist=x.dist=x.div=x.mul=x.sub=void 0,x.create=v,x.clone=o,x.length=f,x.fromValues=r,x.copy=e,x.set=n,x.add=a,x.subtract=u,x.multiply=l,x.divide=h,x.ceil=p,x.floor=d,x.min=g,x.max=y,x.round=E,x.scale=C,x.scaleAndAdd=m,x.distance=M,x.squaredDistance=b,x.squaredLength=S,x.negate=A,x.inverse=T,x.normalize=O,x.dot=D,x.cross=L,x.lerp=Z,x.hermite=U,x.bezier=Y,x.random=W,x.transformMat4=J,x.transformMat3=ht,x.transformQuat=nt,x.rotateX=Q,x.rotateY=xt,x.rotateZ=_t,x.angle=Nt,x.str=rt,x.exactEquals=q,x.equals=G;var t=i(74),c=s(t);function s(B){if(B&&B.__esModule)return B;var w={};if(B!=null)for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(w[R]=B[R]);return w.default=B,w}function v(){var B=new c.ARRAY_TYPE(3);return c.ARRAY_TYPE!=Float32Array&&(B[0]=0,B[1]=0,B[2]=0),B}function o(B){var w=new c.ARRAY_TYPE(3);return w[0]=B[0],w[1]=B[1],w[2]=B[2],w}function f(B){var w=B[0],R=B[1],V=B[2];return Math.sqrt(w*w+R*R+V*V)}function r(B,w,R){var V=new c.ARRAY_TYPE(3);return V[0]=B,V[1]=w,V[2]=R,V}function e(B,w){return B[0]=w[0],B[1]=w[1],B[2]=w[2],B}function n(B,w,R,V){return B[0]=w,B[1]=R,B[2]=V,B}function a(B,w,R){return B[0]=w[0]+R[0],B[1]=w[1]+R[1],B[2]=w[2]+R[2],B}function u(B,w,R){return B[0]=w[0]-R[0],B[1]=w[1]-R[1],B[2]=w[2]-R[2],B}function l(B,w,R){return B[0]=w[0]*R[0],B[1]=w[1]*R[1],B[2]=w[2]*R[2],B}function h(B,w,R){return B[0]=w[0]/R[0],B[1]=w[1]/R[1],B[2]=w[2]/R[2],B}function p(B,w){return B[0]=Math.ceil(w[0]),B[1]=Math.ceil(w[1]),B[2]=Math.ceil(w[2]),B}function d(B,w){return B[0]=Math.floor(w[0]),B[1]=Math.floor(w[1]),B[2]=Math.floor(w[2]),B}function g(B,w,R){return B[0]=Math.min(w[0],R[0]),B[1]=Math.min(w[1],R[1]),B[2]=Math.min(w[2],R[2]),B}function y(B,w,R){return B[0]=Math.max(w[0],R[0]),B[1]=Math.max(w[1],R[1]),B[2]=Math.max(w[2],R[2]),B}function E(B,w){return B[0]=Math.round(w[0]),B[1]=Math.round(w[1]),B[2]=Math.round(w[2]),B}function C(B,w,R){return B[0]=w[0]*R,B[1]=w[1]*R,B[2]=w[2]*R,B}function m(B,w,R,V){return B[0]=w[0]+R[0]*V,B[1]=w[1]+R[1]*V,B[2]=w[2]+R[2]*V,B}function M(B,w){var R=w[0]-B[0],V=w[1]-B[1],tt=w[2]-B[2];return Math.sqrt(R*R+V*V+tt*tt)}function b(B,w){var R=w[0]-B[0],V=w[1]-B[1],tt=w[2]-B[2];return R*R+V*V+tt*tt}function S(B){var w=B[0],R=B[1],V=B[2];return w*w+R*R+V*V}function A(B,w){return B[0]=-w[0],B[1]=-w[1],B[2]=-w[2],B}function T(B,w){return B[0]=1/w[0],B[1]=1/w[1],B[2]=1/w[2],B}function O(B,w){var R=w[0],V=w[1],tt=w[2],lt=R*R+V*V+tt*tt;return lt>0&&(lt=1/Math.sqrt(lt),B[0]=w[0]*lt,B[1]=w[1]*lt,B[2]=w[2]*lt),B}function D(B,w){return B[0]*w[0]+B[1]*w[1]+B[2]*w[2]}function L(B,w,R){var V=w[0],tt=w[1],lt=w[2],Et=R[0],ot=R[1],Mt=R[2];return B[0]=tt*Mt-lt*ot,B[1]=lt*Et-V*Mt,B[2]=V*ot-tt*Et,B}function Z(B,w,R,V){var tt=w[0],lt=w[1],Et=w[2];return B[0]=tt+V*(R[0]-tt),B[1]=lt+V*(R[1]-lt),B[2]=Et+V*(R[2]-Et),B}function U(B,w,R,V,tt,lt){var Et=lt*lt,ot=Et*(2*lt-3)+1,Mt=Et*(lt-2)+lt,Ot=Et*(lt-1),Ft=Et*(3-2*lt);return B[0]=w[0]*ot+R[0]*Mt+V[0]*Ot+tt[0]*Ft,B[1]=w[1]*ot+R[1]*Mt+V[1]*Ot+tt[1]*Ft,B[2]=w[2]*ot+R[2]*Mt+V[2]*Ot+tt[2]*Ft,B}function Y(B,w,R,V,tt,lt){var Et=1-lt,ot=Et*Et,Mt=lt*lt,Ot=ot*Et,Ft=3*lt*ot,zt=3*Mt*Et,$t=Mt*lt;return B[0]=w[0]*Ot+R[0]*Ft+V[0]*zt+tt[0]*$t,B[1]=w[1]*Ot+R[1]*Ft+V[1]*zt+tt[1]*$t,B[2]=w[2]*Ot+R[2]*Ft+V[2]*zt+tt[2]*$t,B}function W(B,w){w=w||1;var R=c.RANDOM()*2*Math.PI,V=c.RANDOM()*2-1,tt=Math.sqrt(1-V*V)*w;return B[0]=Math.cos(R)*tt,B[1]=Math.sin(R)*tt,B[2]=V*w,B}function J(B,w,R){var V=w[0],tt=w[1],lt=w[2],Et=R[3]*V+R[7]*tt+R[11]*lt+R[15];return Et=Et||1,B[0]=(R[0]*V+R[4]*tt+R[8]*lt+R[12])/Et,B[1]=(R[1]*V+R[5]*tt+R[9]*lt+R[13])/Et,B[2]=(R[2]*V+R[6]*tt+R[10]*lt+R[14])/Et,B}function ht(B,w,R){var V=w[0],tt=w[1],lt=w[2];return B[0]=V*R[0]+tt*R[3]+lt*R[6],B[1]=V*R[1]+tt*R[4]+lt*R[7],B[2]=V*R[2]+tt*R[5]+lt*R[8],B}function nt(B,w,R){var V=R[0],tt=R[1],lt=R[2],Et=R[3],ot=w[0],Mt=w[1],Ot=w[2],Ft=tt*Ot-lt*Mt,zt=lt*ot-V*Ot,$t=V*Mt-tt*ot,ce=tt*$t-lt*zt,ye=lt*Ft-V*$t,Je=V*zt-tt*Ft,nr=Et*2;return Ft*=nr,zt*=nr,$t*=nr,ce*=2,ye*=2,Je*=2,B[0]=ot+Ft+ce,B[1]=Mt+zt+ye,B[2]=Ot+$t+Je,B}function Q(B,w,R,V){var tt=[],lt=[];return tt[0]=w[0]-R[0],tt[1]=w[1]-R[1],tt[2]=w[2]-R[2],lt[0]=tt[0],lt[1]=tt[1]*Math.cos(V)-tt[2]*Math.sin(V),lt[2]=tt[1]*Math.sin(V)+tt[2]*Math.cos(V),B[0]=lt[0]+R[0],B[1]=lt[1]+R[1],B[2]=lt[2]+R[2],B}function xt(B,w,R,V){var tt=[],lt=[];return tt[0]=w[0]-R[0],tt[1]=w[1]-R[1],tt[2]=w[2]-R[2],lt[0]=tt[2]*Math.sin(V)+tt[0]*Math.cos(V),lt[1]=tt[1],lt[2]=tt[2]*Math.cos(V)-tt[0]*Math.sin(V),B[0]=lt[0]+R[0],B[1]=lt[1]+R[1],B[2]=lt[2]+R[2],B}function _t(B,w,R,V){var tt=[],lt=[];return tt[0]=w[0]-R[0],tt[1]=w[1]-R[1],tt[2]=w[2]-R[2],lt[0]=tt[0]*Math.cos(V)-tt[1]*Math.sin(V),lt[1]=tt[0]*Math.sin(V)+tt[1]*Math.cos(V),lt[2]=tt[2],B[0]=lt[0]+R[0],B[1]=lt[1]+R[1],B[2]=lt[2]+R[2],B}function Nt(B,w){var R=r(B[0],B[1],B[2]),V=r(w[0],w[1],w[2]);O(R,R),O(V,V);var tt=D(R,V);return tt>1?0:tt<-1?Math.PI:Math.acos(tt)}function rt(B){return"vec3("+B[0]+", "+B[1]+", "+B[2]+")"}function q(B,w){return B[0]===w[0]&&B[1]===w[1]&&B[2]===w[2]}function G(B,w){var R=B[0],V=B[1],tt=B[2],lt=w[0],Et=w[1],ot=w[2];return Math.abs(R-lt)<=c.EPSILON*Math.max(1,Math.abs(R),Math.abs(lt))&&Math.abs(V-Et)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(Et))&&Math.abs(tt-ot)<=c.EPSILON*Math.max(1,Math.abs(tt),Math.abs(ot))}var N=x.sub=u,at=x.mul=l,H=x.div=h,ft=x.dist=M,ct=x.sqrDist=b,K=x.len=f,$=x.sqrLen=S,et=x.forEach=function(){var B=v();return function(w,R,V,tt,lt,Et){var ot=void 0,Mt=void 0;for(R||(R=3),V||(V=0),tt?Mt=Math.min(tt*R+V,w.length):Mt=w.length,ot=V;ot<Mt;ot+=R)B[0]=w[ot],B[1]=w[ot+1],B[2]=w[ot+2],lt(B,B,Et),w[ot]=B[0],w[ot+1]=B[1],w[ot+2]=B[2];return w}}()},function(P,x,i){var t=i(1),c=i(78),s=["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave"],v=function(){var h=new Date;return h.getTime()},o=40,f=0,r=null,e=null,n={},a=null,u=0;P.exports={registerEvent:function(){var h=this,p=this.get("el");t.each(s,function(d){p.addEventListener(d,function(g){h._triggerEvent(d,g)},!1)}),p.addEventListener("touchstart",function(d){t.isEmpty(d.touches)||h._triggerEvent("touchstart",d.touches[0])},!1),p.addEventListener("touchmove",function(d){t.isEmpty(d.touches)||h._triggerEvent("touchmove",d.touches[0])},!1),p.addEventListener("touchend",function(d){t.isEmpty(d.changedTouches)||h._triggerEvent("touchend",d.changedTouches[0])},!1),p.addEventListener("contextmenu",function(d){h._triggerEvent("contextmenu",d),d.preventDefault()},!1)},_getEmitter:function(h,p){if(h)if(t.isEmpty(h._getEvents())){var d=h.get("parent");if(d&&!p.propagationStopped)return this._getEmitter(d,p)}else return h},_getEventObj:function(h,p,d,g){var y=new c(h,p,!0,!0);return y.x=d.x,y.y=d.y,y.clientX=p.clientX,y.clientY=p.clientY,y.currentTarget=g,y.target=g,y},_triggerEvent:function(h,p){var d=this,g=d.getPointByEvent(p),y=d.getShape(g.x,g.y,p),E=d.get("el");if(a&&d.getRenderer()==="svg"&&(y=d.getShape(g.x,g.y)),h==="mousemove"){if(r&&r!==y&&(d._emitEvent("mouseout",p,g,r),d._emitEvent("mouseleave",p,g,r),a&&d._emitEvent("dragleave",p,g,r),(!y||y.destroyed)&&(E.style.cursor="default")),a&&(d._emitEvent("drag",p,g,a),d._emitEvent("mousemove",p,g,y)),y){if(!a)if(e===y){var C=v(),m=C-u,M=n.x-p.clientX,b=n.y-p.clientY,S=M*M+b*b;m>120||S>o?(a=y,e=null,this._emitEvent("dragstart",p,g,y)):d._emitEvent("mousemove",p,g,y)}else d._emitEvent("mousemove",p,g,y);r!==y&&(d._emitEvent("mouseenter",p,g,y),d._emitEvent("mouseover",p,g,y),a&&d._emitEvent("dragenter",p,g,y))}else{var A=d._getEventObj("mousemove",p,g,d);d.emit("mousemove",A)}r=y}else if(this._emitEvent(h,p,g,y||this),!a&&h==="mousedown"&&p.button===f&&(e=y,n={x:p.clientX,y:p.clientY},u=v()),h==="mouseup"&&p.button===f){var T=n.x-p.clientX,O=n.y-p.clientY,D=T*T+O*O,L=v(),Z=L-u;(D<o||Z<200)&&(u=0,this._emitEvent("click",p,g,e||this)),a&&(a._cfg.capture=!0,this._emitEvent("dragend",p,g,a),a=null,this._emitEvent("drop",p,g,y||this)),e=null}y&&!y.get("destroyed")&&(E.style.cursor=y.attr("cursor")||"default")},_emitEvent:function(h,p,d,g){var y=this._getEventObj(h,p,d,g),E=this._getEmitter(g,p);return E&&!E.get("destroyed")&&E.emit(h,y),E}}},function(P,x,i){var t=i(1);P.exports={canFill:!1,canStroke:!1,initAttrs:function(s){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(t.assign(this.getDefaultAttrs(),s)),this},getDefaultAttrs:function(){return{}},attr:function(s,v){var o=this;if(arguments.length===0)return o._attrs;if(t.isObject(s)){for(var f in s)this._setAttr(f,s[f]);return o.clearBBox(),this._cfg.hasUpdate=!0,o}return arguments.length===2?(this._setAttr(s,v),o.clearBBox(),this._cfg.hasUpdate=!0,o):o._attrs[s]},_setAttr:function(s,v){var o=this,f=this._attrs;if(f[s]=v,s==="fill"||s==="stroke"){f[s+"Style"]=v;return}if(s==="opacity"){f.globalAlpha=v;return}if(s==="clip"&&v){o._setClip(v);return}if(s==="path"&&o._afterSetAttrPath){o._afterSetAttrPath(v);return}if(s==="transform"){o.transform(v);return}s==="rotate"&&o.rotateAtStart(v)},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(s){s._cfg.renderer=this._cfg.renderer,s._cfg.canvas=this._cfg.canvas,s._cfg.parent=this._cfg.parent,s.hasFill=function(){return!0}}}},function(P,x,i){var t=i(1);function c(o){return o[0]===1&&o[1]===0&&o[3]===0&&o[4]===1&&o[6]===0&&o[7]===0}function s(o){return o[1]===0&&o[3]===0&&o[6]===0&&o[7]===0}function v(o,f){c(f)||(s(f)?(o[0]*=f[0],o[4]*=f[4]):t.mat3.multiply(o,o,f))}P.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(f,r){var e=this._attrs.matrix;return t.mat3.translate(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotate:function(f){var r=this._attrs.matrix;return t.mat3.rotate(r,r,f),this.clearTotalMatrix(),this.attr("matrix",r),this},scale:function(f,r){var e=this._attrs.matrix;return t.mat3.scale(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotateAtStart:function(f){var r=this._attrs.x||this._cfg.attrs.x,e=this._attrs.y||this._cfg.attrs.y;return Math.abs(f)>Math.PI*2&&(f=f/180*Math.PI),this.transform([["t",-r,-e],["r",f],["t",r,e]])},move:function(f,r){var e=this.get("x")||0,n=this.get("y")||0;return this.translate(f-e,r-n),this.set("x",f),this.set("y",r),this},transform:function(f){var r=this,e=this._attrs.matrix;return t.each(f,function(n){switch(n[0]){case"t":r.translate(n[1],n[2]);break;case"s":r.scale(n[1],n[2]);break;case"r":r.rotate(n[1]);break;case"m":r.attr("matrix",t.mat3.multiply([],e,n[1])),r.clearTotalMatrix();break;default:break}}),r},setTransform:function(f){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(f)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(f){return this.attr("matrix",f),this.clearTotalMatrix(),this},apply:function(f,r){var e;return r?e=this._getMatrixByRoot(r):e=this.attr("matrix"),t.vec3.transformMat3(f,f,e),this},_getMatrixByRoot:function(f){var r=this;f=f||r;for(var e=r,n=[];e!==f;)n.unshift(e),e=e.get("parent");n.unshift(e);var a=[1,0,0,0,1,0,0,0,1];return t.each(n,function(u){t.mat3.multiply(a,u.attr("matrix"),a)}),a},getTotalMatrix:function(){var f=this._cfg.totalMatrix;if(!f){f=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;if(r){var e=r.getTotalMatrix();v(f,e)}v(f,this.attr("matrix")),this._cfg.totalMatrix=f}return f},clearTotalMatrix:function(){},invert:function(f){var r=this.getTotalMatrix();if(s(r))f[0]/=r[0],f[1]/=r[4];else{var e=t.mat3.invert([],r);e&&t.vec3.transformMat3(f,f,e)}return this},resetTransform:function(f){var r=this.attr("matrix");c(r)||f.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}},function(P,x,i){function t(){return t=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},t.apply(this,arguments)}var c=i(1),s={delay:"delay",repeat:"repeat",rotate:"rotate"};function v(r,e){var n={},a=e._attrs;for(var u in r.attrs)n[u]=a[u];return n}function o(r,e){var n={matrix:null,attrs:{}},a=e._attrs;for(var u in r)u==="transform"?n.matrix=c.transform(e.getMatrix(),r[u]):u==="matrix"?n.matrix=r[u]:c.isColorProp(u)&&c.isGradientColor(r[u])?n.attrs[u]=r[u]:!s[u]&&a[u]!==r[u]&&(u==="rotate"&&(e._attrs.rotate=e._attrs.rotate||0),n.attrs[u]=r[u]);return n}function f(r,e){if(e.onFrame)return r;var n=e.delay,a=Object.prototype.hasOwnProperty;return c.each(e.toAttrs,function(u,l){c.each(r,function(h){n<h.startTime+h.duration&&a.call(h.toAttrs,l)&&(delete h.toAttrs[l],delete h.fromAttrs[l])})}),e.toMatrix&&c.each(r,function(u){n<u.startTime+u.duration&&u.toMatrix&&delete u.toMatrix}),r}P.exports={animate:function(e,n,a,u,l){l===void 0&&(l=0);var h=this;h.set("animating",!0);var p=h.get("timeline");p||(p=h.get("canvas").get("timeline"),h.setSilent("timeline",p));var d=h.get("animators")||[];p._timer||p.initTimer(),c.isNumber(u)&&(l=u,u=null),c.isFunction(a)?(u=a,a="easeLinear"):a=a||"easeLinear";var g={repeat:e.repeat,duration:n,easing:a,callback:u,delay:l,startTime:p.getTime(),id:c.uniqueId()};if(e.onFrame)g.onFrame=e.onFrame;else{var y=o(e,h);g=t({fromAttrs:v(y,h),toAttrs:y.attrs,fromMatrix:c.clone(h.getMatrix()),toMatrix:y.matrix},g)}d.length>0?d=f(d,g):p.addAnimator(h),d.push(g),h.setSilent("animators",d),h.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,n=this.get("animators");c.each(n,function(a){e.attr(a.toAttrs||a.onFrame(1)),a.toMatrix&&e.attr("matrix",a.toMatrix),a.callback&&a.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function(){var e=this,n=e.get("timeline"),a=n.getTime(),u=e.get("animators"),l=e.get("pause").pauseTime;return c.each(u,function(h){h.startTime=h.startTime+(a-l),h._paused=!1,h._pauseTime=null}),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",u),e}}},function(P,x,i){var t=i(1),c=i(78),s=i(117),v=["click","mousedown","mouseup","dblclick","contextmenu","mouseout","mouseover","mousemove","dragstart","drag","dragend","dragenter","dragleave","drop"],o=function(){};t.augment(o,s,{emit:function(r,e){var n=arguments;if(s.prototype.emit.apply(this,n),!(n.length>=2&&n[1]instanceof c&&n[1].propagationStopped)&&v.indexOf(r)>=0&&e.target===this)for(var a=this._cfg.parent;a&&!a.get("destroyed");)a.emit.apply(a,n),a=a._cfg.parent}}),P.exports=o},function(P,x,i){var t=i(7);t.Arc=i(120),t.Circle=i(121),t.Dom=i(122),t.Ellipse=i(123),t.Fan=i(124),t.Image=i(125),t.Line=i(126),t.Marker=i(81),t.Path=i(127),t.Polygon=i(128),t.Polyline=i(129),t.Rect=i(130),t.Text=i(131),P.exports=t},function(P,x,i){var t=i(1),c=i(79),s={arc:i(44),ellipse:i(119),line:i(43)},v=t.createDom('<canvas width="1" height="1"></canvas>'),o=v.getContext("2d");function f(M,b,S){return S.createPath(o),o.isPointInPath(M,b)}var r=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.r,L=A.startAngle,Z=A.endAngle,U=A.clockwise,Y=this.getHitLineWidth();return this.hasStroke()?c.arcline(T,O,D,L,Z,U,Y,b,S):!1},e=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.r,L=this.getHitLineWidth(),Z=this.hasFill(),U=this.hasStroke();return Z&&U?c.circle(T,O,D,b,S)||c.arcline(T,O,D,0,Math.PI*2,!1,L,b,S):Z?c.circle(T,O,D,b,S):U?c.arcline(T,O,D,0,Math.PI*2,!1,L,b,S):!1},n=function(b,S){var A=this._attrs,T=this.hasFill(),O=this.hasStroke(),D=A.x,L=A.y,Z=A.rx,U=A.ry,Y=this.getHitLineWidth(),W=Z>U?Z:U,J=Z>U?1:Z/U,ht=Z>U?U/Z:1,nt=[b,S,1],Q=[1,0,0,0,1,0,0,0,1];t.mat3.scale(Q,Q,[J,ht]),t.mat3.translate(Q,Q,[D,L]);var xt=t.mat3.invert([],Q);return t.vec3.transformMat3(nt,nt,xt),T&&O?c.circle(0,0,W,nt[0],nt[1])||c.arcline(0,0,W,0,Math.PI*2,!1,Y,nt[0],nt[1]):T?c.circle(0,0,W,nt[0],nt[1]):O?c.arcline(0,0,W,0,Math.PI*2,!1,Y,nt[0],nt[1]):!1},a=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke(),D=A._attrs,L=D.x,Z=D.y,U=D.rs,Y=D.re,W=D.startAngle,J=D.endAngle,ht=D.clockwise,nt=[1,0],Q=[b-L,S-Z],xt=t.vec2.angleTo(nt,Q);function _t(){var rt=s.arc.nearAngle(xt,W,J,ht);if(t.isNumberEqual(xt,rt)){var q=t.vec2.squaredLength(Q);if(U*U<=q&&q<=Y*Y)return!0}return!1}function Nt(){var rt=A.getHitLineWidth(),q={x:Math.cos(W)*U+L,y:Math.sin(W)*U+Z},G={x:Math.cos(W)*Y+L,y:Math.sin(W)*Y+Z},N={x:Math.cos(J)*U+L,y:Math.sin(J)*U+Z},at={x:Math.cos(J)*Y+L,y:Math.sin(J)*Y+Z};return!!(c.line(q.x,q.y,G.x,G.y,rt,b,S)||c.line(N.x,N.y,at.x,at.y,rt,b,S)||c.arcline(L,Z,U,W,J,ht,rt,b,S)||c.arcline(L,Z,Y,W,J,ht,rt,b,S))}return T&&O?_t()||Nt():T?_t():O?Nt():!1},u=function(b,S){var A=this._attrs;if(this.get("toDraw")||!A.img)return!1;(!this._cfg.attrs||this._cfg.attrs.img!==A.img)&&this._setAttrImg();var T=A.x,O=A.y,D=A.width,L=A.height;return c.rect(T,O,D,L,b,S)},l=function(b,S){var A=this._attrs,T=A.x1,O=A.y1,D=A.x2,L=A.y2,Z=this.getHitLineWidth();return this.hasStroke()?c.line(T,O,D,L,Z,b,S):!1},h=function(b,S){var A=this,T=A.get("segments"),O=A.hasFill(),D=A.hasStroke();function L(){if(!t.isEmpty(T)){for(var Z=A.getHitLineWidth(),U=0,Y=T.length;U<Y;U++)if(T[U].isInside(b,S,Z))return!0;return!1}}return O&&D?f(b,S,A)||L():O?f(b,S,A):D?L():!1},p=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke();function D(){var L=A._attrs,Z=L.points;if(Z.length<2)return!1;var U=A.getHitLineWidth(),Y=Z.slice(0);return Z.length>=3&&Y.push(Z[0]),c.polyline(Y,U,b,S)}return T&&O?f(b,S,A)||D():T?f(b,S,A):O?D():!1},d=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.radius||A.r,L=this.getHitLineWidth();return c.circle(T,O,D+L/2,b,S)},g=function(b,S){var A=this,T=A._attrs;if(A.hasStroke()){var O=T.points;if(O.length<2)return!1;var D=T.lineWidth;return c.polyline(O,D,b,S)}return!1},y=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke();function D(){var L=A._attrs,Z=L.x,U=L.y,Y=L.width,W=L.height,J=L.radius,ht=A.getHitLineWidth();if(J===0){var nt=ht/2;return c.line(Z-nt,U,Z+Y+nt,U,ht,b,S)||c.line(Z+Y,U-nt,Z+Y,U+W+nt,ht,b,S)||c.line(Z+Y+nt,U+W,Z-nt,U+W,ht,b,S)||c.line(Z,U+W+nt,Z,U-nt,ht,b,S)}return c.line(Z+J,U,Z+Y-J,U,ht,b,S)||c.line(Z+Y,U+J,Z+Y,U+W-J,ht,b,S)||c.line(Z+Y-J,U+W,Z+J,U+W,ht,b,S)||c.line(Z,U+W-J,Z,U+J,ht,b,S)||c.arcline(Z+Y-J,U+J,J,1.5*Math.PI,2*Math.PI,!1,ht,b,S)||c.arcline(Z+Y-J,U+W-J,J,0,.5*Math.PI,!1,ht,b,S)||c.arcline(Z+J,U+W-J,J,.5*Math.PI,Math.PI,!1,ht,b,S)||c.arcline(Z+J,U+J,J,Math.PI,1.5*Math.PI,!1,ht,b,S)}return T&&O?f(b,S,A)||D():T?f(b,S,A):O?D():!1},E=function(b,S){var A=this,T=A.getBBox();if(A.hasFill()||A.hasStroke())return c.box(T.minX,T.maxX,T.minY,T.maxY,b,S)},C=function(b,S){if(!this._cfg.el)return!1;var A=this._cfg.el.getBBox();return c.box(A.x,A.x+A.width,A.y,A.y+A.height,b,S)},m={arc:r,circle:e,dom:C,ellipse:n,fan:a,image:u,line:l,path:h,marker:d,polygon:p,polyline:g,rect:y,text:E};P.exports={isPointInPath:function(b,S){var A=m[this.type];return A?A.call(this,b,S):!1}}},function(P,x,i){var t=i(1),c=i(82),s=i(101),v=i(103),o=i(133),f=o.interpolate,r=o.interpolateArray,e=function(l){this._animators=[],this._current=0,this._timer=null,this.canvas=l};function n(u,l,h){var p={},d=l.toAttrs,g=l.fromAttrs,y=l.toMatrix;if(!u.get("destroyed")){var E;for(var C in d)if(!t.isEqual(g[C],d[C]))if(C==="path"){var m=d[C],M=g[C];m.length>M.length?(m=c.parsePathString(d[C]),M=c.parsePathString(g[C]),M=c.fillPathByDiff(M,m),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m):l.pathFormatted||(m=c.parsePathString(d[C]),M=c.parsePathString(g[C]),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m,l.pathFormatted=!0),p[C]=[];for(var b=0;b<m.length;b++){for(var S=m[b],A=M[b],T=[],O=0;O<S.length;O++)t.isNumber(S[O])&&A&&t.isNumber(A[O])?(E=f(A[O],S[O]),T.push(E(h))):T.push(S[O]);p[C].push(T)}}else t.isColorProp(C)&&t.isGradientColor(d[C])?p[C]=d[C]:(E=f(g[C],d[C]),p[C]=E(h));if(y){var D=r(l.fromMatrix,y),L=D(h);u.setMatrix(L)}u.attr(p)}}function a(u,l,h){var p=l.startTime;if(h<p+l.delay||l.isPaused)return!1;var d,g=l.duration,y=l.easing;if(h=h-p-l.delay,l.repeat)d=h%g/g,d=v[y](d);else if(d=h/g,d<1)d=v[y](d);else{var E=l.toAttrs||l.onFrame(1);return u.attr(E),l.toMatrix&&u.setMatrix(l.toMatrix),!0}if(l.onFrame){var C=l.onFrame(d);u.attr(C)}else n(u,l,d);return!1}t.augment(e,{initTimer:function(){var l=this,h=this,p=!1,d,g,y;h._timer=s.timer(function(E){if(h._current=E,l._animators.length>0){for(var C=l._animators.length-1;C>=0;C--){if(d=l._animators[C],d.get("destroyed")){h.removeAnimator(C);continue}if(!d.get("pause").isPaused){g=d.get("animators");for(var m=g.length-1;m>=0;m--)y=g[m],p=a(d,y,E),p&&(g.splice(m,1),p=!1,y.callback&&y.callback())}g.length===0&&h.removeAnimator(C)}l.canvas.draw()}})},addAnimator:function(l){this._animators.push(l)},removeAnimator:function(l){this._animators.splice(l,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(l){l.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),P.exports=e},function(P,x,i){"use strict";var t=i(83);x.a=function(c,s,v){var o=new t.a;return s=s==null?0:+s,o.restart(function(f){o.stop(),c(f+s)},s,v),o}},function(P,x,i){"use strict";var t=i(83);x.a=function(c,s,v){var o=new t.a,f=s;return s==null?(o.restart(c,s,v),o):(s=+s,v=v==null?Object(t.b)():+v,o.restart(function r(e){e+=f,o.restart(r,f+=s,v),c(e)},s,v),o)}},function(P,x,i){"use strict";x.a=t;function t(c){return+c}},function(P,x,i){"use strict";x.a=t,x.c=c,x.b=s;function t(v){return v*v}function c(v){return v*(2-v)}function s(v){return((v*=2)<=1?v*v:--v*(2-v)+1)/2}},function(P,x,i){"use strict";x.a=t,x.c=c,x.b=s;function t(v){return v*v*v}function c(v){return--v*v*v+1}function s(v){return((v*=2)<=1?v*v*v:(v-=2)*v*v+2)/2}},function(P,x,i){"use strict";i.d(x,"a",function(){return c}),i.d(x,"c",function(){return s}),i.d(x,"b",function(){return v});var t=3,c=function o(f){f=+f;function r(e){return Math.pow(e,f)}return r.exponent=o,r}(t),s=function o(f){f=+f;function r(e){return 1-Math.pow(1-e,f)}return r.exponent=o,r}(t),v=function o(f){f=+f;function r(e){return((e*=2)<=1?Math.pow(e,f):2-Math.pow(2-e,f))/2}return r.exponent=o,r}(t)},function(P,x,i){"use strict";x.a=s,x.c=v,x.b=o;var t=Math.PI,c=t/2;function s(f){return+f==1?1:1-Math.cos(f*c)}function v(f){return Math.sin(f*c)}function o(f){return(1-Math.cos(t*f))/2}},function(P,x,i){"use strict";x.a=c,x.c=s,x.b=v;var t=i(132);function c(o){return Object(t.a)(1-+o)}function s(o){return 1-Object(t.a)(o)}function v(o){return((o*=2)<=1?Object(t.a)(1-o):2-Object(t.a)(o-1))/2}},function(P,x,i){"use strict";x.a=t,x.c=c,x.b=s;function t(v){return 1-Math.sqrt(1-v*v)}function c(v){return Math.sqrt(1- --v*v)}function s(v){return((v*=2)<=1?1-Math.sqrt(1-v*v):Math.sqrt(1-(v-=2)*v)+1)/2}},function(P,x,i){"use strict";x.a=u,x.c=l,x.b=h;var t=4/11,c=6/11,s=8/11,v=3/4,o=9/11,f=10/11,r=15/16,e=21/22,n=63/64,a=1/t/t;function u(p){return 1-l(1-p)}function l(p){return(p=+p)<t?a*p*p:p<s?a*(p-=c)*p+v:p<f?a*(p-=o)*p+r:a*(p-=e)*p+n}function h(p){return((p*=2)<=1?1-l(1-p):l(p-1)+1)/2}},function(P,x,i){"use strict";i.d(x,"a",function(){return c}),i.d(x,"c",function(){return s}),i.d(x,"b",function(){return v});var t=1.70158,c=function o(f){f=+f;function r(e){return(e=+e)*e*(f*(e-1)+e)}return r.overshoot=o,r}(t),s=function o(f){f=+f;function r(e){return--e*e*((e+1)*f+e)+1}return r.overshoot=o,r}(t),v=function o(f){f=+f;function r(e){return((e*=2)<1?e*e*((f+1)*e-f):(e-=2)*e*((f+1)*e+f)+2)/2}return r.overshoot=o,r}(t)},function(P,x,i){"use strict";i.d(x,"a",function(){return o}),i.d(x,"c",function(){return f}),i.d(x,"b",function(){return r});var t=i(132),c=2*Math.PI,s=1,v=.3,o=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return n*Object(t.a)(- --h)*Math.sin((u-h)/a)}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v),f=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return 1-n*Object(t.a)(h=+h)*Math.sin((h+u)/a)}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v),r=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return((h=h*2-1)<0?n*Object(t.a)(-h)*Math.sin((u-h)/a):2-n*Object(t.a)(h)*Math.sin((u+h)/a))/2}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v)},function(P,x,i){"use strict";x.a=p,x.b=b;var t=i(86),c=i(85),s=i(134),v=18,o=.96422,f=1,r=.82521,e=4/29,n=6/29,a=3*n*n,u=n*n*n;function l(T){if(T instanceof d)return new d(T.l,T.a,T.b,T.opacity);if(T instanceof S)return A(T);T instanceof c.b||(T=Object(c.h)(T));var O=C(T.r),D=C(T.g),L=C(T.b),Z=g((.2225045*O+.7168786*D+.0606169*L)/f),U,Y;return O===D&&D===L?U=Y=Z:(U=g((.4360747*O+.3850649*D+.1430804*L)/o),Y=g((.0139322*O+.0971045*D+.7141733*L)/r)),new d(116*Z-16,500*(U-Z),200*(Z-Y),T.opacity)}function h(T,O){return new d(T,0,0,O==null?1:O)}function p(T,O,D,L){return arguments.length===1?l(T):new d(T,O,D,L==null?1:L)}function d(T,O,D,L){this.l=+T,this.a=+O,this.b=+D,this.opacity=+L}Object(t.a)(d,p,Object(t.b)(c.a,{brighter:function(T){return new d(this.l+v*(T==null?1:T),this.a,this.b,this.opacity)},darker:function(T){return new d(this.l-v*(T==null?1:T),this.a,this.b,this.opacity)},rgb:function(){var T=(this.l+16)/116,O=isNaN(this.a)?T:T+this.a/500,D=isNaN(this.b)?T:T-this.b/200;return O=o*y(O),T=f*y(T),D=r*y(D),new c.b(E(3.1338561*O-1.6168667*T-.4906146*D),E(-.9787684*O+1.9161415*T+.033454*D),E(.0719453*O-.2289914*T+1.4052427*D),this.opacity)}}));function g(T){return T>u?Math.pow(T,1/3):T/a+e}function y(T){return T>n?T*T*T:a*(T-e)}function E(T){return 255*(T<=.0031308?12.92*T:1.055*Math.pow(T,1/2.4)-.055)}function C(T){return(T/=255)<=.04045?T/12.92:Math.pow((T+.055)/1.055,2.4)}function m(T){if(T instanceof S)return new S(T.h,T.c,T.l,T.opacity);if(T instanceof d||(T=l(T)),T.a===0&&T.b===0)return new S(NaN,0<T.l&&T.l<100?0:NaN,T.l,T.opacity);var O=Math.atan2(T.b,T.a)*s.b;return new S(O<0?O+360:O,Math.sqrt(T.a*T.a+T.b*T.b),T.l,T.opacity)}function M(T,O,D,L){return arguments.length===1?m(T):new S(D,O,T,L==null?1:L)}function b(T,O,D,L){return arguments.length===1?m(T):new S(T,O,D,L==null?1:L)}function S(T,O,D,L){this.h=+T,this.c=+O,this.l=+D,this.opacity=+L}function A(T){if(isNaN(T.h))return new d(T.l,0,0,T.opacity);var O=T.h*s.a;return new d(T.l,Math.cos(O)*T.c,Math.sin(O)*T.c,T.opacity)}Object(t.a)(S,b,Object(t.b)(c.a,{brighter:function(T){return new S(this.h,this.c,this.l+v*(T==null?1:T),this.opacity)},darker:function(T){return new S(this.h,this.c,this.l-v*(T==null?1:T),this.opacity)},rgb:function(){return A(this).rgb()}}))},function(P,x,i){"use strict";x.a=h;var t=i(86),c=i(85),s=i(134),v=-.14861,o=1.78277,f=-.29227,r=-.90649,e=1.97294,n=e*r,a=e*o,u=o*f-r*v;function l(d){if(d instanceof p)return new p(d.h,d.s,d.l,d.opacity);d instanceof c.b||(d=Object(c.h)(d));var g=d.r/255,y=d.g/255,E=d.b/255,C=(u*E+n*g-a*y)/(u+n-a),m=E-C,M=(e*(y-C)-f*m)/r,b=Math.sqrt(M*M+m*m)/(e*C*(1-C)),S=b?Math.atan2(M,m)*s.b-120:NaN;return new p(S<0?S+360:S,b,C,d.opacity)}function h(d,g,y,E){return arguments.length===1?l(d):new p(d,g,y,E==null?1:E)}function p(d,g,y,E){this.h=+d,this.s=+g,this.l=+y,this.opacity=+E}Object(t.a)(p,h,Object(t.b)(c.a,{brighter:function(d){return d=d==null?c.c:Math.pow(c.c,d),new p(this.h,this.s,this.l*d,this.opacity)},darker:function(d){return d=d==null?c.d:Math.pow(c.d,d),new p(this.h,this.s,this.l*d,this.opacity)},rgb:function(){var d=isNaN(this.h)?0:(this.h+120)*s.a,g=+this.l,y=isNaN(this.s)?0:this.s*g*(1-g),E=Math.cos(d),C=Math.sin(d);return new c.b(255*(g+y*(v*E+o*C)),255*(g+y*(f*E+r*C)),255*(g+y*(e*E)),this.opacity)}}))},function(P,x,i){"use strict";x.a=function(t,c){return t=+t,c-=t,function(s){return Math.round(t+c*s)}}},function(P,x,i){"use strict";i.d(x,"a",function(){return v}),i.d(x,"b",function(){return o});var t=i(47),c=i(245);function s(f,r,e,n){function a(d){return d.length?d.pop()+" ":""}function u(d,g,y,E,C,m){if(d!==y||g!==E){var M=C.push("translate(",null,r,null,e);m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,E)})}else(y||E)&&C.push("translate("+y+r+E+e)}function l(d,g,y,E){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),E.push({i:y.push(a(y)+"rotate(",null,n)-2,x:Object(t.a)(d,g)})):g&&y.push(a(y)+"rotate("+g+n)}function h(d,g,y,E){d!==g?E.push({i:y.push(a(y)+"skewX(",null,n)-2,x:Object(t.a)(d,g)}):g&&y.push(a(y)+"skewX("+g+n)}function p(d,g,y,E,C,m){if(d!==y||g!==E){var M=C.push(a(C)+"scale(",null,",",null,")");m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,E)})}else(y!==1||E!==1)&&C.push(a(C)+"scale("+y+","+E+")")}return function(d,g){var y=[],E=[];return d=f(d),g=f(g),u(d.translateX,d.translateY,g.translateX,g.translateY,y,E),l(d.rotate,g.rotate,y,E),h(d.skewX,g.skewX,y,E),p(d.scaleX,d.scaleY,g.scaleX,g.scaleY,y,E),d=g=null,function(C){for(var m=-1,M=E.length,b;++m<M;)y[(b=E[m]).i]=b.x(C);return y.join("")}}}var v=s(c.a,"px, ","px)","deg)"),o=s(c.b,", ",")",")")},function(P,x,i){"use strict";x.a=f,x.b=r;var t=i(246),c,s,v,o;function f(e){return e==="none"?t.b:(c||(c=document.createElement("DIV"),s=document.documentElement,v=document.defaultView),c.style.transform=e,e=v.getComputedStyle(s.appendChild(c),null).getPropertyValue("transform"),s.removeChild(c),e=e.slice(7,-1).split(","),Object(t.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function r(e){return e==null||(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),!(e=o.transform.baseVal.consolidate()))?t.b:(e=e.matrix,Object(t.a)(e.a,e.b,e.c,e.d,e.e,e.f))}},function(P,x,i){"use strict";i.d(x,"b",function(){return c});var t=180/Math.PI,c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};x.a=function(s,v,o,f,r,e){var n,a,u;return(n=Math.sqrt(s*s+v*v))&&(s/=n,v/=n),(u=s*o+v*f)&&(o-=s*u,f-=v*u),(a=Math.sqrt(o*o+f*f))&&(o/=a,f/=a,u/=a),s*f<v*o&&(s=-s,v=-v,u=-u,n=-n),{translateX:r,translateY:e,rotate:Math.atan2(v,s)*t,skewX:Math.atan(u)*t,scaleX:n,scaleY:a}}},function(P,x,i){"use strict";var t=Math.SQRT2,c=2,s=4,v=1e-12;function o(e){return((e=Math.exp(e))+1/e)/2}function f(e){return((e=Math.exp(e))-1/e)/2}function r(e){return((e=Math.exp(2*e))-1)/(e+1)}x.a=function(e,n){var a=e[0],u=e[1],l=e[2],h=n[0],p=n[1],d=n[2],g=h-a,y=p-u,E=g*g+y*y,C,m;if(E<v)m=Math.log(d/l)/t,C=function(O){return[a+O*g,u+O*y,l*Math.exp(t*O*m)]};else{var M=Math.sqrt(E),b=(d*d-l*l+s*E)/(2*l*c*M),S=(d*d-l*l-s*E)/(2*d*c*M),A=Math.log(Math.sqrt(b*b+1)-b),T=Math.log(Math.sqrt(S*S+1)-S);m=(T-A)/t,C=function(O){var D=O*m,L=o(A),Z=l/(c*M)*(L*r(t*D+A)-f(A));return[a+Z*g,u+Z*y,l*L/o(t*D+A)]}}return C.duration=m*1e3,C}},function(P,x,i){"use strict";i.d(x,"b",function(){return v});var t=i(19),c=i(32);function s(o){return function(f,r){var e=o((f=Object(t.d)(f)).h,(r=Object(t.d)(r)).h),n=Object(c.a)(f.s,r.s),a=Object(c.a)(f.l,r.l),u=Object(c.a)(f.opacity,r.opacity);return function(l){return f.h=e(l),f.s=n(l),f.l=a(l),f.opacity=u(l),f+""}}}x.a=s(c.c);var v=s(c.a)},function(P,x,i){"use strict";x.a=s;var t=i(19),c=i(32);function s(v,o){var f=Object(c.a)((v=Object(t.e)(v)).l,(o=Object(t.e)(o)).l),r=Object(c.a)(v.a,o.a),e=Object(c.a)(v.b,o.b),n=Object(c.a)(v.opacity,o.opacity);return function(a){return v.l=f(a),v.a=r(a),v.b=e(a),v.opacity=n(a),v+""}}},function(P,x,i){"use strict";i.d(x,"b",function(){return v});var t=i(19),c=i(32);function s(o){return function(f,r){var e=o((f=Object(t.c)(f)).h,(r=Object(t.c)(r)).h),n=Object(c.a)(f.c,r.c),a=Object(c.a)(f.l,r.l),u=Object(c.a)(f.opacity,r.opacity);return function(l){return f.h=e(l),f.c=n(l),f.l=a(l),f.opacity=u(l),f+""}}}x.a=s(c.c);var v=s(c.a)},function(P,x,i){"use strict";i.d(x,"a",function(){return v});var t=i(19),c=i(32);function s(o){return function f(r){r=+r;function e(n,a){var u=o((n=Object(t.b)(n)).h,(a=Object(t.b)(a)).h),l=Object(c.a)(n.s,a.s),h=Object(c.a)(n.l,a.l),p=Object(c.a)(n.opacity,a.opacity);return function(d){return n.h=u(d),n.s=l(d),n.l=h(Math.pow(d,r)),n.opacity=p(d),n+""}}return e.gamma=f,e}(1)}x.b=s(c.c);var v=s(c.a)},function(P,x,i){"use strict";x.a=function(t,c){for(var s=new Array(c),v=0;v<c;++v)s[v]=t(v/(c-1));return s}},function(P,x,i){P.exports={canvas:i(254),svg:i(257)}},function(P,x,i){P.exports={painter:i(255)}},function(P,x,i){var t=i(1),c=i(256),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],v=function(){function o(r){if(!r)return null;var e=t.uniqueId("canvas_"),n=t.createDom('<canvas id="'+e+'"></canvas>');return r.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var f=o.prototype;return f.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},f.draw=function(e){var n=this;function a(){n.animateHandler=t.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&a()}),n.beforeDraw();try{n._drawGroup(e)}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u)}finally{n.toDraw=!1}}n.animateHandler?n.toDraw=!0:a()},f.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},f._drawGroup=function(e){if(!(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible)){var n=this,a=e._cfg.children,u=null;this.setContext(e);for(var l=0;l<a.length;l++)u=a[l],a[l].isGroup?n._drawGroup(u):n._drawShape(u);this.restoreContext(e)}},f._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},f.setContext=function(e){var n=this.context,a=e._attrs.clip;n.save(),a&&(a.resetTransform(n),a.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},f.restoreContext=function(){this.context.restore()},f.resetContext=function(e){var n=this.context,a=e._attrs;if(!e.isGroup){for(var u in a)if(s.indexOf(u)>-1){var l=a[u];u==="fillStyle"&&(l=c.parseStyle(l,e,n)),u==="strokeStyle"&&(l=c.parseStyle(l,e,n)),u==="lineDash"&&n.setLineDash?t.isArray(l)?n.setLineDash(l):t.isString(l)&&n.setLineDash(l.split(" ")):n[u]=l}}},o}();P.exports=v},function(P,x,i){var t=i(1),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function e(l,h){var p=l.match(r);t.each(p,function(d){d=d.split(":"),h.addColorStop(d[0],d[1])})}function n(l,h,p){var d=v.exec(l),g=t.mod(t.toRadian(parseFloat(d[1])),Math.PI*2),y=d[2],E=h.getBBox(),C,m;g>=0&&g<.5*Math.PI?(C={x:E.minX,y:E.minY},m={x:E.maxX,y:E.maxY}):.5*Math.PI<=g&&g<Math.PI?(C={x:E.maxX,y:E.minY},m={x:E.minX,y:E.maxY}):Math.PI<=g&&g<1.5*Math.PI?(C={x:E.maxX,y:E.maxY},m={x:E.minX,y:E.minY}):(C={x:E.minX,y:E.maxY},m={x:E.maxX,y:E.minY});var M=Math.tan(g),b=M*M,S=(m.x-C.x+M*(m.y-C.y))/(b+1)+C.x,A=M*(m.x-C.x+M*(m.y-C.y))/(b+1)+C.y,T=p.createLinearGradient(C.x,C.y,S,A);return e(y,T),T}function a(l,h,p){var d=o.exec(l),g=parseFloat(d[1]),y=parseFloat(d[2]),E=parseFloat(d[3]),C=d[4];if(E===0){var m=C.match(r);return m[m.length-1].split(":")[1]}var M=h.getBBox(),b=M.maxX-M.minX,S=M.maxY-M.minY,A=Math.sqrt(b*b+S*S)/2,T=p.createRadialGradient(M.minX+b*g,M.minY+S*y,E*A,M.minX+b/2,M.minY+S/2,A);return e(C,T),T}function u(l,h,p){if(h.get("patternSource")&&h.get("patternSource")===l)return h.get("pattern");var d,g,y=f.exec(l),E=y[1],C=y[2];function m(){d=p.createPattern(g,E),h.setSilent("pattern",d),h.setSilent("patternSource",l)}switch(E){case"a":E="repeat";break;case"x":E="repeat-x";break;case"y":E="repeat-y";break;case"n":E="no-repeat";break;default:E="no-repeat"}return g=new Image,C.match(/^data:/i)||(g.crossOrigin="Anonymous"),g.src=C,g.complete?m():(g.onload=m,g.src=g.src),d}P.exports={parsePath:function(h){if(h=h||[],t.isArray(h))return h;if(t.isString(h))return h=h.match(c),t.each(h,function(p,d){if(p=p.match(s),p[0].length>1){var g=p[0].charAt(0);p.splice(1,0,p[0].substr(1)),p[0]=g}t.each(p,function(y,E){isNaN(y)||(p[E]=+y)}),h[d]=p}),h},parseStyle:function(h,p,d){if(t.isString(h)){if(h[1]==="("||h[2]==="("){if(h[0]==="l")return n(h,p,d);if(h[0]==="r")return a(h,p,d);if(h[0]==="p")return u(h,p,d)}return h}}}},function(P,x,i){P.exports={painter:i(258),getShape:i(265)}},function(P,x,i){var t=i(1),c=i(31),s=c.parseRadius,v=i(81),o=i(259),f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},r=.3,e={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},n={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},u=function(){function l(p){if(!p)return null;var d=t.uniqueId("canvas_"),g=t.createDom('<svg id="'+d+'"></svg>');return p.appendChild(g),this.type="svg",this.canvas=g,this.context=new o(g),this.toDraw=!1,this}var h=l.prototype;return h.draw=function(d){var g=this;function y(){g.animateHandler=t.requestAnimationFrame(function(){g.animateHandler=void 0,g.toDraw&&y()});try{g._drawChildren(d)}catch(E){console.warn("error in draw canvas, detail as:"),console.warn(E)}finally{g.toDraw=!1}}g.animateHandler?g.toDraw=!0:y()},h.drawSync=function(d){this._drawChildren(d)},h._drawGroup=function(d,g){var y=d._cfg;y.removed||y.destroyed||(y.tobeRemoved&&(t.each(y.tobeRemoved,function(E){E.parentNode&&E.parentNode.removeChild(E)}),y.tobeRemoved=[]),this._drawShape(d,g),y.children&&y.children.length>0&&this._drawChildren(d))},h._drawChildren=function(d){var g=this,y=d._cfg.children,E;if(!!y)for(var C=0;C<y.length;C++)E=y[C],E.isGroup?g._drawGroup(E,C):g._drawShape(E,C)},h._drawShape=function(d,g){var y=this,E=d._attrs,C=d._cfg,m=C.el;if(C.removed||C.destroyed){m&&m.parentNode.removeChild(C.el);return}if(!m&&C.parent&&(y._createDom(d,g),y._updateShape(d)),m=C.el,C.visible===!1){m.setAttribute("visibility","hidden");return}C.visible&&m.hasAttribute("visibility")&&m.removeAttribute("visibility"),C.hasUpdate&&y._updateShape(d),E.clip&&E.clip._cfg.hasUpdate&&y._updateShape(E.clip)},h._updateShape=function(d){var g=this,y=d._attrs,E=d._cfg.attrs;if(!!E){if(d._cfg.el||g._createDom(d),"clip"in y&&this._setClip(d,y.clip),("shadowOffsetX"in y||"shadowOffsetY"in y||"shadowBlur"in y||"shadowColor"in y)&&this._setShadow(d),d.type==="text"){g._updateText(d);return}d.type==="fan"&&g._updateFan(d),d.type==="marker"&&d._cfg.el.setAttribute("d",g._assembleMarker(y)),d.type==="rect"&&d._cfg.el.setAttribute("d",g._assembleRect(y));for(var C in y)y[C]!==E[C]&&g._setAttribute(d,C,y[C]);d._cfg.attrs=t.deepMix({},d._attrs),d._cfg.hasUpdate=!1}},h._setAttribute=function(d,g,y){var E=d.type,C=d._attrs,m=d._cfg.el,M=this.context;if(!((E==="marker"||E==="rect")&&~["x","y","radius","r"].indexOf(g))){if(~["circle","ellipse"].indexOf(E)&&~["x","y"].indexOf(g)){m.setAttribute("c"+g,parseInt(y,10));return}if(E==="polygon"&&g==="points"){(!y||y.length===0)&&(y=""),t.isArray(y)&&(y=y.map(function(S){return S[0]+","+S[1]}),y=y.join(" ")),m.setAttribute("points",y);return}if(g==="path"&&t.isArray(y)){m.setAttribute("d",this._formatPath(y));return}if(g==="img"){this._setImage(d,y);return}if(g==="transform"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="rotate"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="matrix"){this._setTransform(d);return}if(g==="fillStyle"||g==="strokeStyle"){this._setColor(d,g,y);return}if(g!=="clip"){if(~g.indexOf("Arrow")){if(g=e[g],!y)d._cfg[g]=null,m.removeAttribute(g);else{var b=null;typeof y=="boolean"?b=M.getDefaultArrow(C,g):b=M.addArrow(C,g),m.setAttribute(g,"url(#"+b+")"),d._cfg[g]=b}return}g==="html"&&(typeof y=="string"?m.innerHTML=y:(m.innerHTML="",m.appendChild(y))),e[g]&&m.setAttribute(e[g],y)}}},h._createDom=function(d,g){var y=f[d.type],E=d._attrs,C=d._cfg.parent;if(!y)throw new Error("the type"+d.type+"is not supported by svg");var m=document.createElementNS("http://www.w3.org/2000/svg",y);if(d._cfg.id&&(m.id=d._cfg.id),d._cfg.el=m,C){var M=C._cfg.el;if(typeof g=="undefined")M.appendChild(m);else{var b=C._cfg.el.childNodes;M.tagName==="svg"&&(g+=1),b.length<=g?M.appendChild(m):M.insertBefore(m,b[g])}}return d._cfg.attrs={},d.type==="text"?(m.setAttribute("paint-order","stroke"),m.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(!E.stroke&&!E.strokeStyle&&m.setAttribute("stroke","none"),!E.fill&&!E.fillStyle&&m.setAttribute("fill","none")),m},h._assembleMarker=function(d){var g=d.r;if(typeof d.r=="undefined"&&(g=d.radius),isNaN(Number(d.x))||isNaN(Number(d.y))||isNaN(Number(g)))return"";var y="";return typeof d.symbol=="function"?y=d.symbol(d.x,d.y,g):y=v.Symbols[d.symbol||"circle"](d.x,d.y,g),t.isArray(y)&&(y=y.map(function(E){return E.join(" ")}).join("")),y},h._assembleRect=function(d){var g=d.x,y=d.y,E=d.width,C=d.height,m=d.radius;if(!m)return"M "+g+","+y+" l "+E+",0 l 0,"+C+" l"+-E+" 0 z";var M=s(m);t.isArray(m)?m.length===1?M.r1=M.r2=M.r3=M.r4=m[0]:m.length===2?(M.r1=M.r3=m[0],M.r2=M.r4=m[1]):m.length===3?(M.r1=m[0],M.r2=M.r4=m[1],M.r3=m[2]):(M.r1=m[0],M.r2=m[1],M.r3=m[2],M.r4=m[3]):M.r1=M.r2=M.r3=M.r4=m;var b=[["M "+(g+M.r1)+","+y],["l "+(E-M.r1-M.r2)+",0"],["a "+M.r2+","+M.r2+",0,0,1,"+M.r2+","+M.r2],["l 0,"+(C-M.r2-M.r3)],["a "+M.r3+","+M.r3+",0,0,1,"+-M.r3+","+M.r3],["l "+(M.r3+M.r4-E)+",0"],["a "+M.r4+","+M.r4+",0,0,1,"+-M.r4+","+-M.r4],["l 0,"+(M.r4+M.r1-C)],["a "+M.r1+","+M.r1+",0,0,1,"+M.r1+","+-M.r1],["z"]];return b.join(" ")},h._formatPath=function(d){return d=d.map(function(g){return g.join(" ")}).join(""),~d.indexOf("NaN")?"":d},h._setTransform=function(d){for(var g=d._attrs.matrix,y=d._cfg.el,E=[],C=0;C<9;C+=3)E.push(g[C]+","+g[C+1]);E=E.join(","),E.indexOf("NaN")===-1?y.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",g)},h._setImage=function(d,g){var y=d._attrs,E=d._cfg.el;if(t.isString(g))E.setAttribute("href",g);else if(g instanceof Image)y.width||(E.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(E.setAttribute("height",g.height),d._attrs.height=g.height),E.setAttribute("href",g.src);else if(g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS")E.setAttribute("href",g.toDataURL());else if(g instanceof ImageData){var C=document.createElement("canvas");C.setAttribute("width",g.width),C.setAttribute("height",g.height),C.getContext("2d").putImageData(g,0,0),y.width||(E.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(E.setAttribute("height",g.height),d._attrs.height=g.height),E.setAttribute("href",C.toDataURL())}},h._updateFan=function(d){function g(Y,W,J){return{x:W*Math.cos(Y)+J.x,y:W*Math.sin(Y)+J.y}}var y=d._attrs,E=d._cfg,C={x:y.x,y:y.y},m=[],M=y.startAngle,b=y.endAngle;t.isNumberEqual(b-M,Math.PI*2)&&(b-=1e-5);var S=g(M,y.re,C),A=g(b,y.re,C),T=b>M?1:0,O=Math.abs(b-M)>Math.PI?1:0,D=y.rs,L=y.re,Z=g(M,y.rs,C),U=g(b,y.rs,C);y.rs>0?(m.push("M "+A.x+","+A.y),m.push("L "+U.x+","+U.y),m.push("A "+D+","+D+",0,"+O+","+(T===1?0:1)+","+Z.x+","+Z.y),m.push("L "+S.x+" "+S.y)):(m.push("M "+C.x+","+C.y),m.push("L "+S.x+","+S.y)),m.push("A "+L+","+L+",0,"+O+","+T+","+A.x+","+A.y),y.rs>0?m.push("L "+U.x+","+U.y):m.push("Z"),E.el.setAttribute("d",m.join(" "))},h._updateText=function(d){var g=this,y=d._attrs,E=d._cfg.attrs,C=d._cfg.el;this._setFont(d);for(var m in y)if(y[m]!==E[m]){if(m==="text"){g._setText(d,""+y[m]);continue}if(m==="fillStyle"||m==="strokeStyle"){this._setColor(d,m,y[m]);continue}if(m==="matrix"){this._setTransform(d);continue}e[m]&&C.setAttribute(e[m],y[m])}d._cfg.attrs=Object.assign({},d._attrs),d._cfg.hasUpdate=!1},h._setFont=function(d){var g=d.get("el"),y=d._attrs,E=y.fontSize;g.setAttribute("alignment-baseline",n[y.textBaseline]||"baseline"),g.setAttribute("text-anchor",a[y.textAlign]||"left"),E&&+E<12&&(y.matrix=[1,0,0,0,1,0,0,0,1],d.transform([["t",-y.x,-y.y],["s",+E/12,+E/12],["t",y.x,y.y]]))},h._setText=function(d,g){var y=d._cfg.el,E=d._attrs.textBaseline||"bottom";if(!g)y.innerHTML="";else if(~g.indexOf(`
`)){var C=d._attrs.x,m=g.split(`
`),M=m.length-1,b="";t.each(m,function(S,A){A===0?E==="alphabetic"?b+='<tspan x="'+C+'" dy="'+-M+'em">'+S+"</tspan>":E==="top"?b+='<tspan x="'+C+'" dy="0.9em">'+S+"</tspan>":E==="middle"?b+='<tspan x="'+C+'" dy="'+-(M-1)/2+'em">'+S+"</tspan>":E==="bottom"?b+='<tspan x="'+C+'" dy="-'+(M+r)+'em">'+S+"</tspan>":E==="hanging"&&(b+='<tspan x="'+C+'" dy="'+(-(M-1)-r)+'em">'+S+"</tspan>"):b+='<tspan x="'+C+'" dy="1em">'+S+"</tspan>"}),y.innerHTML=b}else y.innerHTML=g},h._setClip=function(d,g){var y=d._cfg.el;if(!g){y.removeAttribute("clip-path");return}if(y.hasAttribute("clip-path"))g._cfg.hasUpdate&&this._updateShape(g);else{this._createDom(g),this._updateShape(g);var E=this.context.addClip(g);y.setAttribute("clip-path","url(#"+E+")")}},h._setColor=function(d,g,y){var E=d._cfg.el,C=this.context;if(!y){E.setAttribute(e[g],"none");return}if(y=y.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(y)){var m=C.find("gradient",y);m||(m=C.addGradient(y)),E.setAttribute(e[g],"url(#"+m+")")}else if(/^[p,P]{1}[\s]*\(/.test(y)){var M=C.find("pattern",y);M||(M=C.addPattern(y)),E.setAttribute(e[g],"url(#"+M+")")}else E.setAttribute(e[g],y)},h._setShadow=function(d){var g=d._cfg.el,y=d._attrs,E={dx:y.shadowOffsetX,dy:y.shadowOffsetY,blur:y.shadowBlur,color:y.shadowColor};if(!E.dx&&!E.dy&&!E.blur&&!E.color)g.removeAttribute("filter");else{var C=this.context.find("filter",E);C||(C=this.context.addShadow(E,this)),g.setAttribute("filter","url(#"+C+")")}},l}();P.exports=u},function(P,x,i){var t=i(1),c=i(260),s=i(261),v=i(262),o=i(263),f=i(264),r=function(){function e(a){var u=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=t.uniqueId("defs_");u.id=l,a.appendChild(u),this.children=[],this.defaultArrow={},this.el=u,this.canvas=a}var n=e.prototype;return n.find=function(u,l){for(var h=this.children,p=null,d=0;d<h.length;d++)if(h[d].match(u,l)){p=h[d].id;break}return p},n.findById=function(u){for(var l=this.children,h=null,p=0;p<l.length;p++)if(l[p].id===u){h=l[p];break}return h},n.add=function(u){this.children.push(u),u.canvas=this.canvas,u.parent=this},n.getDefaultArrow=function(u,l){var h=u.stroke||u.strokeStyle;if(this.defaultArrow[h])return this.defaultArrow[h].id;var p=new v(u,l);return this.defaultArrow[h]=p,this.el.appendChild(p.el),p.id},n.addGradient=function(u){var l=new c(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addArrow=function(u,l){var h=new v(u,l);return this.el.appendChild(h.el),h.id},n.addShadow=function(u){var l=new s(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addPattern=function(u){var l=new f(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addClip=function(u){var l=new o(u);return this.el.appendChild(l.el),this.add(l),l.id},e}();P.exports=r},function(P,x,i){var t=i(1),c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function o(n){var a=n.match(v);if(!a)return"";var u="";return a.sort(function(l,h){return l=l.split(":"),h=h.split(":"),Number(l[0])-Number(h[0])}),t.each(a,function(l){l=l.split(":"),u+='<stop offset="'+l[0]+'" stop-color="'+l[1]+'"></stop>'}),u}function f(n,a){var u=c.exec(n),l=t.mod(t.toRadian(parseFloat(u[1])),Math.PI*2),h=u[2],p,d;l>=0&&l<.5*Math.PI?(p={x:0,y:0},d={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(p={x:1,y:0},d={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(p={x:1,y:1},d={x:0,y:0}):(p={x:0,y:1},d={x:1,y:0});var g=Math.tan(l),y=g*g,E=(d.x-p.x+g*(d.y-p.y))/(y+1)+p.x,C=g*(d.x-p.x+g*(d.y-p.y))/(y+1)+p.y;a.setAttribute("x1",p.x),a.setAttribute("y1",p.y),a.setAttribute("x2",E),a.setAttribute("y2",C),a.innerHTML=o(h)}function r(n,a){var u=s.exec(n),l=parseFloat(u[1]),h=parseFloat(u[2]),p=parseFloat(u[3]),d=u[4];a.setAttribute("cx",l),a.setAttribute("cy",h),a.setAttribute("r",p),a.innerHTML=o(d)}var e=function(){function n(u){var l=null,h=t.uniqueId("gradient_");return u.toLowerCase()[0]==="l"?(l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),f(u,l)):(l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),r(u,l)),l.setAttribute("id",h),this.el=l,this.id=h,this.cfg=u,this}var a=n.prototype;return a.match=function(l,h){return this.cfg===h},n}();P.exports=e},function(P,x,i){var t=i(1),c={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},s={x:"-40%",y:"-40%",width:"200%",height:"200%"},v=function(){function o(r){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return t.each(s,function(n,a){e.setAttribute(a,n)}),this.el=e,this.id=t.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,e),this}var f=o.prototype;return f.match=function(e,n){if(this.type!==e)return!1;var a=!0,u=this.cfg;return t.each(Object.keys(u),function(l){if(u[l]!==n[l])return a=!1,!1}),a},f.update=function(e,n){var a=this.cfg;return a[c[e]]=n,this._parseShadow(a,this.el),this},f._parseShadow=function(e,n){var a=`<feDropShadow 
      dx="`+(e.dx||0)+`" 
      dy="`+(e.dy||0)+`" 
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;n.innerHTML=a},o}();P.exports=v},function(P,x,i){var t=i(1),c=function(){function s(o,f){var r=document.createElementNS("http://www.w3.org/2000/svg","marker"),e=t.uniqueId("marker_");r.setAttribute("id",e);var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("stroke","none"),n.setAttribute("fill",o.stroke||"#000"),r.appendChild(n),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=n,this.id=e,this.cfg=o[f==="marker-start"?"startArrow":"endArrow"],this.stroke=o.stroke||"#000",this.cfg===!0?this._setDefaultPath(f,n):this._setMarker(o.lineWidth,n),this}var v=s.prototype;return v.match=function(){return!1},v._setDefaultPath=function(f,r){var e=this.el;r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),e.setAttribute("refX",3),e.setAttribute("refY",3)},v._setMarker=function(f,r){var e=this.el,n=this.cfg.path,a=this.cfg.d;t.isArray(n)&&(n=n.map(function(u){return u.join(" ")}).join("")),r.setAttribute("d",n),e.appendChild(r),a&&e.setAttribute("refX",a/f)},v.update=function(f){var r=this.child;r.attr?r.attr("fill",f):r.setAttribute("fill",f)},s}();P.exports=c},function(P,x,i){var t=i(1),c=function(){function s(o){this.type="clip";var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=f,this.id=t.uniqueId("clip_"),f.id=this.id;var r=o._cfg.el;return f.appendChild(r.cloneNode(!0)),this.cfg=o,this}var v=s.prototype;return v.match=function(){return!1},v.remove=function(){var f=this.el;f.parentNode.removeChild(f)},s}();P.exports=c},function(P,x,i){var t=i(1),c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=function(){function v(f){var r=document.createElementNS("http://www.w3.org/2000/svg","pattern");r.setAttribute("patternUnits","userSpaceOnUse");var e=document.createElementNS("http://www.w3.org/2000/svg","image");r.appendChild(e);var n=t.uniqueId("pattern_");r.id=n,this.el=r,this.id=n,this.cfg=f;var a=c.exec(f),u=a[2];e.setAttribute("href",u);var l=new Image;u.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=u;function h(){r.setAttribute("width",l.width),r.setAttribute("height",l.height)}return l.complete?h():(l.onload=h,l.src=l.src),this}var o=v.prototype;return o.match=function(r,e){return this.cfg===e},v}();P.exports=s},function(P,x){var i={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};P.exports=function(c,s,v){var o=v.target||v.srcElement;if(!i[o.tagName]){for(var f=o.parentNode;f&&!i[f.tagName];)f=f.parentNode;o=f}return this._cfg.el===o?this:this.find(function(r){return r._cfg&&r._cfg.el===o})}},function(P,x,i){P.exports={addEventListener:i(267),createDom:i(71),getBoundingClientRect:i(268),getHeight:i(269),getOuterHeight:i(270),getOuterWidth:i(271),getRatio:i(272),getStyle:i(273),getWidth:i(274),modifyCSS:i(72),requestAnimationFrame:i(73)}},function(P,x){P.exports=function(t,c,s){if(t){if(t.addEventListener)return t.addEventListener(c,s,!1),{remove:function(){t.removeEventListener(c,s,!1)}};if(t.attachEvent)return t.attachEvent("on"+c,s),{remove:function(){t.detachEvent("on"+c,s)}}}}},function(P,x){P.exports=function(t,c){if(t&&t.getBoundingClientRect){var s=t.getBoundingClientRect(),v=document.documentElement.clientTop,o=document.documentElement.clientLeft;return{top:s.top-v,bottom:s.bottom-v,left:s.left-o,right:s.right-o}}return c||null}},function(P,x){P.exports=function(t,c){var s=this.getStyle(t,"height",c);return s==="auto"&&(s=t.offsetHeight),parseFloat(s)}},function(P,x){P.exports=function(t,c){var s=this.getHeight(t,c),v=parseFloat(this.getStyle(t,"borderTopWidth"))||0,o=parseFloat(this.getStyle(t,"paddingTop"))||0,f=parseFloat(this.getStyle(t,"paddingBottom"))||0,r=parseFloat(this.getStyle(t,"borderBottomWidth"))||0;return s+v+r+o+f}},function(P,x){P.exports=function(t,c){var s=this.getWidth(t,c),v=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,o=parseFloat(this.getStyle(t,"paddingLeft"))||0,f=parseFloat(this.getStyle(t,"paddingRight"))||0,r=parseFloat(this.getStyle(t,"borderRightWidth"))||0;return s+v+r+o+f}},function(P,x){P.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(P,x,i){var t=i(6);P.exports=function(s,v,o){try{return window.getComputedStyle?window.getComputedStyle(s,null)[v]:s.currentStyle[v]}catch(f){return t(o)?null:o}}},function(P,x){P.exports=function(t,c){var s=this.getStyle(t,"width",c);return s==="auto"&&(s=t.offsetWidth),parseFloat(s)}},function(P,x,i){P.exports={contains:i(48),difference:i(276),find:i(277),firstValue:i(278),flatten:i(279),flattenDeep:i(280),getRange:i(281),merge:i(49),pull:i(67),pullAt:i(146),reduce:i(282),remove:i(283),sortBy:i(284),union:i(285),uniq:i(147),valuesOfKey:i(89)}},function(P,x,i){var t=i(88),c=i(48),s=function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t(o,function(r){return!c(f,r)})};P.exports=s},function(P,x,i){var t=i(13),c=i(28),s=i(144);function v(o,f){var r=void 0;if(t(f)&&(r=f),c(f)&&(r=function(a){return s(a,f)}),r){for(var e=0;e<o.length;e+=1)if(r(o[e]))return o[e]}return null}P.exports=v},function(P,x,i){var t=i(6),c=i(5),s=function(o,f){for(var r=null,e=0;e<o.length;e++){var n=o[e],a=n[f];if(!t(a)){c(a)?r=a[0]:r=a;break}}return r};P.exports=s},function(P,x,i){var t=i(5),c=i(3),s=function(o){if(!t(o))return o;var f=[];return c(o,function(r){t(r)?c(r,function(e){f.push(e)}):f.push(r)}),f};P.exports=s},function(P,x,i){var t=i(5),c=function s(v){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t(v))o.push(v);else for(var f=0;f<v.length;f+=1)s(v[f],o);return o};P.exports=c},function(P,x,i){var t=i(88),c=i(5),s=function(o){if(o=t(o,function(a){return!isNaN(a)}),!o.length)return{min:0,max:0};if(c(o[0])){for(var f=[],r=0;r<o.length;r++)f=f.concat(o[r]);o=f}var e=Math.max.apply(null,o),n=Math.min.apply(null,o);return{min:n,max:e}};P.exports=s},function(P,x,i){var t=i(5),c=i(28),s=i(3),v=function(f,r,e){if(!t(f)&&!c(f))return f;var n=e;return s(f,function(a,u){n=r(n,a,u)}),n};P.exports=v},function(P,x,i){var t=i(15),c=i(146),s=function(o,f){var r=[];if(!t(o))return r;for(var e=-1,n=[],a=o.length;++e<a;){var u=o[e];f(u,e,o)&&(r.push(u),n.push(e))}return c(o,n),r};P.exports=s},function(P,x,i){var t=i(12),c=i(13),s=i(5);function v(o,f){var r=void 0;if(c(f))r=function(a,u){return f(a)-f(u)};else{var e=[];t(f)?e.push(f):s(f)&&(e=f),r=function(a,u){for(var l=0;l<e.length;l+=1){var h=e[l];if(a[h]>u[h])return 1;if(a[h]<u[h])return-1}return 0}}return o.sort(r),o}P.exports=v},function(P,x,i){var t=i(3),c=i(29),s=i(147),v=function(){var f=[],r=c(arguments);return t(r,function(e){f=f.concat(e)}),s(f)};P.exports=v},function(P,x,i){P.exports={getWrapBehavior:i(287),wrapBehavior:i(288)}},function(P,x){function i(t,c){return t["_wrap_"+c]}P.exports=i},function(P,x){function i(t,c){if(t["_wrap_"+c])return t["_wrap_"+c];var s=function(o){t[c](o)};return t["_wrap_"+c]=s,s}P.exports=i},function(P,x,i){var t=i(290);P.exports={number2color:t,numberToColor:t,parsePath:i(291),parseRadius:i(292)}},function(P,x){var i={};P.exports=function(c){var s=i[c];if(!s){for(var v=c.toString(16),o=v.length;o<6;o++)v="0"+v;s="#"+v,i[c]=s}return s}},function(P,x,i){var t=i(5),c=i(12),s=i(3),v=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,o=/[^\s\,]+/ig;P.exports=function(r){if(r=r||[],t(r))return r;if(c(r))return r=r.match(v),s(r,function(e,n){if(e=e.match(o),e[0].length>1){var a=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=a}s(e,function(u,l){isNaN(u)||(e[l]=+u)}),r[n]=e}),r}},function(P,x,i){var t=i(5);P.exports=function(s){var v=0,o=0,f=0,r=0;return t(s)?s.length===1?v=o=f=r=s[0]:s.length===2?(v=f=s[0],o=r=s[1]):s.length===3?(v=s[0],o=r=s[1],f=s[2]):(v=s[0],o=s[1],f=s[2],r=s[3]):v=o=f=r=s,{r1:v,r2:o,r3:f,r4:r}}},function(P,x,i){var t=i(30);P.exports={clamp:i(41),fixedBase:i(294),isDecimal:i(295),isEven:i(296),isInteger:i(297),isNegative:i(298),isNumberEqual:t,isOdd:i(299),isPositive:i(300),maxBy:i(148),minBy:i(301),mod:i(70),snapEqual:t,toDegree:i(69),toInt:i(149),toInteger:i(149),toRadian:i(68)}},function(P,x){var i=function(c,s){var v=s.toString(),o=v.indexOf(".");if(o===-1)return Math.round(c);var f=v.substr(o+1).length;return f>20&&(f=20),parseFloat(c.toFixed(f))};P.exports=i},function(P,x,i){var t=i(11),c=function(v){return t(v)&&v%1!=0};P.exports=c},function(P,x,i){var t=i(11),c=function(v){return t(v)&&v%2==0};P.exports=c},function(P,x,i){var t=i(11),c=Number.isInteger?Number.isInteger:function(s){return t(s)&&s%1==0};P.exports=c},function(P,x,i){var t=i(11),c=function(v){return t(v)&&v<0};P.exports=c},function(P,x,i){var t=i(11),c=function(v){return t(v)&&v%2!=0};P.exports=c},function(P,x,i){var t=i(11),c=function(v){return t(v)&&v>0};P.exports=c},function(P,x,i){var t=i(5),c=i(13),s=i(3),v=function(f,r){if(!!t(f)){var e=f[0],n=void 0;c(r)?n=r(f[0]):n=f[0][r];var a=void 0;return s(f,function(u){c(r)?a=r(u):a=u[r],a<n&&(e=u,n=a)}),e}};P.exports=v},function(P,x,i){P.exports={forIn:i(303),has:i(150),hasKey:i(304),hasValue:i(305),keys:i(145),isMatch:i(144),values:i(151)}},function(P,x,i){P.exports=i(3)},function(P,x,i){P.exports=i(150)},function(P,x,i){var t=i(48),c=i(151);P.exports=function(s,v){return t(c(s),v)}},function(P,x,i){var t=i(307),c=i(155),s=i(154),v=i(157);P.exports={catmullRom2Bezier:v,catmullRomToBezier:v,fillPath:i(308),fillPathByDiff:i(309),formatPath:i(311),intersection:t,pathIntersection:t,parsePathArray:i(153),parsePathString:i(156),pathToAbsolute:c,path2absolute:c,pathTocurve:s,path2curve:s,rectPath:i(152)}},function(P,x,i){var t=i(5),c=i(152),s=i(154),v=function(g,y,E,C,m){var M=-3*y+9*E-9*C+3*m,b=g*M+6*y-12*E+6*C;return g*b-3*y+3*E},o=function(g,y,E,C,m,M,b,S,A){A===null&&(A=1),A=A>1?1:A<0?0:A;for(var T=A/2,O=12,D=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],L=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0,U=0;U<O;U++){var Y=T*D[U]+T,W=v(Y,g,E,m,b),J=v(Y,y,C,M,S),ht=W*W+J*J;Z+=L[U]*Math.sqrt(ht)}return T*Z},f=function(g,y,E,C,m,M,b,S){for(var A=[],T=[[],[]],O=void 0,D=void 0,L=void 0,Z=void 0,U=0;U<2;++U){if(U===0?(D=6*g-12*E+6*m,O=-3*g+9*E-9*m+3*b,L=3*E-3*g):(D=6*y-12*C+6*M,O=-3*y+9*C-9*M+3*S,L=3*C-3*y),Math.abs(O)<1e-12){if(Math.abs(D)<1e-12)continue;Z=-L/D,Z>0&&Z<1&&A.push(Z);continue}var Y=D*D-4*L*O,W=Math.sqrt(Y);if(!(Y<0)){var J=(-D+W)/(2*O);J>0&&J<1&&A.push(J);var ht=(-D-W)/(2*O);ht>0&&ht<1&&A.push(ht)}}for(var nt=A.length,Q=nt,xt=void 0;nt--;)Z=A[nt],xt=1-Z,T[0][nt]=xt*xt*xt*g+3*xt*xt*Z*E+3*xt*Z*Z*m+Z*Z*Z*b,T[1][nt]=xt*xt*xt*y+3*xt*xt*Z*C+3*xt*Z*Z*M+Z*Z*Z*S;return T[0][Q]=g,T[1][Q]=y,T[0][Q+1]=b,T[1][Q+1]=S,T[0].length=T[1].length=Q+2,{min:{x:Math.min.apply(0,T[0]),y:Math.min.apply(0,T[1])},max:{x:Math.max.apply(0,T[0]),y:Math.max.apply(0,T[1])}}},r=function(g,y,E,C,m,M,b,S){if(!(Math.max(g,E)<Math.min(m,b)||Math.min(g,E)>Math.max(m,b)||Math.max(y,C)<Math.min(M,S)||Math.min(y,C)>Math.max(M,S))){var A=(g*C-y*E)*(m-b)-(g-E)*(m*S-M*b),T=(g*C-y*E)*(M-S)-(y-C)*(m*S-M*b),O=(g-E)*(M-S)-(y-C)*(m-b);if(!!O){var D=A/O,L=T/O,Z=+D.toFixed(2),U=+L.toFixed(2);if(!(Z<+Math.min(g,E).toFixed(2)||Z>+Math.max(g,E).toFixed(2)||Z<+Math.min(m,b).toFixed(2)||Z>+Math.max(m,b).toFixed(2)||U<+Math.min(y,C).toFixed(2)||U>+Math.max(y,C).toFixed(2)||U<+Math.min(M,S).toFixed(2)||U>+Math.max(M,S).toFixed(2)))return{x:D,y:L}}}},e=function(g,y,E){return y>=g.x&&y<=g.x+g.width&&E>=g.y&&E<=g.y+g.height},n=function(g,y,E,C){return g===null&&(g=y=E=C=0),y===null&&(y=g.y,E=g.width,C=g.height,g=g.x),{x:g,y,width:E,w:E,height:C,h:C,x2:g+E,y2:y+C,cx:g+E/2,cy:y+C/2,r1:Math.min(E,C)/2,r2:Math.max(E,C)/2,r0:Math.sqrt(E*E+C*C)/2,path:c(g,y,E,C),vb:[g,y,E,C].join(" ")}},a=function(g,y){return g=n(g),y=n(y),e(y,g.x,g.y)||e(y,g.x2,g.y)||e(y,g.x,g.y2)||e(y,g.x2,g.y2)||e(g,y.x,y.y)||e(g,y.x2,y.y)||e(g,y.x,y.y2)||e(g,y.x2,y.y2)||(g.x<y.x2&&g.x>y.x||y.x<g.x2&&y.x>g.x)&&(g.y<y.y2&&g.y>y.y||y.y<g.y2&&y.y>g.y)},u=function(g,y,E,C,m,M,b,S){t(g)||(g=[g,y,E,C,m,M,b,S]);var A=f.apply(null,g);return n(A.min.x,A.min.y,A.max.x-A.min.x,A.max.y-A.min.y)},l=function(g,y,E,C,m,M,b,S,A){var T=1-A,O=Math.pow(T,3),D=Math.pow(T,2),L=A*A,Z=L*A,U=O*g+D*3*A*E+T*3*A*A*m+Z*b,Y=O*y+D*3*A*C+T*3*A*A*M+Z*S,W=g+2*A*(E-g)+L*(m-2*E+g),J=y+2*A*(C-y)+L*(M-2*C+y),ht=E+2*A*(m-E)+L*(b-2*m+E),nt=C+2*A*(M-C)+L*(S-2*M+C),Q=T*g+A*E,xt=T*y+A*C,_t=T*m+A*b,Nt=T*M+A*S,rt=90-Math.atan2(W-ht,J-nt)*180/Math.PI;return{x:U,y:Y,m:{x:W,y:J},n:{x:ht,y:nt},start:{x:Q,y:xt},end:{x:_t,y:Nt},alpha:rt}},h=function(g,y,E){var C=u(g),m=u(y);if(!a(C,m))return E?0:[];for(var M=o.apply(0,g),b=o.apply(0,y),S=~~(M/8),A=~~(b/8),T=[],O=[],D={},L=E?0:[],Z=0;Z<S+1;Z++){var U=l.apply(0,g.concat(Z/S));T.push({x:U.x,y:U.y,t:Z/S})}for(var Y=0;Y<A+1;Y++){var W=l.apply(0,y.concat(Y/A));O.push({x:W.x,y:W.y,t:Y/A})}for(var J=0;J<S;J++)for(var ht=0;ht<A;ht++){var nt=T[J],Q=T[J+1],xt=O[ht],_t=O[ht+1],Nt=Math.abs(Q.x-nt.x)<.001?"y":"x",rt=Math.abs(_t.x-xt.x)<.001?"y":"x",q=r(nt.x,nt.y,Q.x,Q.y,xt.x,xt.y,_t.x,_t.y);if(q){if(D[q.x.toFixed(4)]===q.y.toFixed(4))continue;D[q.x.toFixed(4)]=q.y.toFixed(4);var G=nt.t+Math.abs((q[Nt]-nt[Nt])/(Q[Nt]-nt[Nt]))*(Q.t-nt.t),N=xt.t+Math.abs((q[rt]-xt[rt])/(_t[rt]-xt[rt]))*(_t.t-xt.t);G>=0&&G<=1&&N>=0&&N<=1&&(E?L++:L.push({x:q.x,y:q.y,t1:G,t2:N}))}}return L},p=function(g,y,E){g=s(g),y=s(y);for(var C=void 0,m=void 0,M=void 0,b=void 0,S=void 0,A=void 0,T=void 0,O=void 0,D=void 0,L=void 0,Z=E?0:[],U=0,Y=g.length;U<Y;U++){var W=g[U];if(W[0]==="M")C=S=W[1],m=A=W[2];else{W[0]==="C"?(D=[C,m].concat(W.slice(1)),C=D[6],m=D[7]):(D=[C,m,C,m,S,A,S,A],C=S,m=A);for(var J=0,ht=y.length;J<ht;J++){var nt=y[J];if(nt[0]==="M")M=T=nt[1],b=O=nt[2];else{nt[0]==="C"?(L=[M,b].concat(nt.slice(1)),M=L[6],b=L[7]):(L=[M,b,M,b,T,O,T,O],M=T,b=O);var Q=h(D,L,E);if(E)Z+=Q;else{for(var xt=0,_t=Q.length;xt<_t;xt++)Q[xt].segment1=U,Q[xt].segment2=J,Q[xt].bez1=D,Q[xt].bez2=L;Z=Z.concat(Q)}}}}}return Z};P.exports=function(g,y){return p(g,y)}},function(P,x){function i(s,v){var o=[],f=[];function r(e,n){if(e.length===1)o.push(e[0]),f.push(e[0]);else{for(var a=[],u=0;u<e.length-1;u++)u===0&&o.push(e[0]),u===e.length-2&&f.push(e[u+1]),a[u]=[(1-n)*e[u][0]+n*e[u+1][0],(1-n)*e[u][1]+n*e[u+1][1]];r(a,n)}}return s.length&&r(s,v),{left:o,right:f.reverse()}}function t(s,v,o){var f=[[s[1],s[2]]];o=o||2;var r=[];v[0]==="A"?(f.push(v[6]),f.push(v[7])):v[0]==="C"?(f.push([v[1],v[2]]),f.push([v[3],v[4]]),f.push([v[5],v[6]])):v[0]==="S"||v[0]==="Q"?(f.push([v[1],v[2]]),f.push([v[3],v[4]])):f.push([v[1],v[2]]);for(var e=f,n=1/o,a=0;a<o-1;a++){var u=n/(1-n*a),l=i(e,u);r.push(l.left),e=l.right}r.push(e);var h=r.map(function(p){var d=[];return p.length===4&&(d.push("C"),d=d.concat(p[2])),p.length>=3&&(p.length===3&&d.push("Q"),d=d.concat(p[1])),p.length===2&&d.push("L"),d=d.concat(p[p.length-1]),d});return h}function c(s,v,o){if(o===1)return[[].concat(s)];var f=[];if(v[0]==="L"||v[0]==="C"||v[0]==="Q")f=f.concat(t(s,v,o));else{var r=[].concat(s);r[0]==="M"&&(r[0]="L");for(var e=0;e<=o-1;e++)f.push(r)}return f}P.exports=function(v,o){if(v.length===1)return v;var f=v.length-1,r=o.length-1,e=f/r,n=[];if(v.length===1&&v[0][0]==="M"){for(var a=0;a<r-f;a++)v.push(v[0]);return v}for(var u=0;u<r;u++){var l=Math.floor(e*u);n[l]=(n[l]||0)+1}var h=n.reduce(function(p,d,g){return g===f?p.concat(v[f]):p.concat(c(v[g],v[g+1],d))},[]);return h.unshift(v[0]),(o[r]==="Z"||o[r]==="z")&&h.push("Z"),h}},function(P,x,i){var t=i(310);function c(v,o,f){var r=null,e=f;return o<e&&(e=o,r="add"),v<e&&(e=v,r="del"),{type:r,min:e}}var s=function(o,f){var r=o.length,e=f.length,n=void 0,a=void 0,u=0;if(r===0||e===0)return null;for(var l=[],h=0;h<=r;h++)l[h]=[],l[h][0]={min:h};for(var p=0;p<=e;p++)l[0][p]={min:p};for(var d=1;d<=r;d++){n=o[d-1];for(var g=1;g<=e;g++){a=f[g-1],t(n,a)?u=0:u=1;var y=l[d-1][g].min+1,E=l[d][g-1].min+1,C=l[d-1][g-1].min+u;l[d][g]=c(y,E,C)}}return l};P.exports=function(o,f){var r=s(o,f),e=o.length,n=f.length,a=[],u=1,l=1;if(r[e][n]!==e){for(var h=1;h<=e;h++){var p=r[h][h].min;l=h;for(var d=u;d<=n;d++)r[h][d].min<p&&(p=r[h][d].min,l=d);u=l,r[h][u].type&&a.push({index:h-1,type:r[h][u].type})}for(var g=a.length-1;g>=0;g--)u=a[g].index,a[g].type==="add"?o.splice(u,0,[].concat(o[u])):o.splice(u,1)}if(e=o.length,e<n)for(var y=0;y<n-e;y++)o[e-1][0]==="z"||o[e-1][0]==="Z"?o.splice(e-2,0,o[e-2]):o.push(o[e-1]);return o}},function(P,x,i){var t=i(3);P.exports=function(s,v){if(s.length!==v.length)return!1;var o=!0;return t(s,function(f,r){if(f!==v[r])return o=!1,!1}),o}},function(P,x){function i(c){var s=[];switch(c[0]){case"M":s.push([c[1],c[2]]);break;case"L":s.push([c[1],c[2]]);break;case"A":s.push([c[6],c[7]]);break;case"Q":s.push([c[3],c[4]]),s.push([c[1],c[2]]);break;case"T":s.push([c[1],c[2]]);break;case"C":s.push([c[5],c[6]]),s.push([c[1],c[2]]),s.push([c[3],c[4]]);break;case"S":s.push([c[3],c[4]]),s.push([c[1],c[2]]);break;case"H":s.push([c[1],c[1]]);break;case"V":s.push([c[1],c[1]]);break;default:}return s}function t(c,s,v){for(var o=[].concat(c),f=void 0,r=1/(v+1),e=i(s)[0],n=1;n<=v;n++)r*=n,f=Math.floor(c.length*r),f===0?o.unshift([e[0]*r+c[f][0]*(1-r),e[1]*r+c[f][1]*(1-r)]):o.splice(f,0,[e[0]*r+c[f][0]*(1-r),e[1]*r+c[f][1]*(1-r)]);return o}P.exports=function(s,v){if(s.length<=1)return s;for(var o=void 0,f=0;f<v.length;f++)if(s[f][0]!==v[f][0])switch(o=i(s[f]),v[f][0]){case"M":s[f]=["M"].concat(o[0]);break;case"L":s[f]=["L"].concat(o[0]);break;case"A":s[f]=[].concat(v[f]),s[f][6]=o[0][0],s[f][7]=o[0][1];break;case"Q":if(o.length<2)if(f>0)o=t(o,s[f-1],1);else{s[f]=v[f];break}s[f]=["Q"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;case"T":s[f]=["T"].concat(o[0]);break;case"C":if(o.length<3)if(f>0)o=t(o,s[f-1],2);else{s[f]=v[f];break}s[f]=["C"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;case"S":if(o.length<2)if(f>0)o=t(o,s[f-1],1);else{s[f]=v[f];break}s[f]=["S"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;default:s[f]=v[f]}return s}},function(P,x,i){var t={lc:i(313),lowerCase:i(158),lowerFirst:i(106),substitute:i(314),uc:i(315),upperCase:i(159),upperFirst:i(64)};P.exports=t},function(P,x,i){P.exports=i(158)},function(P,x){var i=function(c,s){return!c||!s?c:c.replace(/\\?\{([^{}]+)\}/g,function(v,o){return v.charAt(0)==="\\"?v.slice(1):s[o]===void 0?"":s[o]})};P.exports=i},function(P,x,i){P.exports=i(159)},function(P,x,i){var t=i(14),c={getType:i(113),isArray:i(5),isArrayLike:i(15),isBoolean:i(60),isFunction:i(13),isNil:i(6),isNull:i(317),isNumber:i(11),isObject:i(22),isObjectLike:i(63),isPlainObject:i(28),isPrototype:i(114),isType:t,isUndefined:i(318),isString:i(12),isRegExp:i(319),isDate:i(111),isArguments:i(320),isError:i(321)};P.exports=c},function(P,x){var i=function(c){return c===null};P.exports=i},function(P,x){var i=function(c){return c===void 0};P.exports=i},function(P,x,i){var t=i(14),c=function(v){return t(v,"RegExp")};P.exports=c},function(P,x,i){var t=i(14),c=function(v){return t(v,"Arguments")};P.exports=c},function(P,x,i){var t=i(14),c=function(v){return t(v,"Error")};P.exports=c},function(P,x){function i(t,c,s){var v=void 0;return function(){var o=this,f=arguments,r=function(){v=null,s||t.apply(o,f)},e=s&&!v;clearTimeout(v),v=setTimeout(r,c),e&&t.apply(o,f)}}P.exports=i},function(P,x,i){var t=i(15),c=function(v,o){if(!t(v))return-1;var f=Array.prototype.indexOf;if(f)return f.call(v,o);for(var r=-1,e=0;e<v.length;e++)if(v[e]===o){r=e;break}return r};P.exports=c},function(P,x,i){var t=i(13),c=i(40),s=function(o,f,r){return t(r)?!!r(o,f):c(o,f)};P.exports=s},function(P,x,i){var t=i(3),c=i(15),s=function(o,f){if(!c(o))return o;var r=[];return t(o,function(e,n){r.push(f(e,n))}),r};P.exports=s},function(P,x,i){var t=i(3),c=i(28),s=Object.prototype.hasOwnProperty,v=function(f,r){if(f===null||!c(f))return{};var e={};return t(r,function(n){s.call(f,n)&&(e[n]=f[n])}),e};P.exports=v},function(P,x){function i(t,c,s){var v=void 0,o=void 0,f=void 0,r=void 0,e=0;s||(s={});var n=function(){e=s.leading===!1?0:Date.now(),v=null,r=t.apply(o,f),v||(o=f=null)},a=function(){var l=Date.now();!e&&s.leading===!1&&(e=l);var h=c-(l-e);return o=this,f=arguments,h<=0||h>c?(v&&(clearTimeout(v),v=null),e=l,r=t.apply(o,f),v||(o=f=null)):!v&&s.trailing!==!1&&(v=setTimeout(n,h)),r};return a.cancel=function(){clearTimeout(v),e=0,v=o=f=null},a}P.exports=i},function(P,x,i){var t=i(0),c=i(18),s=t.PathUtil;function v(M){var b=M.start,S=M.end,A=M.getWidth(),T=M.getHeight(),O=200,D,L,Z,U,Y;return M.isPolar?(U=M.getRadius(),Z=M.getCenter(),D=M.startAngle,L=M.endAngle,Y=new c.Fan({attrs:{x:Z.x,y:Z.y,rs:0,re:U+O,startAngle:D,endAngle:D}}),Y.endState={endAngle:L}):(Y=new c.Rect({attrs:{x:b.x-O,y:S.y-O,width:M.isTransposed?A+O*2:0,height:M.isTransposed?0:T+O*2}}),M.isTransposed?Y.endState={height:T+O*2}:Y.endState={width:A+O*2}),Y.isClip=!0,Y}function o(M){if(t.isEmpty(M))return null;var b=M[0].x,S=M[0].x,A=M[0].y,T=M[0].y;return t.each(M,function(O){b=b>O.x?O.x:b,S=S<O.x?O.x:S,A=A>O.y?O.y:A,T=T<O.y?O.y:T}),{minX:b,maxX:S,minY:A,maxY:T,centerX:(b+S)/2,centerY:(A+T)/2}}function f(M,b){var S=M.points||M.get("origin").points,A=o(S),T,O,D=b.startAngle,L=b.endAngle,Z=L-D;return b.isTransposed?(T=A.maxY*Z,O=A.minY*Z):(T=A.maxX*Z,O=A.minX*Z),T+=D,O+=D,{startAngle:O,endAngle:T}}function r(M,b,S){var A={};return M.delay&&(A.delay=t.isFunction(M.delay)?M.delay(b,S):M.delay),A.easing=t.isFunction(M.easing)?M.easing(b,S):M.easing,A.duration=t.isFunction(M.duration)?M.duration(b,S):M.duration,A.callback=M.callback,A}function e(M,b){var S=M._id,A=M.get("index"),T=M.getBBox(),O=M.get("origin").points,D=(T.minX+T.maxX)/2,L;O[0].y-O[1].y<=0?L=T.maxY:L=T.minY;var Z=[D,L,1];M.apply(Z),M.attr("transform",[["t",-D,-L],["s",1,.01],["t",D,L]]);var U={transform:[["t",-D,-L],["s",1,100],["t",D,L]]},Y=r(b,A,S,U);M.animate(U,Y.duration,Y.easing,Y.callback,Y.delay)}function n(M,b){var S=M._id,A=M.get("index"),T=M.getBBox(),O=M.get("origin").points,D,L=(T.minY+T.maxY)/2;O[0].y-O[1].y>0?D=T.maxX:D=T.minX;var Z=[D,L,1];M.apply(Z),M.attr({transform:[["t",-D,-L],["s",.01,1],["t",D,L]]});var U={transform:[["t",-D,-L],["s",100,1],["t",D,L]]},Y=r(b,A,S,U);M.animate(U,Y.duration,Y.easing,Y.callback,Y.delay)}function a(M,b){var S={lineWidth:0,opacity:0},A=M._id,T=M.get("index"),O=r(b,T,A,S);M.animate(S,O.duration,O.easing,function(){M.remove()},O.delay)}function u(M,b,S){var A=M._id,T=M.get("index"),O,D;if(S.isPolar&&M.name!=="point")O=S.getCenter().x,D=S.getCenter().y;else{var L=M.getBBox();O=(L.minX+L.maxX)/2,D=(L.minY+L.maxY)/2}var Z=[O,D,1];M.apply(Z),M.attr({transform:[["t",-O,-D],["s",.01,.01],["t",O,D]]});var U={transform:[["t",-O,-D],["s",100,100],["t",O,D]]},Y=r(b,T,A,U);M.animate(U,Y.duration,Y.easing,Y.callback,Y.delay)}function l(M,b,S){var A=M._id,T=M.get("index"),O,D;if(S.isPolar&&M.name!=="point")O=S.getCenter().x,D=S.getCenter().y;else{var L=M.getBBox();O=(L.minX+L.maxX)/2,D=(L.minY+L.maxY)/2}var Z=[O,D,1];M.apply(Z);var U={transform:[["t",-O,-D],["s",.01,.01],["t",O,D]]},Y=r(b,T,A,U);M.animate(U,Y.duration,Y.easing,function(){M.remove()},Y.delay)}function h(M,b){if(M.get("type")==="path"){var S=M._id,A=M.get("index"),T=s.pathToAbsolute(M.attr("path"));M.attr("path",[T[0]]);var O={path:T},D=r(b,A,S,O);M.animate(O,D.duration,D.easing,D.callback,D.delay)}}function p(M,b){if(M.get("type")==="path"){var S=M._id,A=M.get("index"),T=s.pathToAbsolute(M.attr("path")),O={path:[T[0]]},D=r(b,A,S,O);M.animate(O,D.duration,D.easing,function(){M.remove()},D.delay)}}function d(M,b,S,A,T){var O=v(S),D=M.get("canvas"),L=M._id,Z=M.get("index"),U;A?(O.attr("startAngle",A),O.attr("endAngle",A),U={endAngle:T}):U=O.endState,O.set("canvas",D),M.attr("clip",O),M.setSilent("animating",!0);var Y=r(b,Z,L,U);O.animate(U,Y.duration,Y.easing,function(){M&&!M.get("destroyed")&&(M.attr("clip",null),M.setSilent("cacheShape",null),M.setSilent("animating",!1),O.remove())},Y.delay)}function g(M,b){var S=M._id,A=M.get("index"),T=t.isNil(M.attr("fillOpacity"))?1:M.attr("fillOpacity"),O=t.isNil(M.attr("strokeOpacity"))?1:M.attr("strokeOpacity");M.attr("fillOpacity",0),M.attr("strokeOpacity",0);var D={fillOpacity:T,strokeOpacity:O},L=r(b,A,S,D);M.animate(D,L.duration,L.easing,L.callback,L.delay)}function y(M,b){var S=M._id,A=M.get("index"),T={fillOpacity:0,strokeOpacity:0},O=r(b,A,S,T);M.animate(T,O.duration,O.easing,function(){M.remove()},O.delay)}function E(M,b,S){var A=f(M,S),T=A.endAngle,O=A.startAngle;d(M,b,S,O,T)}function C(M,b,S){if(M.name==="line"){var A=M.get("canvas"),T=M.get("cacheShape"),O=M._id,D=M.get("index"),L=new c.Rect({attrs:{x:S.start.x,y:S.end.y,width:S.getWidth(),height:S.getHeight()}});L.isClip=!0,L.set("canvas",A);var Z=s.pathToAbsolute(T.attrs.path),U=s.pathToAbsolute(M.attr("path")),Y=Z[1][1]-Z[0][1],W=Z[Z.length-1][1]+Y,J=U[U.length-1][2],ht=Z.concat([["L",W,J]]),nt=[0,0,1];M.apply(nt),M.attr("clip",L),M.attr("path",ht);var Q={transform:[["t",-Y,0]]},xt=r(b,D,O,Q);M.animate(Q,xt.duration,xt.easing,function(){M&&!M.get("destroyed")&&(M.attr("path",U),M.attr({transform:[["t",Y,0]]}),M.attr("clip",null),M.setSilent("cacheShape",null),L.remove())},xt.delay)}}function m(M,b,S){if(M.name==="area"){var A=M.get("canvas"),T=M.get("cacheShape"),O=M._id,D=M.get("index"),L=new c.Rect({attrs:{x:S.start.x,y:S.end.y,width:S.getWidth(),height:S.getHeight()}});L.isClip=!0,L.set("canvas",A);var Z=s.pathToAbsolute(T.attrs.path),U=s.pathToAbsolute(M.attr("path")),Y=Z[1][1]-Z[0][1],W=Math.floor(Z.length/2),J=Z[W-1][1]+Y,ht=U[W-1][2],nt=[].concat(Z.slice(0,W),[["L",J,ht],["L",J,U[W][2]]],Z.slice(W)),Q=[0,0,1];M.apply(Q),M.attr("clip",L),M.attr("path",nt);var xt={transform:[["t",-Y,0]]},_t=r(b,D,O,xt);M.animate(xt,_t.duration,_t.easing,function(){M&&!M.get("destroyed")&&(M.attr("path",U),M.attr({transform:[["t",Y,0]]}),M.attr("clip",null),M.setSilent("cacheShape",null),L.remove())},_t.delay)}}P.exports={enter:{clipIn:d,zoomIn:u,pathIn:h,scaleInY:e,scaleInX:n,fanIn:E,fadeIn:g},leave:{lineWidthOut:a,zoomOut:l,pathOut:p,fadeOut:y},appear:{clipIn:d,zoomIn:u,pathIn:h,scaleInY:e,scaleInX:n,fanIn:E,fadeIn:g},update:{fadeIn:g,fanIn:E,lineSlideLeft:C,areaSlideLeft:m}}},function(P,x,i){function t(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function c(y,E){y.prototype=Object.create(E.prototype),y.prototype.constructor=y,s(y,E)}function s(y,E){return s=Object.setPrototypeOf||function(m,M){return m.__proto__=M,m},s(y,E)}var v=i(164),o=i(23),f=i(0),r=i(200),e=i(8),n=i(167),a="_origin",u=i(413);function l(y){var E=y.startAngle,C=y.endAngle;return!(!f.isNil(E)&&!f.isNil(C)&&C-E<Math.PI*2)}function h(y,E,C){var m=(y-E)/(C-E);return m>=0&&m<=1}function p(y,E){var C=!1;if(y){var m=y.type;if(m==="theta"){var M=y.start,b=y.end;C=h(E.x,M.x,b.x)&&h(E.y,M.y,b.y)}else{var S=y.invert(E);C=S.x>=0&&S.y>=0&&S.x<=1&&S.y<=1}}return C}var d={};f.each(o,function(y,E){var C=f.lowerFirst(E);d[C]=function(m){var M=new y(m);return this.addGeom(M),M}});var g=function(y){c(C,y);var E=C.prototype;E.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:e.animate,visible:!0}};function C(m){var M;M=y.call(this,m)||this;var b=t(M);return b._setTheme(),f.each(o,function(S,A){var T=f.lowerFirst(A);b[T]=function(O){O===void 0&&(O={}),O.viewTheme=b.get("viewTheme");var D=new S(O);return b.addGeom(D),D}}),b.init(),M}return E._setTheme=function(){var M=this,b=M.get("theme"),S={},A={};f.isObject(b)?A=b:f.indexOf(Object.keys(n),b)!==-1&&(A=n[b]),f.deepMix(S,e,A),M.set("viewTheme",S)},E.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},E._initOptions=function(){var M=this,b=f.mix({},M.get("options"));b.scales||(b.scales={}),b.coord||(b.coord={}),b.animate===!1&&this.set("animate",!1),(b.tooltip===!1||f.isNull(b.tooltip))&&this.set("tooltipEnable",!1),b.geoms&&b.geoms.length&&f.each(b.geoms,function(T){M._createGeom(T)});var S=M.get("scaleController");S&&(S.defs=b.scales);var A=M.get("coordController");A&&A.reset(b.coord),this.set("options",b)},E._createGeom=function(M){var b=M.type,S;this[b]&&(S=this[b](),f.each(M,function(A,T){if(S[T])if(f.isObject(A)&&A.field)if(A==="label")S[T](A.field,A.callback,A.cfg);else{var O;f.each(A,function(D,L){L!=="field"&&(O=D)}),S[T](A.field,O)}else S[T](A)}))},E._initControllers=function(){var M=this,b=M.get("options"),S=M.get("viewTheme"),A=M.get("canvas"),T=new r.Scale({viewTheme:S,defs:b.scales}),O=new r.Coord(b.coord);this.set("scaleController",T),this.set("coordController",O);var D=new r.Axis({canvas:A,viewTheme:S});this.set("axisController",D);var L=new r.Guide({viewTheme:S,options:b.guides||[]});this.set("guideController",L)},E._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},E._initGeoms=function(){for(var M=this.get("geoms"),b=this.get("filteredData"),S=this.get("coord"),A=this.get("_id"),T=0;T<M.length;T++){var O=M[T];O.set("data",b),O.set("coord",S),O.set("_id",A+"-geom"+T),O.set("keyFields",this.get("keyFields")),O.init()}},E._clearGeoms=function(){for(var M=this,b=M.get("geoms"),S=0;S<b.length;S++){var A=b[S];A.clear()}},E._removeGeoms=function(){for(var M=this,b=M.get("geoms");b.length>0;){var S=b.shift();S.destroy()}},E._drawGeoms=function(){this.emit("beforedrawgeoms");for(var M=this.get("geoms"),b=this.get("coord"),S=0;S<M.length;S++){var A=M[S];A.setCoord(b),A.paint()}this.emit("afterdrawgeoms")},E.isShapeInView=function(M){var b=this.get("_id"),S=M._id;if(S)return S.split("-")[0]===b;for(var A=M;A;){if(A.get("viewId")===b)return!0;A=A.get("parent")}return!1},E.getViewRegion=function(){var M=this,b=M.get("parent"),S,A;if(b){var T=b.getViewRegion(),O=M._getViewRegion(T.start,T.end);S=O.start,A=O.end}else S=M.get("start"),A=M.get("end");return{start:S,end:A}},E._getViewRegion=function(M,b){var S=this.get("start"),A=this.get("end"),T=S.x,O=1-A.y,D=A.x,L=1-S.y,Z=this.get("padding"),U=f.toAllPadding(Z),Y=U[0],W=U[1],J=U[2],ht=U[3],nt={x:T*(b.x-M.x)+M.x+ht,y:O*(b.y-M.y)+M.y-J},Q={x:D*(b.x-M.x)+M.x-W,y:L*(b.y-M.y)+M.y+Y};return{start:nt,end:Q}},E._createCoord=function(){var M=this.get("coordController"),b=this.getViewRegion(),S=M.createCoord(b.start,b.end);this.set("coord",S)},E._renderAxes=function(){var M=this.get("options"),b=M.axes;if(b!==!1){var S=this.get("axisController");S.container=this.get("backPlot"),S.coord=this.get("coord"),S.options=b||{};var A=this.getXScale(),T=this.getYScales(),O=this.get("_id");S.createAxis(A,T,O)}},E._renderGuides=function(){var M=this.get("guideController");if(!f.isEmpty(M.options)){var b=this.get("coord");M.view=this,M.backContainer=this.get("backPlot"),M.frontContainer=this.get("frontPlot"),M.xScales=this._getScales("x"),M.yScales=this._getScales("y"),M.render(b)}},E._bindEvents=function(){var M=new r.Event({view:this,canvas:this.get("canvas")});M.bindEvents(),this.set("eventController",M)},E._clearEvents=function(){var M=this.get("eventController");M&&M.clearEvents()},E._getScales=function(M){for(var b=this.get("geoms"),S={},A=0;A<b.length;A++){var T=b[A],O=M==="x"?T.getXScale():T.getYScale();O&&!S[O.field]&&(S[O.field]=O)}return S},E._adjustScale=function(){this._setCatScalesRange();for(var M=this.get("geoms"),b=this.get("scaleController"),S=b.defs,A=0;A<M.length;A++){var T=M[A];if(T.get("type")==="interval"){var O=T.getYScale(),D=O.field,L=O.min,Z=O.max,U=O.type;!(S[D]&&S[D].min)&&U!=="time"&&(L>0?O.change({min:0}):Z<=0&&O.change({max:0}))}}},E._setCatScalesRange=function(){var M=this,b=M.get("coord"),S=M.get("viewTheme"),A=M.getXScale(),T=M.getYScales(),O=[];A&&O.push(A),O=O.concat(T);var D=b.isPolar&&l(b),L=M.get("scaleController"),Z=L.defs;f.each(O,function(U){if((U.isCategory||U.isIdentity)&&U.values&&!(Z[U.field]&&Z[U.field].range)){var Y=U.values.length,W;if(Y===1)W=[.5,1];else{var J=1,ht=0;D?b.isTransposed?(J=S.widthRatio.multiplePie,ht=1/Y*J,W=[ht/2,1-ht/2]):W=[0,1-1/Y]:(ht=1/Y*1/2,W=[ht,1-ht])}U.range=W}})},E.getXScale=function(){var M=this.get("geoms"),b=null;return f.isEmpty(M)||(b=M[0].getXScale()),b},E.getYScales=function(){for(var M=this.get("geoms"),b=[],S=0;S<M.length;S++){var A=M[S],T=A.getYScale();T&&f.indexOf(b,T)===-1&&b.push(T)}return b},E.getXY=function(M){var b=this,S=b.get("coord"),A=b._getScales("x"),T=b._getScales("y"),O,D;for(var L in M)A[L]&&(O=A[L].scale(M[L])),T[L]&&(D=T[L].scale(M[L]));return!f.isNil(O)&&!f.isNil(D)?S.convert({x:O,y:D}):null},E.getSnapRecords=function(M){var b=this,S=b.get("geoms"),A=[];return f.each(S,function(T){var O=T.get("dataArray"),D;f.each(O,function(L){D=T.findPoint(M,L),D&&A.push(D)})}),A},E.addGeom=function(M){var b=this,S=b.get("geoms");S.push(M),M.set("view",b);var A=b.get("viewContainer");M.set("container",A),M.set("animate",b.get("animate")),M.bindEvents()},E.removeGeom=function(M){var b=this.get("geoms");f.Array.remove(b,M),M.destroy()},E.createScale=function(M,b){var S=this.get("scales"),A=this.get("parent"),T=S[M];if(!b){var O=this.get("filteredData"),D=this._getFieldsForLegend();O.length&&!D.includes(M)?b=O:b=this.get("data")}var L=this.get("scaleController");if(T){if(T.sync){var U=L.createScale(M,b);this._syncScale(T,U)}}else{if(T=L.createScale(M,b),T.sync&&A){var Z=A.createScale(M,b);T=this._getSyncScale(Z,T)}S[M]=T}return T},E._getFieldsForLegend=function(){var M=[],b=this.get("geoms");return f.each(b,function(S){var A=S.getFieldsForLegend();M=M.concat(A)}),f.uniq(M)},E._getSyncScale=function(M,b){return M.type!==b.type?b:(this._syncScale(M,b),M)},E._syncScale=function(M,b){var S=f.union(M.values,b.values);if(b.isLinear){var A=Math.max(M.max,b.max),T=Math.min(M.min,b.min);(M.max!==A||M.min!==T)&&M.change({min:T,max:A,values:S})}S.length!==M.values.length&&M.change({values:S})},E.getFilteredValues=function(M){var b=this.get("scales")[M],S=b.values,A=this._getFilters(),T;return A&&A[M]?T=S.filter(A[M]):T=S.slice(0),T},E.getFilteredOutValues=function(M){var b=this.get("scales")[M],S=b.values,A=this._getFilters(),T;return A&&A[M]?T=S.filter(function(){return!A[M].apply(A,arguments)}):T=[],T},E.filter=function(M,b){var S=this.get("options");S.filters||(S.filters={}),S.filters[M]=b,this.get("scaleController").filters=S.filters},E._getFilters=function(){var M=this.get("options");return M.filters},E.execFilter=function(M){var b=this,S=b._getFilters();return S&&(M=M.filter(function(A){var T=!0;return f.each(S,function(O,D){if(O&&(T=O(A[D],A),!T))return!1}),T})),M},E.axis=function(M,b){var S=this.get("options");if(M===!1)S.axes=!1;else{S.axes||(S.axes={});var A=S.axes;A[M]=b}return this},E.guide=function(){return this.get("guideController")},E._getKeyFields=function(M){var b=[];f.each(M,function(S,A){S.key&&b.push(A)}),this.set("keyFields",b)},E.scale=function(M,b){var S=this.get("options"),A=S.scales;return f.isObject(M)?f.mix(A,M):A[M]=b,this._getKeyFields(A),this},E.tooltip=function(M){return this.set("tooltipEnable",M),this},E.animate=function(M){var b=this.get("options");return b.animate=M,this.set("animate",M),this},E.changeOptions=function(M){return this.set("options",M),this._initOptions(M),this},E.getViewsByPoint=function(M){var b=[],S=this.get("views");return p(this.get("coord"),M)&&b.push(this),f.each(S,function(A){A.get("visible")&&p(A.get("coord"),M)&&b.push(A)}),b},E.eachShape=function(M){var b=this,S=b.get("views"),A=b.get("canvas");f.each(S,function(O){O.eachShape(M)});var T=this.get("geoms");return f.each(T,function(O){var D=O.getShapes();f.each(D,function(L){var Z=L.get("origin");if(f.isArray(Z)){var U=Z.map(function(W){return W[a]});M(U,L,O,b)}else{var Y=Z[a];M(Y,L,O,b)}})}),A.draw(),this},E.filterShape=function(M){var b=function(A,T,O,D){M(A,T,O,D)?T.show():T.hide()};return this.eachShape(b),this},E.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner");var M=this.get("options");M.geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},E.clear=function(){var M=this.get("options");return M.filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},E.coord=function(M,b){var S=this.get("coordController");return S.reset({type:M,cfg:b}),S},E.resetCoord=function(){this._createCoord()},E.source=function(M,b){return this._initData(M),b&&this.scale(b),this.emit("setdata"),this},E.changeData=function(M){return this.emit("beforechangedata"),this._initData(M),this.emit("afterchangedata"),this.repaint(),this},E._initData=function(M){var b=this.get("dataView");b&&(b.off("change",f.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),M&&M.isDataView&&(M.on("change",f.wrapBehavior(this,"_onViewChange")),this.set("dataView",M),M=M.rows),this.set("data",M)},E._onViewChange=function(){this.emit("beforechangedata");var M=this.get("dataView"),b=M.rows;this.set("data",b),this.emit("afterchangedata"),this.repaint()},E.beforeRender=function(){var M=this.get("views");f.each(M,function(b){b.beforeRender()}),this.initView()},E.drawComponents=function(){var M=this.get("views");f.each(M,function(b){b.drawComponents()}),this._renderAxes(),this._renderGuides()},E.drawCanvas=function(M){if(!M){var b=this.get("views"),S=this.get("backPlot");S.sort();var A=this.get("canvas"),T=this.get("animate");if(T){var O=this.get("isUpdate");f.each(b,function(D){u.execAnimation(D,O)}),u.execAnimation(this,O)}else A.draw()}},E.render=function(M){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(M),this.emit("afterrender"),this.set("rendered",!0),this},E.initView=function(){var M=this.get("data")||[],b=this.execFilter(M);this.set("filteredData",b),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},E.paint=function(){var M=this.get("views");f.each(M,function(S){S.paint()});var b=this.get("data");f.isEmpty(b)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},E.changeVisible=function(M,b){var S=this.get("geoms");if(f.each(S,function(T){T.changeVisible(M,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(M),this.get("guideController")&&this.get("guideController").changeVisible(M),!b){var A=this.get("canvas");A.draw()}},E.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},E.destroy=function(){this._clearEvents();var M=this.get("dataView");M&&M.off("change",f.getWrapBehavior(this,"_onViewChange")),this.clear(),y.prototype.destroy.call(this)},C}(v);P.exports=g},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(6),s=i(5),v=i(3),o=i(33),f=function(r){t(e,r);function e(a){var u;return u=r.call(this,a)||this,u.names=["x","y"],u.type="position",u}var n=e.prototype;return n.mapping=function(u,l){var h=this.scales,p=this.coord,d=h[0],g=h[1],y,E,C;if(c(u)||c(l))return[];if(s(l)&&s(u)){y=[],E=[];for(var m=0,M=0,b=u.length,S=l.length;m<b&&M<S;m++,M++)C=p.convertPoint({x:d.scale(u[m]),y:g.scale(l[M])}),y.push(C.x),E.push(C.y)}else if(s(l))u=d.scale(u),E=[],v(l,function(T){T=g.scale(T),C=p.convertPoint({x:u,y:T}),y&&y!==C.x?(s(y)||(y=[y]),y.push(C.x)):y=C.x,E.push(C.y)});else if(s(u))l=g.scale(l),y=[],v(u,function(T){T=d.scale(T),C=p.convertPoint({x:T,y:l}),E&&E!==C.y?(s(E)||(E=[E]),E.push(C.y)):E=C.y,y.push(C.x)});else{u=d.scale(u),l=g.scale(l);var A=p.convertPoint({x:u,y:l});y=A.x,E=A.y}return[y,E]},e}(o);P.exports=f},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(12),s=i(165),v=i(33),o=function(f){t(r,f);function r(n){var a;return a=f.call(this,n)||this,a.names=["color"],a.type="color",a.gradient=null,c(a.values)&&(a.linear=!0),a}var e=r.prototype;return e.getLinearValue=function(a){var u=this.gradient;if(!u){var l=this.values;u=s.gradient(l),this.gradient=u}return u(a)},r}(v);P.exports=o},function(P,x,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(r){var e;return e=v.call(this,r)||this,e.names=["shape"],e.type="shape",e.gradient=null,e}var f=o.prototype;return f.getLinearValue=function(e){var n=this.values,a=Math.round((n.length-1)*e);return n[a]},o}(c);P.exports=s},function(P,x,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(f){var r;return r=v.call(this,f)||this,r.names=["size"],r.type="size",r.gradient=null,r}return o}(c);P.exports=s},function(P,x,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(f){var r;return r=v.call(this,f)||this,r.names=["opacity"],r.type="opacity",r.gradient=null,r}return o}(c);P.exports=s},function(P,x,i){var t=i(10),c=i(34),s=i(336),v=i(337),o=i(166),f=i(338),r=i(339);t(c.prototype,o),t(s.prototype,o,f),t(v.prototype,r),c.Jitter=i(340),c.Symmetric=i(341),c.Dodge=s,c.Stack=v,P.exports=c},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(34),s=i(3),v=1/2,o=1/2,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){this.marginRatio=v,this.dodgeRatio=o,this.adjustNames=["x","y"]},n.getDodgeOffset=function(u,l,h){var p=this,d=u.pre,g=u.next,y=g-d,E=y*p.dodgeRatio/h,C=p.marginRatio*E,m=1/2*(y-h*E-(h-1)*C)+((l+1)*E+l*C)-1/2*E-1/2*y;return(d+g)/2+m},n.processAdjust=function(u){var l=this,h=u.length,p=l.xField;s(u,function(d,g){for(var y=0,E=d.length;y<E;y++){var C=d[y],m=C[p],M={pre:E===1?m-1:m-.5,next:E===1?m+1:m+.5},b=l.getDodgeOffset(M,g,h);C[p]=b}})},e}(c);c.Dodge=f,P.exports=f},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(5),s=i(6),v=i(34),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){this.xField=null,this.yField=null},e.processAdjust=function(a){this.processStack(a)},e.processStack=function(a){var u=this,l=u.xField,h=u.yField,p=a.length,d={positive:{},negative:{}};u.reverseOrder&&(a=a.slice(0).reverse());for(var g=0;g<p;g++)for(var y=a[g],E=0,C=y.length;E<C;E++){var m=y[E],M=m[l]||0,b=m[h],S=M.toString();if(b=c(b)?b[1]:b,!s(b)){var A=b>=0?"positive":"negative";d[A][S]||(d[A][S]=0),m[h]=[d[A][S],b+d[A][S]],d[A][S]+=b}}},r}(v);v.Stack=o,P.exports=o},function(P,x,i){var t={merge:i(49),values:i(89)},c=i(160),s=i(3);P.exports={processAdjust:function(o){var f=this,r=t.merge(o),e=f.dodgeBy,n=o;e&&(n=c(r,e)),f.cacheMap={},f.adjDataArray=n,f.mergeData=r,f.adjustData(n,r),f.adjDataArray=null,f.mergeData=null},getDistribution:function(o){var f=this,r=f.adjDataArray,e=f.cacheMap,n=e[o];return n||(n={},s(r,function(a,u){var l=t.values(a,o);l.length||l.push(0),s(l,function(h){n[h]||(n[h]=[]),n[h].push(u)})}),e[o]=n),n},adjustDim:function(o,f,r,e,n){var a=this,u=a.getDistribution(o),l=a.groupData(r,o);s(l,function(h,p){p=parseFloat(p);var d;f.length===1?d={pre:f[0]-1,next:f[0]+1}:d=a.getAdjustRange(o,p,f),s(h,function(g){var y=g[o],E=u[y],C=E.indexOf(n);g[o]=a.getDodgeOffset(d,C,E.length)})})}}},function(P,x){P.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var c=this,s=c.xField,v=c.yField||"y",o=c.height,f={};c.reverseOrder&&(t=t.slice(0).reverse());for(var r=0,e=t.length;r<e;r++)for(var n=t[r],a=0,u=n.length;a<u;a++){var l=n[a],h=l.size||c.size,p=h*2/o,d=l[s];f[d]||(f[d]=p/2),l[v]=f[d],f[d]+=p}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(3),s=i(10),v={merge:i(49)},o=i(34),f=i(166),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},a.processAdjust=function(l){var h=this,p=v.merge(l);h.adjDataArray=l,h.mergeData=p,h.adjustData(l,p),h.adjFrames=null,h.mergeData=null},a.getAdjustOffset=function(l,h){var p=Math.random(),d=h-l,g=d*.05;return l+g+d*.9*p},a._adjustGroup=function(l,h,p,d){var g=this,y=g.getAdjustRange(h,p,d);c(l,function(E){E[h]=g.getAdjustOffset(y.pre,y.next)})},a.adjustDim=function(l,h,p){var d=this,g=d.groupData(p,l);c(g,function(y,E){E=parseFloat(E),d._adjustGroup(y,l,E,h)})},n}(o);s(r.prototype,f),o.Jitter=r,P.exports=r},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(3),s=i(148),v=i(5),o={merge:i(49)},f=i(34),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},a._getMax=function(l){var h=this,p=h.mergeData,d=s(p,function(E){var C=E[l];return v(C)?Math.max.apply(null,C):C}),g=d[l],y=v(g)?Math.max.apply(null,g):g;return y},a._getXValuesMax=function(){var l=this,h=l.yField,p=l.xField,d={},g=l.mergeData;return c(g,function(y){var E=y[p],C=y[h],m=v(C)?Math.max.apply(null,C):C;d[E]=d[E]||0,d[E]<m&&(d[E]=m)}),d},a.processAdjust=function(l){var h=this,p=o.merge(l);h.mergeData=p,h._processSymmetric(l),h.mergeData=null},a._processSymmetric=function(l){var h=this,p=h.xField,d=h.yField,g=h._getMax(d),y=l[0][0],E;y&&v(y[d])&&(E=h._getXValuesMax()),c(l,function(C){c(C,function(m){var M=m[d],b;if(v(M)){var S=m[p],A=E[S];b=(g-A)/2;var T=[];c(M,function(O){T.push(b+O)}),m[d]=T}else b=(g-M)/2,m[d]=[b,M+b]})})},n}(f);f.Symmetric=r,P.exports=r},function(P,x,i){var t,c,s=i(0),v=i(168),o="g2-tooltip",f="g2-legend",r=s.deepMix({},v,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(t={},t[""+f]={color:"#D9D9D9"},t),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(c={},c[""+o]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},c),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});P.exports=r},function(P,x,i){var t=i(91),c=i(198),s=i(393),v=i(394),o={getLabelsClass:function(r,e){var n=t;return r==="polar"?n=c:r==="theta"?n=s:(e==="interval"||e==="polygon")&&(n=v),n}};P.exports=o},function(P,x,i){var t=i(35);t.Base=t,t.Circle=i(368),t.Grid=i(187),t.Helix=i(369),t.Line=i(370),t.Polyline=i(371),P.exports=t},function(P,x,i){var t=i(2),c=i(170),s=i(171),v=i(351),o=i(352),f=function r(e){r.superclass.constructor.call(this,e)};f.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},t.extend(f,s),t.augment(f,{init:function(){f.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(e,n){if(e)if(t.isEmpty(e._getEvents())){var a=e.get("parent");if(a&&!n.propagationStopped)return this.getEmitter(a,n)}else return e},_getEventObj:function(e,n,a,u){var l=new c(e,n,!0,!0);return l.x=a.x,l.y=a.y,l.clientX=n.clientX,l.clientY=n.clientY,l.currentTarget=u,l.target=u,l},_triggerEvent:function(e,n){var a=this.getPointByClient(n.clientX,n.clientY),u=this.getShape(a.x,a.y,n),l=this.get("el"),h;if(e==="mousemove"){var p=this.get("preShape");if(p&&p!==u){var d=this._getEventObj("mouseleave",n,a,p);h=this.getEmitter(p,n),h&&h.emit("mouseleave",d),l.style.cursor="default"}if(u){var g=this._getEventObj("mousemove",n,a,u);if(h=this.getEmitter(u,n),h&&h.emit("mousemove",g),p!==u){var y=this._getEventObj("mouseenter",n,a,u);h&&h.emit("mouseenter",y,n)}}else{var E=this._getEventObj("mousemove",n,a,this);this.emit("mousemove",E)}this.set("preShape",u)}else{var C=this._getEventObj(e,n,a,u||this);h=this.getEmitter(u,n),h&&h!==this&&h.emit(e,C),this.emit(e,C)}u&&!u.get("destroyed")&&(l.style.cursor=u.attr("cursor")||"default")},_registEvents:function(){var e=this,n=e.get("el"),a=["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"];t.each(a,function(u){n.addEventListener(u,function(l){e._triggerEvent(u,l)},!1)}),n.addEventListener("touchstart",function(u){t.isEmpty(u.touches)||e._triggerEvent("touchstart",u.touches[0])},!1),n.addEventListener("touchmove",function(u){t.isEmpty(u.touches)||e._triggerEvent("touchmove",u.touches[0])},!1),n.addEventListener("touchend",function(u){t.isEmpty(u.changedTouches)||e._triggerEvent("touchend",u.changedTouches[0])},!1)},_scale:function(){var e=this.get("pixelRatio");this.scale(e,e)},_setGlobalParam:function(){var e=this.get("pixelRatio");e||this.set("pixelRatio",t.getRatio());var n=o[this.get("renderer")||"canvas"];this._cfg.renderer=n,this._cfg.canvas=this;var a=new v(this);this._cfg.timeline=a},_setContainer:function(){var e=this.get("containerId"),n=this.get("containerDOM");n||(n=document.getElementById(e),this.set("containerDOM",n)),t.modifyCSS(n,{position:"relative"})},_initPainter:function(){var e=this.get("containerDOM"),n=new this._cfg.renderer.painter(e);this._cfg.painter=n,this._cfg.canvasDOM=this._cfg.el=n.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var e=this.get("canvasDOM"),n=this.get("widthCanvas"),a=this.get("heightCanvas"),u=this.get("widthStyle"),l=this.get("heightStyle");e.style.width=u,e.style.height=l,e.setAttribute("width",n),e.setAttribute("height",a)},getWidth:function(){var e=this.get("pixelRatio"),n=this.get("width");return n*e},getHeight:function(){var e=this.get("pixelRatio"),n=this.get("height");return n*e},changeSize:function(e,n){var a=this.get("pixelRatio"),u=e*a,l=n*a;this.set("widthCanvas",u),this.set("heightCanvas",l),this.set("widthStyle",e+"px"),this.set("heightStyle",n+"px"),this.set("width",e),this.set("height",n),this._resize()},getPointByClient:function(e,n){var a=this.get("el"),u=this.get("pixelRatio")||1,l=a.getBoundingClientRect();return{x:(e-l.left)*u,y:(n-l.top)*u}},getClientByPoint:function(e,n){var a=this.get("el"),u=a.getBoundingClientRect(),l=this.get("pixelRatio")||1;return{clientX:e/l+u.left,clientY:n/l+u.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(e,n,a){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,n,a):f.superclass.getShape.call(this,e,n)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var e=this._cfg,n=e.containerDOM,a=e.canvasDOM;a&&n&&n.removeChild(a),e.timeline.stop(),f.superclass.destroy.call(this)}}),P.exports=f},function(P,x,i){var t=i(2);P.exports={canFill:!1,canStroke:!1,initAttrs:function(s){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(t.assign(this.getDefaultAttrs(),s)),this},getDefaultAttrs:function(){return{}},attr:function(s,v){var o=this;if(arguments.length===0)return o._attrs;if(t.isObject(s)){for(var f in s)this._setAttr(f,s[f]);return o.clearBBox(),this._cfg.hasUpdate=!0,o}return arguments.length===2?(this._setAttr(s,v),o.clearBBox(),this._cfg.hasUpdate=!0,o):o._attrs[s]},_setAttr:function(s,v){var o=this,f=this._attrs;if(f[s]=v,s==="fill"||s==="stroke"){f[s+"Style"]=v;return}if(s==="opacity"){f.globalAlpha=v;return}if(s==="clip"&&v){o._setClip(v);return}if(s==="path"&&o._afterSetAttrPath){o._afterSetAttrPath(v);return}if(s==="transform"){o.transform(v);return}s==="rotate"&&o.rotateAtStart(v)},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(s){s._cfg.renderer=this._cfg.renderer,s._cfg.canvas=this._cfg.canvas,s._cfg.parent=this._cfg.parent,s.hasFill=function(){return!0}}}},function(P,x,i){var t=i(2);function c(o){return o[0]===1&&o[1]===0&&o[3]===0&&o[4]===1&&o[6]===0&&o[7]===0}function s(o){return o[1]===0&&o[3]===0&&o[6]===0&&o[7]===0}function v(o,f){c(f)||(s(f)?(o[0]*=f[0],o[4]*=f[4]):t.mat3.multiply(o,o,f))}P.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(f,r){var e=this._attrs.matrix;return t.mat3.translate(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotate:function(f){var r=this._attrs.matrix;return t.mat3.rotate(r,r,f),this.clearTotalMatrix(),this.attr("matrix",r),this},scale:function(f,r){var e=this._attrs.matrix;return t.mat3.scale(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotateAtStart:function(f){var r=this._attrs.x||this._cfg.attrs.x,e=this._attrs.y||this._cfg.attrs.y;return Math.abs(f)>Math.PI*2&&(f=f/180*Math.PI),this.transform([["t",-r,-e],["r",f],["t",r,e]])},move:function(f,r){var e=this.get("x")||0,n=this.get("y")||0;return this.translate(f-e,r-n),this.set("x",f),this.set("y",r),this},transform:function(f){var r=this,e=this._attrs.matrix;return t.each(f,function(n){switch(n[0]){case"t":r.translate(n[1],n[2]);break;case"s":r.scale(n[1],n[2]);break;case"r":r.rotate(n[1]);break;case"m":r.attr("matrix",t.mat3.multiply([],e,n[1])),r.clearTotalMatrix();break;default:break}}),r},setTransform:function(f){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(f)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(f){return this.attr("matrix",f),this.clearTotalMatrix(),this},apply:function(f,r){var e;return r?e=this._getMatrixByRoot(r):e=this.attr("matrix"),t.vec3.transformMat3(f,f,e),this},_getMatrixByRoot:function(f){var r=this;f=f||r;for(var e=r,n=[];e!==f;)n.unshift(e),e=e.get("parent");n.unshift(e);var a=[1,0,0,0,1,0,0,0,1];return t.each(n,function(u){t.mat3.multiply(a,u.attr("matrix"),a)}),a},getTotalMatrix:function(){var f=this._cfg.totalMatrix;if(!f){f=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;if(r){var e=r.getTotalMatrix();v(f,e)}v(f,this.attr("matrix")),this._cfg.totalMatrix=f}return f},clearTotalMatrix:function(){},invert:function(f){var r=this.getTotalMatrix();if(s(r))f[0]/=r[0],f[1]/=r[4];else{var e=t.mat3.invert([],r);e&&t.vec3.transformMat3(f,f,e)}return this},resetTransform:function(f){var r=this.attr("matrix");c(r)||f.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}},function(P,x,i){var t=i(2),c={delay:"delay",rotate:"rotate"},s={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function v(r,e){var n={},a=e._attrs;for(var u in r.attrs)n[u]=a[u];return n}function o(r,e){var n={matrix:null,attrs:{}},a=e._attrs;for(var u in r)if(u==="transform")n.matrix=t.transform(e.getMatrix(),r[u]);else if(u==="rotate")n.matrix=t.transform(e.getMatrix(),[["r",r[u]]]);else if(u==="matrix")n.matrix=r[u];else{if(s[u]&&/^[r,R,L,l]{1}[\s]*\(/.test(r[u]))continue;!c[u]&&a[u]!==r[u]&&(n.attrs[u]=r[u])}return n}function f(r,e){var n=e.delay,a=Object.prototype.hasOwnProperty;return t.each(e.toAttrs,function(u,l){t.each(r,function(h){n<h.startTime+h.duration&&a.call(h.toAttrs,l)&&(delete h.toAttrs[l],delete h.fromAttrs[l])})}),e.toMatrix&&t.each(r,function(u){n<u.startTime+u.duration&&u.toMatrix&&delete u.toMatrix}),r}P.exports={animate:function(e,n,a,u,l){l===void 0&&(l=0);var h=this;h.set("animating",!0);var p=h.get("timeline");p||(p=h.get("canvas").get("timeline"),h.setSilent("timeline",p));var d=h.get("animators")||[];p._timer||p.initTimer(),t.isNumber(u)&&(l=u,u=null),t.isFunction(a)?(u=a,a="easeLinear"):a=a||"easeLinear";var g=o(e,h),y={fromAttrs:v(g,h),toAttrs:g.attrs,fromMatrix:t.clone(h.getMatrix()),toMatrix:g.matrix,duration:n,easing:a,callback:u,delay:l,startTime:p.getTime(),id:t.uniqueId()};d.length>0?d=f(d,y):p.addAnimator(h),d.push(y),h.setSilent("animators",d),h.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,n=this.get("animators");t.each(n,function(a){e.attr(a.toAttrs),a.toMatrix&&e.attr("matrix",a.toMatrix),a.callback&&a.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function(){var e=this,n=e.get("timeline"),a=n.getTime(),u=e.get("animators"),l=e.get("pause").pauseTime;return t.each(u,function(h){h.startTime=h.startTime+(a-l),h._paused=!1,h._pauseTime=null}),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",u),e}}},function(P,x,i){var t=i(9);t.Arc=i(175),t.Circle=i(176),t.Dom=i(177),t.Ellipse=i(178),t.Fan=i(179),t.Image=i(180),t.Line=i(181),t.Marker=i(95),t.Path=i(182),t.Polygon=i(183),t.Polyline=i(184),t.Rect=i(185),t.Text=i(186),P.exports=t},function(P,x,i){var t=i(2),c=i(93),s={arc:i(53),ellipse:i(174),line:i(52)},v=t.createDom('<canvas width="500" height="500"></canvas>'),o=v.getContext("2d");function f(M,b,S){return S.createPath(o),o.isPointInPath(M,b)}var r=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.r,L=A.startAngle,Z=A.endAngle,U=A.clockwise,Y=this.getHitLineWidth();return this.hasStroke()?c.arcline(T,O,D,L,Z,U,Y,b,S):!1},e=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.r,L=this.getHitLineWidth(),Z=this.hasFill(),U=this.hasStroke();return Z&&U?c.circle(T,O,D,b,S)||c.arcline(T,O,D,0,Math.PI*2,!1,L,b,S):Z?c.circle(T,O,D,b,S):U?c.arcline(T,O,D,0,Math.PI*2,!1,L,b,S):!1},n=function(b,S){var A=this._attrs,T=this.hasFill(),O=this.hasStroke(),D=A.x,L=A.y,Z=A.rx,U=A.ry,Y=this.getHitLineWidth(),W=Z>U?Z:U,J=Z>U?1:Z/U,ht=Z>U?U/Z:1,nt=[b,S,1],Q=[1,0,0,0,1,0,0,0,1];t.mat3.scale(Q,Q,[J,ht]),t.mat3.translate(Q,Q,[D,L]);var xt=t.mat3.invert([],Q);return t.vec3.transformMat3(nt,nt,xt),T&&O?c.circle(0,0,W,nt[0],nt[1])||c.arcline(0,0,W,0,Math.PI*2,!1,Y,nt[0],nt[1]):T?c.circle(0,0,W,nt[0],nt[1]):O?c.arcline(0,0,W,0,Math.PI*2,!1,Y,nt[0],nt[1]):!1},a=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke(),D=A._attrs,L=D.x,Z=D.y,U=D.rs,Y=D.re,W=D.startAngle,J=D.endAngle,ht=D.clockwise,nt=[1,0],Q=[b-L,S-Z],xt=t.vec2.angleTo(nt,Q);function _t(){var rt=s.arc.nearAngle(xt,W,J,ht);if(t.isNumberEqual(xt,rt)){var q=t.vec2.squaredLength(Q);if(U*U<=q&&q<=Y*Y)return!0}return!1}function Nt(){var rt=A.getHitLineWidth(),q={x:Math.cos(W)*U+L,y:Math.sin(W)*U+Z},G={x:Math.cos(W)*Y+L,y:Math.sin(W)*Y+Z},N={x:Math.cos(J)*U+L,y:Math.sin(J)*U+Z},at={x:Math.cos(J)*Y+L,y:Math.sin(J)*Y+Z};return!!(c.line(q.x,q.y,G.x,G.y,rt,b,S)||c.line(N.x,N.y,at.x,at.y,rt,b,S)||c.arcline(L,Z,U,W,J,ht,rt,b,S)||c.arcline(L,Z,Y,W,J,ht,rt,b,S))}return T&&O?_t()||Nt():T?_t():O?Nt():!1},u=function(b,S){var A=this._attrs;if(this.get("toDraw")||!A.img)return!1;(!this._cfg.attrs||this._cfg.attrs.img!==A.img)&&this._setAttrImg();var T=A.x,O=A.y,D=A.width,L=A.height;return c.rect(T,O,D,L,b,S)},l=function(b,S){var A=this._attrs,T=A.x1,O=A.y1,D=A.x2,L=A.y2,Z=this.getHitLineWidth();return this.hasStroke()?c.line(T,O,D,L,Z,b,S):!1},h=function(b,S){var A=this,T=A.get("segments"),O=A.hasFill(),D=A.hasStroke();function L(){if(!t.isEmpty(T)){for(var Z=A.getHitLineWidth(),U=0,Y=T.length;U<Y;U++)if(T[U].isInside(b,S,Z))return!0;return!1}}return O&&D?f(b,S,A)||L():O?f(b,S,A):D?L():!1},p=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke();function D(){var L=A._attrs,Z=L.points;if(Z.length<2)return!1;var U=A.getHitLineWidth(),Y=Z.slice(0);return Z.length>=3&&Y.push(Z[0]),c.polyline(Y,U,b,S)}return T&&O?f(b,S,A)||D():T?f(b,S,A):O?D():!1},d=function(b,S){var A=this._attrs,T=A.x,O=A.y,D=A.radius||A.r,L=this.getHitLineWidth();return c.circle(T,O,D+L/2,b,S)},g=function(b,S){var A=this,T=A._attrs;if(A.hasStroke()){var O=T.points;if(O.length<2)return!1;var D=T.lineWidth;return c.polyline(O,D,b,S)}return!1},y=function(b,S){var A=this,T=A.hasFill(),O=A.hasStroke();function D(){var L=A._attrs,Z=L.x,U=L.y,Y=L.width,W=L.height,J=L.radius,ht=A.getHitLineWidth();if(J===0){var nt=ht/2;return c.line(Z-nt,U,Z+Y+nt,U,ht,b,S)||c.line(Z+Y,U-nt,Z+Y,U+W+nt,ht,b,S)||c.line(Z+Y+nt,U+W,Z-nt,U+W,ht,b,S)||c.line(Z,U+W+nt,Z,U-nt,ht,b,S)}return c.line(Z+J,U,Z+Y-J,U,ht,b,S)||c.line(Z+Y,U+J,Z+Y,U+W-J,ht,b,S)||c.line(Z+Y-J,U+W,Z+J,U+W,ht,b,S)||c.line(Z,U+W-J,Z,U+J,ht,b,S)||c.arcline(Z+Y-J,U+J,J,1.5*Math.PI,2*Math.PI,!1,ht,b,S)||c.arcline(Z+Y-J,U+W-J,J,0,.5*Math.PI,!1,ht,b,S)||c.arcline(Z+J,U+W-J,J,.5*Math.PI,Math.PI,!1,ht,b,S)||c.arcline(Z+J,U+J,J,Math.PI,1.5*Math.PI,!1,ht,b,S)}return T&&O?f(b,S,A)||D():T?f(b,S,A):O?D():!1},E=function(b,S){var A=this,T=A.getBBox();if(A.hasFill()||A.hasStroke())return c.box(T.minX,T.maxX,T.minY,T.maxY,b,S)},C=function(b,S){if(!this._cfg.el)return!1;var A=this._cfg.el.getBBox();return c.box(A.x,A.x+A.width,A.y,A.y+A.height,b,S)},m={arc:r,circle:e,dom:C,ellipse:n,fan:a,image:u,line:l,path:h,marker:d,polygon:p,polyline:g,rect:y,text:E};P.exports={isPointInPath:function(b,S){var A=m[this.type];return A?A.call(this,b,S):!1}}},function(P,x,i){var t=i(2),c=i(96),s=i(101),v=i(103),o=i(133),f=o.interpolate,r=o.interpolateArray,e=function(l){this._animators=[],this._current=0,this._timer=null,this.canvas=l};function n(u,l,h){var p={},d=l.toAttrs,g=l.fromAttrs,y=l.toMatrix;if(!u.get("destroyed")){var E;for(var C in d)if(!t.isEqual(g[C],d[C]))if(C==="path"){var m=d[C],M=g[C];m.length>M.length?(m=c.parsePathString(d[C]),M=c.parsePathString(g[C]),M=c.fillPathByDiff(M,m),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m):l.pathFormatted||(m=c.parsePathString(d[C]),M=c.parsePathString(g[C]),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m,l.pathFormatted=!0),p[C]=[];for(var b=0;b<m.length;b++){for(var S=m[b],A=M[b],T=[],O=0;O<S.length;O++)t.isNumber(S[O])&&A&&t.isNumber(A[O])?(E=f(A[O],S[O]),T.push(E(h))):T.push(S[O]);p[C].push(T)}}else E=f(g[C],d[C]),p[C]=E(h);if(y){var D=r(l.fromMatrix,y),L=D(h);u.setMatrix(L)}u.attr(p)}}function a(u,l,h){var p=l.startTime;if(h<p+l.delay||l.isPaused)return!1;var d,g=l.duration,y=l.easing;if(h=h-p-l.delay,l.toAttrs.repeat)d=h%g/g,d=v[y](d);else if(d=h/g,d<1)d=v[y](d);else return u.attr(l.toAttrs),l.toMatrix&&u.setMatrix(l.toMatrix),!0;return n(u,l,d),!1}t.augment(e,{initTimer:function(){var l=this,h=this,p=!1,d,g,y;h._timer=s.timer(function(E){if(h._current=E,l._animators.length>0){for(var C=l._animators.length-1;C>=0;C--){if(d=l._animators[C],d.get("destroyed")){h.removeAnimator(C);continue}if(!d.get("pause").isPaused){g=d.get("animators");for(var m=g.length-1;m>=0;m--)y=g[m],p=a(d,y,E),p&&(g.splice(m,1),p=!1,y.callback&&y.callback())}g.length===0&&h.removeAnimator(C)}l.canvas.draw()}})},addAnimator:function(l){this._animators.push(l)},removeAnimator:function(l){this._animators.splice(l,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(l){l.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),P.exports=e},function(P,x,i){P.exports={canvas:i(353),svg:i(356)}},function(P,x,i){P.exports={painter:i(354)}},function(P,x,i){var t=i(2),c=i(355),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],v=function(){function o(r){if(!r)return null;var e=t.uniqueId("canvas_"),n=t.createDom('<canvas id="'+e+'"></canvas>');return r.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var f=o.prototype;return f.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},f.draw=function(e){var n=this;function a(){n.animateHandler=t.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&a()}),n.beforeDraw();try{n._drawGroup(e)}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u),n.toDraw=!1}n.toDraw=!1}n.animateHandler?n.toDraw=!0:a()},f.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},f._drawGroup=function(e){if(!(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible)){var n=this,a=e._cfg.children,u=null;this.setContext(e);for(var l=0;l<a.length;l++)u=a[l],a[l].isGroup?n._drawGroup(u):n._drawShape(u);this.restoreContext(e)}},f._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},f.setContext=function(e){var n=this.context,a=e._attrs.clip;n.save(),a&&(a.resetTransform(n),a.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},f.restoreContext=function(){this.context.restore()},f.resetContext=function(e){var n=this.context,a=e._attrs;if(!e.isGroup){for(var u in a)if(s.indexOf(u)>-1){var l=a[u];u==="fillStyle"&&(l=c.parseStyle(l,e,n)),u==="strokeStyle"&&(l=c.parseStyle(l,e,n)),u==="lineDash"&&n.setLineDash?t.isArray(l)?n.setLineDash(l):t.isString(l)&&n.setLineDash(l.split(" ")):n[u]=l}}},o}();P.exports=v},function(P,x,i){var t=i(2),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/ig,e={};function n(h,p){var d=h.match(r);t.each(d,function(g){g=g.split(":"),p.addColorStop(g[0],g[1])})}function a(h,p,d){var g=v.exec(h),y=t.mod(t.toRadian(parseFloat(g[1])),Math.PI*2),E=g[2],C=p.getBBox(),m,M;y>=0&&y<.5*Math.PI?(m={x:C.minX,y:C.minY},M={x:C.maxX,y:C.maxY}):.5*Math.PI<=y&&y<Math.PI?(m={x:C.maxX,y:C.minY},M={x:C.minX,y:C.maxY}):Math.PI<=y&&y<1.5*Math.PI?(m={x:C.maxX,y:C.maxY},M={x:C.minX,y:C.minY}):(m={x:C.minX,y:C.maxY},M={x:C.maxX,y:C.minY});var b=Math.tan(y),S=b*b,A=(M.x-m.x+b*(M.y-m.y))/(S+1)+m.x,T=b*(M.x-m.x+b*(M.y-m.y))/(S+1)+m.y,O=d.createLinearGradient(m.x,m.y,A,T);return n(E,O),O}function u(h,p,d){var g=o.exec(h),y=parseFloat(g[1]),E=parseFloat(g[2]),C=parseFloat(g[3]),m=g[4];if(C===0){var M=m.match(r);return M[M.length-1].split(":")[1]}var b=p.getBBox(),S=b.maxX-b.minX,A=b.maxY-b.minY,T=Math.sqrt(S*S+A*A)/2,O=d.createRadialGradient(b.minX+S*y,b.minY+A*E,C*T,b.minX+S/2,b.minY+A/2,T);return n(m,O),O}function l(h,p,d){if(p.get("patternSource")&&p.get("patternSource")===h)return p.get("pattern");var g,y,E=f.exec(h),C=E[1],m=E[2];function M(){g=d.createPattern(y,C),p.setSilent("pattern",g),p.setSilent("patternSource",h)}switch(C){case"a":C="repeat";break;case"x":C="repeat-x";break;case"y":C="repeat-y";break;case"n":C="no-repeat";break;default:C="no-repeat"}return y=new Image,m.match(/^data:/i)||(y.crossOrigin="Anonymous"),y.src=m,y.complete?M():(y.onload=M,y.src=y.src),g}P.exports={parsePath:function(p){if(p=p||[],t.isArray(p))return p;if(t.isString(p))return p=p.match(c),t.each(p,function(d,g){if(d=d.match(s),d[0].length>1){var y=d[0].charAt(0);d.splice(1,0,d[0].substr(1)),d[0]=y}t.each(d,function(E,C){isNaN(E)||(d[C]=+E)}),p[g]=d}),p},parseStyle:function(p,d,g){if(t.isString(p)){if(p[1]==="("||p[2]==="("){if(p[0]==="l")return a(p,d,g);if(p[0]==="r")return u(p,d,g);if(p[0]==="p")return l(p,d,g)}return p}},numberToColor:function(p){var d=e[p];if(!d){for(var g=p.toString(16),y=g.length;y<6;y++)g="0"+g;d="#"+g,e[p]=d}return d}}},function(P,x,i){P.exports={painter:i(357),getShape:i(364)}},function(P,x,i){var t=i(2),c=i(37),s=c.parseRadius,v=i(95),o=i(358),f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},r=.3,e={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},n={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},u=function(){function l(p){if(!p)return null;var d=t.uniqueId("canvas_"),g=t.createDom('<svg id="'+d+'"></svg>');return p.appendChild(g),this.type="svg",this.canvas=g,this.context=new o(g),this.toDraw=!1,this}var h=l.prototype;return h.draw=function(d){var g=this;function y(){g.animateHandler=t.requestAnimationFrame(function(){g.animateHandler=void 0,g.toDraw&&y()});try{d.resetMatrix(),g._drawGroup(d,!1)}catch(E){console.warn("error in draw canvas, detail as:"),console.warn(E),g.toDraw=!1}g.toDraw=!1}g.animateHandler?g.toDraw=!0:y()},h.drawSync=function(d){this._drawChildren(d,!1)},h._drawGroup=function(d,g){var y=d._cfg;y.removed||y.destroyed||(!y.el&&y.attrs&&(g=!0),y.tobeRemoved&&(t.each(y.tobeRemoved,function(E){E.parentNode&&E.parentNode.removeChild(E)}),y.tobeRemoved=[]),this._drawShape(d,g),y.children&&y.children.length>0&&this._drawChildren(d,g))},h._drawChildren=function(d,g){var y=this,E=d._cfg.children,C;if(!!E){if(d._cfg.el&&!g){var m=d._cfg.el.childNodes.length+1;m!==0&&m!==E.length&&(g=!0)}for(var M=0;M<E.length;M++)C=E[M],C.isGroup?y._drawGroup(C,g):y._drawShape(C,g)}},h._drawShape=function(d,g){var y=this,E=d._attrs,C=d._cfg,m=C.el;if(C.removed||C.destroyed){m&&m.parentNode.removeChild(C.el);return}if(g&&m&&(m.parentNode&&m.parentNode.removeChild(m),m=null),!m&&C.parent&&(y._createDom(d),y._updateShape(d)),m=C.el,C.visible===!1){m.setAttribute("visibility","hidden");return}C.visible&&m.hasAttribute("visibility")&&m.removeAttribute("visibility"),C.hasUpdate&&y._updateShape(d),E.clip&&E.clip._cfg.hasUpdate&&y._updateShape(E.clip)},h._updateShape=function(d){var g=this,y=d._attrs,E=d._cfg.attrs;if(!!E){if(d._cfg.el||g._createDom(d),"clip"in y&&this._setClip(d,y.clip),("shadowOffsetX"in y||"shadowOffsetY"in y||"shadowBlur"in y||"shadowColor"in y)&&this._setShadow(d),d.type==="text"){g._updateText(d);return}d.type==="fan"&&g._updateFan(d),d.type==="marker"&&d._cfg.el.setAttribute("d",g._assembleMarker(y)),d.type==="rect"&&d._cfg.el.setAttribute("d",g._assembleRect(y));for(var C in y)y[C]!==E[C]&&g._setAttribute(d,C,y[C]);d._cfg.attrs=t.deepMix({},d._attrs),d._cfg.hasUpdate=!1}},h._setAttribute=function(d,g,y){var E=d.type,C=d._attrs,m=d._cfg.el,M=this.context;if(!((E==="marker"||E==="rect")&&~["x","y","radius","r"].indexOf(g))){if(~["circle","ellipse"].indexOf(E)&&~["x","y"].indexOf(g)){m.setAttribute("c"+g,parseInt(y,10));return}if(E==="polygon"&&g==="points"){(!y||y.length===0)&&(y=""),t.isArray(y)&&(y=y.map(function(S){return S[0]+","+S[1]}),y=y.join(" ")),m.setAttribute("points",y);return}if(g==="path"&&t.isArray(y)){m.setAttribute("d",this._formatPath(y));return}if(g==="img"){this._setImage(d,y);return}if(g==="transform"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="rotate"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="matrix"){this._setTransform(d);return}if(g==="fillStyle"||g==="strokeStyle"){this._setColor(d,g,y);return}if(g!=="clip"){if(~g.indexOf("Arrow")){if(g=e[g],!y)d._cfg[g]=null,m.removeAttribute(g);else{var b=null;typeof y=="boolean"?b=M.getDefaultArrow(C,g):b=M.addArrow(C,g),m.setAttribute(g,"url(#"+b+")"),d._cfg[g]=b}return}g==="html"&&(typeof y=="string"?m.innerHTML=y:(m.innerHTML="",m.appendChild(y))),e[g]&&m.setAttribute(e[g],y)}}},h._createDom=function(d){var g=f[d.type],y=d._attrs;if(!g)throw new Error("the type"+d.type+"is not supported by svg");var E=document.createElementNS("http://www.w3.org/2000/svg",g);return d._cfg.el=E,d._cfg.parent&&d._cfg.parent.get("el").appendChild(E),d._cfg.attrs={},d.type==="text"?(E.setAttribute("paint-order","stroke"),E.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(!y.stroke&&!y.strokeStyle&&E.setAttribute("stroke","none"),!y.fill&&!y.fillStyle&&E.setAttribute("fill","none")),E},h._assembleMarker=function(d){var g=d.r;if(typeof d.r=="undefined"&&(g=d.radius),isNaN(Number(d.x))||isNaN(Number(d.y))||isNaN(Number(g)))return"";var y="";return typeof d.symbol=="function"?y=d.symbol(d.x,d.y,g):y=v.Symbols[d.symbol||"circle"](d.x,d.y,g),t.isArray(y)&&(y=y.map(function(E){return E.join(" ")}).join("")),y},h._assembleRect=function(d){var g=d.x,y=d.y,E=d.width,C=d.height,m=d.radius;if(!m)return"M "+g+","+y+" l "+E+",0 l 0,"+C+" l"+-E+" 0 z";var M=s(m);t.isArray(m)?m.length===1?M.r1=M.r2=M.r3=M.r4=m[0]:m.length===2?(M.r1=M.r3=m[0],M.r2=M.r4=m[1]):m.length===3?(M.r1=m[0],M.r2=M.r4=m[1],M.r3=m[2]):(M.r1=m[0],M.r2=m[1],M.r3=m[2],M.r4=m[3]):M.r1=M.r2=M.r3=M.r4=m;var b=[["M "+(g+M.r1)+","+y],["l "+(E-M.r1-M.r2)+",0"],["a "+M.r2+","+M.r2+",0,0,1,"+M.r2+","+M.r2],["l 0,"+(C-M.r2-M.r3)],["a "+M.r3+","+M.r3+",0,0,1,"+-M.r3+","+M.r3],["l "+(M.r3+M.r4-E)+",0"],["a "+M.r4+","+M.r4+",0,0,1,"+-M.r4+","+-M.r4],["l 0,"+(M.r4+M.r1-C)],["a "+M.r1+","+M.r1+",0,0,1,"+M.r1+","+-M.r1],["z"]];return b.join(" ")},h._formatPath=function(d){return d=d.map(function(g){return g.join(" ")}).join(""),~d.indexOf("NaN")?"":d},h._setTransform=function(d){for(var g=d._attrs.matrix,y=d._cfg.el,E=[],C=0;C<9;C+=3)E.push(g[C]+","+g[C+1]);E=E.join(","),E.indexOf("NaN")===-1?y.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",g)},h._setImage=function(d,g){var y=d._attrs,E=d._cfg.el;if(t.isString(g))E.setAttribute("href",g);else if(g instanceof Image)y.width||(E.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(E.setAttribute("height",g.height),d._attrs.height=g.height),E.setAttribute("href",g.src);else if(g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS")E.setAttribute("href",g.toDataURL());else if(g instanceof ImageData){var C=document.createElement("canvas");C.setAttribute("width",g.width),C.setAttribute("height",g.height),C.getContext("2d").putImageData(g,0,0),y.width||(E.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(E.setAttribute("height",g.height),d._attrs.height=g.height),E.setAttribute("href",C.toDataURL())}},h._updateFan=function(d){function g(Y,W,J){return{x:W*Math.cos(Y)+J.x,y:W*Math.sin(Y)+J.y}}var y=d._attrs,E=d._cfg,C={x:y.x,y:y.y},m=[],M=y.startAngle,b=y.endAngle;t.isNumberEqual(b-M,Math.PI*2)&&(b-=1e-5);var S=g(M,y.re,C),A=g(b,y.re,C),T=b>M?1:0,O=Math.abs(b-M)>Math.PI?1:0,D=y.rs,L=y.re,Z=g(M,y.rs,C),U=g(b,y.rs,C);y.rs>0?(m.push("M "+A.x+","+A.y),m.push("L "+U.x+","+U.y),m.push("A "+D+","+D+",0,"+O+","+(T===1?0:1)+","+Z.x+","+Z.y),m.push("L "+S.x+" "+S.y)):(m.push("M "+C.x+","+C.y),m.push("L "+S.x+","+S.y)),m.push("A "+L+","+L+",0,"+O+","+T+","+A.x+","+A.y),y.rs>0?m.push("L "+U.x+","+U.y):m.push("Z"),E.el.setAttribute("d",m.join(" "))},h._updateText=function(d){var g=this,y=d._attrs,E=d._cfg.attrs,C=d._cfg.el;this._setFont(d);for(var m in y)if(y[m]!==E[m]){if(m==="text"){g._setText(d,""+y[m]);continue}if(m==="fillStyle"||m==="strokeStyle"){this._setColor(d,m,y[m]);continue}if(m==="matrix"){this._setTransform(d);continue}e[m]&&C.setAttribute(e[m],y[m])}d._cfg.attrs=Object.assign({},d._attrs),d._cfg.hasUpdate=!1},h._setFont=function(d){var g=d.get("el"),y=d._attrs,E=y.fontSize;g.setAttribute("alignment-baseline",n[y.textBaseline]||"baseline"),g.setAttribute("text-anchor",a[y.textAlign]||"left"),E&&+E<12&&(y.matrix=[1,0,0,0,1,0,0,0,1],d.transform([["t",-y.x,-y.y],["s",+E/12,+E/12],["t",y.x,y.y]]))},h._setText=function(d,g){var y=d._cfg.el,E=d._attrs.textBaseline||"bottom";if(!g)y.innerHTML="";else if(~g.indexOf(`
`)){var C=d._attrs.x,m=g.split(`
`),M=m.length-1,b="";t.each(m,function(S,A){A===0?E==="alphabetic"?b+='<tspan x="'+C+'" dy="'+-M+'em">'+S+"</tspan>":E==="top"?b+='<tspan x="'+C+'" dy="0.9em">'+S+"</tspan>":E==="middle"?b+='<tspan x="'+C+'" dy="'+-(M-1)/2+'em">'+S+"</tspan>":E==="bottom"?b+='<tspan x="'+C+'" dy="-'+(M+r)+'em">'+S+"</tspan>":E==="hanging"&&(b+='<tspan x="'+C+'" dy="'+(-(M-1)-r)+'em">'+S+"</tspan>"):b+='<tspan x="'+C+'" dy="1em">'+S+"</tspan>"}),y.innerHTML=b}else y.innerHTML=g},h._setClip=function(d,g){var y=d._cfg.el;if(!g){y.removeAttribute("clip-path");return}if(y.hasAttribute("clip-path"))g._cfg.hasUpdate&&this._updateShape(g);else{this._createDom(g),this._updateShape(g);var E=this.context.addClip(g);y.setAttribute("clip-path","url(#"+E+")")}},h._setColor=function(d,g,y){var E=d._cfg.el,C=this.context;if(!y){E.setAttribute(e[g],"none");return}if(y=y.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(y)){var m=C.find("gradient",y);m||(m=C.addGradient(y)),E.setAttribute(e[g],"url(#"+m+")")}else if(/^[p,P]{1}[\s]*\(/.test(y)){var M=C.find("pattern",y);M||(M=C.addPattern(y)),E.setAttribute(e[g],"url(#"+M+")")}else E.setAttribute(e[g],y)},h._setShadow=function(d){var g=d._cfg.el,y=d._attrs,E={dx:y.shadowOffsetX,dy:y.shadowOffsetY,blur:y.shadowBlur,color:y.shadowColor};if(!E.dx&&!E.dy&&!E.blur&&!E.color)g.removeAttribute("filter");else{var C=this.context.find("filter",E);C||(C=this.context.addShadow(E,this)),g.setAttribute("filter","url(#"+C+")")}},l}();P.exports=u},function(P,x,i){var t=i(2),c=i(359),s=i(360),v=i(361),o=i(362),f=i(363),r=function(){function e(a){var u=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=t.uniqueId("defs_");u.id=l,a.appendChild(u),this.children=[],this.defaultArrow={},this.el=u,this.canvas=a}var n=e.prototype;return n.find=function(u,l){for(var h=this.children,p=null,d=0;d<h.length;d++)if(h[d].match(u,l)){p=h[d].id;break}return p},n.findById=function(u){for(var l=this.children,h=null,p=0;p<l.length;p++)if(l[p].id===u){h=l[p];break}return h},n.add=function(u){this.children.push(u),u.canvas=this.canvas,u.parent=this},n.getDefaultArrow=function(u,l){var h=u.stroke||u.strokeStyle;if(this.defaultArrow[h])return this.defaultArrow[h].id;var p=new v(u,l);return this.defaultArrow[h]=p,this.el.appendChild(p.el),p.id},n.addGradient=function(u){var l=new c(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addArrow=function(u,l){var h=new v(u,l);return this.el.appendChild(h.el),h.id},n.addShadow=function(u){var l=new s(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addPattern=function(u){var l=new f(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addClip=function(u){var l=new o(u);return this.el.appendChild(l.el),this.add(l),l.id},e}();P.exports=r},function(P,x,i){var t=i(2),c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function o(n){var a=n.match(v);if(!a)return"";var u="";return a.sort(function(l,h){return l=l.split(":"),h=h.split(":"),Number(l[0])-Number(h[0])}),t.each(a,function(l){l=l.split(":"),u+='<stop offset="'+l[0]+'" stop-color="'+l[1]+'"></stop>'}),u}function f(n,a){var u=c.exec(n),l=t.mod(t.toRadian(parseFloat(u[1])),Math.PI*2),h=u[2],p,d;l>=0&&l<.5*Math.PI?(p={x:0,y:0},d={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(p={x:1,y:0},d={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(p={x:1,y:1},d={x:0,y:0}):(p={x:0,y:1},d={x:1,y:0});var g=Math.tan(l),y=g*g,E=(d.x-p.x+g*(d.y-p.y))/(y+1)+p.x,C=g*(d.x-p.x+g*(d.y-p.y))/(y+1)+p.y;a.setAttribute("x1",p.x),a.setAttribute("y1",p.y),a.setAttribute("x2",E),a.setAttribute("y2",C),a.innerHTML=o(h)}function r(n,a){var u=s.exec(n),l=parseFloat(u[1]),h=parseFloat(u[2]),p=parseFloat(u[3]),d=u[4];a.setAttribute("cx",l),a.setAttribute("cy",h),a.setAttribute("r",p),a.innerHTML=o(d)}var e=function(){function n(u){var l=null,h=t.uniqueId("gradient_");return u.toLowerCase()[0]==="l"?(l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),f(u,l)):(l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),r(u,l)),l.setAttribute("id",h),this.el=l,this.id=h,this.cfg=u,this}var a=n.prototype;return a.match=function(l,h){return this.cfg===h},n}();P.exports=e},function(P,x,i){var t=i(2),c={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},s={x:"-40%",y:"-40%",width:"200%",height:"200%"},v=function(){function o(r){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return t.each(s,function(n,a){e.setAttribute(a,n)}),this.el=e,this.id=t.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,e),this}var f=o.prototype;return f.match=function(e,n){if(this.type!==e)return!1;var a=!0,u=this.cfg;return t.each(Object.keys(u),function(l){if(u[l]!==n[l])return a=!1,!1}),a},f.update=function(e,n){var a=this.cfg;return a[c[e]]=n,this._parseShadow(a,this.el),this},f._parseShadow=function(e,n){var a=`<feDropShadow 
      dx="`+(e.dx||0)+`" 
      dy="`+(e.dy||0)+`" 
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;n.innerHTML=a},o}();P.exports=v},function(P,x,i){var t=i(2),c=function(){function s(o,f){var r=document.createElementNS("http://www.w3.org/2000/svg","marker"),e=t.uniqueId("marker_");r.setAttribute("id",e);var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("stroke","none"),n.setAttribute("fill",o.stroke||"#000"),r.appendChild(n),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=n,this.id=e,this.cfg=o[f==="marker-start"?"startArrow":"endArrow"],this.stroke=o.stroke||"#000",this.cfg===!0?this._setDefaultPath(f,n):this._setMarker(o.lineWidth,n),this}var v=s.prototype;return v.match=function(){return!1},v._setDefaultPath=function(f,r){var e=this.el;r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),e.setAttribute("refX",3),e.setAttribute("refY",3)},v._setMarker=function(f,r){var e=this.el,n=this.cfg.path,a=this.cfg.d;t.isArray(n)&&(n=n.map(function(u){return u.join(" ")}).join("")),r.setAttribute("d",n),e.appendChild(r),a&&e.setAttribute("refX",a/f)},v.update=function(f){var r=this.child;r.attr?r.attr("fill",f):r.setAttribute("fill",f)},s}();P.exports=c},function(P,x,i){var t=i(2),c=function(){function s(o){this.type="clip";var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=f,this.id=t.uniqueId("clip_"),f.id=this.id;var r=o._cfg.el;return f.appendChild(r.cloneNode(!0)),this.cfg=o,this}var v=s.prototype;return v.match=function(){return!1},v.remove=function(){var f=this.el;f.parentNode.removeChild(f)},s}();P.exports=c},function(P,x,i){var t=i(2),c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=function(){function v(f){var r=document.createElementNS("http://www.w3.org/2000/svg","pattern");r.setAttribute("patternUnits","userSpaceOnUse");var e=document.createElementNS("http://www.w3.org/2000/svg","image");r.appendChild(e);var n=t.uniqueId("pattern_");r.id=n,this.el=r,this.id=n,this.cfg=f;var a=c.exec(f),u=a[2];e.setAttribute("href",u);var l=new Image;u.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=u;function h(){console.log(l.width,l.height),r.setAttribute("width",l.width),r.setAttribute("height",l.height)}return l.complete?h():(l.onload=h,l.src=l.src),this}var o=v.prototype;return o.match=function(r,e){return this.cfg===e},v}();P.exports=s},function(P,x){var i={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};P.exports=function(c,s,v){var o=v.target||v.srcElement;if(!i[o.tagName]){for(var f=o.parentNode;f&&!i[f.tagName];)f=f.parentNode;o=f}return this._cfg.el===o?this:this.find(function(r){return r._cfg&&r._cfg.el===o})}},function(P,x,i){var t=i(189);function c(s,v,o,f){var r=s.getBBox(),e=r.width,n=r.height,a={x:v,y:o,textAlign:"center"};switch(f){case 0:a.y-=n/2,a.textAlign="left";break;case 1:a.y-=n/2,a.textAlign="right";break;case 2:a.y+=n/2,a.textAlign="right";break;case 3:a.y+=n/2,a.textAlign="left";break;case 5:a.y-=n/2;break;case 6:a.y+=n/2;break;case 7:a.x+=e/2,a.textAlign="left";break;case 8:a.x-=e/2,a.textAlign="right";break;default:break}return s.attr(a),s.getBBox()}P.exports=function(s){for(var v=new t,o=[],f,r,e,n,a,u=0;u<s.length;u++){r=s[u],e=r.attr("x"),n=r.attr("y"),a=!1;for(var l=0;l<8;l++)if(f=c(r,e,n,l),v.hasGap(f)){v.fillGap(f),a=!0;break}a||o.push(r)}for(var h=0;h<o.length;h++)o[h].remove();return a}},function(P,x,i){var t=i(189),c=20;function s(v,o){var f=-1,r=v.attr("x"),e=v.attr("y"),n=v.getBBox(),a=Math.sqrt(n.width*n.width+n.height*n.height),u,l=-f,h=0,p=0,d=function(C){return[(C*=.1)*Math.cos(C),C*Math.sin(C)]};if(o.hasGap(n))return o.fillGap(n),!0;for(var g=!1,y=0;Math.min(Math.abs(h),Math.abs(p))<a&&y<c;)if(u=d(l+=f),h=~~u[0],p=~~u[1],v.attr({x:r+h,y:e+p}),y++,o.hasGap(v.getBBox())){o.fillGap(n),g=!0;break}return g}P.exports=function(v){for(var o,f=new t,r=[],e=0;e<v.length;e++)o=v[e],s(o,f)||r.push(o);for(var n=0;n<r.length;n++)r[n].remove()}},function(P,x){P.exports=function(t,c){for(var s,v,o=[],f=0;f<t.length;f++)s=t[f].getBBox(),v=c[f].getBBox(),(s.width>v.width||s.height>v.height||s.width*s.height>v.width*v.height)&&o.push(t[f]);for(var r=0;r<o.length;r++)o[r].remove()}},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=i(35),o=s.MatrixUtil.vec2,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},n.parseTick=function(u,l,h){return{text:u,value:l/h}},n._getCirclePoint=function(u,l){var h=this,p=h.get("center");return l=l||h.get("radius"),{x:p.x+Math.cos(u)*l,y:p.y+Math.sin(u)*l}},n.getTickPoint=function(u){var l=this,h=l.get("startAngle"),p=l.get("endAngle"),d=h+(p-h)*u;return l._getCirclePoint(d)},n.getSideVector=function(u,l){var h=this,p=h.get("center"),d=[l.x-p.x,l.y-p.y];if(!s.isNil(u)){var g=o.length(d);o.scale(d,d,u/g)}return d},n.getSidePoint=function(u,l){var h=this,p=h.getSideVector(l,u);return{x:u.x+p[0],y:u.y+p[1]}},n.getTickEnd=function(u,l){var h=this,p=h.get("tickLine");return l=l||p.length,h.getSidePoint(u,l)},n.getTextAnchor=function(u){var l;return s.snapEqual(u[0],0)?l="center":u[0]>0?l="left":u[0]<0&&(l="right"),l},n.getLinePath=function(){var u=this,l=u.get("center"),h=l.x,p=l.y,d=u.get("radius"),g=d,y=u.get("startAngle"),E=u.get("endAngle"),C=u.get("inner"),m=[];if(Math.abs(E-y)===Math.PI*2)m=[["M",h,p],["m",0,-g],["a",d,g,0,1,1,0,2*g],["a",d,g,0,1,1,0,-2*g],["z"]];else{var M=u._getCirclePoint(y),b=u._getCirclePoint(E),S=Math.abs(E-y)>Math.PI?1:0,A=y>E?0:1;if(!C)m=[["M",h,p],["L",M.x,M.y],["A",d,g,0,S,A,b.x,b.y],["L",h,p]];else{var T=u.getSideVector(C*d,M),O=u.getSideVector(C*d,b),D={x:T[0]+h,y:T[1]+p},L={x:O[0]+h,y:O[1]+p};m=[["M",D.x,D.y],["L",M.x,M.y],["A",d,g,0,S,A,b.x,b.y],["L",L.x,L.y],["A",d*C,g*C,0,S,Math.abs(A-1),D.x,D.y]]}}return m},n.addLabel=function(u,l,h){var p=this,d=p.get("label").offset||p.get("_labelOffset")||.001;l=p.getSidePoint(l,d),r.prototype.addLabel.call(this,u,l,h)},n.autoRotateLabels=function(){var u=this,l=u.get("ticks"),h=u.get("labelRenderer");if(h&&l.length>12){var p=u.get("radius"),d=u.get("startAngle"),g=u.get("endAngle"),y=g-d,E=y/(l.length-1),C=Math.sin(E/2)*p*2,m=u.getMaxLabelWidth(h);s.each(h.get("group").get("children"),function(M,b){var S=l[b],A=S.value*y+d,T=A%(Math.PI*2);m<C?(T<=0&&(A=A+Math.PI),T>Math.PI&&(A=A-Math.PI),A=A-Math.PI/2,M.attr("textAlign","center")):T>Math.PI/2?A=A-Math.PI:T<Math.PI/2*-1&&(A=A+Math.PI),M.rotateAtStart(A)})}},e}(v);P.exports=f},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(35),o=s.MatrixUtil,f=s.PathUtil,r=o.vec2,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},u.getLinePath=function(){var h=this,p=h.get("crp"),d=h.get("axisStart"),g=f.catmullRomToBezier(p);return g.unshift(["M",d.x,d.y]),g},u.getTickPoint=function(h){var p=this,d=p.get("startAngle"),g=p.get("endAngle"),y=d+(g-d)*h;return p._getHelixPoint(y)},u._getHelixPoint=function(h){var p=this,d=p.get("center"),g=p.get("a"),y=g*h+p.get("inner");return{x:d.x+Math.cos(h)*y,y:d.y+Math.sin(h)*y}},u.getSideVector=function(h,p){var d=this,g=d.get("center"),y=[p.x-g.x,p.y-g.y];if(h){var E=r.length(y);r.scale(y,y,h/E)}return y},u.getSidePoint=function(h,p){var d=this,g=d.getSideVector(p,h);return{x:h.x+g[0],y:h.y+g[1]}},u.getTickEnd=function(h,p){var d=this,g=d.get("tickLine");return p=p||g.length,d.getSidePoint(h,p)},a}(v);P.exports=e},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(35),v=i(4),o=v.MatrixUtil,f=o.vec2,r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return v.mix({},l,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},a._getAvgLabelLength=function(l){var h=l.get("group").get("children");return h[1].attr("x")-h[0].attr("x")},a._getAvgLabelHeightSpace=function(l){var h=l.get("group").get("children");return h[1].attr("y")-h[0].attr("y")},a.getSideVector=function(l){var h=this,p=h.get("isVertical"),d=h.get("factor");if(!v.isNumber(l))return[0,0];var g=h.get("start"),y=h.get("end"),E=h.getAxisVector(),C=f.normalize([],E),m=!1;(p&&g.y<y.y||!p&&g.x>y.x)&&(m=!0);var M=f.vertical([],C,m);return f.scale([],M,l*d)},a.getAxisVector=function(){var l=this.get("start"),h=this.get("end");return[h.x-l.x,h.y-l.y]},a.getLinePath=function(){var l=this,h=l.get("start"),p=l.get("end"),d=[];return d.push(["M",h.x,h.y]),d.push(["L",p.x,p.y]),d},a.getTickEnd=function(l,h){var p=this,d=p.getSideVector(h);return{x:l.x+d[0],y:l.y+d[1]}},a.getTickPoint=function(l){var h=this,p=h.get("start"),d=h.get("end"),g=d.x-p.x,y=d.y-p.y;return{x:p.x+g*l,y:p.y+y*l}},a.renderTitle=function(){var l=this,h=l.get("title"),p=l.getTickPoint(.5),d=h.offset;if(v.isNil(d)){d=20;var g=l.get("labelsGroup");if(g){var y=l.getMaxLabelWidth(g),E=l.get("label").offset||l.get("_labelOffset");d+=y+E}}var C=h.textStyle,m=v.mix({},C);if(h.text){var M=l.getAxisVector();if(h.autoRotate&&v.isNil(C.rotate)){var b=0;if(!v.snapEqual(M[1],0)){var S=[1,0],A=[M[0],M[1]];b=f.angleTo(A,S,!0)}m.rotate=b*(180/Math.PI)}else v.isNil(C.rotate)||(m.rotate=C.rotate/180*Math.PI);var T=l.getSideVector(d),O,D=h.position;D==="start"?O={x:this.get("start").x+T[0],y:this.get("start").y+T[1]}:D==="end"?O={x:this.get("end").x+T[0],y:this.get("end").y+T[1]}:O={x:p.x+T[0],y:p.y+T[1]},m.x=O.x,m.y=O.y,m.text=h.text;var L=l.get("group"),Z=L.addShape("Text",{zIndex:2,attrs:m});Z.name="axis-title",l.get("appendInfo")&&Z.setSilent("appendInfo",l.get("appendInfo"))}},a.autoRotateLabels=function(){var l=this,h=l.get("labelRenderer"),p=l.get("title");if(h){var d=h.get("group"),g=d.get("children"),y=l.get("label").offset,E=12,C=p?p.offset:48;if(C<0)return;var m=l.getAxisVector(),M,b;if(v.snapEqual(m[0],0)&&p&&p.text)b=l.getMaxLabelWidth(h),b>C-y-E&&(M=Math.acos((C-y-E)/b)*-1);else if(v.snapEqual(m[1],0)&&g.length>1){var S=Math.abs(l._getAvgLabelLength(h));b=l.getMaxLabelWidth(h),b>S&&(M=Math.asin((C-y-E)*1.25/b))}if(M){var A=l.get("factor");v.each(g,function(T){T.rotateAtStart(M),v.snapEqual(m[1],0)&&(A>0?T.attr("textAlign","left"):T.attr("textAlign","right"))})}}},a.autoHideLabels=function(){var l=this,h=l.get("labelRenderer"),p,d,g=8;if(h){var y=h.get("group"),E=y.get("children"),C=l.getAxisVector();if(E.length<2)return;if(v.snapEqual(C[0],0)){var m=l.getMaxLabelHeight(h)+g,M=Math.abs(l._getAvgLabelHeightSpace(h));m>M&&(p=m,d=M)}else if(v.snapEqual(C[1],0)&&E.length>1){var b=l.getMaxLabelWidth(h)+g,S=Math.abs(l._getAvgLabelLength(h));b>S&&(p=b,d=S)}if(p&&d){var A=Math.ceil(p/d);v.each(E,function(T,O){O%A!=0&&T.attr("text","")})}}},n}(s);P.exports=r},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(35),o=s.MatrixUtil,f=s.PathUtil,r=o.vec2,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{type:"polyline"})},u.getLinePath=function(){var h=this,p=h.get("tickPoints"),d=h.get("start"),g=h.get("end"),y=[];y.push(d.x),y.push(d.y),s.each(p,function(C){y.push(C.x),y.push(C.y)}),y.push(g.x),y.push(g.y);var E=f.catmullRomToBezier(y);return E.unshift(["M",d.x,d.y]),E},u.getTickPoint=function(h,p){var d=this.get("tickPoints");return d[p]},u.getTickEnd=function(h,p,d){var g=this,y=g.get("tickLine"),E=p||y.length,C=g.getSideVector(E,h,d);return{x:h.x+C[0],y:h.y+C[1]}},u.getSideVector=function(h,p,d){var g=this,y;if(d===0){if(y=g.get("start"),y.x===p.x&&y.y===p.y)return[0,0]}else{var E=g.get("tickPoints");y=E[d-1]}var C=[p.x-y.x,p.y-y.y],m=r.normalize([],C),M=r.vertical([],m,!1);return r.scale([],M,h)},a}(v);P.exports=e},function(P,x,i){P.exports={Guide:i(17),Arc:i(373),DataMarker:i(374),DataRegion:i(375),Html:i(376),Image:i(377),Line:i(378),Region:i(379),Text:i(380)}},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(17),o=Math.PI,f=Math.atan;function r(n,a){var u=n.x-a.x,l=n.y-a.y,h;return l===0?u<0?h=o/2:h=270*o/180:u>=0&&l>0?h=o*2-f(u/l):u<=0&&l<0?h=o-f(u/l):u>0&&l<0?h=o+f(-u/l):u<0&&l>0&&(h=f(u/-l)),h}var e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},u.render=function(h,p){var d=this,g=d.parsePoint(h,d.get("start")),y=d.parsePoint(h,d.get("end"));if(!(!g||!y)){var E=h.getCenter(),C=Math.sqrt((g.x-E.x)*(g.x-E.x)+(g.y-E.y)*(g.y-E.y)),m,M=r(g,E),b=r(y,E);if(b<M&&(b+=o*2),s.isNumberEqual(g.x,y.x)&&s.isNumberEqual(g.y,y.y)&&(d.get("start")[0]!==d.get("end")[0]||d.get("start")[1]!==d.get("end")[1]))m=[["M",g.x,g.y],["A",C,C,0,1,1,2*E.x-g.x,2*E.y-g.y],["A",C,C,0,1,1,g.x,g.y]];else{var S=(b-M)%(o*2),A=S>o?1:0;m=[["M",g.x,g.y],["A",C,C,0,A,1,y.x,y.y]]}var T=p.addShape("path",{zIndex:d.get("zIndex"),attrs:s.mix({path:m},d.get("style"))});T.name="guide-arc",d.get("appendInfo")&&T.setSilent("appendInfo",d.get("appendInfo")),d.set("el",T)}},a}(v);P.exports=e},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("position"));if(!!h){var p=u.addGroup();p.name="guide-data-marker";var d=l._getElementPosition(h),g=l.get("display"),y,E;if(g.line){var C=d.line;y=l._drawLine(C,p)}if(g.text&&l.get("content")){var m=d.text;E=l._drawText(m,p)}if(g.point){var M=d.point;l._drawPoint(M,p)}if(l.get("autoAdjust")){var b=p.getBBox(),S=b.minX,A=b.minY,T=b.maxX,O=b.maxY,D=a.start,L=a.end;if(E){S<=D.x&&E.attr("textAlign","start"),T>=L.x&&E.attr("textAlign","end");var Z=l.get("direction");if(Z==="upward"&&A<=L.y||Z!=="upward"&&O>=D.y){var U,Y;Z==="upward"&&A<=L.y?(U="top",Y=1):(U="bottom",Y=-1),E.attr("textBaseline",U);var W=0;if(l.get("display").line){W=l.get("lineLength");var J=[["M",h.x,h.y],["L",h.x,h.y+W*Y]];y.attr("path",J)}var ht=h.y+(W+2)*Y;E.attr("y",ht)}}}l.get("appendInfo")&&p.setSilent("appendInfo",l.get("appendInfo")),l.set("el",p)}},e._getElementPosition=function(a){var u=this,l=a.x,h=a.y,p=u.get("display").line?u.get("lineLength"):0,d=u.get("direction"),g=u.get("style").text;g.textBaseline=d==="upward"?"bottom":"top";var y=d==="upward"?-1:1,E={x:l,y:h},C={x:l,y:h},m={x:l,y:p*y+h},M={x:l,y:(p+2)*y+h};return{point:E,line:[C,m],text:M}},e._drawLine=function(a,u){var l=this,h=l.get("style").line,p=[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y]],d=u.addShape("path",{attrs:s.mix({path:p},h)});return d},e._drawText=function(a,u){var l=this,h=this.get("style").text,p=u.addShape("text",{attrs:s.mix({text:l.get("content")},h,a)});return p},e._drawPoint=function(a,u){var l=this,h=l.get("style").point,p=u.addShape("circle",{attrs:s.mix({},h,a)});return p},r}(v);P.exports=o},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=i(190),o=i(17),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},n.render=function(u,l,h){var p=this,d=p.get("lineLength")||0,g=p._getRegionData(u,h);if(!!g.length){var y=p._getBBox(g),E=[];E.push(["M",g[0].x,y.yMin-d]);for(var C=0,m=g.length;C<m;C++){var M=["L",g[C].x,g[C].y];E.push(M)}E.push(["L",g[g.length-1].x,y.yMin-d]);var b=p.get("style"),S=b.region,A=b.text,T=l.addGroup();T.name="guide-data-region",T.addShape("path",{attrs:s.mix({path:E},S)});var O=p.get("content");O&&T.addShape("Text",{attrs:s.mix({x:(y.xMin+y.xMax)/2,y:y.yMin-d,text:O},A)}),p.get("appendInfo")&&T.setSilent("appendInfo",p.get("appendInfo")),p.set("el",T)}},n._getRegionData=function(u,l){for(var h=this,p=h.get("start"),d=h.get("end"),g=v.getFirstScale(h.get("xScales")).field,y=v.getFirstScale(h.get("yScales")).field,E=s.isArray(p)?p[0]:p[g],C=s.isArray(d)?d[0]:d[g],m,M=[],b=0,S=l.length;b<S;b++){var A=l[b];if(A[g]===E&&(m=b),b>=m){var T=h.parsePoint(u,[A[g],A[y]]);T&&M.push(T)}if(A[g]===C)break}return M},n._getBBox=function(u){for(var l=[],h=[],p=0;p<u.length;p++)l.push(u[p].x),h.push(u[p].y);var d=s.arrayUtil.getRange(l),g=s.arrayUtil.getRange(h);return{xMin:d.min,xMax:d.max,yMin:g.min,yMax:g.max}},e}(o);P.exports=f},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=s.DomUtil,o=i(17),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},n.render=function(u,l){var h=this,p=h.parsePoint(u,h.get("position"));if(!!p){var d=l.get("canvas").get("el").parentNode,g=v.createDom('<div class="g-guide"></div>');d.appendChild(g);var y=h.get("htmlContent")||h.get("html");if(s.isFunction(y)){var E=h.get("xScales"),C=h.get("yScales");y=y(E,C)}var m=v.createDom(y);g.appendChild(m),v.modifyCSS(g,{position:"absolute"}),h._setDomPosition(g,m,p),h.set("el",g)}},n._setDomPosition=function(u,l,h){var p=this,d=p.get("alignX"),g=p.get("alignY"),y=v.getOuterWidth(l),E=v.getOuterHeight(l),C={x:h.x,y:h.y};d==="middle"&&g==="top"?C.x-=Math.round(y/2):d==="middle"&&g==="bottom"?(C.x-=Math.round(y/2),C.y-=Math.round(E)):d==="left"&&g==="bottom"?C.y-=Math.round(E):d==="left"&&g==="middle"?C.y-=Math.round(E/2):d==="left"&&g==="top"?(C.x=h.x,C.y=h.y):d==="right"&&g==="bottom"?(C.x-=Math.round(y),C.y-=Math.round(E)):d==="right"&&g==="middle"?(C.x-=Math.round(y),C.y-=Math.round(E/2)):d==="right"&&g==="top"?C.x-=Math.round(y):(C.x-=Math.round(y/2),C.y-=Math.round(E/2));var m=p.get("offsetX");m&&(C.x+=m);var M=p.get("offsetY");M&&(C.y+=M),v.modifyCSS(u,{top:Math.round(C.y)+"px",left:Math.round(C.x)+"px",visibility:"visible",zIndex:p.get("zIndex")})},n.clear=function(){var u=this,l=u.get("el");l&&l.parentNode&&l.parentNode.removeChild(l)},e}(o);P.exports=f},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("start"));if(!!h){var p={x:h.x,y:h.y};if(p.img=l.get("src"),!l.get("end"))p.width=l.get("width")||32,p.height=l.get("height")||32;else{var d=l.parsePoint(a,l.get("end"));if(!d)return;p.width=d.x-h.x,p.height=d.y-h.y}l.get("offsetX")&&(p.x+=l.get("offsetX")),l.get("offsetY")&&(p.y+=l.get("offsetY"));var g=u.addShape("Image",{zIndex:1,attrs:p});g.name="guide-image",l.get("appendInfo")&&g.setSilent("appendInfo",l.get("appendInfo")),l.set("el",g)}},r}(v);P.exports=o},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(17),o=s.MatrixUtil.vec2,f=i(16),r=f.FONT_FAMILY,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:r},content:null}})},u.render=function(h,p){var d=this,g=d.parsePoint(h,d.get("start")),y=d.parsePoint(h,d.get("end"));if(!(!g||!y)){var E=p.addGroup({viewId:p.get("viewId")});d._drawLines(g,y,E);var C=d.get("text");C&&C.content&&d._drawText(g,y,E),d.set("el",E)}},u._drawLines=function(h,p,d){var g=[["M",h.x,h.y],["L",p.x,p.y]],y=d.addShape("Path",{attrs:s.mix({path:g},this.get("lineStyle"))});y.name="guide-line",this.get("appendInfo")&&y.setSilent("appendInfo",this.get("appendInfo"))},u._drawText=function(h,p,d){var g=this.get("text"),y=g.position,E=g.style||{},C;y==="start"?C=0:y==="center"?C=.5:s.isString(y)&&y.indexOf("%")!==-1?C=parseInt(y,10)/100:s.isNumber(y)?C=y:C=1,(C>1||C<0)&&(C=1);var m={x:h.x+(p.x-h.x)*C,y:h.y+(p.y-h.y)*C};if(g.offsetX&&(m.x+=g.offsetX),g.offsetY&&(m.y+=g.offsetY),m.text=g.content,m=s.mix({},m,E),g.autoRotate&&s.isNil(E.rotate)){var M=o.angleTo([p.x-h.x,p.y-h.y],[1,0],1);m.rotate=M}else s.isNil(E.rotate)||(m.rotate=E.rotate*Math.PI/180);var b=d.addShape("Text",{attrs:m});b.name="guide-line-text",this.get("appendInfo")&&b.setSilent("appendInfo",this.get("appendInfo"))},a}(v);P.exports=e},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},e.render=function(a,u){var l=this,h=l.get("style"),p=l._getPath(a);if(!!p.length){var d=u.addShape("path",{zIndex:l.get("zIndex"),attrs:s.mix({path:p},h)});d.name="guide-region",l.get("appendInfo")&&d.setSilent("appendInfo",l.get("appendInfo")),l.set("el",d)}},e._getPath=function(a){var u=this,l=u.parsePoint(a,u.get("start")),h=u.parsePoint(a,u.get("end"));if(!l||!h)return[];var p=[["M",l.x,l.y],["L",h.x,l.y],["L",h.x,h.y],["L",l.x,h.y],["z"]];return p},r}(v);P.exports=o},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("position"));if(!!h){var p=s.mix({},l.get("style")),d=l.get("offsetX"),g=l.get("offsetY");d&&(h.x+=d),g&&(h.y+=g),p.rotate&&(p.rotate=p.rotate*Math.PI/180);var y=u.addShape("Text",{zIndex:l.get("zIndex"),attrs:s.mix({text:l.get("content")},p,h)});y.name="guide-text",l.get("appendInfo")&&y.setSilent("appendInfo",l.get("appendInfo")),l.set("el",y)}},r}(v);P.exports=o},function(P,x,i){var t=i(188);P.exports=t},function(P,x,i){P.exports={Category:i(191),CatHtml:i(193),CatPageHtml:i(383),Color:i(384),Size:i(386),CircleSize:i(387)}},function(P,x,i){function t(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,c(g,y)}function c(g,y){return c=Object.setPrototypeOf||function(C,m){return C.__proto__=m,C},c(g,y)}var s=i(4),v=i(193),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e="g2-legend-list",n="g2-slip",a="g2-caret-up",u="g2-caret-down",l="rgba(0,0,0,0.65)",h="rgba(0,0,0,0.25)";function p(g,y){return g.getElementsByClassName(y)[0]}var d=function(g){t(y,g);function y(){return g.apply(this,arguments)||this}var E=y.prototype;return E.getDefaultCfg=function(){var m=g.prototype.getDefaultCfg.call(this);return s.mix({},m,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:f,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="'+n+'" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},E.render=function(){g.prototype._renderHTML.call(this),this._renderFlipPage()},E._renderFlipPage=function(){var m=this.get("legendWrapper"),M=p(m,e),b=this.get("position"),S=this.get("layout"),A=b==="right"||b==="left"||S==="vertical",T=A?"block":"inline-block",O=m.offsetHeight;if(m.scrollHeight>O){var D=this.get("slipTpl"),L=r.createDom(D),Z=p(L,a),U=p(L,u);r.modifyCSS(Z,this.get("caretStyle")),r.modifyCSS(Z,{fill:"rgba(0,0,0,0.25)"}),r.modifyCSS(U,this.get("caretStyle"));var Y=p(L,"cur-pagenum"),W=p(L,"next-pagenum"),J=this.get("pageNumStyle");if(r.modifyCSS(Y,s.mix({},J,{paddingLeft:"10px"})),r.modifyCSS(W,s.mix({},J,{opacity:.3,paddingRight:"10px"})),r.modifyCSS(L,s.mix({},this.get("slipDomStyle"),A?{top:O+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),m.style.overflow=this.get("legendOverflow"),m.appendChild(L),!A){var ht=Math.max(m.offsetWidth-10-L.offsetWidth,0);r.modifyCSS(M,{maxWidth:ht+"px"})}for(var nt=M.childNodes,Q=0,xt=1,_t=[],Nt=0;Nt<nt.length;Nt++)nt[Nt].style.display=T,Q=nt[Nt].offsetTop+nt[Nt].offsetHeight,Q>O&&(xt++,_t.forEach(function(rt){rt.style.display="none"}),_t=[]),_t.push(nt[Nt]);W.innerText="/"+xt,nt.forEach(function(rt){rt.style.display=T,Q=rt.offsetTop+rt.offsetHeight,Q>O&&(rt.style.display="none")}),Z.addEventListener("click",function(){if(nt[0].style.display!==T){var rt=-1;nt.forEach(function(N,at){N.style.display===T&&(rt=rt===-1?at:rt,N.style.display="none")});for(var q=rt-1;q>=0&&(nt[q].style.display=T,Q=nt[rt-1].offsetTop+nt[rt-1].offsetHeight,nt[q].style.display="none",Q<=O);q--)nt[q].style.display=T;var G=Number.parseInt(Y.innerText,10)-1;G===1?Z.style.fill=h:Z.style.fill=l,U.style.fill=l,Y.innerText=G}}),U.addEventListener("click",function(){if(nt[nt.length-1].style.display!==T){var rt=-1;nt.forEach(function(N,at){N.style.display===T&&(rt=at,N.style.display="none")});for(var q=rt+1;q<nt.length&&(nt[q].style.display=T,Q=nt[q].offsetTop+nt[q].offsetHeight,nt[q].style.display="none",Q<=O);q++)nt[q].style.display=T;var G=Number.parseInt(Y.innerText,10)+1;G===xt?U.style.fill=h:U.style.fill=l,Z.style.fill=l,Y.innerText=G}}),this.set("slipDom",L)}},E.destroy=function(){var m=this.get("slipDom");m&&m.parentNode&&m.parentNode.removeChild(m),g.prototype.destroy.call(this)},y}(v);P.exports=d},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(104),v=s.ColorUtil,o=i(4),f=i(97),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return o.mix({},l,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},a._setPercentage=function(){var l=this.get("items");if(!l[0].percentage){var h=l[0].value,p=l[l.length-1].value;o.each(l,function(d){d.percentage=(d.value-h)/(p-h)})}},a._renderSliderShape=function(){this._setPercentage();var l=this.get("slider"),h=l.get("backgroundElement"),p=this.get("width"),d=this.get("height"),g=this.get("layout"),y=this.get("items"),E="",C;return g==="vertical"?(E+="l (90) ",o.each(y,function(m){C=v.toRGB(m.color),E+=1-m.percentage+":"+C+" "})):(E+="l (0) ",o.each(y,function(m){C=v.toRGB(m.color),E+=m.percentage+":"+C+" "})),this._addMiddleBar(h,"Rect",{x:0,y:0,width:p,height:d,fill:E,strokeOpacity:0})},a._renderUnslidable=function(){this._setPercentage();var l=this.get("titleShape"),h=this.get("titleGap");h=l?l.getBBox().height+h:h;var p=this.get("width"),d=this.get("height"),g=this.get("layout"),y=this.get("items"),E="",C,m=[],M=this.get("group"),b=M.addGroup(),S=y.length;if(g==="vertical"){E+="l (90) ";for(var A=0;A<S;A+=1){if(A!==0&&A!==S-1&&(m.push(["M",0,d-y[A].percentage*d]),m.push(["L",p,d-y[A].percentage*d])),C=v.toRGB(y[A].color),E+=1-y[A].percentage+":"+C+" ",this.get("isSegment")&&A>0){var T=v.toRGB(y[A-1].color);E+=1-y[A].percentage+":"+T+" "}b.addShape("text",{attrs:o.mix({},{x:p+this.get("textOffset")/2,y:d-y[A].percentage*d,text:this._formatItemValue(y[A].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{E+="l (0) ";for(var O=0;O<S;O+=1){if(O!==0&&O!==S-1&&(m.push(["M",y[O].percentage*p,0]),m.push(["L",y[O].percentage*p,d])),C=v.toRGB(y[O].color),this.get("isSegment")&&O>0){var D=v.toRGB(y[O-1].color);E+=y[O].percentage+":"+D+" "}E+=y[O].percentage+":"+C+" ",b.addShape("text",{attrs:o.mix({},{x:y[O].percentage*p,y:d+5+this.get("textOffset"),text:this._formatItemValue(y[O].value)+""},this.get("textStyle"))})}}b.addShape("rect",{attrs:{x:0,y:0,width:p,height:d,fill:E,strokeOpacity:0}}),b.addShape("path",{attrs:o.mix({path:m},this.get("lineStyle"))}),b.move(0,h)},n}(f);P.exports=r},function(P,x,i){var t=i(4),c=t.DomUtil,s=t.Group,v=function o(f){o.superclass.constructor.call(this,f)};t.extend(v,s),t.augment(v,{getDefaultCfg:function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_beforeRenderUI:function(){var f=this.get("layout"),r=this.get("backgroundElement"),e=this.get("minHandleElement"),n=this.get("maxHandleElement"),a=this.addShape("rect",{attrs:this.get("middleAttr")}),u=f==="vertical"?"ns-resize":"ew-resize";this.add([r,e,n]),this.set("middleHandleElement",a),r.set("zIndex",0),a.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),a.attr("cursor","move"),e.attr("cursor",u),n.attr("cursor",u),this.sort()},_renderUI:function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},_transform:function(f){var r=this.get("range"),e=r[0]/100,n=r[1]/100,a=this.get("width"),u=this.get("height"),l=this.get("minHandleElement"),h=this.get("maxHandleElement"),p=this.get("middleHandleElement");l.resetMatrix(),h.resetMatrix(),f==="horizontal"?(p.attr({x:a*e,y:0,width:(n-e)*a,height:u}),l.translate(e*a,u),h.translate(n*a,u)):(p.attr({x:0,y:u*(1-n),width:a,height:(n-e)*u}),l.translate(1,(1-e)*u),h.translate(1,(1-n)*u))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",t.wrapBehavior(this,"_onMouseDown"))},_isElement:function(f,r){var e=this.get(r);if(f===e)return!0;if(e.isGroup){var n=e.get("children");return n.indexOf(f)>-1}return!1},_getRange:function(f,r){var e=f+r;return e=e>100?100:e,e=e<0?0:e,e},_updateStatus:function(f,r){var e=f==="x"?this.get("width"):this.get("height");f=t.upperFirst(f);var n=this.get("range"),a=this.get("page"+f),u=this.get("currentTarget"),l=this.get("rangeStash"),h=this.get("layout"),p=h==="vertical"?-1:1,d=r["page"+f],g=d-a,y=g/e*100*p,E;n[1]<=n[0]?(this._isElement(u,"minHandleElement")||this._isElement(u,"maxHandleElement"))&&(n[0]=this._getRange(y,n[0]),n[1]=this._getRange(y,n[0])):(this._isElement(u,"minHandleElement")&&(n[0]=this._getRange(y,n[0])),this._isElement(u,"maxHandleElement")&&(n[1]=this._getRange(y,n[1]))),this._isElement(u,"middleHandleElement")&&(E=l[1]-l[0],n[0]=this._getRange(y,n[0]),n[1]=n[0]+E,n[1]>100&&(n[1]=100,n[0]=n[1]-E)),this.emit("sliderchange",{range:n}),this.set("page"+f,d),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(f){var r=f.currentTarget,e=f.event,n=this.get("range");e.stopPropagation(),e.preventDefault(),this.set("pageX",e.pageX),this.set("pageY",e.pageY),this.set("currentTarget",r),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var f=this.get("canvas").get("containerDOM");this.onMouseMoveListener=c.addEventListener(f,"mousemove",t.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=c.addEventListener(f,"mouseup",t.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=c.addEventListener(f,"mouseleave",t.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(f){if(!this._mouseOutArea(f)){var r=this.get("layout");r==="horizontal"?this._updateStatus("x",f):this._updateStatus("y",f)}},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_mouseOutArea:function(f){var r=this.get("canvas").get("el"),e=r.getBoundingClientRect(),n=this.get("parent"),a=n.getBBox(),u=n.attr("matrix")[6],l=n.attr("matrix")[7],h=u+a.width,p=l+a.height,d=f.clientX-e.x,g=f.clientY-e.y;return d<u||d>h||g<l||g>p}}),P.exports=v},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(97),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},e._renderSliderShape=function(){var a=this.get("slider"),u=a.get("backgroundElement"),l=this.get("layout"),h=this.get("width"),p=this.get("height"),d=this.get("height")/2,g=this.get("frontMiddleBarStyle"),y=l==="vertical"?[[0,0],[h,0],[h,p],[h-4,p]]:[[0,d+p/2],[0,d+p/2-4],[h,d-p/2],[h,d+p/2]];return this._addMiddleBar(u,"Polygon",s.mix({points:y},g))},e._renderUnslidable=function(){var a=this.get("layout"),u=this.get("width"),l=this.get("height"),h=this.get("frontMiddleBarStyle"),p=a==="vertical"?[[0,0],[u,0],[u,l],[u-4,l]]:[[0,l],[0,l-4],[u,0],[u,l]],d=this.get("group"),g=d.addGroup();g.addShape("Polygon",{attrs:s.mix({points:p},h)});var y=this._formatItemValue(this.get("firstItem").value),E=this._formatItemValue(this.get("lastItem").value);this.get("layout")==="vertical"?(this._addText(u+10,l-3,y),this._addText(u+10,3,E)):(this._addText(0,l,y),this._addText(u,l,E))},e._addText=function(a,u,l){var h=this.get("group"),p=h.addGroup(),d=this.get("textStyle"),g=this.get("titleShape"),y=this.get("titleGap");g&&(y+=g.getBBox().height),this.get("layout")==="vertical"?p.addShape("text",{attrs:s.mix({x:a+this.get("textOffset"),y:u,text:l===0?"0":l},d)}):(u+=y+this.get("textOffset")-20,g||(u+=10),p.addShape("text",{attrs:s.mix({x:a,y:u,text:l===0?"0":l},d)}))},r}(v);P.exports=o},function(P,x,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(4),v=i(97),o=2,f=16,r=16,e=5,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return s.mix({},p,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},l._renderSliderShape=function(){var p=e,d=this.get("slider"),g=d.get("backgroundElement"),y=this.get("layout"),E=y==="vertical"?o:this.get("width"),C=y==="vertical"?this.get("height"):o,m=p,M=this.get("height")/2,b=this.get("frontMiddleBarStyle"),S=y==="vertical"?[[0,0],[E,0],[E,C],[0,C]]:[[0,M+C],[0,M-C],[m+E-4,M-C],[m+E-4,M+C]];return this._addMiddleBar(g,"Polygon",s.mix({points:S},b))},l._addHorizontalTrigger=function(p,d,g,y){var E=this.get("slider"),C=E.get(p+"HandleElement"),m=-this.get("height")/2,M=C.addShape("circle",{attrs:s.mix({x:0,y:m,r:y},d)}),b=C.addShape("text",{attrs:s.mix(g,{x:0,y:m+y+10,textAlign:"center",textBaseline:"middle"})}),S=this.get("layout"),A=S==="vertical"?"ns-resize":"ew-resize";M.attr("cursor",A),b.attr("cursor",A),this.set(p+"ButtonElement",M),this.set(p+"TextElement",b)},l._addVerticalTrigger=function(p,d,g,y){var E=this.get("slider"),C=E.get(p+"HandleElement"),m=C.addShape("circle",{attrs:s.mix({x:0,y:0,r:y},d)}),M=C.addShape("text",{attrs:s.mix(g,{x:y+10,y:0,textAlign:"start",textBaseline:"middle"})}),b=this.get("layout"),S=b==="vertical"?"ns-resize":"ew-resize";m.attr("cursor",S),M.attr("cursor",S),this.set(p+"ButtonElement",m),this.set(p+"TextElement",M)},l._renderTrigger=function(){var p=this.get("firstItem"),d=this.get("lastItem"),g=this.get("layout"),y=this.get("textStyle"),E=this.get("triggerAttr"),C=s.mix({},E),m=s.mix({},E),M=e,b=r,S=s.mix({text:this._formatItemValue(p.value)+""},y),A=s.mix({text:this._formatItemValue(d.value)+""},y);g==="vertical"?(this._addVerticalTrigger("min",C,S,M),this._addVerticalTrigger("max",m,A,b)):(this._addHorizontalTrigger("min",C,S,M),this._addHorizontalTrigger("max",m,A,b))},l._bindEvents=function(){var p=this;if(this.get("slidable")){var d=this.get("slider");d.on("sliderchange",function(g){var y=g.range,E=p.get("firstItem").value,C=p.get("lastItem").value,m=E+y[0]/100*(C-E),M=E+y[1]/100*(C-E),b=e+y[0]/100*(r-e),S=e+y[1]/100*(r-e);p._updateElement(m,M,b,S);var A=new Event("itemfilter",g,!0,!0);A.range=[m,M],p.emit("itemfilter",A)})}},l._updateElement=function(p,d,g,y){a.prototype._updateElement.call(this,p,d);var E=this.get("minTextElement"),C=this.get("maxTextElement"),m=this.get("minButtonElement"),M=this.get("maxButtonElement");m.attr("r",g),M.attr("r",y);var b=this.get("layout");if(b==="vertical")E.attr("x",g+10),C.attr("x",y+10);else{var S=-this.get("height")/2;E.attr("y",S+g+10),C.attr("y",S+y+10)}},l._addCircle=function(p,d,g,y,E){var C=this.get("group"),m=C.addGroup(),M=this.get("_unslidableCircleStyle"),b=this.get("textStyle"),S=this.get("titleShape"),A=this.get("titleGap");S&&(A+=S.getBBox().height),m.addShape("circle",{attrs:s.mix({x:p,y:d+A,r:g===0?1:g},M)}),this.get("layout")==="vertical"?m.addShape("text",{attrs:s.mix({x:E+20+this.get("textOffset"),y:d+A,text:y===0?"0":y},b)}):m.addShape("text",{attrs:s.mix({x:p,y:d+A+E+13+this.get("textOffset"),text:y===0?"0":y},b)})},l._renderUnslidable=function(){var p=this.get("firstItem").value,d=this.get("lastItem").value;if(p>d){var g=d;d=p,p=g}var y=this._formatItemValue(p),E=this._formatItemValue(d),C=p<e?e:p,m=d>r?r:d;C>m&&(C=e,m=r),this.get("layout")==="vertical"?(this._addCircle(m,m,C,y,2*m),this._addCircle(m,m*2+f+C,m,E,2*m)):(this._addCircle(m,m,C,y,2*m),this._addCircle(m*2+f+C,m,m,E,2*m))},l.activate=function(p){!this.get("slidable")||a.prototype.activate.call(this,p)},u}(v);P.exports=n},function(P,x,i){var t=i(98);t.Html=i(389),t.Canvas=i(197),t.Mini=i(391),P.exports=t},function(P,x,i){function t(){return t=Object.assign||function(A){for(var T=1;T<arguments.length;T++){var O=arguments[T];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(A[D]=O[D])}return A},t.apply(this,arguments)}function c(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function s(A,T){A.prototype=Object.create(T.prototype),A.prototype.constructor=A,v(A,T)}function v(A,T){return v=Object.setPrototypeOf||function(D,L){return D.__proto__=L,D},v(A,T)}var o=i(51),f=i(98),r=i(4),e=r.DomUtil,n=i(390),a=i(194),u=i(195),l=i(196),h="g2-tooltip",p="g2-tooltip-title",d="g2-tooltip-list",g="g2-tooltip-marker",y="g2-tooltip-value",E="g2-tooltip-list-item",C=5,m=o.Marker;function M(A,T){return A.getElementsByClassName(T)[0]}function b(A,T){return Object.keys(A).forEach(function(O){T[O]&&(A[O]=r.mix(A[O],T[O]))}),A}var S=function(A){s(O,A);var T=O.prototype;T.getDefaultCfg=function(){var L=A.prototype.getDefaultCfg.call(this);return r.mix({},L,{containerTpl:' <div class="'+h+'"> <div class="'+p+'"></div><ul class="'+d+'"></ul></div>',itemTpl:`<li data-index={index}>
      <svg viewBox="0 0 `+C+" "+C+'" class="'+g+`"></svg>
      {name}<span class="`+y+'">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})};function O(D){var L;L=A.call(this,D)||this,r.assign(c(L),u),r.assign(c(L),l);var Z=n;L.style=b(Z,D),L._init_(),L.get("items")&&L.render();var U=L.get("crosshairs");if(U){var Y=U.type==="rect"?L.get("backPlot"):L.get("frontPlot"),W=new a(r.mix({plot:Y,plotRange:L.get("plotRange"),canvas:L.get("canvas")},L.get("crosshairs")));W.hide(),L.set("crosshairGroup",W)}return L}return T._init_=function(){var L=this,Z=L.get("containerTpl"),U=L.get("canvas").get("el").parentNode,Y;if(!this.get("htmlContent")){if(/^\#/.test(Z)){var W=Z.replace("#","");Y=document.getElementById(W)}else Y=e.createDom(Z),e.modifyCSS(Y,L.style[h]),U.appendChild(Y),U.style.position="relative";L.set("container",Y)}},T.render=function(){var L=this;if(L.clear(),L.get("htmlContent")){var Z=L.get("canvas").get("el").parentNode,U=L._getHtmlContent();Z.appendChild(U),L.set("container",U)}else L._renderTpl()},T._renderTpl=function(){var L=this,Z=L.get("showTitle"),U=L.get("titleContent"),Y=L.get("container"),W=M(Y,p),J=M(Y,d),ht=L.get("items");W&&Z&&(e.modifyCSS(W,L.style[p]),W.innerHTML=U),J&&(e.modifyCSS(J,L.style[d]),r.each(ht,function(nt,Q){J.appendChild(L._addItem(nt,Q))}))},T.clear=function(){var L=this.get("container");if(this.get("htmlContent"))L&&L.remove();else{var Z=M(L,p),U=M(L,d);Z&&(Z.innerHTML=""),U&&(U.innerHTML="")}},T.show=function(){var L=this.get("container");if(!(!L||this.destroyed)){L.style.visibility="visible",L.style.display="block";var Z=this.get("crosshairGroup");Z&&Z.show();var U=this.get("markerGroup");U&&U.show(),A.prototype.show.call(this),this.get("canvas").draw()}},T.hide=function(){var L=this.get("container");if(!(!L||this.destroyed)){L.style.visibility="hidden",L.style.display="none";var Z=this.get("crosshairGroup");Z&&Z.hide();var U=this.get("markerGroup");U&&U.hide(),A.prototype.hide.call(this),this.get("canvas").draw()}},T.destroy=function(){var L=this,Z=L.get("container"),U=L.get("containerTpl");Z&&!/^\#/.test(U)&&Z.parentNode.removeChild(Z);var Y=this.get("crosshairGroup");Y&&Y.destroy();var W=this.get("markerGroup");W&&W.remove(),A.prototype.destroy.call(this)},T._getMarkerSvg=function(L){var Z=L.marker||{},U=Z.activeSymbol||Z.symbol,Y;r.isFunction(U)?Y=U:r.isString(U)&&(Y=m.Symbols[U]),Y=r.isFunction(Y)?Y:m.Symbols.circle;var W=Y(C/2,C/2,C/2),J=W.reduce(function(ht,nt){return""+ht+nt[0]+nt.slice(1).join(",")},"");return'<path d="'+J+'" fill="'+(Z.fill||"none")+'" stroke="'+(Z.stroke||"none")+'" />'},T._addItem=function(L,Z){var U=this.get("itemTpl"),Y=r.substitute(U,r.mix({index:Z},L)),W=e.createDom(Y);e.modifyCSS(W,this.style[E]);var J=M(W,g);if(J){e.modifyCSS(J,t({},this.style[g],{borderRadius:"unset"}));var ht=this._getMarkerSvg(L);J.innerHTML=ht}var nt=M(W,y);return nt&&e.modifyCSS(nt,this.style[y]),W},T._getHtmlContent=function(){var L=this.get("htmlContent"),Z=this.get("titleContent"),U=this.get("items"),Y=L(Z,U),W=e.createDom(Y);return W},T.setPosition=function(L,Z,U){var Y=this.get("container"),W=this.get("canvas").get("el"),J=e.getWidth(W),ht=e.getHeight(W),nt=Y.clientWidth,Q=Y.clientHeight,xt=L,_t=Z,Nt,rt=this.get("prePosition")||{x:0,y:0};if(nt||(Y.style.display="block",nt=Y.clientWidth,Q=Y.clientHeight,Y.style.display="none"),this.get("enterable")?(Z=Z-Y.clientHeight/2,Nt=[L,Z],rt&&L-rt.x>0?L-=Y.clientWidth+1:L+=1):this.get("position")?(Nt=this._calcTooltipPosition(L,Z,this.get("position"),nt,Q,U),L=Nt[0],Z=Nt[1]):(Nt=this._constraintPositionInBoundary(L,Z,nt,Q,J,ht),L=Nt[0],Z=Nt[1]),this.get("inPlot")){var q=this.get("plotRange");Nt=this._constraintPositionInPlot(L,Z,nt,Q,q,this.get("enterable")),L=Nt[0],Z=Nt[1]}var G=this.get("markerItems");r.isEmpty(G)||(xt=G[0].x,_t=G[0].y),this.set("prePosition",Nt);var N=this.get("follow");N&&(Y.style.left=L+"px",Y.style.top=Z+"px");var at=this.get("crosshairGroup");if(at){var H=this.get("items");at.setPosition(xt,_t,H)}A.prototype.setPosition.call(this,L,Z)},O}(f);P.exports=S},function(P,x,i){var t,c=i(16),s=c.FONT_FAMILY,v="g2-tooltip",o="g2-tooltip-title",f="g2-tooltip-list",r="g2-tooltip-list-item",e="g2-tooltip-marker",n="g2-tooltip-value",a=(t={crosshairs:!1,offset:15},t[""+v]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:s,lineHeight:"20px",padding:"10px 10px 6px 10px"},t[""+o]={marginBottom:"4px"},t[""+f]={margin:0,listStyleType:"none",padding:0},t[""+r]={marginBottom:"4px"},t[""+e]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},t[""+n]={display:"inline-block",float:"right",marginLeft:"30px"},t);P.exports=a},function(P,x,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(4),v=i(197),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e=s.MatrixUtil,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return s.mix({},p,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:f,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},l._init_=function(){var p=this,d=p.get("padding"),g=p.get("frontPlot"),y=g.addGroup();p.set("container",y);var E=y.addShape("rect",{attrs:s.mix({},p.get("boardStyle"))});p.set("board",E);var C=y.addShape("path",{attrs:{fill:p.get("boardStyle").fill}});p.set("triangleShape",C);var m=y.addGroup();m.move(d.left,d.top);var M=m.addShape("text",{attrs:s.mix({},p.get("valueStyle"))});p.set("valueShape",M)},l.render=function(){var p=this;p.clear();var d=p.get("board"),g=p.get("valueShape"),y=p.get("padding"),E=p.get("items")[0];g&&g.attr("text",E.value);var C=g?g.getBBox():{width:80,height:30},m=y.left+C.width+y.right,M=y.top+C.height+y.bottom;d.attr("width",m),d.attr("height",M),p._centerTriangleShape()},l.clear=function(){var p=this.get("valueShape");p.attr("text","")},l.setPosition=function(p,d,g){var y=this,E=y.get("container"),C=y.get("plotRange"),m=E.getBBox(),M=m.width,b=m.height;if(p-=M/2,g&&(g.name==="point"||g.name==="interval")){var S=g.getBBox().y;d=S}if(d-=b,this.get("inPlot"))p<C.tl.x?(p=C.tl.x,y._leftTriangleShape()):p+M/2>C.tr.x?(p=C.tr.x-M,y._rightTriangleShape()):y._centerTriangleShape(),d<C.tl.y?d=C.tl.y:d+b>C.bl.y&&(d=C.bl.y-b);else{var A=this.get("canvas").get("el"),T=r.getWidth(A),O=r.getHeight(A);p<0?(p=0,y._leftTriangleShape()):p+M/2>T?(p=T-M,y._rightTriangleShape()):y._centerTriangleShape(),d<0?d=0:d+b>O&&(d=O-b)}var D=[1,0,0,0,1,0,0,0,1],L=e.transform(D,[["t",p,d]]);E.stopAnimate(),E.animate({matrix:L},this.get("animationDuration"))},l._centerTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),E=y.width,C=y.height,m=[["M",0,0],["L",d,0],["L",d/2,g],["L",0,0],["Z"]];p.attr("path",m),p.move(E/2-d/2,C-1)},l._leftTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),E=y.height,C=[["M",0,0],["L",d,0],["L",0,g+3],["L",0,0],["Z"]];p.attr("path",C),p.move(0,E-3)},l._rightTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),E=y.width,C=y.height,m=[["M",0,0],["L",d,0],["L",d,g+4],["L",0,0],["Z"]];p.attr("path",m),p.move(E-d-1,C-4)},u}(v);P.exports=n},function(P,x,i){var t=i(0).MatrixUtil,c=t.vec2;function s(o,f,r,e){var n=[],a,u,l=!!e,h,p;if(l){h=[Infinity,Infinity],p=[-Infinity,-Infinity];for(var d=0,g=o.length;d<g;d++){var y=o[d];h=c.min([],h,y),p=c.max([],p,y)}h=c.min([],h,e[0]),p=c.max([],p,e[1])}for(var E=0,C=o.length;E<C;E++){var m=o[E];if(r)a=o[E?E-1:C-1],u=o[(E+1)%C];else if(E===0||E===C-1){n.push(m);continue}else a=o[E-1],u=o[E+1];var M=[];M=c.sub(M,u,a),M=c.scale(M,M,f);var b=c.distance(m,a),S=c.distance(m,u),A=b+S;A!==0&&(b/=A,S/=A);var T=c.scale([],M,-b),O=c.scale([],M,S),D=c.add([],m,T),L=c.add([],m,O);l&&(D=c.max([],D,h),D=c.min([],D,p),L=c.max([],L,h),L=c.min([],L,p)),n.push(D),n.push(L)}return r&&n.push(n.shift()),n}function v(o,f,r){for(var e=!!f,n=[],a=0,u=o.length;a<u;a+=2)n.push([o[a],o[a+1]]);for(var l=s(n,.4,e,r),h=n.length,p=[],d,g,y,E=0;E<h-1;E++)d=l[E*2],g=l[E*2+1],y=n[E+1],p.push(["C",d[0],d[1],g[0],g[1],y[0],y[1]]);return e&&(d=l[h],g=l[h+1],y=n[0],p.push(["C",d[0],d[1],g[0],g[1],y[0],y[1]])),p}P.exports={catmullRom2bezier:v}},function(P,x,i){var t=i(0),c=i(198),s=i(25),v=i(8),o=5;function f(n,a,u){return{x:n.x+u*Math.cos(a),y:n.y+u*Math.sin(a)}}function r(n,a,u,l,h){var p=!0,d=u.start,g=u.end,y=Math.min(d.y,g.y),E=Math.abs(d.y-g.y),C,m=0,M=Number.MIN_VALUE,b=n.map(function(T){return T.y>m&&(m=T.y),T.y<M&&(M=T.y),{size:a,targets:[T.y-y]}});for(M-=y,m-y>E&&(E=m-y);p;)for(b.forEach(function(T){var O=(Math.min.apply(M,T.targets)+Math.max.apply(M,T.targets))/2;T.pos=Math.min(Math.max(M,O-T.size/2),E-T.size)}),p=!1,C=b.length;C--;)if(C>0){var S=b[C-1],A=b[C];S.pos+S.size>A.pos&&(S.size+=A.size,S.targets=S.targets.concat(A.targets),S.pos+S.size>E&&(S.pos=E-S.size),b.splice(C,1),p=!0)}C=0,b.forEach(function(T){var O=y+a/2;T.targets.forEach(function(){n[C].y=T.pos+O,O+=a,C++})}),n.forEach(function(T){var O=T.r*T.r,D=Math.pow(Math.abs(T.y-l.y),2);if(O<D)T.x=l.x;else{var L=Math.sqrt(O-D);h?T.x=l.x+L:T.x=l.x-L}})}var e=function n(a){n.superclass.constructor.call(this,a)};t.extend(e,c),t.augment(e,{getDefaultCfg:function(){return{label:v.thetaLabels}},getDefaultOffset:function(a){return a.offset||0},adjustItems:function(a){var u=this,l=a[0]?a[0].offset:0;return l>0&&(a=u._distribute(a,l)),e.superclass.adjustItems.call(this,a)},_distribute:function(a,u){var l=this,h=l.get("coord"),p=h.getRadius(),d=l.get("label").labelHeight,g=h.getCenter(),y=p+u,E=y*2+d*2,C={start:h.start,end:h.end},m=l.get("geom");if(m){var M=m.get("view");C=M.getViewRegion()}var b=[[],[]];return a.forEach(function(S){!S||(S.textAlign==="right"?b[0].push(S):b[1].push(S))}),b.forEach(function(S,A){var T=parseInt(E/d,10);S.length>T&&(S.sort(function(O,D){return D["..percent"]-O["..percent"]}),S.splice(T,S.length-T)),S.sort(function(O,D){return O.y-D.y}),r(S,d,C,g,A)}),b[0].concat(b[1])},lineToLabel:function(a){var u=this,l=u.get("coord"),h=l.getRadius(),p=a.offset,d=a.orignAngle||a.angle,g=l.getCenter(),y=f(g,d,h+o/2),E=f(g,d,h+p/2);a.labelLine||(a.labelLine=u.get("label").labelLine||{}),a.labelLine.path=["M"+y.x,y.y+" Q"+E.x,E.y+" "+a.x,a.y].join(",")},getLabelRotate:function(a,u){var l;return u<0&&(l=a*180/Math.PI,l>90&&(l=l-180),l<-90&&(l=l+180)),l/180*Math.PI},getLabelAlign:function(a){var u=this,l=u.get("coord"),h=l.getCenter(),p;a.angle<=Math.PI/2&&a.x>=h.x?p="left":p="right";var d=u.getDefaultOffset(a);return d<=0&&(p==="right"?p="left":p="right"),p},getArcPoint:function(a){return a},getPointAngle:function(a){var u=this,l=u.get("coord"),h={x:t.isArray(a.x)?a.x[0]:a.x,y:a.y[0]};u.transLabelPoint(h);var p={x:t.isArray(a.x)?a.x[1]:a.x,y:a.y[1]};u.transLabelPoint(p);var d,g=s.getPointAngle(l,h);if(a.points&&a.points[0].y===a.points[1].y)d=g;else{var y=s.getPointAngle(l,p);g>=y&&(y=y+Math.PI*2),d=g+(y-g)/2}return d},getCirclePoint:function(a,u){var l=this,h=l.get("coord"),p=h.getCenter(),d=h.getRadius()+u,g=f(p,a,d);return g.angle=a,g.r=d,g}}),P.exports=e},function(P,x,i){var t=i(0),c=i(91),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{setLabelPosition:function(o,f,r,e){t.isFunction(e)&&(e=e(o.text,f._origin,r));var n=this.get("coord"),a=n.isTransposed,u=n.convertPoint(f.points[0]),l=n.convertPoint(f.points[2]),h=(u.x-l.x)/2*(a?-1:1),p=(u.y-l.y)/2*(a?-1:1);switch(e){case"right":a?(o.x-=h,o.y+=p,o.textAlign=o.textAlign||"center"):(o.x-=h,o.y+=p,o.textAlign=o.textAlign||"left");break;case"left":a?(o.x-=h,o.y-=p,o.textAlign=o.textAlign||"center"):(o.x+=h,o.y+=p,o.textAlign=o.textAlign||"right");break;case"bottom":a?(o.x-=h*2,o.textAlign=o.textAlign||"left"):(o.y+=p*2,o.textAlign=o.textAlign||"center");break;case"middle":a?o.x-=h:o.y+=p,o.textAlign=o.textAlign||"center";break;case"top":a?o.textAlign=o.textAlign||"left":o.textAlign=o.textAlign||"center";break;default:break}}}),P.exports=s},function(P,x,i){var t=i(0),c=i(8),s=c.defaultColor,v="_origin";function o(r){return r.alias||r.field}var f={_getIntervalSize:function(e){var n=null,a=this.get("type"),u=this.get("coord");if(u.isRect&&(a==="interval"||a==="schema")){n=this.getSize(e[v]);var l=u.isTransposed?"y":"x";if(t.isArray(e[l])){var h=Math.abs(e[l][1]-e[l][0]);n=n<h?null:n}}return n},_snapEqual:function(e,n,a){var u;return e=a.translate(e),n=a.translate(n),a.isCategory?u=e===n:u=t.snapEqual(e,n),u},_getScaleValueByPoint:function(e){var n=0,a=this.get("coord"),u=this.getXScale(),l=a.invert(e),h=l.x;return this.isInCircle()&&h>(1+u.rangeMax())/2&&(h=u.rangeMin()),n=u.invert(h),u.isCategory&&(n=u.translate(n)),n},_getOriginByPoint:function(e){var n=this.getXScale(),a=this.getYScale(),u=n.field,l=a.field,h=this.get("coord"),p=h.invert(e),d=n.invert(p.x),g=a.invert(p.y),y={};return y[u]=d,y[l]=g,y},_getScale:function(e){var n=this,a=n.get("scales"),u=null;return t.each(a,function(l){if(l.field===e)return u=l,!1}),u},_getTipValueScale:function(){var e=this.getAttrsForLegend(),n;t.each(e,function(l){var h=l.getScale(l.type);if(h.isLinear)return n=h,!1});var a=this.getXScale(),u=this.getYScale();return!n&&u&&u.field==="..y"?a:n||u||a},_getTipTitleScale:function(e){var n=this;if(e)return n._getScale(e);var a=n.getAttr("position"),u=a.getFields(),l;return t.each(u,function(h){if(!h.includes(".."))return l=h,!1}),n._getScale(l)},_filterValue:function(e,n){var a=this.get("coord"),u=this.getYScale(),l=u.field,h=a.invert(n),p=h.y;p=u.invert(p);var d=e[e.length-1];return t.each(e,function(g){var y=g[v];if(y[l][0]<=p&&y[l][1]>=p)return d=g,!1}),d},getXDistance:function(){var e=this,n=e.get("xDistance");if(!n){var a=e.getXScale();if(a.isCategory)n=1;else{var u=a.values,l=a.translate(u[0]),h=l;t.each(u,function(d){d=a.translate(d),d<l&&(l=d),d>h&&(h=d)});var p=u.length;n=(h-l)/(p-1)}e.set("xDistance",n)}return n},findPoint:function(e,n){var a=this,u=a.get("type"),l=a.getXScale(),h=a.getYScale(),p=l.field,d=h.field,g=null;if(t.indexOf(["heatmap","point"],u)>-1){var y=a.get("coord"),E=y.invert(e),C=l.invert(E.x),m=h.invert(E.y),M=Infinity;return t.each(n,function(nt){var Q=Math.pow(nt[v][p]-C,2)+Math.pow(nt[v][d]-m,2);Q<M&&(M=Q,g=nt)}),g}var b=n[0],S=n[n.length-1];if(!b)return g;var A=a._getScaleValueByPoint(e),T=b[v][p],O=b[v][d],D=S[v][p],L=h.isLinear&&t.isArray(O);if(t.isArray(T))t.each(n,function(nt){var Q=nt[v];if(l.translate(Q[p][0])<=A&&l.translate(Q[p][1])>=A)if(L)t.isArray(g)||(g=[]),g.push(nt);else return g=nt,!1}),t.isArray(g)&&(g=this._filterValue(g,e));else{var Z;if(!l.isLinear&&l.type!=="timeCat")t.each(n,function(nt,Q){var xt=nt[v];if(a._snapEqual(xt[p],A,l))if(L)t.isArray(g)||(g=[]),g.push(nt);else return g=nt,!1;else l.translate(xt[p])<=A&&(S=nt,Z=n[Q+1])}),t.isArray(g)&&(g=this._filterValue(g,e));else{if((A>l.translate(D)||A<l.translate(T))&&(A>l.max||A<l.min))return null;for(var U=0,Y=n.length-1,W;U<=Y;){W=Math.floor((U+Y)/2);var J=n[W][v][p];if(a._snapEqual(J,A,l))return n[W];l.translate(J)<=l.translate(A)?(U=W+1,S=n[W],Z=n[W+1]):(Y===0&&(S=n[0]),Y=W-1)}}S&&Z&&Math.abs(l.translate(S[v][p])-A)>Math.abs(l.translate(Z[v][p])-A)&&(S=Z)}var ht=a.getXDistance();return!g&&Math.abs(l.translate(S[v][p])-A)<=ht/2&&(g=S),g},getTipTitle:function(e,n){var a="",u=this._getTipTitleScale(n);if(u){var l=e[u.field];a=u.getText(l)}else if(this.get("type")==="heatmap"){var h=this.getXScale(),p=this.getYScale(),d=h.getText(e[h.field]),g=p.getText(e[p.field]);a="( "+d+", "+g+" )"}return a},getTipValue:function(e,n){var a,u=n.field,l=e.key;if(a=e[u],t.isArray(a)){var h=[];t.each(a,function(p){h.push(n.getText(p))}),a=h.join("-")}else a=n.getText(a,l);return a},getTipName:function(e){var n,a,u=this._getGroupScales();if(u.length&&t.each(u,function(p){return a=p,!1}),a){var l=a.field;n=a.getText(e[l])}else{var h=this._getTipValueScale();n=o(h)}return n},getTipItems:function(e,n){var a=this,u=e[v],l=a.getTipTitle(u,n),h=a.get("tooltipCfg"),p=[],d,g;function y(S,A,T){if(!t.isNil(A)&&A!==""){var O={title:l,point:e,name:S||l,value:A,color:e.color||s,marker:!0};O.size=a._getIntervalSize(e),p.push(t.mix({},O,T))}}if(h){var E=h.fields,C=h.cfg,m=[];if(t.each(E,function(S){m.push(u[S])}),C){t.isFunction(C)&&(C=C.apply(null,m));var M=t.mix({},{point:e,title:l,color:e.color||s,marker:!0},C);M.size=a._getIntervalSize(e),p.push(M)}else t.each(E,function(S){if(!t.isNil(u[S])){var A=a._getScale(S);d=o(A),g=A.getText(u[S]),y(d,g)}})}else{var b=a._getTipValueScale();t.isNil(u[b.field])||(g=a.getTipValue(u,b),d=a.getTipName(u),y(d,g))}return p},isShareTooltip:function(){var e=this.get("shareTooltip"),n=this.get("type"),a=this.get("view"),u;if(a.get("parent")?u=a.get("parent").get("options"):u=a.get("options"),n==="interval"){var l=this.get("coord"),h=l.type;(h==="theta"||h==="polar"&&l.isTransposed)&&(e=!1)}else(!this.getYScale()||t.inArray(["contour","point","polygon","edge"],n))&&(e=!1);return u.tooltip&&t.isBoolean(u.tooltip.shared)&&(e=u.tooltip.shared),e}};P.exports=f},function(P,x,i){var t=i(0),c="_origin",s=i(199),v="_originActiveAttrs";function o(n,a){if(t.isNil(n)||t.isNil(a))return!1;var u=n.get("origin"),l=a.get("origin");return t.isEqual(u,l)}function f(n,a){if(!n||n.length!==a.length)return!0;var u=!1;return t.each(a,function(l,h){if(!o(l,n[h]))return u=!0,!1}),u}function r(n,a){var u={};return t.each(n,function(l,h){var p=a.attr(h);t.isArray(p)&&(p=t.cloneDeep(p)),u[h]=p}),u}var e={_isAllowActive:function(){var a=this.get("allowActive");if(t.isNil(a)){var u=this.get("view"),l=this.isShareTooltip(),h=u.get("options");if(h.tooltip===!1||!l)return!0}else return a;return!1},_onMouseenter:function(a){var u=this,l=a.shape,h=u.get("shapeContainer");l&&h.contain(l)&&u._isAllowActive()&&u.setShapesActived(l)},_onMouseleave:function(){var a=this,u=a.get("view"),l=u.get("canvas");a.get("activeShapes")&&(a.clearActivedShapes(),l.draw())},_bindActiveAction:function(){var a=this,u=a.get("view"),l=a.get("type");u.on(l+":mouseenter",t.wrapBehavior(a,"_onMouseenter")),u.on(l+":mouseleave",t.wrapBehavior(a,"_onMouseleave"))},_offActiveAction:function(){var a=this,u=a.get("view"),l=a.get("type");u.off(l+":mouseenter",t.getWrapBehavior(a,"_onMouseenter")),u.off(l+":mouseleave",t.getWrapBehavior(a,"_onMouseleave"))},_setActiveShape:function(a){var u=this,l=u.get("activedOptions")||{},h=a.get("origin"),p=h.shape||u.getDefaultValue("shape");t.isArray(p)&&(p=p[0]);var d=u.get("shapeFactory"),g=t.mix({},a.attr(),{origin:h}),y=d.getActiveCfg(p,g);l.style&&t.mix(y,l.style);var E=r(y,a);a.setSilent(v,E),l.animate?a.animate(y,300):a.attr(y),s.toFront(a)},setShapesActived:function(a){var u=this;t.isArray(a)||(a=[a]);var l=u.get("activeShapes");if(!!f(l,a)){var h=u.get("view"),p=h.get("canvas"),d=u.get("activedOptions");d&&d.highlight?(t.each(a,function(g){g.get("animating")&&g.stopAnimate()}),u.highlightShapes(a)):(l&&u.clearActivedShapes(),t.each(a,function(g){g.get("animating")&&g.stopAnimate(),g.get("visible")&&u._setActiveShape(g)})),u.set("activeShapes",a),p.draw()}},clearActivedShapes:function(){var a=this,u=a.get("shapeContainer"),l=a.get("activedOptions"),h=l&&l.animate;if(u&&!u.get("destroyed")){var p=a.get("activeShapes");t.each(p,function(y){var E=y.get(v);h?(y.stopAnimate(),y.animate(E,300)):y.attr(E),s.resetZIndex(y),y.setSilent(v,null)});var d=a.get("preHighlightShapes");if(d){var g=u.get("children");t.each(g,function(y){var E=y.get(v);E&&(h?(y.stopAnimate(),y.animate(E,300)):y.attr(E),s.resetZIndex(y),y.setSilent(v,null))})}a.set("activeShapes",null),a.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(a){var u=this,l=u.get("shapeContainer"),h=[];if(l){var p=u.getXScale().field,d=u.getShapes(),g=u._getOriginByPoint(a);t.each(d,function(y){var E=y.get("origin");if(y.get("visible")&&E){var C=E[c][p];C===g[p]&&h.push(y)}})}return h},getSingleShapeByPoint:function(a){var u=this,l=u.get("shapeContainer"),h=l.get("canvas"),p=h.get("pixelRatio"),d;if(l&&(d=l.getShape(a.x*p,a.y*p)),d&&d.get("origin"))return d},highlightShapes:function(a,u){var l=this;t.isArray(a)||(a=[a]);var h=l.get("activeShapes");if(!!f(h,a)){h&&l.clearActivedShapes();var p=l.getShapes(),d=l.get("activedOptions"),g=d&&d.animate,y=d&&d.style;t.each(p,function(E){var C={};E.stopAnimate(),t.indexOf(a,E)!==-1?(t.mix(C,y,u),s.toFront(E)):(t.mix(C,{fillOpacity:.3,opacity:.3}),s.resetZIndex(E));var m=r(C,E);E.setSilent(v,m),g?E.animate(C,300):E.attr(C)}),l.set("preHighlightShapes",a),l.set("activeShapes",a)}}};P.exports=e},function(P,x,i){var t=i(0),c="_origin",s=i(199);function v(r,e){if(t.isNil(r)||t.isNil(e))return!1;var n=r.get("origin"),a=e.get("origin");return t.isEqual(n,a)}function o(r,e){var n={};return t.each(r,function(a,u){u==="transform"&&(u="matrix");var l=e.attr(u);t.isArray(l)&&(l=t.cloneDeep(l)),n[u]=l}),n}var f={_isAllowSelect:function(){var e=this.get("allowSelect");if(t.isNil(e)){var n=this.get("type"),a=this.get("coord"),u=a&&a.type;if(n==="interval"&&u==="theta")return!0}else return e;return!1},_onClick:function(e){var n=this;if(n._isAllowSelect()){var a=e.shape,u=n.get("shapeContainer");a&&u.contain(a)&&n.setShapeSelected(a)}},_bindSelectedAction:function(){var e=this,n=e.get("view"),a=e.get("type");n.on(a+":click",t.wrapBehavior(e,"_onClick"))},_offSelectedAction:function(){var e=this,n=e.get("view"),a=e.get("type");n.off(a+":click",t.getWrapBehavior(e,"_onClick"))},_setShapeStatus:function(e,n){var a=this,u=a.get("view"),l=a.get("selectedOptions")||{},h=l.animate!==!1,p=u.get("canvas");e.set("selected",n);var d=e.get("origin");if(n){var g=d.shape||a.getDefaultValue("shape");t.isArray(g)&&(g=g[0]);var y=a.get("shapeFactory"),E=t.mix({geom:a,point:d},l),C=y.getSelectedCfg(g,E);t.mix(C,E.style),e.get("_originAttrs")||(e.get("animating")&&e.stopAnimate(),e.set("_originAttrs",o(C,e))),l.toFront&&s.toFront(e),h?e.animate(C,300):(e.attr(C),p.draw())}else{var m=e.get("_originAttrs");l.toFront&&s.resetZIndex(e),e.set("_originAttrs",null),h?e.animate(m,300):(e.attr(m),p.draw())}},setShapeSelected:function(e){var n=this,a=n._getSelectedShapes(),u=n.get("selectedOptions")||{},l=u.cancelable!==!1;if(u.mode==="multiple")t.indexOf(a,e)===-1?(a.push(e),n._setShapeStatus(e,!0)):l&&(t.Array.remove(a,e),n._setShapeStatus(e,!1));else{var h=a[0];l&&(e=v(h,e)?null:e),v(h,e)||(h&&n._setShapeStatus(h,!1),e&&n._setShapeStatus(e,!0))}},clearSelected:function(){var e=this,n=e.get("shapeContainer");if(n&&!n.get("destroyed")){var a=e._getSelectedShapes();t.each(a,function(u){e._setShapeStatus(u,!1),u.set("_originAttrs",null)})}},setSelected:function(e){var n=this,a=n.getShapes();return t.each(a,function(u){var l=u.get("origin");l&&l[c]===e&&n.setShapeSelected(u)}),this},_getSelectedShapes:function(){var e=this,n=e.getShapes(),a=[];return t.each(n,function(u){u.get("selected")&&a.push(u)}),e.set("selectedShapes",a),a}};P.exports=f},function(P,x,i){var t=i(0);P.exports=function(c){return t.isArray(c)?c:t.isString(c)?c.split("*"):[c]}},function(P,x,i){var t=i(105),c=i(0),s=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,v={LINEAR:"linear",CAT:"cat",TIME:"time"},o=function(){function f(e){this.defs={},this.viewTheme={scales:{}},this.filters={},c.assign(this,e)}var r=f.prototype;return r._getDef=function(n){var a=this.defs,u=this.viewTheme,l=null;return(u.scales[n]||a[n])&&(l=c.mix({},u.scales[n]),c.each(a[n],function(h,p){c.isNil(h)?delete l[p]:l[p]=h}),this.filters[n]&&(delete l.min,delete l.max)),l},r._getDefaultType=function(n,a){var u=v.LINEAR,l=c.Array.firstValue(a,n);return c.isArray(l)&&(l=l[0]),s.test(l)?u=v.TIME:c.isString(l)&&(u=v.CAT),u},r._getScaleCfg=function(n,a,u){var l={field:a},h=c.Array.values(u,a);if(l.values=h,!t.isCategory(n)&&n!=="time"){var p=c.Array.getRange(h);l.min=p.min,l.max=p.max,l.nice=!0}return n==="time"&&(l.nice=!1),l},r.createScale=function(n,a){var u=this,l=u._getDef(n),h,p=a||[],d=c.Array.firstValue(p,n);if(c.isNumber(n)||c.isNil(d)&&!l)h=t.identity({value:n,field:n.toString(),values:[n]});else{var g;l&&(g=l.type),g=g||u._getDefaultType(n,p);var y=u._getScaleCfg(g,n,p);l&&c.mix(y,l),h=t[g](y)}return h},f}();P.exports=o},function(P,x,i){var t=i(0),c=i(401),s=function(){function v(f){this.type="rect",this.actions=[],this.cfg={},t.mix(this,f),this.option=f||{}}var o=v.prototype;return o.reset=function(r){return this.actions=r.actions||[],this.type=r.type,this.cfg=r.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},o._execActions=function(r){var e=this.actions;t.each(e,function(n){var a=n[0];r[a](n[1],n[2])})},o.hasAction=function(r){var e=this.actions,n=!1;return t.each(e,function(a){if(r===a[0])return n=!0,!1}),n},o.createCoord=function(r,e){var n=this,a=n.type,u=n.cfg,l,h,p=t.mix({start:r,end:e},u);return a==="theta"?(l=c.Polar,n.hasAction("transpose")||n.transpose(),h=new l(p),h.type=a):(l=c[t.upperFirst(a||"")]||c.Rect,h=new l(p)),n._execActions(h),h},o.rotate=function(r){return r=r*Math.PI/180,this.actions.push(["rotate",r]),this},o.reflect=function(r){return this.actions.push(["reflect",r]),this},o.scale=function(r,e){return this.actions.push(["scale",r,e]),this},o.transpose=function(){return this.actions.push(["transpose"]),this},v}();P.exports=s},function(P,x,i){"use strict";var t=i(56);t.Cartesian=i(402),t.Rect=t.Cartesian,t.Polar=i(403),t.Helix=i(404),P.exports=t},function(P,x,i){"use strict";function t(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(y){return typeof y}:t=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(d)}function c(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function s(d,g){return g&&(t(g)==="object"||typeof g=="function")?g:v(d)}function v(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function o(d,g){for(var y=0;y<g.length;y++){var E=g[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(d,E.key,E)}}function f(d,g,y){return g&&o(d.prototype,g),y&&o(d,y),d}function r(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&e(d,g)}function e(d,g){return e=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E},e(d,g)}function n(d,g,y){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(C,m,M){var b=a(C,m);if(!!b){var S=Object.getOwnPropertyDescriptor(b,m);return S.get?S.get.call(M):S.value}},n(d,g,y||d)}function a(d,g){for(;!Object.prototype.hasOwnProperty.call(d,g)&&(d=u(d),d!==null););return d}function u(d){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},u(d)}var l=i(10),h=i(56),p=function(d){r(g,d),f(g,[{key:"getDefaultCfg",value:function(){var E=n(u(g.prototype),"getDefaultCfg",this).call(this);return l({},E,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]);function g(y){var E;return c(this,g),E=s(this,u(g).call(this,y)),E._init(),E}return f(g,[{key:"_init",value:function(){var E=this.start,C=this.end,m={start:E.x,end:C.x},M={start:E.y,end:C.y};this.x=m,this.y=M}},{key:"convertPoint",value:function(E){var C,m;return this.isTransposed?(C=E.y,m=E.x):(C=E.x,m=E.y),{x:this.convertDim(C,"x"),y:this.convertDim(m,"y")}}},{key:"invertPoint",value:function(E){var C=this.invertDim(E.x,"x"),m=this.invertDim(E.y,"y");return this.isTransposed?{x:m,y:C}:{x:C,y:m}}}]),g}(h);P.exports=p},function(P,x,i){"use strict";function t(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(b){return typeof b}:t=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},t(m)}function c(m,M){if(!(m instanceof M))throw new TypeError("Cannot call a class as a function")}function s(m,M){return M&&(t(M)==="object"||typeof M=="function")?M:v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function o(m,M){for(var b=0;b<M.length;b++){var S=M[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function f(m,M,b){return M&&o(m.prototype,M),b&&o(m,b),m}function r(m,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(M&&M.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),M&&e(m,M)}function e(m,M){return e=Object.setPrototypeOf||function(S,A){return S.__proto__=A,S},e(m,M)}function n(m,M,b){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(A,T,O){var D=a(A,T);if(!!D){var L=Object.getOwnPropertyDescriptor(D,T);return L.get?L.get.call(O):L.value}},n(m,M,b||m)}function a(m,M){for(;!Object.prototype.hasOwnProperty.call(m,M)&&(m=u(m),m!==null););return m}function u(m){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},u(m)}var l=i(50),h=i(30),p=i(10),d=i(56),g=l.mat3,y=l.vec2,E=l.vec3,C=function(m){r(M,m),f(M,[{key:"getDefaultCfg",value:function(){var S=n(u(M.prototype),"getDefaultCfg",this).call(this);return p({},S,{startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,type:"polar",isPolar:!0})}}]);function M(b){var S;return c(this,M),S=s(this,u(M).call(this,b)),S._init(),S}return f(M,[{key:"_init",value:function(){for(var S=this.radius,A=this.innerRadius,T=this.center,O=this.startAngle,D=this.endAngle;D<O;)D+=Math.PI*2;this.endAngle=D;var L=this.getOneBox(),Z=L.maxX-L.minX,U=L.maxY-L.minY,Y=Math.abs(L.minX)/Z,W=Math.abs(L.minY)/U,J=this.width,ht=this.height,nt,Q;ht/U>J/Z?(nt=J/Z,Q={x:T.x-(.5-Y)*J,y:T.y-(.5-W)*nt*U}):(nt=ht/U,Q={x:T.x-(.5-Y)*nt*Z,y:T.y-(.5-W)*ht}),S?S>0&&S<=1?S=nt*S:(S<=0||S>nt)&&(S=nt):S=nt;var xt={start:O,end:D},_t={start:A*S,end:S};this.x=xt,this.y=_t,this.radius=S,this.circleCentre=Q,this.center=Q}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var S=this.startAngle,A=this.endAngle;if(Math.abs(A-S)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var T=[0,Math.cos(S),Math.cos(A)],O=[0,Math.sin(S),Math.sin(A)],D=Math.min(S,A);D<Math.max(S,A);D+=Math.PI/18)T.push(Math.cos(D)),O.push(Math.sin(D));return{minX:Math.min.apply(Math,T),maxX:Math.max.apply(Math,T),minY:Math.min.apply(Math,O),maxY:Math.max.apply(Math,O)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(S){var A=this.getCenter(),T=this.isTransposed?S.y:S.x,O=this.isTransposed?S.x:S.y;return T=this.convertDim(T,"x"),O=this.convertDim(O,"y"),{x:A.x+Math.cos(T)*O,y:A.y+Math.sin(T)*O}}},{key:"invertPoint",value:function(S){var A=this.getCenter(),T=[S.x-A.x,S.y-A.y],O=this.x,D=[1,0,0,0,1,0,0,0,1];g.rotate(D,D,O.start);var L=[1,0,0];E.transformMat3(L,L,D),L=[L[0],L[1]];var Z=y.angleTo(L,T,O.end<O.start);h(Z,Math.PI*2)&&(Z=0);var U=y.length(T),Y=Z/(O.end-O.start);Y=O.end-O.start>0?Y:-Y;var W=this.invertDim(U,"y"),J={};return J.x=this.isTransposed?W:Y,J.y=this.isTransposed?Y:W,J}}]),M}(d);P.exports=C},function(P,x,i){"use strict";function t(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(E)}function c(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function s(E,C){return C&&(t(C)==="object"||typeof C=="function")?C:v(E)}function v(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function o(E,C){for(var m=0;m<C.length;m++){var M=C[m];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}function f(E,C,m){return C&&o(E.prototype,C),m&&o(E,m),E}function r(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),C&&e(E,C)}function e(E,C){return e=Object.setPrototypeOf||function(M,b){return M.__proto__=b,M},e(E,C)}function n(E,C,m){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(b,S,A){var T=a(b,S);if(!!T){var O=Object.getOwnPropertyDescriptor(T,S);return O.get?O.get.call(A):O.value}},n(E,C,m||E)}function a(E,C){for(;!Object.prototype.hasOwnProperty.call(E,C)&&(E=u(E),E!==null););return E}function u(E){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},u(E)}var l=i(50),h=i(30),p=i(10),d=i(56),g=l.vec2,y=function(E){r(C,E),f(C,[{key:"getDefaultCfg",value:function(){var M=n(u(C.prototype),"getDefaultCfg",this).call(this);return p({},M,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]);function C(m){var M;return c(this,C),M=s(this,u(C).call(this,m)),M._init(),M}return f(C,[{key:"_init",value:function(){var M=this.width,b=this.height,S=this.radius,A=this.innerRadius,T=this.startAngle,O=this.endAngle,D=(O-T)/(2*Math.PI)+1,L=Math.min(M,b)/2;S&&S>=0&&S<=1&&(L=L*S);var Z=Math.floor(L*(1-A)/D),U=Z/(Math.PI*2),Y={start:T,end:O},W={start:A*L,end:A*L+Z*.99};this.a=U,this.d=Z,this.x=Y,this.y=W}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(M){var b=this.a,S=this.center,A,T;this.isTransposed?(A=M.y,T=M.x):(A=M.x,T=M.y);var O=this.convertDim(A,"x"),D=b*O,L=this.convertDim(T,"y");return{x:S.x+Math.cos(O)*(D+L),y:S.y+Math.sin(O)*(D+L)}}},{key:"invertPoint",value:function(M){var b=this.center,S=this.a,A=this.d+this.y.start,T=g.subtract([],[M.x,M.y],[b.x,b.y]),O=g.angleTo(T,[1,0],!0),D=O*S;g.length(T)<D&&(D=g.length(T));var L=Math.floor((g.length(T)-D)/A);O=2*L*Math.PI+O;var Z=S*O,U=g.length(T)-Z;U=h(U,0)?0:U;var Y=this.invertDim(O,"x"),W=this.invertDim(U,"y");Y=h(Y,0)?0:Y,W=h(W,0)?0:W;var J={};return J.x=this.isTransposed?W:Y,J.y=this.isTransposed?Y:W,J}}]),C}(d);P.exports=y},function(P,x,i){var t=i(0),c=i(24),s=c.Axis,v=t.MatrixUtil.vec2;function o(n){var a=[];if(n.length>0){a=n.slice(0);var u=a[0],l=a[a.length-1];u.value!==0&&a.unshift({value:0}),l.value!==1&&a.push({value:1})}return a}function f(n,a,u){var l=[];return n.length<1||(n.length>=2&&a&&u&&l.push({text:"",tickValue:"",value:0}),n[0].value!==0&&l.push({text:"",tickValue:"",value:0}),l=l.concat(n),l[l.length-1].value!==1&&l.push({text:"",tickValue:"",value:1})),l}function r(n,a){return a===void 0&&(a=0),n==="middle"&&(a=.5),n.includes("%")&&(a=parseInt(n,10)/100),a}var e=function(){function n(u){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],t.mix(this,u)}var a=n.prototype;return a._isHide=function(l){var h=this.options;return!!(h&&h[l]===!1)},a._getMiddleValue=function(l,h,p,d){if(l===0&&!d)return 0;if(l===1)return 1;var g=h[p+1].value;return!d&&g===1?1:(l+g)/2},a._getLineRange=function(l,h,p,d){var g,y,E,C=h.field,m=this.options,M="";if(m[C]&&m[C].position&&(M=m[C].position),p==="x"){var b=M==="top"?1:0;b=r(M,b),g={x:0,y:b},y={x:1,y:b},E=!1}else{if(d){var S=M==="left"?0:1;S=r(M,S),g={x:S,y:0},y={x:S,y:1}}else{var A=M==="right"?1:0;A=r(M,A),g={x:A,y:0},y={x:A,y:1}}E=!0}return g=l.convert(g),y=l.convert(y),{start:g,end:y,isVertical:E}},a._getLineCfg=function(l,h,p,d){var g,y=this._getLineRange(l,h,p,d),E=y.isVertical,C=y.start,m=y.end,M=l.center;return l.isTransposed&&(E=!E),E&&C.x>M.x||!E&&C.y>M.y?g=1:g=-1,{isVertical:E,factor:g,start:C,end:m}},a._getCircleCfg=function(l){var h={},p=l.x,d=l.y,g=d.start>d.end,y;l.isTransposed?y={x:g?0:1,y:0}:y={x:0,y:g?0:1},y=l.convert(y);var E=l.circleCentre,C=[y.x-E.x,y.y-E.y],m=[1,0],M;y.y>E.y?M=v.angle(C,m):M=v.angle(C,m)*-1;var b=M+(p.end-p.start);return h.startAngle=M,h.endAngle=b,h.center=E,h.radius=Math.sqrt(Math.pow(y.x-E.x,2)+Math.pow(y.y-E.y,2)),h.inner=l.innerRadius||0,h},a._getRadiusCfg=function(l){var h=l.x.start,p=h<0?-1:1,d,g;return l.isTransposed?(d={x:0,y:0},g={x:1,y:0}):(d={x:0,y:0},g={x:0,y:1}),{factor:p,start:l.convert(d),end:l.convert(g)}},a._getAxisPosition=function(l,h,p,d){var g="",y=this.options;if(y[d]&&y[d].position)g=y[d].position;else{var E=l.type;l.isRect?h==="x"?g="bottom":h==="y"&&(p?g="right":g="left"):E==="helix"?g="helix":h==="x"?g=l.isTransposed?"radius":"circle":g=l.isTransposed?"circle":"radius"}return g},a._getAxisDefaultCfg=function(l,h,p,d){var g=this,y=g.viewTheme,E={},C=g.options,m=h.field;if(E=t.deepMix({},y.axis[d],E,C[m]),E.viewTheme=y,E.title){var M=t.isPlainObject(E.title)?E.title:{};M.text=M.text||h.alias||m,t.deepMix(E,{title:M})}return E.ticks=h.getTicks(),l.isPolar&&!h.isCategory&&p==="x"&&Math.abs(l.endAngle-l.startAngle)===Math.PI*2&&E.ticks.pop(),E.coord=l,E.label&&t.isNil(E.label.autoRotate)&&(E.label.autoRotate=!0),C.hasOwnProperty("xField")&&C.xField.hasOwnProperty("grid")&&E.position==="left"&&t.deepMix(E,C.xField),E},a._getAxisCfg=function(l,h,p,d,g,y){g===void 0&&(g="");var E=this,C=E._getAxisPosition(l,d,g,h.field),m=E._getAxisDefaultCfg(l,h,d,C);if(!t.isEmpty(m.grid)&&p){var M=[],b=[],S=o(p.getTicks());if(S.length){var A=f(m.ticks,h.isLinear,m.grid.align==="center");t.each(A,function(T,O){b.push(T.tickValue);var D=[],L=T.value;if(m.grid.align==="center"&&(L=E._getMiddleValue(L,A,O,h.isLinear)),!t.isNil(L)){var Z=l.x,U=l.y;t.each(S,function(Y){var W=d==="x"?L:Y.value,J=d==="x"?Y.value:L,ht=l.convert({x:W,y:J});if(l.isPolar){var nt=l.circleCentre;U.start>U.end&&(J=1-J),ht.flag=Z.start>Z.end?0:1,ht.radius=Math.sqrt(Math.pow(ht.x-nt.x,2)+Math.pow(ht.y-nt.y,2))}D.push(ht)}),M.push({_id:y+"-"+d+g+"-grid-"+T.tickValue,points:D})}})}m.grid.items=M,m.grid.tickValues=b}return m.type=h.type,m},a._getHelixCfg=function(l){for(var h={},p=l.a,d=l.startAngle,g=l.endAngle,y=100,E=[],C=0;C<=y;C++){var m=l.convert({x:C/100,y:0});E.push(m.x),E.push(m.y)}var M=l.convert({x:0,y:0});return h.a=p,h.startAngle=d,h.endAngle=g,h.crp=E,h.axisStart=M,h.center=l.center,h.inner=l.y.start,h},a._drawAxis=function(l,h,p,d,g,y,E){var C=this.container,m=this.canvas,M,b;l.type==="cartesian"?(M=s.Line,b=this._getLineCfg(l,h,d,E)):l.type==="helix"&&d==="x"?(M=s.Helix,b=this._getHelixCfg(l)):d==="x"?(M=s.Circle,b=this._getCircleCfg(l)):(M=s.Line,b=this._getRadiusCfg(l));var S=this._getAxisCfg(l,h,p,d,E,g);S=t.mix({},S,b),d==="y"&&y&&y.get("type")==="circle"&&(S.circle=y),S._id=g+"-"+d,t.isNil(E)||(S._id=g+"-"+d+E),t.mix(S,{canvas:m,group:C.addGroup({viewId:g})});var A=new M(S);return A.render(),this.axes.push(A),A},a.createAxis=function(l,h,p){var d=this,g=this.coord,y=g.type;if(y!=="theta"&&!(y==="polar"&&g.isTransposed)){var E;l&&!d._isHide(l.field)&&(E=d._drawAxis(g,l,h[0],"x",p)),!t.isEmpty(h)&&y!=="helix"&&t.each(h,function(C,m){d._isHide(C.field)||d._drawAxis(g,C,l,"y",p,E,m)})}},a.changeVisible=function(l){var h=this.axes;t.each(h,function(p){p.set("visible",l)})},a.clear=function(){var l=this,h=l.axes;t.each(h,function(p){p.destroy()}),l.axes=[]},n}();P.exports=e},function(P,x,i){var t=i(0),c=i(407),s=function(){function v(f){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,t.mix(this,f)}var o=v.prototype;return o._creatGuides=function(){var r=this,e=this.options,n=this.xScales,a=this.yScales,u=this.view,l=this.viewTheme;return this.backContainer&&u&&(this.backGroup=this.backContainer.addGroup({viewId:u.get("_id")})),this.frontContainer&&u&&(this.frontGroup=this.frontContainer.addGroup({viewId:u.get("_id")})),e.forEach(function(h){var p=h.type,d=t.deepMix({xScales:n,yScales:a,viewTheme:l},l?l.guide[p]:{},h);p=t.upperFirst(p);var g=new c[p](d);r.guides.push(g)}),r.guides},o.line=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"line"},r)),this},o.arc=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"arc"},r)),this},o.text=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"text"},r)),this},o.image=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"image"},r)),this},o.region=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"region"},r)),this},o.regionFilter=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"regionFilter"},r)),this},o.dataMarker=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"dataMarker"},r)),this},o.dataRegion=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"dataRegion"},r)),this},o.html=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"html"},r)),this},o.render=function(r){var e=this,n=e.view,a=n&&n.get("data"),u=e._creatGuides();t.each(u,function(l){var h;l.get("top")?h=e.frontGroup||e.frontContainer:h=e.backGroup||e.backContainer,l.render(r,h,a,n)})},o.clear=function(){this.options=[],this.reset()},o.changeVisible=function(r){var e=this.guides;t.each(e,function(n){n.changeVisible(r)})},o.reset=function(){var r=this.guides;t.each(r,function(e){e.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},v}();P.exports=s},function(P,x,i){var t=i(24),c=t.Guide,s=i(408);c.RegionFilter=s,P.exports=c},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(0),v=i(17),o=i(112),f=o.Path,r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return s.mix({},l,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},a.render=function(l,h,p,d){var g=this,y=h.addGroup();y.name="guide-region-filter",d.once("afterpaint",function(){if(!y.get("destroyed")){g._drawShapes(d,y);var E=g._drawClip(l);y.attr({clip:E}),g.set("clip",E),g.get("appendInfo")&&y.setSilent("appendInfo",g.get("appendInfo")),g.set("el",y)}})},a._drawShapes=function(l,h){var p=this,d=[],g=l.getAllGeoms();return g.map(function(y){var E=y.getShapes(),C=y.get("type"),m=p._geomFilter(C);return m&&E.map(function(M){var b=M.type,S=s.cloneDeep(M.attr());p._adjustDisplay(S);var A=h.addShape(b,{attrs:S});return d.push(A),M}),y}),d},a._drawClip=function(l){var h=this,p=h.parsePoint(l,h.get("start")),d=h.parsePoint(l,h.get("end")),g=[["M",p.x,p.y],["L",d.x,p.y],["L",d.x,d.y],["L",p.x,d.y],["z"]],y=new f({attrs:{path:g,opacity:1}});return y},a._adjustDisplay=function(l){var h=this,p=h.get("color");l.fill&&(l.fill=l.fillStyle=p),l.stroke=l.strokeStyle=p},a._geomFilter=function(l){var h=this,p=h.get("apply");return p?s.contains(p,l):!0},a.clear=function(){e.prototype.clear.call(this);var l=this.get("clip");l&&l.remove()},n}(v);P.exports=r},function(P,x,i){function t(){return t=Object.assign||function(y){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(y[m]=C[m])}return y},t.apply(this,arguments)}var c=i(0),s=i(24),v=s.Legend,o=i(410),f=i(21),r=i(201),e=i(203),n=i(8),a="_origin",u=4.5,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,h=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];function p(y,E,C){var m;return c.isNil(C)?!1:(y=C.translate(y),E=C.translate(E),C.isCategory?m=y===E:m=Math.abs(y-E)<=1,m)}function d(y,E){var C;return c.each(y,function(m){if(m.get("visible")){var M=m.getYScale();if(M.field===E){C=m;return}}}),C}var g=function(){function y(C){var m=this;m.options={},c.mix(m,C),m.clear();var M=m.chart;m.container=M.get("frontPlot"),m.plotRange=M.get("plotRange")}var E=y.prototype;return E.clear=function(){var m=this.legends;this.backRange=null,c.each(m,function(M){c.each(M,function(b){b.destroy()})}),this.legends={}},E.getBackRange=function(){var m=this.backRange;if(!m){var M=this.chart.get("backPlot");m=r(M,e(this.chart.get("plotRange")));var b=this.plotRange;m.maxX-m.minX<b.br.x-b.tl.x&&m.maxY-m.minY<b.br.y-b.tl.y&&(m={minX:b.tl.x,minY:b.tl.y,maxX:b.br.x,maxY:b.br.y}),this.backRange=m}return m},E._isFieldInView=function(m,M,b){var S=!1,A=b.get("scales"),T=A[m];return T&&T.values&&(S=c.inArray(T.values,M)),S},E._bindClickEvent=function(m,M,b){var S=this,A=S.chart,T=A.get("views"),O=M.field,D=S.options;m.on("itemclick",function(L){if(D.onClick&&D.defaultClickHandlerEnabled!==!0)D.onClick(L);else{var Z=L.item,U=L.checked,Y=m.get("selectedMode")==="single",W=Z.dataValue;U?(c.Array.remove(b,W),S._isFieldInView(O,W,A)&&A.filter(O,function(J){return Y?J===W:!c.inArray(b,J)}),c.each(T,function(J){S._isFieldInView(O,W,J)&&J.filter(O,function(ht){return Y?ht===W:!c.inArray(b,ht)})})):Y||(b.push(W),S._isFieldInView(O,W,A)&&A.filter(O,function(J){return!c.inArray(b,J)}),c.each(T,function(J){S._isFieldInView(O,W,J)&&J.filter(O,function(ht){return!c.inArray(b,ht)})})),D.onClick&&D.onClick(L),A.set("keepLegend",!0),A.set("keepPadding",!0),A.repaint(),A.set("keepPadding",!1),A.set("keepLegend",!1)}})},E._bindClickEventForMix=function(m){var M=this,b=M.chart,S=b.getAllGeoms();m.on("itemclick",function(A){var T=A.item.field,O=A.checked;O?c.each(S,function(D){var L=D.getYScale().field;L===T&&D.show()}):c.each(S,function(D){var L=D.getYScale().field;L===T&&D.hide()})})},E._filterLabels=function(m,M,b){if(m.get("gLabel"))m.get("gLabel").set("visible",b);else{var S=M.get("labelCfg");if(S&&S.fields&&S.fields.length>0){var A=M.getXScale(),T=M.getYScale(),O=A.field,D=T.field,L=m.get("origin")._origin,Z=M.get("labelContainer"),U=Z.get("labelsGroup").get("children");c.each(U,function(Y){var W=Y.get("origin")||[];W[O]===L[O]&&W[D]===L[D]&&(Y.set("visible",b),m.set("gLabel",Y))})}}},E._bindFilterEvent=function(m,M){var b=this,S=this.chart,A=M.field;m.on("itemfilter",function(T){var O=T.range;S.filterShape(function(U,Y,W){if(!c.isNil(U[A])){var J=U[A]>=O[0]&&U[A]<=O[1];return b._filterLabels(Y,W,J),J}return!0});for(var D=S.getAllGeoms()||[],L=function(Y){var W=D[Y];W.get("type")==="heatmap"&&l(function(){W.drawWithRange(O)})},Z=0;Z<D.length;Z++)L(Z)})},E._getShapeData=function(m){var M=m.get("origin");return c.isArray(M)&&(M=M[0]),M[a]},E._bindHoverEvent=function(m,M){var b=this,S=b.chart,A=S.getAllGeoms(),T=b.options,O=S.get("canvas");m.on("itemhover",function(D){var L=D.item.value,Z=b.pre;if(!Z)c.each(A,function(U){var Y=U.get("shapeContainer"),W=U.getShapes(),J=[];if(M){var ht=U.get("scales")[M];c.each(W,function(nt){var Q=b._getShapeData(nt);Q&&p(Q[M],L,ht)&&J.push(nt)})}else U.getYScale().field===L&&(J=W);c.isEmpty(J)||(D.shapes=J,D.geom=U,T.onHover?(T.onHover(D),Y.sort(),O.draw()):U.setShapesActived(J))}),b.pre=L;else if(Z===L)return}),m.on("itemunhover",function(D){b.pre=null,T.onUnhover&&T.onUnhover(D),c.each(A,function(L){L.get("activeShapes")&&(L.clearActivedShapes(),O.draw())})})},E._isFiltered=function(m,M,b){if(!m.isCategory)return!0;var S=!0;return b=m.invert(b),c.each(M,function(A){if(m.getText(A)===m.getText(b))return S=!1,!1}),S},E._alignLegend=function(m,M,b,S){var A=this,T=A.viewTheme,O=A.container,D=O.get("canvas"),L=D.get("width"),Z=D.get("height"),U=A.totalRegion,Y=A.plotRange,W=A.getBackRange(),J=m.get("offset")[0]||0,ht=m.get("offset")[1]||0,nt=m.getHeight(),Q=m.getWidth(),xt=T.legend.margin,_t=T.legend.legendMargin,Nt=A.legends[S].length,rt=S.split("-"),q=0,G=0,N=Nt>1?U:b;if(rt[0]==="left"||rt[0]==="right")Z=Y.br.y,q=A._getXAlign(rt[0],L,b,W,Q,xt),M?G=(M.get("y")||M.get("group").get("y"))+M.getHeight()+_t:G=A._getYAlignVertical(rt[1],Z,N,W,0,xt,D.get("height"));else if(rt[0]==="top"||rt[0]==="bottom")if(G=A._getYAlignHorizontal(rt[0],Z,b,W,nt,xt),M){var at=M.getWidth();q=(M.get("x")||M.get("group").get("x"))+at+_t}else q=A._getXAlign(rt[1],L,N,W,0,xt),rt[1]==="right"&&(q=Y.br.x-N.totalWidth);m.move(q+J,G+ht)},E._getXAlign=function(m,M,b,S,A,T){var O=S.minX-A-T[3]<0?0:S.minX-A-T[3],D=m==="left"?O:S.maxX+T[1];return m==="center"&&(D=(M-b.totalWidth)/2),D},E._getYAlignHorizontal=function(m,M,b,S,A,T){var O=m==="top"?S.minY-A-T[0]:S.maxY+T[2];return O},E._getYAlignVertical=function(m,M,b,S,A,T,O){var D=m==="top"?S.minY-A-T[0]:M-b.totalHeight;return m==="center"&&(D=(O-b.totalHeight)/2),D},E._getSubRegion=function(m){var M=0,b=0,S=0,A=0;return c.each(m,function(T){var O=T.getWidth(),D=T.getHeight();M<O&&(M=O),S+=O,b<D&&(b=D),A+=D}),{maxWidth:M,totalWidth:S,maxHeight:b,totalHeight:A}},E._getRegion=function(){var m=this,M=m.viewTheme,b=m.legends,S=M.legend.legendMargin,A=[],T=0,O=0;return c.each(b,function(D){var L=m._getSubRegion(D);A.push(L),T+=L.totalWidth+S,O+=L.totalHeight+S}),{totalWidth:T,totalHeight:O,subs:A}},E._addCategoryLegend=function(m,M,b,S,A){var T=this,O=m.field,D=T.options,L=D[O];L&&(D=L);var Z=T.legends;Z[A]=Z[A]||[];var U=T.container,Y=[],W=m.getTicks(),J=!0,ht=b.get("shapeType")||"point",nt=b.getDefaultValue("shape")||"circle";D[O]&&D[O].marker?(nt=D[O].marker,ht="point",J=!1):D.marker&&(nt=D.marker,ht="point",J=!1);var Q=T.chart,xt=T.viewTheme,_t=Q.get("canvas"),Nt=T.plotRange,rt=A.split("-"),q=rt[0]==="right"||rt[0]==="left"?Nt.bl.y-Nt.tr.y:_t.get("width");c.each(W,function(ft){var ct=ft.text,K=ct,$=ft.value,et=m.invert($),B={isInCircle:b.isInCircle()},w=S?T._isFiltered(m,S,$):!0,R=b.getAttr("color"),V=b.getAttr("shape");if(R)if(R.callback&&R.callback.length>1){var tt=Array(R.callback.length-1).fill("");B.color=R.mapping.apply(R,[et].concat(tt)).join("")||xt.defaultColor}else B.color=R.mapping(et).join("")||xt.defaultColor;if(J&&V)if(V.callback&&V.callback.length>1){var lt=Array(V.callback.length-1).fill("");nt=V.mapping.apply(V,[et].concat(lt)).join("")}else nt=V.mapping(et).join("");var Et=f.getShapeFactory(ht),ot=Et.getMarkerCfg(nt,B);n.legendMarkerRadius&&(ot.radius=n.legendMarkerRadius),c.isFunction(nt)&&(ot.symbol=nt),Y.push({value:K,dataValue:et,checked:w,marker:ot})});var G=c.deepMix({},xt.legend[rt[0]],D[O]||D,{viewId:Q.get("_id"),maxLength:q,items:Y,container:U,position:[0,0]});G.title&&c.deepMix(G,{title:{text:m.alias||m.field}});var N;if(T._isTailLegend(D,b))G.chart=T.chart,G.geom=b,N=new o(G);else if(D.useHtml){var at=U.get("canvas").get("el");if(U=D.container,c.isString(U)&&/^\#/.test(U)){var H=U.replace("#","");U=document.getElementById(H)}U||(U=at.parentNode),G.container=U,G.legendStyle===void 0&&(G.legendStyle={}),G.legendStyle.CONTAINER_CLASS=t({},G.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":at.style.zIndex===""?1:parseInt(at.style.zIndex,10)+1}),D.flipPage?(G.legendStyle.CONTAINER_CLASS.height=rt[0]==="right"||rt[0]==="left"?q+"px":"auto",G.legendStyle.CONTAINER_CLASS.width=rt[0]==="right"||rt[0]==="left"?"auto":q+"px",N=new v.CatPageHtml(G)):N=new v.CatHtml(G)}else N=new v.Category(G);return T._bindClickEvent(N,m,S),Z[A].push(N),N},E._bindChartMove=function(m){var M=this.chart,b=this.legends;M.on("plotmove",function(S){var A=!1;if(S.target){var T=S.target.get("origin");if(T){var O=T[a]||T[0][a],D=m.field;if(O){var L=O[D];c.each(b,function(Z){c.each(Z,function(U){A=!0,!U.destroyed&&U.activate(L)})})}}}A||c.each(b,function(Z){c.each(Z,function(U){!U.destroyed&&U.deactivate()})})})},E._addContinuousLegend=function(m,M,b){var S=this,A=S.legends;A[b]=A[b]||[];var T=S.container,O=m.field,D=m.getTicks(),L=[],Z,U,Y,W=S.viewTheme;c.each(D,function(xt){var _t=xt.value,Nt=m.invert(_t),rt=M.mapping(Nt).join("");L.push({value:xt.tickValue,attrValue:rt,color:rt,scaleValue:_t}),_t===0&&(U=!0),_t===1&&(Y=!0)}),U||L.push({value:m.min,attrValue:M.mapping(0).join(""),color:M.mapping(0).join(""),scaleValue:0}),Y||L.push({value:m.max,attrValue:M.mapping(1).join(""),color:M.mapping(1).join(""),scaleValue:1});var J=S.options,ht=b.split("-"),nt=W.legend[ht[0]];(J&&J.slidable===!1||J[O]&&J[O].slidable===!1)&&(nt=c.mix({},nt,W.legend.gradient));var Q=c.deepMix({},nt,J[O]||J,{items:L,attr:M,formatter:m.formatter,container:T,position:[0,0]});if(Q.title&&c.deepMix(Q,{title:{text:m.alias||m.field}}),M.type==="color")Z=new v.Color(Q);else if(M.type==="size")J&&J.sizeType==="circle"?Z=new v.CircleSize(Q):Z=new v.Size(Q);else return;return S._bindFilterEvent(Z,m),A[b].push(Z),Z},E._isTailLegend=function(m,M){if(m.hasOwnProperty("attachLast")&&m.attachLast){var b=M.get("type");if(b==="line"||b==="lineStack"||b==="area"||b==="areaStack")return!0}return!1},E._adjustPosition=function(m,M){var b;if(M)b="right-top";else if(c.isArray(m))b=String(m[0])+"-"+String(m[1]);else{var S=m.split("-");S.length===1?(S[0]==="left"&&(b="left-bottom"),S[0]==="right"&&(b="right-bottom"),S[0]==="top"&&(b="top-center"),S[0]==="bottom"&&(b="bottom-center")):b=m}return b},E.addLegend=function(m,M,b,S){var A=this,T=A.options,O=m.field,D=T[O],L=A.viewTheme;if(D===!1)return null;if(D&&D.custom)A.addCustomLegend(O);else{var Z=T.position||L.defaultLegendPosition;Z=A._adjustPosition(Z,A._isTailLegend(T,b)),D&&D.position&&(Z=A._adjustPosition(D.position,A._isTailLegend(D,b)));var U;m.isLinear?U=A._addContinuousLegend(m,M,Z):U=A._addCategoryLegend(m,M,b,S,Z),U&&(A._bindHoverEvent(U,O),T.reactive&&A._bindChartMove(m))}},E.addCustomLegend=function(m){var M=this,b=M.chart,S=M.viewTheme,A=M.container,T=M.options;m&&(T=T[m]);var O=T.position||S.defaultLegendPosition;O=M._adjustPosition(O);var D=M.legends;D[O]=D[O]||[];var L=T.items;if(!!L){var Z=b.getAllGeoms();c.each(L,function(_t){var Nt=d(Z,_t.value);c.isPlainObject(_t.marker)?_t.marker.radius=_t.marker.radius||n.legendMarkerRadius||u:(_t.marker={symbol:_t.marker||"circle",radius:n.legendMarkerRadius||u},c.indexOf(h,_t.marker.symbol)!==-1?_t.marker.stroke=_t.fill:_t.marker.fill=_t.fill);var rt=_t.marker.symbol;c.isString(rt)&&rt.indexOf("hollow")!==-1&&(_t.marker.symbol=c.lowerFirst(rt.substr(6))),_t.checked=c.isNil(_t.checked)?!0:_t.checked,_t.geom=Nt});var U=b.get("canvas"),Y=M.plotRange,W=O.split("-"),J=W[0]==="right"||W[0]==="left"?Y.bl.y-Y.tr.y:U.get("width"),ht=c.deepMix({},S.legend[W[0]],T,{maxLength:J,items:L,container:A,position:[0,0]}),nt;if(T.useHtml){var Q=T.container;if(/^\#/.test(A)){var xt=Q.replace("#","");Q=document.getElementById(xt)}else Q||(Q=A.get("canvas").get("el").parentNode);ht.container=Q,ht.legendStyle===void 0&&(ht.legendStyle={}),ht.legendStyle.CONTAINER_CLASS||(ht.legendStyle.CONTAINER_CLASS={height:W[0]==="right"||W[0]==="left"?J+"px":"auto",width:W[0]==="right"||W[0]==="left"?"auto":J+"px",position:"absolute",overflow:"auto"}),T.flipPage?nt=new v.CatPageHtml(ht):nt=new v.CatHtml(ht)}else nt=new v.Category(ht);return D[O].push(nt),nt.on("itemclick",function(_t){T.onClick&&T.onClick(_t)}),M._bindHoverEvent(nt),nt}},E.addMixedLegend=function(m,M){var b=this,S=b.options,A=[];c.each(m,function(D){var L=D.alias||D.field,Z=S[D.field];c.each(M,function(U){if(U.getYScale()===D&&D.values&&D.values.length>0&&Z!==!1){var Y=U.get("shapeType")||"point",W=U.getDefaultValue("shape")||"circle",J=f.getShapeFactory(Y),ht={color:U.getDefaultValue("color")},nt=J.getMarkerCfg(W,ht);n.legendMarkerRadius&&(nt.radius=n.legendMarkerRadius);var Q={value:L,marker:nt,field:D.field};A.push(Q)}})});var T={custom:!0,items:A};b.options=c.deepMix({},T,b.options);var O=b.addCustomLegend();b._bindClickEventForMix(O)},E.alignLegends=function(){var m=this,M=m.legends,b=m._getRegion(M);m.totalRegion=b;var S=0;return c.each(M,function(A,T){var O=b.subs[S];c.each(A,function(D,L){var Z=A[L-1];D.get("useHtml")&&!D.get("autoPosition")||m._alignLegend(D,Z,O,T)}),S++}),this},y}();P.exports=g},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(0),v=i(24),o=i(8),f=v.Legend,r=f.Category,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{type:"tail-legend",layout:"vertical",autoLayout:!0})},u._addItem=function(h){var p=this.get("itemsGroup"),d=this._getNextX(),g=0,y=this.get("unCheckColor"),E=p.addGroup({x:0,y:0,value:h.value,scaleValue:h.scaleValue,checked:h.checked});E.translate(d,g),E.set("viewId",p.get("viewId"));var C=this.get("textStyle"),m=this.get("_wordSpaceing"),M=0;if(h.marker){var b=s.mix({},h.marker,{x:h.marker.radius,y:0});h.checked||(b.fill&&(b.fill=y),b.stroke&&(b.stroke=y));var S=E.addShape("marker",{type:"marker",attrs:b});S.attr("cursor","pointer"),S.name="legend-marker",M+=S.getBBox().width+m}var A=s.mix({},C,{x:M,y:0,text:this._formatItemValue(h.value)});h.checked||s.mix(A,{fill:y});var T=E.addShape("text",{attrs:A});T.attr("cursor","pointer"),T.name="legend-text",this.get("appendInfo")&&T.setSilent("appendInfo",this.get("appendInfo"));var O=E.getBBox(),D=this.get("itemWidth"),L=E.addShape("rect",{attrs:{x:d,y:g-O.height/2,fill:"#fff",fillOpacity:0,width:D||O.width,height:O.height}});return L.attr("cursor","pointer"),L.setSilent("origin",h),L.name="legend-item",this.get("appendInfo")&&L.setSilent("appendInfo",this.get("appendInfo")),E.name="legendGroup",E},u._adjust=function(){var h=this,p=h.get("geom");if(p){var d=h.get("group").attr("matrix");d[7]=0;var g=h.get("geom").get("dataArray"),y=this.get("itemsGroup").get("children"),E=0;s.each(y,function(C){var m=g[E],M=m[m.length-1].y;s.isArray(M)&&(M=M[1]);var b=C.getBBox().height,S=C.get("x"),A=M-b/2;C.translate(S,A),E++}),h.get("autoLayout")&&h._antiCollision(y)}},u.render=function(){var h=this;n.prototype.render.call(this);var p=this.get("chart");p.once("afterpaint",function(){h._adjust()})},u._getPreviousY=function(h){var p=h.attr("matrix")[7],d=h.getBBox().height;return p+d},u._adjustDenote=function(h,p,d){var g=o.legend.legendMargin,y=-2,E=-g*2;h.addShape("path",{attrs:{path:"M"+y+","+p+"L"+E+","+(d+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},u._antiCollision=function(h){if(h===void 0&&(h=[]),!!h.length){var p=this;h.sort(function(U,Y){var W=U.attr("matrix")[7],J=Y.attr("matrix")[7];return W-J});var d=!0,g=p.get("chart").get("plotRange"),y=g.tl.y,E=Math.abs(y-g.bl.y),C=h[0].getBBox().height,m=Number.MIN_VALUE,M=0,b=h.map(function(U){var Y=U.attr("matrix")[7];return Y>M&&(M=Y),Y<m&&(m=Y),{size:U.getBBox().height,targets:[Y-y]}});m-=y;for(var S=0;d;){for(var A=0;A<b.length;A++){var T=b[A],O=(Math.min.apply(m,T.targets)+Math.max.apply(m,T.targets))/2;T.pos=Math.min(Math.max(m,O-T.size/2),E-T.size)}for(d=!1,S=b.length;S--;)if(S>0){var D=b[S-1],L=b[S];D.pos+D.size>L.pos&&(D.size+=L.size,D.targets=D.targets.concat(L.targets),b.splice(S,1),d=!0)}}S=0;var Z=this.get("itemsGroup").addGroup();b.forEach(function(U){var Y=y+C;U.targets.forEach(function(){var W=h[S].attr("matrix")[7],J=U.pos+Y-C/2,ht=Math.abs(W-J);ht>C/2&&p._adjustDenote(Z,J,W-p.get("group").attr("matrix")[7]/2),h[S].translate(0,-W),h[S].translate(0,J),Y+=C,S++})})}},a}(r);P.exports=e},function(P,x,i){function t(){return t=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var E=arguments[y];for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(g[C]=E[C])}return g},t.apply(this,arguments)}var c=i(0),s=i(21),v=i(24),o=v.Tooltip,f=c.MatrixUtil,r=f.vec2,e=["line","area","path","areaStack"],n=["line","area","point"],a=["marker","showMarker"];function u(g,y){var E=-1;return c.each(g,function(C,m){var M=!0;for(var b in y)if(y.hasOwnProperty(b)&&!a.includes(b)&&!c.isObject(y[b])&&y[b]!==C[b]){M=!1;break}if(M)return E=m,!1}),E}function l(g,y){if(!g)return!1;var E="";return g.className?(c.isNil(g.className.baseVal)?E=g.className:E=g.className.baseVal,E.includes(y)):!1}function h(g,y){for(var E=g.parentNode,C=!1;E&&E!==document.body;){if(l(E,y)){C=!0;break}E=E.parentNode}return C}function p(g){var y=[];return c.each(g,function(E){var C=u(y,E);C===-1?y.push(E):y[C]=E}),y}var d=function(){function g(E){c.assign(this,E),this.timeStamp=0,this.locked=!1}var y=g.prototype;return y._normalizeEvent=function(C){var m=this.chart,M=this._getCanvas(),b=M.getPointByClient(C.clientX,C.clientY),S=M.get("pixelRatio");b.x=b.x/S,b.y=b.y/S;var A=m.getViewsByPoint(b);return b.views=A,b},y._getCanvas=function(){return this.chart.get("canvas")},y._getTriggerEvent=function(){var C=this.options,m=C.triggerOn,M;return!m||m==="mousemove"?M="plotmove":m==="click"?M="plotclick":m==="none"&&(M=null),M},y._getDefaultTooltipCfg=function(){var C=this,m=C.chart,M=C.viewTheme,b=C.options,S=c.mix({},M.tooltip),A=m.getAllGeoms().filter(function(U){return U.get("visible")}),T=[];c.each(A,function(U){var Y=U.get("type"),W=U.get("adjusts"),J=!1;W&&c.each(W,function(ht){if(ht.type==="symmetric"||ht.type==="Symmetric")return J=!0,!1}),c.indexOf(T,Y)===-1&&!J&&T.push(Y)});var O=A.length&&A[0].get("coord")?A[0].get("coord").isTransposed:!1,D;if(A.length&&A[0].get("coord")&&A[0].get("coord").type==="cartesian"){if(T[0]==="interval"&&b.shared!==!1){var L=c.mix({},M.tooltipCrosshairsRect);L.isTransposed=O,D={zIndex:0,crosshairs:L}}else if(c.indexOf(n,T[0])>-1){var Z=c.mix({},M.tooltipCrosshairsLine);Z.isTransposed=O,D={crosshairs:Z}}}return c.mix(S,D,{})},y._bindEvent=function(){var C=this.chart,m=this._getTriggerEvent();m&&(C.on(m,c.wrapBehavior(this,"onMouseMove")),C.on("plotleave",c.wrapBehavior(this,"onMouseOut")))},y._offEvent=function(){var C=this.chart,m=this._getTriggerEvent();m&&(C.off(m,c.getWrapBehavior(this,"onMouseMove")),C.off("plotleave",c.getWrapBehavior(this,"onMouseOut")))},y._setTooltip=function(C,m,M,b){var S=this,A=S.tooltip,T=S.prePoint;if(!T||T.x!==C.x||T.y!==C.y){m=p(m),S.prePoint=C;var O=S.chart,D=S.viewTheme,L=c.isArray(C.x)?C.x[C.x.length-1]:C.x,Z=c.isArray(C.y)?C.y[C.y.length-1]:C.y;A.get("visible")||O.emit("tooltip:show",{x:L,y:Z,tooltip:A});var U=m[0],Y=U.title||U.name;A.isContentChange(Y,m)&&(O.emit("tooltip:change",{tooltip:A,x:L,y:Z,items:m}),Y=m[0].title||m[0].name,A.setContent(Y,m),c.isEmpty(M)?(A.clearMarkers(),A.set("markerItems",[])):S.options.hideMarkers===!0?A.set("markerItems",M):A.setMarkers(M,D.tooltipMarker));var W=this._getCanvas();b===W&&A.get("type")==="mini"?A.hide():(A.setPosition(L,Z,b),A.show())}},y.hideTooltip=function(){var C=this.tooltip,m=this.chart,M=this._getCanvas();this.prePoint=null,C.hide(),m.emit("tooltip:hide",{tooltip:C}),M.draw()},y.onMouseMove=function(C){if(!(c.isEmpty(C.views)||this.locked)){var m=this.timeStamp,M=+new Date,b={x:C.x,y:C.y};M-m>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(b,C.views,C.shape),this.timeStamp=M)}},y.onMouseOut=function(C){var m=this.tooltip;!m.get("visible")||!m.get("follow")||this.locked||C&&C.toElement&&(l(C.toElement,"g2-tooltip")||h(C.toElement,"g2-tooltip"))||this.hideTooltip()},y.renderTooltip=function(){var C=this;if(!C.tooltip){var m=C.chart,M=C.viewTheme,b=C._getCanvas(),S=C._getDefaultTooltipCfg(),A=C.options;A=c.deepMix({plotRange:m.get("plotRange"),capture:!1,canvas:b,frontPlot:m.get("frontPlot"),viewTheme:M.tooltip,backPlot:m.get("backPlot")},S,A),A.crosshairs&&A.crosshairs.type==="rect"&&(A.zIndex=0),A.visible=!1;var T;A.type==="mini"?(A.crosshairs=!1,A.position="top",T=new o.Mini(A)):A.useHtml?T=new o.Html(A):T=new o.Canvas(A),C.tooltip=T;var O=C._getTriggerEvent(),D=T.get("container");!T.get("enterable")&&O==="plotmove"&&D&&(D.onmousemove=function(L){var Z=C._normalizeEvent(L);m.emit(O,Z)}),D&&(D.onmouseleave=function(){C.locked||C.hideTooltip()}),C._bindEvent()}},y._formatMarkerOfItem=function(C,m,M){var b=this,S=b.options,A=M.point;if(A&&A.x&&A.y){var T=c.isArray(A.x)?A.x[A.x.length-1]:A.x,O=c.isArray(A.y)?A.y[A.y.length-1]:A.y;A=C.applyMatrix(T,O,1),M.x=A[0],M.y=A[1],M.showMarker=!0,M.color.substring(0,2)==="l("&&(!S.hasOwnProperty("useHtml")||S.useHtml)&&(M.color=M.color.split(" ")[1].substring(2));var D=b._getItemMarker(m,M);if(M.marker=D,c.indexOf(e,m.get("type"))!==-1)return M}return null},y.lockTooltip=function(){this.locked=!0},y.unlockTooltip=function(){this.locked=!1},y.showTooltip=function(C,m,M){var b=this,S=this;if(!(c.isEmpty(m)||!C)){this.tooltip||this.renderTooltip();var A=S.options,T=[],O=[];if(c.each(m,function(W){if(!W.get("tooltipEnable"))return!0;var J=W.get("geoms"),ht=W.get("coord");c.each(J,function(nt){var Q=nt.get("type");if(nt.get("visible")&&nt.get("tooltipCfg")!==!1){var xt=nt.get("dataArray");if(nt.isShareTooltip()||A.shared===!1&&c.inArray(["area","line","path","polygon"],Q)){var _t=nt.getXScale(),Nt=nt.getAttr("color"),rt=Nt?Nt.field:void 0;if(Q==="interval"&&_t.field===rt&&nt.hasAdjust("dodge")){var q=c.find(xt,function(ft){return!!nt.findPoint(C,ft)});c.each(q,function(ft){var ct=nt.getTipItems(ft,A.title);c.each(ct,function(K){var $=S._formatMarkerOfItem(ht,nt,K);$&&T.push($)}),O=O.concat(ct)})}else c.each(xt,function(ft){var ct=nt.findPoint(C,ft);if(ct){var K=nt.getTipItems(ct,A.title);c.each(K,function($){var et=S._formatMarkerOfItem(ht,nt,$);et&&T.push(et)}),O=O.concat(K)}})}else{var G=nt.get("shapeContainer"),N=G.get("canvas"),at=N.get("pixelRatio"),H=G.getShape(C.x*at,C.y*at);H&&H.get("visible")&&H.get("origin")&&(O=nt.getTipItems(H.get("origin"),A.title)),c.each(O,function(ft){var ct=b._formatMarkerOfItem(ht,nt,ft);ct&&T.push(ct)})}}}),c.each(O,function(nt){var Q=nt.point,xt=c.isArray(Q.x)?Q.x[Q.x.length-1]:Q.x,_t=c.isArray(Q.y)?Q.y[Q.y.length-1]:Q.y;Q=ht.applyMatrix(xt,_t,1),nt.x=Q[0],nt.y=Q[1]})}),O.length){var D=O[0];if(!O.every(function(W){return W.title===D.title})){var L=D,Z=Infinity;O.forEach(function(W){var J=r.distance([C.x,C.y],[W.x,W.y]);J<Z&&(Z=J,L=W)}),O=O.filter(function(W){return W.title===L.title}),T=T.filter(function(W){return W.title===L.title})}if(A.shared===!1&&O.length>1){var U=O[0],Y=Math.abs(C.y-U.y);c.each(O,function(W){Math.abs(C.y-W.y)<=Y&&(U=W,Y=Math.abs(C.y-W.y))}),U&&U.x&&U.y&&(T=[U]),O=[U]}S._setTooltip(C,O,T,M)}else S.hideTooltip()}},y.clear=function(){var C=this.tooltip;C&&C.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},y._getItemMarker=function(C,m){var M=this.options,b=M.marker||this.viewTheme.tooltip.marker;if(c.isFunction(b)){var S=C.get("shapeType")||"point",A=C.getDefaultValue("shape")||"circle",T=s.getShapeFactory(S),O={color:m.color},D=T.getMarkerCfg(A,O);return b(D,m)}return t({fill:m.color},b)},g}();P.exports=d},function(P,x,i){var t=i(0);function c(o,f){if(t.isNil(o)||t.isNil(f))return!1;var r=o.get("origin"),e=f.get("origin");return t.isNil(r)&&t.isNil(e)?t.isEqual(o,f):t.isEqual(r,e)}function s(o){o.shape&&o.shape.get("origin")&&(o.data=o.shape.get("origin"))}var v=function(){function o(r){this.view=null,this.canvas=null,t.assign(this,r),this._init()}var f=o.prototype;return f._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},f._getShapeEventObj=function(e){return{x:e.x/this.pixelRatio,y:e.y/this.pixelRatio,target:e.target,toElement:e.event.toElement||e.event.relatedTarget}},f._getShape=function(e,n){var a=this.view,u=a.get("canvas");return u.getShape(e,n)},f._getPointInfo=function(e){var n=this.view,a={x:e.x/this.pixelRatio,y:e.y/this.pixelRatio},u=n.getViewsByPoint(a);return a.views=u,a},f._getEventObj=function(e,n,a){return{x:n.x,y:n.y,target:e.target,toElement:e.event.toElement||e.event.relatedTarget,views:a}},f.bindEvents=function(){var e=this.canvas;e.on("mousedown",t.wrapBehavior(this,"onDown")),e.on("mousemove",t.wrapBehavior(this,"onMove")),e.on("mouseleave",t.wrapBehavior(this,"onOut")),e.on("mouseup",t.wrapBehavior(this,"onUp")),e.on("click",t.wrapBehavior(this,"onClick")),e.on("dblclick",t.wrapBehavior(this,"onClick")),e.on("touchstart",t.wrapBehavior(this,"onTouchstart")),e.on("touchmove",t.wrapBehavior(this,"onTouchmove")),e.on("touchend",t.wrapBehavior(this,"onTouchend"))},f._triggerShapeEvent=function(e,n,a){if(e&&e.name&&!e.get("destroyed")){var u=this.view;if(u.isShapeInView(e)){var l=e.name+":"+n;a.view=u,a.appendInfo=e.get("appendInfo"),u.emit(l,a);var h=u.get("parent");h&&h.emit(l,a)}}},f.onDown=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,s(a),n.emit("mousedown",a),this._triggerShapeEvent(this.currentShape,"mousedown",a)},f.onMove=function(e){var n=this,a=n.view,u=n.currentShape;u&&u.get("destroyed")&&(u=null,n.currentShape=null);var l=n._getShape(e.x,e.y)||e.currentTarget,h=n._getShapeEventObj(e);if(h.shape=l,s(h),a.emit("mousemove",h),n._triggerShapeEvent(l,"mousemove",h),u&&!c(u,l)){var p=n._getShapeEventObj(e);p.shape=u,p.toShape=l,s(p),n._triggerShapeEvent(u,"mouseleave",p)}if(l&&!c(u,l)){var d=n._getShapeEventObj(e);d.shape=l,d.fromShape=u,s(d),n._triggerShapeEvent(l,"mouseenter",d)}n.currentShape=l;var g=n._getPointInfo(e),y=n.curViews||[];y.length===0&&g.views.length&&a.emit("plotenter",n._getEventObj(e,g,g.views)),y.length&&g.views.length===0&&a.emit("plotleave",n._getEventObj(e,g,y)),g.views.length&&(h=n._getEventObj(e,g,g.views),h.shape=l,s(h),a.emit("plotmove",h)),n.curViews=g.views},f.onOut=function(e){var n=this,a=n.view,u=n._getPointInfo(e),l=n.curViews||[],h=n._getEventObj(e,u,l);n.curViews&&n.curViews.length!==0&&(!h.toElement||h.toElement.tagName!=="CANVAS")&&(a.emit("plotleave",h),n.curViews=[])},f.onUp=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,n.emit("mouseup",a),this._triggerShapeEvent(this.currentShape,"mouseup",a)},f.onClick=function(e){var n=this,a=n.view,u=n._getShape(e.x,e.y)||e.currentTarget,l=n._getShapeEventObj(e);l.shape=u,s(l),a.emit("click",l),n._triggerShapeEvent(u,e.type,l),n.currentShape=u;var h=n._getPointInfo(e),p=h.views;if(!t.isEmpty(p)){var d=n._getEventObj(e,h,p);if(n.currentShape){var g=n.currentShape;d.shape=g,s(d)}e.type==="dblclick"?(a.emit("plotdblclick",d),a.emit("dblclick",l)):a.emit("plotclick",d)}},f.onTouchstart=function(e){var n=this.view,a=this._getShape(e.x,e.y)||e.currentTarget,u=this._getShapeEventObj(e);u.shape=a,s(u),n.emit("touchstart",u),this._triggerShapeEvent(a,"touchstart",u),this.currentShape=a},f.onTouchmove=function(e){var n=this.view,a=this._getShape(e.x,e.y)||e.currentTarget,u=this._getShapeEventObj(e);u.shape=a,s(u),n.emit("touchmove",u),this._triggerShapeEvent(a,"touchmove",u),this.currentShape=a},f.onTouchend=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,s(a),n.emit("touchend",a),this._triggerShapeEvent(this.currentShape,"touchend",a)},f.clearEvents=function(){var e=this.canvas;e.off("mousemove",t.getWrapBehavior(this,"onMove")),e.off("mouseleave",t.getWrapBehavior(this,"onOut")),e.off("mousedown",t.getWrapBehavior(this,"onDown")),e.off("mouseup",t.getWrapBehavior(this,"onUp")),e.off("click",t.getWrapBehavior(this,"onClick")),e.off("dblclick",t.getWrapBehavior(this,"onClick")),e.off("touchstart",t.getWrapBehavior(this,"onTouchstart")),e.off("touchmove",t.getWrapBehavior(this,"onTouchmove")),e.off("touchend",t.getWrapBehavior(this,"onTouchend"))},o}();P.exports=v},function(P,x,i){var t=i(0),c=i(142),s=t.MatrixUtil,v=s.mat3;function o(a,u){var l=[];if(a.get("animate")===!1)return[];var h=a.get("children");return t.each(h,function(p){if(p.isGroup)l=l.concat(o(p,u));else if(p.isShape&&p._id){var d=p._id;d=d.split("-")[0],d===u&&l.push(p)}}),l}function f(a){var u={};return t.each(a,function(l){if(!(!l._id||l.isClip)){var h=l._id;u[h]={_id:h,type:l.get("type"),attrs:t.cloneDeep(l.attr()),name:l.name,index:l.get("index"),animateCfg:l.get("animateCfg"),coord:l.get("coord")}}}),u}function r(a,u,l,h){var p;return h?p=c.Action[l][h]:p=c.getAnimation(a,u,l),p}function e(a,u,l){var h=c.getAnimateCfg(a,u);return l&&l[u]?t.deepMix({},h,l[u]):h}function n(a,u,l,h){var p,d,g=!1;if(h){var y=[],E=[];t.each(u,function(C){var m=a[C._id];m?(C.setSilent("cacheShape",m),y.push(C),delete a[C._id]):E.push(C)}),t.each(a,function(C){var m=C.name,M=C.coord,b=C._id,S=C.attrs,A=C.index,T=C.type;if(d=e(m,"leave",C.animateCfg),p=r(m,M,"leave",d.animation),t.isFunction(p)){var O=l.addShape(T,{attrs:S,index:A});if(O._id=b,O.name=m,M&&m!=="label"){var D=O.getMatrix(),L=v.multiply([],D,M.matrix);O.setMatrix(L)}g=!0,p(O,d,M)}}),t.each(y,function(C){var m=C.name,M=C.get("coord"),b=C.get("cacheShape").attrs;if(!t.isEqual(b,C.attr())){if(d=e(m,"update",C.get("animateCfg")),p=r(m,M,"update",d.animation),t.isFunction(p))p(C,d,M);else{var S=t.cloneDeep(C.attr());C.attr(b),C.animate(S,d.duration,d.easing,function(){C.setSilent("cacheShape",null)})}g=!0}}),t.each(E,function(C){var m=C.name,M=C.get("coord");d=e(m,"enter",C.get("animateCfg")),p=r(m,M,"enter",d.animation),t.isFunction(p)&&(p(C,d,M),g=!0)})}else t.each(u,function(C){var m=C.name,M=C.get("coord");d=e(m,"appear",C.get("animateCfg")),p=r(m,M,"appear",d.animation),t.isFunction(p)&&(p(C,d,M),g=!0)});return g}P.exports={execAnimation:function(u,l){var h=u.get("middlePlot"),p=u.get("backPlot"),d=u.get("_id"),g=u.get("canvas"),y=g.get(d+"caches")||[];y.length===0&&(l=!1);var E=o(h,d),C=o(p,d),m=E.concat(C);g.setSilent(d+"caches",f(m));var M;l?M=n(y,m,g,l):M=n(y,E,g,l),M||g.draw()}}},function(P,x,i){var t=i(0),c=i(18),s=c.Group,v="auto",o=function f(r){f.superclass.constructor.call(this,r)};t.extend(o,s),t.augment(o,{getDefaultCfg:function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function(){var r=this,e=r.get("background");if(e){var n=this.get("canvas"),a=r.get("width")||n.get("width"),u=r.get("height")||n.get("height"),l={x:0,y:0,width:a,height:u},h=r.get("backgroundShape");h?h.attr(l):(h=this.addShape("rect",{attrs:t.mix(l,e)}),this.set("backgroundShape",h))}else return},_renderPlotBackground:function(){var r=this,e=r.get("plotBackground");if(e){var n=r.get("plotRange"),a=n.br.x-n.bl.x,u=n.br.y-n.tr.y,l=n.tl,h={x:l.x,y:l.y,width:a,height:u},p=r.get("plotBackShape");p?p.attr(h):(e.image?(h.img=e.image,p=r.addShape("image",{attrs:h})):(t.mix(h,e),p=r.addShape("rect",{attrs:h})),r.set("plotBackShape",p))}else return},_convert:function(r,e){if(t.isString(r)){if(r===v)r=0;else if(r.includes("%")){var n=this.get("canvas"),a=this.get("width")||n.get("width"),u=this.get("height")||n.get("height");r=parseInt(r,10)/100,r=e?r*a:r*u}}return r},_calculateRange:function(){var r=this,e=r.get("plotRange");t.isNil(e)&&(e={});var n=r.get("padding"),a=this.get("canvas"),u=r.get("width")||a.get("width"),l=r.get("height")||a.get("height"),h=t.toAllPadding(n),p=r._convert(h[0],!1),d=r._convert(h[1],!0),g=r._convert(h[2],!1),y=r._convert(h[3],!0),E=Math.min(y,u-d),C=Math.max(y,u-d),m=Math.min(l-g,p),M=Math.max(l-g,p);e.tl={x:E,y:m},e.tr={x:C,y:m},e.bl={x:E,y:M},e.br={x:C,y:M},e.cc={x:(C+E)/2,y:(M+m)/2},this.set("plotRange",e)},repaint:function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}}),P.exports=o},function(P,x,i){var t=i(8),c=i(0);function s(o,f){var r=o.length;c.isString(o[0])&&(o=o.map(function(u){return f.translate(u)}));for(var e=o[1]-o[0],n=2;n<r;n++){var a=o[n]-o[n-1];e>a&&(e=a)}return e}var v={getDefaultSize:function(){var f=this.get("defaultSize"),r=this.get("viewTheme")||t;if(!f){var e=this.get("coord"),n=this.getXScale(),a=n.values,u=this.get("dataArray"),l;if(n.isLinear&&a.length>1){a.sort();var h=s(a,n);l=(n.max-n.min)/h,a.length>l&&(l=a.length)}else l=a.length;var p=n.range,d=1/l,g=1;if(this.isInCircle()?e.isTransposed&&l>1?g=r.widthRatio.multiplePie:g=r.widthRatio.rose:(n.isLinear&&(d*=p[1]-p[0]),g=r.widthRatio.column),d*=g,this.hasAdjust("dodge")){var y=this._getDodgeCfg(u),E=y.dodgeCount,C=y.dodgeRatio;d=d/E,C>0&&(d=C*d/g)}f=d,this.set("defaultSize",f)}return f},_getDodgeCfg:function(f){var r=this.get("adjusts"),e,n,a=f.length;if(c.each(r,function(h){h.type==="dodge"&&(e=h.dodgeBy,n=h.dodgeRatio)}),e){var u=c.Array.merge(f),l=c.Array.values(u,e);a=l.length}return{dodgeCount:a,dodgeRatio:n}},getDimWidth:function(f){var r=this.get("coord"),e=r.convertPoint({x:0,y:0}),n=r.convertPoint({x:f==="x"?1:0,y:f==="x"?0:1}),a=0;return e&&n&&(a=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))),a},_getWidth:function(){var f=this.get("coord"),r;return this.isInCircle()&&!f.isTransposed?r=(f.endAngle-f.startAngle)*f.radius:r=this.getDimWidth("x"),r},_toNormalizedSize:function(f){var r=this._getWidth();return f/r},_toCoordSize:function(f){var r=this._getWidth();return r*f},getNormalizedSize:function(f){var r=this.getAttrValue("size",f);return c.isNil(r)?r=this.getDefaultSize():r=this._toNormalizedSize(r),r},getSize:function(f){var r=this.getAttrValue("size",f);if(c.isNil(r)){var e=this.getDefaultSize();r=this._toCoordSize(e)}return r}};P.exports=v},function(P,x,i){var t=i(0),c=i(8);P.exports={splitData:function(v){var o=this.get("viewTheme")||c;if(!v.length)return[];var f=[],r=[],e=this.getYScale(),n=e.field,a;return t.each(v,function(u){a=u._origin?u._origin[n]:u[n],o.connectNulls?t.isNil(a)||r.push(u):t.isArray(a)&&t.isNil(a[0])||t.isNil(a)?r.length&&(f.push(r),r=[]):r.push(u)}),r.length&&f.push(r),f}}},function(P,x,i){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,s(e,n)}function s(e,n){return s=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},s(e,n)}var v=i(23),o=i(416),f=i(0),r=function(e){c(a,e);var n=a.prototype;n.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.type="path",l.shapeType="line",l};function a(u){var l;return l=e.call(this,u)||this,f.assign(t(l),o),l}return n.getDrawCfg=function(l){var h=e.prototype.getDrawCfg.call(this,l);return h.isStack=this.hasStack(),h},n.draw=function(l,h,p,d){var g=this,y=this.splitData(l),E=this.getDrawCfg(l[0]);g._applyViewThemeShapeStyle(E,E.shape,p),E.origin=l,f.each(y,function(C,m){if(!f.isEmpty(C)){E.splitedIndex=m,E.points=C;var M=p.drawShape(E.shape,E,h);g.appendShapeInfo(M,d+m)}})},a}(v);v.Path=r,P.exports=r},function(P,x,i){"use strict";var t=i(429),c=i(430);function s(o){return function(){var f=this.ownerDocument,r=this.namespaceURI;return r===c.b&&f.documentElement.namespaceURI===c.b?f.createElement(o):f.createElementNS(r,o)}}function v(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}x.a=function(o){var f=Object(t.a)(o);return(f.local?v:s)(f)}},function(P,x,i){"use strict";x.a=function(t,c){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var v=s.createSVGPoint();return v.x=c.clientX,v.y=c.clientY,v=v.matrixTransform(t.getScreenCTM().inverse()),[v.x,v.y]}var o=t.getBoundingClientRect();return[c.clientX-o.left-t.clientLeft,c.clientY-o.top-t.clientTop]}},function(P,x,i){"use strict";x.a=function(t,c){return t=+t,c=+c,function(s){return t*(1-s)+c*s}}},function(P,x,i){"use strict";x.b=v;var t=i(58);function c(o,f){var r,e;return function(){var n=Object(t.h)(this,o),a=n.tween;if(a!==r){e=r=a;for(var u=0,l=e.length;u<l;++u)if(e[u].name===f){e=e.slice(),e.splice(u,1);break}}n.tween=e}}function s(o,f,r){var e,n;if(typeof r!="function")throw new Error;return function(){var a=Object(t.h)(this,o),u=a.tween;if(u!==e){n=(e=u).slice();for(var l={name:f,value:r},h=0,p=n.length;h<p;++h)if(n[h].name===f){n[h]=l;break}h===p&&n.push(l)}a.tween=n}}x.a=function(o,f){var r=this._id;if(o+="",arguments.length<2){for(var e=Object(t.f)(this.node(),r).tween,n=0,a=e.length,u;n<a;++n)if((u=e[n]).name===o)return u.value;return null}return this.each((f==null?c:s)(r,o,f))};function v(o,f,r){var e=o._id;return o.each(function(){var n=Object(t.h)(this,e);(n.value||(n.value={}))[f]=r.apply(this,arguments)}),function(n){return Object(t.f)(n,e).value[f]}}},function(P,x,i){var t=i(8),c=i(0),s=c.assign,v=c.isNil,o=c.isArray,f=c.cloneDeep,r=c.wrapBehavior,e=c.getWrapBehavior,n=function(){var a=u.prototype;a.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:t.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:t.fontFamily}}}};function u(l){var h=this.getDefaultCfg();s(this,h,l),this.init()}return a.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},a.initContainer=function(){var h=this.chart,p=h.get("frontPlot"),d=p.addGroup();this.group=d},a.initViews=function(){for(var h=this.chart,p=h.get("data"),d=this.eachView,g=this.generateFacets(p),y=0;y<g.length;y++){var E=g[y],C=E.region,m=h.view({start:C.start,end:C.end,padding:this.padding});m.source(E.data),this.beforeProcessView(m,E),d&&d(m,E),this.afterProcessView(m,E),E.view=m}this.facets=g},a.beforeProcessView=function(){},a.afterProcessView=function(h,p){this.autoSetAxis&&this.processAxis(h,p)},a.processAxis=function(h,p){var d=h.get("options"),g=h.get("geoms");if((!d.coord.type||d.coord.type==="rect")&&g.length){var y=g[0].get("attrOptions").position.field,E=o(y)?y:y.split("*").map(function(b){return b.trim()}),C=E[0],m=E[1];v(d.axes)&&(d.axes={});var M=d.axes;M!==!1&&(C&&M[C]!==!1&&(M[C]=M[C]||{},this.setXAxis(C,M,p)),m&&M[m]!==!1&&(M[m]=M[m]||{},this.setYAxis(m,M,p)))}},a.setXAxis=function(){},a.setYAxis=function(){},a.renderTitle=function(h,p){this.drawColTitle(h,p)},a.getScaleText=function(h,p,d){var g;if(h){var y=d.get("scales"),E=y[h];E||(E=d.createScale(h)),g=E.getText(p)}else g=p;return g},a.drawColTitle=function(h,p){var d=this.getScaleText(p.colField,p.colValue,h),g=s({position:["50%","0%"],content:d},this.colTitle);h.guide().text(g)},a.drawRowTitle=function(h,p){var d=this.getScaleText(p.rowField,p.rowValue,h),g=s({position:["100%","50%"],content:d},f(this.rowTitle));h.guide().text(g)},a.getFilter=function(h){var p=function(g){var y=!0;return h.forEach(function(E){var C=E.field,m=E.value,M=!0;!v(m)&&C&&(M=g[C]===m),y=y&&M}),y};return p},a.getFieldValues=function(h,p){for(var d=[],g={},y=0;y<p.length;y++){var E=p[y],C=E[h];!v(C)&&!g[C]&&(d.push(C),g[C]=!0)}return d},a.getRegion=function(h,p,d,g){var y=1/p,E=1/h,C={x:y*d,y:E*g},m={x:C.x+y,y:C.y+E};return{start:C,end:m}},a.generateFacets=function(){return[]},a._bindEvent=function(){var h=this.chart;h.on("afterchangedata",r(this,"onDataChange")),h.on("beforeclear",r(this,"onClear")),h.on("beforedestroy",r(this,"destroy")),h.on("beforepaint",r(this,"onPaint")),h.on("setdata",r(this,"onDataChange"))},a._clearEvent=function(){var h=this.chart;h&&(h.off("afterchangedata",e(this,"onDataChange")),h.off("beforeclear",e(this,"onClear")),h.off("beforedestroy",e(this,"destroy")),h.off("beforepaint",e(this,"onPaint")),h.off("setdata",e(this,"onDataChange")))},a._clearFacets=function(){var h=this.facets,p=this.chart;if(h)for(var d=0;d<h.length;d++){var g=h[d];p.removeView(g.view)}this.facets=null},a.onClear=function(){this.onRemove()},a.onPaint=function(){if(this.showTitle)for(var h=this.facets,p=0;p<h.length;p++){var d=h[p],g=d.view;this.renderTitle(g,d)}},a.onDataChange=function(){this._clearFacets(),this.initViews()},a.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},a.destroy=function(){this.onRemove(),this.destroyed=!0},u}();P.exports=n},function(P,x,i){function t(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function c(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,s(u,l)}function s(u,l){return s=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},s(u,l)}var v=i(23),o=i(0),f=i(415);i(424);var r=function(u){c(h,u);var l=h.prototype;l.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.type="interval",d.shapeType="interval",d.generatePoints=!0,d};function h(p){var d;return d=u.call(this,p)||this,o.assign(t(d),f),d}return l.createShapePointsCfg=function(d){var g=u.prototype.createShapePointsCfg.call(this,d);return g.size=this.getNormalizedSize(d),g},l.clearInner=function(){u.prototype.clearInner.call(this),this.set("defaultSize",null)},h}(v),e=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"stack"}],d},l}(r),n=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"dodge"}],d},l}(r),a=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"symmetric"}],d},l}(r);r.Stack=e,r.Dodge=n,r.Symmetric=a,v.Interval=r,v.IntervalStack=e,v.IntervalDodge=n,v.IntervalSymmetric=a,P.exports=r},function(P,x,i){var t=i(0),c=i(21),s=i(25),v=i(57),o=i(8),f=i(18),r=t.PathUtil;function e(S,A){var T=S.x,O=S.y,D=S.y0,L=S.size,Z=D,U=O;t.isArray(O)&&(U=O[1],Z=O[0]);var Y,W;t.isArray(T)?(Y=T[0],W=T[1]):(Y=T-L/2,W=T+L/2);var J=[];return J.push({x:Y,y:Z},{x:Y,y:U}),A?J.push({x:W,y:(U+Z)/2}):J.push({x:W,y:U},{x:W,y:Z}),J}function n(S){for(var A=[],T=0;T<S.length;T++){var O=S[T];if(O){var D=T===0?"M":"L";A.push([D,O.x,O.y])}}var L=S[0];return A.push(["L",L.x,L.y]),A.push(["z"]),A}function a(S){var A=S.x,T=S.y,O=S.y0,D=[];return t.isArray(T)?t.each(T,function(L,Z){D.push({x:t.isArray(A)?A[Z]:A,y:L})}):D.push({x:A,y:T},{x:A,y:O}),D}function u(S){var A=S.x,T=t.isArray(S.y)?S.y[1]:S.y,O=t.isArray(S.y)?S.y[0]:S.y0,D=S.size,L=[];return L.push({x:A-D/2,y:T},{x:A+D/2,y:T},{x:A,y:T},{x:A,y:O},{x:A-D/2,y:O},{x:A+D/2,y:O}),L}function l(S){var A=[];return A.push(["M",S[0].x,S[0].y],["L",S[1].x,S[1].y],["M",S[2].x,S[2].y],["L",S[3].x,S[3].y],["M",S[4].x,S[4].y],["L",S[5].x,S[5].y]),A}function h(S){var A=o.shape.interval,T=t.mix({},A,S.style);return v.addFillAttrs(T,S),S.color&&(T.stroke=T.stroke||S.color),T}function p(S){var A=o.shape.hollowInterval,T=t.mix({},A,S.style);return v.addStrokeAttrs(T,S),T}function d(S,A){var T=[],O=S.points,D=S.nextPoints;return t.isNil(D)?A?T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",O[2].x,O[2].y],["L",O[3].x,O[3].y],["Z"]):T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",O[2].x,O[2].y],["L",O[2].x,O[2].y],["Z"]):T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",D[1].x,D[1].y],["L",D[0].x,D[0].y],["Z"]),T}function g(S,A){var T=A.getRadius(),O=A.innerRadius,D,L,Z=T*O,U,Y;return!t.isArray(S.x)&&t.isArray(S.y)&&(S.x=[S.x,S.x]),t.isArray(S.x)?(U={x:S.x[0],y:S.y[0]},Y={x:S.x[1],y:S.y[1]},D=s.getPointAngle(A,U),L=s.getPointAngle(A,Y),L<=D&&(L=L+Math.PI*2)):(Y=S,D=A.startAngle,L=s.getPointAngle(A,Y)),{r:T,ir:Z,startAngle:D,endAngle:L}}function y(S,A){var T=A.geom,O=T.get("coord"),D=A.point,L=7.5,Z;if(O&&O.type==="theta"){var U=g(D,O),Y=(U.endAngle-U.startAngle)/2+U.startAngle,W=L*Math.cos(Y),J=L*Math.sin(Y);Z={transform:[["t",W,J]]}}return t.mix({},Z)}var E=c.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(A,T){if(!A||t.inArray(["rect","funnel","pyramid"],A)){var O=T.fillOpacity||T.opacity||1;return{fillOpacity:O-.15}}var D=T.lineWidth||0;return{lineWidth:D+1}},getDefaultPoints:function(A){return e(A)},getSelectedCfg:function(A,T){return y(A,T)}});c.registerShape("interval","rect",{draw:function(A,T){var O=h(A),D=n(A.points);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=h(A),O=A.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),c.registerShape("interval","hollowRect",{draw:function(A,T){var O=p(A),D=n(A.points);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=p(A),O=A.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),c.registerShape("interval","line",{getPoints:function(A){return a(A)},draw:function(A,T){var O=p(A);O.lineWidth=A.size||1;var D=n(A.points);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=p(A);return t.mix({symbol:"line",radius:5},T)}}),c.registerShape("interval","tick",{getPoints:function(A){return u(A)},draw:function(A,T){var O=p(A);O.lineWidth||(O.lineWidth=2);var D=l(A.points);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=p(A);return t.mix({symbol:"tick",radius:5},T)}}),c.registerShape("interval","funnel",{getPoints:function(A){return A.size=A.size*2,e(A)},draw:function(A,T){var O=h(A),D=d(A,!0);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=h(A);return t.mix({symbol:"square",radius:4},T)}}),c.registerShape("interval","pyramid",{getPoints:function(A){return A.size=A.size*2,e(A,!0)},draw:function(A,T){var O=h(A),D=d(A,!1);return D=this.parsePath(D),T.addShape("path",{attrs:t.mix(O,{path:D})})},getMarkerCfg:function(A){var T=h(A);return t.mix({symbol:"square",radius:4},T)}});function C(S,A,T,O){return A===0?[[S+1/2*T/Math.PI/2,O/2],[S+1/2*T/Math.PI,O],[S+T/4,O]]:A===1?[[S+1/2*T/Math.PI/2*(Math.PI-2),O],[S+1/2*T/Math.PI/2*(Math.PI-1),O/2],[S+T/4,0]]:A===2?[[S+1/2*T/Math.PI/2,-O/2],[S+1/2*T/Math.PI,-O],[S+T/4,-O]]:[[S+1/2*T/Math.PI/2*(Math.PI-2),-O],[S+1/2*T/Math.PI/2*(Math.PI-1),-O/2],[S+T/4,0]]}function m(S,A,T,O,D,L,Z){for(var U=Math.ceil(2*S/T*4)*2,Y=[];O<-Math.PI*2;)O+=Math.PI*2;for(;O>0;)O-=Math.PI*2;O=O/Math.PI/2*T;var W=L-S+O-S*2;Y.push(["M",W,A]);for(var J=0,ht=0;ht<U;++ht){var nt=ht%4,Q=C(ht*T/4,nt,T,D);Y.push(["C",Q[0][0]+W,-Q[0][1]+A,Q[1][0]+W,-Q[1][1]+A,Q[2][0]+W,-Q[2][1]+A]),ht===U-1&&(J=Q[2][0])}return Y.push(["L",J+W,Z+S]),Y.push(["L",W,Z+S]),Y.push(["L",W,A]),Y}function M(S,A,T,O,D,L,Z,U){for(var Y=Z.getBBox(),W=Y.maxX-Y.minX,J=Y.maxY-Y.minY,ht=5e3,nt=300,Q=0;Q<O;Q++){var xt=L.addShape("path",{attrs:{path:m(U,Y.minY+J*T,W/4,0,W/64,S,A),fill:D[Q],clip:Z}});o.renderer==="canvas"&&xt.animate({transform:[["t",W/2,0]],repeat:!0},ht-Q*nt)}}c.registerShape("interval","liquid-fill-gauge",{draw:function(A,T){var O=this,D=.5,L=0,Z=Infinity;t.each(A.points,function(xt){xt.x<Z&&(Z=xt.x),L+=xt.x});var U=L/A.points.length,Y=O.parsePoint({x:U,y:D}),W=O.parsePoint({x:Z,y:.5}),J=Y.x-W.x,ht=Math.min(J,W.y),nt=h(A),Q=new f.Circle({attrs:{x:Y.x,y:Y.y,r:ht}});return M(Y.x,Y.y,A.y/(2*Y.y),1,[nt.fill],T,Q,ht*4),T.addShape("circle",{attrs:t.mix(p(A),{x:Y.x,y:Y.y,r:ht+ht/8})})}});var b={};c.registerShape("interval","liquid-fill-path",{draw:function(A,T){var O=this,D=t.mix({},h(A)),L=A.shape[1],Z=.5,U=0,Y=Infinity;t.each(A.points,function($){$.x<Y&&(Y=$.x),U+=$.x});var W=U/A.points.length,J=O.parsePoint({x:W,y:Z}),ht=O.parsePoint({x:Y,y:.5}),nt=J.x-ht.x,Q=Math.min(nt,ht.y),xt;if(b[L])xt=b[L];else{var _t=r.parsePathString(L);b[L]=xt={segments:_t}}var Nt=[];D.rotate&&(Nt.push(["r",D.rotate/180*Math.PI]),delete D.rotate);var rt=T.addShape("path",{attrs:t.mix(D,{fillOpacity:0,path:xt.segments})}),q=t.cloneDeep(rt.getBBox()),G=q.maxX-q.minX,N=q.maxY-q.minY,at=Math.max(G,N),H=Q*2/at;rt.transform(Nt.concat([["s",H,H]]));var ft=H*G/2,ct=H*N/2;rt.transform([["t",J.x-ft,J.y-ct]]),M(J.x,J.y,A.y/(2*J.y),1,[D.fill],T,rt,ht.y*4);var K=T.addShape("path",{attrs:t.mix(p(A),{path:xt.segments})});return K.transform(Nt.concat([["s",H,H],["t",J.x-ft,J.y-ct]])),K}}),c.registerShape("interval","top-line",{draw:function(A,T){var O=h(A),D=A.style||{},L=[["M",A.points[1].x,A.points[1].y],["L",A.points[2].x,A.points[2].y]],Z={stroke:D.stroke||"white",lineWidth:D.lineWidth||1,path:this.parsePath(L)},U=n(A.points);U=this.parsePath(U),delete O.stroke;var Y=T.addShape("path",{attrs:t.mix(O,{zIndex:0,path:U})});return T.addShape("path",{zIndex:1,attrs:Z}),Y},getMarkerCfg:function(A){var T=h(A),O=A.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),P.exports=E},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(23),v=i(417);i(426);var o=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.type="line",u.sortable=!0,u},e}(v),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.hasDefaultAdjust=!0,u.adjusts=[{type:"stack"}],u},e}(o);o.Stack=f,s.Line=o,s.LineStack=f,P.exports=o},function(P,x,i){var t=i(0),c=i(25),s=i(57),v=i(21),o=i(8),f=[1,1],r=[5.5,1];function e(b){var S=o.shape.line,A=t.mix({},S,b.style);return s.addStrokeAttrs(A,b),b.size&&(A.lineWidth=b.size),A}function n(b){var S=o.shape.line,A=t.mix({lineWidth:2,radius:6},S,b.style);return s.addStrokeAttrs(A,b),A}function a(b,S,A,T){for(var O=[],D=T.isStack,L=[],Z=0;Z<b.length;Z++){var U=b[Z],Y=s.splitPoints(U);L.push(Y[0]),O.push(Y[1])}var W=u(O,S,A,T),J=u(L,S,A,T);return D?W:W.concat(J)}function u(b,S,A,T){var O;if(!S)O=c.getLinePath(b,!1),A&&O.push(["Z"]);else{var D=T.constraint;A&&b.length&&b.push({x:b[0].x,y:b[0].y}),O=c.getSplinePath(b,!1,D)}return O}function l(b,S){var A,T=b.points,O=b.isInCircle,D=T[0];return t.isArray(D.y)?A=a(T,S,O,b):A=u(T,S,O,b),A}function h(b,S){var A=[];return t.each(b,function(T,O){var D=b[O+1];A.push(T),D&&(A=A.concat(S(T,D)))}),A}function p(b){var S=[];return t.each(b,function(A,T){var O=T===0?["M",A.x,A.y]:["L",A.x,A.y];S.push(O)}),S}function d(b,S){var A=h(b.points,S);return p(A)}function g(b,S,A){return[["M",b-A,S],["L",b+A,S]]}function y(b,S,A){return[["M",b-A,S],["A",A/2,A/2,0,1,1,b,S],["A",A/2,A/2,0,1,0,b+A,S]]}function E(b,S){return t.mix({symbol:S?y:g},n(b))}function C(b,S){return t.mix({symbol:S},n(b))}function m(b,S,A){var T=S.points[0];return A.addShape("circle",{attrs:t.mix({x:T.x,y:T.y,r:2,fill:S.color},S.style)})}var M=v.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(S,A){var T=A.lineWidth||0;return{lineWidth:T+1}},getDefaultPoints:function(S){return s.splitPoints(S)},drawShape:function(S,A,T){var O=this.getShape(S),D;return A.points.length===1&&o.showSinglePoint?D=m(this,A,T):D=O.draw(A,T),D&&(D.set("origin",A.origin),D._id=A.splitedIndex?A._id+A.splitedIndex:A._id,D.name=this.name),D}});v.registerShape("line","line",{draw:function(S,A){var T=e(S),O=l(S,!1);return A.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(S){return E(S)}}),v.registerShape("line","dot",{draw:function(S,A){var T=e(S),O=l(S,!1);return A.addShape("path",{attrs:t.mix(T,{path:O,lineDash:f})})},getMarkerCfg:function(S){var A=E(S,!1);return A.lineDash=f,A}}),v.registerShape("line","dash",{draw:function(S,A){var T=e(S),O=l(S,!1);return A.addShape("path",{attrs:t.mix({path:O,lineDash:r},T)})},getMarkerCfg:function(S){var A=E(S,!1);return A.lineDash=A.lineDash||r,A}}),v.registerShape("line","smooth",{draw:function(S,A){var T=e(S),O=this._coord;S.constraint=[[O.start.x,O.end.y],[O.end.x,O.start.y]];var D=l(S,!0);return A.addShape("path",{attrs:t.mix(T,{path:D})})},getMarkerCfg:function(S){return E(S,!0)}}),v.registerShape("line","hv",{draw:function(S,A){var T=e(S),O=d(S,function(D,L){var Z=[];return Z.push({x:L.x,y:D.y}),Z});return A.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(S){return C(S,function(A,T,O){return[["M",A-O-1,T-2.5],["L",A,T-2.5],["L",A,T+2.5],["L",A+O+1,T+2.5]]})}}),v.registerShape("line","vh",{draw:function(S,A){var T=e(S),O=d(S,function(D,L){var Z=[];return Z.push({x:D.x,y:L.y}),Z});return A.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(S){return C(S,function(A,T,O){return[["M",A-O-1,T+2.5],["L",A,T+2.5],["L",A,T-2.5],["L",A+O+1,T-2.5]]})}}),v.registerShape("line","hvh",{draw:function(S,A){var T=e(S),O=d(S,function(D,L){var Z=[],U=(L.x-D.x)/2+D.x;return Z.push({x:U,y:D.y}),Z.push({x:U,y:L.y}),Z});return A.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(S){return C(S,function(A,T,O){return[["M",A-(O+1),T+2.5],["L",A-O/2,T+2.5],["L",A-O/2,T-2.5],["L",A+O/2,T-2.5],["L",A+O/2,T+2.5],["L",A+O+1,T+2.5]]})}}),v.registerShape("line","vhv",{draw:function(S,A){var T=e(S),O=d(S,function(D,L){var Z=[],U=(L.y-D.y)/2+D.y;return Z.push({x:D.x,y:U}),Z.push({x:L.x,y:U}),Z});return A.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(S){return C(S,function(A,T){return[["M",A-5,T+2.5],["L",A-5,T],["L",A,T],["L",A,T-3],["L",A,T+3],["L",A+6.5,T+3]]})}}),M.spline=M.smooth,P.exports=M},function(P,x,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(23),v=i(0);i(428);var o=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.type="point",l.shapeType="point",l.generatePoints=!0,l},a.drawPoint=function(l,h,p,d){var g=this,y=l.shape,E=g.getDrawCfg(l);g._applyViewThemeShapeStyle(E,y,p);var C;if(v.isArray(l.y)){var m=g.hasStack();v.each(l.y,function(M,b){E.y=M,E.yIndex=b,(!m||b!==0)&&(C=p.drawShape(y,E,h),g.appendShapeInfo(C,d+b))})}else v.isNil(l.y)||(C=p.drawShape(y,E,h),g.appendShapeInfo(C,d))},n}(s),f=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.hasDefaultAdjust=!0,l.adjusts=[{type:"jitter"}],l},n}(o),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.hasDefaultAdjust=!0,l.adjusts=[{type:"stack"}],l},n}(o);o.Jitter=f,o.Stack=r,s.Point=o,s.PointJitter=f,s.PointStack=r,P.exports=o},function(P,x,i){var t=i(0),c=i(57),s=i(8),v=i(21),o=i(18),f=o.Marker,r=t.PathUtil,e=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],n=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],a=Math.sqrt(3);t.mix(f.Symbols,{hexagon:function(y,E,C){var m=C/2*a;return[["M",y,E-C],["L",y+m,E-C/2],["L",y+m,E+C/2],["L",y,E+C],["L",y-m,E+C/2],["L",y-m,E-C/2],["Z"]]},bowtie:function(y,E,C){var m=C-1.5;return[["M",y-C,E-m],["L",y+C,E+m],["L",y+C,E-m],["L",y-C,E+m],["Z"]]},cross:function(y,E,C){return[["M",y-C,E-C],["L",y+C,E+C],["M",y+C,E-C],["L",y-C,E+C]]},tick:function(y,E,C){return[["M",y-C/2,E-C],["L",y+C/2,E-C],["M",y,E-C],["L",y,E+C],["M",y-C/2,E+C],["L",y+C/2,E+C]]},plus:function(y,E,C){return[["M",y-C,E],["L",y+C,E],["M",y,E-C],["L",y,E+C]]},hyphen:function(y,E,C){return[["M",y-C,E],["L",y+C,E]]},line:function(y,E,C){return[["M",y,E-C],["L",y,E+C]]}});function u(g){var y=s.shape.point,E=t.mix({},y,g.style);return c.addFillAttrs(E,g),t.isNumber(g.size)&&(E.radius=g.size),E}function l(g){var y=s.shape.hollowPoint,E=t.mix({},y,g.style);return c.addStrokeAttrs(E,g),t.isNumber(g.size)&&(E.radius=g.size),E}var h=v.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(y,E){var C=E.radius,m;return y&&(y.indexOf("hollow")===0||t.indexOf(n,y)!==-1)||!y?m=E.stroke||E.strokeStyle:m=E.fill||E.fillStyle,{radius:C+1,shadowBlur:C,shadowColor:m,stroke:m,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(y){return c.splitPoints(y)}});function p(g){var y=g.points[0].x,E=g.points[0].y,C=g.size[0],m=g.size[1],M=[["M",y-.5*C,E-.5*m],["L",y+.5*C,E-.5*m],["L",y+.5*C,E+.5*m],["L",y-.5*C,E+.5*m],["z"]];return M}v.registerShape("point","rect",{draw:function(y,E){var C=u(y),m=p(y);m=this.parsePath(m);var M=E.addShape("path",{attrs:t.mix(C,{path:m})});return M},getMarkerCfg:function(y){var E=u(y);return E.symbol="rect",E.radius=4.5,E}}),t.each(e,function(g){v.registerShape("point",g,{draw:function(E,C){var m=u(E);return C.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:E.x,y:E.y})})},getMarkerCfg:function(E){var C=u(E);return C.symbol=g,C.radius=4.5,C}}),v.registerShape("point","hollow"+t.upperFirst(g),{draw:function(E,C){var m=l(E);return C.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:E.x,y:E.y})})},getMarkerCfg:function(E){var C=l(E);return C.symbol=g,C.radius=4.5,C}})}),t.each(n,function(g){v.registerShape("point",g,{draw:function(E,C){var m=l(E);return C.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:E.x,y:E.y})})},getMarkerCfg:function(E){var C=l(E);return C.symbol=g,C.radius=4.5,C}})}),v.registerShape("point","image",{draw:function(y,E){return y.points=this.parsePoints(y.points),E.addShape("image",{attrs:{x:y.points[0].x-y.size/2,y:y.points[0].y-y.size,width:y.size,height:y.size,img:y.shape[1]}})}});var d={};v.registerShape("point","path",{draw:function(y,E){var C=t.mix({},l(y),u(y)),m=y.shape[1],M=y.size||10,b;if(d[m])b=d[m];else{var S=r.parsePathString(m),A=t.flatten(S).filter(function(L){return t.isNumber(L)});d[m]=b={range:Math.max.apply(null,A)-Math.min.apply(null,A),segments:S}}var T=M/b.range,O=[];C.rotate&&(O.push(["r",C.rotate/180*Math.PI]),delete C.rotate);var D=E.addShape("path",{attrs:t.mix(C,{path:b.segments})});return O.push(["s",T,T],["t",y.x,y.y]),D.transform(O),D}}),P.exports=h},function(P,x,i){"use strict";var t=i(430);x.a=function(c){var s=c+="",v=s.indexOf(":");return v>=0&&(s=c.slice(0,v))!=="xmlns"&&(c=c.slice(v+1)),t.a.hasOwnProperty(s)?{space:t.a[s],local:c}:c}},function(P,x,i){"use strict";i.d(x,"b",function(){return t});var t="http://www.w3.org/1999/xhtml";x.a={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(P,x,i){"use strict";function t(){}x.a=function(c){return c==null?t:function(){return this.querySelector(c)}}},function(P,x,i){"use strict";x.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(P,x,i){"use strict";i.d(x,"c",function(){return c}),x.a=n;var t={},c=null;if(typeof document!="undefined"){var s=document.documentElement;"onmouseenter"in s||(t={mouseenter:"mouseover",mouseleave:"mouseout"})}function v(a,u,l){return a=o(a,u,l),function(h){var p=h.relatedTarget;(!p||p!==this&&!(p.compareDocumentPosition(this)&8))&&a.call(this,h)}}function o(a,u,l){return function(h){var p=c;c=h;try{a.call(this,this.__data__,u,l)}finally{c=p}}}function f(a){return a.trim().split(/^|\s+/).map(function(u){var l="",h=u.indexOf(".");return h>=0&&(l=u.slice(h+1),u=u.slice(0,h)),{type:u,name:l}})}function r(a){return function(){var u=this.__on;if(!!u){for(var l=0,h=-1,p=u.length,d;l<p;++l)d=u[l],(!a.type||d.type===a.type)&&d.name===a.name?this.removeEventListener(d.type,d.listener,d.capture):u[++h]=d;++h?u.length=h:delete this.__on}}}function e(a,u,l){var h=t.hasOwnProperty(a.type)?v:o;return function(p,d,g){var y=this.__on,E,C=h(u,d,g);if(y){for(var m=0,M=y.length;m<M;++m)if((E=y[m]).type===a.type&&E.name===a.name){this.removeEventListener(E.type,E.listener,E.capture),this.addEventListener(E.type,E.listener=C,E.capture=l),E.value=u;return}}this.addEventListener(a.type,C,l),E={type:a.type,name:a.name,value:u,listener:C,capture:l},y?y.push(E):this.__on=[E]}}x.b=function(a,u,l){var h=f(a+""),p,d=h.length,g;if(arguments.length<2){var y=this.node().__on;if(y){for(var E=0,C=y.length,m;E<C;++E)for(p=0,m=y[E];p<d;++p)if((g=h[p]).type===m.type&&g.name===m.name)return m.value}return}for(y=u?e:r,l==null&&(l=!1),p=0;p<d;++p)this.each(y(h[p],u,l));return this};function n(a,u,l,h){var p=c;a.sourceEvent=c,c=a;try{return u.apply(l,h)}finally{c=p}}},function(P,x,i){"use strict";var t=i(433);x.a=function(){for(var c=t.c,s;s=c.sourceEvent;)c=s;return c}},function(P,x,i){"use strict";var t=i(436),c=i(452),s=i(437),v=i(450),o=i(453),f=i(513),r=i(514),e=i(420);i.d(x,"a",function(){return e.a});var n=i(438),a=i(454),u=i(515),l=i(455);i.d(x,"c",function(){return l.a});var h=i(516);i.d(x,"d",function(){return h.a}),i.d(x,"e",function(){return h.b});var p=i(519),d=i(449);i.d(x,"b",function(){return d.a});var g=i(520),y=i(521),E=i(522),C=i(523),m=i(524),M=i(525)},function(P,x,i){"use strict";var t=i(19),c=i(449),s=i(452),v=i(453),o=i(420),f=i(454),r=i(455),e=i(451),n=i(438);x.a=function(a,u){var l=typeof u,h;return u==null||l==="boolean"?Object(e.a)(u):(l==="number"?o.a:l==="string"?(h=Object(t.a)(u))?(u=h,c.a):r.a:u instanceof t.a?c.a:u instanceof Date?v.a:Object(n.b)(u)?n.a:Array.isArray(u)?s.a:typeof u.valueOf!="function"&&typeof u.toString!="function"||isNaN(u)?f.a:o.a)(a,u)}},function(P,x,i){"use strict";x.a=t;function t(c,s,v,o,f){var r=c*c,e=r*c;return((1-3*c+3*r-e)*s+(4-6*r+3*e)*v+(1+3*c+3*r-3*e)*o+e*f)/6}x.b=function(c){var s=c.length-1;return function(v){var o=v<=0?v=0:v>=1?(v=1,s-1):Math.floor(v*s),f=c[o],r=c[o+1],e=o>0?c[o-1]:2*f-r,n=o<s-1?c[o+2]:2*r-f;return t((v-o/s)*s,e,f,r,n)}}},function(P,x,i){"use strict";x.b=t,x.a=function(c,s){s||(s=[]);var v=c?Math.min(s.length,c.length):0,o=s.slice(),f;return function(r){for(f=0;f<v;++f)o[f]=c[f]*(1-r)+s[f]*r;return o}};function t(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}},function(P,x){P.exports=function(i){var t=i.get("scaleController")||{};return t.defs}},function(P,x,i){var t=i(439);P.exports=function(c,s){var v=t(c);if(v&&v[s])return v[s]}},function(P,x,i){var t=i(0),c=i(100);P.exports=function(s,v){var o,f=v.field,r=v.type,e=t.Array.values(s,f);return r==="linear"?(o=t.Array.getRange(e),v.min<o.min&&(o.min=v.min),v.max>o.max&&(o.max=v.max)):(r==="timeCat"&&(t.each(e,function(n,a){e[a]=c.toTimeStamp(n)}),e.sort(function(n,a){return n-a})),o=e),o}},function(P,x,i){"use strict";var t=i(99);x.a=function(c){return typeof c=="string"?new t.a([[document.querySelector(c)]],[document.documentElement]):new t.a([[c]],t.c)}},function(P,x,i){"use strict";function t(){return[]}x.a=function(c){return c==null?t:function(){return this.querySelectorAll(c)}}},function(P,x,i){"use strict";x.a=function(t){return function(){return this.matches(t)}}},function(P,x,i){"use strict";x.a=s;var t=i(446),c=i(99);x.b=function(){return new c.a(this._enter||this._groups.map(t.a),this._parents)};function s(v,o){this.ownerDocument=v.ownerDocument,this.namespaceURI=v.namespaceURI,this._next=null,this._parent=v,this.__data__=o}s.prototype={constructor:s,appendChild:function(v){return this._parent.insertBefore(v,this._next)},insertBefore:function(v,o){return this._parent.insertBefore(v,o)},querySelector:function(v){return this._parent.querySelector(v)},querySelectorAll:function(v){return this._parent.querySelectorAll(v)}}},function(P,x,i){"use strict";x.a=function(t){return new Array(t.length)}},function(P,x,i){"use strict";x.b=o;var t=i(432);function c(f){return function(){this.style.removeProperty(f)}}function s(f,r,e){return function(){this.style.setProperty(f,r,e)}}function v(f,r,e){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(f):this.style.setProperty(f,n,e)}}x.a=function(f,r,e){return arguments.length>1?this.each((r==null?c:typeof r=="function"?v:s)(f,r,e==null?"":e)):o(this.node(),f)};function o(f,r){return f.style.getPropertyValue(r)||Object(t.a)(f).getComputedStyle(f,null).getPropertyValue(r)}},function(P,x,i){"use strict";var t=i(58);x.a=function(c,s){var v=c.__transition,o,f,r=!0,e;if(!!v){s=s==null?null:s+"";for(e in v){if((o=v[e]).name!==s){r=!1;continue}f=o.state>t.d&&o.state<t.b,o.state=t.a,o.timer.stop(),o.on.call(f?"interrupt":"cancel",c,c.__data__,o.index,o.group),delete v[e]}r&&delete c.__transition}}},function(P,x,i){"use strict";var t=i(19),c=i(437),s=i(450),v=i(207);x.a=function e(n){var a=Object(v.b)(n);function u(l,h){var p=a((l=Object(t.f)(l)).r,(h=Object(t.f)(h)).r),d=a(l.g,h.g),g=a(l.b,h.b),y=Object(v.a)(l.opacity,h.opacity);return function(E){return l.r=p(E),l.g=d(E),l.b=g(E),l.opacity=y(E),l+""}}return u.gamma=e,u}(1);function o(e){return function(n){var a=n.length,u=new Array(a),l=new Array(a),h=new Array(a),p,d;for(p=0;p<a;++p)d=Object(t.f)(n[p]),u[p]=d.r||0,l[p]=d.g||0,h[p]=d.b||0;return u=e(u),l=e(l),h=e(h),d.opacity=1,function(g){return d.r=u(g),d.g=l(g),d.b=h(g),d+""}}}var f=o(c.b),r=o(s.a)},function(P,x,i){"use strict";var t=i(437);x.a=function(c){var s=c.length;return function(v){var o=Math.floor(((v%=1)<0?++v:v)*s),f=c[(o+s-1)%s],r=c[o%s],e=c[(o+1)%s],n=c[(o+2)%s];return Object(t.a)((v-o/s)*s,f,r,e,n)}}},function(P,x,i){"use strict";x.a=function(t){return function(){return t}}},function(P,x,i){"use strict";x.a=v;var t=i(436),c=i(438),s=function(o,f){return(Object(c.b)(f)?c.a:v)(o,f)};function v(o,f){var r=f?f.length:0,e=o?Math.min(r,o.length):0,n=new Array(e),a=new Array(r),u;for(u=0;u<e;++u)n[u]=Object(t.a)(o[u],f[u]);for(;u<r;++u)a[u]=f[u];return function(l){for(u=0;u<e;++u)a[u]=n[u](l);return a}}},function(P,x,i){"use strict";x.a=function(t,c){var s=new Date;return t=+t,c=+c,function(v){return s.setTime(t*(1-v)+c*v),s}}},function(P,x,i){"use strict";var t=i(436);x.a=function(c,s){var v={},o={},f;(c===null||typeof c!="object")&&(c={}),(s===null||typeof s!="object")&&(s={});for(f in s)f in c?v[f]=Object(t.a)(c[f],s[f]):o[f]=s[f];return function(r){for(f in v)o[f]=v[f](r);return o}}},function(P,x,i){"use strict";var t=i(420),c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(c.source,"g");function v(f){return function(){return f}}function o(f){return function(r){return f(r)+""}}x.a=function(f,r){var e=c.lastIndex=s.lastIndex=0,n,a,u,l=-1,h=[],p=[];for(f=f+"",r=r+"";(n=c.exec(f))&&(a=s.exec(r));)(u=a.index)>e&&(u=r.slice(e,u),h[l]?h[l]+=u:h[++l]=u),(n=n[0])===(a=a[0])?h[l]?h[l]+=a:h[++l]=a:(h[++l]=null,p.push({i:l,x:Object(t.a)(n,a)})),e=s.lastIndex;return e<r.length&&(u=r.slice(e),h[l]?h[l]+=u:h[++l]=u),h.length<2?p[0]?o(p[0].x):v(r):(r=p.length,function(d){for(var g=0,y;g<r;++g)h[(y=p[g]).i]=y.x(d);return h.join("")})}},function(P,x,i){"use strict";var t=i(19),c=i(435);x.a=function(s,v){var o;return(typeof v=="number"?c.a:v instanceof t.a?c.b:(o=Object(t.a)(v))?(v=o,c.b):c.c)(s,v)}},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(422),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="rect",n},r.generateFacets=function(n){var a=this,u=a.fields,l=[],h=1,p=1,d=u[0],g=u[1],y=[""],E=[""];return d&&(y=a.getFieldValues(d,n),p=y.length),g&&(E=a.getFieldValues(g,n),h=E.length),y.forEach(function(C,m){E.forEach(function(M,b){var S=[{field:d,value:C,values:y},{field:g,value:M,values:E}],A=a.getFilter(S),T=n.filter(A),O={type:a.type,colValue:C,rowValue:M,colField:d,rowField:g,colIndex:m,rowIndex:b,cols:p,rows:h,data:T,region:a.getRegion(h,p,m,b)};l.push(O)})}),l},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1?(a[n].title=null,a[n].label=null):u.colIndex!==parseInt((u.cols-1)/2)&&(a[n].title=null)},r.setYAxis=function(n,a,u){u.colIndex!==0?(a[n].title=null,a[n].label=null):u.rowIndex!==parseInt((u.rows-1)/2)&&(a[n].title=null)},r.renderTitle=function(n,a){a.rowIndex===0&&this.drawColTitle(n,a),a.colIndex===a.cols-1&&this.drawRowTitle(n,a)},f}(s);P.exports=v},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(422),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="list",n.cols=null,n},r.generateFacets=function(n){var a=this,u=a.fields,l=u[0];if(!l)throw"Please specify for the field for facet!";var h=a.getFieldValues(l,n),p=h.length,d=a.cols||p,g=parseInt((p+d-1)/d),y=[];return h.forEach(function(E,C){var m=parseInt(C/d),M=C%d,b=[{field:l,value:E,values:h}],S=a.getFilter(b),A=n.filter(S),T={type:a.type,count:p,colValue:E,colField:l,rowField:null,rowValue:E,colIndex:M,rowIndex:m,cols:d,rows:g,data:A,region:a.getRegion(g,d,M,m)};y.push(T)}),y},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1&&u.cols*u.rowIndex+u.colIndex+1+u.cols<=u.count&&(a[n].label=null,a[n].title=null)},r.setYAxis=function(n,a,u){u.colIndex!==0&&(a[n].title=null,a[n].label=null)},f}(s);P.exports=v},function(P,x,i){var t=i(206);i(460),i(462),i(464),i(423),i(425),i(417),i(427),i(465),i(467),i(469),i(545),i(547),i(552),P.exports=t},function(P,x,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(416),f=i(0);i(461);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="area",h.shapeType="area",h.generatePoints=!0,h.sortable=!0,h};function u(l){var h;return h=n.call(this,l)||this,f.assign(t(h),o),h}return a.draw=function(h,p,d,g){var y=this,E=this.getDrawCfg(h[0]);y._applyViewThemeShapeStyle(E,E.shape,d);var C=this.splitData(h);E.origin=h,f.each(C,function(m,M){E.splitedIndex=M;var b=m.map(function(A){return A.points});E.points=b;var S=d.drawShape(E.shape,E,p);y.appendShapeInfo(S,g+M)})},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"stack"}],h},a}(r);r.Stack=e,v.Area=r,v.AreaStack=e,P.exports=r},function(P,x,i){var t=i(0),c=i(21),s=i(25),v=i(57),o=i(8);function f(h){var p=o.shape.hollowArea,d=t.mix({},p,h.style);return v.addStrokeAttrs(d,h),t.isNumber(h.size)&&(d.lineWidth=h.size),d}function r(h){var p=o.shape.area,d=t.mix({},p,h.style);return v.addFillAttrs(d,h),h.color&&(d.stroke=d.stroke||h.color),t.isNumber(h.size)&&(d.lineWidth=h.size),d}function e(h,p,d){var g=[],y=[],E=[],C=[],m=h.isInCircle;return t.each(h.points,function(M){E.push(M[1]),C.push(M[0])}),C=C.reverse(),y.push(E,C),t.each(y,function(M,b){var S=[];M=d.parsePoints(M);var A=M[0];m&&M.push({x:A.x,y:A.y}),p?S=s.getSplinePath(M,!1,h.constraint):S=s.getLinePath(M,!1),b>0&&(S[0][0]="L"),g=g.concat(S)}),g.push(["Z"]),g}function n(h){return{symbol:function(d,g,y){return[["M",d-y,g-4],["L",d+y,g-4],["L",d+y,g+4],["L",d-y,g+4],["Z"]]},radius:5,fill:h.color,fillOpacity:.6}}function a(h,p){if(h==="line"||h==="smoothLine"){var d=p.lineWidth||0;return{lineWidth:d+1}}var g=p.fillOpacity||p.opacity||1;return{fillOpacity:g-.15,strokeOpacity:g-.15}}function u(h,p,d){var g=h._coord,y=g.convertPoint(p.points[0][1]);return d.addShape("circle",{attrs:t.mix({x:y.x,y:y.y,r:2,fill:p.color},p.style)})}var l=c.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(p){var d=[],g=p.x,y=p.y,E=p.y0;return y=t.isArray(y)?y:[E,y],t.each(y,function(C){d.push({x:g,y:C})}),d},getActiveCfg:function(p,d){return a(p,d)},drawShape:function(p,d,g){var y=this.getShape(p),E;return d.points.length===1&&o.showSinglePoint?E=u(this,d,g):E=y.draw(d,g),E&&(E.set("origin",d.origin),E._id=d.splitedIndex?d._id+d.splitedIndex:d._id,E.name=this.name),E},getSelectedCfg:function(p,d){return d&&d.style?d.style:this.getActiveCfg(p,d)}});c.registerShape("area","area",{draw:function(p,d){var g=r(p),y=e(p,!1,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","smooth",{draw:function(p,d){var g=r(p),y=this._coord;p.constraint=[[y.start.x,y.end.y],[y.end.x,y.start.y]];var E=e(p,!0,this);return d.addShape("path",{attrs:t.mix(g,{path:E})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","line",{draw:function(p,d){var g=f(p),y=e(p,!1,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","smoothLine",{draw:function(p,d){var g=f(p),y=e(p,!0,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),l.spline=l.smooth,P.exports=l},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(23);i(463);var v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="edge",n.shapeType="edge",n.generatePoints=!0,n},f}(s);s.Edge=v,P.exports=v},function(P,x,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=i(25),f=1/3;function r(d){var g=v.shape.edge,y=t.mix({},g,d.style);return s.addStrokeAttrs(y,d),d.size&&(y.lineWidth=d.size),y}var e=c.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(g){return s.splitPoints(g)},getActiveCfg:function(g,y){var E=y.lineWidth||0;return{lineWidth:E+1}}});function n(d,g){var y=[];y.push({x:d.x,y:d.y*(1-1/2)+g.y*1/2}),y.push({y:d.y*(1-1/2)+g.y*1/2,x:g.x}),y.push(g);var E=["C"];return t.each(y,function(C){E.push(C.x,C.y)}),E}function a(d,g){var y=[];y.push({x:g.x,y:g.y}),y.push(d);var E=["Q"];return t.each(y,function(C){E.push(C.x,C.y)}),E}function u(d,g){var y=n(d,g),E=[["M",d.x,d.y]];return E.push(y),E}function l(d,g,y){var E=a(g,y),C=[["M",d.x,d.y]];return C.push(E),C}function h(d,g){var y=a(d[1],g),E=a(d[3],g),C=[["M",d[0].x,d[0].y]];return C.push(E),C.push(["L",d[3].x,d[3].y]),C.push(["L",d[2].x,d[2].y]),C.push(y),C.push(["L",d[1].x,d[1].y]),C.push(["L",d[0].x,d[0].y]),C.push(["Z"]),C}function p(d,g){var y=[];y.push({y:d.y*(1-f)+g.y*f,x:d.x}),y.push({y:d.y*(1-f)+g.y*f,x:g.x}),y.push(g);var E=[["M",d.x,d.y]];return t.each(y,function(C){E.push(["L",C.x,C.y])}),E}c.registerShape("edge","line",{draw:function(g,y){var E=this.parsePoints(g.points),C=r(g),m=o.getLinePath(E),M=y.addShape("path",{attrs:t.mix(C,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","vhv",{draw:function(g,y){var E=g.points,C=r(g),m=p(E[0],E[1]);m=this.parsePath(m);var M=y.addShape("path",{attrs:t.mix(C,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","smooth",{draw:function(g,y){var E=g.points,C=r(g),m=u(E[0],E[1]);m=this.parsePath(m);var M=y.addShape("path",{attrs:t.mix(C,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","arc",{draw:function(g,y){var E=g.points,C=E.length>2?"weight":"normal",m=r(g),M,b;if(g.isInCircle){var S={x:0,y:1};C==="normal"?b=l(E[0],E[1],S):(m.fill=m.stroke,b=h(E,S)),b=this.parsePath(b),M=y.addShape("path",{attrs:t.mix(m,{path:b})})}else if(C==="normal")E=this.parsePoints(E),M=y.addShape("arc",{attrs:t.mix(m,{x:(E[1].x+E[0].x)/2,y:E[0].y,r:Math.abs(E[1].x-E[0].x)/2,startAngle:Math.PI,endAngle:Math.PI*2})});else{b=[["M",E[0].x,E[0].y],["L",E[1].x,E[1].y]];var A=n(E[1],E[3]),T=n(E[2],E[0]);b.push(A),b.push(["L",E[3].x,E[3].y]),b.push(["L",E[2].x,E[2].y]),b.push(T),b.push(["Z"]),b=this.parsePath(b),m.fill=m.stroke,M=y.addShape("path",{attrs:t.mix(m,{path:b})})}return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),P.exports=e},function(P,x,i){function t(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c(d,g)}function c(d,g){return c=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E},c(d,g)}var s=i(104),v=s.ColorUtil,o=i(23),f=i(0),r="_origin",e="shadowCanvas",n="valueRange",a="imageShape",u="mappedData",l="grayScaleBlurredCanvas",h="heatmapSize",p=function(d){t(g,d);function g(){return d.apply(this,arguments)||this}var y=g.prototype;return y.getDefaultCfg=function(){var C=d.prototype.getDefaultCfg.call(this);return C.type="heatmap",C.paletteCache={},C},y._prepareRange=function(){var C=this,m=C.get(u),M=C.getAttr("color"),b=M.field,S=Infinity,A=-Infinity;m.forEach(function(O){var D=O[r][b];D>A&&(A=D),D<S&&(S=D)}),S===A&&(S=A-1);var T=[S,A];C.set(n,T)},y._prepareSize=function(){var C=this,m=C.getDefaultValue("size");f.isNumber(m)||(m=C._getDefaultSize());var M=C.get("styleOptions"),b=M&&f.isObject(M.style)?M.style.blur:null;(!f.isFinite(b)||b===null)&&(b=m/2),C.set(h,{blur:b,radius:m})},y._getDefaultSize=function(){var C=this,m=C.getAttr("position"),M=C.get("coord"),b=Math.min(M.width/(m.scales[0].ticks.length*4),M.height/(m.scales[1].ticks.length*4));return b},y._colorize=function(C){for(var m=this,M=m.getAttr("color"),b=C.data,S=m.get("paletteCache"),A=3;A<b.length;A+=4){var T=b[A];if(T){var O=void 0;S[T]?O=S[T]:(O=v.rgb2arr(M.gradient(T/256)),S[T]=O),b[A-3]=O[0],b[A-2]=O[1],b[A-1]=O[2],b[A]=T}}},y._prepareGreyScaleBlurredCircle=function(C,m){var M=this,b=M.get(l);b||(b=document.createElement("canvas"),M.set(l,b));var S=C+m,A=b.getContext("2d");b.width=b.height=S*2,A.clearRect(0,0,b.width,b.height),A.shadowOffsetX=A.shadowOffsetY=S*2,A.shadowBlur=m,A.shadowColor="black",A.beginPath(),A.arc(-S,-S,C,0,Math.PI*2,!0),A.closePath(),A.fill()},y._drawGrayScaleBlurredCircle=function(C,m,M,b,S){var A=this,T=A.get(l);S.globalAlpha=b,S.drawImage(T,C-M,m-M)},y._getShadowCanvasCtx=function(){var C=this,m=C.get(e);m||(m=document.createElement("canvas"),C.set(e,m));var M=C.get("coord");return M&&(m.width=M.width,m.height=M.height),m.getContext("2d")},y._clearShadowCanvasCtx=function(){var C=this._getShadowCanvasCtx();C.clearRect(0,0,C.canvas.width,C.canvas.height)},y._getImageShape=function(){var C=this,m=C.get(a);if(m)return m;var M=C.get("container");return m=M.addShape("Image",{}),C.set(a,m),m},y.clear=function(){this._clearShadowCanvasCtx(),d.prototype.clear.call(this)},y.drawWithRange=function(C){var m=this,M=m.get("coord"),b=M.start,S=M.end,A=M.width,T=M.height,O=m.getAttr("color").field,D=m.get(h);m._clearShadowCanvasCtx();var L=m._getShadowCanvasCtx(),Z=m.get(u);C&&(Z=Z.filter(function(xt){return xt[r][O]<=C[1]&&xt[r][O]>=C[0]}));for(var U=m._getScale(O),Y=0;Y<Z.length;Y++){var W=Z[Y],J=m.getDrawCfg(W),ht=U.scale(W[r][O]);m._drawGrayScaleBlurredCircle(J.x-b.x,J.y-S.y,D.radius+D.blur,ht,L)}var nt=L.getImageData(0,0,A,T);m._clearShadowCanvasCtx(),m._colorize(nt),L.putImageData(nt,0,0);var Q=m._getImageShape();Q.attr("x",b.x),Q.attr("y",S.y),Q.attr("width",A),Q.attr("height",T),Q.attr("img",L.canvas)},y.draw=function(C){var m=this;m.set(u,C),m._prepareRange(),m._prepareSize();var M=m.get(h);m._prepareGreyScaleBlurredCircle(M.radius,M.blur);var b=m.get(n);m.drawWithRange(b)},g}(o);o.Heatmap=p,P.exports=p},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(23),v=i(0);i(466);var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return a.type="polygon",a.shapeType="polygon",a.generatePoints=!0,a},e.createShapePointsCfg=function(a){var u=f.prototype.createShapePointsCfg.call(this,a),l=this,h=u.x,p=u.y,d;if(!(v.isArray(h)&&v.isArray(p))){var g=l.getXScale(),y=l.getYScale(),E=g.values?g.values.length:g.ticks.length,C=y.values?y.values.length:y.ticks.length,m=.5*1/E,M=.5*1/C;g.isCategory&&y.isCategory?(h=[h-m,h-m,h+m,h+m],p=[p-M,p+M,p+M,p-M]):v.isArray(h)?(d=h,h=[d[0],d[0],d[1],d[1]],p=[p-M/2,p+M/2,p+M/2,p-M/2]):v.isArray(p)&&(d=p,p=[d[0],d[1],d[1],d[0]],h=[h-m/2,h-m/2,h+m/2,h+m/2]),u.x=h,u.y=p}return u},r}(s);s.Polygon=o,P.exports=o},function(P,x,i){var t=i(0),c=i(21),s=i(57),v=i(8);function o(n){var a=v.shape.polygon,u=t.mix({},a,n.style);return s.addFillAttrs(u,n),u}function f(n){var a=v.shape.hollowPolygon,u=t.mix({},a,n.style);return s.addStrokeAttrs(u,n),u}function r(n){for(var a=n[0],u=1,l=[["M",a.x,a.y]];u<n.length;){var h=n[u];(h.x!==n[u-1].x||h.y!==n[u-1].y)&&(l.push(["L",h.x,h.y]),h.x===a.x&&h.y===a.y&&u<n.length-1&&(a=n[u+1],l.push(["Z"]),l.push(["M",a.x,a.y]),u++)),u++}return t.isEqual(l[l.length-1],a)||l.push(["L",a.x,a.y]),l.push(["Z"]),l}var e=c.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(a){var u=[];return t.each(a.x,function(l,h){var p=a.y[h];u.push({x:l,y:p})}),u},getActiveCfg:function(a,u){var l=u.lineWidth||1;if(a==="hollow")return{lineWidth:l+1};var h=u.fillOpacity||u.opacity||1;return{fillOpacity:h-.08}},getSelectedCfg:function(a,u){return u&&u.style?u.style:this.getActiveCfg(a,u)}});c.registerShape("polygon","polygon",{draw:function(a,u){if(!t.isEmpty(a.points)){var l=o(a),h=r(a.points);return h=this.parsePath(h),u.addShape("path",{attrs:t.mix(l,{path:h})})}},getMarkerCfg:function(a){return t.mix({symbol:"square",radius:4},o(a))}}),c.registerShape("polygon","hollow",{draw:function(a,u){if(!t.isEmpty(a.points)){var l=f(a),h=r(a.points);return h=this.parsePath(h),u.addShape("path",{attrs:t.mix(l,{path:h})})}},getMarkerCfg:function(a){return t.mix({symbol:"square",radius:4},o(a))}}),P.exports=e},function(P,x,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(0),f=i(415);i(468);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="schema",h.shapeType="schema",h.generatePoints=!0,h};function u(l){var h;return h=n.call(this,l)||this,o.assign(t(h),f),h}return a.createShapePointsCfg=function(h){var p=n.prototype.createShapePointsCfg.call(this,h);return p.size=this.getNormalizedSize(h),p},a.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"dodge"}],h},a}(r);r.Dodge=e,v.Schema=r,v.SchemaDodge=e,P.exports=r},function(P,x,i){var t=i(0),c=i(21),s=i(57),v=i(8);function o(d){t.isArray(d)||(d=[d]);var g=d[0],y=d[d.length-1],E=d.length>1?d[1]:g,C=d.length>3?d[3]:y,m=d.length>2?d[2]:E;return{min:g,max:y,min1:E,max1:C,median:m}}function f(d,g){t.each(d,function(y){g.push({x:y[0],y:y[1]})})}function r(d){var g=v.shape.schema,y=t.mix({},g,d.style);return s.addStrokeAttrs(y,d),y}function e(d){var g=v.shape.schema,y=t.mix({},g,d.style);return s.addFillAttrs(y,d),d.color&&(y.stroke=d.color||y.stroke),y}function n(d,g,y){var E=[],C,m;return t.isArray(g)?(m=o(g),C=[[d-y/2,m.max],[d+y/2,m.max],[d,m.max],[d,m.max1],[d-y/2,m.min1],[d-y/2,m.max1],[d+y/2,m.max1],[d+y/2,m.min1],[d,m.min1],[d,m.min],[d-y/2,m.min],[d+y/2,m.min],[d-y/2,m.median],[d+y/2,m.median]]):(g=g||.5,m=o(d),C=[[m.min,g-y/2],[m.min,g+y/2],[m.min,g],[m.min1,g],[m.min1,g-y/2],[m.min1,g+y/2],[m.max1,g+y/2],[m.max1,g-y/2],[m.max1,g],[m.max,g],[m.max,g-y/2],[m.max,g+y/2],[m.median,g-y/2],[m.median,g+y/2]]),f(C,E),E}function a(d){t.isArray(d)||(d=[d]);var g=d.sort(function(m,M){return m<M?1:-1}),y=g.length;if(y<4)for(var E=g[y-1],C=0;C<4-y;C++)g.push(E);return g}function u(d,g,y){var E=a(g),C=[{x:d,y:E[0]},{x:d,y:E[1]},{x:d-y/2,y:E[2]},{x:d-y/2,y:E[1]},{x:d+y/2,y:E[1]},{x:d+y/2,y:E[2]},{x:d,y:E[2]},{x:d,y:E[3]}];return C}function l(d){var g=[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["M",d[4].x,d[4].y],["L",d[5].x,d[5].y],["L",d[6].x,d[6].y],["L",d[7].x,d[7].y],["L",d[4].x,d[4].y],["Z"],["M",d[8].x,d[8].y],["L",d[9].x,d[9].y],["M",d[10].x,d[10].y],["L",d[11].x,d[11].y],["M",d[12].x,d[12].y],["L",d[13].x,d[13].y]];return g}function h(d){var g=[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["L",d[4].x,d[4].y],["L",d[5].x,d[5].y],["Z"],["M",d[6].x,d[6].y],["L",d[7].x,d[7].y]];return g}var p=c.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(g,y){if(g==="box"){var E=y.lineWidth||1;return{lineWidth:E+1}}var C=y.fillOpacity||y.opacity||1;return{fillOpacity:C-.15,strokeOpacity:C-.15}},getSelectedCfg:function(g,y){return y&&y.style?y.style:this.getActiveCfg(g,y)}});c.registerShape("schema","box",{getPoints:function(g){return n(g.x,g.y,g.size)},draw:function(g,y){var E=r(g),C=l(g.points);return C=this.parsePath(C),y.addShape("path",{attrs:t.mix(E,{path:C})})},getMarkerCfg:function(g){return{symbol:function(E,C,m){var M=[C-6,C-3,C,C+3,C+6],b=n(E,M,m);return[["M",b[0].x+1,b[0].y],["L",b[1].x-1,b[1].y],["M",b[2].x,b[2].y],["L",b[3].x,b[3].y],["M",b[4].x,b[4].y],["L",b[5].x,b[5].y],["L",b[6].x,b[6].y],["L",b[7].x,b[7].y],["L",b[4].x,b[4].y],["Z"],["M",b[8].x,b[8].y],["L",b[9].x,b[9].y],["M",b[10].x+1,b[10].y],["L",b[11].x-1,b[11].y],["M",b[12].x,b[12].y],["L",b[13].x,b[13].y]]},radius:6,lineWidth:1,stroke:g.color}}}),c.registerShape("schema","candle",{getPoints:function(g){return u(g.x,g.y,g.size)},draw:function(g,y){var E=e(g),C=h(g.points);return C=this.parsePath(C),y.addShape("path",{attrs:t.mix(E,{path:C})})},getMarkerCfg:function(g){return{symbol:function(E,C,m){C=[C+7.5,C+3,C-3,C-7.5];var M=u(E,C,m);return[["M",M[0].x,M[0].y],["L",M[1].x,M[1].y],["M",M[2].x,M[2].y],["L",M[3].x,M[3].y],["L",M[4].x,M[4].y],["L",M[5].x,M[5].y],["Z"],["M",M[6].x,M[6].y],["L",M[7].x,M[7].y]]},lineWidth:1,stroke:g.color,fill:g.color,radius:6}}}),P.exports=p},function(P,x,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(23),v=i(0),o=i(470),f=o.venn,r=o.scaleSolution,e=o.circlePath,n=o.intersectionAreaPath,a=o.computeTextCentres;i(544);var u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return g.type="venn",g.shapeType="venn",g.generatePoints=!1,g},p._getAttrValues=function(g,y){return g.type==="position"?[y.x,y.y]:l.prototype._getAttrValues.call(this,g,y)},p.sets=function(g){return this.set("setsField",g),this},p._initAttrs=function(){var g=this;l.prototype._initAttrs.call(this);var y=g.get("attrOptions"),E=g.get("setsField")||"sets",C=g.get("data"),m=y.size?y.size.field:"size";C.forEach(function(Y){Y.sets=Y[E],Y._sets=Y[E].join("&"),Y.size=Y[m]});var M=f(C),b=g.get("coord"),S=[Math.min(b.x.end,b.x.start),Math.max(b.x.end,b.x.start)],A=[Math.min(b.y.end,b.y.start),Math.max(b.y.end,b.y.start)],T=S[1]-S[0],O=A[1]-A[0],D=g.get("styleOptions"),L=D&&v.isObject(D.style)?D.style.padding:0;v.isFinite(L)||(L=0);var Z=r(M,T,O,L),U=a(Z,C);C.forEach(function(Y){var W=Y.sets,J=W.join(",");if(Y.id=J,W.length===1){var ht=Z[J];Y.path=e(ht.x,ht.y,ht.radius),v.assign(Y,ht)}else{var nt=W.map(function(_t){return Z[_t]}),Q=n(nt);/[zZ]$/.test(Q)||(Q+="Z"),Y.path=Q;var xt=U[J]||{x:0,y:0};v.assign(Y,xt)}})},h}(s);s.Venn=u,P.exports=u},function(P,x,i){(function(t,c){c(x,i(102),i(506))})(this,function(t,c,s){"use strict";var v=1e-10;function o(K,$){var et=r(K),B=et.filter(function(xe){return f(xe,K)}),w=0,R=0,V=[],tt;if(B.length>1){var lt=l(B);for(tt=0;tt<B.length;++tt){var Et=B[tt];Et.angle=Math.atan2(Et.x-lt.x,Et.y-lt.y)}B.sort(function(xe,de){return de.angle-xe.angle});var ot=B[B.length-1];for(tt=0;tt<B.length;++tt){var Mt=B[tt];R+=(ot.x+Mt.x)*(Mt.y-ot.y);for(var Ot={x:(Mt.x+ot.x)/2,y:(Mt.y+ot.y)/2},Ft=null,zt=0;zt<Mt.parentIndex.length;++zt)if(ot.parentIndex.indexOf(Mt.parentIndex[zt])>-1){var $t=K[Mt.parentIndex[zt]],ce=Math.atan2(Mt.x-$t.x,Mt.y-$t.y),ye=Math.atan2(ot.x-$t.x,ot.y-$t.y),Je=ye-ce;Je<0&&(Je+=2*Math.PI);var nr=ye-Je/2,Xe=n(Ot,{x:$t.x+$t.radius*Math.sin(nr),y:$t.y+$t.radius*Math.cos(nr)});Xe>$t.radius*2&&(Xe=$t.radius*2),(Ft===null||Ft.width>Xe)&&(Ft={circle:$t,width:Xe,p1:Mt,p2:ot})}Ft!==null&&(V.push(Ft),w+=e(Ft.circle.radius,Ft.width),ot=Mt)}}else{var mr=K[0];for(tt=1;tt<K.length;++tt)K[tt].radius<mr.radius&&(mr=K[tt]);var Gr=!1;for(tt=0;tt<K.length;++tt)if(n(K[tt],mr)>Math.abs(mr.radius-K[tt].radius)){Gr=!0;break}Gr?w=R=0:(w=mr.radius*mr.radius*Math.PI,V.push({circle:mr,p1:{x:mr.x,y:mr.y+mr.radius},p2:{x:mr.x-v,y:mr.y+mr.radius},width:mr.radius*2}))}return R/=2,$&&($.area=w+R,$.arcArea=w,$.polygonArea=R,$.arcs=V,$.innerPoints=B,$.intersectionPoints=et),w+R}function f(K,$){for(var et=0;et<$.length;++et)if(n(K,$[et])>$[et].radius+v)return!1;return!0}function r(K){for(var $=[],et=0;et<K.length;++et)for(var B=et+1;B<K.length;++B)for(var w=u(K[et],K[B]),R=0;R<w.length;++R){var V=w[R];V.parentIndex=[et,B],$.push(V)}return $}function e(K,$){return K*K*Math.acos(1-$/K)-(K-$)*Math.sqrt($*(2*K-$))}function n(K,$){return Math.sqrt((K.x-$.x)*(K.x-$.x)+(K.y-$.y)*(K.y-$.y))}function a(K,$,et){if(et>=K+$)return 0;if(et<=Math.abs(K-$))return Math.PI*Math.min(K,$)*Math.min(K,$);var B=K-(et*et-$*$+K*K)/(2*et),w=$-(et*et-K*K+$*$)/(2*et);return e(K,B)+e($,w)}function u(K,$){var et=n(K,$),B=K.radius,w=$.radius;if(et>=B+w||et<=Math.abs(B-w))return[];var R=(B*B-w*w+et*et)/(2*et),V=Math.sqrt(B*B-R*R),tt=K.x+R*($.x-K.x)/et,lt=K.y+R*($.y-K.y)/et,Et=-($.y-K.y)*(V/et),ot=-($.x-K.x)*(V/et);return[{x:tt+Et,y:lt-ot},{x:tt-Et,y:lt+ot}]}function l(K){for(var $={x:0,y:0},et=0;et<K.length;++et)$.x+=K[et].x,$.y+=K[et].y;return $.x/=K.length,$.y/=K.length,$}function h(K,$,et,B){B=B||{};var w=B.maxIterations||100,R=B.tolerance||1e-10,V=K($),tt=K(et),lt=et-$;if(V*tt>0)throw"Initial bisect points must have opposite signs";if(V===0)return $;if(tt===0)return et;for(var Et=0;Et<w;++Et){lt/=2;var ot=$+lt,Mt=K(ot);if(Mt*V>=0&&($=ot),Math.abs(lt)<R||Mt===0)return ot}return $+lt}function p(K){for(var $=new Array(K),et=0;et<K;++et)$[et]=0;return $}function d(K,$){return p(K).map(function(){return p($)})}function g(K,$){for(var et=0,B=0;B<K.length;++B)et+=K[B]*$[B];return et}function y(K){return Math.sqrt(g(K,K))}function E(K,$,et){for(var B=0;B<$.length;++B)K[B]=$[B]*et}function C(K,$,et,B,w){for(var R=0;R<K.length;++R)K[R]=$*et[R]+B*w[R]}function m(K,$,et){et=et||{};var B=et.maxIterations||$.length*200,w=et.nonZeroDelta||1.05,R=et.zeroDelta||.001,V=et.minErrorDelta||1e-6,tt=et.minErrorDelta||1e-5,lt=et.rho!==void 0?et.rho:1,Et=et.chi!==void 0?et.chi:2,ot=et.psi!==void 0?et.psi:-.5,Mt=et.sigma!==void 0?et.sigma:.5,Ot,Ft=$.length,zt=new Array(Ft+1);zt[0]=$,zt[0].fx=K($),zt[0].id=0;for(var $t=0;$t<Ft;++$t){var ce=$.slice();ce[$t]=ce[$t]?ce[$t]*w:R,zt[$t+1]=ce,zt[$t+1].fx=K(ce),zt[$t+1].id=$t+1}function ye(rn){for(var ci=0;ci<rn.length;ci++)zt[Ft][ci]=rn[ci];zt[Ft].fx=rn.fx}for(var Je=function(rn,ci){return rn.fx-ci.fx},nr=$.slice(),Xe=$.slice(),mr=$.slice(),Gr=$.slice(),xe=0;xe<B;++xe){if(zt.sort(Je),et.history){var de=zt.map(function(rn){var ci=rn.slice();return ci.fx=rn.fx,ci.id=rn.id,ci});de.sort(function(rn,ci){return rn.id-ci.id}),et.history.push({x:zt[0].slice(),fx:zt[0].fx,simplex:de})}for(Ot=0,$t=0;$t<Ft;++$t)Ot=Math.max(Ot,Math.abs(zt[0][$t]-zt[1][$t]));if(Math.abs(zt[0].fx-zt[Ft].fx)<V&&Ot<tt)break;for($t=0;$t<Ft;++$t){nr[$t]=0;for(var ze=0;ze<Ft;++ze)nr[$t]+=zt[ze][$t];nr[$t]/=Ft}var Ue=zt[Ft];if(C(Xe,1+lt,nr,-lt,Ue),Xe.fx=K(Xe),Xe.fx<zt[0].fx)C(Gr,1+Et,nr,-Et,Ue),Gr.fx=K(Gr),Gr.fx<Xe.fx?ye(Gr):ye(Xe);else if(Xe.fx>=zt[Ft-1].fx){var Kr=!1;if(Xe.fx>Ue.fx?(C(mr,1+ot,nr,-ot,Ue),mr.fx=K(mr),mr.fx<Ue.fx?ye(mr):Kr=!0):(C(mr,1-ot*lt,nr,ot*lt,Ue),mr.fx=K(mr),mr.fx<Xe.fx?ye(mr):Kr=!0),Kr){if(Mt>=1)break;for($t=1;$t<zt.length;++$t)C(zt[$t],1-Mt,zt[0],Mt,zt[$t]),zt[$t].fx=K(zt[$t])}}else ye(Xe)}return zt.sort(Je),{fx:zt[0].fx,x:zt[0]}}function M(K,$,et,B,w,R,V){var tt=et.fx,lt=g(et.fxprime,$),Et=tt,ot=tt,Mt=lt,Ot=0;w=w||1,R=R||1e-6,V=V||.1;function Ft($t,ce,ye){for(var Je=0;Je<16;++Je)if(w=($t+ce)/2,C(B.x,1,et.x,w,$),Et=B.fx=K(B.x,B.fxprime),Mt=g(B.fxprime,$),Et>tt+R*w*lt||Et>=ye)ce=w;else{if(Math.abs(Mt)<=-V*lt)return w;Mt*(ce-$t)>=0&&(ce=$t),$t=w,ye=Et}return 0}for(var zt=0;zt<10;++zt){if(C(B.x,1,et.x,w,$),Et=B.fx=K(B.x,B.fxprime),Mt=g(B.fxprime,$),Et>tt+R*w*lt||zt&&Et>=ot)return Ft(Ot,w,ot);if(Math.abs(Mt)<=-V*lt)return w;if(Mt>=0)return Ft(w,Ot,Et);ot=Et,Ot=w,w*=2}return w}function b(K,$,et){var B={x:$.slice(),fx:0,fxprime:$.slice()},w={x:$.slice(),fx:0,fxprime:$.slice()},R=$.slice(),V,tt,lt=1,Et;et=et||{},Et=et.maxIterations||$.length*20,B.fx=K(B.x,B.fxprime),V=B.fxprime.slice(),E(V,B.fxprime,-1);for(var ot=0;ot<Et;++ot){if(lt=M(K,V,B,w,lt),et.history&&et.history.push({x:B.x.slice(),fx:B.fx,fxprime:B.fxprime.slice(),alpha:lt}),!lt)E(V,B.fxprime,-1);else{C(R,1,w.fxprime,-1,B.fxprime);var Mt=g(B.fxprime,B.fxprime),Ot=Math.max(0,g(R,w.fxprime)/Mt);C(V,Ot,V,-1,w.fxprime),tt=B,B=w,w=tt}if(y(B.fxprime)<=1e-5)break}return et.history&&et.history.push({x:B.x.slice(),fx:B.fx,fxprime:B.fxprime.slice(),alpha:lt}),B}function S(K,$){$=$||{},$.maxIterations=$.maxIterations||500;var et=$.initialLayout||Z,B=$.lossFunction||W;K=O(K);var w=et(K,$),R=[],V=[],tt;for(tt in w)w.hasOwnProperty(tt)&&(R.push(w[tt].x),R.push(w[tt].y),V.push(tt));for(var lt=m(function(Mt){for(var Ot={},Ft=0;Ft<V.length;++Ft){var zt=V[Ft];Ot[zt]={x:Mt[2*Ft],y:Mt[2*Ft+1],radius:w[zt].radius}}return B(Ot,K)},R,$),Et=lt.x,ot=0;ot<V.length;++ot)tt=V[ot],w[tt].x=Et[2*ot],w[tt].y=Et[2*ot+1];return w}var A=1e-10;function T(K,$,et){return Math.min(K,$)*Math.min(K,$)*Math.PI<=et+A?Math.abs(K-$):h(function(B){return a(K,$,B)-et},0,K+$)}function O(K){K=K.slice();var $=[],et={},B,w,R,V;for(B=0;B<K.length;++B){var tt=K[B];tt.sets.length==1?$.push(tt.sets[0]):tt.sets.length==2&&(R=tt.sets[0],V=tt.sets[1],et[[R,V]]=!0,et[[V,R]]=!0)}for($.sort(function(lt,Et){return lt>Et}),B=0;B<$.length;++B)for(R=$[B],w=B+1;w<$.length;++w)V=$[w],[R,V]in et||K.push({sets:[R,V],size:0});return K}function D(K,$,et){var B=d($.length,$.length),w=d($.length,$.length);return K.filter(function(R){return R.sets.length==2}).map(function(R){var V=et[R.sets[0]],tt=et[R.sets[1]],lt=Math.sqrt($[V].size/Math.PI),Et=Math.sqrt($[tt].size/Math.PI),ot=T(lt,Et,R.size);B[V][tt]=B[tt][V]=ot;var Mt=0;R.size+1e-10>=Math.min($[V].size,$[tt].size)?Mt=1:R.size<=1e-10&&(Mt=-1),w[V][tt]=w[tt][V]=Mt}),{distances:B,constraints:w}}function L(K,$,et,B){var w=0,R;for(R=0;R<$.length;++R)$[R]=0;for(R=0;R<et.length;++R)for(var V=K[2*R],tt=K[2*R+1],lt=R+1;lt<et.length;++lt){var Et=K[2*lt],ot=K[2*lt+1],Mt=et[R][lt],Ot=B[R][lt],Ft=(Et-V)*(Et-V)+(ot-tt)*(ot-tt),zt=Math.sqrt(Ft),$t=Ft-Mt*Mt;Ot>0&&zt<=Mt||Ot<0&&zt>=Mt||(w+=2*$t*$t,$[2*R]+=4*$t*(V-Et),$[2*R+1]+=4*$t*(tt-ot),$[2*lt]+=4*$t*(Et-V),$[2*lt+1]+=4*$t*(ot-tt))}return w}function Z(K,$){var et=Y(K,$),B=$.lossFunction||W;if(K.length>=8){var w=U(K,$),R=B(w,K),V=B(et,K);R+1e-8<V&&(et=w)}return et}function U(K,$){$=$||{};var et=$.restarts||10,B=[],w={},R;for(R=0;R<K.length;++R){var V=K[R];V.sets.length==1&&(w[V.sets[0]]=B.length,B.push(V))}var tt=D(K,B,w),lt=tt.distances,Et=tt.constraints,ot=y(lt.map(y))/lt.length;lt=lt.map(function(Je){return Je.map(function(nr){return nr/ot})});var Mt=function(Je,nr){return L(Je,nr,lt,Et)},Ot,Ft;for(R=0;R<et;++R){var zt=p(lt.length*2).map(Math.random);Ft=b(Mt,zt,$),(!Ot||Ft.fx<Ot.fx)&&(Ot=Ft)}var $t=Ot.x,ce={};for(R=0;R<B.length;++R){var ye=B[R];ce[ye.sets[0]]={x:$t[2*R]*ot,y:$t[2*R+1]*ot,radius:Math.sqrt(ye.size/Math.PI)}}if($.history)for(R=0;R<$.history.length;++R)E($.history[R].x,ot);return ce}function Y(K,$){for(var et=$&&$.lossFunction?$.lossFunction:W,B={},w={},R,V=0;V<K.length;++V){var tt=K[V];tt.sets.length==1&&(R=tt.sets[0],B[R]={x:1e10,y:1e10,rowid:B.length,size:tt.size,radius:Math.sqrt(tt.size/Math.PI)},w[R]=[])}for(K=K.filter(function(ji){return ji.sets.length==2}),V=0;V<K.length;++V){var lt=K[V],Et=lt.hasOwnProperty("weight")?lt.weight:1,ot=lt.sets[0],Mt=lt.sets[1];lt.size+A>=Math.min(B[ot].size,B[Mt].size)&&(Et=0),w[ot].push({set:Mt,size:lt.size,weight:Et}),w[Mt].push({set:ot,size:lt.size,weight:Et})}var Ot=[];for(R in w)if(w.hasOwnProperty(R)){var Ft=0;for(V=0;V<w[R].length;++V)Ft+=w[R][V].size*w[R][V].weight;Ot.push({set:R,size:Ft})}function zt(ji,Ae){return Ae.size-ji.size}Ot.sort(zt);var $t={};function ce(ji){return ji.set in $t}function ye(ji,Ae){B[Ae].x=ji.x,B[Ae].y=ji.y,$t[Ae]=!0}for(ye({x:0,y:0},Ot[0].set),V=1;V<Ot.length;++V){var Je=Ot[V].set,nr=w[Je].filter(ce);if(R=B[Je],nr.sort(zt),nr.length===0)throw"ERROR: missing pairwise overlap information";for(var Xe=[],mr=0;mr<nr.length;++mr){var Gr=B[nr[mr].set],xe=T(R.radius,Gr.radius,nr[mr].size);Xe.push({x:Gr.x+xe,y:Gr.y}),Xe.push({x:Gr.x-xe,y:Gr.y}),Xe.push({y:Gr.y+xe,x:Gr.x}),Xe.push({y:Gr.y-xe,x:Gr.x});for(var de=mr+1;de<nr.length;++de)for(var ze=B[nr[de].set],Ue=T(R.radius,ze.radius,nr[de].size),Kr=u({x:Gr.x,y:Gr.y,radius:xe},{x:ze.x,y:ze.y,radius:Ue}),rn=0;rn<Kr.length;++rn)Xe.push(Kr[rn])}var ci=1e50,Zi=Xe[0];for(mr=0;mr<Xe.length;++mr){B[Je].x=Xe[mr].x,B[Je].y=Xe[mr].y;var Ki=et(B,K);Ki<ci&&(ci=Ki,Zi=Xe[mr])}ye(Zi,Je)}return B}function W(K,$){var et=0;function B(ot){return ot.map(function(Mt){return K[Mt]})}for(var w=0;w<$.length;++w){var R=$[w],V;if(R.sets.length!=1){if(R.sets.length==2){var tt=K[R.sets[0]],lt=K[R.sets[1]];V=a(tt.radius,lt.radius,n(tt,lt))}else V=o(B(R.sets));var Et=R.hasOwnProperty("weight")?R.weight:1;et+=Et*(V-R.size)*(V-R.size)}}return et}function J(K,$,et){et===null?K.sort(function($t,ce){return ce.radius-$t.radius}):K.sort(et);var B;if(K.length>0){var w=K[0].x,R=K[0].y;for(B=0;B<K.length;++B)K[B].x-=w,K[B].y-=R}if(K.length==2){var V=n(K[0],K[1]);V<Math.abs(K[1].radius-K[0].radius)&&(K[1].x=K[0].x+K[0].radius-K[1].radius-1e-10,K[1].y=K[0].y)}if(K.length>1){var tt=Math.atan2(K[1].x,K[1].y)-$,lt=Math.cos(tt),Et=Math.sin(tt),ot,Mt;for(B=0;B<K.length;++B)ot=K[B].x,Mt=K[B].y,K[B].x=lt*ot-Et*Mt,K[B].y=Et*ot+lt*Mt}if(K.length>2){for(var Ot=Math.atan2(K[2].x,K[2].y)-$;Ot<0;)Ot+=2*Math.PI;for(;Ot>2*Math.PI;)Ot-=2*Math.PI;if(Ot>Math.PI){var Ft=K[1].y/(1e-10+K[1].x);for(B=0;B<K.length;++B){var zt=(K[B].x+Ft*K[B].y)/(1+Ft*Ft);K[B].x=2*zt-K[B].x,K[B].y=2*zt*Ft-K[B].y}}}}function ht(K){K.map(function(Et){Et.parent=Et});function $(Et){return Et.parent!==Et&&(Et.parent=$(Et.parent)),Et.parent}function et(Et,ot){var Mt=$(Et),Ot=$(ot);Mt.parent=Ot}for(var B=0;B<K.length;++B)for(var w=B+1;w<K.length;++w){var R=K[B].radius+K[w].radius;n(K[B],K[w])+1e-10<R&&et(K[w],K[B])}var V={},tt;for(B=0;B<K.length;++B)tt=$(K[B]).parent.setid,tt in V||(V[tt]=[]),V[tt].push(K[B]);K.map(function(Et){delete Et.parent});var lt=[];for(tt in V)V.hasOwnProperty(tt)&&lt.push(V[tt]);return lt}function nt(K){var $=function(et){var B=Math.max.apply(null,K.map(function(R){return R[et]+R.radius})),w=Math.min.apply(null,K.map(function(R){return R[et]-R.radius}));return{max:B,min:w}};return{xRange:$("x"),yRange:$("y")}}function Q(K,$,et){$===null&&($=Math.PI/2);var B=[],w,R;for(R in K)if(K.hasOwnProperty(R)){var V=K[R];B.push({x:V.x,y:V.y,radius:V.radius,setid:R})}var tt=ht(B);for(w=0;w<tt.length;++w){J(tt[w],$,et);var lt=nt(tt[w]);tt[w].size=(lt.xRange.max-lt.xRange.min)*(lt.yRange.max-lt.yRange.min),tt[w].bounds=lt}tt.sort(function(zt,$t){return $t.size-zt.size}),B=tt[0];var Et=B.bounds,ot=(Et.xRange.max-Et.xRange.min)/50;function Mt(zt,$t,ce){if(!!zt){var ye=zt.bounds,Je,nr,Xe;$t?Je=Et.xRange.max-ye.xRange.min+ot:(Je=Et.xRange.max-ye.xRange.max,Xe=(ye.xRange.max-ye.xRange.min)/2-(Et.xRange.max-Et.xRange.min)/2,Xe<0&&(Je+=Xe)),ce?nr=Et.yRange.max-ye.yRange.min+ot:(nr=Et.yRange.max-ye.yRange.max,Xe=(ye.yRange.max-ye.yRange.min)/2-(Et.yRange.max-Et.yRange.min)/2,Xe<0&&(nr+=Xe));for(var mr=0;mr<zt.length;++mr)zt[mr].x+=Je,zt[mr].y+=nr,B.push(zt[mr])}}for(var Ot=1;Ot<tt.length;)Mt(tt[Ot],!0,!1),Mt(tt[Ot+1],!1,!0),Mt(tt[Ot+2],!0,!0),Ot+=3,Et=nt(B);var Ft={};for(w=0;w<B.length;++w)Ft[B[w].setid]=B[w];return Ft}function xt(K,$,et,B){var w=[],R=[];for(var V in K)K.hasOwnProperty(V)&&(R.push(V),w.push(K[V]));$-=2*B,et-=2*B;var tt=nt(w),lt=tt.xRange,Et=tt.yRange;if(lt.max==lt.min||Et.max==Et.min)return console.log("not scaling solution: zero size detected"),K;for(var ot=$/(lt.max-lt.min),Mt=et/(Et.max-Et.min),Ot=Math.min(Mt,ot),Ft=($-(lt.max-lt.min)*Ot)/2,zt=(et-(Et.max-Et.min)*Ot)/2,$t={},ce=0;ce<w.length;++ce){var ye=w[ce];$t[R[ce]]={radius:Ot*ye.radius,x:B+Ft+(ye.x-lt.min)*Ot,y:B+zt+(ye.y-Et.min)*Ot}}return $t}function _t(){var K=600,$=350,et=15,B=1e3,w=Math.PI/2,R=!0,V=!0,tt=!0,lt=null,Et=null,ot={},Mt=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Ot=0,Ft=function(ye){if(ye in ot)return ot[ye];var Je=ot[ye]=Mt[Ot];return Ot+=1,Ot>=Mt.length&&(Ot=0),Je},zt=S,$t=W;function ce(ye){var Je=ye.datum(),nr={};Je.forEach(function(or){or.size==0&&or.sets.length==1&&(nr[or.sets[0]]=1)}),Je=Je.filter(function(or){return!or.sets.some(function(wr){return wr in nr})});var Xe={},mr={};if(Je.length>0){var Gr=zt(Je,{lossFunction:$t});R&&(Gr=Q(Gr,w,Et)),Xe=xt(Gr,K,$,et),mr=N(Xe,Je)}var xe={};Je.forEach(function(or){or.label&&(xe[or.sets]=or.label)});function de(or){if(or.sets in xe)return xe[or.sets];if(or.sets.length==1)return""+or.sets[0]}ye.selectAll("svg").data([Xe]).enter().append("svg");var ze=ye.select("svg").attr("width",K).attr("height",$),Ue={},Kr=!1;ze.selectAll(".venn-area path").each(function(or){var wr=c.select(this).attr("d");or.sets.length==1&&wr&&(Kr=!0,Ue[or.sets[0]]=ft(wr))});var rn=function(or){return function(wr){var cn=or.sets.map(function(Fn){var nn=Ue[Fn],Hr=Xe[Fn];return nn||(nn={x:K/2,y:$/2,radius:1}),Hr||(Hr={x:K/2,y:$/2,radius:1}),{x:nn.x*(1-wr)+Hr.x*wr,y:nn.y*(1-wr)+Hr.y*wr,radius:nn.radius*(1-wr)+Hr.radius*wr}});return ct(cn)}},ci=ze.selectAll(".venn-area").data(Je,function(or){return or.sets}),Zi=ci.enter().append("g").attr("class",function(or){return"venn-area venn-"+(or.sets.length==1?"circle":"intersection")}).attr("data-venn-sets",function(or){return or.sets.join("_")}),Ki=Zi.append("path"),ji=Zi.append("text").attr("class","label").text(function(or){return de(or)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",K/2).attr("y",$/2);tt&&(Ki.style("fill-opacity","0").filter(function(or){return or.sets.length==1}).style("fill",function(or){return Ft(or.sets)}).style("fill-opacity",".25"),ji.style("fill",function(or){return or.sets.length==1?Ft(or.sets):"#444"}));var Ae=ye;Kr?(Ae=ye.transition("venn").duration(B),Ae.selectAll("path").attrTween("d",rn)):Ae.selectAll("path").attr("d",function(or){return ct(or.sets.map(function(wr){return Xe[wr]}))});var De=Ae.selectAll("text").filter(function(or){return or.sets in mr}).text(function(or){return de(or)}).attr("x",function(or){return Math.floor(mr[or.sets].x)}).attr("y",function(or){return Math.floor(mr[or.sets].y)});V&&(Kr?"on"in De?De.on("end",Nt(Xe,de)):De.each("end",Nt(Xe,de)):De.each(Nt(Xe,de)));var ar=ci.exit().transition("venn").duration(B).remove();ar.selectAll("path").attrTween("d",rn);var Pr=ar.selectAll("text").attr("x",K/2).attr("y",$/2);return lt!==null&&(ji.style("font-size","0px"),De.style("font-size",lt),Pr.style("font-size","0px")),{circles:Xe,textCentres:mr,nodes:ci,enter:Zi,update:Ae,exit:ar}}return ce.wrap=function(ye){return arguments.length?(V=ye,ce):V},ce.width=function(ye){return arguments.length?(K=ye,ce):K},ce.height=function(ye){return arguments.length?($=ye,ce):$},ce.padding=function(ye){return arguments.length?(et=ye,ce):et},ce.colours=function(ye){return arguments.length?(Ft=ye,ce):Ft},ce.fontSize=function(ye){return arguments.length?(lt=ye,ce):lt},ce.duration=function(ye){return arguments.length?(B=ye,ce):B},ce.layoutFunction=function(ye){return arguments.length?(zt=ye,ce):zt},ce.normalize=function(ye){return arguments.length?(R=ye,ce):R},ce.styled=function(ye){return arguments.length?(tt=ye,ce):tt},ce.orientation=function(ye){return arguments.length?(w=ye,ce):w},ce.orientationOrder=function(ye){return arguments.length?(Et=ye,ce):Et},ce.lossFunction=function(ye){return arguments.length?($t=ye,ce):$t},ce}function Nt(K,$){return function(){for(var et=c.select(this),B=et.datum(),w=K[B.sets[0]].radius||50,R=$(B)||"",V=R.split(/\s+/).reverse(),tt=3,lt=(R.length+V.length)/tt,Et=V.pop(),ot=[Et],Mt,Ot=0,Ft=1.1,zt=et.text(null).append("tspan").text(Et);Et=V.pop(),!!Et;)ot.push(Et),Mt=ot.join(" "),zt.text(Mt),Mt.length>lt&&zt.node().getComputedTextLength()>w&&(ot.pop(),zt.text(ot.join(" ")),ot=[Et],zt=et.append("tspan").text(Et),Ot++);var $t=.35-Ot*Ft/2,ce=et.attr("x"),ye=et.attr("y");et.selectAll("tspan").attr("x",ce).attr("y",ye).attr("dy",function(Je,nr){return $t+nr*Ft+"em"})}}function rt(K,$,et){var B=$[0].radius-n($[0],K),w,R;for(w=1;w<$.length;++w)R=$[w].radius-n($[w],K),R<=B&&(B=R);for(w=0;w<et.length;++w)R=n(et[w],K)-et[w].radius,R<=B&&(B=R);return B}function q(K,$){var et=[],B;for(B=0;B<K.length;++B){var w=K[B];et.push({x:w.x,y:w.y}),et.push({x:w.x+w.radius/2,y:w.y}),et.push({x:w.x-w.radius/2,y:w.y}),et.push({x:w.x,y:w.y+w.radius/2}),et.push({x:w.x,y:w.y-w.radius/2})}var R=et[0],V=rt(et[0],K,$);for(B=1;B<et.length;++B){var tt=rt(et[B],K,$);tt>=V&&(R=et[B],V=tt)}var lt=m(function(Ot){return-1*rt({x:Ot[0],y:Ot[1]},K,$)},[R.x,R.y],{maxIterations:500,minErrorDelta:1e-10}).x,Et={x:lt[0],y:lt[1]},ot=!0;for(B=0;B<K.length;++B)if(n(Et,K[B])>K[B].radius){ot=!1;break}for(B=0;B<$.length;++B)if(n(Et,$[B])<$[B].radius){ot=!1;break}if(!ot)if(K.length==1)Et={x:K[0].x,y:K[0].y};else{var Mt={};o(K,Mt),Mt.arcs.length===0?Et={x:0,y:-1e3,disjoint:!0}:Mt.arcs.length==1?Et={x:Mt.arcs[0].circle.x,y:Mt.arcs[0].circle.y}:$.length?Et=q(K,[]):Et=l(Mt.arcs.map(function(Ot){return Ot.p1}))}return Et}function G(K){var $={},et=[];for(var B in K)et.push(B),$[B]=[];for(var w=0;w<et.length;w++)for(var R=K[et[w]],V=w+1;V<et.length;++V){var tt=K[et[V]],lt=n(R,tt);lt+tt.radius<=R.radius+1e-10?$[et[V]].push(et[w]):lt+R.radius<=tt.radius+1e-10&&$[et[w]].push(et[V])}return $}function N(K,$){for(var et={},B=G(K),w=0;w<$.length;++w){for(var R=$[w].sets,V={},tt={},lt=0;lt<R.length;++lt){V[R[lt]]=!0;for(var Et=B[R[lt]],ot=0;ot<Et.length;++ot)tt[Et[ot]]=!0}var Mt=[],Ot=[];for(var Ft in K)Ft in V?Mt.push(K[Ft]):Ft in tt||Ot.push(K[Ft]);var zt=q(Mt,Ot);et[R]=zt,zt.disjoint&&$[w].size>0&&console.log("WARNING: area "+R+" not represented on screen")}return et}function at(K,$){for(var et=G(K.selectAll("svg").datum()),B={},w=0;w<$.sets.length;++w){var R=$.sets[w];for(var V in et)for(var tt=et[V],lt=0;lt<tt.length;++lt)if(tt[lt]==R){B[V]=!0;break}}function Et(ot){for(var Mt=0;Mt<ot.length;++Mt)if(!(ot[Mt]in B))return!1;return!0}K.selectAll("g").sort(function(ot,Mt){return ot.sets.length!=Mt.sets.length?ot.sets.length-Mt.sets.length:ot==$?Et(Mt.sets)?-1:1:Mt==$?Et(ot.sets)?1:-1:Mt.size-ot.size})}function H(K,$,et){var B=[];return B.push(`
M`,K,$),B.push(`
m`,-et,0),B.push(`
a`,et,et,0,1,0,et*2,0),B.push(`
a`,et,et,0,1,0,-et*2,0),B.join(" ")}function ft(K){var $=K.split(" ");return{x:parseFloat($[1]),y:parseFloat($[2]),radius:-parseFloat($[4])}}function ct(K){var $={};o(K,$);var et=$.arcs;if(et.length===0)return"M 0 0";if(et.length==1){var B=et[0].circle;return H(B.x,B.y,B.radius)}else{for(var w=[`
M`,et[0].p2.x,et[0].p2.y],R=0;R<et.length;++R){var V=et[R],tt=V.circle.radius,lt=V.width>tt;w.push(`
A`,tt,tt,0,lt?1:0,1,V.p1.x,V.p1.y)}return w.join(" ")}}t.intersectionArea=o,t.circleCircleIntersection=u,t.circleOverlap=a,t.circleArea=e,t.distance=n,t.venn=S,t.greedyLayout=Y,t.scaleSolution=xt,t.normalizeSolution=Q,t.bestInitialLayout=Z,t.lossFunction=W,t.disjointCluster=ht,t.distanceFromIntersectArea=T,t.VennDiagram=_t,t.wrapText=Nt,t.computeTextCentres=N,t.computeTextCentre=q,t.sortAreas=at,t.circlePath=H,t.circleFromPath=ft,t.intersectionAreaPath=ct,Object.defineProperty(t,"__esModule",{value:!0})})},function(P,x,i){"use strict";var t=i(418),c=i(442);x.a=function(s){return Object(c.a)(Object(t.a)(s).call(document.documentElement))}},function(P,x,i){"use strict";var t=i(99),c=i(431);x.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=new Array(n),u,l,h=0;h<n;++h)(u=e[h])&&(l=s.call(u,u.__data__,h,e))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new t.a(f,this._parents)}},function(P,x,i){"use strict";var t=i(99),c=i(443);x.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=[],r=[],e=0;e<o;++e)for(var n=v[e],a=n.length,u,l=0;l<a;++l)(u=n[l])&&(f.push(s.call(u,u.__data__,l,n)),r.push(u));return new t.a(f,r)}},function(P,x,i){"use strict";var t=i(99),c=i(444);x.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=[],u,l=0;l<n;++l)(u=e[l])&&s.call(u,u.__data__,l,e)&&a.push(u);return new t.a(f,this._parents)}},function(P,x,i){"use strict";var t=i(99),c=i(445),s=i(476),v="$";function o(r,e,n,a,u,l){for(var h=0,p,d=e.length,g=l.length;h<g;++h)(p=e[h])?(p.__data__=l[h],a[h]=p):n[h]=new c.a(r,l[h]);for(;h<d;++h)(p=e[h])&&(u[h]=p)}function f(r,e,n,a,u,l,h){var p,d,g={},y=e.length,E=l.length,C=new Array(y),m;for(p=0;p<y;++p)(d=e[p])&&(C[p]=m=v+h.call(d,d.__data__,p,e),m in g?u[p]=d:g[m]=d);for(p=0;p<E;++p)m=v+h.call(r,l[p],p,l),(d=g[m])?(a[p]=d,d.__data__=l[p],g[m]=null):n[p]=new c.a(r,l[p]);for(p=0;p<y;++p)(d=e[p])&&g[C[p]]===d&&(u[p]=d)}x.a=function(r,e){if(!r)return m=new Array(this.size()),g=-1,this.each(function(Z){m[++g]=Z}),m;var n=e?f:o,a=this._parents,u=this._groups;typeof r!="function"&&(r=Object(s.a)(r));for(var l=u.length,h=new Array(l),p=new Array(l),d=new Array(l),g=0;g<l;++g){var y=a[g],E=u[g],C=E.length,m=r.call(y,y&&y.__data__,g,a),M=m.length,b=p[g]=new Array(M),S=h[g]=new Array(M),A=d[g]=new Array(C);n(y,E,b,S,A,m,e);for(var T=0,O=0,D,L;T<M;++T)if(D=b[T]){for(T>=O&&(O=T+1);!(L=S[O])&&++O<M;);D._next=L||null}}return h=new t.a(h,a),h._enter=p,h._exit=d,h}},function(P,x,i){"use strict";x.a=function(t){return function(){return t}}},function(P,x,i){"use strict";var t=i(446),c=i(99);x.a=function(){return new c.a(this._exit||this._groups.map(t.a),this._parents)}},function(P,x,i){"use strict";x.a=function(t,c,s){var v=this.enter(),o=this,f=this.exit();return v=typeof t=="function"?t(v):v.append(t+""),c!=null&&(o=c(o)),s==null?f.remove():s(f),v&&o?v.merge(o).order():o}},function(P,x,i){"use strict";var t=i(99);x.a=function(c){for(var s=this._groups,v=c._groups,o=s.length,f=v.length,r=Math.min(o,f),e=new Array(o),n=0;n<r;++n)for(var a=s[n],u=v[n],l=a.length,h=e[n]=new Array(l),p,d=0;d<l;++d)(p=a[d]||u[d])&&(h[d]=p);for(;n<o;++n)e[n]=s[n];return new t.a(e,this._parents)}},function(P,x,i){"use strict";x.a=function(){for(var t=this._groups,c=-1,s=t.length;++c<s;)for(var v=t[c],o=v.length-1,f=v[o],r;--o>=0;)(r=v[o])&&(f&&r.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(r,f),f=r);return this}},function(P,x,i){"use strict";var t=i(99);x.a=function(s){s||(s=c);function v(p,d){return p&&d?s(p.__data__,d.__data__):!p-!d}for(var o=this._groups,f=o.length,r=new Array(f),e=0;e<f;++e){for(var n=o[e],a=n.length,u=r[e]=new Array(a),l,h=0;h<a;++h)(l=n[h])&&(u[h]=l);u.sort(v)}return new t.a(r,this._parents).order()};function c(s,v){return s<v?-1:s>v?1:s>=v?0:NaN}},function(P,x,i){"use strict";x.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(P,x,i){"use strict";x.a=function(){var t=new Array(this.size()),c=-1;return this.each(function(){t[++c]=this}),t}},function(P,x,i){"use strict";x.a=function(){for(var t=this._groups,c=0,s=t.length;c<s;++c)for(var v=t[c],o=0,f=v.length;o<f;++o){var r=v[o];if(r)return r}return null}},function(P,x,i){"use strict";x.a=function(){var t=0;return this.each(function(){++t}),t}},function(P,x,i){"use strict";x.a=function(){return!this.node()}},function(P,x,i){"use strict";x.a=function(t){for(var c=this._groups,s=0,v=c.length;s<v;++s)for(var o=c[s],f=0,r=o.length,e;f<r;++f)(e=o[f])&&t.call(e,e.__data__,f,o);return this}},function(P,x,i){"use strict";var t=i(429);function c(e){return function(){this.removeAttribute(e)}}function s(e){return function(){this.removeAttributeNS(e.space,e.local)}}function v(e,n){return function(){this.setAttribute(e,n)}}function o(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function f(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function r(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}x.a=function(e,n){var a=Object(t.a)(e);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((n==null?a.local?s:c:typeof n=="function"?a.local?r:f:a.local?o:v)(a,n))}},function(P,x,i){"use strict";function t(v){return function(){delete this[v]}}function c(v,o){return function(){this[v]=o}}function s(v,o){return function(){var f=o.apply(this,arguments);f==null?delete this[v]:this[v]=f}}x.a=function(v,o){return arguments.length>1?this.each((o==null?t:typeof o=="function"?s:c)(v,o)):this.node()[v]}},function(P,x,i){"use strict";function t(n){return n.trim().split(/^|\s+/)}function c(n){return n.classList||new s(n)}function s(n){this._node=n,this._names=t(n.getAttribute("class")||"")}s.prototype={add:function(n){var a=this._names.indexOf(n);a<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var a=this._names.indexOf(n);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function v(n,a){for(var u=c(n),l=-1,h=a.length;++l<h;)u.add(a[l])}function o(n,a){for(var u=c(n),l=-1,h=a.length;++l<h;)u.remove(a[l])}function f(n){return function(){v(this,n)}}function r(n){return function(){o(this,n)}}function e(n,a){return function(){(a.apply(this,arguments)?v:o)(this,n)}}x.a=function(n,a){var u=t(n+"");if(arguments.length<2){for(var l=c(this.node()),h=-1,p=u.length;++h<p;)if(!l.contains(u[h]))return!1;return!0}return this.each((typeof a=="function"?e:a?f:r)(u,a))}},function(P,x,i){"use strict";function t(){this.textContent=""}function c(v){return function(){this.textContent=v}}function s(v){return function(){var o=v.apply(this,arguments);this.textContent=o==null?"":o}}x.a=function(v){return arguments.length?this.each(v==null?t:(typeof v=="function"?s:c)(v)):this.node().textContent}},function(P,x,i){"use strict";function t(){this.innerHTML=""}function c(v){return function(){this.innerHTML=v}}function s(v){return function(){var o=v.apply(this,arguments);this.innerHTML=o==null?"":o}}x.a=function(v){return arguments.length?this.each(v==null?t:(typeof v=="function"?s:c)(v)):this.node().innerHTML}},function(P,x,i){"use strict";function t(){this.nextSibling&&this.parentNode.appendChild(this)}x.a=function(){return this.each(t)}},function(P,x,i){"use strict";function t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}x.a=function(){return this.each(t)}},function(P,x,i){"use strict";var t=i(418);x.a=function(c){var s=typeof c=="function"?c:Object(t.a)(c);return this.select(function(){return this.appendChild(s.apply(this,arguments))})}},function(P,x,i){"use strict";var t=i(418),c=i(431);function s(){return null}x.a=function(v,o){var f=typeof v=="function"?v:Object(t.a)(v),r=o==null?s:typeof o=="function"?o:Object(c.a)(o);return this.select(function(){return this.insertBefore(f.apply(this,arguments),r.apply(this,arguments)||null)})}},function(P,x,i){"use strict";function t(){var c=this.parentNode;c&&c.removeChild(this)}x.a=function(){return this.each(t)}},function(P,x,i){"use strict";function t(){var s=this.cloneNode(!1),v=this.parentNode;return v?v.insertBefore(s,this.nextSibling):s}function c(){var s=this.cloneNode(!0),v=this.parentNode;return v?v.insertBefore(s,this.nextSibling):s}x.a=function(s){return this.select(s?c:t)}},function(P,x,i){"use strict";x.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(P,x,i){"use strict";var t=i(432);function c(o,f,r){var e=Object(t.a)(o),n=e.CustomEvent;typeof n=="function"?n=new n(f,r):(n=e.document.createEvent("Event"),r?(n.initEvent(f,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(f,!1,!1)),o.dispatchEvent(n)}function s(o,f){return function(){return c(this,o,f)}}function v(o,f){return function(){return c(this,o,f.apply(this,arguments))}}x.a=function(o,f){return this.each((typeof f=="function"?v:s)(o,f))}},function(P,x,i){"use strict";x.a=c;var t=0;function c(){return new s}function s(){this._="@"+(++t).toString(36)}s.prototype=c.prototype={constructor:s,get:function(v){for(var o=this._;!(o in v);)if(!(v=v.parentNode))return;return v[o]},set:function(v,o){return v[this._]=o},remove:function(v){return this._ in v&&delete v[this._]},toString:function(){return this._}}},function(P,x,i){"use strict";var t=i(434),c=i(419);x.a=function(s){var v=Object(t.a)();return v.changedTouches&&(v=v.changedTouches[0]),Object(c.a)(s,v)}},function(P,x,i){"use strict";var t=i(99);x.a=function(c){return typeof c=="string"?new t.a([document.querySelectorAll(c)],[document.documentElement]):new t.a([c==null?[]:c],t.c)}},function(P,x,i){"use strict";var t=i(434),c=i(419);x.a=function(s,v,o){arguments.length<3&&(o=v,v=Object(t.a)().changedTouches);for(var f=0,r=v?v.length:0,e;f<r;++f)if((e=v[f]).identifier===o)return Object(c.a)(s,e);return null}},function(P,x,i){"use strict";var t=i(434),c=i(419);x.a=function(s,v){v==null&&(v=Object(t.a)().touches);for(var o=0,f=v?v.length:0,r=new Array(f);o<f;++o)r[o]=Object(c.a)(s,v[o]);return r}},function(P,x,i){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var t=i(507),c=i(204);i.d(x,"transition",function(){return c.b});var s=i(543);i.d(x,"active",function(){return s.a});var v=i(448);i.d(x,"interrupt",function(){return v.a})},function(P,x,i){"use strict";var t=i(102),c=i(508),s=i(511);t.selection.prototype.interrupt=c.a,t.selection.prototype.transition=s.a},function(P,x,i){"use strict";var t=i(448);x.a=function(c){return this.each(function(){Object(t.a)(this,c)})}},function(P,x,i){"use strict";var t=i(510);i.d(x,"a",function(){return t.a})},function(P,x,i){"use strict";var t={value:function(){}};function c(){for(var r=0,e=arguments.length,n={},a;r<e;++r){if(!(a=arguments[r]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new s(n)}function s(r){this._=r}function v(r,e){return r.trim().split(/^|\s+/).map(function(n){var a="",u=n.indexOf(".");if(u>=0&&(a=n.slice(u+1),n=n.slice(0,u)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}s.prototype=c.prototype={constructor:s,on:function(r,e){var n=this._,a=v(r+"",n),u,l=-1,h=a.length;if(arguments.length<2){for(;++l<h;)if((u=(r=a[l]).type)&&(u=o(n[u],r.name)))return u;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<h;)if(u=(r=a[l]).type)n[u]=f(n[u],r.name,e);else if(e==null)for(u in n)n[u]=f(n[u],r.name,null);return this},copy:function(){var r={},e=this._;for(var n in e)r[n]=e[n].slice();return new s(r)},call:function(r,e){if((u=arguments.length-2)>0)for(var n=new Array(u),a=0,u,l;a<u;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(l=this._[r],a=0,u=l.length;a<u;++a)l[a].value.apply(e,n)},apply:function(r,e,n){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var a=this._[r],u=0,l=a.length;u<l;++u)a[u].value.apply(e,n)}};function o(r,e){for(var n=0,a=r.length,u;n<a;++n)if((u=r[n]).name===e)return u.value}function f(r,e,n){for(var a=0,u=r.length;a<u;++a)if(r[a].name===e){r[a]=t,r=r.slice(0,a).concat(r.slice(a+1));break}return n!=null&&r.push({name:e,value:n}),r}x.a=c},function(P,x,i){"use strict";var t=i(204),c=i(58),s=i(103),v=i(101),o={time:null,delay:0,duration:250,ease:s.easeCubicInOut};function f(r,e){for(var n;!(n=r.__transition)||!(n=n[e]);)if(!(r=r.parentNode))return o.time=Object(v.now)(),o;return n}x.a=function(r){var e,n;r instanceof t.a?(e=r._id,r=r._name):(e=Object(t.c)(),(n=o).time=Object(v.now)(),r=r==null?null:r+"");for(var a=this._groups,u=a.length,l=0;l<u;++l)for(var h=a[l],p=h.length,d,g=0;g<p;++g)(d=h[g])&&Object(c.e)(d,r,e,g,h,n||f(d,e));return new t.a(a,this._parents,r,e)}},function(P,x,i){"use strict";var t=i(435),c=i(102),s=i(421),v=i(456);function o(u){return function(){this.removeAttribute(u)}}function f(u){return function(){this.removeAttributeNS(u.space,u.local)}}function r(u,l,h){var p,d=h+"",g;return function(){var y=this.getAttribute(u);return y===d?null:y===p?g:g=l(p=y,h)}}function e(u,l,h){var p,d=h+"",g;return function(){var y=this.getAttributeNS(u.space,u.local);return y===d?null:y===p?g:g=l(p=y,h)}}function n(u,l,h){var p,d,g;return function(){var y,E=h(this),C;return E==null?void this.removeAttribute(u):(y=this.getAttribute(u),C=E+"",y===C?null:y===p&&C===d?g:(d=C,g=l(p=y,E)))}}function a(u,l,h){var p,d,g;return function(){var y,E=h(this),C;return E==null?void this.removeAttributeNS(u.space,u.local):(y=this.getAttributeNS(u.space,u.local),C=E+"",y===C?null:y===p&&C===d?g:(d=C,g=l(p=y,E)))}}x.a=function(u,l){var h=Object(c.namespace)(u),p=h==="transform"?t.e:v.a;return this.attrTween(u,typeof l=="function"?(h.local?a:n)(h,p,Object(s.b)(this,"attr."+u,l)):l==null?(h.local?f:o)(h):(h.local?e:r)(h,p,l))}},function(P,x,i){"use strict";var t=function(c){var s=c.length;return function(v){return c[Math.max(0,Math.min(s-1,Math.floor(v*s)))]}}},function(P,x,i){"use strict";var t=i(207),c=function(s,v){var o=Object(t.c)(+s,+v);return function(f){var r=o(f);return r-360*Math.floor(r/360)}}},function(P,x,i){"use strict";var t=function(c,s){return c=+c,s=+s,function(v){return Math.round(c*(1-v)+s*v)}}},function(P,x,i){"use strict";i.d(x,"a",function(){return v}),i.d(x,"b",function(){return o});var t=i(420),c=i(517);function s(f,r,e,n){function a(d){return d.length?d.pop()+" ":""}function u(d,g,y,E,C,m){if(d!==y||g!==E){var M=C.push("translate(",null,r,null,e);m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,E)})}else(y||E)&&C.push("translate("+y+r+E+e)}function l(d,g,y,E){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),E.push({i:y.push(a(y)+"rotate(",null,n)-2,x:Object(t.a)(d,g)})):g&&y.push(a(y)+"rotate("+g+n)}function h(d,g,y,E){d!==g?E.push({i:y.push(a(y)+"skewX(",null,n)-2,x:Object(t.a)(d,g)}):g&&y.push(a(y)+"skewX("+g+n)}function p(d,g,y,E,C,m){if(d!==y||g!==E){var M=C.push(a(C)+"scale(",null,",",null,")");m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,E)})}else(y!==1||E!==1)&&C.push(a(C)+"scale("+y+","+E+")")}return function(d,g){var y=[],E=[];return d=f(d),g=f(g),u(d.translateX,d.translateY,g.translateX,g.translateY,y,E),l(d.rotate,g.rotate,y,E),h(d.skewX,g.skewX,y,E),p(d.scaleX,d.scaleY,g.scaleX,g.scaleY,y,E),d=g=null,function(C){for(var m=-1,M=E.length,b;++m<M;)y[(b=E[m]).i]=b.x(C);return y.join("")}}}var v=s(c.a,"px, ","px)","deg)"),o=s(c.b,", ",")",")")},function(P,x,i){"use strict";x.a=f,x.b=r;var t=i(518),c,s,v,o;function f(e){return e==="none"?t.b:(c||(c=document.createElement("DIV"),s=document.documentElement,v=document.defaultView),c.style.transform=e,e=v.getComputedStyle(s.appendChild(c),null).getPropertyValue("transform"),s.removeChild(c),e=e.slice(7,-1).split(","),Object(t.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function r(e){return e==null||(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),!(e=o.transform.baseVal.consolidate()))?t.b:(e=e.matrix,Object(t.a)(e.a,e.b,e.c,e.d,e.e,e.f))}},function(P,x,i){"use strict";i.d(x,"b",function(){return c});var t=180/Math.PI,c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};x.a=function(s,v,o,f,r,e){var n,a,u;return(n=Math.sqrt(s*s+v*v))&&(s/=n,v/=n),(u=s*o+v*f)&&(o-=s*u,f-=v*u),(a=Math.sqrt(o*o+f*f))&&(o/=a,f/=a,u/=a),s*f<v*o&&(s=-s,v=-v,u=-u,n=-n),{translateX:r,translateY:e,rotate:Math.atan2(v,s)*t,skewX:Math.atan(u)*t,scaleX:n,scaleY:a}}},function(P,x,i){"use strict";var t=Math.SQRT2,c=2,s=4,v=1e-12;function o(n){return((n=Math.exp(n))+1/n)/2}function f(n){return((n=Math.exp(n))-1/n)/2}function r(n){return((n=Math.exp(2*n))-1)/(n+1)}var e=function(n,a){var u=n[0],l=n[1],h=n[2],p=a[0],d=a[1],g=a[2],y=p-u,E=d-l,C=y*y+E*E,m,M;if(C<v)M=Math.log(g/h)/t,m=function(D){return[u+D*y,l+D*E,h*Math.exp(t*D*M)]};else{var b=Math.sqrt(C),S=(g*g-h*h+s*C)/(2*h*c*b),A=(g*g-h*h-s*C)/(2*g*c*b),T=Math.log(Math.sqrt(S*S+1)-S),O=Math.log(Math.sqrt(A*A+1)-A);M=(O-T)/t,m=function(D){var L=D*M,Z=o(T),U=h/(c*b)*(Z*r(t*L+T)-f(T));return[u+U*y,l+U*E,h*Z/o(t*L+T)]}}return m.duration=M*1e3,m}},function(P,x,i){"use strict";var t=i(19),c=i(207);function s(f){return function(r,e){var n=f((r=Object(t.d)(r)).h,(e=Object(t.d)(e)).h),a=Object(c.a)(r.s,e.s),u=Object(c.a)(r.l,e.l),l=Object(c.a)(r.opacity,e.opacity);return function(h){return r.h=n(h),r.s=a(h),r.l=u(h),r.opacity=l(h),r+""}}}var v=s(c.c),o=s(c.a)},function(P,x,i){"use strict";var t=i(19),c=i(207);function s(v,o){var f=Object(c.a)((v=Object(t.e)(v)).l,(o=Object(t.e)(o)).l),r=Object(c.a)(v.a,o.a),e=Object(c.a)(v.b,o.b),n=Object(c.a)(v.opacity,o.opacity);return function(a){return v.l=f(a),v.a=r(a),v.b=e(a),v.opacity=n(a),v+""}}},function(P,x,i){"use strict";var t=i(19),c=i(207);function s(f){return function(r,e){var n=f((r=Object(t.c)(r)).h,(e=Object(t.c)(e)).h),a=Object(c.a)(r.c,e.c),u=Object(c.a)(r.l,e.l),l=Object(c.a)(r.opacity,e.opacity);return function(h){return r.h=n(h),r.c=a(h),r.l=u(h),r.opacity=l(h),r+""}}}var v=s(c.c),o=s(c.a)},function(P,x,i){"use strict";var t=i(19),c=i(207);function s(f){return function r(e){e=+e;function n(a,u){var l=f((a=Object(t.b)(a)).h,(u=Object(t.b)(u)).h),h=Object(c.a)(a.s,u.s),p=Object(c.a)(a.l,u.l),d=Object(c.a)(a.opacity,u.opacity);return function(g){return a.h=l(g),a.s=h(g),a.l=p(Math.pow(g,e)),a.opacity=d(g),a+""}}return n.gamma=r,n}(1)}var v=s(c.c),o=s(c.a)},function(P,x,i){"use strict";function t(c,s){for(var v=0,o=s.length-1,f=s[0],r=new Array(o<0?0:o);v<o;)r[v]=c(f,f=s[++v]);return function(e){var n=Math.max(0,Math.min(o-1,Math.floor(e*=o)));return r[n](e-n)}}},function(P,x,i){"use strict";var t=function(c,s){for(var v=new Array(s),o=0;o<s;++o)v[o]=c(o/(s-1));return v}},function(P,x,i){"use strict";var t=i(102);function c(f,r){return function(e){this.setAttribute(f,r.call(this,e))}}function s(f,r){return function(e){this.setAttributeNS(f.space,f.local,r.call(this,e))}}function v(f,r){var e,n;function a(){var u=r.apply(this,arguments);return u!==n&&(e=(n=u)&&s(f,u)),e}return a._value=r,a}function o(f,r){var e,n;function a(){var u=r.apply(this,arguments);return u!==n&&(e=(n=u)&&c(f,u)),e}return a._value=r,a}x.a=function(f,r){var e="attr."+f;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var n=Object(t.namespace)(f);return this.tween(e,(n.local?v:o)(n,r))}},function(P,x,i){"use strict";var t=i(58);function c(v,o){return function(){Object(t.g)(this,v).delay=+o.apply(this,arguments)}}function s(v,o){return o=+o,function(){Object(t.g)(this,v).delay=o}}x.a=function(v){var o=this._id;return arguments.length?this.each((typeof v=="function"?c:s)(o,v)):Object(t.f)(this.node(),o).delay}},function(P,x,i){"use strict";var t=i(58);function c(v,o){return function(){Object(t.h)(this,v).duration=+o.apply(this,arguments)}}function s(v,o){return o=+o,function(){Object(t.h)(this,v).duration=o}}x.a=function(v){var o=this._id;return arguments.length?this.each((typeof v=="function"?c:s)(o,v)):Object(t.f)(this.node(),o).duration}},function(P,x,i){"use strict";var t=i(58);function c(s,v){if(typeof v!="function")throw new Error;return function(){Object(t.h)(this,s).ease=v}}x.a=function(s){var v=this._id;return arguments.length?this.each(c(v,s)):Object(t.f)(this.node(),v).ease}},function(P,x,i){"use strict";var t=i(102),c=i(204);x.a=function(s){typeof s!="function"&&(s=Object(t.matcher)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=[],u,l=0;l<n;++l)(u=e[l])&&s.call(u,u.__data__,l,e)&&a.push(u);return new c.a(f,this._parents,this._name,this._id)}},function(P,x,i){"use strict";var t=i(204);x.a=function(c){if(c._id!==this._id)throw new Error;for(var s=this._groups,v=c._groups,o=s.length,f=v.length,r=Math.min(o,f),e=new Array(o),n=0;n<r;++n)for(var a=s[n],u=v[n],l=a.length,h=e[n]=new Array(l),p,d=0;d<l;++d)(p=a[d]||u[d])&&(h[d]=p);for(;n<o;++n)e[n]=s[n];return new t.a(e,this._parents,this._name,this._id)}},function(P,x,i){"use strict";var t=i(58);function c(v){return(v+"").trim().split(/^|\s+/).every(function(o){var f=o.indexOf(".");return f>=0&&(o=o.slice(0,f)),!o||o==="start"})}function s(v,o,f){var r,e,n=c(o)?t.g:t.h;return function(){var a=n(this,v),u=a.on;u!==r&&(e=(r=u).copy()).on(o,f),a.on=e}}x.a=function(v,o){var f=this._id;return arguments.length<2?Object(t.f)(this.node(),f).on.on(v):this.each(s(f,v,o))}},function(P,x,i){"use strict";function t(c){return function(){var s=this.parentNode;for(var v in this.__transition)if(+v!==c)return;s&&s.removeChild(this)}}x.a=function(){return this.on("end.remove",t(this._id))}},function(P,x,i){"use strict";var t=i(102),c=i(204),s=i(58);x.a=function(v){var o=this._name,f=this._id;typeof v!="function"&&(v=Object(t.selector)(v));for(var r=this._groups,e=r.length,n=new Array(e),a=0;a<e;++a)for(var u=r[a],l=u.length,h=n[a]=new Array(l),p,d,g=0;g<l;++g)(p=u[g])&&(d=v.call(p,p.__data__,g,u))&&("__data__"in p&&(d.__data__=p.__data__),h[g]=d,Object(s.e)(h[g],o,f,g,h,Object(s.f)(p,f)));return new c.a(n,this._parents,o,f)}},function(P,x,i){"use strict";var t=i(102),c=i(204),s=i(58);x.a=function(v){var o=this._name,f=this._id;typeof v!="function"&&(v=Object(t.selectorAll)(v));for(var r=this._groups,e=r.length,n=[],a=[],u=0;u<e;++u)for(var l=r[u],h=l.length,p,d=0;d<h;++d)if(p=l[d]){for(var g=v.call(p,p.__data__,d,l),y,E=Object(s.f)(p,f),C=0,m=g.length;C<m;++C)(y=g[C])&&Object(s.e)(y,o,f,C,g,E);n.push(g),a.push(p)}return new c.a(n,a,o,f)}},function(P,x,i){"use strict";var t=i(102),c=t.selection.prototype.constructor;x.a=function(){return new c(this._groups,this._parents)}},function(P,x,i){"use strict";var t=i(435),c=i(102),s=i(58),v=i(421),o=i(456);function f(u,l){var h,p,d;return function(){var g=Object(c.style)(this,u),y=(this.style.removeProperty(u),Object(c.style)(this,u));return g===y?null:g===h&&y===p?d:d=l(h=g,p=y)}}function r(u){return function(){this.style.removeProperty(u)}}function e(u,l,h){var p,d=h+"",g;return function(){var y=Object(c.style)(this,u);return y===d?null:y===p?g:g=l(p=y,h)}}function n(u,l,h){var p,d,g;return function(){var y=Object(c.style)(this,u),E=h(this),C=E+"";return E==null&&(C=E=(this.style.removeProperty(u),Object(c.style)(this,u))),y===C?null:y===p&&C===d?g:(d=C,g=l(p=y,E))}}function a(u,l){var h,p,d,g="style."+l,y="end."+g,E;return function(){var C=Object(s.h)(this,u),m=C.on,M=C.value[g]==null?E||(E=r(l)):void 0;(m!==h||d!==M)&&(p=(h=m).copy()).on(y,d=M),C.on=p}}x.a=function(u,l,h){var p=(u+="")==="transform"?t.d:o.a;return l==null?this.styleTween(u,f(u,p)).on("end.style."+u,r(u)):typeof l=="function"?this.styleTween(u,n(u,p,Object(v.b)(this,"style."+u,l))).each(a(this._id,u)):this.styleTween(u,e(u,p,l),h).on("end.style."+u,null)}},function(P,x,i){"use strict";function t(s,v,o){return function(f){this.style.setProperty(s,v.call(this,f),o)}}function c(s,v,o){var f,r;function e(){var n=v.apply(this,arguments);return n!==r&&(f=(r=n)&&t(s,n,o)),f}return e._value=v,e}x.a=function(s,v,o){var f="style."+(s+="");if(arguments.length<2)return(f=this.tween(f))&&f._value;if(v==null)return this.tween(f,null);if(typeof v!="function")throw new Error;return this.tween(f,c(s,v,o==null?"":o))}},function(P,x,i){"use strict";var t=i(421);function c(v){return function(){this.textContent=v}}function s(v){return function(){var o=v(this);this.textContent=o==null?"":o}}x.a=function(v){return this.tween("text",typeof v=="function"?s(Object(t.b)(this,"text",v)):c(v==null?"":v+""))}},function(P,x,i){"use strict";function t(s){return function(v){this.textContent=s.call(this,v)}}function c(s){var v,o;function f(){var r=s.apply(this,arguments);return r!==o&&(v=(o=r)&&t(r)),v}return f._value=s,f}x.a=function(s){var v="text";if(arguments.length<1)return(v=this.tween(v))&&v._value;if(s==null)return this.tween(v,null);if(typeof s!="function")throw new Error;return this.tween(v,c(s))}},function(P,x,i){"use strict";var t=i(204),c=i(58);x.a=function(){for(var s=this._name,v=this._id,o=Object(t.c)(),f=this._groups,r=f.length,e=0;e<r;++e)for(var n=f[e],a=n.length,u,l=0;l<a;++l)if(u=n[l]){var h=Object(c.f)(u,v);Object(c.e)(u,s,o,l,n,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new t.a(f,this._parents,s,o)}},function(P,x,i){"use strict";var t=i(58);x.a=function(){var c,s,v=this,o=v._id,f=v.size();return new Promise(function(r,e){var n={value:e},a={value:function(){--f==0&&r()}};v.each(function(){var u=Object(t.h)(this,o),l=u.on;l!==c&&(s=(c=l).copy(),s._.cancel.push(n),s._.interrupt.push(n),s._.end.push(a)),u.on=s})})}},function(P,x,i){"use strict";var t=i(204),c=i(58),s=[null];x.a=function(v,o){var f=v.__transition,r,e;if(f){o=o==null?null:o+"";for(e in f)if((r=f[e]).state>c.c&&r.name===o)return new t.a([[v]],s,o,+e)}return null}},function(P,x,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=t.PathUtil;function f(n){var a=v.shape.venn,u=t.mix({},a,n.style);return s.addFillAttrs(u,n),u}function r(n){var a=v.shape.hollowVenn,u=t.mix({},a,n.style);return s.addStrokeAttrs(u,n),u}var e=c.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(a,u){var l=u.lineWidth||1;if(a==="hollow")return{lineWidth:l+1};var h=u.fillOpacity||u.opacity||1;return{fillOpacity:h-.08}},getSelectedCfg:function(a,u){return u&&u.style?u.style:this.getActiveCfg(a,u)}});c.registerShape("venn","venn",{draw:function(a,u){var l=a.origin._origin,h=l.path,p=f(a),d=o.parsePathString(h),g=u.addShape("path",{attrs:t.mix(p,{path:d})});return g},getMarkerCfg:function(a){return t.mix({symbol:"circle",radius:4},f(a))}}),c.registerShape("venn","hollow",{draw:function(a,u){var l=a.origin._origin,h=l.path,p=r(a),d=o.parsePathString(h),g=u.addShape("path",{attrs:t.mix(p,{path:d})});return g},getMarkerCfg:function(a){return t.mix({symbol:"circle",radius:4},f(a))}}),P.exports=e},function(P,x,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(0),f=i(415);i(546);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="violin",h.shapeType="violin",h.generatePoints=!0,h};function u(l){var h;return h=n.call(this,l)||this,o.assign(t(h),f),h}return a.createShapePointsCfg=function(h){var p=this,d=n.prototype.createShapePointsCfg.call(this,h);d.size=p.getNormalizedSize(h);var g=p.get("_sizeField");return d._size=h._origin[g],d},a.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},a._initAttrs=function(){var h=this,p=h.get("attrOptions"),d=p.size?p.size.field:h.get("_sizeField")?h.get("_sizeField"):"size";h.set("_sizeField",d),delete p.size,n.prototype._initAttrs.call(this)},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"dodge"}],h},a}(r);r.Dodge=e,v.Violin=r,v.ViolinDodge=e,P.exports=r},function(P,x,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=i(25);function f(l){var h=v.shape.venn,p=t.mix({},h,l.style);return s.addFillAttrs(p,l),l.color&&(p.stroke=p.stroke||l.color),p}function r(l){var h=v.shape.hollowVenn,p=t.mix({},h,l.style);return s.addStrokeAttrs(p,l),p}function e(l){for(var h=[],p=0;p<l.length;p++){var d=l[p];if(d){var g=p===0?"M":"L";h.push([g,d.x,d.y])}}var y=l[0];return y&&(h.push(["L",y.x,y.y]),h.push(["z"])),h}function n(l){for(var h=l.length/2,p=[],d=[],g=0;g<l.length;g++)g<h?p.push(l[g]):d.push(l[g]);var y=o.getSplinePath(p,!1),E=o.getSplinePath(d,!1);d.length&&y.push(["L",d[0].x,d[0].y]),E.shift();var C=y.concat(E);return p.length&&C.push(["L",p[0].x,p[0].y]),C.push(["z"]),C}function a(l){var h=Math.max.apply(null,l);return l.map(function(p){return p/h})}var u=c.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(h){var p=h.size/2,d=[],g=a(h._size);return t.each(h.y,function(y,E){var C=g[E]*p,m=E===0,M=E===h.y.length-1;d.push({isMin:m,isMax:M,x:h.x-C,y}),d.unshift({isMin:m,isMax:M,x:h.x+C,y})}),d},getActiveCfg:function(h,p){var d=p.lineWidth||1;if(h==="hollow")return{lineWidth:d+1};var g=p.fillOpacity||p.opacity||1;return{fillOpacity:g-.08}},getSelectedCfg:function(h,p){return p&&p.style?p.style:this.getActiveCfg(h,p)}});c.registerShape("violin","violin",{draw:function(h,p){var d=f(h),g=e(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},f(h))}}),c.registerShape("violin","smooth",{draw:function(h,p){var d=f(h),g=n(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},f(h))}}),c.registerShape("violin","hollow",{draw:function(h,p){var d=r(h),g=e(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},r(h))}}),c.registerShape("violin","smoothHollow",{draw:function(h,p){var d=r(h),g=n(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},r(h))}}),P.exports=u},function(P,x,i){var t=i(0),c=i(163),s={};s.Rect=i(457),s.List=i(458),s.Circle=i(548),s.Tree=i(549),s.Mirror=i(550),s.Matrix=i(551),c.prototype.facet=function(v,o){var f=s[t.upperFirst(v)];if(!f)throw new Error("Not support such type of facets as: "+v);var r=this.get("facets");r&&r.destroy(),o.chart=this;var e=new f(o);this.set("facets",e)},P.exports=s},function(P,x,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(422);function v(f,r,e){return{x:f.x+r*Math.cos(e),y:f.y+r*Math.sin(e)}}var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return a.type="circle",a},e.getRegion=function(a,u){var l=1/2,h=Math.PI*2/a,p=-1*Math.PI/2+h*u,d=l/(1+1/Math.sin(h/2)),g={x:.5,y:.5},y=v(g,l-d,p),E=Math.PI*5/4,C=Math.PI*1/4;return{start:v(y,d,E),end:v(y,d,C)}},e.generateFacets=function(a){var u=this,l=u.fields,h=l[0];if(!h)throw"Please specify for the field for facet!";var p=u.getFieldValues(h,a),d=p.length,g=[];return p.forEach(function(y,E){var C=[{field:h,value:y,values:p}],m=u.getFilter(C),M=a.filter(m),b={type:u.type,colValue:y,colField:h,colIndex:E,cols:d,rows:1,rowIndex:0,data:M,region:u.getRegion(d,E)};g.push(b)}),g},r}(s);P.exports=o},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(422),v=i(0),o=v.assign,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.type="tree",u.line={lineWidth:1,stroke:"#ddd"},u.lineSmooth=!1,u},n.generateFacets=function(u){var l=this,h=l.fields;if(!h.length)throw"Please specify for the fields for facet!";var p=[],d=l.getRootFacet(u);return p.push(d),d.children=l.getChildFacets(u,1,p),l.setRegion(p),p},n.getRootFacet=function(u){var l=this,h={type:l.type,rows:l.getRows(),rowIndex:0,colIndex:0,colValue:l.rootTitle,data:u};return h},n.getRows=function(){return this.fields.length+1},n.getChildFacets=function(u,l,h){var p=this,d=p.fields,g=d.length;if(!(g<l)){var y=[],E=d[l-1],C=p.getFieldValues(E,u);return C.forEach(function(m,M){var b=[{field:E,value:m,values:C}],S=p.getFilter(b),A=u.filter(S);if(A.length){var T={type:p.type,colValue:m,colField:E,colIndex:M,rows:p.getRows(),rowIndex:l,data:A,children:p.getChildFacets(A,l+1,h)};y.push(T),h.push(T)}}),y}},n.setRegion=function(u){var l=this;l.forceColIndex(u),u.forEach(function(h){h.region=l.getRegion(h.rows,h.cols,h.colIndex,h.rowIndex)})},n.forceColIndex=function(u){var l=this,h=[],p=0;u.forEach(function(m){l.isLeaf(m)&&(h.push(m),m.colIndex=p,p++)}),h.forEach(function(m){m.cols=h.length});for(var d=l.fields.length,g=d-1;g>=0;g--)for(var y=l.getFacetsByLevel(u,g),E=0;E<y.length;E++){var C=y[E];l.isLeaf(C)||(C.originColIndex=C.colIndex,C.colIndex=l.getRegionIndex(C.children),C.cols=h.length)}},n.getFacetsByLevel=function(u,l){var h=[];return u.forEach(function(p){p.rowIndex===l&&h.push(p)}),h},n.getRegion=function(u,l,h,p){var d=1/l,g=1/u,y={x:d*h,y:g*p},E={x:y.x+d,y:y.y+g*2/3};return{start:y,end:E}},n.getRegionIndex=function(u){var l=u[0],h=u[u.length-1];return(h.colIndex-l.colIndex)/2+l.colIndex},n.isLeaf=function(u){return!u.children||!u.children.length},n.setXAxis=function(u,l,h){h.rowIndex!==h.rows-1&&(l[u].label=null,l[u].title=null)},n.setYAxis=function(u,l,h){h.originColIndex!==0&&h.colIndex!==0&&(l[u].title=null,l[u].label=null)},n.onPaint=function(){r.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},n.drawLines=function(u,l){var h=this,p=l.addGroup();u.forEach(function(d){if(!h.isLeaf(d)){var g=d.children;h._addFacetLines(d,g,p)}})},n._addFacetLines=function(u,l,h){var p=this,d=u.view,g=d.getViewRegion(),y={x:g.start.x+(g.end.x-g.start.x)/2,y:g.start.y};l.forEach(function(E){var C=E.view.getViewRegion(),m={x:C.start.x+(C.end.x-C.start.x)/2,y:C.end.y},M={x:y.x,y:y.y+(m.y-y.y)/2},b={x:m.x,y:M.y};p._drawLine([y,M,b,m],h)})},n._getPath=function(u){var l=this,h=[],p=l.lineSmooth;return p?(h.push(["M",u[0].x,u[0].y]),h.push(["C",u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y])):u.forEach(function(d,g){g===0?h.push(["M",d.x,d.y]):h.push(["L",d.x,d.y])}),h},n._drawLine=function(u,l){var h=this,p=h._getPath(u),d=h.line;l.addShape("path",{attrs:o({path:p},d)})},e}(s);P.exports=f},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(458),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="mirror",this.transpose=!1,n},r.init=function(){var n=this;n.transpose?(n.cols=2,n.rows=1):(n.cols=1,n.rows=2),o.prototype.init.call(this)},r.beforeProcessView=function(n,a){this.transpose?a.colIndex%2==0?n.coord().transpose().scale(-1,1):n.coord().transpose():a.rowIndex%2!=0&&n.coord().scale(1,-1)},r.renderTitle=function(n,a){this.transpose?this.drawColTitle(n,a):this.drawRowTitle(n,a)},r.setXAxis=function(n,a,u){(u.colIndex===1||u.rowIndex===1)&&(a[n].label=null,a[n].title=null)},r.setYAxis=function(){},f}(s);P.exports=v},function(P,x,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(457),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="matrix",n.showTitle=!1,n},r.generateFacets=function(n){for(var a=this,u=a.fields,l=u.length,h=l,p=[],d=0;d<h;d++)for(var g=u[d],y=0;y<l;y++){var E=u[y],C={type:a.type,colValue:g,rowValue:E,colField:g,rowField:E,colIndex:d,rowIndex:y,cols:h,rows:l,data:n,region:a.getRegion(l,h,d,y)};p.push(C)}return p},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1&&(a[n].title=null,a[n].label=null)},r.setYAxis=function(n,a,u){u.colIndex!==0&&(a[n].title=null,a[n].label=null)},f}(s);P.exports=v},function(P,x,i){var t=i(206),c=i(163),s=i(0),v={Base:i(205),Brush:i(553),Drag:i(554),ScrollBar:i(556),ShapeSelect:i(558),Slider:i(559),Zoom:i(561)};t._Interactions={},t.registerInteraction=function(o,f){t._Interactions[o]=f},t.getInteraction=function(o){return t._Interactions[o]},c.prototype.getInteractions=function(){var o=this;return o._interactions||(o._interactions={}),o._interactions},c.prototype._setInteraction=function(o,f){var r=this,e=r.getInteractions();e[o]&&e[o]!==f&&e[o].destroy(),e[o]=f},c.prototype.clearInteraction=function(o){var f=this,r=f.getInteractions();o?(r[o]&&(r[o]._reset(),r[o].destroy()),delete r[o]):s.each(r,function(e,n){e._reset(),e.destroy(),delete r[n]})},c.prototype.interact=c.prototype.interaction=function(o,f){var r=this,e=t.getInteraction(o),n=new e(f,r);return r._setInteraction(o,n),r},t.registerInteraction("brush",v.Brush),t.registerInteraction("Brush",v.Brush),t.registerInteraction("drag",v.Drag),t.registerInteraction("Drag",v.Drag),t.registerInteraction("zoom",v.Zoom),t.registerInteraction("Zoom",v.Zoom),t.registerInteraction("scroll-bar",v.ScrollBar),t.registerInteraction("ScrollBar",v.ScrollBar),t.registerInteraction("shape-select",v.ShapeSelect),t.registerInteraction("ShapeSelect",v.ShapeSelect),t.registerInteraction("slider",v.Slider),t.registerInteraction("Slider",v.Slider),P.exports=v},function(P,x,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(0),o=i(205),f=["X","Y","XY","POLYGON"],r="XY",e=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return v.mix({},h,{type:r,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})};function u(l,h){var p;p=n.call(this,l,h)||this;var d=t(p);d.filter=!d.draggable,d.type=d.type.toUpperCase(),d.chart=h,f.includes(d.type)||(d.type=r);var g=d.canvas;if(g){var y;g.get("children").map(function(M){return M.get("type")==="plotBack"?(y=M.get("plotRange"),!1):M}),d.plot={start:y.bl,end:y.tr}}if(h){var E=h.get("coord");d.plot={start:E.start,end:E.end},h.on("afterrender",function(){d.plot={start:E.start,end:E.end}}),d.isTransposed=E.isTransposed;var C=h._getScales("x"),m=h._getScales("y");d.xScale=d.xField?C[d.xField]:h.getXScale(),d.yScale=d.yField?m[d.yField]:h.getYScales()[0]}return p}return a.start=function(h){var p=this,d=p.canvas,g=p.type,y=p.brushShape;if(!!g){p.brushing&&p.end(h);var E={x:h.offsetX,y:h.offsetY};if(!!E.x){var C=p.plot&&p.inPlot,m=d.get("canvasDOM"),M=d.get("pixelRatio");if(p.selection&&(p.selection=null),p.draggable&&y&&!y.get("destroyed")){if(y.isHit(E.x*M,E.y*M)){if(m.style.cursor="move",p.selection=y,p.dragging=!0,g==="X")p.dragoffX=E.x-y.attr("x"),p.dragoffY=0;else if(g==="Y")p.dragoffX=0,p.dragoffY=E.y-y.attr("y");else if(g==="XY")p.dragoffX=E.x-y.attr("x"),p.dragoffY=E.y-y.attr("y");else if(g==="POLYGON"){var b=y.getBBox();p.dragoffX=E.x-b.minX,p.dragoffY=E.y-b.minY}p.onDragstart&&p.onDragstart(h)}p.prePoint=E}if(!p.dragging){p.onBrushstart&&p.onBrushstart(E);var S=p.container;if(C){var A=p.plot,T=A.start,O=A.end;if(E.x<T.x||E.x>O.x||E.y<O.y||E.y>T.y)return}m.style.cursor="crosshair",p.startPoint=E,p.brushShape=null,p.brushing=!0,S?S.clear():(S=d.addGroup({zIndex:5}),S.initTransform()),p.container=S,g==="POLYGON"&&(p.polygonPath="M "+E.x+" "+E.y)}}}},a.process=function(h){var p=this,d=p.brushing,g=p.dragging,y=p.type,E=p.plot,C=p.startPoint,m=p.xScale,M=p.yScale,b=p.canvas;if(!(!d&&!g)){var S={x:h.offsetX,y:h.offsetY},A=b.get("canvasDOM");if(d){A.style.cursor="crosshair";var T=E.start,O=E.end,D=p.polygonPath,L=p.brushShape,Z=p.container;p.plot&&p.inPlot&&(S=p._limitCoordScope(S));var U,Y,W,J;y==="Y"?(U=T.x,Y=S.y>=C.y?C.y:S.y,W=Math.abs(T.x-O.x),J=Math.abs(C.y-S.y)):y==="X"?(U=S.x>=C.x?C.x:S.x,Y=O.y,W=Math.abs(C.x-S.x),J=Math.abs(O.y-T.y)):y==="XY"?(S.x>=C.x?(U=C.x,Y=S.y>=C.y?C.y:S.y):(U=S.x,Y=S.y>=C.y?C.y:S.y),W=Math.abs(C.x-S.x),J=Math.abs(C.y-S.y)):y==="POLYGON"&&(D+="L "+S.x+" "+S.y,p.polygonPath=D,L?!L.get("destroyed")&&L.attr(v.mix({},L._attrs,{path:D})):L=Z.addShape("path",{attrs:v.mix(p.style,{path:D})})),y!=="POLYGON"&&(L?!L.get("destroyed")&&L.attr(v.mix({},L._attrs,{x:U,y:Y,width:W,height:J})):L=Z.addShape("rect",{attrs:v.mix(p.style,{x:U,y:Y,width:W,height:J})})),p.brushShape=L}else if(g){A.style.cursor="move";var ht=p.selection;if(ht&&!ht.get("destroyed"))if(y==="POLYGON"){var nt=p.prePoint;p.selection.translate(S.x-nt.x,S.y-nt.y)}else p.dragoffX&&ht.attr("x",S.x-p.dragoffX),p.dragoffY&&ht.attr("y",S.y-p.dragoffY)}p.prePoint=S,b.draw();var Q=p._getSelected(),xt=Q.data,_t=Q.shapes,Nt=Q.xValues,rt=Q.yValues,q={data:xt,shapes:_t};m&&(q[m.field]=Nt),M&&(q[M.field]=rt),v.mix(h,q),q.x=S.x,q.y=S.y,p.onDragmove&&p.onDragmove(q),p.onBrushmove&&p.onBrushmove(q)}},a.end=function(h){var p=this;if(!(!p.brushing&&!p.dragging)){var d=p.data,g=p.shapes,y=p.xValues,E=p.yValues,C=p.canvas,m=p.type,M=p.startPoint,b=p.chart,S=p.container,A=p.xScale,T=p.yScale,O=h.offsetX,D=h.offsetY,L=C.get("canvasDOM");if(L.style.cursor="default",M!==null){if(Math.abs(M.x-O)<=1&&Math.abs(M.y-D)<=1){p.brushing=!1,p.dragging=!1,S.clear(),C.draw();return}var Z={data:d,shapes:g};if(A&&(Z[A.field]=y),T&&(Z[T.field]=E),v.mix(h,Z),Z.x=O,Z.y=D,p.dragging)p.dragging=!1,p.onDragend&&p.onDragend(Z);else if(p.brushing){p.brushing=!1;var U=p.brushShape,Y=p.polygonPath;m==="POLYGON"&&(Y+="z",U&&!U.get("destroyed")&&U.attr(v.mix({},U._attrs,{path:Y})),p.polygonPath=Y,C.draw()),p.onBrushend?p.onBrushend(Z):b&&p.filter&&(S.clear(),!p.isTransposed&&m==="X"||p.isTransposed&&m==="Y"?A&&b.filter(A.field,function(W){return y.indexOf(W)>-1}):!p.isTransposed&&m==="Y"||p.isTransposed&&m==="X"?T&&b.filter(T.field,function(W){return E.indexOf(W)>-1}):(A&&b.filter(A.field,function(W){return y.indexOf(W)>-1}),T&&b.filter(T.field,function(W){return E.indexOf(W)>-1})),b.repaint())}}}},a.reset=function(){var h=this,p=h.chart,d=h.filter,g=h.brushShape,y=h.canvas;this._init(),p&&d&&(p.get("options").filters={},p.repaint()),g&&(g.destroy(),y.draw())},a._limitCoordScope=function(h){var p=this.plot,d=p.start,g=p.end;return h.x<d.x&&(h.x=d.x),h.x>g.x&&(h.x=g.x),h.y<g.y&&(h.y=g.y),h.y>d.y&&(h.y=d.y),h},a._getSelected=function(){var h=this,p=h.chart,d=h.xScale,g=h.yScale,y=h.brushShape,E=h.canvas,C=E.get("pixelRatio"),m=[],M=[],b=[],S=[];if(p){var A=p.get("geoms");A.map(function(T){var O=T.getShapes();return O.map(function(D){var L=D.get("origin");return Array.isArray(L)||(L=[L]),L.map(function(Z){if(y.isHit(Z.x*C,Z.y*C)){m.push(D);var U=Z._origin;S.push(U),d&&M.push(U[d.field]),g&&b.push(U[g.field])}return Z}),D}),T})}return h.shapes=m,h.xValues=M,h.yValues=b,h.data=S,E.draw(),{data:S,xValues:M,yValues:b,shapes:m}},u}(o);P.exports=e},function(P,x,i){function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function c(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,s(h,p)}function s(h,p){return s=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g},s(h,p)}var v=i(0),o=i(205),f=i(555),r=i(440),e=i(441),n=864e5,a=["X","Y","XY"],u="X",l=function(h){c(d,h);var p=d.prototype;p.getDefaultCfg=function(){var y=h.prototype.getDefaultCfg.call(this);return v.mix({},y,{type:u,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},p._disableTooltip=function(){var y=this,E=y.chart,C=E.get("tooltipController");C&&(y._showTooltip=!0,E.tooltip(!1))},p._enableTooltip=function(y){var E=this,C=E.chart;E._showTooltip&&(C.tooltip(!0),C.showTooltip(y))};function d(g,y){var E;E=h.call(this,g,y)||this;var C=t(E);C.type=C.type.toUpperCase(),C.chart=y,C.coord=y.get("coord");var m=C.data=y.get("data");f(y);var M=y.getYScales(),b=y.getXScale();M.push(b);var S=y.get("scaleController");return M.forEach(function(A){var T=A.field;C.limitRange[T]=e(m,A);var O=S.defs[T]||{};C.originScaleDefsByField[T]=v.mix(O,{nice:!!O.nice}),A.isLinear&&(C.stepByField[T]=(A.max-A.min)*C.stepRatio)}),a.includes(C.type)||(C.type=u),C._disableTooltip(),E}return p._applyTranslate=function(y,E,C){E===void 0&&(E=0);var m=this;y.isLinear?m._translateLinearScale(y,E,C):m._translateCatScale(y,E,C)},p._translateCatScale=function(y,E,C){var m=this,M=m.chart,b=y.type,S=y.field,A=y.values,T=y.ticks,O=r(M,S),D=m.limitRange[S],L=E/C,Z=A.length,U=Math.max(1,Math.abs(parseInt(L*Z))),Y=D.indexOf(A[0]),W=D.indexOf(A[Z-1]);if(E>0&&Y>=0){for(var J=0;J<U&&Y>0;J++)Y-=1,W-=1;var ht=D.slice(Y,W+1),nt=null;if(b==="timeCat"){for(var Q=T.length>2?T[1]-T[0]:n,xt=T[0]-Q;xt>=ht[0];xt-=Q)T.unshift(xt);nt=T}M.scale(S,v.mix({},O,{values:ht,ticks:nt}))}else if(E<0&&W<=D.length-1){for(var _t=0;_t<U&&W<D.length-1;_t++)Y+=1,W+=1;var Nt=D.slice(Y,W+1),rt=null;if(b==="timeCat"){for(var q=T.length>2?T[1]-T[0]:n,G=T[T.length-1]+q;G<=Nt[Nt.length-1];G+=q)T.push(G);rt=T}M.scale(S,v.mix({},O,{values:Nt,ticks:rt}))}},p._translateLinearScale=function(y,E,C){var m=this,M=m.chart,b=m.limitRange,S=y.min,A=y.max,T=y.field;if(!(S===b[T].min&&A===b[T].max)){var O=E/C,D=A-S,L=r(M,T);M.scale(T,v.mix({},L,{nice:!1,min:S+O*D,max:A+O*D}))}},p.start=function(y){var E=this,C=E.canvas,m=C.get("canvasDOM");m.style.cursor="pointer",E.isDragging=!0,E.previousPoint={x:y.x,y:y.y},E._disableTooltip()},p.process=function(y){var E=this;if(E.isDragging){var C=E.chart,m=E.type,M=E.canvas,b=E.coord,S=E.threshold,A=M.get("canvasDOM");A.style.cursor="move";var T=E.previousPoint,O=y,D=O.x-T.x,L=O.y-T.y,Z=!1;if(Math.abs(D)>S&&m.indexOf("X")>-1){Z=!0;var U=C.getXScale();E._applyTranslate(U,U.isLinear?-D:D,b.width)}if(Math.abs(L)>S&&m.indexOf("Y")>-1){Z=!0;var Y=C.getYScales();Y.forEach(function(W){E._applyTranslate(W,O.y-T.y,b.height)})}Z&&(E.previousPoint=O,C.repaint())}},p.end=function(y){var E=this;E.isDragging=!1;var C=E.canvas,m=C.get("canvasDOM");m.style.cursor="default",E._enableTooltip(y)},p.reset=function(){var y=this,E=y.view,C=y.originScaleDefsByField,m=E.getYScales(),M=E.getXScale();m.push(M),m.forEach(function(b){if(b.isLinear){var S=b.field;E.scale(S,C[S])}}),E.repaint(),y._disableTooltip()},d}(o);P.exports=l},function(P,x,i){var t=i(0),c=i(100),s=i(439);P.exports=function(v){v.on("beforeinitgeoms",function(){v.set("limitInPlot",!0);var o=v.get("data"),f=s(v);if(!f)return o;var r=v.get("geoms"),e=!1;t.each(r,function(u){if(["area","line","path"].includes(u.get("type")))return e=!0,!1});var n=[];if(t.each(f,function(u,l){!e&&u&&(u.values||u.min||u.max)&&n.push(l)}),n.length===0)return o;var a=[];t.each(o,function(u){var l=!0;t.each(n,function(h){var p=u[h];if(p){var d=f[h];if(d.type==="timeCat"){var g=d.values;t.isNumber(g[0])&&(p=c.toTimeStamp(p))}(d.values&&!d.values.includes(p)||d.min&&p<d.min||d.max&&p>d.max)&&(l=!1)}}),l&&a.push(u)}),v.set("filteredData",a)})}},function(P,x,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(0),v=i(205),o=i(557),f=i(441),r="X",e=function(n){t(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:r,xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},a._renderScrollBars=function(){var h=this.chart,p=h.get("_scrollBarCfg");if(!!p){var d=h.get("data"),g=h.get("plotRange");g.width=Math.abs(g.br.x-g.bl.x),g.height=Math.abs(g.tl.y-g.bl.y);var y=h.get("backPlot"),E=h.get("canvas"),C=E.get("height"),m=h.get("_limitRange"),M=p.type;if(M.indexOf("X")>-1){var b=p.xStyle,S=b.offsetX,A=b.offsetY,T=b.lineCap,O=b.backgroundColor,D=b.fillerColor,L=b.size,Z=h.getXScale(),U=m[Z.field];U||(U=f(d,Z),m[Z.field]=U);var Y=o(Z,U,Z.type),W=h.get("_horizontalBar"),J=C-L/2+A;if(W){var ht=W.get("children")[1];ht.attr({x1:Math.max(g.bl.x+g.width*Y[0]+S,g.bl.x),x2:Math.min(g.bl.x+g.width*Y[1]+S,g.br.x)})}else W=y.addGroup({className:"horizontalBar"}),W.addShape("line",{attrs:{x1:g.bl.x+S,y1:J,x2:g.br.x+S,y2:J,lineWidth:L,stroke:O,lineCap:T}}),W.addShape("line",{attrs:{x1:Math.max(g.bl.x+g.width*Y[0]+S,g.bl.x),y1:J,x2:Math.min(g.bl.x+g.width*Y[1]+S,g.br.x),y2:J,lineWidth:L,stroke:D,lineCap:T}}),h.set("_horizontalBar",W)}if(M.indexOf("Y")>-1){var nt=p.yStyle,Q=nt.offsetX,xt=nt.offsetY,_t=nt.lineCap,Nt=nt.backgroundColor,rt=nt.fillerColor,q=nt.size,G=h.getYScales()[0],N=m[G.field];N||(N=f(d,G),m[G.field]=N);var at=o(G,N,G.type),H=h.get("_verticalBar"),ft=q/2+Q;if(H){var ct=H.get("children")[1];ct.attr({y1:Math.max(g.tl.y+g.height*at[0]+xt,g.tl.y),y2:Math.min(g.tl.y+g.height*at[1]+xt,g.bl.y)})}else H=y.addGroup({className:"verticalBar"}),H.addShape("line",{attrs:{x1:ft,y1:g.tl.y+xt,x2:ft,y2:g.bl.y+xt,lineWidth:q,stroke:Nt,lineCap:_t}}),H.addShape("line",{attrs:{x1:ft,y1:Math.max(g.tl.y+g.height*at[0]+xt,g.tl.y),x2:ft,y2:Math.min(g.tl.y+g.height*at[1]+xt,g.bl.y),lineWidth:q,stroke:rt,lineCap:_t}}),h.set("_verticalBar",H)}}};function u(l,h){var p;p=n.call(this,l,h)||this;var d=p.getDefaultCfg();return h.set("_scrollBarCfg",s.deepMix({},d,l)),h.set("_limitRange",{}),!h.get("_horizontalBar")&&!h.get("_verticalBar")&&p._renderScrollBars(),p}return a._clear=function(){var h=this.chart;if(h){var p=h.get("_horizontalBar"),d=h.get("_verticalBar");p&&p.remove(!0),d&&d.remove(!0),h.set("_horizontalBar",null),h.set("_verticalBar",null)}},a._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var h=this.chart;h.on("afterclear",this._onAfterclearOrBeforechangedata),h.on("beforechangedata",this._onAfterclearOrBeforechangedata),h.on("afterclearinner",this._onAfterclearinner),h.on("afterdrawgeoms",this._onAfterdrawgeoms)},a._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},a._onAfterclearinner=function(){this._clear()},a._onAfterdrawgeoms=function(){this._renderScrollBars()},a._clearEvents=function(){var h=this.chart;h&&(h.off("afterclear",this._onAfterclearOrBeforechangedata),h.off("beforechangedata",this._onAfterclearOrBeforechangedata),h.off("afterclearinner",this._onAfterclearinner),h.off("afterdrawgeoms",this._onAfterdrawgeoms))},a.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},u}(v);P.exports=e},function(P,x){P.exports=function(i,t,c){if(!i)return[0,1];var s=0,v=0;if(c==="linear"){var o=t.min,f=t.max,r=f-o;s=(i.min-o)/r,v=(i.max-o)/r}else{var e=t,n=i.values,a=e.indexOf(n[0]),u=e.indexOf(n[n.length-1]);s=a/(e.length-1),v=u/(e.length-1)}return[s,v]}},function(P,x,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(0),v=i(205);function o(r,e){var n={};for(var a in e)n[a]=r[a];return n}var f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},n.start=function(u){var l=this,h=l.view,p,d=[];if(h.eachShape(function(C,m){m.isPointInPath(u.x,u.y)?p=m:d.push(m)}),!p){l.reset();return}if(p.get("_selected")){if(!l.cancelable)return;l.reset()}else{var g=l.selectStyle,y=l.unSelectStyle,E=o(p.attr(),p);p.set("_originAttrs",E),p.attr(g),s.each(d,function(C){var m=C.get("_originAttrs");m&&C.attr(m),C.set("_selected",!1),y&&(m=o(C.attr(),y),C.set("_originAttrs",m),C.attr(y))}),p.set("_selected",!0),l.selectedShape=p,l.canvas.draw()}},n.end=function(u){var l=this.selectedShape;l&&!l.get("destroyed")&&l.get("origin")&&(u.data=l.get("origin")._origin,u.shapeInfo=l.get("origin"),u.shape=l,u.selected=!!l.get("_selected"))},n.reset=function(){var u=this;if(!!u.selectedShape){var l=u.view,h=l.get("geoms")[0],p=h.get("container").get("children")[0],d=p.get("children");s.each(d,function(g){var y=g.get("_originAttrs");y&&(g._attrs=y,g.set("_originAttrs",null)),g.set("_selected",!1)}),u.canvas.draw()}},e}(v);P.exports=f},function(P,x,i){function t(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function c(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,s(g,y)}function s(g,y){return s=Object.setPrototypeOf||function(C,m){return C.__proto__=m,C},s(g,y)}var v=i(560),o=i(163),f=i(0),r=i(18),e=i(8),n=i(205),a=i(440),u=i(439),l=r.Canvas,h=f.DomUtil,p=f.isNumber,d=function(g){c(E,g);var y=E.prototype;y.getDefaultCfg=function(){var m=g.prototype.getDefaultCfg.call(this);return f.mix({},m,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:e.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},y._initContainer=function(){var m=this,M=m.container;if(!M)throw new Error("Please specify the container for the Slider!");f.isString(M)?m.domContainer=document.getElementById(M):m.domContainer=M},y.forceFit=function(){var m=this;if(!(!m||m.destroyed)){var M=h.getWidth(m.domContainer),b=m.height;if(M!==m.domWidth){var S=m.canvas;S.changeSize(M,b),m.bgChart&&m.bgChart.changeWidth(M),S.clear(),m._initWidth(),m._initSlider(),m._bindEvent(),S.draw()}}},y._initForceFitEvent=function(){var m=this,M=setTimeout(f.wrapBehavior(m,"forceFit"),200);clearTimeout(m.resizeTimer),m.resizeTimer=M},y._initStyle=function(){var m=this;m.handleStyle=f.mix({width:m.height,height:m.height},m.handleStyle),m.width==="auto"&&window.addEventListener("resize",f.wrapBehavior(m,"_initForceFitEvent"))},y._initWidth=function(){var m=this,M;m.width==="auto"?M=h.getWidth(m.domContainer):M=m.width,m.domWidth=M;var b=f.toAllPadding(m.padding);m.layout==="horizontal"?(m.plotWidth=M-b[1]-b[3],m.plotPadding=b[3],m.plotHeight=m.height):m.layout==="vertical"&&(m.plotWidth=m.width,m.plotHeight=m.height-b[0]-b[2],m.plotPadding=b[0])},y._initCanvas=function(){var m=this,M=m.domWidth,b=m.height,S=new l({width:M,height:b,containerDOM:m.domContainer,capture:!1}),A=S.get("el");A.style.position="absolute",A.style.top=0,A.style.left=0,A.style.zIndex=3,m.canvas=S},y._initBackground=function(){var m,M=this,b=this.chart,S=b.getAllGeoms[0],A=M.data=M.data||b.get("data"),T=b.getXScale(),O=M.xAxis||T.field,D=M.yAxis||b.getYScales()[0].field,L=f.deepMix((m={},m[""+O]={range:[0,1]},m),u(b),M.scales);if(delete L[O].min,delete L[O].max,!A)throw new Error("Please specify the data!");if(!O)throw new Error("Please specify the xAxis!");if(!D)throw new Error("Please specify the yAxis!");var Z=M.backgroundChart,U=Z.type||S.get("type"),Y=Z.color||"grey",W=Z.shape;f.isArray(U)||(U=[U]);var J=f.toAllPadding(M.padding),ht=new o({container:M.container,width:M.domWidth,height:M.height,padding:[0,J[1],0,J[3]],animate:!1});ht.source(A),ht.scale(L),ht.axis(!1),ht.tooltip(!1),ht.legend(!1),f.each(U,function(nt,Q){var xt=ht[nt]().position(O+"*"+D).opacity(1),_t=f.isArray(Y)?Y[Q]:Y;_t&&(f.isObject(_t)?_t.field&&xt.color(_t.field,_t.colors):xt.color(_t));var Nt=f.isArray(W)?W[Q]:W;Nt&&(f.isObject(Nt)?Nt.field&&xt.shape(Nt.field,Nt.callback||Nt.shapes):xt.shape(Nt))}),ht.render(),M.bgChart=ht,M.scale=M.layout==="horizontal"?ht.getXScale():ht.getYScales()[0],M.layout==="vertical"&&ht.destroy()},y._initRange=function(){var m=this,M=m.startRadio,b=m.endRadio,S=m._startValue,A=m._endValue,T=m.scale,O=0,D=1;p(M)?O=M:S&&(O=T.scale(T.translate(S))),p(b)?D=b:A&&(D=T.scale(T.translate(A)));var L=m.minSpan,Z=m.maxSpan,U=0;if(T.type==="time"||T.type==="timeCat"){var Y=T.values,W=Y[0],J=Y[Y.length-1];U=J-W}else T.isLinear&&(U=T.max-T.min);U&&L&&(m.minRange=L/U*100),U&&Z&&(m.maxRange=Z/U*100);var ht=[O*100,D*100];return m.range=ht,ht},y._getHandleValue=function(m){var M=this,b,S=M.range,A=S[0]/100,T=S[1]/100,O=M.scale;return m==="min"?b=M._startValue?M._startValue:O.invert(A):b=M._endValue?M._endValue:O.invert(T),b},y._initSlider=function(){var m=this,M=m.canvas,b=m._initRange(),S=m.scale,A=M.addGroup(v,{middleAttr:m.fillerStyle,range:b,minRange:m.minRange,maxRange:m.maxRange,layout:m.layout,width:m.plotWidth,height:m.plotHeight,backgroundStyle:m.backgroundStyle,textStyle:m.textStyle,handleStyle:m.handleStyle,minText:S.getText(m._getHandleValue("min")),maxText:S.getText(m._getHandleValue("max"))});m.layout==="horizontal"?A.translate(m.plotPadding,0):m.layout==="vertical"&&A.translate(0,m.plotPadding),m.rangeElement=A},y._updateElement=function(m,M){var b=this,S=b.chart,A=b.scale,T=b.rangeElement,O=A.field,D=T.get("minTextElement"),L=T.get("maxTextElement"),Z=A.invert(m),U=A.invert(M),Y=A.getText(Z),W=A.getText(U);D.attr("text",Y),L.attr("text",W),b._startValue=Y,b._endValue=W,b.onChange&&b.onChange({startText:Y,endText:W,startValue:Z,endValue:U,startRadio:m,endRadio:M}),S.scale(O,f.mix({},a(S,O),{nice:!1,min:Z,max:U})),S.repaint()},y._bindEvent=function(){var m=this,M=m.rangeElement;M.on("sliderchange",function(b){var S=b.range,A=S[0]/100,T=S[1]/100;m._updateElement(A,T)})};function E(C,m){var M;M=g.call(this,C,m)||this;var b=t(M);return b._initContainer(),b._initStyle(),b.render(),M}return y.clear=function(){var m=this;m.canvas.clear(),m.bgChart&&m.bgChart.destroy(),m.bgChart=null,m.scale=null,m.canvas.draw()},y.repaint=function(){var m=this;m.clear(),m.render()},y.render=function(){var m=this;m._initWidth(),m._initCanvas(),m._initBackground(),m._initSlider(),m._bindEvent(),m.canvas.draw()},y.destroy=function(){var m=this;clearTimeout(m.resizeTimer);var M=m.rangeElement;M.off("sliderchange"),m.bgChart&&m.bgChart.destroy(),m.canvas.destroy();for(var b=m.domContainer;b.hasChildNodes();)b.removeChild(b.firstChild);window.removeEventListener("resize",f.getWrapBehavior(m,"_initForceFitEvent")),m.destroyed=!0},E}(n);P.exports=d},function(P,x,i){var t=i(0),c=i(18),s=c.Group,v=t.DomUtil,o=5,f=function r(e){r.superclass.constructor.call(this,e)};t.extend(f,s),t.augment(f,{getDefaultCfg:function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function(e){var n=this,a=n.addGroup(),u=n.get("layout"),l=n.get("handleStyle"),h=l.img,p=l.width,d=l.height,g,y,E;if(u==="horizontal"){var C=l.width;E="ew-resize",y=a.addShape("Image",{attrs:{x:-C/2,y:0,width:C,height:d,img:h,cursor:E}}),g=a.addShape("Text",{attrs:t.mix({x:e==="min"?-(C/2+o):C/2+o,y:d/2,textAlign:e==="min"?"end":"start",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:E},this.get("textStyle"))})}else E="ns-resize",y=a.addShape("Image",{attrs:{x:0,y:-d/2,width:p,height:d,img:h,cursor:E}}),g=a.addShape("Text",{attrs:t.mix({x:p/2,y:e==="min"?d/2+o:-(d/2+o),textAlign:"center",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:E},this.get("textStyle"))});return this.set(e+"TextElement",g),this.set(e+"IconElement",y),a},_initSliderBackground:function(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:t.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},_beforeRenderUI:function(){var e=this._initSliderBackground(),n=this._initHandle("min"),a=this._initHandle("max"),u=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",u),this.set("minHandleElement",n),this.set("maxHandleElement",a),this.set("backgroundElement",e),e.set("zIndex",0),u.set("zIndex",1),n.set("zIndex",2),a.set("zIndex",2),u.attr("cursor","move"),this.sort()},_renderUI:function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},_transform:function(e){var n=this.get("range"),a=n[0]/100,u=n[1]/100,l=this.get("width"),h=this.get("height"),p=this.get("minHandleElement"),d=this.get("maxHandleElement"),g=this.get("middleHandleElement");p.resetMatrix?(p.resetMatrix(),d.resetMatrix()):(p.initTransform(),d.initTransform()),e==="horizontal"?(g.attr({x:l*a,y:0,width:(u-a)*l,height:h}),p.translate(a*l,0),d.translate(u*l,0)):(g.attr({x:0,y:h*(1-u),width:l,height:(u-a)*h}),p.translate(0,(1-a)*h),d.translate(0,(1-u)*h))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",t.wrapBehavior(this,"_onMouseDown"))},_isElement:function(e,n){var a=this.get(n);if(e===a)return!0;if(a.isGroup){var u=a.get("children");return u.indexOf(e)>-1}return!1},_getRange:function(e,n){var a=e+n;return a=a>100?100:a,a=a<0?0:a,a},_limitRange:function(e,n,a){a[0]=this._getRange(e,a[0]),a[1]=a[0]+n,a[1]>100&&(a[1]=100,a[0]=a[1]-n)},_updateStatus:function(e,n){var a=e==="x"?this.get("width"):this.get("height");e=t.upperFirst(e);var u=this.get("range"),l=this.get("page"+e),h=this.get("currentTarget"),p=this.get("rangeStash"),d=this.get("layout"),g=d==="vertical"?-1:1,y=n["page"+e],E=y-l,C=E/a*100*g,m,M=this.get("minRange"),b=this.get("maxRange");u[1]<=u[0]?(this._isElement(h,"minHandleElement")||this._isElement(h,"maxHandleElement"))&&(u[0]=this._getRange(C,u[0]),u[1]=this._getRange(C,u[0])):(this._isElement(h,"minHandleElement")&&(u[0]=this._getRange(C,u[0]),M&&u[1]-u[0]<=M&&this._limitRange(C,M,u),b&&u[1]-u[0]>=b&&this._limitRange(C,b,u)),this._isElement(h,"maxHandleElement")&&(u[1]=this._getRange(C,u[1]),M&&u[1]-u[0]<=M&&this._limitRange(C,M,u),b&&u[1]-u[0]>=b&&this._limitRange(C,b,u))),this._isElement(h,"middleHandleElement")&&(m=p[1]-p[0],this._limitRange(C,m,u)),this.emit("sliderchange",{range:u}),this.set("page"+e,y),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(e){var n=e.currentTarget,a=e.event,u=this.get("range");a.stopPropagation(),a.preventDefault(),this.set("pageX",a.pageX),this.set("pageY",a.pageY),this.set("currentTarget",n),this.set("rangeStash",[u[0],u[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=v.addEventListener(e,"mousemove",t.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=v.addEventListener(e,"mouseup",t.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=v.addEventListener(e,"mouseleave",t.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(e){var n=this.get("layout");n==="horizontal"?this._updateStatus("x",e):this._updateStatus("y",e)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}}),P.exports=f},function(P,x,i){function t(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function c(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,s(u,l)}function s(u,l){return s=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},s(u,l)}var v=i(0),o=i(205),f=i(440),r=i(441),e=["X","Y","XY"],n="X",a=function(u){c(h,u);var l=h.prototype;l.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return v.mix({},d,{processEvent:"mousewheel",type:n,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})};function h(p,d){var g;g=u.call(this,p,d)||this;var y=t(g);y.chart=d,y.type=y.type.toUpperCase();var E=y.data=d.get("data"),C=d.getYScales(),m=d.getXScale();C.push(m);var M=d.get("scaleController");return C.forEach(function(b){var S=b.field,A=M.defs[S]||{};y.limitRange[S]=r(E,b),y.originScaleDefsByField[S]=v.mix(A,{nice:!!A.nice}),b.isLinear?y.stepByField[S]=(b.max-b.min)*y.stepRatio:y.stepByField[S]=y.catStep}),e.includes(y.type)||(y.type=n),g}return l._applyScale=function(d,g,y,E){y===void 0&&(y=0);var C=this,m=C.chart,M=C.stepByField;if(d.isLinear){var b=d.min,S=d.max,A=d.field,T=1-y,O=M[A]*g,D=b+O*y,L=S-O*T;if(L>D){var Z=f(m,A);m.scale(A,v.mix({},Z,{nice:!1,min:D,max:L}))}}else{var U=d.field,Y=d.values,W=C.chart,J=W.get("coord"),ht=f(W,U),nt=C.limitRange[U],Q=nt.length,xt=C.maxScale,_t=C.minScale,Nt=Q/xt,rt=Q/_t,q=Y.length,G=J.invertPoint(E),N=G.x,at=q-g*this.catStep,H=parseInt(at*N),ft=at+H;if(g>0&&q>=Nt){var ct=H,K=ft;ft>q&&(K=q-1,ct=q-at);var $=Y.slice(ct,K);W.scale(U,v.mix({},ht,{values:$}))}else if(g<0&&q<=rt){var et=nt.indexOf(Y[0]),B=nt.indexOf(Y[q-1]),w=Math.max(0,et-H),R=Math.min(B+ft,Q),V=nt.slice(w,R);W.scale(U,v.mix({},ht,{values:V}))}}},l.process=function(d){var g=this,y=g.chart,E=g.type,C=y.get("coord"),m=d.deltaY,M=C.invertPoint(d);if(m){g.onZoom&&g.onZoom(m,M,g),m>0?g.onZoomin&&g.onZoomin(m,M,g):g.onZoomout&&g.onZoomout(m,M,g);var b=m/Math.abs(m);if(E.indexOf("X")>-1&&g._applyScale(y.getXScale(),b,M.x,d),E.indexOf("Y")>-1){var S=y.getYScales();S.forEach(function(A){g._applyScale(A,b,M.y,d)})}}y.repaint()},l.reset=function(){var d=this,g=d.view,y=d.originScaleDefsByField,E=g.getYScales(),C=g.getXScale();E.push(C),E.forEach(function(m){if(m.isLinear){var M=m.field;g.scale(M,y[M])}}),g.repaint()},h}(o);P.exports=a}])})},58881:function(gr,P,x){"use strict";x.d(P,{nC:function(){return i.ZP},Hp:function(){return i.Hp},e7:function(){return i.e7},yT:function(){return i.yT},vK:function(){return c.v},h0:function(){return v.h},GC:function(){return o.GC},vY:function(){return o.vY},ee:function(){return o.ee},MapServiceEvent:function(){return e.I},CoordinateSystem:function(){return n.l},CoordinateUniform:function(){return n.k},CameraUniform:function(){return l.l},SceneEventList:function(){return d.P},PositionType:function(){return b.d},gl:function(){return ct.gl}});var i=x(12250),t=x(69530),c=x(72302),s=x(76915),v=x(77252),o=x(31251),f=x(8628),r=x.n(f);x.o(f,"CameraUniform")&&x.d(P,{CameraUniform:function(){return f.CameraUniform}}),x.o(f,"CoordinateSystem")&&x.d(P,{CoordinateSystem:function(){return f.CoordinateSystem}}),x.o(f,"CoordinateUniform")&&x.d(P,{CoordinateUniform:function(){return f.CoordinateUniform}}),x.o(f,"LineLayer")&&x.d(P,{LineLayer:function(){return f.LineLayer}}),x.o(f,"MapServiceEvent")&&x.d(P,{MapServiceEvent:function(){return f.MapServiceEvent}}),x.o(f,"Marker")&&x.d(P,{Marker:function(){return f.Marker}}),x.o(f,"PointLayer")&&x.d(P,{PointLayer:function(){return f.PointLayer}}),x.o(f,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return f.PolygonLayer}}),x.o(f,"Popup")&&x.d(P,{Popup:function(){return f.Popup}}),x.o(f,"PositionType")&&x.d(P,{PositionType:function(){return f.PositionType}}),x.o(f,"Scene")&&x.d(P,{Scene:function(){return f.Scene}}),x.o(f,"SceneEventList")&&x.d(P,{SceneEventList:function(){return f.SceneEventList}}),x.o(f,"gl")&&x.d(P,{gl:function(){return f.gl}});var e=x(16606),n=x(47282),a=x(41906),u=x.n(a);x.o(a,"CameraUniform")&&x.d(P,{CameraUniform:function(){return a.CameraUniform}}),x.o(a,"LineLayer")&&x.d(P,{LineLayer:function(){return a.LineLayer}}),x.o(a,"Marker")&&x.d(P,{Marker:function(){return a.Marker}}),x.o(a,"PointLayer")&&x.d(P,{PointLayer:function(){return a.PointLayer}}),x.o(a,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return a.PolygonLayer}}),x.o(a,"Popup")&&x.d(P,{Popup:function(){return a.Popup}}),x.o(a,"PositionType")&&x.d(P,{PositionType:function(){return a.PositionType}}),x.o(a,"Scene")&&x.d(P,{Scene:function(){return a.Scene}}),x.o(a,"SceneEventList")&&x.d(P,{SceneEventList:function(){return a.SceneEventList}}),x.o(a,"gl")&&x.d(P,{gl:function(){return a.gl}});var l=x(4594),h=x(1910),p=x.n(h);x.o(h,"LineLayer")&&x.d(P,{LineLayer:function(){return h.LineLayer}}),x.o(h,"Marker")&&x.d(P,{Marker:function(){return h.Marker}}),x.o(h,"PointLayer")&&x.d(P,{PointLayer:function(){return h.PointLayer}}),x.o(h,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return h.PolygonLayer}}),x.o(h,"Popup")&&x.d(P,{Popup:function(){return h.Popup}}),x.o(h,"PositionType")&&x.d(P,{PositionType:function(){return h.PositionType}}),x.o(h,"Scene")&&x.d(P,{Scene:function(){return h.Scene}}),x.o(h,"SceneEventList")&&x.d(P,{SceneEventList:function(){return h.SceneEventList}}),x.o(h,"gl")&&x.d(P,{gl:function(){return h.gl}});var d=x(19793),g=x(93102),y=x.n(g);x.o(g,"LineLayer")&&x.d(P,{LineLayer:function(){return g.LineLayer}}),x.o(g,"Marker")&&x.d(P,{Marker:function(){return g.Marker}}),x.o(g,"PointLayer")&&x.d(P,{PointLayer:function(){return g.PointLayer}}),x.o(g,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return g.PolygonLayer}}),x.o(g,"Popup")&&x.d(P,{Popup:function(){return g.Popup}}),x.o(g,"PositionType")&&x.d(P,{PositionType:function(){return g.PositionType}}),x.o(g,"Scene")&&x.d(P,{Scene:function(){return g.Scene}}),x.o(g,"gl")&&x.d(P,{gl:function(){return g.gl}});var E=x(64532),C=x.n(E);x.o(E,"LineLayer")&&x.d(P,{LineLayer:function(){return E.LineLayer}}),x.o(E,"Marker")&&x.d(P,{Marker:function(){return E.Marker}}),x.o(E,"PointLayer")&&x.d(P,{PointLayer:function(){return E.PointLayer}}),x.o(E,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return E.PolygonLayer}}),x.o(E,"Popup")&&x.d(P,{Popup:function(){return E.Popup}}),x.o(E,"PositionType")&&x.d(P,{PositionType:function(){return E.PositionType}}),x.o(E,"Scene")&&x.d(P,{Scene:function(){return E.Scene}}),x.o(E,"gl")&&x.d(P,{gl:function(){return E.gl}});var m=x(2811),M=x.n(m);x.o(m,"LineLayer")&&x.d(P,{LineLayer:function(){return m.LineLayer}}),x.o(m,"Marker")&&x.d(P,{Marker:function(){return m.Marker}}),x.o(m,"PointLayer")&&x.d(P,{PointLayer:function(){return m.PointLayer}}),x.o(m,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return m.PolygonLayer}}),x.o(m,"Popup")&&x.d(P,{Popup:function(){return m.Popup}}),x.o(m,"PositionType")&&x.d(P,{PositionType:function(){return m.PositionType}}),x.o(m,"Scene")&&x.d(P,{Scene:function(){return m.Scene}}),x.o(m,"gl")&&x.d(P,{gl:function(){return m.gl}});var b=x(66690),S=x(81732),A=x.n(S);x.o(S,"LineLayer")&&x.d(P,{LineLayer:function(){return S.LineLayer}}),x.o(S,"Marker")&&x.d(P,{Marker:function(){return S.Marker}}),x.o(S,"PointLayer")&&x.d(P,{PointLayer:function(){return S.PointLayer}}),x.o(S,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return S.PolygonLayer}}),x.o(S,"Popup")&&x.d(P,{Popup:function(){return S.Popup}}),x.o(S,"Scene")&&x.d(P,{Scene:function(){return S.Scene}}),x.o(S,"gl")&&x.d(P,{gl:function(){return S.gl}});var T=x(84007),O=x.n(T);x.o(T,"LineLayer")&&x.d(P,{LineLayer:function(){return T.LineLayer}}),x.o(T,"Marker")&&x.d(P,{Marker:function(){return T.Marker}}),x.o(T,"PointLayer")&&x.d(P,{PointLayer:function(){return T.PointLayer}}),x.o(T,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return T.PolygonLayer}}),x.o(T,"Popup")&&x.d(P,{Popup:function(){return T.Popup}}),x.o(T,"Scene")&&x.d(P,{Scene:function(){return T.Scene}}),x.o(T,"gl")&&x.d(P,{gl:function(){return T.gl}});var D=x(89648),L=x(90919),Z=x.n(L);x.o(L,"LineLayer")&&x.d(P,{LineLayer:function(){return L.LineLayer}}),x.o(L,"Marker")&&x.d(P,{Marker:function(){return L.Marker}}),x.o(L,"PointLayer")&&x.d(P,{PointLayer:function(){return L.PointLayer}}),x.o(L,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return L.PolygonLayer}}),x.o(L,"Popup")&&x.d(P,{Popup:function(){return L.Popup}}),x.o(L,"Scene")&&x.d(P,{Scene:function(){return L.Scene}}),x.o(L,"gl")&&x.d(P,{gl:function(){return L.gl}});var U=x(75925),Y=x.n(U);x.o(U,"LineLayer")&&x.d(P,{LineLayer:function(){return U.LineLayer}}),x.o(U,"Marker")&&x.d(P,{Marker:function(){return U.Marker}}),x.o(U,"PointLayer")&&x.d(P,{PointLayer:function(){return U.PointLayer}}),x.o(U,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return U.PolygonLayer}}),x.o(U,"Popup")&&x.d(P,{Popup:function(){return U.Popup}}),x.o(U,"Scene")&&x.d(P,{Scene:function(){return U.Scene}}),x.o(U,"gl")&&x.d(P,{gl:function(){return U.gl}});var W=x(85040),J=x.n(W);x.o(W,"LineLayer")&&x.d(P,{LineLayer:function(){return W.LineLayer}}),x.o(W,"Marker")&&x.d(P,{Marker:function(){return W.Marker}}),x.o(W,"PointLayer")&&x.d(P,{PointLayer:function(){return W.PointLayer}}),x.o(W,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return W.PolygonLayer}}),x.o(W,"Popup")&&x.d(P,{Popup:function(){return W.Popup}}),x.o(W,"Scene")&&x.d(P,{Scene:function(){return W.Scene}}),x.o(W,"gl")&&x.d(P,{gl:function(){return W.gl}});var ht=x(8594),nt=x.n(ht);x.o(ht,"LineLayer")&&x.d(P,{LineLayer:function(){return ht.LineLayer}}),x.o(ht,"Marker")&&x.d(P,{Marker:function(){return ht.Marker}}),x.o(ht,"PointLayer")&&x.d(P,{PointLayer:function(){return ht.PointLayer}}),x.o(ht,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return ht.PolygonLayer}}),x.o(ht,"Popup")&&x.d(P,{Popup:function(){return ht.Popup}}),x.o(ht,"Scene")&&x.d(P,{Scene:function(){return ht.Scene}}),x.o(ht,"gl")&&x.d(P,{gl:function(){return ht.gl}});var Q=x(67571),xt=x.n(Q);x.o(Q,"LineLayer")&&x.d(P,{LineLayer:function(){return Q.LineLayer}}),x.o(Q,"Marker")&&x.d(P,{Marker:function(){return Q.Marker}}),x.o(Q,"PointLayer")&&x.d(P,{PointLayer:function(){return Q.PointLayer}}),x.o(Q,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return Q.PolygonLayer}}),x.o(Q,"Popup")&&x.d(P,{Popup:function(){return Q.Popup}}),x.o(Q,"Scene")&&x.d(P,{Scene:function(){return Q.Scene}}),x.o(Q,"gl")&&x.d(P,{gl:function(){return Q.gl}});var _t=x(66718),Nt=x.n(_t);x.o(_t,"LineLayer")&&x.d(P,{LineLayer:function(){return _t.LineLayer}}),x.o(_t,"Marker")&&x.d(P,{Marker:function(){return _t.Marker}}),x.o(_t,"PointLayer")&&x.d(P,{PointLayer:function(){return _t.PointLayer}}),x.o(_t,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return _t.PolygonLayer}}),x.o(_t,"Popup")&&x.d(P,{Popup:function(){return _t.Popup}}),x.o(_t,"Scene")&&x.d(P,{Scene:function(){return _t.Scene}}),x.o(_t,"gl")&&x.d(P,{gl:function(){return _t.gl}});var rt=x(92364),q=x(78010),G=x.n(q);x.o(q,"LineLayer")&&x.d(P,{LineLayer:function(){return q.LineLayer}}),x.o(q,"Marker")&&x.d(P,{Marker:function(){return q.Marker}}),x.o(q,"PointLayer")&&x.d(P,{PointLayer:function(){return q.PointLayer}}),x.o(q,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return q.PolygonLayer}}),x.o(q,"Popup")&&x.d(P,{Popup:function(){return q.Popup}}),x.o(q,"Scene")&&x.d(P,{Scene:function(){return q.Scene}}),x.o(q,"gl")&&x.d(P,{gl:function(){return q.gl}});var N=x(68116),at=x.n(N);x.o(N,"LineLayer")&&x.d(P,{LineLayer:function(){return N.LineLayer}}),x.o(N,"Marker")&&x.d(P,{Marker:function(){return N.Marker}}),x.o(N,"PointLayer")&&x.d(P,{PointLayer:function(){return N.PointLayer}}),x.o(N,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return N.PolygonLayer}}),x.o(N,"Popup")&&x.d(P,{Popup:function(){return N.Popup}}),x.o(N,"Scene")&&x.d(P,{Scene:function(){return N.Scene}}),x.o(N,"gl")&&x.d(P,{gl:function(){return N.gl}});var H=x(23067),ft=x.n(H);x.o(H,"LineLayer")&&x.d(P,{LineLayer:function(){return H.LineLayer}}),x.o(H,"Marker")&&x.d(P,{Marker:function(){return H.Marker}}),x.o(H,"PointLayer")&&x.d(P,{PointLayer:function(){return H.PointLayer}}),x.o(H,"PolygonLayer")&&x.d(P,{PolygonLayer:function(){return H.PolygonLayer}}),x.o(H,"Popup")&&x.d(P,{Popup:function(){return H.Popup}}),x.o(H,"Scene")&&x.d(P,{Scene:function(){return H.Scene}}),x.o(H,"gl")&&x.d(P,{gl:function(){return H.gl}});var ct=x(7648)},12250:function(gr,P,x){"use strict";x.d(P,{e7:function(){return Iu},Hp:function(){return ms},ZP:function(){return wu},yT:function(){return du}});var i=x(28660),t=x(26729),c=x.n(t),s=x(86700),v=x(84879),o=x(72302),f=x(6610),r=x(5991),e=x(96156),n=x(91739),a=x(49296),u=x.n(a);function l(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function h(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?l(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):l(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function p(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=d(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te=!0,Rr=!1,un;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Te=bn.done,bn},e:function(bn){Rr=!0,un=bn},f:function(){try{!Te&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw un}}}}function d(oe,ue){if(!!oe){if(typeof oe=="string")return g(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return g(oe,ue)}}function g(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var y=30;function E(oe){var ue=oe.characterSet,Tt=oe.getFontWidth,Lt=oe.fontHeight,se=oe.buffer,Te=oe.maxCanvasWidth,Rr=oe.mapping,un=Rr===void 0?{}:Rr,Wr=oe.xOffset,bn=Wr===void 0?0:Wr,ai=oe.yOffset,ra=ai===void 0?0:ai,ua=0,ba=bn;Array.from(ue).forEach(function(Ra,no){if(!un[Ra]){var bo=Tt(Ra,no);ba+y>Te&&(ba=0,ua++),un[Ra]={x:ba,y:ra+ua*y,width:y,height:y,advance:bo},ba+=y}});var Da=Lt+se*2;return{mapping:un,xOffset:ba,yOffset:ra+ua*Da,canvasHeight:M(ra+(ua+1)*Da)}}function C(oe,ue,Tt){var Lt=0,se=0,Te=0,Rr=[],un={},Wr=p(oe),bn;try{for(Wr.s();!(bn=Wr.n()).done;){var ai=bn.value;if(!un[ai.id]){var ra=ai.size;Lt+ra+ue>Tt&&(m(un,Rr,se),Lt=0,se=Te+se+ue,Te=0,Rr=[]),Rr.push({icon:ai,xOffset:Lt}),Lt=Lt+ra+ue,Te=Math.max(Te,ra)}}}catch(ba){Wr.e(ba)}finally{Wr.f()}Rr.length>0&&m(un,Rr,se);var ua=M(Te+se+ue);return{mapping:un,canvasHeight:ua}}function m(oe,ue,Tt){var Lt=p(ue),se;try{for(Lt.s();!(se=Lt.n()).done;){var Te=se.value,Rr=Te.icon,un=Te.xOffset;oe[Rr.id]=h(h({},Rr),{},{x:un,y:Tt,image:Rr.image,width:Rr.width,height:Rr.height})}}catch(Wr){Lt.e(Wr)}finally{Lt.f()}}function M(oe){return Math.pow(2,Math.ceil(Math.log2(oe)))}var b,S;function A(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=T(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te=!0,Rr=!1,un;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Te=bn.done,bn},e:function(bn){Rr=!0,un=bn},f:function(){try{!Te&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw un}}}}function T(oe,ue){if(!!oe){if(typeof oe=="string")return O(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return O(oe,ue)}}function O(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}function D(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function L(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?D(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):D(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var Z=q(),U="sans-serif",Y="normal",W=24,J=3,ht=.25,nt=8,Q=1024,xt=1,_t=1,Nt=3,rt=null;function q(){for(var oe=[],ue=32;ue<128;ue++)oe.push(String.fromCharCode(ue));return oe}function G(oe,ue,Tt,Lt){oe.font="".concat(Lt," ").concat(Tt,"px ").concat(ue),oe.fillStyle="black",oe.textBaseline="middle"}function N(oe,ue){for(var Tt=0;Tt<oe.length;Tt++)ue.data[4*Tt+3]=oe[Tt]}var at=(b=(0,s.b2)(),b(S=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"fontAtlas",void 0),(0,e.Z)(this,"iconFontMap",void 0),(0,e.Z)(this,"iconFontGlyphs",{}),(0,e.Z)(this,"fontOptions",void 0),(0,e.Z)(this,"key",void 0),(0,e.Z)(this,"cache",new n.z6(Nt))}return(0,r.Z)(oe,[{key:"scale",get:function(){return _t}},{key:"canvas",get:function(){var Tt=this.cache.get(this.key);return Tt&&Tt.data}},{key:"mapping",get:function(){var Tt=this.cache.get(this.key);return Tt&&Tt.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:U,fontWeight:Y,characterSet:Z,fontSize:W,buffer:J,sdf:!0,cutoff:ht,radius:nt,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(Tt){var Lt=this;Tt.forEach(function(se){Lt.iconFontGlyphs[se.name]=se.unicode})}},{key:"addIconFont",value:function(Tt,Lt){this.iconFontMap.set(Tt,Lt)}},{key:"getIconFontKey",value:function(Tt){return this.iconFontMap.get(Tt)||Tt}},{key:"getGlyph",value:function(Tt){return this.iconFontGlyphs[Tt]?String.fromCharCode(parseInt(this.iconFontGlyphs[Tt],16)):""}},{key:"setFontOptions",value:function(Tt){this.fontOptions=L(L({},this.fontOptions),Tt),this.key=this.getKey();var Lt=this.getNewChars(this.key,this.fontOptions.characterSet),se=this.cache.get(this.key);if(!(se&&Lt.length===0)){var Te=this.generateFontAtlas(this.key,Lt,se);this.fontAtlas=Te,this.cache.set(this.key,Te)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(Tt,Lt,se){var Te=this.fontOptions,Rr=Te.fontFamily,un=Te.fontWeight,Wr=Te.fontSize,bn=Te.buffer,ai=Te.sdf,ra=Te.radius,ua=Te.cutoff,ba=Te.iconfont,Da=se&&se.data;Da||(Da=document.createElement("canvas"),Da.width=Q);var Ra=Da.getContext("2d");G(Ra,Rr,Wr,un);var no=E(L({getFontWidth:function(Bu){return Ra.measureText(Bu).width},fontHeight:Wr*_t,buffer:bn,characterSet:Lt,maxCanvasWidth:Q},se&&{mapping:se.mapping,xOffset:se.xOffset,yOffset:se.yOffset})),bo=no.mapping,Po=no.canvasHeight,Ts=no.xOffset,$o=no.yOffset,eu=Ra.getImageData(0,0,Da.width,Da.height);if(Da.height=Po,Ra.putImageData(eu,0,0),G(Ra,Rr,Wr,un),ai){var hs=new(u())(Wr,bn,ra,ua,Rr,un),Mo=Ra.getImageData(0,0,hs.size,hs.size),Co=A(Lt),ws;try{for(Co.s();!(ws=Co.n()).done;){var Xs=ws.value;if(ba){var Cs=String.fromCharCode(parseInt(Xs.replace("&#x","").replace(";",""),16)),xu=hs.draw(Cs);N(xu,Mo)}else N(hs.draw(Xs),Mo);Ra.putImageData(Mo,bo[Xs].x,bo[Xs].y)}}catch(Ru){Co.e(Ru)}finally{Co.f()}}else{var Eu=A(Lt),Gu;try{for(Eu.s();!(Gu=Eu.n()).done;){var qu=Gu.value;Ra.fillText(qu,bo[qu].x,bo[qu].y+Wr*xt)}}catch(Ru){Eu.e(Ru)}finally{Eu.f()}}return{xOffset:Ts,yOffset:$o,mapping:bo,data:Da,width:Da.width,height:Da.height}}},{key:"getKey",value:function(){return"key";var Tt,Lt,se,Te,Rr,un,Wr,bn}},{key:"getNewChars",value:function(Tt,Lt){var se=this.cache.get(Tt);if(!se)return Lt;var Te=[],Rr=se.mapping,un=new Set(Object.keys(Rr)),Wr=new Set(Lt);return Wr.forEach(function(bn){un.has(bn)||Te.push(bn)}),Te}}]),oe}())||S),H=x(63349),ft=x(10379),ct=x(46070),K=x(77608),$,et;function B(oe){var ue=w();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var R=3,V=1024,tt=64,lt=($=(0,s.b2)(),$(et=function(oe){(0,ft.Z)(Tt,oe);var ue=B(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Te=new Array(se),Rr=0;Rr<se;Rr++)Te[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Te)),(0,e.Z)((0,H.Z)(Lt),"canvasHeight",128),(0,e.Z)((0,H.Z)(Lt),"texture",void 0),(0,e.Z)((0,H.Z)(Lt),"canvas",void 0),(0,e.Z)((0,H.Z)(Lt),"iconData",void 0),(0,e.Z)((0,H.Z)(Lt),"iconMap",void 0),(0,e.Z)((0,H.Z)(Lt),"ctx",void 0),(0,e.Z)((0,H.Z)(Lt),"loadingImageCount",0),Lt}return(0,r.Z)(Tt,[{key:"isLoading",value:function(){return this.loadingImageCount===0}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(se,Te){var Rr=this,un=new Image;if(this.loadingImageCount++,this.hasImage(se))throw new Error("Image Id already exists");this.iconData.push({id:se,size:tt}),this.updateIconMap(),this.loadImage(Te).then(function(Wr){un=Wr;var bn=Rr.iconData.find(function(ai){return ai.id===se});bn&&(bn.image=un,bn.width=un.width,bn.height=un.height),Rr.update()})}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(se){return this.iconMap.hasOwnProperty(se)}},{key:"removeImage",value:function(se){this.hasImage(se)&&(this.iconData=this.iconData.filter(function(Te){return Te.id!==se}),delete this.iconMap[se],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var se=this;this.canvas.width=V,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(function(Te){var Rr=se.iconMap[Te],un=Rr.x,Wr=Rr.y,bn=Rr.image,ai=Rr.width,ra=ai===void 0?64:ai,ua=Rr.height,ba=ua===void 0?64:ua,Da=Math.max(ra,ba),Ra=Da/tt,no=ba/Ra,bo=ra/Ra;bn&&se.ctx.drawImage(bn,un+(tt-bo)/2,Wr+(tt-no)/2,bo,no)})}},{key:"updateIconMap",value:function(){var se=C(this.iconData,R,V),Te=se.mapping,Rr=se.canvasHeight;this.iconMap=Te,this.canvasHeight=Rr}},{key:"loadImage",value:function(se){return new Promise(function(Te,Rr){if(se instanceof HTMLImageElement){Te(se);return}var un=new Image;un.crossOrigin="anonymous",un.onload=function(){Te(un)},un.onerror=function(){Rr(new Error("Could not load image at "+se))},un.src=se instanceof File?URL.createObjectURL(se):se})}}]),Tt}(t.EventEmitter))||et),Et=x(28481),ot=x(85975),Mt,Ot,Ft=(Mt=(0,s.b2)(),Mt(Ot=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"viewport",void 0),(0,e.Z)(this,"overridedViewProjectionMatrix",void 0),(0,e.Z)(this,"jitteredViewProjectionMatrix",void 0),(0,e.Z)(this,"jitteredProjectionMatrix",void 0),(0,e.Z)(this,"viewMatrixInverse",void 0),(0,e.Z)(this,"cameraPosition",void 0)}return(0,r.Z)(oe,[{key:"init",value:function(){}},{key:"update",value:function(Tt){this.viewport=Tt,this.viewMatrixInverse=ot.create(),ot.invert(this.viewMatrixInverse,Tt.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var Tt=this.viewport.getCenter(),Lt=(0,Et.Z)(Tt,2),se=Lt[0],Te=Lt[1];return[se,Te]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(Tt,Lt){return this.viewport.projectFlat(Tt,Lt)}},{key:"setViewProjectionMatrix",value:function(Tt){this.overridedViewProjectionMatrix=Tt}},{key:"jitterProjectionMatrix",value:function(Tt,Lt){var se=ot.fromTranslation(ot.create(),[Tt,Lt,0]);this.jitteredProjectionMatrix=ot.multiply(ot.create(),se,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ot.multiply(ot.create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),oe}())||Ot),zt,$t;function ce(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=ye(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te=!0,Rr=!1,un;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Te=bn.done,bn},e:function(bn){Rr=!0,un=bn},f:function(){try{!Te&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw un}}}}function ye(oe,ue){if(!!oe){if(typeof oe=="string")return Je(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return Je(oe,ue)}}function Je(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var nr=(zt=(0,s.b2)(),zt($t=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"container",void 0),(0,e.Z)(this,"controlCorners",void 0),(0,e.Z)(this,"controlContainer",void 0),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"controls",[]),(0,e.Z)(this,"unAddControls",[])}return(0,r.Z)(oe,[{key:"init",value:function(Tt,Lt){this.container=Tt.container,this.scene=Lt,this.mapsService=Lt.get(o.v.IMapService),this.initControlPos()}},{key:"addControl",value:function(Tt,Lt){var se=Lt.get(o.v.IMapService);se.map?(Tt.addTo(this.scene),this.controls.push(Tt)):this.unAddControls.push(Tt)}},{key:"getControlByName",value:function(Tt){return this.controls.find(function(Lt){return Lt.controlOption.name===Tt})}},{key:"removeControl",value:function(Tt){var Lt=this.controls.indexOf(Tt);return Lt>-1&&this.controls.splice(Lt,1),Tt.remove(),this}},{key:"addControls",value:function(){var Tt=this;this.unAddControls.forEach(function(Lt){Lt.addTo(Tt.scene),Tt.controls.push(Lt)}),this.unAddControls=[]}},{key:"destroy",value:function(){var Tt=ce(this.controls),Lt;try{for(Tt.s();!(Lt=Tt.n()).done;){var se=Lt.value;se.remove()}}catch(Te){Tt.e(Te)}finally{Tt.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var Tt=this.controlCorners={},Lt="l7-",se=this.controlContainer=n.SO.create("div",Lt+"control-container",this.container);function Te(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],un=Rr.map(function(Wr){return Lt+Wr}).join(" ");Tt[Rr.join("")]=n.SO.create("div",un,se)}Te(["top","left"]),Te(["top","right"]),Te(["bottom","left"]),Te(["bottom","right"]),Te(["top","center"]),Te(["right","center"]),Te(["left","center"]),Te(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var Tt in this.controlCorners)this.controlCorners[Tt]&&n.SO.remove(this.controlCorners[Tt]);this.controlContainer&&n.SO.remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),oe}())||$t),Xe,mr,Gr=(Xe=(0,s.b2)(),Xe(mr=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"container",void 0),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"markers",[]),(0,e.Z)(this,"markerLayers",[]),(0,e.Z)(this,"unAddMarkers",[]),(0,e.Z)(this,"unAddMarkerLayers",[])}return(0,r.Z)(oe,[{key:"addMarkerLayer",value:function(Tt){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(Tt),Tt.addTo(this.scene)):this.unAddMarkerLayers.push(Tt)}},{key:"removeMarkerLayer",value:function(Tt){Tt.destroy(),this.markerLayers.indexOf(Tt);var Lt=this.markerLayers.indexOf(Tt);Lt>-1&&this.markerLayers.splice(Lt,1)}},{key:"addMarker",value:function(Tt){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(Tt),Tt.addTo(this.scene)):this.unAddMarkers.push(Tt)}},{key:"addMarkers",value:function(){var Tt=this;this.unAddMarkers.forEach(function(Lt){Lt.addTo(Tt.scene),Tt.markers.push(Lt)}),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var Tt=this;this.unAddMarkerLayers.forEach(function(Lt){Tt.markerLayers.push(Lt),Lt.addTo(Tt.scene)}),this.unAddMarkers=[]}},{key:"removeMarker",value:function(Tt){Tt.remove(),this.markers.indexOf(Tt);var Lt=this.markers.indexOf(Tt);Lt>-1&&this.markers.splice(Lt,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(Tt){this.scene=Tt,this.mapsService=Tt.get(o.v.IMapService)}},{key:"destroy",value:function(){this.markers.forEach(function(Tt){Tt.remove()}),this.markers=[],this.markerLayers.forEach(function(Tt){Tt.destroy()}),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(Tt){Tt.destroy()}}]),oe}())||mr),xe,de,ze=(xe=(0,s.b2)(),xe(de=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"popup",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"unAddPopup",void 0)}return(0,r.Z)(oe,[{key:"removePopup",value:function(Tt){Tt.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(Tt){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(Tt.addTo(this.scene),this.popup=Tt):this.unAddPopup=Tt}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(Tt){this.scene=Tt,this.mapsService=Tt.get(o.v.IMapService)}}]),oe}())||de),Ue=x(82492),Kr=x.n(Ue),rn={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo\u6D4B\u8BD5\u5730\u56FEtoken\uFF0C\u5982\u679C\u751F\u4EA7\u73AF\u5883\u4E2D\u4F7F\u7528\u53BB\u5BF9\u5E94\u5730\u56FE\u8BF7\u6CE8\u518CToken",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"},ci=rn,Zi,Ki;function ji(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Ae(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?ji(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):ji(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var De={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},ar={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},Pr=(Zi=(0,s.b2)(),Zi(Ki=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"sceneConfigCache",{}),(0,e.Z)(this,"layerConfigCache",{})}return(0,r.Z)(oe,[{key:"getSceneConfig",value:function(Tt){return this.sceneConfigCache[Tt]}},{key:"getSceneWarninfo",value:function(Tt){return ci[Tt]}},{key:"setSceneConfig",value:function(Tt,Lt){this.sceneConfigCache[Tt]=Ae(Ae({},De),Lt)}},{key:"getLayerConfig",value:function(Tt){return this.layerConfigCache[Tt]}},{key:"setLayerConfig",value:function(Tt,Lt,se){this.layerConfigCache[Lt]=Ae({},Kr()({},this.sceneConfigCache[Tt],ar,se))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),oe}())||Ki),or=x(55770),wr=x(3473),cn=x(98333),Fn=Math.PI/180,nn=512,Hr=4003e4;function Gn(oe){var ue=oe.latitude,Tt=ue===void 0?0:ue,Lt=oe.zoom,se=Lt===void 0?0:Lt,Te=oe.scale,Rr=oe.highPrecision,un=Rr===void 0?!1:Rr,Wr=oe.flipY,bn=Wr===void 0?!1:Wr;Te=Te!==void 0?Te:Math.pow(2,se);var ai={},ra=nn*Te,ua=Math.cos(Tt*Fn),ba=ra/360,Da=ba/ua,Ra=ra/Hr/ua;if(ai.pixelsPerMeter=[Ra,-Ra,Ra],ai.metersPerPixel=[1/Ra,-1/Ra,1/Ra],ai.pixelsPerDegree=[ba,-Da,Ra],ai.degreesPerPixel=[1/ba,-1/Da,1/Ra],un){var no=Fn*Math.tan(Tt*Fn)/ua,bo=ba*no/2,Po=ra/Hr*no,Ts=Po/Da*Ra;ai.pixelsPerDegree2=[0,-bo,Po],ai.pixelsPerMeter2=[Ts,0,Ts],bn&&(ai.pixelsPerDegree2[1]=-ai.pixelsPerDegree2[1],ai.pixelsPerMeter2[1]=-ai.pixelsPerMeter2[1])}return bn&&(ai.pixelsPerMeter[1]=-ai.pixelsPerMeter[1],ai.metersPerPixel[1]=-ai.metersPerPixel[1],ai.pixelsPerDegree[1]=-ai.pixelsPerDegree[1],ai.degreesPerPixel[1]=-ai.degreesPerPixel[1]),ai}var $n=x(47282),Vr,Ir,ti,ge,Le,Se=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Ve=(Vr=(0,s.b2)(),Ir=(0,s.f3)(o.v.ICameraService),Vr(ti=(ge=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"needRefresh",!0),(0,or.Z)(this,"cameraService",Le,this),(0,e.Z)(this,"coordinateSystem",void 0),(0,e.Z)(this,"viewportCenter",void 0),(0,e.Z)(this,"viewportCenterProjection",void 0),(0,e.Z)(this,"pixelsPerDegree",void 0),(0,e.Z)(this,"pixelsPerDegree2",void 0),(0,e.Z)(this,"pixelsPerMeter",void 0)}return(0,r.Z)(oe,[{key:"refresh",value:function(){var Tt=this.cameraService.getZoom(),Lt=this.cameraService.getZoomScale(),se=this.cameraService.getCenter(),Te=Gn({latitude:se[1],zoom:Tt}),Rr=Te.pixelsPerMeter,un=Te.pixelsPerDegree;this.viewportCenter=se,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=Rr,this.pixelsPerDegree=un,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===$n.l.LNGLAT||this.coordinateSystem===$n.l.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===$n.l.LNGLAT_OFFSET?this.calculateLnglatOffset(se,Tt):this.coordinateSystem===$n.l.P20_OFFSET&&this.calculateLnglatOffset(se,Tt,Lt,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(Tt){this.coordinateSystem=Tt}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(Tt,Lt,se,Te){var Rr=Gn({latitude:Tt[1],zoom:Lt,scale:se,flipY:Te,highPrecision:!0}),un=Rr.pixelsPerMeter,Wr=Rr.pixelsPerDegree,bn=Rr.pixelsPerDegree2,ai=this.cameraService.getViewMatrix(),ra=this.cameraService.getProjectionMatrix(),ua=ot.multiply([],ra,ai),ba=this.cameraService.projectFlat([Math.fround(Tt[0]),Math.fround(Tt[1])],Math.pow(2,Lt));this.viewportCenterProjection=cn.fF([],[ba[0],ba[1],0,1],ua),ai=this.cameraService.getViewMatrixUncentered()||ai,ua=ot.multiply([],ra,ai),ua=ot.multiply([],ua,Se),this.cameraService.setViewProjectionMatrix(ua),this.pixelsPerMeter=un,this.pixelsPerDegree=Wr,this.pixelsPerDegree2=bn}}]),oe}(),Le=(0,wr.Z)(ge.prototype,"cameraService",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge))||ti),le=x(50840),vr=x.n(le),He=x(89648),rr,Dr,Mr,an,gn;function qr(oe){var ue=Dn();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Dn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var ae={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},er=(rr=(0,s.b2)(),Dr=(0,s.f3)(o.v.IMapService),rr(Mr=(an=function(oe){(0,ft.Z)(Tt,oe);var ue=qr(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Te=new Array(se),Rr=0;Rr<se;Rr++)Te[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Te)),(0,or.Z)((0,H.Z)(Lt),"mapService",gn,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"hammertime",void 0),(0,e.Z)((0,H.Z)(Lt),"lastClickTime",0),(0,e.Z)((0,H.Z)(Lt),"lastClickXY",[-1,-1]),(0,e.Z)((0,H.Z)(Lt),"clickTimer",void 0),(0,e.Z)((0,H.Z)(Lt),"$containter",void 0),(0,e.Z)((0,H.Z)(Lt),"onDrag",function(un){var Wr=Lt.interactionEvent(un);Wr.type=ae[Wr.type],Lt.emit(He.s.Drag,Wr)}),(0,e.Z)((0,H.Z)(Lt),"onHammer",function(un){un.srcEvent.stopPropagation();var Wr=Lt.interactionEvent(un);Lt.emit(He.s.Hover,Wr)}),(0,e.Z)((0,H.Z)(Lt),"onTouch",function(un){var Wr=un.touches[0];Lt.onHover({x:Wr.pageX,y:Wr.pageY,type:"touch"})}),(0,e.Z)((0,H.Z)(Lt),"onHover",function(un){var Wr=un.clientX,bn=un.clientY,ai=Wr,ra=bn,ua=un.type,ba=Lt.mapService.getMapContainer();if(ba){var Da=ba.getBoundingClientRect(),Ra=Da.top,no=Da.left;ai=ai-no-ba.clientLeft,ra=ra-Ra-ba.clientTop}var bo=Lt.mapService.containerToLngLat([ai,ra]);if(ua==="click"){if("ontouchstart"in document.documentElement)return;Lt.isDoubleTap(ai,ra,bo);return}if(ua==="touch"){Lt.isDoubleTap(ai,ra,bo);return}ua!=="click"&&ua!=="dblclick"&&Lt.emit(He.s.Hover,{x:ai,y:ra,lngLat:bo,type:ua,target:un})}),Lt}return(0,r.Z)(Tt,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(He.s.Hover)}},{key:"triggerHover",value:function(se){var Te=se.x,Rr=se.y;this.emit(He.s.Hover,{x:Te,y:Rr})}},{key:"triggerSelect",value:function(se){this.emit(He.s.Select,{featureId:se})}},{key:"triggerActive",value:function(se){this.emit(He.s.Active,{featureId:se})}},{key:"addEventListenerOnMap",value:function(){var se=this.mapService.getMapContainer();if(se){var Te=new(vr()).Manager(se);Te.add(new(vr()).Tap({event:"dblclick",taps:2})),Te.add(new(vr()).Tap({event:"click"})),Te.add(new(vr()).Pan({threshold:0,pointers:0})),Te.add(new(vr()).Press({})),Te.on("dblclick click",this.onHammer),Te.on("panstart panmove panend pancancel",this.onDrag),se.addEventListener("mousemove",this.onHover),se.addEventListener("mousedown",this.onHover,!0),se.addEventListener("mouseup",this.onHover),se.addEventListener("contextmenu",this.onHover),this.hammertime=Te}}},{key:"removeEventListenerOnMap",value:function(){var se=this.mapService.getMapContainer();se&&(se.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),se.removeEventListener("mousedown",this.onHover),se.removeEventListener("mouseup",this.onHover),se.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(se){var Te=se.type,Rr=se.pointerType,un,Wr;Rr==="touch"?(Wr=Math.floor(se.pointers[0].clientY),un=Math.floor(se.pointers[0].clientX)):(Wr=Math.floor(se.srcEvent.y),un=Math.floor(se.srcEvent.x));var bn=this.mapService.getMapContainer();if(bn){var ai=bn.getBoundingClientRect(),ra=ai.top,ua=ai.left;un-=ua,Wr-=ra}var ba=this.mapService.containerToLngLat([un,Wr]);return{x:un,y:Wr,lngLat:ba,type:Te,target:se.srcEvent}}},{key:"isDoubleTap",value:function(se,Te,Rr){var un=this,Wr=new Date().getTime(),bn="click";Wr-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-se)<10&&Math.abs(this.lastClickXY[1]-Te)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),bn="dblclick",this.emit(He.s.Hover,{x:se,y:Te,lngLat:Rr,type:bn})):(this.lastClickTime=Wr,this.lastClickXY=[se,Te],this.clickTimer=setTimeout(function(){bn="click",un.emit(He.s.Hover,{x:se,y:Te,lngLat:Rr,type:bn})},400))}}]),Tt}(c()),gn=(0,wr.Z)(an.prototype,"mapService",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an))||Mr),sr=x(92137),kr=x(87757),Rn=x.n(kr),pi=window.document.documentElement.style,Yi=0;function da(oe){var ue=oe;if(typeof oe=="string"&&(ue=document.getElementById(oe)),ue){var Tt=document.createElement("div");return Tt.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,Tt.id="l7-scene-".concat(Yi++),Tt.classList.add("l7-scene"),ue.appendChild(Tt),Tt}return null}function _a(oe){var ue,Tt,Lt=!0;return oe==null||(ue=oe.target)===null||ue===void 0||(Tt=ue.path)===null||Tt===void 0||Tt.map(function(se){if(se!=null&&se.classList){var Te;se==null||(Te=se.classList)===null||Te===void 0||Te.forEach(function(Rr){(Rr==="l7-marker"||Rr==="l7-popup")&&(Lt=!1)})}}),Lt}var fa=x(7648),wo,ho,mo,yo,zo,io,Za,qa,Zt,je,lr;function Br(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Vt(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Br(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Br(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var ee=(wo=(0,s.b2)(),ho=(0,s.f3)(o.v.IRendererService),mo=(0,s.f3)(o.v.IGlobalConfigService),yo=(0,s.f3)(o.v.IInteractionService),zo=(0,s.f3)(o.v.ILayerService),wo(io=(Za=function(){function oe(){var ue=this;(0,f.Z)(this,oe),(0,or.Z)(this,"rendererService",qa,this),(0,or.Z)(this,"configService",Zt,this),(0,or.Z)(this,"interactionService",je,this),(0,or.Z)(this,"layerService",lr,this),(0,e.Z)(this,"pickingFBO",void 0),(0,e.Z)(this,"width",0),(0,e.Z)(this,"height",0),(0,e.Z)(this,"alreadyInPicking",!1),(0,e.Z)(this,"pickBufferScale",1),(0,e.Z)(this,"pickFromPickingFBO",function(Tt,Lt){var se,Te=Lt.x,Rr=Lt.y,un=Lt.lngLat,Wr=Lt.type,bn=Lt.target,ai=!1,ra=ue.rendererService,ua=ra.getViewportSize,ba=ra.readPixels,Da=ra.getContainer,Ra=Da().getBoundingClientRect(),no=Ra.width,bo=Ra.height;no*=n.SO.DPR,bo*=n.SO.DPR;var Po=Tt.getLayerConfig(),Ts=Po.enableHighlight,$o=Po.enableSelect,eu=Te*n.SO.DPR,hs=Rr*n.SO.DPR;if(eu>no-1*n.SO.DPR||eu<0||hs>bo-1*n.SO.DPR||hs<0)return!1;var Mo;if(Mo=ba({x:Math.floor(eu/ue.pickBufferScale),y:Math.floor((bo-(Rr+1)*n.SO.DPR)/ue.pickBufferScale),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:ue.pickingFBO}),Mo[0]!==0||Mo[1]!==0||Mo[2]!==0){var Co=(0,n.W0)(Mo),ws=Tt.getSource().getFeatureById(Co);Co!==Tt.getCurrentPickId()&&Wr==="mousemove"&&(Wr="mouseenter");var Xs={x:Te,y:Rr,type:Wr,lngLat:un,featureId:Co,feature:ws,target:bn};ws&&(ai=!0,Tt.setCurrentPickId(Co),ue.triggerHoverOnLayer(Tt,Xs))}else{var Cs={x:Te,y:Rr,lngLat:un,type:Tt.getCurrentPickId()!==null&&Wr==="mousemove"?"mouseout":"un"+Wr,featureId:null,target:bn,feature:null};ue.triggerHoverOnLayer(Tt,Vt(Vt({},Cs),{},{type:"unpick"})),ue.triggerHoverOnLayer(Tt,Cs),Tt.setCurrentPickId(null)}if(Ts&&ue.highlightPickedFeature(Tt,Mo),$o&&Wr==="click"&&((se=Mo)===null||se===void 0?void 0:se.toString())!==[0,0,0,0].toString()){var xu=(0,n.W0)(Mo);Tt.getCurrentSelectedId()===null||xu!==Tt.getCurrentSelectedId()?(ue.selectFeature(Tt,Mo),Tt.setCurrentSelectedId(xu)):(ue.selectFeature(Tt,new Uint8Array([0,0,0,0])),Tt.setCurrentSelectedId(null))}return ai})}return(0,r.Z)(oe,[{key:"init",value:function(Tt){var Lt=this.rendererService,se=Lt.createTexture2D,Te=Lt.createFramebuffer,Rr=Lt.getViewportSize,un=Lt.getContainer,Wr=un().getBoundingClientRect(),bn=Wr.width,ai=Wr.height;bn*=n.SO.DPR,ai*=n.SO.DPR,this.pickBufferScale=this.configService.getSceneConfig(Tt).pickBufferScale||1,this.pickingFBO=Te({color:se({width:Math.round(bn/this.pickBufferScale),height:Math.round(ai/this.pickBufferScale),wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.interactionService.on(He.s.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var ue=(0,sr.Z)(Rn().mark(function Lt(se,Te,Rr){var un=this,Wr,bn,ai,ra;return Rn().wrap(function(ba){for(;;)switch(ba.prev=ba.next){case 0:Wr=this.rendererService,bn=Wr.useFramebuffer,ai=Wr.clear,ra=Wr.getContainer,this.resizePickingFBO(),bn(this.pickingFBO,function(){ai({framebuffer:un.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),se.hooks.beforePickingEncode.call(),se.renderModels(),se.hooks.afterPickingEncode.call();var Da=un.pickBox(se,Te);Rr(Da)});case 3:case"end":return ba.stop()}},Lt,this)}));function Tt(Lt,se,Te){return ue.apply(this,arguments)}return Tt}()},{key:"pickBox",value:function(Tt,Lt){var se=this,Te=Lt.map(function(Cs){var xu=Cs<0?0:Cs;return Math.floor(xu*n.SO.DPR/se.pickBufferScale)}),Rr=(0,Et.Z)(Te,4),un=Rr[0],Wr=Rr[1],bn=Rr[2],ai=Rr[3],ra=this.rendererService,ua=ra.getViewportSize,ba=ra.readPixels,Da=ra.getContainer,Ra=Da().getBoundingClientRect(),no=Ra.width,bo=Ra.height;if(no*=n.SO.DPR,bo*=n.SO.DPR,un>(no-1)*n.SO.DPR/this.pickBufferScale||bn<0||Wr>(bo-1)*n.SO.DPR/this.pickBufferScale||ai<0)return[];var Po,Ts=Math.min(no/this.pickBufferScale,bn)-un,$o=Math.min(bo/this.pickBufferScale,ai)-Wr;Po=ba({x:un,y:Math.floor(bo/this.pickBufferScale-(ai+1)),width:Ts,height:$o,data:new Uint8Array(Ts*$o*4),framebuffer:this.pickingFBO});for(var eu=[],hs={},Mo=0;Mo<Po.length/4;Mo=Mo+1){var Co=Po.slice(Mo*4,Mo*4+4),ws=(0,n.W0)(Co);if(ws!==-1&&!hs[ws]){var Xs=Tt.getSource().getFeatureById(ws);eu.push(Xs),hs[ws]=!0}}return eu}},{key:"pickingAllLayer",value:function(){var ue=(0,sr.Z)(Rn().mark(function Lt(se){return Rn().wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:if(!(this.alreadyInPicking||this.layerService.alreadyInRendering)){Rr.next=2;break}return Rr.abrupt("return");case 2:return this.alreadyInPicking=!0,Rr.next=5,this.pickingLayers(se);case 5:this.layerService.renderLayers("picking"),this.alreadyInPicking=!1;case 7:case"end":return Rr.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"resizePickingFBO",value:function(){var Tt=this.rendererService.getContainer,Lt=Tt().getBoundingClientRect(),se=Lt.width,Te=Lt.height;se*=n.SO.DPR,Te*=n.SO.DPR,(this.width!==se||this.height!==Te)&&(this.pickingFBO.resize({width:Math.round(se/this.pickBufferScale),height:Math.round(Te/this.pickBufferScale)}),this.width=se,this.height=Te)}},{key:"pickingLayers",value:function(){var ue=(0,sr.Z)(Rn().mark(function Lt(se){var Te=this,Rr,un,Wr,bn,ai;return Rn().wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:Rr=this.rendererService,un=Rr.getViewportSize,Wr=Rr.useFramebuffer,bn=Rr.clear,ai=Rr.getContainer,this.resizePickingFBO(),Wr(this.pickingFBO,function(){var ba=Te.layerService.getLayers();ba.filter(function(Da){return Da.needPick(se.type)}).reverse().some(function(Da){bn({framebuffer:Te.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),Da.hooks.beforePickingEncode.call(),Da.renderModels(),Da.hooks.afterPickingEncode.call();var Ra=Te.pickFromPickingFBO(Da,se);return Ra&&!Da.getLayerConfig().enablePropagation})});case 3:case"end":return ua.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"triggerHoverOnLayer",value:function(Tt,Lt){_a(Lt)&&Tt.emit(Lt.type,Lt)}},{key:"highlightPickedFeature",value:function(Tt,Lt){var se=(0,Et.Z)(Lt,3),Te=se[0],Rr=se[1],un=se[2];Tt.hooks.beforeHighlight.call([Te,Rr,un])}},{key:"selectFeature",value:function(Tt,Lt){var se=(0,Et.Z)(Lt,3),Te=se[0],Rr=se[1],un=se[2];Tt.hooks.beforeSelect.call([Te,Rr,un])}}]),oe}(),qa=(0,wr.Z)(Za.prototype,"rendererService",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=(0,wr.Z)(Za.prototype,"configService",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,wr.Z)(Za.prototype,"interactionService",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=(0,wr.Z)(Za.prototype,"layerService",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za))||io),Ce=function(){function oe(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(0,f.Z)(this,oe),(0,e.Z)(this,"autoStart",void 0),(0,e.Z)(this,"startTime",0),(0,e.Z)(this,"oldTime",0),(0,e.Z)(this,"running",!1),(0,e.Z)(this,"elapsedTime",0),this.autoStart=ue}return(0,r.Z)(oe,[{key:"start",value:function(){this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var Tt=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var Lt=(typeof performance=="undefined"?Date:performance).now();Tt=(Lt-this.oldTime)/1e3,this.oldTime=Lt,this.elapsedTime+=Tt}return Tt}}]),oe}(),Me,Sr,pn,En,fi,Ci,aa,ta,Ea,ca=(Me=(0,s.b2)(),Sr=(0,s.f3)(o.v.IRendererService),pn=(0,s.f3)(o.v.IMapService),En=(0,s.f3)(o.v.IGlobalConfigService),Me(fi=(Ci=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"clock",new Ce),(0,e.Z)(this,"alreadyInRendering",!1),(0,e.Z)(this,"layers",[]),(0,e.Z)(this,"layerRenderID",void 0),(0,e.Z)(this,"sceneInited",!1),(0,e.Z)(this,"animateInstanceCount",0),(0,e.Z)(this,"lastRenderType",void 0),(0,e.Z)(this,"lastPickRenderTime",void 0),(0,or.Z)(this,"renderService",aa,this),(0,or.Z)(this,"mapService",ta,this),(0,or.Z)(this,"configService",Ea,this)}return(0,r.Z)(oe,[{key:"add",value:function(Tt){this.sceneInited&&Tt.init(),this.layers.push(Tt)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach(function(Tt){Tt.inited||Tt.init()})}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(Tt){return this.layers.find(function(Lt){return Lt.id===Tt})}},{key:"getLayerByName",value:function(Tt){return this.layers.find(function(Lt){return Lt.name===Tt})}},{key:"remove",value:function(Tt,Lt){if(Lt){var se=Lt.layerChildren.indexOf(Tt);se>-1&&Lt.layerChildren.splice(se,1)}else{var Te=this.layers.indexOf(Tt);Te>-1&&this.layers.splice(Te,1)}Tt.emit("remove",null),Tt.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(Tt){if(!this.renderTest(Tt)||this.alreadyInRendering)return;this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter(function(se){return se.inited}).filter(function(se){return se.isVisible()}).forEach(function(se){Lt(se.layerChildren),Lt([se])}),this.alreadyInRendering=!1;function Lt(se){se.filter(function(Te){return Te.inited}).filter(function(Te){return Te.isVisible()}).forEach(function(Te){Te.hooks.beforeRenderData.call(),Te.hooks.beforeRender.call(),Te.render(),Te.hooks.afterRender.call()})}}},{key:"updateRenderOrder",value:function(){this.layers.sort(function(Tt,Lt){return Tt.zIndex-Lt.zIndex})}},{key:"destroy",value:function(){this.layers.forEach(function(Tt){Tt.layerChildren&&(Tt.layerChildren.forEach(function(Lt){return Lt.destroy()}),Tt.layerChildren=[]),Tt.destroy()}),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){this.animateInstanceCount++==0&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){--this.animateInstanceCount==0&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"renderTest",value:function(Tt){var Lt=new Date().getTime(),se=Lt-this.lastPickRenderTime;if(Tt==="picking"&&(this.lastPickRenderTime=new Date().getTime()),Tt)switch(Tt){case"picking":return this.lastRenderType==="mapRender"||this.lastRenderType==="animate"?(this.lastRenderType="picking",se>48):(this.lastRenderType="picking",!0);case"animate":return this.lastRenderType==="mapRender"?(this.lastRenderType="animate",!1):(this.lastRenderType="animate",!0);case"mapRender":return this.lastRenderType="mapRender",!0;default:return!0}return!0}},{key:"clear",value:function(){var Tt=(0,n.CI)(this.mapService.bgColor);this.renderService.clear({color:Tt,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers("animate"),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),oe}(),aa=(0,wr.Z)(Ci.prototype,"renderService",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=(0,wr.Z)(Ci.prototype,"mapService",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ea=(0,wr.Z)(Ci.prototype,"configService",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci))||fi),to=x(81253),za=x(85061),Ia=x(14293),Va=x.n(Ia),ro=function(){function oe(ue){var Tt=this;(0,f.Z)(this,oe),(0,e.Z)(this,"name",void 0),(0,e.Z)(this,"type",void 0),(0,e.Z)(this,"scale",void 0),(0,e.Z)(this,"descriptor",void 0),(0,e.Z)(this,"featureBufferLayout",[]),(0,e.Z)(this,"needRescale",!1),(0,e.Z)(this,"needRemapping",!1),(0,e.Z)(this,"needRegenerateVertices",!1),(0,e.Z)(this,"featureRange",{startIndex:0,endIndex:Infinity}),(0,e.Z)(this,"vertexAttribute",void 0),(0,e.Z)(this,"defaultCallback",function(Lt){if(Lt.length===0){var se;return((se=Tt.scale)===null||se===void 0?void 0:se.defaultValues)||[]}return Lt.map(function(Te,Rr){var un,Wr=(un=Tt.scale)===null||un===void 0?void 0:un.scalers[Rr].func,bn=Wr(Te);return bn})}),this.setProps(ue)}return(0,r.Z)(oe,[{key:"setProps",value:function(Tt){Object.assign(this,Tt)}},{key:"mapping",value:function(Tt){var Lt;if((Lt=this.scale)!==null&&Lt!==void 0&&Lt.callback){var se,Te=(se=this.scale)===null||se===void 0?void 0:se.callback.apply(se,(0,za.Z)(Tt));if(!Va()(Te))return[Te]}return this.defaultCallback(Tt)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),oe}(),Ee,be,pe,vt,gt,dt;function Dt(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function te(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Dt(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Dt(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Ge(oe){return new Promise(function(ue){return setTimeout(ue,oe)})}var cr=(Ee={},(0,e.Z)(Ee,fa.gl.FLOAT,4),(0,e.Z)(Ee,fa.gl.UNSIGNED_BYTE,1),(0,e.Z)(Ee,fa.gl.UNSIGNED_SHORT,2),Ee),zr=(be=(0,s.b2)(),pe=(0,s.f3)(o.v.IRendererService),be(vt=(gt=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"attributesAndIndices",void 0),(0,or.Z)(this,"rendererService",dt,this),(0,e.Z)(this,"attributes",[]),(0,e.Z)(this,"triangulation",void 0),(0,e.Z)(this,"featureLayout",{sizePerElement:0,elements:[]})}return(0,r.Z)(oe,[{key:"registerStyleAttribute",value:function(Tt){var Lt=this.getLayerStyleAttribute(Tt.name||"");return Lt?Lt.setProps(Tt):(Lt=new ro(Tt),this.attributes.push(Lt)),Lt}},{key:"updateStyleAttribute",value:function(Tt,Lt,se){var Te=this.getLayerStyleAttribute(Tt);Te||(Te=this.registerStyleAttribute(te(te({},Lt),{},{name:Tt})));var Rr=Lt.scale;Rr&&Te&&(Te.scale=Rr,Te.needRescale=!0,Te.needRemapping=!0,Te.needRegenerateVertices=!0,se&&se.featureRange&&(Te.featureRange=se.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(Tt){return this.attributes.find(function(Lt){return Lt.name===Tt})}},{key:"getLayerAttributeScale",value:function(Tt){var Lt,se=this.getLayerStyleAttribute(Tt),Te=se==null||(Lt=se.scale)===null||Lt===void 0?void 0:Lt.scalers;return Te&&Te[0]?Te[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(Tt,Lt){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Te=arguments.length>3?arguments[3]:void 0,Rr=this.attributes.find(function($o){return $o.name===Tt});if(Rr&&Rr.descriptor){var un=Rr.descriptor,Wr=un.update,bn=un.buffer,ai=un.size,ra=ai===void 0?0:ai,ua=cr[bn.type||fa.gl.FLOAT];if(Wr){var ba=this.featureLayout,Da=ba.elements,Ra=ba.sizePerElement,no=Da.slice(se,Te);if(!no.length)return;var bo=no[0].offset,Po=bo*ra*ua,Ts=no.map(function($o,eu){for(var hs=$o.featureIdx,Mo=$o.vertices,Co=$o.normals,ws=Mo.length/Ra,Xs=[],Cs=0;Cs<ws;Cs++){var xu=Co?Co.slice(Cs*3,Cs*3+3):[];Xs.push.apply(Xs,(0,za.Z)(Wr(Lt[hs],hs,Mo.slice(Cs*Ra,Cs*Ra+Ra),eu,xu)))}return Xs}).reduce(function($o,eu){return $o.push.apply($o,(0,za.Z)(eu)),$o},[]);Rr.vertexAttribute.updateBuffer({data:Ts,offset:Po})}}}},{key:"createAttributesAndIndices",value:function(Tt,Lt,se){var Te=this;this.featureLayout={sizePerElement:0,elements:[]},Lt&&(this.triangulation=Lt);var Rr=this.attributes.map(function(Po){return Po.resetDescriptor(),Po.descriptor}),un=0,Wr=[],bn=[],ai=[],ra=3;Tt.forEach(function(Po,Ts){var $o=Te.triangulation(Po,se),eu=$o.indices,hs=$o.vertices,Mo=$o.normals,Co=$o.size;eu.forEach(function(xu){bn.push(xu+un)}),ra=Co;var ws=hs.length/Co;Te.featureLayout.sizePerElement=ra,Te.featureLayout.elements.push({featureIdx:Ts,vertices:hs,normals:Mo,offset:un}),un+=ws;for(var Xs=function(Eu){var Gu=(Mo==null?void 0:Mo.slice(Eu*3,Eu*3+3))||[],qu=hs.slice(Eu*Co,Eu*Co+Co);Rr.forEach(function(Ru,Bu){if(Ru&&Ru.update){var Yu;(Yu=Ru.buffer.data).push.apply(Yu,(0,za.Z)(Ru.update(Po,Ts,qu,Eu,Gu)))}})},Cs=0;Cs<ws;Cs++)Xs(Cs)});var ua=this.rendererService,ba=ua.createAttribute,Da=ua.createBuffer,Ra=ua.createElements,no={};Rr.forEach(function(Po,Ts){if(Po){var $o=Po.buffer,eu=Po.update,hs=Po.name,Mo=(0,to.Z)(Po,["buffer","update","name"]),Co=ba(te({buffer:Da($o)},Mo));no[Po.name||""]=Co,Te.attributes[Ts].vertexAttribute=Co}});var bo=Ra({data:bn,type:fa.gl.UNSIGNED_INT,count:bn.length});return this.attributesAndIndices={attributes:no,elements:bo},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var Tt;this.attributes.forEach(function(Lt){Lt.vertexAttribute&&Lt.vertexAttribute.destroy()}),(Tt=this.attributesAndIndices)===null||Tt===void 0||Tt.elements.destroy(),this.attributes=[]}}]),oe}(),dt=(0,wr.Z)(gt.prototype,"rendererService",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt))||vt),Rt=x(46343),Ei=x(67709),ri=x.n(Ei),k,it,Bt,yt,ne,_e,ur,jr,_r,Pn,Ln,Li,sa,$i,Sa,pa,Fa,Ua,vo,No,Yo,Ds,Go,Io,xo,Lo,Fo,so,Qo,Jo,Eo,ds,ns;function qo(oe){var ue=is();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function is(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Xo=(k=(0,s.b2)(),it=(0,s.f3)(o.v.SceneID),Bt=(0,s.f3)(o.v.IIconService),yt=(0,s.f3)(o.v.IFontService),ne=(0,s.f3)(o.v.IControlService),_e=(0,s.f3)(o.v.IGlobalConfigService),ur=(0,s.f3)(o.v.IMapService),jr=(0,s.f3)(o.v.ICoordinateSystemService),_r=(0,s.f3)(o.v.IRendererService),Pn=(0,s.f3)(o.v.ILayerService),Ln=(0,s.f3)(o.v.ICameraService),Li=(0,s.f3)(o.v.IInteractionService),sa=(0,s.f3)(o.v.IPickingService),$i=(0,s.f3)(o.v.IShaderModuleService),Sa=(0,s.f3)(o.v.IMarkerService),pa=(0,s.f3)(o.v.IPopupService),k(Fa=(Ua=function(oe){(0,ft.Z)(Tt,oe);var ue=qo(Tt);function Tt(){var Lt;return(0,f.Z)(this,Tt),Lt=ue.call(this),(0,e.Z)((0,H.Z)(Lt),"destroyed",!1),(0,e.Z)((0,H.Z)(Lt),"loaded",!1),(0,e.Z)((0,H.Z)(Lt),"loadFont",!1),(0,e.Z)((0,H.Z)(Lt),"fontFamily",""),(0,or.Z)((0,H.Z)(Lt),"id",vo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"iconService",No,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"fontService",Yo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"controlService",Ds,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"configService",Go,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"map",Io,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"coordinateSystemService",xo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"rendererService",Lo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"layerService",Fo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"cameraService",so,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"interactionService",Qo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"pickingService",Jo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"shaderModuleService",Eo,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"markerService",ds,(0,H.Z)(Lt)),(0,or.Z)((0,H.Z)(Lt),"popupService",ns,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"inited",!1),(0,e.Z)((0,H.Z)(Lt),"initPromise",void 0),(0,e.Z)((0,H.Z)(Lt),"rendering",!1),(0,e.Z)((0,H.Z)(Lt),"$container",void 0),(0,e.Z)((0,H.Z)(Lt),"canvas",void 0),(0,e.Z)((0,H.Z)(Lt),"markerContainer",void 0),(0,e.Z)((0,H.Z)(Lt),"hooks",void 0),(0,e.Z)((0,H.Z)(Lt),"handleWindowResized",function(){Lt.emit("resize"),Lt.$container&&(Lt.initContainer(),n.SO.triggerResize(),Lt.coordinateSystemService.needRefresh=!0,Lt.render())}),(0,e.Z)((0,H.Z)(Lt),"handleMapCameraChanged",function(se){Lt.cameraService.update(se),Lt.render("mapRender")}),Lt.hooks={init:new Rt.zj},Lt}return(0,r.Z)(Tt,[{key:"init",value:function(se){var Te=this;this.configService.setSceneConfig(this.id,se),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,sr.Z)(Rn().mark(function Rr(){return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:return Wr.next=2,new Promise(function(bn){Te.map.onCameraChanged(function(ai){Te.cameraService.init(),Te.cameraService.update(ai),Te.map.version!=="GAODE2.x"&&bn()}),Te.map.version!=="GAODE2.x"?Te.map.init():bn()});case 2:if(!(Te.map.version==="GAODE2.x"&&Te.map.initViewPort)){Wr.next=6;break}return Wr.next=5,Te.map.init();case 5:Te.map.initViewPort();case 6:Te.map.onCameraChanged(Te.handleMapCameraChanged),Te.map.addMarkerContainer(),Te.markerService.addMarkers(),Te.markerService.addMarkerLayers(),Te.popupService.initPopup(),Te.interactionService.init(),Te.interactionService.on(He.s.Drag,Te.addSceneEvent.bind(Te));case 13:case"end":return Wr.stop()}},Rr)}))),this.hooks.init.tapPromise("initRenderer",(0,sr.Z)(Rn().mark(function Rr(){var un;return Rn().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(un=da(Te.configService.getSceneConfig(Te.id).id||""),Te.$container=un,!un){bn.next=11;break}return Te.canvas=n.SO.create("canvas","",un),Te.setCanvas(),bn.next=7,Te.rendererService.init(Te.canvas,Te.configService.getSceneConfig(Te.id));case 7:ri()(Te.$container,Te.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(Te.handleWindowResized),bn.next=12;break;case 11:console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");case 12:Te.pickingService.init(Te.id);case 13:case"end":return bn.stop()}},Rr)}))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(se){this.layerService.add(se),this.render()}},{key:"render",value:function(){var Lt=(0,sr.Z)(Rn().mark(function Te(Rr){return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:if(!(this.rendering||this.destroyed)){Wr.next=2;break}return Wr.abrupt("return");case 2:if(this.rendering=!0,this.inited){Wr.next=15;break}return Wr.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!(this.loadFont&&document.fonts)){Wr.next=10;break}return Wr.next=10,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 10:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 15:this.layerService.renderLayers(Rr),this.rendering=!1;case 17:case"end":return Wr.stop()}},Te,this)}));function se(Te){return Lt.apply(this,arguments)}return se}()},{key:"addFontFace",value:function(se,Te){this.fontFamily=se;var Rr=document.createElement("style");Rr.type="text/css",Rr.innerText=`
        @font-face{
            font-family: '`.concat(se,`';
            src: url('`).concat(Te,`') format('woff2'),
            url('`).concat(Te,`') format('woff'),
            url('`).concat(Te,`') format('truetype');
        }`),document.getElementsByTagName("head")[0].appendChild(Rr),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(se){var Te,Rr=(Te=this.$container)===null||Te===void 0?void 0:Te.getElementsByTagName("canvas")[0];this.render();var un=se==="jpg"?Rr==null?void 0:Rr.toDataURL("image/jpeg"):Rr==null?void 0:Rr.toDataURL("image/png");return un}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var se=this.$container.parentElement;se!==null&&(this.markerContainer=n.SO.create("div","l7-marker-container",se))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var se,Te;if(!this.inited){this.destroyed=!0;return}this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),(se=this.$container)===null||se===void 0||(Te=se.parentNode)===null||Te===void 0||Te.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,(0,Ei.unbind)(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)}},{key:"initContainer",value:function(){var se,Te,Rr=n.SO.DPR,un=((se=this.$container)===null||se===void 0?void 0:se.clientWidth)||400,Wr=((Te=this.$container)===null||Te===void 0?void 0:Te.clientHeight)||300,bn=this.canvas;bn&&(bn.width=un*Rr,bn.height=Wr*Rr,bn.style.width="".concat(un,"px"),bn.style.height="".concat(Wr,"px")),this.rendererService.viewport({x:0,y:0,width:Rr*un,height:Rr*Wr})}},{key:"setCanvas",value:function(){var se,Te,Rr=n.SO.DPR,un=((se=this.$container)===null||se===void 0?void 0:se.clientWidth)||400,Wr=((Te=this.$container)===null||Te===void 0?void 0:Te.clientHeight)||300,bn=this.canvas;bn.width=un*Rr,bn.height=Wr*Rr,bn.style.width="".concat(un,"px"),bn.style.height="".concat(Wr,"px")}},{key:"addSceneEvent",value:function(se){this.emit(se.type,se)}}]),Tt}(t.EventEmitter),vo=(0,wr.Z)(Ua.prototype,"id",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=(0,wr.Z)(Ua.prototype,"iconService",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=(0,wr.Z)(Ua.prototype,"fontService",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=(0,wr.Z)(Ua.prototype,"controlService",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=(0,wr.Z)(Ua.prototype,"configService",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=(0,wr.Z)(Ua.prototype,"map",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=(0,wr.Z)(Ua.prototype,"coordinateSystemService",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=(0,wr.Z)(Ua.prototype,"rendererService",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=(0,wr.Z)(Ua.prototype,"layerService",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=(0,wr.Z)(Ua.prototype,"cameraService",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=(0,wr.Z)(Ua.prototype,"interactionService",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=(0,wr.Z)(Ua.prototype,"pickingService",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=(0,wr.Z)(Ua.prototype,"shaderModuleService",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=(0,wr.Z)(Ua.prototype,"markerService",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=(0,wr.Z)(Ua.prototype,"popupService",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua))||Fa),as=x(44908),$a=x.n(as);function Su(oe){var ue=0;switch(oe){case"vec2":case"ivec2":ue=2;break;case"vec3":case"ivec3":ue=3;break;case"vec4":case"ivec4":case"mat2":ue=4;break;case"mat3":ue=9;break;case"mat4":ue=16;break;default:}return ue}var pu=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Qs(oe){var ue={};return oe=oe.replace(pu,function(Tt,Lt,se){var Te=se.split(":"),Rr=Te[0].trim(),un="";switch(Te.length>1&&(un=Te[1].trim()),Lt){case"bool":un=un==="true";break;case"float":case"int":un=Number(un);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":un?un=un.replace("[","").replace("]","").split(",").reduce(function(Wr,bn){return Wr.push(Number(bn.trim())),Wr},[]):un=new Array(Su(Lt)).fill(0);break;default:}return ue[Rr]=un,"uniform ".concat(Lt," ").concat(Rr,`;
`)}),{content:oe,uniforms:ue}}var au,Ko;function ie(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function he(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?ie(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):ie(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var Kt="#define PI 3.14159265359",Re=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,br=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,Tn=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}

// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {
//   vec3 lightDir = normalize(light.position - fragPos);
//   // diffuse shading
//   float diff = max(dot(normal, lightDir), 0.0);
//   // specular shading
//   vec3 reflectDir = reflect(-lightDir, normal);
//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);
//   // attenuation
//   float distance = length(light.position - fragPos);
//   float attenuation = 1.0 / (light.constant + light.linear * distance +
//           light.quadratic * (distance * distance));

//   vec3 ambient = light.ambient * u_Ambient;
//   vec3 diffuse = light.diffuse * diff * u_Diffuse;
//   vec3 specular = light.specular * spec * u_Specular;

//   float spotEffect = dot(normalize(light.direction), -lightDir);
//   float spotCosCutoff = cos(light.angle / 180.0 * PI);
//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);
//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);
//   if (spotEffect > spotCosCutoff) {
//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);
//   } else {
//     spotEffect = 0.0;
//   }

//   return ambient + attenuation * (spotEffect * diffuse + specular);
// }

vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {
  //   if (i >= u_NumOfSpotLights) {
  //     break;
  //   }
  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);
  // }
  return weight;
}
`,gi=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,Oi=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,Di=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,ea=`#define TILE_SIZE 512.0
#define PI 3.1415926536
#define WORLD_SCALE TILE_SIZE / (PI * 2.0)

#define COORDINATE_SYSTEM_LNGLAT 1.0
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0
#define COORDINATE_SYSTEM_P20_OFFSET 6.0
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0

uniform mat4 u_ViewMatrix;
uniform mat4 u_ProjectionMatrix;
uniform mat4 u_ViewProjectionMatrix;
uniform float u_Zoom : 1;
uniform float u_ZoomScale : 1;

uniform float u_CoordinateSystem;
uniform vec2 u_ViewportCenter;
uniform vec4 u_ViewportCenterProjection;
uniform vec3 u_PixelsPerDegree;
uniform vec3 u_PixelsPerDegree2;
uniform vec3 u_PixelsPerMeter;

uniform vec2 u_ViewportSize;
uniform float u_DevicePixelRatio;
uniform float u_FocalDistance;
uniform vec3 u_CameraPosition;

// uniform mat4 u_Mvp;

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(
    radians(x) + PI,
    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))
  );
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}


// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1., 1.);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01
    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}
// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01
// reverse Y
vec3 reverse_offset_normal(vec3 vector) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {
    return vector * vec3(1.0, -1.0, 1.0);
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return vector;
  }
  return vector;
}

vec4 project_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(vec4(X, Y, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return vec4(
      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),
      project_scale(position.z),
      position.w
    );
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // return vec4(
    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), 
    //   project_scale(position.z), 
    //   position.w);

     return vec4(
      position.xy, 
      project_scale(position.z), 
      position.w);
  }
  return position;

  // TODO: \u74E6\u7247\u5750\u6807\u7CFB & \u5E38\u89C4\u4E16\u754C\u5750\u6807\u7CFB
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

float project_pixel_allmap(float pixel) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
    return pixel * pow(2.0, u_Zoom);
  }
  return pixel;
}

float project_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel;
}
vec2 project_pixel(vec2 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel * -1.;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
     pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}


bool isEqual( float a,  float b) {
    return  a< b + 0.001 && a > b - 0.001;
}`,ha=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,Ba=`attribute float a_vertexId;

uniform mat4 u_cellTypeLayout;      // \u63CF\u8FF0\u6570\u636E\u7EB9\u7406 cell \u7ED3\u6784\u7684\u77E9\u9635
uniform sampler2D u_dataTexture;    // \u6570\u636E\u7EB9\u7406

bool hasOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 opacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeOpacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeWidth() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeWidth \u7684\u6570\u636E
  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStroke() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 stroke \u7684\u6570\u636E
  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasOffsets() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 offsets \u7684\u6570\u636E
  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

// \u6839\u636E\u5750\u6807\u4F4D\u7F6E\u5148\u662F\u8BA1\u7B97 uv \uFF0C\u7136\u540E\u6839\u636E uv \u4ECE\u6570\u636E\u7EB9\u7406\u4E2D\u53D6\u503C
float pos2value(vec2 pos, float columnWidth, float rowHeight) {
  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;
  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);
  return texture2D(u_dataTexture, vec2(u, v)).r;
}

/*
  currentRow \u5F53\u524D\u884C
  currentColumn \u5F53\u524D\u5217
  columnCount \u6709\u591A\u5C11\u5217
  nextStep \u9700\u8981\u8BA1\u7B97\u5F53\u524D cell \u540E\u7684\u7B2C\u51E0\u4E2A cell \uFF08\u5F53\u524D cell \u5219 nextStep = 0\uFF09
*/
vec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {
  float nextColumn = currentColumn;
  float nextRow = currentRow;
  if(currentColumn + nextStep <= columnCount){
    nextColumn = currentColumn + nextStep;
  } else {
    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4E0D\u4F1A\u51FA\u73B0\u8DE8\u4E24\u884C
    nextRow = currentRow + 1.0;
  }
  return vec2(nextColumn, nextRow);
}

// \u8BA1\u7B97\u5F53\u524D\u5355\u4E2A cell \u7684\u5927\u5C0F
float calCellCount() { 
  //   u_cellTypeLayout
  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51E0\u884C\u51E0\u5217
  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793A\u6709\u6570\u636E\u6620\u5C04\u30010.0 \u8868\u793A\u6CA1\u6709
  //   1.0, 0.0, 0.0, 0.0, // offsets
  //   0.0, 0.0, 0.0, 0.0
  
  return  u_cellTypeLayout[1][0] +        // opacity
          u_cellTypeLayout[1][1] +        // strokeOpacity
          u_cellTypeLayout[1][2] +        // strokeWidth
          u_cellTypeLayout[1][3] * 4.0 +  // stroke
          u_cellTypeLayout[2][0] * 2.0;   // offsets
}`,na=`
// \u8BA1\u7B97 opacity \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasOpacity()) { // \u6570\u636E\u7EB9\u7406\u4E2D\u4E0D\u5B58\u5728 opacity \u7684\u65F6\u5019\u53D6\u9ED8\u8BA4\u503C\uFF08\u7528\u6237\u5728 style \u4E2D\u4F20\u5165\u7684\u662F\u5E38\u91CF\uFF09
    return vec2(u_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureOpacity, textureOffset + 1.0);
  }
}
`,ts=`
// \u8BA1\u7B97 strokeOpaicty \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeOpacity()) {
    return vec2(u_stroke_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeOpacity, textureOffset + 1.0);
  }
}
`,po=`
// \u8BA1\u7B97 strokeWidth \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeWidth()) {
    return vec2(u_stroke_width, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeWidth, textureOffset + 1.0);
  }
}
`,uo=/precision\s+(high|low|medium)p\s+float/,Zo=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Qa=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,go=(au=(0,s.b2)(),au(Ko=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"moduleCache",{}),(0,e.Z)(this,"rawContentCache",{})}return(0,r.Z)(oe,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:Kt,fs:Kt}),this.registerModule("decode",{vs:Re,fs:""}),this.registerModule("projection",{vs:ea,fs:""}),this.registerModule("project",{vs:Di,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:ha}),this.registerModule("lighting",{vs:Tn,fs:""}),this.registerModule("light",{vs:br,fs:""}),this.registerModule("picking",{vs:Oi,fs:gi}),this.registerModule("styleMapping",{vs:Ba,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:na,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:ts,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:po,fs:""})}},{key:"registerModule",value:function(Tt,Lt){if(!this.rawContentCache[Tt]){var se=Lt.vs,Te=Lt.fs,Rr=Lt.uniforms,un=Qs(se),Wr=un.content,bn=un.uniforms,ai=Qs(Te),ra=ai.content,ua=ai.uniforms;this.rawContentCache[Tt]={fs:ra,uniforms:he(he(he({},bn),ua),Rr),vs:Wr}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(Tt){var Lt=this;if(this.moduleCache[Tt])return this.moduleCache[Tt];var se=this.rawContentCache[Tt].vs,Te=this.rawContentCache[Tt].fs,Rr=this.processModule(se,[],"vs"),un=Rr.content,Wr=Rr.includeList,bn=this.processModule(Te,[],"fs"),ai=bn.content,ra=bn.includeList,ua=ai,ba=$a()(Wr.concat(ra).concat(Tt)).reduce(function(Da,Ra){return he(he({},Da),Lt.rawContentCache[Ra].uniforms)},{});return uo.test(ai)||(ua=Zo+ai),this.moduleCache[Tt]={fs:ua.trim(),uniforms:ba,vs:un.trim()},this.moduleCache[Tt]}},{key:"processModule",value:function(Tt,Lt,se){var Te=this,Rr=Tt.replace(Qa,function(un,Wr){var bn=Wr.split(" "),ai=bn[0].replace(/"/g,"");if(Lt.indexOf(ai)>-1)return"";var ra=Te.rawContentCache[ai][se];Lt.push(ai);var ua=Te.processModule(ra,Lt,se),ba=ua.content;return ba});return{content:Rr,includeList:Lt}}}]),oe}())||Ko),fs=x(66213),es=x(92364),Rs,os,ss,Bo,Zs,Es=(Rs=(0,s.b2)(),os=(0,s.f3)(o.v.IShaderModuleService),Rs(ss=(Bo=function(){function oe(){(0,f.Z)(this,oe),(0,or.Z)(this,"shaderModuleService",Zs,this),(0,e.Z)(this,"rendererService",void 0),(0,e.Z)(this,"cameraService",void 0),(0,e.Z)(this,"mapService",void 0),(0,e.Z)(this,"interactionService",void 0),(0,e.Z)(this,"layerService",void 0),(0,e.Z)(this,"config",void 0)}return(0,r.Z)(oe,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return es.G.Normal}},{key:"init",value:function(Tt,Lt){this.config=Lt,this.rendererService=Tt.getContainer().get(o.v.IRendererService),this.cameraService=Tt.getContainer().get(o.v.ICameraService),this.mapService=Tt.getContainer().get(o.v.IMapService),this.interactionService=Tt.getContainer().get(o.v.IInteractionService),this.layerService=Tt.getContainer().get(o.v.ILayerService)}},{key:"render",value:function(Tt){}}]),oe}(),Zs=(0,wr.Z)(Bo.prototype,"shaderModuleService",[os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo))||ss),Ns,Fs;function bu(oe){var ue=Au();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Au(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Bs=(Ns=(0,s.b2)(),Ns(Fs=function(oe){(0,ft.Z)(Tt,oe);var ue=bu(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(se,Te){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Te)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),Tt}(Es))||Fs),ou,Js,gu,qs,js;function Ws(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=Nu(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te=!0,Rr=!1,un;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Te=bn.done,bn},e:function(bn){Rr=!0,un=bn},f:function(){try{!Te&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw un}}}}function Nu(oe,ue){if(!!oe){if(typeof oe=="string")return su(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return su(oe,ue)}}function su(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var Pu=(ou=(0,s.b2)(),Js=(0,s.f3)(o.v.IPostProcessor),ou(gu=(qs=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"passes",[]),(0,or.Z)(this,"postProcessor",js,this),(0,e.Z)(this,"layer",void 0),(0,e.Z)(this,"renderFlag",void 0),(0,e.Z)(this,"width",0),(0,e.Z)(this,"height",0)}return(0,r.Z)(oe,[{key:"setLayer",value:function(Tt){this.layer=Tt}},{key:"setRenderFlag",value:function(Tt){this.renderFlag=Tt}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var ue=(0,sr.Z)(Rn().mark(function Lt(){var se,Te,Rr;return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:se=Ws(this.passes),Wr.prev=1,se.s();case 3:if((Te=se.n()).done){Wr.next=9;break}return Rr=Te.value,Wr.next=7,Rr.render(this.layer);case 7:Wr.next=3;break;case 9:Wr.next=14;break;case 11:Wr.prev=11,Wr.t0=Wr.catch(1),se.e(Wr.t0);case 14:return Wr.prev=14,se.f(),Wr.finish(14);case 17:this.layer.renderModels();case 18:case"end":return Wr.stop()}},Lt,this,[[1,11,14,17]])}));function Tt(){return ue.apply(this,arguments)}return Tt}()},{key:"resize",value:function(Tt,Lt){(this.width!==Tt||this.height!==Lt)&&(this.width=Tt,this.height=Lt)}},{key:"add",value:function(Tt,Lt){Tt.getType()===es.G.PostProcessing?this.postProcessor.add(Tt,this.layer,Lt):(Tt.init(this.layer,Lt),this.passes.push(Tt))}},{key:"insert",value:function(Tt,Lt,se){Tt.init(this.layer,Lt),this.passes.splice(se,0,Tt)}},{key:"destroy",value:function(){this.passes.length=0}}]),oe}(),js=(0,wr.Z)(qs.prototype,"postProcessor",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qs))||gu),vu,Ss;function mu(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Ou(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?mu(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):mu(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Gs(oe){var ue=Ao();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Ao(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var cs=(vu=(0,s.b2)(),vu(Ss=function(oe){(0,ft.Z)(Tt,oe);var ue=Gs(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Te=new Array(se),Rr=0;Rr<se;Rr++)Te[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Te)),(0,e.Z)((0,H.Z)(Lt),"pickingFBO",void 0),(0,e.Z)((0,H.Z)(Lt),"layer",void 0),(0,e.Z)((0,H.Z)(Lt),"width",0),(0,e.Z)((0,H.Z)(Lt),"height",0),(0,e.Z)((0,H.Z)(Lt),"alreadyInRendering",!1),(0,e.Z)((0,H.Z)(Lt),"pickFromPickingFBO",function(un){var Wr=un.x,bn=un.y,ai=un.lngLat,ra=un.type;if(!(!Lt.layer.isVisible()||!Lt.layer.needPick(ra))){var ua=Lt.rendererService,ba=ua.getViewportSize,Da=ua.readPixels,Ra=ua.useFramebuffer,no=ba(),bo=no.width,Po=no.height,Ts=Lt.layer.getLayerConfig(),$o=Ts.enableHighlight,eu=Ts.enableSelect,hs=Wr*n.SO.DPR,Mo=bn*n.SO.DPR;if(!(hs>bo||hs<0||Mo>Po||Mo<0)){var Co;Ra(Lt.pickingFBO,function(){var ws;if(Co=Da({x:Math.round(hs),y:Math.round(Po-(bn+1)*n.SO.DPR),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Lt.pickingFBO}),Co[0]!==0||Co[1]!==0||Co[2]!==0){var Xs=(0,n.W0)(Co),Cs=Lt.layer.getSource().getFeatureById(Xs),xu={x:Wr,y:bn,type:ra,lngLat:ai,featureId:Xs,feature:Cs};Cs&&(Lt.layer.setCurrentPickId(Xs),Lt.triggerHoverOnLayer(xu))}else{var Eu={x:Wr,y:bn,lngLat:ai,type:Lt.layer.getCurrentPickId()===null?"un"+ra:"mouseout",featureId:null,feature:null};Lt.triggerHoverOnLayer(Ou(Ou({},Eu),{},{type:"unpick"})),Lt.triggerHoverOnLayer(Eu),Lt.layer.setCurrentPickId(null)}$o&&Lt.highlightPickedFeature(Co),eu&&ra==="click"&&((ws=Co)===null||ws===void 0?void 0:ws.toString())!==[0,0,0,0].toString()&&Lt.selectFeature(Co)})}}}),Lt}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(se,Te){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Te),this.layer=se;var Rr=this.rendererService,un=Rr.createTexture2D,Wr=Rr.createFramebuffer,bn=Rr.getViewportSize,ai=bn(),ra=ai.width,ua=ai.height;this.pickingFBO=Wr({color:un({width:ra,height:ua,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.interactionService.on(He.s.Hover,this.pickFromPickingFBO),this.interactionService.on(He.s.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(He.s.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(se){var Te=this;if(!this.alreadyInRendering){var Rr=this.rendererService,un=Rr.getViewportSize,Wr=Rr.useFramebuffer,bn=Rr.clear,ai=un(),ra=ai.width,ua=ai.height;this.alreadyInRendering=!0,(this.width!==ra||this.height!==ua)&&(this.pickingFBO.resize({width:ra,height:ua}),this.width=ra,this.height=ua),Wr(this.pickingFBO,function(){bn({framebuffer:Te.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var ba=Te.layer.multiPassRenderer.getRenderFlag();Te.layer.multiPassRenderer.setRenderFlag(!1),se.hooks.beforePickingEncode.call(),se.render(),se.hooks.afterPickingEncode.call(),Te.layer.multiPassRenderer.setRenderFlag(ba),Te.alreadyInRendering=!1})}}},{key:"triggerHoverOnLayer",value:function(se){this.layer.emit(se.type,se)}},{key:"highlightPickedFeature",value:function(se){var Te=(0,Et.Z)(se,3),Rr=Te[0],un=Te[1],Wr=Te[2];this.layer.hooks.beforeHighlight.call([Rr,un,Wr]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(se){var Te=(0,Et.Z)(se,3),Rr=Te[0],un=Te[1],Wr=Te[2];this.layer.hooks.beforeSelect.call([Rr,un,Wr]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(se){var Te=se.featureId,Rr=(0,n.Z6)(Te);this.selectFeature(new Uint8Array(Rr))}},{key:"highlightFeatureHandle",value:function(se){var Te=se.featureId,Rr=(0,n.Z6)(Te);this.highlightPickedFeature(new Uint8Array(Rr))}}]),Tt}(Es))||Ss),us=x(69530),lo,_s;function jo(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Wo(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?jo(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):jo(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Vs(oe){var ue=uu();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function uu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var tu=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,Hs=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,bs=(lo=(0,s.b2)(),lo(_s=function(oe){(0,ft.Z)(Tt,oe);var ue=Vs(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Hs,fs:tu});var se=this.shaderModuleService.getModule("blur-pass"),Te=se.vs,Rr=se.fs,un=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Te,fs:Rr,uniforms:Wo(Wo({},un),{},{u_ViewportSize:[bn,ai]})}}},{key:"convertOptionsToUniforms",value:function(se){var Te={};return Va()(se.blurRadius)||(Te.u_BlurDir=[se.blurRadius,0]),Te}}]),Tt}(us.Z))||_s),ps,kt;function Xt(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function We(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Xt(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Xt(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Ie(oe){var ue=xr();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function xr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Zr=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,ln=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Mn=(ps=(0,s.b2)(),ps(kt=function(oe){(0,ft.Z)(Tt,oe);var ue=Ie(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:ln,fs:Zr});var se=this.shaderModuleService.getModule("blur-pass"),Te=se.vs,Rr=se.fs,un=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Te,fs:Rr,uniforms:We(We({},un),{},{u_ViewportSize:[bn,ai]})}}},{key:"convertOptionsToUniforms",value:function(se){var Te={};return Va()(se.blurRadius)||(Te.u_BlurDir=[0,se.blurRadius]),Te}}]),Tt}(us.Z))||kt),In,zn;function on(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function wn(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?on(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):on(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function bt(oe){var ue=jt();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function jt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Jt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,re=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,st=(In=(0,s.b2)(),In(zn=function(oe){(0,ft.Z)(Tt,oe);var ue=bt(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:re,fs:Jt});var se=this.shaderModuleService.getModule("colorhalftone-pass"),Te=se.vs,Rr=se.fs,un=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Te,fs:Rr,uniforms:wn(wn({},un),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||zn),St,Ut;function wt(oe){var ue=Qt();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Qt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Oe=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,ve=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,we=(St=(0,s.b2)(),St(Ut=function(oe){(0,ft.Z)(Tt,oe);var ue=wt(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:ve,fs:Oe}),this.shaderModuleService.getModule("copy-pass")}}]),Tt}(us.Z))||Ut),Ne,Qe;function Ye(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Ar(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Ye(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Ye(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function yr(oe){var ue=Ur();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Ur(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var pr=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Fr=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Yr=(Ne=(0,s.b2)(),Ne(Qe=function(oe){(0,ft.Z)(Tt,oe);var ue=yr(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:Fr,fs:pr});var se=this.shaderModuleService.getModule("hexagonalpixelate-pass"),Te=se.vs,Rr=se.fs,un=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Te,fs:Rr,uniforms:Ar(Ar({},un),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||Qe),Sn,Nn;function hn(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Bn(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?hn(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):hn(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function qn(oe){var ue=Ai();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Ai(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Ti=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Oa=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,va=(Sn=(0,s.b2)(),Sn(Nn=function(oe){(0,ft.Z)(Tt,oe);var ue=qn(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:Oa,fs:Ti});var se=this.shaderModuleService.getModule("ink-pass"),Te=se.vs,Rr=se.fs,un=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Te,fs:Rr,uniforms:Bn(Bn({},un),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||Nn),ma,jn;function hi(oe){var ue=Ha();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Ha(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Wa=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,Xn=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ja=(ma=(0,s.b2)(),ma(jn=function(oe){(0,ft.Z)(Tt,oe);var ue=hi(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:Xn,fs:Wa}),this.shaderModuleService.getModule("noise-pass")}}]),Tt}(us.Z))||jn),fo,Do;function Ro(oe){var ue=Ys();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Ys(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var gs=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,yu=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`,Tu=(fo=(0,s.b2)(),fo(Do=function(oe){(0,ft.Z)(Tt,oe);var ue=Ro(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:gs,fs:yu}),this.shaderModuleService.getModule("sepia-pass")}}]),Tt}(us.Z))||Do),lu,eo,pt,mt,Pt,It,Ht=(lu=(0,s.b2)(),eo=(0,s.f3)(o.v.IRendererService),pt=(0,s.zY)(),lu(mt=(Pt=function(){function oe(){(0,f.Z)(this,oe),(0,or.Z)(this,"rendererService",It,this),(0,e.Z)(this,"passes",[]),(0,e.Z)(this,"readFBO",void 0),(0,e.Z)(this,"writeFBO",void 0)}return(0,r.Z)(oe,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var ue=(0,sr.Z)(Rn().mark(function Lt(se){var Te,Rr;return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:Te=0;case 1:if(!(Te<this.passes.length)){Wr.next=10;break}return Rr=this.passes[Te],Rr.setRenderToScreen(this.isLastEnabledPass(Te)),Wr.next=6,Rr.render(se);case 6:Te!==this.passes.length-1&&this.swap();case 7:Te++,Wr.next=1;break;case 10:case"end":return Wr.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"resize",value:function(Tt,Lt){this.readFBO.resize({width:Tt,height:Lt}),this.writeFBO.resize({width:Tt,height:Lt})}},{key:"add",value:function(Tt,Lt,se){Tt.init(Lt,se),this.passes.push(Tt)}},{key:"insert",value:function(Tt,Lt,se,Te){Tt.init(se,Te),this.passes.splice(Lt,0,Tt)}},{key:"getPostProcessingPassByName",value:function(Tt){return this.passes.find(function(Lt){return Lt.getName()===Tt})}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(Tt){for(var Lt=Tt+1;Lt<this.passes.length;Lt++)if(this.passes[Lt].isEnabled())return!1;return!0}},{key:"swap",value:function(){var Tt=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=Tt}}]),oe}(),It=(0,wr.Z)(Pt.prototype,"rendererService",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wr.Z)(Pt.prototype,"init",[pt],Object.getOwnPropertyDescriptor(Pt.prototype,"init"),Pt.prototype),Pt))||mt),Gt,qt;function Fe(oe){var ue=Be();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function Be(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var $e=(Gt=(0,s.b2)(),Gt(qt=function(oe){(0,ft.Z)(Tt,oe);var ue=Fe(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(se,Te){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Te)}},{key:"render",value:function(se){var Te=this.rendererService,Rr=Te.useFramebuffer,un=Te.clear;Rr(null,function(){un({color:[0,0,0,0],depth:1,stencil:0}),se.multiPassRenderer.setRenderFlag(!1),se.render(),se.multiPassRenderer.setRenderFlag(!0)})}}]),Tt}(Es))||qt),hr,Tr,Xr,en,An;function Yn(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function vi(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Yn(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Yn(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Qi(oe){var ue=ga();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Te=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Te)}else se=Lt.apply(this,arguments);return(0,ct.Z)(this,se)}}function ga(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Pa=`uniform float u_opacity : 1.0;
uniform float u_MixRatio : 0.5;

uniform sampler2D u_Diffuse1;
uniform sampler2D u_Diffuse2;

varying vec2 v_UV;

void main() {
  vec4 texel1 = texture2D(u_Diffuse1, v_UV);
  vec4 texel2 = texture2D(u_Diffuse2, v_UV);
  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);
}
`,Ta=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,La=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;function So(oe,ue){for(var Tt=0,Lt=1/ue,se=oe;se>0;)Tt=Tt+Lt*(se%ue),se=Math.floor(se/ue),Lt=Lt/ue;return Tt}var Os=1,ls=(hr=(0,s.b2)(),Tr=(0,s.f3)(o.v.IShaderModuleService),hr(Xr=(en=function(oe){(0,ft.Z)(Tt,oe);var ue=Qi(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Te=new Array(se),Rr=0;Rr<se;Rr++)Te[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Te)),(0,or.Z)((0,H.Z)(Lt),"shaderModuleService",An,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"haltonSequence",[]),(0,e.Z)((0,H.Z)(Lt),"accumulatingId",0),(0,e.Z)((0,H.Z)(Lt),"frame",0),(0,e.Z)((0,H.Z)(Lt),"timer",void 0),(0,e.Z)((0,H.Z)(Lt),"sampleRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"prevRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"outputRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"copyRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"blendModel",void 0),(0,e.Z)((0,H.Z)(Lt),"outputModel",void 0),(0,e.Z)((0,H.Z)(Lt),"copyModel",void 0),Lt}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(se,Te){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Te);var Rr=this.rendererService,un=Rr.createFramebuffer,Wr=Rr.createTexture2D;this.sampleRenderTarget=un({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.prevRenderTarget=un({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.outputRenderTarget=un({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.copyRenderTarget=un({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})});for(var bn=0;bn<30;bn++)this.haltonSequence.push([So(bn,2),So(bn,3)]);this.blendModel=this.createTriangleModel("blend-pass",Pa),this.outputModel=this.createTriangleModel("copy-pass",Ta,{blend:{enable:!0,func:{srcRGB:fa.gl.ONE,dstRGB:fa.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:fa.gl.ONE,dstAlpha:fa.gl.ONE_MINUS_SRC_ALPHA},equation:{rgb:fa.gl.FUNC_ADD,alpha:fa.gl.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Ta)}},{key:"render",value:function(se){var Te=this,Rr=this.rendererService,un=Rr.clear,Wr=Rr.getViewportSize,bn=Rr.useFramebuffer,ai=Wr(),ra=ai.width,ua=ai.height;this.sampleRenderTarget.resize({width:ra,height:ua}),this.prevRenderTarget.resize({width:ra,height:ua}),this.outputRenderTarget.resize({width:ra,height:ua}),this.copyRenderTarget.resize({width:ra,height:ua}),this.resetFrame(),this.stopAccumulating();var ba=se.multiPassRenderer.getPostProcessor().getReadFBO();bn(ba,function(){un({color:[0,0,0,0],depth:1,stencil:0,framebuffer:ba}),se.multiPassRenderer.setRenderFlag(!1),se.render(),se.multiPassRenderer.setRenderFlag(!0)});var Da=function Ra(no){!Te.accumulatingId||no!==Te.accumulatingId||Te.isFinished()||(Te.doRender(se),requestAnimationFrame(function(){Ra(no)}))};this.accumulatingId=Os++,this.timer=window.setTimeout(function(){Da(Te.accumulatingId)},50)}},{key:"doRender",value:function(se){var Te=this,Rr=this.rendererService,un=Rr.clear,Wr=Rr.getViewportSize,bn=Rr.useFramebuffer,ai=Wr(),ra=ai.width,ua=ai.height,ba=se.getLayerConfig(),Da=ba.jitterScale,Ra=Da===void 0?1:Da,no=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((no[0]*2-1)/ra*Ra,(no[1]*2-1)/ua*Ra),se.multiPassRenderer.setRenderFlag(!1),se.hooks.beforeRender.call(),bn(this.sampleRenderTarget,function(){un({color:[0,0,0,0],depth:1,stencil:0,framebuffer:Te.sampleRenderTarget}),se.render()}),se.hooks.afterRender.call(),se.multiPassRenderer.setRenderFlag(!0);var bo=se.getLayerConfig();bn(this.outputRenderTarget,function(){Te.blendModel.draw({uniforms:{u_opacity:bo.opacity||1,u_MixRatio:Te.frame===0?1:.9,u_Diffuse1:Te.sampleRenderTarget,u_Diffuse2:Te.frame===0?se.multiPassRenderer.getPostProcessor().getReadFBO():Te.prevRenderTarget}})}),this.frame===0&&un({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(bn(this.copyRenderTarget,function(){Te.outputModel.draw({uniforms:{u_Texture:Te.outputRenderTarget}})}),bn(se.multiPassRenderer.getPostProcessor().getReadFBO(),function(){Te.copyModel.draw({uniforms:{u_Texture:Te.copyRenderTarget}})}),se.multiPassRenderer.getPostProcessor().render(se));var Po=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=Po,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(se,Te,Rr){this.shaderModuleService.registerModule(se,{vs:La,fs:Te});var un=this.shaderModuleService.getModule(se),Wr=un.vs,bn=un.fs,ai=un.uniforms,ra=this.rendererService,ua=ra.createAttribute,ba=ra.createBuffer,Da=ra.createModel;return Da(vi({vs:Wr,fs:bn,attributes:{a_Position:ua({buffer:ba({data:[-4,-4,4,-4,0,4],type:fa.gl.FLOAT}),size:2})},uniforms:vi({},ai),depth:{enable:!1},count:3},Rr))}}]),Tt}(Es),An=(0,wr.Z)(en.prototype,"shaderModuleService",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en))||Xr),rs=new s.W2;rs.bind(o.v.IGlobalConfigService).to(Pr).inSingletonScope(),rs.bind(o.v.IShaderModuleService).to(go).inSingletonScope(),(0,s.GW)((0,s.b2)(),t.EventEmitter),rs.bind(o.v.IEventEmitter).to(t.EventEmitter);var Us=(0,v.Z)(rs,!1),du=function(ue){var Tt=Us.lazyInject(ue);return function(Lt,se,Te){Tt.call(this,Lt,se),Te&&(Te.initializer=function(){return Lt[se]})}},Wu=function(ue){var Tt=Us.lazyMultiInject(ue);return function(Lt,se,Te){Tt.call(this,Lt,se),Te&&(Te.initializer=function(){return Lt[se]})}},wu=rs,fu=0;function ms(){var oe=new s.W2;return oe.parent=rs,oe.bind(o.v.SceneID).toConstantValue("".concat(fu++)),oe.bind(o.v.ILayerService).to(ca).inSingletonScope(),oe.bind(o.v.ISceneService).to(Xo).inSingletonScope(),oe.bind(o.v.ICameraService).to(Ft).inSingletonScope(),oe.bind(o.v.ICoordinateSystemService).to(Ve).inSingletonScope(),oe.bind(o.v.IInteractionService).to(er).inSingletonScope(),oe.bind(o.v.IPickingService).to(ee).inSingletonScope(),oe.bind(o.v.IControlService).to(nr).inSingletonScope(),oe.bind(o.v.IMarkerService).to(Gr).inSingletonScope(),oe.bind(o.v.IIconService).to(lt).inSingletonScope(),oe.bind(o.v.IFontService).to(at).inSingletonScope(),oe.bind(o.v.IPopupService).to(ze).inSingletonScope(),oe.bind(o.v.INormalPass).to(Bs).whenTargetNamed("clear"),oe.bind(o.v.INormalPass).to(cs).whenTargetNamed("pixelPicking"),oe.bind(o.v.INormalPass).to($e).whenTargetNamed("render"),oe.bind(o.v.INormalPass).to(ls).whenTargetNamed("taa"),oe.bind(o.v.IFactoryNormalPass).toFactory(function(ue){return function(Tt){return ue.container.getNamed(o.v.INormalPass,Tt)}}),oe.bind(o.v.IPostProcessingPass).to(we).whenTargetNamed("copy"),oe.bind(o.v.IPostProcessingPass).to(bs).whenTargetNamed("blurH"),oe.bind(o.v.IPostProcessingPass).to(Mn).whenTargetNamed("blurV"),oe.bind(o.v.IPostProcessingPass).to(ja).whenTargetNamed("noise"),oe.bind(o.v.IPostProcessingPass).to(Tu).whenTargetNamed("sepia"),oe.bind(o.v.IPostProcessingPass).to(st).whenTargetNamed("colorHalftone"),oe.bind(o.v.IPostProcessingPass).to(Yr).whenTargetNamed("hexagonalPixelate"),oe.bind(o.v.IPostProcessingPass).to(va).whenTargetNamed("ink"),oe.bind(o.v.IFactoryPostProcessingPass).toFactory(function(ue){return function(Tt){var Lt=ue.container.getNamed(o.v.IPostProcessingPass,Tt);return Lt.setName(Tt),Lt}}),oe}function Iu(oe){var ue=new s.W2;return ue.parent=oe,ue.bind(o.v.IStyleAttributeService).to(zr).inSingletonScope(),ue.bind(o.v.IMultiPassRenderer).to(Pu).inSingletonScope(),ue.bind(o.v.IPostProcessor).to(Ht).inSingletonScope(),ue}},2811:function(){},64532:function(){},4594:function(gr,P,x){"use strict";x.d(P,{l:function(){return i}});var i={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},66690:function(gr,P,x){"use strict";x.d(P,{d:function(){return i}});var i;(function(t){t.TOPRIGHT="topright",t.TOPLEFT="topleft",t.BOTTOMRIGHT="bottomright",t.BOTTOMLEFT="bottomleft",t.TOPCENTER="topcenter",t.BOTTOMCENTER="bottomcenter",t.LEFTCENTER="leftcenter",t.RIGHTCENTER="rightcenter"})(i||(i={}))},81732:function(){},84007:function(){},1910:function(){},47282:function(gr,P,x){"use strict";x.d(P,{l:function(){return i},k:function(){return t}});var i;(function(c){c[c.LNGLAT=1]="LNGLAT",c[c.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",c[c.VECTOR_TILE=3]="VECTOR_TILE",c[c.IDENTITY=4]="IDENTITY",c[c.P20=5]="P20",c[c.P20_OFFSET=6]="P20_OFFSET",c[c.METER_OFFSET=7]="METER_OFFSET",c[c.P20_2=8]="P20_2"})(i||(i={}));var t={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"}},89648:function(gr,P,x){"use strict";x.d(P,{s:function(){return i}});var i;(function(t){t.Hover="hover",t.Click="click",t.Select="select",t.Active="active",t.Drag="drag"})(i||(i={}))},90919:function(){},77252:function(gr,P,x){"use strict";x.d(P,{h:function(){return i}});var i;(function(t){t.normal="normal",t.additive="additive",t.subtractive="subtractive",t.min="min",t.max="max",t.none="none"})(i||(i={}))},31251:function(gr,P,x){"use strict";x.d(P,{vY:function(){return i},ee:function(){return t},GC:function(){return c}});var i;(function(s){s.LINEAR="linear",s.POWER="power",s.LOG="log",s.IDENTITY="identity",s.TIME="time",s.QUANTILE="quantile",s.QUANTIZE="quantize",s.THRESHOLD="threshold",s.CAT="cat"})(i||(i={}));var t;(function(s){s.CONSTANT="constant",s.VARIABLE="variable"})(t||(t={}));var c;(function(s){s[s.Attribute=0]="Attribute",s[s.InstancedAttribute=1]="InstancedAttribute",s[s.Uniform=2]="Uniform"})(c||(c={}))},16606:function(gr,P,x){"use strict";x.d(P,{I:function(){return i}});var i=["mapload","mapchange"]},75925:function(){},85040:function(){},8594:function(){},67571:function(){},66718:function(){},92364:function(gr,P,x){"use strict";x.d(P,{G:function(){return i}});var i;(function(t){t.Normal="normal",t.PostProcessing="post-processing"})(i||(i={}))},78010:function(){},41906:function(){},68116:function(){},23067:function(){},7648:function(gr,P,x){"use strict";x.d(P,{gl:function(){return i}});var i;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"})(i||(i={}))},69530:function(gr,P,x){"use strict";x.d(P,{Z:function(){return T}});var i=x(55770),t=x(6610),c=x(5991),s=x(96156),v=x(3473),o=x(11700),f=x.n(o),r=x(14293),e=x.n(r),n=x(68929),a=x.n(n),u=x(86700),l=x(28660),h=x.n(l),p=x(7648),d=x(72302),g=x(92364),y,E,C,m,M;function b(O,D){var L=Object.keys(O);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(O);D&&(Z=Z.filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable})),L.push.apply(L,Z)}return L}function S(O){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?b(Object(L),!0).forEach(function(Z){(0,s.Z)(O,Z,L[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(L)):b(Object(L)).forEach(function(Z){Object.defineProperty(O,Z,Object.getOwnPropertyDescriptor(L,Z))})}return O}var A=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,T=(y=(0,u.b2)(),E=(0,u.f3)(d.v.IShaderModuleService),y(C=(m=function(){function O(){(0,t.Z)(this,O),(0,i.Z)(this,"shaderModuleService",M,this),(0,s.Z)(this,"rendererService",void 0),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"quad",A),(0,s.Z)(this,"enabled",!0),(0,s.Z)(this,"renderToScreen",!1),(0,s.Z)(this,"model",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"optionsToUpdate",{})}return(0,c.Z)(O,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(L){this.name=L}},{key:"getType",value:function(){return g.G.PostProcessing}},{key:"init",value:function(L,Z){this.config=Z,this.rendererService=L.getContainer().get(d.v.IRendererService);var U=this.rendererService,Y=U.createAttribute,W=U.createBuffer,J=U.createModel,ht=this.setupShaders(),nt=ht.vs,Q=ht.fs,xt=ht.uniforms;this.model=J({vs:nt,fs:Q,attributes:{a_Position:Y({buffer:W({data:[-4,-4,4,-4,0,4],type:p.gl.FLOAT}),size:2})},uniforms:S(S({u_Texture:null},xt),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}},{key:"render",value:function(L){var Z=this,U=L.multiPassRenderer.getPostProcessor(),Y=this.rendererService,W=Y.useFramebuffer,J=Y.getViewportSize,ht=Y.clear,nt=J(),Q=nt.width,xt=nt.height;W(this.renderToScreen?null:U.getWriteFBO(),function(){ht({framebuffer:U.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),Z.model.draw({uniforms:S({u_Texture:U.getReadFBO(),u_ViewportSize:[Q,xt]},Z.convertOptionsToUniforms(Z.optionsToUpdate))})})}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(L){this.enabled=L}},{key:"setRenderToScreen",value:function(L){this.renderToScreen=L}},{key:"updateOptions",value:function(L){this.optionsToUpdate=S(S({},this.optionsToUpdate),L)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(L){var Z={};return Object.keys(L).forEach(function(U){e()(L[U])||(Z["u_".concat(f()(a()(U)))]=L[U])}),Z}}]),O}(),M=(0,v.Z)(m.prototype,"shaderModuleService",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m))||C)},19793:function(gr,P,x){"use strict";x.d(P,{P:function(){return i}});var i=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},93102:function(){},8628:function(){},72302:function(gr,P,x){"use strict";x.d(P,{v:function(){return i}});var i={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")}},76915:function(gr,P,x){"use strict";var i=x(74691),t=null;function c(T){return t.indexOf(T)}var s=2,v=4,o=64,f=128,r=256,e=512,n=8192,a=16384,u=32768,l=null,h=131072,p=262144,d=524288,g=1048576,y=2097152,E=4194304,C=8388608,m=16777216,M=null;function b(T,O){return T=_clamp(Math.floor(T),0,255),O=_clamp(Math.floor(O),0,255),256*T+O}function S(T){var O=T.color,D=T.radius,L=T.tileX,Z=T.tileY,U=T.shape,Y=T.opacity,W=T.stroke,J=T.strokeWidth,ht=T.strokeOpacity,nt=[],Q=[],xt=[],_t=[b(O[0],O[1]),b(O[2],O[3])],Nt=[b(W[0],W[1]),b(W[2],W[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(rt){var q=_slicedToArray(rt,2),G=q[0],N=q[1];nt.push([].concat(_t,[(G+1)*C+(N+1)*y+getShapeIndex(U)*h+D,(L+512)*d+(Z+512)*o])),Q.push([].concat(Nt,[J,ht])),xt.push([Y,0,0,0])}),{packedBuffer:nt,packedBuffer2:Q,packedBuffer3:xt}}function A(T,O){if(T===0&&!O)return 0;if(T===1&&O)return 4294967295;var D=O?1:0,L=Math.floor(T*127);return L*M+D*m+L*h+D*l+L*e+D*r+L*s+D}},84433:function(gr,P,x){"use strict";x.d(P,{Sw:function(){return io}});var i=x(82492),t=x.n(i),c=2,s={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/ad26cd25-96ea-40fd-935d-7e21a5c08893.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/62f61f5f-cca7-4137-845d-13c8f9969664.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/71ac4de3-bb14-449d-a97d-2b98e25ec8df.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/522c6496-c711-4581-88db-c3741cd39abd.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/516b2703-d692-44e6-80dd-b3f5df0186e7.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},v={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/35bb8365-1926-471c-b357-db2c02ff3a81.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8ec671c3-a4f9-4fdf-8e88-85d2ab1d8930.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/380370e0-76aa-4240-8874-5732de77e71d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/feeb1f06-11c6-4495-84c9-f41ea6f77123.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/24a9ee83-2be1-4fc1-b187-769ac939269d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},o={1:v,2:s};function f(Ee){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;merge(o[be],Ee)}function r(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;return o[Ee]}function e(Ee){c=Ee}var n=o[c],a=x(96773),u=x(26729),l=x(74951),h=x(13218),p=x.n(h),d=x(30236),g=x.n(d),y=x(3614),E=x.n(y),C=x(95022),m=x.n(C);function M(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(pe){return typeof pe}:M=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},M(Ee)}function b(Ee,be,pe,vt,gt,dt,Dt){try{var te=Ee[dt](Dt),Ge=te.value}catch(cr){pe(cr);return}te.done?be(Ge):Promise.resolve(Ge).then(vt,gt)}function S(Ee){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=Ee.apply(be,pe);function Dt(Ge){b(dt,vt,gt,Dt,te,"next",Ge)}function te(Ge){b(dt,vt,gt,Dt,te,"throw",Ge)}Dt(void 0)})}}function A(Ee,be){var pe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ee);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(Ee,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function T(Ee){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?A(Object(pe),!0).forEach(function(vt){O(Ee,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(pe)):A(Object(pe)).forEach(function(vt){Object.defineProperty(Ee,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return Ee}function O(Ee,be,pe){return be in Ee?Object.defineProperty(Ee,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=pe,Ee}function D(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function L(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function Z(Ee,be,pe){return be&&L(Ee.prototype,be),pe&&L(Ee,pe),Ee}function U(Ee,be,pe){return typeof Reflect!="undefined"&&Reflect.get?U=Reflect.get:U=function(gt,dt,Dt){var te=Y(gt,dt);if(!!te){var Ge=Object.getOwnPropertyDescriptor(te,dt);return Ge.get?Ge.get.call(Dt):Ge.value}},U(Ee,be,pe||Ee)}function Y(Ee,be){for(;!Object.prototype.hasOwnProperty.call(Ee,be)&&(Ee=_t(Ee),Ee!==null););return Ee}function W(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&J(Ee,be)}function J(Ee,be){return J=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},J(Ee,be)}function ht(Ee){var be=xt();return function(){var vt=_t(Ee),gt;if(be){var dt=_t(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return nt(this,gt)}}function nt(Ee,be){return be&&(M(be)==="object"||typeof be=="function")?be:Q(Ee)}function Q(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function _t(Ee){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},_t(Ee)}var Nt=["loaded"];function rt(Ee,be){if(Array.isArray(be))return be}var q=function(Ee){W(pe,Ee);var be=ht(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D(this,pe),gt=be.call(this),gt.fillLayer=void 0,gt.lineLayer=void 0,gt.labelLayer=void 0,gt.bubbleLayer=void 0,gt.loaded=!1,gt.scene=void 0,gt.options=void 0,gt.layers=[],gt.fillData=void 0,gt.layerType=void 0,gt.popup=void 0,gt.scene=vt,gt.options=g()(gt.getDefaultOption(),dt,rt),e(gt.options.geoDataLevel),gt}return Z(pe,[{key:"destroy",value:function(){var gt=this;this.layers.forEach(function(dt){return gt.scene.removeLayer(dt)}),this.layers.length=0}},{key:"show",value:function(){this.layers.forEach(function(gt){return gt.show()})}},{key:"hide",value:function(){this.layers.forEach(function(gt){return gt.hide()})}},{key:"setOption",value:function(gt){this.options=g()(this.options,gt,rt)}},{key:"getFillData",value:function(){return this.fillData}},{key:"getOptions",value:function(){return this.options}},{key:"getLayer",value:function(gt){return this[gt+"Layer"]}},{key:"on",value:function(gt,dt){var Dt=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fill";return Nt.indexOf(gt)!==-1?U(_t(pe.prototype),"on",this).call(this,gt,dt):this.loaded&&this.getLayer(te)?this.getLayer(te).on(gt,dt):U(_t(pe.prototype),"once",this).call(this,"loaded",function(){Dt.getLayer(te).on(gt,dt)}),this}},{key:"off",value:function(gt,dt){var Dt=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fill";return Nt.indexOf(gt)!==-1?U(_t(pe.prototype),"on",this).call(this,gt,dt):this.getLayer(te)&&(this.loaded&&this.getLayer(te)?this.getLayer(te).off(gt,dt):U(_t(pe.prototype),"once",this).call(this,"loaded",function(){Dt.getLayer(te).off(gt,dt)})),this}},{key:"updateData",value:function(gt,dt){var Dt;this.setOption({data:gt,joinBy:dt});var te=this.options,Ge=te.data,cr=Ge===void 0?[]:Ge,zr=te.joinBy;if(this.fillLayer.setData(this.fillData,{transforms:cr.length===0?[]:[{type:"join",sourceField:zr[1],targetField:zr[0],data:cr}]}),this.options.bubble&&((Dt=this.options.bubble)===null||Dt===void 0?void 0:Dt.enable)!==!1){var Rt={};cr.forEach(function(ri){Rt[ri[zr[1]]]=ri});var Ei=this.fillData.features.map(function(ri){return T(T({},ri.properties),{},{center:[ri.properties.x,ri.properties.y]})}).filter(function(ri){return Rt[ri[zr[0]]]});this.bubbleLayer.setData(Ei,{transforms:cr.length===0?[]:[{type:"join",sourceField:zr[1],targetField:zr[0],data:cr}]})}}},{key:"fetchData",value:function(){var vt=S(regeneratorRuntime.mark(function dt(Dt){var te,Ge;return regeneratorRuntime.wrap(function(zr){for(;;)switch(zr.prev=zr.next){case 0:if(Dt.type!=="pbf"){zr.next=11;break}return zr.next=3,fetch(Dt.url);case 3:return zr.next=5,zr.sent.arrayBuffer();case 5:return te=zr.sent,Ge=l.decode(new(E())(te)),this.options.simplifyTolerance!==!1&&(Ge=m()(Ge,this.options.simplifyTolerance||.8)),zr.abrupt("return",Ge);case 11:if(!p()(Dt.url)){zr.next=15;break}zr.t0=Dt.url,zr.next=18;break;case 15:return zr.next=17,fetch(Dt.url);case 17:zr.t0=zr.sent.json();case 18:return zr.abrupt("return",zr.t0);case 19:case"end":return zr.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"getDefaultOption",value:function(){return{zIndex:0,visible:!0,viewType:"normal",enablePropagation:!0,geoDataLevel:2,regionType:"province",depth:1,adcode:[],joinBy:["name","name"],simplifyTolerance:!1,label:{enable:!0,color:"#000",field:"name",size:10,stroke:"#fff",strokeWidth:2,textAllowOverlap:!0,opacity:1,textOffset:[0,0],padding:[5,5]},bubble:{enable:!1,shape:"circle",color:"#1AA9FF",size:15,style:{opacity:1,stroke:"#fff",strokeWidth:1}},fill:{scale:null,color:"#ddd",style:{opacity:1},activeColor:!1},autoFit:!0,showBorder:!0,strokeOpacity:1,stroke:"#bdbdbd",strokeVisible:!0,strokeWidth:.6,cityStroke:"#636363",cityStrokeWidth:.6,countyStrokeWidth:.6,provinceStrokeWidth:.6,provinceStroke:"#f0f0f0",provinceStrokeVisible:!0,countyStroke:"#525252",coastlineStroke:"#4190da",coastlineWidth:.6,nationalStroke:"#c994c7",nationalWidth:.5,chinaNationalStroke:"gray",chinaNationalWidth:1,popup:{enable:!0,openTriggerEvent:"mousemove",closeTriggerEvent:"mouseout",option:{},Html:function(dt){return"".concat(dt.name)}}}}},{key:"addFillLayer",value:function(gt){var dt=this,Dt,te=this.options,Ge=te.popup,cr=te.data,zr=cr===void 0?[]:cr,Rt=te.fill,Ei=te.autoFit,ri=te.joinBy,k=te.visible,it=te.enablePropagation,Bt=te.zIndex;this.fillData=gt;var yt=new a.PolygonLayer({autoFit:Ei,visible:k,enablePropagation:it,zIndex:Bt}).source(gt,{transforms:zr.length===0?[]:[{type:"join",sourceField:ri[1],targetField:ri[0],data:zr}]});if(this.setLayerAttribute(yt,"color",Rt.color),this.setLayerAttribute(yt,"filter",Rt.filter),Rt.scale&&p()(Rt.color)){var ne;yt.scale("color",{type:Rt.scale,field:Rt==null||(ne=Rt.color)===null||ne===void 0?void 0:ne.field})}if(yt.shape("fill").style(Rt.style),Rt.activeColor&&yt.active({color:Rt.activeColor}),this.fillLayer=yt,this.layers.push(yt),this.scene.addLayer(yt),this.options.onClick&&this.fillLayer.on("click",function(ur){dt.options&&dt.options.onClick&&dt.options.onClick(ur,dt.layerType)}),this.options.bubble&&((Dt=this.options.bubble)===null||Dt===void 0?void 0:Dt.enable)!==!1){var _e=gt.features.map(function(ur){return T(T({},ur.properties),{},{center:[ur.properties.x,ur.properties.y]})});this.addBubbleLayer(_e)}this.addPopup()}},{key:"updateLayerAttribute",value:function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"fill",dt=arguments.length>1?arguments[1]:void 0,Dt=arguments.length>2?arguments[2]:void 0,te=this.getLayer(gt);this.setLayerAttribute(te,dt,Dt)}},{key:"enablePopup",value:function(){this.setOption({popup:T(T({},this.options.popup),{},{enable:!0})})}},{key:"disablePopup",value:function(){this.setOption({popup:T(T({},this.options.popup),{},{enable:!1})})}},{key:"addFillLine",value:function(gt){var dt=this.options,Dt=dt.stroke,te=dt.strokeWidth,Ge=dt.zIndex,cr=dt.visible,zr=dt.strokeOpacity,Rt=new a.LineLayer({zIndex:Ge+.1,visible:cr}).source(gt).color(Dt).size(te).style({opacity:zr});this.scene.addLayer(Rt),this.layers.push(Rt),this.lineLayer=Rt}},{key:"addLabelLayer",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.addLabel(gt,dt);this.scene.addLayer(Dt),this.layers.push(Dt),this.labelLayer=Dt}},{key:"addBubbleLayer",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.options,te=Dt.bubble,Ge=Dt.zIndex,cr=Dt.data,zr=cr===void 0?[]:cr,Rt=Dt.joinBy,Ei=Dt.visible,ri=new a.PointLayer({zIndex:Ge+.3,visible:Ei}).source(gt,{parser:{type:dt,coordinates:"center"},transforms:zr.length===0?[]:[{type:"join",sourceField:Rt[1],targetField:Rt[0],data:zr}]});return this.setLayerAttribute(ri,"color",te.color),this.setLayerAttribute(ri,"size",te.size),this.setLayerAttribute(ri,"shape",te.shape),this.setLayerAttribute(ri,"filter",te.filter),te.scale&&ri.scale(te.scale.field,{type:te.scale.type}),ri.style(te.style),this.scene.addLayer(ri),this.layers.push(ri),this.bubbleLayer=ri,ri}},{key:"addLabel",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.options,te=Dt.label,Ge=Dt.zIndex,cr=Dt.visible,zr=new a.PointLayer({zIndex:Ge+5,visible:cr}).source(gt,{parser:{type:dt,coordinates:"center"}}).shape(te.field,"text").style(te);return this.setLayerAttribute(zr,"color",te.color),this.setLayerAttribute(zr,"size",te.size),this.setLayerAttribute(zr,"filter",te.filter),zr}},{key:"addPopup",value:function(){var gt=this,dt=this.options.popup,Dt;dt.triggerLayer?Dt=dt.triggerLayer==="bubble"?this.bubbleLayer:this.fillLayer:Dt=this.options.bubble.enable?this.bubbleLayer:this.fillLayer,Dt.on(dt.openTriggerEvent,function(te){if(!!dt.enable){var Ge=dt.Html?dt.Html(te.feature.properties?te.feature.properties:te.feature):"";gt.popup=new a.Popup(T({closeButton:!1},dt.option)).setLnglat(te.lngLat).setHTML(Ge),gt.scene.addPopup(gt.popup)}}),Dt.on(dt.closeTriggerEvent,function(te){gt.popup&&gt.popup.remove()})}},{key:"setLayerAttribute",value:function(gt,dt,Dt){!Dt||(p()(Dt)?gt[dt](Dt.field,Dt.values):gt[dt](Dt))}}]),pe}(u.EventEmitter);function G(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G=function(pe){return typeof pe}:G=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},G(Ee)}function N(Ee,be){var pe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ee);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(Ee,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function at(Ee){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?N(Object(pe),!0).forEach(function(vt){H(Ee,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(pe)):N(Object(pe)).forEach(function(vt){Object.defineProperty(Ee,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return Ee}function H(Ee,be,pe){return be in Ee?Object.defineProperty(Ee,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=pe,Ee}function ft(Ee,be,pe,vt,gt,dt,Dt){try{var te=Ee[dt](Dt),Ge=te.value}catch(cr){pe(cr);return}te.done?be(Ge):Promise.resolve(Ge).then(vt,gt)}function ct(Ee){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=Ee.apply(be,pe);function Dt(Ge){ft(dt,vt,gt,Dt,te,"next",Ge)}function te(Ge){ft(dt,vt,gt,Dt,te,"throw",Ge)}Dt(void 0)})}}function K(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function $(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function et(Ee,be,pe){return be&&$(Ee.prototype,be),pe&&$(Ee,pe),Ee}function B(Ee,be,pe){return typeof Reflect!="undefined"&&Reflect.get?B=Reflect.get:B=function(gt,dt,Dt){var te=w(gt,dt);if(!!te){var Ge=Object.getOwnPropertyDescriptor(te,dt);return Ge.get?Ge.get.call(Dt):Ge.value}},B(Ee,be,pe||Ee)}function w(Ee,be){for(;!Object.prototype.hasOwnProperty.call(Ee,be)&&(Ee=Mt(Ee),Ee!==null););return Ee}function R(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&V(Ee,be)}function V(Ee,be){return V=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},V(Ee,be)}function tt(Ee){var be=ot();return function(){var vt=Mt(Ee),gt;if(be){var dt=Mt(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return lt(this,gt)}}function lt(Ee,be){return be&&(G(be)==="object"||typeof be=="function")?be:Et(Ee)}function Et(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function ot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function Mt(Ee){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Mt(Ee)}var Ot=function(Ee){R(pe,Ee);var be=tt(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K(this,pe),gt=be.call(this,vt,dt),gt.fillRawData=void 0,gt.lineRawData=void 0,gt.labelRawData=void 0,gt.layerType="Province",gt.addProvinceFillLayer(),gt}return et(pe,[{key:"updateDistrict",value:function(gt,dt,Dt){if(!gt&&Array.isArray(gt)&&gt.length===0){this.hide();return}var te=this.options,Ge=te.label,cr=te.showBorder;this.setOption({adcode:gt});var zr=this.filterData(this.fillRawData,gt),Rt=this.filterData(this.lineRawData,gt),Ei=this.filterLabelData(this.labelRawData,gt);this.fillData=zr,this.updateData(dt,Dt),cr&&this.lineLayer.setData(Rt),Ge.enable&&this.labelLayer&&this.labelLayer.setData(Ei),this.show()}},{key:"getDefaultOption",value:function(){var gt=B(Mt(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110000"],depth:2,label:{field:"NAME_CHN",textAllowOverlap:!1},popup:{enable:!0,Html:function(Dt){return"<span>".concat(Dt.NAME_CHN,"</span>")}}})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(Ge){var cr=Ge.properties,zr=cr.adcode_pro,Rt=cr.adcode;return Dt.indexOf(zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(Ge){var cr=Ge.adcode_pro,zr=Ge.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+cr)!==-1||Dt.indexOf(""+zr)!==-1});return te}},{key:"addProvinceFillLayer",value:function(){var vt=ct(regeneratorRuntime.mark(function dt(){var Dt,te,Ge,cr,zr,Rt,Ei,ri,k;return regeneratorRuntime.wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Dt=this.options,te=Dt.depth,Ge=Dt.adcode,cr=Dt.label,zr=Dt.showBorder,Rt=r(this.options.geoDataLevel).country.CHN[te],Bt.next=4,this.fetchData(Rt.fill);case 4:Ei=Bt.sent,this.labelRawData=Ei.features.map(function(yt){return at(at({},yt.properties),{},{center:[yt.properties.x,yt.properties.y]})}),ri=this.filterData(Ei,Ge),this.fillData=ri,k=this.filterLabelData(this.labelRawData,Ge),this.fillRawData=Ei,this.addFillLayer(ri),cr.enable&&this.addLabelLayer(k),this.lineRawData=Ei,zr&&this.addFillLine(ri),this.emit("loaded"),this.loaded=!0;case 16:case"end":return Bt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()}]),pe}(q);function Ft(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(pe){return typeof pe}:Ft=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},Ft(Ee)}function zt(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function $t(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function ce(Ee,be,pe){return be&&$t(Ee.prototype,be),pe&&$t(Ee,pe),Ee}function ye(Ee,be,pe){return typeof Reflect!="undefined"&&Reflect.get?ye=Reflect.get:ye=function(gt,dt,Dt){var te=Je(gt,dt);if(!!te){var Ge=Object.getOwnPropertyDescriptor(te,dt);return Ge.get?Ge.get.call(Dt):Ge.value}},ye(Ee,be,pe||Ee)}function Je(Ee,be){for(;!Object.prototype.hasOwnProperty.call(Ee,be)&&(Ee=ze(Ee),Ee!==null););return Ee}function nr(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&Xe(Ee,be)}function Xe(Ee,be){return Xe=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},Xe(Ee,be)}function mr(Ee){var be=de();return function(){var vt=ze(Ee),gt;if(be){var dt=ze(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return Gr(this,gt)}}function Gr(Ee,be){return be&&(Ft(be)==="object"||typeof be=="function")?be:xe(Ee)}function xe(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function de(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function ze(Ee){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},ze(Ee)}var Ue=function(Ee){nr(pe,Ee);var be=mr(pe);function pe(){var vt;zt(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="City",vt}return ce(pe,[{key:"getDefaultOption",value:function(){var gt=ye(ze(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110000"],depth:3})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(Ge){var cr=Ge.properties,zr=cr.adcode_cit,Rt=cr.adcode;return Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(Ge){var cr=Ge.adcode_cit,zr=Ge.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1});return te}}]),pe}(Ot),Kr=["Country","Region","Province","City","County"],rn={"100":{name:"\u534E\u5317\u533A",code:"100",child:[11e4,12e4,13e4,15e4,21e4,22e4,23e4,37e4],center:[118.740234375,42.87596410238256]},"101":{name:"\u534E\u4E1C\u533A",code:"101",child:[32e4,34e4,31e4],center:[118.564453125,31.765537409484374]},"102":{name:"\u534E\u5357\u533A",code:"102",child:[44e4,45e4,46e4],center:[110.709228515625,22.238259929564308]},"103":{name:"\u534E\u897F\u533A",code:"103",child:[5e5,51e4,52e4,53e4],center:[90.263671875,36.73888412439431]},"104":{name:"\u534E\u4E2D\u533A",code:"104",child:[33e4,35e4,36e4,42e4,43e4],center:[118.05908203124999,28.38173504322308]},"301":{name:"\u4E2D\u897F\u533A",code:"301",child:[14e4,41e4,54e4,61e4,62e4,63e4,64e4,65e4],center:[109.1162109375,35.209721645221386]},"701":{name:"\u6E2F\u6FB3\u53F0",code:"701",child:[71e4,81e4,82e4]}};function ci(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ci=function(pe){return typeof pe}:ci=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},ci(Ee)}function Zi(Ee,be){var pe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ee);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(Ee,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function Ki(Ee){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?Zi(Object(pe),!0).forEach(function(vt){ji(Ee,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(pe)):Zi(Object(pe)).forEach(function(vt){Object.defineProperty(Ee,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return Ee}function ji(Ee,be,pe){return be in Ee?Object.defineProperty(Ee,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=pe,Ee}function Ae(Ee,be,pe,vt,gt,dt,Dt){try{var te=Ee[dt](Dt),Ge=te.value}catch(cr){pe(cr);return}te.done?be(Ge):Promise.resolve(Ge).then(vt,gt)}function De(Ee){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=Ee.apply(be,pe);function Dt(Ge){Ae(dt,vt,gt,Dt,te,"next",Ge)}function te(Ge){Ae(dt,vt,gt,Dt,te,"throw",Ge)}Dt(void 0)})}}function ar(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function Pr(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function or(Ee,be,pe){return be&&Pr(Ee.prototype,be),pe&&Pr(Ee,pe),Ee}function wr(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&cn(Ee,be)}function cn(Ee,be){return cn=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},cn(Ee,be)}function Fn(Ee){var be=Gn();return function(){var vt=$n(Ee),gt;if(be){var dt=$n(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return nn(this,gt)}}function nn(Ee,be){return be&&(ci(be)==="object"||typeof be=="function")?be:Hr(Ee)}function Hr(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function Gn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function $n(Ee){return $n=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},$n(Ee)}var Vr=function(Ee){wr(pe,Ee);var be=Fn(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ar(this,pe),gt=be.call(this,vt,dt),gt.layerType="Country",gt.fillRawData=void 0,gt.init(),gt}return or(pe,[{key:"init",value:function(){var vt=De(regeneratorRuntime.mark(function dt(){var Dt,te,Ge,cr;return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Dt=this.options,te=Dt.depth,Ge=Dt.showBorder,Rt.next=3,this.addProvinceFill();case 3:return Rt.next=5,this.addProvinceLabel();case 5:if(cr=r(this.options.geoDataLevel).country.CHN[te],!Ge){Rt.next=15;break}return Rt.next=9,this.addProvinceLine(cr.provinceLine);case 9:if(te!==2*1){Rt.next=12;break}return Rt.next=12,this.addCityBorder(cr.fill);case 12:if(te!==3*1){Rt.next=15;break}return Rt.next=15,this.addCountyBorder(cr.fill);case 15:this.emit("loaded"),this.loaded=!0;case 17:case"end":return Rt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceFill",value:function(){var vt=De(regeneratorRuntime.mark(function dt(){var Dt,te,Ge,cr,zr,Rt;return regeneratorRuntime.wrap(function(ri){for(;;)switch(ri.prev=ri.next){case 0:return Dt=this.options,te=Dt.depth,Ge=Dt.adcode,cr=r(this.options.geoDataLevel).country.CHN[te],ri.next=4,this.fetchData(cr.fill);case 4:zr=ri.sent,this.fillRawData=zr,Rt=zr,Ge&&Array.isArray(Ge)&&Ge.length!==0&&(Rt=this.filterData(zr,Ge)),this.fillData=Rt,this.addFillLayer(Rt);case 10:case"end":return ri.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceLabel",value:function(){var vt=De(regeneratorRuntime.mark(function dt(){var Dt,te,Ge,cr,zr;return regeneratorRuntime.wrap(function(Ei){for(;;)switch(Ei.prev=Ei.next){case 0:if(te=this.options.depth,Ge=r(this.options.geoDataLevel).country.CHN[te],!Ge.label){Ei.next=8;break}return Ei.next=5,this.fetchData(Ge.label);case 5:Ei.t0=Ei.sent,Ei.next=9;break;case 8:Ei.t0=null;case 9:cr=Ei.t0,cr&&((Dt=this.options.label)===null||Dt===void 0?void 0:Dt.enable)&&(zr=this.getOptions().viewType,zr==="standard"?(this.addLabelLayer(cr.filter(function(ri){return ri.name!=="\u6FB3\u95E8"})),this.addMCLabel()):this.addLabelLayer(cr));case 11:case"end":return Ei.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceLine",value:function(){var vt=De(regeneratorRuntime.mark(function dt(Dt){var te,Ge,cr,zr,Rt,Ei,ri;return regeneratorRuntime.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,this.fetchData(Dt);case 2:te=it.sent,Ge=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt==="1"}),cr=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt==="4"}),zr={type:"FeatureCollection",features:Ge},Rt={type:"FeatureCollection",features:cr},Ei=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt!=="1"&&yt!=="4"}),ri={type:"FeatureCollection",features:Ei},this.addNationBorder(ri,zr,Rt);case 10:case"end":return it.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addNormalProvinceLine",value:function(){var vt=De(regeneratorRuntime.mark(function dt(Dt){return regeneratorRuntime.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:case"end":return Ge.stop()}},dt)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addNationBorder",value:function(){var vt=De(regeneratorRuntime.mark(function dt(Dt,te,Ge){var cr,zr,Rt,Ei,ri,k,it,Bt,yt,ne,_e,ur,jr,_r,Pn,Ln,Li,sa;return regeneratorRuntime.wrap(function(Sa){for(;;)switch(Sa.prev=Sa.next){case 0:cr=this.options,zr=cr.nationalStroke,Rt=cr.provinceStroke,Ei=cr.provinceStrokeWidth,ri=cr.nationalWidth,k=cr.chinaNationalStroke,it=cr.chinaNationalWidth,Bt=cr.coastlineStroke,yt=cr.coastlineWidth,ne=cr.showBorder,_e=cr.stroke,ur=cr.strokeWidth,jr=cr.visible,_r=cr.zIndex,Pn=cr.strokeOpacity,Ln=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(Dt).size("type",function(pa){return pa==="3"?Ei:pa==="2"?yt:pa==="0"?it:"#fff"}).shape("line").color("type",function(pa){return pa==="3"?Rt:pa==="2"?Bt:pa==="0"?k:"#fff"}),Li=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(te).size(it).shape("line").color(k).style({lineType:"dash",dashArray:[2,2]}),sa=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(Ge).size(Ei).shape("line").color(Rt).style({lineType:"dash",dashArray:[4,2,2,2]}),this.scene.addLayer(Ln),this.scene.addLayer(Li),this.scene.addLayer(sa),this.layers.push(Ln,Li,sa);case 8:case"end":return Sa.stop()}},dt,this)}));function gt(dt,Dt,te){return vt.apply(this,arguments)}return gt}()},{key:"addCityBorder",value:function(){var vt=De(regeneratorRuntime.mark(function dt(Dt){var te,Ge,cr,zr,Rt,Ei,ri;return regeneratorRuntime.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,this.fetchData(Dt);case 2:te=it.sent,Ge=this.options,cr=Ge.cityStroke,zr=Ge.cityStrokeWidth,Rt=Ge.visible,Ei=Ge.strokeOpacity,ri=new a.LineLayer({zIndex:2,visible:Rt}).source(te).color(cr).size(zr).style({opacity:Ei}),this.scene.addLayer(ri),this.layers.push(ri);case 7:case"end":return it.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addCountyBorder",value:function(){var vt=De(regeneratorRuntime.mark(function dt(Dt){var te,Ge,cr,zr,Rt,Ei,ri;return regeneratorRuntime.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,this.fetchData(Dt);case 2:te=it.sent,Ge=this.options,cr=Ge.countyStrokeWidth,zr=Ge.countyStroke,Rt=Ge.visible,Ei=Ge.strokeOpacity,ri=new a.LineLayer({zIndex:2,visible:Rt}).source(te).color(zr).size(cr).style({opacity:Ei}),this.scene.addLayer(ri),this.layers.push(ri);case 7:case"end":return it.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addMCLabel",value:function(){var gt=[{name:"\u6FB3\u95E8",center:[113.537747,22.187009]}],dt=this.addText(gt,{maxZoom:2.9},[-45,-10]),Dt=this.addText(gt,{minZoom:3,maxZoom:4},[-35,-10]),te=this.addText(gt,{minZoom:4.1},[0,0]);this.scene.addLayer(te),this.scene.addLayer(dt),this.scene.addLayer(Dt),this.layers.push(te,dt,Dt)}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(Ge){var cr=Ge.properties,zr=cr.REGION_CODE,Rt=cr.adcode_pro;return Dt.indexOf("86")!==-1||Dt.indexOf(86)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"addText",value:function(gt,dt,Dt){var te=this.options,Ge=te.label,cr=te.zIndex,zr=te.visible,Rt=new a.PointLayer(Ki({zIndex:cr+.4,visible:zr},dt)).source(gt,{parser:{type:"json",coordinates:"center"}}).color(Ge.color).shape("name","text").size(Ge.size).style({opacity:Ge.opacity,stroke:Ge.stroke,strokeWidth:Ge.strokeWidth,textAllowOverlap:Ge.textAllowOverlap,textOffset:Dt});return Rt}},{key:"addRegionLabel",value:function(){var gt=Object.values(rn).map(function(dt){return dt})}}]),pe}(q);function Ir(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ir=function(pe){return typeof pe}:Ir=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},Ir(Ee)}function ti(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function ge(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function Le(Ee,be,pe){return be&&ge(Ee.prototype,be),pe&&ge(Ee,pe),Ee}function Se(Ee,be,pe){return typeof Reflect!="undefined"&&Reflect.get?Se=Reflect.get:Se=function(gt,dt,Dt){var te=Ve(gt,dt);if(!!te){var Ge=Object.getOwnPropertyDescriptor(te,dt);return Ge.get?Ge.get.call(Dt):Ge.value}},Se(Ee,be,pe||Ee)}function Ve(Ee,be){for(;!Object.prototype.hasOwnProperty.call(Ee,be)&&(Ee=an(Ee),Ee!==null););return Ee}function le(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&vr(Ee,be)}function vr(Ee,be){return vr=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},vr(Ee,be)}function He(Ee){var be=Mr();return function(){var vt=an(Ee),gt;if(be){var dt=an(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return rr(this,gt)}}function rr(Ee,be){return be&&(Ir(be)==="object"||typeof be=="function")?be:Dr(Ee)}function Dr(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function Mr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function an(Ee){return an=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},an(Ee)}var gn=function(Ee){le(pe,Ee);var be=He(pe);function pe(){var vt;ti(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="County",vt}return Le(pe,[{key:"getDefaultOption",value:function(){var gt=Se(an(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110100"],depth:3})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(Ge){var cr=Ge.properties.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(Ge){var cr=Ge.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1});return te}}]),pe}(Ot);function qr(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(pe){return typeof pe}:qr=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},qr(Ee)}function Dn(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function ae(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&er(Ee,be)}function er(Ee,be){return er=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},er(Ee,be)}function sr(Ee){var be=pi();return function(){var vt=Yi(Ee),gt;if(be){var dt=Yi(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return kr(this,gt)}}function kr(Ee,be){return be&&(qr(be)==="object"||typeof be=="function")?be:Rn(Ee)}function Rn(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function pi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function Yi(Ee){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Yi(Ee)}var da=function(Ee){ae(pe,Ee);var be=sr(pe);function pe(){var vt;Dn(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="Region",vt}return pe}(Ot);function _a(Ee,be){var pe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ee);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(Ee,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function fa(Ee){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?_a(Object(pe),!0).forEach(function(vt){wo(Ee,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(pe)):_a(Object(pe)).forEach(function(vt){Object.defineProperty(Ee,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return Ee}function wo(Ee,be,pe){return be in Ee?Object.defineProperty(Ee,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=pe,Ee}function ho(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function mo(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function yo(Ee,be,pe){return be&&mo(Ee.prototype,be),pe&&mo(Ee,pe),Ee}function zo(Ee,be){if(Array.isArray(be))return be}var io=function(){function Ee(be,pe){ho(this,Ee),this.drillState=void 0,this.options=void 0,this.regionLayer=void 0,this.cityLayer=void 0,this.countyLayer=void 0,this.provinceLayer=void 0,this.scene=void 0,this.layers=[],this.drillList=void 0,this.options=g()(this.getDefaultOption(),pe,zo),this.drillState=this.options.viewStart,this.scene=be,this.drillList=this.getViewList(),this.initLayers(be),this.initLayerEvent(),this.scene.setMapStatus({doubleClickZoom:!1})}return yo(Ee,[{key:"getDefaultOption",value:function(){return{drillDepth:2,drillStart:1,customTrigger:!1,autoUpdateData:!0,regionDrill:!1,drillDownTriggerEvent:"click",drillUpTriggerEvent:"undblclick",provinceData:[],viewStart:"Country",viewEnd:"County",cityData:[],countyData:[],city:{adcode:[],depth:2},region:{adcode:[],depth:1},county:{adcode:[]}}}},{key:"addCountryEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillDownEvent;this.provinceLayer.fillLayer.on(gt,function(Dt){var te=Dt.feature.properties.adcode,Ge="Province";if(pe.drillState="Province",pe.options.regionDrill){var cr=Dt.feature.properties.REGION_CODE;te=rn[cr].child,pe.drillState="Region",Ge="Region"}pe.options.autoUpdateData&&pe.drillDown(te),pe.drillList.indexOf(Ge)!==-1&&(pe.provinceLayer.hide(),dt&&dt(Dt.feature.properties,Ge,te))})}},{key:"addRegionEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent,te=vt.drillDownEvent;this.regionLayer.fillLayer.on(dt,function(Ge){pe.drillUp("Country"),pe.drillList.indexOf("Country")!==-1&&Dt&&Dt({from:"region",to:"country"})}),this.regionLayer.fillLayer.on(gt,function(Ge){pe.drillState="Province",pe.options.autoUpdateData&&pe.drillDown(Ge.feature.properties.adcode),pe.drillList.indexOf("Province")!==-1&&(pe.regionLayer.hide(),te&&te(Ge.feature.properties,"Province",Ge.feature.properties.adcode))})}},{key:"addProvinceEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent,te=vt.drillDownEvent;this.cityLayer.fillLayer.on(dt,function(){pe.drillState="Province";var Ge=pe.options.regionDrill?"Region":"Country";pe.drillUp(Ge),pe.drillList.indexOf(Ge)!==-1&&Dt&&Dt({to:Ge,from:"Province"})}),this.cityLayer.fillLayer.on(gt,function(Ge){pe.drillState="City",pe.options.autoUpdateData&&pe.drillDown(Ge.feature.properties.adcode),pe.drillList.indexOf("City")!==-1&&te&&te(Ge.feature.properties,"City",Ge.feature.properties.adcode)})}},{key:"addCityEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent;this.countyLayer.fillLayer.on(dt,function(){pe.drillUp("Province"),pe.drillList.indexOf("Province")!==-1&&Dt&&Dt({to:"Province",from:"city"})})}},{key:"show",value:function(){this.layers.forEach(function(pe){return pe.show()})}},{key:"hide",value:function(){this.layers.forEach(function(pe){return pe.hide()})}},{key:"destroy",value:function(){this.layers.forEach(function(pe){return pe.destroy()})}},{key:"showProvinceView",value:function(pe,vt,gt){this.cityLayer.show(),this.cityLayer.updateDistrict(pe,vt,gt),this.cityLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.provinceLayer.hide(),this.drillState="Province"}},{key:"showCityView",value:function(pe,vt,gt){this.countyLayer.show();var dt="".concat(pe);dt.substr(0,4)==="5000"?dt=[dt.substr(0,2)+"0100",dt.substr(0,2)+"0200"]:dt.substr(2,2)==="00"&&dt!=="810000"&&dt!=="820000"&&(dt=[dt.substr(0,2)+"0100"]),this.countyLayer.updateDistrict(dt,vt,gt),this.countyLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="City"}},{key:"showRegionView",value:function(pe,vt,gt){this.regionLayer.show(),this.regionLayer.updateDistrict(pe,vt,gt),this.regionLayer.fillLayer.fitBounds(),this.provinceLayer.hide(),this.drillState="Region"}},{key:"drillUp",value:function(pe){if(this.drillList.indexOf(pe)!==-1)switch(pe){case"Province":this.cityLayer.show(),this.cityLayer.fillLayer.fitBounds(),this.countyLayer.hide(),this.drillState="Province";break;case"Country":this.provinceLayer.show(),this.provinceLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.cityLayer.hide(),this.drillState="Country";break;case"Region":this.options.regionDrill&&(this.regionLayer.show(),this.regionLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="Region");break}}},{key:"drillDown",value:function(pe,vt,gt){if(this.drillList.indexOf(this.drillState)!==-1)switch(this.drillState){case"Province":this.showProvinceView(pe,vt,gt);break;case"Region":this.showRegionView(pe,vt,gt);break;case"City":this.showCityView(pe,vt,gt);break}}},{key:"updateData",value:function(pe,vt,gt){switch(pe){case"Country":case"province":this.provinceLayer.updateData(vt,gt);break;case"Region":case"region":this.regionLayer.updateData(vt,gt);break;case"Province":case"city":this.cityLayer.updateData(vt,gt);break;case"City":case"county":this.countyLayer.updateData(vt,gt)}}},{key:"getLayerOption",value:function(pe){var vt=this.options,gt=vt.joinBy,dt=vt.label,Dt=vt.bubble,te=vt.fill,Ge=vt.popup,cr=vt.geoDataLevel,zr=vt.onClick,Rt=pe.toLowerCase()+"Data";return fa({data:this.options[Rt],joinBy:gt,label:dt,bubble:Dt,fill:te,popup:Ge,onClick:zr,geoDataLevel:cr},this.options[pe.toLowerCase()])}},{key:"initLayers",value:function(pe){var vt=this.getViewList();vt.indexOf("Country")!==-1&&(this.provinceLayer=new Vr(pe,fa({},this.getLayerOption("Province")))),vt.indexOf("Region")!==-1&&(this.regionLayer=new da(pe,this.getLayerOption("Region"))),vt.indexOf("Province")!==-1&&(this.cityLayer=new Ot(pe,this.getLayerOption("City"))),vt.indexOf("City")!==-1&&(this.countyLayer=new Ue(pe,this.getLayerOption("County")))}},{key:"initLayerEvent",value:function(){var pe=this,vt=this.getViewList();this.options.customTrigger||(vt.indexOf("Country")!==-1&&this.provinceLayer.on("loaded",function(){pe.addCountryEvent(),pe.options.viewStart!=="Country"&&pe.provinceLayer.hide(),pe.layers.push(pe.provinceLayer)}),vt.indexOf("Region")!==-1&&this.regionLayer.on("loaded",function(){pe.addRegionEvent(),pe.options.viewStart!=="Region"&&pe.regionLayer.hide(),pe.layers.push(pe.regionLayer)}),vt.indexOf("Province")!==-1&&this.cityLayer.on("loaded",function(){pe.addProvinceEvent(),pe.options.viewStart!=="Province"&&pe.cityLayer.hide(),pe.layers.push(pe.cityLayer)}),vt.indexOf("City")!==-1&&this.countyLayer.on("loaded",function(){pe.addCityEvent(),pe.options.viewStart!=="City"&&pe.countyLayer.hide(),pe.layers.push(pe.countyLayer)}))}},{key:"getViewList",value:function(){var pe=this.options,vt=pe.viewStart,gt=pe.viewEnd,dt=Kr;!this.options.regionDrill&&dt.indexOf("Region")!==-1&&dt.splice(1,1);var Dt=dt.indexOf(vt),te=dt.indexOf(gt);if(Dt===-1||te===-1||te<Dt)throw new Error("\u4E0B\u94BB viewStart, viewEnd \u53C2\u6570\u9519\u8BEF");return dt.slice(Dt,te+1)}},{key:"getProperties",value:function(pe,vt){var gt=Array.isArray(vt)?vt:[vt],dt=pe.features.filter(function(Dt){var te=Dt.properties.adcode;return gt.indexOf(te)!==-1||gt.indexOf(""+te)!==-1});return dt[0]?dt[0].properties:{}}},{key:"enablePopup",value:function(){this.cityLayer&&this.cityLayer.enablePopup(),this.countyLayer&&this.countyLayer.enablePopup(),this.provinceLayer&&this.provinceLayer.enablePopup(),this.regionLayer&&this.regionLayer.enablePopup()}},{key:"disablePopup",value:function(){this.cityLayer&&this.cityLayer.disablePopup(),this.countyLayer&&this.countyLayer.disablePopup(),this.provinceLayer&&this.provinceLayer.disablePopup(),this.regionLayer&&this.regionLayer.disablePopup()}}]),Ee}();function Za(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(pe){return typeof pe}:Za=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},Za(Ee)}function qa(Ee,be){var pe=Object.keys(Ee);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(Ee);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(Ee,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function Zt(Ee){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?qa(Object(pe),!0).forEach(function(vt){je(Ee,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(pe)):qa(Object(pe)).forEach(function(vt){Object.defineProperty(Ee,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return Ee}function je(Ee,be,pe){return be in Ee?Object.defineProperty(Ee,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Ee[be]=pe,Ee}function lr(Ee,be,pe,vt,gt,dt,Dt){try{var te=Ee[dt](Dt),Ge=te.value}catch(cr){pe(cr);return}te.done?be(Ge):Promise.resolve(Ge).then(vt,gt)}function Br(Ee){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=Ee.apply(be,pe);function Dt(Ge){lr(dt,vt,gt,Dt,te,"next",Ge)}function te(Ge){lr(dt,vt,gt,Dt,te,"throw",Ge)}Dt(void 0)})}}function Vt(Ee,be){return pn(Ee)||Sr(Ee,be)||Ce(Ee,be)||ee()}function ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(Ee,be){if(!!Ee){if(typeof Ee=="string")return Me(Ee,be);var pe=Object.prototype.toString.call(Ee).slice(8,-1);if(pe==="Object"&&Ee.constructor&&(pe=Ee.constructor.name),pe==="Map"||pe==="Set")return Array.from(Ee);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return Me(Ee,be)}}function Me(Ee,be){(be==null||be>Ee.length)&&(be=Ee.length);for(var pe=0,vt=new Array(be);pe<be;pe++)vt[pe]=Ee[pe];return vt}function Sr(Ee,be){var pe=Ee==null?null:typeof Symbol!="undefined"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(pe!=null){var vt=[],gt=!0,dt=!1,Dt,te;try{for(pe=pe.call(Ee);!(gt=(Dt=pe.next()).done)&&(vt.push(Dt.value),!(be&&vt.length===be));gt=!0);}catch(Ge){dt=!0,te=Ge}finally{try{!gt&&pe.return!=null&&pe.return()}finally{if(dt)throw te}}return vt}}function pn(Ee){if(Array.isArray(Ee))return Ee}function En(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}function fi(Ee,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ee,vt.key,vt)}}function Ci(Ee,be,pe){return be&&fi(Ee.prototype,be),pe&&fi(Ee,pe),Ee}function aa(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),be&&ta(Ee,be)}function ta(Ee,be){return ta=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},ta(Ee,be)}function Ea(Ee){var be=za();return function(){var vt=Ia(Ee),gt;if(be){var dt=Ia(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return ca(this,gt)}}function ca(Ee,be){return be&&(Za(be)==="object"||typeof be=="function")?be:to(Ee)}function to(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function za(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ee){return!1}}function Ia(Ee){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Ia(Ee)}var Va=function(Ee){aa(pe,Ee);var be=Ea(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return En(this,pe),gt=be.call(this,vt,dt),gt.loadData().then(function(Dt){var te,Ge=Vt(Dt,3),cr=Ge[0],zr=Ge[1],Rt=Ge[2];gt.addFillLayer(cr),gt.options.showBorder&&gt.addFillLine(zr),((te=gt.options.label)===null||te===void 0?void 0:te.enable)&&gt.addLabelLayer(Rt,"json"),gt.emit("loaded"),gt.loaded=!0}),gt}return Ci(pe,[{key:"addFillLine",value:function(gt){var dt=gt.features.filter(function(cr){return cr.properties.type==="10"||cr.properties.type==="1"||cr.properties.type==="11"||cr.properties.type==="8"}),Dt={type:"FeatureCollection",features:dt},te=gt.features.filter(function(cr){return cr.properties.type!=="10"&&cr.properties.type!=="1"&&cr.properties.type!=="11"&&cr.properties.type!=="8"}),Ge={type:"FeatureCollection",features:te};this.addNationBorder(Ge,Dt)}},{key:"loadData",value:function(){var vt=Br(regeneratorRuntime.mark(function dt(){var Dt,te,Ge,cr;return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Dt=r(this.options.geoDataLevel).world,Rt.next=3,this.fetchData(Dt.fill);case 3:return te=Rt.sent,Rt.next=6,this.fetchData(Dt.line);case 6:return Ge=Rt.sent,cr=te.features.map(function(Ei){return Zt(Zt({},Ei.properties),{},{center:[Ei.properties.x,Ei.properties.y]})}),Rt.abrupt("return",[te,Ge,cr]);case 9:case"end":return Rt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addNationBorder",value:function(gt,dt){var Dt=this.options,te=Dt.nationalStroke,Ge=Dt.nationalWidth,cr=Dt.coastlineStroke,zr=Dt.chinaNationalStroke,Rt=Dt.chinaNationalWidth,Ei=Dt.coastlineWidth,ri=Dt.visible,k=Dt.zIndex,it=new a.LineLayer({zIndex:k+.1,visible:ri}).source(gt).size("type",function(yt){return yt==="0"?Rt:yt==="2"||yt==="9"?Ei:Ge}).color("type",function(yt){return yt==="0"?zr:yt==="2"||yt==="9"?cr:te}),Bt=new a.LineLayer({zIndex:k+.1,visible:ri}).source(dt).size("type",function(yt){return yt==="1"?Rt:Ge}).shape("line").color("type",function(yt){return yt==="1"?zr:te}).style({lineType:"dash",dashArray:[2,2]});this.scene.addLayer(it),this.scene.addLayer(Bt),this.layers.push(it,Bt)}}]),pe}(q);function ro(Ee){var be=Object.values(RegionList).find(function(pe){return pe.child.indexOf(Ee)!==-1});return be}},99873:function(gr,P,x){"use strict";x.d(P,{MK:function(){return ze},Jx:function(){return $a}});var i=x(67294),t=(0,i.createContext)({});function c(){return useContext(t)}var s=x(96773),v=x(6610),o=x(5991),f=x(10379),r=x(46070),e=x(77608),n=x(55770),a=x(96156),u=x(3473),l=x(58881),h,p,d;function g(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function y(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?g(Object(Kt),!0).forEach(function(Re){(0,a.Z)(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):g(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}var E=(h=(0,l.yT)(l.vK.IGlobalConfigService),p=function(){function ie(he){(0,v.Z)(this,ie),(0,n.Z)(this,"configService",d,this),(0,a.Z)(this,"config",void 0),this.config=he}return(0,o.Z)(ie,[{key:"setContainer",value:function(Kt,Re){Kt.bind(l.vK.MapConfig).toConstantValue(y(y({},this.config),{},{id:Re})),Kt.bind(l.vK.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),ie}(),d=(0,u.Z)(p.prototype,"configService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p),C=x(81253),m=x(92137),M=x(28481),b=x(87757),S=x.n(b),A=x(81618),T=x.n(A),O=x(91739),D=x(85975),L=x(77160),Z=x(86700),U=x(28660);function Y(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function W(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?Y(Object(Kt),!0).forEach(function(Re){(0,a.Z)(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):Y(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function J(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he={top:0,right:0,bottom:0,left:0};if(typeof ie=="number")return{top:ie,right:ie,bottom:ie,left:ie};if(Array.isArray(ie)){if(ie.length===4)return{top:ie[0],right:ie[1],bottom:ie[2],left:ie[3]};if(ie.length===2)return{top:ie[0],right:ie[1],bottom:ie[0],left:ie[1]}}return W(W({},he),ie)}var ht;(function(ie){ie["GAODE1.x"]="GAODE1.x",ie["GAODE2.x"]="GAODE2.x",ie.MAPBOX="MAPBOX",ie.L7MAP="L7MAP",ie.GLOBEL="GLOBEL"})(ht||(ht={}));var nt={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},Q=Math.PI/180,xt=function(){function ie(){(0,v.Z)(this,ie),(0,a.Z)(this,"projectionMatrix",D.create()),(0,a.Z)(this,"viewMatrix",D.create()),(0,a.Z)(this,"viewProjectionMatrix",D.create()),(0,a.Z)(this,"ViewProjectionMatrixUncentered",D.create()),(0,a.Z)(this,"viewUncenteredMatrix",D.create()),(0,a.Z)(this,"zoom",void 0),(0,a.Z)(this,"center",void 0)}return(0,o.Z)(ie,[{key:"syncWithMapCamera",value:function(Kt){var Re=Kt.zoom,br=Re===void 0?1:Re,Tn=Kt.pitch,gi=Tn===void 0?0:Tn,Oi=Kt.bearing,Di=Oi===void 0?0:Oi,ea=Kt.center,ha=ea===void 0?[0,0]:ea,Ba=Kt.offsetOrigin,na=Ba===void 0?[0,0]:Ba,ts=Kt.cameraHeight,po=ts===void 0?1:ts,uo=Kt.aspect,Zo=uo===void 0?1:uo,Qa=Kt.near,go=Qa===void 0?.1:Qa,fs=Kt.far,es=fs===void 0?1e3:fs,Rs=Kt.fov,os=Rs===void 0?0:Rs;this.zoom=br,this.center=ha;var ss=gi*Q,Bo=(360-Di)*Q;D.perspective(this.projectionMatrix,os,Zo,go,es);var Zs=L.fromValues(po*Math.sin(ss)*Math.sin(Bo),-po*Math.sin(ss)*Math.cos(Bo),po*Math.cos(ss)),Es=L.fromValues(-Math.cos(ss)*Math.sin(Bo),Math.cos(ss)*Math.cos(Bo),Math.sin(ss));D.lookAt(this.viewMatrix,Zs,L.fromValues(0,0,0),Es),this.viewUncenteredMatrix=D.clone(this.viewMatrix),D.translate(this.viewMatrix,this.viewMatrix,L.fromValues(-na[0],na[1],0)),D.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),D.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var Kt=(0,M.Z)(this.center,2),Re=Kt[0],br=Kt[1];return[Re,br]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(Kt,Re){var br=85.0511287798,Tn=Math.max(Math.min(br,Kt[1]),-br),gi=256<<20,Oi=Math.PI/180,Di=Kt[0]*Oi,ea=Tn*Oi;ea=Math.log(Math.tan(Math.PI/4+ea/2));var ha=.5/Math.PI,Ba=.5,na=-.5/Math.PI;return Oi=.5,Di=gi*(ha*Di+Ba)-215440491,ea=-(gi*(na*ea+Oi)-106744817),[Di,ea]}}]),ie}(),_t,Nt,rt,q,G,N,at,H,ft,ct,K;function $(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function et(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?$(Object(Kt),!0).forEach(function(Re){(0,a.Z)(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):$(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function B(ie,he){var Kt=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",Re=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(Kt||Re)&&(he||(he=document),!!he)){var br=he.head||he.getElementsByTagName("head")[0];if(!br){br=he.createElement("head");var Tn=he.body||he.getElementsByTagName("body")[0];Tn?Tn.parentNode.insertBefore(br,Tn):he.documentElement.appendChild(br)}var gi=he.createElement("style");return gi.type="text/css",gi.styleSheet?gi.styleSheet.cssText=ie:gi.appendChild(he.createTextNode(ie)),br.appendChild(gi),gi}}B(`.amap-logo{
 display: none !important;
}
`);var w=0;window.forceWebGL=!0;var R="15cd8a57710d40c9b7c0e3cc120f1200",V="1.4.15",tt="amap-script",lt=!1,Et=[],ot=12,Mt=(_t=(0,Z.b2)(),Nt=(0,Z.f3)(l.vK.IGlobalConfigService),rt=(0,Z.f3)(l.vK.MapConfig),q=(0,Z.f3)(l.vK.ICoordinateSystemService),G=(0,Z.f3)(l.vK.IEventEmitter),_t(N=(at=function(){function ie(){var he=this;(0,v.Z)(this,ie),(0,a.Z)(this,"version",ht["GAODE1.x"]),(0,a.Z)(this,"map",void 0),(0,a.Z)(this,"bgColor","rgba(0, 0, 0, 0)"),(0,n.Z)(this,"configService",H,this),(0,n.Z)(this,"config",ft,this),(0,n.Z)(this,"coordinateSystemService",ct,this),(0,n.Z)(this,"eventEmitter",K,this),(0,a.Z)(this,"markerContainer",void 0),(0,a.Z)(this,"$mapContainer",void 0),(0,a.Z)(this,"viewport",void 0),(0,a.Z)(this,"cameraChangedCallback",void 0),(0,a.Z)(this,"handleCameraChanged",function(Kt){var Re=Kt.camera,br=Re.fov,Tn=Re.near,gi=Re.far,Oi=Re.height,Di=Re.pitch,ea=Re.rotation,ha=Re.aspect,Ba=Re.position,na=he.getCenter(),ts=na.lng,po=na.lat;if(he.emit("mapchange"),he.cameraChangedCallback){he.viewport.syncWithMapCamera({aspect:ha,bearing:360-ea,far:gi,fov:br,cameraHeight:Oi,near:Tn,pitch:Di,zoom:he.map.getZoom()-1,center:[ts,po],offsetOrigin:[Ba.x,Ba.y]});var uo=he.config.offsetZoom,Zo=uo===void 0?ot:uo;he.viewport.getZoom()>Zo?he.coordinateSystemService.setCoordinateSystem(l.CoordinateSystem.P20_OFFSET):he.coordinateSystemService.setCoordinateSystem(l.CoordinateSystem.P20),he.cameraChangedCallback(he.viewport)}})}return(0,o.Z)(ie,[{key:"setBgColor",value:function(Kt){this.bgColor=Kt}},{key:"addMarkerContainer",value:function(){var Kt=this.map.getContainer();if(Kt!==null){var Re=Kt.getElementsByClassName("amap-maps")[0];this.markerContainer=O.SO.create("div","l7-marker-container",Re)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(Kt,Re){l.MapServiceEvent.indexOf(Kt)!==-1?this.eventEmitter.on(Kt,Re):this.map.on(Kt,Re)}},{key:"off",value:function(Kt,Re){l.MapServiceEvent.indexOf(Kt)!==-1?this.eventEmitter.off(Kt,Re):this.map.off(Kt,Re)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var Kt;return(Kt=this.map.getContainer())===null||Kt===void 0?void 0:Kt.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var Kt=this.map.getSize();return[Kt.getWidth(),Kt.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(Kt){return this.map.setZoom(Kt)}},{key:"getCenter",value:function(Kt){if(Kt!=null&&Kt.padding){var Re=this.getCenter(),br=this.getSize(),Tn=(0,M.Z)(br,2),gi=Tn[0],Oi=Tn[1],Di=J(Kt.padding),ea=this.lngLatToPixel([Re.lng,Re.lat]),ha=[(Di.right-Di.left)/2,(Di.bottom-Di.top)/2],Ba=this.pixelToLngLat([ea.x-ha[0],ea.y-ha[1]]);return Ba}var na=this.map.getCenter();return{lng:na.getLng(),lat:na.getLat()}}},{key:"setCenter",value:function(Kt,Re){if(Re!=null&&Re.padding){var br=J(Re.padding),Tn=this.lngLatToPixel(Kt),gi=[(br.right-br.left)/2,(br.bottom-br.top)/2],Oi=this.pixelToLngLat([Tn.x+gi[0],Tn.y+gi[1]]);this.map.setCenter([Oi.lng,Oi.lat])}else this.map.setCenter(Kt)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var Kt=this.map.getBounds().toBounds(),Re=Kt.getNorthEast(),br=Kt.getSouthWest(),Tn=this.getCenter(),gi=Tn.lng>Re.getLng()||Tn.lng<br.getLng()?180-Re.getLng():Re.getLng(),Oi=Tn.lng<br.getLng()?br.getLng()-180:br.getLng();return[[Oi,br.getLat()],[gi,Re.getLat()]]}},{key:"getMinZoom",value:function(){var Kt=this.map.get("zooms");return Kt[0]-1}},{key:"getMaxZoom",value:function(){var Kt=this.map.get("zooms");return Kt[1]-1}},{key:"setRotation",value:function(Kt){return this.map.setRotation(Kt)}},{key:"setPitch",value:function(Kt){return this.map.setPitch(Kt)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(Kt){this.map.panTo(Kt)}},{key:"panBy",value:function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.map.panBy(Kt,Re)}},{key:"fitBounds",value:function(Kt){this.map.setBounds(new AMap.Bounds([Kt[0][0],Kt[0][1],Kt[1][0],Kt[1][1]]))}},{key:"setZoomAndCenter",value:function(Kt,Re){this.map.setZoomAndCenter(Kt,Re)}},{key:"setMapStyle",value:function(Kt){this.map.setMapStyle(this.getMapStyle(Kt))}},{key:"setMapStatus",value:function(Kt){this.map.setStatus(Kt)}},{key:"pixelToLngLat",value:function(Kt){var Re=this.map.pixelToLngLat(new AMap.Pixel(Kt[0],Kt[1]));return{lng:Re.getLng(),lat:Re.getLat()}}},{key:"lngLatToPixel",value:function(Kt){var Re=this.map.lnglatToPixel(new AMap.LngLat(Kt[0],Kt[1]));return{x:Re.getX(),y:Re.getY()}}},{key:"containerToLngLat",value:function(Kt){var Re=new AMap.Pixel(Kt[0],Kt[1]),br=this.map.containerToLngLat(Re);return{lng:br==null?void 0:br.getLng(),lat:br==null?void 0:br.getLat()}}},{key:"lngLatToContainer",value:function(Kt){var Re=new AMap.LngLat(Kt[0],Kt[1]),br=this.map.lngLatToContainer(Re);return{x:br.getX(),y:br.getY()}}},{key:"lngLatToCoord",value:function(Kt){var Re=this.map.lngLatToGeodeticCoord(Kt),br=Re.x,Tn=Re.y;return[br,-Tn]}},{key:"lngLatToMercator",value:function(Kt,Re){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(Kt,Re,br){var Tn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],gi=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},Oi=this.viewport.projectFlat(Kt),Di=D.create();return D.translate(Di,Di,L.fromValues(Oi[0],Oi[1],Re)),D.scale(Di,Di,L.fromValues(Tn[0],Tn[1],Tn[2])),D.rotateX(Di,Di,br[0]),D.rotateY(Di,Di,br[1]),D.rotateZ(Di,Di,br[2]),Di}},{key:"init",value:function(){var he=(0,m.Z)(S().mark(function Re(){var br=this,Tn,gi,Oi,Di,ea,ha,Ba,na,ts,po,uo,Zo,Qa,go;return S().wrap(function(es){for(;;)switch(es.prev=es.next){case 0:return Tn=this.config,gi=Tn.id,Oi=Tn.style,Di=Oi===void 0?"light":Oi,ea=Tn.minZoom,ha=ea===void 0?0:ea,Ba=Tn.maxZoom,na=Ba===void 0?18:Ba,ts=Tn.token,po=ts===void 0?R:ts,uo=Tn.mapInstance,Zo=Tn.plugin,Qa=Zo===void 0?[]:Zo,go=(0,C.Z)(Tn,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),es.next=3,new Promise(function(Rs){var os=function(){if(uo)br.map=uo,br.$mapContainer=br.map.getContainer(),setTimeout(function(){br.map.on("camerachange",br.handleCameraChanged),Rs()},30);else{br.$mapContainer=br.creatAmapContainer(gi);var Bo=new AMap.Map(br.$mapContainer,et({mapStyle:br.getMapStyle(Di),zooms:[ha,na],viewMode:"3D"},go));Bo.on("camerachange",br.handleCameraChanged),br.map=Bo,setTimeout(function(){Rs()},10)}};!lt&&!uo?(po===R&&console.warn(br.configService.getSceneWarninfo("MapToken")),lt=!0,Qa.push("Map3D"),T().load({key:po,version:V,plugins:Qa}).then(function(ss){os(),Et.length&&(Et.forEach(function(Bo){return Bo()}),Et=[])}).catch(function(ss){throw new Error(ss)})):lt&&window.AMap||uo?os():Et.push(os)});case 3:this.viewport=new xt;case 4:case"end":return es.stop()}},Re,this)}));function Kt(){return he.apply(this,arguments)}return Kt}()},{key:"exportMap",value:function(Kt){var Re,br=(Re=this.getContainer())===null||Re===void 0?void 0:Re.getElementsByClassName("amap-layer")[0],Tn=Kt==="jpg"?br==null?void 0:br.toDataURL("image/jpeg"):br==null?void 0:br.toDataURL("image/png");return Tn}},{key:"emit",value:function(Kt){for(var Re,br=arguments.length,Tn=new Array(br>1?br-1:0),gi=1;gi<br;gi++)Tn[gi-1]=arguments[gi];(Re=this.eventEmitter).emit.apply(Re,[Kt].concat(Tn))}},{key:"once",value:function(Kt){for(var Re,br=arguments.length,Tn=new Array(br>1?br-1:0),gi=1;gi<br;gi++)Tn[gi-1]=arguments[gi];(Re=this.eventEmitter).once.apply(Re,[Kt].concat(Tn))}},{key:"destroy",value:function(){var Kt,Re;this.map.destroy(),(Kt=this.$mapContainer)===null||Kt===void 0||(Re=Kt.parentNode)===null||Re===void 0||Re.removeChild(this.$mapContainer),delete window.initAMap;var br=document.getElementById(tt);br&&document.head.removeChild(br)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(Kt){this.cameraChangedCallback=Kt}},{key:"getMapStyle",value:function(Kt){return nt[Kt]?nt[Kt]:Kt}},{key:"creatAmapContainer",value:function(Kt){var Re=Kt;typeof Kt=="string"&&(Re=document.getElementById(Kt));var br=document.createElement("div");return br.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,br.id="l7_amap_div"+w++,Re.appendChild(br),br}}]),ie}(),H=(0,u.Z)(at.prototype,"configService",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=(0,u.Z)(at.prototype,"config",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=(0,u.Z)(at.prototype,"coordinateSystemService",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,u.Z)(at.prototype,"eventEmitter",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at))||N);function Ot(ie){var he=Ft();return function(){var Re=(0,e.Z)(ie),br;if(he){var Tn=(0,e.Z)(this).constructor;br=Reflect.construct(Re,arguments,Tn)}else br=Re.apply(this,arguments);return(0,r.Z)(this,br)}}function Ft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}var zt=function(ie){(0,f.Z)(Kt,ie);var he=Ot(Kt);function Kt(){return(0,v.Z)(this,Kt),he.apply(this,arguments)}return(0,o.Z)(Kt,[{key:"getServiceConstructor",value:function(){return Mt}}]),Kt}(E);function $t(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function ce(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?$t(Object(Kt),!0).forEach(function(Re){ye(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):$t(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function ye(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function Je(ie,he){return xe(ie)||Gr(ie,he)||Xe(ie,he)||nr()}function nr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(ie,he){if(!!ie){if(typeof ie=="string")return mr(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return mr(ie,he)}}function mr(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function Gr(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function xe(ie){if(Array.isArray(ie))return ie}var de=i.memo(function(ie){var he=ie.style,Kt=ie.className,Re=ie.map,br=ie.option,Tn=ie.onSceneLoaded,gi=ie.children,Oi=(0,i.useRef)(null),Di=(0,i.useState)(),ea=Je(Di,2),ha=ea[0],Ba=ea[1];return(0,i.useEffect)(function(){var na=new s.Scene(ce(ce({id:Oi.current},br),{},{map:new zt(Re)}));return na.on("loaded",function(){Ba(na),Tn&&Tn(na)}),function(){na.destroy()}},[]),(0,i.useEffect)(function(){ha&&Re.style&&ha.setMapStyle(Re.style)},[JSON.stringify(Re.style)]),(0,i.useEffect)(function(){ha&&Re.zoom&&ha.setZoom(Re.zoom)},[Re.zoom]),(0,i.useEffect)(function(){ha&&Re.center&&ha.setCenter(Re.center)},[JSON.stringify(Re.center)]),(0,i.useEffect)(function(){ha&&Re.pitch&&ha.setPitch(Re.pitch)},[Re.pitch]),(0,i.useEffect)(function(){ha&&Re.rotation&&ha.setRotation(Re.rotation)},[Re.rotation]),i.createElement(t.Provider,{value:ha},i.createElement("div",{ref:Oi,className:Kt,style:he},ha&&gi))}),ze=de;function Ue(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function Kr(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?Ue(Object(Kt),!0).forEach(function(Re){rn(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):Ue(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function rn(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function ci(ie,he){return De(ie)||Ae(ie,he)||Ki(ie,he)||Zi()}function Zi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ki(ie,he){if(!!ie){if(typeof ie=="string")return ji(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return ji(ie,he)}}function ji(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function Ae(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function De(ie){if(Array.isArray(ie))return ie}var ar=null,Pr=null;function or(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function wr(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?or(Object(Kt),!0).forEach(function(Re){cn(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):or(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function cn(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function Fn(ie,he){return Vr(ie)||$n(ie,he)||Hr(ie,he)||nn()}function nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(ie,he){if(!!ie){if(typeof ie=="string")return Gn(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return Gn(ie,he)}}function Gn(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function $n(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function Vr(ie){if(Array.isArray(ie))return ie}var Ir=null,ti=null;function ge(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function Le(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?ge(Object(Kt),!0).forEach(function(Re){Se(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):ge(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function Se(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function Ve(ie,he){return Dr(ie)||rr(ie,he)||vr(ie,he)||le()}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vr(ie,he){if(!!ie){if(typeof ie=="string")return He(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return He(ie,he)}}function He(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function rr(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function Dr(ie){if(Array.isArray(ie))return ie}var Mr=null,an=null;function gn(ie,he){return sr(ie)||er(ie,he)||Dn(ie,he)||qr()}function qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(ie,he){if(!!ie){if(typeof ie=="string")return ae(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return ae(ie,he)}}function ae(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function er(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function sr(ie){if(Array.isArray(ie))return ie}var kr=null,Rn=null;function pi(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function Yi(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?pi(Object(Kt),!0).forEach(function(Re){da(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):pi(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function da(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function _a(ie,he){if(ie==null)return{};var Kt=fa(ie,he),Re,br;if(Object.getOwnPropertySymbols){var Tn=Object.getOwnPropertySymbols(ie);for(br=0;br<Tn.length;br++)Re=Tn[br],!(he.indexOf(Re)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ie,Re)||(Kt[Re]=ie[Re]))}return Kt}function fa(ie,he){if(ie==null)return{};var Kt={},Re=Object.keys(ie),br,Tn;for(Tn=0;Tn<Re.length;Tn++)br=Re[Tn],!(he.indexOf(br)>=0)&&(Kt[br]=ie[br]);return Kt}var wo=null,ho=x(73935);function mo(ie,he){return qa(ie)||Za(ie,he)||zo(ie,he)||yo()}function yo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zo(ie,he){if(!!ie){if(typeof ie=="string")return io(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return io(ie,he)}}function io(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function Za(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function qa(ie){if(Array.isArray(ie))return ie}var Zt=i.useEffect,je=i.useState;function lr(ie){var he=ie.className,Kt=ie.style,Re=ie.children,br=ie.position,Tn=useSceneValue(),gi=je(function(){return document.createElement("div")}),Oi=mo(gi,1),Di=Oi[0];return Zt(function(){var ea=new Control({position:br});return ea.onAdd=function(){if(he&&(Di.className=he),Kt){var ha=Object.keys(Kt).map(function(Ba){return"".concat(Ba,":").concat(Kt[Ba])}).join(";");Di.style.cssText=ha}return Di},ea.onRemove=function(){},Tn.addControl(ea),function(){Tn.removeControl(ea)}},[]),createPortal(Re,Di)}var Br=(0,i.createContext)({});function Vt(){return useContext(Br)}var ee=i.useEffect,Ce=null,Me=i.useEffect,Sr=null,pn=i.useEffect,En=null,fi=i.useEffect,Ci=null,aa=i.useEffect,ta=null,Ea=i.useEffect,ca=null,to=i.useEffect,za=null,Ia=i.useEffect,Va=null,ro=null;function Ee(ie,he){if(ie==null)return{};var Kt=be(ie,he),Re,br;if(Object.getOwnPropertySymbols){var Tn=Object.getOwnPropertySymbols(ie);for(br=0;br<Tn.length;br++)Re=Tn[br],!(he.indexOf(Re)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ie,Re)||(Kt[Re]=ie[Re]))}return Kt}function be(ie,he){if(ie==null)return{};var Kt={},Re=Object.keys(ie),br,Tn;for(Tn=0;Tn<Re.length;Tn++)br=Re[Tn],!(he.indexOf(br)>=0)&&(Kt[br]=ie[br]);return Kt}var pe=i.useEffect,vt=null,gt=i.useEffect,dt=null;function Dt(ie,he){return Rt(ie)||zr(ie,he)||Ge(ie,he)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(ie,he){if(!!ie){if(typeof ie=="string")return cr(ie,he);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return cr(ie,he)}}function cr(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var Kt=0,Re=new Array(he);Kt<he;Kt++)Re[Kt]=ie[Kt];return Re}function zr(ie,he){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var Re=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(Re.push(gi.value),!(he&&Re.length===he));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return Re}}function Rt(ie){if(Array.isArray(ie))return ie}var Ei=i.useEffect,ri=i.useState;function k(ie,he){var Kt=he.source,Re=he.color,br=he.shape,Tn=he.style,gi=he.size,Oi=he.scale,Di=he.active,ea=he.select,ha=he.filter,Ba=he.animate,na=he.options,ts=he.onLayerLoaded,po=useSceneValue(),uo=ri(function(){var go;switch(ie){case"polygonLayer":go=new PolygonLayer(na);break;case"lineLayer":go=new LineLayer(na);break;case"pointLayer":go=new PointLayer(na);break;case"heatmapLayer":go=new HeatmapLayer(na);break;case"rasterLayer":go=new RasterLayer(na);break;case"imageLayer":go=new ImageLayer(na);break;case"citybuildingLayer":go=new CityBuildingLayer(na);break;default:go=new PolygonLayer(na)}return go.on("inited",function(){ts&&ts(go,po)}),go}),Zo=Dt(uo,1),Qa=Zo[0];return Ei(function(){return po.addLayer(Qa),function(){po.removeLayer(Qa)}},[]),Ei(function(){Qa.inited&&na&&Qa.updateLayerConfig(na)},[na==null?void 0:na.minZoom,na==null?void 0:na.maxZoom,na==null?void 0:na.visible]),Ei(function(){Qa.inited&&(na==null?void 0:na.zIndex)&&Qa.setIndex(na.zIndex)},[na==null?void 0:na.zIndex]),Ei(function(){Qa.inited&&(na==null?void 0:na.blend)&&Qa.setBlend(na.blend)},[na==null?void 0:na.blend]),Ei(function(){po.render()}),React.createElement(LayerContext.Provider,{value:Qa},React.createElement(Source,{layer:Qa,source:Kt}),Oi&&React.createElement(Scale,{layer:Qa,scale:Oi}),Re&&React.createElement(Color,{layer:Qa,color:Re}),gi&&React.createElement(Size,{layer:Qa,size:gi}),br&&React.createElement(Shape,{layer:Qa,shape:br}),Tn&&React.createElement(Style,{layer:Qa,style:Tn}),Di&&React.createElement(Active,{layer:Qa,active:Di}),ea&&React.createElement(Select,{layer:Qa,select:ea}),ha&&React.createElement(Filter,{layer:Qa,filter:ha}),Ba&&React.createElement(Animate,{layer:Qa,animate:Ba}),he.children)}var it=null,Bt=null,yt=null,ne=null,_e=null,ur=null,jr=null,_r=i.useEffect,Pn=null,Ln=null;function Li(ie){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Li=function(Kt){return typeof Kt}:Li=function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},Li(ie)}function sa(ie,he){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(ie);he&&(Re=Re.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,Re)}return Kt}function $i(ie){for(var he=1;he<arguments.length;he++){var Kt=arguments[he]!=null?arguments[he]:{};he%2?sa(Object(Kt),!0).forEach(function(Re){Sa(ie,Re,Kt[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):sa(Object(Kt)).forEach(function(Re){Object.defineProperty(ie,Re,Object.getOwnPropertyDescriptor(Kt,Re))})}return ie}function Sa(ie,he,Kt){return he in ie?Object.defineProperty(ie,he,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[he]=Kt,ie}function pa(ie,he){if(!(ie instanceof he))throw new TypeError("Cannot call a class as a function")}function Fa(ie,he){for(var Kt=0;Kt<he.length;Kt++){var Re=he[Kt];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(ie,Re.key,Re)}}function Ua(ie,he,Kt){return he&&Fa(ie.prototype,he),Kt&&Fa(ie,Kt),ie}function vo(ie,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(he&&he.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),he&&No(ie,he)}function No(ie,he){return No=Object.setPrototypeOf||function(Re,br){return Re.__proto__=br,Re},No(ie,he)}function Yo(ie){var he=Io();return function(){var Re=xo(ie),br;if(he){var Tn=xo(this).constructor;br=Reflect.construct(Re,arguments,Tn)}else br=Re.apply(this,arguments);return Ds(this,br)}}function Ds(ie,he){if(he&&(Li(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Go(ie)}function Go(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function Io(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}function xo(ie){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(Kt){return Kt.__proto__||Object.getPrototypeOf(Kt)},xo(ie)}var Lo=function(ie){vo(Kt,ie);var he=Yo(Kt);function Kt(Re){var br;return pa(this,Kt),br=he.call(this,Re),br.el=void 0,br.scene=void 0,br.popup=void 0,br.el=document.createElement("div"),br}return Ua(Kt,[{key:"componentDidMount",value:function(){var br,Tn=this.props,gi=Tn.lnglat,Oi=Tn.children,Di=Tn.option,ea=Tn.lngLat,ha=new s.Popup($i($i({},Di),{},{stopPropagation:(br=this.props.option)===null||br===void 0?void 0:br.stopPropagation}));gi&&ha.setLnglat(gi),ea&&ha.setLnglat(ea),Oi&&ha.setDOMContent(this.el),this.popup=ha,this.scene.addPopup(ha)}},{key:"componentDidUpdate",value:function(br){var Tn,gi,Oi,Di,ea,ha,Ba=Array.isArray(br.lnglat)?br.lnglat:[br==null||(Tn=br.lnglat)===null||Tn===void 0?void 0:Tn.lng,br==null||(gi=br.lnglat)===null||gi===void 0?void 0:gi.lat],na=Array.isArray(this.props.lnglat)?this.props.lnglat:[(Oi=this.props)===null||Oi===void 0||(Di=Oi.lnglat)===null||Di===void 0?void 0:Di.lng,(ea=this.props)===null||ea===void 0||(ha=ea.lnglat)===null||ha===void 0?void 0:ha.lat],ts=Ba.toString()!==na.toString();if(ts){var po;this.popup.remove(),this.popup=new s.Popup($i($i({},this.props.option),{},{stopPropagation:(po=this.props.option)===null||po===void 0?void 0:po.stopPropagation})),this.popup.setLnglat(this.props.lnglat),this.popup.setDOMContent(this.el),this.scene.addPopup(this.popup)}}},{key:"componentWillUnmount",value:function(){this.popup.remove()}},{key:"render",value:function(){var br=this;return i.createElement(t.Consumer,{},function(Tn){return Tn&&(br.scene=Tn),(0,ho.createPortal)(br.props.children,br.el)})}}]),Kt}(i.PureComponent);function Fo(ie){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fo=function(Kt){return typeof Kt}:Fo=function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},Fo(ie)}function so(ie,he){if(!(ie instanceof he))throw new TypeError("Cannot call a class as a function")}function Qo(ie,he){for(var Kt=0;Kt<he.length;Kt++){var Re=he[Kt];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(ie,Re.key,Re)}}function Jo(ie,he,Kt){return he&&Qo(ie.prototype,he),Kt&&Qo(ie,Kt),ie}function Eo(ie,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(he&&he.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),he&&ds(ie,he)}function ds(ie,he){return ds=Object.setPrototypeOf||function(Re,br){return Re.__proto__=br,Re},ds(ie,he)}function ns(ie){var he=Xo();return function(){var Re=as(ie),br;if(he){var Tn=as(this).constructor;br=Reflect.construct(Re,arguments,Tn)}else br=Re.apply(this,arguments);return qo(this,br)}}function qo(ie,he){if(he&&(Fo(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return is(ie)}function is(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function Xo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}function as(ie){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(Kt){return Kt.__proto__||Object.getPrototypeOf(Kt)},as(ie)}var $a=function(ie){Eo(Kt,ie);var he=ns(Kt);function Kt(Re){var br;return so(this,Kt),br=he.call(this,Re),br.el=void 0,br.scene=void 0,br.marker=void 0,br.el=document.createElement("div"),br}return Jo(Kt,[{key:"componentDidMount",value:function(){var br=this.props,Tn=br.lnglat,gi=br.children,Oi=br.option,Di=br.onMarkerLoaded,ea=new s.Marker(Oi);Tn&&ea.setLnglat(Tn),gi&&ea.setElement(this.el),this.marker=ea,Di&&Di(ea),this.scene.addMarker(ea)}},{key:"componentDidUpdate",value:function(br){var Tn,gi=(br==null?void 0:br.lnglat.toString())!==((Tn=this.props)===null||Tn===void 0?void 0:Tn.lnglat.toString());gi&&this.marker.setLnglat(this.props.lnglat)}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.remove()}},{key:"render",value:function(){var br=this;return i.createElement(t.Consumer,{},function(Tn){return Tn&&(br.scene=Tn),(0,ho.createPortal)(br.props.children,br.el)})}}]),Kt}(i.PureComponent),Su=i.useEffect,pu=null,Qs=null,au=i.useEffect,Ko=null},4771:function(){},6563:function(gr,P,x){var i=x(31795);gr.exports=t;function t(r,e){switch(r&&r.type||null){case"FeatureCollection":return r.features=r.features.map(c(t,e)),r;case"GeometryCollection":return r.geometries=r.geometries.map(c(t,e)),r;case"Feature":return r.geometry=t(r.geometry,e),r;case"Polygon":case"MultiPolygon":return s(r,e);default:return r}}function c(r,e){return function(n){return r(n,e)}}function s(r,e){return r.type==="Polygon"?r.coordinates=v(r.coordinates,e):r.type==="MultiPolygon"&&(r.coordinates=r.coordinates.map(c(v,e))),r}function v(r,e){e=!!e,r[0]=o(r[0],e);for(var n=1;n<r.length;n++)r[n]=o(r[n],!e);return r}function o(r,e){return f(r)===e?r:r.reverse()}function f(r){return i.ring(r)>=0}},91739:function(gr,P,x){"use strict";x.d(P,{SO:function(){return i},z6:function(){return $n},a5:function(){return t},Z:function(){return or},rQ:function(){return le},bV:function(){return Ve},zi:function(){return vr},ds:function(){return Gn},Ev:function(){return Vr},oO:function(){return Hr},W0:function(){return ge},Z6:function(){return Le},We:function(){return rn},gJ:function(){return at},vP:function(){return ji},yM:function(){return cn},yA:function(){return nn},CI:function(){return ti}});var i={};x.r(i),x.d(i,{DPR:function(){return S},addClass:function(){return l},create:function(){return a},empty:function(){return y},getClass:function(){return g},getContainer:function(){return f},getViewPortScale:function(){return b},hasClass:function(){return p},printCanvas:function(){return M},remove:function(){return u},removeClass:function(){return h},setClass:function(){return d},setTransform:function(){return C},splitWords:function(){return e},triggerResize:function(){return m},trim:function(){return r}});var t={};x.r(t),x.d(t,{getColumn:function(){return qr},getSatByColumn:function(){return Dn},max:function(){return He},mean:function(){return Mr},min:function(){return rr},mode:function(){return an},statMap:function(){return gn},sum:function(){return Dr}});function c(ae){var er=131,sr=137,kr=0;ae+="x";for(var Rn=Math.floor(9007199254740991/sr),pi=0;pi<ae.length;pi++)kr>Rn&&(kr=Math.floor(kr/sr)),kr=kr*er+ae.charCodeAt(pi);return kr}function s(ae){ae=ae.toString();for(var er=5381,sr=ae.length;sr;)er=er*33^ae.charCodeAt(--sr);return er>>>0}var v=x(28481),o=window.document.documentElement.style;function f(ae){var er=ae;return typeof ae=="string"&&(er=document.getElementById(ae)),er}function r(ae){return ae.trim?ae.trim():ae.replace(/^\s+|\s+$/g,"")}function e(ae){return r(ae).split(/\s+/)}function n(ae){if(!o)return ae[0];for(var er in ae)if(ae[er]&&ae[er]in o)return ae[er];return ae[0]}function a(ae,er,sr){var kr=document.createElement(ae);return kr.className=er||"",sr&&sr.appendChild(kr),kr}function u(ae){var er=ae.parentNode;er&&er.removeChild(ae)}function l(ae,er){if(ae.classList!==void 0)for(var sr=e(er),kr=0,Rn=sr.length;kr<Rn;kr++)ae.classList.add(sr[kr]);else if(!p(ae,er)){var pi=g(ae);d(ae,(pi?pi+" ":"")+er)}}function h(ae,er){ae.classList!==void 0?ae.classList.remove(er):d(ae,r((" "+g(ae)+" ").replace(" "+er+" "," ")))}function p(ae,er){if(ae.classList!==void 0)return ae.classList.contains(er);var sr=g(ae);return sr.length>0&&new RegExp("(^|\\s)"+er+"(\\s|$)").test(sr)}function d(ae,er){ae instanceof HTMLElement?ae.className=er:ae.className.baseVal=er}function g(ae){return ae instanceof SVGElement&&(ae=ae.correspondingElement),ae.className.baseVal===void 0?ae.className:ae.className.baseVal}function y(ae){for(;ae&&ae.firstChild;)ae.removeChild(ae.firstChild)}var E=n(["transform","WebkitTransform"]);function C(ae,er){ae.style[E]=er}function m(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var ae=window.document.createEvent("UIEvents");ae.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(ae)}}function M(ae){var er=["padding: "+(ae.height/2-8)+"px "+ae.width/2+"px;","line-height: "+ae.height+"px;","background-image: url("+ae.toDataURL()+");"];console.log(`%c
`,er.join(""))}function b(){var ae,er=document.querySelector('meta[name="viewport"]');if(!er)return 1;var sr=(ae=er.content)===null||ae===void 0?void 0:ae.split(","),kr=sr.find(function(Rn){var pi=Rn.split("="),Yi=(0,v.Z)(pi,2),da=Yi[0],_a=Yi[1];return da==="initial-scale"});return kr?kr.split("=")[1]*1:1}var S=b()<1?1:window.devicePixelRatio,A=x(6610),T=x(5991),O=x(63349),D=x(10379),L=x(46070),Z=x(77608),U=x(14665);function Y(ae){return Function.toString.call(ae).indexOf("[native code]")!==-1}var W=x(51814);function J(ae,er,sr){return(0,W.Z)()?J=Reflect.construct:J=function(Rn,pi,Yi){var da=[null];da.push.apply(da,pi);var _a=Function.bind.apply(Rn,da),fa=new _a;return Yi&&(0,U.Z)(fa,Yi.prototype),fa},J.apply(null,arguments)}function ht(ae){var er=typeof Map=="function"?new Map:void 0;return ht=function(kr){if(kr===null||!Y(kr))return kr;if(typeof kr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof er!="undefined"){if(er.has(kr))return er.get(kr);er.set(kr,Rn)}function Rn(){return J(kr,arguments,(0,Z.Z)(this).constructor)}return Rn.prototype=Object.create(kr.prototype,{constructor:{value:Rn,enumerable:!1,writable:!0,configurable:!0}}),(0,U.Z)(Rn,kr)},ht(ae)}var nt=x(96156);function Q(ae){var er=xt();return function(){var kr=(0,Z.Z)(ae),Rn;if(er){var pi=(0,Z.Z)(this).constructor;Rn=Reflect.construct(kr,arguments,pi)}else Rn=kr.apply(this,arguments);return(0,L.Z)(this,Rn)}}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}var _t=function(ae){(0,D.Z)(sr,ae);var er=Q(sr);function sr(kr,Rn,pi){var Yi;return(0,A.Z)(this,sr),Yi=er.call(this,kr),(0,nt.Z)((0,O.Z)(Yi),"status",void 0),(0,nt.Z)((0,O.Z)(Yi),"url",void 0),Yi.status=Rn,Yi.url=pi,Yi.name=Yi.constructor.name,Yi.message=kr,Yi}return(0,T.Z)(sr,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),sr}(ht(Error));function Nt(ae){var er=new XMLHttpRequest;er.open("GET",ae.url,!0);for(var sr in ae.headers)ae.headers.hasOwnProperty(sr)&&er.setRequestHeader(sr,ae.headers[sr]);return er.withCredentials=ae.credentials==="include",er}var rt=function(er,sr){var kr=Nt(er);return kr.setRequestHeader("Accept","application/json"),kr.onerror=function(){sr(new Error(kr.statusText))},kr.onload=function(){if(kr.status>=200&&kr.status<300&&kr.response){var Rn;try{Rn=JSON.parse(kr.response)}catch(pi){return sr(pi)}sr(null,Rn)}else kr.status===401?sr(new _t("".concat(kr.statusText),kr.status,er.url)):sr(new _t(kr.statusText,kr.status,er.url))},kr.send(),kr},q=function(er,sr){var kr=Nt(er);return kr.responseType="arraybuffer",kr.onerror=function(){sr(new Error(kr.statusText))},kr.onload=function(){var Rn=kr.response;if(Rn.byteLength===0&&kr.status===200)return sr(new Error("http status 200 returned without content."));kr.status>=200&&kr.status<300&&kr.response?sr(null,{data:Rn,cacheControl:kr.getResponseHeader("Cache-Control"),expires:kr.getResponseHeader("Expires")}):sr(new _t(kr.statusText,kr.status,er.url))},kr.send(),kr};function G(ae){var er=window.document.createElement("a");return er.href=ae,er.protocol===window.document.location.protocol&&er.host===window.document.location.host}var N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",at=function(er,sr){return q(er,function(kr,Rn){if(kr)sr(kr);else if(Rn){var pi=new window.Image;pi.crossOrigin="anonymous";var Yi=window.URL||window.webkitURL;pi.onload=function(){sr(null,pi),Yi.revokeObjectURL(pi.src)};var da=new window.Blob([new Uint8Array(Rn.data)],{type:"image/png"});pi.src=Rn.data.byteLength?Yi.createObjectURL(da):N}})},H=63710088e-1,ft={centimeters:H*100,centimetres:H*100,degrees:H/111325,feet:H*3.28084,inches:H*39.37,kilometers:H/1e3,kilometres:H/1e3,meters:H,metres:H,miles:H/1609.344,millimeters:H*1e3,millimetres:H*1e3,nauticalmiles:H/1852,radians:1,yards:H*1.0936},ct={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/H,yards:1.0936133},K={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function $(ae,er,sr){sr===void 0&&(sr={});var kr={type:"Feature"};return(sr.id===0||sr.id)&&(kr.id=sr.id),sr.bbox&&(kr.bbox=sr.bbox),kr.properties=er||{},kr.geometry=ae,kr}function et(ae,er,sr){switch(sr===void 0&&(sr={}),ae){case"Point":return B(er).geometry;case"LineString":return tt(er).geometry;case"Polygon":return R(er).geometry;case"MultiPoint":return Mt(er).geometry;case"MultiLineString":return ot(er).geometry;case"MultiPolygon":return Ot(er).geometry;default:throw new Error(ae+" is invalid")}}function B(ae,er,sr){if(sr===void 0&&(sr={}),!ae)throw new Error("coordinates is required");if(!Array.isArray(ae))throw new Error("coordinates must be an Array");if(ae.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!xe(ae[0])||!xe(ae[1]))throw new Error("coordinates must contain numbers");var kr={type:"Point",coordinates:ae};return $(kr,er,sr)}function w(ae,er,sr){return sr===void 0&&(sr={}),Et(ae.map(function(kr){return B(kr,er)}),sr)}function R(ae,er,sr){sr===void 0&&(sr={});for(var kr=0,Rn=ae;kr<Rn.length;kr++){var pi=Rn[kr];if(pi.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Yi=0;Yi<pi[pi.length-1].length;Yi++)if(pi[pi.length-1][Yi]!==pi[0][Yi])throw new Error("First and last Position are not equivalent.")}var da={type:"Polygon",coordinates:ae};return $(da,er,sr)}function V(ae,er,sr){return sr===void 0&&(sr={}),Et(ae.map(function(kr){return R(kr,er)}),sr)}function tt(ae,er,sr){if(sr===void 0&&(sr={}),ae.length<2)throw new Error("coordinates must be an array of two or more positions");var kr={type:"LineString",coordinates:ae};return $(kr,er,sr)}function lt(ae,er,sr){return sr===void 0&&(sr={}),Et(ae.map(function(kr){return tt(kr,er)}),sr)}function Et(ae,er){er===void 0&&(er={});var sr={type:"FeatureCollection"};return er.id&&(sr.id=er.id),er.bbox&&(sr.bbox=er.bbox),sr.features=ae,sr}function ot(ae,er,sr){sr===void 0&&(sr={});var kr={type:"MultiLineString",coordinates:ae};return $(kr,er,sr)}function Mt(ae,er,sr){sr===void 0&&(sr={});var kr={type:"MultiPoint",coordinates:ae};return $(kr,er,sr)}function Ot(ae,er,sr){sr===void 0&&(sr={});var kr={type:"MultiPolygon",coordinates:ae};return $(kr,er,sr)}function Ft(ae,er,sr){sr===void 0&&(sr={});var kr={type:"GeometryCollection",geometries:ae};return $(kr,er,sr)}function zt(ae,er){if(er===void 0&&(er=0),er&&!(er>=0))throw new Error("precision must be a positive number");var sr=Math.pow(10,er||0);return Math.round(ae*sr)/sr}function $t(ae,er){er===void 0&&(er="kilometers");var sr=ft[er];if(!sr)throw new Error(er+" units is invalid");return ae*sr}function ce(ae,er){er===void 0&&(er="kilometers");var sr=ft[er];if(!sr)throw new Error(er+" units is invalid");return ae/sr}function ye(ae,er){return nr(ce(ae,er))}function Je(ae){var er=ae%360;return er<0&&(er+=360),er}function nr(ae){var er=ae%(2*Math.PI);return er*180/Math.PI}function Xe(ae){var er=ae%360;return er*Math.PI/180}function mr(ae,er,sr){if(er===void 0&&(er="kilometers"),sr===void 0&&(sr="kilometers"),!(ae>=0))throw new Error("length must be a positive number");return $t(ce(ae,er),sr)}function Gr(ae,er,sr){if(er===void 0&&(er="meters"),sr===void 0&&(sr="kilometers"),!(ae>=0))throw new Error("area must be a positive number");var kr=K[er];if(!kr)throw new Error("invalid original units");var Rn=K[sr];if(!Rn)throw new Error("invalid final units");return ae/kr*Rn}function xe(ae){return!isNaN(ae)&&ae!==null&&!Array.isArray(ae)}function de(ae){return!!ae&&ae.constructor===Object}function ze(ae){if(!ae)throw new Error("bbox is required");if(!Array.isArray(ae))throw new Error("bbox must be an Array");if(ae.length!==4&&ae.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");ae.forEach(function(er){if(!xe(er))throw new Error("bbox must only contain numbers")})}function Ue(ae){if(!ae)throw new Error("id is required");if(["string","number"].indexOf(typeof ae)===-1)throw new Error("id must be a number or a string")}var Kr=2*Math.PI*6378137/2;function rn(ae){var er=[Infinity,Infinity,-Infinity,-Infinity];return ae.forEach(function(sr){var kr=sr.coordinates;ci(er,kr)}),er}function ci(ae,er){return Array.isArray(er[0])?er.forEach(function(sr){ci(ae,sr)}):(ae[0]>er[0]&&(ae[0]=er[0]),ae[1]>er[1]&&(ae[1]=er[1]),ae[2]<er[0]&&(ae[2]=er[0]),ae[3]<er[1]&&(ae[3]=er[1])),ae}function Zi(ae,er){return Ki(ae,er)}function Ki(ae,er){return Array.isArray(ae[0])?ae.map(function(sr){return Ki(sr,er)}):er(ae)}function ji(ae){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{enable:!0,decimal:1};ae=Pr(ae,er);var kr=ae[0],Rn=ae[1],pi=kr*Kr/180,Yi=Math.log(Math.tan((90+Rn)*Math.PI/360))/(Math.PI/180);return Yi=Yi*Kr/180,sr.enable&&(pi=Number(pi.toFixed(sr.decimal)),Yi=Number(Yi.toFixed(sr.decimal))),ae.length===3?[pi,Yi,ae[2]]:[pi,Yi]}function Ae(ae){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,sr=ae[0],kr=ae[1],Rn=sr/Kr*180,pi=kr/Kr*180;return pi=180/Math.PI*(2*Math.atan(Math.exp(pi*Math.PI/180))-Math.PI/2),er!=null&&(Rn=Number(Rn.toFixed(er)),pi=Number(pi.toFixed(er))),ae.length===3?[Rn,pi,ae[2]]:[Rn,pi]}function De(ae){if(ae==null)throw new Error("lng is required");return(ae>180||ae<-180)&&(ae=ae%360,ae>180&&(ae=-360+ae),ae<-180&&(ae=360+ae),ae===0&&(ae=0)),ae}function ar(ae){if(ae==null)throw new Error("lat is required");return(ae>90||ae<-90)&&(ae=ae%180,ae>90&&(ae=-180+ae),ae<-90&&(ae=180+ae),ae===0&&(ae=0)),ae}function Pr(ae,er){if(er===!1)return ae;var sr=De(ae[0]),kr=ar(ae[1]);return kr>85&&(kr=85),kr<-85&&(kr=-85),ae.length===3?[sr,kr,ae[2]]:[sr,kr]}function or(ae){var er=85.0511287798,sr=Math.max(Math.min(er,ae[1]),-er),kr=256<<20,Rn=Math.PI/180,pi=ae[0]*Rn,Yi=sr*Rn;Yi=Math.log(Math.tan(Math.PI/4+Yi/2));var da=.5/Math.PI,_a=.5,fa=-.5/Math.PI;return Rn=.5,pi=kr*(da*pi+_a),Yi=kr*(fa*Yi+Rn),[Math.floor(pi),Math.floor(Yi)]}function wr(ae){var er=.5/Math.PI,sr=.5,kr=-.5/Math.PI,Rn=.5,pi=256<<20,Yi=_slicedToArray(ae,2),da=Yi[0],_a=Yi[1];da=(da/pi-sr)/er,_a=(_a/pi-Rn)/kr,_a=(Math.atan(Math.pow(Math.E,_a))-Math.PI/4)*2,Rn=Math.PI/180;var fa=_a/Rn,wo=da/Rn;return[wo,fa]}function cn(ae,er,sr){var kr=Xe(er[1]-ae[1]),Rn=Xe(er[0]-ae[0]),pi=Xe(ae[1]),Yi=Xe(er[1]),da=Math.pow(Math.sin(kr/2),2)+Math.pow(Math.sin(Rn/2),2)*Math.cos(pi)*Math.cos(Yi);return $t(2*Math.atan2(Math.sqrt(da),Math.sqrt(1-da)),sr="meters")}function Fn(ae){var er=Math.PI/180,sr=85.0511287798,kr=6378137,Rn=Math.max(Math.min(sr,ae[1]),-sr),pi=Math.sin(Rn*er),Yi=kr*ae[0]*er,da=kr*Math.log((1+pi)/(1-pi))/2;return[Yi,da]}function nn(ae,er){var sr=Math.abs(ae[1][1]-ae[0][1])*er,kr=Math.abs(ae[1][0]-ae[0][0])*er;return[[ae[0][0]-kr,ae[0][1]-sr],[ae[1][0]+kr,ae[1][1]+sr]]}function Hr(ae,er){return ae[0][0]<=er[0][0]&&ae[0][1]<=er[0][1]&&ae[1][0]>=er[1][0]&&ae[1][1]>=er[1][1]}function Gn(ae){return[[ae[0],ae[1]],[ae[2],ae[3]]]}var $n=function(){function ae(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50,sr=arguments.length>1?arguments[1]:void 0;(0,A.Z)(this,ae),(0,nt.Z)(this,"limit",void 0),(0,nt.Z)(this,"cache",void 0),(0,nt.Z)(this,"destroy",void 0),(0,nt.Z)(this,"order",void 0),this.limit=er,this.destroy=sr||this.defaultDestroy,this.order=[],this.clear()}return(0,T.Z)(ae,[{key:"clear",value:function(){var sr=this;this.order.forEach(function(kr){sr.delete(kr)}),this.cache={},this.order=[]}},{key:"get",value:function(sr){var kr=this.cache[sr];return kr&&(this.deleteOrder(sr),this.appendOrder(sr)),kr}},{key:"set",value:function(sr,kr){this.cache[sr]?(this.delete(sr),this.cache[sr]=kr,this.appendOrder(sr)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[sr]=kr,this.appendOrder(sr))}},{key:"delete",value:function(sr){var kr=this.cache[sr];kr&&(this.deleteCache(sr),this.deleteOrder(sr),this.destroy(kr,sr))}},{key:"deleteCache",value:function(sr){delete this.cache[sr]}},{key:"deleteOrder",value:function(sr){var kr=this.order.findIndex(function(Rn){return Rn===sr});kr>=0&&this.order.splice(kr,1)}},{key:"appendOrder",value:function(sr){this.order.push(sr)}},{key:"defaultDestroy",value:function(sr,kr){return null}}]),ae}();function Vr(ae,er){ae.forEach(function(sr){!er[sr]||(er[sr]=er[sr].bind(er))})}var Ir=x(2650);function ti(ae){var er=Ir.ZP(ae),sr=[0,0,0,0];return er!=null&&(sr[0]=er.r/255,sr[1]=er.g/255,sr[2]=er.b/255,sr[3]=er.opacity),sr}function ge(ae){var er=ae&&ae[0],sr=ae&&ae[1],kr=ae&&ae[2],Rn=er+sr*256+kr*65536-1;return Rn}function Le(ae){return[ae+1&255,ae+1>>8&255,ae+1>>8>>8&255]}function Se(ae){var er=document.createElement("canvas"),sr=er.getContext("2d");er.width=256,er.height=1;for(var kr=sr.createLinearGradient(0,0,256,1),Rn=null,pi=ae.positions[0],Yi=ae.positions[ae.positions.length-1],da=0;da<ae.colors.length;++da){var _a=(ae.positions[da]-pi)/(Yi-pi);kr.addColorStop(_a,ae.colors[da])}return sr.fillStyle=kr,sr.fillRect(0,0,256,1),Rn=new Uint8ClampedArray(sr.getImageData(0,0,256,1).data),new ImageData(Rn,256,1)}var Ve;(function(ae){ae.CENTER="center",ae.TOP="top",ae["TOP-LEFT"]="top-left",ae["TOP-RIGHT"]="top-right",ae.BOTTOM="bottom",ae["BOTTOM-LEFT"]="bottom-left",ae.LEFT="left",ae.RIGHT="right"})(Ve||(Ve={}));var le={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vr(ae,er,sr){var kr=ae.classList;for(var Rn in le)le.hasOwnProperty(Rn)&&kr.remove("l7-".concat(sr,"-anchor-").concat(Rn));kr.add("l7-".concat(sr,"-anchor-").concat(er))}function He(ae){if(ae.length===0)throw new Error("max requires at least one data point");for(var er=ae[0],sr=1;sr<ae.length;sr++)ae[sr]>er&&(er=ae[sr]);return er*1}function rr(ae){if(ae.length===0)throw new Error("min requires at least one data point");for(var er=ae[0],sr=1;sr<ae.length;sr++)ae[sr]<er&&(er=ae[sr]);return er*1}function Dr(ae){if(ae.length===0)return 0;for(var er=ae[0]*1,sr=1;sr<ae.length;sr++)er+=ae[sr]*1;return er}function Mr(ae){if(ae.length===0)throw new Error("mean requires at least one data point");return Dr(ae)/ae.length}function an(ae){if(ae.length===0)throw new Error("mean requires at least one data point");if(ae.length<3)return ae[0];ae.sort();for(var er=ae[0],sr=NaN,kr=0,Rn=1,pi=1;pi<ae.length+1;pi++)ae[pi]!==er?(Rn>kr&&(kr=Rn,sr=er),Rn=1,er=ae[pi]):Rn++;return sr*1}var gn={min:rr,max:He,mean:Mr,sum:Dr,mode:an};function qr(ae,er){return ae.map(function(sr){return sr[er]})}function Dn(ae,er){return gn[ae](er)}},96773:function(gr,P,x){"use strict";x.d(P,{LineLayer:function(){return Eu},Marker:function(){return Yo},PointLayer:function(){return bl},PolygonLayer:function(){return Pf},Popup:function(){return ns},Scene:function(){return Ou}});var i={},t={},c=function(z){return t[z]},s=function(z,F){t[z]=F},v=function(z){return i[z]},o=function(z,F){i[z]=F},f={},r={},e=34,n=10,a=13;function u(I){return new Function("d","return {"+I.map(function(z,F){return JSON.stringify(z)+": d["+F+'] || ""'}).join(",")+"}")}function l(I,z){var F=u(I);return function(j,_){return z(F(j),_,I)}}function h(I){var z=Object.create(null),F=[];return I.forEach(function(j){for(var _ in j)_ in z||F.push(z[_]=_)}),F}function p(I,z){var F=I+"",j=F.length;return j<z?new Array(z-j+1).join(0)+F:F}function d(I){return I<0?"-"+p(-I,6):I>9999?"+"+p(I,6):p(I,4)}function g(I){var z=I.getUTCHours(),F=I.getUTCMinutes(),j=I.getUTCSeconds(),_=I.getUTCMilliseconds();return isNaN(I)?"Invalid Date":d(I.getUTCFullYear(),4)+"-"+p(I.getUTCMonth()+1,2)+"-"+p(I.getUTCDate(),2)+(_?"T"+p(z,2)+":"+p(F,2)+":"+p(j,2)+"."+p(_,3)+"Z":j?"T"+p(z,2)+":"+p(F,2)+":"+p(j,2)+"Z":F||z?"T"+p(z,2)+":"+p(F,2)+"Z":"")}function y(I){var z=new RegExp('["'+I+`
\r]`),F=I.charCodeAt(0);function j(fe,tr){var dr,tn,yn=_(fe,function(Wn,ii){if(dr)return dr(Wn,ii-1);tn=Wn,dr=tr?l(Wn,tr):u(Wn)});return yn.columns=tn||[],yn}function _(fe,tr){var dr=[],tn=fe.length,yn=0,Wn=0,ii,bi=tn<=0,Bi=!1;fe.charCodeAt(tn-1)===n&&--tn,fe.charCodeAt(tn-1)===a&&--tn;function Ni(){if(bi)return r;if(Bi)return Bi=!1,f;var Ji,qi=yn,Aa;if(fe.charCodeAt(qi)===e){for(;yn++<tn&&fe.charCodeAt(yn)!==e||fe.charCodeAt(++yn)===e;);return(Ji=yn)>=tn?bi=!0:(Aa=fe.charCodeAt(yn++))===n?Bi=!0:Aa===a&&(Bi=!0,fe.charCodeAt(yn)===n&&++yn),fe.slice(qi+1,Ji-1).replace(/""/g,'"')}for(;yn<tn;){if((Aa=fe.charCodeAt(Ji=yn++))===n)Bi=!0;else if(Aa===a)Bi=!0,fe.charCodeAt(yn)===n&&++yn;else if(Aa!==F)continue;return fe.slice(qi,Ji)}return bi=!0,fe.slice(qi,tn)}for(;(ii=Ni())!==r;){for(var la=[];ii!==f&&ii!==r;)la.push(ii),ii=Ni();tr&&(la=tr(la,Wn++))==null||dr.push(la)}return dr}function X(fe,tr){return fe.map(function(dr){return tr.map(function(tn){return me(dr[tn])}).join(I)})}function ut(fe,tr){return tr==null&&(tr=h(fe)),[tr.map(me).join(I)].concat(X(fe,tr)).join(`
`)}function Ct(fe,tr){return tr==null&&(tr=h(fe)),X(fe,tr).join(`
`)}function At(fe){return fe.map(Yt).join(`
`)}function Yt(fe){return fe.map(me).join(I)}function me(fe){return fe==null?"":fe instanceof Date?g(fe):z.test(fe+="")?'"'+fe.replace(/"/g,'""')+'"':fe}return{parse:j,parseRows:_,format:ut,formatBody:Ct,formatRows:At,formatRow:Yt,formatValue:me}}var E=y(","),C=E.parse,m=E.parseRows,M=E.format,b=E.formatBody,S=E.formatRows,A=E.formatRow,T=E.formatValue,O=x(96156),D=x(85061),L=x(6563),Z=x.n(L);function U(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function Y(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?U(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):U(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function W(I,z){var F=z.x,j=z.y,_=z.x1,X=z.y1,ut=z.coordinates,Ct=[];return I.forEach(function(At,Yt){var me=[];if(F&&j&&(me=[parseFloat(At[F]),parseFloat(At[j])]),F&&j&&_&&X){var fe=[parseFloat(At[F]),parseFloat(At[j])],tr=[parseFloat(At[_]),parseFloat(At[X])];me=[fe,tr]}if(ut){var dr="Polygon";Array.isArray(ut[0])||(dr="Point"),Array.isArray(ut[0])&&!Array.isArray(ut[0][0])&&(dr="LineString");var tn={type:dr,coordinates:(0,D.Z)(At[ut])};Z()(tn,!0),me=tn.coordinates}var yn=Y(Y({},At),{},{_id:Yt,coordinates:me});Ct.push(yn)}),{dataArray:Ct}}var J=[{lng1:100,lat1:30,lng2:130,lat2:30}],ht={parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}};function nt(I,z){var F=C(I);return W(F,z)}var Q=63710088e-1,xt={centimeters:Q*100,centimetres:Q*100,degrees:Q/111325,feet:Q*3.28084,inches:Q*39.37,kilometers:Q/1e3,kilometres:Q/1e3,meters:Q,metres:Q,miles:Q/1609.344,millimeters:Q*1e3,millimetres:Q*1e3,nauticalmiles:Q/1852,radians:1,yards:Q*1.0936},_t={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Q,yards:1.0936133},Nt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function rt(I,z,F){F===void 0&&(F={});var j={type:"Feature"};return(F.id===0||F.id)&&(j.id=F.id),F.bbox&&(j.bbox=F.bbox),j.properties=z||{},j.geometry=I,j}function q(I,z,F){switch(F===void 0&&(F={}),I){case"Point":return G(z).geometry;case"LineString":return ft(z).geometry;case"Polygon":return at(z).geometry;case"MultiPoint":return et(z).geometry;case"MultiLineString":return $(z).geometry;case"MultiPolygon":return B(z).geometry;default:throw new Error(I+" is invalid")}}function G(I,z,F){if(F===void 0&&(F={}),!I)throw new Error("coordinates is required");if(!Array.isArray(I))throw new Error("coordinates must be an Array");if(I.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zt(I[0])||!zt(I[1]))throw new Error("coordinates must contain numbers");var j={type:"Point",coordinates:I};return rt(j,z,F)}function N(I,z,F){return F===void 0&&(F={}),K(I.map(function(j){return G(j,z)}),F)}function at(I,z,F){F===void 0&&(F={});for(var j=0,_=I;j<_.length;j++){var X=_[j];if(X.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ut=0;ut<X[X.length-1].length;ut++)if(X[X.length-1][ut]!==X[0][ut])throw new Error("First and last Position are not equivalent.")}var Ct={type:"Polygon",coordinates:I};return rt(Ct,z,F)}function H(I,z,F){return F===void 0&&(F={}),K(I.map(function(j){return at(j,z)}),F)}function ft(I,z,F){if(F===void 0&&(F={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");var j={type:"LineString",coordinates:I};return rt(j,z,F)}function ct(I,z,F){return F===void 0&&(F={}),K(I.map(function(j){return ft(j,z)}),F)}function K(I,z){z===void 0&&(z={});var F={type:"FeatureCollection"};return z.id&&(F.id=z.id),z.bbox&&(F.bbox=z.bbox),F.features=I,F}function $(I,z,F){F===void 0&&(F={});var j={type:"MultiLineString",coordinates:I};return rt(j,z,F)}function et(I,z,F){F===void 0&&(F={});var j={type:"MultiPoint",coordinates:I};return rt(j,z,F)}function B(I,z,F){F===void 0&&(F={});var j={type:"MultiPolygon",coordinates:I};return rt(j,z,F)}function w(I,z,F){F===void 0&&(F={});var j={type:"GeometryCollection",geometries:I};return rt(j,z,F)}function R(I,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,z||0);return Math.round(I*F)/F}function V(I,z){z===void 0&&(z="kilometers");var F=xt[z];if(!F)throw new Error(z+" units is invalid");return I*F}function tt(I,z){z===void 0&&(z="kilometers");var F=xt[z];if(!F)throw new Error(z+" units is invalid");return I/F}function lt(I,z){return ot(tt(I,z))}function Et(I){var z=I%360;return z<0&&(z+=360),z}function ot(I){var z=I%(2*Math.PI);return z*180/Math.PI}function Mt(I){var z=I%360;return z*Math.PI/180}function Ot(I,z,F){if(z===void 0&&(z="kilometers"),F===void 0&&(F="kilometers"),!(I>=0))throw new Error("length must be a positive number");return V(tt(I,z),F)}function Ft(I,z,F){if(z===void 0&&(z="meters"),F===void 0&&(F="kilometers"),!(I>=0))throw new Error("area must be a positive number");var j=Nt[z];if(!j)throw new Error("invalid original units");var _=Nt[F];if(!_)throw new Error("invalid final units");return I/j*_}function zt(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)}function $t(I){return!!I&&I.constructor===Object}function ce(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(z){if(!zt(z))throw new Error("bbox must only contain numbers")})}function ye(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}function Je(I){if(!I)throw new Error("coord is required");if(!Array.isArray(I)){if(I.type==="Feature"&&I.geometry!==null&&I.geometry.type==="Point")return I.geometry.coordinates;if(I.type==="Point")return I.coordinates}if(Array.isArray(I)&&I.length>=2&&!Array.isArray(I[0])&&!Array.isArray(I[1]))return I;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function nr(I){if(Array.isArray(I))return I;if(I.type==="Feature"){if(I.geometry!==null)return I.geometry.coordinates}else if(I.coordinates)return I.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Xe(I){if(I.length>1&&isNumber(I[0])&&isNumber(I[1]))return!0;if(Array.isArray(I[0])&&I[0].length)return Xe(I[0]);throw new Error("coordinates must only contain numbers")}function mr(I,z,F){if(!z||!F)throw new Error("type and name required");if(!I||I.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+I.type)}function Gr(I,z,F){if(!I)throw new Error("No feature passed");if(!F)throw new Error(".featureOf() requires a name");if(!I||I.type!=="Feature"||!I.geometry)throw new Error("Invalid input to "+F+", Feature with geometry required");if(!I.geometry||I.geometry.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+I.geometry.type)}function xe(I,z,F){if(!I)throw new Error("No featureCollection passed");if(!F)throw new Error(".collectionOf() requires a name");if(!I||I.type!=="FeatureCollection")throw new Error("Invalid input to "+F+", FeatureCollection required");for(var j=0,_=I.features;j<_.length;j++){var X=_[j];if(!X||X.type!=="Feature"||!X.geometry)throw new Error("Invalid input to "+F+", Feature with geometry required");if(!X.geometry||X.geometry.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+X.geometry.type)}}function de(I){return I.type==="Feature"?I.geometry:I}function ze(I,z){return I.type==="FeatureCollection"?"FeatureCollection":I.type==="GeometryCollection"?"GeometryCollection":I.type==="Feature"&&I.geometry!==null?I.geometry.type:I.type}function Ue(I,z,F){if(I!==null)for(var j,_,X,ut,Ct,At,Yt,me=0,fe=0,tr,dr=I.type,tn=dr==="FeatureCollection",yn=dr==="Feature",Wn=tn?I.features.length:1,ii=0;ii<Wn;ii++){Yt=tn?I.features[ii].geometry:yn?I.geometry:I,tr=Yt?Yt.type==="GeometryCollection":!1,Ct=tr?Yt.geometries.length:1;for(var bi=0;bi<Ct;bi++){var Bi=0,Ni=0;if(ut=tr?Yt.geometries[bi]:Yt,ut!==null){At=ut.coordinates;var la=ut.type;switch(me=F&&(la==="Polygon"||la==="MultiPolygon")?1:0,la){case null:break;case"Point":if(z(At,fe,ii,Bi,Ni)===!1)return!1;fe++,Bi++;break;case"LineString":case"MultiPoint":for(j=0;j<At.length;j++){if(z(At[j],fe,ii,Bi,Ni)===!1)return!1;fe++,la==="MultiPoint"&&Bi++}la==="LineString"&&Bi++;break;case"Polygon":case"MultiLineString":for(j=0;j<At.length;j++){for(_=0;_<At[j].length-me;_++){if(z(At[j][_],fe,ii,Bi,Ni)===!1)return!1;fe++}la==="MultiLineString"&&Bi++,la==="Polygon"&&Ni++}la==="Polygon"&&Bi++;break;case"MultiPolygon":for(j=0;j<At.length;j++){for(Ni=0,_=0;_<At[j].length;_++){for(X=0;X<At[j][_].length-me;X++){if(z(At[j][_][X],fe,ii,Bi,Ni)===!1)return!1;fe++}Ni++}Bi++}break;case"GeometryCollection":for(j=0;j<ut.geometries.length;j++)if(Ue(ut.geometries[j],z,F)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Kr(I,z,F,j){var _=F;return Ue(I,function(X,ut,Ct,At,Yt){ut===0&&F===void 0?_=X:_=z(_,X,ut,Ct,At,Yt)},j),_}function rn(I,z){var F;switch(I.type){case"FeatureCollection":for(F=0;F<I.features.length&&z(I.features[F].properties,F)!==!1;F++);break;case"Feature":z(I.properties,0);break}}function ci(I,z,F){var j=F;return rn(I,function(_,X){X===0&&F===void 0?j=_:j=z(j,_,X)}),j}function Zi(I,z){if(I.type==="Feature")z(I,0);else if(I.type==="FeatureCollection")for(var F=0;F<I.features.length&&z(I.features[F],F)!==!1;F++);}function Ki(I,z,F){var j=F;return Zi(I,function(_,X){X===0&&F===void 0?j=_:j=z(j,_,X)}),j}function ji(I){var z=[];return Ue(I,function(F){z.push(F)}),z}function Ae(I,z){var F,j,_,X,ut,Ct,At,Yt,me,fe,tr=0,dr=I.type==="FeatureCollection",tn=I.type==="Feature",yn=dr?I.features.length:1;for(F=0;F<yn;F++){for(Ct=dr?I.features[F].geometry:tn?I.geometry:I,Yt=dr?I.features[F].properties:tn?I.properties:{},me=dr?I.features[F].bbox:tn?I.bbox:void 0,fe=dr?I.features[F].id:tn?I.id:void 0,At=Ct?Ct.type==="GeometryCollection":!1,ut=At?Ct.geometries.length:1,_=0;_<ut;_++){if(X=At?Ct.geometries[_]:Ct,X===null){if(z(null,tr,Yt,me,fe)===!1)return!1;continue}switch(X.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(z(X,tr,Yt,me,fe)===!1)return!1;break}case"GeometryCollection":{for(j=0;j<X.geometries.length;j++)if(z(X.geometries[j],tr,Yt,me,fe)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}tr++}}function De(I,z,F){var j=F;return Ae(I,function(_,X,ut,Ct,At){X===0&&F===void 0?j=_:j=z(j,_,X,ut,Ct,At)}),j}function ar(I,z){Ae(I,function(F,j,_,X,ut){var Ct=F===null?null:F.type;switch(Ct){case null:case"Point":case"LineString":case"Polygon":return z(rt(F,_,{bbox:X,id:ut}),j,0)===!1?!1:void 0}var At;switch(Ct){case"MultiPoint":At="Point";break;case"MultiLineString":At="LineString";break;case"MultiPolygon":At="Polygon";break}for(var Yt=0;Yt<F.coordinates.length;Yt++){var me=F.coordinates[Yt],fe={type:At,coordinates:me};if(z(rt(fe,_),j,Yt)===!1)return!1}})}function Pr(I,z,F){var j=F;return ar(I,function(_,X,ut){X===0&&ut===0&&F===void 0?j=_:j=z(j,_,X,ut)}),j}function or(I,z){ar(I,function(F,j,_){var X=0;if(!!F.geometry){var ut=F.geometry.type;if(!(ut==="Point"||ut==="MultiPoint")){var Ct,At=0,Yt=0,me=0;if(Ue(F,function(fe,tr,dr,tn,yn){if(Ct===void 0||j>At||tn>Yt||yn>me){Ct=fe,At=j,Yt=tn,me=yn,X=0;return}var Wn=lineString([Ct,fe],F.properties);if(z(Wn,j,_,yn,X)===!1)return!1;X++,Ct=fe})===!1)return!1}}})}function wr(I,z,F){var j=F,_=!1;return or(I,function(X,ut,Ct,At,Yt){_===!1&&F===void 0?j=X:j=z(j,X,ut,Ct,At,Yt),_=!0}),j}function cn(I,z){if(!I)throw new Error("geojson is required");ar(I,function(F,j,_){if(F.geometry!==null){var X=F.geometry.type,ut=F.geometry.coordinates;switch(X){case"LineString":if(z(F,j,_,0,0)===!1)return!1;break;case"Polygon":for(var Ct=0;Ct<ut.length;Ct++)if(z(lineString(ut[Ct],F.properties),j,_,Ct)===!1)return!1;break}}})}function Fn(I,z,F){var j=F;return cn(I,function(_,X,ut,Ct){X===0&&F===void 0?j=_:j=z(j,_,X,ut,Ct)}),j}function nn(I,z){if(z=z||{},!isObject(z))throw new Error("options is invalid");var F=z.featureIndex||0,j=z.multiFeatureIndex||0,_=z.geometryIndex||0,X=z.segmentIndex||0,ut=z.properties,Ct;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ut=ut||I.features[F].properties,Ct=I.features[F].geometry;break;case"Feature":ut=ut||I.properties,Ct=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Ct=I;break;default:throw new Error("geojson is invalid")}if(Ct===null)return null;var At=Ct.coordinates;switch(Ct.type){case"Point":case"MultiPoint":return null;case"LineString":return X<0&&(X=At.length+X-1),lineString([At[X],At[X+1]],ut,z);case"Polygon":return _<0&&(_=At.length+_),X<0&&(X=At[_].length+X-1),lineString([At[_][X],At[_][X+1]],ut,z);case"MultiLineString":return j<0&&(j=At.length+j),X<0&&(X=At[j].length+X-1),lineString([At[j][X],At[j][X+1]],ut,z);case"MultiPolygon":return j<0&&(j=At.length+j),_<0&&(_=At[j].length+_),X<0&&(X=At[j][_].length-X-1),lineString([At[j][_][X],At[j][_][X+1]],ut,z)}throw new Error("geojson is invalid")}function Hr(I,z){if(z=z||{},!isObject(z))throw new Error("options is invalid");var F=z.featureIndex||0,j=z.multiFeatureIndex||0,_=z.geometryIndex||0,X=z.coordIndex||0,ut=z.properties,Ct;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ut=ut||I.features[F].properties,Ct=I.features[F].geometry;break;case"Feature":ut=ut||I.properties,Ct=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Ct=I;break;default:throw new Error("geojson is invalid")}if(Ct===null)return null;var At=Ct.coordinates;switch(Ct.type){case"Point":return point(At,ut,z);case"MultiPoint":return j<0&&(j=At.length+j),point(At[j],ut,z);case"LineString":return X<0&&(X=At.length+X),point(At[X],ut,z);case"Polygon":return _<0&&(_=At.length+_),X<0&&(X=At[_].length+X),point(At[_][X],ut,z);case"MultiLineString":return j<0&&(j=At.length+j),X<0&&(X=At[j].length+X),point(At[j][X],ut,z);case"MultiPolygon":return j<0&&(j=At.length+j),_<0&&(_=At[j].length+_),X<0&&(X=At[j][_].length-X),point(At[j][_][X],ut,z)}throw new Error("geojson is invalid")}function Gn(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function $n(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Gn(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Gn(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function Vr(I,z){var F=[],j={};if(I.features=I.features.filter(function(X){var ut=X.geometry;return X!=null&&ut&&ut.type&&ut.coordinates&&ut.coordinates.length>0}),Z()(I,!0),I.features.length===0)return{dataArray:[],featureKeys:j};var _=0;return ar(I,function(X,ut){var Ct=nr(X),At=ut,Yt=$n($n({},X.properties),{},{coordinates:Ct,_id:At});F.push(Yt)}),{dataArray:F,featureKeys:j}}var Ir=x(91739);function ti(I,z){var F=z.extent,j=F===void 0?[121.168,30.2828,121.384,30.4219]:F,_=new Promise(function(ut){ge(I,function(Ct){ut(Ct)})}),X={images:_,_id:1,dataArray:[{_id:0,coordinates:[[j[0],j[1]],[j[2],j[3]]]}]};return X}function ge(I,z){var F=I,j=[];if(typeof F=="string")(0,Ir.gJ)({url:F},function(ut,Ct){j.push(Ct),z(j)});else{var _=F.length,X=0;F.forEach(function(ut){(0,Ir.gJ)({url:ut},function(Ct,At){X++,j.push(At),X===_&&z(j)})})}return ti}function Le(I,z){var F=z.extent,j=z.width,_=z.height,X=z.min,ut=z.max,Ct={_id:1,dataArray:[{_id:1,data:Array.from(I),width:j,height:_,min:X,max:ut,coordinates:[[F[0],F[1]],[F[2],F[3]]]}]};return Ct}var Se=x(6610),Ve=x(5991),le=x(63349),vr=x(10379),He=x(46070),rr=x(77608),Dr=x(30236),Mr=x.n(Dr),an=x(47037),gn=x.n(an),qr=x(23560),Dn=x.n(qr),ae=x(50361),er=x.n(ae),sr=x(46343),kr=x(26729),Rn=x(69848),pi=x.n(Rn);function Yi(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function da(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Yi(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Yi(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function _a(I,z){var F=z.radius,j=F===void 0?40:F,_=z.maxZoom,X=_===void 0?18:_,ut=z.minZoom,Ct=ut===void 0?0:ut,At=z.zoom,Yt=At===void 0?2:At;if(I.pointIndex){var me=I.pointIndex.getClusters(I.extent,Math.floor(Yt));return I.dataArray=fa(me),I}var fe=new(pi())({radius:j,minZoom:Ct,maxZoom:X}),tr={type:"FeatureCollection",features:[]};return tr.features=I.dataArray.map(function(dr){return{type:"Feature",geometry:{type:"Point",coordinates:dr.coordinates},properties:da({},dr)}}),fe.load(tr.features),fe}function fa(I){return I.map(function(z,F){return da({coordinates:z.geometry.coordinates,_id:F+1},z.properties)})}function wo(I){if(I.length===0)throw new Error("max requires at least one data point");for(var z=I[0],F=1;F<I.length;F++)I[F]>z&&(z=I[F]);return z}function ho(I){if(I.length===0)throw new Error("min requires at least one data point");for(var z=I[0],F=1;F<I.length;F++)I[F]<z&&(z=I[F]);return z}function mo(I){if(I.length===0)return 0;for(var z=I[0],F=0,j,_=1;_<I.length;_++)j=z+I[_]*1,Math.abs(z)>=Math.abs(I[_])?F+=z-j+I[_]:F+=I[_]-j+z,z=j;return z+F*1}function yo(I){if(I.length===0)throw new Error("mean requires at least one data point");return mo(I)/I.length}var zo={min:ho,max:wo,mean:yo,sum:mo};function io(I,z){return I.map(function(F){return F[z]*1})}function Za(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function qa(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Za(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Za(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function Zt(I){var z=je();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}function lr(I,z){if(Array.isArray(z))return z}var Br=function(I){(0,vr.Z)(F,I);var z=Zt(F);function F(j,_){var X;return(0,Se.Z)(this,F),X=z.call(this),(0,O.Z)((0,le.Z)(X),"data",void 0),(0,O.Z)((0,le.Z)(X),"extent",void 0),(0,O.Z)((0,le.Z)(X),"hooks",{init:new sr.ni}),(0,O.Z)((0,le.Z)(X),"parser",{type:"geojson"}),(0,O.Z)((0,le.Z)(X),"transforms",[]),(0,O.Z)((0,le.Z)(X),"cluster",!1),(0,O.Z)((0,le.Z)(X),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),(0,O.Z)((0,le.Z)(X),"mapService",void 0),(0,O.Z)((0,le.Z)(X),"invalidExtent",!1),(0,O.Z)((0,le.Z)(X),"originData",void 0),(0,O.Z)((0,le.Z)(X),"rawData",void 0),(0,O.Z)((0,le.Z)(X),"cfg",{}),(0,O.Z)((0,le.Z)(X),"clusterIndex",void 0),X.originData=j,X.initCfg(_),X.hooks.init.tap("parser",function(){X.excuteParser()}),X.hooks.init.tap("cluster",function(){X.initCluster()}),X.hooks.init.tap("transform",function(){X.executeTrans()}),X.init(),X}return(0,Ve.Z)(F,[{key:"setData",value:function(_,X){this.rawData=_,this.originData=_,this.initCfg(X),this.init(),this.emit("update")}},{key:"getClusters",value:function(_){return this.clusterIndex.getClusters(this.caculClusterExtent(2),_)}},{key:"getClustersLeaves",value:function(_){return this.clusterIndex.getLeaves(_,Infinity)}},{key:"updateClusterData",value:function(_){var X=this,ut=this.clusterOptions,Ct=ut.method,At=Ct===void 0?"sum":Ct,Yt=ut.field,me=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(_));this.clusterOptions.zoom=_,me.forEach(function(fe){fe.id||(fe.properties.point_count=1)}),(Yt||Dn()(At))&&(me=me.map(function(fe){var tr=fe.id;if(tr){var dr=X.clusterIndex.getLeaves(tr,Infinity),tn=dr.map(function(ii){return ii.properties}),yn;if(gn()(At)&&Yt){var Wn=io(tn,Yt);yn=zo[At](Wn)}Dn()(At)&&(yn=At(tn)),fe.properties.stat=yn}else fe.properties.point_count=1;return fe})),this.data=c("geojson")({type:"FeatureCollection",features:me}),this.executeTrans()}},{key:"getFeatureById",value:function(_){var X=this.parser.type,ut=X===void 0?"geojson":X;if(ut==="geojson"&&!this.cluster){var Ct=_<this.originData.features.length?this.originData.features[_]:"null",At=er()(Ct);if(this.transforms.length!==0){var Yt=this.data.dataArray.find(function(me){return me._id===_});At.properties=Yt}return At}else return _<this.data.dataArray.length?this.data.dataArray[_]:"null"}},{key:"getFeatureId",value:function(_,X){var ut=this.data.dataArray.find(function(Ct){return Ct[_]===name});return ut==null?void 0:ut._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(_){var X=[[-Infinity,-Infinity],[Infinity,Infinity]];return this.invalidExtent||(X=(0,Ir.yA)((0,Ir.ds)(this.extent),_)),X[0].concat(X[1])}},{key:"initCfg",value:function(_){this.cfg=Mr()(this.cfg,_,lr);var X=this.cfg;X&&(X.parser&&(this.parser=X.parser),X.transforms&&(this.transforms=X.transforms),this.cluster=X.cluster||!1,X.clusterOptions&&(this.cluster=!0,this.clusterOptions=qa(qa({},this.clusterOptions),X.clusterOptions)))}},{key:"excuteParser",value:function(){var _=this.parser,X=_.type||"geojson";if(X==="imagetile"){this.data={tileurl:this.originData,dataArray:[]};return}var ut=c(X);this.data=ut(this.originData,_),this.extent=(0,Ir.We)(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}},{key:"executeTrans",value:function(){var _=this,X=this.transforms;X.forEach(function(ut){var Ct=ut.type,At=v(Ct)(_.data,ut);Object.assign(_.data,At)})}},{key:"initCluster",value:function(){if(!!this.cluster){var _=this.clusterOptions||{};this.clusterIndex=_a(this.data,_)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),F}(kr.EventEmitter);function Vt(I,z){var F=z.callback;return F&&(I.dataArray=I.dataArray.filter(F)),I}function ee(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Ce(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function Ce(I,z){if(!!I){if(typeof I=="string")return Me(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Me(I,z)}}function Me(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}var Sr=6378e3;function pn(I,z){var F=I.dataArray,j=z.size,_=j===void 0?10:j,X=_/(2*Math.PI*Sr)*(256<<20)/2,ut=En(F,_),Ct=ut.gridHash,At=ut.gridOffset,Yt=ta(Ct,At,z);return{yOffset:X,xOffset:X,radius:X,type:"grid",dataArray:Yt}}function En(I,z){var F=Infinity,j=-Infinity,_,X=ee(I),ut;try{for(X.s();!(ut=X.n()).done;){var Ct=ut.value;_=Ct.coordinates[1],Number.isFinite(_)&&(F=_<F?_:F,j=_>j?_:j)}}catch(Bi){X.e(Bi)}finally{X.f()}var At=(F+j)/2,Yt=fi(z,At);if(Yt.xOffset<=0||Yt.yOffset<=0)return{gridHash:{},gridOffset:Yt};var me={},fe=ee(I),tr;try{for(fe.s();!(tr=fe.n()).done;){var dr=tr.value,tn=dr.coordinates[1],yn=dr.coordinates[0];if(Number.isFinite(tn)&&Number.isFinite(yn)){var Wn=Math.floor((tn+90)/Yt.yOffset),ii=Math.floor((yn+180)/Yt.xOffset),bi="".concat(Wn,"-").concat(ii);me[bi]=me[bi]||{count:0,points:[]},me[bi].count+=1,me[bi].points.push(dr)}}}catch(Bi){fe.e(Bi)}finally{fe.f()}return{gridHash:me,gridOffset:Yt}}function fi(I,z){var F=Ci(I),j=aa(z,I);return{yOffset:F,xOffset:j}}function Ci(I){return I/Sr*(180/Math.PI)}function aa(I,z){return z/Sr*(180/Math.PI)/Math.cos(I*Math.PI/180)}function ta(I,z,F){return Object.keys(I).reduce(function(j,_,X){var ut=_.split("-"),Ct=parseInt(ut[0],10),At=parseInt(ut[1],10),Yt={};if(F.field&&F.method){var me=Ir.a5.getColumn(I[_].points,F.field);Yt[F.method]=Ir.a5.statMap[F.method](me)}return Object.assign(Yt,{_id:X,coordinates:(0,Ir.Z)([-180+z.xOffset*(At+.5),-90+z.yOffset*(Ct+.5)]),rawData:I[_].points,count:I[_].count}),j.push(Yt),j},[])}var Ea=x(28481),ca=Math.PI/3,to=[0,ca,2*ca,3*ca,4*ca,5*ca];function za(I){return I[0]}function Ia(I){return I[1]}function Va(){var I=0,z=0,F=1,j=1,_=za,X=Ia,ut,Ct,At;function Yt(fe){var tr={},dr=[],tn,yn=fe.length;for(tn=0;tn<yn;++tn)if(!(isNaN(ii=+_.call(null,Wn=fe[tn],tn,fe))||isNaN(bi=+X.call(null,Wn,tn,fe)))){var Wn,ii,bi,Bi=Math.round(bi=bi/At),Ni=Math.round(ii=ii/Ct-(Bi&1)/2),la=bi-Bi;if(Math.abs(la)*3>1){var Ji=ii-Ni,qi=Ni+(ii<Ni?-1:1)/2,Aa=Bi+(bi<Bi?-1:1),Ga=ii-qi,oo=bi-Aa;Ji*Ji+la*la>Ga*Ga+oo*oo&&(Ni=qi+(Bi&1?1:-1)/2,Bi=Aa)}var Oo=Ni+"-"+Bi,ko=tr[Oo];ko?ko.push(Wn):(dr.push(ko=tr[Oo]=[Wn]),ko.x=(Ni+(Bi&1)/2)*Ct,ko.y=Bi*At)}return dr}function me(fe){var tr=0,dr=0;return to.map(function(tn){var yn=Math.sin(tn)*fe,Wn=-Math.cos(tn)*fe,ii=yn-tr,bi=Wn-dr;return tr=yn,dr=Wn,[ii,bi]})}return Yt.hexagon=function(fe){return"m"+me(fe==null?ut:+fe).join("l")+"z"},Yt.centers=function(){for(var fe=[],tr=Math.round(z/At),dr=Math.round(I/Ct),tn=tr*At;tn<j+ut;tn+=At,++tr)for(var yn=dr*Ct+(tr&1)*Ct/2;yn<F+Ct/2;yn+=Ct)fe.push([yn,tn]);return fe},Yt.mesh=function(){var fe=me(ut).slice(0,4).join("l");return Yt.centers().map(function(tr){return"M"+tr+"m"+fe}).join("")},Yt.x=function(fe){return arguments.length?(_=fe,Yt):_},Yt.y=function(fe){return arguments.length?(X=fe,Yt):X},Yt.radius=function(fe){return arguments.length?(ut=+fe,Ct=ut*2*Math.sin(ca),At=ut*1.5,Yt):ut},Yt.size=function(fe){return arguments.length?(I=z=0,F=+fe[0],j=+fe[1],Yt):[F-I,j-z]},Yt.extent=function(fe){return arguments.length?(I=+fe[0][0],z=+fe[0][1],F=+fe[1][0],j=+fe[1][1],Yt):[[I,z],[F,j]]},Yt.radius(1)}function ro(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function Ee(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?ro(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):ro(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var be=6378e3;function pe(I,z){var F=I.dataArray,j=z.size,_=j===void 0?10:j,X=z.method,ut=X===void 0?"sum":X,Ct=_/(2*Math.PI*be)*(256<<20)/2,At=F.map(function(tr){var dr=(0,Ir.Z)(tr.coordinates),tn=(0,Ea.Z)(dr,2),yn=tn[0],Wn=tn[1];return Ee(Ee({},tr),{},{coordinates:[yn,Wn]})}),Yt=Va().radius(Ct).x(function(tr){return tr.coordinates[0]}).y(function(tr){return tr.coordinates[1]}),me=Yt(At),fe={dataArray:me.map(function(tr,dr){var tn;if(z.field&&ut){var yn=Ir.a5.getColumn(tr,z.field);tr[ut]=Ir.a5.statMap[ut](yn)}return tn={},(0,O.Z)(tn,z.method,tr[ut]),(0,O.Z)(tn,"count",tr.length),(0,O.Z)(tn,"rawData",tr),(0,O.Z)(tn,"coordinates",[tr.x,tr.y]),(0,O.Z)(tn,"_id",dr),tn}),radius:Ct,xOffset:Ct,yOffset:Ct,type:"hexagon"};return fe}function vt(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function gt(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?vt(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):vt(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function dt(I,z){var F=z.sourceField,j=z.targetField,_=z.data,X={};return _.forEach(function(ut){X[ut[F]]=ut}),I.dataArray=I.dataArray.map(function(ut){var Ct=ut[j];return gt(gt({},ut),X[Ct])}),I}function Dt(I,z){var F=z.callback;return F&&(I.dataArray=I.dataArray.map(F)),I}var te=x(4771),Ge=Br;s("geojson",Vr),s("image",ti),s("csv",nt),s("json",W),s("raster",Le),o("cluster",_a),o("filter",Vt),o("join",dt),o("map",Dt),o("grid",pn),o("hexagon",pe);var cr=J,zr=ht,Rt=x(58881);function Ei(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function ri(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Ei(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Ei(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function k(I){var z=it();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function it(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Bt=0,yt=function(I){(0,vr.Z)(F,I);var z=k(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"controlOption",void 0),(0,O.Z)((0,le.Z)(_),"container",void 0),(0,O.Z)((0,le.Z)(_),"sceneContainer",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"renderService",void 0),(0,O.Z)((0,le.Z)(_),"layerService",void 0),(0,O.Z)((0,le.Z)(_),"controlService",void 0),(0,O.Z)((0,le.Z)(_),"isShow",void 0),_.controlOption=ri(ri({},_.getDefault()),j||{}),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.TOPRIGHT,name:"".concat(Bt++)}}},{key:"setPosition",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.PositionType.BOTTOMRIGHT,X=this.controlService;return X&&X.removeControl(this),this.controlOption.position=_,X&&X.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(_){this.mapsService=_.get(Rt.vK.IMapService),this.renderService=_.get(Rt.vK.IRendererService),this.layerService=_.get(Rt.vK.ILayerService),this.controlService=_.get(Rt.vK.IControlService),this.sceneContainer=_,this.isShow=!0,this.container=this.onAdd();var X=this.container,ut=this.controlOption.position,Ct=this.controlService.controlCorners[ut];return Ir.SO.addClass(X,"l7-control"),ut.indexOf("bottom")!==-1?Ct.insertBefore(X,Ct.firstChild):Ct.appendChild(X),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var _=this.container;Ir.SO.addClass(_,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var _=this.container;Ir.SO.removeClass(_,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;Ir.SO.remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(_){if(this.mapsService&&_&&_.screenX>0&&_.screenY>0){var X=this.mapsService.getContainer();X!==null&&X.focus()}}}]),F}(kr.EventEmitter);function ne(I){var z=_e();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function _e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ur=function(I){(0,vr.Z)(F,I);var z=ne(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this,j),(0,O.Z)((0,le.Z)(_),"layerControlInputs",void 0),(0,O.Z)((0,le.Z)(_),"layers",void 0),(0,O.Z)((0,le.Z)(_),"lastZIndex",void 0),(0,O.Z)((0,le.Z)(_),"handlingClick",void 0),(0,O.Z)((0,le.Z)(_),"layersLink",void 0),(0,O.Z)((0,le.Z)(_),"baseLayersList",void 0),(0,O.Z)((0,le.Z)(_),"separator",void 0),(0,O.Z)((0,le.Z)(_),"overlaysList",void 0),(0,O.Z)((0,le.Z)(_),"form",void 0),_.layerControlInputs=[],_.layers=[],_.lastZIndex=0,_.handlingClick=!1,_.initLayers(),(0,Ir.Ev)(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{collapsed:!0,position:Rt.PositionType.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var _=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach(function(X){X.layer.on("remove",_.onLayerChange),X.layer.on("add",_.onLayerChange)}),this.container}},{key:"addVisualLayer",value:function(_,X){return this.addLayer(_,X,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var _=this.renderService.getViewportSize(),X=_.height;Ir.SO.addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var ut=X-(this.container.offsetTop+50);return ut<this.form.clientHeight?(Ir.SO.addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=ut+"px"):Ir.SO.removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return Ir.SO.removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var _=this;!this.mapsService||(this.mapsService.off("click",this.collapse),this.layers.forEach(function(X){X.layer.off("remove",_.onLayerChange),X.layer.off("add",_.onLayerChange)}))}},{key:"initLayout",value:function(){var _="l7-control-layers",X=this.container=Ir.SO.create("div",_),ut=this.controlOption.collapsed;X.setAttribute("aria-haspopup","true");var Ct=this.form=Ir.SO.create("form",_+"-list");ut&&(this.mapsService.on("click",this.collapse),X.addEventListener("mouseenter",this.expand),X.addEventListener("mouseleave",this.collapse)),this.layersLink=Ir.SO.create("a",_+"-toggle",X);var At=this.layersLink;At.title="Layers",ut||this.expand(),this.baseLayersList=Ir.SO.create("div",_+"-base",Ct),this.separator=Ir.SO.create("div",_+"-separator",Ct),this.overlaysList=Ir.SO.create("div",_+"-overlays",Ct),X.appendChild(Ct)}},{key:"initLayers",value:function(){var _=this,X=this.controlOption,ut=X.baseLayers,Ct=ut===void 0?{}:ut,At=X.overlayers,Yt=At===void 0?{}:At;Object.keys(Ct).forEach(function(me,fe){_.addLayer(Ct[me],me,!1)}),Object.keys(Yt).forEach(function(me,fe){_.addLayer(Yt[me],me,!0)})}},{key:"update",value:function(){if(!this.container)return this;Ir.SO.empty(this.baseLayersList),Ir.SO.empty(this.overlaysList),this.layerControlInputs=[];var _,X,ut,Ct,At=0;for(ut=0;ut<this.layers.length;ut++)Ct=this.layers[ut],this.addItem(Ct),X=X||Ct.overlay,_=_||!Ct.overlay,At+=Ct.overlay?0:1;return this.controlOption.hideSingleBase&&(_=_&&At>1,this.baseLayersList.style.display=_?"":"none"),this.separator.style.display=X&&_?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var _=this.layerControlInputs,X,ut,Ct=this.mapsService.getZoom(),At=_.length-1;At>=0;At--)if(X=_[At],ut=this.layerService.getLayer(X.layerId),ut&&ut.inited){var Yt=ut.getMinZoom(),me=ut.getMaxZoom();X.disabled=Ct<Yt||Ct>me}}},{key:"addLayer",value:function(_,X,ut){this.mapsService&&(_.on("add",this.onLayerChange),_.on("remove",this.onLayerChange)),this.layers.push({layer:_,name:X,overlay:ut});var Ct=this.controlOption,At=Ct.sortLayers,Yt=Ct.sortFunction,me=Ct.autoZIndex;At&&this.layers.sort(function(fe,tr){return Yt(fe.layer,tr.layer,fe.name,tr.name)}),me&&_.setZIndex&&(this.lastZIndex++,_.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(_){this.handlingClick||this.update();var X=this.layerService.getLayer(_.target.layerId),ut=X!=null&&X.overlay?_.type==="add"?"overlayadd":"overlayremove":_.type==="add"?"baselayerchange":null;ut&&this.emit(ut,X)}},{key:"createRadioElement",value:function(_,X){var ut='<input type="radio" class="l7-control-layers-selector" name="'+_+'"'+(X?' checked="checked"':"")+"/>",Ct=document.createElement("div");return Ct.innerHTML=ut,Ct.firstChild}},{key:"addItem",value:function(_){var X=document.createElement("label"),ut=this.layerService.getLayer(_.layer.id),Ct=ut&&ut.inited&&_.layer.isVisible(),At;_.overlay?(At=document.createElement("input"),At.type="checkbox",At.className="l7-control-layers-selector",At.defaultChecked=Ct):At=this.createRadioElement("l7-base-layers",Ct),this.layerControlInputs.push(At),At.layerId=_.layer.id,At.addEventListener("click",this.onInputClick);var Yt=document.createElement("span");Yt.innerHTML=" "+_.name;var me=document.createElement("div");X.appendChild(me),me.appendChild(At),me.appendChild(Yt);var fe=_.overlay?this.overlaysList:this.baseLayersList;return fe.appendChild(X),this.checkDisabledLayers(),X}},{key:"onInputClick",value:function(){var _=this.layerControlInputs,X,ut,Ct=[],At=[];this.handlingClick=!0;for(var Yt=_.length-1;Yt>=0;Yt--)X=_[Yt],ut=this.layerService.getLayer(X.layerId),X.checked?Ct.push(ut):X.checked||At.push(ut);At.forEach(function(me){me.hide()}),Ct.forEach(function(me){me.show()}),this.handlingClick=!1}}]),F}(yt);function jr(I){var z=_r();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function _r(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Pn=function(I){(0,vr.Z)(F,I);var z=jr(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var _="l7-control-logo",X=Ir.SO.create("div",_),ut=Ir.SO.create("a","l7-ctrl-logo");return ut.target="_blank",ut.rel="noopener nofollow",ut.href="https://antv.alipay.com/l7",ut.setAttribute("aria-label","AntV logo"),ut.setAttribute("rel","noopener nofollow"),X.appendChild(ut),X}},{key:"onRemove",value:function(){return null}}]),F}(yt);function Ln(I){var z=Li();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Li(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var sa=function(I){(0,vr.Z)(F,I);var z=Ln(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this,j),(0,O.Z)((0,le.Z)(_),"mScale",void 0),(0,O.Z)((0,le.Z)(_),"iScale",void 0),(0,Ir.Ev)(["update"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var _="l7-control-scale",X=Ir.SO.create("div",_);this.addScales(_+"-line",X);var ut=this.controlOption.updateWhenIdle;return this.mapsService.on(ut?"moveend":"mapmove",this.update),this.mapsService.on(ut?"zoomend":"zoomchange",this.update),this.update(),X}},{key:"onRemove",value:function(){var _=this.controlOption.updateWhenIdle;this.mapsService.off(_?"zoomend":"zoomchange",this.update),this.mapsService.off(_?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var _=this.mapsService,X=this.controlOption.maxWidth,ut=_.getSize()[1]/2,Ct=_.containerToLngLat([0,ut]),At=_.containerToLngLat([X,ut]),Yt=(0,Ir.yM)([Ct.lng,Ct.lat],[At.lng,At.lat]);this.updateScales(Yt)}},{key:"updateScales",value:function(_){var X=this.controlOption,ut=X.metric,Ct=X.imperial;ut&&_&&this.updateMetric(_),Ct&&_&&this.updateImperial(_)}},{key:"updateMetric",value:function(_){var X=this.getRoundNum(_),ut=X<1e3?X+" m":X/1e3+" km";this.updateScale(this.mScale,ut,X/_)}},{key:"updateImperial",value:function(_){var X=_*3.2808399,ut,Ct,At;X>5280?(ut=X/5280,Ct=this.getRoundNum(ut),this.updateScale(this.iScale,Ct+" mi",Ct/ut)):(At=this.getRoundNum(X),this.updateScale(this.iScale,At+" ft",At/X))}},{key:"updateScale",value:function(_,X,ut){var Ct=this.controlOption.maxWidth;_.style.width=Math.round(Ct*ut)+"px",_.innerHTML=X}},{key:"getRoundNum",value:function(_){var X=Math.pow(10,(Math.floor(_)+"").length-1),ut=_/X;return ut=ut>=10?10:ut>=5?5:ut>=3?3:ut>=2?2:1,X*ut}},{key:"addScales",value:function(_,X){var ut=this.controlOption,Ct=ut.metric,At=ut.imperial;Ct&&(this.mScale=Ir.SO.create("div",_,X)),At&&(this.iScale=Ir.SO.create("div",_,X))}}]),F}(yt);function $i(I){var z=Sa();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Sa(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var pa=function(I){(0,vr.Z)(F,I);var z=$i(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this,j),(0,O.Z)((0,le.Z)(_),"disabled",void 0),(0,O.Z)((0,le.Z)(_),"zoomInButton",void 0),(0,O.Z)((0,le.Z)(_),"zoomOutButton",void 0),(0,Ir.Ev)(["updateDisabled","zoomIn","zoomOut"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var _="l7-control-zoom",X=Ir.SO.create("div",_+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,_+"-in",X,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,_+"-out",X,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),X}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(_,X,ut,Ct,At){var Yt=Ir.SO.create("a",ut,Ct);return Yt.innerHTML=_,Yt.title=X,Yt.href="javascript:void(0)",Yt.addEventListener("click",At),Yt}},{key:"updateDisabled",value:function(){var _=this.mapsService,X="l7-disabled";Ir.SO.removeClass(this.zoomInButton,X),Ir.SO.removeClass(this.zoomOutButton,X),(this.disabled||_.getZoom()<=_.getMinZoom())&&Ir.SO.addClass(this.zoomOutButton,X),(this.disabled||_.getZoom()>=_.getMaxZoom())&&Ir.SO.addClass(this.zoomInButton,X)}}]),F}(yt);function Fa(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function Ua(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Fa(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Fa(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function vo(I){var z=No();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function No(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Yo=function(I){(0,vr.Z)(F,I);var z=vo(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"markerOption",void 0),(0,O.Z)((0,le.Z)(_),"defaultMarker",void 0),(0,O.Z)((0,le.Z)(_),"popup",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"sceneSerive",void 0),(0,O.Z)((0,le.Z)(_),"lngLat",void 0),(0,O.Z)((0,le.Z)(_),"scene",void 0),(0,O.Z)((0,le.Z)(_),"added",!1),(0,O.Z)((0,le.Z)(_),"eventHandle",function(X){_.emit(X.type,{target:X,data:_.markerOption.extData,lngLat:_.lngLat})}),_.markerOption=Ua(Ua({},_.getDefault()),j),(0,Ir.Ev)(["update","onMove","onUp","addDragHandler","onMapClick"],(0,le.Z)(_)),_.init(),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{element:void 0,anchor:Ir.bV.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(_){this.scene=_,this.mapsService=_.get(Rt.vK.IMapService),this.sceneSerive=_.get(Rt.vK.ISceneService);var X=this.markerOption,ut=X.element,Ct=X.draggable;return this.mapsService.getMarkerContainer().appendChild(ut),this.registerMarkerEvent(ut),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var _=this.markerOption.element;return _&&Ir.SO.remove(_),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(_){return this.lngLat=_,Array.isArray(_)&&(this.lngLat={lng:_[0],lat:_[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(_){var X=this;if(!this.added)return this.once("added",function(){X.setElement(_)}),this;var ut=this.markerOption.element;return ut&&Ir.SO.remove(ut),this.markerOption.element=_,this.init(),this.mapsService.getMarkerContainer().appendChild(_),this.registerMarkerEvent(_),this.update(),this}},{key:"openPopup",value:function(){var _=this;if(!this.added)return this.once("added",function(){_.openPopup()}),this;var X=this.popup;return X?(X.isOpen()||X.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var _=this;this.added||this.once("added",function(){_.closePopup()});var X=this.popup;return X&&X.remove(),this}},{key:"setPopup",value:function(_){return this.popup=_,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var _=this.popup;if(_)_.isOpen()?_.remove():_.addTo(this.scene);else return this;return this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(_){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(_){this.markerOption.extData=_}},{key:"update",value:function(){if(!!this.mapsService){var _=this.markerOption,X=_.element,ut=_.anchor;this.updatePosition(),Ir.SO.setTransform(X,"".concat(Ir.rQ[ut]))}}},{key:"onMapClick",value:function(_){var X=this.markerOption.element;this.popup&&X&&this.togglePopup()}},{key:"updatePosition",value:function(){if(!!this.mapsService){var _=this.markerOption,X=_.element,ut=_.offsets,Ct=this.lngLat,At=Ct.lng,Yt=Ct.lat,me=this.mapsService.getBounds(),fe=this.mapsService.lngLatToContainer([At,Yt]);if(X){X.style.display="block";var tr=this.mapsService.getContainer(),dr=0,tn=0;if(tr&&(dr=tr.scrollWidth,tn=tr.scrollHeight),Math.abs(me[0][0])>180||Math.abs(me[1][0])>180){if(fe.x>dr){var yn=this.mapsService.lngLatToContainer([At-360,Yt]);fe.x=yn.x}if(fe.x<0){var Wn=this.mapsService.lngLatToContainer([At+360,Yt]);fe.x=Wn.x}}(fe.x>dr||fe.x<0||fe.y>tn||fe.y<0)&&(X.style.display="none"),X.style.left=fe.x+ut[0]+"px",X.style.top=fe.y-ut[1]+"px"}}}},{key:"init",value:function(){var _=this,X=this.markerOption.element,ut=this.markerOption,Ct=ut.color,At=ut.anchor;if(!X){this.defaultMarker=!0,X=Ir.SO.create("div"),this.markerOption.element=X;var Yt=document.createElementNS("http://www.w3.org/2000/svg","svg");Yt.setAttributeNS(null,"display","block"),Yt.setAttributeNS(null,"height","48px"),Yt.setAttributeNS(null,"width","48px"),Yt.setAttributeNS(null,"viewBox","0 0 1024 1024");var me=document.createElementNS("http://www.w3.org/2000/svg","path");me.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),me.setAttributeNS(null,"fill",Ct),Yt.appendChild(me),X.appendChild(Yt)}Ir.SO.addClass(X,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(function(fe){var tr,dr,tn=((tr=_.markerOption)===null||tr===void 0?void 0:tr.style)&&((dr=_.markerOption)===null||dr===void 0?void 0:dr.style[fe]);X&&(X.style[fe]=tn)}),X.addEventListener("click",function(fe){_.onMapClick(fe)}),X.addEventListener("click",this.eventHandle),(0,Ir.zi)(X,At,"marker")}},{key:"registerMarkerEvent",value:function(_){_.addEventListener("mousemove",this.eventHandle),_.addEventListener("click",this.eventHandle),_.addEventListener("mousedown",this.eventHandle),_.addEventListener("mouseup",this.eventHandle),_.addEventListener("dblclick",this.eventHandle),_.addEventListener("contextmenu",this.eventHandle),_.addEventListener("mouseover",this.eventHandle),_.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var _=this.getElement();_.removeEventListener("mousemove",this.eventHandle),_.removeEventListener("click",this.eventHandle),_.removeEventListener("mousedown",this.eventHandle),_.removeEventListener("mouseup",this.eventHandle),_.removeEventListener("dblclick",this.eventHandle),_.removeEventListener("contextmenu",this.eventHandle),_.removeEventListener("mouseover",this.eventHandle),_.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(_){throw new Error("Method not implemented.")}},{key:"onUp",value:function(_){throw new Error("Method not implemented.")}}]),F}(kr.EventEmitter),Ds=x(82492),Go=x.n(Ds);function Io(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function xo(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Io(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Io(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function Lo(I){var z=Fo();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Fo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var so=function(I){(0,vr.Z)(F,I);var z=Lo(F);function F(j){var _,X;return(0,Se.Z)(this,F),X=z.call(this),(0,O.Z)((0,le.Z)(X),"markers",[]),(0,O.Z)((0,le.Z)(X),"markerLayerOption",void 0),(0,O.Z)((0,le.Z)(X),"clusterIndex",void 0),(0,O.Z)((0,le.Z)(X),"points",[]),(0,O.Z)((0,le.Z)(X),"clusterMarkers",[]),(0,O.Z)((0,le.Z)(X),"mapsService",void 0),(0,O.Z)((0,le.Z)(X),"scene",void 0),(0,O.Z)((0,le.Z)(X),"zoom",void 0),(0,O.Z)((0,le.Z)(X),"bbox",void 0),X.markerLayerOption=Go()(X.getDefault(),j),(0,Ir.Ev)(["update"],(0,le.Z)(X)),X.zoom=((_=X.markerLayerOption.clusterOption)===null||_===void 0?void 0:_.zoom)||-99,X}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(_){return this.scene=_,this.mapsService=_.get(Rt.vK.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(_){var X=this.markerLayerOption.cluster;X&&this.addPoint(_,this.markers.length),this.markers.push(_)}},{key:"removeMarker",value:function(_){this.markers.indexOf(_);var X=this.markers.indexOf(_);X>-1&&this.markers.splice(X,1)}},{key:"hide",value:function(){this.markers.map(function(_){_.getElement().style.opacity="0"})}},{key:"show",value:function(){this.markers.map(function(_){_.getElement().style.opacity="1"})}},{key:"getMarkers",value:function(){var _=this.markerLayerOption.cluster;return _?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var _=this;this.getMarkers().forEach(function(X){X.addTo(_.scene)})}},{key:"clear",value:function(){this.markers.forEach(function(_){_.remove()}),this.clusterMarkers.forEach(function(_){_.remove()}),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(_,X){var ut=_.getLnglat(),Ct=ut.lng,At=ut.lat,Yt={geometry:{type:"Point",coordinates:[Ct,At]},properties:xo(xo({},_.getExtData()),{},{marker_id:X})};this.points.push(Yt)}},{key:"initCluster",value:function(){if(!!this.markerLayerOption.cluster){var _=this.markerLayerOption.clusterOption,X=_.radius,ut=_.minZoom,Ct=ut===void 0?0:ut,At=_.maxZoom;this.clusterIndex=new(pi())({radius:X,minZoom:Ct,maxZoom:At}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(_,X){var ut=this,Ct=_[0].concat(_[1]),At=this.clusterIndex.getClusters(Ct,X);this.clusterMarkers.forEach(function(Yt){Yt.remove()}),this.clusterMarkers=[],At.forEach(function(Yt){var me,fe=ut.markerLayerOption.clusterOption,tr=fe.field,dr=fe.method;if(Yt.properties&&(me=Yt.properties)!==null&&me!==void 0&&me.cluster_id){var tn,yn=ut.getLeaves((tn=Yt.properties)===null||tn===void 0?void 0:tn.cluster_id);if(Yt.properties.clusterData=yn,tr&&dr){var Wn=yn==null?void 0:yn.map(function(la){var Ji=(0,O.Z)({},tr,la.properties[tr]);return Ji}),ii=Ir.a5.getColumn(Wn,tr),bi=Ir.a5.getSatByColumn(dr,ii),Bi="point_"+dr;Yt.properties[Bi]=bi.toFixed(2)}}var Ni=ut.clusterMarker(Yt);ut.clusterMarkers.push(Ni),Ni.addTo(ut.scene)})}},{key:"getLeaves",value:function(_){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Infinity,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _?this.clusterIndex.getLeaves(_,X,ut):null}},{key:"clusterMarker",value:function(_){var X=this.markerLayerOption.clusterOption,ut=X,Ct=ut.element,At=Ct===void 0?this.generateElement.bind(this):Ct,Yt=new Yo({element:At(_)}).setLnglat({lng:_.geometry.coordinates[0],lat:_.geometry.coordinates[1]});return Yt}},{key:"normalMarker",value:function(_){var X=_.properties.marker_id;return this.markers[X]}},{key:"update",value:function(){var _=this.mapsService.getZoom(),X=this.mapsService.getBounds();(!this.bbox||Math.abs(_-this.zoom)>=1||!(0,Ir.oO)(this.bbox,X))&&(this.bbox=(0,Ir.yA)(X,.5),this.zoom=Math.floor(_),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(_){var X=Ir.SO.create("div","l7-marker-cluster"),ut=Ir.SO.create("div","",X),Ct=Ir.SO.create("span","",ut),At=this.markerLayerOption.clusterOption,Yt=At.field,me=At.method;_.properties.point_count=_.properties.point_count||1;var fe=Yt&&me?_.properties["point_"+me]||_.properties[Yt]:_.properties.point_count;return Ct.textContent=fe,X}}]),F}(kr.EventEmitter);function Qo(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function Jo(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Qo(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Qo(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function Eo(I){var z=ds();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function ds(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ns=function(I){(0,vr.Z)(F,I);var z=Eo(F);function F(j){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"popupOption",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"sceneSerive",void 0),(0,O.Z)((0,le.Z)(_),"lngLat",void 0),(0,O.Z)((0,le.Z)(_),"content",void 0),(0,O.Z)((0,le.Z)(_),"closeButton",void 0),(0,O.Z)((0,le.Z)(_),"timeoutInstance",void 0),(0,O.Z)((0,le.Z)(_),"container",void 0),(0,O.Z)((0,le.Z)(_),"tip",void 0),(0,O.Z)((0,le.Z)(_),"scene",void 0),_.popupOption=Jo(Jo({},_.getdefault()),j),(0,Ir.Ev)(["update","onClickClose","remove"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"addTo",value:function(_){var X=this;return this.mapsService=_.get(Rt.vK.IMapService),this.sceneSerive=_.get(Rt.vK.ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=_,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout(function(){X.mapsService.on("click",X.onClickClose)},30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(_){var X=window.document.createDocumentFragment(),ut=window.document.createElement("body"),Ct;for(ut.innerHTML=_;Ct=ut.firstChild,!!Ct;)X.appendChild(Ct);return this.setDOMContent(X)}},{key:"setLnglat",value:function(_){return this.lngLat=_,Array.isArray(_)&&(this.lngLat={lng:_[0],lat:_[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(_){return this.setDOMContent(window.document.createTextNode(_))}},{key:"setMaxWidth",value:function(_){return this.popupOption.maxWidth=_,this.update(),this}},{key:"setDOMContent",value:function(_){return this.createContent(),this.content.appendChild(_),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&Ir.SO.remove(this.content),this.content=Ir.SO.create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=Ir.SO.create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(_,X,ut){var Ct=window.document.createElement(_);return X!==void 0&&(Ct.className=X),ut&&ut.appendChild(Ct),Ct}},{key:"removeDom",value:function(_){_.parentNode&&_.parentNode.removeChild(_)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:Ir.bV.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(_){_.stopPropagation&&_.stopPropagation(),this.remove()}},{key:"update",value:function(){var _=this,X=this.lngLat,ut=this.popupOption,Ct=ut.className,At=ut.maxWidth,Yt=ut.anchor;if(!(!this.mapsService||!X||!this.content)){var me=this.mapsService.getMarkerContainer();if(!this.container&&me){this.container=this.creatDom("div","l7-popup",me),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),Ct&&Ct.split(" ").forEach(function(tr){return _.container.classList.add(tr)});var fe=this.popupOption.stopPropagation;fe&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(function(tr){_.container.addEventListener(tr,function(dr){dr.stopPropagation()})})}At&&this.container.style.maxWidth!==At&&(this.container.style.maxWidth=At),this.updatePosition(),Ir.SO.setTransform(this.container,"".concat(Ir.rQ[Yt])),(0,Ir.zi)(this.container,Yt,"popup")}}},{key:"updatePosition",value:function(){if(!!this.mapsService){var _=this.lngLat,X=_.lng,ut=_.lat,Ct=this.popupOption.offsets,At=this.mapsService.lngLatToContainer([X,ut]);this.container.style.left=At.x+Ct[0]+"px",this.container.style.top=At.y-Ct[1]+"px"}}}]),F}(kr.EventEmitter);function qo(I,z){var F=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",j=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(F||j)&&(z||(z=document),!!z)){var _=z.head||z.getElementsByTagName("head")[0];if(!_){_=z.createElement("head");var X=z.body||z.getElementsByTagName("body")[0];X?X.parentNode.insertBefore(_,X):z.documentElement.appendChild(_)}var ut=z.createElement("style");return ut.type="text/css",ut.styleSheet?ut.styleSheet.cssText=I:ut.appendChild(z.createTextNode(I)),_.appendChild(ut),ut}}qo(`.l7-marker-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
}

.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}

.l7-marker-cluster {
  background-clip: padding-box;
  border-radius: 20px;
  background-color: rgba(181, 226, 140, 0.6);
  width: 40px;
  height: 40px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-left: 5px;
  margin-top: 5px;
  text-align: center;
  border-radius: 15px;
  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  background-color: rgba(110, 204, 57, 0.6);
}
.l7-marker-cluster span {
  line-height: 30px;
}

.l7-popup-anchor-bottom,
.l7-popup-anchor-bottom-left,
.l7-popup-anchor-bottom-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: reverse;
      -ms-flex-direction: column-reverse;
          flex-direction: column-reverse;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 5px;
}
.l7-popup-anchor-top,
.l7-popup-anchor-top-left,
.l7-popup-anchor-top-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-popup-anchor-left {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}

.l7-popup-anchor-right {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
      -ms-flex-direction: row-reverse;
          flex-direction: row-reverse;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  will-change: transform;
  pointer-events: none;
  z-index: 5;
}
.l7-popup-tip {
  width: 0;
  height: 0;
  border: 10px solid transparent;
  z-index: 1;
}
.l7-popup-anchor-top .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-top: none;
  border-left: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-bottom .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-bottom: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-bottom: none;
  border-left: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-bottom: none;
  border-right: none;
  border-top-color: #fff;
}

.l7-popup-anchor-left .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-left: none;
  border-right-color: #fff;
}

.l7-popup-anchor-right .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-right: none;
  border-left-color: #fff;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  padding: 0;
  font-size: 25px;
  line-height: 20px;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}

.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}

.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}

.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}

.l7-popup-track-pointer {
  display: none;
}

.l7-popup-track-pointer * {
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-map:hover .l7-popup-track-pointer {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.l7-map:active .l7-popup-track-pointer {
  display: none;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* general toolbar styles */

.l7-bar {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
  border-radius: 4px;
}
.l7-bar a,
.l7-bar a:hover {
  background-color: #fff;
  width: 30px;
  height: 30px;
  font-size: 20px;
  display: block;
  text-align: center;
  text-decoration: none;
  color: #8e9dab;
}
.l7-bar a,
.l7-control-layers-toggle {
  background-position: 50% 50%;
  background-repeat: no-repeat;
  display: block;
}
.l7-bar a:hover {
  background-color: #f4f4f4;
}
.l7-bar a:first-child {
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
}
.l7-bar a:last-child {
  border-bottom-left-radius: 2px;
  border-bottom-right-radius: 2px;
  border-bottom: none;
}
.l7-bar a.l7-disabled {
  cursor: default;
  background-color: #f4f4f4;
  color: #bbb;
}

/* control positioning */

.l7-control-container {
  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;
}
.l7-control-hide {
  display: none;
}
.l7-control {
  position: relative;
  z-index: 800;
  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control {
  float: left;
  clear: both;
}
.l7-top,
.l7-bottom {
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-top {
  top: 0;
}
.l7-right {
  right: 0;
}
.l7-bottom {
  bottom: 0;
}
.l7-left {
  left: 0;
}
.l7-center {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}
.l7-bottom.l7-center,
.l7-top.l7-center {
  width: 100%;
}
.l7-right.l7-center,
.l7-left.l7-center {
  height: 100%;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-top.l7-center,
.l7-left.l7-center {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}

.l7-bottom.l7-center,
.l7-right.l7-center {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}

.l7-center .l7-control {
  margin-right: 10px;
  margin-bottom: 10px;
}

.l7-control {
  float: left;
  clear: both;
}
.l7-right .l7-control {
  float: right;
}
.l7-top .l7-control {
  margin-top: 10px;
}
.l7-bottom .l7-control {
  margin-bottom: 10px;
}
.l7-left .l7-control {
  margin-left: 10px;
}
.l7-right .l7-control {
  margin-right: 10px;
}

/* attribution and scale controls */

.l7-control-container .l7-control-attribution {
  background: #fff;
  background: rgba(255, 255, 255, 0.7);
  margin: 0;
}
.l7-control-attribution,
.l7-control-scale-line {
  padding: 0 5px;
  color: #333;
}
.l7-control-attribution a {
  text-decoration: none;
}
.l7-control-attribution a:hover {
  text-decoration: underline;
}
.l7-container .l7-control-attribution,
.l7-container .l7-control-scale {
  font-size: 11px;
  padding: 5px 5px 2px 5px;
  background: rgba(255, 255, 255, 0.7);
}
.l7-left .l7-control-scale {
  margin-left: 5px;
}
.l7-bottom .l7-control-scale {
  margin-bottom: 5px;
}
.l7-control-scale-line {
  border: 2px solid #000;
  border-top: none;
  color: #000;
  line-height: 1.1;
  padding: 2px 5px 1px;
  font-size: 11px;
  white-space: nowrap;
  overflow: hidden;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;

  background: #fff;
}
.l7-control-scale-line:not(:first-child) {
  border-top: 2px solid #777;
  border-bottom: none;
  margin-top: -2px;
}
.l7-control-scale-line:not(:first-child):not(:last-child) {
  border-bottom: 2px solid #777;
}

.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  -webkit-box-shadow: none;
          box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  border: 2px solid rgba(0, 0, 0, 0.2);
  background-clip: padding-box;
}
/*logo */

.l7-ctrl-logo {
  background-size: 100% 100%;
  width: 89px;
  height: 16px;
  margin: 0 0 -3px -3px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  background-repeat: no-repeat;
  cursor: pointer;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 2px;
}
.l7-control-layers-toggle {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');
  width: 30px;
  height: 30px;
  background-size: 20px 20px;
}

.l7-touch .l7-control-layers-toggle {
  width: 44px;
  height: 44px;
}
.l7-control-layers .l7-control-layers-list,
.l7-control-layers-expanded .l7-control-layers-toggle {
  display: none;
}
.l7-control-layers-expanded .l7-control-layers-list {
  display: block;
  position: relative;
}
.l7-control-layers-expanded {
  padding: 6px 10px 6px 6px;
  color: #59626b;
  background: #fff;
}
.l7-control-layers-scrollbar {
  overflow-y: scroll;
  overflow-x: hidden;
  padding-right: 5px;
}
.l7-control-layers-selector {
  margin-top: 2px;
  position: relative;
  top: 1px;
}
.l7-control-layers label {
  display: block;
  padding: 8px;
}
.l7-control-layers label input[type='radio'],
.l7-control-layers label input[type='checkbox'] {
  width: 14px;
  height: 14px;
  margin: 0;
}
.l7-control-layers-separator {
  height: 0;
  border-top: 1px solid #d8d8d8;
  margin: 5px -10px 5px -6px;
}
.mapboxgl-ctrl-logo {
  display: none !important;
}
.amap-logo {
  display: none !important;
}
`);var is=x(92137),Xo=x(87757),as=x.n(Xo),$a=x(86700),Su=x(88307),pu=x.n(Su),Qs=x(28660),au=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"attribute",void 0),(0,O.Z)(this,"buffer",void 0);var j=F.buffer,_=F.offset,X=F.stride,ut=F.normalized,Ct=F.size,At=F.divisor;this.buffer=j,this.attribute={buffer:j.get(),offset:_||0,stride:X||0,normalized:ut||!1,divisor:At||0},Ct&&(this.attribute.size=Ct)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(F){this.buffer.subData(F)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),I}(),Ko,ie,he,Kt,Re,br,Tn,gi,Oi,Di,ea,ha,Ba,na,ts=(Ko={},(0,O.Z)(Ko,Rt.gl.POINTS,"points"),(0,O.Z)(Ko,Rt.gl.LINES,"lines"),(0,O.Z)(Ko,Rt.gl.LINE_LOOP,"line loop"),(0,O.Z)(Ko,Rt.gl.LINE_STRIP,"line strip"),(0,O.Z)(Ko,Rt.gl.TRIANGLES,"triangles"),(0,O.Z)(Ko,Rt.gl.TRIANGLE_FAN,"triangle fan"),(0,O.Z)(Ko,Rt.gl.TRIANGLE_STRIP,"triangle strip"),Ko),po=(ie={},(0,O.Z)(ie,Rt.gl.STATIC_DRAW,"static"),(0,O.Z)(ie,Rt.gl.DYNAMIC_DRAW,"dynamic"),(0,O.Z)(ie,Rt.gl.STREAM_DRAW,"stream"),ie),uo=(he={},(0,O.Z)(he,Rt.gl.BYTE,"int8"),(0,O.Z)(he,Rt.gl.UNSIGNED_INT,"int16"),(0,O.Z)(he,Rt.gl.INT,"int32"),(0,O.Z)(he,Rt.gl.UNSIGNED_BYTE,"uint8"),(0,O.Z)(he,Rt.gl.UNSIGNED_SHORT,"uint16"),(0,O.Z)(he,Rt.gl.UNSIGNED_INT,"uint32"),(0,O.Z)(he,Rt.gl.FLOAT,"float"),he),Zo=(Kt={},(0,O.Z)(Kt,Rt.gl.ALPHA,"alpha"),(0,O.Z)(Kt,Rt.gl.LUMINANCE,"luminance"),(0,O.Z)(Kt,Rt.gl.LUMINANCE_ALPHA,"luminance alpha"),(0,O.Z)(Kt,Rt.gl.RGB,"rgb"),(0,O.Z)(Kt,Rt.gl.RGBA,"rgba"),(0,O.Z)(Kt,Rt.gl.RGBA4,"rgba4"),(0,O.Z)(Kt,Rt.gl.RGB5_A1,"rgb5 a1"),(0,O.Z)(Kt,Rt.gl.RGB565,"rgb565"),(0,O.Z)(Kt,Rt.gl.DEPTH_COMPONENT,"depth"),(0,O.Z)(Kt,Rt.gl.DEPTH_STENCIL,"depth stencil"),Kt),Qa=(Re={},(0,O.Z)(Re,Rt.gl.DONT_CARE,"dont care"),(0,O.Z)(Re,Rt.gl.NICEST,"nice"),(0,O.Z)(Re,Rt.gl.FASTEST,"fast"),Re),go=(br={},(0,O.Z)(br,Rt.gl.NEAREST,"nearest"),(0,O.Z)(br,Rt.gl.LINEAR,"linear"),(0,O.Z)(br,Rt.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,O.Z)(br,Rt.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,O.Z)(br,Rt.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,O.Z)(br,Rt.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),br),fs=(Tn={},(0,O.Z)(Tn,Rt.gl.REPEAT,"repeat"),(0,O.Z)(Tn,Rt.gl.CLAMP_TO_EDGE,"clamp"),(0,O.Z)(Tn,Rt.gl.MIRRORED_REPEAT,"mirror"),Tn),es=(gi={},(0,O.Z)(gi,Rt.gl.NONE,"none"),(0,O.Z)(gi,Rt.gl.BROWSER_DEFAULT_WEBGL,"browser"),gi),Rs=(Oi={},(0,O.Z)(Oi,Rt.gl.NEVER,"never"),(0,O.Z)(Oi,Rt.gl.ALWAYS,"always"),(0,O.Z)(Oi,Rt.gl.LESS,"less"),(0,O.Z)(Oi,Rt.gl.LEQUAL,"lequal"),(0,O.Z)(Oi,Rt.gl.GREATER,"greater"),(0,O.Z)(Oi,Rt.gl.GEQUAL,"gequal"),(0,O.Z)(Oi,Rt.gl.EQUAL,"equal"),(0,O.Z)(Oi,Rt.gl.NOTEQUAL,"notequal"),Oi),os=(Di={},(0,O.Z)(Di,Rt.gl.FUNC_ADD,"add"),(0,O.Z)(Di,Rt.gl.MIN_EXT,"min"),(0,O.Z)(Di,Rt.gl.MAX_EXT,"max"),(0,O.Z)(Di,Rt.gl.FUNC_SUBTRACT,"subtract"),(0,O.Z)(Di,Rt.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Di),ss=(ea={},(0,O.Z)(ea,Rt.gl.ZERO,"zero"),(0,O.Z)(ea,Rt.gl.ONE,"one"),(0,O.Z)(ea,Rt.gl.SRC_COLOR,"src color"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,O.Z)(ea,Rt.gl.SRC_ALPHA,"src alpha"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,O.Z)(ea,Rt.gl.DST_COLOR,"dst color"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,O.Z)(ea,Rt.gl.DST_ALPHA,"dst alpha"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,O.Z)(ea,Rt.gl.CONSTANT_COLOR,"constant color"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,O.Z)(ea,Rt.gl.CONSTANT_ALPHA,"constant alpha"),(0,O.Z)(ea,Rt.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,O.Z)(ea,Rt.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),ea),Bo=(ha={},(0,O.Z)(ha,Rt.gl.NEVER,"never"),(0,O.Z)(ha,Rt.gl.ALWAYS,"always"),(0,O.Z)(ha,Rt.gl.LESS,"less"),(0,O.Z)(ha,Rt.gl.LEQUAL,"lequal"),(0,O.Z)(ha,Rt.gl.GREATER,"greater"),(0,O.Z)(ha,Rt.gl.GEQUAL,"gequal"),(0,O.Z)(ha,Rt.gl.EQUAL,"equal"),(0,O.Z)(ha,Rt.gl.NOTEQUAL,"notequal"),ha),Zs=(Ba={},(0,O.Z)(Ba,Rt.gl.ZERO,"zero"),(0,O.Z)(Ba,Rt.gl.KEEP,"keep"),(0,O.Z)(Ba,Rt.gl.REPLACE,"replace"),(0,O.Z)(Ba,Rt.gl.INVERT,"invert"),(0,O.Z)(Ba,Rt.gl.INCR,"increment"),(0,O.Z)(Ba,Rt.gl.DECR,"decrement"),(0,O.Z)(Ba,Rt.gl.INCR_WRAP,"increment wrap"),(0,O.Z)(Ba,Rt.gl.DECR_WRAP,"decrement wrap"),Ba),Es=(na={},(0,O.Z)(na,Rt.gl.FRONT,"front"),(0,O.Z)(na,Rt.gl.BACK,"back"),na),Ns=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"buffer",void 0);var j=F.data,_=F.usage,X=F.type;this.buffer=z.buffer({data:j,usage:po[_||Rt.gl.STATIC_DRAW],type:uo[X||Rt.gl.UNSIGNED_BYTE]})}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(F){var j=F.data,_=F.offset;this.buffer.subdata(j,_)}}]),I}(),Fs=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"elements",void 0);var j=F.data,_=F.usage,X=F.type,ut=F.count;this.elements=z.elements({data:j,usage:po[_||Rt.gl.STATIC_DRAW],type:uo[X||Rt.gl.UNSIGNED_BYTE],count:ut})}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(F){var j=F.data;this.elements.subdata(j)}},{key:"destroy",value:function(){}}]),I}(),bu=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"framebuffer",void 0);var j=F.width,_=F.height,X=F.color,ut=F.colors,Ct=F.depth,At=F.stencil,Yt={width:j,height:_};Array.isArray(ut)&&(Yt.colors=ut.map(function(me){return me.get()})),X&&typeof X!="boolean"&&(Yt.color=X.get()),this.framebuffer=z.framebuffer(Yt)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(F){var j=F.width,_=F.height;this.framebuffer.resize(j,_)}}]),I}(),Au=x(90484),Bs=x(36719),ou=x.n(Bs),Js=x(68630),gu=x.n(Js);function qs(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function js(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?qs(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):qs(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var Ws=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"reGl",void 0),(0,O.Z)(this,"destroyed",!1),(0,O.Z)(this,"drawCommand",void 0),(0,O.Z)(this,"drawParams",void 0),(0,O.Z)(this,"options",void 0),(0,O.Z)(this,"uniforms",{}),this.reGl=z;var j=F.vs,_=F.fs,X=F.attributes,ut=F.uniforms,Ct=F.primitive,At=F.count,Yt=F.elements,me=F.depth,fe=F.blend,tr=F.stencil,dr=F.cull,tn=F.instances,yn={};this.options=F,ut&&(this.uniforms=this.extractUniforms(ut),Object.keys(ut).forEach(function(bi){yn[bi]=z.prop(bi)}));var Wn={};Object.keys(X).forEach(function(bi){Wn[bi]=X[bi].get()});var ii={attributes:Wn,frag:_,uniforms:yn,vert:j,primitive:ts[Ct===void 0?Rt.gl.TRIANGLES:Ct]};tn&&(ii.instances=tn),At&&(ii.count=At),Yt&&(ii.elements=Yt.get()),this.initDepthDrawParams({depth:me},ii),this.initBlendDrawParams({blend:fe},ii),this.initStencilDrawParams({stencil:tr},ii),this.initCullDrawParams({cull:dr},ii),this.drawCommand=z(ii),this.drawParams=ii}return(0,Ve.Z)(I,[{key:"addUniforms",value:function(F){this.uniforms=js(js({},this.uniforms),this.extractUniforms(F))}},{key:"draw",value:function(F){if(!(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)){var j=js(js({},this.uniforms),this.extractUniforms(F.uniforms||{})),_={};Object.keys(j).forEach(function(X){var ut=(0,Au.Z)(j[X]);ut==="boolean"||ut==="number"||Array.isArray(j[X])||j[X].BYTES_PER_ELEMENT?_[X]=j[X]:_[X]=j[X].get()}),this.drawCommand(_)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(function(F){F.destroy()}),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(F,j){var _=F.depth;_&&(j.depth={enable:_.enable===void 0?!0:!!_.enable,mask:_.mask===void 0?!0:!!_.mask,func:Rs[_.func||Rt.gl.LESS],range:_.range||[0,1]})}},{key:"initBlendDrawParams",value:function(F,j){var _=F.blend;if(_){var X=_.enable,ut=_.func,Ct=_.equation,At=_.color,Yt=At===void 0?[0,0,0,0]:At;j.blend={enable:!!X,func:{srcRGB:ss[ut&&ut.srcRGB||Rt.gl.SRC_ALPHA],srcAlpha:ss[ut&&ut.srcAlpha||Rt.gl.SRC_ALPHA],dstRGB:ss[ut&&ut.dstRGB||Rt.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:ss[ut&&ut.dstAlpha||Rt.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:os[Ct&&Ct.rgb||Rt.gl.FUNC_ADD],alpha:os[Ct&&Ct.alpha||Rt.gl.FUNC_ADD]},color:Yt}}}},{key:"initStencilDrawParams",value:function(F,j){var _=F.stencil;if(_){var X=_.enable,ut=_.mask,Ct=ut===void 0?-1:ut,At=_.func,Yt=At===void 0?{cmp:Rt.gl.ALWAYS,ref:0,mask:-1}:At,me=_.opFront,fe=me===void 0?{fail:Rt.gl.KEEP,zfail:Rt.gl.KEEP,zpass:Rt.gl.KEEP}:me,tr=_.opBack,dr=tr===void 0?{fail:Rt.gl.KEEP,zfail:Rt.gl.KEEP,zpass:Rt.gl.KEEP}:tr;j.stencil={enable:!!X,mask:Ct,func:js(js({},Yt),{},{cmp:Bo[Yt.cmp]}),opFront:{fail:Zs[fe.fail],zfail:Zs[fe.zfail],zpass:Zs[fe.zpass]},opBack:{fail:Zs[dr.fail],zfail:Zs[dr.zfail],zpass:Zs[dr.zpass]}}}}},{key:"initCullDrawParams",value:function(F,j){var _=F.cull;if(_){var X=_.enable,ut=_.face,Ct=ut===void 0?Rt.gl.BACK:ut;j.cull={enable:!!X,face:Es[Ct]}}}},{key:"extractUniforms",value:function(F){var j=this,_={};return Object.keys(F).forEach(function(X){j.extractUniformsRecursively(X,F[X],_,"")}),_}},{key:"extractUniformsRecursively",value:function(F,j,_,X){var ut=this;if(j===null||typeof j=="number"||typeof j=="boolean"||Array.isArray(j)&&typeof j[0]=="number"||ou()(j)||j===""||"resize"in j){_["".concat(X&&X+".").concat(F)]=j;return}gu()(j)&&Object.keys(j).forEach(function(Ct){ut.extractUniformsRecursively(Ct,j[Ct],_,"".concat(X&&X+".").concat(F))}),Array.isArray(j)&&j.forEach(function(Ct,At){Object.keys(Ct).forEach(function(Yt){ut.extractUniformsRecursively(Yt,Ct[Yt],_,"".concat(X&&X+".").concat(F,"[").concat(At,"]"))})})}}]),I}(),Nu=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"texture",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0);var j=F.data,_=F.type,X=_===void 0?Rt.gl.UNSIGNED_BYTE:_,ut=F.width,Ct=F.height,At=F.flipY,Yt=At===void 0?!1:At,me=F.format,fe=me===void 0?Rt.gl.RGBA:me,tr=F.mipmap,dr=tr===void 0?!1:tr,tn=F.wrapS,yn=tn===void 0?Rt.gl.CLAMP_TO_EDGE:tn,Wn=F.wrapT,ii=Wn===void 0?Rt.gl.CLAMP_TO_EDGE:Wn,bi=F.aniso,Bi=bi===void 0?0:bi,Ni=F.alignment,la=Ni===void 0?1:Ni,Ji=F.premultiplyAlpha,qi=Ji===void 0?!1:Ji,Aa=F.mag,Ga=Aa===void 0?Rt.gl.NEAREST:Aa,oo=F.min,Oo=oo===void 0?Rt.gl.NEAREST:oo,ko=F.colorSpace,zs=ko===void 0?Rt.gl.BROWSER_DEFAULT_WEBGL:ko;this.width=ut,this.height=Ct;var Ju={width:ut,height:Ct,type:uo[X],format:Zo[fe],wrapS:fs[yn],wrapT:fs[ii],mag:go[Ga],min:go[Oo],alignment:la,flipY:Yt,colorSpace:es[zs],premultiplyAlpha:qi,aniso:Bi};j&&(Ju.data=j),typeof dr=="number"?Ju.mipmap=Qa[dr]:typeof dr=="boolean"&&(Ju.mipmap=dr),this.texture=z.texture(Ju)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.texture(F)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(F){var j=F.width,_=F.height;this.texture.resize(j,_),this.width=j,this.height=_}},{key:"destroy",value:function(){this.texture.destroy()}}]),I}(),su,Pu,vu=(su=(0,$a.b2)(),su(Pu=function(){function I(){var z=this;(0,Se.Z)(this,I),(0,O.Z)(this,"extensionObject",void 0),(0,O.Z)(this,"gl",void 0),(0,O.Z)(this,"$container",void 0),(0,O.Z)(this,"canvas",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"isDirty",void 0),(0,O.Z)(this,"createModel",function(F){return new Ws(z.gl,F)}),(0,O.Z)(this,"createAttribute",function(F){return new au(z.gl,F)}),(0,O.Z)(this,"createBuffer",function(F){return new Ns(z.gl,F)}),(0,O.Z)(this,"createElements",function(F){return new Fs(z.gl,F)}),(0,O.Z)(this,"createTexture2D",function(F){return new Nu(z.gl,F)}),(0,O.Z)(this,"createFramebuffer",function(F){return new bu(z.gl,F)}),(0,O.Z)(this,"useFramebuffer",function(F,j){z.gl({framebuffer:F?F.get():null})(j)}),(0,O.Z)(this,"clear",function(F){var j=F.color,_=F.depth,X=F.stencil,ut=F.framebuffer,Ct=ut===void 0?null:ut,At={color:j,depth:_,stencil:X};At.framebuffer=Ct===null?Ct:Ct.get(),z.gl.clear(At)}),(0,O.Z)(this,"viewport",function(F){var j=F.x,_=F.y,X=F.width,ut=F.height;z.gl._gl.viewport(j,_,X,ut),z.width=X,z.height=ut,z.gl._refresh()}),(0,O.Z)(this,"readPixels",function(F){var j=F.framebuffer,_=F.x,X=F.y,ut=F.width,Ct=F.height,At={x:_,y:X,width:ut,height:Ct};return j&&(At.framebuffer=j.get()),z.gl.read(At)}),(0,O.Z)(this,"getViewportSize",function(){return{width:z.gl._gl.drawingBufferWidth,height:z.gl._gl.drawingBufferHeight}}),(0,O.Z)(this,"getContainer",function(){var F;return(F=z.canvas)===null||F===void 0?void 0:F.parentElement}),(0,O.Z)(this,"getCanvas",function(){return z.canvas}),(0,O.Z)(this,"getGLContext",function(){return z.gl._gl}),(0,O.Z)(this,"destroy",function(){z.gl.destroy()})}return(0,Ve.Z)(I,[{key:"init",value:function(){var z=(0,is.Z)(as().mark(function j(_,X){var ut=this;return as().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return this.canvas=_,At.next=3,new Promise(function(Yt,me){pu()({canvas:ut.canvas,attributes:{alpha:!0,antialias:X.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:X.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(tr,dr){(tr||!dr)&&me(tr),Yt(dr)}})});case 3:this.gl=At.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return At.stop()}},j,this)}));function F(j,_){return z.apply(this,arguments)}return F}()},{key:"testExtension",value:function(F){return!!this.getGLContext().getExtension(F)}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var F=this.getGLContext();F.disable(F.CULL_FACE)}},{key:"setDirty",value:function(F){this.isDirty=F}},{key:"getDirty",value:function(){return this.isDirty}}]),I}())||Pu);function Ss(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function mu(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Ss(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Ss(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var Ou=function(){function I(z){(0,Se.Z)(this,I),(0,O.Z)(this,"sceneService",void 0),(0,O.Z)(this,"mapService",void 0),(0,O.Z)(this,"controlService",void 0),(0,O.Z)(this,"layerService",void 0),(0,O.Z)(this,"iconService",void 0),(0,O.Z)(this,"markerService",void 0),(0,O.Z)(this,"popupService",void 0),(0,O.Z)(this,"fontService",void 0),(0,O.Z)(this,"interactionService",void 0),(0,O.Z)(this,"container",void 0);var F=z.id,j=z.map,_=(0,Rt.Hp)();this.container=_,j.setContainer(_,F),_.bind(Rt.vK.IRendererService).to(vu).inSingletonScope(),this.sceneService=_.get(Rt.vK.ISceneService),this.mapService=_.get(Rt.vK.IMapService),this.iconService=_.get(Rt.vK.IIconService),this.fontService=_.get(Rt.vK.IFontService),this.controlService=_.get(Rt.vK.IControlService),this.layerService=_.get(Rt.vK.ILayerService),this.markerService=_.get(Rt.vK.IMarkerService),this.interactionService=_.get(Rt.vK.IInteractionService),this.popupService=_.get(Rt.vK.IPopupService),this.initComponent(F),this.sceneService.init(z),this.initControl()}return(0,Ve.Z)(I,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(F){return this.sceneService.exportPng(F)}},{key:"exportMap",value:function(F){return this.sceneService.exportPng(F)}},{key:"registerRenderService",value:function(F){var j=this;if(this.sceneService.loaded){var _=new F(this);_.init()}else this.on("loaded",function(){var X=new F(j);X.init()})}},{key:"map",get:function(){return this.mapService.map}},{key:"setBgColor",value:function(F){this.mapService.setBgColor(F)}},{key:"addLayer",value:function(F){var j=(0,Rt.e7)(this.container);F.setContainer(j,this.container),this.sceneService.addLayer(F)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(F){return this.layerService.getLayer(F)}},{key:"getLayerByName",value:function(F){return this.layerService.getLayerByName(F)}},{key:"removeLayer",value:function(F,j){this.layerService.remove(F,j)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addIconFont",value:function(F,j){this.fontService.addIconFont(F,j)}},{key:"addIconFonts",value:function(F){var j=this;F.forEach(function(_){var X=(0,Ea.Z)(_,2),ut=X[0],Ct=X[1];j.fontService.addIconFont(ut,Ct)})}},{key:"addFontFace",value:function(F,j){this.sceneService.addFontFace(F,j)}},{key:"addImage",value:function(F,j){this.iconService.addImage(F,j)}},{key:"hasImage",value:function(F){return this.iconService.hasImage(F)}},{key:"removeImage",value:function(F){this.iconService.removeImage(F)}},{key:"addIconFontGlyphs",value:function(F,j){this.fontService.addIconGlyphs(j)}},{key:"addControl",value:function(F){this.controlService.addControl(F,this.container)}},{key:"removeControl",value:function(F){this.controlService.removeControl(F)}},{key:"getControlByName",value:function(F){return this.controlService.getControlByName(F)}},{key:"addMarker",value:function(F){this.markerService.addMarker(F)}},{key:"addMarkerLayer",value:function(F){this.markerService.addMarkerLayer(F)}},{key:"removeMarkerLayer",value:function(F){this.markerService.removeMarkerLayer(F)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(F){this.popupService.addPopup(F)}},{key:"on",value:function(F,j){Rt.SceneEventList.indexOf(F)===-1?this.mapService.on(F,j):this.sceneService.on(F,j)}},{key:"once",value:function(F,j){Rt.SceneEventList.indexOf(F)===-1?this.mapService.once(F,j):this.sceneService.once(F,j)}},{key:"off",value:function(F,j){Rt.SceneEventList.indexOf(F)===-1?this.mapService.off(F,j):this.sceneService.off(F,j)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(F){return this.mapService.getCenter(F)}},{key:"setCenter",value:function(F,j){return this.mapService.setCenter(F,j)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(F){return this.mapService.setPitch(F)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(F){this.mapService.setRotation(F)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(F){this.mapService.panTo(F)}},{key:"panBy",value:function(F,j){this.mapService.panBy(F,j)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(F){this.mapService.setZoom(F)}},{key:"fitBounds",value:function(F,j){var _=this.sceneService.getSceneConfig(),X=_.fitBoundsOptions,ut=_.animate;this.mapService.fitBounds(F,j||mu(mu({},X),{},{animate:ut}))}},{key:"setZoomAndCenter",value:function(F,j){this.mapService.setZoomAndCenter(F,j)}},{key:"setMapStyle",value:function(F){this.mapService.setMapStyle(F)}},{key:"setMapStatus",value:function(F){this.mapService.setMapStatus(F)}},{key:"pixelToLngLat",value:function(F){return this.mapService.pixelToLngLat(F)}},{key:"lngLatToPixel",value:function(F){return this.mapService.lngLatToPixel(F)}},{key:"containerToLngLat",value:function(F){return this.mapService.containerToLngLat(F)}},{key:"lngLatToContainer",value:function(F){return this.mapService.lngLatToContainer(F)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(F,j){this.container.bind(Rt.vK.IPostProcessingPass).to(F).whenTargetNamed(j)}},{key:"initComponent",value:function(F){this.controlService.init({container:Ir.SO.getContainer(F)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var F=this.sceneService.getSceneConfig(),j=F.logoVisible,_=F.logoPosition;j&&this.addControl(new Pn({position:_}))}}]),I}(),Gs=x(81253),Ao=x(55770),cs=x(3473),us=x(13218),lo=x.n(us),_s,jo,Wo,Vs,uu;function tu(I){return I.map(function(z){return typeof z=="string"&&(z=[z,{}]),z})}var Hs=(_s=(0,$a.b2)(),jo=(0,$a.f3)(Rt.vK.IGlobalConfigService),_s(Wo=(Vs=function(){function I(){(0,Se.Z)(this,I),(0,Ao.Z)(this,"configService",uu,this),(0,O.Z)(this,"enabled",void 0)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=this,X=j.rendererService,ut=j.postProcessingPassFactory,Ct=j.normalPassFactory;F.hooks.init.tap("MultiPassRendererPlugin",function(){var At=F.getLayerConfig(),Yt=At.enableMultiPassRenderer,me=At.passes,fe=me===void 0?[]:me;_.enabled=!!Yt&&F.getLayerConfig().enableMultiPassRenderer!==!1,_.enabled&&(F.multiPassRenderer=_.createMultiPassRenderer(F,fe,ut,Ct),F.multiPassRenderer.setRenderFlag(!0))}),F.hooks.beforeRender.tap("MultiPassRendererPlugin",function(){})}},{key:"createMultiPassRenderer",value:function(F,j,_,X){var ut=F.multiPassRenderer,Ct=F.getLayerConfig(),At=Ct.enablePicking,Yt=Ct.enableTAA;return At&&ut.add(X("pixelPicking")),ut}}]),I}(),uu=(0,cs.Z)(Vs.prototype,"configService",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs))||Wo),bs,ps=(bs={},(0,O.Z)(bs,Rt.h0.additive,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE,srcAlpha:1,dstAlpha:1}}),(0,O.Z)(bs,Rt.h0.none,{enable:!1}),(0,O.Z)(bs,Rt.h0.normal,{enable:!0,func:{srcRGB:Rt.gl.SRC_ALPHA,dstRGB:Rt.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),(0,O.Z)(bs,Rt.h0.subtractive,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE,srcAlpha:Rt.gl.ZERO,dstAlpha:Rt.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:Rt.gl.FUNC_SUBTRACT,alpha:Rt.gl.FUNC_SUBTRACT}}),(0,O.Z)(bs,Rt.h0.max,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE},equation:{rgb:Rt.gl.MAX_EXT}}),(0,O.Z)(bs,Rt.h0.min,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE},equation:{rgb:Rt.gl.MIN_EXT}}),bs),kt=x(81763),Xt=x.n(kt),We=x(1469),Ie=x.n(We),xr=1024;function Zr(I,z,F,j,_){z.updateStyleAttribute(I,F,j,_)}function ln(I,z){I.opacity&&Mn("opacity",z,I.opacity),I.strokeWidth&&Mn("strokeWidth",z,I.strokeWidth),I.strokeOpacity&&Mn("strokeOpacity",z,I.strokeOpacity),I.stroke&&zn("stroke",z,I.stroke),I.offsets&&In("offsets",z,I.offsets),I.textOffset&&In("textOffset",z,I.textOffset)}function Mn(I,z,F){gn()(F)?Zr(I,z,F,function(j){return j}):Xt()(F)?Zr(I,z,[F],void 0):Ie()(F)&&F.length===2?gn()(F[0])&&Dn()(F[1])||gn()(F[0])&&Ie()(F[1])&&Xt()(F[1][0])&&Xt()(F[1][1])?Zr(I,z,F[0],F[1]):Zr(I,z,[1],void 0):Zr(I,z,[1],void 0)}function In(I,z,F){gn()(F)?Zr(I,z,F,function(j){return j}):Ie()(F)&&F.length===2&&gn()(F[0])&&Dn()(F[1])?Zr(I,z,F[0],F[1]):Ie()(F)&&F.length===2&&Xt()(F[0])&&Xt()(F[1])?Zr(I,z,F,void 0):Zr(I,z,[0,0],void 0)}function zn(I,z,F){gn()(F)?Zr(I,z,F,void 0):Ie()(F)&&F.length===2&&(gn()(F[0])&&Dn()(F[1])||gn()(F[0])&&Ie()(F[1])&&F[1].length>0)?Zr(I,z,F[0],F[1]):Zr(I,z,"#fff",void 0)}var on,wn,bt,jt,Jt;function re(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=st(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function st(I,z){if(!!I){if(typeof I=="string")return St(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return St(I,z)}}function St(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}function Ut(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function wt(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Ut(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Ut(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}function Qt(I){var z=Oe();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Oe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ve=0,we=(on=(0,Rt.yT)(Rt.vK.IGlobalConfigService),wn=(0,Rt.yT)(Rt.vK.IShaderModuleService),bt=function(I){(0,vr.Z)(F,I);var z=Qt(F);function F(){var j,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Se.Z)(this,F),j=z.call(this),(0,O.Z)((0,le.Z)(j),"id","".concat(ve++)),(0,O.Z)((0,le.Z)(j),"name","".concat(ve)),(0,O.Z)((0,le.Z)(j),"type",void 0),(0,O.Z)((0,le.Z)(j),"visible",!0),(0,O.Z)((0,le.Z)(j),"zIndex",0),(0,O.Z)((0,le.Z)(j),"minZoom",void 0),(0,O.Z)((0,le.Z)(j),"maxZoom",void 0),(0,O.Z)((0,le.Z)(j),"inited",!1),(0,O.Z)((0,le.Z)(j),"layerModelNeedUpdate",!1),(0,O.Z)((0,le.Z)(j),"pickedFeatureID",null),(0,O.Z)((0,le.Z)(j),"selectedFeatureID",null),(0,O.Z)((0,le.Z)(j),"styleNeedUpdate",!1),(0,O.Z)((0,le.Z)(j),"rendering",void 0),(0,O.Z)((0,le.Z)(j),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,O.Z)((0,le.Z)(j),"hooks",{init:new sr.oI,afterInit:new sr.oI,beforeRender:new sr.oI,beforeRenderData:new sr.gg,afterRender:new sr.ni,beforePickingEncode:new sr.ni,afterPickingEncode:new sr.ni,beforeHighlight:new sr.ni(["pickedColor"]),afterHighlight:new sr.ni,beforeSelect:new sr.ni(["pickedColor"]),afterSelect:new sr.ni,beforeDestroy:new sr.ni,afterDestroy:new sr.ni}),(0,O.Z)((0,le.Z)(j),"models",[]),(0,O.Z)((0,le.Z)(j),"multiPassRenderer",void 0),(0,O.Z)((0,le.Z)(j),"plugins",void 0),(0,O.Z)((0,le.Z)(j),"sourceOption",void 0),(0,O.Z)((0,le.Z)(j),"layerModel",void 0),(0,O.Z)((0,le.Z)(j),"sceneContainer",void 0),(0,O.Z)((0,le.Z)(j),"layerChildren",[]),(0,Ao.Z)((0,le.Z)(j),"configService",jt,(0,le.Z)(j)),(0,Ao.Z)((0,le.Z)(j),"shaderModuleService",Jt,(0,le.Z)(j)),(0,O.Z)((0,le.Z)(j),"cameraService",void 0),(0,O.Z)((0,le.Z)(j),"coordinateService",void 0),(0,O.Z)((0,le.Z)(j),"iconService",void 0),(0,O.Z)((0,le.Z)(j),"fontService",void 0),(0,O.Z)((0,le.Z)(j),"pickingService",void 0),(0,O.Z)((0,le.Z)(j),"rendererService",void 0),(0,O.Z)((0,le.Z)(j),"layerService",void 0),(0,O.Z)((0,le.Z)(j),"interactionService",void 0),(0,O.Z)((0,le.Z)(j),"mapService",void 0),(0,O.Z)((0,le.Z)(j),"styleAttributeService",void 0),(0,O.Z)((0,le.Z)(j),"layerSource",void 0),(0,O.Z)((0,le.Z)(j),"postProcessingPassFactory",void 0),(0,O.Z)((0,le.Z)(j),"normalPassFactory",void 0),(0,O.Z)((0,le.Z)(j),"animateOptions",{enable:!1}),(0,O.Z)((0,le.Z)(j),"container",void 0),(0,O.Z)((0,le.Z)(j),"encodedData",void 0),(0,O.Z)((0,le.Z)(j),"configSchema",void 0),(0,O.Z)((0,le.Z)(j),"currentPickId",null),(0,O.Z)((0,le.Z)(j),"rawConfig",void 0),(0,O.Z)((0,le.Z)(j),"needUpdateConfig",void 0),(0,O.Z)((0,le.Z)(j),"pendingStyleAttributes",[]),(0,O.Z)((0,le.Z)(j),"scaleOptions",{}),(0,O.Z)((0,le.Z)(j),"animateStartTime",void 0),(0,O.Z)((0,le.Z)(j),"aniamateStatus",!1),(0,O.Z)((0,le.Z)(j),"sourceEvent",function(){j.dataState.dataSourceNeedUpdate=!0;var X=j.getLayerConfig(),ut=X.autoFit,Ct=X.fitBoundsOptions;ut&&j.fitBounds(Ct),j.emit("dataUpdate"),j.reRender()}),j.name=_.name||j.id,j.zIndex=_.zIndex||0,j.rawConfig=_,j}return(0,Ve.Z)(F,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(_){if(!this.inited)this.needUpdateConfig=wt(wt({},this.needUpdateConfig),_);else{var X=this.container.get(Rt.vK.SceneID);ln(_,this),this.configService.setLayerConfig(X,this.id,wt(wt(wt({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),_)),this.needUpdateConfig={}}}},{key:"setContainer",value:function(_,X){this.container=_,this.sceneContainer=X}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(_){return this.plugins.push(_),this}},{key:"init",value:function(){var _=this,X=this.container.get(Rt.vK.SceneID),ut=this.rawConfig.enableMultiPassRenderer,Ct=ut===void 0?!1:ut;this.configService.setLayerConfig(X,this.id,{enableMultiPassRenderer:Ct}),this.iconService=this.container.get(Rt.vK.IIconService),this.fontService=this.container.get(Rt.vK.IFontService),this.rendererService=this.container.get(Rt.vK.IRendererService),this.layerService=this.container.get(Rt.vK.ILayerService),this.interactionService=this.container.get(Rt.vK.IInteractionService),this.pickingService=this.container.get(Rt.vK.IPickingService),this.mapService=this.container.get(Rt.vK.IMapService),this.cameraService=this.container.get(Rt.vK.ICameraService),this.coordinateService=this.container.get(Rt.vK.ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(Rt.vK.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(Rt.vK.IFactoryNormalPass),this.styleAttributeService=this.container.get(Rt.vK.IStyleAttributeService),this.multiPassRenderer=this.container.get(Rt.vK.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach(function(fe){var tr=fe.attributeName,dr=fe.attributeField,tn=fe.attributeValues,yn=fe.updateOptions;_.styleAttributeService.updateStyleAttribute(tr,{scale:wt({field:dr},_.splitValuesAndCallbackInAttribute(tn,_.getLayerConfig()[tr]))},yn)}),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(Rt.vK.ILayerPlugin);var At=re(this.plugins),Yt;try{for(At.s();!(Yt=At.n()).done;){var me=Yt.value;me.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(fe){At.e(fe)}finally{At.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(wt(wt({},this.getDefaultConfig()),this.rawConfig));var _=this.getLayerConfig(),X=_.animateOption;X!=null&&X.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(_,X,ut){return this.updateStyleAttribute("color",_,X,ut),this}},{key:"texture",value:function(_,X,ut){return this.updateStyleAttribute("texture",_,X,ut),this}},{key:"rotate",value:function(_,X,ut){return this.updateStyleAttribute("rotate",_,X,ut),this}},{key:"size",value:function(_,X,ut){return this.updateStyleAttribute("size",_,X,ut),this}},{key:"filter",value:function(_,X,ut){return this.updateStyleAttribute("filter",_,X,ut),this}},{key:"shape",value:function(_,X,ut){return this.updateStyleAttribute("shape",_,X,ut),this}},{key:"label",value:function(_,X,ut){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:_,attributeValues:X,updateOptions:ut}),this}},{key:"animate",value:function(_){var X={};return lo()(_)?(X.enable=!0,X=wt(wt({},X),_)):X.enable=_,this.updateLayerConfig({animateOption:X}),this}},{key:"source",value:function(_,X){return _!=null&&_.data?(this.setSource(_),this):(this.sourceOption={data:_,options:X},this)}},{key:"setData",value:function(_,X){var ut=this;return this.inited?this.layerSource.setData(_,X):this.on("inited",function(){ut.layerSource.setData(_,X)}),this}},{key:"style",value:function(_){var X=this,ut=_.passes,Ct=(0,Gs.Z)(_,["passes"]);return ut&&tu(ut).forEach(function(At){var Yt=X.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(At[0]);Yt&&Yt.updateOptions(At[1])}),this.rawConfig=wt(wt({},this.rawConfig),Ct),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(_,X){return lo()(_)?this.scaleOptions=wt(wt({},this.scaleOptions),_):this.scaleOptions[_]=X,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return this.getEncodedData().length!==0&&this.renderModels(),this}},{key:"active",value:function(_){var X={};return X.enableHighlight=lo()(_)?!0:_,lo()(_)?(X.enableHighlight=!0,_.color&&(X.highlightColor=_.color)):X.enableHighlight=!!_,this.updateLayerConfig(X),this}},{key:"setActive",value:function(_,X){var ut=this;if(lo()(_)){var Ct=_.x,At=Ct===void 0?0:Ct,Yt=_.y,me=Yt===void 0?0:Yt;this.updateLayerConfig({highlightColor:lo()(X)?X.color:this.getLayerConfig().highlightColor}),this.pick({x:At,y:me})}else this.updateLayerConfig({pickedFeatureID:_,highlightColor:lo()(X)?X.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call((0,Ir.Z6)(_)).then(function(){setTimeout(function(){ut.reRender()},1)})}},{key:"select",value:function(_){var X={};return X.enableSelect=lo()(_)?!0:_,lo()(_)?(X.enableSelect=!0,_.color&&(X.selectColor=_.color)):X.enableSelect=!!_,this.updateLayerConfig(X),this}},{key:"setSelect",value:function(_,X){var ut=this;if(lo()(_)){var Ct=_.x,At=Ct===void 0?0:Ct,Yt=_.y,me=Yt===void 0?0:Yt;this.updateLayerConfig({selectColor:lo()(X)?X.color:this.getLayerConfig().selectColor}),this.pick({x:At,y:me})}else this.updateLayerConfig({pickedFeatureID:_,selectColor:lo()(X)?X.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call((0,Ir.Z6)(_)).then(function(){setTimeout(function(){ut.reRender()},1)})}},{key:"setBlend",value:function(_){this.updateLayerConfig({blend:_}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(_){return this.zIndex=_,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(_){this.currentPickId=_}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(_){this.selectedFeatureID=_}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var _=this.mapService.getZoom(),X=this.getLayerConfig(),ut=X.visible,Ct=X.minZoom,At=Ct===void 0?-Infinity:Ct,Yt=X.maxZoom,me=Yt===void 0?Infinity:Yt;return!!ut&&_>=At&&_<=me}},{key:"setMinZoom",value:function(_){return this.updateLayerConfig({minZoom:_}),this}},{key:"getMinZoom",value:function(){var _=this.getLayerConfig(),X=_.minZoom;return X}},{key:"getMaxZoom",value:function(){var _=this.getLayerConfig(),X=_.maxZoom;return X}},{key:"get",value:function(_){var X=this.getLayerConfig();return X[_]}},{key:"setMaxZoom",value:function(_){return this.updateLayerConfig({maxZoom:_}),this}},{key:"fitBounds",value:function(_){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var X=this.getSource(),ut=X.extent,Ct=ut.some(function(At){return Math.abs(At)===Infinity});return Ct?this:(this.mapService.fitBounds([[ut[0],ut[1]],[ut[2],ut[3]]],_),this)}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach(function(_){return _.destroy()}),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(function(_){return _.needRescale||_.needRemapping||_.needRegenerateVertices}).length}},{key:"setSource",value:function(_){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=_,this.inited&&this.layerSource.cluster){var X=this.mapService.getZoom();this.layerSource.updateClusterData(X)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(_){this.encodedData=_}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getLegendItems",value:function(_){var X=this.styleAttributeService.getLayerAttributeScale(_);if(X){if(X.ticks){var ut=X.ticks().map(function(At){return(0,O.Z)({value:At},_,X(At))});return ut}else if(X.invertExtent){var Ct=X.range().map(function(At){return(0,O.Z)({value:X.invertExtent(At)},_,At)});return Ct}}else return[]}},{key:"pick",value:function(_){var X=_.x,ut=_.y;this.interactionService.triggerHover({x:X,y:ut})}},{key:"boxSelect",value:function(_,X){this.pickingService.boxPickLayer(this,_,X)}},{key:"buildLayerModel",value:function(_){var X=_.moduleName,ut=_.vertexShader,Ct=_.fragmentShader,At=_.triangulation,Yt=_.segmentNumber,me=(0,Gs.Z)(_,["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber"]);this.shaderModuleService.registerModule(X,{vs:ut,fs:Ct});var fe=this.shaderModuleService.getModule(X),tr=fe.vs,dr=fe.fs,tn=fe.uniforms,yn=this.rendererService.createModel,Wn=this.styleAttributeService.createAttributesAndIndices(this.encodedData,At,Yt),ii=Wn.attributes,bi=Wn.elements;return yn(wt({attributes:ii,uniforms:tn,fs:dr,vs:tr,elements:bi,blend:ps[Rt.h0.normal]},me))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(_){var X=this.getLayerConfig(),ut=X.enableHighlight,Ct=ut===void 0?!0:ut,At=X.enableSelect,Yt=At===void 0?!0:At,me=this.eventNames().indexOf(_)!==-1||this.eventNames().indexOf("un"+_)!==-1;return(_==="click"||_==="dblclick")&&Yt&&(me=!0),_==="mousemove"&&(Ct||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(me=!0),this.isVisible()&&me}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var _=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach(function(X){X.draw({uniforms:_.layerModel.getUninforms()})})),this}},{key:"updateStyleAttribute",value:function(_,X,ut,Ct){this.inited?this.styleAttributeService.updateStyleAttribute(_,{scale:wt({field:X},this.splitValuesAndCallbackInAttribute(ut,this.getLayerConfig()[X]))},Ct):this.pendingStyleAttributes.push({attributeName:_,attributeField:X,attributeValues:ut,updateOptions:Ct})}},{key:"setEarthTime",value:function(_){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(_,X){return{values:Dn()(_)?void 0:_||X,callback:Dn()(_)?_:void 0}}}]),F}(kr.EventEmitter),jt=(0,cs.Z)(bt.prototype,"configService",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=(0,cs.Z)(bt.prototype,"shaderModuleService",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt),Ne=x(18446),Qe=x.n(Ne),Ye=x(2650),Ar,yr,Ur,pr,Fr;function Yr(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Sn(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function Sn(I,z){if(!!I){if(typeof I=="string")return Nn(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Nn(I,z)}}function Nn(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}var hn=(Ar=(0,Rt.yT)(Rt.vK.IGlobalConfigService),yr=(0,Rt.yT)(Rt.vK.IShaderModuleService),Ur=function(){function I(z){(0,Se.Z)(this,I),(0,O.Z)(this,"triangulation",void 0),(0,O.Z)(this,"createTexture2D",void 0),(0,O.Z)(this,"layer",void 0),(0,O.Z)(this,"dataTexture",void 0),(0,O.Z)(this,"DATA_TEXTURE_WIDTH",void 0),(0,O.Z)(this,"rowCount",void 0),(0,O.Z)(this,"cacheStyleProperties",void 0),(0,O.Z)(this,"cellLength",void 0),(0,O.Z)(this,"cellProperties",void 0),(0,O.Z)(this,"cellTypeLayout",void 0),(0,O.Z)(this,"stylePropertyesExist",void 0),(0,O.Z)(this,"dataTextureTest",void 0),(0,Ao.Z)(this,"configService",pr,this),(0,Ao.Z)(this,"shaderModuleService",Fr,this),(0,O.Z)(this,"rendererService",void 0),(0,O.Z)(this,"iconService",void 0),(0,O.Z)(this,"fontService",void 0),(0,O.Z)(this,"styleAttributeService",void 0),(0,O.Z)(this,"mapService",void 0),(0,O.Z)(this,"cameraService",void 0),(0,O.Z)(this,"layerService",void 0),this.layer=z,this.rendererService=z.getContainer().get(Rt.vK.IRendererService),this.styleAttributeService=z.getContainer().get(Rt.vK.IStyleAttributeService),this.mapService=z.getContainer().get(Rt.vK.IMapService),this.iconService=z.getContainer().get(Rt.vK.IIconService),this.fontService=z.getContainer().get(Rt.vK.IFontService),this.cameraService=z.getContainer().get(Rt.vK.ICameraService),this.layerService=z.getContainer().get(Rt.vK.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var F=this.rendererService.createTexture2D;this.createTexture2D=F,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new ImageData(1,1).data,mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,width:1,height:1}))}return(0,Ve.Z)(I,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,0,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(F){var j=!1;return Qe()(F.opacity,this.cacheStyleProperties.opacity)||(j=!0,this.cacheStyleProperties.opacity=F.opacity),Qe()(F.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(j=!0,this.cacheStyleProperties.strokeOpacity=F.strokeOpacity),Qe()(F.strokeWidth,this.cacheStyleProperties.strokeWidth)||(j=!0,this.cacheStyleProperties.strokeWidth=F.strokeWidth),Qe()(F.stroke,this.cacheStyleProperties.stroke)||(j=!0,this.cacheStyleProperties.stroke=F.stroke),Qe()(F.offsets,this.cacheStyleProperties.offsets)||(j=!0,this.cacheStyleProperties.offsets=F.offsets),this.dataTexture===void 0&&(j=!0),j}},{key:"judgeStyleAttributes",value:function(F){this.clearLastCalRes(),F.opacity!==void 0&&!Xt()(F.opacity)&&(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),F.strokeOpacity!==void 0&&!Xt()(F.strokeOpacity)&&(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),F.strokeWidth!==void 0&&!Xt()(F.strokeWidth)&&(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),F.stroke!==void 0&&!this.isStaticColor(F.stroke)&&(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),F.offsets!==void 0&&!this.isOffsetStatic(F.offsets)&&(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2)}},{key:"isStaticColor",value:function(F){return gn()(F)?!!(0,Ye.ZP)(F):!1}},{key:"getStrokeColor",value:function(F){if(this.isStaticColor(F)){var j=(0,Ir.CI)(F);return j[0]=j[0]?j[0]:0,j[1]=j[1]?j[1]:0,j[2]=j[2]?j[2]:0,j[3]=j[3]?j[3]:0,j}else return[0,0,0,0]}},{key:"isOffsetStatic",value:function(F){return!!(Ie()(F)&&F.length===2&&Xt()(F[0])&&Xt()(F[1]))}},{key:"patchMod",value:function(F,j){for(var _=0;_<j;_++)F.push(-1)}},{key:"patchData",value:function(F,j,_){var X=Yr(_),ut;try{for(X.s();!(ut=X.n()).done;){var Ct=ut.value,At=Ct.attr,Yt=Ct.count,me=j[At];me?At==="stroke"?F.push.apply(F,(0,D.Z)((0,Ir.CI)(me))):At==="offsets"?this.isOffsetStatic(me)?F.push(-me[0],me[1]):F.push(0,0):F.push(Xt()(me)?me:1):this.patchMod(F,Yt)}}catch(fe){X.e(fe)}finally{X.f()}}},{key:"calDataFrame",value:function(F,j,_){for(var X=j.length,ut=Math.ceil(X*F/this.DATA_TEXTURE_WIDTH),Ct=ut*this.DATA_TEXTURE_WIDTH,At=[],Yt=0;Yt<X;Yt++){var me=j[Yt];this.patchData(At,me,_)}for(var fe=At.length;fe<Ct;fe++)At.push(-1);return{data:At,width:this.DATA_TEXTURE_WIDTH,height:ut}}},{key:"getBlend",value:function(){var F=this.layer.getLayerConfig(),j=F.blend,_=j===void 0?"normal":j;return ps[Rt.h0[_]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(F){return[F.enable?0:1,F.duration||4,F.interval||.2,F.trailLength||.1]}},{key:"startModelAnimate",value:function(){var F=this.layer.getLayerConfig(),j=F.animateOption;j.enable&&this.layer.setAnimateStartTime()}}]),I}(),pr=(0,cs.Z)(Ur.prototype,"configService",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=(0,cs.Z)(Ur.prototype,"shaderModuleService",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur),Bn=x(9187),qn=x.n(Bn),Ai=100,Ti=36,Oa=40;function va(I){return I/180*Math.acos(-1)}function ma(I){var z=va(I[0])+Math.PI/2,F=va(I[1]),j=Ai+Math.random()*.4,_=j*Math.cos(F)*Math.cos(z),X=j*Math.cos(F)*Math.sin(z),ut=j*Math.sin(F);return[X,ut,_]}function jn(I,z){var F=mat4.create(),j=mat4.create(),_=vec3.fromValues(0,1,0),X=vec3.fromValues(0,0,0);z=z||{},I=typeof I!="undefined"?I:1;for(var ut=typeof z.segments!="undefined"?z.segments:32,Ct=2+ut,At=2*Ct,Yt=[],me=[],fe=[],tr=[],dr=[],tn=[],yn=0;yn<=Ct;yn++){for(var Wn=yn/Ct,ii=Wn*Math.PI,bi=0;bi<=At;bi++){var Bi=bi/At,Ni=Bi*Math.PI*2;mat4.identity(j),mat4.rotateZ(j,j,-ii),mat4.identity(F),mat4.rotateY(F,F,Ni),vec3.transformMat4(X,_,j),vec3.transformMat4(X,X,F),vec3.scale(X,X,-I),fe.push(X.slice()),tr.push.apply(tr,_toConsumableArray(X.slice())),vec3.normalize(X,X),dr.push.apply(dr,_toConsumableArray(X.slice())),tn.push([Bi,1-Wn]),tr.push(Bi,1-Wn)}if(yn>0)for(var la=fe.length,Ji=la-2*(At+1);Ji+At+2<la;Ji++)Yt.push([Ji,Ji+1,Ji+At+1]),me.push(Ji,Ji+1,Ji+At+1),Yt.push([Ji+At+1,Ji+1,Ji+At+2]),me.push(Ji+At+1,Ji+1,Ji+At+2)}return{cells:Yt,positions:fe,uvs:tn,positionsArr:tr,indicesArr:me,normalArr:dr}}var hi=x(31437),Ha=hi.Ue(),Wa=hi.Ue(),Xn=hi.Ue(),ja=hi.Ue(),fo=hi.Ue();function Do(I,z,F,j,_){hi.IH(I,F,j),hi.Fv(I,I),z=hi.al(-I[1],I[0]);var X=hi.al(-F[1],F[0]);return[_/hi.AK(z,X),z]}function Ro(I,z){return hi.t8(I,-z[1],z[0])}function Ys(I,z,F){return hi.lu(I,z,F),hi.Fv(I,I),I}function gs(I,z){return I[0]===z[0]&&I[1]===z[1]}function yu(I){for(var z=new Map,F=0;F<I.length;F++){var j=I[0].toString()+"-"+I[1].toString();z.get(j)?(I.splice(F,1),F++):z.set(j,j)}return I}var Tu=function(){function I(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Se.Z)(this,I),(0,O.Z)(this,"complex",void 0),(0,O.Z)(this,"join",void 0),(0,O.Z)(this,"cap",void 0),(0,O.Z)(this,"miterLimit",void 0),(0,O.Z)(this,"thickness",void 0),(0,O.Z)(this,"normal",void 0),(0,O.Z)(this,"lastFlip",-1),(0,O.Z)(this,"miter",hi.al(0,0)),(0,O.Z)(this,"started",!1),(0,O.Z)(this,"dash",!1),(0,O.Z)(this,"totalDistance",0),this.join=z.join||"miter",this.cap=z.cap||"butt",this.miterLimit=z.miterLimit||10,this.thickness=z.thickness||1,this.dash=z.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return(0,Ve.Z)(I,[{key:"extrude_gaode2",value:function(F,j){var _=this.complex;if(F.length<=1)return _;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var X=F.length,ut=_.startIndex,Ct=1;Ct<X;Ct++){var At=F[Ct-1],Yt=j[Ct-1],me=F[Ct],fe=j[Ct],tr=Ct<F.length-1?F[Ct+1]:null,dr=Ct<j.length-1?j[Ct+1]:null,tn=this.segment_gaode2(_,ut,At,me,tr,Yt,fe,dr);ut+=tn}if(this.dash)for(var yn=0;yn<_.positions.length/6;yn++)_.positions[yn*6+5]=this.totalDistance;return _.startIndex=_.positions.length/6,_}},{key:"extrude",value:function(F){var j=this.complex;if(F.length<=1)return j;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var _=F.length,X=j.startIndex,ut=1;ut<_;ut++){var Ct=F[ut-1],At=F[ut],Yt=ut<F.length-1?F[ut+1]:null,me=this.segment(j,X,Ct,At,Yt);X+=me}if(this.dash)for(var fe=0;fe<j.positions.length/6;fe++)j.positions[fe*6+5]=this.totalDistance;return j.startIndex=j.positions.length/6,j}},{key:"segment_gaode2",value:function(F,j,_,X,ut,Ct,At,Yt){var me=0,fe=F.indices,tr=F.positions,dr=F.normals,tn=this.cap==="square",yn=this.join==="bevel",Wn=(0,Ir.Z)([At[0],At[1]]),ii=(0,Ir.Z)([Ct[0],Ct[1]]);Ys(Xn,X,_);var bi=0;if(this.dash&&(bi=this.lineSegmentDistance(Wn,ii),this.totalDistance+=bi),this.normal||(this.normal=hi.Ue(),Ro(this.normal,Xn)),!this.started)if(this.started=!0,tn){var Bi=hi.Ue(),Ni=hi.Ue();hi.IH(Bi,this.normal,Xn),hi.IH(Ni,this.normal,Xn),dr.push(Ni[0],Ni[1],0),dr.push(Bi[0],Bi[1],0),tr.push(_[0],_[1],0,this.totalDistance-bi,-this.thickness,0),tr.push(_[0],_[1],0,this.totalDistance-bi,this.thickness,0)}else this.extrusions(tr,dr,_,this.normal,this.thickness,this.totalDistance-bi);if(fe.push(j+0,j+1,j+2),ut){gs(X,ut)&&hi.IH(ut,X,hi.Fv(ut,hi.$X(ut,X,_))),Ys(ja,ut,X);var qi=Do(fo,hi.Ue(),Xn,ja,this.thickness),Aa=(0,Ea.Z)(qi,2),Ga=Aa[0],oo=Aa[1],Oo=hi.AK(fo,this.normal)<0?-1:1,ko=yn;if(!ko&&this.join==="miter"){var zs=Ga;zs>this.miterLimit&&(ko=!0)}ko?(dr.push(this.normal[0],this.normal[1],0),dr.push(oo[0],oo[1],0),tr.push(X[0],X[1],0,this.totalDistance,-this.thickness*Oo,0),tr.push(X[0],X[1],0,this.totalDistance,this.thickness*Oo,0),fe.push.apply(fe,(0,D.Z)(this.lastFlip!==-Oo?[j,j+2,j+3]:[j+2,j+1,j+3])),fe.push(j+2,j+3,j+4),Ro(Ha,ja),hi.JG(this.normal,Ha),dr.push(this.normal[0],this.normal[1],0),tr.push(X[0],X[1],0,this.totalDistance,-this.thickness*Oo,0),me+=3):(this.extrusions(tr,dr,X,oo,Ga,this.totalDistance),fe.push.apply(fe,(0,D.Z)(this.lastFlip===1?[j,j+2,j+3]:[j+2,j+1,j+3])),Oo=-1,hi.JG(this.normal,oo),me+=2),this.lastFlip=Oo}else{if(Ro(this.normal,Xn),tn){var la=hi.Ue(),Ji=hi.Ue();hi.lu(Ji,Xn,this.normal),hi.IH(la,Xn,this.normal),dr.push(Ji[0],Ji[1],0),dr.push(la[0],la[1],0),tr.push(X[0],X[1],0,this.totalDistance,this.thickness,0),tr.push(X[0],X[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(tr,dr,X,this.normal,this.thickness,this.totalDistance);fe.push.apply(fe,(0,D.Z)(this.lastFlip===1?[j,j+2,j+3]:[j+2,j+1,j+3])),me+=2}return me}},{key:"segment",value:function(F,j,_,X,ut){var Ct=0,At=F.indices,Yt=F.positions,me=F.normals,fe=this.cap==="square",tr=this.join==="bevel",dr=(0,Ir.Z)([X[0],X[1]]),tn=(0,Ir.Z)([_[0],_[1]]);Ys(Xn,dr,tn);var yn=0;if(this.dash&&(yn=this.lineSegmentDistance(dr,tn),this.totalDistance+=yn),this.normal||(this.normal=hi.Ue(),Ro(this.normal,Xn)),!this.started)if(this.started=!0,fe){var Wn=hi.Ue(),ii=hi.Ue();hi.IH(Wn,this.normal,Xn),hi.IH(ii,this.normal,Xn),me.push(ii[0],ii[1],0),me.push(Wn[0],Wn[1],0),Yt.push(_[0],_[1],0,this.totalDistance-yn,-this.thickness,0),Yt.push(_[0],_[1],0,this.totalDistance-yn,this.thickness,0)}else this.extrusions(Yt,me,_,this.normal,this.thickness,this.totalDistance-yn);if(At.push(j+0,j+1,j+2),ut){var Ni=(0,Ir.Z)([ut[0],ut[1]]);gs(dr,Ni)&&hi.IH(Ni,dr,hi.Fv(Ni,hi.$X(Ni,dr,tn))),Ys(ja,Ni,dr);var la=Do(fo,hi.Ue(),Xn,ja,this.thickness),Ji=(0,Ea.Z)(la,2),qi=Ji[0],Aa=Ji[1],Ga=hi.AK(fo,this.normal)<0?-1:1,oo=tr;if(!oo&&this.join==="miter"){var Oo=qi;Oo>this.miterLimit&&(oo=!0)}oo?(me.push(this.normal[0],this.normal[1],0),me.push(Aa[0],Aa[1],0),Yt.push(X[0],X[1],0,this.totalDistance,-this.thickness*Ga,0),Yt.push(X[0],X[1],0,this.totalDistance,this.thickness*Ga,0),At.push.apply(At,(0,D.Z)(this.lastFlip!==-Ga?[j,j+2,j+3]:[j+2,j+1,j+3])),At.push(j+2,j+3,j+4),Ro(Ha,ja),hi.JG(this.normal,Ha),me.push(this.normal[0],this.normal[1],0),Yt.push(X[0],X[1],0,this.totalDistance,-this.thickness*Ga,0),Ct+=3):(this.extrusions(Yt,me,X,Aa,qi,this.totalDistance),At.push.apply(At,(0,D.Z)(this.lastFlip===1?[j,j+2,j+3]:[j+2,j+1,j+3])),Ga=-1,hi.JG(this.normal,Aa),Ct+=2),this.lastFlip=Ga}else{if(Ro(this.normal,Xn),fe){var bi=hi.Ue(),Bi=hi.Ue();hi.lu(Bi,Xn,this.normal),hi.IH(bi,Xn,this.normal),me.push(Bi[0],Bi[1],0),me.push(bi[0],bi[1],0),Yt.push(X[0],X[1],0,this.totalDistance,this.thickness,0),Yt.push(X[0],X[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(Yt,me,X,this.normal,this.thickness,this.totalDistance);At.push.apply(At,(0,D.Z)(this.lastFlip===1?[j,j+2,j+3]:[j+2,j+1,j+3])),Ct+=2}return Ct}},{key:"extrusions",value:function(F,j,_,X,ut,Ct){j.push(X[0],X[1],0),j.push(X[0],X[1],0),F.push(_[0],_[1],0,Ct,-ut,0),F.push(_[0],_[1],0,Ct,ut,0)}},{key:"lineSegmentDistance",value:function(F,j){var _=j[0]-F[0],X=j[1]-F[1];return Math.sqrt(_*_+X*X)}}]),I}();function lu(I){if(Xt()(I[0]))return I;if(Xt()(I[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(Xt()(I[0][0][0])){var z=I,F=0,j=0,_=0;return z.forEach(function(X){X.forEach(function(ut){F+=ut[0],j+=ut[1],_++})}),[F/_,j/_,0]}else throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}var eo=x(77160);function pt(I){var z=I[0][0],F=I[0][I[0].length-1];z[0]===F[0]&&z[1]===F[1]&&(I[0]=I[0].slice(0,I[0].length-1));for(var j=I[0].length,_=earcut.flatten(I),X=_.vertices,ut=_.dimensions,Ct=[],At=[],Yt=0;Yt<X.length/ut;Yt++)ut===2?Ct.push(X[Yt*2],X[Yt*2+1],1):Ct.push(X[Yt*3],X[Yt*3+1],1);var me=earcut(_.vertices,_.holes,_.dimensions);At.push.apply(At,_toConsumableArray(me));for(var fe=function(tn){var yn=_.vertices.slice(tn*ut,(tn+1)*ut),Wn=_.vertices.slice((tn+1)*ut,(tn+2)*ut);Wn.length===0&&(Wn=_.vertices.slice(0,ut));var ii=Ct.length/3;Ct.push(yn[0],yn[1],1,Wn[0],Wn[1],1,yn[0],yn[1],0,Wn[0],Wn[1],0),At.push.apply(At,_toConsumableArray([0,2,1,2,3,1].map(function(bi){return bi+ii})))},tr=0;tr<j;tr++)fe(tr);return{positions:Ct,index:At}}function mt(I){var z=earcut.flatten(I),F=earcut(z.vertices,z.holes,z.dimensions);return{positions:z.vertices,index:F}}function Pt(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=I[0][0],j=I[0][I[0].length-1];F[0]===j[0]&&F[1]===j[1]&&(I[0]=I[0].slice(0,I[0].length-1));for(var _=I[0].length,X=qn().flatten(I),ut=X.vertices,Ct=X.dimensions,At=[],Yt=[],me=[],fe=0;fe<ut.length/Ct;fe++)Ct===2?At.push(ut[fe*2],ut[fe*2+1],1,-1,-1):At.push(ut[fe*3],ut[fe*3+1],1,-1,-1),me.push(0,0,1);var tr=qn()(X.vertices,X.holes,X.dimensions);Yt.push.apply(Yt,(0,D.Z)(tr));for(var dr=function(Wn){var ii=X.vertices.slice(Wn*Ct,(Wn+1)*Ct),bi=X.vertices.slice((Wn+1)*Ct,(Wn+2)*Ct);bi.length===0&&(bi=X.vertices.slice(0,Ct));var Bi=At.length/5;At.push(ii[0],ii[1],1,0,0,bi[0],bi[1],1,.1,0,ii[0],ii[1],0,0,.8,bi[0],bi[1],0,.1,.8);var Ni=It([bi[0],bi[1],1],[ii[0],ii[1],0],[ii[0],ii[1],1],z);me.push.apply(me,(0,D.Z)(Ni).concat((0,D.Z)(Ni),(0,D.Z)(Ni),(0,D.Z)(Ni))),Yt.push.apply(Yt,(0,D.Z)([1,2,0,3,2,1].map(function(la){return la+Bi})))},tn=0;tn<_;tn++)dr(tn);return{positions:At,index:Yt,normals:me}}function It(I,z,F){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=eo.create(),X=eo.create(),ut=eo.create();j&&(I=(0,Ir.vP)(I),z=(0,Ir.vP)(z),F=(0,Ir.vP)(F));var Ct=eo.fromValues.apply(eo,(0,D.Z)(I)),At=eo.fromValues.apply(eo,(0,D.Z)(z)),Yt=eo.fromValues.apply(eo,(0,D.Z)(F));eo.sub(_,Yt,At),eo.sub(X,Ct,At),eo.cross(ut,_,X);var me=eo.create();return eo.normalize(me,ut),me}var Ht,Gt;(function(I){I.CYLINDER="cylinder",I.SQUARECOLUMN="squareColumn",I.TRIANGLECOLUMN="triangleColumn",I.HEXAGONCOLUMN="hexagonColumn",I.PENTAGONCOLUMN="pentagonColumn"})(Gt||(Gt={}));var qt;(function(I){I.CIRCLE="circle",I.SQUARE="square",I.TRIANGLE="triangle",I.HEXAGON="hexagon",I.PENTAGON="pentagon"})(qt||(qt={}));function Fe(I){for(var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=Math.PI*2/I,j=[],_=0;_<I;_++)j.push(F*_+z*Math.PI/12);var X=j.map(function(ut){var Ct=Math.sin(ut+Math.PI/4),At=Math.cos(ut+Math.PI/4);return[Ct,At,0]});return X}function Be(){return Fe(30)}function $e(){return Fe(4)}function hr(){return Fe(3)}function Tr(){return Fe(6,1)}function Xr(){return Fe(5)}var en=(Ht={},(0,O.Z)(Ht,qt.CIRCLE,Be),(0,O.Z)(Ht,qt.HEXAGON,Tr),(0,O.Z)(Ht,qt.TRIANGLE,hr),(0,O.Z)(Ht,qt.SQUARE,$e),(0,O.Z)(Ht,qt.PENTAGON,Xr),(0,O.Z)(Ht,Gt.CYLINDER,Be),(0,O.Z)(Ht,Gt.HEXAGONCOLUMN,Tr),(0,O.Z)(Ht,Gt.TRIANGLECOLUMN,hr),(0,O.Z)(Ht,Gt.SQUARECOLUMN,$e),(0,O.Z)(Ht,Gt.PENTAGONCOLUMN,Xr),Ht),An={};function Yn(I){var z=lu(I.coordinates);return{vertices:[].concat((0,D.Z)(z),(0,D.Z)(z),(0,D.Z)(z),(0,D.Z)(z)),indices:[0,1,2,2,3,0],size:z.length}}function vi(I){var z=lu(I.coordinates),F=ma(z);return{vertices:[].concat((0,D.Z)(F),(0,D.Z)(F),(0,D.Z)(F),(0,D.Z)(F)),indices:[0,1,2,2,3,0],size:F.length}}function Qi(I){var z=I.shape,F=Us(z,!1),j=F.positions,_=F.index,X=F.normals;return{vertices:j,indices:_,normals:X,size:5}}function ga(I){var z=lu(I.coordinates);return{vertices:(0,D.Z)(z),indices:[0],size:z.length}}function Pa(I){var z=I.coordinates,F=I.originCoordinates,j=I.version,_=new Tu({dash:!0,join:"bevel"});if(j==="GAODE2.x"){var X=z;Array.isArray(X[0][0])||(X=[z]);var ut=F;Array.isArray(ut[0][0])||(ut=[F]);for(var Ct=0;Ct<X.length;Ct++){var At=X[Ct],Yt=ut[Ct];_.extrude_gaode2(At,Yt)}}else{var me=z;Array.isArray(me[0][0])||(me=[z]),me.forEach(function(tr){_.extrude(tr)})}var fe=_.complex;return{vertices:fe.positions,indices:fe.indices,normals:fe.normals,size:6}}function Ta(I){var z=I.coordinates,F=qn().flatten(z),j=F.vertices,_=F.dimensions,X=F.holes;return{indices:qn()(j,X,_),vertices:j,size:_}}function La(I){var z=I.coordinates,F=Pt(z,!0),j=F.positions,_=F.index,X=F.normals;return{vertices:j,indices:_,normals:X,size:5}}function So(I){var z=I.shape,F=fu(z),j=F.positions,_=F.index;return{vertices:j,indices:_,size:3}}function Os(I){var z=I.coordinates,F=[].concat(_toConsumableArray(z[0]),[0,0,1,z[1][0],z[0][1],0,1,1],_toConsumableArray(z[1]),[0,1,0],_toConsumableArray(z[0]),[0,0,1],_toConsumableArray(z[1]),[0,1,0,z[0][0],z[1][1],0,0,0]),j=[0,1,2,3,4,5];return{vertices:F,indices:j,size:5}}function ls(I,z){for(var F=z||30,j=I.coordinates,_=[],X=[],ut=function(Yt){_.push(Yt,1,Yt,j[0][0],j[0][1],j[1][0],j[1][1],Yt,-1,Yt,j[0][0],j[0][1],j[1][0],j[1][1]),Yt!==F-1&&X.push.apply(X,(0,D.Z)([0,1,2,1,3,2].map(function(me){return Yt*2+me})))},Ct=0;Ct<F;Ct++)ut(Ct);return{vertices:_,indices:X,size:7}}function rs(I){var z=I.coordinates;z.length===2&&z.push(0);var F=I.size,j=ms(-1,1),_=ms(1,1),X=ms(-1,-1),ut=ms(1,-1),Ct=[].concat(_toConsumableArray(z),_toConsumableArray(j),_toConsumableArray(z),_toConsumableArray(X),_toConsumableArray(z),_toConsumableArray(ut),_toConsumableArray(z),_toConsumableArray(_)),At=[0,1,2,3,0,2];return{vertices:Ct,indices:At,size:5}}function Us(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(An&&An[I])return An[I];var F=en[I]?en[I]():en.cylinder(),j=Pt([F],z);return An[I]=j,j}function du(I,z){for(var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=new Float32Array(I.length/F*3),X,ut,Ct,At=vec3.create(),Yt=vec3.create(),me=vec3.create(),fe=0,tr=z.length;fe<tr;fe+=3){X=z[fe+0]*3,ut=z[fe+1]*3,Ct=z[fe+2]*3;var dr=[I[X],I[X+1]],tn=[I[ut],I[ut+1]],yn=[I[Ct],I[Ct+1]];j&&(dr=lngLatToMeters(dr),tn=lngLatToMeters(tn),yn=lngLatToMeters(yn));var Wn=dr,ii=_slicedToArray(Wn,2),bi=ii[0],Bi=ii[1],Ni=vec3.fromValues(bi,Bi,I[X+2]),la=tn,Ji=_slicedToArray(la,2),qi=Ji[0],Aa=Ji[1],Ga=vec3.fromValues(qi,Aa,I[ut+2]),oo=yn,Oo=_slicedToArray(oo,2),ko=Oo[0],zs=Oo[1],Ju=vec3.fromValues(ko,zs,I[Ct+2]);vec3.sub(At,Ju,Ga),vec3.sub(Yt,Ni,Ga),vec3.cross(me,At,Yt),_[X]+=At[0],_[X+1]+=At[1],_[X+2]+=At[2],_[ut]+=At[0],_[ut+1]+=At[1],_[ut+2]+=At[2],_[Ct]+=At[0],_[Ct+1]+=At[1],_[Ct+2]+=At[2]}return Wu(_),_}function Wu(I){for(var z=0,F=I.length;z<F;z+=3){var j=vec3.fromValues(I[z],I[z+1],I[z+2]),_=vec3.create();vec3.normalize(_,j),I.set(_,z)}}function wu(I){var z=I[0][0],F=I[0][I[0].length-1];return z[0]===F[0]&&z[1]===F[1]}function fu(I){var z=["cylinder","triangleColumn","hexagonColumn","squareColumn"],F=geometryShape[I]?geometryShape[I]():geometryShape.circle(),j=z.indexOf(I)===-1?fillPolygon([F]):extrudePolygon([F]);return j}function ms(I,z){var F=(I+1)/2,j=(z+1)/2;return[F,j]}function Iu(){var I=primitiveSphere(EARTH_RADIUS,{segments:EARTH_SEGMENTS}),z=I.positionsArr,F=I.indicesArr,j=I.normalArr;return{vertices:z,indices:F,size:5,normals:j}}function oe(){var I=primitiveSphere(EARTH_RADIUS+EARTH_RADIUS_OUTER,{segments:EARTH_SEGMENTS}),z=I.positionsArr,F=I.indicesArr,j=I.normalArr;return{vertices:z,indices:F,size:5,normals:j}}function ue(I){var z=Tt();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Tt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Lt=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

uniform float segmentNumber;
varying vec2 v_iconMapUV;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_segmentIndex = styleMappingMat[3].r;   // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  float d_distance_ratio = styleMappingMat[3].b; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u6BD4\u4F8B

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }
  
  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE
  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float d_texCount = styleMappingMat[3].g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = 1.0 - fract(arcRadio * d_texCount + animateSpeed);

    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }
    float v = styleMappingMat[3].a; // \u6A2A\u5411 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
    // gl_FragColor = vec4(1.0 - fract(arcRadio * 20000.0), 0.0, 0.0, 1.0);
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
    // gl_FragColor = filterColor(texture2D(u_texture, uv));
    
  } else {
     gl_FragColor = filterColor(gl_FragColor);
  }
  // gl_FragColor = filterColor(gl_FragColor);
}`,se=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_lineDir: 1.0;
varying vec4 v_dash_array;

uniform float u_thetaOffset: 0.314;
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = u_thetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}
vec2 interpolate (vec2 source, vec2 target, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;
  if(u_line_type == LineTypeDash) {
      d_distance_ratio = segmentIndex / segmentNumber;

      vec2 s = source;
      vec2 t = target;
      
      if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
        s = unProjCustomCoord(source);
        t = unProjCustomCoord(target);
      }
      float total_Distance = pixelDistance(s, t) / 2.0 * PI;
      // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  
  if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

   styleMappingMat[3].b = d_distance_ratio;

  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  styleMappingMat[3].r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F

    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      arcDistrance *= 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      // arcDistrance *= 8.0;
      arcDistrance = project_pixel_allmap(arcDistrance);
    }
    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8
    float texCount = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
     styleMappingMat[3].g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB
     styleMappingMat[3].a = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,Te={solid:0,dash:1},Rr=function(I){(0,vr.Z)(F,I);var z=ue(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"updateTexture",function(){var Ct=j.rendererService.createTexture2D;if(j.texture){j.texture.update({data:j.iconService.getCanvas()}),j.layer.render();return}j.texture=Ct({data:j.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:j.iconService.canvasHeight||128})}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=_.sourceColor,Ct=_.targetColor,At=_.textureBlend,Yt=At===void 0?"normal":At,me=_.lineType,fe=me===void 0?"solid":me,tr=_.dashArray,dr=tr===void 0?[10,5]:tr,tn=_.forward,yn=tn===void 0?!0:tn,Wn=_.lineTexture,ii=Wn===void 0?!1:Wn,bi=_.iconStep,Bi=bi===void 0?100:bi,Ni=_.segmentNumber,la=Ni===void 0?30:Ni,Ji=_.thetaOffset,qi=Ji===void 0?.314:Ji;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:X})){this.judgeStyleAttributes({opacity:X});var Aa=this.layer.getEncodedData(),Ga=this.calDataFrame(this.cellLength,Aa,this.cellProperties),oo=Ga.data,Oo=Ga.width,ko=Ga.height;this.rowCount=ko,this.dataTexture=this.cellLength>0&&oo.length>0?this.createTexture2D({flipY:!0,data:oo,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Oo,height:ko}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}dr.length===2&&dr.push(0,0);var zs=0,Ju=[0,0,0,0],Vf=[0,0,0,0];return ut&&Ct&&(Ju=(0,Ir.CI)(ut),Vf=(0,Ir.CI)(Ct),zs=1),this.rendererService.getDirty()&&this.texture.bind(),{u_thetaOffset:qi,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(X)?X:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:la,u_line_type:Te[fe||"solid"],u_dash_array:dr,u_blur:.9,u_lineDir:yn?1:-1,u_texture:this.texture,u_line_texture:ii?1:0,u_icon_step:Bi,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:zs,u_sourceColor:Ju,u_targetColor:Vf}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),X=_.animateOption;return{u_aimate:this.animateOption2Array(X),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,X;(_=this.texture)===null||_===void 0||_.destroy(),(X=this.dataTexture)===null||X===void 0||X.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var _=this.layer.getLayerConfig(),X=_.segmentNumber,ut=X===void 0?30:X;return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:se,fragmentShader:Lt,triangulation:ls,depth:{enable:!1},blend:this.getBlend(),segmentNumber:ut})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,Ct,At,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.GC.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,Ct,At,Yt){return[At[3],At[4],At[5],At[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,Ct,At,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,tr=me[fe]||{x:0,y:0},dr=tr.x,tn=tr.y;return[dr,tn]}}})}}]),F}(hn);function un(I){var z=Wr();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Wr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bn=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
varying float v_segmentIndex;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);

      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = fract(arcRadio * count - animateSpeed * count);
 
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          gl_FragColor = filterColor(pattern);
        }
    }

  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,ai=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
varying float v_segmentIndex;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // TODO: + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // TODO: \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,ra={solid:0,dash:1},ua=function(I){(0,vr.Z)(F,I);var z=un(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"updateTexture",function(){var Ct=j.rendererService.createTexture2D;if(j.texture){j.texture.update({data:j.iconService.getCanvas()}),j.layer.render();return}j.texture=Ct({data:j.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:j.iconService.canvasHeight||128})}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=_.sourceColor,Ct=_.targetColor,At=_.textureBlend,Yt=At===void 0?"normal":At,me=_.lineType,fe=me===void 0?"solid":me,tr=_.dashArray,dr=tr===void 0?[10,5]:tr,tn=_.lineTexture,yn=tn===void 0?!1:tn,Wn=_.iconStep,ii=Wn===void 0?100:Wn,bi=_.segmentNumber,Bi=bi===void 0?30:bi,Ni=_.globalArcHeight,la=Ni===void 0?10:Ni;dr.length===2&&dr.push(0,0);var Ji=0,qi=[0,0,0,0],Aa=[0,0,0,0];if(ut&&Ct&&(qi=(0,Ir.CI)(ut),Aa=(0,Ir.CI)(Ct),Ji=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:X})){this.judgeStyleAttributes({opacity:X});var Ga=this.layer.getEncodedData(),oo=this.calDataFrame(this.cellLength,Ga,this.cellProperties),Oo=oo.data,ko=oo.width,zs=oo.height;this.rowCount=zs,this.dataTexture=this.cellLength>0&&Oo.length>0?this.createTexture2D({flipY:!0,data:Oo,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:ko,height:zs}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:Ai,u_global_height:la,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(X)?X:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:Bi,u_line_type:ra[fe]||0,u_dash_array:dr,u_texture:this.texture,u_line_texture:yn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Ji,u_sourceColor:qi,u_targetColor:Aa}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),X=_.animateOption;return{u_aimate:this.animateOption2Array(X),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,X;(_=this.texture)===null||_===void 0||_.destroy(),(X=this.dataTexture)===null||X===void 0||X.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var _=this.layer.getLayerConfig(),X=_.segmentNumber,ut=X===void 0?30:X;return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:ai,fragmentShader:bn,triangulation:ls,blend:this.getBlend(),segmentNumber:ut})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,Ct,At,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.GC.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,Ct,At,Yt){return[At[3],At[4],At[5],At[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,Ct,At,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,tr=me[fe]||{x:0,y:0},dr=tr.x,tn=tr.y;return[dr,tn]}}})}}]),F}(hn);function ba(I){var z=Da();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Da(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Ra=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying float v_distance_ratio;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0;
  float d_segmentIndex = styleMappingMat[3].g;
  
  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- smoothstep(0.0, 1.0, v_distance_ratio), u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { 
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = styleMappingMat[3].a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);
    
    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}`,no=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

varying float v_distance_ratio;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
    vec2 x = mix(source, target, ratio);
    vec2 center = mix(source, target, 0.5);
    float dSourceCenter = distance(source, center);
    float dXCenter = distance(x, center);
    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
     float vertex_height = paraboloid(source, target, segmentRatio);

    return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
    );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}
float getAngularDist (vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) *
    sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    vec2 mid = midPoint(source, target);
    vec3 x = vec3(source.x, mid.x, target.x);
    vec3 y = vec3(source.y, mid.y, target.y);
    return vec2(bezier3(x ,t), bezier3(y,t));
  }else {
    if(abs(angularDist - PI) < 0.001) {
      return (1.0 - t) * source + t * target;
    }
    float a = sin((1.0 - t) * angularDist) / sin(angularDist);
    float b = sin(t * angularDist) / sin(angularDist);
    vec2 sin_source = sin(source);
    vec2 cos_source = cos(source);
    vec2 sin_target = sin(target);
    vec2 cos_target = cos(target);
    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
    float z = a * sin_source.y + b * sin_target.y;
    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));
  }
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  if(u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    total_Distance = total_Distance*8.0;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  if(u_aimate.x == Animate) {
      v_distance_ratio = segmentIndex / segmentNumber;
  }
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;
  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  styleMappingMat[3].g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F
  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  
    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;
    float d_arcDistrance = length(source - target);
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      d_arcDistrance = d_arcDistrance * 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      d_arcDistrance = project_pixel_allmap(d_arcDistrance);
    }
    float d_pixelLen = project_pixel(u_icon_step)/8.0;
    styleMappingMat[3].b = floor(d_arcDistrance/d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));
  }
  setPickingColor(a_PickingColor);
}

`,bo={solid:0,dash:1},Po=function(I){(0,vr.Z)(F,I);var z=ba(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"updateTexture",function(){var Ct=j.rendererService.createTexture2D;if(j.texture){j.texture.update({data:j.iconService.getCanvas()}),j.layer.render();return}j.texture=Ct({data:j.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:j.iconService.canvasHeight||128})}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=_.sourceColor,Ct=_.targetColor,At=_.textureBlend,Yt=At===void 0?"normal":At,me=_.lineType,fe=me===void 0?"solid":me,tr=_.dashArray,dr=tr===void 0?[10,5]:tr,tn=_.lineTexture,yn=tn===void 0?!1:tn,Wn=_.iconStep,ii=Wn===void 0?100:Wn,bi=_.segmentNumber,Bi=bi===void 0?30:bi;dr.length===2&&dr.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var Ni=0,la=[0,0,0,0],Ji=[0,0,0,0];if(ut&&Ct&&(la=(0,Ir.CI)(ut),Ji=(0,Ir.CI)(Ct),Ni=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:X})){this.judgeStyleAttributes({opacity:X});var qi=this.layer.getEncodedData(),Aa=this.calDataFrame(this.cellLength,qi,this.cellProperties),Ga=Aa.data,oo=Aa.width,Oo=Aa.height;this.rowCount=Oo,this.dataTexture=this.cellLength>0&&Ga.length>0?this.createTexture2D({flipY:!0,data:Ga,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:oo,height:Oo}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(X)?X:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:Bi,u_line_type:bo[fe]||0,u_dash_array:dr,u_texture:this.texture,u_line_texture:yn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Ni,u_sourceColor:la,u_targetColor:Ji}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),X=_.animateOption;return{u_aimate:this.animateOption2Array(X),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,X;(_=this.texture)===null||_===void 0||_.destroy(),(X=this.dataTexture)===null||X===void 0||X.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:no,fragmentShader:Ra,triangulation:ls,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,Ct,At,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.GC.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,Ct,At,Yt){return[At[3],At[4],At[5],At[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,Ct,At,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,tr=me[fe]||{x:0,y:0},dr=tr.x,tn=tr.y;return[dr,tn]}}})}}]),F}(hn);function Ts(I){var z=$o();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function $o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var eu=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
uniform float u_blur : 0.99;
uniform float u_line_type: 0.0;
uniform float u_opacity : 1.0;
uniform float u_textureBlend;
varying vec4 v_color;
// varying vec2 v_normal;

// line texture
uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

// dash
uniform float u_dash_offset : 0.0;
uniform float u_dash_ratio : 0.1;
varying vec4 v_dash_array;

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying mat4 styleMappingMat;
// [animate, duration, interval, trailLength],
void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }
 // dash line
  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float aDistance = styleMappingMat[3].g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = styleMappingMat[3].b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
     vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = (vec4(1.0, 0.0, 0.0, 1.0));
 
  // if(rV < r || rV > 1.0 - r) {
  //   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
  // } 
  // if(v > 0.9) {
    // gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // } else if(v < 0.1) {
  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,hs=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

attribute vec2 a_iconMapUV;

// dash line
attribute float a_Total_Distance;
attribute float a_Distance;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
uniform float u_icon_step: 100;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;
varying vec4 v_dash_array;
varying vec2 v_normal;

// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
varying vec2 v_iconMapUV;


uniform float u_linearColor: 0;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_pixel(u_icon_step);
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  if(u_line_type == LineTypeDash) {
    d_distance_ratio = a_Distance / a_Total_Distance;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  }
  if(u_aimate.x == Animate || u_linearColor == 1.0) {
      d_distance_ratio = a_Distance / a_Total_Distance;
  }
  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));

  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);

  vec2 offset = project_pixel(size.xy);

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][1] = a_Distance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  styleMappingMat[3][2] = d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  styleMappingMat[3][3] = texV;             // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y, 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y / 8.0, 1.0)); // \u989D\u5916\u9664 8.0 \u662F\u4E3A\u4E86\u548Cgaode1.x\u7684\u9AD8\u5EA6\u517C\u5BB9
  } else {
    float lineHeight = a_Size.y;
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      lineHeight = lineHeight*2.0/pow(2.0, 20.0 - u_Zoom);
    }
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,Mo={solid:0,dash:1},Co=function(I){(0,vr.Z)(F,I);var z=Ts(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"updateTexture",function(){var Ct=j.rendererService.createTexture2D;if(j.texture){j.texture.update({data:j.iconService.getCanvas()}),j.layer.render();return}j.texture=Ct({data:j.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:j.iconService.canvasHeight||128})}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=_.sourceColor,Ct=_.targetColor,At=_.textureBlend,Yt=At===void 0?"normal":At,me=_.lineType,fe=me===void 0?"solid":me,tr=_.dashArray,dr=tr===void 0?[10,5,0,0]:tr,tn=_.lineTexture,yn=tn===void 0?!1:tn,Wn=_.iconStep,ii=Wn===void 0?100:Wn;dr.length===2&&dr.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var bi=0,Bi=[0,0,0,0],Ni=[0,0,0,0];if(ut&&Ct&&(Bi=(0,Ir.CI)(ut),Ni=(0,Ir.CI)(Ct),bi=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:X})){this.judgeStyleAttributes({opacity:X});var la=this.layer.getEncodedData(),Ji=this.calDataFrame(this.cellLength,la,this.cellProperties),qi=Ji.data,Aa=Ji.width,Ga=Ji.height;this.rowCount=Ga,this.dataTexture=this.cellLength>0&&qi.length>0?this.createTexture2D({flipY:!0,data:qi,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Aa,height:Ga}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(X)?X:1,u_textureBlend:Yt==="normal"?0:1,u_line_type:Mo[fe],u_dash_array:dr,u_texture:this.texture,u_line_texture:yn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:bi,u_sourceColor:Bi,u_targetColor:Ni}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),X=_.animateOption;return{u_aimate:this.animateOption2Array(X),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,X;(_=this.texture)===null||_===void 0||_.destroy(),(X=this.dataTexture)===null||X===void 0||X.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:hs,fragmentShader:eu,triangulation:Pa,primitive:Rt.gl.TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){var _=this,X=this.layer.getLayerConfig(),ut=X.lineType,Ct=ut===void 0?"solid":ut;this.styleAttributeService.registerStyleAttribute({name:"distance",type:Rt.GC.Attribute,descriptor:{name:"a_Distance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,tr){return[fe[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Rt.GC.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,tr){return[fe[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Yt,me,fe,tr){var dr=Yt.size,tn=dr===void 0?1:dr;return Array.isArray(tn)?[tn[0],tn[1]]:[tn,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.GC.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(Yt,me,fe,tr,dr){return dr}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Rt.GC.Attribute,descriptor:{name:"a_Miter",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,tr){return[fe[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Yt,me,fe,tr){var dr=_.iconService.getIconMap(),tn=Yt.texture,yn=dr[tn]||{x:0,y:0},Wn=yn.x,ii=yn.y;return[Wn,ii]}}})}},{key:"loadImage",value:function(_){return new Promise(function(X,ut){if(_ instanceof HTMLImageElement){X(_);return}var Ct=new Image;Ct.crossOrigin="anonymous",Ct.onload=function(){X(Ct)},Ct.onerror=function(){ut(new Error("Could not load image at "+_))},Ct.src=_ instanceof File?URL.createObjectURL(_):_})}}]),F}(hn),ws={arc:Rr,arc3d:ua,greatcircle:Po,line:Co},Xs=ws;function Cs(I){var z=xu();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function xu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Eu=function(I){(0,vr.Z)(F,I);var z=Cs(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"type","LineLayer"),j}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new Xs[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var _=this.getModelType(),X={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return X[_]}},{key:"getModelType",value:function(){var _,X=this.styleAttributeService.getLayerStyleAttribute("shape"),ut=X==null||(_=X.scale)===null||_===void 0?void 0:_.field;return ut||"line"}}]),F}(we);function Gu(I){var z=qu();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function qu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Ru=`varying vec4 v_color;
uniform float u_opacity: 1.0;

#pragma include "picking"

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Bu=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec3 a_Position;
attribute vec3 a_Pos;
attribute vec4 a_Color;
attribute vec3 a_Size;
attribute vec3 a_Normal;

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  vec2 offset = project_pixel(size.xy);

  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);

  float lightWeight = calc_lighting(pos);
  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);

  // gl_Position = project_common_position_to_clipspace(pos);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * pos;
  } else {
    gl_Position = project_common_position_to_clipspace(pos);
  }
  
  if(u_globel > 0.0) {
    // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6
    //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635
    float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
    float xRadian = getXRadian(a_Pos.y, r);
    float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 mx = mat4(
      1,0,0,0,  
      0,xcos,-xsin,0,  
      0,xsin,xcos,0,  
      0,0,0,1);

    //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635
    float yRadian = getYRadian(a_Pos.x, a_Pos.z);
    float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 my = mat4(
      ycos,0,-ysin,0,  
      0,1,0,0,  
      ysin,0,ycos,0,  
      0,0,0,1);

    gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);
  }

  setPickingColor(a_PickingColor);
}
`,Yu=function(I){(0,vr.Z)(F,I);var z=Gu(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var Ct=this.layer.getEncodedData(),At=this.calDataFrame(this.cellLength,Ct,this.cellProperties),Yt=At.data,me=At.width,fe=At.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:Bu,fragmentShader:Ru,triangulation:Qi,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){var _=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,Ct,At,Yt){var me=ut.size;if(me){var fe=[];return Array.isArray(me)&&(fe=me.length===2?[me[0],me[0],me[1]]:me),Array.isArray(me)||(fe=[me,me,me]),fe}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.GC.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,Ct,At,Yt,me){return me}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Rt.GC.Attribute,descriptor:{name:"a_Pos",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,Ct){var At=lu(ut.coordinates);return _?ma([At[0],At[1]]):[At[0],At[1],0]}}})}}]),F}(hn),ku=x(85975);function vl(I){var z=dl();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function dl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var nl=`#define Animate 0.0

uniform float u_globel;
uniform float u_blur : 0;
// uniform float u_stroke_width : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

#pragma include "sdf_2d"
#pragma include "picking"


void main() {
  int shape = int(floor(v_data.w + 0.5));

 
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];
  float stroke_opacity = styleMappingMat[0][1];
  float strokeWidth = styleMappingMat[0][2];
  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;

  lowp float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  // float r = v_radius / (v_radius + u_stroke_width);
  float r = v_radius / (v_radius + strokeWidth);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(u_globel > 0.0) {
    // TODO: \u5730\u7403\u6A21\u5F0F\u4E0B\u907F\u514D\u591A\u4F59\u7247\u5143\u7ED8\u5236\uFF0C\u540C\u65F6\u4E5F\u80FD\u907F\u514D\u6709\u7528\u7247\u5143\u5728\u900F\u660E\u4E14\u91CD\u53E0\u7684\u60C5\u51B5\u4E0B\u65E0\u6CD5\u5199\u5165
    // \u4ED8\u51FA\u7684\u4EE3\u4EF7\u662F\u8FB9\u7F18\u4F1A\u6709\u4E00\u4E9B\u952F\u9F7F
    if(outer_df > antialiased_blur + 0.018) discard;
  }
  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);
  
 
  // float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
  //   antialiased_blur,
  //   0.0,
  //   inner_df
  // );
   float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);

  gl_FragColor.a = gl_FragColor.a * opacity_t;
  if(u_aimate.x == Animate) {
    float d = length(v_data.xy);
    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);
    gl_FragColor = vec4(gl_FragColor.xyz, intensity);
  }

  gl_FragColor = filterColor(gl_FragColor);

  

}
`,il=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute float a_Shape;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

uniform float u_opacity : 1;
uniform float u_stroke_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
uniform vec2 u_offsets;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  float newSize = setPickingSize(a_Size);

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = strokeOpacityAndOffset.r;
  textureOffset = strokeOpacityAndOffset.g;

  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // TODO: billboard
  // anti-alias
  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);

  // construct point coords
  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  // vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + u_offsets);
  vec2 offset = project_pixel(extrude.xy * (newSize + u_stroke_width) + textrueOffsets);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));
  }

  if(u_globel > 0.0) {
    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);
  }
 
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,tl=function(I){(0,vr.Z)(F,I);var z=vl(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X,Ct=_.strokeOpacity,At=Ct===void 0?1:Ct,Yt=_.strokeWidth,me=Yt===void 0?0:Yt,fe=_.stroke,tr=fe===void 0?"rgba(0,0,0,0)":fe,dr=_.offsets,tn=dr===void 0?[0,0]:dr;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,strokeOpacity:At,strokeWidth:me,stroke:tr,offsets:tn})){this.judgeStyleAttributes({opacity:ut,strokeOpacity:At,strokeWidth:me,stroke:tr,offsets:tn});var yn=this.layer.getEncodedData(),Wn=this.calDataFrame(this.cellLength,yn,this.cellProperties),ii=Wn.data,bi=Wn.width,Bi=Wn.height;this.rowCount=Bi,this.dataTexture=this.cellLength>0&&ii.length>0?this.createTexture2D({flipY:!0,data:ii,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:bi,height:Bi}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_stroke_opacity:Xt()(At)?At:1,u_stroke_width:Xt()(me)?me:0,u_stroke_color:this.getStrokeColor(tr),u_offsets:this.isOffsetStatic(tn)?tn:[0,0]}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),X=_.animateOption;return{u_aimate:this.animateOption2Array(X),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Yn)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var _=this.mapService.version==="GLOBEL";return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:il,fragmentShader:nl,triangulation:_?vi:Yn,depth:{enable:_},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"animateOption2Array",value:function(_){return[_.enable?0:1,_.speed||1,_.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var _=this,X=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Rt.GC.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(Ct,At,Yt,me){var fe;if(X){var tr=(0,Ea.Z)(Yt,3),dr=tr[0],tn=tr[1],yn=tr[2],Wn=eo.fromValues(0,0,1),ii=eo.fromValues(dr,0,yn),bi=dr>=0?eo.angle(Wn,ii):Math.PI*2-eo.angle(Wn,ii),Bi=Math.PI*2-Math.asin(tn/100),Ni=ku.create();ku.rotateY(Ni,Ni,bi),ku.rotateX(Ni,Ni,Bi);var la=eo.fromValues(1,1,0);eo.transformMat4(la,la,Ni),eo.normalize(la,la);var Ji=eo.fromValues(-1,1,0);eo.transformMat4(Ji,Ji,Ni),eo.normalize(Ji,Ji);var qi=eo.fromValues(-1,-1,0);eo.transformMat4(qi,qi,Ni),eo.normalize(qi,qi);var Aa=eo.fromValues(1,-1,0);eo.transformMat4(Aa,Aa,Ni),eo.normalize(Aa,Aa),fe=[].concat((0,D.Z)(la),(0,D.Z)(Ji),(0,D.Z)(qi),(0,D.Z)(Aa))}else fe=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var Ga=me%4*3;return[fe[Ga],fe[Ga+1],fe[Ga+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Ct,At,Yt,me){var fe=Ct.size,tr=fe===void 0?5:fe;return Array.isArray(tr)?[tr[0]]:[tr]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Rt.GC.Attribute,descriptor:{name:"a_Shape",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Ct,At,Yt,me){var fe=Ct.shape,tr=fe===void 0?2:fe,dr=_.layer.getLayerConfig().shape2d,tn=dr.indexOf(tr);return[tn]}}})}}]),F}(hn);function Ol(I){var z=Tl();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Tl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var pl=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,Zl=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,Wl=function(I){(0,vr.Z)(F,I);var z=Ol(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity;return{u_opacity:X||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var _=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",function(){_.updateTexture(),_.layer.render()}),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:Zl,fragmentShader:pl,triangulation:ga,primitive:Rt.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,Ct,At,Yt){var me=ut.size;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_Uv",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,Ct,At,Yt){var me=_.fontService.mapping,fe=ut.shape,tr=_.fontService.getGlyph(fe),dr=me[tr],tn=dr.x,yn=dr.y;return[tn,yn]}}})}},{key:"updateTexture",value:function(){var _=this.rendererService.createTexture2D,X=this.fontService.canvas;this.texture=_({data:X,mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,width:X.width,height:X.height})}},{key:"initIconFontGlyphs",value:function(){var _=this,X=this.layer.getLayerConfig(),ut=X.fontWeight,Ct=ut===void 0?"normal":ut,At=X.fontFamily,Yt=At===void 0?"sans-serif":At,me=this.layer.getEncodedData(),fe=[];me.forEach(function(tr){var dr=tr.shape,tn=dr===void 0?"":dr;tn=tn.toString();var yn=_.fontService.getGlyph(tn);fe.indexOf(yn)===-1&&fe.push(yn)}),this.fontService.setFontOptions({characterSet:fe,fontWeight:Ct,fontFamily:Yt,fontSize:48})}}]),F}(hn);function sl(I){var z=ul();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function ul(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Hf=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,Yf=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,Gl=function(I){(0,vr.Z)(F,I);var z=sl(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"updateTexture",function(){var Ct=j.rendererService.createTexture2D;if(j.texture){j.texture.update({data:j.iconService.getCanvas()}),j.layer.renderLayers();return}j.texture=Ct({data:j.iconService.getCanvas(),mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,premultiplyAlpha:!1,width:1024,height:j.iconService.canvasHeight||128})}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=_.offsets,Ct=ut===void 0?[0,0]:ut;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:X,offsets:Ct})){this.judgeStyleAttributes({opacity:X,offsets:Ct});var At=this.layer.getEncodedData(),Yt=this.calDataFrame(this.cellLength,At,this.cellProperties),me=Yt.data,fe=Yt.width,tr=Yt.height;this.rowCount=tr,this.dataTexture=this.cellLength>0&&me.length>0?this.createTexture2D({flipY:!0,data:me,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:fe,height:tr}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:Xt()(X)?X:1,u_offsets:this.isOffsetStatic(Ct)?Ct:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,X;(_=this.texture)===null||_===void 0||_.destroy(),(X=this.dataTexture)===null||X===void 0||X.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:Yf,fragmentShader:Hf,triangulation:ga,primitive:Rt.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,Ct,At,Yt){var me=ut.size,fe=me===void 0?5:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.GC.Attribute,descriptor:{name:"a_Uv",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,Ct,At,Yt){var me=_.iconService.getIconMap(),fe=ut.shape,tr=me[fe]||{x:0,y:0},dr=tr.x,tn=tr.y;return[dr,tn]}}})}}]),F}(hn);function hf(I){var z=vf();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function vf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Xf=`
uniform float u_opacity : 1;
uniform vec2 u_offsets;
varying vec4 v_color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  float opacity = styleMappingMat[0][0];

  gl_FragColor = v_color;
  // gl_FragColor.a =gl_FragColor.a * u_opacity;
  gl_FragColor.a =gl_FragColor.a * opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,ll=`
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute float a_Size;
attribute vec4 a_Color;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform vec2 u_offsets;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping
  
  // vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);
  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\
  // 
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // vec2 offset = project_pixel((u_offsets));
    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);
  } else { // else
    // vec2 offset = project_pixel(u_offsets);
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function Vl(I){var z=I.coordinates;return{vertices:(0,D.Z)(z),indices:[0],size:z.length}}var df=function(I){(0,vr.Z)(F,I);var z=hf(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X,Ct=_.offsets,At=Ct===void 0?[0,0]:Ct;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,offsets:At})){this.judgeStyleAttributes({opacity:ut,offsets:At});var Yt=this.layer.getEncodedData(),me=this.calDataFrame(this.cellLength,Yt,this.cellProperties),fe=me.data,tr=me.width,dr=me.height;this.rowCount=dr,this.dataTexture=this.cellLength>0&&fe.length>0?this.createTexture2D({flipY:!0,data:fe,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:tr,height:dr}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_offsets:this.isOffsetStatic(At)?At:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:ll,fragmentShader:Xf,triangulation:Vl,depth:{enable:!1},primitive:Rt.gl.POINTS,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(X,ut,Ct,At){var Yt=X.size,me=Yt===void 0?1:Yt;return Array.isArray(me)?[me[0]]:[me]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Rt.h0.additive}}}]),F}(hn),Hl=x(98333);function pf(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Kf(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function Kf(I,z){if(!!I){if(typeof I=="string")return gf(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return gf(I,z)}}function gf(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}var $f=function(){function I(z,F,j){(0,Se.Z)(this,I),(0,O.Z)(this,"boxCells",[]),(0,O.Z)(this,"xCellCount",void 0),(0,O.Z)(this,"yCellCount",void 0),(0,O.Z)(this,"boxKeys",void 0),(0,O.Z)(this,"bboxes",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"xScale",void 0),(0,O.Z)(this,"yScale",void 0),(0,O.Z)(this,"boxUid",void 0);var _=this.boxCells;this.xCellCount=Math.ceil(z/j),this.yCellCount=Math.ceil(F/j);for(var X=0;X<this.xCellCount*this.yCellCount;X++)_.push([]);this.boxKeys=[],this.bboxes=[],this.width=z,this.height=F,this.xScale=this.xCellCount/z,this.yScale=this.yCellCount/F,this.boxUid=0}return(0,Ve.Z)(I,[{key:"insert",value:function(F,j,_,X,ut){this.forEachCell(j,_,X,ut,this.insertBoxCell,this.boxUid++),this.boxKeys.push(F),this.bboxes.push(j),this.bboxes.push(_),this.bboxes.push(X),this.bboxes.push(ut)}},{key:"query",value:function(F,j,_,X,ut){return this.queryHitTest(F,j,_,X,!1,ut)}},{key:"hitTest",value:function(F,j,_,X,ut){return this.queryHitTest(F,j,_,X,!0,ut)}},{key:"insertBoxCell",value:function(F,j,_,X,ut,Ct){this.boxCells[ut].push(Ct)}},{key:"queryHitTest",value:function(F,j,_,X,ut,Ct){if(_<0||F>this.width||X<0||j>this.height)return ut?!1:[];var At=[];if(F<=0&&j<=0&&this.width<=_&&this.height<=X){if(ut)return!0;for(var Yt=0;Yt<this.boxKeys.length;Yt++)At.push({key:this.boxKeys[Yt],x1:this.bboxes[Yt*4],y1:this.bboxes[Yt*4+1],x2:this.bboxes[Yt*4+2],y2:this.bboxes[Yt*4+3]});return Ct?At.filter(Ct):At}var me={hitTest:ut,seenUids:{box:{},circle:{}}};return this.forEachCell(F,j,_,X,this.queryCell,At,me,Ct),ut?At.length>0:At}},{key:"queryCell",value:function(F,j,_,X,ut,Ct,At,Yt){var me=At.seenUids,fe=this.boxCells[ut];if(fe!==null){var tr=this.bboxes,dr=pf(fe),tn;try{for(dr.s();!(tn=dr.n()).done;){var yn=tn.value;if(!me.box[yn]){me.box[yn]=!0;var Wn=yn*4;if(F<=tr[Wn+2]&&j<=tr[Wn+3]&&_>=tr[Wn+0]&&X>=tr[Wn+1]&&(!Yt||Yt(this.boxKeys[yn]))){if(At.hitTest)return Ct.push(!0),!0;Ct.push({key:this.boxKeys[yn],x1:tr[Wn],y1:tr[Wn+1],x2:tr[Wn+2],y2:tr[Wn+3]})}}}}catch(ii){dr.e(ii)}finally{dr.f()}}return!1}},{key:"forEachCell",value:function(F,j,_,X,ut,Ct,At,Yt){for(var me=this.convertToXCellCoord(F),fe=this.convertToYCellCoord(j),tr=this.convertToXCellCoord(_),dr=this.convertToYCellCoord(X),tn=me;tn<=tr;tn++)for(var yn=fe;yn<=dr;yn++){var Wn=this.xCellCount*yn+tn;if(ut.call(this,F,j,_,X,Wn,Ct,At,Yt))return}}},{key:"convertToXCellCoord",value:function(F){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(F*this.xScale)))}},{key:"convertToYCellCoord",value:function(F){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(F*this.yScale)))}}]),I}(),Qf=$f,Jf=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"grid",void 0),(0,O.Z)(this,"viewportPadding",100),(0,O.Z)(this,"screenRightBoundary",void 0),(0,O.Z)(this,"screenBottomBoundary",void 0),(0,O.Z)(this,"gridRightBoundary",void 0),(0,O.Z)(this,"gridBottomBoundary",void 0),this.width=z,this.height=F,this.viewportPadding=Math.max(z,F),this.grid=new Qf(z+this.viewportPadding,F+this.viewportPadding,25),this.screenRightBoundary=z+this.viewportPadding,this.screenBottomBoundary=F+this.viewportPadding,this.gridRightBoundary=z+2*this.viewportPadding,this.gridBottomBoundary=F+2*this.viewportPadding}return(0,Ve.Z)(I,[{key:"placeCollisionBox",value:function(F){var j=F.x1+F.anchorPointX+this.viewportPadding,_=F.y1+F.anchorPointY+this.viewportPadding,X=F.x2+F.anchorPointX+this.viewportPadding,ut=F.y2+F.anchorPointY+this.viewportPadding;return!this.isInsideGrid(j,_,X,ut)||this.grid.hitTest(j,_,X,ut)?{box:[]}:{box:[j,_,X,ut]}}},{key:"insertCollisionBox",value:function(F,j){var _={featureIndex:j};this.grid.insert(_,F[0],F[1],F[2],F[3])}},{key:"project",value:function(F,j,_){var X=Hl.al(j,_,0,1),ut=Hl.Ue(),Ct=ku.fromValues.apply(ku,(0,D.Z)(F));return Hl.fF(ut,X,Ct),{x:(ut[0]/ut[3]+1)/2*this.width+this.viewportPadding,y:(-ut[1]/ut[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(F,j,_,X){return _>=0&&F<this.gridRightBoundary&&X>=0&&j<this.gridBottomBoundary}}]),I}();function mf(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=qf(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function qf(I,z){if(!!I){if(typeof I=="string")return yf(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return yf(I,z)}}function yf(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}function xf(I){var z=.5,F=.5;switch(I){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0;break;default:z=.5}switch(I){case"bottom":case"bottom-right":case"bottom-left":F=1;break;case"top":case"top-right":case"top-left":F=0;break;default:F=.5}return{horizontalAlign:z,verticalAlign:F}}function Ef(I,z,F,j,_){if(!!_){var X=I[j],ut=X.glyph;if(ut)for(var Ct=z[ut].advance*X.scale,At=(I[j].x+Ct)*_,Yt=F;Yt<=j;Yt++)I[Yt].x-=At}}function wl(I,z,F,j,_,X,ut){var Ct=(z-F)*_,At=(-j*ut+.5)*X,Yt=mf(I),me;try{for(Yt.s();!(me=Yt.n()).done;){var fe=me.value;fe.x+=Ct,fe.y+=At}}catch(tr){Yt.e(tr)}finally{Yt.f()}}function Il(I,z,F,j,_,X,ut){var Ct=-8,At=0,Yt=Ct,me=0,fe=I.positionedGlyphs,tr=X==="right"?1:X==="left"?0:.5,dr=fe.length;F.forEach(function(bi){if(bi.split("").forEach(function(Ni){var la=z[Ni],Ji=0;la&&(fe.push({glyph:Ni,x:At,y:Yt+Ji,vertical:!1,scale:1,metrics:la}),At+=la.advance+ut)}),fe.length!==dr){var Bi=At-ut;me=Math.max(Bi,me),Ef(fe,z,dr,fe.length-1,tr)}At=0,Yt+=j});var tn=xf(_),yn=tn.horizontalAlign,Wn=tn.verticalAlign;wl(fe,tr,yn,Wn,me,j,F.length);var ii=Yt-Ct;I.top+=-Wn*ii,I.bottom=I.top+ii,I.left+=-yn*me,I.right=I.left+me}function Ll(I,z,F,j,_,X,ut){var Ct=-8,At=0,Yt=Ct,me=0,fe=I.positionedGlyphs,tr=X==="right"?1:X==="left"?0:.5,dr=fe.length;F.forEach(function(bi){var Bi=z[bi],Ni=0;if(Bi&&(fe.push({glyph:bi,x:At,y:Yt+Ni,vertical:!1,scale:1,metrics:Bi}),At+=Bi.advance+ut),fe.length!==dr){var la=At-ut;me=Math.max(la,me),Ef(fe,z,dr,fe.length-1,tr)}At=0,Yt+=j});var tn=xf(_),yn=tn.horizontalAlign,Wn=tn.verticalAlign;wl(fe,tr,yn,Wn,me,j,F.length);var ii=Yt-Ct;I.top+=-Wn*ii,I.bottom=I.top+ii,I.left+=-yn*me,I.right=I.left+me}function Dl(I,z,F,j,_,X){var ut=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[0,0],Ct=arguments.length>7?arguments[7]:void 0,At=I.split(`
`),Yt=[],me={positionedGlyphs:Yt,top:ut[1],bottom:ut[1],left:ut[0],right:ut[0],lineCount:At.length,text:I};return Ct?Ll(me,z,At,F,j,_,X):Il(me,z,At,F,j,_,X),Yt.length?me:!1}function Yl(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],F=arguments.length>2?arguments[2]:void 0,j=I.positionedGlyphs,_=j===void 0?[]:j,X=[],ut=mf(_),Ct;try{for(ut.s();!(Ct=ut.n()).done;){var At=Ct.value,Yt=At.metrics,me=4,fe=Yt.advance*At.scale/2,tr=F?[At.x+fe,At.y]:[0,0],dr=F?[0,0]:[At.x+fe+z[0],At.y+z[1]],tn=(0-me)*At.scale-fe+dr[0],yn=(0-me)*At.scale+dr[1],Wn=tn+Yt.width*At.scale,ii=yn+Yt.height*At.scale,bi={x:tn,y:yn},Bi={x:Wn,y:yn},Ni={x:tn,y:ii},la={x:Wn,y:ii};X.push({tl:bi,tr:Bi,bl:Ni,br:la,tex:Yt,glyphOffset:tr})}}catch(Ji){ut.e(Ji)}finally{ut.f()}return X}function Rl(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Nl(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var j=0,_=function(){};return{s:_,n:function(){return j>=I.length?{done:!0}:{done:!1,value:I[j++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,ut=!1,Ct;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return X=Yt.done,Yt},e:function(Yt){ut=!0,Ct=Yt},f:function(){try{!X&&F.return!=null&&F.return()}finally{if(ut)throw Ct}}}}function Nl(I,z){if(!!I){if(typeof I=="string")return gl(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return gl(I,z)}}function gl(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,j=new Array(z);F<z;F++)j[F]=I[F];return j}function Xl(I){var z=Fl();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Fl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ml=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0
uniform sampler2D u_sdf_map;
uniform float u_gamma_scale : 0.5;
// uniform float u_font_size : 24.0;
uniform float u_opacity : 1.0;
uniform vec4 u_stroke_color : [0, 0, 0, 1];
uniform float u_stroke_width : 2.0;
uniform float u_halo_blur : 0.5;
uniform float u_DevicePixelRatio;

varying vec4 v_color;
varying vec2 v_uv;
varying float v_gamma_scale;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  // get style data mapping
  float opacity = styleMappingMat[0][0];
  float strokeWidth = styleMappingMat[0][2];
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  // get sdf from atlas
  float dist = texture2D(u_sdf_map, v_uv).a;

  // float fontScale = u_font_size / FONT_SIZE;

  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);
  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor.a= gl_FragColor.a * alpha;
  gl_FragColor = filterColor(gl_FragColor);
}
`,yl=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0
attribute vec3 a_Position;
attribute vec2 a_tex;
attribute vec2 a_textOffsets;
attribute vec4 a_Color;
attribute float a_Size;
attribute float a_Rotate;

uniform vec2 u_sdf_map_size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec2 v_uv;
varying float v_gamma_scale;
varying vec4 v_color;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }
  
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  v_uv = a_tex / u_sdf_map_size;

  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  highp float angle_sin = sin(a_Rotate);
  highp float angle_cos = cos(a_Rotate);
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  
  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  vec4 projected_position;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
   projected_position  = u_Mvp * (vec4(a_Position.xyz, 1.0));
  } else { // else
   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`;function fl(I){var z=this,F=I.id,j=[],_=[];if(!z.glyphInfoMap||!z.glyphInfoMap[F])return{vertices:[],indices:[],size:7};var X=z.glyphInfoMap[F].centroid,ut=X.length===2?[X[0],X[1],0]:X;return z.glyphInfoMap[F].glyphQuads.forEach(function(Ct,At){j.push.apply(j,(0,D.Z)(ut).concat([Ct.tex.x,Ct.tex.y+Ct.tex.height,Ct.tl.x,Ct.tl.y],(0,D.Z)(ut),[Ct.tex.x+Ct.tex.width,Ct.tex.y+Ct.tex.height,Ct.tr.x,Ct.tr.y],(0,D.Z)(ut),[Ct.tex.x+Ct.tex.width,Ct.tex.y,Ct.br.x,Ct.br.y],(0,D.Z)(ut),[Ct.tex.x,Ct.tex.y,Ct.bl.x,Ct.bl.y])),_.push(0+At*4,1+At*4,2+At*4,2+At*4,3+At*4,0+At*4)}),{vertices:j,indices:_,size:7}}var cl=function(I){(0,vr.Z)(F,I);var z=Xl(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"glyphInfo",void 0),(0,O.Z)((0,le.Z)(j),"glyphInfoMap",{}),(0,O.Z)((0,le.Z)(j),"texture",void 0),(0,O.Z)((0,le.Z)(j),"currentZoom",-1),(0,O.Z)((0,le.Z)(j),"extent",void 0),(0,O.Z)((0,le.Z)(j),"textureHeight",0),(0,O.Z)((0,le.Z)(j),"textCount",0),(0,O.Z)((0,le.Z)(j),"preTextStyle",{}),(0,O.Z)((0,le.Z)(j),"buildModels",function(){return j.initGlyph(),j.updateTexture(),j.filterGlyphs(),j.reBuildModel(),[j.layer.buildLayerModel({moduleName:"pointText",vertexShader:yl,fragmentShader:ml,triangulation:fl.bind((0,le.Z)(j)),depth:{enable:!1},blend:j.getBlend()})]}),j}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X,Ct=_.stroke,At=Ct===void 0?"#fff":Ct,Yt=_.strokeWidth,me=Yt===void 0?0:Yt,fe=_.textAnchor,tr=fe===void 0?"center":fe,dr=_.textAllowOverlap,tn=dr===void 0?!1:dr,yn=_.halo,Wn=yn===void 0?.5:yn,ii=_.gamma,bi=ii===void 0?2:ii,Bi=this.fontService,Ni=Bi.canvas,la=Bi.mapping;if(Object.keys(la).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(la).length),this.preTextStyle={textAnchor:tr,textAllowOverlap:tn},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,strokeWidth:me,stroke:At})){this.judgeStyleAttributes({opacity:ut,strokeWidth:me,stroke:At});var Ji=this.layer.getEncodedData(),qi=this.calDataFrame(this.cellLength,Ji,this.cellProperties),Aa=qi.data,Ga=qi.width,oo=qi.height;this.rowCount=oo,this.dataTexture=this.cellLength>0&&Aa.length>0?this.createTexture2D({flipY:!0,data:Aa,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Ga,height:oo}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_stroke_width:Xt()(me)?me:0,u_stroke_color:this.getStrokeColor(At),u_sdf_map:this.texture,u_halo_blur:Wn,u_gamma_scale:bi,u_sdf_map_size:[Ni.width,Ni.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var _=this.layer.getLayerConfig(),X=_.textAnchor,ut=X===void 0?"center":X,Ct=_.textAllowOverlap,At=Ct===void 0?!0:Ct;return this.preTextStyle={textAnchor:ut,textAllowOverlap:At},this.buildModels()}},{key:"needUpdate",value:function(){var _=this.layer.getLayerConfig(),X=_.textAllowOverlap,ut=X===void 0?!1:X,Ct=this.mapService.getZoom(),At=this.mapService.getBounds(),Yt=(0,Ir.oO)(this.extent,At);return!ut&&(Math.abs(this.currentZoom-Ct)>1||!Yt)||ut!==this.preTextStyle.textAllowOverlap?(this.reBuildModel(),!0):!1}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Rt.GC.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(X,ut,Ct,At){var Yt=X.rotate,me=Yt===void 0?0:Yt;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Rt.GC.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(X,ut,Ct,At){return[Ct[5],Ct[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(X,ut,Ct,At){var Yt=X.size,me=Yt===void 0?12:Yt;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Rt.GC.Attribute,descriptor:{name:"a_tex",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(X,ut,Ct,At){return[Ct[3],Ct[4]]}}})}},{key:"textExtent",value:function(){var _=this.mapService.getBounds();return(0,Ir.yA)(_,.5)}},{key:"initTextFont",value:function(){var _=this.layer.getLayerConfig(),X=_.fontWeight,ut=X===void 0?"400":X,Ct=_.fontFamily,At=Ct===void 0?"sans-serif":Ct,Yt=this.layer.getEncodedData(),me=[];Yt.forEach(function(fe){var tr=fe.shape,dr=tr===void 0?"":tr;dr=dr.toString();var tn=Rl(dr),yn;try{for(tn.s();!(yn=tn.n()).done;){var Wn=yn.value;me.indexOf(Wn)===-1&&me.push(Wn)}}catch(ii){tn.e(ii)}finally{tn.f()}}),this.fontService.setFontOptions({characterSet:me,fontWeight:ut,fontFamily:At,iconfont:!1})}},{key:"initIconFontTex",value:function(){var _=this.layer.getLayerConfig(),X=_.fontWeight,ut=X===void 0?"400":X,Ct=_.fontFamily,At=Ct===void 0?"sans-serif":Ct,Yt=this.layer.getEncodedData(),me=[];Yt.forEach(function(fe){var tr=fe.shape,dr=tr===void 0?"":tr;dr=dr.toString(),me.indexOf(dr)===-1&&me.push(dr)}),this.fontService.setFontOptions({characterSet:me,fontWeight:ut,fontFamily:At,iconfont:!0})}},{key:"generateGlyphLayout",value:function(_){var X=this,ut=this.fontService.mapping,Ct=this.layer.getLayerConfig(),At=Ct.spacing,Yt=At===void 0?2:At,me=Ct.textAnchor,fe=me===void 0?"center":me,tr=this.layer.getEncodedData();this.glyphInfo=tr.map(function(dr){var tn=dr.shape,yn=tn===void 0?"":tn,Wn=dr.id,ii=dr.size,bi=ii===void 0?1:ii,Bi=dr.textOffset,Ni=Bi===void 0?[0,0]:Bi,la=Dl(yn.toString(),ut,bi,fe,"center",Yt,Ni,_),Ji=Yl(la,Ni,!1);return dr.shaping=la,dr.glyphQuads=Ji,dr.centroid=lu(dr.coordinates),dr.originCentroid=dr.version==="GAODE2.x"?lu(dr.originCoordinates):dr.originCentroid=dr.centroid,X.glyphInfoMap[Wn]={shaping:la,glyphQuads:Ji,centroid:lu(dr.coordinates)},dr})}},{key:"filterGlyphs",value:function(){var _=this,X=this.layer.getLayerConfig(),ut=X.padding,Ct=ut===void 0?[4,4]:ut,At=X.textAllowOverlap,Yt=At===void 0?!1:At;if(!Yt){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var me=this.rendererService.getViewportSize(),fe=me.width,tr=me.height,dr=new Jf(fe,tr),tn=this.glyphInfo.filter(function(yn){var Wn=yn.shaping,ii=yn.id,bi=ii===void 0?0:ii,Bi=yn.version==="GAODE2.x"?yn.originCentroid:yn.centroid,Ni=yn.size,la=Ni/24,Ji=_.mapService.lngLatToContainer(Bi),qi=dr.placeCollisionBox({x1:Wn.left*la-Ct[0],x2:Wn.right*la+Ct[0],y1:Wn.top*la-Ct[1],y2:Wn.bottom*la+Ct[1],anchorPointX:Ji.x,anchorPointY:Ji.y}),Aa=qi.box;return Aa&&Aa.length?(dr.insertCollisionBox(Aa,bi),!0):!1});tn.forEach(function(yn){_.glyphInfoMap[yn.id]=yn})}}},{key:"initGlyph",value:function(){var _=this.layer.getLayerConfig(),X=_.iconfont,ut=X===void 0?!1:X;ut?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(ut)}},{key:"updateTexture",value:function(){var _=this.rendererService.createTexture2D,X=this.fontService.canvas;this.textureHeight=X.height,this.texture&&this.texture.destroy(),this.texture=_({data:X,mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,width:X.width,height:X.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:yl,fragmentShader:ml,triangulation:fl.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),F}(hn),xl={fill:tl,image:Gl,normal:df,extrude:Yu,text:cl,icon:Wl},El=xl;function Sl(I){var z=Kl();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Kl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bl=function(I){(0,vr.Z)(F,I);var z=Sl(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"type","PointLayer"),j}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new El[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var _=this.getModelType(),X={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return X[_]}},{key:"getModelType",value:function(){var _=this.getEncodedData(),X=this.getLayerConfig(),ut=X.shape2d,Ct=X.shape3d,At=this.iconService.getIconMap(),Yt=_.find(function(fe){return fe.hasOwnProperty("shape")});if(Yt){var me=Yt.shape;return me==="dot"?"normal":(ut==null?void 0:ut.indexOf(me))!==-1?"fill":(Ct==null?void 0:Ct.indexOf(me))!==-1?"extrude":At.hasOwnProperty(me)?"image":this.fontService.getGlyph(me)!==""?"icon":"text"}else return"normal"}}]),F}(we);function al(I){var z=Sf();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Sf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var $l=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,tc=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  setPickingColor(a_PickingColor);
}
`,ec=function(I){(0,vr.Z)(F,I);var z=al(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var Ct=this.layer.getEncodedData(),At=this.calDataFrame(this.cellLength,Ct,this.cellProperties),Yt=At.data,me=At.width,fe=At.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:tc,fragmentShader:$l,triangulation:La})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.GC.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(X,ut,Ct,At,Yt){return Yt}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.GC.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(X,ut,Ct,At){var Yt=X.size,me=Yt===void 0?10:Yt;return Array.isArray(me)?[me[0]]:[me]}}})}}]),F}(hn);function rc(I){var z=el();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function el(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bf=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Cf=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_Color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  setPickingColor(a_PickingColor);
}

`,Mf=function(I){(0,vr.Z)(F,I);var z=rc(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),X=_.opacity,ut=X===void 0?1:X;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var Ct=this.layer.getEncodedData(),At=this.calDataFrame(this.cellLength,Ct,this.cellProperties),Yt=At.data,me=At.width,fe=At.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:Cf,fragmentShader:bf,triangulation:Ta,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),F}(hn),nc={fill:Mf,line:Co,extrude:ec,text:cl,point_fill:tl,point_image:Gl,point_normal:df,point_extrude:Yu},Af=nc;function ic(I){var z=Vu();return function(){var j=(0,rr.Z)(I),_;if(z){var X=(0,rr.Z)(this).constructor;_=Reflect.construct(j,arguments,X)}else _=j.apply(this,arguments);return(0,He.Z)(this,_)}}function Vu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Pf=function(I){(0,vr.Z)(F,I);var z=ic(F);function F(){var j;(0,Se.Z)(this,F);for(var _=arguments.length,X=new Array(_),ut=0;ut<_;ut++)X[ut]=arguments[ut];return j=z.call.apply(z,[this].concat(X)),(0,O.Z)((0,le.Z)(j),"type","PolygonLayer"),j}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new Af[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var _,X=this.styleAttributeService.getLayerStyleAttribute("shape"),ut=X==null||(_=X.scale)===null||_===void 0?void 0:_.field;return ut==="fill"?"fill":ut==="extrude"?"extrude":ut==="line"?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var _=this.getEncodedData(),X=this.getLayerConfig(),ut=X.shape2d,Ct=X.shape3d,At=this.iconService.getIconMap(),Yt=_.find(function(fe){return fe.hasOwnProperty("shape")});if(Yt){var me=Yt.shape;return me==="dot"?"point_normal":(ut==null?void 0:ut.indexOf(me))!==-1?"point_fill":(Ct==null?void 0:Ct.indexOf(me))!==-1?"point_extrude":At.hasOwnProperty(me)?"point_image":"text"}else return"fill"}}]),F}(we),ol,Xu,Ql,Bl,Cl,hl,Ks,Ku,Is;function Lu(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function Of(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Lu(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Lu(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var ac=(ol=(0,$a.b2)(),Xu=(0,$a.f3)(Rt.vK.IGlobalConfigService),Ql=(0,$a.f3)(Rt.vK.IMapService),Bl=(0,$a.f3)(Rt.vK.IFontService),ol(Cl=(hl=function(){function I(){(0,Se.Z)(this,I),(0,Ao.Z)(this,"configService",Ks,this),(0,Ao.Z)(this,"mapService",Ku,this),(0,Ao.Z)(this,"fontService",Is,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=this,X=j.styleAttributeService;F.hooks.init.tap("DataMappingPlugin",function(){_.generateMaping(F,{styleAttributeService:X})}),F.hooks.beforeRenderData.tap("DataMappingPlugin",function(){return F.dataState.dataMappingNeedUpdate=!1,_.generateMaping(F,{styleAttributeService:X}),!0}),F.hooks.beforeRender.tap("DataMappingPlugin",function(){if(!F.layerModelNeedUpdate){var ut=X.getLayerStyleAttributes()||[],Ct=X.getLayerStyleAttribute("filter"),At=F.getSource().data.dataArray,Yt=ut.filter(function(fe){return fe.needRemapping}),me=At;Ct!=null&&Ct.needRemapping&&Ct!==null&&Ct!==void 0&&Ct.scale&&(me=At.filter(function(fe){return _.applyAttributeMapping(Ct,fe)[0]})),Yt.length&&(Ct!=null&&Ct.needRemapping?(F.setEncodedData(_.mapping(ut,me)),Ct.needRemapping=!1):F.setEncodedData(_.mapping(Yt,me,F.getEncodedData())),F.emit("remapping",null))}})}},{key:"generateMaping",value:function(F,j){var _=this,X=j.styleAttributeService,ut=X.getLayerStyleAttributes()||[],Ct=X.getLayerStyleAttribute("filter"),At=F.getSource().data.dataArray,Yt=At;Ct!=null&&Ct.scale&&(Yt=At.filter(function(me){return _.applyAttributeMapping(Ct,me)[0]})),F.setEncodedData(this.mapping(ut,Yt))}},{key:"mapping",value:function(F,j,_){var X=this,ut=j.map(function(Ct,At){var Yt=_?_[At]:{},me=Of({id:Ct._id,coordinates:Ct.coordinates},Yt);return F.filter(function(fe){return fe.scale!==void 0}).forEach(function(fe){var tr=X.applyAttributeMapping(fe,Ct);fe.needRemapping=!1,fe.name==="color"&&(tr=tr.map(function(dr){return(0,Ir.CI)(dr)})),me[fe.name]=Array.isArray(tr)&&tr.length===1?tr[0]:tr,fe.name==="shape"&&(me.shape=X.fontService.getIconFontKey(me[fe.name]))}),me});return ut.length>0&&this.mapService.version==="GAODE2.x"&&(typeof ut[0].coordinates[0]=="number"?ut.filter(function(Ct){return!Ct.originCoordinates}).map(function(Ct){Ct.version="GAODE2.x",Ct.originCoordinates=er()(Ct.coordinates),Ct.coordinates=X.mapService.lngLatToCoord(Ct.coordinates)}):ut.filter(function(Ct){return!Ct.originCoordinates}).map(function(Ct){Ct.version="GAODE2.x",Ct.originCoordinates=er()(Ct.coordinates),Ct.coordinates=X.mapService.lngLatToCoords(Ct.coordinates)})),ut}},{key:"applyAttributeMapping",value:function(F,j){var _;if(!F.scale)return[];var X=(F==null||(_=F.scale)===null||_===void 0?void 0:_.scalers)||[],ut=[];return X.forEach(function(Ct){var At,Yt=Ct.field;(j.hasOwnProperty(Yt)||((At=F.scale)===null||At===void 0?void 0:At.type)==="variable")&&ut.push(j[Yt])}),F.mapping?F.mapping(ut):[]}}]),I}(),Ks=(0,cs.Z)(hl.prototype,"configService",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ku=(0,cs.Z)(hl.prototype,"mapService",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=(0,cs.Z)(hl.prototype,"fontService",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl))||Cl),Tf,wf,oc=(Tf=(0,$a.b2)(),Tf(wf=function(){function I(){(0,Se.Z)(this,I),(0,O.Z)(this,"mapService",void 0)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){var j=this;this.mapService=F.getContainer().get(Rt.vK.IMapService),F.hooks.init.tap("DataSourcePlugin",function(){var _=F.getSource();if(!_){var X=F.sourceOption||{data:cr,options:zr},ut=X.data,Ct=X.options;F.setSource(new Ge(ut,Ct))}j.updateClusterData(F)}),F.hooks.beforeRenderData.tap("DataSourcePlugin",function(){var _=j.updateClusterData(F),X=F.dataState.dataSourceNeedUpdate;return F.dataState.dataSourceNeedUpdate=!1,_||X})}},{key:"updateClusterData",value:function(F){var j=F.getSource(),_=j.cluster,X=j.clusterOptions,ut=X.zoom,Ct=ut===void 0?0:ut,At=X.maxZoom,Yt=At===void 0?16:At,me=this.mapService.getZoom()-1,fe=F.dataState.dataSourceNeedUpdate;return _&&(fe||Math.abs(Ct-me)>1)&&Yt>Ct?(j.updateClusterData(Math.floor(me)),!0):!1}}]),I}())||wf),If=x(44908),sc=x.n(If),uc=x(14293),Lf=x.n(uc);function Jl(I,z){return I<z?-1:I>z?1:I>=z?0:NaN}function Df(I){return I.length===1&&(I=Rf(I)),{left:function(z,F,j,_){for(j==null&&(j=0),_==null&&(_=z.length);j<_;){var X=j+_>>>1;I(z[X],F)<0?j=X+1:_=X}return j},right:function(z,F,j,_){for(j==null&&(j=0),_==null&&(_=z.length);j<_;){var X=j+_>>>1;I(z[X],F)>0?_=X:j=X+1}return j}}}function Rf(I){return function(z,F){return Jl(I(z),F)}}var ql=Df(Jl),Nf=ql.right,gc=ql.left,jl=Nf;function Ff(I,z){var F=I.length,j=-1,_,X,ut;if(z==null){for(;++j<F;)if((_=I[j])!=null&&_>=_)for(X=ut=_;++j<F;)(_=I[j])!=null&&(X>_&&(X=_),ut<_&&(ut=_))}else for(;++j<F;)if((_=z(I[j],j,I))!=null&&_>=_)for(X=ut=_;++j<F;)(_=z(I[j],j,I))!=null&&(X>_&&(X=_),ut<_&&(ut=_));return[X,ut]}var Bf=Array.prototype,Wt=Bf.slice,ke=Bf.map,fr=Math.sqrt(50),dn=Math.sqrt(10),_n=Math.sqrt(2);function vn(I,z,F){var j,_=-1,X,ut,Ct;if(z=+z,I=+I,F=+F,I===z&&F>0)return[I];if((j=z<I)&&(X=I,I=z,z=X),(Ct=On(I,z,F))===0||!isFinite(Ct))return[];if(Ct>0)for(I=Math.ceil(I/Ct),z=Math.floor(z/Ct),ut=new Array(X=Math.ceil(z-I+1));++_<X;)ut[_]=(I+_)*Ct;else for(I=Math.floor(I*Ct),z=Math.ceil(z*Ct),ut=new Array(X=Math.ceil(I-z+1));++_<X;)ut[_]=(I-_)/Ct;return j&&ut.reverse(),ut}function On(I,z,F){var j=(z-I)/Math.max(0,F),_=Math.floor(Math.log(j)/Math.LN10),X=j/Math.pow(10,_);return _>=0?(X>=fr?10:X>=dn?5:X>=_n?2:1)*Math.pow(10,_):-Math.pow(10,-_)/(X>=fr?10:X>=dn?5:X>=_n?2:1)}function Zn(I,z,F){var j=Math.abs(z-I)/Math.max(0,F),_=Math.pow(10,Math.floor(Math.log(j)/Math.LN10)),X=j/_;return X>=fr?_*=10:X>=dn?_*=5:X>=_n&&(_*=2),z<I?-_:_}function Jn(){var I=identity,z=extent,F=sturges;function j(_){var X,ut=_.length,Ct,At=new Array(ut);for(X=0;X<ut;++X)At[X]=I(_[X],X,_);var Yt=z(At),me=Yt[0],fe=Yt[1],tr=F(At,me,fe);Array.isArray(tr)||(tr=tickStep(me,fe,tr),tr=range(Math.ceil(me/tr)*tr,fe,tr));for(var dr=tr.length;tr[0]<=me;)tr.shift(),--dr;for(;tr[dr-1]>fe;)tr.pop(),--dr;var tn=new Array(dr+1),yn;for(X=0;X<=dr;++X)yn=tn[X]=[],yn.x0=X>0?tr[X-1]:me,yn.x1=X<dr?tr[X]:fe;for(X=0;X<ut;++X)Ct=At[X],me<=Ct&&Ct<=fe&&tn[bisect(tr,Ct,0,dr)].push(_[X]);return tn}return j.value=function(_){return arguments.length?(I=typeof _=="function"?_:constant(_),j):I},j.domain=function(_){return arguments.length?(z=typeof _=="function"?_:constant([_[0],_[1]]),j):z},j.thresholds=function(_){return arguments.length?(F=typeof _=="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),j):F},j}function oi(I,z,F){return I=map.call(I,number).sort(ascending),Math.ceil((F-z)/(2*(quantile(I,.75)-quantile(I,.25))*Math.pow(I.length,-1/3)))}function ui(I){return I===null?NaN:+I}function li(I,z,F){if(F==null&&(F=ui),!!(j=I.length)){if((z=+z)<=0||j<2)return+F(I[0],0,I);if(z>=1)return+F(I[j-1],j-1,I);var j,_=(j-1)*z,X=Math.floor(_),ut=+F(I[X],X,I),Ct=+F(I[X+1],X+1,I);return ut+(Ct-ut)*(_-X)}}var si="$";function Kn(){}Kn.prototype=ni.prototype={constructor:Kn,has:function(I){return si+I in this},get:function(I){return this[si+I]},set:function(I,z){return this[si+I]=z,this},remove:function(I){var z=si+I;return z in this&&delete this[z]},clear:function(){for(var I in this)I[0]===si&&delete this[I]},keys:function(){var I=[];for(var z in this)z[0]===si&&I.push(z.slice(1));return I},values:function(){var I=[];for(var z in this)z[0]===si&&I.push(this[z]);return I},entries:function(){var I=[];for(var z in this)z[0]===si&&I.push({key:z.slice(1),value:this[z]});return I},size:function(){var I=0;for(var z in this)z[0]===si&&++I;return I},empty:function(){for(var I in this)if(I[0]===si)return!1;return!0},each:function(I){for(var z in this)z[0]===si&&I(this[z],z.slice(1),this)}};function ni(I,z){var F=new Kn;if(I instanceof Kn)I.each(function(Ct,At){F.set(At,Ct)});else if(Array.isArray(I)){var j=-1,_=I.length,X;if(z==null)for(;++j<_;)F.set(j,I[j]);else for(;++j<_;)F.set(z(X=I[j],j,I),X)}else if(I)for(var ut in I)F.set(ut,I[ut]);return F}var $r=ni;function Cn(){var I=[],z=[],F,j,_;function X(Ct,At,Yt,me){if(At>=I.length)return F!=null&&Ct.sort(F),j!=null?j(Ct):Ct;for(var fe=-1,tr=Ct.length,dr=I[At++],tn,yn,Wn=map(),ii,bi=Yt();++fe<tr;)(ii=Wn.get(tn=dr(yn=Ct[fe])+""))?ii.push(yn):Wn.set(tn,[yn]);return Wn.each(function(Bi,Ni){me(bi,Ni,X(Bi,At,Yt,me))}),bi}function ut(Ct,At){if(++At>I.length)return Ct;var Yt,me=z[At-1];return j!=null&&At>=I.length?Yt=Ct.entries():(Yt=[],Ct.each(function(fe,tr){Yt.push({key:tr,values:ut(fe,At)})})),me!=null?Yt.sort(function(fe,tr){return me(fe.key,tr.key)}):Yt}return _={object:function(Ct){return X(Ct,0,ei,Ui)},map:function(Ct){return X(Ct,0,Hn,Ri)},entries:function(Ct){return ut(X(Ct,0,Hn,Ri),0)},key:function(Ct){return I.push(Ct),_},sortKeys:function(Ct){return z[I.length-1]=Ct,_},sortValues:function(Ct){return F=Ct,_},rollup:function(Ct){return j=Ct,_}}}function ei(){return{}}function Ui(I,z,F){I[z]=F}function Hn(){return map()}function Ri(I,z,F){I.set(z,F)}function Mi(){}var oa=$r.prototype;Mi.prototype=kn.prototype={constructor:Mi,has:oa.has,add:function(I){return I+="",this[si+I]=I,this},remove:oa.remove,clear:oa.clear,values:oa.keys,size:oa.size,empty:oa.empty,each:oa.each};function kn(I,z){var F=new Mi;if(I instanceof Mi)I.each(function(X){F.add(X)});else if(I){var j=-1,_=I.length;if(z==null)for(;++j<_;)F.add(I[j]);else for(;++j<_;)F.add(z(I[j],j,I))}return F}var Un=null,Wi=Array.prototype,Si=Wi.map,Qn=Wi.slice;function mi(I,z){switch(arguments.length){case 0:break;case 1:this.range(I);break;default:this.range(z).domain(I);break}return this}function Ii(I,z){switch(arguments.length){case 0:break;case 1:this.interpolator(I);break;default:this.interpolator(z).domain(I);break}return this}var Na={name:"implicit"};function xa(){var I=$r(),z=[],F=[],j=Na;function _(X){var ut=X+"",Ct=I.get(ut);if(!Ct){if(j!==Na)return j;I.set(ut,Ct=z.push(X))}return F[(Ct-1)%F.length]}return _.domain=function(X){if(!arguments.length)return z.slice();z=[],I=$r();for(var ut=-1,Ct=X.length,At,Yt;++ut<Ct;)I.has(Yt=(At=X[ut])+"")||I.set(Yt,z.push(At));return _},_.range=function(X){return arguments.length?(F=Qn.call(X),_):F.slice()},_.unknown=function(X){return arguments.length?(j=X,_):j},_.copy=function(){return xa(z,F).unknown(j)},mi.apply(_,arguments),_}function wi(){var I=ordinal().unknown(void 0),z=I.domain,F=I.range,j=[0,1],_,X,ut=!1,Ct=0,At=0,Yt=.5;delete I.unknown;function me(){var fe=z().length,tr=j[1]<j[0],dr=j[tr-0],tn=j[1-tr];_=(tn-dr)/Math.max(1,fe-Ct+At*2),ut&&(_=Math.floor(_)),dr+=(tn-dr-_*(fe-Ct))*Yt,X=_*(1-Ct),ut&&(dr=Math.round(dr),X=Math.round(X));var yn=sequence(fe).map(function(Wn){return dr+_*Wn});return F(tr?yn.reverse():yn)}return I.domain=function(fe){return arguments.length?(z(fe),me()):z()},I.range=function(fe){return arguments.length?(j=[+fe[0],+fe[1]],me()):j.slice()},I.rangeRound=function(fe){return j=[+fe[0],+fe[1]],ut=!0,me()},I.bandwidth=function(){return X},I.step=function(){return _},I.round=function(fe){return arguments.length?(ut=!!fe,me()):ut},I.padding=function(fe){return arguments.length?(Ct=Math.min(1,At=+fe),me()):Ct},I.paddingInner=function(fe){return arguments.length?(Ct=Math.min(1,fe),me()):Ct},I.paddingOuter=function(fe){return arguments.length?(At=+fe,me()):At},I.align=function(fe){return arguments.length?(Yt=Math.max(0,Math.min(1,fe)),me()):Yt},I.copy=function(){return wi(z(),j).round(ut).paddingInner(Ct).paddingOuter(At).align(Yt)},initRange.apply(me(),arguments)}function Fi(I){var z=I.copy;return I.padding=I.paddingOuter,delete I.paddingInner,delete I.paddingOuter,I.copy=function(){return Fi(z())},I}function Ca(){return Fi(wi.apply(null,arguments).paddingInner(1))}var wa=x(26257),Ja=x(73626);function vs(I,z){return I=+I,z=+z,function(F){return Math.round(I*(1-F)+z*F)}}function ys(I){return function(){return I}}function Ya(I){return+I}var ru=[0,1];function ao(I){return I}function Ls(I,z){return(z-=I=+I)?function(F){return(F-I)/z}:ys(isNaN(z)?NaN:.5)}function Ms(I){var z=I[0],F=I[I.length-1],j;return z>F&&(j=z,z=F,F=j),function(_){return Math.max(z,Math.min(F,_))}}function nu(I,z,F){var j=I[0],_=I[1],X=z[0],ut=z[1];return _<j?(j=Ls(_,j),X=F(ut,X)):(j=Ls(j,_),X=F(X,ut)),function(Ct){return X(j(Ct))}}function cu(I,z,F){var j=Math.min(I.length,z.length)-1,_=new Array(j),X=new Array(j),ut=-1;for(I[j]<I[0]&&(I=I.slice().reverse(),z=z.slice().reverse());++ut<j;)_[ut]=Ls(I[ut],I[ut+1]),X[ut]=F(z[ut],z[ut+1]);return function(Ct){var At=jl(I,Ct,1,j)-1;return X[At](_[At](Ct))}}function $s(I,z){return z.domain(I.domain()).range(I.range()).interpolate(I.interpolate()).clamp(I.clamp()).unknown(I.unknown())}function xs(){var I=ru,z=ru,F=wa.Z,j,_,X,ut=ao,Ct,At,Yt;function me(){return Ct=Math.min(I.length,z.length)>2?cu:nu,At=Yt=null,fe}function fe(tr){return isNaN(tr=+tr)?X:(At||(At=Ct(I.map(j),z,F)))(j(ut(tr)))}return fe.invert=function(tr){return ut(_((Yt||(Yt=Ct(z,I.map(j),Ja.Z)))(tr)))},fe.domain=function(tr){return arguments.length?(I=Si.call(tr,Ya),ut===ao||(ut=Ms(I)),me()):I.slice()},fe.range=function(tr){return arguments.length?(z=Qn.call(tr),me()):z.slice()},fe.rangeRound=function(tr){return z=Qn.call(tr),F=vs,me()},fe.clamp=function(tr){return arguments.length?(ut=tr?Ms(I):ao,fe):ut!==ao},fe.interpolate=function(tr){return arguments.length?(F=tr,me()):F},fe.unknown=function(tr){return arguments.length?(X=tr,fe):X},function(tr,dr){return j=tr,_=dr,me()}}function ka(I,z){return xs()(I,z)}var hu=x(46196),co=x(33085);function iu(I,z){return Math.max(0,Math.max(-8,Math.min(8,Math.floor((0,co.Z)(z)/3)))*3-(0,co.Z)(Math.abs(I)))}var ya=x(28602);function Xa(I,z){return I=Math.abs(I),z=Math.abs(z)-I,Math.max(0,(0,co.Z)(z)-(0,co.Z)(I))+1}function _o(I){return Math.max(0,-(0,co.Z)(Math.abs(I)))}function ks(I,z,F,j){var _=Zn(I,z,F),X;switch(j=(0,hu.Z)(j==null?",f":j),j.type){case"s":{var ut=Math.max(Math.abs(I),Math.abs(z));return j.precision==null&&!isNaN(X=iu(_,ut))&&(j.precision=X),(0,ya.jH)(j,ut)}case"":case"e":case"g":case"p":case"r":{j.precision==null&&!isNaN(X=Xa(_,Math.max(Math.abs(I),Math.abs(z))))&&(j.precision=X-(j.type==="e"));break}case"f":case"%":{j.precision==null&&!isNaN(X=_o(_))&&(j.precision=X-(j.type==="%")*2);break}}return(0,ya.WU)(j)}function ju(I){var z=I.domain;return I.ticks=function(F){var j=z();return vn(j[0],j[j.length-1],F==null?10:F)},I.tickFormat=function(F,j){var _=z();return ks(_[0],_[_.length-1],F==null?10:F,j)},I.nice=function(F){F==null&&(F=10);var j=z(),_=0,X=j.length-1,ut=j[_],Ct=j[X],At;return Ct<ut&&(At=ut,ut=Ct,Ct=At,At=_,_=X,X=At),At=On(ut,Ct,F),At>0?(ut=Math.floor(ut/At)*At,Ct=Math.ceil(Ct/At)*At,At=On(ut,Ct,F)):At<0&&(ut=Math.ceil(ut*At)/At,Ct=Math.floor(Ct*At)/At,At=On(ut,Ct,F)),At>0?(j[_]=Math.floor(ut/At)*At,j[X]=Math.ceil(Ct/At)*At,z(j)):At<0&&(j[_]=Math.ceil(ut*At)/At,j[X]=Math.floor(Ct*At)/At,z(j)),I},I}function ir(){var I=ka(ao,ao);return I.copy=function(){return $s(I,ir())},mi.apply(I,arguments),ju(I)}function xn(I){var z;function F(j){return isNaN(j=+j)?z:j}return F.invert=F,F.domain=F.range=function(j){return arguments.length?(I=Si.call(j,Ya),F):I.slice()},F.unknown=function(j){return arguments.length?(z=j,F):z},F.copy=function(){return xn(I).unknown(z)},I=arguments.length?Si.call(I,Ya):[0,1],ju(F)}function fn(I,z){I=I.slice();var F=0,j=I.length-1,_=I[F],X=I[j],ut;return X<_&&(ut=F,F=j,j=ut,ut=_,_=X,X=ut),I[F]=z.floor(_),I[j]=z.ceil(X),I}function ki(I){return Math.log(I)}function Ka(I){return Math.exp(I)}function Ke(I){return-Math.log(-I)}function Pe(I){return-Math.exp(-I)}function Cr(I){return isFinite(I)?+("1e"+I):I<0?0:I}function Qr(I){return I===10?Cr:I===Math.E?Math.exp:function(z){return Math.pow(I,z)}}function mn(I){return I===Math.E?Math.log:I===10&&Math.log10||I===2&&Math.log2||(I=Math.log(I),function(z){return Math.log(z)/I})}function Lr(I){return function(z){return-I(-z)}}function Or(I){var z=I(ki,Ka),F=z.domain,j=10,_,X;function ut(){return _=mn(j),X=Qr(j),F()[0]<0?(_=Lr(_),X=Lr(X),I(Ke,Pe)):I(ki,Ka),z}return z.base=function(Ct){return arguments.length?(j=+Ct,ut()):j},z.domain=function(Ct){return arguments.length?(F(Ct),ut()):F()},z.ticks=function(Ct){var At=F(),Yt=At[0],me=At[At.length-1],fe;(fe=me<Yt)&&(tr=Yt,Yt=me,me=tr);var tr=_(Yt),dr=_(me),tn,yn,Wn,ii=Ct==null?10:+Ct,bi=[];if(!(j%1)&&dr-tr<ii){if(tr=Math.round(tr)-1,dr=Math.round(dr)+1,Yt>0){for(;tr<dr;++tr)for(yn=1,tn=X(tr);yn<j;++yn)if(Wn=tn*yn,!(Wn<Yt)){if(Wn>me)break;bi.push(Wn)}}else for(;tr<dr;++tr)for(yn=j-1,tn=X(tr);yn>=1;--yn)if(Wn=tn*yn,!(Wn<Yt)){if(Wn>me)break;bi.push(Wn)}}else bi=vn(tr,dr,Math.min(dr-tr,ii)).map(X);return fe?bi.reverse():bi},z.tickFormat=function(Ct,At){if(At==null&&(At=j===10?".0e":","),typeof At!="function"&&(At=(0,ya.WU)(At)),Ct===Infinity)return At;Ct==null&&(Ct=10);var Yt=Math.max(1,j*Ct/z.ticks().length);return function(me){var fe=me/X(Math.round(_(me)));return fe*j<j-.5&&(fe*=j),fe<=Yt?At(me):""}},z.nice=function(){return F(fn(F(),{floor:function(Ct){return X(Math.floor(_(Ct)))},ceil:function(Ct){return X(Math.ceil(_(Ct)))}}))},z}function Nr(){var I=Or(xs()).domain([1,10]);return I.copy=function(){return $s(I,Nr()).base(I.base())},mi.apply(I,arguments),I}function Ze(I){return function(z){return Math.sign(z)*Math.log1p(Math.abs(z/I))}}function Er(I){return function(z){return Math.sign(z)*Math.expm1(Math.abs(z))*I}}function qe(I){var z=1,F=I(Ze(z),Er(z));return F.constant=function(j){return arguments.length?I(Ze(z=+j),Er(z)):z},linearish(F)}function Jr(){var I=qe(transformer());return I.copy=function(){return copy(I,Jr()).constant(I.constant())},initRange.apply(I,arguments)}function sn(I){return function(z){return z<0?-Math.pow(-z,I):Math.pow(z,I)}}function Vn(I){return I<0?-Math.sqrt(-I):Math.sqrt(I)}function yi(I){return I<0?-I*I:I*I}function xi(I){var z=I(ao,ao),F=1;function j(){return F===1?I(ao,ao):F===.5?I(Vn,yi):I(sn(F),sn(1/F))}return z.exponent=function(_){return arguments.length?(F=+_,j()):F},ju(z)}function Pi(){var I=xi(xs());return I.copy=function(){return $s(I,Pi()).exponent(I.exponent())},mi.apply(I,arguments),I}function di(){return Pi.apply(null,arguments).exponent(.5)}function Xi(){var I=[],z=[],F=[],j;function _(){var ut=0,Ct=Math.max(1,z.length);for(F=new Array(Ct-1);++ut<Ct;)F[ut-1]=li(I,ut/Ct);return X}function X(ut){return isNaN(ut=+ut)?j:z[jl(F,ut)]}return X.invertExtent=function(ut){var Ct=z.indexOf(ut);return Ct<0?[NaN,NaN]:[Ct>0?F[Ct-1]:I[0],Ct<F.length?F[Ct]:I[I.length-1]]},X.domain=function(ut){if(!arguments.length)return I.slice();I=[];for(var Ct=0,At=ut.length,Yt;Ct<At;++Ct)Yt=ut[Ct],Yt!=null&&!isNaN(Yt=+Yt)&&I.push(Yt);return I.sort(Jl),_()},X.range=function(ut){return arguments.length?(z=Qn.call(ut),_()):z.slice()},X.unknown=function(ut){return arguments.length?(j=ut,X):j},X.quantiles=function(){return F.slice()},X.copy=function(){return Xi().domain(I).range(z).unknown(j)},mi.apply(X,arguments)}function _i(){var I=0,z=1,F=1,j=[.5],_=[0,1],X;function ut(At){return At<=At?_[jl(j,At,0,F)]:X}function Ct(){var At=-1;for(j=new Array(F);++At<F;)j[At]=((At+1)*z-(At-F)*I)/(F+1);return ut}return ut.domain=function(At){return arguments.length?(I=+At[0],z=+At[1],Ct()):[I,z]},ut.range=function(At){return arguments.length?(F=(_=Qn.call(At)).length-1,Ct()):_.slice()},ut.invertExtent=function(At){var Yt=_.indexOf(At);return Yt<0?[NaN,NaN]:Yt<1?[I,j[0]]:Yt>=F?[j[F-1],z]:[j[Yt-1],j[Yt]]},ut.unknown=function(At){return arguments.length&&(X=At),ut},ut.thresholds=function(){return j.slice()},ut.copy=function(){return _i().domain([I,z]).range(_).unknown(X)},mi.apply(ju(ut),arguments)}function Gi(){var I=[.5],z=[0,1],F,j=1;function _(X){return X<=X?z[jl(I,X,0,j)]:F}return _.domain=function(X){return arguments.length?(I=Qn.call(X),j=Math.min(I.length,z.length-1),_):I.slice()},_.range=function(X){return arguments.length?(z=Qn.call(X),j=Math.min(I.length,z.length-1),_):z.slice()},_.invertExtent=function(X){var ut=z.indexOf(X);return[I[ut-1],I[ut]]},_.unknown=function(X){return arguments.length?(F=X,_):F},_.copy=function(){return Gi().domain(I).range(z).unknown(F)},mi.apply(_,arguments)}var Vi=new Date,Hi=new Date;function ia(I,z,F,j){function _(X){return I(X=arguments.length===0?new Date:new Date(+X)),X}return _.floor=function(X){return I(X=new Date(+X)),X},_.ceil=function(X){return I(X=new Date(X-1)),z(X,1),I(X),X},_.round=function(X){var ut=_(X),Ct=_.ceil(X);return X-ut<Ct-X?ut:Ct},_.offset=function(X,ut){return z(X=new Date(+X),ut==null?1:Math.floor(ut)),X},_.range=function(X,ut,Ct){var At=[],Yt;if(X=_.ceil(X),Ct=Ct==null?1:Math.floor(Ct),!(X<ut)||!(Ct>0))return At;do At.push(Yt=new Date(+X)),z(X,Ct),I(X);while(Yt<X&&X<ut);return At},_.filter=function(X){return ia(function(ut){if(ut>=ut)for(;I(ut),!X(ut);)ut.setTime(ut-1)},function(ut,Ct){if(ut>=ut)if(Ct<0)for(;++Ct<=0;)for(;z(ut,-1),!X(ut););else for(;--Ct>=0;)for(;z(ut,1),!X(ut););})},F&&(_.count=function(X,ut){return Vi.setTime(+X),Hi.setTime(+ut),I(Vi),I(Hi),Math.floor(F(Vi,Hi))},_.every=function(X){return X=Math.floor(X),!isFinite(X)||!(X>0)?null:X>1?_.filter(j?function(ut){return j(ut)%X==0}:function(ut){return _.count(0,ut)%X==0}):_}),_}var Uo=ia(function(I){I.setMonth(0,1),I.setHours(0,0,0,0)},function(I,z){I.setFullYear(I.getFullYear()+z)},function(I,z){return z.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Uo.every=function(I){return!isFinite(I=Math.floor(I))||!(I>0)?null:ia(function(z){z.setFullYear(Math.floor(z.getFullYear()/I)*I),z.setMonth(0,1),z.setHours(0,0,0,0)},function(z,F){z.setFullYear(z.getFullYear()+F*I)})};var As=Uo,rl=Uo.range,Hu=ia(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,z){I.setMonth(I.getMonth()+z)},function(I,z){return z.getMonth()-I.getMonth()+(z.getFullYear()-I.getFullYear())*12},function(I){return I.getMonth()}),$u=Hu,Du=Hu.range,Fu=1e3,Cu=6e4,tf=36e5,_u=864e5,ef=6048e5;function Ml(I){return ia(function(z){z.setDate(z.getDate()-(z.getDay()+7-I)%7),z.setHours(0,0,0,0)},function(z,F){z.setDate(z.getDate()+F*7)},function(z,F){return(F-z-(F.getTimezoneOffset()-z.getTimezoneOffset())*Cu)/ef})}var lc=Ml(0),jf=Ml(1),Oh=Ml(2),Th=Ml(3),_l=Ml(4),wh=Ml(5),Ih=Ml(6),Id=lc.range,Ld=jf.range,Dd=Oh.range,Rd=Th.range,Nd=_l.range,Fd=wh.range,Bd=Ih.range,mc=ia(function(I){I.setHours(0,0,0,0)},function(I,z){I.setDate(I.getDate()+z)},function(I,z){return(z-I-(z.getTimezoneOffset()-I.getTimezoneOffset())*Cu)/_u},function(I){return I.getDate()-1}),fc=mc,jd=mc.range,yc=ia(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*Fu-I.getMinutes()*Cu)},function(I,z){I.setTime(+I+z*tf)},function(I,z){return(z-I)/tf},function(I){return I.getHours()}),Lh=yc,_d=yc.range,xc=ia(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*Fu)},function(I,z){I.setTime(+I+z*Cu)},function(I,z){return(z-I)/Cu},function(I){return I.getMinutes()}),Dh=xc,Ud=xc.range,Ec=ia(function(I){I.setTime(I-I.getMilliseconds())},function(I,z){I.setTime(+I+z*Fu)},function(I,z){return(z-I)/Fu},function(I){return I.getUTCSeconds()}),Rh=Ec,kd=Ec.range,_f=ia(function(){},function(I,z){I.setTime(+I+z)},function(I,z){return z-I});_f.every=function(I){return I=Math.floor(I),!isFinite(I)||!(I>0)?null:I>1?ia(function(z){z.setTime(Math.floor(z/I)*I)},function(z,F){z.setTime(+z+F*I)},function(z,F){return(F-z)/I}):_f};var Nh=_f,zd=_f.range;function Al(I){return ia(function(z){z.setUTCDate(z.getUTCDate()-(z.getUTCDay()+7-I)%7),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCDate(z.getUTCDate()+F*7)},function(z,F){return(F-z)/ef})}var Sc=Al(0),Uf=Al(1),Fh=Al(2),Bh=Al(3),Ul=Al(4),jh=Al(5),_h=Al(6),Zd=Sc.range,Wd=Uf.range,Gd=Fh.range,Vd=Bh.range,Hd=Ul.range,Yd=jh.range,Xd=_h.range,bc=ia(function(I){I.setUTCHours(0,0,0,0)},function(I,z){I.setUTCDate(I.getUTCDate()+z)},function(I,z){return(z-I)/_u},function(I){return I.getUTCDate()-1}),Cc=bc,Kd=bc.range,cc=ia(function(I){I.setUTCMonth(0,1),I.setUTCHours(0,0,0,0)},function(I,z){I.setUTCFullYear(I.getUTCFullYear()+z)},function(I,z){return z.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});cc.every=function(I){return!isFinite(I=Math.floor(I))||!(I>0)?null:ia(function(z){z.setUTCFullYear(Math.floor(z.getUTCFullYear()/I)*I),z.setUTCMonth(0,1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCFullYear(z.getUTCFullYear()+F*I)})};var rf=cc,$d=cc.range;function hc(I){if(0<=I.y&&I.y<100){var z=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);return z.setFullYear(I.y),z}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function vc(I){if(0<=I.y&&I.y<100){var z=new Date(Date.UTC(-1,I.m,I.d,I.H,I.M,I.S,I.L));return z.setUTCFullYear(I.y),z}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function nf(I,z,F){return{y:I,m:z,d:F,H:0,M:0,S:0,L:0}}function Uh(I){var z=I.dateTime,F=I.date,j=I.time,_=I.periods,X=I.days,ut=I.shortDays,Ct=I.months,At=I.shortMonths,Yt=af(_),me=of(_),fe=af(X),tr=of(X),dr=af(ut),tn=of(ut),yn=af(Ct),Wn=of(Ct),ii=af(At),bi=of(At),Bi={a:yd,A:xd,b:Ed,B:Sd,c:null,d:wc,e:wc,f:uv,g:yv,G:Ev,H:av,I:ov,j:sv,L:Ic,m:lv,M:fv,p:bd,q:Cd,Q:Bc,s:jc,S:cv,u:hv,U:vv,V:dv,w:pv,W:gv,x:null,X:null,y:mv,Y:xv,Z:Sv,"%":Fc},Ni={a:Md,A:Ad,b:Pd,B:Od,c:null,d:Dc,e:Dc,f:Av,g:Fv,G:jv,H:bv,I:Cv,j:Mv,L:Rc,m:Pv,M:Ov,p:Td,q:wd,Q:Bc,s:jc,S:Tv,u:wv,U:Iv,V:Lv,w:Dv,W:Rv,x:null,X:null,y:Nv,Y:Bv,Z:_v,"%":Fc},la={a:oo,A:Oo,b:ko,B:zs,c:Ju,d:Oc,e:Oc,f:ev,g:Pc,G:Ac,H:Tc,I:Tc,j:Qh,L:tv,m:$h,M:Jh,p:Ga,q:Kh,Q:nv,s:iv,S:qh,u:Gh,U:Vh,V:Hh,w:Wh,W:Yh,x:Vf,X:md,y:Pc,Y:Ac,Z:Xh,"%":rv};Bi.x=Ji(F,Bi),Bi.X=Ji(j,Bi),Bi.c=Ji(z,Bi),Ni.x=Ji(F,Ni),Ni.X=Ji(j,Ni),Ni.c=Ji(z,Ni);function Ji(Ma,To){return function(Ho){var zi=[],Uu=-1,Ps=0,zu=Ma.length,Zu,Pl,Ph;for(Ho instanceof Date||(Ho=new Date(+Ho));++Uu<zu;)Ma.charCodeAt(Uu)===37&&(zi.push(Ma.slice(Ps,Uu)),(Pl=Mc[Zu=Ma.charAt(++Uu)])!=null?Zu=Ma.charAt(++Uu):Pl=Zu==="e"?" ":"0",(Ph=To[Zu])&&(Zu=Ph(Ho,Pl)),zi.push(Zu),Ps=Uu+1);return zi.push(Ma.slice(Ps,Uu)),zi.join("")}}function qi(Ma,To){return function(Ho){var zi=nf(1900,void 0,1),Uu=Aa(zi,Ma,Ho+="",0),Ps,zu;if(Uu!=Ho.length)return null;if("Q"in zi)return new Date(zi.Q);if("s"in zi)return new Date(zi.s*1e3+("L"in zi?zi.L:0));if(To&&!("Z"in zi)&&(zi.Z=0),"p"in zi&&(zi.H=zi.H%12+zi.p*12),zi.m===void 0&&(zi.m="q"in zi?zi.q:0),"V"in zi){if(zi.V<1||zi.V>53)return null;"w"in zi||(zi.w=1),"Z"in zi?(Ps=vc(nf(zi.y,0,1)),zu=Ps.getUTCDay(),Ps=zu>4||zu===0?Uf.ceil(Ps):Uf(Ps),Ps=Cc.offset(Ps,(zi.V-1)*7),zi.y=Ps.getUTCFullYear(),zi.m=Ps.getUTCMonth(),zi.d=Ps.getUTCDate()+(zi.w+6)%7):(Ps=hc(nf(zi.y,0,1)),zu=Ps.getDay(),Ps=zu>4||zu===0?jf.ceil(Ps):jf(Ps),Ps=fc.offset(Ps,(zi.V-1)*7),zi.y=Ps.getFullYear(),zi.m=Ps.getMonth(),zi.d=Ps.getDate()+(zi.w+6)%7)}else("W"in zi||"U"in zi)&&("w"in zi||(zi.w="u"in zi?zi.u%7:"W"in zi?1:0),zu="Z"in zi?vc(nf(zi.y,0,1)).getUTCDay():hc(nf(zi.y,0,1)).getDay(),zi.m=0,zi.d="W"in zi?(zi.w+6)%7+zi.W*7-(zu+5)%7:zi.w+zi.U*7-(zu+6)%7);return"Z"in zi?(zi.H+=zi.Z/100|0,zi.M+=zi.Z%100,vc(zi)):hc(zi)}}function Aa(Ma,To,Ho,zi){for(var Uu=0,Ps=To.length,zu=Ho.length,Zu,Pl;Uu<Ps;){if(zi>=zu)return-1;if(Zu=To.charCodeAt(Uu++),Zu===37){if(Zu=To.charAt(Uu++),Pl=la[Zu in Mc?To.charAt(Uu++):Zu],!Pl||(zi=Pl(Ma,Ho,zi))<0)return-1}else if(Zu!=Ho.charCodeAt(zi++))return-1}return zi}function Ga(Ma,To,Ho){var zi=Yt.exec(To.slice(Ho));return zi?(Ma.p=me[zi[0].toLowerCase()],Ho+zi[0].length):-1}function oo(Ma,To,Ho){var zi=dr.exec(To.slice(Ho));return zi?(Ma.w=tn[zi[0].toLowerCase()],Ho+zi[0].length):-1}function Oo(Ma,To,Ho){var zi=fe.exec(To.slice(Ho));return zi?(Ma.w=tr[zi[0].toLowerCase()],Ho+zi[0].length):-1}function ko(Ma,To,Ho){var zi=ii.exec(To.slice(Ho));return zi?(Ma.m=bi[zi[0].toLowerCase()],Ho+zi[0].length):-1}function zs(Ma,To,Ho){var zi=yn.exec(To.slice(Ho));return zi?(Ma.m=Wn[zi[0].toLowerCase()],Ho+zi[0].length):-1}function Ju(Ma,To,Ho){return Aa(Ma,z,To,Ho)}function Vf(Ma,To,Ho){return Aa(Ma,F,To,Ho)}function md(Ma,To,Ho){return Aa(Ma,j,To,Ho)}function yd(Ma){return ut[Ma.getDay()]}function xd(Ma){return X[Ma.getDay()]}function Ed(Ma){return At[Ma.getMonth()]}function Sd(Ma){return Ct[Ma.getMonth()]}function bd(Ma){return _[+(Ma.getHours()>=12)]}function Cd(Ma){return 1+~~(Ma.getMonth()/3)}function Md(Ma){return ut[Ma.getUTCDay()]}function Ad(Ma){return X[Ma.getUTCDay()]}function Pd(Ma){return At[Ma.getUTCMonth()]}function Od(Ma){return Ct[Ma.getUTCMonth()]}function Td(Ma){return _[+(Ma.getUTCHours()>=12)]}function wd(Ma){return 1+~~(Ma.getUTCMonth()/3)}return{format:function(Ma){var To=Ji(Ma+="",Bi);return To.toString=function(){return Ma},To},parse:function(Ma){var To=qi(Ma+="",!1);return To.toString=function(){return Ma},To},utcFormat:function(Ma){var To=Ji(Ma+="",Ni);return To.toString=function(){return Ma},To},utcParse:function(Ma){var To=qi(Ma+="",!0);return To.toString=function(){return Ma},To}}}var Mc={"-":"",_:" ","0":"0"},Mu=/^\s*\d+/,kh=/^%/,zh=/[\\^$*+?|[\]().{}]/g;function Vo(I,z,F){var j=I<0?"-":"",_=(j?-I:I)+"",X=_.length;return j+(X<F?new Array(F-X+1).join(z)+_:_)}function Zh(I){return I.replace(zh,"\\$&")}function af(I){return new RegExp("^(?:"+I.map(Zh).join("|")+")","i")}function of(I){for(var z={},F=-1,j=I.length;++F<j;)z[I[F].toLowerCase()]=F;return z}function Wh(I,z,F){var j=Mu.exec(z.slice(F,F+1));return j?(I.w=+j[0],F+j[0].length):-1}function Gh(I,z,F){var j=Mu.exec(z.slice(F,F+1));return j?(I.u=+j[0],F+j[0].length):-1}function Vh(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.U=+j[0],F+j[0].length):-1}function Hh(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.V=+j[0],F+j[0].length):-1}function Yh(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.W=+j[0],F+j[0].length):-1}function Ac(I,z,F){var j=Mu.exec(z.slice(F,F+4));return j?(I.y=+j[0],F+j[0].length):-1}function Pc(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.y=+j[0]+(+j[0]>68?1900:2e3),F+j[0].length):-1}function Xh(I,z,F){var j=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(z.slice(F,F+6));return j?(I.Z=j[1]?0:-(j[2]+(j[3]||"00")),F+j[0].length):-1}function Kh(I,z,F){var j=Mu.exec(z.slice(F,F+1));return j?(I.q=j[0]*3-3,F+j[0].length):-1}function $h(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.m=j[0]-1,F+j[0].length):-1}function Oc(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.d=+j[0],F+j[0].length):-1}function Qh(I,z,F){var j=Mu.exec(z.slice(F,F+3));return j?(I.m=0,I.d=+j[0],F+j[0].length):-1}function Tc(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.H=+j[0],F+j[0].length):-1}function Jh(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.M=+j[0],F+j[0].length):-1}function qh(I,z,F){var j=Mu.exec(z.slice(F,F+2));return j?(I.S=+j[0],F+j[0].length):-1}function tv(I,z,F){var j=Mu.exec(z.slice(F,F+3));return j?(I.L=+j[0],F+j[0].length):-1}function ev(I,z,F){var j=Mu.exec(z.slice(F,F+6));return j?(I.L=Math.floor(j[0]/1e3),F+j[0].length):-1}function rv(I,z,F){var j=kh.exec(z.slice(F,F+1));return j?F+j[0].length:-1}function nv(I,z,F){var j=Mu.exec(z.slice(F));return j?(I.Q=+j[0],F+j[0].length):-1}function iv(I,z,F){var j=Mu.exec(z.slice(F));return j?(I.s=+j[0],F+j[0].length):-1}function wc(I,z){return Vo(I.getDate(),z,2)}function av(I,z){return Vo(I.getHours(),z,2)}function ov(I,z){return Vo(I.getHours()%12||12,z,2)}function sv(I,z){return Vo(1+fc.count(As(I),I),z,3)}function Ic(I,z){return Vo(I.getMilliseconds(),z,3)}function uv(I,z){return Ic(I,z)+"000"}function lv(I,z){return Vo(I.getMonth()+1,z,2)}function fv(I,z){return Vo(I.getMinutes(),z,2)}function cv(I,z){return Vo(I.getSeconds(),z,2)}function hv(I){var z=I.getDay();return z===0?7:z}function vv(I,z){return Vo(lc.count(As(I)-1,I),z,2)}function Lc(I){var z=I.getDay();return z>=4||z===0?_l(I):_l.ceil(I)}function dv(I,z){return I=Lc(I),Vo(_l.count(As(I),I)+(As(I).getDay()===4),z,2)}function pv(I){return I.getDay()}function gv(I,z){return Vo(jf.count(As(I)-1,I),z,2)}function mv(I,z){return Vo(I.getFullYear()%100,z,2)}function yv(I,z){return I=Lc(I),Vo(I.getFullYear()%100,z,2)}function xv(I,z){return Vo(I.getFullYear()%1e4,z,4)}function Ev(I,z){var F=I.getDay();return I=F>=4||F===0?_l(I):_l.ceil(I),Vo(I.getFullYear()%1e4,z,4)}function Sv(I){var z=I.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+Vo(z/60|0,"0",2)+Vo(z%60,"0",2)}function Dc(I,z){return Vo(I.getUTCDate(),z,2)}function bv(I,z){return Vo(I.getUTCHours(),z,2)}function Cv(I,z){return Vo(I.getUTCHours()%12||12,z,2)}function Mv(I,z){return Vo(1+Cc.count(rf(I),I),z,3)}function Rc(I,z){return Vo(I.getUTCMilliseconds(),z,3)}function Av(I,z){return Rc(I,z)+"000"}function Pv(I,z){return Vo(I.getUTCMonth()+1,z,2)}function Ov(I,z){return Vo(I.getUTCMinutes(),z,2)}function Tv(I,z){return Vo(I.getUTCSeconds(),z,2)}function wv(I){var z=I.getUTCDay();return z===0?7:z}function Iv(I,z){return Vo(Sc.count(rf(I)-1,I),z,2)}function Nc(I){var z=I.getUTCDay();return z>=4||z===0?Ul(I):Ul.ceil(I)}function Lv(I,z){return I=Nc(I),Vo(Ul.count(rf(I),I)+(rf(I).getUTCDay()===4),z,2)}function Dv(I){return I.getUTCDay()}function Rv(I,z){return Vo(Uf.count(rf(I)-1,I),z,2)}function Nv(I,z){return Vo(I.getUTCFullYear()%100,z,2)}function Fv(I,z){return I=Nc(I),Vo(I.getUTCFullYear()%100,z,2)}function Bv(I,z){return Vo(I.getUTCFullYear()%1e4,z,4)}function jv(I,z){var F=I.getUTCDay();return I=F>=4||F===0?Ul(I):Ul.ceil(I),Vo(I.getUTCFullYear()%1e4,z,4)}function _v(){return"+0000"}function Fc(){return"%"}function Bc(I){return+I}function jc(I){return Math.floor(+I/1e3)}var kl,_c,Uv,kv,zv;Zv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zv(I){return kl=Uh(I),_c=kl.format,Uv=kl.parse,kv=kl.utcFormat,zv=kl.utcParse,kl}var sf=1e3,uf=sf*60,lf=uf*60,ff=lf*24,Wv=ff*7,Uc=ff*30,dc=ff*365;function Gv(I){return new Date(I)}function Vv(I){return I instanceof Date?+I:+new Date(+I)}function kc(I,z,F,j,_,X,ut,Ct,At){var Yt=ka(ao,ao),me=Yt.invert,fe=Yt.domain,tr=At(".%L"),dr=At(":%S"),tn=At("%I:%M"),yn=At("%I %p"),Wn=At("%a %d"),ii=At("%b %d"),bi=At("%B"),Bi=At("%Y"),Ni=[[ut,1,sf],[ut,5,5*sf],[ut,15,15*sf],[ut,30,30*sf],[X,1,uf],[X,5,5*uf],[X,15,15*uf],[X,30,30*uf],[_,1,lf],[_,3,3*lf],[_,6,6*lf],[_,12,12*lf],[j,1,ff],[j,2,2*ff],[F,1,Wv],[z,1,Uc],[z,3,3*Uc],[I,1,dc]];function la(qi){return(ut(qi)<qi?tr:X(qi)<qi?dr:_(qi)<qi?tn:j(qi)<qi?yn:z(qi)<qi?F(qi)<qi?Wn:ii:I(qi)<qi?bi:Bi)(qi)}function Ji(qi,Aa,Ga,oo){if(qi==null&&(qi=10),typeof qi=="number"){var Oo=Math.abs(Ga-Aa)/qi,ko=Df(function(zs){return zs[2]}).right(Ni,Oo);ko===Ni.length?(oo=Zn(Aa/dc,Ga/dc,qi),qi=I):ko?(ko=Ni[Oo/Ni[ko-1][2]<Ni[ko][2]/Oo?ko-1:ko],oo=ko[1],qi=ko[0]):(oo=Math.max(Zn(Aa,Ga,qi),1),qi=Ct)}return oo==null?qi:qi.every(oo)}return Yt.invert=function(qi){return new Date(me(qi))},Yt.domain=function(qi){return arguments.length?fe(Si.call(qi,Vv)):fe().map(Gv)},Yt.ticks=function(qi,Aa){var Ga=fe(),oo=Ga[0],Oo=Ga[Ga.length-1],ko=Oo<oo,zs;return ko&&(zs=oo,oo=Oo,Oo=zs),zs=Ji(qi,oo,Oo,Aa),zs=zs?zs.range(oo,Oo+1):[],ko?zs.reverse():zs},Yt.tickFormat=function(qi,Aa){return Aa==null?la:At(Aa)},Yt.nice=function(qi,Aa){var Ga=fe();return(qi=Ji(qi,Ga[0],Ga[Ga.length-1],Aa))?fe(fn(Ga,qi)):Yt},Yt.copy=function(){return $s(Yt,kc(I,z,F,j,_,X,ut,Ct,At))},Yt}function Hv(){return mi.apply(kc(As,$u,lc,fc,Lh,Dh,Rh,Nh,_c).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qd(){return initRange.apply(calendar(utcYear,utcMonth,utcWeek,utcDay,utcHour,utcMinute,utcSecond,utcMillisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kf(){var I=0,z=1,F,j,_,X,ut=identity,Ct=!1,At;function Yt(me){return isNaN(me=+me)?At:ut(_===0?.5:(me=(X(me)-F)*_,Ct?Math.max(0,Math.min(1,me)):me))}return Yt.domain=function(me){return arguments.length?(F=X(I=+me[0]),j=X(z=+me[1]),_=F===j?0:1/(j-F),Yt):[I,z]},Yt.clamp=function(me){return arguments.length?(Ct=!!me,Yt):Ct},Yt.interpolator=function(me){return arguments.length?(ut=me,Yt):ut},Yt.unknown=function(me){return arguments.length?(At=me,Yt):At},function(me){return X=me,F=me(I),j=me(z),_=F===j?0:1/(j-F),Yt}}function zf(I,z){return z.domain(I.domain()).interpolator(I.interpolator()).clamp(I.clamp()).unknown(I.unknown())}function Yv(){var I=linearish(kf()(identity));return I.copy=function(){return zf(I,Yv())},initInterpolator.apply(I,arguments)}function Xv(){var I=loggish(kf()).domain([1,10]);return I.copy=function(){return zf(I,Xv()).base(I.base())},initInterpolator.apply(I,arguments)}function Kv(){var I=symlogish(kf());return I.copy=function(){return zf(I,Kv()).constant(I.constant())},initInterpolator.apply(I,arguments)}function zc(){var I=powish(kf());return I.copy=function(){return zf(I,zc()).exponent(I.exponent())},initInterpolator.apply(I,arguments)}function Jd(){return zc.apply(null,arguments).exponent(.5)}function $v(){var I=[],z=identity;function F(j){if(!isNaN(j=+j))return z((bisect(I,j)-1)/(I.length-1))}return F.domain=function(j){if(!arguments.length)return I.slice();I=[];for(var _=0,X=j.length,ut;_<X;++_)ut=j[_],ut!=null&&!isNaN(ut=+ut)&&I.push(ut);return I.sort(ascending),F},F.interpolator=function(j){return arguments.length?(z=j,F):z},F.copy=function(){return $v(z).domain(I)},initInterpolator.apply(F,arguments)}function Zf(){var I=0,z=.5,F=1,j,_,X,ut,Ct,At=identity,Yt,me=!1,fe;function tr(dr){return isNaN(dr=+dr)?fe:(dr=.5+((dr=+Yt(dr))-_)*(dr<_?ut:Ct),At(me?Math.max(0,Math.min(1,dr)):dr))}return tr.domain=function(dr){return arguments.length?(j=Yt(I=+dr[0]),_=Yt(z=+dr[1]),X=Yt(F=+dr[2]),ut=j===_?0:.5/(_-j),Ct=_===X?0:.5/(X-_),tr):[I,z,F]},tr.clamp=function(dr){return arguments.length?(me=!!dr,tr):me},tr.interpolator=function(dr){return arguments.length?(At=dr,tr):At},tr.unknown=function(dr){return arguments.length?(fe=dr,tr):fe},function(dr){return Yt=dr,j=dr(I),_=dr(z),X=dr(F),ut=j===_?0:.5/(_-j),Ct=_===X?0:.5/(X-_),tr}}function Qv(){var I=linearish(Zf()(identity));return I.copy=function(){return copy(I,Qv())},initInterpolator.apply(I,arguments)}function Jv(){var I=loggish(Zf()).domain([.1,1,10]);return I.copy=function(){return copy(I,Jv()).base(I.base())},initInterpolator.apply(I,arguments)}function qv(){var I=symlogish(Zf());return I.copy=function(){return copy(I,qv()).constant(I.constant())},initInterpolator.apply(I,arguments)}function Zc(){var I=powish(Zf());return I.copy=function(){return copy(I,Zc()).exponent(I.exponent())},initInterpolator.apply(I,arguments)}function qd(){return Zc.apply(null,arguments).exponent(.5)}var Qu,Wc,Gc,Vc,pc,Hc,td=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,ed=(Qu={},(0,O.Z)(Qu,Rt.vY.LINEAR,ir),(0,O.Z)(Qu,Rt.vY.POWER,Pi),(0,O.Z)(Qu,Rt.vY.LOG,Nr),(0,O.Z)(Qu,Rt.vY.IDENTITY,xn),(0,O.Z)(Qu,Rt.vY.TIME,Hv),(0,O.Z)(Qu,Rt.vY.QUANTILE,Xi),(0,O.Z)(Qu,Rt.vY.QUANTIZE,_i),(0,O.Z)(Qu,Rt.vY.THRESHOLD,Gi),(0,O.Z)(Qu,Rt.vY.CAT,xa),Qu),rd=(Wc=(0,$a.b2)(),Gc=(0,$a.f3)(Rt.vK.IGlobalConfigService),Wc(Vc=(pc=function(){function I(){(0,Se.Z)(this,I),(0,Ao.Z)(this,"configService",Hc,this),(0,O.Z)(this,"scaleCache",{}),(0,O.Z)(this,"scaleOptions",{})}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=this,X=j.styleAttributeService;F.hooks.init.tap("FeatureScalePlugin",function(){_.scaleOptions=F.getScaleOptions();var ut=X.getLayerStyleAttributes(),Ct=F.getSource().data.dataArray;Ct.length!==0&&_.caculateScalesForAttributes(ut||[],Ct)}),F.hooks.beforeRenderData.tap("FeatureScalePlugin",function(){_.scaleOptions=F.getScaleOptions();var ut=X.getLayerStyleAttributes(),Ct=F.getSource().data.dataArray;return _.caculateScalesForAttributes(ut||[],Ct),F.layerModelNeedUpdate=!0,!0}),F.hooks.beforeRender.tap("FeatureScalePlugin",function(){if(!F.layerModelNeedUpdate){_.scaleOptions=F.getScaleOptions();var ut=X.getLayerStyleAttributes();if(ut){var Ct=F.getSource().data.dataArray;if(Ct.length===0)return;var At=ut.filter(function(Yt){return Yt.needRescale});At.length&&_.caculateScalesForAttributes(At,Ct)}}})}},{key:"isNumber",value:function(F){return!isNaN(parseFloat(F))&&isFinite(F)}},{key:"caculateScalesForAttributes",value:function(F,j){var _=this;this.scaleCache={},F.forEach(function(X){if(X.scale){var ut=X.scale,Ct=X.name;ut.names=_.parseFields(X.scale.field||[]);var At=[];ut.names.forEach(function(Yt){At.push(_.getOrCreateScale(Yt,X,j))}),At.some(function(Yt){return Yt.type===Rt.ee.VARIABLE})?(ut.type=Rt.ee.VARIABLE,At.forEach(function(Yt){if(!ut.callback){var me;if(ut.values&&ut.values!=="text"){var fe;if(((fe=Yt.option)===null||fe===void 0?void 0:fe.type)==="linear"&&ut.values.length>2){var tr=Yt.scale.ticks(ut.values.length);Ct==="color"&&Yt.scale.domain(tr)}Yt.scale.range(ut.values)}else((me=Yt.option)===null||me===void 0?void 0:me.type)==="cat"&&Yt.scale.range(Yt.option.domain)}})):(ut.type=Rt.ee.CONSTANT,ut.defaultValues=At.map(function(Yt,me){return Yt.scale(ut.names[me])})),ut.scalers=At.map(function(Yt){return{field:Yt.field,func:Yt.scale,option:Yt.option}}),X.needRescale=!1}})}},{key:"getOrCreateScale",value:function(F,j,_){var X,ut=[F,j.name].join("_"),Ct=(X=j.scale)===null||X===void 0?void 0:X.values,At=this.createScale(F,j.name,Ct,_);return At}},{key:"parseFields",value:function(F){return Array.isArray(F)?F:gn()(F)?F.split("*"):[F]}},{key:"createScale",value:function(F,j,_,X){var ut,Ct,At=this.scaleOptions[j]&&((ut=this.scaleOptions[j])===null||ut===void 0?void 0:ut.field)===F?this.scaleOptions[j]:this.scaleOptions[F],Yt={field:F,scale:void 0,type:Rt.ee.VARIABLE,option:At};if(!X||!X.length)return At&&At.type?Yt.scale=this.createDefaultScale(At):(Yt.scale=xa([F]),Yt.type=Rt.ee.CONSTANT),Yt;var me=(Ct=X.find(function(dr){return!Lf()(dr[F])}))===null||Ct===void 0?void 0:Ct[F];if(this.isNumber(F)||Lf()(me)&&!At)Yt.scale=xa([F]),Yt.type=Rt.ee.CONSTANT;else{var fe=At&&At.type||this.getDefaultType(me);_==="text"&&(fe=Rt.vY.CAT);var tr=this.createDefaultScaleConfig(fe,F,X);Object.assign(tr,At),Yt.scale=this.createDefaultScale(tr),Yt.option=tr}return Yt}},{key:"getDefaultType",value:function(F){var j=Rt.vY.LINEAR;return typeof F=="string"&&(j=td.test(F)?Rt.vY.TIME:Rt.vY.CAT),j}},{key:"createDefaultScaleConfig",value:function(F,j,_){var X={type:F},ut=(_==null?void 0:_.map(function(Ct){return Ct[j]}))||[];return F!==Rt.vY.CAT&&F!==Rt.vY.QUANTILE?X.domain=Ff(ut):F===Rt.vY.CAT?X.domain=sc()(ut):F===Rt.vY.QUANTILE&&(X.domain=ut),X}},{key:"createDefaultScale",value:function(F){var j=F.type,_=F.domain,X=ed[j]();return _&&X.domain(_),X}}]),I}(),Hc=(0,cs.Z)(pc.prototype,"configService",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc))||Vc),Yc,Xc,Kc,$c,Wf,Qc,Jc;function qc(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function nd(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?qc(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):qc(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var id=(Yc=(0,$a.b2)(),Xc=(0,$a.f3)(Rt.vK.ICameraService),Kc=(0,$a.f3)(Rt.vK.IRendererService),Yc($c=(Wf=function(){function I(){(0,Se.Z)(this,I),(0,Ao.Z)(this,"cameraService",Qc,this),(0,Ao.Z)(this,"rendererService",Jc,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("LayerAnimateStylePlugin",function(){F.models.forEach(function(j){j.addUniforms(nd({},F.layerModel.getAnimateUniforms()))})})}}]),I}(),Qc=(0,cs.Z)(Wf.prototype,"cameraService",[Xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jc=(0,cs.Z)(Wf.prototype,"rendererService",[Kc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wf))||$c),th,eh,ad=(th=(0,$a.b2)(),th(eh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.init.tap("LayerModelPlugin",function(){F.prepareBuildModel(),F.buildModels(),F.styleNeedUpdate=!1}),F.hooks.beforeRenderData.tap("DataSourcePlugin",function(){return F.prepareBuildModel(),F.clearModels(),F.buildModels(),F.layerModelNeedUpdate=!1,!1})}}]),I}())||eh),rh,nh,od=(rh=(0,$a.b2)(),rh(nh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.afterInit.tap("LayerStylePlugin",function(){F.updateLayerConfig({});var j=F.getLayerConfig(),_=j.autoFit,X=j.fitBoundsOptions;_&&setTimeout(function(){F.fitBounds(X)},100)})}}]),I}())||nh),ih,ah;function oh(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);z&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,j)}return F}function cf(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?oh(Object(F),!0).forEach(function(j){(0,O.Z)(I,j,F[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):oh(Object(F)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(F,j))})}return I}var sh={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},sd={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},ud={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},ld={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5},t0=null;function fd(I){var z={u_DirectionalLights:new Array(3).fill(cf({},ud)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(cf({},ld)),u_NumOfSpotLights:0};return(!I||!I.length)&&(I=[sd]),I.forEach(function(F,j){var _=F.type,X=_===void 0?"directional":_,ut=(0,Gs.Z)(F,["type"]),Ct=sh[X].lights,At=sh[X].num,Yt=z[At];z[Ct][Yt]=cf(cf({},z[Ct][Yt]),ut),z[At]++}),z}var cd=(ih=(0,$a.b2)(),ih(ah=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("LightingPlugin",function(){var j=F.getLayerConfig(),_=j.enableLighting;_&&F.models.forEach(function(X){return X.addUniforms(cf({},fd()))})})}}]),I}())||ah),uh,lh,Gf={NONE:0,ENCODE:1,HIGHLIGHT:2},hd=(uh=(0,$a.b2)(),uh(lh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=j.rendererService,X=j.styleAttributeService;F.hooks.init.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),Ct=ut.enablePicking;X.registerStyleAttribute({name:"pickingColor",type:Rt.GC.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:Rt.gl.FLOAT},size:3,update:function(Yt,me){var fe=Yt.id;return Ct?(0,Ir.Z6)(fe):[0,0,0]}}})}),F.hooks.beforePickingEncode.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),Ct=ut.enablePicking;Ct&&F.isVisible()&&F.models.forEach(function(At){return At.addUniforms({u_PickingStage:Gf.ENCODE})})}),F.hooks.afterPickingEncode.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),Ct=ut.enablePicking;Ct&&F.isVisible()&&F.models.forEach(function(At){return At.addUniforms({u_PickingStage:Gf.HIGHLIGHT})})}),F.hooks.beforeHighlight.tap("PixelPickingPlugin",function(ut){var Ct=F.getLayerConfig(),At=Ct.highlightColor,Yt=typeof At=="string"?(0,Ir.CI)(At):At||[1,0,0,1];F.updateLayerConfig({pickedFeatureID:(0,Ir.W0)(new Uint8Array(ut))}),F.models.forEach(function(me){return me.addUniforms({u_PickingStage:Gf.HIGHLIGHT,u_PickingColor:ut,u_HighlightColor:Yt.map(function(fe){return fe*255})})})}),F.hooks.beforeSelect.tap("PixelPickingPlugin",function(ut){var Ct=F.getLayerConfig(),At=Ct.selectColor,Yt=typeof At=="string"?(0,Ir.CI)(At):At||[1,0,0,1];F.updateLayerConfig({pickedFeatureID:(0,Ir.W0)(new Uint8Array(ut))}),F.models.forEach(function(me){return me.addUniforms({u_PickingStage:Gf.HIGHLIGHT,u_PickingColor:ut,u_HighlightColor:Yt.map(function(fe){return fe*255})})})})}}]),I}())||lh),fh,ch,vd=(fh=(0,$a.b2)(),fh(ch=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=this,X=j.styleAttributeService;F.hooks.init.tap("RegisterStyleAttributePlugin",function(){_.registerBuiltinAttributes(X)})}},{key:"registerBuiltinAttributes",value:function(F){F.registerStyleAttribute({name:"position",type:Rt.GC.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:Rt.gl.FLOAT},size:3,update:function(_,X,ut){return ut.length===2?[ut[0],ut[1],0]:[ut[0],ut[1],ut[2]]}}}),F.registerStyleAttribute({name:"filter",type:Rt.GC.Attribute,descriptor:{name:"filter",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(_,X){var ut=_.filter;return ut?[1]:[0]}}}),F.registerStyleAttribute({name:"color",type:Rt.GC.Attribute,descriptor:{name:"a_Color",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(_,X){var ut=_.color;return!ut||!ut.length?[1,1,1,1]:ut}}}),F.registerStyleAttribute({name:"vertexId",type:Rt.GC.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(_,X,ut,Ct){return[X]}}})}}]),I}())||ch),hh,vh,dh,ph,gh,mh,zl,yh,xh,Eh,Sh,dd=(hh=(0,$a.b2)(),vh=(0,$a.f3)(Rt.vK.ICameraService),dh=(0,$a.f3)(Rt.vK.ICoordinateSystemService),ph=(0,$a.f3)(Rt.vK.IRendererService),gh=(0,$a.f3)(Rt.vK.IMapService),hh(mh=(zl=function(){function I(){(0,Se.Z)(this,I),(0,Ao.Z)(this,"cameraService",yh,this),(0,Ao.Z)(this,"coordinateSystemService",xh,this),(0,Ao.Z)(this,"rendererService",Eh,this),(0,Ao.Z)(this,"mapService",Sh,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){var j=this,_=this.mapService.version,X=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ut=[0,0];F.hooks.beforeRender.tap("ShaderUniformPlugin",function(){j.coordinateSystemService.refresh(),_==="GAODE2.x"&&(X=j.mapService.map.customCoords.getMVPMatrix(),ut=j.mapService.getCustomCoordCenter());var Ct=j.rendererService.getViewportSize(),At=Ct.width,Yt=Ct.height;F.models.forEach(function(me){var fe;me.addUniforms((fe={},(0,O.Z)(fe,Rt.CameraUniform.ProjectionMatrix,j.cameraService.getProjectionMatrix()),(0,O.Z)(fe,Rt.CameraUniform.ViewMatrix,j.cameraService.getViewMatrix()),(0,O.Z)(fe,Rt.CameraUniform.ViewProjectionMatrix,j.cameraService.getViewProjectionMatrix()),(0,O.Z)(fe,Rt.CameraUniform.Zoom,j.cameraService.getZoom()),(0,O.Z)(fe,Rt.CameraUniform.ZoomScale,j.cameraService.getZoomScale()),(0,O.Z)(fe,Rt.CameraUniform.FocalDistance,j.cameraService.getFocalDistance()),(0,O.Z)(fe,Rt.CameraUniform.CameraPosition,j.cameraService.getCameraPosition()),(0,O.Z)(fe,Rt.CoordinateUniform.CoordinateSystem,j.coordinateSystemService.getCoordinateSystem()),(0,O.Z)(fe,Rt.CoordinateUniform.ViewportCenter,j.coordinateSystemService.getViewportCenter()),(0,O.Z)(fe,Rt.CoordinateUniform.ViewportCenterProjection,j.coordinateSystemService.getViewportCenterProjection()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerDegree,j.coordinateSystemService.getPixelsPerDegree()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerDegree2,j.coordinateSystemService.getPixelsPerDegree2()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerMeter,j.coordinateSystemService.getPixelsPerMeter()),(0,O.Z)(fe,Rt.CoordinateUniform.Mvp,X),(0,O.Z)(fe,"u_SceneCenterMKT",ut),(0,O.Z)(fe,"u_ViewportSize",[At,Yt]),(0,O.Z)(fe,"u_DevicePixelRatio",window.devicePixelRatio),(0,O.Z)(fe,"u_ModelMatrix",j.cameraService.getModelMatrix()),(0,O.Z)(fe,"u_PickingBuffer",F.getLayerConfig().pickingBuffer||0),fe))})})}}]),I}(),yh=(0,cs.Z)(zl.prototype,"cameraService",[vh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=(0,cs.Z)(zl.prototype,"coordinateSystemService",[dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=(0,cs.Z)(zl.prototype,"rendererService",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=(0,cs.Z)(zl.prototype,"mapService",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl))||mh),bh,Ch,pd=(bh=(0,$a.b2)(),bh(Ch=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("UpdateModelPlugin",function(){F.layerModel&&F.layerModel.needUpdate()})}}]),I}())||Ch),Mh,Ah,gd=(Mh=(0,$a.b2)(),Mh(Ah=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,j){var _=this,X=j.styleAttributeService;F.hooks.init.tap("UpdateStyleAttributePlugin",function(){_.initStyleAttribute(F,{styleAttributeService:X})}),F.hooks.beforeRender.tap("UpdateStyleAttributePlugin",function(){F.layerModelNeedUpdate||_.updateStyleAtrribute(F,{styleAttributeService:X})})}},{key:"updateStyleAtrribute",value:function(F,j){var _=j.styleAttributeService,X=_.getLayerStyleAttributes()||[],ut=_.getLayerStyleAttribute("filter"),Ct=_.getLayerStyleAttribute("shape");if(ut&&ut.needRegenerateVertices||Ct&&Ct.needRegenerateVertices){F.layerModelNeedUpdate=!0,X.forEach(function(At){return At.needRegenerateVertices=!1});return}X.filter(function(At){return At.needRegenerateVertices}).forEach(function(At){_.updateAttributeByFeatureRange(At.name,F.getEncodedData(),At.featureRange.startIndex,At.featureRange.endIndex),At.needRegenerateVertices=!1})}},{key:"initStyleAttribute",value:function(F,j){var _=j.styleAttributeService,X=_.getLayerStyleAttributes()||[];X.filter(function(ut){return ut.needRegenerateVertices}).forEach(function(ut){_.updateAttributeByFeatureRange(ut.name,F.getEncodedData(),ut.featureRange.startIndex,ut.featureRange.endIndex),ut.needRegenerateVertices=!1})}}]),I}())||Ah);Rt.nC.bind(Rt.vK.ILayerPlugin).to(oc).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(vd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(rd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(ac).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(od).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(gd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(pd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(Hs).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(dd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(id).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(cd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(hd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(ad).inRequestScope();var e0="2.5.40"},3473:function(gr,P,x){"use strict";x.d(P,{Z:function(){return i}});function i(t,c,s,v,o){var f={};return Object.keys(v).forEach(function(r){f[r]=v[r]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=s.slice().reverse().reduce(function(r,e){return e(t,c,r)||r},f),o&&f.initializer!==void 0&&(f.value=f.initializer?f.initializer.call(o):void 0,f.initializer=void 0),f.initializer===void 0&&(Object.defineProperty(t,c,f),f=null),f}},55770:function(gr,P,x){"use strict";x.d(P,{Z:function(){return i}});function i(t,c,s,v){!s||Object.defineProperty(t,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(v):void 0})}},31795:function(gr,P,x){var i=x(75752);gr.exports.geometry=t,gr.exports.ring=s;function t(o){var f=0,r;switch(o.type){case"Polygon":return c(o.coordinates);case"MultiPolygon":for(r=0;r<o.coordinates.length;r++)f+=c(o.coordinates[r]);return f;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)f+=t(o.geometries[r]);return f}}function c(o){var f=0;if(o&&o.length>0){f+=Math.abs(s(o[0]));for(var r=1;r<o.length;r++)f-=Math.abs(s(o[r]))}return f}function s(o){var f,r,e,n,a,u,l,h=0,p=o.length;if(p>2){for(l=0;l<p;l++)l===p-2?(n=p-2,a=p-1,u=0):l===p-1?(n=p-1,a=0,u=1):(n=l,a=l+1,u=l+2),f=o[n],r=o[a],e=o[u],h+=(v(e[0])-v(f[0]))*Math.sin(v(r[1]));h=h*i.RADIUS*i.RADIUS/2}return h}function v(o){return o*Math.PI/180}},49296:function(gr){"use strict";gr.exports=x,gr.exports.default=x;var P=1e20;function x(v,o,f,r,e,n){this.fontSize=v||24,this.buffer=o===void 0?3:o,this.cutoff=r||.25,this.fontFamily=e||"sans-serif",this.fontWeight=n||"normal",this.radius=f||8;var a=this.size=this.fontSize+this.buffer*2,u=a+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(u*u),this.gridInner=new Float64Array(u*u),this.f=new Float64Array(u),this.z=new Float64Array(u+1),this.v=new Uint16Array(u),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(v,o,f,r,e,n,a){n.fill(P,0,o*f),a.fill(0,0,o*f);for(var u=(o-r)/2,l=0;l<e;l++)for(var h=0;h<r;h++){var p=(l+u)*o+h+u,d=v.data[4*(l*r+h)+3]/255;if(d===1)n[p]=0,a[p]=P;else if(d===0)n[p]=P,a[p]=0;else{var g=Math.max(0,.5-d),y=Math.max(0,d-.5);n[p]=g*g,a[p]=y*y}}}function t(v,o,f,r,e,n,a){for(var u=0;u<o*f;u++){var l=Math.sqrt(r[u])-Math.sqrt(e[u]);v[u]=Math.round(255-255*(l/n+a))}}x.prototype._draw=function(v,o){var f=this.ctx.measureText(v),r=f.width,e=2*this.buffer,n,a,u,l,h,p,d,g;o&&this.useMetrics?(h=Math.floor(f.actualBoundingBoxAscent),g=this.buffer+Math.ceil(f.actualBoundingBoxAscent),p=this.buffer,d=this.buffer,a=Math.min(this.size,Math.ceil(f.actualBoundingBoxRight-f.actualBoundingBoxLeft)),l=Math.min(this.size-p,Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent)),n=a+e,u=l+e,this.ctx.textBaseline="alphabetic"):(n=a=this.size,u=l=this.size,h=19*this.fontSize/24,p=d=0,g=this.middle,this.ctx.textBaseline="middle");var y;a&&l&&(this.ctx.clearRect(d,p,a,l),this.ctx.fillText(v,this.buffer,g),y=this.ctx.getImageData(d,p,a,l));var E=new Uint8ClampedArray(n*u);return i(y,n,u,a,l,this.gridOuter,this.gridInner),c(this.gridOuter,n,u,this.f,this.v,this.z),c(this.gridInner,n,u,this.f,this.v,this.z),t(E,n,u,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:E,metrics:{width:a,height:l,sdfWidth:n,sdfHeight:u,top:h,left:0,advance:r}}},x.prototype.draw=function(v){return this._draw(v,!1).data},x.prototype.drawWithMetrics=function(v){return this._draw(v,!0)};function c(v,o,f,r,e,n){for(var a=0;a<o;a++)s(v,a,o,f,r,e,n);for(var u=0;u<f;u++)s(v,u*o,1,o,r,e,n)}function s(v,o,f,r,e,n,a){var u,l,h,p;for(n[0]=0,a[0]=-P,a[1]=P,u=0;u<r;u++)e[u]=v[o+u*f];for(u=1,l=0,h=0;u<r;u++){do p=n[l],h=(e[u]-e[p]+u*u-p*p)/(u-p)/2;while(h<=a[l]&&--l>-1);l++,n[l]=u,a[l]=h,a[l+1]=P}for(u=0,l=0;u<r;u++){for(;a[l+1]<u;)l++;p=n[l],v[o+u*f]=e[p]+(u-p)*(u-p)}}},60674:function(){},29504:function(){},57719:function(){},18067:function(){},81903:function(){},38272:function(gr,P,x){"use strict";x.d(P,{ZM:function(){return M},ZP:function(){return A}});var i=x(85061),t=x(22122),c=x(96156),s=x(28481),v=x(90484),o=x(67294),f=x(94184),r=x.n(f),e=x(11382),n=x(25378),a=x(24308),u=x(65632),l=x(40308),h=x(92820),p=x(21584),d=x(96159),g=function(T,O){var D={};for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&O.indexOf(L)<0&&(D[L]=T[L]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,L=Object.getOwnPropertySymbols(T);Z<L.length;Z++)O.indexOf(L[Z])<0&&Object.prototype.propertyIsEnumerable.call(T,L[Z])&&(D[L[Z]]=T[L[Z]]);return D},y=function(O){var D=O.prefixCls,L=O.className,Z=O.avatar,U=O.title,Y=O.description,W=g(O,["prefixCls","className","avatar","title","description"]),J=o.useContext(u.E_),ht=J.getPrefixCls,nt=ht("list",D),Q=r()("".concat(nt,"-item-meta"),L),xt=o.createElement("div",{className:"".concat(nt,"-item-meta-content")},U&&o.createElement("h4",{className:"".concat(nt,"-item-meta-title")},U),Y&&o.createElement("div",{className:"".concat(nt,"-item-meta-description")},Y));return o.createElement("div",(0,t.Z)({},W,{className:Q}),Z&&o.createElement("div",{className:"".concat(nt,"-item-meta-avatar")},Z),(U||Y)&&xt)},E=function(O){var D=O.prefixCls,L=O.children,Z=O.actions,U=O.extra,Y=O.className,W=O.colStyle,J=g(O,["prefixCls","children","actions","extra","className","colStyle"]),ht=o.useContext(M),nt=ht.grid,Q=ht.itemLayout,xt=o.useContext(u.E_),_t=xt.getPrefixCls,Nt=function(){var ft;return o.Children.forEach(L,function(ct){typeof ct=="string"&&(ft=!0)}),ft&&o.Children.count(L)>1},rt=function(){return Q==="vertical"?!!U:!Nt()},q=_t("list",D),G=Z&&Z.length>0&&o.createElement("ul",{className:"".concat(q,"-item-action"),key:"actions"},Z.map(function(H,ft){return o.createElement("li",{key:"".concat(q,"-item-action-").concat(ft)},H,ft!==Z.length-1&&o.createElement("em",{className:"".concat(q,"-item-action-split")}))})),N=nt?"div":"li",at=o.createElement(N,(0,t.Z)({},J,{className:r()("".concat(q,"-item"),(0,c.Z)({},"".concat(q,"-item-no-flex"),!rt()),Y)}),Q==="vertical"&&U?[o.createElement("div",{className:"".concat(q,"-item-main"),key:"content"},L,G),o.createElement("div",{className:"".concat(q,"-item-extra"),key:"extra"},U)]:[L,G,(0,d.Tm)(U,{key:"extra"})]);return nt?o.createElement(p.Z,{flex:1,style:W},at):at};E.Meta=y;var C=E,m=function(T,O){var D={};for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&O.indexOf(L)<0&&(D[L]=T[L]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,L=Object.getOwnPropertySymbols(T);Z<L.length;Z++)O.indexOf(L[Z])<0&&Object.prototype.propertyIsEnumerable.call(T,L[Z])&&(D[L[Z]]=T[L[Z]]);return D},M=o.createContext({}),b=M.Consumer;function S(T){var O,D=T.pagination,L=D===void 0?!1:D,Z=T.prefixCls,U=T.bordered,Y=U===void 0?!1:U,W=T.split,J=W===void 0?!0:W,ht=T.className,nt=T.children,Q=T.itemLayout,xt=T.loadMore,_t=T.grid,Nt=T.dataSource,rt=Nt===void 0?[]:Nt,q=T.size,G=T.header,N=T.footer,at=T.loading,H=at===void 0?!1:at,ft=T.rowKey,ct=T.renderItem,K=T.locale,$=m(T,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),et=L&&(0,v.Z)(L)==="object"?L:{},B=o.useState(et.defaultCurrent||1),w=(0,s.Z)(B,2),R=w[0],V=w[1],tt=o.useState(et.defaultPageSize||10),lt=(0,s.Z)(tt,2),Et=lt[0],ot=lt[1],Mt=o.useContext(u.E_),Ot=Mt.getPrefixCls,Ft=Mt.renderEmpty,zt=Mt.direction,$t={current:1,total:0},ce={},ye=function(Fn){return function(nn,Hr){V(nn),ot(Hr),L&&L[Fn]&&L[Fn](nn,Hr)}},Je=ye("onChange"),nr=ye("onShowSizeChange"),Xe=function(Fn,nn){if(!ct)return null;var Hr;return typeof ft=="function"?Hr=ft(Fn):typeof ft=="string"?Hr=Fn[ft]:Hr=Fn.key,Hr||(Hr="list-item-".concat(nn)),ce[nn]=Hr,ct(Fn,nn)},mr=function(){return!!(xt||L||N)},Gr=function(Fn,nn){return o.createElement("div",{className:"".concat(Fn,"-empty-text")},K&&K.emptyText||nn("List"))},xe=Ot("list",Z),de=H;typeof de=="boolean"&&(de={spinning:de});var ze=de&&de.spinning,Ue="";switch(q){case"large":Ue="lg";break;case"small":Ue="sm";break;default:break}var Kr=r()(xe,(O={},(0,c.Z)(O,"".concat(xe,"-vertical"),Q==="vertical"),(0,c.Z)(O,"".concat(xe,"-").concat(Ue),Ue),(0,c.Z)(O,"".concat(xe,"-split"),J),(0,c.Z)(O,"".concat(xe,"-bordered"),Y),(0,c.Z)(O,"".concat(xe,"-loading"),ze),(0,c.Z)(O,"".concat(xe,"-grid"),!!_t),(0,c.Z)(O,"".concat(xe,"-something-after-last-item"),mr()),(0,c.Z)(O,"".concat(xe,"-rtl"),zt==="rtl"),O),ht),rn=(0,t.Z)((0,t.Z)((0,t.Z)({},$t),{total:rt.length,current:R,pageSize:Et}),L||{}),ci=Math.ceil(rn.total/rn.pageSize);rn.current>ci&&(rn.current=ci);var Zi=L?o.createElement("div",{className:"".concat(xe,"-pagination")},o.createElement(l.Z,(0,t.Z)({},rn,{onChange:Je,onShowSizeChange:nr}))):null,Ki=(0,i.Z)(rt);L&&rt.length>(rn.current-1)*rn.pageSize&&(Ki=(0,i.Z)(rt).splice((rn.current-1)*rn.pageSize,rn.pageSize));var ji=(0,n.Z)(),Ae=o.useMemo(function(){for(var cn=0;cn<a.c4.length;cn+=1){var Fn=a.c4[cn];if(ji[Fn])return Fn}},[ji]),De=o.useMemo(function(){if(!!_t){var cn=Ae&&_t[Ae]?_t[Ae]:_t.column;if(cn)return{width:"".concat(100/cn,"%"),maxWidth:"".concat(100/cn,"%")}}},[_t==null?void 0:_t.column,Ae]),ar=ze&&o.createElement("div",{style:{minHeight:53}});if(Ki.length>0){var Pr=Ki.map(function(cn,Fn){return Xe(cn,Fn)}),or=o.Children.map(Pr,function(cn,Fn){return o.createElement("div",{key:ce[Fn],style:De},cn)});ar=_t?o.createElement(h.Z,{gutter:_t.gutter},or):o.createElement("ul",{className:"".concat(xe,"-items")},Pr)}else!nt&&!ze&&(ar=Gr(xe,Ft));var wr=rn.position||"bottom";return o.createElement(M.Provider,{value:{grid:_t,itemLayout:Q}},o.createElement("div",(0,t.Z)({className:Kr},$),(wr==="top"||wr==="both")&&Zi,G&&o.createElement("div",{className:"".concat(xe,"-header")},G),o.createElement(e.Z,de,ar,nt),N&&o.createElement("div",{className:"".concat(xe,"-footer")},N),xt||(wr==="bottom"||wr==="both")&&Zi))}S.Item=C;var A=S},54421:function(gr,P,x){"use strict";var i=x(65056),t=x.n(i),c=x(57719),s=x.n(c),v=x(13254),o=x(20228),f=x(14781),r=x(6999)},33860:function(gr,P,x){"use strict";x.d(P,{Z:function(){return U}});var i=x(96156),t=x(22122),c=x(90484),s=x(67294),v=x(94184),o=x.n(v),f=function(W){var J=W.prefixCls,ht=W.className,nt=W.width,Q=W.style;return s.createElement("h3",{className:o()(J,ht),style:(0,t.Z)({width:nt},Q)})},r=f,e=x(85061),n=function(W){var J=function(rt){var q=W.width,G=W.rows,N=G===void 0?2:G;if(Array.isArray(q))return q[rt];if(N-1===rt)return q},ht=W.prefixCls,nt=W.className,Q=W.style,xt=W.rows,_t=(0,e.Z)(Array(xt)).map(function(Nt,rt){return s.createElement("li",{key:rt,style:{width:J(rt)}})});return s.createElement("ul",{className:o()(ht,nt),style:Q},_t)},a=n,u=x(65632),l=function(W){var J,ht,nt=W.prefixCls,Q=W.className,xt=W.style,_t=W.size,Nt=W.shape,rt=o()((J={},(0,i.Z)(J,"".concat(nt,"-lg"),_t==="large"),(0,i.Z)(J,"".concat(nt,"-sm"),_t==="small"),J)),q=o()((ht={},(0,i.Z)(ht,"".concat(nt,"-circle"),Nt==="circle"),(0,i.Z)(ht,"".concat(nt,"-square"),Nt==="square"),(0,i.Z)(ht,"".concat(nt,"-round"),Nt==="round"),ht)),G=typeof _t=="number"?{width:_t,height:_t,lineHeight:"".concat(_t,"px")}:{};return s.createElement("span",{className:o()(nt,rt,q,Q),style:(0,t.Z)((0,t.Z)({},G),xt)})},h=l,p=x(98423),d=function(W){var J=function(nt){var Q=nt.getPrefixCls,xt=W.prefixCls,_t=W.className,Nt=W.active,rt=Q("skeleton",xt),q=(0,p.Z)(W,["prefixCls","className"]),G=o()(rt,"".concat(rt,"-element"),(0,i.Z)({},"".concat(rt,"-active"),Nt),_t);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(rt,"-avatar")},q)))};return s.createElement(u.C,null,J)};d.defaultProps={size:"default",shape:"circle"};var g=d,y=function(W){var J=function(nt){var Q=nt.getPrefixCls,xt=W.prefixCls,_t=W.className,Nt=W.active,rt=Q("skeleton",xt),q=(0,p.Z)(W,["prefixCls"]),G=o()(rt,"".concat(rt,"-element"),(0,i.Z)({},"".concat(rt,"-active"),Nt),_t);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(rt,"-button")},q)))};return s.createElement(u.C,null,J)};y.defaultProps={size:"default"};var E=y,C=function(W){var J=function(nt){var Q=nt.getPrefixCls,xt=W.prefixCls,_t=W.className,Nt=W.active,rt=Q("skeleton",xt),q=(0,p.Z)(W,["prefixCls"]),G=o()(rt,"".concat(rt,"-element"),(0,i.Z)({},"".concat(rt,"-active"),Nt),_t);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(rt,"-input")},q)))};return s.createElement(u.C,null,J)};C.defaultProps={size:"default"};var m=C,M="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",b=function(W){var J=function(nt){var Q=nt.getPrefixCls,xt=W.prefixCls,_t=W.className,Nt=W.style,rt=Q("skeleton",xt),q=o()(rt,"".concat(rt,"-element"),_t);return s.createElement("div",{className:q},s.createElement("div",{className:o()("".concat(rt,"-image"),_t),style:Nt},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(rt,"-image-svg")},s.createElement("path",{d:M,className:"".concat(rt,"-image-path")}))))};return s.createElement(u.C,null,J)},S=b;function A(Y){return Y&&(0,c.Z)(Y)==="object"?Y:{}}function T(Y,W){return Y&&!W?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function O(Y,W){return!Y&&W?{width:"38%"}:Y&&W?{width:"50%"}:{}}function D(Y,W){var J={};return(!Y||!W)&&(J.width="61%"),!Y&&W?J.rows=3:J.rows=2,J}var L=function(W){var J=function(nt){var Q=nt.getPrefixCls,xt=nt.direction,_t=W.prefixCls,Nt=W.loading,rt=W.className,q=W.children,G=W.avatar,N=W.title,at=W.paragraph,H=W.active,ft=W.round,ct=Q("skeleton",_t);if(Nt||!("loading"in W)){var K,$=!!G,et=!!N,B=!!at,w;if($){var R=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ct,"-avatar")},T(et,B)),A(G));w=s.createElement("div",{className:"".concat(ct,"-header")},s.createElement(h,R))}var V;if(et||B){var tt;if(et){var lt=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ct,"-title")},O($,B)),A(N));tt=s.createElement(r,lt)}var Et;if(B){var ot=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ct,"-paragraph")},D($,et)),A(at));Et=s.createElement(a,ot)}V=s.createElement("div",{className:"".concat(ct,"-content")},tt,Et)}var Mt=o()(ct,(K={},(0,i.Z)(K,"".concat(ct,"-with-avatar"),$),(0,i.Z)(K,"".concat(ct,"-active"),H),(0,i.Z)(K,"".concat(ct,"-rtl"),xt==="rtl"),(0,i.Z)(K,"".concat(ct,"-round"),ft),K),rt);return s.createElement("div",{className:Mt},w,V)}return q};return s.createElement(u.C,null,J)};L.defaultProps={avatar:!1,title:!0,paragraph:!0},L.Button=E,L.Avatar=g,L.Input=m,L.Image=S;var Z=L,U=Z},71748:function(gr,P,x){"use strict";var i=x(65056),t=x.n(i),c=x(18067),s=x.n(c)},7277:function(gr,P,x){"use strict";x.d(P,{Z:function(){return Z}});var i=x(96156),t=x(22122),c=x(67294),s=x(94184),v=x.n(s),o=x(65632),f=x(33860),r=x(11726),e=x.n(r),n=function(Y){var W=Y.value,J=Y.formatter,ht=Y.precision,nt=Y.decimalSeparator,Q=Y.groupSeparator,xt=Q===void 0?"":Q,_t=Y.prefixCls,Nt;if(typeof J=="function")Nt=J(W);else{var rt=String(W),q=rt.match(/^(-?)(\d*)(\.(\d+))?$/);if(!q||rt==="-")Nt=rt;else{var G=q[1],N=q[2]||"0",at=q[4]||"";N=N.replace(/\B(?=(\d{3})+(?!\d))/g,xt),typeof ht=="number"&&(at=e()(at,ht,"0").slice(0,ht)),at&&(at="".concat(nt).concat(at)),Nt=[c.createElement("span",{key:"int",className:"".concat(_t,"-content-value-int")},G,N),at&&c.createElement("span",{key:"decimal",className:"".concat(_t,"-content-value-decimal")},at)]}}return c.createElement("span",{className:"".concat(_t,"-content-value")},Nt)},a=n,u=function(Y){var W=Y.prefixCls,J=Y.className,ht=Y.style,nt=Y.valueStyle,Q=Y.value,xt=Q===void 0?0:Q,_t=Y.title,Nt=Y.valueRender,rt=Y.prefix,q=Y.suffix,G=Y.loading,N=Y.direction,at=Y.onMouseEnter,H=Y.onMouseLeave,ft=c.createElement(a,(0,t.Z)({},Y,{value:xt})),ct=v()(W,(0,i.Z)({},"".concat(W,"-rtl"),N==="rtl"),J);return c.createElement("div",{className:ct,style:ht,onMouseEnter:at,onMouseLeave:H},_t&&c.createElement("div",{className:"".concat(W,"-title")},_t),c.createElement(f.Z,{paragraph:!1,loading:G},c.createElement("div",{style:nt,className:"".concat(W,"-content")},rt&&c.createElement("span",{className:"".concat(W,"-content-prefix")},rt),Nt?Nt(ft):ft,q&&c.createElement("span",{className:"".concat(W,"-content-suffix")},q))))};u.defaultProps={decimalSeparator:".",groupSeparator:",",loading:!1};var l=(0,o.PG)({prefixCls:"statistic"})(u),h=l,p=x(6610),d=x(5991),g=x(10379),y=x(60446),E=x(28481),C=x(32475),m=x.n(C),M=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function b(U,Y){var W=U,J=/\[[^\]]*]/g,ht=(Y.match(J)||[]).map(function(_t){return _t.slice(1,-1)}),nt=Y.replace(J,"[]"),Q=M.reduce(function(_t,Nt){var rt=(0,E.Z)(Nt,2),q=rt[0],G=rt[1];if(_t.indexOf(q)!==-1){var N=Math.floor(W/G);return W-=N*G,_t.replace(new RegExp("".concat(q,"+"),"g"),function(at){var H=at.length;return m()(N.toString(),H,"0")})}return _t},nt),xt=0;return Q.replace(J,function(){var _t=ht[xt];return xt+=1,_t})}function S(U,Y){var W=Y.format,J=W===void 0?"":W,ht=new Date(U).getTime(),nt=Date.now(),Q=Math.max(ht-nt,0);return b(Q,J)}var A=x(96159),T=1e3/30;function O(U){return new Date(U).getTime()}var D=function(U){(0,g.Z)(W,U);var Y=(0,y.Z)(W);function W(){var J;return(0,p.Z)(this,W),J=Y.apply(this,arguments),J.syncTimer=function(){var ht=J.props.value,nt=O(ht);nt>=Date.now()?J.startTimer():J.stopTimer()},J.startTimer=function(){if(!J.countdownId){var ht=J.props,nt=ht.onChange,Q=ht.value,xt=O(Q);J.countdownId=window.setInterval(function(){J.forceUpdate(),nt&&xt>Date.now()&&nt(xt-Date.now())},T)}},J.stopTimer=function(){var ht=J.props,nt=ht.onFinish,Q=ht.value;if(J.countdownId){clearInterval(J.countdownId),J.countdownId=void 0;var xt=O(Q);nt&&xt<Date.now()&&nt()}},J.formatCountdown=function(ht,nt){var Q=J.props.format;return S(ht,(0,t.Z)((0,t.Z)({},nt),{format:Q}))},J.valueRender=function(ht){return(0,A.Tm)(ht,{title:void 0})},J}return(0,d.Z)(W,[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return c.createElement(h,(0,t.Z)({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}]),W}(c.Component);D.defaultProps={format:"HH:mm:ss"};var L=D;h.Countdown=L;var Z=h},95300:function(gr,P,x){"use strict";var i=x(65056),t=x.n(i),c=x(81903),s=x.n(c),v=x(71748)},28602:function(gr,P,x){"use strict";x.d(P,{WU:function(){return d},jH:function(){return g}});var i=x(33085);function t(E,C){return function(m,M){for(var b=m.length,S=[],A=0,T=E[0],O=0;b>0&&T>0&&(O+T+1>M&&(T=Math.max(1,M-O)),S.push(m.substring(b-=T,b+T)),!((O+=T+1)>M));)T=E[A=(A+1)%E.length];return S.reverse().join(C)}}function c(E){return function(C){return C.replace(/[0-9]/g,function(m){return E[+m]})}}var s=x(46196);function v(E){t:for(var C=E.length,m=1,M=-1,b;m<C;++m)switch(E[m]){case".":M=b=m;break;case"0":M===0&&(M=m),b=m;break;default:if(!+E[m])break t;M>0&&(M=0);break}return M>0?E.slice(0,M)+E.slice(b+1):E}var o=x(38885),f;function r(E,C){var m=(0,o.V)(E,C);if(!m)return E+"";var M=m[0],b=m[1],S=b-(f=Math.max(-8,Math.min(8,Math.floor(b/3)))*3)+1,A=M.length;return S===A?M:S>A?M+new Array(S-A+1).join("0"):S>0?M.slice(0,S)+"."+M.slice(S):"0."+new Array(1-S).join("0")+(0,o.V)(E,Math.max(0,C+S-1))[0]}function e(E,C){var m=(0,o.V)(E,C);if(!m)return E+"";var M=m[0],b=m[1];return b<0?"0."+new Array(-b).join("0")+M:M.length>b+1?M.slice(0,b+1)+"."+M.slice(b+1):M+new Array(b-M.length+2).join("0")}var n={"%":function(E,C){return(E*100).toFixed(C)},b:function(E){return Math.round(E).toString(2)},c:function(E){return E+""},d:o.Z,e:function(E,C){return E.toExponential(C)},f:function(E,C){return E.toFixed(C)},g:function(E,C){return E.toPrecision(C)},o:function(E){return Math.round(E).toString(8)},p:function(E,C){return e(E*100,C)},r:e,s:r,X:function(E){return Math.round(E).toString(16).toUpperCase()},x:function(E){return Math.round(E).toString(16)}};function a(E){return E}var u=Array.prototype.map,l=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function h(E){var C=E.grouping===void 0||E.thousands===void 0?a:t(u.call(E.grouping,Number),E.thousands+""),m=E.currency===void 0?"":E.currency[0]+"",M=E.currency===void 0?"":E.currency[1]+"",b=E.decimal===void 0?".":E.decimal+"",S=E.numerals===void 0?a:c(u.call(E.numerals,String)),A=E.percent===void 0?"%":E.percent+"",T=E.minus===void 0?"-":E.minus+"",O=E.nan===void 0?"NaN":E.nan+"";function D(Z){Z=(0,s.Z)(Z);var U=Z.fill,Y=Z.align,W=Z.sign,J=Z.symbol,ht=Z.zero,nt=Z.width,Q=Z.comma,xt=Z.precision,_t=Z.trim,Nt=Z.type;Nt==="n"?(Q=!0,Nt="g"):n[Nt]||(xt===void 0&&(xt=12),_t=!0,Nt="g"),(ht||U==="0"&&Y==="=")&&(ht=!0,U="0",Y="=");var rt=J==="$"?m:J==="#"&&/[boxX]/.test(Nt)?"0"+Nt.toLowerCase():"",q=J==="$"?M:/[%p]/.test(Nt)?A:"",G=n[Nt],N=/[defgprs%]/.test(Nt);xt=xt===void 0?6:/[gprs]/.test(Nt)?Math.max(1,Math.min(21,xt)):Math.max(0,Math.min(20,xt));function at(H){var ft=rt,ct=q,K,$,et;if(Nt==="c")ct=G(H)+ct,H="";else{H=+H;var B=H<0||1/H<0;if(H=isNaN(H)?O:G(Math.abs(H),xt),_t&&(H=v(H)),B&&+H==0&&W!=="+"&&(B=!1),ft=(B?W==="("?W:T:W==="-"||W==="("?"":W)+ft,ct=(Nt==="s"?l[8+f/3]:"")+ct+(B&&W==="("?")":""),N){for(K=-1,$=H.length;++K<$;)if(et=H.charCodeAt(K),48>et||et>57){ct=(et===46?b+H.slice(K+1):H.slice(K))+ct,H=H.slice(0,K);break}}}Q&&!ht&&(H=C(H,Infinity));var w=ft.length+H.length+ct.length,R=w<nt?new Array(nt-w+1).join(U):"";switch(Q&&ht&&(H=C(R+H,R.length?nt-ct.length:Infinity),R=""),Y){case"<":H=ft+H+ct+R;break;case"=":H=ft+R+H+ct;break;case"^":H=R.slice(0,w=R.length>>1)+ft+H+ct+R.slice(w);break;default:H=R+ft+H+ct;break}return S(H)}return at.toString=function(){return Z+""},at}function L(Z,U){var Y=D((Z=(0,s.Z)(Z),Z.type="f",Z)),W=Math.max(-8,Math.min(8,Math.floor((0,i.Z)(U)/3)))*3,J=Math.pow(10,-W),ht=l[8+W/3];return function(nt){return Y(J*nt)+ht}}return{format:D,formatPrefix:L}}var p,d,g;y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function y(E){return p=h(E),d=p.format,g=p.formatPrefix,p}},33085:function(gr,P,x){"use strict";x.d(P,{Z:function(){return t}});var i=x(38885);function t(c){return c=(0,i.V)(Math.abs(c)),c?c[1]:NaN}},38885:function(gr,P,x){"use strict";x.d(P,{Z:function(){return i},V:function(){return t}});function i(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)}function t(c,s){if((v=(c=s?c.toExponential(s-1):c.toExponential()).indexOf("e"))<0)return null;var v,o=c.slice(0,v);return[o.length>1?o[0]+o.slice(2):o,+c.slice(v+1)]}},46196:function(gr,P,x){"use strict";x.d(P,{Z:function(){return t}});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t(s){if(!(v=i.exec(s)))throw new Error("invalid format: "+s);var v;return new c({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}t.prototype=c.prototype;function c(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}},9187:function(gr){"use strict";gr.exports=P,gr.exports.default=P;function P(U,Y,W){W=W||2;var J=Y&&Y.length,ht=J?Y[0]*W:U.length,nt=x(U,0,ht,W,!0),Q=[];if(!nt||nt.next===nt.prev)return Q;var xt,_t,Nt,rt,q,G,N;if(J&&(nt=f(U,Y,nt,W)),U.length>80*W){xt=Nt=U[0],_t=rt=U[1];for(var at=W;at<ht;at+=W)q=U[at],G=U[at+1],q<xt&&(xt=q),G<_t&&(_t=G),q>Nt&&(Nt=q),G>rt&&(rt=G);N=Math.max(Nt-xt,rt-_t),N=N!==0?1/N:0}return t(nt,Q,W,xt,_t,N),Q}function x(U,Y,W,J,ht){var nt,Q;if(ht===Z(U,Y,W,J)>0)for(nt=Y;nt<W;nt+=J)Q=O(nt,U[nt],U[nt+1],Q);else for(nt=W-J;nt>=Y;nt-=J)Q=O(nt,U[nt],U[nt+1],Q);return Q&&E(Q,Q.next)&&(D(Q),Q=Q.next),Q}function i(U,Y){if(!U)return U;Y||(Y=U);var W=U,J;do if(J=!1,!W.steiner&&(E(W,W.next)||y(W.prev,W,W.next)===0)){if(D(W),W=Y=W.prev,W===W.next)break;J=!0}else W=W.next;while(J||W!==Y);return Y}function t(U,Y,W,J,ht,nt,Q){if(!!U){!Q&&nt&&u(U,J,ht,nt);for(var xt=U,_t,Nt;U.prev!==U.next;){if(_t=U.prev,Nt=U.next,nt?s(U,J,ht,nt):c(U)){Y.push(_t.i/W),Y.push(U.i/W),Y.push(Nt.i/W),D(U),U=Nt.next,xt=Nt.next;continue}if(U=Nt,U===xt){Q?Q===1?(U=v(i(U),Y,W),t(U,Y,W,J,ht,nt,2)):Q===2&&o(U,Y,W,J,ht,nt):t(i(U),Y,W,J,ht,nt,1);break}}}}function c(U){var Y=U.prev,W=U,J=U.next;if(y(Y,W,J)>=0)return!1;for(var ht=U.next.next;ht!==U.prev;){if(d(Y.x,Y.y,W.x,W.y,J.x,J.y,ht.x,ht.y)&&y(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function s(U,Y,W,J){var ht=U.prev,nt=U,Q=U.next;if(y(ht,nt,Q)>=0)return!1;for(var xt=ht.x<nt.x?ht.x<Q.x?ht.x:Q.x:nt.x<Q.x?nt.x:Q.x,_t=ht.y<nt.y?ht.y<Q.y?ht.y:Q.y:nt.y<Q.y?nt.y:Q.y,Nt=ht.x>nt.x?ht.x>Q.x?ht.x:Q.x:nt.x>Q.x?nt.x:Q.x,rt=ht.y>nt.y?ht.y>Q.y?ht.y:Q.y:nt.y>Q.y?nt.y:Q.y,q=h(xt,_t,Y,W,J),G=h(Nt,rt,Y,W,J),N=U.prevZ,at=U.nextZ;N&&N.z>=q&&at&&at.z<=G;){if(N!==U.prev&&N!==U.next&&d(ht.x,ht.y,nt.x,nt.y,Q.x,Q.y,N.x,N.y)&&y(N.prev,N,N.next)>=0||(N=N.prevZ,at!==U.prev&&at!==U.next&&d(ht.x,ht.y,nt.x,nt.y,Q.x,Q.y,at.x,at.y)&&y(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;N&&N.z>=q;){if(N!==U.prev&&N!==U.next&&d(ht.x,ht.y,nt.x,nt.y,Q.x,Q.y,N.x,N.y)&&y(N.prev,N,N.next)>=0)return!1;N=N.prevZ}for(;at&&at.z<=G;){if(at!==U.prev&&at!==U.next&&d(ht.x,ht.y,nt.x,nt.y,Q.x,Q.y,at.x,at.y)&&y(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function v(U,Y,W){var J=U;do{var ht=J.prev,nt=J.next.next;!E(ht,nt)&&C(ht,J,J.next,nt)&&S(ht,nt)&&S(nt,ht)&&(Y.push(ht.i/W),Y.push(J.i/W),Y.push(nt.i/W),D(J),D(J.next),J=U=nt),J=J.next}while(J!==U);return i(J)}function o(U,Y,W,J,ht,nt){var Q=U;do{for(var xt=Q.next.next;xt!==Q.prev;){if(Q.i!==xt.i&&g(Q,xt)){var _t=T(Q,xt);Q=i(Q,Q.next),_t=i(_t,_t.next),t(Q,Y,W,J,ht,nt),t(_t,Y,W,J,ht,nt);return}xt=xt.next}Q=Q.next}while(Q!==U)}function f(U,Y,W,J){var ht=[],nt,Q,xt,_t,Nt;for(nt=0,Q=Y.length;nt<Q;nt++)xt=Y[nt]*J,_t=nt<Q-1?Y[nt+1]*J:U.length,Nt=x(U,xt,_t,J,!1),Nt===Nt.next&&(Nt.steiner=!0),ht.push(p(Nt));for(ht.sort(r),nt=0;nt<ht.length;nt++)W=e(ht[nt],W),W=i(W,W.next);return W}function r(U,Y){return U.x-Y.x}function e(U,Y){var W=n(U,Y);if(!W)return Y;var J=T(W,U),ht=i(W,W.next);return i(J,J.next),Y===W?ht:Y}function n(U,Y){var W=Y,J=U.x,ht=U.y,nt=-Infinity,Q;do{if(ht<=W.y&&ht>=W.next.y&&W.next.y!==W.y){var xt=W.x+(ht-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(xt<=J&&xt>nt){if(nt=xt,xt===J){if(ht===W.y)return W;if(ht===W.next.y)return W.next}Q=W.x<W.next.x?W:W.next}}W=W.next}while(W!==Y);if(!Q)return null;if(J===nt)return Q;var _t=Q,Nt=Q.x,rt=Q.y,q=Infinity,G;W=Q;do J>=W.x&&W.x>=Nt&&J!==W.x&&d(ht<rt?J:nt,ht,Nt,rt,ht<rt?nt:J,ht,W.x,W.y)&&(G=Math.abs(ht-W.y)/(J-W.x),S(W,U)&&(G<q||G===q&&(W.x>Q.x||W.x===Q.x&&a(Q,W)))&&(Q=W,q=G)),W=W.next;while(W!==_t);return Q}function a(U,Y){return y(U.prev,U,Y.prev)<0&&y(Y.next,U,U.next)<0}function u(U,Y,W,J){var ht=U;do ht.z===null&&(ht.z=h(ht.x,ht.y,Y,W,J)),ht.prevZ=ht.prev,ht.nextZ=ht.next,ht=ht.next;while(ht!==U);ht.prevZ.nextZ=null,ht.prevZ=null,l(ht)}function l(U){var Y,W,J,ht,nt,Q,xt,_t,Nt=1;do{for(W=U,U=null,nt=null,Q=0;W;){for(Q++,J=W,xt=0,Y=0;Y<Nt&&(xt++,J=J.nextZ,!!J);Y++);for(_t=Nt;xt>0||_t>0&&J;)xt!==0&&(_t===0||!J||W.z<=J.z)?(ht=W,W=W.nextZ,xt--):(ht=J,J=J.nextZ,_t--),nt?nt.nextZ=ht:U=ht,ht.prevZ=nt,nt=ht;W=J}nt.nextZ=null,Nt*=2}while(Q>1);return U}function h(U,Y,W,J,ht){return U=32767*(U-W)*ht,Y=32767*(Y-J)*ht,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,U|Y<<1}function p(U){var Y=U,W=U;do(Y.x<W.x||Y.x===W.x&&Y.y<W.y)&&(W=Y),Y=Y.next;while(Y!==U);return W}function d(U,Y,W,J,ht,nt,Q,xt){return(ht-Q)*(Y-xt)-(U-Q)*(nt-xt)>=0&&(U-Q)*(J-xt)-(W-Q)*(Y-xt)>=0&&(W-Q)*(nt-xt)-(ht-Q)*(J-xt)>=0}function g(U,Y){return U.next.i!==Y.i&&U.prev.i!==Y.i&&!b(U,Y)&&(S(U,Y)&&S(Y,U)&&A(U,Y)&&(y(U.prev,U,Y.prev)||y(U,Y.prev,Y))||E(U,Y)&&y(U.prev,U,U.next)>0&&y(Y.prev,Y,Y.next)>0)}function y(U,Y,W){return(Y.y-U.y)*(W.x-Y.x)-(Y.x-U.x)*(W.y-Y.y)}function E(U,Y){return U.x===Y.x&&U.y===Y.y}function C(U,Y,W,J){var ht=M(y(U,Y,W)),nt=M(y(U,Y,J)),Q=M(y(W,J,U)),xt=M(y(W,J,Y));return!!(ht!==nt&&Q!==xt||ht===0&&m(U,W,Y)||nt===0&&m(U,J,Y)||Q===0&&m(W,U,J)||xt===0&&m(W,Y,J))}function m(U,Y,W){return Y.x<=Math.max(U.x,W.x)&&Y.x>=Math.min(U.x,W.x)&&Y.y<=Math.max(U.y,W.y)&&Y.y>=Math.min(U.y,W.y)}function M(U){return U>0?1:U<0?-1:0}function b(U,Y){var W=U;do{if(W.i!==U.i&&W.next.i!==U.i&&W.i!==Y.i&&W.next.i!==Y.i&&C(W,W.next,U,Y))return!0;W=W.next}while(W!==U);return!1}function S(U,Y){return y(U.prev,U,U.next)<0?y(U,Y,U.next)>=0&&y(U,U.prev,Y)>=0:y(U,Y,U.prev)<0||y(U,U.next,Y)<0}function A(U,Y){var W=U,J=!1,ht=(U.x+Y.x)/2,nt=(U.y+Y.y)/2;do W.y>nt!=W.next.y>nt&&W.next.y!==W.y&&ht<(W.next.x-W.x)*(nt-W.y)/(W.next.y-W.y)+W.x&&(J=!J),W=W.next;while(W!==U);return J}function T(U,Y){var W=new L(U.i,U.x,U.y),J=new L(Y.i,Y.x,Y.y),ht=U.next,nt=Y.prev;return U.next=Y,Y.prev=U,W.next=ht,ht.prev=W,J.next=W,W.prev=J,nt.next=J,J.prev=nt,J}function O(U,Y,W,J){var ht=new L(U,Y,W);return J?(ht.next=J.next,ht.prev=J,J.next.prev=ht,J.next=ht):(ht.prev=ht,ht.next=ht),ht}function D(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function L(U,Y,W){this.i=U,this.x=Y,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}P.deviation=function(U,Y,W,J){var ht=Y&&Y.length,nt=ht?Y[0]*W:U.length,Q=Math.abs(Z(U,0,nt,W));if(ht)for(var xt=0,_t=Y.length;xt<_t;xt++){var Nt=Y[xt]*W,rt=xt<_t-1?Y[xt+1]*W:U.length;Q-=Math.abs(Z(U,Nt,rt,W))}var q=0;for(xt=0;xt<J.length;xt+=3){var G=J[xt]*W,N=J[xt+1]*W,at=J[xt+2]*W;q+=Math.abs((U[G]-U[at])*(U[N+1]-U[G+1])-(U[G]-U[N])*(U[at+1]-U[G+1]))}return Q===0&&q===0?0:Math.abs((q-Q)/Q)};function Z(U,Y,W,J){for(var ht=0,nt=Y,Q=W-J;nt<W;nt+=J)ht+=(U[Q]-U[nt])*(U[nt+1]+U[Q+1]),Q=nt;return ht}P.flatten=function(U){for(var Y=U[0][0].length,W={vertices:[],holes:[],dimensions:Y},J=0,ht=0;ht<U.length;ht++){for(var nt=0;nt<U[ht].length;nt++)for(var Q=0;Q<Y;Q++)W.vertices.push(U[ht][nt][Q]);ht>0&&(J+=U[ht-1].length,W.holes.push(J))}return W}},67709:function(gr){function P(i){var t=i.target||i.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame(function(){var c=t.__resizeTrigger__,s=c&&c.__resizeListeners__;s&&s.forEach(function(v){v.call(c,i)})})}var x=function(t,c){var s=this,v=s.document,o,f=v.attachEvent;typeof navigator!="undefined"&&(o=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/));function r(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",P)}if(!t.__resizeListeners__)if(t.__resizeListeners__=[],f)t.__resizeTrigger__=t,t.attachEvent("onresize",P);else{getComputedStyle(t).position==="static"&&(t.style.position="relative");var e=t.__resizeTrigger__=v.createElement("object");e.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),e.setAttribute("class","resize-sensor"),e.setAttribute("tabindex","-1"),e.setAttribute("title",""),e.__resizeElement__=t,e.onload=r,e.type="text/html",o&&t.appendChild(e),e.data="about:blank",o||t.appendChild(e)}t.__resizeListeners__.push(c)};gr.exports=typeof window=="undefined"?x:x.bind(window),gr.exports.unbind=function(i,t){var c=document.attachEvent,s=i.__resizeListeners__||[];if(t){var v=s.indexOf(t);v!==-1&&s.splice(v,1)}else s=i.__resizeListeners__=[];if(!s.length){if(c)i.detachEvent("onresize",P);else if(i.__resizeTrigger__){var o=i.__resizeTrigger__.contentDocument,f=o&&o.defaultView;f&&(f.removeEventListener("resize",P),delete f.__resizeTrigger__),i.__resizeTrigger__=!i.removeChild(i.__resizeTrigger__)}delete i.__resizeListeners__}}},26729:function(gr){"use strict";var P=Object.prototype.hasOwnProperty,x="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(x=!1));function t(o,f,r){this.fn=o,this.context=f,this.once=r||!1}function c(o,f,r,e,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var a=new t(r,e||o,n),u=x?x+f:f;return o._events[u]?o._events[u].fn?o._events[u]=[o._events[u],a]:o._events[u].push(a):(o._events[u]=a,o._eventsCount++),o}function s(o,f){--o._eventsCount==0?o._events=new i:delete o._events[f]}function v(){this._events=new i,this._eventsCount=0}v.prototype.eventNames=function(){var f=[],r,e;if(this._eventsCount===0)return f;for(e in r=this._events)P.call(r,e)&&f.push(x?e.slice(1):e);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(r)):f},v.prototype.listeners=function(f){var r=x?x+f:f,e=this._events[r];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,a=e.length,u=new Array(a);n<a;n++)u[n]=e[n].fn;return u},v.prototype.listenerCount=function(f){var r=x?x+f:f,e=this._events[r];return e?e.fn?1:e.length:0},v.prototype.emit=function(f,r,e,n,a,u){var l=x?x+f:f;if(!this._events[l])return!1;var h=this._events[l],p=arguments.length,d,g;if(h.fn){switch(h.once&&this.removeListener(f,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,r),!0;case 3:return h.fn.call(h.context,r,e),!0;case 4:return h.fn.call(h.context,r,e,n),!0;case 5:return h.fn.call(h.context,r,e,n,a),!0;case 6:return h.fn.call(h.context,r,e,n,a,u),!0}for(g=1,d=new Array(p-1);g<p;g++)d[g-1]=arguments[g];h.fn.apply(h.context,d)}else{var y=h.length,E;for(g=0;g<y;g++)switch(h[g].once&&this.removeListener(f,h[g].fn,void 0,!0),p){case 1:h[g].fn.call(h[g].context);break;case 2:h[g].fn.call(h[g].context,r);break;case 3:h[g].fn.call(h[g].context,r,e);break;case 4:h[g].fn.call(h[g].context,r,e,n);break;default:if(!d)for(E=1,d=new Array(p-1);E<p;E++)d[E-1]=arguments[E];h[g].fn.apply(h[g].context,d)}}return!0},v.prototype.on=function(f,r,e){return c(this,f,r,e,!1)},v.prototype.once=function(f,r,e){return c(this,f,r,e,!0)},v.prototype.removeListener=function(f,r,e,n){var a=x?x+f:f;if(!this._events[a])return this;if(!r)return s(this,a),this;var u=this._events[a];if(u.fn)u.fn===r&&(!n||u.once)&&(!e||u.context===e)&&s(this,a);else{for(var l=0,h=[],p=u.length;l<p;l++)(u[l].fn!==r||n&&!u[l].once||e&&u[l].context!==e)&&h.push(u[l]);h.length?this._events[a]=h.length===1?h[0]:h:s(this,a)}return this},v.prototype.removeAllListeners=function(f){var r;return f?(r=x?x+f:f,this._events[r]&&s(this,r)):(this._events=new i,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=x,v.EventEmitter=v,gr.exports=v},81490:function(gr){"use strict";gr.exports=v;var P,x,i,t,c,s=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function v(m){t=2,c=Math.pow(10,6),i=null,P=[],x=[];var M=m.readFields(o,{});return P=null,M}function o(m,M,b){m===1?P.push(b.readString()):m===2?t=b.readVarint():m===3?c=Math.pow(10,b.readVarint()):m===4?f(b,M):m===5?r(b,M):m===6&&e(b,M)}function f(m,M){return M.type="FeatureCollection",M.features=[],m.readMessage(n,M)}function r(m,M){M.type="Feature";var b=m.readMessage(a,M);return"geometry"in b||(b.geometry=null),b}function e(m,M){return M.type="Point",m.readMessage(u,M)}function n(m,M,b){m===1?M.features.push(r(b,{})):m===13?x.push(h(b)):m===15&&p(b,M)}function a(m,M,b){m===1?M.geometry=e(b,{}):m===11?M.id=b.readString():m===12?M.id=b.readSVarint():m===13?x.push(h(b)):m===14?M.properties=p(b,{}):m===15&&p(b,M)}function u(m,M,b){m===1?M.type=s[b.readVarint()]:m===2?i=b.readPackedVarint():m===3?l(M,b,M.type):m===4?(M.geometries=M.geometries||[],M.geometries.push(e(b,{}))):m===13?x.push(h(b)):m===15&&p(b,M)}function l(m,M,b){b==="Point"?m.coordinates=d(M):b==="MultiPoint"?m.coordinates=y(M,!0):b==="LineString"?m.coordinates=y(M):b==="MultiLineString"?m.coordinates=E(M):b==="Polygon"?m.coordinates=E(M,!0):b==="MultiPolygon"&&(m.coordinates=C(M))}function h(m){for(var M=m.readVarint()+m.pos,b=null;m.pos<M;){var S=m.readVarint(),A=S>>3;A===1?b=m.readString():A===2?b=m.readDouble():A===3?b=m.readVarint():A===4?b=-m.readVarint():A===5?b=m.readBoolean():A===6&&(b=JSON.parse(m.readString()))}return b}function p(m,M){for(var b=m.readVarint()+m.pos;m.pos<b;)M[P[m.readVarint()]]=x[m.readVarint()];return x=[],M}function d(m){for(var M=m.readVarint()+m.pos,b=[];m.pos<M;)b.push(m.readSVarint()/c);return b}function g(m,M,b,S){var A=0,T=[],O,D,L=[];for(D=0;D<t;D++)L[D]=0;for(;b?A<b:m.pos<M;){for(O=[],D=0;D<t;D++)L[D]+=m.readSVarint(),O[D]=L[D]/c;T.push(O),A++}return S&&T.push(T[0]),T}function y(m){return g(m,m.readVarint()+m.pos)}function E(m,M){var b=m.readVarint()+m.pos;if(!i)return[g(m,b,null,M)];for(var S=[],A=0;A<i.length;A++)S.push(g(m,b,i[A],M));return i=null,S}function C(m){var M=m.readVarint()+m.pos;if(!i)return[[g(m,M,null,!0)]];for(var b=[],S=1,A=0;A<i[0];A++){for(var T=[],O=0;O<i[S];O++)T.push(g(m,M,i[S+1+O],!0));S+=i[S]+1,b.push(T)}return i=null,b}},62020:function(gr){"use strict";gr.exports=o;var P,x,i,t,c,s=1e6,v={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function o(b,S){P={},i=[],x=0,t=0,c=1,f(b),c=Math.min(c,s);for(var A=Math.ceil(Math.log(c)/Math.LN10),T=0;T<i.length;T++)S.writeStringField(1,i[T]);return t!==2&&S.writeVarintField(2,t),A!==6&&S.writeVarintField(3,A),b.type==="FeatureCollection"?S.writeMessage(4,u,b):b.type==="Feature"?S.writeMessage(5,l,b):S.writeMessage(6,h,b),P=null,S.finish()}function f(b){var S,A;if(b.type==="FeatureCollection")for(S=0;S<b.features.length;S++)f(b.features[S]);else if(b.type==="Feature"){b.geometry!==null&&f(b.geometry);for(A in b.properties)a(A)}else if(b.type==="Point")n(b.coordinates);else if(b.type==="MultiPoint")e(b.coordinates);else if(b.type==="GeometryCollection")for(S=0;S<b.geometries.length;S++)f(b.geometries[S]);else if(b.type==="LineString")e(b.coordinates);else if(b.type==="Polygon"||b.type==="MultiLineString")r(b.coordinates);else if(b.type==="MultiPolygon")for(S=0;S<b.coordinates.length;S++)r(b.coordinates[S]);for(A in b)M(A,b.type)||a(A)}function r(b){for(var S=0;S<b.length;S++)e(b[S])}function e(b){for(var S=0;S<b.length;S++)n(b[S])}function n(b){t=Math.max(t,b.length);for(var S=0;S<b.length;S++)for(;Math.round(b[S]*c)/c!==b[S]&&c<s;)c*=10}function a(b){P[b]===void 0&&(i.push(b),P[b]=x++)}function u(b,S){for(var A=0;A<b.features.length;A++)S.writeMessage(1,l,b.features[A]);p(b,S,!0)}function l(b,S){b.geometry!==null&&S.writeMessage(1,h,b.geometry),b.id!==void 0&&(typeof b.id=="number"&&b.id%1==0?S.writeSVarintField(12,b.id):S.writeStringField(11,b.id)),b.properties&&p(b.properties,S),p(b,S,!0)}function h(b,S){S.writeVarintField(1,v[b.type]);var A=b.coordinates;if(b.type==="Point")g(A,S);else if(b.type==="MultiPoint")y(A,S,!0);else if(b.type==="LineString")y(A,S);else if(b.type==="MultiLineString")E(A,S);else if(b.type==="Polygon")E(A,S,!0);else if(b.type==="MultiPolygon")C(A,S);else if(b.type==="GeometryCollection")for(var T=0;T<b.geometries.length;T++)S.writeMessage(4,h,b.geometries[T]);p(b,S,!0)}function p(b,S,A){var T=[],O=0;for(var D in b)A&&M(D,b.type)||(S.writeMessage(13,d,b[D]),T.push(P[D]),T.push(O++));S.writePackedVarint(A?15:14,T)}function d(b,S){if(b!==null){var A=typeof b;A==="string"?S.writeStringField(1,b):A==="boolean"?S.writeBooleanField(5,b):A==="object"?S.writeStringField(6,JSON.stringify(b)):A==="number"&&(b%1!=0?S.writeDoubleField(2,b):b>=0?S.writeVarintField(3,b):S.writeVarintField(4,-b))}}function g(b,S){for(var A=[],T=0;T<t;T++)A.push(Math.round(b[T]*c));S.writePackedSVarint(3,A)}function y(b,S){var A=[];m(A,b),S.writePackedSVarint(3,A)}function E(b,S,A){var T=b.length,O;if(T!==1){var D=[];for(O=0;O<T;O++)D.push(b[O].length-(A?1:0));S.writePackedVarint(2,D)}var L=[];for(O=0;O<T;O++)m(L,b[O],A);S.writePackedSVarint(3,L)}function C(b,S){var A=b.length,T,O;if(A!==1||b[0].length!==1){var D=[A];for(T=0;T<A;T++)for(D.push(b[T].length),O=0;O<b[T].length;O++)D.push(b[T][O].length-1);S.writePackedVarint(2,D)}var L=[];for(T=0;T<A;T++)for(O=0;O<b[T].length;O++)m(L,b[T][O],!0);S.writePackedSVarint(3,L)}function m(b,S,A){var T,O,D=S.length-(A?1:0),L=new Array(t);for(O=0;O<t;O++)L[O]=0;for(T=0;T<D;T++)for(O=0;O<t;O++){var Z=Math.round(S[T][O]*c)-L[O];b.push(Z),L[O]+=Z}}function M(b,S){if(b==="type")return!0;if(S==="FeatureCollection"){if(b==="features")return!0}else if(S==="Feature"){if(b==="id"||b==="properties"||b==="geometry")return!0}else if(S==="GeometryCollection"){if(b==="geometries")return!0}else if(b==="coordinates")return!0;return!1}},74951:function(gr,P,x){"use strict";P.encode=x(62020),P.decode=x(81490)},85975:function(gr,P,x){"use strict";x.r(P),x.d(P,{create:function(){return t},clone:function(){return c},copy:function(){return s},fromValues:function(){return v},set:function(){return o},identity:function(){return f},transpose:function(){return r},invert:function(){return e},adjoint:function(){return n},determinant:function(){return a},multiply:function(){return u},translate:function(){return l},scale:function(){return h},rotate:function(){return p},rotateX:function(){return d},rotateY:function(){return g},rotateZ:function(){return y},fromTranslation:function(){return E},fromScaling:function(){return C},fromRotation:function(){return m},fromXRotation:function(){return M},fromYRotation:function(){return b},fromZRotation:function(){return S},fromRotationTranslation:function(){return A},fromQuat2:function(){return T},getTranslation:function(){return O},getScaling:function(){return D},getRotation:function(){return L},fromRotationTranslationScale:function(){return Z},fromRotationTranslationScaleOrigin:function(){return U},fromQuat:function(){return Y},frustum:function(){return W},perspectiveNO:function(){return J},perspective:function(){return ht},perspectiveZO:function(){return nt},perspectiveFromFieldOfView:function(){return Q},orthoNO:function(){return xt},ortho:function(){return _t},orthoZO:function(){return Nt},lookAt:function(){return rt},targetTo:function(){return q},str:function(){return G},frob:function(){return N},add:function(){return at},subtract:function(){return H},multiplyScalar:function(){return ft},multiplyScalarAndAdd:function(){return ct},exactEquals:function(){return K},equals:function(){return $},mul:function(){return et},sub:function(){return B}});var i=x(49685);function t(){var w=new i.WT(16);return i.WT!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=0,w[12]=0,w[13]=0,w[14]=0),w[0]=1,w[5]=1,w[10]=1,w[15]=1,w}function c(w){var R=new i.WT(16);return R[0]=w[0],R[1]=w[1],R[2]=w[2],R[3]=w[3],R[4]=w[4],R[5]=w[5],R[6]=w[6],R[7]=w[7],R[8]=w[8],R[9]=w[9],R[10]=w[10],R[11]=w[11],R[12]=w[12],R[13]=w[13],R[14]=w[14],R[15]=w[15],R}function s(w,R){return w[0]=R[0],w[1]=R[1],w[2]=R[2],w[3]=R[3],w[4]=R[4],w[5]=R[5],w[6]=R[6],w[7]=R[7],w[8]=R[8],w[9]=R[9],w[10]=R[10],w[11]=R[11],w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15],w}function v(w,R,V,tt,lt,Et,ot,Mt,Ot,Ft,zt,$t,ce,ye,Je,nr){var Xe=new i.WT(16);return Xe[0]=w,Xe[1]=R,Xe[2]=V,Xe[3]=tt,Xe[4]=lt,Xe[5]=Et,Xe[6]=ot,Xe[7]=Mt,Xe[8]=Ot,Xe[9]=Ft,Xe[10]=zt,Xe[11]=$t,Xe[12]=ce,Xe[13]=ye,Xe[14]=Je,Xe[15]=nr,Xe}function o(w,R,V,tt,lt,Et,ot,Mt,Ot,Ft,zt,$t,ce,ye,Je,nr,Xe){return w[0]=R,w[1]=V,w[2]=tt,w[3]=lt,w[4]=Et,w[5]=ot,w[6]=Mt,w[7]=Ot,w[8]=Ft,w[9]=zt,w[10]=$t,w[11]=ce,w[12]=ye,w[13]=Je,w[14]=nr,w[15]=Xe,w}function f(w){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function r(w,R){if(w===R){var V=R[1],tt=R[2],lt=R[3],Et=R[6],ot=R[7],Mt=R[11];w[1]=R[4],w[2]=R[8],w[3]=R[12],w[4]=V,w[6]=R[9],w[7]=R[13],w[8]=tt,w[9]=Et,w[11]=R[14],w[12]=lt,w[13]=ot,w[14]=Mt}else w[0]=R[0],w[1]=R[4],w[2]=R[8],w[3]=R[12],w[4]=R[1],w[5]=R[5],w[6]=R[9],w[7]=R[13],w[8]=R[2],w[9]=R[6],w[10]=R[10],w[11]=R[14],w[12]=R[3],w[13]=R[7],w[14]=R[11],w[15]=R[15];return w}function e(w,R){var V=R[0],tt=R[1],lt=R[2],Et=R[3],ot=R[4],Mt=R[5],Ot=R[6],Ft=R[7],zt=R[8],$t=R[9],ce=R[10],ye=R[11],Je=R[12],nr=R[13],Xe=R[14],mr=R[15],Gr=V*Mt-tt*ot,xe=V*Ot-lt*ot,de=V*Ft-Et*ot,ze=tt*Ot-lt*Mt,Ue=tt*Ft-Et*Mt,Kr=lt*Ft-Et*Ot,rn=zt*nr-$t*Je,ci=zt*Xe-ce*Je,Zi=zt*mr-ye*Je,Ki=$t*Xe-ce*nr,ji=$t*mr-ye*nr,Ae=ce*mr-ye*Xe,De=Gr*Ae-xe*ji+de*Ki+ze*Zi-Ue*ci+Kr*rn;return De?(De=1/De,w[0]=(Mt*Ae-Ot*ji+Ft*Ki)*De,w[1]=(lt*ji-tt*Ae-Et*Ki)*De,w[2]=(nr*Kr-Xe*Ue+mr*ze)*De,w[3]=(ce*Ue-$t*Kr-ye*ze)*De,w[4]=(Ot*Zi-ot*Ae-Ft*ci)*De,w[5]=(V*Ae-lt*Zi+Et*ci)*De,w[6]=(Xe*de-Je*Kr-mr*xe)*De,w[7]=(zt*Kr-ce*de+ye*xe)*De,w[8]=(ot*ji-Mt*Zi+Ft*rn)*De,w[9]=(tt*Zi-V*ji-Et*rn)*De,w[10]=(Je*Ue-nr*de+mr*Gr)*De,w[11]=($t*de-zt*Ue-ye*Gr)*De,w[12]=(Mt*ci-ot*Ki-Ot*rn)*De,w[13]=(V*Ki-tt*ci+lt*rn)*De,w[14]=(nr*xe-Je*ze-Xe*Gr)*De,w[15]=(zt*ze-$t*xe+ce*Gr)*De,w):null}function n(w,R){var V=R[0],tt=R[1],lt=R[2],Et=R[3],ot=R[4],Mt=R[5],Ot=R[6],Ft=R[7],zt=R[8],$t=R[9],ce=R[10],ye=R[11],Je=R[12],nr=R[13],Xe=R[14],mr=R[15];return w[0]=Mt*(ce*mr-ye*Xe)-$t*(Ot*mr-Ft*Xe)+nr*(Ot*ye-Ft*ce),w[1]=-(tt*(ce*mr-ye*Xe)-$t*(lt*mr-Et*Xe)+nr*(lt*ye-Et*ce)),w[2]=tt*(Ot*mr-Ft*Xe)-Mt*(lt*mr-Et*Xe)+nr*(lt*Ft-Et*Ot),w[3]=-(tt*(Ot*ye-Ft*ce)-Mt*(lt*ye-Et*ce)+$t*(lt*Ft-Et*Ot)),w[4]=-(ot*(ce*mr-ye*Xe)-zt*(Ot*mr-Ft*Xe)+Je*(Ot*ye-Ft*ce)),w[5]=V*(ce*mr-ye*Xe)-zt*(lt*mr-Et*Xe)+Je*(lt*ye-Et*ce),w[6]=-(V*(Ot*mr-Ft*Xe)-ot*(lt*mr-Et*Xe)+Je*(lt*Ft-Et*Ot)),w[7]=V*(Ot*ye-Ft*ce)-ot*(lt*ye-Et*ce)+zt*(lt*Ft-Et*Ot),w[8]=ot*($t*mr-ye*nr)-zt*(Mt*mr-Ft*nr)+Je*(Mt*ye-Ft*$t),w[9]=-(V*($t*mr-ye*nr)-zt*(tt*mr-Et*nr)+Je*(tt*ye-Et*$t)),w[10]=V*(Mt*mr-Ft*nr)-ot*(tt*mr-Et*nr)+Je*(tt*Ft-Et*Mt),w[11]=-(V*(Mt*ye-Ft*$t)-ot*(tt*ye-Et*$t)+zt*(tt*Ft-Et*Mt)),w[12]=-(ot*($t*Xe-ce*nr)-zt*(Mt*Xe-Ot*nr)+Je*(Mt*ce-Ot*$t)),w[13]=V*($t*Xe-ce*nr)-zt*(tt*Xe-lt*nr)+Je*(tt*ce-lt*$t),w[14]=-(V*(Mt*Xe-Ot*nr)-ot*(tt*Xe-lt*nr)+Je*(tt*Ot-lt*Mt)),w[15]=V*(Mt*ce-Ot*$t)-ot*(tt*ce-lt*$t)+zt*(tt*Ot-lt*Mt),w}function a(w){var R=w[0],V=w[1],tt=w[2],lt=w[3],Et=w[4],ot=w[5],Mt=w[6],Ot=w[7],Ft=w[8],zt=w[9],$t=w[10],ce=w[11],ye=w[12],Je=w[13],nr=w[14],Xe=w[15],mr=R*ot-V*Et,Gr=R*Mt-tt*Et,xe=R*Ot-lt*Et,de=V*Mt-tt*ot,ze=V*Ot-lt*ot,Ue=tt*Ot-lt*Mt,Kr=Ft*Je-zt*ye,rn=Ft*nr-$t*ye,ci=Ft*Xe-ce*ye,Zi=zt*nr-$t*Je,Ki=zt*Xe-ce*Je,ji=$t*Xe-ce*nr;return mr*ji-Gr*Ki+xe*Zi+de*ci-ze*rn+Ue*Kr}function u(w,R,V){var tt=R[0],lt=R[1],Et=R[2],ot=R[3],Mt=R[4],Ot=R[5],Ft=R[6],zt=R[7],$t=R[8],ce=R[9],ye=R[10],Je=R[11],nr=R[12],Xe=R[13],mr=R[14],Gr=R[15],xe=V[0],de=V[1],ze=V[2],Ue=V[3];return w[0]=xe*tt+de*Mt+ze*$t+Ue*nr,w[1]=xe*lt+de*Ot+ze*ce+Ue*Xe,w[2]=xe*Et+de*Ft+ze*ye+Ue*mr,w[3]=xe*ot+de*zt+ze*Je+Ue*Gr,xe=V[4],de=V[5],ze=V[6],Ue=V[7],w[4]=xe*tt+de*Mt+ze*$t+Ue*nr,w[5]=xe*lt+de*Ot+ze*ce+Ue*Xe,w[6]=xe*Et+de*Ft+ze*ye+Ue*mr,w[7]=xe*ot+de*zt+ze*Je+Ue*Gr,xe=V[8],de=V[9],ze=V[10],Ue=V[11],w[8]=xe*tt+de*Mt+ze*$t+Ue*nr,w[9]=xe*lt+de*Ot+ze*ce+Ue*Xe,w[10]=xe*Et+de*Ft+ze*ye+Ue*mr,w[11]=xe*ot+de*zt+ze*Je+Ue*Gr,xe=V[12],de=V[13],ze=V[14],Ue=V[15],w[12]=xe*tt+de*Mt+ze*$t+Ue*nr,w[13]=xe*lt+de*Ot+ze*ce+Ue*Xe,w[14]=xe*Et+de*Ft+ze*ye+Ue*mr,w[15]=xe*ot+de*zt+ze*Je+Ue*Gr,w}function l(w,R,V){var tt=V[0],lt=V[1],Et=V[2],ot,Mt,Ot,Ft,zt,$t,ce,ye,Je,nr,Xe,mr;return R===w?(w[12]=R[0]*tt+R[4]*lt+R[8]*Et+R[12],w[13]=R[1]*tt+R[5]*lt+R[9]*Et+R[13],w[14]=R[2]*tt+R[6]*lt+R[10]*Et+R[14],w[15]=R[3]*tt+R[7]*lt+R[11]*Et+R[15]):(ot=R[0],Mt=R[1],Ot=R[2],Ft=R[3],zt=R[4],$t=R[5],ce=R[6],ye=R[7],Je=R[8],nr=R[9],Xe=R[10],mr=R[11],w[0]=ot,w[1]=Mt,w[2]=Ot,w[3]=Ft,w[4]=zt,w[5]=$t,w[6]=ce,w[7]=ye,w[8]=Je,w[9]=nr,w[10]=Xe,w[11]=mr,w[12]=ot*tt+zt*lt+Je*Et+R[12],w[13]=Mt*tt+$t*lt+nr*Et+R[13],w[14]=Ot*tt+ce*lt+Xe*Et+R[14],w[15]=Ft*tt+ye*lt+mr*Et+R[15]),w}function h(w,R,V){var tt=V[0],lt=V[1],Et=V[2];return w[0]=R[0]*tt,w[1]=R[1]*tt,w[2]=R[2]*tt,w[3]=R[3]*tt,w[4]=R[4]*lt,w[5]=R[5]*lt,w[6]=R[6]*lt,w[7]=R[7]*lt,w[8]=R[8]*Et,w[9]=R[9]*Et,w[10]=R[10]*Et,w[11]=R[11]*Et,w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15],w}function p(w,R,V,tt){var lt=tt[0],Et=tt[1],ot=tt[2],Mt=Math.hypot(lt,Et,ot),Ot,Ft,zt,$t,ce,ye,Je,nr,Xe,mr,Gr,xe,de,ze,Ue,Kr,rn,ci,Zi,Ki,ji,Ae,De,ar;return Mt<i.Ib?null:(Mt=1/Mt,lt*=Mt,Et*=Mt,ot*=Mt,Ot=Math.sin(V),Ft=Math.cos(V),zt=1-Ft,$t=R[0],ce=R[1],ye=R[2],Je=R[3],nr=R[4],Xe=R[5],mr=R[6],Gr=R[7],xe=R[8],de=R[9],ze=R[10],Ue=R[11],Kr=lt*lt*zt+Ft,rn=Et*lt*zt+ot*Ot,ci=ot*lt*zt-Et*Ot,Zi=lt*Et*zt-ot*Ot,Ki=Et*Et*zt+Ft,ji=ot*Et*zt+lt*Ot,Ae=lt*ot*zt+Et*Ot,De=Et*ot*zt-lt*Ot,ar=ot*ot*zt+Ft,w[0]=$t*Kr+nr*rn+xe*ci,w[1]=ce*Kr+Xe*rn+de*ci,w[2]=ye*Kr+mr*rn+ze*ci,w[3]=Je*Kr+Gr*rn+Ue*ci,w[4]=$t*Zi+nr*Ki+xe*ji,w[5]=ce*Zi+Xe*Ki+de*ji,w[6]=ye*Zi+mr*Ki+ze*ji,w[7]=Je*Zi+Gr*Ki+Ue*ji,w[8]=$t*Ae+nr*De+xe*ar,w[9]=ce*Ae+Xe*De+de*ar,w[10]=ye*Ae+mr*De+ze*ar,w[11]=Je*Ae+Gr*De+Ue*ar,R!==w&&(w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15]),w)}function d(w,R,V){var tt=Math.sin(V),lt=Math.cos(V),Et=R[4],ot=R[5],Mt=R[6],Ot=R[7],Ft=R[8],zt=R[9],$t=R[10],ce=R[11];return R!==w&&(w[0]=R[0],w[1]=R[1],w[2]=R[2],w[3]=R[3],w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15]),w[4]=Et*lt+Ft*tt,w[5]=ot*lt+zt*tt,w[6]=Mt*lt+$t*tt,w[7]=Ot*lt+ce*tt,w[8]=Ft*lt-Et*tt,w[9]=zt*lt-ot*tt,w[10]=$t*lt-Mt*tt,w[11]=ce*lt-Ot*tt,w}function g(w,R,V){var tt=Math.sin(V),lt=Math.cos(V),Et=R[0],ot=R[1],Mt=R[2],Ot=R[3],Ft=R[8],zt=R[9],$t=R[10],ce=R[11];return R!==w&&(w[4]=R[4],w[5]=R[5],w[6]=R[6],w[7]=R[7],w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15]),w[0]=Et*lt-Ft*tt,w[1]=ot*lt-zt*tt,w[2]=Mt*lt-$t*tt,w[3]=Ot*lt-ce*tt,w[8]=Et*tt+Ft*lt,w[9]=ot*tt+zt*lt,w[10]=Mt*tt+$t*lt,w[11]=Ot*tt+ce*lt,w}function y(w,R,V){var tt=Math.sin(V),lt=Math.cos(V),Et=R[0],ot=R[1],Mt=R[2],Ot=R[3],Ft=R[4],zt=R[5],$t=R[6],ce=R[7];return R!==w&&(w[8]=R[8],w[9]=R[9],w[10]=R[10],w[11]=R[11],w[12]=R[12],w[13]=R[13],w[14]=R[14],w[15]=R[15]),w[0]=Et*lt+Ft*tt,w[1]=ot*lt+zt*tt,w[2]=Mt*lt+$t*tt,w[3]=Ot*lt+ce*tt,w[4]=Ft*lt-Et*tt,w[5]=zt*lt-ot*tt,w[6]=$t*lt-Mt*tt,w[7]=ce*lt-Ot*tt,w}function E(w,R){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=R[0],w[13]=R[1],w[14]=R[2],w[15]=1,w}function C(w,R){return w[0]=R[0],w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=R[1],w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=R[2],w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function m(w,R,V){var tt=V[0],lt=V[1],Et=V[2],ot=Math.hypot(tt,lt,Et),Mt,Ot,Ft;return ot<i.Ib?null:(ot=1/ot,tt*=ot,lt*=ot,Et*=ot,Mt=Math.sin(R),Ot=Math.cos(R),Ft=1-Ot,w[0]=tt*tt*Ft+Ot,w[1]=lt*tt*Ft+Et*Mt,w[2]=Et*tt*Ft-lt*Mt,w[3]=0,w[4]=tt*lt*Ft-Et*Mt,w[5]=lt*lt*Ft+Ot,w[6]=Et*lt*Ft+tt*Mt,w[7]=0,w[8]=tt*Et*Ft+lt*Mt,w[9]=lt*Et*Ft-tt*Mt,w[10]=Et*Et*Ft+Ot,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w)}function M(w,R){var V=Math.sin(R),tt=Math.cos(R);return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=tt,w[6]=V,w[7]=0,w[8]=0,w[9]=-V,w[10]=tt,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function b(w,R){var V=Math.sin(R),tt=Math.cos(R);return w[0]=tt,w[1]=0,w[2]=-V,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=V,w[9]=0,w[10]=tt,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function S(w,R){var V=Math.sin(R),tt=Math.cos(R);return w[0]=tt,w[1]=V,w[2]=0,w[3]=0,w[4]=-V,w[5]=tt,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function A(w,R,V){var tt=R[0],lt=R[1],Et=R[2],ot=R[3],Mt=tt+tt,Ot=lt+lt,Ft=Et+Et,zt=tt*Mt,$t=tt*Ot,ce=tt*Ft,ye=lt*Ot,Je=lt*Ft,nr=Et*Ft,Xe=ot*Mt,mr=ot*Ot,Gr=ot*Ft;return w[0]=1-(ye+nr),w[1]=$t+Gr,w[2]=ce-mr,w[3]=0,w[4]=$t-Gr,w[5]=1-(zt+nr),w[6]=Je+Xe,w[7]=0,w[8]=ce+mr,w[9]=Je-Xe,w[10]=1-(zt+ye),w[11]=0,w[12]=V[0],w[13]=V[1],w[14]=V[2],w[15]=1,w}function T(w,R){var V=new i.WT(3),tt=-R[0],lt=-R[1],Et=-R[2],ot=R[3],Mt=R[4],Ot=R[5],Ft=R[6],zt=R[7],$t=tt*tt+lt*lt+Et*Et+ot*ot;return $t>0?(V[0]=(Mt*ot+zt*tt+Ot*Et-Ft*lt)*2/$t,V[1]=(Ot*ot+zt*lt+Ft*tt-Mt*Et)*2/$t,V[2]=(Ft*ot+zt*Et+Mt*lt-Ot*tt)*2/$t):(V[0]=(Mt*ot+zt*tt+Ot*Et-Ft*lt)*2,V[1]=(Ot*ot+zt*lt+Ft*tt-Mt*Et)*2,V[2]=(Ft*ot+zt*Et+Mt*lt-Ot*tt)*2),A(w,R,V),w}function O(w,R){return w[0]=R[12],w[1]=R[13],w[2]=R[14],w}function D(w,R){var V=R[0],tt=R[1],lt=R[2],Et=R[4],ot=R[5],Mt=R[6],Ot=R[8],Ft=R[9],zt=R[10];return w[0]=Math.hypot(V,tt,lt),w[1]=Math.hypot(Et,ot,Mt),w[2]=Math.hypot(Ot,Ft,zt),w}function L(w,R){var V=new i.WT(3);D(V,R);var tt=1/V[0],lt=1/V[1],Et=1/V[2],ot=R[0]*tt,Mt=R[1]*lt,Ot=R[2]*Et,Ft=R[4]*tt,zt=R[5]*lt,$t=R[6]*Et,ce=R[8]*tt,ye=R[9]*lt,Je=R[10]*Et,nr=ot+zt+Je,Xe=0;return nr>0?(Xe=Math.sqrt(nr+1)*2,w[3]=.25*Xe,w[0]=($t-ye)/Xe,w[1]=(ce-Ot)/Xe,w[2]=(Mt-Ft)/Xe):ot>zt&&ot>Je?(Xe=Math.sqrt(1+ot-zt-Je)*2,w[3]=($t-ye)/Xe,w[0]=.25*Xe,w[1]=(Mt+Ft)/Xe,w[2]=(ce+Ot)/Xe):zt>Je?(Xe=Math.sqrt(1+zt-ot-Je)*2,w[3]=(ce-Ot)/Xe,w[0]=(Mt+Ft)/Xe,w[1]=.25*Xe,w[2]=($t+ye)/Xe):(Xe=Math.sqrt(1+Je-ot-zt)*2,w[3]=(Mt-Ft)/Xe,w[0]=(ce+Ot)/Xe,w[1]=($t+ye)/Xe,w[2]=.25*Xe),w}function Z(w,R,V,tt){var lt=R[0],Et=R[1],ot=R[2],Mt=R[3],Ot=lt+lt,Ft=Et+Et,zt=ot+ot,$t=lt*Ot,ce=lt*Ft,ye=lt*zt,Je=Et*Ft,nr=Et*zt,Xe=ot*zt,mr=Mt*Ot,Gr=Mt*Ft,xe=Mt*zt,de=tt[0],ze=tt[1],Ue=tt[2];return w[0]=(1-(Je+Xe))*de,w[1]=(ce+xe)*de,w[2]=(ye-Gr)*de,w[3]=0,w[4]=(ce-xe)*ze,w[5]=(1-($t+Xe))*ze,w[6]=(nr+mr)*ze,w[7]=0,w[8]=(ye+Gr)*Ue,w[9]=(nr-mr)*Ue,w[10]=(1-($t+Je))*Ue,w[11]=0,w[12]=V[0],w[13]=V[1],w[14]=V[2],w[15]=1,w}function U(w,R,V,tt,lt){var Et=R[0],ot=R[1],Mt=R[2],Ot=R[3],Ft=Et+Et,zt=ot+ot,$t=Mt+Mt,ce=Et*Ft,ye=Et*zt,Je=Et*$t,nr=ot*zt,Xe=ot*$t,mr=Mt*$t,Gr=Ot*Ft,xe=Ot*zt,de=Ot*$t,ze=tt[0],Ue=tt[1],Kr=tt[2],rn=lt[0],ci=lt[1],Zi=lt[2],Ki=(1-(nr+mr))*ze,ji=(ye+de)*ze,Ae=(Je-xe)*ze,De=(ye-de)*Ue,ar=(1-(ce+mr))*Ue,Pr=(Xe+Gr)*Ue,or=(Je+xe)*Kr,wr=(Xe-Gr)*Kr,cn=(1-(ce+nr))*Kr;return w[0]=Ki,w[1]=ji,w[2]=Ae,w[3]=0,w[4]=De,w[5]=ar,w[6]=Pr,w[7]=0,w[8]=or,w[9]=wr,w[10]=cn,w[11]=0,w[12]=V[0]+rn-(Ki*rn+De*ci+or*Zi),w[13]=V[1]+ci-(ji*rn+ar*ci+wr*Zi),w[14]=V[2]+Zi-(Ae*rn+Pr*ci+cn*Zi),w[15]=1,w}function Y(w,R){var V=R[0],tt=R[1],lt=R[2],Et=R[3],ot=V+V,Mt=tt+tt,Ot=lt+lt,Ft=V*ot,zt=tt*ot,$t=tt*Mt,ce=lt*ot,ye=lt*Mt,Je=lt*Ot,nr=Et*ot,Xe=Et*Mt,mr=Et*Ot;return w[0]=1-$t-Je,w[1]=zt+mr,w[2]=ce-Xe,w[3]=0,w[4]=zt-mr,w[5]=1-Ft-Je,w[6]=ye+nr,w[7]=0,w[8]=ce+Xe,w[9]=ye-nr,w[10]=1-Ft-$t,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function W(w,R,V,tt,lt,Et,ot){var Mt=1/(V-R),Ot=1/(lt-tt),Ft=1/(Et-ot);return w[0]=Et*2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=Et*2*Ot,w[6]=0,w[7]=0,w[8]=(V+R)*Mt,w[9]=(lt+tt)*Ot,w[10]=(ot+Et)*Ft,w[11]=-1,w[12]=0,w[13]=0,w[14]=ot*Et*2*Ft,w[15]=0,w}function J(w,R,V,tt,lt){var Et=1/Math.tan(R/2),ot;return w[0]=Et/V,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=Et,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,lt!=null&&lt!==Infinity?(ot=1/(tt-lt),w[10]=(lt+tt)*ot,w[14]=2*lt*tt*ot):(w[10]=-1,w[14]=-2*tt),w}var ht=J;function nt(w,R,V,tt,lt){var Et=1/Math.tan(R/2),ot;return w[0]=Et/V,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=Et,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,lt!=null&&lt!==Infinity?(ot=1/(tt-lt),w[10]=lt*ot,w[14]=lt*tt*ot):(w[10]=-1,w[14]=-tt),w}function Q(w,R,V,tt){var lt=Math.tan(R.upDegrees*Math.PI/180),Et=Math.tan(R.downDegrees*Math.PI/180),ot=Math.tan(R.leftDegrees*Math.PI/180),Mt=Math.tan(R.rightDegrees*Math.PI/180),Ot=2/(ot+Mt),Ft=2/(lt+Et);return w[0]=Ot,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=Ft,w[6]=0,w[7]=0,w[8]=-((ot-Mt)*Ot*.5),w[9]=(lt-Et)*Ft*.5,w[10]=tt/(V-tt),w[11]=-1,w[12]=0,w[13]=0,w[14]=tt*V/(V-tt),w[15]=0,w}function xt(w,R,V,tt,lt,Et,ot){var Mt=1/(R-V),Ot=1/(tt-lt),Ft=1/(Et-ot);return w[0]=-2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*Ot,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=2*Ft,w[11]=0,w[12]=(R+V)*Mt,w[13]=(lt+tt)*Ot,w[14]=(ot+Et)*Ft,w[15]=1,w}var _t=xt;function Nt(w,R,V,tt,lt,Et,ot){var Mt=1/(R-V),Ot=1/(tt-lt),Ft=1/(Et-ot);return w[0]=-2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*Ot,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=Ft,w[11]=0,w[12]=(R+V)*Mt,w[13]=(lt+tt)*Ot,w[14]=Et*Ft,w[15]=1,w}function rt(w,R,V,tt){var lt,Et,ot,Mt,Ot,Ft,zt,$t,ce,ye,Je=R[0],nr=R[1],Xe=R[2],mr=tt[0],Gr=tt[1],xe=tt[2],de=V[0],ze=V[1],Ue=V[2];return Math.abs(Je-de)<i.Ib&&Math.abs(nr-ze)<i.Ib&&Math.abs(Xe-Ue)<i.Ib?f(w):(zt=Je-de,$t=nr-ze,ce=Xe-Ue,ye=1/Math.hypot(zt,$t,ce),zt*=ye,$t*=ye,ce*=ye,lt=Gr*ce-xe*$t,Et=xe*zt-mr*ce,ot=mr*$t-Gr*zt,ye=Math.hypot(lt,Et,ot),ye?(ye=1/ye,lt*=ye,Et*=ye,ot*=ye):(lt=0,Et=0,ot=0),Mt=$t*ot-ce*Et,Ot=ce*lt-zt*ot,Ft=zt*Et-$t*lt,ye=Math.hypot(Mt,Ot,Ft),ye?(ye=1/ye,Mt*=ye,Ot*=ye,Ft*=ye):(Mt=0,Ot=0,Ft=0),w[0]=lt,w[1]=Mt,w[2]=zt,w[3]=0,w[4]=Et,w[5]=Ot,w[6]=$t,w[7]=0,w[8]=ot,w[9]=Ft,w[10]=ce,w[11]=0,w[12]=-(lt*Je+Et*nr+ot*Xe),w[13]=-(Mt*Je+Ot*nr+Ft*Xe),w[14]=-(zt*Je+$t*nr+ce*Xe),w[15]=1,w)}function q(w,R,V,tt){var lt=R[0],Et=R[1],ot=R[2],Mt=tt[0],Ot=tt[1],Ft=tt[2],zt=lt-V[0],$t=Et-V[1],ce=ot-V[2],ye=zt*zt+$t*$t+ce*ce;ye>0&&(ye=1/Math.sqrt(ye),zt*=ye,$t*=ye,ce*=ye);var Je=Ot*ce-Ft*$t,nr=Ft*zt-Mt*ce,Xe=Mt*$t-Ot*zt;return ye=Je*Je+nr*nr+Xe*Xe,ye>0&&(ye=1/Math.sqrt(ye),Je*=ye,nr*=ye,Xe*=ye),w[0]=Je,w[1]=nr,w[2]=Xe,w[3]=0,w[4]=$t*Xe-ce*nr,w[5]=ce*Je-zt*Xe,w[6]=zt*nr-$t*Je,w[7]=0,w[8]=zt,w[9]=$t,w[10]=ce,w[11]=0,w[12]=lt,w[13]=Et,w[14]=ot,w[15]=1,w}function G(w){return"mat4("+w[0]+", "+w[1]+", "+w[2]+", "+w[3]+", "+w[4]+", "+w[5]+", "+w[6]+", "+w[7]+", "+w[8]+", "+w[9]+", "+w[10]+", "+w[11]+", "+w[12]+", "+w[13]+", "+w[14]+", "+w[15]+")"}function N(w){return Math.hypot(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15])}function at(w,R,V){return w[0]=R[0]+V[0],w[1]=R[1]+V[1],w[2]=R[2]+V[2],w[3]=R[3]+V[3],w[4]=R[4]+V[4],w[5]=R[5]+V[5],w[6]=R[6]+V[6],w[7]=R[7]+V[7],w[8]=R[8]+V[8],w[9]=R[9]+V[9],w[10]=R[10]+V[10],w[11]=R[11]+V[11],w[12]=R[12]+V[12],w[13]=R[13]+V[13],w[14]=R[14]+V[14],w[15]=R[15]+V[15],w}function H(w,R,V){return w[0]=R[0]-V[0],w[1]=R[1]-V[1],w[2]=R[2]-V[2],w[3]=R[3]-V[3],w[4]=R[4]-V[4],w[5]=R[5]-V[5],w[6]=R[6]-V[6],w[7]=R[7]-V[7],w[8]=R[8]-V[8],w[9]=R[9]-V[9],w[10]=R[10]-V[10],w[11]=R[11]-V[11],w[12]=R[12]-V[12],w[13]=R[13]-V[13],w[14]=R[14]-V[14],w[15]=R[15]-V[15],w}function ft(w,R,V){return w[0]=R[0]*V,w[1]=R[1]*V,w[2]=R[2]*V,w[3]=R[3]*V,w[4]=R[4]*V,w[5]=R[5]*V,w[6]=R[6]*V,w[7]=R[7]*V,w[8]=R[8]*V,w[9]=R[9]*V,w[10]=R[10]*V,w[11]=R[11]*V,w[12]=R[12]*V,w[13]=R[13]*V,w[14]=R[14]*V,w[15]=R[15]*V,w}function ct(w,R,V,tt){return w[0]=R[0]+V[0]*tt,w[1]=R[1]+V[1]*tt,w[2]=R[2]+V[2]*tt,w[3]=R[3]+V[3]*tt,w[4]=R[4]+V[4]*tt,w[5]=R[5]+V[5]*tt,w[6]=R[6]+V[6]*tt,w[7]=R[7]+V[7]*tt,w[8]=R[8]+V[8]*tt,w[9]=R[9]+V[9]*tt,w[10]=R[10]+V[10]*tt,w[11]=R[11]+V[11]*tt,w[12]=R[12]+V[12]*tt,w[13]=R[13]+V[13]*tt,w[14]=R[14]+V[14]*tt,w[15]=R[15]+V[15]*tt,w}function K(w,R){return w[0]===R[0]&&w[1]===R[1]&&w[2]===R[2]&&w[3]===R[3]&&w[4]===R[4]&&w[5]===R[5]&&w[6]===R[6]&&w[7]===R[7]&&w[8]===R[8]&&w[9]===R[9]&&w[10]===R[10]&&w[11]===R[11]&&w[12]===R[12]&&w[13]===R[13]&&w[14]===R[14]&&w[15]===R[15]}function $(w,R){var V=w[0],tt=w[1],lt=w[2],Et=w[3],ot=w[4],Mt=w[5],Ot=w[6],Ft=w[7],zt=w[8],$t=w[9],ce=w[10],ye=w[11],Je=w[12],nr=w[13],Xe=w[14],mr=w[15],Gr=R[0],xe=R[1],de=R[2],ze=R[3],Ue=R[4],Kr=R[5],rn=R[6],ci=R[7],Zi=R[8],Ki=R[9],ji=R[10],Ae=R[11],De=R[12],ar=R[13],Pr=R[14],or=R[15];return Math.abs(V-Gr)<=i.Ib*Math.max(1,Math.abs(V),Math.abs(Gr))&&Math.abs(tt-xe)<=i.Ib*Math.max(1,Math.abs(tt),Math.abs(xe))&&Math.abs(lt-de)<=i.Ib*Math.max(1,Math.abs(lt),Math.abs(de))&&Math.abs(Et-ze)<=i.Ib*Math.max(1,Math.abs(Et),Math.abs(ze))&&Math.abs(ot-Ue)<=i.Ib*Math.max(1,Math.abs(ot),Math.abs(Ue))&&Math.abs(Mt-Kr)<=i.Ib*Math.max(1,Math.abs(Mt),Math.abs(Kr))&&Math.abs(Ot-rn)<=i.Ib*Math.max(1,Math.abs(Ot),Math.abs(rn))&&Math.abs(Ft-ci)<=i.Ib*Math.max(1,Math.abs(Ft),Math.abs(ci))&&Math.abs(zt-Zi)<=i.Ib*Math.max(1,Math.abs(zt),Math.abs(Zi))&&Math.abs($t-Ki)<=i.Ib*Math.max(1,Math.abs($t),Math.abs(Ki))&&Math.abs(ce-ji)<=i.Ib*Math.max(1,Math.abs(ce),Math.abs(ji))&&Math.abs(ye-Ae)<=i.Ib*Math.max(1,Math.abs(ye),Math.abs(Ae))&&Math.abs(Je-De)<=i.Ib*Math.max(1,Math.abs(Je),Math.abs(De))&&Math.abs(nr-ar)<=i.Ib*Math.max(1,Math.abs(nr),Math.abs(ar))&&Math.abs(Xe-Pr)<=i.Ib*Math.max(1,Math.abs(Xe),Math.abs(Pr))&&Math.abs(mr-or)<=i.Ib*Math.max(1,Math.abs(mr),Math.abs(or))}var et=u,B=H},98333:function(gr,P,x){"use strict";x.d(P,{Ue:function(){return t},al:function(){return s},fF:function(){return L}});var i=x(49685);function t(){var G=new i.WT(4);return i.WT!=Float32Array&&(G[0]=0,G[1]=0,G[2]=0,G[3]=0),G}function c(G){var N=new glMatrix.ARRAY_TYPE(4);return N[0]=G[0],N[1]=G[1],N[2]=G[2],N[3]=G[3],N}function s(G,N,at,H){var ft=new i.WT(4);return ft[0]=G,ft[1]=N,ft[2]=at,ft[3]=H,ft}function v(G,N){return G[0]=N[0],G[1]=N[1],G[2]=N[2],G[3]=N[3],G}function o(G,N,at,H,ft){return G[0]=N,G[1]=at,G[2]=H,G[3]=ft,G}function f(G,N,at){return G[0]=N[0]+at[0],G[1]=N[1]+at[1],G[2]=N[2]+at[2],G[3]=N[3]+at[3],G}function r(G,N,at){return G[0]=N[0]-at[0],G[1]=N[1]-at[1],G[2]=N[2]-at[2],G[3]=N[3]-at[3],G}function e(G,N,at){return G[0]=N[0]*at[0],G[1]=N[1]*at[1],G[2]=N[2]*at[2],G[3]=N[3]*at[3],G}function n(G,N,at){return G[0]=N[0]/at[0],G[1]=N[1]/at[1],G[2]=N[2]/at[2],G[3]=N[3]/at[3],G}function a(G,N){return G[0]=Math.ceil(N[0]),G[1]=Math.ceil(N[1]),G[2]=Math.ceil(N[2]),G[3]=Math.ceil(N[3]),G}function u(G,N){return G[0]=Math.floor(N[0]),G[1]=Math.floor(N[1]),G[2]=Math.floor(N[2]),G[3]=Math.floor(N[3]),G}function l(G,N,at){return G[0]=Math.min(N[0],at[0]),G[1]=Math.min(N[1],at[1]),G[2]=Math.min(N[2],at[2]),G[3]=Math.min(N[3],at[3]),G}function h(G,N,at){return G[0]=Math.max(N[0],at[0]),G[1]=Math.max(N[1],at[1]),G[2]=Math.max(N[2],at[2]),G[3]=Math.max(N[3],at[3]),G}function p(G,N){return G[0]=Math.round(N[0]),G[1]=Math.round(N[1]),G[2]=Math.round(N[2]),G[3]=Math.round(N[3]),G}function d(G,N,at){return G[0]=N[0]*at,G[1]=N[1]*at,G[2]=N[2]*at,G[3]=N[3]*at,G}function g(G,N,at,H){return G[0]=N[0]+at[0]*H,G[1]=N[1]+at[1]*H,G[2]=N[2]+at[2]*H,G[3]=N[3]+at[3]*H,G}function y(G,N){var at=N[0]-G[0],H=N[1]-G[1],ft=N[2]-G[2],ct=N[3]-G[3];return Math.hypot(at,H,ft,ct)}function E(G,N){var at=N[0]-G[0],H=N[1]-G[1],ft=N[2]-G[2],ct=N[3]-G[3];return at*at+H*H+ft*ft+ct*ct}function C(G){var N=G[0],at=G[1],H=G[2],ft=G[3];return Math.hypot(N,at,H,ft)}function m(G){var N=G[0],at=G[1],H=G[2],ft=G[3];return N*N+at*at+H*H+ft*ft}function M(G,N){return G[0]=-N[0],G[1]=-N[1],G[2]=-N[2],G[3]=-N[3],G}function b(G,N){return G[0]=1/N[0],G[1]=1/N[1],G[2]=1/N[2],G[3]=1/N[3],G}function S(G,N){var at=N[0],H=N[1],ft=N[2],ct=N[3],K=at*at+H*H+ft*ft+ct*ct;return K>0&&(K=1/Math.sqrt(K)),G[0]=at*K,G[1]=H*K,G[2]=ft*K,G[3]=ct*K,G}function A(G,N){return G[0]*N[0]+G[1]*N[1]+G[2]*N[2]+G[3]*N[3]}function T(G,N,at,H){var ft=at[0]*H[1]-at[1]*H[0],ct=at[0]*H[2]-at[2]*H[0],K=at[0]*H[3]-at[3]*H[0],$=at[1]*H[2]-at[2]*H[1],et=at[1]*H[3]-at[3]*H[1],B=at[2]*H[3]-at[3]*H[2],w=N[0],R=N[1],V=N[2],tt=N[3];return G[0]=R*B-V*et+tt*$,G[1]=-(w*B)+V*K-tt*ct,G[2]=w*et-R*K+tt*ft,G[3]=-(w*$)+R*ct-V*ft,G}function O(G,N,at,H){var ft=N[0],ct=N[1],K=N[2],$=N[3];return G[0]=ft+H*(at[0]-ft),G[1]=ct+H*(at[1]-ct),G[2]=K+H*(at[2]-K),G[3]=$+H*(at[3]-$),G}function D(G,N){N=N||1;var at,H,ft,ct,K,$;do at=glMatrix.RANDOM()*2-1,H=glMatrix.RANDOM()*2-1,K=at*at+H*H;while(K>=1);do ft=glMatrix.RANDOM()*2-1,ct=glMatrix.RANDOM()*2-1,$=ft*ft+ct*ct;while($>=1);var et=Math.sqrt((1-K)/$);return G[0]=N*at,G[1]=N*H,G[2]=N*ft*et,G[3]=N*ct*et,G}function L(G,N,at){var H=N[0],ft=N[1],ct=N[2],K=N[3];return G[0]=at[0]*H+at[4]*ft+at[8]*ct+at[12]*K,G[1]=at[1]*H+at[5]*ft+at[9]*ct+at[13]*K,G[2]=at[2]*H+at[6]*ft+at[10]*ct+at[14]*K,G[3]=at[3]*H+at[7]*ft+at[11]*ct+at[15]*K,G}function Z(G,N,at){var H=N[0],ft=N[1],ct=N[2],K=at[0],$=at[1],et=at[2],B=at[3],w=B*H+$*ct-et*ft,R=B*ft+et*H-K*ct,V=B*ct+K*ft-$*H,tt=-K*H-$*ft-et*ct;return G[0]=w*B+tt*-K+R*-et-V*-$,G[1]=R*B+tt*-$+V*-K-w*-et,G[2]=V*B+tt*-et+w*-$-R*-K,G[3]=N[3],G}function U(G){return G[0]=0,G[1]=0,G[2]=0,G[3]=0,G}function Y(G){return"vec4("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+")"}function W(G,N){return G[0]===N[0]&&G[1]===N[1]&&G[2]===N[2]&&G[3]===N[3]}function J(G,N){var at=G[0],H=G[1],ft=G[2],ct=G[3],K=N[0],$=N[1],et=N[2],B=N[3];return Math.abs(at-K)<=glMatrix.EPSILON*Math.max(1,Math.abs(at),Math.abs(K))&&Math.abs(H-$)<=glMatrix.EPSILON*Math.max(1,Math.abs(H),Math.abs($))&&Math.abs(ft-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(ft),Math.abs(et))&&Math.abs(ct-B)<=glMatrix.EPSILON*Math.max(1,Math.abs(ct),Math.abs(B))}var ht=null,nt=null,Q=null,xt=null,_t=null,Nt=null,rt=null,q=function(){var G=t();return function(N,at,H,ft,ct,K){var $,et;for(at||(at=4),H||(H=0),ft?et=Math.min(ft*at+H,N.length):et=N.length,$=H;$<et;$+=at)G[0]=N[$],G[1]=N[$+1],G[2]=N[$+2],G[3]=N[$+3],ct(G,G,K),N[$]=G[0],N[$+1]=G[1],N[$+2]=G[2],N[$+3]=G[3];return N}}()},50840:function(gr,P,x){var i;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(t,c,s,v){"use strict";var o=["","webkit","Moz","MS","ms","o"],f=c.createElement("div"),r="function",e=Math.round,n=Math.abs,a=Date.now;function u(Vt,ee,Ce){return setTimeout(C(Vt,Ce),ee)}function l(Vt,ee,Ce){return Array.isArray(Vt)?(h(Vt,Ce[ee],Ce),!0):!1}function h(Vt,ee,Ce){var Me;if(!!Vt)if(Vt.forEach)Vt.forEach(ee,Ce);else if(Vt.length!==v)for(Me=0;Me<Vt.length;)ee.call(Ce,Vt[Me],Me,Vt),Me++;else for(Me in Vt)Vt.hasOwnProperty(Me)&&ee.call(Ce,Vt[Me],Me,Vt)}function p(Vt,ee,Ce){var Me="DEPRECATED METHOD: "+ee+`
`+Ce+` AT 
`;return function(){var Sr=new Error("get-stack-trace"),pn=Sr&&Sr.stack?Sr.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",En=t.console&&(t.console.warn||t.console.log);return En&&En.call(t.console,Me,pn),Vt.apply(this,arguments)}}var d;typeof Object.assign!="function"?d=function(ee){if(ee===v||ee===null)throw new TypeError("Cannot convert undefined or null to object");for(var Ce=Object(ee),Me=1;Me<arguments.length;Me++){var Sr=arguments[Me];if(Sr!==v&&Sr!==null)for(var pn in Sr)Sr.hasOwnProperty(pn)&&(Ce[pn]=Sr[pn])}return Ce}:d=Object.assign;var g=p(function(ee,Ce,Me){for(var Sr=Object.keys(Ce),pn=0;pn<Sr.length;)(!Me||Me&&ee[Sr[pn]]===v)&&(ee[Sr[pn]]=Ce[Sr[pn]]),pn++;return ee},"extend","Use `assign`."),y=p(function(ee,Ce){return g(ee,Ce,!0)},"merge","Use `assign`.");function E(Vt,ee,Ce){var Me=ee.prototype,Sr;Sr=Vt.prototype=Object.create(Me),Sr.constructor=Vt,Sr._super=Me,Ce&&d(Sr,Ce)}function C(Vt,ee){return function(){return Vt.apply(ee,arguments)}}function m(Vt,ee){return typeof Vt==r?Vt.apply(ee&&ee[0]||v,ee):Vt}function M(Vt,ee){return Vt===v?ee:Vt}function b(Vt,ee,Ce){h(O(ee),function(Me){Vt.addEventListener(Me,Ce,!1)})}function S(Vt,ee,Ce){h(O(ee),function(Me){Vt.removeEventListener(Me,Ce,!1)})}function A(Vt,ee){for(;Vt;){if(Vt==ee)return!0;Vt=Vt.parentNode}return!1}function T(Vt,ee){return Vt.indexOf(ee)>-1}function O(Vt){return Vt.trim().split(/\s+/g)}function D(Vt,ee,Ce){if(Vt.indexOf&&!Ce)return Vt.indexOf(ee);for(var Me=0;Me<Vt.length;){if(Ce&&Vt[Me][Ce]==ee||!Ce&&Vt[Me]===ee)return Me;Me++}return-1}function L(Vt){return Array.prototype.slice.call(Vt,0)}function Z(Vt,ee,Ce){for(var Me=[],Sr=[],pn=0;pn<Vt.length;){var En=ee?Vt[pn][ee]:Vt[pn];D(Sr,En)<0&&Me.push(Vt[pn]),Sr[pn]=En,pn++}return Ce&&(ee?Me=Me.sort(function(Ci,aa){return Ci[ee]>aa[ee]}):Me=Me.sort()),Me}function U(Vt,ee){for(var Ce,Me,Sr=ee[0].toUpperCase()+ee.slice(1),pn=0;pn<o.length;){if(Ce=o[pn],Me=Ce?Ce+Sr:ee,Me in Vt)return Me;pn++}return v}var Y=1;function W(){return Y++}function J(Vt){var ee=Vt.ownerDocument||Vt;return ee.defaultView||ee.parentWindow||t}var ht=/mobile|tablet|ip(ad|hone|od)|android/i,nt="ontouchstart"in t,Q=U(t,"PointerEvent")!==v,xt=nt&&ht.test(navigator.userAgent),_t="touch",Nt="pen",rt="mouse",q="kinect",G=25,N=1,at=2,H=4,ft=8,ct=1,K=2,$=4,et=8,B=16,w=K|$,R=et|B,V=w|R,tt=["x","y"],lt=["clientX","clientY"];function Et(Vt,ee){var Ce=this;this.manager=Vt,this.callback=ee,this.element=Vt.element,this.target=Vt.options.inputTarget,this.domHandler=function(Me){m(Vt.options.enable,[Vt])&&Ce.handler(Me)},this.init()}Et.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(J(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(J(this.element),this.evWin,this.domHandler)}};function ot(Vt){var ee,Ce=Vt.options.inputClass;return Ce?ee=Ce:Q?ee=Ki:xt?ee=cn:nt?ee=Gn:ee=Ue,new ee(Vt,Mt)}function Mt(Vt,ee,Ce){var Me=Ce.pointers.length,Sr=Ce.changedPointers.length,pn=ee&N&&Me-Sr==0,En=ee&(H|ft)&&Me-Sr==0;Ce.isFirst=!!pn,Ce.isFinal=!!En,pn&&(Vt.session={}),Ce.eventType=ee,Ot(Vt,Ce),Vt.emit("hammer.input",Ce),Vt.recognize(Ce),Vt.session.prevInput=Ce}function Ot(Vt,ee){var Ce=Vt.session,Me=ee.pointers,Sr=Me.length;Ce.firstInput||(Ce.firstInput=$t(ee)),Sr>1&&!Ce.firstMultiple?Ce.firstMultiple=$t(ee):Sr===1&&(Ce.firstMultiple=!1);var pn=Ce.firstInput,En=Ce.firstMultiple,fi=En?En.center:pn.center,Ci=ee.center=ce(Me);ee.timeStamp=a(),ee.deltaTime=ee.timeStamp-pn.timeStamp,ee.angle=Xe(fi,Ci),ee.distance=nr(fi,Ci),Ft(Ce,ee),ee.offsetDirection=Je(ee.deltaX,ee.deltaY);var aa=ye(ee.deltaTime,ee.deltaX,ee.deltaY);ee.overallVelocityX=aa.x,ee.overallVelocityY=aa.y,ee.overallVelocity=n(aa.x)>n(aa.y)?aa.x:aa.y,ee.scale=En?Gr(En.pointers,Me):1,ee.rotation=En?mr(En.pointers,Me):0,ee.maxPointers=Ce.prevInput?ee.pointers.length>Ce.prevInput.maxPointers?ee.pointers.length:Ce.prevInput.maxPointers:ee.pointers.length,zt(Ce,ee);var ta=Vt.element;A(ee.srcEvent.target,ta)&&(ta=ee.srcEvent.target),ee.target=ta}function Ft(Vt,ee){var Ce=ee.center,Me=Vt.offsetDelta||{},Sr=Vt.prevDelta||{},pn=Vt.prevInput||{};(ee.eventType===N||pn.eventType===H)&&(Sr=Vt.prevDelta={x:pn.deltaX||0,y:pn.deltaY||0},Me=Vt.offsetDelta={x:Ce.x,y:Ce.y}),ee.deltaX=Sr.x+(Ce.x-Me.x),ee.deltaY=Sr.y+(Ce.y-Me.y)}function zt(Vt,ee){var Ce=Vt.lastInterval||ee,Me=ee.timeStamp-Ce.timeStamp,Sr,pn,En,fi;if(ee.eventType!=ft&&(Me>G||Ce.velocity===v)){var Ci=ee.deltaX-Ce.deltaX,aa=ee.deltaY-Ce.deltaY,ta=ye(Me,Ci,aa);pn=ta.x,En=ta.y,Sr=n(ta.x)>n(ta.y)?ta.x:ta.y,fi=Je(Ci,aa),Vt.lastInterval=ee}else Sr=Ce.velocity,pn=Ce.velocityX,En=Ce.velocityY,fi=Ce.direction;ee.velocity=Sr,ee.velocityX=pn,ee.velocityY=En,ee.direction=fi}function $t(Vt){for(var ee=[],Ce=0;Ce<Vt.pointers.length;)ee[Ce]={clientX:e(Vt.pointers[Ce].clientX),clientY:e(Vt.pointers[Ce].clientY)},Ce++;return{timeStamp:a(),pointers:ee,center:ce(ee),deltaX:Vt.deltaX,deltaY:Vt.deltaY}}function ce(Vt){var ee=Vt.length;if(ee===1)return{x:e(Vt[0].clientX),y:e(Vt[0].clientY)};for(var Ce=0,Me=0,Sr=0;Sr<ee;)Ce+=Vt[Sr].clientX,Me+=Vt[Sr].clientY,Sr++;return{x:e(Ce/ee),y:e(Me/ee)}}function ye(Vt,ee,Ce){return{x:ee/Vt||0,y:Ce/Vt||0}}function Je(Vt,ee){return Vt===ee?ct:n(Vt)>=n(ee)?Vt<0?K:$:ee<0?et:B}function nr(Vt,ee,Ce){Ce||(Ce=tt);var Me=ee[Ce[0]]-Vt[Ce[0]],Sr=ee[Ce[1]]-Vt[Ce[1]];return Math.sqrt(Me*Me+Sr*Sr)}function Xe(Vt,ee,Ce){Ce||(Ce=tt);var Me=ee[Ce[0]]-Vt[Ce[0]],Sr=ee[Ce[1]]-Vt[Ce[1]];return Math.atan2(Sr,Me)*180/Math.PI}function mr(Vt,ee){return Xe(ee[1],ee[0],lt)+Xe(Vt[1],Vt[0],lt)}function Gr(Vt,ee){return nr(ee[0],ee[1],lt)/nr(Vt[0],Vt[1],lt)}var xe={mousedown:N,mousemove:at,mouseup:H},de="mousedown",ze="mousemove mouseup";function Ue(){this.evEl=de,this.evWin=ze,this.pressed=!1,Et.apply(this,arguments)}E(Ue,Et,{handler:function(ee){var Ce=xe[ee.type];Ce&N&&ee.button===0&&(this.pressed=!0),Ce&at&&ee.which!==1&&(Ce=H),!!this.pressed&&(Ce&H&&(this.pressed=!1),this.callback(this.manager,Ce,{pointers:[ee],changedPointers:[ee],pointerType:rt,srcEvent:ee}))}});var Kr={pointerdown:N,pointermove:at,pointerup:H,pointercancel:ft,pointerout:ft},rn={2:_t,3:Nt,4:rt,5:q},ci="pointerdown",Zi="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(ci="MSPointerDown",Zi="MSPointerMove MSPointerUp MSPointerCancel");function Ki(){this.evEl=ci,this.evWin=Zi,Et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E(Ki,Et,{handler:function(ee){var Ce=this.store,Me=!1,Sr=ee.type.toLowerCase().replace("ms",""),pn=Kr[Sr],En=rn[ee.pointerType]||ee.pointerType,fi=En==_t,Ci=D(Ce,ee.pointerId,"pointerId");pn&N&&(ee.button===0||fi)?Ci<0&&(Ce.push(ee),Ci=Ce.length-1):pn&(H|ft)&&(Me=!0),!(Ci<0)&&(Ce[Ci]=ee,this.callback(this.manager,pn,{pointers:Ce,changedPointers:[ee],pointerType:En,srcEvent:ee}),Me&&Ce.splice(Ci,1))}});var ji={touchstart:N,touchmove:at,touchend:H,touchcancel:ft},Ae="touchstart",De="touchstart touchmove touchend touchcancel";function ar(){this.evTarget=Ae,this.evWin=De,this.started=!1,Et.apply(this,arguments)}E(ar,Et,{handler:function(ee){var Ce=ji[ee.type];if(Ce===N&&(this.started=!0),!!this.started){var Me=Pr.call(this,ee,Ce);Ce&(H|ft)&&Me[0].length-Me[1].length==0&&(this.started=!1),this.callback(this.manager,Ce,{pointers:Me[0],changedPointers:Me[1],pointerType:_t,srcEvent:ee})}}});function Pr(Vt,ee){var Ce=L(Vt.touches),Me=L(Vt.changedTouches);return ee&(H|ft)&&(Ce=Z(Ce.concat(Me),"identifier",!0)),[Ce,Me]}var or={touchstart:N,touchmove:at,touchend:H,touchcancel:ft},wr="touchstart touchmove touchend touchcancel";function cn(){this.evTarget=wr,this.targetIds={},Et.apply(this,arguments)}E(cn,Et,{handler:function(ee){var Ce=or[ee.type],Me=Fn.call(this,ee,Ce);!Me||this.callback(this.manager,Ce,{pointers:Me[0],changedPointers:Me[1],pointerType:_t,srcEvent:ee})}});function Fn(Vt,ee){var Ce=L(Vt.touches),Me=this.targetIds;if(ee&(N|at)&&Ce.length===1)return Me[Ce[0].identifier]=!0,[Ce,Ce];var Sr,pn,En=L(Vt.changedTouches),fi=[],Ci=this.target;if(pn=Ce.filter(function(aa){return A(aa.target,Ci)}),ee===N)for(Sr=0;Sr<pn.length;)Me[pn[Sr].identifier]=!0,Sr++;for(Sr=0;Sr<En.length;)Me[En[Sr].identifier]&&fi.push(En[Sr]),ee&(H|ft)&&delete Me[En[Sr].identifier],Sr++;if(!!fi.length)return[Z(pn.concat(fi),"identifier",!0),fi]}var nn=2500,Hr=25;function Gn(){Et.apply(this,arguments);var Vt=C(this.handler,this);this.touch=new cn(this.manager,Vt),this.mouse=new Ue(this.manager,Vt),this.primaryTouch=null,this.lastTouches=[]}E(Gn,Et,{handler:function(ee,Ce,Me){var Sr=Me.pointerType==_t,pn=Me.pointerType==rt;if(!(pn&&Me.sourceCapabilities&&Me.sourceCapabilities.firesTouchEvents)){if(Sr)$n.call(this,Ce,Me);else if(pn&&Ir.call(this,Me))return;this.callback(ee,Ce,Me)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function $n(Vt,ee){Vt&N?(this.primaryTouch=ee.changedPointers[0].identifier,Vr.call(this,ee)):Vt&(H|ft)&&Vr.call(this,ee)}function Vr(Vt){var ee=Vt.changedPointers[0];if(ee.identifier===this.primaryTouch){var Ce={x:ee.clientX,y:ee.clientY};this.lastTouches.push(Ce);var Me=this.lastTouches,Sr=function(){var pn=Me.indexOf(Ce);pn>-1&&Me.splice(pn,1)};setTimeout(Sr,nn)}}function Ir(Vt){for(var ee=Vt.srcEvent.clientX,Ce=Vt.srcEvent.clientY,Me=0;Me<this.lastTouches.length;Me++){var Sr=this.lastTouches[Me],pn=Math.abs(ee-Sr.x),En=Math.abs(Ce-Sr.y);if(pn<=Hr&&En<=Hr)return!0}return!1}var ti=U(f.style,"touchAction"),ge=ti!==v,Le="compute",Se="auto",Ve="manipulation",le="none",vr="pan-x",He="pan-y",rr=an();function Dr(Vt,ee){this.manager=Vt,this.set(ee)}Dr.prototype={set:function(Vt){Vt==Le&&(Vt=this.compute()),ge&&this.manager.element.style&&rr[Vt]&&(this.manager.element.style[ti]=Vt),this.actions=Vt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Vt=[];return h(this.manager.recognizers,function(ee){m(ee.options.enable,[ee])&&(Vt=Vt.concat(ee.getTouchAction()))}),Mr(Vt.join(" "))},preventDefaults:function(Vt){var ee=Vt.srcEvent,Ce=Vt.offsetDirection;if(this.manager.session.prevented){ee.preventDefault();return}var Me=this.actions,Sr=T(Me,le)&&!rr[le],pn=T(Me,He)&&!rr[He],En=T(Me,vr)&&!rr[vr];if(Sr){var fi=Vt.pointers.length===1,Ci=Vt.distance<2,aa=Vt.deltaTime<250;if(fi&&Ci&&aa)return}if(!(En&&pn)&&(Sr||pn&&Ce&w||En&&Ce&R))return this.preventSrc(ee)},preventSrc:function(Vt){this.manager.session.prevented=!0,Vt.preventDefault()}};function Mr(Vt){if(T(Vt,le))return le;var ee=T(Vt,vr),Ce=T(Vt,He);return ee&&Ce?le:ee||Ce?ee?vr:He:T(Vt,Ve)?Ve:Se}function an(){if(!ge)return!1;var Vt={},ee=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ce){Vt[Ce]=ee?t.CSS.supports("touch-action",Ce):!0}),Vt}var gn=1,qr=2,Dn=4,ae=8,er=ae,sr=16,kr=32;function Rn(Vt){this.options=d({},this.defaults,Vt||{}),this.id=W(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=gn,this.simultaneous={},this.requireFail=[]}Rn.prototype={defaults:{},set:function(Vt){return d(this.options,Vt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Vt){if(l(Vt,"recognizeWith",this))return this;var ee=this.simultaneous;return Vt=da(Vt,this),ee[Vt.id]||(ee[Vt.id]=Vt,Vt.recognizeWith(this)),this},dropRecognizeWith:function(Vt){return l(Vt,"dropRecognizeWith",this)?this:(Vt=da(Vt,this),delete this.simultaneous[Vt.id],this)},requireFailure:function(Vt){if(l(Vt,"requireFailure",this))return this;var ee=this.requireFail;return Vt=da(Vt,this),D(ee,Vt)===-1&&(ee.push(Vt),Vt.requireFailure(this)),this},dropRequireFailure:function(Vt){if(l(Vt,"dropRequireFailure",this))return this;Vt=da(Vt,this);var ee=D(this.requireFail,Vt);return ee>-1&&this.requireFail.splice(ee,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Vt){return!!this.simultaneous[Vt.id]},emit:function(Vt){var ee=this,Ce=this.state;function Me(Sr){ee.manager.emit(Sr,Vt)}Ce<ae&&Me(ee.options.event+pi(Ce)),Me(ee.options.event),Vt.additionalEvent&&Me(Vt.additionalEvent),Ce>=ae&&Me(ee.options.event+pi(Ce))},tryEmit:function(Vt){if(this.canEmit())return this.emit(Vt);this.state=kr},canEmit:function(){for(var Vt=0;Vt<this.requireFail.length;){if(!(this.requireFail[Vt].state&(kr|gn)))return!1;Vt++}return!0},recognize:function(Vt){var ee=d({},Vt);if(!m(this.options.enable,[this,ee])){this.reset(),this.state=kr;return}this.state&(er|sr|kr)&&(this.state=gn),this.state=this.process(ee),this.state&(qr|Dn|ae|sr)&&this.tryEmit(ee)},process:function(Vt){},getTouchAction:function(){},reset:function(){}};function pi(Vt){return Vt&sr?"cancel":Vt&ae?"end":Vt&Dn?"move":Vt&qr?"start":""}function Yi(Vt){return Vt==B?"down":Vt==et?"up":Vt==K?"left":Vt==$?"right":""}function da(Vt,ee){var Ce=ee.manager;return Ce?Ce.get(Vt):Vt}function _a(){Rn.apply(this,arguments)}E(_a,Rn,{defaults:{pointers:1},attrTest:function(Vt){var ee=this.options.pointers;return ee===0||Vt.pointers.length===ee},process:function(Vt){var ee=this.state,Ce=Vt.eventType,Me=ee&(qr|Dn),Sr=this.attrTest(Vt);return Me&&(Ce&ft||!Sr)?ee|sr:Me||Sr?Ce&H?ee|ae:ee&qr?ee|Dn:qr:kr}});function fa(){_a.apply(this,arguments),this.pX=null,this.pY=null}E(fa,_a,{defaults:{event:"pan",threshold:10,pointers:1,direction:V},getTouchAction:function(){var Vt=this.options.direction,ee=[];return Vt&w&&ee.push(He),Vt&R&&ee.push(vr),ee},directionTest:function(Vt){var ee=this.options,Ce=!0,Me=Vt.distance,Sr=Vt.direction,pn=Vt.deltaX,En=Vt.deltaY;return Sr&ee.direction||(ee.direction&w?(Sr=pn===0?ct:pn<0?K:$,Ce=pn!=this.pX,Me=Math.abs(Vt.deltaX)):(Sr=En===0?ct:En<0?et:B,Ce=En!=this.pY,Me=Math.abs(Vt.deltaY))),Vt.direction=Sr,Ce&&Me>ee.threshold&&Sr&ee.direction},attrTest:function(Vt){return _a.prototype.attrTest.call(this,Vt)&&(this.state&qr||!(this.state&qr)&&this.directionTest(Vt))},emit:function(Vt){this.pX=Vt.deltaX,this.pY=Vt.deltaY;var ee=Yi(Vt.direction);ee&&(Vt.additionalEvent=this.options.event+ee),this._super.emit.call(this,Vt)}});function wo(){_a.apply(this,arguments)}E(wo,_a,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(Vt){return this._super.attrTest.call(this,Vt)&&(Math.abs(Vt.scale-1)>this.options.threshold||this.state&qr)},emit:function(Vt){if(Vt.scale!==1){var ee=Vt.scale<1?"in":"out";Vt.additionalEvent=this.options.event+ee}this._super.emit.call(this,Vt)}});function ho(){Rn.apply(this,arguments),this._timer=null,this._input=null}E(ho,Rn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Se]},process:function(Vt){var ee=this.options,Ce=Vt.pointers.length===ee.pointers,Me=Vt.distance<ee.threshold,Sr=Vt.deltaTime>ee.time;if(this._input=Vt,!Me||!Ce||Vt.eventType&(H|ft)&&!Sr)this.reset();else if(Vt.eventType&N)this.reset(),this._timer=u(function(){this.state=er,this.tryEmit()},ee.time,this);else if(Vt.eventType&H)return er;return kr},reset:function(){clearTimeout(this._timer)},emit:function(Vt){this.state===er&&(Vt&&Vt.eventType&H?this.manager.emit(this.options.event+"up",Vt):(this._input.timeStamp=a(),this.manager.emit(this.options.event,this._input)))}});function mo(){_a.apply(this,arguments)}E(mo,_a,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(Vt){return this._super.attrTest.call(this,Vt)&&(Math.abs(Vt.rotation)>this.options.threshold||this.state&qr)}});function yo(){_a.apply(this,arguments)}E(yo,_a,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:w|R,pointers:1},getTouchAction:function(){return fa.prototype.getTouchAction.call(this)},attrTest:function(Vt){var ee=this.options.direction,Ce;return ee&(w|R)?Ce=Vt.overallVelocity:ee&w?Ce=Vt.overallVelocityX:ee&R&&(Ce=Vt.overallVelocityY),this._super.attrTest.call(this,Vt)&&ee&Vt.offsetDirection&&Vt.distance>this.options.threshold&&Vt.maxPointers==this.options.pointers&&n(Ce)>this.options.velocity&&Vt.eventType&H},emit:function(Vt){var ee=Yi(Vt.offsetDirection);ee&&this.manager.emit(this.options.event+ee,Vt),this.manager.emit(this.options.event,Vt)}});function zo(){Rn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}E(zo,Rn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ve]},process:function(Vt){var ee=this.options,Ce=Vt.pointers.length===ee.pointers,Me=Vt.distance<ee.threshold,Sr=Vt.deltaTime<ee.time;if(this.reset(),Vt.eventType&N&&this.count===0)return this.failTimeout();if(Me&&Sr&&Ce){if(Vt.eventType!=H)return this.failTimeout();var pn=this.pTime?Vt.timeStamp-this.pTime<ee.interval:!0,En=!this.pCenter||nr(this.pCenter,Vt.center)<ee.posThreshold;this.pTime=Vt.timeStamp,this.pCenter=Vt.center,!En||!pn?this.count=1:this.count+=1,this._input=Vt;var fi=this.count%ee.taps;if(fi===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=er,this.tryEmit()},ee.interval,this),qr):er}return kr},failTimeout:function(){return this._timer=u(function(){this.state=kr},this.options.interval,this),kr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==er&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function io(Vt,ee){return ee=ee||{},ee.recognizers=M(ee.recognizers,io.defaults.preset),new Zt(Vt,ee)}io.VERSION="2.0.7",io.defaults={domEvents:!1,touchAction:Le,enable:!0,inputTarget:null,inputClass:null,preset:[[mo,{enable:!1}],[wo,{enable:!1},["rotate"]],[yo,{direction:w}],[fa,{direction:w},["swipe"]],[zo],[zo,{event:"doubletap",taps:2},["tap"]],[ho]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Za=1,qa=2;function Zt(Vt,ee){this.options=d({},io.defaults,ee||{}),this.options.inputTarget=this.options.inputTarget||Vt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Vt,this.input=ot(this),this.touchAction=new Dr(this,this.options.touchAction),je(this,!0),h(this.options.recognizers,function(Ce){var Me=this.add(new Ce[0](Ce[1]));Ce[2]&&Me.recognizeWith(Ce[2]),Ce[3]&&Me.requireFailure(Ce[3])},this)}Zt.prototype={set:function(Vt){return d(this.options,Vt),Vt.touchAction&&this.touchAction.update(),Vt.inputTarget&&(this.input.destroy(),this.input.target=Vt.inputTarget,this.input.init()),this},stop:function(Vt){this.session.stopped=Vt?qa:Za},recognize:function(Vt){var ee=this.session;if(!ee.stopped){this.touchAction.preventDefaults(Vt);var Ce,Me=this.recognizers,Sr=ee.curRecognizer;(!Sr||Sr&&Sr.state&er)&&(Sr=ee.curRecognizer=null);for(var pn=0;pn<Me.length;)Ce=Me[pn],ee.stopped!==qa&&(!Sr||Ce==Sr||Ce.canRecognizeWith(Sr))?Ce.recognize(Vt):Ce.reset(),!Sr&&Ce.state&(qr|Dn|ae)&&(Sr=ee.curRecognizer=Ce),pn++}},get:function(Vt){if(Vt instanceof Rn)return Vt;for(var ee=this.recognizers,Ce=0;Ce<ee.length;Ce++)if(ee[Ce].options.event==Vt)return ee[Ce];return null},add:function(Vt){if(l(Vt,"add",this))return this;var ee=this.get(Vt.options.event);return ee&&this.remove(ee),this.recognizers.push(Vt),Vt.manager=this,this.touchAction.update(),Vt},remove:function(Vt){if(l(Vt,"remove",this))return this;if(Vt=this.get(Vt),Vt){var ee=this.recognizers,Ce=D(ee,Vt);Ce!==-1&&(ee.splice(Ce,1),this.touchAction.update())}return this},on:function(Vt,ee){if(Vt!==v&&ee!==v){var Ce=this.handlers;return h(O(Vt),function(Me){Ce[Me]=Ce[Me]||[],Ce[Me].push(ee)}),this}},off:function(Vt,ee){if(Vt!==v){var Ce=this.handlers;return h(O(Vt),function(Me){ee?Ce[Me]&&Ce[Me].splice(D(Ce[Me],ee),1):delete Ce[Me]}),this}},emit:function(Vt,ee){this.options.domEvents&&lr(Vt,ee);var Ce=this.handlers[Vt]&&this.handlers[Vt].slice();if(!(!Ce||!Ce.length)){ee.type=Vt,ee.preventDefault=function(){ee.srcEvent.preventDefault()};for(var Me=0;Me<Ce.length;)Ce[Me](ee),Me++}},destroy:function(){this.element&&je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function je(Vt,ee){var Ce=Vt.element;if(!!Ce.style){var Me;h(Vt.options.cssProps,function(Sr,pn){Me=U(Ce.style,pn),ee?(Vt.oldCssProps[Me]=Ce.style[Me],Ce.style[Me]=Sr):Ce.style[Me]=Vt.oldCssProps[Me]||""}),ee||(Vt.oldCssProps={})}}function lr(Vt,ee){var Ce=c.createEvent("Event");Ce.initEvent(Vt,!0,!0),Ce.gesture=ee,ee.target.dispatchEvent(Ce)}d(io,{INPUT_START:N,INPUT_MOVE:at,INPUT_END:H,INPUT_CANCEL:ft,STATE_POSSIBLE:gn,STATE_BEGAN:qr,STATE_CHANGED:Dn,STATE_ENDED:ae,STATE_RECOGNIZED:er,STATE_CANCELLED:sr,STATE_FAILED:kr,DIRECTION_NONE:ct,DIRECTION_LEFT:K,DIRECTION_RIGHT:$,DIRECTION_UP:et,DIRECTION_DOWN:B,DIRECTION_HORIZONTAL:w,DIRECTION_VERTICAL:R,DIRECTION_ALL:V,Manager:Zt,Input:Et,TouchAction:Dr,TouchInput:cn,MouseInput:Ue,PointerEventInput:Ki,TouchMouseInput:Gn,SingleTouchInput:ar,Recognizer:Rn,AttrRecognizer:_a,Tap:zo,Pan:fa,Swipe:yo,Pinch:wo,Rotate:mo,Press:ho,on:b,off:S,each:h,merge:y,extend:g,assign:d,inherit:E,bindFn:C,prefixed:U});var Br=typeof t!="undefined"?t:typeof self!="undefined"?self:{};Br.Hammer=io,i=function(){return io}.call(P,x,P,gr),i!==v&&(gr.exports=i)})(window,document,"Hammer")},80645:function(gr,P){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */P.read=function(x,i,t,c,s){var v,o,f=s*8-c-1,r=(1<<f)-1,e=r>>1,n=-7,a=t?s-1:0,u=t?-1:1,l=x[i+a];for(a+=u,v=l&(1<<-n)-1,l>>=-n,n+=f;n>0;v=v*256+x[i+a],a+=u,n-=8);for(o=v&(1<<-n)-1,v>>=-n,n+=c;n>0;o=o*256+x[i+a],a+=u,n-=8);if(v===0)v=1-e;else{if(v===r)return o?NaN:(l?-1:1)*Infinity;o=o+Math.pow(2,c),v=v-e}return(l?-1:1)*o*Math.pow(2,v-c)},P.write=function(x,i,t,c,s,v){var o,f,r,e=v*8-s-1,n=(1<<e)-1,a=n>>1,u=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=c?0:v-1,h=c?1:-1,p=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===Infinity?(f=isNaN(i)?1:0,o=n):(o=Math.floor(Math.log(i)/Math.LN2),i*(r=Math.pow(2,-o))<1&&(o--,r*=2),o+a>=1?i+=u/r:i+=u*Math.pow(2,1-a),i*r>=2&&(o++,r/=2),o+a>=n?(f=0,o=n):o+a>=1?(f=(i*r-1)*Math.pow(2,s),o=o+a):(f=i*Math.pow(2,a-1)*Math.pow(2,s),o=0));s>=8;x[t+l]=f&255,l+=h,f/=256,s-=8);for(o=o<<s|f,e+=s;e>0;x[t+l]=o&255,l+=h,o/=256,e-=8);x[t+l-h]|=p*128}},7375:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var x=Symbol.for("INJECTION");function i(o,f,r,e){function n(){return e&&!Reflect.hasMetadata(x,this,f)&&Reflect.defineMetadata(x,r(),this,f),Reflect.hasMetadata(x,this,f)?Reflect.getMetadata(x,this,f):r()}function a(u){Reflect.defineMetadata(x,u,this,f)}Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:n,set:a})}function t(o,f){return function(r){return function(e,n){var a=function(){return o.get(r)};i(e,n,a,f)}}}P.makePropertyInjectDecorator=t;function c(o,f){return function(r,e){return function(n,a){var u=function(){return o.getNamed(r,e)};i(n,a,u,f)}}}P.makePropertyInjectNamedDecorator=c;function s(o,f){return function(r,e,n){return function(a,u){var l=function(){return o.getTagged(r,e,n)};i(a,u,l,f)}}}P.makePropertyInjectTaggedDecorator=s;function v(o,f){return function(r){return function(e,n){var a=function(){return o.getAll(r)};i(e,n,a,f)}}}P.makePropertyMultiInjectDecorator=v},84879:function(gr,P,x){"use strict";var i;i={value:!0};var t=x(7375);function c(s,v){v===void 0&&(v=!0);var o=t.makePropertyInjectDecorator(s,v),f=t.makePropertyInjectNamedDecorator(s,v),r=t.makePropertyInjectTaggedDecorator(s,v),e=t.makePropertyMultiInjectDecorator(s,v);return{lazyInject:o,lazyInjectNamed:f,lazyInjectTagged:r,lazyMultiInject:e}}P.Z=c},99934:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagProperty=P.tagParameter=P.decorate=void 0;var i=x(16674),t=x(6867);function c(e,n,a,u){var l=t.TAGGED;v(l,e,n,u,a)}P.tagParameter=c;function s(e,n,a){var u=t.TAGGED_PROP;v(u,e.constructor,n,a)}P.tagProperty=s;function v(e,n,a,u,l){var h={},p=typeof l=="number",d=l!==void 0&&p?l.toString():a;if(p&&a!==void 0)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,n)&&(h=Reflect.getMetadata(e,n));var g=h[d];if(!Array.isArray(g))g=[];else for(var y=0,E=g;y<E.length;y++){var C=E[y];if(C.key===u.key)throw new Error(i.DUPLICATED_METADATA+" "+C.key.toString())}g.push(u),h[d]=g,Reflect.defineMetadata(e,h,n)}function o(e,n){Reflect.decorate(e,n)}function f(e,n){return function(a,u){n(a,u,e)}}function r(e,n,a){typeof a=="number"?o([f(a,e)],n):typeof a=="string"?Reflect.decorate([e],n,a):o([e],n)}P.decorate=r},5744:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.inject=P.LazyServiceIdentifer=void 0;var i=x(16674),t=x(6867),c=x(47738),s=x(99934),v=function(){function f(r){this._cb=r}return f.prototype.unwrap=function(){return this._cb()},f}();P.LazyServiceIdentifer=v;function o(f){return function(r,e,n){if(f===void 0)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(r.name));var a=new c.Metadata(t.INJECT_TAG,f);typeof n=="number"?s.tagParameter(r,e,n,a):s.tagProperty(r,e,a)}}P.inject=o},64315:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.injectable=void 0;var i=x(16674),t=x(6867);function c(){return function(s){if(Reflect.hasOwnMetadata(t.PARAM_TYPES,s))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var v=Reflect.getMetadata(t.DESIGN_PARAM_TYPES,s)||[];return Reflect.defineMetadata(t.PARAM_TYPES,v,s),s}}P.injectable=c},71693:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiInject=void 0;var i=x(6867),t=x(47738),c=x(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.MULTI_INJECT_TAG,v);typeof r=="number"?c.tagParameter(o,f,r,e):c.tagProperty(o,f,e)}}P.multiInject=s},38085:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.named=void 0;var i=x(6867),t=x(47738),c=x(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.NAMED_TAG,v);typeof r=="number"?c.tagParameter(o,f,r,e):c.tagProperty(o,f,e)}}P.named=s},6515:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.optional=void 0;var i=x(6867),t=x(47738),c=x(99934);function s(){return function(v,o,f){var r=new t.Metadata(i.OPTIONAL_TAG,!0);typeof f=="number"?c.tagParameter(v,o,f,r):c.tagProperty(v,o,r)}}P.optional=s},7014:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.postConstruct=void 0;var i=x(16674),t=x(6867),c=x(47738);function s(){return function(v,o,f){var r=new c.Metadata(t.POST_CONSTRUCT,o);if(Reflect.hasOwnMetadata(t.POST_CONSTRUCT,v.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(t.POST_CONSTRUCT,r,v.constructor)}}P.postConstruct=s},32052:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagged=void 0;var i=x(47738),t=x(99934);function c(s,v){return function(o,f,r){var e=new i.Metadata(s,v);typeof r=="number"?t.tagParameter(o,f,r,e):t.tagProperty(o,f,e)}}P.tagged=c},55638:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.targetName=void 0;var i=x(6867),t=x(47738),c=x(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.NAME_TAG,v);c.tagParameter(o,f,r,e)}}P.targetName=s},86757:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.unmanaged=void 0;var i=x(6867),t=x(47738),c=x(99934);function s(){return function(v,o,f){var r=new t.Metadata(i.UNMANAGED_TAG,!0);c.tagParameter(v,o,f,r)}}P.unmanaged=s},44290:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Binding=void 0;var i=x(28421),t=x(37791),c=function(){function s(v,o){this.id=t.id(),this.activated=!1,this.serviceIdentifier=v,this.scope=o,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(f){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return s.prototype.clone=function(){var v=new s(this.serviceIdentifier,this.scope);return v.activated=v.scope===i.BindingScopeEnum.Singleton?this.activated:!1,v.implementationType=this.implementationType,v.dynamicValue=this.dynamicValue,v.scope=this.scope,v.type=this.type,v.factory=this.factory,v.provider=this.provider,v.constraint=this.constraint,v.onActivation=this.onActivation,v.cache=this.cache,v},s}();P.Binding=c},23184:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingCount=void 0;var x={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};P.BindingCount=x},16674:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.STACK_OVERFLOW=P.CIRCULAR_DEPENDENCY_IN_FACTORY=P.POST_CONSTRUCT_ERROR=P.MULTIPLE_POST_CONSTRUCT_METHODS=P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=P.ARGUMENTS_LENGTH_MISMATCH=P.INVALID_DECORATOR_OPERATION=P.INVALID_TO_SELF_VALUE=P.INVALID_FUNCTION_BINDING=P.INVALID_MIDDLEWARE_RETURN=P.NO_MORE_SNAPSHOTS_AVAILABLE=P.INVALID_BINDING_TYPE=P.NOT_IMPLEMENTED=P.CIRCULAR_DEPENDENCY=P.UNDEFINED_INJECT_ANNOTATION=P.MISSING_INJECT_ANNOTATION=P.MISSING_INJECTABLE_ANNOTATION=P.NOT_REGISTERED=P.CANNOT_UNBIND=P.AMBIGUOUS_MATCH=P.KEY_NOT_FOUND=P.NULL_ARGUMENT=P.DUPLICATED_METADATA=P.DUPLICATED_INJECTABLE_DECORATOR=void 0,P.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",P.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",P.NULL_ARGUMENT="NULL argument",P.KEY_NOT_FOUND="Key Not Found",P.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",P.CANNOT_UNBIND="Could not unbind serviceIdentifier:",P.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",P.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",P.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var x=function(s){return"@inject called with undefined this could mean that the class "+s+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};P.UNDEFINED_INJECT_ANNOTATION=x,P.CIRCULAR_DEPENDENCY="Circular dependency found:",P.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",P.INVALID_BINDING_TYPE="Invalid binding type:",P.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",P.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",P.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",P.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",P.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"The number of constructor arguments in the derived class "+(s[0]+" must be >= than the number of constructor arguments of its base class.")};P.ARGUMENTS_LENGTH_MISMATCH=i,P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",P.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var t=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"@postConstruct error in class "+s[0]+": "+s[1]};P.POST_CONSTRUCT_ERROR=t;var c=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"It looks like there is a circular dependency "+("in one of the '"+s[0]+"' bindings. Please investigate bindings with")+("service identifier '"+s[1]+"'.")};P.CIRCULAR_DEPENDENCY_IN_FACTORY=c,P.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.TargetTypeEnum=P.BindingTypeEnum=P.BindingScopeEnum=void 0;var x={Request:"Request",Singleton:"Singleton",Transient:"Transient"};P.BindingScopeEnum=x;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};P.BindingTypeEnum=i;var t={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};P.TargetTypeEnum=t},6867:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.NON_CUSTOM_TAG_KEYS=P.POST_CONSTRUCT=P.DESIGN_PARAM_TYPES=P.PARAM_TYPES=P.TAGGED_PROP=P.TAGGED=P.MULTI_INJECT_TAG=P.INJECT_TAG=P.OPTIONAL_TAG=P.UNMANAGED_TAG=P.NAME_TAG=P.NAMED_TAG=void 0,P.NAMED_TAG="named",P.NAME_TAG="name",P.UNMANAGED_TAG="unmanaged",P.OPTIONAL_TAG="optional",P.INJECT_TAG="inject",P.MULTI_INJECT_TAG="multi_inject",P.TAGGED="inversify:tagged",P.TAGGED_PROP="inversify:tagged_props",P.PARAM_TYPES="inversify:paramtypes",P.DESIGN_PARAM_TYPES="design:paramtypes",P.POST_CONSTRUCT="post_construct";function x(){return[P.INJECT_TAG,P.MULTI_INJECT_TAG,P.NAME_TAG,P.UNMANAGED_TAG,P.NAMED_TAG,P.OPTIONAL_TAG]}P.NON_CUSTOM_TAG_KEYS=x()},51389:function(gr,P,x){"use strict";var i=this&&this.__awaiter||function(g,y,E,C){function m(M){return M instanceof E?M:new E(function(b){b(M)})}return new(E||(E=Promise))(function(M,b){function S(O){try{T(C.next(O))}catch(D){b(D)}}function A(O){try{T(C.throw(O))}catch(D){b(D)}}function T(O){O.done?M(O.value):m(O.value).then(S,A)}T((C=C.apply(g,y||[])).next())})},t=this&&this.__generator||function(g,y){var E={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},C,m,M,b;return b={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function S(T){return function(O){return A([T,O])}}function A(T){if(C)throw new TypeError("Generator is already executing.");for(;E;)try{if(C=1,m&&(M=T[0]&2?m.return:T[0]?m.throw||((M=m.return)&&M.call(m),0):m.next)&&!(M=M.call(m,T[1])).done)return M;switch(m=0,M&&(T=[T[0]&2,M.value]),T[0]){case 0:case 1:M=T;break;case 4:return E.label++,{value:T[1],done:!1};case 5:E.label++,m=T[1],T=[0];continue;case 7:T=E.ops.pop(),E.trys.pop();continue;default:if(M=E.trys,!(M=M.length>0&&M[M.length-1])&&(T[0]===6||T[0]===2)){E=0;continue}if(T[0]===3&&(!M||T[1]>M[0]&&T[1]<M[3])){E.label=T[1];break}if(T[0]===6&&E.label<M[1]){E.label=M[1],M=T;break}if(M&&E.label<M[2]){E.label=M[2],E.ops.push(T);break}M[2]&&E.ops.pop(),E.trys.pop();continue}T=y.call(g,E)}catch(O){T=[6,O],m=0}finally{C=M=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},c=this&&this.__spreadArray||function(g,y){for(var E=0,C=y.length,m=g.length;E<C;E++,m++)g[m]=y[E];return g};Object.defineProperty(P,"__esModule",{value:!0}),P.Container=void 0;var s=x(44290),v=x(16674),o=x(28421),f=x(6867),r=x(51377),e=x(86311),n=x(31927),a=x(15451),u=x(37791),l=x(55800),h=x(85700),p=x(80175),d=function(){function g(y){this._appliedMiddleware=[];var E=y||{};if(typeof E!="object")throw new Error(""+v.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(E.defaultScope===void 0)E.defaultScope=o.BindingScopeEnum.Transient;else if(E.defaultScope!==o.BindingScopeEnum.Singleton&&E.defaultScope!==o.BindingScopeEnum.Transient&&E.defaultScope!==o.BindingScopeEnum.Request)throw new Error(""+v.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(E.autoBindInjectable===void 0)E.autoBindInjectable=!1;else if(typeof E.autoBindInjectable!="boolean")throw new Error(""+v.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(E.skipBaseClassChecks===void 0)E.skipBaseClassChecks=!1;else if(typeof E.skipBaseClassChecks!="boolean")throw new Error(""+v.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:E.autoBindInjectable,defaultScope:E.defaultScope,skipBaseClassChecks:E.skipBaseClassChecks},this.id=u.id(),this._bindingDictionary=new p.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new r.MetadataReader}return g.merge=function(y,E){for(var C=[],m=2;m<arguments.length;m++)C[m-2]=arguments[m];var M=new g,b=c([y,E],C).map(function(T){return e.getBindingDictionary(T)}),S=e.getBindingDictionary(M);function A(T,O){T.traverse(function(D,L){L.forEach(function(Z){O.add(Z.serviceIdentifier,Z.clone())})})}return b.forEach(function(T){A(T,S)}),M},g.prototype.load=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];for(var C=this._getContainerModuleHelpersFactory(),m=0,M=y;m<M.length;m++){var b=M[m],S=C(b.id);b.registry(S.bindFunction,S.unbindFunction,S.isboundFunction,S.rebindFunction)}},g.prototype.loadAsync=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return i(this,void 0,void 0,function(){var C,m,M,b,S;return t(this,function(A){switch(A.label){case 0:C=this._getContainerModuleHelpersFactory(),m=0,M=y,A.label=1;case 1:return m<M.length?(b=M[m],S=C(b.id),[4,b.registry(S.bindFunction,S.unbindFunction,S.isboundFunction,S.rebindFunction)]):[3,4];case 2:A.sent(),A.label=3;case 3:return m++,[3,1];case 4:return[2]}})})},g.prototype.unload=function(){for(var y=this,E=[],C=0;C<arguments.length;C++)E[C]=arguments[C];var m=function(M){return function(b){return b.moduleId===M}};E.forEach(function(M){var b=m(M.id);y._bindingDictionary.removeByCondition(b)})},g.prototype.bind=function(y){var E=this.options.defaultScope||o.BindingScopeEnum.Transient,C=new s.Binding(y,E);return this._bindingDictionary.add(y,C),new a.BindingToSyntax(C)},g.prototype.rebind=function(y){return this.unbind(y),this.bind(y)},g.prototype.unbind=function(y){try{this._bindingDictionary.remove(y)}catch(E){throw new Error(v.CANNOT_UNBIND+" "+l.getServiceIdentifierAsString(y))}},g.prototype.unbindAll=function(){this._bindingDictionary=new p.Lookup},g.prototype.isBound=function(y){var E=this._bindingDictionary.hasKey(y);return!E&&this.parent&&(E=this.parent.isBound(y)),E},g.prototype.isBoundNamed=function(y,E){return this.isBoundTagged(y,f.NAMED_TAG,E)},g.prototype.isBoundTagged=function(y,E,C){var m=!1;if(this._bindingDictionary.hasKey(y)){var M=this._bindingDictionary.get(y),b=e.createMockRequest(this,y,E,C);m=M.some(function(S){return S.constraint(b)})}return!m&&this.parent&&(m=this.parent.isBoundTagged(y,E,C)),m},g.prototype.snapshot=function(){this._snapshots.push(h.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},g.prototype.restore=function(){var y=this._snapshots.pop();if(y===void 0)throw new Error(v.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=y.bindings,this._middleware=y.middleware},g.prototype.createChild=function(y){var E=new g(y||this.options);return E.parent=this,E},g.prototype.applyMiddleware=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];this._appliedMiddleware=this._appliedMiddleware.concat(y);var C=this._middleware?this._middleware:this._planAndResolve();this._middleware=y.reduce(function(m,M){return M(m)},C)},g.prototype.applyCustomMetadataReader=function(y){this._metadataReader=y},g.prototype.get=function(y){return this._get(!1,!1,o.TargetTypeEnum.Variable,y)},g.prototype.getTagged=function(y,E,C){return this._get(!1,!1,o.TargetTypeEnum.Variable,y,E,C)},g.prototype.getNamed=function(y,E){return this.getTagged(y,f.NAMED_TAG,E)},g.prototype.getAll=function(y){return this._get(!0,!0,o.TargetTypeEnum.Variable,y)},g.prototype.getAllTagged=function(y,E,C){return this._get(!1,!0,o.TargetTypeEnum.Variable,y,E,C)},g.prototype.getAllNamed=function(y,E){return this.getAllTagged(y,f.NAMED_TAG,E)},g.prototype.resolve=function(y){var E=this.createChild();return E.bind(y).toSelf(),this._appliedMiddleware.forEach(function(C){E.applyMiddleware(C)}),E.get(y)},g.prototype._getContainerModuleHelpersFactory=function(){var y=this,E=function(S,A){S._binding.moduleId=A},C=function(S){return function(A){var T=y.bind.bind(y),O=T(A);return E(O,S),O}},m=function(S){return function(A){var T=y.unbind.bind(y);T(A)}},M=function(S){return function(A){var T=y.isBound.bind(y);return T(A)}},b=function(S){return function(A){var T=y.rebind.bind(y),O=T(A);return E(O,S),O}};return function(S){return{bindFunction:C(S),isboundFunction:M(S),rebindFunction:b(S),unbindFunction:m(S)}}},g.prototype._get=function(y,E,C,m,M,b){var S=null,A={avoidConstraints:y,contextInterceptor:function(T){return T},isMultiInject:E,key:M,serviceIdentifier:m,targetType:C,value:b};if(this._middleware){if(S=this._middleware(A),S==null)throw new Error(v.INVALID_MIDDLEWARE_RETURN)}else S=this._planAndResolve()(A);return S},g.prototype._planAndResolve=function(){var y=this;return function(E){var C=e.plan(y._metadataReader,y,E.isMultiInject,E.targetType,E.serviceIdentifier,E.key,E.value,E.avoidConstraints);C=E.contextInterceptor(C);var m=n.resolve(C);return m}},g}();P.Container=d},33244:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.AsyncContainerModule=P.ContainerModule=void 0;var i=x(37791),t=function(){function s(v){this.id=i.id(),this.registry=v}return s}();P.ContainerModule=t;var c=function(){function s(v){this.id=i.id(),this.registry=v}return s}();P.AsyncContainerModule=c},85700:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ContainerSnapshot=void 0;var x=function(){function i(){}return i.of=function(t,c){var s=new i;return s.bindings=t,s.middleware=c,s},i}();P.ContainerSnapshot=x},80175:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Lookup=void 0;var i=x(16674),t=function(){function c(){this._map=new Map}return c.prototype.getMap=function(){return this._map},c.prototype.add=function(s,v){if(s==null)throw new Error(i.NULL_ARGUMENT);if(v==null)throw new Error(i.NULL_ARGUMENT);var o=this._map.get(s);o!==void 0?(o.push(v),this._map.set(s,o)):this._map.set(s,[v])},c.prototype.get=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);var v=this._map.get(s);if(v!==void 0)return v;throw new Error(i.KEY_NOT_FOUND)},c.prototype.remove=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(s))throw new Error(i.KEY_NOT_FOUND)},c.prototype.removeByCondition=function(s){var v=this;this._map.forEach(function(o,f){var r=o.filter(function(e){return!s(e)});r.length>0?v._map.set(f,r):v._map.delete(f)})},c.prototype.hasKey=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);return this._map.has(s)},c.prototype.clone=function(){var s=new c;return this._map.forEach(function(v,o){v.forEach(function(f){return s.add(o,f.clone())})}),s},c.prototype.traverse=function(s){this._map.forEach(function(v,o){s(o,v)})},c}();P.Lookup=t},86700:function(gr,P,x){"use strict";var i;i={value:!0},i=i=i=i=i=i=P.GW=i=i=P.zY=i=i=i=i=i=P.f3=i=i=P.b2=i=i=i=i=i=P.W2=i=void 0;var t=x(6867);i=t;var c=x(51389);Object.defineProperty(P,"W2",{enumerable:!0,get:function(){return c.Container}});var s=x(28421);i={enumerable:!0,get:function(){return s.BindingScopeEnum}},i={enumerable:!0,get:function(){return s.BindingTypeEnum}},i={enumerable:!0,get:function(){return s.TargetTypeEnum}};var v=x(33244);i={enumerable:!0,get:function(){return v.AsyncContainerModule}},i={enumerable:!0,get:function(){return v.ContainerModule}};var o=x(64315);Object.defineProperty(P,"b2",{enumerable:!0,get:function(){return o.injectable}});var f=x(32052);i={enumerable:!0,get:function(){return f.tagged}};var r=x(38085);i={enumerable:!0,get:function(){return r.named}};var e=x(5744);Object.defineProperty(P,"f3",{enumerable:!0,get:function(){return e.inject}}),i={enumerable:!0,get:function(){return e.LazyServiceIdentifer}};var n=x(6515);i={enumerable:!0,get:function(){return n.optional}};var a=x(86757);i={enumerable:!0,get:function(){return a.unmanaged}};var u=x(71693);i={enumerable:!0,get:function(){return u.multiInject}};var l=x(55638);i={enumerable:!0,get:function(){return l.targetName}};var h=x(7014);Object.defineProperty(P,"zY",{enumerable:!0,get:function(){return h.postConstruct}});var p=x(51377);i={enumerable:!0,get:function(){return p.MetadataReader}};var d=x(37791);i={enumerable:!0,get:function(){return d.id}};var g=x(99934);Object.defineProperty(P,"GW",{enumerable:!0,get:function(){return g.decorate}});var y=x(80758);i={enumerable:!0,get:function(){return y.traverseAncerstors}},i={enumerable:!0,get:function(){return y.taggedConstraint}},i={enumerable:!0,get:function(){return y.namedConstraint}},i={enumerable:!0,get:function(){return y.typeConstraint}};var E=x(55800);i={enumerable:!0,get:function(){return E.getServiceIdentifierAsString}};var C=x(70600);i={enumerable:!0,get:function(){return C.multiBindToService}}},95228:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Context=void 0;var i=x(37791),t=function(){function c(s){this.id=i.id(),this.container=s}return c.prototype.addPlan=function(s){this.plan=s},c.prototype.setCurrentRequest=function(s){this.currentRequest=s},c}();P.Context=t},47738:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Metadata=void 0;var i=x(6867),t=function(){function c(s,v){this.key=s,this.value=v}return c.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},c}();P.Metadata=t},51377:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MetadataReader=void 0;var i=x(6867),t=function(){function c(){}return c.prototype.getConstructorMetadata=function(s){var v=Reflect.getMetadata(i.PARAM_TYPES,s),o=Reflect.getMetadata(i.TAGGED,s);return{compilerGeneratedMetadata:v,userGeneratedMetadata:o||{}}},c.prototype.getPropertiesMetadata=function(s){var v=Reflect.getMetadata(i.TAGGED_PROP,s)||[];return v},c}();P.MetadataReader=t},55314:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Plan=void 0;var x=function(){function i(t,c){this.parentContext=t,this.rootRequest=c}return i}();P.Plan=x},86311:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.getBindingDictionary=P.createMockRequest=P.plan=void 0;var i=x(23184),t=x(16674),c=x(28421),s=x(6867),v=x(85265),o=x(55800),f=x(95228),r=x(47738),e=x(55314),n=x(6e3),a=x(6748),u=x(18924);function l(m){return m._bindingDictionary}P.getBindingDictionary=l;function h(m,M,b,S,A,T){var O=m?s.MULTI_INJECT_TAG:s.INJECT_TAG,D=new r.Metadata(O,b),L=new u.Target(M,S,b,D);if(A!==void 0){var Z=new r.Metadata(A,T);L.metadata.push(Z)}return L}function p(m,M,b,S,A){var T=y(b.container,A.serviceIdentifier),O=[];return T.length===i.BindingCount.NoBindingsAvailable&&b.container.options.autoBindInjectable&&typeof A.serviceIdentifier=="function"&&m.getConstructorMetadata(A.serviceIdentifier).compilerGeneratedMetadata&&(b.container.bind(A.serviceIdentifier).toSelf(),T=y(b.container,A.serviceIdentifier)),M?O=T:O=T.filter(function(D){var L=new a.Request(D.serviceIdentifier,b,S,D,A);return D.constraint(L)}),d(A.serviceIdentifier,O,A,b.container),O}function d(m,M,b,S){switch(M.length){case i.BindingCount.NoBindingsAvailable:if(b.isOptional())return M;var A=o.getServiceIdentifierAsString(m),T=t.NOT_REGISTERED;throw T+=o.listMetadataForTarget(A,b),T+=o.listRegisteredBindingsForServiceIdentifier(S,A,y),new Error(T);case i.BindingCount.OnlyOneBindingAvailable:if(!b.isArray())return M;case i.BindingCount.MultipleBindingsAvailable:default:if(b.isArray())return M;var A=o.getServiceIdentifierAsString(m),T=t.AMBIGUOUS_MATCH+" "+A;throw T+=o.listRegisteredBindingsForServiceIdentifier(S,A,y),new Error(T)}}function g(m,M,b,S,A,T){var O,D;if(A===null){O=p(m,M,S,null,T),D=new a.Request(b,S,null,O,T);var L=new e.Plan(S,D);S.addPlan(L)}else O=p(m,M,S,A,T),D=A.addChildRequest(T.serviceIdentifier,O,T);O.forEach(function(Z){var U=null;if(T.isArray())U=D.addChildRequest(Z.serviceIdentifier,Z,T);else{if(Z.cache)return;U=D}if(Z.type===c.BindingTypeEnum.Instance&&Z.implementationType!==null){var Y=n.getDependencies(m,Z.implementationType);if(!S.container.options.skipBaseClassChecks){var W=n.getBaseClassDependencyCount(m,Z.implementationType);if(Y.length<W){var J=t.ARGUMENTS_LENGTH_MISMATCH(n.getFunctionName(Z.implementationType));throw new Error(J)}}Y.forEach(function(ht){g(m,!1,ht.serviceIdentifier,S,U,ht)})}})}function y(m,M){var b=[],S=l(m);return S.hasKey(M)?b=S.get(M):m.parent!==null&&(b=y(m.parent,M)),b}function E(m,M,b,S,A,T,O,D){D===void 0&&(D=!1);var L=new f.Context(M),Z=h(b,S,A,"",T,O);try{return g(m,D,A,L,null,Z),L}catch(U){throw v.isStackOverflowExeption(U)&&L.plan&&o.circularDependencyToException(L.plan.rootRequest),U}}P.plan=E;function C(m,M,b,S){var A=new u.Target(c.TargetTypeEnum.Variable,"",M,new r.Metadata(b,S)),T=new f.Context(m),O=new a.Request(M,T,null,[],A);return O}P.createMockRequest=C},88460:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.QueryableString=void 0;var x=function(){function i(t){this.str=t}return i.prototype.startsWith=function(t){return this.str.indexOf(t)===0},i.prototype.endsWith=function(t){var c="",s=t.split("").reverse().join("");return c=this.str.split("").reverse().join(""),this.startsWith.call({str:c},s)},i.prototype.contains=function(t){return this.str.indexOf(t)!==-1},i.prototype.equals=function(t){return this.str===t},i.prototype.value=function(){return this.str},i}();P.QueryableString=x},6e3:function(gr,P,x){"use strict";var i=this&&this.__spreadArray||function(p,d){for(var g=0,y=d.length,E=p.length;g<y;g++,E++)p[E]=d[g];return p};Object.defineProperty(P,"__esModule",{value:!0}),P.getFunctionName=P.getBaseClassDependencyCount=P.getDependencies=void 0;var t=x(5744),c=x(16674),s=x(28421),v=x(6867),o=x(55800);Object.defineProperty(P,"getFunctionName",{enumerable:!0,get:function(){return o.getFunctionName}});var f=x(18924);function r(p,d){var g=o.getFunctionName(d),y=e(p,g,d,!1);return y}P.getDependencies=r;function e(p,d,g,y){var E=p.getConstructorMetadata(g),C=E.compilerGeneratedMetadata;if(C===void 0){var m=c.MISSING_INJECTABLE_ANNOTATION+" "+d+".";throw new Error(m)}var M=E.userGeneratedMetadata,b=Object.keys(M),S=g.length===0&&b.length>0,A=b.length>g.length,T=S||A?b.length:g.length,O=a(y,d,C,M,T),D=u(p,g),L=i(i([],O),D);return L}function n(p,d,g,y,E){var C=E[p.toString()]||[],m=h(C),M=m.unmanaged!==!0,b=y[p],S=m.inject||m.multiInject;if(b=S||b,b instanceof t.LazyServiceIdentifer&&(b=b.unwrap()),M){var A=b===Object,T=b===Function,O=b===void 0,D=A||T||O;if(!d&&D){var L=c.MISSING_INJECT_ANNOTATION+" argument "+p+" in class "+g+".";throw new Error(L)}var Z=new f.Target(s.TargetTypeEnum.ConstructorArgument,m.targetName,b);return Z.metadata=C,Z}return null}function a(p,d,g,y,E){for(var C=[],m=0;m<E;m++){var M=m,b=n(M,p,d,g,y);b!==null&&C.push(b)}return C}function u(p,d){for(var g=p.getPropertiesMetadata(d),y=[],E=Object.keys(g),C=0,m=E;C<m.length;C++){var M=m[C],b=g[M],S=h(g[M]),A=S.targetName||M,T=S.inject||S.multiInject,O=new f.Target(s.TargetTypeEnum.ClassProperty,A,T);O.metadata=b,y.push(O)}var D=Object.getPrototypeOf(d.prototype).constructor;if(D!==Object){var L=u(p,D);y=i(i([],y),L)}return y}function l(p,d){var g=Object.getPrototypeOf(d.prototype).constructor;if(g!==Object){var y=o.getFunctionName(g),E=e(p,y,g,!0),C=E.map(function(b){return b.metadata.filter(function(S){return S.key===v.UNMANAGED_TAG})}),m=[].concat.apply([],C).length,M=E.length-m;return M>0?M:l(p,g)}else return 0}P.getBaseClassDependencyCount=l;function h(p){var d={};return p.forEach(function(g){d[g.key.toString()]=g.value}),{inject:d[v.INJECT_TAG],multiInject:d[v.MULTI_INJECT_TAG],targetName:d[v.NAME_TAG],unmanaged:d[v.UNMANAGED_TAG]}}},6748:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Request=void 0;var i=x(37791),t=function(){function c(s,v,o,f,r){this.id=i.id(),this.serviceIdentifier=s,this.parentContext=v,this.parentRequest=o,this.target=r,this.childRequests=[],this.bindings=Array.isArray(f)?f:[f],this.requestScope=o===null?new Map:null}return c.prototype.addChildRequest=function(s,v,o){var f=new c(s,this.parentContext,this,v,o);return this.childRequests.push(f),f},c}();P.Request=t},18924:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Target=void 0;var i=x(6867),t=x(37791),c=x(47738),s=x(88460),v=function(){function o(f,r,e,n){this.id=t.id(),this.type=f,this.serviceIdentifier=e,this.name=new s.QueryableString(r||""),this.metadata=new Array;var a=null;typeof n=="string"?a=new c.Metadata(i.NAMED_TAG,n):n instanceof c.Metadata&&(a=n),a!==null&&this.metadata.push(a)}return o.prototype.hasTag=function(f){for(var r=0,e=this.metadata;r<e.length;r++){var n=e[r];if(n.key===f)return!0}return!1},o.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},o.prototype.matchesArray=function(f){return this.matchesTag(i.MULTI_INJECT_TAG)(f)},o.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},o.prototype.isTagged=function(){return this.metadata.some(function(f){return i.NON_CUSTOM_TAG_KEYS.every(function(r){return f.key!==r})})},o.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},o.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(f){return f.key===i.NAMED_TAG})[0]:null},o.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(f){return i.NON_CUSTOM_TAG_KEYS.every(function(r){return f.key!==r})}):null},o.prototype.matchesNamedTag=function(f){return this.matchesTag(i.NAMED_TAG)(f)},o.prototype.matchesTag=function(f){var r=this;return function(e){for(var n=0,a=r.metadata;n<a.length;n++){var u=a[n];if(u.key===f&&u.value===e)return!0}return!1}},o}();P.Target=v},52279:function(gr,P,x){"use strict";var i=this&&this.__spreadArray||function(e,n){for(var a=0,u=n.length,l=e.length;a<u;a++,l++)e[l]=n[a];return e};Object.defineProperty(P,"__esModule",{value:!0}),P.resolveInstance=void 0;var t=x(16674),c=x(28421),s=x(6867);function v(e,n,a){var u=n.filter(function(h){return h.target!==null&&h.target.type===c.TargetTypeEnum.ClassProperty}),l=u.map(a);return u.forEach(function(h,p){var d="";d=h.target.name.value();var g=l[p];e[d]=g}),e}function o(e,n){return new(e.bind.apply(e,i([void 0],n)))}function f(e,n){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var a=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{n[a.value]()}catch(u){throw new Error(t.POST_CONSTRUCT_ERROR(e.name,u.message))}}}function r(e,n,a){var u=null;if(n.length>0){var l=n.filter(function(p){return p.target!==null&&p.target.type===c.TargetTypeEnum.ConstructorArgument}),h=l.map(a);u=o(e,h),u=v(u,n,a)}else u=new e;return f(e,u),u}P.resolveInstance=r},31927:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.resolve=void 0;var i=x(16674),t=x(28421),c=x(85265),s=x(55800),v=x(52279),o=function(e,n,a){try{return a()}catch(u){throw c.isStackOverflowExeption(u)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(e,n.toString())):u}},f=function(e){return function(n){n.parentContext.setCurrentRequest(n);var a=n.bindings,u=n.childRequests,l=n.target&&n.target.isArray(),h=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&h)return u.map(function(C){var m=f(e);return m(C)});var p=null;if(n.target.isOptional()&&a.length===0)return;var d=a[0],g=d.scope===t.BindingScopeEnum.Singleton,y=d.scope===t.BindingScopeEnum.Request;if(g&&d.activated)return d.cache;if(y&&e!==null&&e.has(d.id))return e.get(d.id);if(d.type===t.BindingTypeEnum.ConstantValue)p=d.cache,d.activated=!0;else if(d.type===t.BindingTypeEnum.Function)p=d.cache,d.activated=!0;else if(d.type===t.BindingTypeEnum.Constructor)p=d.implementationType;else if(d.type===t.BindingTypeEnum.DynamicValue&&d.dynamicValue!==null)p=o("toDynamicValue",d.serviceIdentifier,function(){return d.dynamicValue(n.parentContext)});else if(d.type===t.BindingTypeEnum.Factory&&d.factory!==null)p=o("toFactory",d.serviceIdentifier,function(){return d.factory(n.parentContext)});else if(d.type===t.BindingTypeEnum.Provider&&d.provider!==null)p=o("toProvider",d.serviceIdentifier,function(){return d.provider(n.parentContext)});else if(d.type===t.BindingTypeEnum.Instance&&d.implementationType!==null)p=v.resolveInstance(d.implementationType,u,f(e));else{var E=s.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+E)}return typeof d.onActivation=="function"&&(p=d.onActivation(n.parentContext,p)),g&&(d.cache=p,d.activated=!0),y&&e!==null&&!e.has(d.id)&&e.set(d.id,p),p}};function r(e){var n=f(e.plan.rootRequest.requestScope);return n(e.plan.rootRequest)}P.resolve=r},83366:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInSyntax=void 0;var i=x(28421),t=x(71325),c=function(){function s(v){this._binding=v}return s.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new t.BindingWhenOnSyntax(this._binding)},s.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new t.BindingWhenOnSyntax(this._binding)},s.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new t.BindingWhenOnSyntax(this._binding)},s}();P.BindingInSyntax=c},74889:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInWhenOnSyntax=void 0;var i=x(83366),t=x(51811),c=x(98370),s=function(){function v(o){this._binding=o,this._bindingWhenSyntax=new c.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new t.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(o)}return v.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},v.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},v.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},v.prototype.when=function(o){return this._bindingWhenSyntax.when(o)},v.prototype.whenTargetNamed=function(o){return this._bindingWhenSyntax.whenTargetNamed(o)},v.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},v.prototype.whenTargetTagged=function(o,f){return this._bindingWhenSyntax.whenTargetTagged(o,f)},v.prototype.whenInjectedInto=function(o){return this._bindingWhenSyntax.whenInjectedInto(o)},v.prototype.whenParentNamed=function(o){return this._bindingWhenSyntax.whenParentNamed(o)},v.prototype.whenParentTagged=function(o,f){return this._bindingWhenSyntax.whenParentTagged(o,f)},v.prototype.whenAnyAncestorIs=function(o){return this._bindingWhenSyntax.whenAnyAncestorIs(o)},v.prototype.whenNoAncestorIs=function(o){return this._bindingWhenSyntax.whenNoAncestorIs(o)},v.prototype.whenAnyAncestorNamed=function(o){return this._bindingWhenSyntax.whenAnyAncestorNamed(o)},v.prototype.whenAnyAncestorTagged=function(o,f){return this._bindingWhenSyntax.whenAnyAncestorTagged(o,f)},v.prototype.whenNoAncestorNamed=function(o){return this._bindingWhenSyntax.whenNoAncestorNamed(o)},v.prototype.whenNoAncestorTagged=function(o,f){return this._bindingWhenSyntax.whenNoAncestorTagged(o,f)},v.prototype.whenAnyAncestorMatches=function(o){return this._bindingWhenSyntax.whenAnyAncestorMatches(o)},v.prototype.whenNoAncestorMatches=function(o){return this._bindingWhenSyntax.whenNoAncestorMatches(o)},v.prototype.onActivation=function(o){return this._bindingOnSyntax.onActivation(o)},v}();P.BindingInWhenOnSyntax=s},51811:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingOnSyntax=void 0;var i=x(98370),t=function(){function c(s){this._binding=s}return c.prototype.onActivation=function(s){return this._binding.onActivation=s,new i.BindingWhenSyntax(this._binding)},c}();P.BindingOnSyntax=t},15451:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingToSyntax=void 0;var i=x(16674),t=x(28421),c=x(74889),s=x(71325),v=function(){function o(f){this._binding=f}return o.prototype.to=function(f){return this._binding.type=t.BindingTypeEnum.Instance,this._binding.implementationType=f,new c.BindingInWhenOnSyntax(this._binding)},o.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+i.INVALID_TO_SELF_VALUE);var f=this._binding.serviceIdentifier;return this.to(f)},o.prototype.toConstantValue=function(f){return this._binding.type=t.BindingTypeEnum.ConstantValue,this._binding.cache=f,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toDynamicValue=function(f){return this._binding.type=t.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=f,this._binding.implementationType=null,new c.BindingInWhenOnSyntax(this._binding)},o.prototype.toConstructor=function(f){return this._binding.type=t.BindingTypeEnum.Constructor,this._binding.implementationType=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toFactory=function(f){return this._binding.type=t.BindingTypeEnum.Factory,this._binding.factory=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toFunction=function(f){if(typeof f!="function")throw new Error(i.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(f);return this._binding.type=t.BindingTypeEnum.Function,this._binding.scope=t.BindingScopeEnum.Singleton,r},o.prototype.toAutoFactory=function(f){return this._binding.type=t.BindingTypeEnum.Factory,this._binding.factory=function(r){var e=function(){return r.container.get(f)};return e},this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toProvider=function(f){return this._binding.type=t.BindingTypeEnum.Provider,this._binding.provider=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toService=function(f){this.toDynamicValue(function(r){return r.container.get(f)})},o}();P.BindingToSyntax=v},71325:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenOnSyntax=void 0;var i=x(51811),t=x(98370),c=function(){function s(v){this._binding=v,this._bindingWhenSyntax=new t.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return s.prototype.when=function(v){return this._bindingWhenSyntax.when(v)},s.prototype.whenTargetNamed=function(v){return this._bindingWhenSyntax.whenTargetNamed(v)},s.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},s.prototype.whenTargetTagged=function(v,o){return this._bindingWhenSyntax.whenTargetTagged(v,o)},s.prototype.whenInjectedInto=function(v){return this._bindingWhenSyntax.whenInjectedInto(v)},s.prototype.whenParentNamed=function(v){return this._bindingWhenSyntax.whenParentNamed(v)},s.prototype.whenParentTagged=function(v,o){return this._bindingWhenSyntax.whenParentTagged(v,o)},s.prototype.whenAnyAncestorIs=function(v){return this._bindingWhenSyntax.whenAnyAncestorIs(v)},s.prototype.whenNoAncestorIs=function(v){return this._bindingWhenSyntax.whenNoAncestorIs(v)},s.prototype.whenAnyAncestorNamed=function(v){return this._bindingWhenSyntax.whenAnyAncestorNamed(v)},s.prototype.whenAnyAncestorTagged=function(v,o){return this._bindingWhenSyntax.whenAnyAncestorTagged(v,o)},s.prototype.whenNoAncestorNamed=function(v){return this._bindingWhenSyntax.whenNoAncestorNamed(v)},s.prototype.whenNoAncestorTagged=function(v,o){return this._bindingWhenSyntax.whenNoAncestorTagged(v,o)},s.prototype.whenAnyAncestorMatches=function(v){return this._bindingWhenSyntax.whenAnyAncestorMatches(v)},s.prototype.whenNoAncestorMatches=function(v){return this._bindingWhenSyntax.whenNoAncestorMatches(v)},s.prototype.onActivation=function(v){return this._bindingOnSyntax.onActivation(v)},s}();P.BindingWhenOnSyntax=c},98370:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenSyntax=void 0;var i=x(51811),t=x(80758),c=function(){function s(v){this._binding=v}return s.prototype.when=function(v){return this._binding.constraint=v,new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetNamed=function(v){return this._binding.constraint=t.namedConstraint(v),new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(v){var o=v.target!==null&&!v.target.isNamed()&&!v.target.isTagged();return o},new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetTagged=function(v,o){return this._binding.constraint=t.taggedConstraint(v)(o),new i.BindingOnSyntax(this._binding)},s.prototype.whenInjectedInto=function(v){return this._binding.constraint=function(o){return t.typeConstraint(v)(o.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenParentNamed=function(v){return this._binding.constraint=function(o){return t.namedConstraint(v)(o.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenParentTagged=function(v,o){return this._binding.constraint=function(f){return t.taggedConstraint(v)(o)(f.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorIs=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,t.typeConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorIs=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,t.typeConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorNamed=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,t.namedConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorNamed=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,t.namedConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorTagged=function(v,o){return this._binding.constraint=function(f){return t.traverseAncerstors(f,t.taggedConstraint(v)(o))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorTagged=function(v,o){return this._binding.constraint=function(f){return!t.traverseAncerstors(f,t.taggedConstraint(v)(o))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorMatches=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,v)},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorMatches=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,v)},new i.BindingOnSyntax(this._binding)},s}();P.BindingWhenSyntax=c},80758:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.typeConstraint=P.namedConstraint=P.taggedConstraint=P.traverseAncerstors=void 0;var i=x(6867),t=x(47738),c=function(f,r){var e=f.parentRequest;return e!==null?r(e)?!0:c(e,r):!1};P.traverseAncerstors=c;var s=function(f){return function(r){var e=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(f)(r)};return e.metaData=new t.Metadata(f,r),e}};P.taggedConstraint=s;var v=s(i.NAMED_TAG);P.namedConstraint=v;var o=function(f){return function(r){var e=null;if(r!==null)if(e=r.bindings[0],typeof f=="string"){var n=e.serviceIdentifier;return n===f}else{var a=r.bindings[0].implementationType;return f===a}return!1}};P.typeConstraint=o},70600:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiBindToService=void 0;var x=function(i){return function(t){return function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];return c.forEach(function(v){return i.bind(v).toService(t)})}}};P.multiBindToService=x},85265:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isStackOverflowExeption=void 0;var i=x(16674);function t(c){return c instanceof RangeError||c.message===i.STACK_OVERFLOW}P.isStackOverflowExeption=t},37791:function(gr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.id=void 0;var x=0;function i(){return x++}P.id=i},55800:function(gr,P,x){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.circularDependencyToException=P.listMetadataForTarget=P.listRegisteredBindingsForServiceIdentifier=P.getServiceIdentifierAsString=P.getFunctionName=void 0;var i=x(16674);function t(e){if(typeof e=="function"){var n=e;return n.name}else{if(typeof e=="symbol")return e.toString();var n=e;return n}}P.getServiceIdentifierAsString=t;function c(e,n,a){var u="",l=a(e,n);return l.length!==0&&(u=`
Registered bindings:`,l.forEach(function(h){var p="Object";h.implementationType!==null&&(p=r(h.implementationType)),u=u+`
 `+p,h.constraint.metaData&&(u=u+" - "+h.constraint.metaData)})),u}P.listRegisteredBindingsForServiceIdentifier=c;function s(e,n){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===n?!0:s(e.parentRequest,n)}function v(e){function n(u,l){l===void 0&&(l=[]);var h=t(u.serviceIdentifier);return l.push(h),u.parentRequest!==null?n(u.parentRequest,l):l}var a=n(e);return a.reverse().join(" --> ")}function o(e){e.childRequests.forEach(function(n){if(s(n,n.serviceIdentifier)){var a=v(n);throw new Error(i.CIRCULAR_DEPENDENCY+" "+a)}else o(n)})}P.circularDependencyToException=o;function f(e,n){if(n.isTagged()||n.isNamed()){var a="",u=n.getNamedTag(),l=n.getCustomTags();return u!==null&&(a+=u.toString()+`
`),l!==null&&l.forEach(function(h){a+=h.toString()+`
`})," "+e+`
 `+e+" - "+a}else return" "+e}P.listMetadataForTarget=f;function r(e){if(e.name)return e.name;var n=e.toString(),a=n.match(/^function\s*([^\s(]+)/);return a?a[1]:"Anonymous function: "+n}P.getFunctionName=r},18857:function(gr,P,x){"use strict";x.r(P),x.d(P,{Function:function(){return Ei},Interpreter:function(){return dt},default:function(){return ri},evaluate:function(){return Rt},vm:function(){return i}});var i={};x.r(i),x.d(i,{Script:function(){return zr},compileFunction:function(){return te},createContext:function(){return Dt},runInContext:function(){return Ge},runInNewContext:function(){return cr}});var t={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},c="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:c,"5module":c+" export import",6:c+" const class extends export import super"},v=/^in(stanceof)?$/,o="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",f="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF\u1AC0\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",r=new RegExp("["+o+"]"),e=new RegExp("["+o+f+"]");o=f=null;var n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function u(k,it){for(var Bt=65536,yt=0;yt<it.length;yt+=2){if(Bt+=it[yt],Bt>k)return!1;if(Bt+=it[yt+1],Bt>=k)return!0}}function l(k,it){return k<65?k===36:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&r.test(String.fromCharCode(k)):it===!1?!1:u(k,n)}function h(k,it){return k<48?k===36:k<58?!0:k<65?!1:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&e.test(String.fromCharCode(k)):it===!1?!1:u(k,n)||u(k,a)}var p=function(it,Bt){Bt===void 0&&(Bt={}),this.label=it,this.keyword=Bt.keyword,this.beforeExpr=!!Bt.beforeExpr,this.startsExpr=!!Bt.startsExpr,this.isLoop=!!Bt.isLoop,this.isAssign=!!Bt.isAssign,this.prefix=!!Bt.prefix,this.postfix=!!Bt.postfix,this.binop=Bt.binop||null,this.updateContext=null};function d(k,it){return new p(k,{beforeExpr:!0,binop:it})}var g={beforeExpr:!0},y={startsExpr:!0},E={};function C(k,it){return it===void 0&&(it={}),it.keyword=k,E[k]=new p(k,it)}var m={num:new p("num",y),regexp:new p("regexp",y),string:new p("string",y),name:new p("name",y),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",g),semi:new p(";",g),colon:new p(":",g),dot:new p("."),question:new p("?",g),questionDot:new p("?."),arrow:new p("=>",g),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",g),backQuote:new p("`",y),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:d("||",1),logicalAND:d("&&",2),bitwiseOR:d("|",3),bitwiseXOR:d("^",4),bitwiseAND:d("&",5),equality:d("==/!=/===/!==",6),relational:d("</>/<=/>=",7),bitShift:d("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:d("%",10),star:d("*",10),slash:d("/",10),starstar:new p("**",{beforeExpr:!0}),coalesce:d("??",1),_break:C("break"),_case:C("case",g),_catch:C("catch"),_continue:C("continue"),_debugger:C("debugger"),_default:C("default",g),_do:C("do",{isLoop:!0,beforeExpr:!0}),_else:C("else",g),_finally:C("finally"),_for:C("for",{isLoop:!0}),_function:C("function",y),_if:C("if"),_return:C("return",g),_switch:C("switch"),_throw:C("throw",g),_try:C("try"),_var:C("var"),_const:C("const"),_while:C("while",{isLoop:!0}),_with:C("with"),_new:C("new",{beforeExpr:!0,startsExpr:!0}),_this:C("this",y),_super:C("super",y),_class:C("class",y),_extends:C("extends",g),_export:C("export"),_import:C("import",y),_null:C("null",y),_true:C("true",y),_false:C("false",y),_in:C("in",{beforeExpr:!0,binop:7}),_instanceof:C("instanceof",{beforeExpr:!0,binop:7}),_typeof:C("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:C("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:C("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},M=/\r\n?|\n|\u2028|\u2029/,b=new RegExp(M.source,"g");function S(k,it){return k===10||k===13||!it&&(k===8232||k===8233)}var A=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,T=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,O=Object.prototype,D=O.hasOwnProperty,L=O.toString;function Z(k,it){return D.call(k,it)}var U=Array.isArray||function(k){return L.call(k)==="[object Array]"};function Y(k){return new RegExp("^(?:"+k.replace(/ /g,"|")+")$")}var W=function(it,Bt){this.line=it,this.column=Bt};W.prototype.offset=function(it){return new W(this.line,this.column+it)};var J=function(it,Bt,yt){this.start=Bt,this.end=yt,it.sourceFile!==null&&(this.source=it.sourceFile)};function ht(k,it){for(var Bt=1,yt=0;;){b.lastIndex=yt;var ne=b.exec(k);if(ne&&ne.index<it)++Bt,yt=ne.index+ne[0].length;else return new W(Bt,it-yt)}}var nt={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Q(k){var it={};for(var Bt in nt)it[Bt]=k&&Z(k,Bt)?k[Bt]:nt[Bt];if(it.ecmaVersion>=2015&&(it.ecmaVersion-=2009),it.allowReserved==null&&(it.allowReserved=it.ecmaVersion<5),U(it.onToken)){var yt=it.onToken;it.onToken=function(ne){return yt.push(ne)}}return U(it.onComment)&&(it.onComment=xt(it,it.onComment)),it}function xt(k,it){return function(Bt,yt,ne,_e,ur,jr){var _r={type:Bt?"Block":"Line",value:yt,start:ne,end:_e};k.locations&&(_r.loc=new J(this,ur,jr)),k.ranges&&(_r.range=[ne,_e]),it.push(_r)}}var _t=1,Nt=2,rt=_t|Nt,q=4,G=8,N=16,at=32,H=64,ft=128;function ct(k,it){return Nt|(k?q:0)|(it?G:0)}var K=0,$=1,et=2,B=3,w=4,R=5,V=function(it,Bt,yt){this.options=it=Q(it),this.sourceFile=it.sourceFile,this.keywords=Y(s[it.ecmaVersion>=6?6:it.sourceType==="module"?"5module":5]);var ne="";if(it.allowReserved!==!0){for(var _e=it.ecmaVersion;!(ne=t[_e]);_e--);it.sourceType==="module"&&(ne+=" await")}this.reservedWords=Y(ne);var ur=(ne?ne+" ":"")+t.strict;this.reservedWordsStrict=Y(ur),this.reservedWordsStrictBind=Y(ur+" "+t.strictBind),this.input=String(Bt),this.containsEsc=!1,yt?(this.pos=yt,this.lineStart=this.input.lastIndexOf(`
`,yt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(M).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=it.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&it.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(_t),this.regexpState=null},tt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};V.prototype.parse=function(){var it=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(it)},tt.inFunction.get=function(){return(this.currentVarScope().flags&Nt)>0},tt.inGenerator.get=function(){return(this.currentVarScope().flags&G)>0},tt.inAsync.get=function(){return(this.currentVarScope().flags&q)>0},tt.allowSuper.get=function(){return(this.currentThisScope().flags&H)>0},tt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ft)>0},tt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},V.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&Nt)>0},V.extend=function(){for(var it=[],Bt=arguments.length;Bt--;)it[Bt]=arguments[Bt];for(var yt=this,ne=0;ne<it.length;ne++)yt=it[ne](yt);return yt},V.parse=function(it,Bt){return new this(Bt,it).parse()},V.parseExpressionAt=function(it,Bt,yt){var ne=new this(yt,it,Bt);return ne.nextToken(),ne.parseExpression()},V.tokenizer=function(it,Bt){return new this(Bt,it)},Object.defineProperties(V.prototype,tt);var lt=V.prototype,Et=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;lt.strictDirective=function(k){for(;;){T.lastIndex=k,k+=T.exec(this.input)[0].length;var it=Et.exec(this.input.slice(k));if(!it)return!1;if((it[1]||it[2])==="use strict"){T.lastIndex=k+it[0].length;var Bt=T.exec(this.input),yt=Bt.index+Bt[0].length,ne=this.input.charAt(yt);return ne===";"||ne==="}"||M.test(Bt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(ne)||ne==="!"&&this.input.charAt(yt+1)==="=")}k+=it[0].length,T.lastIndex=k,k+=T.exec(this.input)[0].length,this.input[k]===";"&&k++}},lt.eat=function(k){return this.type===k?(this.next(),!0):!1},lt.isContextual=function(k){return this.type===m.name&&this.value===k&&!this.containsEsc},lt.eatContextual=function(k){return this.isContextual(k)?(this.next(),!0):!1},lt.expectContextual=function(k){this.eatContextual(k)||this.unexpected()},lt.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||M.test(this.input.slice(this.lastTokEnd,this.start))},lt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},lt.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()},lt.afterTrailingComma=function(k,it){if(this.type===k)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),it||this.next(),!0},lt.expect=function(k){this.eat(k)||this.unexpected()},lt.unexpected=function(k){this.raise(k!=null?k:this.start,"Unexpected token")};function ot(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}lt.checkPatternErrors=function(k,it){if(!!k){k.trailingComma>-1&&this.raiseRecoverable(k.trailingComma,"Comma is not permitted after the rest element");var Bt=it?k.parenthesizedAssign:k.parenthesizedBind;Bt>-1&&this.raiseRecoverable(Bt,"Parenthesized pattern")}},lt.checkExpressionErrors=function(k,it){if(!k)return!1;var Bt=k.shorthandAssign,yt=k.doubleProto;if(!it)return Bt>=0||yt>=0;Bt>=0&&this.raise(Bt,"Shorthand property assignments are valid only in destructuring patterns"),yt>=0&&this.raiseRecoverable(yt,"Redefinition of __proto__ property")},lt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},lt.isSimpleAssignTarget=function(k){return k.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(k.expression):k.type==="Identifier"||k.type==="MemberExpression"};var Mt=V.prototype;Mt.parseTopLevel=function(k){var it={};for(k.body||(k.body=[]);this.type!==m.eof;){var Bt=this.parseStatement(null,!0,it);k.body.push(Bt)}if(this.inModule)for(var yt=0,ne=Object.keys(this.undefinedExports);yt<ne.length;yt+=1){var _e=ne[yt];this.raiseRecoverable(this.undefinedExports[_e].start,"Export '"+_e+"' is not defined")}return this.adaptDirectivePrologue(k.body),this.next(),k.sourceType=this.options.sourceType,this.finishNode(k,"Program")};var Ot={kind:"loop"},Ft={kind:"switch"};Mt.isLet=function(k){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;T.lastIndex=this.pos;var it=T.exec(this.input),Bt=this.pos+it[0].length,yt=this.input.charCodeAt(Bt);if(yt===91)return!0;if(k)return!1;if(yt===123)return!0;if(l(yt,!0)){for(var ne=Bt+1;h(this.input.charCodeAt(ne),!0);)++ne;var _e=this.input.slice(Bt,ne);if(!v.test(_e))return!0}return!1},Mt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;T.lastIndex=this.pos;var k=T.exec(this.input),it=this.pos+k[0].length;return!M.test(this.input.slice(this.pos,it))&&this.input.slice(it,it+8)==="function"&&(it+8===this.input.length||!h(this.input.charAt(it+8)))},Mt.parseStatement=function(k,it,Bt){var yt=this.type,ne=this.startNode(),_e;switch(this.isLet(k)&&(yt=m._var,_e="let"),yt){case m._break:case m._continue:return this.parseBreakContinueStatement(ne,yt.keyword);case m._debugger:return this.parseDebuggerStatement(ne);case m._do:return this.parseDoStatement(ne);case m._for:return this.parseForStatement(ne);case m._function:return k&&(this.strict||k!=="if"&&k!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ne,!1,!k);case m._class:return k&&this.unexpected(),this.parseClass(ne,!0);case m._if:return this.parseIfStatement(ne);case m._return:return this.parseReturnStatement(ne);case m._switch:return this.parseSwitchStatement(ne);case m._throw:return this.parseThrowStatement(ne);case m._try:return this.parseTryStatement(ne);case m._const:case m._var:return _e=_e||this.value,k&&_e!=="var"&&this.unexpected(),this.parseVarStatement(ne,_e);case m._while:return this.parseWhileStatement(ne);case m._with:return this.parseWithStatement(ne);case m.braceL:return this.parseBlock(!0,ne);case m.semi:return this.parseEmptyStatement(ne);case m._export:case m._import:if(this.options.ecmaVersion>10&&yt===m._import){T.lastIndex=this.pos;var ur=T.exec(this.input),jr=this.pos+ur[0].length,_r=this.input.charCodeAt(jr);if(_r===40||_r===46)return this.parseExpressionStatement(ne,this.parseExpression())}return this.options.allowImportExportEverywhere||(it||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),yt===m._import?this.parseImport(ne):this.parseExport(ne,Bt);default:if(this.isAsyncFunction())return k&&this.unexpected(),this.next(),this.parseFunctionStatement(ne,!0,!k);var Pn=this.value,Ln=this.parseExpression();return yt===m.name&&Ln.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(ne,Pn,Ln,k):this.parseExpressionStatement(ne,Ln)}},Mt.parseBreakContinueStatement=function(k,it){var Bt=it==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?k.label=null:this.type!==m.name?this.unexpected():(k.label=this.parseIdent(),this.semicolon());for(var yt=0;yt<this.labels.length;++yt){var ne=this.labels[yt];if((k.label==null||ne.name===k.label.name)&&(ne.kind!=null&&(Bt||ne.kind==="loop")||k.label&&Bt))break}return yt===this.labels.length&&this.raise(k.start,"Unsyntactic "+it),this.finishNode(k,Bt?"BreakStatement":"ContinueStatement")},Mt.parseDebuggerStatement=function(k){return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement")},Mt.parseDoStatement=function(k){return this.next(),this.labels.push(Ot),k.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),k.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(k,"DoWhileStatement")},Mt.parseForStatement=function(k){this.next();var it=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ot),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return it>-1&&this.unexpected(it),this.parseFor(k,null);var Bt=this.isLet();if(this.type===m._var||this.type===m._const||Bt){var yt=this.startNode(),ne=Bt?"let":this.value;return this.next(),this.parseVar(yt,!0,ne),this.finishNode(yt,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&yt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?it>-1&&this.unexpected(it):k.await=it>-1),this.parseForIn(k,yt)):(it>-1&&this.unexpected(it),this.parseFor(k,yt))}var _e=new ot,ur=this.parseExpression(!0,_e);return this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===m._in?it>-1&&this.unexpected(it):k.await=it>-1),this.toAssignable(ur,!1,_e),this.checkLVal(ur),this.parseForIn(k,ur)):(this.checkExpressionErrors(_e,!0),it>-1&&this.unexpected(it),this.parseFor(k,ur))},Mt.parseFunctionStatement=function(k,it,Bt){return this.next(),this.parseFunction(k,$t|(Bt?0:ce),!1,it)},Mt.parseIfStatement=function(k){return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement("if"),k.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(k,"IfStatement")},Mt.parseReturnStatement=function(k){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement")},Mt.parseSwitchStatement=function(k){this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.expect(m.braceL),this.labels.push(Ft),this.enterScope(0);for(var it,Bt=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var yt=this.type===m._case;it&&this.finishNode(it,"SwitchCase"),k.cases.push(it=this.startNode()),it.consequent=[],this.next(),yt?it.test=this.parseExpression():(Bt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Bt=!0,it.test=null),this.expect(m.colon)}else it||this.unexpected(),it.consequent.push(this.parseStatement(null));return this.exitScope(),it&&this.finishNode(it,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(k,"SwitchStatement")},Mt.parseThrowStatement=function(k){return this.next(),M.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement")};var zt=[];Mt.parseTryStatement=function(k){if(this.next(),k.block=this.parseBlock(),k.handler=null,this.type===m._catch){var it=this.startNode();if(this.next(),this.eat(m.parenL)){it.param=this.parseBindingAtom();var Bt=it.param.type==="Identifier";this.enterScope(Bt?at:0),this.checkLVal(it.param,Bt?w:et),this.expect(m.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),it.param=null,this.enterScope(0);it.body=this.parseBlock(!1),this.exitScope(),k.handler=this.finishNode(it,"CatchClause")}return k.finalizer=this.eat(m._finally)?this.parseBlock():null,!k.handler&&!k.finalizer&&this.raise(k.start,"Missing catch or finally clause"),this.finishNode(k,"TryStatement")},Mt.parseVarStatement=function(k,it){return this.next(),this.parseVar(k,!1,it),this.semicolon(),this.finishNode(k,"VariableDeclaration")},Mt.parseWhileStatement=function(k){return this.next(),k.test=this.parseParenExpression(),this.labels.push(Ot),k.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(k,"WhileStatement")},Mt.parseWithStatement=function(k){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement("with"),this.finishNode(k,"WithStatement")},Mt.parseEmptyStatement=function(k){return this.next(),this.finishNode(k,"EmptyStatement")},Mt.parseLabeledStatement=function(k,it,Bt,yt){for(var ne=0,_e=this.labels;ne<_e.length;ne+=1){var ur=_e[ne];ur.name===it&&this.raise(Bt.start,"Label '"+it+"' is already declared")}for(var jr=this.type.isLoop?"loop":this.type===m._switch?"switch":null,_r=this.labels.length-1;_r>=0;_r--){var Pn=this.labels[_r];if(Pn.statementStart===k.start)Pn.statementStart=this.start,Pn.kind=jr;else break}return this.labels.push({name:it,kind:jr,statementStart:this.start}),k.body=this.parseStatement(yt?yt.indexOf("label")===-1?yt+"label":yt:"label"),this.labels.pop(),k.label=Bt,this.finishNode(k,"LabeledStatement")},Mt.parseExpressionStatement=function(k,it){return k.expression=it,this.semicolon(),this.finishNode(k,"ExpressionStatement")},Mt.parseBlock=function(k,it,Bt){for(k===void 0&&(k=!0),it===void 0&&(it=this.startNode()),it.body=[],this.expect(m.braceL),k&&this.enterScope(0);this.type!==m.braceR;){var yt=this.parseStatement(null);it.body.push(yt)}return Bt&&(this.strict=!1),this.next(),k&&this.exitScope(),this.finishNode(it,"BlockStatement")},Mt.parseFor=function(k,it){return k.init=it,this.expect(m.semi),k.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),k.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,"ForStatement")},Mt.parseForIn=function(k,it){var Bt=this.type===m._in;return this.next(),it.type==="VariableDeclaration"&&it.declarations[0].init!=null&&(!Bt||this.options.ecmaVersion<8||this.strict||it.kind!=="var"||it.declarations[0].id.type!=="Identifier")?this.raise(it.start,(Bt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):it.type==="AssignmentPattern"&&this.raise(it.start,"Invalid left-hand side in for-loop"),k.left=it,k.right=Bt?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,Bt?"ForInStatement":"ForOfStatement")},Mt.parseVar=function(k,it,Bt){for(k.declarations=[],k.kind=Bt;;){var yt=this.startNode();if(this.parseVarId(yt,Bt),this.eat(m.eq)?yt.init=this.parseMaybeAssign(it):Bt==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():yt.id.type!=="Identifier"&&!(it&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):yt.init=null,k.declarations.push(this.finishNode(yt,"VariableDeclarator")),!this.eat(m.comma))break}return k},Mt.parseVarId=function(k,it){k.id=this.parseBindingAtom(),this.checkLVal(k.id,it==="var"?$:et,!1)};var $t=1,ce=2,ye=4;Mt.parseFunction=function(k,it,Bt,yt){this.initFunction(k),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!yt)&&(this.type===m.star&&it&ce&&this.unexpected(),k.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(k.async=!!yt),it&$t&&(k.id=it&ye&&this.type!==m.name?null:this.parseIdent(),k.id&&!(it&ce)&&this.checkLVal(k.id,this.strict||k.generator||k.async?this.treatFunctionsAsVar?$:et:B));var ne=this.yieldPos,_e=this.awaitPos,ur=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ct(k.async,k.generator)),it&$t||(k.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(k),this.parseFunctionBody(k,Bt,!1),this.yieldPos=ne,this.awaitPos=_e,this.awaitIdentPos=ur,this.finishNode(k,it&$t?"FunctionDeclaration":"FunctionExpression")},Mt.parseFunctionParams=function(k){this.expect(m.parenL),k.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Mt.parseClass=function(k,it){this.next();var Bt=this.strict;this.strict=!0,this.parseClassId(k,it),this.parseClassSuper(k);var yt=this.startNode(),ne=!1;for(yt.body=[],this.expect(m.braceL);this.type!==m.braceR;){var _e=this.parseClassElement(k.superClass!==null);_e&&(yt.body.push(_e),_e.type==="MethodDefinition"&&_e.kind==="constructor"&&(ne&&this.raise(_e.start,"Duplicate constructor in the same class"),ne=!0))}return this.strict=Bt,this.next(),k.body=this.finishNode(yt,"ClassBody"),this.finishNode(k,it?"ClassDeclaration":"ClassExpression")},Mt.parseClassElement=function(k){var it=this;if(this.eat(m.semi))return null;var Bt=this.startNode(),yt=function(_r,Pn){Pn===void 0&&(Pn=!1);var Ln=it.start,Li=it.startLoc;return it.eatContextual(_r)?it.type!==m.parenL&&(!Pn||!it.canInsertSemicolon())?!0:(Bt.key&&it.unexpected(),Bt.computed=!1,Bt.key=it.startNodeAt(Ln,Li),Bt.key.name=_r,it.finishNode(Bt.key,"Identifier"),!1):!1};Bt.kind="method",Bt.static=yt("static");var ne=this.eat(m.star),_e=!1;ne||(this.options.ecmaVersion>=8&&yt("async",!0)?(_e=!0,ne=this.options.ecmaVersion>=9&&this.eat(m.star)):yt("get")?Bt.kind="get":yt("set")&&(Bt.kind="set")),Bt.key||this.parsePropertyName(Bt);var ur=Bt.key,jr=!1;return!Bt.computed&&!Bt.static&&(ur.type==="Identifier"&&ur.name==="constructor"||ur.type==="Literal"&&ur.value==="constructor")?(Bt.kind!=="method"&&this.raise(ur.start,"Constructor can't have get/set modifier"),ne&&this.raise(ur.start,"Constructor can't be a generator"),_e&&this.raise(ur.start,"Constructor can't be an async method"),Bt.kind="constructor",jr=k):Bt.static&&ur.type==="Identifier"&&ur.name==="prototype"&&this.raise(ur.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Bt,ne,_e,jr),Bt.kind==="get"&&Bt.value.params.length!==0&&this.raiseRecoverable(Bt.value.start,"getter should have no params"),Bt.kind==="set"&&Bt.value.params.length!==1&&this.raiseRecoverable(Bt.value.start,"setter should have exactly one param"),Bt.kind==="set"&&Bt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Bt.value.params[0].start,"Setter cannot use rest params"),Bt},Mt.parseClassMethod=function(k,it,Bt,yt){return k.value=this.parseMethod(it,Bt,yt),this.finishNode(k,"MethodDefinition")},Mt.parseClassId=function(k,it){this.type===m.name?(k.id=this.parseIdent(),it&&this.checkLVal(k.id,et,!1)):(it===!0&&this.unexpected(),k.id=null)},Mt.parseClassSuper=function(k){k.superClass=this.eat(m._extends)?this.parseExprSubscripts():null},Mt.parseExport=function(k,it){if(this.next(),this.eat(m.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(k.exported=this.parseIdent(!0),this.checkExport(it,k.exported.name,this.lastTokStart)):k.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),k.source=this.parseExprAtom(),this.semicolon(),this.finishNode(k,"ExportAllDeclaration");if(this.eat(m._default)){this.checkExport(it,"default",this.lastTokStart);var Bt;if(this.type===m._function||(Bt=this.isAsyncFunction())){var yt=this.startNode();this.next(),Bt&&this.next(),k.declaration=this.parseFunction(yt,$t|ye,!1,Bt)}else if(this.type===m._class){var ne=this.startNode();k.declaration=this.parseClass(ne,"nullableID")}else k.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(k,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())k.declaration=this.parseStatement(null),k.declaration.type==="VariableDeclaration"?this.checkVariableExport(it,k.declaration.declarations):this.checkExport(it,k.declaration.id.name,k.declaration.id.start),k.specifiers=[],k.source=null;else{if(k.declaration=null,k.specifiers=this.parseExportSpecifiers(it),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),k.source=this.parseExprAtom();else{for(var _e=0,ur=k.specifiers;_e<ur.length;_e+=1){var jr=ur[_e];this.checkUnreserved(jr.local),this.checkLocalExport(jr.local)}k.source=null}this.semicolon()}return this.finishNode(k,"ExportNamedDeclaration")},Mt.checkExport=function(k,it,Bt){!k||(Z(k,it)&&this.raiseRecoverable(Bt,"Duplicate export '"+it+"'"),k[it]=!0)},Mt.checkPatternExport=function(k,it){var Bt=it.type;if(Bt==="Identifier")this.checkExport(k,it.name,it.start);else if(Bt==="ObjectPattern")for(var yt=0,ne=it.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.checkPatternExport(k,_e)}else if(Bt==="ArrayPattern")for(var ur=0,jr=it.elements;ur<jr.length;ur+=1){var _r=jr[ur];_r&&this.checkPatternExport(k,_r)}else Bt==="Property"?this.checkPatternExport(k,it.value):Bt==="AssignmentPattern"?this.checkPatternExport(k,it.left):Bt==="RestElement"?this.checkPatternExport(k,it.argument):Bt==="ParenthesizedExpression"&&this.checkPatternExport(k,it.expression)},Mt.checkVariableExport=function(k,it){if(!!k)for(var Bt=0,yt=it;Bt<yt.length;Bt+=1){var ne=yt[Bt];this.checkPatternExport(k,ne.id)}},Mt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Mt.parseExportSpecifiers=function(k){var it=[],Bt=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(Bt)Bt=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var yt=this.startNode();yt.local=this.parseIdent(!0),yt.exported=this.eatContextual("as")?this.parseIdent(!0):yt.local,this.checkExport(k,yt.exported.name,yt.exported.start),it.push(this.finishNode(yt,"ExportSpecifier"))}return it},Mt.parseImport=function(k){return this.next(),this.type===m.string?(k.specifiers=zt,k.source=this.parseExprAtom()):(k.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),k.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(k,"ImportDeclaration")},Mt.parseImportSpecifiers=function(){var k=[],it=!0;if(this.type===m.name){var Bt=this.startNode();if(Bt.local=this.parseIdent(),this.checkLVal(Bt.local,et),k.push(this.finishNode(Bt,"ImportDefaultSpecifier")),!this.eat(m.comma))return k}if(this.type===m.star){var yt=this.startNode();return this.next(),this.expectContextual("as"),yt.local=this.parseIdent(),this.checkLVal(yt.local,et),k.push(this.finishNode(yt,"ImportNamespaceSpecifier")),k}for(this.expect(m.braceL);!this.eat(m.braceR);){if(it)it=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var ne=this.startNode();ne.imported=this.parseIdent(!0),this.eatContextual("as")?ne.local=this.parseIdent():(this.checkUnreserved(ne.imported),ne.local=ne.imported),this.checkLVal(ne.local,et),k.push(this.finishNode(ne,"ImportSpecifier"))}return k},Mt.adaptDirectivePrologue=function(k){for(var it=0;it<k.length&&this.isDirectiveCandidate(k[it]);++it)k[it].directive=k[it].expression.raw.slice(1,-1)},Mt.isDirectiveCandidate=function(k){return k.type==="ExpressionStatement"&&k.expression.type==="Literal"&&typeof k.expression.value=="string"&&(this.input[k.start]==='"'||this.input[k.start]==="'")};var Je=V.prototype;Je.toAssignable=function(k,it,Bt){if(this.options.ecmaVersion>=6&&k)switch(k.type){case"Identifier":this.inAsync&&k.name==="await"&&this.raise(k.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":k.type="ObjectPattern",Bt&&this.checkPatternErrors(Bt,!0);for(var yt=0,ne=k.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.toAssignable(_e,it),_e.type==="RestElement"&&(_e.argument.type==="ArrayPattern"||_e.argument.type==="ObjectPattern")&&this.raise(_e.argument.start,"Unexpected token")}break;case"Property":k.kind!=="init"&&this.raise(k.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(k.value,it);break;case"ArrayExpression":k.type="ArrayPattern",Bt&&this.checkPatternErrors(Bt,!0),this.toAssignableList(k.elements,it);break;case"SpreadElement":k.type="RestElement",this.toAssignable(k.argument,it),k.argument.type==="AssignmentPattern"&&this.raise(k.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":k.operator!=="="&&this.raise(k.left.end,"Only '=' operator can be used for specifying default value."),k.type="AssignmentPattern",delete k.operator,this.toAssignable(k.left,it);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(k.expression,it,Bt);break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!it)break;default:this.raise(k.start,"Assigning to rvalue")}else Bt&&this.checkPatternErrors(Bt,!0);return k},Je.toAssignableList=function(k,it){for(var Bt=k.length,yt=0;yt<Bt;yt++){var ne=k[yt];ne&&this.toAssignable(ne,it)}if(Bt){var _e=k[Bt-1];this.options.ecmaVersion===6&&it&&_e&&_e.type==="RestElement"&&_e.argument.type!=="Identifier"&&this.unexpected(_e.argument.start)}return k},Je.parseSpread=function(k){var it=this.startNode();return this.next(),it.argument=this.parseMaybeAssign(!1,k),this.finishNode(it,"SpreadElement")},Je.parseRestBinding=function(){var k=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),k.argument=this.parseBindingAtom(),this.finishNode(k,"RestElement")},Je.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var k=this.startNode();return this.next(),k.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(k,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()},Je.parseBindingList=function(k,it,Bt){for(var yt=[],ne=!0;!this.eat(k);)if(ne?ne=!1:this.expect(m.comma),it&&this.type===m.comma)yt.push(null);else{if(Bt&&this.afterTrailingComma(k))break;if(this.type===m.ellipsis){var _e=this.parseRestBinding();this.parseBindingListItem(_e),yt.push(_e),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(k);break}else{var ur=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(ur),yt.push(ur)}}return yt},Je.parseBindingListItem=function(k){return k},Je.parseMaybeDefault=function(k,it,Bt){if(Bt=Bt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return Bt;var yt=this.startNodeAt(k,it);return yt.left=Bt,yt.right=this.parseMaybeAssign(),this.finishNode(yt,"AssignmentPattern")},Je.checkLVal=function(k,it,Bt){switch(it===void 0&&(it=K),k.type){case"Identifier":it===et&&k.name==="let"&&this.raiseRecoverable(k.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(k.name)&&this.raiseRecoverable(k.start,(it?"Binding ":"Assigning to ")+k.name+" in strict mode"),Bt&&(Z(Bt,k.name)&&this.raiseRecoverable(k.start,"Argument name clash"),Bt[k.name]=!0),it!==K&&it!==R&&this.declareName(k.name,it,k.start);break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":it&&this.raiseRecoverable(k.start,"Binding member expression");break;case"ObjectPattern":for(var yt=0,ne=k.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.checkLVal(_e,it,Bt)}break;case"Property":this.checkLVal(k.value,it,Bt);break;case"ArrayPattern":for(var ur=0,jr=k.elements;ur<jr.length;ur+=1){var _r=jr[ur];_r&&this.checkLVal(_r,it,Bt)}break;case"AssignmentPattern":this.checkLVal(k.left,it,Bt);break;case"RestElement":this.checkLVal(k.argument,it,Bt);break;case"ParenthesizedExpression":this.checkLVal(k.expression,it,Bt);break;default:this.raise(k.start,(it?"Binding":"Assigning to")+" rvalue")}};var nr=V.prototype;nr.checkPropClash=function(k,it,Bt){if(!(this.options.ecmaVersion>=9&&k.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(k.computed||k.method||k.shorthand))){var yt=k.key,ne;switch(yt.type){case"Identifier":ne=yt.name;break;case"Literal":ne=String(yt.value);break;default:return}var _e=k.kind;if(this.options.ecmaVersion>=6){ne==="__proto__"&&_e==="init"&&(it.proto&&(Bt?Bt.doubleProto<0&&(Bt.doubleProto=yt.start):this.raiseRecoverable(yt.start,"Redefinition of __proto__ property")),it.proto=!0);return}ne="$"+ne;var ur=it[ne];if(ur){var jr;_e==="init"?jr=this.strict&&ur.init||ur.get||ur.set:jr=ur.init||ur[_e],jr&&this.raiseRecoverable(yt.start,"Redefinition of property")}else ur=it[ne]={init:!1,get:!1,set:!1};ur[_e]=!0}},nr.parseExpression=function(k,it){var Bt=this.start,yt=this.startLoc,ne=this.parseMaybeAssign(k,it);if(this.type===m.comma){var _e=this.startNodeAt(Bt,yt);for(_e.expressions=[ne];this.eat(m.comma);)_e.expressions.push(this.parseMaybeAssign(k,it));return this.finishNode(_e,"SequenceExpression")}return ne},nr.parseMaybeAssign=function(k,it,Bt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(k);this.exprAllowed=!1}var yt=!1,ne=-1,_e=-1;it?(ne=it.parenthesizedAssign,_e=it.trailingComma,it.parenthesizedAssign=it.trailingComma=-1):(it=new ot,yt=!0);var ur=this.start,jr=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start);var _r=this.parseMaybeConditional(k,it);if(Bt&&(_r=Bt.call(this,_r,ur,jr)),this.type.isAssign){var Pn=this.startNodeAt(ur,jr);return Pn.operator=this.value,Pn.left=this.type===m.eq?this.toAssignable(_r,!1,it):_r,yt||(it.parenthesizedAssign=it.trailingComma=it.doubleProto=-1),it.shorthandAssign>=Pn.left.start&&(it.shorthandAssign=-1),this.checkLVal(_r),this.next(),Pn.right=this.parseMaybeAssign(k),this.finishNode(Pn,"AssignmentExpression")}else yt&&this.checkExpressionErrors(it,!0);return ne>-1&&(it.parenthesizedAssign=ne),_e>-1&&(it.trailingComma=_e),_r},nr.parseMaybeConditional=function(k,it){var Bt=this.start,yt=this.startLoc,ne=this.parseExprOps(k,it);if(this.checkExpressionErrors(it))return ne;if(this.eat(m.question)){var _e=this.startNodeAt(Bt,yt);return _e.test=ne,_e.consequent=this.parseMaybeAssign(),this.expect(m.colon),_e.alternate=this.parseMaybeAssign(k),this.finishNode(_e,"ConditionalExpression")}return ne},nr.parseExprOps=function(k,it){var Bt=this.start,yt=this.startLoc,ne=this.parseMaybeUnary(it,!1);return this.checkExpressionErrors(it)||ne.start===Bt&&ne.type==="ArrowFunctionExpression"?ne:this.parseExprOp(ne,Bt,yt,-1,k)},nr.parseExprOp=function(k,it,Bt,yt,ne){var _e=this.type.binop;if(_e!=null&&(!ne||this.type!==m._in)&&_e>yt){var ur=this.type===m.logicalOR||this.type===m.logicalAND,jr=this.type===m.coalesce;jr&&(_e=m.logicalAND.binop);var _r=this.value;this.next();var Pn=this.start,Ln=this.startLoc,Li=this.parseExprOp(this.parseMaybeUnary(null,!1),Pn,Ln,_e,ne),sa=this.buildBinary(it,Bt,k,Li,_r,ur||jr);return(ur&&this.type===m.coalesce||jr&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(sa,it,Bt,yt,ne)}return k},nr.buildBinary=function(k,it,Bt,yt,ne,_e){var ur=this.startNodeAt(k,it);return ur.left=Bt,ur.operator=ne,ur.right=yt,this.finishNode(ur,_e?"LogicalExpression":"BinaryExpression")},nr.parseMaybeUnary=function(k,it){var Bt=this.start,yt=this.startLoc,ne;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))ne=this.parseAwait(),it=!0;else if(this.type.prefix){var _e=this.startNode(),ur=this.type===m.incDec;_e.operator=this.value,_e.prefix=!0,this.next(),_e.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(k,!0),ur?this.checkLVal(_e.argument):this.strict&&_e.operator==="delete"&&_e.argument.type==="Identifier"?this.raiseRecoverable(_e.start,"Deleting local variable in strict mode"):it=!0,ne=this.finishNode(_e,ur?"UpdateExpression":"UnaryExpression")}else{if(ne=this.parseExprSubscripts(k),this.checkExpressionErrors(k))return ne;for(;this.type.postfix&&!this.canInsertSemicolon();){var jr=this.startNodeAt(Bt,yt);jr.operator=this.value,jr.prefix=!1,jr.argument=ne,this.checkLVal(ne),this.next(),ne=this.finishNode(jr,"UpdateExpression")}}return!it&&this.eat(m.starstar)?this.buildBinary(Bt,yt,ne,this.parseMaybeUnary(null,!1),"**",!1):ne},nr.parseExprSubscripts=function(k){var it=this.start,Bt=this.startLoc,yt=this.parseExprAtom(k);if(yt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return yt;var ne=this.parseSubscripts(yt,it,Bt);return k&&ne.type==="MemberExpression"&&(k.parenthesizedAssign>=ne.start&&(k.parenthesizedAssign=-1),k.parenthesizedBind>=ne.start&&(k.parenthesizedBind=-1)),ne},nr.parseSubscripts=function(k,it,Bt,yt){for(var ne=this.options.ecmaVersion>=8&&k.type==="Identifier"&&k.name==="async"&&this.lastTokEnd===k.end&&!this.canInsertSemicolon()&&k.end-k.start==5&&this.potentialArrowAt===k.start,_e=!1;;){var ur=this.parseSubscript(k,it,Bt,yt,ne,_e);if(ur.optional&&(_e=!0),ur===k||ur.type==="ArrowFunctionExpression"){if(_e){var jr=this.startNodeAt(it,Bt);jr.expression=ur,ur=this.finishNode(jr,"ChainExpression")}return ur}k=ur}},nr.parseSubscript=function(k,it,Bt,yt,ne,_e){var ur=this.options.ecmaVersion>=11,jr=ur&&this.eat(m.questionDot);yt&&jr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _r=this.eat(m.bracketL);if(_r||jr&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var Pn=this.startNodeAt(it,Bt);Pn.object=k,Pn.property=_r?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Pn.computed=!!_r,_r&&this.expect(m.bracketR),ur&&(Pn.optional=jr),k=this.finishNode(Pn,"MemberExpression")}else if(!yt&&this.eat(m.parenL)){var Ln=new ot,Li=this.yieldPos,sa=this.awaitPos,$i=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Sa=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,Ln);if(ne&&!jr&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(Ln,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Li,this.awaitPos=sa,this.awaitIdentPos=$i,this.parseArrowExpression(this.startNodeAt(it,Bt),Sa,!0);this.checkExpressionErrors(Ln,!0),this.yieldPos=Li||this.yieldPos,this.awaitPos=sa||this.awaitPos,this.awaitIdentPos=$i||this.awaitIdentPos;var pa=this.startNodeAt(it,Bt);pa.callee=k,pa.arguments=Sa,ur&&(pa.optional=jr),k=this.finishNode(pa,"CallExpression")}else if(this.type===m.backQuote){(jr||_e)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Fa=this.startNodeAt(it,Bt);Fa.tag=k,Fa.quasi=this.parseTemplate({isTagged:!0}),k=this.finishNode(Fa,"TaggedTemplateExpression")}return k},nr.parseExprAtom=function(k){this.type===m.slash&&this.readRegexp();var it,Bt=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),it=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(it.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(it,"Super");case m._this:return it=this.startNode(),this.next(),this.finishNode(it,"ThisExpression");case m.name:var yt=this.start,ne=this.startLoc,_e=this.containsEsc,ur=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_e&&ur.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.parseFunction(this.startNodeAt(yt,ne),0,!1,!0);if(Bt&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(yt,ne),[ur],!1);if(this.options.ecmaVersion>=8&&ur.name==="async"&&this.type===m.name&&!_e)return ur=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(yt,ne),[ur],!0)}return ur;case m.regexp:var jr=this.value;return it=this.parseLiteral(jr.value),it.regex={pattern:jr.pattern,flags:jr.flags},it;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return it=this.startNode(),it.value=this.type===m._null?null:this.type===m._true,it.raw=this.type.keyword,this.next(),this.finishNode(it,"Literal");case m.parenL:var _r=this.start,Pn=this.parseParenAndDistinguishExpression(Bt);return k&&(k.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Pn)&&(k.parenthesizedAssign=_r),k.parenthesizedBind<0&&(k.parenthesizedBind=_r)),Pn;case m.bracketL:return it=this.startNode(),this.next(),it.elements=this.parseExprList(m.bracketR,!0,!0,k),this.finishNode(it,"ArrayExpression");case m.braceL:return this.parseObj(!1,k);case m._function:return it=this.startNode(),this.next(),this.parseFunction(it,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},nr.parseExprImport=function(){var k=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var it=this.parseIdent(!0);switch(this.type){case m.parenL:return this.parseDynamicImport(k);case m.dot:return k.meta=it,this.parseImportMeta(k);default:this.unexpected()}},nr.parseDynamicImport=function(k){if(this.next(),k.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var it=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(it,"Trailing comma is not allowed in import()"):this.unexpected(it)}return this.finishNode(k,"ImportExpression")},nr.parseImportMeta=function(k){this.next();var it=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="meta"&&this.raiseRecoverable(k.property.start,"The only valid meta property for import is 'import.meta'"),it&&this.raiseRecoverable(k.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&this.raiseRecoverable(k.start,"Cannot use 'import.meta' outside a module"),this.finishNode(k,"MetaProperty")},nr.parseLiteral=function(k){var it=this.startNode();return it.value=k,it.raw=this.input.slice(this.start,this.end),it.raw.charCodeAt(it.raw.length-1)===110&&(it.bigint=it.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(it,"Literal")},nr.parseParenExpression=function(){this.expect(m.parenL);var k=this.parseExpression();return this.expect(m.parenR),k},nr.parseParenAndDistinguishExpression=function(k){var it=this.start,Bt=this.startLoc,yt,ne=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var _e=this.start,ur=this.startLoc,jr=[],_r=!0,Pn=!1,Ln=new ot,Li=this.yieldPos,sa=this.awaitPos,$i;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(_r?_r=!1:this.expect(m.comma),ne&&this.afterTrailingComma(m.parenR,!0)){Pn=!0;break}else if(this.type===m.ellipsis){$i=this.start,jr.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else jr.push(this.parseMaybeAssign(!1,Ln,this.parseParenItem));var Sa=this.start,pa=this.startLoc;if(this.expect(m.parenR),k&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(Ln,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Li,this.awaitPos=sa,this.parseParenArrowList(it,Bt,jr);(!jr.length||Pn)&&this.unexpected(this.lastTokStart),$i&&this.unexpected($i),this.checkExpressionErrors(Ln,!0),this.yieldPos=Li||this.yieldPos,this.awaitPos=sa||this.awaitPos,jr.length>1?(yt=this.startNodeAt(_e,ur),yt.expressions=jr,this.finishNodeAt(yt,"SequenceExpression",Sa,pa)):yt=jr[0]}else yt=this.parseParenExpression();if(this.options.preserveParens){var Fa=this.startNodeAt(it,Bt);return Fa.expression=yt,this.finishNode(Fa,"ParenthesizedExpression")}else return yt},nr.parseParenItem=function(k){return k},nr.parseParenArrowList=function(k,it,Bt){return this.parseArrowExpression(this.startNodeAt(k,it),Bt)};var Xe=[];nr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var k=this.startNode(),it=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){k.meta=it;var Bt=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="target"&&this.raiseRecoverable(k.property.start,"The only valid meta property for new is 'new.target'"),Bt&&this.raiseRecoverable(k.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(k.start,"'new.target' can only be used in functions"),this.finishNode(k,"MetaProperty")}var yt=this.start,ne=this.startLoc,_e=this.type===m._import;return k.callee=this.parseSubscripts(this.parseExprAtom(),yt,ne,!0),_e&&k.callee.type==="ImportExpression"&&this.raise(yt,"Cannot use new with import()"),this.eat(m.parenL)?k.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):k.arguments=Xe,this.finishNode(k,"NewExpression")},nr.parseTemplateElement=function(k){var it=k.isTagged,Bt=this.startNode();return this.type===m.invalidTemplate?(it||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Bt.value={raw:this.value,cooked:null}):Bt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Bt.tail=this.type===m.backQuote,this.finishNode(Bt,"TemplateElement")},nr.parseTemplate=function(k){k===void 0&&(k={});var it=k.isTagged;it===void 0&&(it=!1);var Bt=this.startNode();this.next(),Bt.expressions=[];var yt=this.parseTemplateElement({isTagged:it});for(Bt.quasis=[yt];!yt.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),Bt.expressions.push(this.parseExpression()),this.expect(m.braceR),Bt.quasis.push(yt=this.parseTemplateElement({isTagged:it}));return this.next(),this.finishNode(Bt,"TemplateLiteral")},nr.isAsyncProp=function(k){return!k.computed&&k.key.type==="Identifier"&&k.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!M.test(this.input.slice(this.lastTokEnd,this.start))},nr.parseObj=function(k,it){var Bt=this.startNode(),yt=!0,ne={};for(Bt.properties=[],this.next();!this.eat(m.braceR);){if(yt)yt=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var _e=this.parseProperty(k,it);k||this.checkPropClash(_e,ne,it),Bt.properties.push(_e)}return this.finishNode(Bt,k?"ObjectPattern":"ObjectExpression")},nr.parseProperty=function(k,it){var Bt=this.startNode(),yt,ne,_e,ur;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return k?(Bt.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Bt,"RestElement")):(this.type===m.parenL&&it&&(it.parenthesizedAssign<0&&(it.parenthesizedAssign=this.start),it.parenthesizedBind<0&&(it.parenthesizedBind=this.start)),Bt.argument=this.parseMaybeAssign(!1,it),this.type===m.comma&&it&&it.trailingComma<0&&(it.trailingComma=this.start),this.finishNode(Bt,"SpreadElement"));this.options.ecmaVersion>=6&&(Bt.method=!1,Bt.shorthand=!1,(k||it)&&(_e=this.start,ur=this.startLoc),k||(yt=this.eat(m.star)));var jr=this.containsEsc;return this.parsePropertyName(Bt),!k&&!jr&&this.options.ecmaVersion>=8&&!yt&&this.isAsyncProp(Bt)?(ne=!0,yt=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(Bt,it)):ne=!1,this.parsePropertyValue(Bt,k,yt,ne,_e,ur,it,jr),this.finishNode(Bt,"Property")},nr.parsePropertyValue=function(k,it,Bt,yt,ne,_e,ur,jr){if((Bt||yt)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon))k.value=it?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ur),k.kind="init";else if(this.options.ecmaVersion>=6&&this.type===m.parenL)it&&this.unexpected(),k.kind="init",k.method=!0,k.value=this.parseMethod(Bt,yt);else if(!it&&!jr&&this.options.ecmaVersion>=5&&!k.computed&&k.key.type==="Identifier"&&(k.key.name==="get"||k.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq){(Bt||yt)&&this.unexpected(),k.kind=k.key.name,this.parsePropertyName(k),k.value=this.parseMethod(!1);var _r=k.kind==="get"?0:1;if(k.value.params.length!==_r){var Pn=k.value.start;k.kind==="get"?this.raiseRecoverable(Pn,"getter should have no params"):this.raiseRecoverable(Pn,"setter should have exactly one param")}else k.kind==="set"&&k.value.params[0].type==="RestElement"&&this.raiseRecoverable(k.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!k.computed&&k.key.type==="Identifier"?((Bt||yt)&&this.unexpected(),this.checkUnreserved(k.key),k.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ne),k.kind="init",it?k.value=this.parseMaybeDefault(ne,_e,k.key):this.type===m.eq&&ur?(ur.shorthandAssign<0&&(ur.shorthandAssign=this.start),k.value=this.parseMaybeDefault(ne,_e,k.key)):k.value=k.key,k.shorthand=!0):this.unexpected()},nr.parsePropertyName=function(k){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return k.computed=!0,k.key=this.parseMaybeAssign(),this.expect(m.bracketR),k.key;k.computed=!1}return k.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},nr.initFunction=function(k){k.id=null,this.options.ecmaVersion>=6&&(k.generator=k.expression=!1),this.options.ecmaVersion>=8&&(k.async=!1)},nr.parseMethod=function(k,it,Bt){var yt=this.startNode(),ne=this.yieldPos,_e=this.awaitPos,ur=this.awaitIdentPos;return this.initFunction(yt),this.options.ecmaVersion>=6&&(yt.generator=k),this.options.ecmaVersion>=8&&(yt.async=!!it),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ct(it,yt.generator)|H|(Bt?ft:0)),this.expect(m.parenL),yt.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(yt,!1,!0),this.yieldPos=ne,this.awaitPos=_e,this.awaitIdentPos=ur,this.finishNode(yt,"FunctionExpression")},nr.parseArrowExpression=function(k,it,Bt){var yt=this.yieldPos,ne=this.awaitPos,_e=this.awaitIdentPos;return this.enterScope(ct(Bt,!1)|N),this.initFunction(k),this.options.ecmaVersion>=8&&(k.async=!!Bt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,k.params=this.toAssignableList(it,!0),this.parseFunctionBody(k,!0,!1),this.yieldPos=yt,this.awaitPos=ne,this.awaitIdentPos=_e,this.finishNode(k,"ArrowFunctionExpression")},nr.parseFunctionBody=function(k,it,Bt){var yt=it&&this.type!==m.braceL,ne=this.strict,_e=!1;if(yt)k.body=this.parseMaybeAssign(),k.expression=!0,this.checkParams(k,!1);else{var ur=this.options.ecmaVersion>=7&&!this.isSimpleParamList(k.params);(!ne||ur)&&(_e=this.strictDirective(this.end),_e&&ur&&this.raiseRecoverable(k.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var jr=this.labels;this.labels=[],_e&&(this.strict=!0),this.checkParams(k,!ne&&!_e&&!it&&!Bt&&this.isSimpleParamList(k.params)),this.strict&&k.id&&this.checkLVal(k.id,R),k.body=this.parseBlock(!1,void 0,_e&&!ne),k.expression=!1,this.adaptDirectivePrologue(k.body.body),this.labels=jr}this.exitScope()},nr.isSimpleParamList=function(k){for(var it=0,Bt=k;it<Bt.length;it+=1){var yt=Bt[it];if(yt.type!=="Identifier")return!1}return!0},nr.checkParams=function(k,it){for(var Bt={},yt=0,ne=k.params;yt<ne.length;yt+=1){var _e=ne[yt];this.checkLVal(_e,$,it?null:Bt)}},nr.parseExprList=function(k,it,Bt,yt){for(var ne=[],_e=!0;!this.eat(k);){if(_e)_e=!1;else if(this.expect(m.comma),it&&this.afterTrailingComma(k))break;var ur=void 0;Bt&&this.type===m.comma?ur=null:this.type===m.ellipsis?(ur=this.parseSpread(yt),yt&&this.type===m.comma&&yt.trailingComma<0&&(yt.trailingComma=this.start)):ur=this.parseMaybeAssign(!1,yt),ne.push(ur)}return ne},nr.checkUnreserved=function(k){var it=k.start,Bt=k.end,yt=k.name;if(this.inGenerator&&yt==="yield"&&this.raiseRecoverable(it,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&yt==="await"&&this.raiseRecoverable(it,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(yt)&&this.raise(it,"Unexpected keyword '"+yt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(it,Bt).indexOf("\\")!==-1)){var ne=this.strict?this.reservedWordsStrict:this.reservedWords;ne.test(yt)&&(!this.inAsync&&yt==="await"&&this.raiseRecoverable(it,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(it,"The keyword '"+yt+"' is reserved"))}},nr.parseIdent=function(k,it){var Bt=this.startNode();return this.type===m.name?Bt.name=this.value:this.type.keyword?(Bt.name=this.type.keyword,(Bt.name==="class"||Bt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!k),this.finishNode(Bt,"Identifier"),k||(this.checkUnreserved(Bt),Bt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Bt.start)),Bt},nr.parseYield=function(k){this.yieldPos||(this.yieldPos=this.start);var it=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(it.delegate=!1,it.argument=null):(it.delegate=this.eat(m.star),it.argument=this.parseMaybeAssign(k)),this.finishNode(it,"YieldExpression")},nr.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var k=this.startNode();return this.next(),k.argument=this.parseMaybeUnary(null,!1),this.finishNode(k,"AwaitExpression")};var mr=V.prototype;mr.raise=function(k,it){var Bt=ht(this.input,k);it+=" ("+Bt.line+":"+Bt.column+")";var yt=new SyntaxError(it);throw yt.pos=k,yt.loc=Bt,yt.raisedAt=this.pos,yt},mr.raiseRecoverable=mr.raise,mr.curPosition=function(){if(this.options.locations)return new W(this.curLine,this.pos-this.lineStart)};var Gr=V.prototype,xe=function(it){this.flags=it,this.var=[],this.lexical=[],this.functions=[]};Gr.enterScope=function(k){this.scopeStack.push(new xe(k))},Gr.exitScope=function(){this.scopeStack.pop()},Gr.treatFunctionsAsVarInScope=function(k){return k.flags&Nt||!this.inModule&&k.flags&_t},Gr.declareName=function(k,it,Bt){var yt=!1;if(it===et){var ne=this.currentScope();yt=ne.lexical.indexOf(k)>-1||ne.functions.indexOf(k)>-1||ne.var.indexOf(k)>-1,ne.lexical.push(k),this.inModule&&ne.flags&_t&&delete this.undefinedExports[k]}else if(it===w){var _e=this.currentScope();_e.lexical.push(k)}else if(it===B){var ur=this.currentScope();this.treatFunctionsAsVar?yt=ur.lexical.indexOf(k)>-1:yt=ur.lexical.indexOf(k)>-1||ur.var.indexOf(k)>-1,ur.functions.push(k)}else for(var jr=this.scopeStack.length-1;jr>=0;--jr){var _r=this.scopeStack[jr];if(_r.lexical.indexOf(k)>-1&&!(_r.flags&at&&_r.lexical[0]===k)||!this.treatFunctionsAsVarInScope(_r)&&_r.functions.indexOf(k)>-1){yt=!0;break}if(_r.var.push(k),this.inModule&&_r.flags&_t&&delete this.undefinedExports[k],_r.flags&rt)break}yt&&this.raiseRecoverable(Bt,"Identifier '"+k+"' has already been declared")},Gr.checkLocalExport=function(k){this.scopeStack[0].lexical.indexOf(k.name)===-1&&this.scopeStack[0].var.indexOf(k.name)===-1&&(this.undefinedExports[k.name]=k)},Gr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Gr.currentVarScope=function(){for(var k=this.scopeStack.length-1;;k--){var it=this.scopeStack[k];if(it.flags&rt)return it}},Gr.currentThisScope=function(){for(var k=this.scopeStack.length-1;;k--){var it=this.scopeStack[k];if(it.flags&rt&&!(it.flags&N))return it}};var de=function(it,Bt,yt){this.type="",this.start=Bt,this.end=0,it.options.locations&&(this.loc=new J(it,yt)),it.options.directSourceFile&&(this.sourceFile=it.options.directSourceFile),it.options.ranges&&(this.range=[Bt,0])},ze=V.prototype;ze.startNode=function(){return new de(this,this.start,this.startLoc)},ze.startNodeAt=function(k,it){return new de(this,k,it)};function Ue(k,it,Bt,yt){return k.type=it,k.end=Bt,this.options.locations&&(k.loc.end=yt),this.options.ranges&&(k.range[1]=Bt),k}ze.finishNode=function(k,it){return Ue.call(this,k,it,this.lastTokEnd,this.lastTokEndLoc)},ze.finishNodeAt=function(k,it,Bt,yt){return Ue.call(this,k,it,Bt,yt)};var Kr=function(it,Bt,yt,ne,_e){this.token=it,this.isExpr=!!Bt,this.preserveSpace=!!yt,this.override=ne,this.generator=!!_e},rn={b_stat:new Kr("{",!1),b_expr:new Kr("{",!0),b_tmpl:new Kr("${",!1),p_stat:new Kr("(",!1),p_expr:new Kr("(",!0),q_tmpl:new Kr("`",!0,!0,function(k){return k.tryReadTemplateToken()}),f_stat:new Kr("function",!1),f_expr:new Kr("function",!0),f_expr_gen:new Kr("function",!0,!1,null,!0),f_gen:new Kr("function",!1,!1,null,!0)},ci=V.prototype;ci.initialContext=function(){return[rn.b_stat]},ci.braceIsBlock=function(k){var it=this.curContext();return it===rn.f_expr||it===rn.f_stat?!0:k===m.colon&&(it===rn.b_stat||it===rn.b_expr)?!it.isExpr:k===m._return||k===m.name&&this.exprAllowed?M.test(this.input.slice(this.lastTokEnd,this.start)):k===m._else||k===m.semi||k===m.eof||k===m.parenR||k===m.arrow?!0:k===m.braceL?it===rn.b_stat:k===m._var||k===m._const||k===m.name?!1:!this.exprAllowed},ci.inGeneratorContext=function(){for(var k=this.context.length-1;k>=1;k--){var it=this.context[k];if(it.token==="function")return it.generator}return!1},ci.updateContext=function(k){var it,Bt=this.type;Bt.keyword&&k===m.dot?this.exprAllowed=!1:(it=Bt.updateContext)?it.call(this,k):this.exprAllowed=Bt.beforeExpr},m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var k=this.context.pop();k===rn.b_stat&&this.curContext().token==="function"&&(k=this.context.pop()),this.exprAllowed=!k.isExpr},m.braceL.updateContext=function(k){this.context.push(this.braceIsBlock(k)?rn.b_stat:rn.b_expr),this.exprAllowed=!0},m.dollarBraceL.updateContext=function(){this.context.push(rn.b_tmpl),this.exprAllowed=!0},m.parenL.updateContext=function(k){var it=k===m._if||k===m._for||k===m._with||k===m._while;this.context.push(it?rn.p_stat:rn.p_expr),this.exprAllowed=!0},m.incDec.updateContext=function(){},m._function.updateContext=m._class.updateContext=function(k){k.beforeExpr&&k!==m.semi&&k!==m._else&&!(k===m._return&&M.test(this.input.slice(this.lastTokEnd,this.start)))&&!((k===m.colon||k===m.braceL)&&this.curContext()===rn.b_stat)?this.context.push(rn.f_expr):this.context.push(rn.f_stat),this.exprAllowed=!1},m.backQuote.updateContext=function(){this.curContext()===rn.q_tmpl?this.context.pop():this.context.push(rn.q_tmpl),this.exprAllowed=!1},m.star.updateContext=function(k){if(k===m._function){var it=this.context.length-1;this.context[it]===rn.f_expr?this.context[it]=rn.f_expr_gen:this.context[it]=rn.f_gen}this.exprAllowed=!0},m.name.updateContext=function(k){var it=!1;this.options.ecmaVersion>=6&&k!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(it=!0),this.exprAllowed=it};var Zi="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ki=Zi+" Extended_Pictographic",ji=Ki,Ae={9:Zi,10:Ki,11:ji},De="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ar="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Pr=ar+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",or=Pr+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",wr={9:ar,10:Pr,11:or},cn={};function Fn(k){var it=cn[k]={binary:Y(Ae[k]+" "+De),nonBinary:{General_Category:Y(De),Script:Y(wr[k])}};it.nonBinary.Script_Extensions=it.nonBinary.Script,it.nonBinary.gc=it.nonBinary.General_Category,it.nonBinary.sc=it.nonBinary.Script,it.nonBinary.scx=it.nonBinary.Script_Extensions}Fn(9),Fn(10),Fn(11);var nn=V.prototype,Hr=function(it){this.parser=it,this.validFlags="gim"+(it.options.ecmaVersion>=6?"uy":"")+(it.options.ecmaVersion>=9?"s":""),this.unicodeProperties=cn[it.options.ecmaVersion>=11?11:it.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Hr.prototype.reset=function(it,Bt,yt){var ne=yt.indexOf("u")!==-1;this.start=it|0,this.source=Bt+"",this.flags=yt,this.switchU=ne&&this.parser.options.ecmaVersion>=6,this.switchN=ne&&this.parser.options.ecmaVersion>=9},Hr.prototype.raise=function(it){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+it)},Hr.prototype.at=function(it,Bt){Bt===void 0&&(Bt=!1);var yt=this.source,ne=yt.length;if(it>=ne)return-1;var _e=yt.charCodeAt(it);if(!(Bt||this.switchU)||_e<=55295||_e>=57344||it+1>=ne)return _e;var ur=yt.charCodeAt(it+1);return ur>=56320&&ur<=57343?(_e<<10)+ur-56613888:_e},Hr.prototype.nextIndex=function(it,Bt){Bt===void 0&&(Bt=!1);var yt=this.source,ne=yt.length;if(it>=ne)return ne;var _e=yt.charCodeAt(it),ur;return!(Bt||this.switchU)||_e<=55295||_e>=57344||it+1>=ne||(ur=yt.charCodeAt(it+1))<56320||ur>57343?it+1:it+2},Hr.prototype.current=function(it){return it===void 0&&(it=!1),this.at(this.pos,it)},Hr.prototype.lookahead=function(it){return it===void 0&&(it=!1),this.at(this.nextIndex(this.pos,it),it)},Hr.prototype.advance=function(it){it===void 0&&(it=!1),this.pos=this.nextIndex(this.pos,it)},Hr.prototype.eat=function(it,Bt){return Bt===void 0&&(Bt=!1),this.current(Bt)===it?(this.advance(Bt),!0):!1};function Gn(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}nn.validateRegExpFlags=function(k){for(var it=k.validFlags,Bt=k.flags,yt=0;yt<Bt.length;yt++){var ne=Bt.charAt(yt);it.indexOf(ne)===-1&&this.raise(k.start,"Invalid regular expression flag"),Bt.indexOf(ne,yt+1)>-1&&this.raise(k.start,"Duplicate regular expression flag")}},nn.validateRegExpPattern=function(k){this.regexp_pattern(k),!k.switchN&&this.options.ecmaVersion>=9&&k.groupNames.length>0&&(k.switchN=!0,this.regexp_pattern(k))},nn.regexp_pattern=function(k){k.pos=0,k.lastIntValue=0,k.lastStringValue="",k.lastAssertionIsQuantifiable=!1,k.numCapturingParens=0,k.maxBackReference=0,k.groupNames.length=0,k.backReferenceNames.length=0,this.regexp_disjunction(k),k.pos!==k.source.length&&(k.eat(41)&&k.raise("Unmatched ')'"),(k.eat(93)||k.eat(125))&&k.raise("Lone quantifier brackets")),k.maxBackReference>k.numCapturingParens&&k.raise("Invalid escape");for(var it=0,Bt=k.backReferenceNames;it<Bt.length;it+=1){var yt=Bt[it];k.groupNames.indexOf(yt)===-1&&k.raise("Invalid named capture referenced")}},nn.regexp_disjunction=function(k){for(this.regexp_alternative(k);k.eat(124);)this.regexp_alternative(k);this.regexp_eatQuantifier(k,!0)&&k.raise("Nothing to repeat"),k.eat(123)&&k.raise("Lone quantifier brackets")},nn.regexp_alternative=function(k){for(;k.pos<k.source.length&&this.regexp_eatTerm(k););},nn.regexp_eatTerm=function(k){return this.regexp_eatAssertion(k)?(k.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(k)&&k.switchU&&k.raise("Invalid quantifier"),!0):(k.switchU?this.regexp_eatAtom(k):this.regexp_eatExtendedAtom(k))?(this.regexp_eatQuantifier(k),!0):!1},nn.regexp_eatAssertion=function(k){var it=k.pos;if(k.lastAssertionIsQuantifiable=!1,k.eat(94)||k.eat(36))return!0;if(k.eat(92)){if(k.eat(66)||k.eat(98))return!0;k.pos=it}if(k.eat(40)&&k.eat(63)){var Bt=!1;if(this.options.ecmaVersion>=9&&(Bt=k.eat(60)),k.eat(61)||k.eat(33))return this.regexp_disjunction(k),k.eat(41)||k.raise("Unterminated group"),k.lastAssertionIsQuantifiable=!Bt,!0}return k.pos=it,!1},nn.regexp_eatQuantifier=function(k,it){return it===void 0&&(it=!1),this.regexp_eatQuantifierPrefix(k,it)?(k.eat(63),!0):!1},nn.regexp_eatQuantifierPrefix=function(k,it){return k.eat(42)||k.eat(43)||k.eat(63)||this.regexp_eatBracedQuantifier(k,it)},nn.regexp_eatBracedQuantifier=function(k,it){var Bt=k.pos;if(k.eat(123)){var yt=0,ne=-1;if(this.regexp_eatDecimalDigits(k)&&(yt=k.lastIntValue,k.eat(44)&&this.regexp_eatDecimalDigits(k)&&(ne=k.lastIntValue),k.eat(125)))return ne!==-1&&ne<yt&&!it&&k.raise("numbers out of order in {} quantifier"),!0;k.switchU&&!it&&k.raise("Incomplete quantifier"),k.pos=Bt}return!1},nn.regexp_eatAtom=function(k){return this.regexp_eatPatternCharacters(k)||k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)},nn.regexp_eatReverseSolidusAtomEscape=function(k){var it=k.pos;if(k.eat(92)){if(this.regexp_eatAtomEscape(k))return!0;k.pos=it}return!1},nn.regexp_eatUncapturingGroup=function(k){var it=k.pos;if(k.eat(40)){if(k.eat(63)&&k.eat(58)){if(this.regexp_disjunction(k),k.eat(41))return!0;k.raise("Unterminated group")}k.pos=it}return!1},nn.regexp_eatCapturingGroup=function(k){if(k.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(k):k.current()===63&&k.raise("Invalid group"),this.regexp_disjunction(k),k.eat(41))return k.numCapturingParens+=1,!0;k.raise("Unterminated group")}return!1},nn.regexp_eatExtendedAtom=function(k){return k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)||this.regexp_eatInvalidBracedQuantifier(k)||this.regexp_eatExtendedPatternCharacter(k)},nn.regexp_eatInvalidBracedQuantifier=function(k){return this.regexp_eatBracedQuantifier(k,!0)&&k.raise("Nothing to repeat"),!1},nn.regexp_eatSyntaxCharacter=function(k){var it=k.current();return $n(it)?(k.lastIntValue=it,k.advance(),!0):!1};function $n(k){return k===36||k>=40&&k<=43||k===46||k===63||k>=91&&k<=94||k>=123&&k<=125}nn.regexp_eatPatternCharacters=function(k){for(var it=k.pos,Bt=0;(Bt=k.current())!==-1&&!$n(Bt);)k.advance();return k.pos!==it},nn.regexp_eatExtendedPatternCharacter=function(k){var it=k.current();return it!==-1&&it!==36&&!(it>=40&&it<=43)&&it!==46&&it!==63&&it!==91&&it!==94&&it!==124?(k.advance(),!0):!1},nn.regexp_groupSpecifier=function(k){if(k.eat(63)){if(this.regexp_eatGroupName(k)){k.groupNames.indexOf(k.lastStringValue)!==-1&&k.raise("Duplicate capture group name"),k.groupNames.push(k.lastStringValue);return}k.raise("Invalid group")}},nn.regexp_eatGroupName=function(k){if(k.lastStringValue="",k.eat(60)){if(this.regexp_eatRegExpIdentifierName(k)&&k.eat(62))return!0;k.raise("Invalid capture group name")}return!1},nn.regexp_eatRegExpIdentifierName=function(k){if(k.lastStringValue="",this.regexp_eatRegExpIdentifierStart(k)){for(k.lastStringValue+=Gn(k.lastIntValue);this.regexp_eatRegExpIdentifierPart(k);)k.lastStringValue+=Gn(k.lastIntValue);return!0}return!1},nn.regexp_eatRegExpIdentifierStart=function(k){var it=k.pos,Bt=this.options.ecmaVersion>=11,yt=k.current(Bt);return k.advance(Bt),yt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,Bt)&&(yt=k.lastIntValue),Vr(yt)?(k.lastIntValue=yt,!0):(k.pos=it,!1)};function Vr(k){return l(k,!0)||k===36||k===95}nn.regexp_eatRegExpIdentifierPart=function(k){var it=k.pos,Bt=this.options.ecmaVersion>=11,yt=k.current(Bt);return k.advance(Bt),yt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,Bt)&&(yt=k.lastIntValue),Ir(yt)?(k.lastIntValue=yt,!0):(k.pos=it,!1)};function Ir(k){return h(k,!0)||k===36||k===95||k===8204||k===8205}nn.regexp_eatAtomEscape=function(k){return this.regexp_eatBackReference(k)||this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)||k.switchN&&this.regexp_eatKGroupName(k)?!0:(k.switchU&&(k.current()===99&&k.raise("Invalid unicode escape"),k.raise("Invalid escape")),!1)},nn.regexp_eatBackReference=function(k){var it=k.pos;if(this.regexp_eatDecimalEscape(k)){var Bt=k.lastIntValue;if(k.switchU)return Bt>k.maxBackReference&&(k.maxBackReference=Bt),!0;if(Bt<=k.numCapturingParens)return!0;k.pos=it}return!1},nn.regexp_eatKGroupName=function(k){if(k.eat(107)){if(this.regexp_eatGroupName(k))return k.backReferenceNames.push(k.lastStringValue),!0;k.raise("Invalid named reference")}return!1},nn.regexp_eatCharacterEscape=function(k){return this.regexp_eatControlEscape(k)||this.regexp_eatCControlLetter(k)||this.regexp_eatZero(k)||this.regexp_eatHexEscapeSequence(k)||this.regexp_eatRegExpUnicodeEscapeSequence(k,!1)||!k.switchU&&this.regexp_eatLegacyOctalEscapeSequence(k)||this.regexp_eatIdentityEscape(k)},nn.regexp_eatCControlLetter=function(k){var it=k.pos;if(k.eat(99)){if(this.regexp_eatControlLetter(k))return!0;k.pos=it}return!1},nn.regexp_eatZero=function(k){return k.current()===48&&!le(k.lookahead())?(k.lastIntValue=0,k.advance(),!0):!1},nn.regexp_eatControlEscape=function(k){var it=k.current();return it===116?(k.lastIntValue=9,k.advance(),!0):it===110?(k.lastIntValue=10,k.advance(),!0):it===118?(k.lastIntValue=11,k.advance(),!0):it===102?(k.lastIntValue=12,k.advance(),!0):it===114?(k.lastIntValue=13,k.advance(),!0):!1},nn.regexp_eatControlLetter=function(k){var it=k.current();return ti(it)?(k.lastIntValue=it%32,k.advance(),!0):!1};function ti(k){return k>=65&&k<=90||k>=97&&k<=122}nn.regexp_eatRegExpUnicodeEscapeSequence=function(k,it){it===void 0&&(it=!1);var Bt=k.pos,yt=it||k.switchU;if(k.eat(117)){if(this.regexp_eatFixedHexDigits(k,4)){var ne=k.lastIntValue;if(yt&&ne>=55296&&ne<=56319){var _e=k.pos;if(k.eat(92)&&k.eat(117)&&this.regexp_eatFixedHexDigits(k,4)){var ur=k.lastIntValue;if(ur>=56320&&ur<=57343)return k.lastIntValue=(ne-55296)*1024+(ur-56320)+65536,!0}k.pos=_e,k.lastIntValue=ne}return!0}if(yt&&k.eat(123)&&this.regexp_eatHexDigits(k)&&k.eat(125)&&ge(k.lastIntValue))return!0;yt&&k.raise("Invalid unicode escape"),k.pos=Bt}return!1};function ge(k){return k>=0&&k<=1114111}nn.regexp_eatIdentityEscape=function(k){if(k.switchU)return this.regexp_eatSyntaxCharacter(k)?!0:k.eat(47)?(k.lastIntValue=47,!0):!1;var it=k.current();return it!==99&&(!k.switchN||it!==107)?(k.lastIntValue=it,k.advance(),!0):!1},nn.regexp_eatDecimalEscape=function(k){k.lastIntValue=0;var it=k.current();if(it>=49&&it<=57){do k.lastIntValue=10*k.lastIntValue+(it-48),k.advance();while((it=k.current())>=48&&it<=57);return!0}return!1},nn.regexp_eatCharacterClassEscape=function(k){var it=k.current();if(Le(it))return k.lastIntValue=-1,k.advance(),!0;if(k.switchU&&this.options.ecmaVersion>=9&&(it===80||it===112)){if(k.lastIntValue=-1,k.advance(),k.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(k)&&k.eat(125))return!0;k.raise("Invalid property name")}return!1};function Le(k){return k===100||k===68||k===115||k===83||k===119||k===87}nn.regexp_eatUnicodePropertyValueExpression=function(k){var it=k.pos;if(this.regexp_eatUnicodePropertyName(k)&&k.eat(61)){var Bt=k.lastStringValue;if(this.regexp_eatUnicodePropertyValue(k)){var yt=k.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(k,Bt,yt),!0}}if(k.pos=it,this.regexp_eatLoneUnicodePropertyNameOrValue(k)){var ne=k.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(k,ne),!0}return!1},nn.regexp_validateUnicodePropertyNameAndValue=function(k,it,Bt){Z(k.unicodeProperties.nonBinary,it)||k.raise("Invalid property name"),k.unicodeProperties.nonBinary[it].test(Bt)||k.raise("Invalid property value")},nn.regexp_validateUnicodePropertyNameOrValue=function(k,it){k.unicodeProperties.binary.test(it)||k.raise("Invalid property name")},nn.regexp_eatUnicodePropertyName=function(k){var it=0;for(k.lastStringValue="";Se(it=k.current());)k.lastStringValue+=Gn(it),k.advance();return k.lastStringValue!==""};function Se(k){return ti(k)||k===95}nn.regexp_eatUnicodePropertyValue=function(k){var it=0;for(k.lastStringValue="";Ve(it=k.current());)k.lastStringValue+=Gn(it),k.advance();return k.lastStringValue!==""};function Ve(k){return Se(k)||le(k)}nn.regexp_eatLoneUnicodePropertyNameOrValue=function(k){return this.regexp_eatUnicodePropertyValue(k)},nn.regexp_eatCharacterClass=function(k){if(k.eat(91)){if(k.eat(94),this.regexp_classRanges(k),k.eat(93))return!0;k.raise("Unterminated character class")}return!1},nn.regexp_classRanges=function(k){for(;this.regexp_eatClassAtom(k);){var it=k.lastIntValue;if(k.eat(45)&&this.regexp_eatClassAtom(k)){var Bt=k.lastIntValue;k.switchU&&(it===-1||Bt===-1)&&k.raise("Invalid character class"),it!==-1&&Bt!==-1&&it>Bt&&k.raise("Range out of order in character class")}}},nn.regexp_eatClassAtom=function(k){var it=k.pos;if(k.eat(92)){if(this.regexp_eatClassEscape(k))return!0;if(k.switchU){var Bt=k.current();(Bt===99||rr(Bt))&&k.raise("Invalid class escape"),k.raise("Invalid escape")}k.pos=it}var yt=k.current();return yt!==93?(k.lastIntValue=yt,k.advance(),!0):!1},nn.regexp_eatClassEscape=function(k){var it=k.pos;if(k.eat(98))return k.lastIntValue=8,!0;if(k.switchU&&k.eat(45))return k.lastIntValue=45,!0;if(!k.switchU&&k.eat(99)){if(this.regexp_eatClassControlLetter(k))return!0;k.pos=it}return this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)},nn.regexp_eatClassControlLetter=function(k){var it=k.current();return le(it)||it===95?(k.lastIntValue=it%32,k.advance(),!0):!1},nn.regexp_eatHexEscapeSequence=function(k){var it=k.pos;if(k.eat(120)){if(this.regexp_eatFixedHexDigits(k,2))return!0;k.switchU&&k.raise("Invalid escape"),k.pos=it}return!1},nn.regexp_eatDecimalDigits=function(k){var it=k.pos,Bt=0;for(k.lastIntValue=0;le(Bt=k.current());)k.lastIntValue=10*k.lastIntValue+(Bt-48),k.advance();return k.pos!==it};function le(k){return k>=48&&k<=57}nn.regexp_eatHexDigits=function(k){var it=k.pos,Bt=0;for(k.lastIntValue=0;vr(Bt=k.current());)k.lastIntValue=16*k.lastIntValue+He(Bt),k.advance();return k.pos!==it};function vr(k){return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function He(k){return k>=65&&k<=70?10+(k-65):k>=97&&k<=102?10+(k-97):k-48}nn.regexp_eatLegacyOctalEscapeSequence=function(k){if(this.regexp_eatOctalDigit(k)){var it=k.lastIntValue;if(this.regexp_eatOctalDigit(k)){var Bt=k.lastIntValue;it<=3&&this.regexp_eatOctalDigit(k)?k.lastIntValue=it*64+Bt*8+k.lastIntValue:k.lastIntValue=it*8+Bt}else k.lastIntValue=it;return!0}return!1},nn.regexp_eatOctalDigit=function(k){var it=k.current();return rr(it)?(k.lastIntValue=it-48,k.advance(),!0):(k.lastIntValue=0,!1)};function rr(k){return k>=48&&k<=55}nn.regexp_eatFixedHexDigits=function(k,it){var Bt=k.pos;k.lastIntValue=0;for(var yt=0;yt<it;++yt){var ne=k.current();if(!vr(ne))return k.pos=Bt,!1;k.lastIntValue=16*k.lastIntValue+He(ne),k.advance()}return!0};var Dr=function(it){this.type=it.type,this.value=it.value,this.start=it.start,this.end=it.end,it.options.locations&&(this.loc=new J(it,it.startLoc,it.endLoc)),it.options.ranges&&(this.range=[it.start,it.end])},Mr=V.prototype;Mr.next=function(k){!k&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Dr(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Mr.getToken=function(){return this.next(),new Dr(this)},typeof Symbol!="undefined"&&(Mr[Symbol.iterator]=function(){var k=this;return{next:function(){var it=k.getToken();return{done:it.type===m.eof,value:it}}}}),Mr.curContext=function(){return this.context[this.context.length-1]},Mr.nextToken=function(){var k=this.curContext();if((!k||!k.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(k.override)return k.override(this);this.readToken(this.fullCharCodeAtPos())},Mr.readToken=function(k){return l(k,this.options.ecmaVersion>=6)||k===92?this.readWord():this.getTokenFromCode(k)},Mr.fullCharCodeAtPos=function(){var k=this.input.charCodeAt(this.pos);if(k<=55295||k>=57344)return k;var it=this.input.charCodeAt(this.pos+1);return(k<<10)+it-56613888},Mr.skipBlockComment=function(){var k=this.options.onComment&&this.curPosition(),it=this.pos,Bt=this.input.indexOf("*/",this.pos+=2);if(Bt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Bt+2,this.options.locations){b.lastIndex=it;for(var yt;(yt=b.exec(this.input))&&yt.index<this.pos;)++this.curLine,this.lineStart=yt.index+yt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(it+2,Bt),it,this.pos,k,this.curPosition())},Mr.skipLineComment=function(k){for(var it=this.pos,Bt=this.options.onComment&&this.curPosition(),yt=this.input.charCodeAt(this.pos+=k);this.pos<this.input.length&&!S(yt);)yt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(it+k,this.pos),it,this.pos,Bt,this.curPosition())},Mr.skipSpace=function(){t:for(;this.pos<this.input.length;){var k=this.input.charCodeAt(this.pos);switch(k){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(k>8&&k<14||k>=5760&&A.test(String.fromCharCode(k)))++this.pos;else break t}}},Mr.finishToken=function(k,it){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Bt=this.type;this.type=k,this.value=it,this.updateContext(Bt)},Mr.readToken_dot=function(){var k=this.input.charCodeAt(this.pos+1);if(k>=48&&k<=57)return this.readNumber(!0);var it=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&k===46&&it===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))},Mr.readToken_slash=function(){var k=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):k===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)},Mr.readToken_mult_modulo_exp=function(k){var it=this.input.charCodeAt(this.pos+1),Bt=1,yt=k===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&k===42&&it===42&&(++Bt,yt=m.starstar,it=this.input.charCodeAt(this.pos+2)),it===61?this.finishOp(m.assign,Bt+1):this.finishOp(yt,Bt)},Mr.readToken_pipe_amp=function(k){var it=this.input.charCodeAt(this.pos+1);if(it===k){if(this.options.ecmaVersion>=12){var Bt=this.input.charCodeAt(this.pos+2);if(Bt===61)return this.finishOp(m.assign,3)}return this.finishOp(k===124?m.logicalOR:m.logicalAND,2)}return it===61?this.finishOp(m.assign,2):this.finishOp(k===124?m.bitwiseOR:m.bitwiseAND,1)},Mr.readToken_caret=function(){var k=this.input.charCodeAt(this.pos+1);return k===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)},Mr.readToken_plus_min=function(k){var it=this.input.charCodeAt(this.pos+1);return it===k?it===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||M.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):it===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)},Mr.readToken_lt_gt=function(k){var it=this.input.charCodeAt(this.pos+1),Bt=1;return it===k?(Bt=k===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Bt)===61?this.finishOp(m.assign,Bt+1):this.finishOp(m.bitShift,Bt)):it===33&&k===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(it===61&&(Bt=2),this.finishOp(m.relational,Bt))},Mr.readToken_eq_excl=function(k){var it=this.input.charCodeAt(this.pos+1);return it===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):k===61&&it===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(k===61?m.eq:m.prefix,1)},Mr.readToken_question=function(){var k=this.options.ecmaVersion;if(k>=11){var it=this.input.charCodeAt(this.pos+1);if(it===46){var Bt=this.input.charCodeAt(this.pos+2);if(Bt<48||Bt>57)return this.finishOp(m.questionDot,2)}if(it===63){if(k>=12){var yt=this.input.charCodeAt(this.pos+2);if(yt===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)},Mr.getTokenFromCode=function(k){switch(k){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var it=this.input.charCodeAt(this.pos+1);if(it===120||it===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(it===111||it===79)return this.readRadixNumber(8);if(it===98||it===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(k);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(k);case 124:case 38:return this.readToken_pipe_amp(k);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(k);case 60:case 62:return this.readToken_lt_gt(k);case 61:case 33:return this.readToken_eq_excl(k);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1)}this.raise(this.pos,"Unexpected character '"+qr(k)+"'")},Mr.finishOp=function(k,it){var Bt=this.input.slice(this.pos,this.pos+it);return this.pos+=it,this.finishToken(k,Bt)},Mr.readRegexp=function(){for(var k,it,Bt=this.pos;;){this.pos>=this.input.length&&this.raise(Bt,"Unterminated regular expression");var yt=this.input.charAt(this.pos);if(M.test(yt)&&this.raise(Bt,"Unterminated regular expression"),k)k=!1;else{if(yt==="[")it=!0;else if(yt==="]"&&it)it=!1;else if(yt==="/"&&!it)break;k=yt==="\\"}++this.pos}var ne=this.input.slice(Bt,this.pos);++this.pos;var _e=this.pos,ur=this.readWord1();this.containsEsc&&this.unexpected(_e);var jr=this.regexpState||(this.regexpState=new Hr(this));jr.reset(Bt,ne,ur),this.validateRegExpFlags(jr),this.validateRegExpPattern(jr);var _r=null;try{_r=new RegExp(ne,ur)}catch(Pn){}return this.finishToken(m.regexp,{pattern:ne,flags:ur,value:_r})},Mr.readInt=function(k,it,Bt){for(var yt=this.options.ecmaVersion>=12&&it===void 0,ne=Bt&&this.input.charCodeAt(this.pos)===48,_e=this.pos,ur=0,jr=0,_r=0,Pn=it==null?Infinity:it;_r<Pn;++_r,++this.pos){var Ln=this.input.charCodeAt(this.pos),Li=void 0;if(yt&&Ln===95){ne&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),jr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),_r===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),jr=Ln;continue}if(Ln>=97?Li=Ln-97+10:Ln>=65?Li=Ln-65+10:Ln>=48&&Ln<=57?Li=Ln-48:Li=Infinity,Li>=k)break;jr=Ln,ur=ur*k+Li}return yt&&jr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===_e||it!=null&&this.pos-_e!==it?null:ur};function an(k,it){return it?parseInt(k,8):parseFloat(k.replace(/_/g,""))}function gn(k){return typeof BigInt!="function"?null:BigInt(k.replace(/_/g,""))}Mr.readRadixNumber=function(k){var it=this.pos;this.pos+=2;var Bt=this.readInt(k);return Bt==null&&this.raise(this.start+2,"Expected number in radix "+k),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Bt=gn(this.input.slice(it,this.pos)),++this.pos):l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,Bt)},Mr.readNumber=function(k){var it=this.pos;!k&&this.readInt(10,void 0,!0)===null&&this.raise(it,"Invalid number");var Bt=this.pos-it>=2&&this.input.charCodeAt(it)===48;Bt&&this.strict&&this.raise(it,"Invalid number");var yt=this.input.charCodeAt(this.pos);if(!Bt&&!k&&this.options.ecmaVersion>=11&&yt===110){var ne=gn(this.input.slice(it,this.pos));return++this.pos,l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,ne)}Bt&&/[89]/.test(this.input.slice(it,this.pos))&&(Bt=!1),yt===46&&!Bt&&(++this.pos,this.readInt(10),yt=this.input.charCodeAt(this.pos)),(yt===69||yt===101)&&!Bt&&(yt=this.input.charCodeAt(++this.pos),(yt===43||yt===45)&&++this.pos,this.readInt(10)===null&&this.raise(it,"Invalid number")),l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var _e=an(this.input.slice(it,this.pos),Bt);return this.finishToken(m.num,_e)},Mr.readCodePoint=function(){var k=this.input.charCodeAt(this.pos),it;if(k===123){this.options.ecmaVersion<6&&this.unexpected();var Bt=++this.pos;it=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,it>1114111&&this.invalidStringToken(Bt,"Code point out of bounds")}else it=this.readHexChar(4);return it};function qr(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}Mr.readString=function(k){for(var it="",Bt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var yt=this.input.charCodeAt(this.pos);if(yt===k)break;yt===92?(it+=this.input.slice(Bt,this.pos),it+=this.readEscapedChar(!1),Bt=this.pos):(S(yt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return it+=this.input.slice(Bt,this.pos++),this.finishToken(m.string,it)};var Dn={};Mr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(k){if(k===Dn)this.readInvalidTemplateToken();else throw k}this.inTemplateElement=!1},Mr.invalidStringToken=function(k,it){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Dn;this.raise(k,it)},Mr.readTmplToken=function(){for(var k="",it=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Bt=this.input.charCodeAt(this.pos);if(Bt===96||Bt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?Bt===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(k+=this.input.slice(it,this.pos),this.finishToken(m.template,k));if(Bt===92)k+=this.input.slice(it,this.pos),k+=this.readEscapedChar(!0),it=this.pos;else if(S(Bt)){switch(k+=this.input.slice(it,this.pos),++this.pos,Bt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:k+=`
`;break;default:k+=String.fromCharCode(Bt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),it=this.pos}else++this.pos}},Mr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Mr.readEscapedChar=function(k){var it=this.input.charCodeAt(++this.pos);switch(++this.pos,it){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(k){var Bt=this.pos-1;return this.invalidStringToken(Bt,"Invalid escape sequence in template string"),null}default:if(it>=48&&it<=55){var yt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ne=parseInt(yt,8);return ne>255&&(yt=yt.slice(0,-1),ne=parseInt(yt,8)),this.pos+=yt.length-1,it=this.input.charCodeAt(this.pos),(yt!=="0"||it===56||it===57)&&(this.strict||k)&&this.invalidStringToken(this.pos-1-yt.length,k?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ne)}return S(it)?"":String.fromCharCode(it)}},Mr.readHexChar=function(k){var it=this.pos,Bt=this.readInt(16,k);return Bt===null&&this.invalidStringToken(it,"Bad character escape sequence"),Bt},Mr.readWord1=function(){this.containsEsc=!1;for(var k="",it=!0,Bt=this.pos,yt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ne=this.fullCharCodeAtPos();if(h(ne,yt))this.pos+=ne<=65535?1:2;else if(ne===92){this.containsEsc=!0,k+=this.input.slice(Bt,this.pos);var _e=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var ur=this.readCodePoint();(it?l:h)(ur,yt)||this.invalidStringToken(_e,"Invalid Unicode escape"),k+=qr(ur),Bt=this.pos}else break;it=!1}return k+this.input.slice(Bt,this.pos)},Mr.readWord=function(){var k=this.readWord1(),it=m.name;return this.keywords.test(k)&&(it=E[k]),this.finishToken(it,k)};var ae="7.4.1";V.acorn={Parser:V,version:ae,defaultOptions:nt,Position:W,SourceLocation:J,getLineInfo:ht,Node:de,TokenType:p,tokTypes:m,keywordTypes:E,TokContext:Kr,tokContexts:rn,isIdentifierChar:h,isIdentifierStart:l,Token:Dr,isNewLine:S,lineBreak:M,lineBreakG:b,nonASCIIwhitespace:A};function er(k,it){return V.parse(k,it)}function sr(k,it,Bt){return V.parseExpressionAt(k,it,Bt)}function kr(k,it){return V.tokenizer(k,it)}function Rn(k,it){k.prototype=Object.create(it.prototype),k.prototype.constructor=k,k.__proto__=it}function pi(k){var it=typeof Map=="function"?new Map:void 0;return pi=function(yt){if(yt===null||!_a(yt))return yt;if(typeof yt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof it!="undefined"){if(it.has(yt))return it.get(yt);it.set(yt,ne)}function ne(){return da(yt,arguments,wo(this).constructor)}return ne.prototype=Object.create(yt.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),fa(ne,yt)},pi(k)}function Yi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function da(k,it,Bt){return Yi()?da=Reflect.construct:da=function(ne,_e,ur){var jr=[null];jr.push.apply(jr,_e);var _r=Function.bind.apply(ne,jr),Pn=new _r;return ur&&fa(Pn,ur.prototype),Pn},da.apply(null,arguments)}function _a(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function fa(k,it){return fa=Object.setPrototypeOf||function(yt,ne){return yt.__proto__=ne,yt},fa(k,it)}function wo(k){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(Bt){return Bt.__proto__||Object.getPrototypeOf(Bt)},wo(k)}var ho=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(pi(Error)),mo=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(pi(SyntaxError)),yo=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(pi(ReferenceError)),zo=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(pi(TypeError)),io=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(ho),Za=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(mo),qa=function(k){Rn(it,k);function it(){return k.apply(this,arguments)||this}return it}(yo),Zt={UnknownError:[3001,"%0",io],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",io],NodeTypeSyntaxError:[1001,"Unknown node type: %0",qa],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",qa],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",qa],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",qa],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",qa],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",qa],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",qa],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",qa],ParamTypeSyntaxError:[1009,"Unknown param type: %0",qa],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",qa],FunctionUndefinedReferenceError:[2001,"%0 is not a function",yo],VariableUndefinedReferenceError:[2002,"%0 is not defined",yo],IsNotConstructor:[2003,"%0 is not a constructor",zo]};function je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function lr(k,it,Bt){return je()?lr=Reflect.construct:lr=function(ne,_e,ur){var jr=[null];jr.push.apply(jr,_e);var _r=Function.bind.apply(ne,jr),Pn=new _r;return ur&&Br(Pn,ur.prototype),Pn},lr.apply(null,arguments)}function Br(k,it){return Br=Object.setPrototypeOf||function(yt,ne){return yt.__proto__=ne,yt},Br(k,it)}var Vt="0.0.2";function ee(k,it){Object.defineProperty(k,"name",{value:it,writable:!1,enumerable:!1,configurable:!0})}var Ce=Object.prototype.hasOwnProperty,Me=Symbol("Break"),Sr=Symbol("Continue"),pn=Symbol("DefaultCase"),En=Symbol("EmptyStatementReturn"),fi=Symbol("WithScopeName"),Ci=Symbol("SuperScopeName"),aa=Symbol("RootScopeName"),ta=Symbol("GlobalScopeName");function Ea(k){return typeof k=="function"}var ca=function(){function k(Bt){this.interpreter=Bt}var it=k.prototype;return it.generator=function(){var yt=this.interpreter;function ne(){return this.getCurrentScope()}function _e(){return this.getGlobalScope()}function ur(){return this.getCurrentContext()}return{getOptions:yt.getOptions.bind(yt),getCurrentScope:ne.bind(yt),getGlobalScope:_e.bind(yt),getCurrentContext:ur.bind(yt),getExecStartTime:yt.getExecStartTime.bind(yt)}},k}();function to(k,it,Bt){if(Bt===void 0&&(Bt=!0),!(k instanceof ca))throw new Error("Illegal call");if(typeof it!="string")return it;if(!!it){var yt=k.generator(),ne=yt.getOptions(),_e={timeout:ne.timeout,_initEnv:function(){Bt||this.setCurrentContext(yt.getCurrentContext()),this.execStartTime=yt.getExecStartTime(),this.execEndTime=this.execStartTime}},ur=Bt?yt.getGlobalScope():yt.getCurrentScope(),jr=new dt(ur,_e);return jr.evaluate(it)}}Object.defineProperty(to,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});function za(k){if(!(k instanceof ca))throw new Error("Illegal call");for(var it=k.generator(),Bt=arguments.length,yt=new Array(Bt>1?Bt-1:0),ne=1;ne<Bt;ne++)yt[ne-1]=arguments[ne];var _e=yt.pop(),ur=new dt(it.getGlobalScope(),it.getOptions()),jr=`
		    (function anonymous(`+yt.join(",")+`){
		        `+_e+`
		    });
		    `;return ur.evaluate(jr)}Object.defineProperty(za,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var Ia=function(it){this.value=it},Va=function(it){this.value=it},ro=function(it){this.value=it},Ee=function(it,Bt,yt){Bt===void 0&&(Bt=null),this.name=yt,this.parent=Bt,this.data=it,this.labelStack=[]};function be(){}function pe(k,it){return k===void 0&&(k=null),new Ee(Object.create(null),k,it)}function vt(k){return Object.create(k)}var gt={NaN:NaN,Infinity:Infinity,undefined:void 0,Object,Array,String,Boolean,Number,Date,RegExp,Error,URIError,TypeError,RangeError,SyntaxError,ReferenceError,Float32Array,Uint32Array,Math,parseInt,parseFloat,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,unescape,eval:to,Function:za};typeof JSON!="undefined"&&(gt.JSON=JSON),typeof Promise!="undefined"&&(gt.Promise=Promise),typeof Set!="undefined"&&(gt.Set=Set),typeof Map!="undefined"&&(gt.Map=Map),typeof Symbol!="undefined"&&(gt.Symbol=Symbol),typeof Proxy!="undefined"&&(gt.Proxy=Proxy),typeof WeakMap!="undefined"&&(gt.WeakMap=WeakMap),typeof WeakSet!="undefined"&&(gt.WeakSet=WeakSet),typeof Reflect!="undefined"&&(gt.Reflect=Reflect);var dt=function(){function k(Bt,yt){Bt===void 0&&(Bt=k.global),yt===void 0&&(yt={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:yt.ecmaVersion||k.ecmaVersion,timeout:yt.timeout||0,rootContext:yt.rootContext,globalContextInFunction:yt.globalContextInFunction===void 0?k.globalContextInFunction:yt.globalContextInFunction,_initEnv:yt._initEnv},this.context=Bt||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var it=k.prototype;return it.initEnvironment=function(yt){var ne;if(yt instanceof Ee)ne=yt;else{var _e=null,ur=this.createSuperScope(yt);this.options.rootContext&&(_e=new Ee(vt(this.options.rootContext),ur,aa)),ne=new Ee(yt,_e||ur,ta)}this.globalScope=ne,this.currentScope=this.globalScope,this.globalContext=ne.data,this.currentContext=ne.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var jr=this.options._initEnv;jr&&jr.call(this)},it.getExecStartTime=function(){return this.execStartTime},it.getExecutionTime=function(){return this.execEndTime-this.execStartTime},it.setExecTimeout=function(yt){yt===void 0&&(yt=0),this.options.timeout=yt},it.getOptions=function(){return this.options},it.getGlobalScope=function(){return this.globalScope},it.getCurrentScope=function(){return this.currentScope},it.getCurrentContext=function(){return this.currentContext},it.isInterruptThrow=function(yt){return yt instanceof io||yt instanceof qa||yt instanceof Za},it.createSuperScope=function(yt){var ne=Object.assign({},gt),_e=Object.keys(ne);return _e.forEach(function(ur){ur in yt&&delete ne[ur]}),new Ee(ne,null,Ci)},it.setCurrentContext=function(yt){this.currentContext=yt},it.setCurrentScope=function(yt){this.currentScope=yt},it.evaluate=function(yt){yt===void 0&&(yt="");var ne;if(!!yt)return ne=er(yt,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||k.ecmaVersion}),this.evaluateNode(ne,yt)},it.appendCode=function(yt){return this.evaluate(yt)},it.evaluateNode=function(yt,ne){var _e=this;ne===void 0&&(ne=""),this.value=void 0,this.source=ne,this.sourceList.push(ne),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var ur=this.getCurrentScope(),jr=this.getCurrentContext(),_r=ur.labelStack.concat([]),Pn=this.callStack.concat([]),Ln=function(){_e.setCurrentScope(ur),_e.setCurrentContext(jr),ur.labelStack=_r,_e.callStack=Pn};try{var Li=this.createClosure(yt);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),Li()}catch(sa){throw sa}finally{Ln(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},it.createErrorMessage=function(yt,ne,_e){var ur=yt[1].replace("%0",String(ne));return _e!==null&&(ur+=this.getNodePosition(_e||this.lastExecNode)),ur},it.createError=function(yt,ne){return new ne(yt)},it.createThrowError=function(yt,ne){return this.createError(yt,ne)},it.createInternalThrowError=function(yt,ne,_e){return this.createError(this.createErrorMessage(yt,ne,_e),yt[2])},it.checkTimeout=function(){if(!this.isRunning)return!1;var yt=this.options.timeout||0,ne=Date.now();return ne-this.execStartTime>yt},it.getNodePosition=function(yt){if(yt){var ne="";return yt.loc?" ["+yt.loc.start.line+":"+yt.loc.start.column+"]"+ne:""}return""},it.createClosure=function(yt){var ne=this,_e;switch(yt.type){case"BinaryExpression":_e=this.binaryExpressionHandler(yt);break;case"LogicalExpression":_e=this.logicalExpressionHandler(yt);break;case"UnaryExpression":_e=this.unaryExpressionHandler(yt);break;case"UpdateExpression":_e=this.updateExpressionHandler(yt);break;case"ObjectExpression":_e=this.objectExpressionHandler(yt);break;case"ArrayExpression":_e=this.arrayExpressionHandler(yt);break;case"CallExpression":_e=this.callExpressionHandler(yt);break;case"NewExpression":_e=this.newExpressionHandler(yt);break;case"MemberExpression":_e=this.memberExpressionHandler(yt);break;case"ThisExpression":_e=this.thisExpressionHandler(yt);break;case"SequenceExpression":_e=this.sequenceExpressionHandler(yt);break;case"Literal":_e=this.literalHandler(yt);break;case"Identifier":_e=this.identifierHandler(yt);break;case"AssignmentExpression":_e=this.assignmentExpressionHandler(yt);break;case"FunctionDeclaration":_e=this.functionDeclarationHandler(yt);break;case"VariableDeclaration":_e=this.variableDeclarationHandler(yt);break;case"BlockStatement":case"Program":_e=this.programHandler(yt);break;case"ExpressionStatement":_e=this.expressionStatementHandler(yt);break;case"EmptyStatement":_e=this.emptyStatementHandler(yt);break;case"ReturnStatement":_e=this.returnStatementHandler(yt);break;case"FunctionExpression":_e=this.functionExpressionHandler(yt);break;case"IfStatement":_e=this.ifStatementHandler(yt);break;case"ConditionalExpression":_e=this.conditionalExpressionHandler(yt);break;case"ForStatement":_e=this.forStatementHandler(yt);break;case"WhileStatement":_e=this.whileStatementHandler(yt);break;case"DoWhileStatement":_e=this.doWhileStatementHandler(yt);break;case"ForInStatement":_e=this.forInStatementHandler(yt);break;case"WithStatement":_e=this.withStatementHandler(yt);break;case"ThrowStatement":_e=this.throwStatementHandler(yt);break;case"TryStatement":_e=this.tryStatementHandler(yt);break;case"ContinueStatement":_e=this.continueStatementHandler(yt);break;case"BreakStatement":_e=this.breakStatementHandler(yt);break;case"SwitchStatement":_e=this.switchStatementHandler(yt);break;case"LabeledStatement":_e=this.labeledStatementHandler(yt);break;case"DebuggerStatement":_e=this.debuggerStatementHandler(yt);break;default:throw this.createInternalThrowError(Zt.NodeTypeSyntaxError,yt.type,yt)}return function(){var ur=ne.options.timeout;if(ur&&ur>0&&ne.checkTimeout())throw ne.createInternalThrowError(Zt.ExecutionTimeOutError,ur,null);return ne.lastExecNode=yt,_e.apply(void 0,arguments)}},it.binaryExpressionHandler=function(yt){var ne=this,_e=this.createClosure(yt.left),ur=this.createClosure(yt.right);return function(){var jr=_e(),_r=ur();switch(yt.operator){case"==":return jr==_r;case"!=":return jr!=_r;case"===":return jr===_r;case"!==":return jr!==_r;case"<":return jr<_r;case"<=":return jr<=_r;case">":return jr>_r;case">=":return jr>=_r;case"<<":return jr<<_r;case">>":return jr>>_r;case">>>":return jr>>>_r;case"+":return jr+_r;case"-":return jr-_r;case"*":return jr*_r;case"**":return Math.pow(jr,_r);case"/":return jr/_r;case"%":return jr%_r;case"|":return jr|_r;case"^":return jr^_r;case"&":return jr&_r;case"in":return jr in _r;case"instanceof":return jr instanceof _r;default:throw ne.createInternalThrowError(Zt.BinaryOperatorSyntaxError,yt.operator,yt)}}},it.logicalExpressionHandler=function(yt){var ne=this,_e=this.createClosure(yt.left),ur=this.createClosure(yt.right);return function(){switch(yt.operator){case"||":return _e()||ur();case"&&":return _e()&&ur();default:throw ne.createInternalThrowError(Zt.LogicalOperatorSyntaxError,yt.operator,yt)}}},it.unaryExpressionHandler=function(yt){var ne=this;switch(yt.operator){case"delete":var _e=this.createObjectGetter(yt.argument),ur=this.createNameGetter(yt.argument);return function(){var Ln=_e(),Li=ur();return delete Ln[Li]};default:var jr;if(yt.operator==="typeof"&&yt.argument.type==="Identifier"){var _r=this.createObjectGetter(yt.argument),Pn=this.createNameGetter(yt.argument);jr=function(){return _r()[Pn()]}}else jr=this.createClosure(yt.argument);return function(){var Ln=jr();switch(yt.operator){case"-":return-Ln;case"+":return+Ln;case"!":return!Ln;case"~":return~Ln;case"void":return;case"typeof":return typeof Ln;default:throw ne.createInternalThrowError(Zt.UnaryOperatorSyntaxError,yt.operator,yt)}}}},it.updateExpressionHandler=function(yt){var ne=this,_e=this.createObjectGetter(yt.argument),ur=this.createNameGetter(yt.argument);return function(){var jr=_e(),_r=ur();switch(ne.assertVariable(jr,_r,yt),yt.operator){case"++":return yt.prefix?++jr[_r]:jr[_r]++;case"--":return yt.prefix?--jr[_r]:jr[_r]--;default:throw ne.createInternalThrowError(Zt.UpdateOperatorSyntaxError,yt.operator,yt)}}},it.objectExpressionHandler=function(yt){var ne=this,_e=[];function ur(_r){return _r.type==="Identifier"?_r.name:_r.type==="Literal"?_r.value:this.throwError(Zt.ObjectStructureSyntaxError,_r.type,_r)}var jr=Object.create(null);return yt.properties.forEach(function(_r){var Pn=_r.kind,Ln=ur(_r.key);(!jr[Ln]||Pn==="init")&&(jr[Ln]={}),jr[Ln][Pn]=ne.createClosure(_r.value),_e.push({key:Ln,property:_r})}),function(){for(var _r={},Pn=_e.length,Ln=0;Ln<Pn;Ln++){var Li=_e[Ln],sa=Li.key,$i=jr[sa],Sa=$i.init?$i.init():void 0,pa=$i.get?$i.get():function(){},Fa=$i.set?$i.set():function(Yo){};if("set"in $i||"get"in $i){var Ua={configurable:!0,enumerable:!0,get:pa,set:Fa};Object.defineProperty(_r,sa,Ua)}else{var vo=Li.property,No=vo.kind;vo.key.type==="Identifier"&&vo.value.type==="FunctionExpression"&&No==="init"&&!vo.value.id&&ee(Sa,vo.key.name),_r[sa]=Sa}}return _r}},it.arrayExpressionHandler=function(yt){var ne=this,_e=yt.elements.map(function(ur){return ur&&ne.createClosure(ur)});return function(){for(var ur=_e.length,jr=Array(ur),_r=0;_r<ur;_r++){var Pn=_e[_r];Pn&&(jr[_r]=Pn())}return jr}},it.safeObjectGet=function(yt,ne,_e){return yt[ne]},it.createCallFunctionGetter=function(yt){var ne=this;switch(yt.type){case"MemberExpression":var _e=this.createClosure(yt.object),ur=this.createMemberKeyGetter(yt),jr=this.source;return function(){var Pn=_e(),Ln=ur(),Li=ne.safeObjectGet(Pn,Ln,yt);if(!Li||!Ea(Li)){var sa=jr.slice(yt.start,yt.end);throw ne.createInternalThrowError(Zt.FunctionUndefinedReferenceError,sa,yt)}return Li.__IS_EVAL_FUNC?function($i){return Li(new ca(ne),$i,!0)}:Li.__IS_FUNCTION_FUNC?function(){for(var $i=arguments.length,Sa=new Array($i),pa=0;pa<$i;pa++)Sa[pa]=arguments[pa];return Li.apply(void 0,[new ca(ne)].concat(Sa))}:Li.bind(Pn)};default:var _r=this.createClosure(yt);return function(){var Pn="";yt.type==="Identifier"&&(Pn=yt.name);var Ln=_r();if(!Ln||!Ea(Ln))throw ne.createInternalThrowError(Zt.FunctionUndefinedReferenceError,Pn,yt);if(yt.type==="Identifier"&&Ln.__IS_EVAL_FUNC&&Pn==="eval")return function($i){var Sa=ne.getScopeFromName(Pn,ne.getCurrentScope()),pa=Sa.name===Ci||Sa.name===ta||Sa.name===aa;return Ln(new ca(ne),$i,!pa)};if(Ln.__IS_EVAL_FUNC)return function($i){return Ln(new ca(ne),$i,!0)};if(Ln.__IS_FUNCTION_FUNC)return function(){for(var $i=arguments.length,Sa=new Array($i),pa=0;pa<$i;pa++)Sa[pa]=arguments[pa];return Ln.apply(void 0,[new ca(ne)].concat(Sa))};var Li=ne.options.globalContextInFunction;if(yt.type==="Identifier"){var sa=ne.getIdentifierScope(yt);sa.name===fi&&(Li=sa.data)}return Ln.bind(Li)}}},it.callExpressionHandler=function(yt){var ne=this,_e=this.createCallFunctionGetter(yt.callee),ur=yt.arguments.map(function(jr){return ne.createClosure(jr)});return function(){return _e().apply(void 0,ur.map(function(jr){return jr()}))}},it.functionExpressionHandler=function(yt){var ne=this,_e=this,ur=this.source,jr=this.collectDeclVars,_r=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var Pn=yt.id?yt.id.name:"",Ln=yt.params.length,Li=yt.params.map(function(pa){return ne.createParamNameGetter(pa)}),sa=this.createClosure(yt.body),$i=this.collectDeclVars,Sa=this.collectDeclFuncs;return this.collectDeclVars=jr,this.collectDeclFuncs=_r,function(){var pa=_e.getCurrentScope(),Fa=function Ua(){for(var vo=arguments.length,No=new Array(vo),Yo=0;Yo<vo;Yo++)No[Yo]=arguments[Yo];_e.callStack.push(""+Pn);var Ds=_e.getCurrentScope(),Go=pe(pa,"FunctionScope("+Pn+")");_e.setCurrentScope(Go),_e.addDeclarationsToScope($i,Sa,Go),Pn&&(Go.data[Pn]=Ua),Go.data.arguments=arguments,Li.forEach(function(Lo,Fo){Go.data[Lo()]=No[Fo]});var Io=_e.getCurrentContext();_e.setCurrentContext(this);var xo=sa();if(_e.setCurrentContext(Io),_e.setCurrentScope(Ds),_e.callStack.pop(),xo instanceof Ia)return xo.value};return ee(Fa,Pn),Object.defineProperty(Fa,"length",{value:Ln,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(Fa,"toString",{value:function(){return ur.slice(yt.start,yt.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Fa,"valueOf",{value:function(){return ur.slice(yt.start,yt.end)},writable:!0,configurable:!0,enumerable:!1}),Fa}},it.newExpressionHandler=function(yt){var ne=this,_e=this.source,ur=this.createClosure(yt.callee),jr=yt.arguments.map(function(_r){return ne.createClosure(_r)});return function(){var _r=ur();if(!Ea(_r)||_r.__IS_EVAL_FUNC){var Pn=yt.callee,Ln=_e.slice(Pn.start,Pn.end);throw ne.createInternalThrowError(Zt.IsNotConstructor,Ln,yt)}return _r.__IS_FUNCTION_FUNC?_r.apply(void 0,[new ca(ne)].concat(jr.map(function(Li){return Li()}))):lr(_r,jr.map(function(Li){return Li()}))}},it.memberExpressionHandler=function(yt){var ne=this.createClosure(yt.object),_e=this.createMemberKeyGetter(yt);return function(){var ur=ne(),jr=_e();return ur[jr]}},it.thisExpressionHandler=function(yt){var ne=this;return function(){return ne.getCurrentContext()}},it.sequenceExpressionHandler=function(yt){var ne=this,_e=yt.expressions.map(function(ur){return ne.createClosure(ur)});return function(){for(var ur,jr=_e.length,_r=0;_r<jr;_r++){var Pn=_e[_r];ur=Pn()}return ur}},it.literalHandler=function(yt){return function(){return yt.regex?new RegExp(yt.regex.pattern,yt.regex.flags):yt.value}},it.identifierHandler=function(yt){var ne=this;return function(){var _e=ne.getCurrentScope(),ur=ne.getScopeDataFromName(yt.name,_e);return ne.assertVariable(ur,yt.name,yt),ur[yt.name]}},it.getIdentifierScope=function(yt){var ne=this.getCurrentScope(),_e=this.getScopeFromName(yt.name,ne);return _e},it.assignmentExpressionHandler=function(yt){var ne=this;yt.left.type==="Identifier"&&yt.right.type==="FunctionExpression"&&!yt.right.id&&(yt.right.id={type:"Identifier",name:yt.left.name});var _e=this.createObjectGetter(yt.left),ur=this.createNameGetter(yt.left),jr=this.createClosure(yt.right);return function(){var _r=_e(),Pn=ur(),Ln=jr();switch(yt.operator!=="="&&ne.assertVariable(_r,Pn,yt),yt.operator){case"=":return _r[Pn]=Ln;case"+=":return _r[Pn]+=Ln;case"-=":return _r[Pn]-=Ln;case"*=":return _r[Pn]*=Ln;case"**=":return _r[Pn]=Math.pow(_r[Pn],Ln);case"/=":return _r[Pn]/=Ln;case"%=":return _r[Pn]%=Ln;case"<<=":return _r[Pn]<<=Ln;case">>=":return _r[Pn]>>=Ln;case">>>=":return _r[Pn]>>>=Ln;case"&=":return _r[Pn]&=Ln;case"^=":return _r[Pn]^=Ln;case"|=":return _r[Pn]|=Ln;default:throw ne.createInternalThrowError(Zt.AssignmentExpressionSyntaxError,yt.type,yt)}}},it.functionDeclarationHandler=function(yt){if(yt.id){var ne=this.functionExpressionHandler(yt);Object.defineProperty(ne,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(yt.id.name,ne)}return function(){return En}},it.getVariableName=function(yt){if(yt.type==="Identifier")return yt.name;throw this.createInternalThrowError(Zt.VariableTypeSyntaxError,yt.type,yt)},it.variableDeclarationHandler=function(yt){for(var ne=this,_e,ur=[],jr=0;jr<yt.declarations.length;jr++){var _r=yt.declarations[jr];this.varDeclaration(this.getVariableName(_r.id)),_r.init&&ur.push({type:"AssignmentExpression",operator:"=",left:_r.id,right:_r.init})}return ur.length&&(_e=this.createClosure({type:"BlockStatement",body:ur})),function(){if(_e){var Pn=ne.isVarDeclMode;ne.isVarDeclMode=!0,_e(),ne.isVarDeclMode=Pn}return En}},it.assertVariable=function(yt,ne,_e){if(yt===this.globalScope.data&&!(ne in yt))throw this.createInternalThrowError(Zt.VariableUndefinedReferenceError,ne,_e)},it.programHandler=function(yt){var ne=this,_e=yt.body.map(function(ur){return ne.createClosure(ur)});return function(){for(var ur=En,jr=0;jr<_e.length;jr++){var _r=_e[jr],Pn=ne.setValue(_r());if(Pn!==En&&(ur=Pn,ur instanceof Ia||ur instanceof Va||ur instanceof ro||ur===Me||ur===Sr))break}return ur}},it.expressionStatementHandler=function(yt){return this.createClosure(yt.expression)},it.emptyStatementHandler=function(yt){return function(){return En}},it.returnStatementHandler=function(yt){var ne=yt.argument?this.createClosure(yt.argument):be;return function(){return new Ia(ne())}},it.ifStatementHandler=function(yt){var ne=this.createClosure(yt.test),_e=this.createClosure(yt.consequent),ur=yt.alternate?this.createClosure(yt.alternate):function(){return En};return function(){return ne()?_e():ur()}},it.conditionalExpressionHandler=function(yt){return this.ifStatementHandler(yt)},it.forStatementHandler=function(yt){var ne=this,_e=be,ur=yt.test?this.createClosure(yt.test):function(){return!0},jr=be,_r=this.createClosure(yt.body);return yt.type==="ForStatement"&&(_e=yt.init?this.createClosure(yt.init):_e,jr=yt.update?this.createClosure(yt.update):be),function(Pn){var Ln,Li=En,sa=yt.type==="DoWhileStatement";for(Pn&&Pn.type==="LabeledStatement"&&(Ln=Pn.label.name),_e();sa||ur();jr()){sa=!1;var $i=ne.setValue(_r());if(!($i===En||$i===Sr)){if($i===Me)break;if(Li=$i,Li instanceof ro&&Li.value===Ln){Li=En;continue}if(Li instanceof Ia||Li instanceof Va||Li instanceof ro)break}}return Li}},it.whileStatementHandler=function(yt){return this.forStatementHandler(yt)},it.doWhileStatementHandler=function(yt){return this.forStatementHandler(yt)},it.forInStatementHandler=function(yt){var ne=this,_e=yt.left,ur=this.createClosure(yt.right),jr=this.createClosure(yt.body);return yt.left.type==="VariableDeclaration"&&(this.createClosure(yt.left)(),_e=yt.left.declarations[0].id),function(_r){var Pn,Ln=En,Li;_r&&_r.type==="LabeledStatement"&&(Pn=_r.label.name);var sa=ur();for(Li in sa){ne.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:_e,right:{type:"Literal",value:Li}})();var $i=ne.setValue(jr());if(!($i===En||$i===Sr)){if($i===Me)break;if(Ln=$i,Ln instanceof ro&&Ln.value===Pn){Ln=En;continue}if(Ln instanceof Ia||Ln instanceof Va||Ln instanceof ro)break}}return Ln}},it.withStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.object),ur=this.createClosure(yt.body);return function(){var jr=_e(),_r=ne.getCurrentScope(),Pn=new Ee(jr,_r,fi);ne.setCurrentScope(Pn);var Ln=ne.setValue(ur());return ne.setCurrentScope(_r),Ln}},it.throwStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.argument);return function(){throw ne.setValue(void 0),_e()}},it.tryStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.block),ur=yt.handler?this.catchClauseHandler(yt.handler):null,jr=yt.finalizer?this.createClosure(yt.finalizer):null;return function(){var _r=ne.getCurrentScope(),Pn=ne.getCurrentContext(),Ln=_r.labelStack.concat([]),Li=ne.callStack.concat([]),sa=En,$i,Sa,pa=function(){ne.setCurrentScope(_r),ne.setCurrentContext(Pn),_r.labelStack=Ln,ne.callStack=Li};try{sa=ne.setValue(_e()),sa instanceof Ia&&($i=sa)}catch(Fa){if(pa(),ne.isInterruptThrow(Fa))throw Fa;if(ur)try{sa=ne.setValue(ur(Fa)),sa instanceof Ia&&($i=sa)}catch(Ua){if(pa(),ne.isInterruptThrow(Ua))throw Ua;Sa=Ua}}if(jr)try{sa=jr(),sa instanceof Ia&&($i=sa)}catch(Fa){if(pa(),ne.isInterruptThrow(Fa))throw Fa;Sa=Fa}if(Sa)throw Sa;return $i||sa}},it.catchClauseHandler=function(yt){var ne=this,_e=this.createParamNameGetter(yt.param),ur=this.createClosure(yt.body);return function(jr){var _r,Pn=ne.getCurrentScope(),Ln=Pn.data,Li=_e(),sa=Ce.call(Ln,Li),$i=Ln[Li];return Ln[Li]=jr,_r=ur(),sa?Ln[Li]=$i:delete Ln[Li],_r}},it.continueStatementHandler=function(yt){return function(){return yt.label?new ro(yt.label.name):Sr}},it.breakStatementHandler=function(yt){return function(){return yt.label?new Va(yt.label.name):Me}},it.switchStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.discriminant),ur=yt.cases.map(function(jr){return ne.switchCaseHandler(jr)});return function(){for(var jr=_e(),_r=!1,Pn,Ln,Li,sa=0;sa<ur.length;sa++){var $i=ur[sa](),Sa=$i.testClosure();if(Sa===pn){Li=$i;continue}if(_r||Sa===jr){if(_r=!0,Ln=ne.setValue($i.bodyClosure()),Ln===En)continue;if(Ln===Me||(Pn=Ln,Pn instanceof Ia||Pn instanceof Va||Pn instanceof ro||Pn===Sr))break}}if(!_r&&Li){Ln=ne.setValue(Li.bodyClosure());var pa=Ln===En||Ln===Me||Ln===Sr;pa||(Pn=Ln)}return Pn}},it.switchCaseHandler=function(yt){var ne=yt.test?this.createClosure(yt.test):function(){return pn},_e=this.createClosure({type:"BlockStatement",body:yt.consequent});return function(){return{testClosure:ne,bodyClosure:_e}}},it.labeledStatementHandler=function(yt){var ne=this,_e=yt.label.name,ur=this.createClosure(yt.body);return function(){var jr,_r=ne.getCurrentScope();return _r.labelStack.push(_e),jr=ur(yt),jr instanceof Va&&jr.value===_e&&(jr=En),_r.labelStack.pop(),jr}},it.debuggerStatementHandler=function(yt){return function(){debugger;return En}},it.createParamNameGetter=function(yt){if(yt.type==="Identifier")return function(){return yt.name};throw this.createInternalThrowError(Zt.ParamTypeSyntaxError,yt.type,yt)},it.createObjectKeyGetter=function(yt){var ne;return yt.type==="Identifier"?ne=function(){return yt.name}:ne=this.createClosure(yt),function(){return ne()}},it.createMemberKeyGetter=function(yt){return yt.computed?this.createClosure(yt.property):this.createObjectKeyGetter(yt.property)},it.createObjectGetter=function(yt){var ne=this;switch(yt.type){case"Identifier":return function(){return ne.getScopeDataFromName(yt.name,ne.getCurrentScope())};case"MemberExpression":return this.createClosure(yt.object);default:throw this.createInternalThrowError(Zt.AssignmentTypeSyntaxError,yt.type,yt)}},it.createNameGetter=function(yt){switch(yt.type){case"Identifier":return function(){return yt.name};case"MemberExpression":return this.createMemberKeyGetter(yt);default:throw this.createInternalThrowError(Zt.AssignmentTypeSyntaxError,yt.type,yt)}},it.varDeclaration=function(yt){var ne=this.collectDeclVars;ne[yt]=void 0},it.funcDeclaration=function(yt,ne){var _e=this.collectDeclFuncs;_e[yt]=ne},it.addDeclarationsToScope=function(yt,ne,_e){var ur=_e.data;for(var jr in ne){var _r=ne[jr];ur[jr]=_r&&_r()}for(var Pn in yt)Pn in ur||(ur[Pn]=void 0)},it.getScopeValue=function(yt,ne){var _e=this.getScopeFromName(yt,ne);return _e.data[yt]},it.getScopeDataFromName=function(yt,ne){return this.getScopeFromName(yt,ne).data},it.getScopeFromName=function(yt,ne){var _e=ne;do if(yt in _e.data)return _e;while(_e=_e.parent);return this.globalScope},it.setValue=function(yt){var ne=this.callStack.length;return this.isVarDeclMode||ne||yt===En||yt===Me||yt===Sr||yt instanceof Va||yt instanceof ro||(this.value=yt instanceof Ia?yt.value:yt),yt},it.getValue=function(){return this.value},k}();dt.version=Vt,dt.eval=to,dt.Function=za,dt.ecmaVersion=5,dt.globalContextInFunction=void 0,dt.global=Object.create(null);function Dt(k){return k===void 0&&(k=Object.create(null)),k}function te(k,it,Bt){it===void 0&&(it=[]),Bt===void 0&&(Bt={});var yt=Bt.parsingContext,ne=Bt.timeout===void 0?0:Bt.timeout,_e=`
    (function anonymous(`+it.join(",")+`){
         `+k+`
    });
    `,ur=new dt(yt,{ecmaVersion:Bt.ecmaVersion,timeout:ne,rootContext:Bt.rootContext,globalContextInFunction:Bt.globalContextInFunction});return ur.evaluate(_e)}function Ge(k,it,Bt){var yt=new dt(it,Bt);return yt.evaluate(k)}var cr=Ge,zr=function(){function k(Bt){this._code=Bt}var it=k.prototype;return it.runInContext=function(yt){return Ge(this._code,yt)},it.runInNewContext=function(yt){return Ge(this._code,yt)},k}(),Rt=function(k,it,Bt){return Ge(k,it,Bt)};function Ei(){for(var k=arguments.length,it=new Array(k),Bt=0;Bt<k;Bt++)it[Bt]=arguments[Bt];var yt=it.pop();return te(yt||"",it)}var ri=Rt},88307:function(gr,P,x){(function(i,t){gr.exports=t(x(18857))})(this,function(i){"use strict";var t=function(Wt){return Wt instanceof Uint8Array||Wt instanceof Uint16Array||Wt instanceof Uint32Array||Wt instanceof Int8Array||Wt instanceof Int16Array||Wt instanceof Int32Array||Wt instanceof Float32Array||Wt instanceof Float64Array||Wt instanceof Uint8ClampedArray},c=function(Wt,ke){for(var fr=Object.keys(ke),dn=0;dn<fr.length;++dn)Wt[fr[dn]]=ke[fr[dn]];return Wt},s=`
`;function v(Wt){return typeof atob!="undefined"?atob(Wt):"base64:"+Wt}function o(Wt){var ke=new Error("(regl) "+Wt);throw console.error(ke),ke}function f(Wt,ke){Wt||o(ke)}function r(Wt){return Wt?": "+Wt:""}function e(Wt,ke,fr){Wt in ke||o("unknown parameter ("+Wt+")"+r(fr)+". possible values: "+Object.keys(ke).join())}function n(Wt,ke){t(Wt)||o("invalid parameter type"+r(ke)+". must be a typed array")}function a(Wt,ke){switch(ke){case"number":return typeof Wt=="number";case"object":return typeof Wt=="object";case"string":return typeof Wt=="string";case"boolean":return typeof Wt=="boolean";case"function":return typeof Wt=="function";case"undefined":return typeof Wt=="undefined";case"symbol":return typeof Wt=="symbol"}}function u(Wt,ke,fr){a(Wt,ke)||o("invalid parameter type"+r(fr)+". expected "+ke+", got "+typeof Wt)}function l(Wt,ke){Wt>=0&&(Wt|0)===Wt||o("invalid parameter type, ("+Wt+")"+r(ke)+". must be a nonnegative integer")}function h(Wt,ke,fr){ke.indexOf(Wt)<0&&o("invalid value"+r(fr)+". must be one of: "+ke)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function d(Wt){Object.keys(Wt).forEach(function(ke){p.indexOf(ke)<0&&o('invalid regl constructor argument "'+ke+'". must be one of '+p)})}function g(Wt,ke){for(Wt=Wt+"";Wt.length<ke;)Wt=" "+Wt;return Wt}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function E(Wt,ke){this.number=Wt,this.line=ke,this.errors=[]}function C(Wt,ke,fr){this.file=Wt,this.line=ke,this.message=fr}function m(){var Wt=new Error,ke=(Wt.stack||Wt).toString(),fr=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ke);if(fr)return fr[1];var dn=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ke);return dn?dn[1]:"unknown"}function M(){var Wt=new Error,ke=(Wt.stack||Wt).toString(),fr=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ke);if(fr)return fr[1];var dn=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ke);return dn?dn[1]:"unknown"}function b(Wt,ke){var fr=Wt.split(`
`),dn=1,_n=0,vn={unknown:new y,0:new y};vn.unknown.name=vn[0].name=ke||m(),vn.unknown.lines.push(new E(0,""));for(var On=0;On<fr.length;++On){var Zn=fr[On],Jn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Zn);if(Jn)switch(Jn[1]){case"line":var oi=/(\d+)(\s+\d+)?/.exec(Jn[2]);oi&&(dn=oi[1]|0,oi[2]&&(_n=oi[2]|0,_n in vn||(vn[_n]=new y)));break;case"define":var ui=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Jn[2]);ui&&(vn[_n].name=ui[1]?v(ui[2]):ui[2]);break}vn[_n].lines.push(new E(dn++,Zn))}return Object.keys(vn).forEach(function(li){var si=vn[li];si.lines.forEach(function(Kn){si.index[Kn.number]=Kn})}),vn}function S(Wt){var ke=[];return Wt.split(`
`).forEach(function(fr){if(!(fr.length<5)){var dn=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(fr);dn?ke.push(new C(dn[1]|0,dn[2]|0,dn[3].trim())):fr.length>0&&ke.push(new C("unknown",0,fr))}}),ke}function A(Wt,ke){ke.forEach(function(fr){var dn=Wt[fr.file];if(dn){var _n=dn.index[fr.line];if(_n){_n.errors.push(fr),dn.hasErrors=!0;return}}Wt.unknown.hasErrors=!0,Wt.unknown.lines[0].errors.push(fr)})}function T(Wt,ke,fr,dn,_n){if(!Wt.getShaderParameter(ke,Wt.COMPILE_STATUS)){var vn=Wt.getShaderInfoLog(ke),On=dn===Wt.FRAGMENT_SHADER?"fragment":"vertex";W(fr,"string",On+" shader source must be a string",_n);var Zn=b(fr,_n),Jn=S(vn);A(Zn,Jn),Object.keys(Zn).forEach(function(oi){var ui=Zn[oi];if(!ui.hasErrors)return;var li=[""],si=[""];function Kn(ni,$r){li.push(ni),si.push($r||"")}Kn("file number "+oi+": "+ui.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ui.lines.forEach(function(ni){if(ni.errors.length>0){Kn(g(ni.number,4)+"|  ","background-color:yellow; font-weight:bold"),Kn(ni.line+s,"color:red; background-color:yellow; font-weight:bold");var $r=0;ni.errors.forEach(function(Cn){var ei=Cn.message,Ui=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ei);if(Ui){var Hn=Ui[1];switch(ei=Ui[2],Hn){case"assign":Hn="=";break}$r=Math.max(ni.line.indexOf(Hn,$r),0)}else $r=0;Kn(g("| ",6)),Kn(g("^^^",$r+3)+s,"font-weight:bold"),Kn(g("| ",6)),Kn(ei+s,"font-weight:bold")}),Kn(g("| ",6)+s)}else Kn(g(ni.number,4)+"|  "),Kn(ni.line+s,"color:red")}),typeof document!="undefined"&&!window.chrome?(si[0]=li.join("%c"),console.log.apply(console,si)):console.log(li.join(""))}),f.raise("Error compiling "+On+" shader, "+Zn[0].name)}}function O(Wt,ke,fr,dn,_n){if(!Wt.getProgramParameter(ke,Wt.LINK_STATUS)){var vn=Wt.getProgramInfoLog(ke),On=b(fr,_n),Zn=b(dn,_n),Jn='Error linking program with vertex shader, "'+Zn[0].name+'", and fragment shader "'+On[0].name+'"';typeof document!="undefined"?console.log("%c"+Jn+s+"%c"+vn,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Jn+s+vn),f.raise(Jn)}}function D(Wt){Wt._commandRef=m()}function L(Wt,ke,fr,dn){D(Wt);function _n(Jn){return Jn?dn.id(Jn):0}Wt._fragId=_n(Wt.static.frag),Wt._vertId=_n(Wt.static.vert);function vn(Jn,oi){Object.keys(oi).forEach(function(ui){Jn[dn.id(ui)]=!0})}var On=Wt._uniformSet={};vn(On,ke.static),vn(On,ke.dynamic);var Zn=Wt._attributeSet={};vn(Zn,fr.static),vn(Zn,fr.dynamic),Wt._hasCount="count"in Wt.static||"count"in Wt.dynamic||"elements"in Wt.static||"elements"in Wt.dynamic}function Z(Wt,ke){var fr=M();o(Wt+" in command "+(ke||m())+(fr==="unknown"?"":" called from "+fr))}function U(Wt,ke,fr){Wt||Z(ke,fr||m())}function Y(Wt,ke,fr,dn){Wt in ke||Z("unknown parameter ("+Wt+")"+r(fr)+". possible values: "+Object.keys(ke).join(),dn||m())}function W(Wt,ke,fr,dn){a(Wt,ke)||Z("invalid parameter type"+r(fr)+". expected "+ke+", got "+typeof Wt,dn||m())}function J(Wt){Wt()}function ht(Wt,ke,fr){Wt.texture?h(Wt.texture._texture.internalformat,ke,"unsupported texture format for attachment"):h(Wt.renderbuffer._renderbuffer.format,fr,"unsupported renderbuffer format for attachment")}var nt=33071,Q=9728,xt=9984,_t=9985,Nt=9986,rt=9987,q=5120,G=5121,N=5122,at=5123,H=5124,ft=5125,ct=5126,K=32819,$=32820,et=33635,B=34042,w=36193,R={};R[q]=R[G]=1,R[N]=R[at]=R[w]=R[et]=R[K]=R[$]=2,R[H]=R[ft]=R[ct]=R[B]=4;function V(Wt,ke){return Wt===$||Wt===K||Wt===et?2:Wt===B?4:R[Wt]*ke}function tt(Wt){return!(Wt&Wt-1)&&!!Wt}function lt(Wt,ke,fr){var dn,_n=ke.width,vn=ke.height,On=ke.channels;f(_n>0&&_n<=fr.maxTextureSize&&vn>0&&vn<=fr.maxTextureSize,"invalid texture shape"),(Wt.wrapS!==nt||Wt.wrapT!==nt)&&f(tt(_n)&&tt(vn),"incompatible wrap mode for texture, both width and height must be power of 2"),ke.mipmask===1?_n!==1&&vn!==1&&f(Wt.minFilter!==xt&&Wt.minFilter!==Nt&&Wt.minFilter!==_t&&Wt.minFilter!==rt,"min filter requires mipmap"):(f(tt(_n)&&tt(vn),"texture must be a square power of 2 to support mipmapping"),f(ke.mipmask===(_n<<1)-1,"missing or incomplete mipmap data")),ke.type===ct&&(fr.extensions.indexOf("oes_texture_float_linear")<0&&f(Wt.minFilter===Q&&Wt.magFilter===Q,"filter not supported, must enable oes_texture_float_linear"),f(!Wt.genMipmaps,"mipmap generation not supported with float textures"));var Zn=ke.images;for(dn=0;dn<16;++dn)if(Zn[dn]){var Jn=_n>>dn,oi=vn>>dn;f(ke.mipmask&1<<dn,"missing mipmap data");var ui=Zn[dn];if(f(ui.width===Jn&&ui.height===oi,"invalid shape for mip images"),f(ui.format===ke.format&&ui.internalformat===ke.internalformat&&ui.type===ke.type,"incompatible type for mip image"),!ui.compressed)if(ui.data){var li=Math.ceil(V(ui.type,On)*Jn/ui.unpackAlignment)*ui.unpackAlignment;f(ui.data.byteLength===li*oi,"invalid data for image, buffer size is inconsistent with image format")}else ui.element||ui.copy}else Wt.genMipmaps||f((ke.mipmask&1<<dn)==0,"extra mipmap data");ke.compressed&&f(!Wt.genMipmaps,"mipmap generation for compressed images not supported")}function Et(Wt,ke,fr,dn){var _n=Wt.width,vn=Wt.height,On=Wt.channels;f(_n>0&&_n<=dn.maxTextureSize&&vn>0&&vn<=dn.maxTextureSize,"invalid texture shape"),f(_n===vn,"cube map must be square"),f(ke.wrapS===nt&&ke.wrapT===nt,"wrap mode not supported by cube map");for(var Zn=0;Zn<fr.length;++Zn){var Jn=fr[Zn];f(Jn.width===_n&&Jn.height===vn,"inconsistent cube map face shape"),ke.genMipmaps&&(f(!Jn.compressed,"can not generate mipmap for compressed textures"),f(Jn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var oi=Jn.images,ui=0;ui<16;++ui){var li=oi[ui];if(li){var si=_n>>ui,Kn=vn>>ui;f(Jn.mipmask&1<<ui,"missing mipmap data"),f(li.width===si&&li.height===Kn,"invalid shape for mip images"),f(li.format===Wt.format&&li.internalformat===Wt.internalformat&&li.type===Wt.type,"incompatible type for mip image"),li.compressed||(li.data?f(li.data.byteLength===si*Kn*Math.max(V(li.type,On),li.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):li.element||li.copy)}}}}var ot=c(f,{optional:J,raise:o,commandRaise:Z,command:U,parameter:e,commandParameter:Y,constructor:d,type:u,commandType:W,isTypedArray:n,nni:l,oneOf:h,shaderError:T,linkError:O,callSite:M,saveCommandRef:D,saveDrawInfo:L,framebufferFormat:ht,guessCommand:m,texture2D:lt,textureCube:Et}),Mt=0,Ot=0,Ft=5,zt=6;function $t(Wt,ke){this.id=Mt++,this.type=Wt,this.data=ke}function ce(Wt){return Wt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ye(Wt){if(Wt.length===0)return[];var ke=Wt.charAt(0),fr=Wt.charAt(Wt.length-1);if(Wt.length>1&&ke===fr&&(ke==='"'||ke==="'"))return['"'+ce(Wt.substr(1,Wt.length-2))+'"'];var dn=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Wt);if(dn)return ye(Wt.substr(0,dn.index)).concat(ye(dn[1])).concat(ye(Wt.substr(dn.index+dn[0].length)));var _n=Wt.split(".");if(_n.length===1)return['"'+ce(Wt)+'"'];for(var vn=[],On=0;On<_n.length;++On)vn=vn.concat(ye(_n[On]));return vn}function Je(Wt){return"["+ye(Wt).join("][")+"]"}function nr(Wt,ke){return new $t(Wt,Je(ke+""))}function Xe(Wt){return typeof Wt=="function"&&!Wt._reglType||Wt instanceof $t}function mr(Wt,ke){if(typeof Wt=="function")return new $t(Ot,Wt);if(typeof Wt=="number"||typeof Wt=="boolean")return new $t(Ft,Wt);if(Array.isArray(Wt))return new $t(zt,Wt.map(function(fr,dn){return mr(fr,ke+"["+dn+"]")}));if(Wt instanceof $t)return Wt;ot(!1,"invalid option type in uniform "+ke)}var Gr={DynamicVariable:$t,define:nr,isDynamic:Xe,unbox:mr,accessor:Je},xe={next:typeof requestAnimationFrame=="function"?function(Wt){return requestAnimationFrame(Wt)}:function(Wt){return setTimeout(Wt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Wt){return cancelAnimationFrame(Wt)}:clearTimeout},de=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",ze=de?function(){return+new Date}:typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ue(){var Wt={"":0},ke=[""];return{id:function(fr){var dn=Wt[fr];return dn||(dn=Wt[fr]=ke.length,ke.push(fr),dn)},str:function(fr){return ke[fr]}}}function Kr(Wt,ke,fr){var dn=document.createElement("canvas");c(dn.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Wt.appendChild(dn),Wt===document.body&&(dn.style.position="absolute",c(Wt.style,{margin:0,padding:0}));function _n(){var Zn=window.innerWidth,Jn=window.innerHeight;if(Wt!==document.body){var oi=dn.getBoundingClientRect();Zn=oi.right-oi.left,Jn=oi.bottom-oi.top}dn.width=fr*Zn,dn.height=fr*Jn}var vn;Wt!==document.body&&typeof ResizeObserver=="function"?(vn=new ResizeObserver(function(){setTimeout(_n)}),vn.observe(Wt)):window.addEventListener("resize",_n,!1);function On(){vn?vn.disconnect():window.removeEventListener("resize",_n),Wt.removeChild(dn)}return _n(),{canvas:dn,onDestroy:On}}function rn(Wt,ke){function fr(dn){try{return Wt.getContext(dn,ke)}catch(_n){return null}}return fr("webgl")||fr("experimental-webgl")||fr("webgl-experimental")}function ci(Wt){return typeof Wt.nodeName=="string"&&typeof Wt.appendChild=="function"&&typeof Wt.getBoundingClientRect=="function"}function Zi(Wt){return typeof Wt.drawArrays=="function"||typeof Wt.drawElements=="function"}function Ki(Wt){return typeof Wt=="string"?Wt.split():(ot(Array.isArray(Wt),"invalid extension array"),Wt)}function ji(Wt){return typeof Wt=="string"?(ot(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Wt)):Wt}function Ae(Wt){var ke=Wt||{},fr,dn,_n,vn,On={},Zn=[],Jn=[],oi=typeof window=="undefined"?1:window.devicePixelRatio,ui=!1,li=function(ni){ni&&ot.raise(ni)},si=function(){};if(typeof ke=="string"?(ot(typeof document!="undefined","selector queries only supported in DOM environments"),fr=document.querySelector(ke),ot(fr,"invalid query string for element")):typeof ke=="object"?ci(ke)?fr=ke:Zi(ke)?(vn=ke,_n=vn.canvas):(ot.constructor(ke),"gl"in ke?vn=ke.gl:"canvas"in ke?_n=ji(ke.canvas):"container"in ke&&(dn=ji(ke.container)),"attributes"in ke&&(On=ke.attributes,ot.type(On,"object","invalid context attributes")),"extensions"in ke&&(Zn=Ki(ke.extensions)),"optionalExtensions"in ke&&(Jn=Ki(ke.optionalExtensions)),"onDone"in ke&&(ot.type(ke.onDone,"function","invalid or missing onDone callback"),li=ke.onDone),"profile"in ke&&(ui=!!ke.profile),"pixelRatio"in ke&&(oi=+ke.pixelRatio,ot(oi>0,"invalid pixel ratio"))):ot.raise("invalid arguments to regl"),fr&&(fr.nodeName.toLowerCase()==="canvas"?_n=fr:dn=fr),!vn){if(!_n){ot(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Kn=Kr(dn||document.body,li,oi);if(!Kn)return null;_n=Kn.canvas,si=Kn.onDestroy}On.premultipliedAlpha===void 0&&(On.premultipliedAlpha=!0),vn=rn(_n,On)}return vn?{gl:vn,canvas:_n,container:dn,extensions:Zn,optionalExtensions:Jn,pixelRatio:oi,profile:ui,onDone:li,onDestroy:si}:(si(),li("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function De(Wt,ke){var fr={};function dn(Zn){ot.type(Zn,"string","extension name must be string");var Jn=Zn.toLowerCase(),oi;try{oi=fr[Jn]=_n(Zn)}catch(ui){}return!!oi}function _n(Zn){return Wt.getExtension(Zn)?Wt.getExtension(Zn):Wt.getExtension(Zn.toLowerCase())?Wt.getExtension(Zn.toLowerCase()):null}for(var vn=0;vn<ke.extensions.length;++vn){var On=ke.extensions[vn];if(!dn(On))return ke.onDestroy(),ke.onDone('"'+On+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ke.optionalExtensions.forEach(dn),{extensions:fr,restore:function(){Object.keys(fr).forEach(function(Zn){if(fr[Zn]&&!dn(Zn))throw new Error("(regl): error restoring extension "+Zn)})}}}function ar(Wt,ke){for(var fr=Array(Wt),dn=0;dn<Wt;++dn)fr[dn]=ke(dn);return fr}var Pr=5120,or=5121,wr=5122,cn=5123,Fn=5124,nn=5125,Hr=5126;function Gn(Wt){for(var ke=16;ke<=1<<28;ke*=16)if(Wt<=ke)return ke;return 0}function $n(Wt){var ke,fr;return ke=(Wt>65535)<<4,Wt>>>=ke,fr=(Wt>255)<<3,Wt>>>=fr,ke|=fr,fr=(Wt>15)<<2,Wt>>>=fr,ke|=fr,fr=(Wt>3)<<1,Wt>>>=fr,ke|=fr,ke|Wt>>1}function Vr(){var Wt=ar(8,function(){return[]});function ke(vn){var On=Gn(vn),Zn=Wt[$n(On)>>2];return Zn.length>0?Zn.pop():new ArrayBuffer(On)}function fr(vn){Wt[$n(vn.byteLength)>>2].push(vn)}function dn(vn,On){var Zn=null;switch(vn){case Pr:Zn=new Int8Array(ke(On),0,On);break;case or:Zn=new Uint8Array(ke(On),0,On);break;case wr:Zn=new Int16Array(ke(2*On),0,On);break;case cn:Zn=new Uint16Array(ke(2*On),0,On);break;case Fn:Zn=new Int32Array(ke(4*On),0,On);break;case nn:Zn=new Uint32Array(ke(4*On),0,On);break;case Hr:Zn=new Float32Array(ke(4*On),0,On);break;default:return null}return Zn.length!==On?Zn.subarray(0,On):Zn}function _n(vn){fr(vn.buffer)}return{alloc:ke,free:fr,allocType:dn,freeType:_n}}var Ir=Vr();Ir.zero=Vr();var ti=3408,ge=3410,Le=3411,Se=3412,Ve=3413,le=3414,vr=3415,He=33901,rr=33902,Dr=3379,Mr=3386,an=34921,gn=36347,qr=36348,Dn=35661,ae=35660,er=34930,sr=36349,kr=34076,Rn=34024,pi=7936,Yi=7937,da=7938,_a=35724,fa=34047,wo=36063,ho=34852,mo=3553,yo=34067,zo=34069,io=33984,Za=6408,qa=5126,Zt=5121,je=36160,lr=36053,Br=36064,Vt=16384,ee=function(Wt,ke){var fr=1;ke.ext_texture_filter_anisotropic&&(fr=Wt.getParameter(fa));var dn=1,_n=1;ke.webgl_draw_buffers&&(dn=Wt.getParameter(ho),_n=Wt.getParameter(wo));var vn=!!ke.oes_texture_float;if(vn){var On=Wt.createTexture();Wt.bindTexture(mo,On),Wt.texImage2D(mo,0,Za,1,1,0,Za,qa,null);var Zn=Wt.createFramebuffer();if(Wt.bindFramebuffer(je,Zn),Wt.framebufferTexture2D(je,Br,mo,On,0),Wt.bindTexture(mo,null),Wt.checkFramebufferStatus(je)!==lr)vn=!1;else{Wt.viewport(0,0,1,1),Wt.clearColor(1,0,0,1),Wt.clear(Vt);var Jn=Ir.allocType(qa,4);Wt.readPixels(0,0,1,1,Za,qa,Jn),Wt.getError()?vn=!1:(Wt.deleteFramebuffer(Zn),Wt.deleteTexture(On),vn=Jn[0]===1),Ir.freeType(Jn)}}var oi=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ui=!0;if(!oi){var li=Wt.createTexture(),si=Ir.allocType(Zt,36);Wt.activeTexture(io),Wt.bindTexture(yo,li),Wt.texImage2D(zo,0,Za,3,3,0,Za,Zt,si),Ir.freeType(si),Wt.bindTexture(yo,null),Wt.deleteTexture(li),ui=!Wt.getError()}return{colorBits:[Wt.getParameter(ge),Wt.getParameter(Le),Wt.getParameter(Se),Wt.getParameter(Ve)],depthBits:Wt.getParameter(le),stencilBits:Wt.getParameter(vr),subpixelBits:Wt.getParameter(ti),extensions:Object.keys(ke).filter(function(Kn){return!!ke[Kn]}),maxAnisotropic:fr,maxDrawbuffers:dn,maxColorAttachments:_n,pointSizeDims:Wt.getParameter(He),lineWidthDims:Wt.getParameter(rr),maxViewportDims:Wt.getParameter(Mr),maxCombinedTextureUnits:Wt.getParameter(Dn),maxCubeMapSize:Wt.getParameter(kr),maxRenderbufferSize:Wt.getParameter(Rn),maxTextureUnits:Wt.getParameter(er),maxTextureSize:Wt.getParameter(Dr),maxAttributes:Wt.getParameter(an),maxVertexUniforms:Wt.getParameter(gn),maxVertexTextureUnits:Wt.getParameter(ae),maxVaryingVectors:Wt.getParameter(qr),maxFragmentUniforms:Wt.getParameter(sr),glsl:Wt.getParameter(_a),renderer:Wt.getParameter(Yi),vendor:Wt.getParameter(pi),version:Wt.getParameter(da),readFloat:vn,npotTextureCube:ui}};function Ce(Wt){return!!Wt&&typeof Wt=="object"&&Array.isArray(Wt.shape)&&Array.isArray(Wt.stride)&&typeof Wt.offset=="number"&&Wt.shape.length===Wt.stride.length&&(Array.isArray(Wt.data)||t(Wt.data))}var Me=function(Wt){return Object.keys(Wt).map(function(ke){return Wt[ke]})},Sr={shape:ta,flatten:aa};function pn(Wt,ke,fr){for(var dn=0;dn<ke;++dn)fr[dn]=Wt[dn]}function En(Wt,ke,fr,dn){for(var _n=0,vn=0;vn<ke;++vn)for(var On=Wt[vn],Zn=0;Zn<fr;++Zn)dn[_n++]=On[Zn]}function fi(Wt,ke,fr,dn,_n,vn){for(var On=vn,Zn=0;Zn<ke;++Zn)for(var Jn=Wt[Zn],oi=0;oi<fr;++oi)for(var ui=Jn[oi],li=0;li<dn;++li)_n[On++]=ui[li]}function Ci(Wt,ke,fr,dn,_n){for(var vn=1,On=fr+1;On<ke.length;++On)vn*=ke[On];var Zn=ke[fr];if(ke.length-fr==4){var Jn=ke[fr+1],oi=ke[fr+2],ui=ke[fr+3];for(On=0;On<Zn;++On)fi(Wt[On],Jn,oi,ui,dn,_n),_n+=vn}else for(On=0;On<Zn;++On)Ci(Wt[On],ke,fr+1,dn,_n),_n+=vn}function aa(Wt,ke,fr,dn){var _n=1;if(ke.length)for(var vn=0;vn<ke.length;++vn)_n*=ke[vn];else _n=0;var On=dn||Ir.allocType(fr,_n);switch(ke.length){case 0:break;case 1:pn(Wt,ke[0],On);break;case 2:En(Wt,ke[0],ke[1],On);break;case 3:fi(Wt,ke[0],ke[1],ke[2],On,0);break;default:Ci(Wt,ke,0,On,0)}return On}function ta(Wt){for(var ke=[],fr=Wt;fr.length;fr=fr[0])ke.push(fr.length);return ke}var Ea={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ca=5120,to=5122,za=5124,Ia=5121,Va=5123,ro=5125,Ee=5126,be=5126,pe={int8:ca,int16:to,int32:za,uint8:Ia,uint16:Va,uint32:ro,float:Ee,float32:be},vt=35048,gt=35040,dt={dynamic:vt,stream:gt,static:35044},Dt=Sr.flatten,te=Sr.shape,Ge=35044,cr=35040,zr=5121,Rt=5126,Ei=[];Ei[5120]=1,Ei[5122]=2,Ei[5124]=4,Ei[5121]=1,Ei[5123]=2,Ei[5125]=4,Ei[5126]=4;function ri(Wt){return Ea[Object.prototype.toString.call(Wt)]|0}function k(Wt,ke){for(var fr=0;fr<ke.length;++fr)Wt[fr]=ke[fr]}function it(Wt,ke,fr,dn,_n,vn,On){for(var Zn=0,Jn=0;Jn<fr;++Jn)for(var oi=0;oi<dn;++oi)Wt[Zn++]=ke[_n*Jn+vn*oi+On]}function Bt(Wt,ke,fr,dn){var _n=0,vn={};function On($r){this.id=_n++,this.buffer=Wt.createBuffer(),this.type=$r,this.usage=Ge,this.byteLength=0,this.dimension=1,this.dtype=zr,this.persistentData=null,fr.profile&&(this.stats={size:0})}On.prototype.bind=function(){Wt.bindBuffer(this.type,this.buffer)},On.prototype.destroy=function(){si(this)};var Zn=[];function Jn($r,Cn){var ei=Zn.pop();return ei||(ei=new On($r)),ei.bind(),li(ei,Cn,cr,0,1,!1),ei}function oi($r){Zn.push($r)}function ui($r,Cn,ei){$r.byteLength=Cn.byteLength,Wt.bufferData($r.type,Cn,ei)}function li($r,Cn,ei,Ui,Hn,Ri){var Mi;if($r.usage=ei,Array.isArray(Cn)){if($r.dtype=Ui||Rt,Cn.length>0){var oa;if(Array.isArray(Cn[0])){Mi=te(Cn);for(var kn=1,Un=1;Un<Mi.length;++Un)kn*=Mi[Un];$r.dimension=kn,oa=Dt(Cn,Mi,$r.dtype),ui($r,oa,ei),Ri?$r.persistentData=oa:Ir.freeType(oa)}else if(typeof Cn[0]=="number"){$r.dimension=Hn;var Wi=Ir.allocType($r.dtype,Cn.length);k(Wi,Cn),ui($r,Wi,ei),Ri?$r.persistentData=Wi:Ir.freeType(Wi)}else t(Cn[0])?($r.dimension=Cn[0].length,$r.dtype=Ui||ri(Cn[0])||Rt,oa=Dt(Cn,[Cn.length,Cn[0].length],$r.dtype),ui($r,oa,ei),Ri?$r.persistentData=oa:Ir.freeType(oa)):ot.raise("invalid buffer data")}}else if(t(Cn))$r.dtype=Ui||ri(Cn),$r.dimension=Hn,ui($r,Cn,ei),Ri&&($r.persistentData=new Uint8Array(new Uint8Array(Cn.buffer)));else if(Ce(Cn)){Mi=Cn.shape;var Si=Cn.stride,Qn=Cn.offset,mi=0,Ii=0,Na=0,xa=0;Mi.length===1?(mi=Mi[0],Ii=1,Na=Si[0],xa=0):Mi.length===2?(mi=Mi[0],Ii=Mi[1],Na=Si[0],xa=Si[1]):ot.raise("invalid shape"),$r.dtype=Ui||ri(Cn.data)||Rt,$r.dimension=Ii;var wi=Ir.allocType($r.dtype,mi*Ii);it(wi,Cn.data,mi,Ii,Na,xa,Qn),ui($r,wi,ei),Ri?$r.persistentData=wi:Ir.freeType(wi)}else Cn instanceof ArrayBuffer?($r.dtype=zr,$r.dimension=Hn,ui($r,Cn,ei),Ri&&($r.persistentData=new Uint8Array(new Uint8Array(Cn)))):ot.raise("invalid buffer data")}function si($r){ke.bufferCount--,dn($r);var Cn=$r.buffer;ot(Cn,"buffer must not be deleted already"),Wt.deleteBuffer(Cn),$r.buffer=null,delete vn[$r.id]}function Kn($r,Cn,ei,Ui){ke.bufferCount++;var Hn=new On(Cn);vn[Hn.id]=Hn;function Ri(kn){var Un=Ge,Wi=null,Si=0,Qn=0,mi=1;return Array.isArray(kn)||t(kn)||Ce(kn)||kn instanceof ArrayBuffer?Wi=kn:typeof kn=="number"?Si=kn|0:kn&&(ot.type(kn,"object","buffer arguments must be an object, a number or an array"),"data"in kn&&(ot(Wi===null||Array.isArray(Wi)||t(Wi)||Ce(Wi),"invalid data for buffer"),Wi=kn.data),"usage"in kn&&(ot.parameter(kn.usage,dt,"invalid buffer usage"),Un=dt[kn.usage]),"type"in kn&&(ot.parameter(kn.type,pe,"invalid buffer type"),Qn=pe[kn.type]),"dimension"in kn&&(ot.type(kn.dimension,"number","invalid dimension"),mi=kn.dimension|0),"length"in kn&&(ot.nni(Si,"buffer length must be a nonnegative integer"),Si=kn.length|0)),Hn.bind(),Wi?li(Hn,Wi,Un,Qn,mi,Ui):(Si&&Wt.bufferData(Hn.type,Si,Un),Hn.dtype=Qn||zr,Hn.usage=Un,Hn.dimension=mi,Hn.byteLength=Si),fr.profile&&(Hn.stats.size=Hn.byteLength*Ei[Hn.dtype]),Ri}function Mi(kn,Un){ot(Un+kn.byteLength<=Hn.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+kn.byteLength+" starting from offset "+Un+" to a buffer of size "+Hn.byteLength),Wt.bufferSubData(Hn.type,Un,kn)}function oa(kn,Un){var Wi=(Un||0)|0,Si;if(Hn.bind(),t(kn)||kn instanceof ArrayBuffer)Mi(kn,Wi);else if(Array.isArray(kn)){if(kn.length>0)if(typeof kn[0]=="number"){var Qn=Ir.allocType(Hn.dtype,kn.length);k(Qn,kn),Mi(Qn,Wi),Ir.freeType(Qn)}else if(Array.isArray(kn[0])||t(kn[0])){Si=te(kn);var mi=Dt(kn,Si,Hn.dtype);Mi(mi,Wi),Ir.freeType(mi)}else ot.raise("invalid buffer data")}else if(Ce(kn)){Si=kn.shape;var Ii=kn.stride,Na=0,xa=0,wi=0,Fi=0;Si.length===1?(Na=Si[0],xa=1,wi=Ii[0],Fi=0):Si.length===2?(Na=Si[0],xa=Si[1],wi=Ii[0],Fi=Ii[1]):ot.raise("invalid shape");var Ca=Array.isArray(kn.data)?Hn.dtype:ri(kn.data),wa=Ir.allocType(Ca,Na*xa);it(wa,kn.data,Na,xa,wi,Fi,kn.offset),Mi(wa,Wi),Ir.freeType(wa)}else ot.raise("invalid data for buffer subdata");return Ri}return ei||Ri($r),Ri._reglType="buffer",Ri._buffer=Hn,Ri.subdata=oa,fr.profile&&(Ri.stats=Hn.stats),Ri.destroy=function(){si(Hn)},Ri}function ni(){Me(vn).forEach(function($r){$r.buffer=Wt.createBuffer(),Wt.bindBuffer($r.type,$r.buffer),Wt.bufferData($r.type,$r.persistentData||$r.byteLength,$r.usage)})}return fr.profile&&(ke.getTotalBufferSize=function(){var $r=0;return Object.keys(vn).forEach(function(Cn){$r+=vn[Cn].stats.size}),$r}),{create:Kn,createStream:Jn,destroyStream:oi,clear:function(){Me(vn).forEach(si),Zn.forEach(si)},getBuffer:function($r){return $r&&$r._buffer instanceof On?$r._buffer:null},restore:ni,_initBuffer:li}}var yt=0,ne=0,_e=1,ur=1,jr=4,_r=4,Pn={points:yt,point:ne,lines:_e,line:ur,triangles:jr,triangle:_r,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ln=0,Li=1,sa=4,$i=5120,Sa=5121,pa=5122,Fa=5123,Ua=5124,vo=5125,No=34963,Yo=35040,Ds=35044;function Go(Wt,ke,fr,dn){var _n={},vn=0,On={uint8:Sa,uint16:Fa};ke.oes_element_index_uint&&(On.uint32=vo);function Zn(ni){this.id=vn++,_n[this.id]=this,this.buffer=ni,this.primType=sa,this.vertCount=0,this.type=0}Zn.prototype.bind=function(){this.buffer.bind()};var Jn=[];function oi(ni){var $r=Jn.pop();return $r||($r=new Zn(fr.create(null,No,!0,!1)._buffer)),li($r,ni,Yo,-1,-1,0,0),$r}function ui(ni){Jn.push(ni)}function li(ni,$r,Cn,ei,Ui,Hn,Ri){ni.buffer.bind();var Mi;if($r){var oa=Ri;!Ri&&(!t($r)||Ce($r)&&!t($r.data))&&(oa=ke.oes_element_index_uint?vo:Fa),fr._initBuffer(ni.buffer,$r,Cn,oa,3)}else Wt.bufferData(No,Hn,Cn),ni.buffer.dtype=Mi||Sa,ni.buffer.usage=Cn,ni.buffer.dimension=3,ni.buffer.byteLength=Hn;if(Mi=Ri,!Ri){switch(ni.buffer.dtype){case Sa:case $i:Mi=Sa;break;case Fa:case pa:Mi=Fa;break;case vo:case Ua:Mi=vo;break;default:ot.raise("unsupported type for element array")}ni.buffer.dtype=Mi}ni.type=Mi,ot(Mi!==vo||!!ke.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var kn=Ui;kn<0&&(kn=ni.buffer.byteLength,Mi===Fa?kn>>=1:Mi===vo&&(kn>>=2)),ni.vertCount=kn;var Un=ei;if(ei<0){Un=sa;var Wi=ni.buffer.dimension;Wi===1&&(Un=Ln),Wi===2&&(Un=Li),Wi===3&&(Un=sa)}ni.primType=Un}function si(ni){dn.elementsCount--,ot(ni.buffer!==null,"must not double destroy elements"),delete _n[ni.id],ni.buffer.destroy(),ni.buffer=null}function Kn(ni,$r){var Cn=fr.create(null,No,!0),ei=new Zn(Cn._buffer);dn.elementsCount++;function Ui(Hn){if(!Hn)Cn(),ei.primType=sa,ei.vertCount=0,ei.type=Sa;else if(typeof Hn=="number")Cn(Hn),ei.primType=sa,ei.vertCount=Hn|0,ei.type=Sa;else{var Ri=null,Mi=Ds,oa=-1,kn=-1,Un=0,Wi=0;Array.isArray(Hn)||t(Hn)||Ce(Hn)?Ri=Hn:(ot.type(Hn,"object","invalid arguments for elements"),"data"in Hn&&(Ri=Hn.data,ot(Array.isArray(Ri)||t(Ri)||Ce(Ri),"invalid data for element buffer")),"usage"in Hn&&(ot.parameter(Hn.usage,dt,"invalid element buffer usage"),Mi=dt[Hn.usage]),"primitive"in Hn&&(ot.parameter(Hn.primitive,Pn,"invalid element buffer primitive"),oa=Pn[Hn.primitive]),"count"in Hn&&(ot(typeof Hn.count=="number"&&Hn.count>=0,"invalid vertex count for elements"),kn=Hn.count|0),"type"in Hn&&(ot.parameter(Hn.type,On,"invalid buffer type"),Wi=On[Hn.type]),"length"in Hn?Un=Hn.length|0:(Un=kn,Wi===Fa||Wi===pa?Un*=2:(Wi===vo||Wi===Ua)&&(Un*=4))),li(ei,Ri,Mi,oa,kn,Un,Wi)}return Ui}return Ui(ni),Ui._reglType="elements",Ui._elements=ei,Ui.subdata=function(Hn,Ri){return Cn.subdata(Hn,Ri),Ui},Ui.destroy=function(){si(ei)},Ui}return{create:Kn,createStream:oi,destroyStream:ui,getElements:function(ni){return typeof ni=="function"&&ni._elements instanceof Zn?ni._elements:null},clear:function(){Me(_n).forEach(si)}}}var Io=new Float32Array(1),xo=new Uint32Array(Io.buffer),Lo=5123;function Fo(Wt){for(var ke=Ir.allocType(Lo,Wt.length),fr=0;fr<Wt.length;++fr)if(isNaN(Wt[fr]))ke[fr]=65535;else if(Wt[fr]===Infinity)ke[fr]=31744;else if(Wt[fr]===-Infinity)ke[fr]=64512;else{Io[0]=Wt[fr];var dn=xo[0],_n=dn>>>31<<15,vn=(dn<<1>>>24)-127,On=dn>>13&(1<<10)-1;if(vn<-24)ke[fr]=_n;else if(vn<-14){var Zn=-14-vn;ke[fr]=_n+(On+(1<<10)>>Zn)}else vn>15?ke[fr]=_n+31744:ke[fr]=_n+(vn+15<<10)+On}return ke}function so(Wt){return Array.isArray(Wt)||t(Wt)}var Qo=function(Wt){return!(Wt&Wt-1)&&!!Wt},Jo=34467,Eo=3553,ds=34067,ns=34069,qo=6408,is=6406,Xo=6407,as=6409,$a=6410,Su=32854,pu=32855,Qs=36194,au=32819,Ko=32820,ie=33635,he=34042,Kt=6402,Re=34041,br=35904,Tn=35906,gi=36193,Oi=33776,Di=33777,ea=33778,ha=33779,Ba=35986,na=35987,ts=34798,po=35840,uo=35841,Zo=35842,Qa=35843,go=36196,fs=5121,es=5123,Rs=5125,os=5126,ss=10242,Bo=10243,Zs=10497,Es=33071,Ns=33648,Fs=10240,bu=10241,Au=9728,Bs=9729,ou=9984,Js=9985,gu=9986,qs=9987,js=33170,Ws=4352,Nu=4353,su=4354,Pu=34046,vu=3317,Ss=37440,mu=37441,Ou=37443,Gs=37444,Ao=33984,cs=[ou,gu,Js,qs],us=[0,as,$a,Xo,qo],lo={};lo[as]=lo[is]=lo[Kt]=1,lo[Re]=lo[$a]=2,lo[Xo]=lo[br]=3,lo[qo]=lo[Tn]=4;function _s(Wt){return"[object "+Wt+"]"}var jo=_s("HTMLCanvasElement"),Wo=_s("OffscreenCanvas"),Vs=_s("CanvasRenderingContext2D"),uu=_s("ImageBitmap"),tu=_s("HTMLImageElement"),Hs=_s("HTMLVideoElement"),bs=Object.keys(Ea).concat([jo,Wo,Vs,uu,tu,Hs]),ps=[];ps[fs]=1,ps[os]=4,ps[gi]=2,ps[es]=2,ps[Rs]=4;var kt=[];kt[Su]=2,kt[pu]=2,kt[Qs]=2,kt[Re]=4,kt[Oi]=.5,kt[Di]=.5,kt[ea]=1,kt[ha]=1,kt[Ba]=.5,kt[na]=1,kt[ts]=1,kt[po]=.5,kt[uo]=.25,kt[Zo]=.5,kt[Qa]=.25,kt[go]=.5;function Xt(Wt){return Array.isArray(Wt)&&(Wt.length===0||typeof Wt[0]=="number")}function We(Wt){if(!Array.isArray(Wt))return!1;var ke=Wt.length;return!(ke===0||!so(Wt[0]))}function Ie(Wt){return Object.prototype.toString.call(Wt)}function xr(Wt){return Ie(Wt)===jo}function Zr(Wt){return Ie(Wt)===Wo}function ln(Wt){return Ie(Wt)===Vs}function Mn(Wt){return Ie(Wt)===uu}function In(Wt){return Ie(Wt)===tu}function zn(Wt){return Ie(Wt)===Hs}function on(Wt){var ke=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return!!(ke&&Wt&&Wt.getContext)}function wn(Wt){if(!Wt)return!1;if(on(Wt))return!0;var ke=Ie(Wt);return bs.indexOf(ke)>=0?!0:Xt(Wt)||We(Wt)||Ce(Wt)}function bt(Wt){return Ea[Object.prototype.toString.call(Wt)]|0}function jt(Wt,ke){var fr=ke.length;switch(Wt.type){case fs:case es:case Rs:case os:var dn=Ir.allocType(Wt.type,fr);dn.set(ke),Wt.data=dn;break;case gi:Wt.data=Fo(ke);break;default:ot.raise("unsupported texture type, must specify a typed array")}}function Jt(Wt,ke){return Ir.allocType(Wt.type===gi?os:Wt.type,ke)}function re(Wt,ke){Wt.type===gi?(Wt.data=Fo(ke),Ir.freeType(ke)):Wt.data=ke}function st(Wt,ke,fr,dn,_n,vn){for(var On=Wt.width,Zn=Wt.height,Jn=Wt.channels,oi=On*Zn*Jn,ui=Jt(Wt,oi),li=0,si=0;si<Zn;++si)for(var Kn=0;Kn<On;++Kn)for(var ni=0;ni<Jn;++ni)ui[li++]=ke[fr*Kn+dn*si+_n*ni+vn];re(Wt,ui)}function St(Wt,ke,fr,dn,_n,vn){var On;if(typeof kt[Wt]!="undefined"?On=kt[Wt]:On=lo[Wt]*ps[ke],vn&&(On*=6),_n){for(var Zn=0,Jn=fr;Jn>=1;)Zn+=On*Jn*Jn,Jn/=2;return Zn}else return On*fr*dn}function Ut(Wt,ke,fr,dn,_n,vn,On){var Zn={"don't care":Ws,"dont care":Ws,nice:su,fast:Nu},Jn={repeat:Zs,clamp:Es,mirror:Ns},oi={nearest:Au,linear:Bs},ui=c({mipmap:qs,"nearest mipmap nearest":ou,"linear mipmap nearest":Js,"nearest mipmap linear":gu,"linear mipmap linear":qs},oi),li={none:0,browser:Gs},si={uint8:fs,rgba4:au,rgb565:ie,"rgb5 a1":Ko},Kn={alpha:is,luminance:as,"luminance alpha":$a,rgb:Xo,rgba:qo,rgba4:Su,"rgb5 a1":pu,rgb565:Qs},ni={};ke.ext_srgb&&(Kn.srgb=br,Kn.srgba=Tn),ke.oes_texture_float&&(si.float32=si.float=os),ke.oes_texture_half_float&&(si.float16=si["half float"]=gi),ke.webgl_depth_texture&&(c(Kn,{depth:Kt,"depth stencil":Re}),c(si,{uint16:es,uint32:Rs,"depth stencil":he})),ke.webgl_compressed_texture_s3tc&&c(ni,{"rgb s3tc dxt1":Oi,"rgba s3tc dxt1":Di,"rgba s3tc dxt3":ea,"rgba s3tc dxt5":ha}),ke.webgl_compressed_texture_atc&&c(ni,{"rgb atc":Ba,"rgba atc explicit alpha":na,"rgba atc interpolated alpha":ts}),ke.webgl_compressed_texture_pvrtc&&c(ni,{"rgb pvrtc 4bppv1":po,"rgb pvrtc 2bppv1":uo,"rgba pvrtc 4bppv1":Zo,"rgba pvrtc 2bppv1":Qa}),ke.webgl_compressed_texture_etc1&&(ni["rgb etc1"]=go);var $r=Array.prototype.slice.call(Wt.getParameter(Jo)||new Uint32Array(0));Object.keys(ni).forEach(function(ir){var xn=ni[ir];$r.indexOf(xn)>=0&&(Kn[ir]=xn)});var Cn=Object.keys(Kn);fr.textureFormats=Cn;var ei=[];Object.keys(Kn).forEach(function(ir){var xn=Kn[ir];ei[xn]=ir});var Ui=[];Object.keys(si).forEach(function(ir){var xn=si[ir];Ui[xn]=ir});var Hn=[];Object.keys(oi).forEach(function(ir){var xn=oi[ir];Hn[xn]=ir});var Ri=[];Object.keys(ui).forEach(function(ir){var xn=ui[ir];Ri[xn]=ir});var Mi=[];Object.keys(Jn).forEach(function(ir){var xn=Jn[ir];Mi[xn]=ir});var oa=Cn.reduce(function(ir,xn){var fn=Kn[xn];return fn===as||fn===is||fn===as||fn===$a||fn===Kt||fn===Re||ke.ext_srgb&&(fn===br||fn===Tn)?ir[fn]=fn:fn===pu||xn.indexOf("rgba")>=0?ir[fn]=qo:ir[fn]=Xo,ir},{});function kn(){this.internalformat=qo,this.format=qo,this.type=fs,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Gs,this.width=0,this.height=0,this.channels=0}function Un(ir,xn){ir.internalformat=xn.internalformat,ir.format=xn.format,ir.type=xn.type,ir.compressed=xn.compressed,ir.premultiplyAlpha=xn.premultiplyAlpha,ir.flipY=xn.flipY,ir.unpackAlignment=xn.unpackAlignment,ir.colorSpace=xn.colorSpace,ir.width=xn.width,ir.height=xn.height,ir.channels=xn.channels}function Wi(ir,xn){if(!(typeof xn!="object"||!xn)){if("premultiplyAlpha"in xn&&(ot.type(xn.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),ir.premultiplyAlpha=xn.premultiplyAlpha),"flipY"in xn&&(ot.type(xn.flipY,"boolean","invalid texture flip"),ir.flipY=xn.flipY),"alignment"in xn&&(ot.oneOf(xn.alignment,[1,2,4,8],"invalid texture unpack alignment"),ir.unpackAlignment=xn.alignment),"colorSpace"in xn&&(ot.parameter(xn.colorSpace,li,"invalid colorSpace"),ir.colorSpace=li[xn.colorSpace]),"type"in xn){var fn=xn.type;ot(ke.oes_texture_float||!(fn==="float"||fn==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ot(ke.oes_texture_half_float||!(fn==="half float"||fn==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ot(ke.webgl_depth_texture||!(fn==="uint16"||fn==="uint32"||fn==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ot.parameter(fn,si,"invalid texture type"),ir.type=si[fn]}var ki=ir.width,Ka=ir.height,Ke=ir.channels,Pe=!1;"shape"in xn?(ot(Array.isArray(xn.shape)&&xn.shape.length>=2,"shape must be an array"),ki=xn.shape[0],Ka=xn.shape[1],xn.shape.length===3&&(Ke=xn.shape[2],ot(Ke>0&&Ke<=4,"invalid number of channels"),Pe=!0),ot(ki>=0&&ki<=fr.maxTextureSize,"invalid width"),ot(Ka>=0&&Ka<=fr.maxTextureSize,"invalid height")):("radius"in xn&&(ki=Ka=xn.radius,ot(ki>=0&&ki<=fr.maxTextureSize,"invalid radius")),"width"in xn&&(ki=xn.width,ot(ki>=0&&ki<=fr.maxTextureSize,"invalid width")),"height"in xn&&(Ka=xn.height,ot(Ka>=0&&Ka<=fr.maxTextureSize,"invalid height")),"channels"in xn&&(Ke=xn.channels,ot(Ke>0&&Ke<=4,"invalid number of channels"),Pe=!0)),ir.width=ki|0,ir.height=Ka|0,ir.channels=Ke|0;var Cr=!1;if("format"in xn){var Qr=xn.format;ot(ke.webgl_depth_texture||!(Qr==="depth"||Qr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ot.parameter(Qr,Kn,"invalid texture format");var mn=ir.internalformat=Kn[Qr];ir.format=oa[mn],Qr in si&&("type"in xn||(ir.type=si[Qr])),Qr in ni&&(ir.compressed=!0),Cr=!0}!Pe&&Cr?ir.channels=lo[ir.format]:Pe&&!Cr?ir.channels!==us[ir.format]&&(ir.format=ir.internalformat=us[ir.channels]):Cr&&Pe&&ot(ir.channels===lo[ir.format],"number of channels inconsistent with specified format")}}function Si(ir){Wt.pixelStorei(Ss,ir.flipY),Wt.pixelStorei(mu,ir.premultiplyAlpha),Wt.pixelStorei(Ou,ir.colorSpace),Wt.pixelStorei(vu,ir.unpackAlignment)}function Qn(){kn.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function mi(ir,xn){var fn=null;if(wn(xn)?fn=xn:xn&&(ot.type(xn,"object","invalid pixel data type"),Wi(ir,xn),"x"in xn&&(ir.xOffset=xn.x|0),"y"in xn&&(ir.yOffset=xn.y|0),wn(xn.data)&&(fn=xn.data)),ot(!ir.compressed||fn instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),xn.copy){ot(!fn,"can not specify copy and data field for the same texture");var ki=_n.viewportWidth,Ka=_n.viewportHeight;ir.width=ir.width||ki-ir.xOffset,ir.height=ir.height||Ka-ir.yOffset,ir.needsCopy=!0,ot(ir.xOffset>=0&&ir.xOffset<ki&&ir.yOffset>=0&&ir.yOffset<Ka&&ir.width>0&&ir.width<=ki&&ir.height>0&&ir.height<=Ka,"copy texture read out of bounds")}else if(!fn)ir.width=ir.width||1,ir.height=ir.height||1,ir.channels=ir.channels||4;else if(t(fn))ir.channels=ir.channels||4,ir.data=fn,!("type"in xn)&&ir.type===fs&&(ir.type=bt(fn));else if(Xt(fn))ir.channels=ir.channels||4,jt(ir,fn),ir.alignment=1,ir.needsFree=!0;else if(Ce(fn)){var Ke=fn.data;!Array.isArray(Ke)&&ir.type===fs&&(ir.type=bt(Ke));var Pe=fn.shape,Cr=fn.stride,Qr,mn,Lr,Or,Nr,Ze;Pe.length===3?(Lr=Pe[2],Ze=Cr[2]):(ot(Pe.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Lr=1,Ze=1),Qr=Pe[0],mn=Pe[1],Or=Cr[0],Nr=Cr[1],ir.alignment=1,ir.width=Qr,ir.height=mn,ir.channels=Lr,ir.format=ir.internalformat=us[Lr],ir.needsFree=!0,st(ir,Ke,Or,Nr,Ze,fn.offset)}else if(on(fn)||xr(fn)||Zr(fn)||ln(fn))on(fn)||xr(fn)||Zr(fn)?ir.element=fn:ir.element=fn.canvas,ir.width=ir.element.width,ir.height=ir.element.height,ir.channels=4;else if(Mn(fn))ir.element=fn,ir.width=fn.width,ir.height=fn.height,ir.channels=4;else if(In(fn))ir.element=fn,ir.width=fn.naturalWidth,ir.height=fn.naturalHeight,ir.channels=4;else if(zn(fn))ir.element=fn,ir.width=fn.videoWidth,ir.height=fn.videoHeight,ir.channels=4;else if(We(fn)){var Er=ir.width||fn[0].length,qe=ir.height||fn.length,Jr=ir.channels;so(fn[0][0])?Jr=Jr||fn[0][0].length:Jr=Jr||1;for(var sn=Sr.shape(fn),Vn=1,yi=0;yi<sn.length;++yi)Vn*=sn[yi];var xi=Jt(ir,Vn);Sr.flatten(fn,sn,"",xi),re(ir,xi),ir.alignment=1,ir.width=Er,ir.height=qe,ir.channels=Jr,ir.format=ir.internalformat=us[Jr],ir.needsFree=!0}ir.type===os?ot(fr.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):ir.type===gi&&ot(fr.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Ii(ir,xn,fn){var ki=ir.element,Ka=ir.data,Ke=ir.internalformat,Pe=ir.format,Cr=ir.type,Qr=ir.width,mn=ir.height;Si(ir),ki?Wt.texImage2D(xn,fn,Pe,Pe,Cr,ki):ir.compressed?Wt.compressedTexImage2D(xn,fn,Ke,Qr,mn,0,Ka):ir.needsCopy?(dn(),Wt.copyTexImage2D(xn,fn,Pe,ir.xOffset,ir.yOffset,Qr,mn,0)):Wt.texImage2D(xn,fn,Pe,Qr,mn,0,Pe,Cr,Ka||null)}function Na(ir,xn,fn,ki,Ka){var Ke=ir.element,Pe=ir.data,Cr=ir.internalformat,Qr=ir.format,mn=ir.type,Lr=ir.width,Or=ir.height;Si(ir),Ke?Wt.texSubImage2D(xn,Ka,fn,ki,Qr,mn,Ke):ir.compressed?Wt.compressedTexSubImage2D(xn,Ka,fn,ki,Cr,Lr,Or,Pe):ir.needsCopy?(dn(),Wt.copyTexSubImage2D(xn,Ka,fn,ki,ir.xOffset,ir.yOffset,Lr,Or)):Wt.texSubImage2D(xn,Ka,fn,ki,Lr,Or,Qr,mn,Pe)}var xa=[];function wi(){return xa.pop()||new Qn}function Fi(ir){ir.needsFree&&Ir.freeType(ir.data),Qn.call(ir),xa.push(ir)}function Ca(){kn.call(this),this.genMipmaps=!1,this.mipmapHint=Ws,this.mipmask=0,this.images=Array(16)}function wa(ir,xn,fn){var ki=ir.images[0]=wi();ir.mipmask=1,ki.width=ir.width=xn,ki.height=ir.height=fn,ki.channels=ir.channels=4}function Ja(ir,xn){var fn=null;if(wn(xn))fn=ir.images[0]=wi(),Un(fn,ir),mi(fn,xn),ir.mipmask=1;else if(Wi(ir,xn),Array.isArray(xn.mipmap))for(var ki=xn.mipmap,Ka=0;Ka<ki.length;++Ka)fn=ir.images[Ka]=wi(),Un(fn,ir),fn.width>>=Ka,fn.height>>=Ka,mi(fn,ki[Ka]),ir.mipmask|=1<<Ka;else fn=ir.images[0]=wi(),Un(fn,ir),mi(fn,xn),ir.mipmask=1;Un(ir,ir.images[0]),ir.compressed&&(ir.internalformat===Oi||ir.internalformat===Di||ir.internalformat===ea||ir.internalformat===ha)&&ot(ir.width%4==0&&ir.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function vs(ir,xn){for(var fn=ir.images,ki=0;ki<fn.length;++ki){if(!fn[ki])return;Ii(fn[ki],xn,ki)}}var ys=[];function Ya(){var ir=ys.pop()||new Ca;kn.call(ir),ir.mipmask=0;for(var xn=0;xn<16;++xn)ir.images[xn]=null;return ir}function ru(ir){for(var xn=ir.images,fn=0;fn<xn.length;++fn)xn[fn]&&Fi(xn[fn]),xn[fn]=null;ys.push(ir)}function ao(){this.minFilter=Au,this.magFilter=Au,this.wrapS=Es,this.wrapT=Es,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ws}function Ls(ir,xn){if("min"in xn){var fn=xn.min;ot.parameter(fn,ui),ir.minFilter=ui[fn],cs.indexOf(ir.minFilter)>=0&&!("faces"in xn)&&(ir.genMipmaps=!0)}if("mag"in xn){var ki=xn.mag;ot.parameter(ki,oi),ir.magFilter=oi[ki]}var Ka=ir.wrapS,Ke=ir.wrapT;if("wrap"in xn){var Pe=xn.wrap;typeof Pe=="string"?(ot.parameter(Pe,Jn),Ka=Ke=Jn[Pe]):Array.isArray(Pe)&&(ot.parameter(Pe[0],Jn),ot.parameter(Pe[1],Jn),Ka=Jn[Pe[0]],Ke=Jn[Pe[1]])}else{if("wrapS"in xn){var Cr=xn.wrapS;ot.parameter(Cr,Jn),Ka=Jn[Cr]}if("wrapT"in xn){var Qr=xn.wrapT;ot.parameter(Qr,Jn),Ke=Jn[Qr]}}if(ir.wrapS=Ka,ir.wrapT=Ke,"anisotropic"in xn){var mn=xn.anisotropic;ot(typeof mn=="number"&&mn>=1&&mn<=fr.maxAnisotropic,"aniso samples must be between 1 and "),ir.anisotropic=xn.anisotropic}if("mipmap"in xn){var Lr=!1;switch(typeof xn.mipmap){case"string":ot.parameter(xn.mipmap,Zn,"invalid mipmap hint"),ir.mipmapHint=Zn[xn.mipmap],ir.genMipmaps=!0,Lr=!0;break;case"boolean":Lr=ir.genMipmaps=xn.mipmap;break;case"object":ot(Array.isArray(xn.mipmap),"invalid mipmap type"),ir.genMipmaps=!1,Lr=!0;break;default:ot.raise("invalid mipmap type")}Lr&&!("min"in xn)&&(ir.minFilter=ou)}}function Ms(ir,xn){Wt.texParameteri(xn,bu,ir.minFilter),Wt.texParameteri(xn,Fs,ir.magFilter),Wt.texParameteri(xn,ss,ir.wrapS),Wt.texParameteri(xn,Bo,ir.wrapT),ke.ext_texture_filter_anisotropic&&Wt.texParameteri(xn,Pu,ir.anisotropic),ir.genMipmaps&&(Wt.hint(js,ir.mipmapHint),Wt.generateMipmap(xn))}var nu=0,cu={},$s=fr.maxTextureUnits,xs=Array($s).map(function(){return null});function ka(ir){kn.call(this),this.mipmask=0,this.internalformat=qo,this.id=nu++,this.refCount=1,this.target=ir,this.texture=Wt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ao,On.profile&&(this.stats={size:0})}function hu(ir){Wt.activeTexture(Ao),Wt.bindTexture(ir.target,ir.texture)}function co(){var ir=xs[0];ir?Wt.bindTexture(ir.target,ir.texture):Wt.bindTexture(Eo,null)}function iu(ir){var xn=ir.texture;ot(xn,"must not double destroy texture");var fn=ir.unit,ki=ir.target;fn>=0&&(Wt.activeTexture(Ao+fn),Wt.bindTexture(ki,null),xs[fn]=null),Wt.deleteTexture(xn),ir.texture=null,ir.params=null,ir.pixels=null,ir.refCount=0,delete cu[ir.id],vn.textureCount--}c(ka.prototype,{bind:function(){var ir=this;ir.bindCount+=1;var xn=ir.unit;if(xn<0){for(var fn=0;fn<$s;++fn){var ki=xs[fn];if(ki){if(ki.bindCount>0)continue;ki.unit=-1}xs[fn]=ir,xn=fn;break}xn>=$s&&ot.raise("insufficient number of texture units"),On.profile&&vn.maxTextureUnits<xn+1&&(vn.maxTextureUnits=xn+1),ir.unit=xn,Wt.activeTexture(Ao+xn),Wt.bindTexture(ir.target,ir.texture)}return xn},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&iu(this)}});function ya(ir,xn){var fn=new ka(Eo);cu[fn.id]=fn,vn.textureCount++;function ki(Pe,Cr){var Qr=fn.texInfo;ao.call(Qr);var mn=Ya();return typeof Pe=="number"?typeof Cr=="number"?wa(mn,Pe|0,Cr|0):wa(mn,Pe|0,Pe|0):Pe?(ot.type(Pe,"object","invalid arguments to regl.texture"),Ls(Qr,Pe),Ja(mn,Pe)):wa(mn,1,1),Qr.genMipmaps&&(mn.mipmask=(mn.width<<1)-1),fn.mipmask=mn.mipmask,Un(fn,mn),ot.texture2D(Qr,mn,fr),fn.internalformat=mn.internalformat,ki.width=mn.width,ki.height=mn.height,hu(fn),vs(mn,Eo),Ms(Qr,Eo),co(),ru(mn),On.profile&&(fn.stats.size=St(fn.internalformat,fn.type,mn.width,mn.height,Qr.genMipmaps,!1)),ki.format=ei[fn.internalformat],ki.type=Ui[fn.type],ki.mag=Hn[Qr.magFilter],ki.min=Ri[Qr.minFilter],ki.wrapS=Mi[Qr.wrapS],ki.wrapT=Mi[Qr.wrapT],ki}function Ka(Pe,Cr,Qr,mn){ot(!!Pe,"must specify image data");var Lr=Cr|0,Or=Qr|0,Nr=mn|0,Ze=wi();return Un(Ze,fn),Ze.width=0,Ze.height=0,mi(Ze,Pe),Ze.width=Ze.width||(fn.width>>Nr)-Lr,Ze.height=Ze.height||(fn.height>>Nr)-Or,ot(fn.type===Ze.type&&fn.format===Ze.format&&fn.internalformat===Ze.internalformat,"incompatible format for texture.subimage"),ot(Lr>=0&&Or>=0&&Lr+Ze.width<=fn.width&&Or+Ze.height<=fn.height,"texture.subimage write out of bounds"),ot(fn.mipmask&1<<Nr,"missing mipmap data"),ot(Ze.data||Ze.element||Ze.needsCopy,"missing image data"),hu(fn),Na(Ze,Eo,Lr,Or,Nr),co(),Fi(Ze),ki}function Ke(Pe,Cr){var Qr=Pe|0,mn=Cr|0||Qr;if(Qr===fn.width&&mn===fn.height)return ki;ki.width=fn.width=Qr,ki.height=fn.height=mn,hu(fn);for(var Lr=0;fn.mipmask>>Lr;++Lr){var Or=Qr>>Lr,Nr=mn>>Lr;if(!Or||!Nr)break;Wt.texImage2D(Eo,Lr,fn.format,Or,Nr,0,fn.format,fn.type,null)}return co(),On.profile&&(fn.stats.size=St(fn.internalformat,fn.type,Qr,mn,!1,!1)),ki}return ki(ir,xn),ki.subimage=Ka,ki.resize=Ke,ki._reglType="texture2d",ki._texture=fn,On.profile&&(ki.stats=fn.stats),ki.destroy=function(){fn.decRef()},ki}function Xa(ir,xn,fn,ki,Ka,Ke){var Pe=new ka(ds);cu[Pe.id]=Pe,vn.cubeCount++;var Cr=new Array(6);function Qr(Or,Nr,Ze,Er,qe,Jr){var sn,Vn=Pe.texInfo;for(ao.call(Vn),sn=0;sn<6;++sn)Cr[sn]=Ya();if(typeof Or=="number"||!Or){var yi=Or|0||1;for(sn=0;sn<6;++sn)wa(Cr[sn],yi,yi)}else if(typeof Or=="object")if(Nr)Ja(Cr[0],Or),Ja(Cr[1],Nr),Ja(Cr[2],Ze),Ja(Cr[3],Er),Ja(Cr[4],qe),Ja(Cr[5],Jr);else if(Ls(Vn,Or),Wi(Pe,Or),"faces"in Or){var xi=Or.faces;for(ot(Array.isArray(xi)&&xi.length===6,"cube faces must be a length 6 array"),sn=0;sn<6;++sn)ot(typeof xi[sn]=="object"&&!!xi[sn],"invalid input for cube map face"),Un(Cr[sn],Pe),Ja(Cr[sn],xi[sn])}else for(sn=0;sn<6;++sn)Ja(Cr[sn],Or);else ot.raise("invalid arguments to cube map");for(Un(Pe,Cr[0]),ot.optional(function(){fr.npotTextureCube||ot(Qo(Pe.width)&&Qo(Pe.height),"your browser does not support non power or two texture dimensions")}),Vn.genMipmaps?Pe.mipmask=(Cr[0].width<<1)-1:Pe.mipmask=Cr[0].mipmask,ot.textureCube(Pe,Vn,Cr,fr),Pe.internalformat=Cr[0].internalformat,Qr.width=Cr[0].width,Qr.height=Cr[0].height,hu(Pe),sn=0;sn<6;++sn)vs(Cr[sn],ns+sn);for(Ms(Vn,ds),co(),On.profile&&(Pe.stats.size=St(Pe.internalformat,Pe.type,Qr.width,Qr.height,Vn.genMipmaps,!0)),Qr.format=ei[Pe.internalformat],Qr.type=Ui[Pe.type],Qr.mag=Hn[Vn.magFilter],Qr.min=Ri[Vn.minFilter],Qr.wrapS=Mi[Vn.wrapS],Qr.wrapT=Mi[Vn.wrapT],sn=0;sn<6;++sn)ru(Cr[sn]);return Qr}function mn(Or,Nr,Ze,Er,qe){ot(!!Nr,"must specify image data"),ot(typeof Or=="number"&&Or===(Or|0)&&Or>=0&&Or<6,"invalid face");var Jr=Ze|0,sn=Er|0,Vn=qe|0,yi=wi();return Un(yi,Pe),yi.width=0,yi.height=0,mi(yi,Nr),yi.width=yi.width||(Pe.width>>Vn)-Jr,yi.height=yi.height||(Pe.height>>Vn)-sn,ot(Pe.type===yi.type&&Pe.format===yi.format&&Pe.internalformat===yi.internalformat,"incompatible format for texture.subimage"),ot(Jr>=0&&sn>=0&&Jr+yi.width<=Pe.width&&sn+yi.height<=Pe.height,"texture.subimage write out of bounds"),ot(Pe.mipmask&1<<Vn,"missing mipmap data"),ot(yi.data||yi.element||yi.needsCopy,"missing image data"),hu(Pe),Na(yi,ns+Or,Jr,sn,Vn),co(),Fi(yi),Qr}function Lr(Or){var Nr=Or|0;if(Nr!==Pe.width){Qr.width=Pe.width=Nr,Qr.height=Pe.height=Nr,hu(Pe);for(var Ze=0;Ze<6;++Ze)for(var Er=0;Pe.mipmask>>Er;++Er)Wt.texImage2D(ns+Ze,Er,Pe.format,Nr>>Er,Nr>>Er,0,Pe.format,Pe.type,null);return co(),On.profile&&(Pe.stats.size=St(Pe.internalformat,Pe.type,Qr.width,Qr.height,!1,!0)),Qr}}return Qr(ir,xn,fn,ki,Ka,Ke),Qr.subimage=mn,Qr.resize=Lr,Qr._reglType="textureCube",Qr._texture=Pe,On.profile&&(Qr.stats=Pe.stats),Qr.destroy=function(){Pe.decRef()},Qr}function _o(){for(var ir=0;ir<$s;++ir)Wt.activeTexture(Ao+ir),Wt.bindTexture(Eo,null),xs[ir]=null;Me(cu).forEach(iu),vn.cubeCount=0,vn.textureCount=0}On.profile&&(vn.getTotalTextureSize=function(){var ir=0;return Object.keys(cu).forEach(function(xn){ir+=cu[xn].stats.size}),ir});function ks(){for(var ir=0;ir<$s;++ir){var xn=xs[ir];xn&&(xn.bindCount=0,xn.unit=-1,xs[ir]=null)}Me(cu).forEach(function(fn){fn.texture=Wt.createTexture(),Wt.bindTexture(fn.target,fn.texture);for(var ki=0;ki<32;++ki)if((fn.mipmask&1<<ki)!=0)if(fn.target===Eo)Wt.texImage2D(Eo,ki,fn.internalformat,fn.width>>ki,fn.height>>ki,0,fn.internalformat,fn.type,null);else for(var Ka=0;Ka<6;++Ka)Wt.texImage2D(ns+Ka,ki,fn.internalformat,fn.width>>ki,fn.height>>ki,0,fn.internalformat,fn.type,null);Ms(fn.texInfo,fn.target)})}function ju(){for(var ir=0;ir<$s;++ir){var xn=xs[ir];xn&&(xn.bindCount=0,xn.unit=-1,xs[ir]=null),Wt.activeTexture(Ao+ir),Wt.bindTexture(Eo,null),Wt.bindTexture(ds,null)}}return{create2D:ya,createCube:Xa,clear:_o,getTexture:function(ir){return null},restore:ks,refresh:ju}}var wt=36161,Qt=32854,Oe=32855,ve=36194,we=33189,Ne=36168,Qe=34041,Ye=35907,Ar=34836,yr=34842,Ur=34843,pr=[];pr[Qt]=2,pr[Oe]=2,pr[ve]=2,pr[we]=2,pr[Ne]=1,pr[Qe]=4,pr[Ye]=4,pr[Ar]=16,pr[yr]=8,pr[Ur]=6;function Fr(Wt,ke,fr){return pr[Wt]*ke*fr}var Yr=function(Wt,ke,fr,dn,_n){var vn={rgba4:Qt,rgb565:ve,"rgb5 a1":Oe,depth:we,stencil:Ne,"depth stencil":Qe};ke.ext_srgb&&(vn.srgba=Ye),ke.ext_color_buffer_half_float&&(vn.rgba16f=yr,vn.rgb16f=Ur),ke.webgl_color_buffer_float&&(vn.rgba32f=Ar);var On=[];Object.keys(vn).forEach(function(Kn){var ni=vn[Kn];On[ni]=Kn});var Zn=0,Jn={};function oi(Kn){this.id=Zn++,this.refCount=1,this.renderbuffer=Kn,this.format=Qt,this.width=0,this.height=0,_n.profile&&(this.stats={size:0})}oi.prototype.decRef=function(){--this.refCount<=0&&ui(this)};function ui(Kn){var ni=Kn.renderbuffer;ot(ni,"must not double destroy renderbuffer"),Wt.bindRenderbuffer(wt,null),Wt.deleteRenderbuffer(ni),Kn.renderbuffer=null,Kn.refCount=0,delete Jn[Kn.id],dn.renderbufferCount--}function li(Kn,ni){var $r=new oi(Wt.createRenderbuffer());Jn[$r.id]=$r,dn.renderbufferCount++;function Cn(Ui,Hn){var Ri=0,Mi=0,oa=Qt;if(typeof Ui=="object"&&Ui){var kn=Ui;if("shape"in kn){var Un=kn.shape;ot(Array.isArray(Un)&&Un.length>=2,"invalid renderbuffer shape"),Ri=Un[0]|0,Mi=Un[1]|0}else"radius"in kn&&(Ri=Mi=kn.radius|0),"width"in kn&&(Ri=kn.width|0),"height"in kn&&(Mi=kn.height|0);"format"in kn&&(ot.parameter(kn.format,vn,"invalid renderbuffer format"),oa=vn[kn.format])}else typeof Ui=="number"?(Ri=Ui|0,typeof Hn=="number"?Mi=Hn|0:Mi=Ri):Ui?ot.raise("invalid arguments to renderbuffer constructor"):Ri=Mi=1;if(ot(Ri>0&&Mi>0&&Ri<=fr.maxRenderbufferSize&&Mi<=fr.maxRenderbufferSize,"invalid renderbuffer size"),!(Ri===$r.width&&Mi===$r.height&&oa===$r.format))return Cn.width=$r.width=Ri,Cn.height=$r.height=Mi,$r.format=oa,Wt.bindRenderbuffer(wt,$r.renderbuffer),Wt.renderbufferStorage(wt,oa,Ri,Mi),ot(Wt.getError()===0,"invalid render buffer format"),_n.profile&&($r.stats.size=Fr($r.format,$r.width,$r.height)),Cn.format=On[$r.format],Cn}function ei(Ui,Hn){var Ri=Ui|0,Mi=Hn|0||Ri;return Ri===$r.width&&Mi===$r.height||(ot(Ri>0&&Mi>0&&Ri<=fr.maxRenderbufferSize&&Mi<=fr.maxRenderbufferSize,"invalid renderbuffer size"),Cn.width=$r.width=Ri,Cn.height=$r.height=Mi,Wt.bindRenderbuffer(wt,$r.renderbuffer),Wt.renderbufferStorage(wt,$r.format,Ri,Mi),ot(Wt.getError()===0,"invalid render buffer format"),_n.profile&&($r.stats.size=Fr($r.format,$r.width,$r.height))),Cn}return Cn(Kn,ni),Cn.resize=ei,Cn._reglType="renderbuffer",Cn._renderbuffer=$r,_n.profile&&(Cn.stats=$r.stats),Cn.destroy=function(){$r.decRef()},Cn}_n.profile&&(dn.getTotalRenderbufferSize=function(){var Kn=0;return Object.keys(Jn).forEach(function(ni){Kn+=Jn[ni].stats.size}),Kn});function si(){Me(Jn).forEach(function(Kn){Kn.renderbuffer=Wt.createRenderbuffer(),Wt.bindRenderbuffer(wt,Kn.renderbuffer),Wt.renderbufferStorage(wt,Kn.format,Kn.width,Kn.height)}),Wt.bindRenderbuffer(wt,null)}return{create:li,clear:function(){Me(Jn).forEach(ui)},restore:si}},Sn=36160,Nn=36161,hn=3553,Bn=34069,qn=36064,Ai=36096,Ti=36128,Oa=33306,va=36053,ma=36054,jn=36055,hi=36057,Ha=36061,Wa=36193,Xn=5121,ja=5126,fo=6407,Do=6408,Ro=6402,Ys=[fo,Do],gs=[];gs[Do]=4,gs[fo]=3;var yu=[];yu[Xn]=1,yu[ja]=4,yu[Wa]=2;var Tu=32854,lu=32855,eo=36194,pt=33189,mt=36168,Pt=34041,It=35907,Ht=34836,Gt=34842,qt=34843,Fe=[Tu,lu,eo,It,Gt,qt,Ht],Be={};Be[va]="complete",Be[ma]="incomplete attachment",Be[hi]="incomplete dimensions",Be[jn]="incomplete, missing attachment",Be[Ha]="unsupported";function $e(Wt,ke,fr,dn,_n,vn){var On={cur:null,next:null,dirty:!1,setFBO:null},Zn=["rgba"],Jn=["rgba4","rgb565","rgb5 a1"];ke.ext_srgb&&Jn.push("srgba"),ke.ext_color_buffer_half_float&&Jn.push("rgba16f","rgb16f"),ke.webgl_color_buffer_float&&Jn.push("rgba32f");var oi=["uint8"];ke.oes_texture_half_float&&oi.push("half float","float16"),ke.oes_texture_float&&oi.push("float","float32");function ui(Qn,mi,Ii){this.target=Qn,this.texture=mi,this.renderbuffer=Ii;var Na=0,xa=0;mi?(Na=mi.width,xa=mi.height):Ii&&(Na=Ii.width,xa=Ii.height),this.width=Na,this.height=xa}function li(Qn){Qn&&(Qn.texture&&Qn.texture._texture.decRef(),Qn.renderbuffer&&Qn.renderbuffer._renderbuffer.decRef())}function si(Qn,mi,Ii){if(!!Qn)if(Qn.texture){var Na=Qn.texture._texture,xa=Math.max(1,Na.width),wi=Math.max(1,Na.height);ot(xa===mi&&wi===Ii,"inconsistent width/height for supplied texture"),Na.refCount+=1}else{var Fi=Qn.renderbuffer._renderbuffer;ot(Fi.width===mi&&Fi.height===Ii,"inconsistent width/height for renderbuffer"),Fi.refCount+=1}}function Kn(Qn,mi){mi&&(mi.texture?Wt.framebufferTexture2D(Sn,Qn,mi.target,mi.texture._texture.texture,0):Wt.framebufferRenderbuffer(Sn,Qn,Nn,mi.renderbuffer._renderbuffer.renderbuffer))}function ni(Qn){var mi=hn,Ii=null,Na=null,xa=Qn;typeof Qn=="object"&&(xa=Qn.data,"target"in Qn&&(mi=Qn.target|0)),ot.type(xa,"function","invalid attachment data");var wi=xa._reglType;return wi==="texture2d"?(Ii=xa,ot(mi===hn)):wi==="textureCube"?(Ii=xa,ot(mi>=Bn&&mi<Bn+6,"invalid cube map target")):wi==="renderbuffer"?(Na=xa,mi=Nn):ot.raise("invalid regl object for attachment"),new ui(mi,Ii,Na)}function $r(Qn,mi,Ii,Na,xa){if(Ii){var wi=dn.create2D({width:Qn,height:mi,format:Na,type:xa});return wi._texture.refCount=0,new ui(hn,wi,null)}else{var Fi=_n.create({width:Qn,height:mi,format:Na});return Fi._renderbuffer.refCount=0,new ui(Nn,null,Fi)}}function Cn(Qn){return Qn&&(Qn.texture||Qn.renderbuffer)}function ei(Qn,mi,Ii){Qn&&(Qn.texture?Qn.texture.resize(mi,Ii):Qn.renderbuffer&&Qn.renderbuffer.resize(mi,Ii),Qn.width=mi,Qn.height=Ii)}var Ui=0,Hn={};function Ri(){this.id=Ui++,Hn[this.id]=this,this.framebuffer=Wt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Mi(Qn){Qn.colorAttachments.forEach(li),li(Qn.depthAttachment),li(Qn.stencilAttachment),li(Qn.depthStencilAttachment)}function oa(Qn){var mi=Qn.framebuffer;ot(mi,"must not double destroy framebuffer"),Wt.deleteFramebuffer(mi),Qn.framebuffer=null,vn.framebufferCount--,delete Hn[Qn.id]}function kn(Qn){var mi;Wt.bindFramebuffer(Sn,Qn.framebuffer);var Ii=Qn.colorAttachments;for(mi=0;mi<Ii.length;++mi)Kn(qn+mi,Ii[mi]);for(mi=Ii.length;mi<fr.maxColorAttachments;++mi)Wt.framebufferTexture2D(Sn,qn+mi,hn,null,0);Wt.framebufferTexture2D(Sn,Oa,hn,null,0),Wt.framebufferTexture2D(Sn,Ai,hn,null,0),Wt.framebufferTexture2D(Sn,Ti,hn,null,0),Kn(Ai,Qn.depthAttachment),Kn(Ti,Qn.stencilAttachment),Kn(Oa,Qn.depthStencilAttachment);var Na=Wt.checkFramebufferStatus(Sn);!Wt.isContextLost()&&Na!==va&&ot.raise("framebuffer configuration not supported, status = "+Be[Na]),Wt.bindFramebuffer(Sn,On.next?On.next.framebuffer:null),On.cur=On.next,Wt.getError()}function Un(Qn,mi){var Ii=new Ri;vn.framebufferCount++;function Na(wi,Fi){var Ca;ot(On.next!==Ii,"can not update framebuffer which is currently in use");var wa=0,Ja=0,vs=!0,ys=!0,Ya=null,ru=!0,ao="rgba",Ls="uint8",Ms=1,nu=null,cu=null,$s=null,xs=!1;if(typeof wi=="number")wa=wi|0,Ja=Fi|0||wa;else if(!wi)wa=Ja=1;else{ot.type(wi,"object","invalid arguments for framebuffer");var ka=wi;if("shape"in ka){var hu=ka.shape;ot(Array.isArray(hu)&&hu.length>=2,"invalid shape for framebuffer"),wa=hu[0],Ja=hu[1]}else"radius"in ka&&(wa=Ja=ka.radius),"width"in ka&&(wa=ka.width),"height"in ka&&(Ja=ka.height);("color"in ka||"colors"in ka)&&(Ya=ka.color||ka.colors,Array.isArray(Ya)&&ot(Ya.length===1||ke.webgl_draw_buffers,"multiple render targets not supported")),Ya||("colorCount"in ka&&(Ms=ka.colorCount|0,ot(Ms>0,"invalid color buffer count")),"colorTexture"in ka&&(ru=!!ka.colorTexture,ao="rgba4"),"colorType"in ka&&(Ls=ka.colorType,ru?(ot(ke.oes_texture_float||!(Ls==="float"||Ls==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ot(ke.oes_texture_half_float||!(Ls==="half float"||Ls==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ls==="half float"||Ls==="float16"?(ot(ke.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ao="rgba16f"):(Ls==="float"||Ls==="float32")&&(ot(ke.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ao="rgba32f"),ot.oneOf(Ls,oi,"invalid color type")),"colorFormat"in ka&&(ao=ka.colorFormat,Zn.indexOf(ao)>=0?ru=!0:Jn.indexOf(ao)>=0?ru=!1:ot.optional(function(){ru?ot.oneOf(ka.colorFormat,Zn,"invalid color format for texture"):ot.oneOf(ka.colorFormat,Jn,"invalid color format for renderbuffer")}))),("depthTexture"in ka||"depthStencilTexture"in ka)&&(xs=!!(ka.depthTexture||ka.depthStencilTexture),ot(!xs||ke.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ka&&(typeof ka.depth=="boolean"?vs=ka.depth:(nu=ka.depth,ys=!1)),"stencil"in ka&&(typeof ka.stencil=="boolean"?ys=ka.stencil:(cu=ka.stencil,vs=!1)),"depthStencil"in ka&&(typeof ka.depthStencil=="boolean"?vs=ys=ka.depthStencil:($s=ka.depthStencil,vs=!1,ys=!1))}var co=null,iu=null,ya=null,Xa=null;if(Array.isArray(Ya))co=Ya.map(ni);else if(Ya)co=[ni(Ya)];else for(co=new Array(Ms),Ca=0;Ca<Ms;++Ca)co[Ca]=$r(wa,Ja,ru,ao,Ls);ot(ke.webgl_draw_buffers||co.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ot(co.length<=fr.maxColorAttachments,"too many color attachments, not supported"),wa=wa||co[0].width,Ja=Ja||co[0].height,nu?iu=ni(nu):vs&&!ys&&(iu=$r(wa,Ja,xs,"depth","uint32")),cu?ya=ni(cu):ys&&!vs&&(ya=$r(wa,Ja,!1,"stencil","uint8")),$s?Xa=ni($s):!nu&&!cu&&ys&&vs&&(Xa=$r(wa,Ja,xs,"depth stencil","depth stencil")),ot(!!nu+!!cu+!!$s<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var _o=null;for(Ca=0;Ca<co.length;++Ca)if(si(co[Ca],wa,Ja),ot(!co[Ca]||co[Ca].texture&&Ys.indexOf(co[Ca].texture._texture.format)>=0||co[Ca].renderbuffer&&Fe.indexOf(co[Ca].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Ca+" is invalid"),co[Ca]&&co[Ca].texture){var ks=gs[co[Ca].texture._texture.format]*yu[co[Ca].texture._texture.type];_o===null?_o=ks:ot(_o===ks,"all color attachments much have the same number of bits per pixel.")}return si(iu,wa,Ja),ot(!iu||iu.texture&&iu.texture._texture.format===Ro||iu.renderbuffer&&iu.renderbuffer._renderbuffer.format===pt,"invalid depth attachment for framebuffer object"),si(ya,wa,Ja),ot(!ya||ya.renderbuffer&&ya.renderbuffer._renderbuffer.format===mt,"invalid stencil attachment for framebuffer object"),si(Xa,wa,Ja),ot(!Xa||Xa.texture&&Xa.texture._texture.format===Pt||Xa.renderbuffer&&Xa.renderbuffer._renderbuffer.format===Pt,"invalid depth-stencil attachment for framebuffer object"),Mi(Ii),Ii.width=wa,Ii.height=Ja,Ii.colorAttachments=co,Ii.depthAttachment=iu,Ii.stencilAttachment=ya,Ii.depthStencilAttachment=Xa,Na.color=co.map(Cn),Na.depth=Cn(iu),Na.stencil=Cn(ya),Na.depthStencil=Cn(Xa),Na.width=Ii.width,Na.height=Ii.height,kn(Ii),Na}function xa(wi,Fi){ot(On.next!==Ii,"can not resize a framebuffer which is currently in use");var Ca=Math.max(wi|0,1),wa=Math.max(Fi|0||Ca,1);if(Ca===Ii.width&&wa===Ii.height)return Na;for(var Ja=Ii.colorAttachments,vs=0;vs<Ja.length;++vs)ei(Ja[vs],Ca,wa);return ei(Ii.depthAttachment,Ca,wa),ei(Ii.stencilAttachment,Ca,wa),ei(Ii.depthStencilAttachment,Ca,wa),Ii.width=Na.width=Ca,Ii.height=Na.height=wa,kn(Ii),Na}return Na(Qn,mi),c(Na,{resize:xa,_reglType:"framebuffer",_framebuffer:Ii,destroy:function(){oa(Ii),Mi(Ii)},use:function(wi){On.setFBO({framebuffer:Na},wi)}})}function Wi(Qn){var mi=Array(6);function Ii(xa){var wi;ot(mi.indexOf(On.next)<0,"can not update framebuffer which is currently in use");var Fi={color:null},Ca=0,wa=null,Ja="rgba",vs="uint8",ys=1;if(typeof xa=="number")Ca=xa|0;else if(!xa)Ca=1;else{ot.type(xa,"object","invalid arguments for framebuffer");var Ya=xa;if("shape"in Ya){var ru=Ya.shape;ot(Array.isArray(ru)&&ru.length>=2,"invalid shape for framebuffer"),ot(ru[0]===ru[1],"cube framebuffer must be square"),Ca=ru[0]}else"radius"in Ya&&(Ca=Ya.radius|0),"width"in Ya?(Ca=Ya.width|0,"height"in Ya&&ot(Ya.height===Ca,"must be square")):"height"in Ya&&(Ca=Ya.height|0);("color"in Ya||"colors"in Ya)&&(wa=Ya.color||Ya.colors,Array.isArray(wa)&&ot(wa.length===1||ke.webgl_draw_buffers,"multiple render targets not supported")),wa||("colorCount"in Ya&&(ys=Ya.colorCount|0,ot(ys>0,"invalid color buffer count")),"colorType"in Ya&&(ot.oneOf(Ya.colorType,oi,"invalid color type"),vs=Ya.colorType),"colorFormat"in Ya&&(Ja=Ya.colorFormat,ot.oneOf(Ya.colorFormat,Zn,"invalid color format for texture"))),"depth"in Ya&&(Fi.depth=Ya.depth),"stencil"in Ya&&(Fi.stencil=Ya.stencil),"depthStencil"in Ya&&(Fi.depthStencil=Ya.depthStencil)}var ao;if(wa)if(Array.isArray(wa))for(ao=[],wi=0;wi<wa.length;++wi)ao[wi]=wa[wi];else ao=[wa];else{ao=Array(ys);var Ls={radius:Ca,format:Ja,type:vs};for(wi=0;wi<ys;++wi)ao[wi]=dn.createCube(Ls)}for(Fi.color=Array(ao.length),wi=0;wi<ao.length;++wi){var Ms=ao[wi];ot(typeof Ms=="function"&&Ms._reglType==="textureCube","invalid cube map"),Ca=Ca||Ms.width,ot(Ms.width===Ca&&Ms.height===Ca,"invalid cube map shape"),Fi.color[wi]={target:Bn,data:ao[wi]}}for(wi=0;wi<6;++wi){for(var nu=0;nu<ao.length;++nu)Fi.color[nu].target=Bn+wi;wi>0&&(Fi.depth=mi[0].depth,Fi.stencil=mi[0].stencil,Fi.depthStencil=mi[0].depthStencil),mi[wi]?mi[wi](Fi):mi[wi]=Un(Fi)}return c(Ii,{width:Ca,height:Ca,color:ao})}function Na(xa){var wi,Fi=xa|0;if(ot(Fi>0&&Fi<=fr.maxCubeMapSize,"invalid radius for cube fbo"),Fi===Ii.width)return Ii;var Ca=Ii.color;for(wi=0;wi<Ca.length;++wi)Ca[wi].resize(Fi);for(wi=0;wi<6;++wi)mi[wi].resize(Fi);return Ii.width=Ii.height=Fi,Ii}return Ii(Qn),c(Ii,{faces:mi,resize:Na,_reglType:"framebufferCube",destroy:function(){mi.forEach(function(xa){xa.destroy()})}})}function Si(){On.cur=null,On.next=null,On.dirty=!0,Me(Hn).forEach(function(Qn){Qn.framebuffer=Wt.createFramebuffer(),kn(Qn)})}return c(On,{getFramebuffer:function(Qn){if(typeof Qn=="function"&&Qn._reglType==="framebuffer"){var mi=Qn._framebuffer;if(mi instanceof Ri)return mi}return null},create:Un,createCube:Wi,clear:function(){Me(Hn).forEach(oa)},restore:Si})}var hr=5126,Tr=34962,Xr=34963,en=["attributes","elements","offset","count","primitive","instances"];function An(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=hr,this.offset=0,this.stride=0,this.divisor=0}function Yn(Wt,ke,fr,dn,_n,vn,On){for(var Zn=fr.maxAttributes,Jn=new Array(Zn),oi=0;oi<Zn;++oi)Jn[oi]=new An;var ui=0,li={},si={Record:An,scope:{},state:Jn,currentVAO:null,targetVAO:null,restore:ni()?Mi:function(){},createVAO:oa,getVAO:Cn,destroyBuffer:Kn,setVAO:ni()?ei:Ui,clear:ni()?Hn:function(){}};function Kn(kn){for(var Un=0;Un<Jn.length;++Un){var Wi=Jn[Un];Wi.buffer===kn&&(Wt.disableVertexAttribArray(Un),Wi.buffer=null)}}function ni(){return ke.oes_vertex_array_object}function $r(){return ke.angle_instanced_arrays}function Cn(kn){return typeof kn=="function"&&kn._vao?kn._vao:null}function ei(kn){if(kn!==si.currentVAO){var Un=ni();kn?Un.bindVertexArrayOES(kn.vao):Un.bindVertexArrayOES(null),si.currentVAO=kn}}function Ui(kn){if(kn!==si.currentVAO){if(kn)kn.bindAttrs();else{for(var Un=$r(),Wi=0;Wi<Jn.length;++Wi){var Si=Jn[Wi];Si.buffer?(Wt.enableVertexAttribArray(Wi),Si.buffer.bind(),Wt.vertexAttribPointer(Wi,Si.size,Si.type,Si.normalized,Si.stride,Si.offfset),Un&&Si.divisor&&Un.vertexAttribDivisorANGLE(Wi,Si.divisor)):(Wt.disableVertexAttribArray(Wi),Wt.vertexAttrib4f(Wi,Si.x,Si.y,Si.z,Si.w))}On.elements?Wt.bindBuffer(Xr,On.elements.buffer.buffer):Wt.bindBuffer(Xr,null)}si.currentVAO=kn}}function Hn(){Me(li).forEach(function(kn){kn.destroy()})}function Ri(){this.id=++ui,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var kn=ni();kn?this.vao=kn.createVertexArrayOES():this.vao=null,li[this.id]=this,this.buffers=[]}Ri.prototype.bindAttrs=function(){for(var kn=$r(),Un=this.attributes,Wi=0;Wi<Un.length;++Wi){var Si=Un[Wi];Si.buffer?(Wt.enableVertexAttribArray(Wi),Wt.bindBuffer(Tr,Si.buffer.buffer),Wt.vertexAttribPointer(Wi,Si.size,Si.type,Si.normalized,Si.stride,Si.offset),kn&&Si.divisor&&kn.vertexAttribDivisorANGLE(Wi,Si.divisor)):(Wt.disableVertexAttribArray(Wi),Wt.vertexAttrib4f(Wi,Si.x,Si.y,Si.z,Si.w))}for(var Qn=Un.length;Qn<Zn;++Qn)Wt.disableVertexAttribArray(Qn);var mi=vn.getElements(this.elements);mi?Wt.bindBuffer(Xr,mi.buffer.buffer):Wt.bindBuffer(Xr,null)},Ri.prototype.refresh=function(){var kn=ni();kn&&(kn.bindVertexArrayOES(this.vao),this.bindAttrs(),si.currentVAO=null,kn.bindVertexArrayOES(null))},Ri.prototype.destroy=function(){if(this.vao){var kn=ni();this===si.currentVAO&&(si.currentVAO=null,kn.bindVertexArrayOES(null)),kn.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),li[this.id]&&(delete li[this.id],dn.vaoCount-=1)};function Mi(){var kn=ni();kn&&Me(li).forEach(function(Un){Un.refresh()})}function oa(kn){var Un=new Ri;dn.vaoCount+=1;function Wi(Si){var Qn;if(Array.isArray(Si))Qn=Si,Un.elements&&Un.ownsElements&&Un.elements.destroy(),Un.elements=null,Un.ownsElements=!1,Un.offset=0,Un.count=0,Un.instances=-1,Un.primitive=4;else{if(ot(typeof Si=="object","invalid arguments for create vao"),ot("attributes"in Si,"must specify attributes for vao"),Si.elements){var mi=Si.elements;Un.ownsElements?typeof mi=="function"&&mi._reglType==="elements"?(Un.elements.destroy(),Un.ownsElements=!1):(Un.elements(mi),Un.ownsElements=!1):vn.getElements(Si.elements)?(Un.elements=Si.elements,Un.ownsElements=!1):(Un.elements=vn.create(Si.elements),Un.ownsElements=!0)}else Un.elements=null,Un.ownsElements=!1;Qn=Si.attributes,Un.offset=0,Un.count=-1,Un.instances=-1,Un.primitive=4,Un.elements&&(Un.count=Un.elements._elements.vertCount,Un.primitive=Un.elements._elements.primType),"offset"in Si&&(Un.offset=Si.offset|0),"count"in Si&&(Un.count=Si.count|0),"instances"in Si&&(Un.instances=Si.instances|0),"primitive"in Si&&(ot(Si.primitive in Pn,"bad primitive type: "+Si.primitive),Un.primitive=Pn[Si.primitive]),ot.optional(()=>{for(var vs=Object.keys(Si),ys=0;ys<vs.length;++ys)ot(en.indexOf(vs[ys])>=0,'invalid option for vao: "'+vs[ys]+'" valid options are '+en)}),ot(Array.isArray(Qn),"attributes must be an array")}ot(Qn.length<Zn,"too many attributes"),ot(Qn.length>0,"must specify at least one attribute");var Ii={},Na=Un.attributes;Na.length=Qn.length;for(var xa=0;xa<Qn.length;++xa){var wi=Qn[xa],Fi=Na[xa]=new An,Ca=wi.data||wi;if(Array.isArray(Ca)||t(Ca)||Ce(Ca)){var wa;Un.buffers[xa]&&(wa=Un.buffers[xa],t(Ca)&&wa._buffer.byteLength>=Ca.byteLength?wa.subdata(Ca):(wa.destroy(),Un.buffers[xa]=null)),Un.buffers[xa]||(wa=Un.buffers[xa]=_n.create(wi,Tr,!1,!0)),Fi.buffer=_n.getBuffer(wa),Fi.size=Fi.buffer.dimension|0,Fi.normalized=!1,Fi.type=Fi.buffer.dtype,Fi.offset=0,Fi.stride=0,Fi.divisor=0,Fi.state=1,Ii[xa]=1}else _n.getBuffer(wi)?(Fi.buffer=_n.getBuffer(wi),Fi.size=Fi.buffer.dimension|0,Fi.normalized=!1,Fi.type=Fi.buffer.dtype,Fi.offset=0,Fi.stride=0,Fi.divisor=0,Fi.state=1):_n.getBuffer(wi.buffer)?(Fi.buffer=_n.getBuffer(wi.buffer),Fi.size=(+wi.size||Fi.buffer.dimension)|0,Fi.normalized=!!wi.normalized||!1,"type"in wi?(ot.parameter(wi.type,pe,"invalid buffer type"),Fi.type=pe[wi.type]):Fi.type=Fi.buffer.dtype,Fi.offset=(wi.offset||0)|0,Fi.stride=(wi.stride||0)|0,Fi.divisor=(wi.divisor||0)|0,Fi.state=1,ot(Fi.size>=1&&Fi.size<=4,"size must be between 1 and 4"),ot(Fi.offset>=0,"invalid offset"),ot(Fi.stride>=0&&Fi.stride<=255,"stride must be between 0 and 255"),ot(Fi.divisor>=0,"divisor must be positive"),ot(!Fi.divisor||!!ke.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in wi?(ot(xa>0,"first attribute must not be a constant"),Fi.x=+wi.x||0,Fi.y=+wi.y||0,Fi.z=+wi.z||0,Fi.w=+wi.w||0,Fi.state=2):ot(!1,"invalid attribute spec for location "+xa)}for(var Ja=0;Ja<Un.buffers.length;++Ja)!Ii[Ja]&&Un.buffers[Ja]&&(Un.buffers[Ja].destroy(),Un.buffers[Ja]=null);return Un.refresh(),Wi}return Wi.destroy=function(){for(var Si=0;Si<Un.buffers.length;++Si)Un.buffers[Si]&&Un.buffers[Si].destroy();Un.buffers.length=0,Un.ownsElements&&(Un.elements.destroy(),Un.elements=null,Un.ownsElements=!1),Un.destroy()},Wi._vao=Un,Wi._reglType="vao",Wi(kn)}return si}var vi=35632,Qi=35633,ga=35718,Pa=35721;function Ta(Wt,ke,fr,dn){var _n={},vn={};function On($r,Cn,ei,Ui){this.name=$r,this.id=Cn,this.location=ei,this.info=Ui}function Zn($r,Cn){for(var ei=0;ei<$r.length;++ei)if($r[ei].id===Cn.id){$r[ei].location=Cn.location;return}$r.push(Cn)}function Jn($r,Cn,ei){var Ui=$r===vi?_n:vn,Hn=Ui[Cn];if(!Hn){var Ri=ke.str(Cn);Hn=Wt.createShader($r),Wt.shaderSource(Hn,Ri),Wt.compileShader(Hn),ot.shaderError(Wt,Hn,Ri,$r,ei),Ui[Cn]=Hn}return Hn}var oi={},ui=[],li=0;function si($r,Cn){this.id=li++,this.fragId=$r,this.vertId=Cn,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,dn.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Kn($r,Cn,ei){var Ui,Hn,Ri=Jn(vi,$r.fragId),Mi=Jn(Qi,$r.vertId),oa=$r.program=Wt.createProgram();if(Wt.attachShader(oa,Ri),Wt.attachShader(oa,Mi),ei)for(Ui=0;Ui<ei.length;++Ui){var kn=ei[Ui];Wt.bindAttribLocation(oa,kn[0],kn[1])}Wt.linkProgram(oa),ot.linkError(Wt,oa,ke.str($r.fragId),ke.str($r.vertId),Cn);var Un=Wt.getProgramParameter(oa,ga);dn.profile&&($r.stats.uniformsCount=Un);var Wi=$r.uniforms;for(Ui=0;Ui<Un;++Ui)if(Hn=Wt.getActiveUniform(oa,Ui),Hn)if(Hn.size>1)for(var Si=0;Si<Hn.size;++Si){var Qn=Hn.name.replace("[0]","["+Si+"]");Zn(Wi,new On(Qn,ke.id(Qn),Wt.getUniformLocation(oa,Qn),Hn))}else Zn(Wi,new On(Hn.name,ke.id(Hn.name),Wt.getUniformLocation(oa,Hn.name),Hn));var mi=Wt.getProgramParameter(oa,Pa);dn.profile&&($r.stats.attributesCount=mi);var Ii=$r.attributes;for(Ui=0;Ui<mi;++Ui)Hn=Wt.getActiveAttrib(oa,Ui),Hn&&Zn(Ii,new On(Hn.name,ke.id(Hn.name),Wt.getAttribLocation(oa,Hn.name),Hn))}dn.profile&&(fr.getMaxUniformsCount=function(){var $r=0;return ui.forEach(function(Cn){Cn.stats.uniformsCount>$r&&($r=Cn.stats.uniformsCount)}),$r},fr.getMaxAttributesCount=function(){var $r=0;return ui.forEach(function(Cn){Cn.stats.attributesCount>$r&&($r=Cn.stats.attributesCount)}),$r});function ni(){_n={},vn={};for(var $r=0;$r<ui.length;++$r)Kn(ui[$r],null,ui[$r].attributes.map(function(Cn){return[Cn.location,Cn.name]}))}return{clear:function(){var $r=Wt.deleteShader.bind(Wt);Me(_n).forEach($r),_n={},Me(vn).forEach($r),vn={},ui.forEach(function(Cn){Wt.deleteProgram(Cn.program)}),ui.length=0,oi={},fr.shaderCount=0},program:function($r,Cn,ei,Ui){ot.command($r>=0,"missing vertex shader",ei),ot.command(Cn>=0,"missing fragment shader",ei);var Hn=oi[Cn];Hn||(Hn=oi[Cn]={});var Ri=Hn[$r];if(Ri&&(Ri.refCount++,!Ui))return Ri;var Mi=new si(Cn,$r);return fr.shaderCount++,Kn(Mi,ei,Ui),Ri||(Hn[$r]=Mi),ui.push(Mi),c(Mi,{destroy:function(){if(Mi.refCount--,Mi.refCount<=0){Wt.deleteProgram(Mi.program);var oa=ui.indexOf(Mi);ui.splice(oa,1),fr.shaderCount--}Hn[Mi.vertId].refCount<=0&&(Wt.deleteShader(vn[Mi.vertId]),delete vn[Mi.vertId],delete oi[Mi.fragId][Mi.vertId]),Object.keys(oi[Mi.fragId]).length||(Wt.deleteShader(_n[Mi.fragId]),delete _n[Mi.fragId],delete oi[Mi.fragId])}})},restore:ni,shader:Jn,frag:-1,vert:-1}}var La=6408,So=5121,Os=3333,ls=5126;function rs(Wt,ke,fr,dn,_n,vn,On){function Zn(ui){var li;ke.next===null?(ot(_n.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),li=So):(ot(ke.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),li=ke.next.colorAttachments[0].texture._texture.type,ot.optional(function(){vn.oes_texture_float?(ot(li===So||li===ls,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),li===ls&&ot(On.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ot(li===So,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var si=0,Kn=0,ni=dn.framebufferWidth,$r=dn.framebufferHeight,Cn=null;t(ui)?Cn=ui:ui&&(ot.type(ui,"object","invalid arguments to regl.read()"),si=ui.x|0,Kn=ui.y|0,ot(si>=0&&si<dn.framebufferWidth,"invalid x offset for regl.read"),ot(Kn>=0&&Kn<dn.framebufferHeight,"invalid y offset for regl.read"),ni=(ui.width||dn.framebufferWidth-si)|0,$r=(ui.height||dn.framebufferHeight-Kn)|0,Cn=ui.data||null),Cn&&(li===So?ot(Cn instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):li===ls&&ot(Cn instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ot(ni>0&&ni+si<=dn.framebufferWidth,"invalid width for read pixels"),ot($r>0&&$r+Kn<=dn.framebufferHeight,"invalid height for read pixels"),fr();var ei=ni*$r*4;return Cn||(li===So?Cn=new Uint8Array(ei):li===ls&&(Cn=Cn||new Float32Array(ei))),ot.isTypedArray(Cn,"data buffer for regl.read() must be a typedarray"),ot(Cn.byteLength>=ei,"data buffer for regl.read() too small"),Wt.pixelStorei(Os,4),Wt.readPixels(si,Kn,ni,$r,La,li,Cn),Cn}function Jn(ui){var li;return ke.setFBO({framebuffer:ui.framebuffer},function(){li=Zn(ui)}),li}function oi(ui){return!ui||!("framebuffer"in ui)?Zn(ui):Jn(ui)}return oi}function Us(Wt){return Array.prototype.slice.call(Wt)}function du(Wt){return Us(Wt).join("")}function Wu(){var Wt=0,ke=[],fr=[];function dn(li){for(var si=0;si<fr.length;++si)if(fr[si]===li)return ke[si];var Kn="g"+Wt++;return ke.push(Kn),fr.push(li),Kn}function _n(){var li=[];function si(){li.push.apply(li,Us(arguments))}var Kn=[];function ni(){var $r="v"+Wt++;return Kn.push($r),arguments.length>0&&(li.push($r,"="),li.push.apply(li,Us(arguments)),li.push(";")),$r}return c(si,{def:ni,toString:function(){return du([Kn.length>0?"var "+Kn.join(",")+";":"",du(li)])}})}function vn(){var li=_n(),si=_n(),Kn=li.toString,ni=si.toString;function $r(Cn,ei){si(Cn,ei,"=",li.def(Cn,ei),";")}return c(function(){li.apply(li,Us(arguments))},{def:li.def,entry:li,exit:si,save:$r,set:function(Cn,ei,Ui){$r(Cn,ei),li(Cn,ei,"=",Ui,";")},toString:function(){return Kn()+ni()}})}function On(){var li=du(arguments),si=vn(),Kn=vn(),ni=si.toString,$r=Kn.toString;return c(si,{then:function(){return si.apply(si,Us(arguments)),this},else:function(){return Kn.apply(Kn,Us(arguments)),this},toString:function(){var Cn=$r();return Cn&&(Cn="else{"+Cn+"}"),du(["if(",li,"){",ni(),"}",Cn])}})}var Zn=_n(),Jn={};function oi(li,si){var Kn=[];function ni(){var Hn="a"+Kn.length;return Kn.push(Hn),Hn}si=si||0;for(var $r=0;$r<si;++$r)ni();var Cn=vn(),ei=Cn.toString,Ui=Jn[li]=c(Cn,{arg:ni,toString:function(){return du(["function(",Kn.join(),"){",ei(),"}"])}});return Ui}function ui(){var li=['"use strict";',Zn,"return {"];Object.keys(Jn).forEach(function($r){li.push('"',$r,'":',Jn[$r].toString(),",")}),li.push("}");var si=du(li).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Kn=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",ni=Kn?i.Function.apply(null,ke.concat(si)):Function.apply(null,ke.concat(si));return ni.apply(null,fr)}return{global:Zn,link:dn,block:_n,proc:oi,scope:vn,cond:On,compile:ui}}var wu="xyzw".split(""),fu=5121,ms=1,Iu=2,oe=0,ue=1,Tt=2,Lt=3,se=4,Te=5,Rr=6,un="dither",Wr="blend.enable",bn="blend.color",ai="blend.equation",ra="blend.func",ua="depth.enable",ba="depth.func",Da="depth.range",Ra="depth.mask",no="colorMask",bo="cull.enable",Po="cull.face",Ts="frontFace",$o="lineWidth",eu="polygonOffset.enable",hs="polygonOffset.offset",Mo="sample.alpha",Co="sample.enable",ws="sample.coverage",Xs="stencil.enable",Cs="stencil.mask",xu="stencil.func",Eu="stencil.opFront",Gu="stencil.opBack",qu="scissor.enable",Ru="scissor.box",Bu="viewport",Yu="profile",ku="framebuffer",vl="vert",dl="frag",nl="elements",il="primitive",tl="count",Ol="offset",Tl="instances",pl="vao",Zl="Width",Wl="Height",sl=ku+Zl,ul=ku+Wl,Hf=Bu+Zl,Yf=Bu+Wl,Gl="drawingBuffer",hf=Gl+Zl,vf=Gl+Wl,Xf=[ra,ai,xu,Eu,Gu,ws,Bu,Ru,hs],ll=34962,Vl=34963,df=35632,Hl=35633,pf=3553,Kf=34067,gf=2884,$f=3042,Qf=3024,Jf=2960,mf=2929,qf=3089,yf=32823,xf=32926,Ef=32928,wl=5126,Il=35664,Ll=35665,Dl=35666,Yl=5124,Rl=35667,Nl=35668,gl=35669,Xl=35670,Fl=35671,ml=35672,yl=35673,fl=35674,cl=35675,xl=35676,El=35678,Sl=35680,Kl=4,bl=1028,al=1029,Sf=2304,$l=2305,tc=32775,ec=32776,rc=519,el=7680,bf=0,Cf=1,Mf=32774,nc=513,Af=36160,ic=36064,Vu={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pf=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ol={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xu={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ql={frag:df,vert:Hl},Bl={cw:Sf,ccw:$l};function Cl(Wt){return Array.isArray(Wt)||t(Wt)||Ce(Wt)}function hl(Wt){return Wt.sort(function(ke,fr){return ke===Bu?-1:fr===Bu?1:ke<fr?-1:1})}function Ks(Wt,ke,fr,dn){this.thisDep=Wt,this.contextDep=ke,this.propDep=fr,this.append=dn}function Ku(Wt){return Wt&&!(Wt.thisDep||Wt.contextDep||Wt.propDep)}function Is(Wt){return new Ks(!1,!1,!1,Wt)}function Lu(Wt,ke){var fr=Wt.type;if(fr===oe){var dn=Wt.data.length;return new Ks(!0,dn>=1,dn>=2,ke)}else if(fr===se){var _n=Wt.data;return new Ks(_n.thisDep,_n.contextDep,_n.propDep,ke)}else{if(fr===Te)return new Ks(!1,!1,!1,ke);if(fr===Rr){for(var vn=!1,On=!1,Zn=!1,Jn=0;Jn<Wt.data.length;++Jn){var oi=Wt.data[Jn];if(oi.type===ue)Zn=!0;else if(oi.type===Tt)On=!0;else if(oi.type===Lt)vn=!0;else if(oi.type===oe){vn=!0;var ui=oi.data;ui>=1&&(On=!0),ui>=2&&(Zn=!0)}else oi.type===se&&(vn=vn||oi.data.thisDep,On=On||oi.data.contextDep,Zn=Zn||oi.data.propDep)}return new Ks(vn,On,Zn,ke)}else return new Ks(fr===Lt,fr===Tt,fr===ue,ke)}}var Of=new Ks(!1,!1,!1,function(){});function ac(Wt,ke,fr,dn,_n,vn,On,Zn,Jn,oi,ui,li,si,Kn,ni){var $r=oi.Record,Cn={add:32774,subtract:32778,"reverse subtract":32779};fr.ext_blend_minmax&&(Cn.min=tc,Cn.max=ec);var ei=fr.angle_instanced_arrays,Ui=fr.webgl_draw_buffers,Hn=fr.oes_vertex_array_object,Ri={dirty:!0,profile:ni.profile},Mi={},oa=[],kn={},Un={};function Wi(Ke){return Ke.replace(".","_")}function Si(Ke,Pe,Cr){var Qr=Wi(Ke);oa.push(Ke),Mi[Qr]=Ri[Qr]=!!Cr,kn[Qr]=Pe}function Qn(Ke,Pe,Cr){var Qr=Wi(Ke);oa.push(Ke),Array.isArray(Cr)?(Ri[Qr]=Cr.slice(),Mi[Qr]=Cr.slice()):Ri[Qr]=Mi[Qr]=Cr,Un[Qr]=Pe}Si(un,Qf),Si(Wr,$f),Qn(bn,"blendColor",[0,0,0,0]),Qn(ai,"blendEquationSeparate",[Mf,Mf]),Qn(ra,"blendFuncSeparate",[Cf,bf,Cf,bf]),Si(ua,mf,!0),Qn(ba,"depthFunc",nc),Qn(Da,"depthRange",[0,1]),Qn(Ra,"depthMask",!0),Qn(no,no,[!0,!0,!0,!0]),Si(bo,gf),Qn(Po,"cullFace",al),Qn(Ts,Ts,$l),Qn($o,$o,1),Si(eu,yf),Qn(hs,"polygonOffset",[0,0]),Si(Mo,xf),Si(Co,Ef),Qn(ws,"sampleCoverage",[1,!1]),Si(Xs,Jf),Qn(Cs,"stencilMask",-1),Qn(xu,"stencilFunc",[rc,0,-1]),Qn(Eu,"stencilOpSeparate",[bl,el,el,el]),Qn(Gu,"stencilOpSeparate",[al,el,el,el]),Si(qu,qf),Qn(Ru,"scissor",[0,0,Wt.drawingBufferWidth,Wt.drawingBufferHeight]),Qn(Bu,Bu,[0,0,Wt.drawingBufferWidth,Wt.drawingBufferHeight]);var mi={gl:Wt,context:si,strings:ke,next:Mi,current:Ri,draw:li,elements:vn,buffer:_n,shader:ui,attributes:oi.state,vao:oi,uniforms:Jn,framebuffer:Zn,extensions:fr,timer:Kn,isBufferArgs:Cl},Ii={primTypes:Pn,compareFuncs:ol,blendFuncs:Vu,blendEquations:Cn,stencilOps:Xu,glTypes:pe,orientationType:Bl};ot.optional(function(){mi.isArrayLike=so}),Ui&&(Ii.backBuffer=[al],Ii.drawBuffer=ar(dn.maxDrawbuffers,function(Ke){return Ke===0?[0]:ar(Ke,function(Pe){return ic+Pe})}));var Na=0;function xa(){var Ke=Wu(),Pe=Ke.link,Cr=Ke.global;Ke.id=Na++,Ke.batchId="0";var Qr=Pe(mi),mn=Ke.shared={props:"a0"};Object.keys(mi).forEach(function(Er){mn[Er]=Cr.def(Qr,".",Er)}),ot.optional(function(){Ke.CHECK=Pe(ot),Ke.commandStr=ot.guessCommand(),Ke.command=Pe(Ke.commandStr),Ke.assert=function(Er,qe,Jr){Er("if(!(",qe,"))",this.CHECK,".commandRaise(",Pe(Jr),",",this.command,");")},Ii.invalidBlendCombinations=Pf});var Lr=Ke.next={},Or=Ke.current={};Object.keys(Un).forEach(function(Er){Array.isArray(Ri[Er])&&(Lr[Er]=Cr.def(mn.next,".",Er),Or[Er]=Cr.def(mn.current,".",Er))});var Nr=Ke.constants={};Object.keys(Ii).forEach(function(Er){Nr[Er]=Cr.def(JSON.stringify(Ii[Er]))}),Ke.invoke=function(Er,qe){switch(qe.type){case oe:var Jr=["this",mn.context,mn.props,Ke.batchId];return Er.def(Pe(qe.data),".call(",Jr.slice(0,Math.max(qe.data.length+1,4)),")");case ue:return Er.def(mn.props,qe.data);case Tt:return Er.def(mn.context,qe.data);case Lt:return Er.def("this",qe.data);case se:return qe.data.append(Ke,Er),qe.data.ref;case Te:return qe.data.toString();case Rr:return qe.data.map(function(sn){return Ke.invoke(Er,sn)})}},Ke.attribCache={};var Ze={};return Ke.scopeAttrib=function(Er){var qe=ke.id(Er);if(qe in Ze)return Ze[qe];var Jr=oi.scope[qe];Jr||(Jr=oi.scope[qe]=new $r);var sn=Ze[qe]=Pe(Jr);return sn},Ke}function wi(Ke){var Pe=Ke.static,Cr=Ke.dynamic,Qr;if(Yu in Pe){var mn=!!Pe[Yu];Qr=Is(function(Or,Nr){return mn}),Qr.enable=mn}else if(Yu in Cr){var Lr=Cr[Yu];Qr=Lu(Lr,function(Or,Nr){return Or.invoke(Nr,Lr)})}return Qr}function Fi(Ke,Pe){var Cr=Ke.static,Qr=Ke.dynamic;if(ku in Cr){var mn=Cr[ku];return mn?(mn=Zn.getFramebuffer(mn),ot.command(mn,"invalid framebuffer object"),Is(function(Or,Nr){var Ze=Or.link(mn),Er=Or.shared;Nr.set(Er.framebuffer,".next",Ze);var qe=Er.context;return Nr.set(qe,"."+sl,Ze+".width"),Nr.set(qe,"."+ul,Ze+".height"),Ze})):Is(function(Or,Nr){var Ze=Or.shared;Nr.set(Ze.framebuffer,".next","null");var Er=Ze.context;return Nr.set(Er,"."+sl,Er+"."+hf),Nr.set(Er,"."+ul,Er+"."+vf),"null"})}else if(ku in Qr){var Lr=Qr[ku];return Lu(Lr,function(Or,Nr){var Ze=Or.invoke(Nr,Lr),Er=Or.shared,qe=Er.framebuffer,Jr=Nr.def(qe,".getFramebuffer(",Ze,")");ot.optional(function(){Or.assert(Nr,"!"+Ze+"||"+Jr,"invalid framebuffer object")}),Nr.set(qe,".next",Jr);var sn=Er.context;return Nr.set(sn,"."+sl,Jr+"?"+Jr+".width:"+sn+"."+hf),Nr.set(sn,"."+ul,Jr+"?"+Jr+".height:"+sn+"."+vf),Jr})}else return null}function Ca(Ke,Pe,Cr){var Qr=Ke.static,mn=Ke.dynamic;function Lr(Ze){if(Ze in Qr){var Er=Qr[Ze];ot.commandType(Er,"object","invalid "+Ze,Cr.commandStr);var qe=!0,Jr=Er.x|0,sn=Er.y|0,Vn,yi;return"width"in Er?(Vn=Er.width|0,ot.command(Vn>=0,"invalid "+Ze,Cr.commandStr)):qe=!1,"height"in Er?(yi=Er.height|0,ot.command(yi>=0,"invalid "+Ze,Cr.commandStr)):qe=!1,new Ks(!qe&&Pe&&Pe.thisDep,!qe&&Pe&&Pe.contextDep,!qe&&Pe&&Pe.propDep,function(di,Xi){var _i=di.shared.context,Gi=Vn;"width"in Er||(Gi=Xi.def(_i,".",sl,"-",Jr));var Vi=yi;return"height"in Er||(Vi=Xi.def(_i,".",ul,"-",sn)),[Jr,sn,Gi,Vi]})}else if(Ze in mn){var xi=mn[Ze],Pi=Lu(xi,function(di,Xi){var _i=di.invoke(Xi,xi);ot.optional(function(){di.assert(Xi,_i+"&&typeof "+_i+'==="object"',"invalid "+Ze)});var Gi=di.shared.context,Vi=Xi.def(_i,".x|0"),Hi=Xi.def(_i,".y|0"),ia=Xi.def('"width" in ',_i,"?",_i,".width|0:","(",Gi,".",sl,"-",Vi,")"),Uo=Xi.def('"height" in ',_i,"?",_i,".height|0:","(",Gi,".",ul,"-",Hi,")");return ot.optional(function(){di.assert(Xi,ia+">=0&&"+Uo+">=0","invalid "+Ze)}),[Vi,Hi,ia,Uo]});return Pe&&(Pi.thisDep=Pi.thisDep||Pe.thisDep,Pi.contextDep=Pi.contextDep||Pe.contextDep,Pi.propDep=Pi.propDep||Pe.propDep),Pi}else return Pe?new Ks(Pe.thisDep,Pe.contextDep,Pe.propDep,function(di,Xi){var _i=di.shared.context;return[0,0,Xi.def(_i,".",sl),Xi.def(_i,".",ul)]}):null}var Or=Lr(Bu);if(Or){var Nr=Or;Or=new Ks(Or.thisDep,Or.contextDep,Or.propDep,function(Ze,Er){var qe=Nr.append(Ze,Er),Jr=Ze.shared.context;return Er.set(Jr,"."+Hf,qe[2]),Er.set(Jr,"."+Yf,qe[3]),qe})}return{viewport:Or,scissor_box:Lr(Ru)}}function wa(Ke,Pe){var Cr=Ke.static,Qr=typeof Cr[dl]=="string"&&typeof Cr[vl]=="string";if(Qr){if(Object.keys(Pe.dynamic).length>0)return null;var mn=Pe.static,Lr=Object.keys(mn);if(Lr.length>0&&typeof mn[Lr[0]]=="number"){for(var Or=[],Nr=0;Nr<Lr.length;++Nr)ot(typeof mn[Lr[Nr]]=="number","must specify all vertex attribute locations when using vaos"),Or.push([mn[Lr[Nr]]|0,Lr[Nr]]);return Or}}return null}function Ja(Ke,Pe,Cr){var Qr=Ke.static,mn=Ke.dynamic;function Lr(qe){if(qe in Qr){var Jr=ke.id(Qr[qe]);ot.optional(function(){ui.shader(Ql[qe],Jr,ot.guessCommand())});var sn=Is(function(){return Jr});return sn.id=Jr,sn}else if(qe in mn){var Vn=mn[qe];return Lu(Vn,function(yi,xi){var Pi=yi.invoke(xi,Vn),di=xi.def(yi.shared.strings,".id(",Pi,")");return ot.optional(function(){xi(yi.shared.shader,".shader(",Ql[qe],",",di,",",yi.command,");")}),di})}return null}var Or=Lr(dl),Nr=Lr(vl),Ze=null,Er;return Ku(Or)&&Ku(Nr)?(Ze=ui.program(Nr.id,Or.id,null,Cr),Er=Is(function(qe,Jr){return qe.link(Ze)})):Er=new Ks(Or&&Or.thisDep||Nr&&Nr.thisDep,Or&&Or.contextDep||Nr&&Nr.contextDep,Or&&Or.propDep||Nr&&Nr.propDep,function(qe,Jr){var sn=qe.shared.shader,Vn;Or?Vn=Or.append(qe,Jr):Vn=Jr.def(sn,".",dl);var yi;Nr?yi=Nr.append(qe,Jr):yi=Jr.def(sn,".",vl);var xi=sn+".program("+yi+","+Vn;return ot.optional(function(){xi+=","+qe.command}),Jr.def(xi+")")}),{frag:Or,vert:Nr,progVar:Er,program:Ze}}function vs(Ke,Pe){var Cr=Ke.static,Qr=Ke.dynamic,mn={},Lr=!1;function Or(){if(pl in Cr){var Xi=Cr[pl];return Xi!==null&&oi.getVAO(Xi)===null&&(Xi=oi.createVAO(Xi)),Lr=!0,mn.vao=Xi,Is(function(Gi){var Vi=oi.getVAO(Xi);return Vi?Gi.link(Vi):"null"})}else if(pl in Qr){Lr=!0;var _i=Qr[pl];return Lu(_i,function(Gi,Vi){var Hi=Gi.invoke(Vi,_i);return Vi.def(Gi.shared.vao+".getVAO("+Hi+")")})}return null}var Nr=Or(),Ze=!1;function Er(){if(nl in Cr){var Xi=Cr[nl];if(mn.elements=Xi,Cl(Xi)){var _i=mn.elements=vn.create(Xi,!0);Xi=vn.getElements(_i),Ze=!0}else Xi&&(Xi=vn.getElements(Xi),Ze=!0,ot.command(Xi,"invalid elements",Pe.commandStr));var Gi=Is(function(Hi,ia){if(Xi){var Uo=Hi.link(Xi);return Hi.ELEMENTS=Uo,Uo}return Hi.ELEMENTS=null,null});return Gi.value=Xi,Gi}else if(nl in Qr){Ze=!0;var Vi=Qr[nl];return Lu(Vi,function(Hi,ia){var Uo=Hi.shared,As=Uo.isBufferArgs,rl=Uo.elements,Hu=Hi.invoke(ia,Vi),$u=ia.def("null"),Du=ia.def(As,"(",Hu,")"),Fu=Hi.cond(Du).then($u,"=",rl,".createStream(",Hu,");").else($u,"=",rl,".getElements(",Hu,");");return ot.optional(function(){Hi.assert(Fu.else,"!"+Hu+"||"+$u,"invalid elements")}),ia.entry(Fu),ia.exit(Hi.cond(Du).then(rl,".destroyStream(",$u,");")),Hi.ELEMENTS=$u,$u})}else if(Lr)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.elements+".getElements("+Hi.shared.vao+".currentVAO.elements):null")});return null}var qe=Er();function Jr(){if(il in Cr){var Xi=Cr[il];return mn.primitive=Xi,ot.commandParameter(Xi,Pn,"invalid primitve",Pe.commandStr),Is(function(Gi,Vi){return Pn[Xi]})}else if(il in Qr){var _i=Qr[il];return Lu(_i,function(Gi,Vi){var Hi=Gi.constants.primTypes,ia=Gi.invoke(Vi,_i);return ot.optional(function(){Gi.assert(Vi,ia+" in "+Hi,"invalid primitive, must be one of "+Object.keys(Pn))}),Vi.def(Hi,"[",ia,"]")})}else{if(Ze)return Ku(qe)?qe.value?Is(function(Gi,Vi){return Vi.def(Gi.ELEMENTS,".primType")}):Is(function(){return Kl}):new Ks(qe.thisDep,qe.contextDep,qe.propDep,function(Gi,Vi){var Hi=Gi.ELEMENTS;return Vi.def(Hi,"?",Hi,".primType:",Kl)});if(Lr)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Gi,Vi){return Vi.def(Gi.shared.vao+".currentVAO?"+Gi.shared.vao+".currentVAO.primitive:"+Kl)})}return null}function sn(Xi,_i){if(Xi in Cr){var Gi=Cr[Xi]|0;return _i?mn.offset=Gi:mn.instances=Gi,ot.command(!_i||Gi>=0,"invalid "+Xi,Pe.commandStr),Is(function(Hi,ia){return _i&&(Hi.OFFSET=Gi),Gi})}else if(Xi in Qr){var Vi=Qr[Xi];return Lu(Vi,function(Hi,ia){var Uo=Hi.invoke(ia,Vi);return _i&&(Hi.OFFSET=Uo,ot.optional(function(){Hi.assert(ia,Uo+">=0","invalid "+Xi)})),Uo})}else if(_i){if(Ze)return Is(function(Hi,ia){return Hi.OFFSET=0,0});if(Lr)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.vao+".currentVAO.offset:0")})}else if(Lr)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.vao+".currentVAO.instances:-1")});return null}var Vn=sn(Ol,!0);function yi(){if(tl in Cr){var Xi=Cr[tl]|0;return mn.count=Xi,ot.command(typeof Xi=="number"&&Xi>=0,"invalid vertex count",Pe.commandStr),Is(function(){return Xi})}else if(tl in Qr){var _i=Qr[tl];return Lu(_i,function(ia,Uo){var As=ia.invoke(Uo,_i);return ot.optional(function(){ia.assert(Uo,"typeof "+As+'==="number"&&'+As+">=0&&"+As+"===("+As+"|0)","invalid vertex count")}),As})}else if(Ze)if(Ku(qe)){if(qe)return Vn?new Ks(Vn.thisDep,Vn.contextDep,Vn.propDep,function(ia,Uo){var As=Uo.def(ia.ELEMENTS,".vertCount-",ia.OFFSET);return ot.optional(function(){ia.assert(Uo,As+">=0","invalid vertex offset/element buffer too small")}),As}):Is(function(ia,Uo){return Uo.def(ia.ELEMENTS,".vertCount")});var Gi=Is(function(){return-1});return ot.optional(function(){Gi.MISSING=!0}),Gi}else{var Vi=new Ks(qe.thisDep||Vn.thisDep,qe.contextDep||Vn.contextDep,qe.propDep||Vn.propDep,function(ia,Uo){var As=ia.ELEMENTS;return ia.OFFSET?Uo.def(As,"?",As,".vertCount-",ia.OFFSET,":-1"):Uo.def(As,"?",As,".vertCount:-1")});return ot.optional(function(){Vi.DYNAMIC=!0}),Vi}else if(Lr){var Hi=new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(ia,Uo){return Uo.def(ia.shared.vao,".currentVAO?",ia.shared.vao,".currentVAO.count:-1")});return Hi}return null}var xi=Jr(),Pi=yi(),di=sn(Tl,!1);return{elements:qe,primitive:xi,count:Pi,instances:di,offset:Vn,vao:Nr,vaoActive:Lr,elementsActive:Ze,static:mn}}function ys(Ke,Pe){var Cr=Ke.static,Qr=Ke.dynamic,mn={};return oa.forEach(function(Lr){var Or=Wi(Lr);function Nr(Ze,Er){if(Lr in Cr){var qe=Ze(Cr[Lr]);mn[Or]=Is(function(){return qe})}else if(Lr in Qr){var Jr=Qr[Lr];mn[Or]=Lu(Jr,function(sn,Vn){return Er(sn,Vn,sn.invoke(Vn,Jr))})}}switch(Lr){case bo:case Wr:case un:case Xs:case ua:case qu:case eu:case Mo:case Co:case Ra:return Nr(function(Ze){return ot.commandType(Ze,"boolean",Lr,Pe.commandStr),Ze},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,"typeof "+qe+'==="boolean"',"invalid flag "+Lr,Ze.commandStr)}),qe});case ba:return Nr(function(Ze){return ot.commandParameter(Ze,ol,"invalid "+Lr,Pe.commandStr),ol[Ze]},function(Ze,Er,qe){var Jr=Ze.constants.compareFuncs;return ot.optional(function(){Ze.assert(Er,qe+" in "+Jr,"invalid "+Lr+", must be one of "+Object.keys(ol))}),Er.def(Jr,"[",qe,"]")});case Da:return Nr(function(Ze){return ot.command(so(Ze)&&Ze.length===2&&typeof Ze[0]=="number"&&typeof Ze[1]=="number"&&Ze[0]<=Ze[1],"depth range is 2d array",Pe.commandStr),Ze},function(Ze,Er,qe){ot.optional(function(){Ze.assert(Er,Ze.shared.isArrayLike+"("+qe+")&&"+qe+".length===2&&typeof "+qe+'[0]==="number"&&typeof '+qe+'[1]==="number"&&'+qe+"[0]<="+qe+"[1]","depth range must be a 2d array")});var Jr=Er.def("+",qe,"[0]"),sn=Er.def("+",qe,"[1]");return[Jr,sn]});case ra:return Nr(function(Ze){ot.commandType(Ze,"object","blend.func",Pe.commandStr);var Er="srcRGB"in Ze?Ze.srcRGB:Ze.src,qe="srcAlpha"in Ze?Ze.srcAlpha:Ze.src,Jr="dstRGB"in Ze?Ze.dstRGB:Ze.dst,sn="dstAlpha"in Ze?Ze.dstAlpha:Ze.dst;return ot.commandParameter(Er,Vu,Or+".srcRGB",Pe.commandStr),ot.commandParameter(qe,Vu,Or+".srcAlpha",Pe.commandStr),ot.commandParameter(Jr,Vu,Or+".dstRGB",Pe.commandStr),ot.commandParameter(sn,Vu,Or+".dstAlpha",Pe.commandStr),ot.command(Pf.indexOf(Er+", "+Jr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Er+", "+Jr+")",Pe.commandStr),[Vu[Er],Vu[Jr],Vu[qe],Vu[sn]]},function(Ze,Er,qe){var Jr=Ze.constants.blendFuncs;ot.optional(function(){Ze.assert(Er,qe+"&&typeof "+qe+'==="object"',"invalid blend func, must be an object")});function sn(_i,Gi){var Vi=Er.def('"',_i,Gi,'" in ',qe,"?",qe,".",_i,Gi,":",qe,".",_i);return ot.optional(function(){Ze.assert(Er,Vi+" in "+Jr,"invalid "+Lr+"."+_i+Gi+", must be one of "+Object.keys(Vu))}),Vi}var Vn=sn("src","RGB"),yi=sn("dst","RGB");ot.optional(function(){var _i=Ze.constants.invalidBlendCombinations;Ze.assert(Er,_i+".indexOf("+Vn+'+", "+'+yi+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var xi=Er.def(Jr,"[",Vn,"]"),Pi=Er.def(Jr,"[",sn("src","Alpha"),"]"),di=Er.def(Jr,"[",yi,"]"),Xi=Er.def(Jr,"[",sn("dst","Alpha"),"]");return[xi,di,Pi,Xi]});case ai:return Nr(function(Ze){if(typeof Ze=="string")return ot.commandParameter(Ze,Cn,"invalid "+Lr,Pe.commandStr),[Cn[Ze],Cn[Ze]];if(typeof Ze=="object")return ot.commandParameter(Ze.rgb,Cn,Lr+".rgb",Pe.commandStr),ot.commandParameter(Ze.alpha,Cn,Lr+".alpha",Pe.commandStr),[Cn[Ze.rgb],Cn[Ze.alpha]];ot.commandRaise("invalid blend.equation",Pe.commandStr)},function(Ze,Er,qe){var Jr=Ze.constants.blendEquations,sn=Er.def(),Vn=Er.def(),yi=Ze.cond("typeof ",qe,'==="string"');return ot.optional(function(){function xi(Pi,di,Xi){Ze.assert(Pi,Xi+" in "+Jr,"invalid "+di+", must be one of "+Object.keys(Cn))}xi(yi.then,Lr,qe),Ze.assert(yi.else,qe+"&&typeof "+qe+'==="object"',"invalid "+Lr),xi(yi.else,Lr+".rgb",qe+".rgb"),xi(yi.else,Lr+".alpha",qe+".alpha")}),yi.then(sn,"=",Vn,"=",Jr,"[",qe,"];"),yi.else(sn,"=",Jr,"[",qe,".rgb];",Vn,"=",Jr,"[",qe,".alpha];"),Er(yi),[sn,Vn]});case bn:return Nr(function(Ze){return ot.command(so(Ze)&&Ze.length===4,"blend.color must be a 4d array",Pe.commandStr),ar(4,function(Er){return+Ze[Er]})},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,Ze.shared.isArrayLike+"("+qe+")&&"+qe+".length===4","blend.color must be a 4d array")}),ar(4,function(Jr){return Er.def("+",qe,"[",Jr,"]")})});case Cs:return Nr(function(Ze){return ot.commandType(Ze,"number",Or,Pe.commandStr),Ze|0},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,"typeof "+qe+'==="number"',"invalid stencil.mask")}),Er.def(qe,"|0")});case xu:return Nr(function(Ze){ot.commandType(Ze,"object",Or,Pe.commandStr);var Er=Ze.cmp||"keep",qe=Ze.ref||0,Jr="mask"in Ze?Ze.mask:-1;return ot.commandParameter(Er,ol,Lr+".cmp",Pe.commandStr),ot.commandType(qe,"number",Lr+".ref",Pe.commandStr),ot.commandType(Jr,"number",Lr+".mask",Pe.commandStr),[ol[Er],qe,Jr]},function(Ze,Er,qe){var Jr=Ze.constants.compareFuncs;ot.optional(function(){function xi(){Ze.assert(Er,Array.prototype.join.call(arguments,""),"invalid stencil.func")}xi(qe+"&&typeof ",qe,'==="object"'),xi('!("cmp" in ',qe,")||(",qe,".cmp in ",Jr,")")});var sn=Er.def('"cmp" in ',qe,"?",Jr,"[",qe,".cmp]",":",el),Vn=Er.def(qe,".ref|0"),yi=Er.def('"mask" in ',qe,"?",qe,".mask|0:-1");return[sn,Vn,yi]});case Eu:case Gu:return Nr(function(Ze){ot.commandType(Ze,"object",Or,Pe.commandStr);var Er=Ze.fail||"keep",qe=Ze.zfail||"keep",Jr=Ze.zpass||"keep";return ot.commandParameter(Er,Xu,Lr+".fail",Pe.commandStr),ot.commandParameter(qe,Xu,Lr+".zfail",Pe.commandStr),ot.commandParameter(Jr,Xu,Lr+".zpass",Pe.commandStr),[Lr===Gu?al:bl,Xu[Er],Xu[qe],Xu[Jr]]},function(Ze,Er,qe){var Jr=Ze.constants.stencilOps;ot.optional(function(){Ze.assert(Er,qe+"&&typeof "+qe+'==="object"',"invalid "+Lr)});function sn(Vn){return ot.optional(function(){Ze.assert(Er,'!("'+Vn+'" in '+qe+")||("+qe+"."+Vn+" in "+Jr+")","invalid "+Lr+"."+Vn+", must be one of "+Object.keys(Xu))}),Er.def('"',Vn,'" in ',qe,"?",Jr,"[",qe,".",Vn,"]:",el)}return[Lr===Gu?al:bl,sn("fail"),sn("zfail"),sn("zpass")]});case hs:return Nr(function(Ze){ot.commandType(Ze,"object",Or,Pe.commandStr);var Er=Ze.factor|0,qe=Ze.units|0;return ot.commandType(Er,"number",Or+".factor",Pe.commandStr),ot.commandType(qe,"number",Or+".units",Pe.commandStr),[Er,qe]},function(Ze,Er,qe){ot.optional(function(){Ze.assert(Er,qe+"&&typeof "+qe+'==="object"',"invalid "+Lr)});var Jr=Er.def(qe,".factor|0"),sn=Er.def(qe,".units|0");return[Jr,sn]});case Po:return Nr(function(Ze){var Er=0;return Ze==="front"?Er=bl:Ze==="back"&&(Er=al),ot.command(!!Er,Or,Pe.commandStr),Er},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,qe+'==="front"||'+qe+'==="back"',"invalid cull.face")}),Er.def(qe,'==="front"?',bl,":",al)});case $o:return Nr(function(Ze){return ot.command(typeof Ze=="number"&&Ze>=dn.lineWidthDims[0]&&Ze<=dn.lineWidthDims[1],"invalid line width, must be a positive number between "+dn.lineWidthDims[0]+" and "+dn.lineWidthDims[1],Pe.commandStr),Ze},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,"typeof "+qe+'==="number"&&'+qe+">="+dn.lineWidthDims[0]+"&&"+qe+"<="+dn.lineWidthDims[1],"invalid line width")}),qe});case Ts:return Nr(function(Ze){return ot.commandParameter(Ze,Bl,Or,Pe.commandStr),Bl[Ze]},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,qe+'==="cw"||'+qe+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Er.def(qe+'==="cw"?'+Sf+":"+$l)});case no:return Nr(function(Ze){return ot.command(so(Ze)&&Ze.length===4,"color.mask must be length 4 array",Pe.commandStr),Ze.map(function(Er){return!!Er})},function(Ze,Er,qe){return ot.optional(function(){Ze.assert(Er,Ze.shared.isArrayLike+"("+qe+")&&"+qe+".length===4","invalid color.mask")}),ar(4,function(Jr){return"!!"+qe+"["+Jr+"]"})});case ws:return Nr(function(Ze){ot.command(typeof Ze=="object"&&Ze,Or,Pe.commandStr);var Er="value"in Ze?Ze.value:1,qe=!!Ze.invert;return ot.command(typeof Er=="number"&&Er>=0&&Er<=1,"sample.coverage.value must be a number between 0 and 1",Pe.commandStr),[Er,qe]},function(Ze,Er,qe){ot.optional(function(){Ze.assert(Er,qe+"&&typeof "+qe+'==="object"',"invalid sample.coverage")});var Jr=Er.def('"value" in ',qe,"?+",qe,".value:1"),sn=Er.def("!!",qe,".invert");return[Jr,sn]})}}),mn}function Ya(Ke,Pe){var Cr=Ke.static,Qr=Ke.dynamic,mn={};return Object.keys(Cr).forEach(function(Lr){var Or=Cr[Lr],Nr;if(typeof Or=="number"||typeof Or=="boolean")Nr=Is(function(){return Or});else if(typeof Or=="function"){var Ze=Or._reglType;Ze==="texture2d"||Ze==="textureCube"?Nr=Is(function(Er){return Er.link(Or)}):Ze==="framebuffer"||Ze==="framebufferCube"?(ot.command(Or.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Lr+'"',Pe.commandStr),Nr=Is(function(Er){return Er.link(Or.color[0])})):ot.commandRaise('invalid data for uniform "'+Lr+'"',Pe.commandStr)}else so(Or)?Nr=Is(function(Er){var qe=Er.global.def("[",ar(Or.length,function(Jr){return ot.command(typeof Or[Jr]=="number"||typeof Or[Jr]=="boolean","invalid uniform "+Lr,Er.commandStr),Or[Jr]}),"]");return qe}):ot.commandRaise('invalid or missing data for uniform "'+Lr+'"',Pe.commandStr);Nr.value=Or,mn[Lr]=Nr}),Object.keys(Qr).forEach(function(Lr){var Or=Qr[Lr];mn[Lr]=Lu(Or,function(Nr,Ze){return Nr.invoke(Ze,Or)})}),mn}function ru(Ke,Pe){var Cr=Ke.static,Qr=Ke.dynamic,mn={};return Object.keys(Cr).forEach(function(Lr){var Or=Cr[Lr],Nr=ke.id(Lr),Ze=new $r;if(Cl(Or))Ze.state=ms,Ze.buffer=_n.getBuffer(_n.create(Or,ll,!1,!0)),Ze.type=0;else{var Er=_n.getBuffer(Or);if(Er)Ze.state=ms,Ze.buffer=Er,Ze.type=0;else if(ot.command(typeof Or=="object"&&Or,"invalid data for attribute "+Lr,Pe.commandStr),"constant"in Or){var qe=Or.constant;Ze.buffer="null",Ze.state=Iu,typeof qe=="number"?Ze.x=qe:(ot.command(so(qe)&&qe.length>0&&qe.length<=4,"invalid constant for attribute "+Lr,Pe.commandStr),wu.forEach(function(di,Xi){Xi<qe.length&&(Ze[di]=qe[Xi])}))}else{Cl(Or.buffer)?Er=_n.getBuffer(_n.create(Or.buffer,ll,!1,!0)):Er=_n.getBuffer(Or.buffer),ot.command(!!Er,'missing buffer for attribute "'+Lr+'"',Pe.commandStr);var Jr=Or.offset|0;ot.command(Jr>=0,'invalid offset for attribute "'+Lr+'"',Pe.commandStr);var sn=Or.stride|0;ot.command(sn>=0&&sn<256,'invalid stride for attribute "'+Lr+'", must be integer betweeen [0, 255]',Pe.commandStr);var Vn=Or.size|0;ot.command(!("size"in Or)||Vn>0&&Vn<=4,'invalid size for attribute "'+Lr+'", must be 1,2,3,4',Pe.commandStr);var yi=!!Or.normalized,xi=0;"type"in Or&&(ot.commandParameter(Or.type,pe,"invalid type for attribute "+Lr,Pe.commandStr),xi=pe[Or.type]);var Pi=Or.divisor|0;ot.optional(function(){"divisor"in Or&&(ot.command(Pi===0||ei,'cannot specify divisor for attribute "'+Lr+'", instancing not supported',Pe.commandStr),ot.command(Pi>=0,'invalid divisor for attribute "'+Lr+'"',Pe.commandStr));var di=Pe.commandStr,Xi=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Or).forEach(function(_i){ot.command(Xi.indexOf(_i)>=0,'unknown parameter "'+_i+'" for attribute pointer "'+Lr+'" (valid parameters are '+Xi+")",di)})}),Ze.buffer=Er,Ze.state=ms,Ze.size=Vn,Ze.normalized=yi,Ze.type=xi||Er.dtype,Ze.offset=Jr,Ze.stride=sn,Ze.divisor=Pi}}mn[Lr]=Is(function(di,Xi){var _i=di.attribCache;if(Nr in _i)return _i[Nr];var Gi={isStream:!1};return Object.keys(Ze).forEach(function(Vi){Gi[Vi]=Ze[Vi]}),Ze.buffer&&(Gi.buffer=di.link(Ze.buffer),Gi.type=Gi.type||Gi.buffer+".dtype"),_i[Nr]=Gi,Gi})}),Object.keys(Qr).forEach(function(Lr){var Or=Qr[Lr];function Nr(Ze,Er){var qe=Ze.invoke(Er,Or),Jr=Ze.shared,sn=Ze.constants,Vn=Jr.isBufferArgs,yi=Jr.buffer;ot.optional(function(){Ze.assert(Er,qe+"&&(typeof "+qe+'==="object"||typeof '+qe+'==="function")&&('+Vn+"("+qe+")||"+yi+".getBuffer("+qe+")||"+yi+".getBuffer("+qe+".buffer)||"+Vn+"("+qe+'.buffer)||("constant" in '+qe+"&&(typeof "+qe+'.constant==="number"||'+Jr.isArrayLike+"("+qe+".constant))))",'invalid dynamic attribute "'+Lr+'"')});var xi={isStream:Er.def(!1)},Pi=new $r;Pi.state=ms,Object.keys(Pi).forEach(function(Gi){xi[Gi]=Er.def(""+Pi[Gi])});var di=xi.buffer,Xi=xi.type;Er("if(",Vn,"(",qe,")){",xi.isStream,"=true;",di,"=",yi,".createStream(",ll,",",qe,");",Xi,"=",di,".dtype;","}else{",di,"=",yi,".getBuffer(",qe,");","if(",di,"){",Xi,"=",di,".dtype;",'}else if("constant" in ',qe,"){",xi.state,"=",Iu,";","if(typeof "+qe+'.constant === "number"){',xi[wu[0]],"=",qe,".constant;",wu.slice(1).map(function(Gi){return xi[Gi]}).join("="),"=0;","}else{",wu.map(function(Gi,Vi){return xi[Gi]+"="+qe+".constant.length>"+Vi+"?"+qe+".constant["+Vi+"]:0;"}).join(""),"}}else{","if(",Vn,"(",qe,".buffer)){",di,"=",yi,".createStream(",ll,",",qe,".buffer);","}else{",di,"=",yi,".getBuffer(",qe,".buffer);","}",Xi,'="type" in ',qe,"?",sn.glTypes,"[",qe,".type]:",di,".dtype;",xi.normalized,"=!!",qe,".normalized;");function _i(Gi){Er(xi[Gi],"=",qe,".",Gi,"|0;")}return _i("size"),_i("offset"),_i("stride"),_i("divisor"),Er("}}"),Er.exit("if(",xi.isStream,"){",yi,".destroyStream(",di,");","}"),xi}mn[Lr]=Lu(Or,Nr)}),mn}function ao(Ke){var Pe=Ke.static,Cr=Ke.dynamic,Qr={};return Object.keys(Pe).forEach(function(mn){var Lr=Pe[mn];Qr[mn]=Is(function(Or,Nr){return typeof Lr=="number"||typeof Lr=="boolean"?""+Lr:Or.link(Lr)})}),Object.keys(Cr).forEach(function(mn){var Lr=Cr[mn];Qr[mn]=Lu(Lr,function(Or,Nr){return Or.invoke(Nr,Lr)})}),Qr}function Ls(Ke,Pe,Cr,Qr,mn){var Lr=Ke.static,Or=Ke.dynamic;ot.optional(function(){var _i=[ku,vl,dl,nl,il,Ol,tl,Tl,Yu,pl].concat(oa);function Gi(Vi){Object.keys(Vi).forEach(function(Hi){ot.command(_i.indexOf(Hi)>=0,'unknown parameter "'+Hi+'"',mn.commandStr)})}Gi(Lr),Gi(Or)});var Nr=wa(Ke,Pe),Ze=Fi(Ke,mn),Er=Ca(Ke,Ze,mn),qe=vs(Ke,mn),Jr=ys(Ke,mn),sn=Ja(Ke,mn,Nr);function Vn(_i){var Gi=Er[_i];Gi&&(Jr[_i]=Gi)}Vn(Bu),Vn(Wi(Ru));var yi=Object.keys(Jr).length>0,xi={framebuffer:Ze,draw:qe,shader:sn,state:Jr,dirty:yi,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(xi.profile=wi(Ke,mn),xi.uniforms=Ya(Cr,mn),xi.drawVAO=xi.scopeVAO=qe.vao,!xi.drawVAO&&sn.program&&!Nr&&fr.angle_instanced_arrays&&qe.static.elements){var Pi=!0,di=sn.program.attributes.map(function(_i){var Gi=Pe.static[_i];return Pi=Pi&&!!Gi,Gi});if(Pi&&di.length>0){var Xi=oi.getVAO(oi.createVAO({attributes:di,elements:qe.static.elements}));xi.drawVAO=new Ks(null,null,null,function(_i,Gi){return _i.link(Xi)}),xi.useVAO=!0}}return Nr?xi.useVAO=!0:xi.attributes=ru(Pe,mn),xi.context=ao(Qr,mn),xi}function Ms(Ke,Pe,Cr){var Qr=Ke.shared,mn=Qr.context,Lr=Ke.scope();Object.keys(Cr).forEach(function(Or){Pe.save(mn,"."+Or);var Nr=Cr[Or],Ze=Nr.append(Ke,Pe);Array.isArray(Ze)?Lr(mn,".",Or,"=[",Ze.join(),"];"):Lr(mn,".",Or,"=",Ze,";")}),Pe(Lr)}function nu(Ke,Pe,Cr,Qr){var mn=Ke.shared,Lr=mn.gl,Or=mn.framebuffer,Nr;Ui&&(Nr=Pe.def(mn.extensions,".webgl_draw_buffers"));var Ze=Ke.constants,Er=Ze.drawBuffer,qe=Ze.backBuffer,Jr;Cr?Jr=Cr.append(Ke,Pe):Jr=Pe.def(Or,".next"),Qr||Pe("if(",Jr,"!==",Or,".cur){"),Pe("if(",Jr,"){",Lr,".bindFramebuffer(",Af,",",Jr,".framebuffer);"),Ui&&Pe(Nr,".drawBuffersWEBGL(",Er,"[",Jr,".colorAttachments.length]);"),Pe("}else{",Lr,".bindFramebuffer(",Af,",null);"),Ui&&Pe(Nr,".drawBuffersWEBGL(",qe,");"),Pe("}",Or,".cur=",Jr,";"),Qr||Pe("}")}function cu(Ke,Pe,Cr){var Qr=Ke.shared,mn=Qr.gl,Lr=Ke.current,Or=Ke.next,Nr=Qr.current,Ze=Qr.next,Er=Ke.cond(Nr,".dirty");oa.forEach(function(qe){var Jr=Wi(qe);if(!(Jr in Cr.state)){var sn,Vn;if(Jr in Or){sn=Or[Jr],Vn=Lr[Jr];var yi=ar(Ri[Jr].length,function(Pi){return Er.def(sn,"[",Pi,"]")});Er(Ke.cond(yi.map(function(Pi,di){return Pi+"!=="+Vn+"["+di+"]"}).join("||")).then(mn,".",Un[Jr],"(",yi,");",yi.map(function(Pi,di){return Vn+"["+di+"]="+Pi}).join(";"),";"))}else{sn=Er.def(Ze,".",Jr);var xi=Ke.cond(sn,"!==",Nr,".",Jr);Er(xi),Jr in kn?xi(Ke.cond(sn).then(mn,".enable(",kn[Jr],");").else(mn,".disable(",kn[Jr],");"),Nr,".",Jr,"=",sn,";"):xi(mn,".",Un[Jr],"(",sn,");",Nr,".",Jr,"=",sn,";")}}}),Object.keys(Cr.state).length===0&&Er(Nr,".dirty=false;"),Pe(Er)}function $s(Ke,Pe,Cr,Qr){var mn=Ke.shared,Lr=Ke.current,Or=mn.current,Nr=mn.gl;hl(Object.keys(Cr)).forEach(function(Ze){var Er=Cr[Ze];if(!(Qr&&!Qr(Er))){var qe=Er.append(Ke,Pe);if(kn[Ze]){var Jr=kn[Ze];Ku(Er)?qe?Pe(Nr,".enable(",Jr,");"):Pe(Nr,".disable(",Jr,");"):Pe(Ke.cond(qe).then(Nr,".enable(",Jr,");").else(Nr,".disable(",Jr,");")),Pe(Or,".",Ze,"=",qe,";")}else if(so(qe)){var sn=Lr[Ze];Pe(Nr,".",Un[Ze],"(",qe,");",qe.map(function(Vn,yi){return sn+"["+yi+"]="+Vn}).join(";"),";")}else Pe(Nr,".",Un[Ze],"(",qe,");",Or,".",Ze,"=",qe,";")}})}function xs(Ke,Pe){ei&&(Ke.instancing=Pe.def(Ke.shared.extensions,".angle_instanced_arrays"))}function ka(Ke,Pe,Cr,Qr,mn){var Lr=Ke.shared,Or=Ke.stats,Nr=Lr.current,Ze=Lr.timer,Er=Cr.profile;function qe(){var _i=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return _i||typeof performance=="undefined"?"Date.now()":"performance.now()"}var Jr,sn;function Vn(_i){Jr=Pe.def(),_i(Jr,"=",qe(),";"),typeof mn=="string"?_i(Or,".count+=",mn,";"):_i(Or,".count++;"),Kn&&(Qr?(sn=Pe.def(),_i(sn,"=",Ze,".getNumPendingQueries();")):_i(Ze,".beginQuery(",Or,");"))}function yi(_i){_i(Or,".cpuTime+=",qe(),"-",Jr,";"),Kn&&(Qr?_i(Ze,".pushScopeStats(",sn,",",Ze,".getNumPendingQueries(),",Or,");"):_i(Ze,".endQuery();"))}function xi(_i){var Gi=Pe.def(Nr,".profile");Pe(Nr,".profile=",_i,";"),Pe.exit(Nr,".profile=",Gi,";")}var Pi;if(Er){if(Ku(Er)){Er.enable?(Vn(Pe),yi(Pe.exit),xi("true")):xi("false");return}Pi=Er.append(Ke,Pe),xi(Pi)}else Pi=Pe.def(Nr,".profile");var di=Ke.block();Vn(di),Pe("if(",Pi,"){",di,"}");var Xi=Ke.block();yi(Xi),Pe.exit("if(",Pi,"){",Xi,"}")}function hu(Ke,Pe,Cr,Qr,mn){var Lr=Ke.shared;function Or(Ze){switch(Ze){case Il:case Rl:case Fl:return 2;case Ll:case Nl:case ml:return 3;case Dl:case gl:case yl:return 4;default:return 1}}function Nr(Ze,Er,qe){var Jr=Lr.gl,sn=Pe.def(Ze,".location"),Vn=Pe.def(Lr.attributes,"[",sn,"]"),yi=qe.state,xi=qe.buffer,Pi=[qe.x,qe.y,qe.z,qe.w],di=["buffer","normalized","offset","stride"];function Xi(){Pe("if(!",Vn,".buffer){",Jr,".enableVertexAttribArray(",sn,");}");var Gi=qe.type,Vi;if(qe.size?Vi=Pe.def(qe.size,"||",Er):Vi=Er,Pe("if(",Vn,".type!==",Gi,"||",Vn,".size!==",Vi,"||",di.map(function(ia){return Vn+"."+ia+"!=="+qe[ia]}).join("||"),"){",Jr,".bindBuffer(",ll,",",xi,".buffer);",Jr,".vertexAttribPointer(",[sn,Vi,Gi,qe.normalized,qe.stride,qe.offset],");",Vn,".type=",Gi,";",Vn,".size=",Vi,";",di.map(function(ia){return Vn+"."+ia+"="+qe[ia]+";"}).join(""),"}"),ei){var Hi=qe.divisor;Pe("if(",Vn,".divisor!==",Hi,"){",Ke.instancing,".vertexAttribDivisorANGLE(",[sn,Hi],");",Vn,".divisor=",Hi,";}")}}function _i(){Pe("if(",Vn,".buffer){",Jr,".disableVertexAttribArray(",sn,");",Vn,".buffer=null;","}if(",wu.map(function(Gi,Vi){return Vn+"."+Gi+"!=="+Pi[Vi]}).join("||"),"){",Jr,".vertexAttrib4f(",sn,",",Pi,");",wu.map(function(Gi,Vi){return Vn+"."+Gi+"="+Pi[Vi]+";"}).join(""),"}")}yi===ms?Xi():yi===Iu?_i():(Pe("if(",yi,"===",ms,"){"),Xi(),Pe("}else{"),_i(),Pe("}"))}Qr.forEach(function(Ze){var Er=Ze.name,qe=Cr.attributes[Er],Jr;if(qe){if(!mn(qe))return;Jr=qe.append(Ke,Pe)}else{if(!mn(Of))return;var sn=Ke.scopeAttrib(Er);ot.optional(function(){Ke.assert(Pe,sn+".state","missing attribute "+Er)}),Jr={},Object.keys(new $r).forEach(function(Vn){Jr[Vn]=Pe.def(sn,".",Vn)})}Nr(Ke.link(Ze),Or(Ze.info.type),Jr)})}function co(Ke,Pe,Cr,Qr,mn,Lr){for(var Or=Ke.shared,Nr=Or.gl,Ze,Er=0;Er<Qr.length;++Er){var qe=Qr[Er],Jr=qe.name,sn=qe.info.type,Vn=Cr.uniforms[Jr],yi=Ke.link(qe),xi=yi+".location",Pi;if(Vn){if(!mn(Vn))continue;if(Ku(Vn)){var di=Vn.value;if(ot.command(di!==null&&typeof di!="undefined",'missing uniform "'+Jr+'"',Ke.commandStr),sn===El||sn===Sl){ot.command(typeof di=="function"&&(sn===El&&(di._reglType==="texture2d"||di._reglType==="framebuffer")||sn===Sl&&(di._reglType==="textureCube"||di._reglType==="framebufferCube")),"invalid texture for uniform "+Jr,Ke.commandStr);var Xi=Ke.link(di._texture||di.color[0]._texture);Pe(Nr,".uniform1i(",xi,",",Xi+".bind());"),Pe.exit(Xi,".unbind();")}else if(sn===fl||sn===cl||sn===xl){ot.optional(function(){ot.command(so(di),"invalid matrix for uniform "+Jr,Ke.commandStr),ot.command(sn===fl&&di.length===4||sn===cl&&di.length===9||sn===xl&&di.length===16,"invalid length for matrix uniform "+Jr,Ke.commandStr)});var _i=Ke.global.def("new Float32Array(["+Array.prototype.slice.call(di)+"])"),Gi=2;sn===cl?Gi=3:sn===xl&&(Gi=4),Pe(Nr,".uniformMatrix",Gi,"fv(",xi,",false,",_i,");")}else{switch(sn){case wl:ot.commandType(di,"number","uniform "+Jr,Ke.commandStr),Ze="1f";break;case Il:ot.command(so(di)&&di.length===2,"uniform "+Jr,Ke.commandStr),Ze="2f";break;case Ll:ot.command(so(di)&&di.length===3,"uniform "+Jr,Ke.commandStr),Ze="3f";break;case Dl:ot.command(so(di)&&di.length===4,"uniform "+Jr,Ke.commandStr),Ze="4f";break;case Xl:ot.commandType(di,"boolean","uniform "+Jr,Ke.commandStr),Ze="1i";break;case Yl:ot.commandType(di,"number","uniform "+Jr,Ke.commandStr),Ze="1i";break;case Fl:ot.command(so(di)&&di.length===2,"uniform "+Jr,Ke.commandStr),Ze="2i";break;case Rl:ot.command(so(di)&&di.length===2,"uniform "+Jr,Ke.commandStr),Ze="2i";break;case ml:ot.command(so(di)&&di.length===3,"uniform "+Jr,Ke.commandStr),Ze="3i";break;case Nl:ot.command(so(di)&&di.length===3,"uniform "+Jr,Ke.commandStr),Ze="3i";break;case yl:ot.command(so(di)&&di.length===4,"uniform "+Jr,Ke.commandStr),Ze="4i";break;case gl:ot.command(so(di)&&di.length===4,"uniform "+Jr,Ke.commandStr),Ze="4i";break}Pe(Nr,".uniform",Ze,"(",xi,",",so(di)?Array.prototype.slice.call(di):di,");")}continue}else Pi=Vn.append(Ke,Pe)}else{if(!mn(Of))continue;Pi=Pe.def(Or.uniforms,"[",ke.id(Jr),"]")}sn===El?(ot(!Array.isArray(Pi),"must specify a scalar prop for textures"),Pe("if(",Pi,"&&",Pi,'._reglType==="framebuffer"){',Pi,"=",Pi,".color[0];","}")):sn===Sl&&(ot(!Array.isArray(Pi),"must specify a scalar prop for cube maps"),Pe("if(",Pi,"&&",Pi,'._reglType==="framebufferCube"){',Pi,"=",Pi,".color[0];","}")),ot.optional(function(){function Du(_u,ef){Ke.assert(Pe,_u,'bad data or missing for uniform "'+Jr+'".  '+ef)}function Fu(_u){ot(!Array.isArray(Pi),"must not specify an array type for uniform"),Du("typeof "+Pi+'==="'+_u+'"',"invalid type, expected "+_u)}function Cu(_u,ef){Array.isArray(Pi)?ot(Pi.length===_u,"must have length "+_u):Du(Or.isArrayLike+"("+Pi+")&&"+Pi+".length==="+_u,"invalid vector, should have length "+_u,Ke.commandStr)}function tf(_u){ot(!Array.isArray(Pi),"must not specify a value type"),Du("typeof "+Pi+'==="function"&&'+Pi+'._reglType==="texture'+(_u===pf?"2d":"Cube")+'"',"invalid texture type",Ke.commandStr)}switch(sn){case Yl:Fu("number");break;case Rl:Cu(2,"number");break;case Nl:Cu(3,"number");break;case gl:Cu(4,"number");break;case wl:Fu("number");break;case Il:Cu(2,"number");break;case Ll:Cu(3,"number");break;case Dl:Cu(4,"number");break;case Xl:Fu("boolean");break;case Fl:Cu(2,"boolean");break;case ml:Cu(3,"boolean");break;case yl:Cu(4,"boolean");break;case fl:Cu(4,"number");break;case cl:Cu(9,"number");break;case xl:Cu(16,"number");break;case El:tf(pf);break;case Sl:tf(Kf);break}});var Vi=1;switch(sn){case El:case Sl:var Hi=Pe.def(Pi,"._texture");Pe(Nr,".uniform1i(",xi,",",Hi,".bind());"),Pe.exit(Hi,".unbind();");continue;case Yl:case Xl:Ze="1i";break;case Rl:case Fl:Ze="2i",Vi=2;break;case Nl:case ml:Ze="3i",Vi=3;break;case gl:case yl:Ze="4i",Vi=4;break;case wl:Ze="1f";break;case Il:Ze="2f",Vi=2;break;case Ll:Ze="3f",Vi=3;break;case Dl:Ze="4f",Vi=4;break;case fl:Ze="Matrix2fv";break;case cl:Ze="Matrix3fv";break;case xl:Ze="Matrix4fv";break}if(Ze.charAt(0)==="M"){Pe(Nr,".uniform",Ze,"(",xi,",");var ia=Math.pow(sn-fl+2,2),Uo=Ke.global.def("new Float32Array(",ia,")");Array.isArray(Pi)?Pe("false,(",ar(ia,function(Du){return Uo+"["+Du+"]="+Pi[Du]}),",",Uo,")"):Pe("false,(Array.isArray(",Pi,")||",Pi," instanceof Float32Array)?",Pi,":(",ar(ia,function(Du){return Uo+"["+Du+"]="+Pi+"["+Du+"]"}),",",Uo,")"),Pe(");")}else if(Vi>1){for(var As=[],rl=[],Hu=0;Hu<Vi;++Hu)Array.isArray(Pi)?rl.push(Pi[Hu]):rl.push(Pe.def(Pi+"["+Hu+"]")),Lr&&As.push(Pe.def());Lr&&Pe("if(!",Ke.batchId,"||",As.map(function(Du,Fu){return Du+"!=="+rl[Fu]}).join("||"),"){",As.map(function(Du,Fu){return Du+"="+rl[Fu]+";"}).join("")),Pe(Nr,".uniform",Ze,"(",xi,",",rl.join(","),");"),Lr&&Pe("}")}else{if(ot(!Array.isArray(Pi),"uniform value must not be an array"),Lr){var $u=Pe.def();Pe("if(!",Ke.batchId,"||",$u,"!==",Pi,"){",$u,"=",Pi,";")}Pe(Nr,".uniform",Ze,"(",xi,",",Pi,");"),Lr&&Pe("}")}}}function iu(Ke,Pe,Cr,Qr){var mn=Ke.shared,Lr=mn.gl,Or=mn.draw,Nr=Qr.draw;function Ze(){var Vi=Nr.elements,Hi,ia=Pe;return Vi?((Vi.contextDep&&Qr.contextDynamic||Vi.propDep)&&(ia=Cr),Hi=Vi.append(Ke,ia),Nr.elementsActive&&ia("if("+Hi+")"+Lr+".bindBuffer("+Vl+","+Hi+".buffer.buffer);")):(Hi=ia.def(),ia(Hi,"=",Or,".",nl,";","if(",Hi,"){",Lr,".bindBuffer(",Vl,",",Hi,".buffer.buffer);}","else if(",mn.vao,".currentVAO){",Hi,"=",Ke.shared.elements+".getElements("+mn.vao,".currentVAO.elements);",Hn?"":"if("+Hi+")"+Lr+".bindBuffer("+Vl+","+Hi+".buffer.buffer);","}")),Hi}function Er(){var Vi=Nr.count,Hi,ia=Pe;return Vi?((Vi.contextDep&&Qr.contextDynamic||Vi.propDep)&&(ia=Cr),Hi=Vi.append(Ke,ia),ot.optional(function(){Vi.MISSING&&Ke.assert(Pe,"false","missing vertex count"),Vi.DYNAMIC&&Ke.assert(ia,Hi+">=0","missing vertex count")})):(Hi=ia.def(Or,".",tl),ot.optional(function(){Ke.assert(ia,Hi+">=0","missing vertex count")})),Hi}var qe=Ze();function Jr(Vi){var Hi=Nr[Vi];return Hi?Hi.contextDep&&Qr.contextDynamic||Hi.propDep?Hi.append(Ke,Cr):Hi.append(Ke,Pe):Pe.def(Or,".",Vi)}var sn=Jr(il),Vn=Jr(Ol),yi=Er();if(typeof yi=="number"){if(yi===0)return}else Cr("if(",yi,"){"),Cr.exit("}");var xi,Pi;ei&&(xi=Jr(Tl),Pi=Ke.instancing);var di=qe+".type",Xi=Nr.elements&&Ku(Nr.elements)&&!Nr.vaoActive;function _i(){function Vi(){Cr(Pi,".drawElementsInstancedANGLE(",[sn,yi,di,Vn+"<<(("+di+"-"+fu+")>>1)",xi],");")}function Hi(){Cr(Pi,".drawArraysInstancedANGLE(",[sn,Vn,yi,xi],");")}qe&&qe!=="null"?Xi?Vi():(Cr("if(",qe,"){"),Vi(),Cr("}else{"),Hi(),Cr("}")):Hi()}function Gi(){function Vi(){Cr(Lr+".drawElements("+[sn,yi,di,Vn+"<<(("+di+"-"+fu+")>>1)"]+");")}function Hi(){Cr(Lr+".drawArrays("+[sn,Vn,yi]+");")}qe&&qe!=="null"?Xi?Vi():(Cr("if(",qe,"){"),Vi(),Cr("}else{"),Hi(),Cr("}")):Hi()}ei&&(typeof xi!="number"||xi>=0)?typeof xi=="string"?(Cr("if(",xi,">0){"),_i(),Cr("}else if(",xi,"<0){"),Gi(),Cr("}")):_i():Gi()}function ya(Ke,Pe,Cr,Qr,mn){var Lr=xa(),Or=Lr.proc("body",mn);return ot.optional(function(){Lr.commandStr=Pe.commandStr,Lr.command=Lr.link(Pe.commandStr)}),ei&&(Lr.instancing=Or.def(Lr.shared.extensions,".angle_instanced_arrays")),Ke(Lr,Or,Cr,Qr),Lr.compile().body}function Xa(Ke,Pe,Cr,Qr){xs(Ke,Pe),Cr.useVAO?Cr.drawVAO?Pe(Ke.shared.vao,".setVAO(",Cr.drawVAO.append(Ke,Pe),");"):Pe(Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"):(Pe(Ke.shared.vao,".setVAO(null);"),hu(Ke,Pe,Cr,Qr.attributes,function(){return!0})),co(Ke,Pe,Cr,Qr.uniforms,function(){return!0},!1),iu(Ke,Pe,Pe,Cr)}function _o(Ke,Pe){var Cr=Ke.proc("draw",1);xs(Ke,Cr),Ms(Ke,Cr,Pe.context),nu(Ke,Cr,Pe.framebuffer),cu(Ke,Cr,Pe),$s(Ke,Cr,Pe.state),ka(Ke,Cr,Pe,!1,!0);var Qr=Pe.shader.progVar.append(Ke,Cr);if(Cr(Ke.shared.gl,".useProgram(",Qr,".program);"),Pe.shader.program)Xa(Ke,Cr,Pe,Pe.shader.program);else{Cr(Ke.shared.vao,".setVAO(null);");var mn=Ke.global.def("{}"),Lr=Cr.def(Qr,".id"),Or=Cr.def(mn,"[",Lr,"]");Cr(Ke.cond(Or).then(Or,".call(this,a0);").else(Or,"=",mn,"[",Lr,"]=",Ke.link(function(Nr){return ya(Xa,Ke,Pe,Nr,1)}),"(",Qr,");",Or,".call(this,a0);"))}Object.keys(Pe.state).length>0&&Cr(Ke.shared.current,".dirty=true;"),Ke.shared.vao&&Cr(Ke.shared.vao,".setVAO(null);")}function ks(Ke,Pe,Cr,Qr){Ke.batchId="a1",xs(Ke,Pe);function mn(){return!0}hu(Ke,Pe,Cr,Qr.attributes,mn),co(Ke,Pe,Cr,Qr.uniforms,mn,!1),iu(Ke,Pe,Pe,Cr)}function ju(Ke,Pe,Cr,Qr){xs(Ke,Pe);var mn=Cr.contextDep,Lr=Pe.def(),Or="a0",Nr="a1",Ze=Pe.def();Ke.shared.props=Ze,Ke.batchId=Lr;var Er=Ke.scope(),qe=Ke.scope();Pe(Er.entry,"for(",Lr,"=0;",Lr,"<",Nr,";++",Lr,"){",Ze,"=",Or,"[",Lr,"];",qe,"}",Er.exit);function Jr(di){return di.contextDep&&mn||di.propDep}function sn(di){return!Jr(di)}if(Cr.needsContext&&Ms(Ke,qe,Cr.context),Cr.needsFramebuffer&&nu(Ke,qe,Cr.framebuffer),$s(Ke,qe,Cr.state,Jr),Cr.profile&&Jr(Cr.profile)&&ka(Ke,qe,Cr,!1,!0),Qr)Cr.useVAO?Cr.drawVAO?Jr(Cr.drawVAO)?qe(Ke.shared.vao,".setVAO(",Cr.drawVAO.append(Ke,qe),");"):Er(Ke.shared.vao,".setVAO(",Cr.drawVAO.append(Ke,Er),");"):Er(Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"):(Er(Ke.shared.vao,".setVAO(null);"),hu(Ke,Er,Cr,Qr.attributes,sn),hu(Ke,qe,Cr,Qr.attributes,Jr)),co(Ke,Er,Cr,Qr.uniforms,sn,!1),co(Ke,qe,Cr,Qr.uniforms,Jr,!0),iu(Ke,Er,qe,Cr);else{var Vn=Ke.global.def("{}"),yi=Cr.shader.progVar.append(Ke,qe),xi=qe.def(yi,".id"),Pi=qe.def(Vn,"[",xi,"]");qe(Ke.shared.gl,".useProgram(",yi,".program);","if(!",Pi,"){",Pi,"=",Vn,"[",xi,"]=",Ke.link(function(di){return ya(ks,Ke,Cr,di,2)}),"(",yi,");}",Pi,".call(this,a0[",Lr,"],",Lr,");")}}function ir(Ke,Pe){var Cr=Ke.proc("batch",2);Ke.batchId="0",xs(Ke,Cr);var Qr=!1,mn=!0;Object.keys(Pe.context).forEach(function(Vn){Qr=Qr||Pe.context[Vn].propDep}),Qr||(Ms(Ke,Cr,Pe.context),mn=!1);var Lr=Pe.framebuffer,Or=!1;Lr?(Lr.propDep?Qr=Or=!0:Lr.contextDep&&Qr&&(Or=!0),Or||nu(Ke,Cr,Lr)):nu(Ke,Cr,null),Pe.state.viewport&&Pe.state.viewport.propDep&&(Qr=!0);function Nr(Vn){return Vn.contextDep&&Qr||Vn.propDep}cu(Ke,Cr,Pe),$s(Ke,Cr,Pe.state,function(Vn){return!Nr(Vn)}),(!Pe.profile||!Nr(Pe.profile))&&ka(Ke,Cr,Pe,!1,"a1"),Pe.contextDep=Qr,Pe.needsContext=mn,Pe.needsFramebuffer=Or;var Ze=Pe.shader.progVar;if(Ze.contextDep&&Qr||Ze.propDep)ju(Ke,Cr,Pe,null);else{var Er=Ze.append(Ke,Cr);if(Cr(Ke.shared.gl,".useProgram(",Er,".program);"),Pe.shader.program)ju(Ke,Cr,Pe,Pe.shader.program);else{Cr(Ke.shared.vao,".setVAO(null);");var qe=Ke.global.def("{}"),Jr=Cr.def(Er,".id"),sn=Cr.def(qe,"[",Jr,"]");Cr(Ke.cond(sn).then(sn,".call(this,a0,a1);").else(sn,"=",qe,"[",Jr,"]=",Ke.link(function(Vn){return ya(ju,Ke,Pe,Vn,2)}),"(",Er,");",sn,".call(this,a0,a1);"))}}Object.keys(Pe.state).length>0&&Cr(Ke.shared.current,".dirty=true;"),Ke.shared.vao&&Cr(Ke.shared.vao,".setVAO(null);")}function xn(Ke,Pe){var Cr=Ke.proc("scope",3);Ke.batchId="a2";var Qr=Ke.shared,mn=Qr.current;Ms(Ke,Cr,Pe.context),Pe.framebuffer&&Pe.framebuffer.append(Ke,Cr),hl(Object.keys(Pe.state)).forEach(function(Or){var Nr=Pe.state[Or],Ze=Nr.append(Ke,Cr);so(Ze)?Ze.forEach(function(Er,qe){Cr.set(Ke.next[Or],"["+qe+"]",Er)}):Cr.set(Qr.next,"."+Or,Ze)}),ka(Ke,Cr,Pe,!0,!0),[nl,Ol,tl,Tl,il].forEach(function(Or){var Nr=Pe.draw[Or];!Nr||Cr.set(Qr.draw,"."+Or,""+Nr.append(Ke,Cr))}),Object.keys(Pe.uniforms).forEach(function(Or){var Nr=Pe.uniforms[Or].append(Ke,Cr);Array.isArray(Nr)&&(Nr="["+Nr.join()+"]"),Cr.set(Qr.uniforms,"["+ke.id(Or)+"]",Nr)}),Object.keys(Pe.attributes).forEach(function(Or){var Nr=Pe.attributes[Or].append(Ke,Cr),Ze=Ke.scopeAttrib(Or);Object.keys(new $r).forEach(function(Er){Cr.set(Ze,"."+Er,Nr[Er])})}),Pe.scopeVAO&&Cr.set(Qr.vao,".targetVAO",Pe.scopeVAO.append(Ke,Cr));function Lr(Or){var Nr=Pe.shader[Or];Nr&&Cr.set(Qr.shader,"."+Or,Nr.append(Ke,Cr))}Lr(vl),Lr(dl),Object.keys(Pe.state).length>0&&(Cr(mn,".dirty=true;"),Cr.exit(mn,".dirty=true;")),Cr("a1(",Ke.shared.context,",a0,",Ke.batchId,");")}function fn(Ke){if(!(typeof Ke!="object"||so(Ke))){for(var Pe=Object.keys(Ke),Cr=0;Cr<Pe.length;++Cr)if(Gr.isDynamic(Ke[Pe[Cr]]))return!0;return!1}}function ki(Ke,Pe,Cr){var Qr=Pe.static[Cr];if(!Qr||!fn(Qr))return;var mn=Ke.global,Lr=Object.keys(Qr),Or=!1,Nr=!1,Ze=!1,Er=Ke.global.def("{}");Lr.forEach(function(Jr){var sn=Qr[Jr];if(Gr.isDynamic(sn)){typeof sn=="function"&&(sn=Qr[Jr]=Gr.unbox(sn));var Vn=Lu(sn,null);Or=Or||Vn.thisDep,Ze=Ze||Vn.propDep,Nr=Nr||Vn.contextDep}else{switch(mn(Er,".",Jr,"="),typeof sn){case"number":mn(sn);break;case"string":mn('"',sn,'"');break;case"object":Array.isArray(sn)&&mn("[",sn.join(),"]");break;default:mn(Ke.link(sn));break}mn(";")}});function qe(Jr,sn){Lr.forEach(function(Vn){var yi=Qr[Vn];if(!!Gr.isDynamic(yi)){var xi=Jr.invoke(sn,yi);sn(Er,".",Vn,"=",xi,";")}})}Pe.dynamic[Cr]=new Gr.DynamicVariable(se,{thisDep:Or,contextDep:Nr,propDep:Ze,ref:Er,append:qe}),delete Pe.static[Cr]}function Ka(Ke,Pe,Cr,Qr,mn){var Lr=xa();Lr.stats=Lr.link(mn),Object.keys(Pe.static).forEach(function(Nr){ki(Lr,Pe,Nr)}),Xf.forEach(function(Nr){ki(Lr,Ke,Nr)});var Or=Ls(Ke,Pe,Cr,Qr,Lr);return _o(Lr,Or),xn(Lr,Or),ir(Lr,Or),c(Lr.compile(),{destroy:function(){Or.shader.program.destroy()}})}return{next:Mi,current:Ri,procs:function(){var Ke=xa(),Pe=Ke.proc("poll"),Cr=Ke.proc("refresh"),Qr=Ke.block();Pe(Qr),Cr(Qr);var mn=Ke.shared,Lr=mn.gl,Or=mn.next,Nr=mn.current;Qr(Nr,".dirty=false;"),nu(Ke,Pe),nu(Ke,Cr,null,!0);var Ze;ei&&(Ze=Ke.link(ei)),fr.oes_vertex_array_object&&Cr(Ke.link(fr.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Er=0;Er<dn.maxAttributes;++Er){var qe=Cr.def(mn.attributes,"[",Er,"]"),Jr=Ke.cond(qe,".buffer");Jr.then(Lr,".enableVertexAttribArray(",Er,");",Lr,".bindBuffer(",ll,",",qe,".buffer.buffer);",Lr,".vertexAttribPointer(",Er,",",qe,".size,",qe,".type,",qe,".normalized,",qe,".stride,",qe,".offset);").else(Lr,".disableVertexAttribArray(",Er,");",Lr,".vertexAttrib4f(",Er,",",qe,".x,",qe,".y,",qe,".z,",qe,".w);",qe,".buffer=null;"),Cr(Jr),ei&&Cr(Ze,".vertexAttribDivisorANGLE(",Er,",",qe,".divisor);")}return Cr(Ke.shared.vao,".currentVAO=null;",Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"),Object.keys(kn).forEach(function(sn){var Vn=kn[sn],yi=Qr.def(Or,".",sn),xi=Ke.block();xi("if(",yi,"){",Lr,".enable(",Vn,")}else{",Lr,".disable(",Vn,")}",Nr,".",sn,"=",yi,";"),Cr(xi),Pe("if(",yi,"!==",Nr,".",sn,"){",xi,"}")}),Object.keys(Un).forEach(function(sn){var Vn=Un[sn],yi=Ri[sn],xi,Pi,di=Ke.block();if(di(Lr,".",Vn,"("),so(yi)){var Xi=yi.length;xi=Ke.global.def(Or,".",sn),Pi=Ke.global.def(Nr,".",sn),di(ar(Xi,function(_i){return xi+"["+_i+"]"}),");",ar(Xi,function(_i){return Pi+"["+_i+"]="+xi+"["+_i+"];"}).join("")),Pe("if(",ar(Xi,function(_i){return xi+"["+_i+"]!=="+Pi+"["+_i+"]"}).join("||"),"){",di,"}")}else xi=Qr.def(Or,".",sn),Pi=Qr.def(Nr,".",sn),di(xi,");",Nr,".",sn,"=",xi,";"),Pe("if(",xi,"!==",Pi,"){",di,"}");Cr(di)}),Ke.compile()}(),compile:Ka}}function Tf(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var wf=34918,oc=34919,If=35007,sc=function(Wt,ke){if(!ke.ext_disjoint_timer_query)return null;var fr=[];function dn(){return fr.pop()||ke.ext_disjoint_timer_query.createQueryEXT()}function _n(ei){fr.push(ei)}var vn=[];function On(ei){var Ui=dn();ke.ext_disjoint_timer_query.beginQueryEXT(If,Ui),vn.push(Ui),Kn(vn.length-1,vn.length,ei)}function Zn(){ke.ext_disjoint_timer_query.endQueryEXT(If)}function Jn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var oi=[];function ui(){return oi.pop()||new Jn}function li(ei){oi.push(ei)}var si=[];function Kn(ei,Ui,Hn){var Ri=ui();Ri.startQueryIndex=ei,Ri.endQueryIndex=Ui,Ri.sum=0,Ri.stats=Hn,si.push(Ri)}var ni=[],$r=[];function Cn(){var ei,Ui,Hn=vn.length;if(Hn!==0){$r.length=Math.max($r.length,Hn+1),ni.length=Math.max(ni.length,Hn+1),ni[0]=0,$r[0]=0;var Ri=0;for(ei=0,Ui=0;Ui<vn.length;++Ui){var Mi=vn[Ui];ke.ext_disjoint_timer_query.getQueryObjectEXT(Mi,oc)?(Ri+=ke.ext_disjoint_timer_query.getQueryObjectEXT(Mi,wf),_n(Mi)):vn[ei++]=Mi,ni[Ui+1]=Ri,$r[Ui+1]=ei}for(vn.length=ei,ei=0,Ui=0;Ui<si.length;++Ui){var oa=si[Ui],kn=oa.startQueryIndex,Un=oa.endQueryIndex;oa.sum+=ni[Un]-ni[kn];var Wi=$r[kn],Si=$r[Un];Si===Wi?(oa.stats.gpuTime+=oa.sum/1e6,li(oa)):(oa.startQueryIndex=Wi,oa.endQueryIndex=Si,si[ei++]=oa)}si.length=ei}}return{beginQuery:On,endQuery:Zn,pushScopeStats:Kn,update:Cn,getNumPendingQueries:function(){return vn.length},clear:function(){fr.push.apply(fr,vn);for(var ei=0;ei<fr.length;ei++)ke.ext_disjoint_timer_query.deleteQueryEXT(fr[ei]);vn.length=0,fr.length=0},restore:function(){vn.length=0,fr.length=0}}},uc=16384,Lf=256,Jl=1024,Df=34962,Rf="webglcontextlost",ql="webglcontextrestored",Nf=1,gc=2,jl=3;function Ff(Wt,ke){for(var fr=0;fr<Wt.length;++fr)if(Wt[fr]===ke)return fr;return-1}function Bf(Wt){var ke=Ae(Wt);if(!ke)return null;var fr=ke.gl,dn=fr.getContextAttributes(),_n=fr.isContextLost(),vn=De(fr,ke);if(!vn)return null;var On=Ue(),Zn=Tf(),Jn=vn.extensions,oi=sc(fr,Jn),ui=ze(),li=fr.drawingBufferWidth,si=fr.drawingBufferHeight,Kn={tick:0,time:0,viewportWidth:li,viewportHeight:si,framebufferWidth:li,framebufferHeight:si,drawingBufferWidth:li,drawingBufferHeight:si,pixelRatio:ke.pixelRatio},ni={},$r={elements:null,primitive:4,count:-1,offset:0,instances:-1},Cn=ee(fr,Jn),ei=Bt(fr,Zn,ke,Ri),Ui=Go(fr,Jn,ei,Zn),Hn=Yn(fr,Jn,Cn,Zn,ei,Ui,$r);function Ri(ya){return Hn.destroyBuffer(ya)}var Mi=Ta(fr,On,Zn,ke),oa=Ut(fr,Jn,Cn,function(){Wi.procs.poll()},Kn,Zn,ke),kn=Yr(fr,Jn,Cn,Zn,ke),Un=$e(fr,Jn,Cn,oa,kn,Zn),Wi=ac(fr,On,Jn,Cn,ei,Ui,oa,Un,ni,Hn,Mi,$r,Kn,oi,ke),Si=rs(fr,Un,Wi.procs.poll,Kn,dn,Jn,Cn),Qn=Wi.next,mi=fr.canvas,Ii=[],Na=[],xa=[],wi=[ke.onDestroy],Fi=null;function Ca(){if(Ii.length===0){oi&&oi.update(),Fi=null;return}Fi=xe.next(Ca),xs();for(var ya=Ii.length-1;ya>=0;--ya){var Xa=Ii[ya];Xa&&Xa(Kn,null,0)}fr.flush(),oi&&oi.update()}function wa(){!Fi&&Ii.length>0&&(Fi=xe.next(Ca))}function Ja(){Fi&&(xe.cancel(Ca),Fi=null)}function vs(ya){ya.preventDefault(),_n=!0,Ja(),Na.forEach(function(Xa){Xa()})}function ys(ya){fr.getError(),_n=!1,vn.restore(),Mi.restore(),ei.restore(),oa.restore(),kn.restore(),Un.restore(),Hn.restore(),oi&&oi.restore(),Wi.procs.refresh(),wa(),xa.forEach(function(Xa){Xa()})}var Ya=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";!Ya&&mi&&(mi.addEventListener(Rf,vs,!1),mi.addEventListener(ql,ys,!1));function ru(){Ii.length=0,Ja(),!Ya&&mi&&(mi.removeEventListener(Rf,vs),mi.removeEventListener(ql,ys)),Mi.clear(),Un.clear(),kn.clear(),Hn.clear(),oa.clear(),Ui.clear(),ei.clear(),oi&&oi.clear(),wi.forEach(function(ya){ya()})}function ao(ya){ot(!!ya,"invalid args to regl({...})"),ot.type(ya,"object","invalid args to regl({...})");function Xa(Lr){var Or=c({},Lr);delete Or.uniforms,delete Or.attributes,delete Or.context,delete Or.vao,"stencil"in Or&&Or.stencil.op&&(Or.stencil.opBack=Or.stencil.opFront=Or.stencil.op,delete Or.stencil.op);function Nr(Ze){if(Ze in Or){var Er=Or[Ze];delete Or[Ze],Object.keys(Er).forEach(function(qe){Or[Ze+"."+qe]=Er[qe]})}}return Nr("blend"),Nr("depth"),Nr("cull"),Nr("stencil"),Nr("polygonOffset"),Nr("scissor"),Nr("sample"),"vao"in Lr&&(Or.vao=Lr.vao),Or}function _o(Lr,Or){var Nr={},Ze={};return Object.keys(Lr).forEach(function(Er){var qe=Lr[Er];if(Gr.isDynamic(qe)){Ze[Er]=Gr.unbox(qe,Er);return}else if(Or&&Array.isArray(qe)){for(var Jr=0;Jr<qe.length;++Jr)if(Gr.isDynamic(qe[Jr])){Ze[Er]=Gr.unbox(qe,Er);return}}Nr[Er]=qe}),{dynamic:Ze,static:Nr}}var ks=_o(ya.context||{},!0),ju=_o(ya.uniforms||{},!0),ir=_o(ya.attributes||{},!1),xn=_o(Xa(ya),!1),fn={gpuTime:0,cpuTime:0,count:0},ki=Wi.compile(xn,ir,ju,ks,fn),Ka=ki.draw,Ke=ki.batch,Pe=ki.scope,Cr=[];function Qr(Lr){for(;Cr.length<Lr;)Cr.push(null);return Cr}function mn(Lr,Or){var Nr;if(_n&&ot.raise("context lost"),typeof Lr=="function")return Pe.call(this,null,Lr,0);if(typeof Or=="function")if(typeof Lr=="number")for(Nr=0;Nr<Lr;++Nr)Pe.call(this,null,Or,Nr);else if(Array.isArray(Lr))for(Nr=0;Nr<Lr.length;++Nr)Pe.call(this,Lr[Nr],Or,Nr);else return Pe.call(this,Lr,Or,0);else if(typeof Lr=="number"){if(Lr>0)return Ke.call(this,Qr(Lr|0),Lr|0)}else if(Array.isArray(Lr)){if(Lr.length)return Ke.call(this,Lr,Lr.length)}else return Ka.call(this,Lr)}return c(mn,{stats:fn,destroy:function(){ki.destroy()}})}var Ls=Un.setFBO=ao({framebuffer:Gr.define.call(null,Nf,"framebuffer")});function Ms(ya,Xa){var _o=0;Wi.procs.poll();var ks=Xa.color;ks&&(fr.clearColor(+ks[0]||0,+ks[1]||0,+ks[2]||0,+ks[3]||0),_o|=uc),"depth"in Xa&&(fr.clearDepth(+Xa.depth),_o|=Lf),"stencil"in Xa&&(fr.clearStencil(Xa.stencil|0),_o|=Jl),ot(!!_o,"called regl.clear with no buffer specified"),fr.clear(_o)}function nu(ya){if(ot(typeof ya=="object"&&ya,"regl.clear() takes an object as input"),"framebuffer"in ya)if(ya.framebuffer&&ya.framebuffer_reglType==="framebufferCube")for(var Xa=0;Xa<6;++Xa)Ls(c({framebuffer:ya.framebuffer.faces[Xa]},ya),Ms);else Ls(ya,Ms);else Ms(null,ya)}function cu(ya){ot.type(ya,"function","regl.frame() callback must be a function"),Ii.push(ya);function Xa(){var _o=Ff(Ii,ya);ot(_o>=0,"cannot cancel a frame twice");function ks(){var ju=Ff(Ii,ks);Ii[ju]=Ii[Ii.length-1],Ii.length-=1,Ii.length<=0&&Ja()}Ii[_o]=ks}return wa(),{cancel:Xa}}function $s(){var ya=Qn.viewport,Xa=Qn.scissor_box;ya[0]=ya[1]=Xa[0]=Xa[1]=0,Kn.viewportWidth=Kn.framebufferWidth=Kn.drawingBufferWidth=ya[2]=Xa[2]=fr.drawingBufferWidth,Kn.viewportHeight=Kn.framebufferHeight=Kn.drawingBufferHeight=ya[3]=Xa[3]=fr.drawingBufferHeight}function xs(){Kn.tick+=1,Kn.time=hu(),$s(),Wi.procs.poll()}function ka(){oa.refresh(),$s(),Wi.procs.refresh(),oi&&oi.update()}function hu(){return(ze()-ui)/1e3}ka();function co(ya,Xa){ot.type(Xa,"function","listener callback must be a function");var _o;switch(ya){case"frame":return cu(Xa);case"lost":_o=Na;break;case"restore":_o=xa;break;case"destroy":_o=wi;break;default:ot.raise("invalid event, must be one of frame,lost,restore,destroy")}return _o.push(Xa),{cancel:function(){for(var ks=0;ks<_o.length;++ks)if(_o[ks]===Xa){_o[ks]=_o[_o.length-1],_o.pop();return}}}}var iu=c(ao,{clear:nu,prop:Gr.define.bind(null,Nf),context:Gr.define.bind(null,gc),this:Gr.define.bind(null,jl),draw:ao({}),buffer:function(ya){return ei.create(ya,Df,!1,!1)},elements:function(ya){return Ui.create(ya,!1)},texture:oa.create2D,cube:oa.createCube,renderbuffer:kn.create,framebuffer:Un.create,framebufferCube:Un.createCube,vao:Hn.createVAO,attributes:dn,frame:cu,on:co,limits:Cn,hasExtension:function(ya){return Cn.extensions.indexOf(ya.toLowerCase())>=0},read:Si,destroy:ru,_gl:fr,_refresh:ka,poll:function(){xs(),oi&&oi.update()},now:hu,stats:Zn});return ke.onDone(null,iu),iu}return Bf})},58380:function(gr){function P(x,i,t){switch(t.length){case 0:return x.call(i);case 1:return x.call(i,t[0]);case 2:return x.call(i,t[0],t[1]);case 3:return x.call(i,t[0],t[1],t[2])}return x.apply(i,t)}gr.exports=P},47443:function(gr,P,x){var i=x(42118);function t(c,s){var v=c==null?0:c.length;return!!v&&i(c,s,0)>-1}gr.exports=t},1196:function(gr){function P(x,i,t){for(var c=-1,s=x==null?0:x.length;++c<s;)if(t(i,x[c]))return!0;return!1}gr.exports=P},62663:function(gr){function P(x,i,t,c){var s=-1,v=x==null?0:x.length;for(c&&v&&(t=x[++s]);++s<v;)t=i(t,x[s],s,x);return t}gr.exports=P},48983:function(gr,P,x){var i=x(40371),t=i("length");gr.exports=t},44286:function(gr){function P(x){return x.split("")}gr.exports=P},49029:function(gr){var P=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function x(i){return i.match(P)||[]}gr.exports=x},86556:function(gr,P,x){var i=x(89465),t=x(77813);function c(s,v,o){(o!==void 0&&!t(s[v],o)||o===void 0&&!(v in s))&&i(s,v,o)}gr.exports=c},29750:function(gr){function P(x,i,t){return x===x&&(t!==void 0&&(x=x<=t?x:t),i!==void 0&&(x=x>=i?x:i)),x}gr.exports=P},41848:function(gr){function P(x,i,t,c){for(var s=x.length,v=t+(c?1:-1);c?v--:++v<s;)if(i(x[v],v,x))return v;return-1}gr.exports=P},42118:function(gr,P,x){var i=x(41848),t=x(62722),c=x(42351);function s(v,o,f){return o===o?c(v,o,f):i(v,t,f)}gr.exports=s},62722:function(gr){function P(x){return x!==x}gr.exports=P},42980:function(gr,P,x){var i=x(46384),t=x(86556),c=x(28483),s=x(59783),v=x(13218),o=x(81704),f=x(36390);function r(e,n,a,u,l){e!==n&&c(n,function(h,p){if(l||(l=new i),v(h))s(e,n,p,a,r,u,l);else{var d=u?u(f(e,p),h,p+"",e,n,l):void 0;d===void 0&&(d=h),t(e,p,d)}},o)}gr.exports=r},59783:function(gr,P,x){var i=x(86556),t=x(64626),c=x(77133),s=x(278),v=x(38517),o=x(35694),f=x(1469),r=x(29246),e=x(44144),n=x(23560),a=x(13218),u=x(68630),l=x(36719),h=x(36390),p=x(59881);function d(g,y,E,C,m,M,b){var S=h(g,E),A=h(y,E),T=b.get(A);if(T){i(g,E,T);return}var O=M?M(S,A,E+"",g,y,b):void 0,D=O===void 0;if(D){var L=f(A),Z=!L&&e(A),U=!L&&!Z&&l(A);O=A,L||Z||U?f(S)?O=S:r(S)?O=s(S):Z?(D=!1,O=t(A,!0)):U?(D=!1,O=c(A,!0)):O=[]:u(A)||o(A)?(O=S,o(S)?O=p(S):(!a(S)||n(S))&&(O=v(A))):D=!1}D&&(b.set(A,O),m(O,A,C,M,b),b.delete(A)),i(g,E,O)}gr.exports=d},18674:function(gr){function P(x){return function(i){return x==null?void 0:x[i]}}gr.exports=P},18190:function(gr){var P=9007199254740991,x=Math.floor;function i(t,c){var s="";if(!t||c<1||c>P)return s;do c%2&&(s+=t),c=x(c/2),c&&(t+=t);while(c);return s}gr.exports=i},5976:function(gr,P,x){var i=x(6557),t=x(45357),c=x(30061);function s(v,o){return c(t(v,o,i),v+"")}gr.exports=s},56560:function(gr,P,x){var i=x(75703),t=x(38777),c=x(6557),s=t?function(v,o){return t(v,"toString",{configurable:!0,enumerable:!1,value:i(o),writable:!0})}:c;gr.exports=s},14259:function(gr){function P(x,i,t){var c=-1,s=x.length;i<0&&(i=-i>s?0:s+i),t=t>s?s:t,t<0&&(t+=s),s=i>t?0:t-i>>>0,i>>>=0;for(var v=Array(s);++c<s;)v[c]=x[c+i];return v}gr.exports=P},45652:function(gr,P,x){var i=x(88668),t=x(47443),c=x(1196),s=x(74757),v=x(23593),o=x(21814),f=200;function r(e,n,a){var u=-1,l=t,h=e.length,p=!0,d=[],g=d;if(a)p=!1,l=c;else if(h>=f){var y=n?null:v(e);if(y)return o(y);p=!1,l=s,g=new i}else g=n?[]:d;t:for(;++u<h;){var E=e[u],C=n?n(E):E;if(E=a||E!==0?E:0,p&&C===C){for(var m=g.length;m--;)if(g[m]===C)continue t;n&&g.push(C),d.push(E)}else l(g,C,a)||(g!==d&&g.push(C),d.push(E))}return d}gr.exports=r},40180:function(gr,P,x){var i=x(14259);function t(c,s,v){var o=c.length;return v=v===void 0?o:v,!s&&v>=o?c:i(c,s,v)}gr.exports=t},21463:function(gr,P,x){var i=x(5976),t=x(16612);function c(s){return i(function(v,o){var f=-1,r=o.length,e=r>1?o[r-1]:void 0,n=r>2?o[2]:void 0;for(e=s.length>3&&typeof e=="function"?(r--,e):void 0,n&&t(o[0],o[1],n)&&(e=r<3?void 0:e,r=1),v=Object(v);++f<r;){var a=o[f];a&&s(v,a,f,e)}return v})}gr.exports=c},98805:function(gr,P,x){var i=x(40180),t=x(62689),c=x(83140),s=x(79833);function v(o){return function(f){f=s(f);var r=t(f)?c(f):void 0,e=r?r[0]:f.charAt(0),n=r?i(r,1).join(""):f.slice(1);return e[o]()+n}}gr.exports=v},35393:function(gr,P,x){var i=x(62663),t=x(53816),c=x(58748),s="['\u2019]",v=RegExp(s,"g");function o(f){return function(r){return i(c(t(r).replace(v,"")),f,"")}}gr.exports=o},78302:function(gr,P,x){var i=x(18190),t=x(80531),c=x(40180),s=x(62689),v=x(88016),o=x(83140),f=Math.ceil;function r(e,n){n=n===void 0?" ":t(n);var a=n.length;if(a<2)return a?i(n,e):n;var u=i(n,f(e/v(n)));return s(n)?c(o(u),0,e).join(""):u.slice(0,e)}gr.exports=r},23593:function(gr,P,x){var i=x(58525),t=x(50308),c=x(21814),s=1/0,v=i&&1/c(new i([,-0]))[1]==s?function(o){return new i(o)}:t;gr.exports=v},69389:function(gr,P,x){var i=x(18674),t={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},c=i(t);gr.exports=c},62689:function(gr){var P="\\ud800-\\udfff",x="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=x+i+t,s="\\ufe0e\\ufe0f",v="\\u200d",o=RegExp("["+v+P+c+s+"]");function f(r){return o.test(r)}gr.exports=f},93157:function(gr){var P=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function x(i){return P.test(i)}gr.exports=x},16612:function(gr,P,x){var i=x(77813),t=x(98612),c=x(65776),s=x(13218);function v(o,f,r){if(!s(r))return!1;var e=typeof f;return(e=="number"?t(r)&&c(f,r.length):e=="string"&&f in r)?i(r[f],o):!1}gr.exports=v},45357:function(gr,P,x){var i=x(58380),t=Math.max;function c(s,v,o){return v=t(v===void 0?s.length-1:v,0),function(){for(var f=arguments,r=-1,e=t(f.length-v,0),n=Array(e);++r<e;)n[r]=f[v+r];r=-1;for(var a=Array(v+1);++r<v;)a[r]=f[r];return a[v]=o(n),i(s,this,a)}}gr.exports=c},36390:function(gr){function P(x,i){if(!(i==="constructor"&&typeof x[i]=="function")&&i!="__proto__")return x[i]}gr.exports=P},30061:function(gr,P,x){var i=x(56560),t=x(21275),c=t(i);gr.exports=c},21275:function(gr){var P=800,x=16,i=Date.now;function t(c){var s=0,v=0;return function(){var o=i(),f=x-(o-v);if(v=o,f>0){if(++s>=P)return arguments[0]}else s=0;return c.apply(void 0,arguments)}}gr.exports=t},42351:function(gr){function P(x,i,t){for(var c=t-1,s=x.length;++c<s;)if(x[c]===i)return c;return-1}gr.exports=P},88016:function(gr,P,x){var i=x(48983),t=x(62689),c=x(21903);function s(v){return t(v)?c(v):i(v)}gr.exports=s},83140:function(gr,P,x){var i=x(44286),t=x(62689),c=x(676);function s(v){return t(v)?c(v):i(v)}gr.exports=s},21903:function(gr){var P="\\ud800-\\udfff",x="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=x+i+t,s="\\ufe0e\\ufe0f",v="["+P+"]",o="["+c+"]",f="\\ud83c[\\udffb-\\udfff]",r="(?:"+o+"|"+f+")",e="[^"+P+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="\\u200d",l=r+"?",h="["+s+"]?",p="(?:"+u+"(?:"+[e,n,a].join("|")+")"+h+l+")*",d=h+l+p,g="(?:"+[e+o+"?",o,n,a,v].join("|")+")",y=RegExp(f+"(?="+f+")|"+g+d,"g");function E(C){for(var m=y.lastIndex=0;y.test(C);)++m;return m}gr.exports=E},676:function(gr){var P="\\ud800-\\udfff",x="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=x+i+t,s="\\ufe0e\\ufe0f",v="["+P+"]",o="["+c+"]",f="\\ud83c[\\udffb-\\udfff]",r="(?:"+o+"|"+f+")",e="[^"+P+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="\\u200d",l=r+"?",h="["+s+"]?",p="(?:"+u+"(?:"+[e,n,a].join("|")+")"+h+l+")*",d=h+l+p,g="(?:"+[e+o+"?",o,n,a,v].join("|")+")",y=RegExp(f+"(?="+f+")|"+g+d,"g");function E(C){return C.match(y)||[]}gr.exports=E},2757:function(gr){var P="\\ud800-\\udfff",x="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=x+i+t,s="\\u2700-\\u27bf",v="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r="\\u2000-\\u206f",e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\ufe0e\\ufe0f",u=o+f+r+e,l="['\u2019]",h="["+u+"]",p="["+c+"]",d="\\d+",g="["+s+"]",y="["+v+"]",E="[^"+P+u+d+s+v+n+"]",C="\\ud83c[\\udffb-\\udfff]",m="(?:"+p+"|"+C+")",M="[^"+P+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",A="["+n+"]",T="\\u200d",O="(?:"+y+"|"+E+")",D="(?:"+A+"|"+E+")",L="(?:"+l+"(?:d|ll|m|re|s|t|ve))?",Z="(?:"+l+"(?:D|LL|M|RE|S|T|VE))?",U=m+"?",Y="["+a+"]?",W="(?:"+T+"(?:"+[M,b,S].join("|")+")"+Y+U+")*",J="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ht="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nt=Y+U+W,Q="(?:"+[g,b,S].join("|")+")"+nt,xt=RegExp([A+"?"+y+"+"+L+"(?="+[h,A,"$"].join("|")+")",D+"+"+Z+"(?="+[h,A+O,"$"].join("|")+")",A+"?"+O+"+"+L,A+"+"+Z,ht,J,d,Q].join("|"),"g");function _t(Nt){return Nt.match(xt)||[]}gr.exports=_t},68929:function(gr,P,x){var i=x(48403),t=x(35393),c=t(function(s,v,o){return v=v.toLowerCase(),s+(o?i(v):v)});gr.exports=c},48403:function(gr,P,x){var i=x(79833),t=x(11700);function c(s){return t(i(s).toLowerCase())}gr.exports=c},74691:function(gr,P,x){var i=x(29750),t=x(14841);function c(s,v,o){return o===void 0&&(o=v,v=void 0),o!==void 0&&(o=t(o),o=o===o?o:0),v!==void 0&&(v=t(v),v=v===v?v:0),i(t(s),v,o)}gr.exports=c},75703:function(gr){function P(x){return function(){return x}}gr.exports=P},53816:function(gr,P,x){var i=x(69389),t=x(79833),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",f=s+v+o,r="["+f+"]",e=RegExp(r,"g");function n(a){return a=t(a),a&&a.replace(c,i).replace(e,"")}gr.exports=n},29246:function(gr,P,x){var i=x(98612),t=x(37005);function c(s){return t(s)&&i(s)}gr.exports=c},14293:function(gr){function P(x){return x==null}gr.exports=P},81763:function(gr,P,x){var i=x(44239),t=x(37005),c="[object Number]";function s(v){return typeof v=="number"||t(v)&&i(v)==c}gr.exports=s},82492:function(gr,P,x){var i=x(42980),t=x(21463),c=t(function(s,v,o){i(s,v,o)});gr.exports=c},30236:function(gr,P,x){var i=x(42980),t=x(21463),c=t(function(s,v,o,f){i(s,v,o,f)});gr.exports=c},50308:function(gr){function P(){}gr.exports=P},11726:function(gr,P,x){var i=x(78302),t=x(88016),c=x(40554),s=x(79833);function v(o,f,r){o=s(o),f=c(f);var e=f?t(o):0;return f&&e<f?o+i(f-e,r):o}gr.exports=v},32475:function(gr,P,x){var i=x(78302),t=x(88016),c=x(40554),s=x(79833);function v(o,f,r){o=s(o),f=c(f);var e=f?t(o):0;return f&&e<f?i(f-e,r)+o:o}gr.exports=v},18601:function(gr,P,x){var i=x(14841),t=1/0,c=17976931348623157e292;function s(v){if(!v)return v===0?v:0;if(v=i(v),v===t||v===-t){var o=v<0?-1:1;return o*c}return v===v?v:0}gr.exports=s},40554:function(gr,P,x){var i=x(18601);function t(c){var s=i(c),v=s%1;return s===s?v?s-v:s:0}gr.exports=t},59881:function(gr,P,x){var i=x(98363),t=x(81704);function c(s){return i(s,t(s))}gr.exports=c},44908:function(gr,P,x){var i=x(45652);function t(c){return c&&c.length?i(c):[]}gr.exports=t},11700:function(gr,P,x){var i=x(98805),t=i("toUpperCase");gr.exports=t},58748:function(gr,P,x){var i=x(49029),t=x(93157),c=x(79833),s=x(2757);function v(o,f,r){return o=c(o),f=r?void 0:f,f===void 0?t(o)?s(o):i(o):o.match(f)||[]}gr.exports=v},3614:function(gr,P,x){"use strict";gr.exports=t;var i=x(80645);function t(L){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(L)?L:new Uint8Array(L||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var c=(1<<16)*(1<<16),s=1/c,v=12,o=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");t.prototype={destroy:function(){this.buf=null},readFields:function(L,Z,U){for(U=U||this.length;this.pos<U;){var Y=this.readVarint(),W=Y>>3,J=this.pos;this.type=Y&7,L(W,Z,this),this.pos===J&&this.skip(Y)}return Z},readMessage:function(L,Z){return this.readFields(L,Z,this.readVarint()+this.pos)},readFixed32:function(){var L=b(this.buf,this.pos);return this.pos+=4,L},readSFixed32:function(){var L=A(this.buf,this.pos);return this.pos+=4,L},readFixed64:function(){var L=b(this.buf,this.pos)+b(this.buf,this.pos+4)*c;return this.pos+=8,L},readSFixed64:function(){var L=b(this.buf,this.pos)+A(this.buf,this.pos+4)*c;return this.pos+=8,L},readFloat:function(){var L=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,L},readDouble:function(){var L=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,L},readVarint:function(L){var Z=this.buf,U,Y;return Y=Z[this.pos++],U=Y&127,Y<128||(Y=Z[this.pos++],U|=(Y&127)<<7,Y<128)||(Y=Z[this.pos++],U|=(Y&127)<<14,Y<128)||(Y=Z[this.pos++],U|=(Y&127)<<21,Y<128)?U:(Y=Z[this.pos],U|=(Y&15)<<28,f(U,L,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var L=this.readVarint();return L%2==1?(L+1)/-2:L/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var L=this.readVarint()+this.pos,Z=this.pos;return this.pos=L,L-Z>=v&&o?O(this.buf,Z,L):T(this.buf,Z,L)},readBytes:function(){var L=this.readVarint()+this.pos,Z=this.buf.subarray(this.pos,L);return this.pos=L,Z},readPackedVarint:function(L,Z){if(this.type!==t.Bytes)return L.push(this.readVarint(Z));var U=r(this);for(L=L||[];this.pos<U;)L.push(this.readVarint(Z));return L},readPackedSVarint:function(L){if(this.type!==t.Bytes)return L.push(this.readSVarint());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readSVarint());return L},readPackedBoolean:function(L){if(this.type!==t.Bytes)return L.push(this.readBoolean());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readBoolean());return L},readPackedFloat:function(L){if(this.type!==t.Bytes)return L.push(this.readFloat());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readFloat());return L},readPackedDouble:function(L){if(this.type!==t.Bytes)return L.push(this.readDouble());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readDouble());return L},readPackedFixed32:function(L){if(this.type!==t.Bytes)return L.push(this.readFixed32());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readFixed32());return L},readPackedSFixed32:function(L){if(this.type!==t.Bytes)return L.push(this.readSFixed32());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readSFixed32());return L},readPackedFixed64:function(L){if(this.type!==t.Bytes)return L.push(this.readFixed64());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readFixed64());return L},readPackedSFixed64:function(L){if(this.type!==t.Bytes)return L.push(this.readSFixed64());var Z=r(this);for(L=L||[];this.pos<Z;)L.push(this.readSFixed64());return L},skip:function(L){var Z=L&7;if(Z===t.Varint)for(;this.buf[this.pos++]>127;);else if(Z===t.Bytes)this.pos=this.readVarint()+this.pos;else if(Z===t.Fixed32)this.pos+=4;else if(Z===t.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Z)},writeTag:function(L,Z){this.writeVarint(L<<3|Z)},realloc:function(L){for(var Z=this.length||16;Z<this.pos+L;)Z*=2;if(Z!==this.length){var U=new Uint8Array(Z);U.set(this.buf),this.buf=U,this.length=Z}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(L){this.realloc(4),S(this.buf,L,this.pos),this.pos+=4},writeSFixed32:function(L){this.realloc(4),S(this.buf,L,this.pos),this.pos+=4},writeFixed64:function(L){this.realloc(8),S(this.buf,L&-1,this.pos),S(this.buf,Math.floor(L*s),this.pos+4),this.pos+=8},writeSFixed64:function(L){this.realloc(8),S(this.buf,L&-1,this.pos),S(this.buf,Math.floor(L*s),this.pos+4),this.pos+=8},writeVarint:function(L){if(L=+L||0,L>268435455||L<0){n(L,this);return}this.realloc(4),this.buf[this.pos++]=L&127|(L>127?128:0),!(L<=127)&&(this.buf[this.pos++]=(L>>>=7)&127|(L>127?128:0),!(L<=127)&&(this.buf[this.pos++]=(L>>>=7)&127|(L>127?128:0),!(L<=127)&&(this.buf[this.pos++]=L>>>7&127)))},writeSVarint:function(L){this.writeVarint(L<0?-L*2-1:L*2)},writeBoolean:function(L){this.writeVarint(Boolean(L))},writeString:function(L){L=String(L),this.realloc(L.length*4),this.pos++;var Z=this.pos;this.pos=D(this.buf,L,this.pos);var U=this.pos-Z;U>=128&&l(Z,U,this),this.pos=Z-1,this.writeVarint(U),this.pos+=U},writeFloat:function(L){this.realloc(4),i.write(this.buf,L,this.pos,!0,23,4),this.pos+=4},writeDouble:function(L){this.realloc(8),i.write(this.buf,L,this.pos,!0,52,8),this.pos+=8},writeBytes:function(L){var Z=L.length;this.writeVarint(Z),this.realloc(Z);for(var U=0;U<Z;U++)this.buf[this.pos++]=L[U]},writeRawMessage:function(L,Z){this.pos++;var U=this.pos;L(Z,this);var Y=this.pos-U;Y>=128&&l(U,Y,this),this.pos=U-1,this.writeVarint(Y),this.pos+=Y},writeMessage:function(L,Z,U){this.writeTag(L,t.Bytes),this.writeRawMessage(Z,U)},writePackedVarint:function(L,Z){Z.length&&this.writeMessage(L,h,Z)},writePackedSVarint:function(L,Z){Z.length&&this.writeMessage(L,p,Z)},writePackedBoolean:function(L,Z){Z.length&&this.writeMessage(L,y,Z)},writePackedFloat:function(L,Z){Z.length&&this.writeMessage(L,d,Z)},writePackedDouble:function(L,Z){Z.length&&this.writeMessage(L,g,Z)},writePackedFixed32:function(L,Z){Z.length&&this.writeMessage(L,E,Z)},writePackedSFixed32:function(L,Z){Z.length&&this.writeMessage(L,C,Z)},writePackedFixed64:function(L,Z){Z.length&&this.writeMessage(L,m,Z)},writePackedSFixed64:function(L,Z){Z.length&&this.writeMessage(L,M,Z)},writeBytesField:function(L,Z){this.writeTag(L,t.Bytes),this.writeBytes(Z)},writeFixed32Field:function(L,Z){this.writeTag(L,t.Fixed32),this.writeFixed32(Z)},writeSFixed32Field:function(L,Z){this.writeTag(L,t.Fixed32),this.writeSFixed32(Z)},writeFixed64Field:function(L,Z){this.writeTag(L,t.Fixed64),this.writeFixed64(Z)},writeSFixed64Field:function(L,Z){this.writeTag(L,t.Fixed64),this.writeSFixed64(Z)},writeVarintField:function(L,Z){this.writeTag(L,t.Varint),this.writeVarint(Z)},writeSVarintField:function(L,Z){this.writeTag(L,t.Varint),this.writeSVarint(Z)},writeStringField:function(L,Z){this.writeTag(L,t.Bytes),this.writeString(Z)},writeFloatField:function(L,Z){this.writeTag(L,t.Fixed32),this.writeFloat(Z)},writeDoubleField:function(L,Z){this.writeTag(L,t.Fixed64),this.writeDouble(Z)},writeBooleanField:function(L,Z){this.writeVarintField(L,Boolean(Z))}};function f(L,Z,U){var Y=U.buf,W,J;if(J=Y[U.pos++],W=(J&112)>>4,J<128||(J=Y[U.pos++],W|=(J&127)<<3,J<128)||(J=Y[U.pos++],W|=(J&127)<<10,J<128)||(J=Y[U.pos++],W|=(J&127)<<17,J<128)||(J=Y[U.pos++],W|=(J&127)<<24,J<128)||(J=Y[U.pos++],W|=(J&1)<<31,J<128))return e(L,W,Z);throw new Error("Expected varint not more than 10 bytes")}function r(L){return L.type===t.Bytes?L.readVarint()+L.pos:L.pos+1}function e(L,Z,U){return U?Z*4294967296+(L>>>0):(Z>>>0)*4294967296+(L>>>0)}function n(L,Z){var U,Y;if(L>=0?(U=L%4294967296|0,Y=L/4294967296|0):(U=~(-L%4294967296),Y=~(-L/4294967296),U^4294967295?U=U+1|0:(U=0,Y=Y+1|0)),L>=18446744073709552e3||L<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Z.realloc(10),a(U,Y,Z),u(Y,Z)}function a(L,Z,U){U.buf[U.pos++]=L&127|128,L>>>=7,U.buf[U.pos++]=L&127|128,L>>>=7,U.buf[U.pos++]=L&127|128,L>>>=7,U.buf[U.pos++]=L&127|128,L>>>=7,U.buf[U.pos]=L&127}function u(L,Z){var U=(L&7)<<4;Z.buf[Z.pos++]|=U|((L>>>=3)?128:0),!!L&&(Z.buf[Z.pos++]=L&127|((L>>>=7)?128:0),!!L&&(Z.buf[Z.pos++]=L&127|((L>>>=7)?128:0),!!L&&(Z.buf[Z.pos++]=L&127|((L>>>=7)?128:0),!!L&&(Z.buf[Z.pos++]=L&127|((L>>>=7)?128:0),!!L&&(Z.buf[Z.pos++]=L&127)))))}function l(L,Z,U){var Y=Z<=16383?1:Z<=2097151?2:Z<=268435455?3:Math.floor(Math.log(Z)/(Math.LN2*7));U.realloc(Y);for(var W=U.pos-1;W>=L;W--)U.buf[W+Y]=U.buf[W]}function h(L,Z){for(var U=0;U<L.length;U++)Z.writeVarint(L[U])}function p(L,Z){for(var U=0;U<L.length;U++)Z.writeSVarint(L[U])}function d(L,Z){for(var U=0;U<L.length;U++)Z.writeFloat(L[U])}function g(L,Z){for(var U=0;U<L.length;U++)Z.writeDouble(L[U])}function y(L,Z){for(var U=0;U<L.length;U++)Z.writeBoolean(L[U])}function E(L,Z){for(var U=0;U<L.length;U++)Z.writeFixed32(L[U])}function C(L,Z){for(var U=0;U<L.length;U++)Z.writeSFixed32(L[U])}function m(L,Z){for(var U=0;U<L.length;U++)Z.writeFixed64(L[U])}function M(L,Z){for(var U=0;U<L.length;U++)Z.writeSFixed64(L[U])}function b(L,Z){return(L[Z]|L[Z+1]<<8|L[Z+2]<<16)+L[Z+3]*16777216}function S(L,Z,U){L[U]=Z,L[U+1]=Z>>>8,L[U+2]=Z>>>16,L[U+3]=Z>>>24}function A(L,Z){return(L[Z]|L[Z+1]<<8|L[Z+2]<<16)+(L[Z+3]<<24)}function T(L,Z,U){for(var Y="",W=Z;W<U;){var J=L[W],ht=null,nt=J>239?4:J>223?3:J>191?2:1;if(W+nt>U)break;var Q,xt,_t;nt===1?J<128&&(ht=J):nt===2?(Q=L[W+1],(Q&192)==128&&(ht=(J&31)<<6|Q&63,ht<=127&&(ht=null))):nt===3?(Q=L[W+1],xt=L[W+2],(Q&192)==128&&(xt&192)==128&&(ht=(J&15)<<12|(Q&63)<<6|xt&63,(ht<=2047||ht>=55296&&ht<=57343)&&(ht=null))):nt===4&&(Q=L[W+1],xt=L[W+2],_t=L[W+3],(Q&192)==128&&(xt&192)==128&&(_t&192)==128&&(ht=(J&15)<<18|(Q&63)<<12|(xt&63)<<6|_t&63,(ht<=65535||ht>=1114112)&&(ht=null))),ht===null?(ht=65533,nt=1):ht>65535&&(ht-=65536,Y+=String.fromCharCode(ht>>>10&1023|55296),ht=56320|ht&1023),Y+=String.fromCharCode(ht),W+=nt}return Y}function O(L,Z,U){return o.decode(L.subarray(Z,U))}function D(L,Z,U){for(var Y=0,W,J;Y<Z.length;Y++){if(W=Z.charCodeAt(Y),W>55295&&W<57344)if(J)if(W<56320){L[U++]=239,L[U++]=191,L[U++]=189,J=W;continue}else W=J-55296<<10|W-56320|65536,J=null;else{W>56319||Y+1===Z.length?(L[U++]=239,L[U++]=191,L[U++]=189):J=W;continue}else J&&(L[U++]=239,L[U++]=191,L[U++]=189,J=null);W<128?L[U++]=W:(W<2048?L[U++]=W>>6|192:(W<65536?L[U++]=W>>12|224:(L[U++]=W>>18|240,L[U++]=W>>12&63|128),L[U++]=W>>6&63|128),L[U++]=W&63|128)}return U}},28660:function(gr,P,x){var i=x(34155);/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t;(function(c){(function(s){var v=typeof x.g=="object"?x.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),o=f(c);typeof v.Reflect=="undefined"?v.Reflect=c:o=f(v.Reflect,o),s(o);function f(r,e){return function(n,a){typeof r[n]!="function"&&Object.defineProperty(r,n,{configurable:!0,writable:!0,value:a}),e&&e(n,a)}}})(function(s){var v=Object.prototype.hasOwnProperty,o=typeof Symbol=="function",f=o&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",r=o&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",e=typeof Object.create=="function",n={__proto__:[]}instanceof Array,a=!e&&!n,u={create:e?function(){return Ft(Object.create(null))}:n?function(){return Ft({__proto__:null})}:function(){return Ft({})},has:a?function(zt,$t){return v.call(zt,$t)}:function(zt,$t){return $t in zt},get:a?function(zt,$t){return v.call(zt,$t)?zt[$t]:void 0}:function(zt,$t){return zt[$t]}},l=Object.getPrototypeOf(Function),h=typeof i=="object"&&{NODE_ENV:"production"}&&{NODE_ENV:"production"}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!h&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ot(),d=!h&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Mt(),g=!h&&typeof WeakMap=="function"?WeakMap:Ot(),y=new g;function E(zt,$t,ce,ye){if(Nt(ce)){if(!K(zt))throw new TypeError;if(!et($t))throw new TypeError;return L(zt,$t)}else{if(!K(zt))throw new TypeError;if(!G($t))throw new TypeError;if(!G(ye)&&!Nt(ye)&&!rt(ye))throw new TypeError;return rt(ye)&&(ye=void 0),ce=ct(ce),Z(zt,$t,ce,ye)}}s("decorate",E);function C(zt,$t){function ce(ye,Je){if(!G(ye))throw new TypeError;if(!Nt(Je)&&!B(Je))throw new TypeError;nt(zt,$t,ye,Je)}return ce}s("metadata",C);function m(zt,$t,ce,ye){if(!G(ce))throw new TypeError;return Nt(ye)||(ye=ct(ye)),nt(zt,$t,ce,ye)}s("defineMetadata",m);function M(zt,$t,ce){if(!G($t))throw new TypeError;return Nt(ce)||(ce=ct(ce)),Y(zt,$t,ce)}s("hasMetadata",M);function b(zt,$t,ce){if(!G($t))throw new TypeError;return Nt(ce)||(ce=ct(ce)),W(zt,$t,ce)}s("hasOwnMetadata",b);function S(zt,$t,ce){if(!G($t))throw new TypeError;return Nt(ce)||(ce=ct(ce)),J(zt,$t,ce)}s("getMetadata",S);function A(zt,$t,ce){if(!G($t))throw new TypeError;return Nt(ce)||(ce=ct(ce)),ht(zt,$t,ce)}s("getOwnMetadata",A);function T(zt,$t){if(!G(zt))throw new TypeError;return Nt($t)||($t=ct($t)),Q(zt,$t)}s("getMetadataKeys",T);function O(zt,$t){if(!G(zt))throw new TypeError;return Nt($t)||($t=ct($t)),xt(zt,$t)}s("getOwnMetadataKeys",O);function D(zt,$t,ce){if(!G($t))throw new TypeError;Nt(ce)||(ce=ct(ce));var ye=U($t,ce,!1);if(Nt(ye)||!ye.delete(zt))return!1;if(ye.size>0)return!0;var Je=y.get($t);return Je.delete(ce),Je.size>0||y.delete($t),!0}s("deleteMetadata",D);function L(zt,$t){for(var ce=zt.length-1;ce>=0;--ce){var ye=zt[ce],Je=ye($t);if(!Nt(Je)&&!rt(Je)){if(!et(Je))throw new TypeError;$t=Je}}return $t}function Z(zt,$t,ce,ye){for(var Je=zt.length-1;Je>=0;--Je){var nr=zt[Je],Xe=nr($t,ce,ye);if(!Nt(Xe)&&!rt(Xe)){if(!G(Xe))throw new TypeError;ye=Xe}}return ye}function U(zt,$t,ce){var ye=y.get(zt);if(Nt(ye)){if(!ce)return;ye=new p,y.set(zt,ye)}var Je=ye.get($t);if(Nt(Je)){if(!ce)return;Je=new p,ye.set($t,Je)}return Je}function Y(zt,$t,ce){var ye=W(zt,$t,ce);if(ye)return!0;var Je=Et($t);return rt(Je)?!1:Y(zt,Je,ce)}function W(zt,$t,ce){var ye=U($t,ce,!1);return Nt(ye)?!1:H(ye.has(zt))}function J(zt,$t,ce){var ye=W(zt,$t,ce);if(ye)return ht(zt,$t,ce);var Je=Et($t);if(!rt(Je))return J(zt,Je,ce)}function ht(zt,$t,ce){var ye=U($t,ce,!1);if(!Nt(ye))return ye.get(zt)}function nt(zt,$t,ce,ye){var Je=U(ce,ye,!0);Je.set(zt,$t)}function Q(zt,$t){var ce=xt(zt,$t),ye=Et(zt);if(ye===null)return ce;var Je=Q(ye,$t);if(Je.length<=0)return ce;if(ce.length<=0)return Je;for(var nr=new d,Xe=[],mr=0,Gr=ce;mr<Gr.length;mr++){var xe=Gr[mr],de=nr.has(xe);de||(nr.add(xe),Xe.push(xe))}for(var ze=0,Ue=Je;ze<Ue.length;ze++){var xe=Ue[ze],de=nr.has(xe);de||(nr.add(xe),Xe.push(xe))}return Xe}function xt(zt,$t){var ce=[],ye=U(zt,$t,!1);if(Nt(ye))return ce;for(var Je=ye.keys(),nr=R(Je),Xe=0;;){var mr=tt(nr);if(!mr)return ce.length=Xe,ce;var Gr=V(mr);try{ce[Xe]=Gr}catch(xe){try{lt(nr)}finally{throw xe}}Xe++}}function _t(zt){if(zt===null)return 1;switch(typeof zt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return zt===null?1:6;default:return 6}}function Nt(zt){return zt===void 0}function rt(zt){return zt===null}function q(zt){return typeof zt=="symbol"}function G(zt){return typeof zt=="object"?zt!==null:typeof zt=="function"}function N(zt,$t){switch(_t(zt)){case 0:return zt;case 1:return zt;case 2:return zt;case 3:return zt;case 4:return zt;case 5:return zt}var ce=$t===3?"string":$t===5?"number":"default",ye=w(zt,f);if(ye!==void 0){var Je=ye.call(zt,ce);if(G(Je))throw new TypeError;return Je}return at(zt,ce==="default"?"number":ce)}function at(zt,$t){if($t==="string"){var ce=zt.toString;if($(ce)){var ye=ce.call(zt);if(!G(ye))return ye}var Je=zt.valueOf;if($(Je)){var ye=Je.call(zt);if(!G(ye))return ye}}else{var Je=zt.valueOf;if($(Je)){var ye=Je.call(zt);if(!G(ye))return ye}var nr=zt.toString;if($(nr)){var ye=nr.call(zt);if(!G(ye))return ye}}throw new TypeError}function H(zt){return!!zt}function ft(zt){return""+zt}function ct(zt){var $t=N(zt,3);return q($t)?$t:ft($t)}function K(zt){return Array.isArray?Array.isArray(zt):zt instanceof Object?zt instanceof Array:Object.prototype.toString.call(zt)==="[object Array]"}function $(zt){return typeof zt=="function"}function et(zt){return typeof zt=="function"}function B(zt){switch(_t(zt)){case 3:return!0;case 4:return!0;default:return!1}}function w(zt,$t){var ce=zt[$t];if(ce!=null){if(!$(ce))throw new TypeError;return ce}}function R(zt){var $t=w(zt,r);if(!$($t))throw new TypeError;var ce=$t.call(zt);if(!G(ce))throw new TypeError;return ce}function V(zt){return zt.value}function tt(zt){var $t=zt.next();return $t.done?!1:$t}function lt(zt){var $t=zt.return;$t&&$t.call(zt)}function Et(zt){var $t=Object.getPrototypeOf(zt);if(typeof zt!="function"||zt===l||$t!==l)return $t;var ce=zt.prototype,ye=ce&&Object.getPrototypeOf(ce);if(ye==null||ye===Object.prototype)return $t;var Je=ye.constructor;return typeof Je!="function"||Je===zt?$t:Je}function ot(){var zt={},$t=[],ce=function(){function Xe(mr,Gr,xe){this._index=0,this._keys=mr,this._values=Gr,this._selector=xe}return Xe.prototype["@@iterator"]=function(){return this},Xe.prototype[r]=function(){return this},Xe.prototype.next=function(){var mr=this._index;if(mr>=0&&mr<this._keys.length){var Gr=this._selector(this._keys[mr],this._values[mr]);return mr+1>=this._keys.length?(this._index=-1,this._keys=$t,this._values=$t):this._index++,{value:Gr,done:!1}}return{value:void 0,done:!0}},Xe.prototype.throw=function(mr){throw this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),mr},Xe.prototype.return=function(mr){return this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),{value:mr,done:!0}},Xe}();return function(){function Xe(){this._keys=[],this._values=[],this._cacheKey=zt,this._cacheIndex=-2}return Object.defineProperty(Xe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Xe.prototype.has=function(mr){return this._find(mr,!1)>=0},Xe.prototype.get=function(mr){var Gr=this._find(mr,!1);return Gr>=0?this._values[Gr]:void 0},Xe.prototype.set=function(mr,Gr){var xe=this._find(mr,!0);return this._values[xe]=Gr,this},Xe.prototype.delete=function(mr){var Gr=this._find(mr,!1);if(Gr>=0){for(var xe=this._keys.length,de=Gr+1;de<xe;de++)this._keys[de-1]=this._keys[de],this._values[de-1]=this._values[de];return this._keys.length--,this._values.length--,mr===this._cacheKey&&(this._cacheKey=zt,this._cacheIndex=-2),!0}return!1},Xe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=zt,this._cacheIndex=-2},Xe.prototype.keys=function(){return new ce(this._keys,this._values,ye)},Xe.prototype.values=function(){return new ce(this._keys,this._values,Je)},Xe.prototype.entries=function(){return new ce(this._keys,this._values,nr)},Xe.prototype["@@iterator"]=function(){return this.entries()},Xe.prototype[r]=function(){return this.entries()},Xe.prototype._find=function(mr,Gr){return this._cacheKey!==mr&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=mr)),this._cacheIndex<0&&Gr&&(this._cacheIndex=this._keys.length,this._keys.push(mr),this._values.push(void 0)),this._cacheIndex},Xe}();function ye(Xe,mr){return Xe}function Je(Xe,mr){return mr}function nr(Xe,mr){return[Xe,mr]}}function Mt(){return function(){function zt(){this._map=new p}return Object.defineProperty(zt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),zt.prototype.has=function($t){return this._map.has($t)},zt.prototype.add=function($t){return this._map.set($t,$t),this},zt.prototype.delete=function($t){return this._map.delete($t)},zt.prototype.clear=function(){this._map.clear()},zt.prototype.keys=function(){return this._map.keys()},zt.prototype.values=function(){return this._map.values()},zt.prototype.entries=function(){return this._map.entries()},zt.prototype["@@iterator"]=function(){return this.keys()},zt.prototype[r]=function(){return this.keys()},zt}()}function Ot(){var zt=16,$t=u.create(),ce=ye();return function(){function Gr(){this._key=ye()}return Gr.prototype.has=function(xe){var de=Je(xe,!1);return de!==void 0?u.has(de,this._key):!1},Gr.prototype.get=function(xe){var de=Je(xe,!1);return de!==void 0?u.get(de,this._key):void 0},Gr.prototype.set=function(xe,de){var ze=Je(xe,!0);return ze[this._key]=de,this},Gr.prototype.delete=function(xe){var de=Je(xe,!1);return de!==void 0?delete de[this._key]:!1},Gr.prototype.clear=function(){this._key=ye()},Gr}();function ye(){var Gr;do Gr="@@WeakMap@@"+mr();while(u.has($t,Gr));return $t[Gr]=!0,Gr}function Je(Gr,xe){if(!v.call(Gr,ce)){if(!xe)return;Object.defineProperty(Gr,ce,{value:u.create()})}return Gr[ce]}function nr(Gr,xe){for(var de=0;de<xe;++de)Gr[de]=Math.random()*255|0;return Gr}function Xe(Gr){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Gr)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Gr)):nr(new Uint8Array(Gr),Gr):nr(new Array(Gr),Gr)}function mr(){var Gr=Xe(zt);Gr[6]=Gr[6]&79|64,Gr[8]=Gr[8]&191|128;for(var xe="",de=0;de<zt;++de){var ze=Gr[de];(de===4||de===6||de===8)&&(xe+="-"),ze<16&&(xe+="0"),xe+=ze.toString(16).toLowerCase()}return xe}}function Ft(zt){return zt.__=void 0,delete zt.__,zt}})})(t||(t={}))},95022:function(gr,P,x){var i=x(44878);gr.exports=function(s,v,o){return o||(s=JSON.parse(JSON.stringify(s))),s.features?c(s,v):s.type&&s.type==="Feature"?t(s,v):new Error("FeatureCollection or individual Feature required")},gr.exports.simplify=function(s,v){return i(s,v)};function t(s,v){var o=s.geometry,f=o.type;if(f==="LineString")o.coordinates=gr.exports.simplify(o.coordinates,v);else if(f==="Polygon"||f==="MultiLineString")for(var r=0;r<o.coordinates.length;r++)o.coordinates[r]=gr.exports.simplify(o.coordinates[r],v);else if(f==="MultiPolygon")for(var e=0;e<o.coordinates.length;e++)for(var n=0;n<o.coordinates[e].length;n++)o.coordinates[e][n]=gr.exports.simplify(o.coordinates[e][n],v);return s}function c(s,v){for(var o=0;o<s.features.length;o++)s.features[o]=t(s.features[o],v);return s}},44878:function(gr,P,x){var i=x(54301),t=function(c,s){for(var v=0,o=0,f=1;f<=c.length-2;f++){var r=new i(c[0],c[c.length-1]).perpendicularDistance(c[f]);r>v&&(o=f,v=r)}if(v>s)var e=t(c.slice(0,o),s),n=t(c.slice(o,c.length),s),a=e.concat(n);else c.length>1?a=[c[0],c[c.length-1]]:a=[c[0]];return a};gr.exports=t},54301:function(gr){var P=function(x,i){this.p1=x,this.p2=i};P.prototype.rise=function(){return this.p2[1]-this.p1[1]},P.prototype.run=function(){return this.p2[0]-this.p1[0]},P.prototype.slope=function(){return this.rise()/this.run()},P.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)},P.prototype.isVertical=function(){return!isFinite(this.slope())},P.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]},P.prototype._perpendicularDistanceHorizontal=function(x){return Math.abs(this.p1[1]-x[1])},P.prototype._perpendicularDistanceVertical=function(x){return Math.abs(this.p1[0]-x[0])},P.prototype._perpendicularDistanceHasSlope=function(x){var i=this.slope(),t=this.yIntercept();return Math.abs(i*x[0]-x[1]+t)/Math.sqrt(Math.pow(i,2)+1)},P.prototype.perpendicularDistance=function(x){return this.isVertical()?this._perpendicularDistanceVertical(x):this.isHorizontal()?this._perpendicularDistanceHorizontal(x):this._perpendicularDistanceHasSlope(x)},gr.exports=P},69848:function(gr){(function(P,x){gr.exports=x()})(this,function(){"use strict";function P(b,S,A,T,O,D){if(!(O-T<=A)){var L=T+O>>1;x(b,S,L,T,O,D%2),P(b,S,A,T,L-1,D+1),P(b,S,A,L+1,O,D+1)}}function x(b,S,A,T,O,D){for(;O>T;){if(O-T>600){var L=O-T+1,Z=A-T+1,U=Math.log(L),Y=.5*Math.exp(2*U/3),W=.5*Math.sqrt(U*Y*(L-Y)/L)*(Z-L/2<0?-1:1),J=Math.max(T,Math.floor(A-Z*Y/L+W)),ht=Math.min(O,Math.floor(A+(L-Z)*Y/L+W));x(b,S,A,J,ht,D)}var nt=S[2*A+D],Q=T,xt=O;for(i(b,S,T,A),S[2*O+D]>nt&&i(b,S,T,O);Q<xt;){for(i(b,S,Q,xt),Q++,xt--;S[2*Q+D]<nt;)Q++;for(;S[2*xt+D]>nt;)xt--}S[2*T+D]===nt?i(b,S,T,xt):(xt++,i(b,S,xt,O)),xt<=A&&(T=xt+1),A<=xt&&(O=xt-1)}}function i(b,S,A,T){t(b,A,T),t(S,2*A,2*T),t(S,2*A+1,2*T+1)}function t(b,S,A){var T=b[S];b[S]=b[A],b[A]=T}function c(b,S,A,T,O,D,L){for(var Z=[0,b.length-1,0],U=[],Y,W;Z.length;){var J=Z.pop(),ht=Z.pop(),nt=Z.pop();if(ht-nt<=L){for(var Q=nt;Q<=ht;Q++)Y=S[2*Q],W=S[2*Q+1],Y>=A&&Y<=O&&W>=T&&W<=D&&U.push(b[Q]);continue}var xt=Math.floor((nt+ht)/2);Y=S[2*xt],W=S[2*xt+1],Y>=A&&Y<=O&&W>=T&&W<=D&&U.push(b[xt]);var _t=(J+1)%2;(J===0?A<=Y:T<=W)&&(Z.push(nt),Z.push(xt-1),Z.push(_t)),(J===0?O>=Y:D>=W)&&(Z.push(xt+1),Z.push(ht),Z.push(_t))}return U}function s(b,S,A,T,O,D){for(var L=[0,b.length-1,0],Z=[],U=O*O;L.length;){var Y=L.pop(),W=L.pop(),J=L.pop();if(W-J<=D){for(var ht=J;ht<=W;ht++)v(S[2*ht],S[2*ht+1],A,T)<=U&&Z.push(b[ht]);continue}var nt=Math.floor((J+W)/2),Q=S[2*nt],xt=S[2*nt+1];v(Q,xt,A,T)<=U&&Z.push(b[nt]);var _t=(Y+1)%2;(Y===0?A-O<=Q:T-O<=xt)&&(L.push(J),L.push(nt-1),L.push(_t)),(Y===0?A+O>=Q:T+O>=xt)&&(L.push(nt+1),L.push(W),L.push(_t))}return Z}function v(b,S,A,T){var O=b-A,D=S-T;return O*O+D*D}var o=function(b){return b[0]},f=function(b){return b[1]},r=function(S,A,T,O,D){A===void 0&&(A=o),T===void 0&&(T=f),O===void 0&&(O=64),D===void 0&&(D=Float64Array),this.nodeSize=O,this.points=S;for(var L=S.length<65536?Uint16Array:Uint32Array,Z=this.ids=new L(S.length),U=this.coords=new D(S.length*2),Y=0;Y<S.length;Y++)Z[Y]=Y,U[2*Y]=A(S[Y]),U[2*Y+1]=T(S[Y]);P(Z,U,O,0,Z.length-1,0)};r.prototype.range=function(S,A,T,O){return c(this.ids,this.coords,S,A,T,O,this.nodeSize)},r.prototype.within=function(S,A,T){return s(this.ids,this.coords,S,A,T,this.nodeSize)};var e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(b){return b}},n=Math.fround||function(b){return function(S){return b[0]=+S,b[0]}}(new Float32Array(1)),a=function(S){this.options=C(Object.create(e),S),this.trees=new Array(this.options.maxZoom+1)};a.prototype.load=function(S){var A=this.options,T=A.log,O=A.minZoom,D=A.maxZoom,L=A.nodeSize;T&&console.time("total time");var Z="prepare "+S.length+" points";T&&console.time(Z),this.points=S;for(var U=[],Y=0;Y<S.length;Y++)!S[Y].geometry||U.push(l(S[Y],Y));this.trees[D+1]=new r(U,m,M,L,Float32Array),T&&console.timeEnd(Z);for(var W=D;W>=O;W--){var J=+Date.now();U=this._cluster(U,W),this.trees[W]=new r(U,m,M,L,Float32Array),T&&console.log("z%d: %d clusters in %dms",W,U.length,+Date.now()-J)}return T&&console.timeEnd("total time"),this},a.prototype.getClusters=function(S,A){var T=((S[0]+180)%360+360)%360-180,O=Math.max(-90,Math.min(90,S[1])),D=S[2]===180?180:((S[2]+180)%360+360)%360-180,L=Math.max(-90,Math.min(90,S[3]));if(S[2]-S[0]>=360)T=-180,D=180;else if(T>D){var Z=this.getClusters([T,O,180,L],A),U=this.getClusters([-180,O,D,L],A);return Z.concat(U)}for(var Y=this.trees[this._limitZoom(A)],W=Y.range(d(T),g(L),d(D),g(O)),J=[],ht=0,nt=W;ht<nt.length;ht+=1){var Q=nt[ht],xt=Y.points[Q];J.push(xt.numPoints?h(xt):this.points[xt.index])}return J},a.prototype.getChildren=function(S){var A=this._getOriginId(S),T=this._getOriginZoom(S),O="No cluster with the specified id.",D=this.trees[T];if(!D)throw new Error(O);var L=D.points[A];if(!L)throw new Error(O);for(var Z=this.options.radius/(this.options.extent*Math.pow(2,T-1)),U=D.within(L.x,L.y,Z),Y=[],W=0,J=U;W<J.length;W+=1){var ht=J[W],nt=D.points[ht];nt.parentId===S&&Y.push(nt.numPoints?h(nt):this.points[nt.index])}if(Y.length===0)throw new Error(O);return Y},a.prototype.getLeaves=function(S,A,T){A=A||10,T=T||0;var O=[];return this._appendLeaves(O,S,A,T,0),O},a.prototype.getTile=function(S,A,T){var O=this.trees[this._limitZoom(S)],D=Math.pow(2,S),L=this.options,Z=L.extent,U=L.radius,Y=U/Z,W=(T-Y)/D,J=(T+1+Y)/D,ht={features:[]};return this._addTileFeatures(O.range((A-Y)/D,W,(A+1+Y)/D,J),O.points,A,T,D,ht),A===0&&this._addTileFeatures(O.range(1-Y/D,W,1,J),O.points,D,T,D,ht),A===D-1&&this._addTileFeatures(O.range(0,W,Y/D,J),O.points,-1,T,D,ht),ht.features.length?ht:null},a.prototype.getClusterExpansionZoom=function(S){for(var A=this._getOriginZoom(S)-1;A<=this.options.maxZoom;){var T=this.getChildren(S);if(A++,T.length!==1)break;S=T[0].properties.cluster_id}return A},a.prototype._appendLeaves=function(S,A,T,O,D){for(var L=this.getChildren(A),Z=0,U=L;Z<U.length;Z+=1){var Y=U[Z],W=Y.properties;if(W&&W.cluster?D+W.point_count<=O?D+=W.point_count:D=this._appendLeaves(S,W.cluster_id,T,O,D):D<O?D++:S.push(Y),S.length===T)break}return D},a.prototype._addTileFeatures=function(S,A,T,O,D,L){for(var Z=0,U=S;Z<U.length;Z+=1){var Y=U[Z],W=A[Y],J=W.numPoints,ht=void 0,nt=void 0,Q=void 0;if(J)ht=p(W),nt=W.x,Q=W.y;else{var xt=this.points[W.index];ht=xt.properties,nt=d(xt.geometry.coordinates[0]),Q=g(xt.geometry.coordinates[1])}var _t={type:1,geometry:[[Math.round(this.options.extent*(nt*D-T)),Math.round(this.options.extent*(Q*D-O))]],tags:ht},Nt=void 0;J?Nt=W.id:this.options.generateId?Nt=W.index:this.points[W.index].id&&(Nt=this.points[W.index].id),Nt!==void 0&&(_t.id=Nt),L.features.push(_t)}},a.prototype._limitZoom=function(S){return Math.max(this.options.minZoom,Math.min(+S,this.options.maxZoom+1))},a.prototype._cluster=function(S,A){for(var T=[],O=this.options,D=O.radius,L=O.extent,Z=O.reduce,U=O.minPoints,Y=D/(L*Math.pow(2,A)),W=0;W<S.length;W++){var J=S[W];if(!(J.zoom<=A)){J.zoom=A;for(var ht=this.trees[A+1],nt=ht.within(J.x,J.y,Y),Q=J.numPoints||1,xt=Q,_t=0,Nt=nt;_t<Nt.length;_t+=1){var rt=Nt[_t],q=ht.points[rt];q.zoom>A&&(xt+=q.numPoints||1)}if(xt>Q&&xt>=U){for(var G=J.x*Q,N=J.y*Q,at=Z&&Q>1?this._map(J,!0):null,H=(W<<5)+(A+1)+this.points.length,ft=0,ct=nt;ft<ct.length;ft+=1){var K=ct[ft],$=ht.points[K];if(!($.zoom<=A)){$.zoom=A;var et=$.numPoints||1;G+=$.x*et,N+=$.y*et,$.parentId=H,Z&&(at||(at=this._map(J,!0)),Z(at,this._map($)))}}J.parentId=H,T.push(u(G/xt,N/xt,H,xt,at))}else if(T.push(J),xt>1)for(var B=0,w=nt;B<w.length;B+=1){var R=w[B],V=ht.points[R];V.zoom<=A||(V.zoom=A,T.push(V))}}}return T},a.prototype._getOriginId=function(S){return S-this.points.length>>5},a.prototype._getOriginZoom=function(S){return(S-this.points.length)%32},a.prototype._map=function(S,A){if(S.numPoints)return A?C({},S.properties):S.properties;var T=this.points[S.index].properties,O=this.options.map(T);return A&&O===T?C({},O):O};function u(b,S,A,T,O){return{x:n(b),y:n(S),zoom:Infinity,id:A,parentId:-1,numPoints:T,properties:O}}function l(b,S){var A=b.geometry.coordinates,T=A[0],O=A[1];return{x:n(d(T)),y:n(g(O)),zoom:Infinity,index:S,parentId:-1}}function h(b){return{type:"Feature",id:b.id,properties:p(b),geometry:{type:"Point",coordinates:[y(b.x),E(b.y)]}}}function p(b){var S=b.numPoints,A=S>=1e4?Math.round(S/1e3)+"k":S>=1e3?Math.round(S/100)/10+"k":S;return C(C({},b.properties),{cluster:!0,cluster_id:b.id,point_count:S,point_count_abbreviated:A})}function d(b){return b/360+.5}function g(b){var S=Math.sin(b*Math.PI/180),A=.5-.25*Math.log((1+S)/(1-S))/Math.PI;return A<0?0:A>1?1:A}function y(b){return(b-.5)*360}function E(b){var S=(180-b*360)*Math.PI/180;return 360*Math.atan(Math.exp(S))/Math.PI-90}function C(b,S){for(var A in S)b[A]=S[A];return b}function m(b){return b.x}function M(b){return b.y}return a})},55513:function(gr,P,x){"use strict";x.d(P,{kL:function(){return io},r$:function(){return Ci},De:function(){return Ki},u:function(){return Zi}});var i=x(96486),t=/on(.+)(MouseEnter|MouseMove|MouseLeave|Click|DdlClick|MouseDown|MouseUp|TouchStart|TouchMove|TouchEnd)/;function c(vt,gt,dt,Dt){if(!i.isEmpty(dt)){var te=t.exec(dt);if(!(!te||te.length<=2)){var Ge=te[1].toLowerCase(),cr=te[2].toLowerCase(),zr=gt+"-"+Ge;vt.on(zr+":"+cr,function(Rt){Dt&&Dt(Rt,vt)})}}}function s(vt,gt,dt){if(!i.isEmpty(dt)){var Dt=Object.keys(dt).filter(function(te){return/^on/.test(te)});i.isEmpty(Dt)||Dt.forEach(function(te){var Ge=te.slice(2,te.length),cr=Ge.toLowerCase(),zr=dt[te];if(dt.gemo&&cr.indexOf("label")>=0){var Rt=cr.replace("label","");vt.on("label:"+Rt,function(Ei){zr&&zr(Ei,vt)});return}gt?vt.on(gt+":"+cr,function(Ei){zr&&zr(Ei,vt)}):vt.on(cr,function(Ei){zr&&zr(Ei,vt)})})}}var v=x(28602),o=function(vt){var gt=i.get(vt,"formatter");if(i.isString(gt))return vt.formatter=function(te){return v.WU(gt)(te)},vt;var dt=function(te){if(vt.hasOwnProperty(te)){var Ge=i.get(vt[te],"formatter");i.isString(Ge)&&(vt[te].formatter=function(cr){return v.WU(Ge)(cr)})}};for(var Dt in vt)dt(Dt);return vt},f=function(){return f=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},f.apply(this,arguments)};function r(vt,gt,dt,Dt){var te=i.get(gt,"polarLabel"),Ge=i.get(gt,"polarLabel.rotate");if(!!Ge){var cr={};Ge==="parallel"?cr={rotate:dt.startAngle,textAlign:"center"}:Ge==="normal"&&(cr={rotate:dt.startAngle+90,textAlign:"right"});var zr=i.get(gt,"polarLabel.offsetX"),Rt=i.get(gt,"polarLabel.offsetY");Dt.forEach(function(Ei,ri){vt.guide().text(f({position:[ri,0],content:Dt[ri][gt.dataKey],style:f({polarLabel:te},cr)},zr,Rt))})}}var e=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.axis),te=i.isArray(Dt);if(i.isNil(Dt)||Dt===!1||te&&Dt.length===0)return vt.axis(!1);if(Dt===!0)return vt.axis();for(var Ge=te?Dt:[Dt],cr=gt.coord,zr=gt.data,Rt=function(it){if(cr&&cr.type==="polar"&&cr.direction==="rotate"&&r(vt,it,cr,zr),it.label&&(it.label=o(it.label)),!dt){for(var Bt in it)if(it.hasOwnProperty(Bt)){var yt=Bt==="tickLine"?"ticks":Bt;c(vt,"axis",yt,it[Bt])}}if(it.dataKey)if(it.show===!1)vt.axis(it.dataKey,!1);else{var ne=i.omit(it,["show","dataKey"]),_e=ne.label;if(_e&&i.isNumber(_e.density)&&0<_e.density&&_e.density<1&&i.isFunction(_e.formatter)){var ur=Math.floor(1/_e.density),jr=_e.formatter;ne.label.formatter=function(_r,Pn,Ln){return Ln%ur?" ":jr(_r,Pn,Ln)}}vt.axis(it.dataKey,ne)}else vt.axis(it)},Ei=0,ri=Ge;Ei<ri.length;Ei++){var k=ri[Ei];Rt(k)}return vt},n=function(vt){return vt*Math.PI/180},a=function(vt){return vt*180/Math.PI},u=function(vt,gt,dt,Dt){var te=n(Dt);return{x:vt+Math.cos(te)*dt,y:gt+Math.sin(te)*dt}},l=function(){return l=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},l.apply(this,arguments)};function h(vt,gt){var dt={};if(gt.radius&&(gt.radius<0||gt.radius>1)||gt.innerRadius&&(gt.innerRadius<0||gt.innerRadius>1))throw new Error("please set correct radius or innerRadius");if(gt.radius&&(dt=l({},dt,{radius:gt.radius})),gt.innerRadius&&(dt=l({},dt,{innerRadius:gt.innerRadius})),gt.startAngle||gt.endAngle){if(gt.startAngle&&(gt.startAngle<-360||gt.startAngle>360))throw new Error("please set correct starAngle");if(dt=l({},dt,{startAngle:n(gt.startAngle)}),gt.endAngle&&(gt.endAngle<-360||gt.endAngle>360))throw new Error("please set correct endAngle");dt=l({},dt,{endAngle:n(gt.endAngle)})}var Dt=vt.coord(gt.type,l({},dt));switch(gt.direction){case"rotate":Dt.transpose();break;case"xReverse":Dt.reflect("x");break;case"yReverse":Dt.reflect("y");break;case"reverse":Dt.reflect();break;default:break}return gt.rotate&&Dt.rotate(gt.rotate),Dt}function p(vt,gt){if(!gt.direction)return vt.coord("rect");switch(gt.direction){case"BL":vt.coord("rect");break;case"BR":vt.coord("rect").scale(-1,1);break;case"LT":vt.coord("rect").transpose().scale(1,-1);break;case"LB":vt.coord("rect").transpose();break;case"RB":vt.coord("rect").transpose().reflect();break;case"RT":vt.coord("rect").transpose().reflect().scale(-1,1);break;case"TL":vt.coord("rect").reflect();break;case"TR":vt.coord("rect").reflect().scale(-1,1);break;default:vt.coord("rect");break}return vt}var d=function(vt,gt){var dt=i.cloneDeep(gt.coord);if(!dt||!dt.type)return vt.coord("rect");var Dt=dt.type;return Dt==="polar"||Dt==="theta"||Dt==="helix"?h(vt,dt):Dt==="rect"?p(vt,dt):vt.coord(Dt)},g=function(vt,gt){var dt=i.cloneDeep(gt.filter),Dt=i.isArray(dt);if(!i.isEmpty(dt)){for(var te=Dt?dt:[dt],Ge=0,cr=te;Ge<cr.length;Ge++){var zr=cr[Ge];zr.dataKey&&zr.callback&&vt.filter(zr.dataKey,zr.callback)}return vt}},y=function(){return y=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},y.apply(this,arguments)};function E(vt,gt){if(gt.quickType==="parallel"){var dt=gt.data;vt.guide().line(y({start:["min",dt],end:["max",dt]},gt))}else if(gt.quickType==="normal"){var dt=gt.data;vt.guide().line(y({start:[dt,"min"],end:[dt,"max"]},gt))}else vt.guide().line(gt)}function C(vt,gt){if(gt.quickType==="parallel"){var dt=gt.data;vt.guide().arc(y({start:["min",dt],end:["max",dt]},gt)),vt.guide().arc(y({start:["max",dt],end:["min",dt]},gt))}else if(gt.quickType==="normal"){var dt=gt.data;vt.guide().line(y({start:[dt,"min"],end:[dt,"max"]},gt))}else vt.guide().arc(gt)}var m=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.guide),te=Array.isArray(Dt);if(!(i.isNil(Dt)||i.isEmpty(Dt))){var Ge=te?Dt:[Dt];return Ge.forEach(function(cr){dt||s(vt,"guide-"+cr.type,cr),cr.type==="line"?E(vt,cr):cr.type==="region"?vt.guide().region(cr):cr.type==="arc"?C(vt,cr):cr.type==="text"?vt.guide().text(cr):cr.type==="image"?vt.guide().image(cr):cr.type==="html"?vt.guide().html(cr):cr.type==="dataMarker"?vt.guide().dataMarker(cr):cr.type==="regionFilter"?vt.guide().regionFilter(cr):cr.type==="dataRegion"&&vt.guide().dataRegion(cr)}),vt}};function M(vt){return vt.onHover=function(gt){var dt=gt.shapes,Dt=gt.geom;Dt.highlightShapes(dt)},vt}var b=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.legend),te=Array.isArray(Dt);if(i.isNil(Dt)||Dt===!1||te&&Dt.length===0)return vt.legend(!1);if(Dt===!0)return vt.legend();for(var Ge=te?Dt:[Dt],cr=0,zr=Ge;cr<zr.length;cr++){var Rt=zr[cr];Rt.highlight&&(Rt=M(Rt));var Ei=function(it){if(Rt.hasOwnProperty(it)){if(it==="onClick"){var Bt=Rt.onClick;Rt.onClick=function(yt){Bt(yt,vt)}}dt||c(vt,"legend",it,Rt[it])}};for(var ri in Rt)Ei(ri);if(i.isNil(Rt.legendMarker)||(Rt["g2-legend-marker"]=Rt.legendMarker),i.isNil(Rt.legendListItem)||(Rt["g2-legend-list-item"]=Rt.legendListItem),i.isNil(Rt.legendTitle)||(Rt["g2-legend-title"]=Rt.legendTitle),i.isNil(Rt.legendList)||(Rt["g2-legend-list"]=Rt.legendList),Rt=i.omit(Rt,["legendMarker","legendListItem","legendTitle","legendList"]),Rt.dataKey)if(Rt.show===!1)vt.legend(Rt.dataKey,!1);else{var k=i.omit(Rt,["dataKey","show"]);vt.legend(Rt.dataKey,k)}else vt.legend(Rt)}return vt},S=function(vt,gt){var dt=i.cloneDeep(gt.scale),Dt=i.isArray(dt);if(!i.isEmpty(dt)){for(var te=Dt?dt:[dt],Ge={},cr=0,zr=te;cr<zr.length;cr++){var Rt=zr[cr];if(Rt.dataKey){var Ei=i.omit(Rt,"dataKey");Ge[Rt.dataKey]=Ei}}return Ge=o(Ge),vt.scale(Ge)}},A=function(){return A=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},A.apply(this,arguments)},T=[{type:"pie",series:{gemo:"interval",adjust:"stack"},coord:{type:"theta"}},{type:"sector",series:{gemo:"interval"},coord:{type:"polar"}},{type:"line",series:{gemo:"line"}},{type:"smoothLine",series:{gemo:"line",shape:"smooth"}},{type:"dashLine",series:{gemo:"line",shape:"dash"}},{type:"stackLine",series:{gemo:"line",adjust:"stack"}},{type:"area",series:{gemo:"area"}},{type:"stackArea",series:{gemo:"area",adjust:"stack"}},{type:"smoothArea",series:{gemo:"area",shape:"smooth"}},{type:"interval",series:{gemo:"interval"}},{type:"stackInterval",series:{gemo:"interval",adjust:"stack"}},{type:"dodgeInterval",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"bar",series:{gemo:"interval"}},{type:"stackBar",series:{gemo:"interval",shape:"interval",adjust:"stack"}},{type:"dodgeBar",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"point",series:{gemo:"point",shape:"hollowCircle"}},{type:"funnel",series:{gemo:"interval",adjust:"symmetric",shape:"funnel"}},{type:"pyramid",series:{gemo:"interval",adjust:"symmetric",shape:"pyramid"}},{type:"schema",series:{gemo:"schema",shape:"box"}},{type:"box",series:{gemo:"schema",shape:"box"}},{type:"candle",series:{gemo:"schema",shape:"candle"}},{type:"polygon",series:{gemo:"polygon"}},{type:"contour",series:{gemo:"contour"}},{type:"heatmap",series:{gemo:"heatmap"}},{type:"edge",series:{gemo:"edge"}},{type:"sankey",series:{gemo:"edge",shape:"sankey"}},{type:"errorBar",series:{gemo:"schema",shape:"errorbar"}},{type:"jitterPoint",series:{gemo:"point",adjust:"jitter"}},{type:"path",series:{gemo:"path"}},{type:"venn",series:{gemo:"venn"}}],O=function(vt,gt){for(var dt={},Dt=0,te=T;Dt<te.length;Dt++){var Ge=te[Dt];dt[Ge.type]=Ge}for(var cr=0;cr<vt.length;cr++){var zr=dt[vt[cr].quickType];if(zr&&(vt[cr]=A({},zr.series,vt[cr]),gt&&gt.type&&i.get(zr,"coord.type")&&i.get(zr,"coord.type")!==gt.type))throw new Error("quickType and coord had conflicted.")}return vt};function D(vt,gt){var dt=gt.gemo;switch(dt){case"line":vt=vt.line();break;case"area":vt=vt.area();break;case"bar":case"interval":vt=vt.interval();break;case"point":vt=vt.point();break;case"schema":vt=vt.schema();break;case"polygon":vt=vt.polygon();break;case"contour":vt=vt.contour();break;case"heatmap":vt=vt.heatmap();break;case"edge":vt=vt.edge();break;case"path":vt=vt.path();break;case"venn":vt=vt.venn();break;default:vt=vt.line()}return vt}function L(vt,gt){var dt=gt.position;return i.isNil(dt)?vt:vt.position(dt)}function Z(vt,gt){var dt=gt.adjust;return i.isNil(dt)?vt:vt.adjust(dt)}function U(vt,gt){var dt=gt.shape;return i.isString(dt)?vt.shape(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.shape(dt[0],dt[1]):vt.shape(dt[0]):vt}function Y(vt,gt){var dt=gt.color;return i.isString(dt)?vt.color(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.color(dt[0],dt[1]):vt.color(dt[0]):vt}function W(vt,gt){var dt=gt.size;return i.isNumber(dt)||i.isString(dt)?vt.size(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.size(dt[0],dt[1]):vt.size(dt[0]):vt}function J(vt,gt){var dt=gt.opacity;return i.isNumber(dt)||i.isString(dt)?vt.opacity(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.opacity(dt[0],dt[1]):vt.opacity(dt[0]):vt}function ht(vt,gt){var dt=gt.label;if(i.isString(dt))return vt.label(dt);if(i.isArray(dt)&&dt.length>=2){if(i.isNumber(dt[1].density)&&0<dt[1].density&&dt[1].density<1&&(i.isFunction(dt[1].formatter)||i.isString(dt[1].formatter))){var Dt=Math.floor(1/dt[1].density),te=i.isString(dt[1].formatter)?o(dt[1]).formatter:dt[1].formatter;dt[1].formatter=function(Ge,cr,zr){return zr%Dt?" ":te(Ge,cr,zr)}}return vt.label.apply(vt,dt)}return vt}function nt(vt,gt){var dt=gt.style;return i.isArray(dt)&&dt.length>=1?dt[1]?vt.style(dt[0],dt[1]):vt.style(dt[0]):i.isPlainObject(dt)?vt.style(dt):vt}function Q(vt,gt){var dt=gt.tooltip;return i.isBoolean(dt)||i.isString(dt)?vt.tooltip(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.tooltip(dt[0],dt[1]):vt.tooltip(dt[0]):vt}function xt(vt,gt){var dt=gt.select;return i.isBoolean(dt)?vt.select(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.select(dt[0],dt[1]):vt.select(dt[0]):vt}function _t(vt,gt){var dt=gt.active;return i.isArray(dt)?vt.active.apply(vt,dt):i.isBoolean(dt)||i.isPlainObject(dt)?vt.active(dt):vt}function Nt(vt,gt){var dt=gt.animate;return i.isEmpty(dt)?vt:vt.animate(dt)}var rt=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.series),te=i.isArray(Dt);if(i.isNil(Dt)||i.isEmpty(Dt))return vt;var Ge=te?Dt:[Dt];Ge=O(Ge,gt.coord),Ge=i.sortBy(Ge,"zIndex");var cr;return Ge.forEach(function(zr){dt||s(vt,zr.gemo,zr);for(var Rt in zr)zr.hasOwnProperty(Rt)&&c(vt,"label",name,zr[Rt]);cr=D(vt,zr),cr=L(cr,zr),cr=Z(cr,zr),cr=U(cr,zr),cr=Y(cr,zr),cr=J(cr,zr),cr=W(cr,zr),cr=ht(cr,zr),cr=Q(cr,zr),cr=nt(cr,zr),cr=xt(cr,zr),cr=_t(cr,zr),cr=Nt(cr,zr)}),cr},q=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.tooltip);if(i.isNil(Dt)||Dt===!1||Dt.show===!1)return vt.tooltip(!1);for(var te in Dt)Dt.hasOwnProperty(te)&&(te==="g2Tooltip"&&(Dt["g2-tooltip"]=Dt[te],Dt=i.omit(Dt,"g2Tooltip")),te==="g2TooltipTitle"&&(Dt["g2-tooltip-title"]=Dt[te],Dt=i.omit(Dt,"g2TooltipTitle")),te==="g2TooltipList"&&(Dt["g2-tooltip-list"]=Dt[te],Dt=i.omit(Dt,"g2TooltipList")),te==="g2TooltipListItem"&&(Dt["g2-tooltip-list-item"]=Dt[te],Dt=i.omit(Dt,"g2TooltipListItem")),te==="g2TooltipMaker"&&(Dt["g2-tooltip-maker"]=Dt[te],Dt=i.omit(Dt,"g2TooltipMaker")));return dt||s(vt,"tooltip",Dt),vt.tooltip(Dt)},G=function(vt,gt){var dt=i.cloneDeep(gt.tooltip);if(!i.isNil(dt)&&dt!==!1&&dt.show!==!1&&dt.defaultPoint){var Dt=dt.defaultPoint,te=vt.getXY(Dt);te&&vt.showTooltip(te)}},N=x(25925),at=function(vt,gt,dt){N.Shape.registerShape(vt,gt,dt)},H=function(vt,gt,dt){N.Animate.registerAnimation(vt,gt,dt)},ft=function(){return ft=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},ft.apply(this,arguments)},ct="errorbar";function K(vt){return[["M",vt[1].x,vt[1].y],["L",vt[2].x,vt[2].y],["Z"],["M",((vt[1].x||0)+(vt[2].x||0))/2,((vt[1].y||0)+(vt[2].y||0))/2],["L",((vt[0].x||0)+(vt[3].x||0))/2,((vt[0].y||0)+(vt[3].y||0))/2],["Z"],["M",vt[0].x,vt[0].y],["L",vt[3].x,vt[3].y],["Z"]]}var $=function(){var vt=1,gt=!1;at("schema",ct,{getPoints:function(dt){var Dt=dt.x,te=Dt===void 0?0:Dt,Ge=dt.y,cr=Ge===void 0?[0,0,0]:Ge,zr=dt.size,Rt=zr===void 0?0:zr;return[{x:te-Rt/2*vt,y:cr[0]},{x:te-Rt/2*vt,y:cr[2]},{x:te+Rt/2*vt,y:cr[2]},{x:te+Rt/2*vt,y:cr[0]},{x:te,y:cr[1]},{x:te-Rt/2*vt,y:cr[1]}]},drawShape:function(dt,Dt){var te=Dt,Ge=dt.points;return te.addShape("path",{attrs:ft({stroke:dt.color,strokeOpacity:dt.opacity||1,lineWidth:dt.style.lineWidth||1,fill:dt.color,opacity:dt.opacity||1,path:this.parsePath(K(Ge))},dt.style)}),gt&&te.addShape("circle",{attrs:ft({stroke:dt.color,strokeOpacity:dt.opacity||1,lineWidth:dt.style.lineWidth||1,fill:dt.color,opacity:dt.opacity||1,x:this.parsePoint(Ge[4]).x,y:this.parsePoint(Ge[4]).y,r:dt.style.lineWidth+.5||1.5},dt.style)}),te}})},et="sankey";function B(vt,gt){var dt=+vt,Dt=gt-dt;return function(te){return dt+Dt*te}}function w(vt,gt,dt){var Dt=B(vt.x,gt.x),te=Dt(dt),Ge=Dt(1-dt),cr=["C",te,vt.y,Ge,gt.y,gt.x,gt.y];return cr}function R(vt,gt){var dt=[["M",vt[0].x,vt[0].y],["L",vt[1].x,vt[1].y]],Dt=w(vt[1],vt[3],gt);dt.push(Dt),dt.push(["L",vt[3].x,vt[3].y]),dt.push(["L",vt[2].x,vt[2].y]);var te=w(vt[2],vt[0],gt);return dt.push(te),dt.push(["Z"]),dt}var V=function(){at("edge",et,{drawShape:function(vt,gt){var dt=vt.points,Dt=vt.style,te=Dt.curvature||.5,Ge=this.parsePath(R(dt,te)),cr=gt.addShape("path",{attrs:{stroke:"none",strokeOpacity:0,fill:vt.color,opacity:vt.opacity,path:Ge}});return cr}})};function tt(){V(),$()}var lt=function(){return lt=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},lt.apply(this,arguments)},Et=x(25925),ot=x(4922);function Mt(vt){return vt.toLowerCase().replace(/( |^)[a-z]/g,function(gt){return gt.toUpperCase()})}var Ot=function(){function vt(gt){this.viewInstance={},this.config=i.cloneDeep(gt),this.checkChartConfig(this.config),this.chartInstance=new Et.Chart(this.config.chart)}return vt.prototype.getWidth=function(){return this.chartInstance.get("width")},vt.prototype.getHeight=function(){return this.chartInstance.get("height")},vt.prototype.render=function(){var gt=this.config,dt=this.chartInstance;tt(),this.setEvents(dt,gt),this.setDataSource(dt,gt.data),this.setCoord(dt,gt),this.setTooltip(dt,gt),this.setAxis(dt,gt),this.setContent(dt,gt),this.setLegend(dt,gt),this.setViews(dt,gt),this.setFacet(dt,gt),dt.render(),this.setDefaultTooltip(dt,gt),this.setBrush(dt,gt)},vt.prototype.repaint=function(gt){var dt=i.cloneDeep(gt);this.checkChartConfig(dt),this.renderDiffConfig(dt)},vt.prototype.destroy=function(gt){gt&&gt.destroy()},vt.prototype.clear=function(gt){gt&&gt.clear()},vt.prototype.checkChartConfig=function(gt){var dt=gt.chart;if(!dt||!dt.height)throw new Error("please set correct chart option")},vt.prototype.createView=function(gt,dt){var Dt={};dt.start&&(Dt.start=dt.start),dt.end&&(Dt.end=dt.end);var te=gt.view(Dt);if(!dt.viewId)throw new Error("you must set viewId");return this.viewInstance[dt.viewId]=te,te},vt.prototype.setEvents=function(gt,dt){s(gt,"",dt.chart)},vt.prototype.setDataSource=function(gt,dt){!i.isNil(dt)&&!i.isEmpty(dt)&&gt.source(dt)},vt.prototype.setFilter=function(gt,dt){return g(gt,dt)},vt.prototype.setScale=function(gt,dt){return S(gt,dt)},vt.prototype.setCoord=function(gt,dt){return d(gt,dt)},vt.prototype.setSeries=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),rt(gt,dt,Dt)},vt.prototype.setAxis=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),e(gt,dt,Dt)},vt.prototype.setTooltip=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),q(gt,dt,Dt)},vt.prototype.setDefaultTooltip=function(gt,dt){return G(gt,dt)},vt.prototype.setGuide=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),m(gt,dt,Dt)},vt.prototype.setLegend=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),b(gt,dt,Dt)},vt.prototype.setContent=function(gt,dt,Dt){Dt===void 0&&(Dt=!1),this.setScale(gt,dt),this.setFilter(gt,dt),this.setSeries(gt,dt,Dt),this.setGuide(gt,dt,Dt)},vt.prototype.setView=function(gt,dt,Dt,te){te===void 0&&(te=!1);var Ge=this.createView(dt,gt),cr=gt.data?gt.data:Dt.data;return this.setDataSource(Ge,cr),i.isNil(gt.coord)||this.setCoord(Ge,gt),i.isNil(gt.tooltip)||this.setTooltip(Ge,gt,te),i.isNil(gt.axis)||this.setAxis(Ge,gt,te),i.isNil(gt.guide)||this.setGuide(Ge,gt,te),this.setContent(Ge,gt,te),Ge},vt.prototype.setViews=function(gt,dt,Dt){Dt===void 0&&(Dt=!1);var te=i.cloneDeep(dt.views),Ge=Array.isArray(te);if(!(i.isNil(te)||i.isEmpty(te)))for(var cr=Ge?te:[te],zr=0,Rt=cr;zr<Rt.length;zr++){var Ei=Rt[zr];this.setView(Ei,gt,dt,Dt)}},vt.prototype.setFacetViews=function(gt,dt,Dt,te){te===void 0&&(te=!1),this.setDataSource(gt,Dt.data),i.isNil(Dt.coord)||this.setCoord(gt,Dt),i.isNil(Dt.tooltip)||this.setTooltip(gt,Dt,te),i.isNil(Dt.axis)||this.setAxis(gt,Dt,te),i.isNil(Dt.guide)||this.setGuide(gt,Dt,te),this.setContent(gt,Dt)},vt.prototype.setFacet=function(gt,dt,Dt){var te=this;Dt===void 0&&(Dt=!1);var Ge=i.cloneDeep(dt.facet);if(!(i.isNil(Ge)||i.isEmpty(Ge))){var cr=i.omit(Ge,["type","views"]);return i.isEmpty(Ge.views)&&!i.isFunction(Ge.views)||(i.isFunction(Ge.views)?cr.eachView=function(zr,Rt){te.setFacetViews(zr,Rt,Ge.views(zr,Rt),Dt)}:(Ge.views=Array.isArray(Ge.views)?Ge.views:[Ge.views],cr.eachView=function(zr,Rt){te.setFacetViews(zr,Rt,Ge.views[0],Dt)})),gt.facet(Ge.type,cr)}},vt.prototype.setBrush=function(gt,dt){if(!(i.isNil(dt.brush)||i.isEmpty(dt.brush))){var Dt=dt.brush,te=lt({},dt.brush,{canvas:gt.get("canvas"),chart:gt}),Ge=/on(BrushStart|BrushMove|BrushEnd|DragStart|DragMove|DragEnd)/,cr=Object.keys(Dt).filter(function(zr){return Ge.test(zr)});cr.forEach(function(zr){var Rt=Ge.exec(zr);if(Rt&&Rt.length){var Ei="on"+Mt(Rt[0]);te[Ei]=function(ri){Dt[zr](ri,gt)}}}),new ot(te)}},vt.prototype.repaintWidthHeight=function(gt,dt){var Dt=i.get(dt,"chart.width");Dt&&gt.changeWidth(Dt);var te=i.get(dt,"chart.height");te&&gt.changeHeight(te)},vt.prototype.renderDiffConfig=function(gt){var dt=this.chartInstance;this.clear(dt),this.setScale(dt,gt),this.setCoord(dt,gt),this.setFilter(dt,gt),this.setAxis(dt,gt,!0),this.setSeries(dt,gt,!0),this.setTooltip(dt,gt,!0),this.setGuide(dt,gt,!0),this.setViews(dt,gt,!0),this.setLegend(dt,gt,!0),this.setFacet(dt,gt,!0),this.repaintWidthHeight(dt,gt),gt.data&&dt.changeData(gt.data),dt.repaint(),this.setBrush(dt,gt)},vt}(),Ft=Ot,zt=x(25925),$t=x(10817),ce=function(vt){var gt=document.getElementById(vt.container);if(!gt){console.error("plugin slider container not defined");return}gt.innerHTML="";var dt=new $t(vt);return dt.render(),dt},ye=function(vt){var gt={};for(var dt in vt)if(vt.hasOwnProperty(dt)){var Dt=vt[dt];switch(dt){case"slider":gt.slider=ce(Dt);break;default:break}}return gt},Je=x(25925),nr=H,Xe=at,mr=Je.Global;function Gr(vt){var gt=!1;if(i.isEmpty(vt.data)||(gt=!0),!i.isNil(vt.views)&&(i.isPlainObject(vt.views)&&!i.isEmpty(vt.views.data)&&(gt=!0),i.isArray(vt.views)))for(var dt=0,Dt=vt.views;dt<Dt.length;dt++){var te=Dt[dt];i.isEmpty(te.data)||(gt=!0)}return gt}function xe(vt){if(!(i.isNil(vt)||i.isEmpty(vt))){var gt=Gr(vt);if(!!gt){var dt=new Ft(vt);return dt.render(),dt}}}var de=x(45697),ze=x(67294),Ue=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Kr=function(){function vt(){}return vt}(),rn=function(vt){Ue(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="SubComponent",Dt}return gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return null},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewId:de.string,viewType:de.string},gt}(ze.Component),ci=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Coord",dt}return gt}(rn),Zi=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Tooltip",dt}return gt}(rn),Ki=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Legend",dt}return gt}(rn),ji=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Guide",dt}return gt}(rn),Ae=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Axis",dt}return gt}(rn),De=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Brush",dt}return gt}(rn),ar=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Series",dt}return gt}(rn),Pr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Line",dt}return gt}(rn),or=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Pie",dt}return gt}(rn),wr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Sector",dt}return gt}(rn),cn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="SmoothLine",dt}return gt}(rn),Fn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DashLine",dt}return gt}(rn),nn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackLine",dt}return gt}(rn),Hr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Area",dt}return gt}(rn),Gn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackArea",dt}return gt}(rn),$n=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="SmoothArea",dt}return gt}(rn),Vr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Bar",dt}return gt}(rn),Ir=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackBar",dt}return gt}(rn),ti=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DodgeBar",dt}return gt}(rn),ge=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Interval",dt}return gt}(rn),Le=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackInterval",dt}return gt}(rn),Se=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DodgeInterval",dt}return gt}(rn),Ve=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Point",dt}return gt}(rn),le=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Funnel",dt}return gt}(rn),vr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Pyramid",dt}return gt}(rn),He=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Schema",dt}return gt}(rn),rr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Box",dt}return gt}(rn),Dr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Candle",dt}return gt}(rn),Mr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Polygon",dt}return gt}(rn),an=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Contour",dt}return gt}(rn),gn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Heatmap",dt}return gt}(rn),qr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Edge",dt}return gt}(rn),Dn=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Sankey",dt}return gt}(rn),ae=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="ErrorBar",dt}return gt}(rn),er=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="JitterPoint",dt}return gt}(rn),sr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Path",dt}return gt}(rn),kr=function(vt){Ue(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Venn",dt}return gt}(rn),Rn=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),pi=function(){function vt(){}return vt}(),Yi=function(vt){Rn(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="SubPlugin",Dt.state={container:dt.container},Dt}return gt.prototype.getChildContext=function(){return{container:this.state.container}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){var dt=this.state.container;return ze.createElement("div",{id:dt})},gt.childContextTypes={container:de.string},gt.contextTypes={centralizedUpdates:de.func},gt}(ze.Component),da=function(vt){Rn(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Slider",dt}return gt}(Yi),_a=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),fa=function(){return fa=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},fa.apply(this,arguments)};function wo(vt){return vt.replace(/^\S/,function(gt){return gt.toLowerCase()})}function ho(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)>=0&&(dt[Dt]=vt[Dt])}return dt}function mo(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)<0&&(dt[Dt]=vt[Dt])}return dt}function yo(vt){for(var gt in vt)if(vt.hasOwnProperty(gt))return!1;return!0}var zo=function(vt){_a(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.config={},Dt.views={},Dt.facetviews={},Dt.centralizedUpdates=function(te){var Ge=Dt.config,cr=te.props,zr=te.displayName,Rt=te.context.hasInViews;if(zr==="Facet"){var Ei=mo(cr,"children");Ge.facet=Ei}else if(zr==="FacetView"){var ri=te.state.viewId;Dt.facetviews[ri]||(Dt.facetviews[ri]={viewId:ri}),Dt.combineViewConfig(cr,Dt.facetviews[ri])}else if(zr==="View"){var ri=te.state.viewId;Dt.views[ri]||(Dt.views[ri]={viewId:ri}),Dt.combineViewConfig(cr,Dt.views[ri])}else if(!Rt)Dt.combineContentConfig(zr,cr,Ge);else{var k=te.context.viewType,ri=te.context.viewId;k==="view"?(Dt.views[ri]||(Dt.views[ri]={viewId:ri}),Dt.combineContentConfig(zr,cr,Dt.views[ri])):k==="facet"&&(Dt.facetviews[ri]||(Dt.facetviews[ri]={viewId:ri}),Dt.combineContentConfig(zr,cr,Dt.facetviews[ri]))}},Dt.portalRef=function(te){Dt.container||(Dt.container=te)},Dt}return gt.prototype.getChildContext=function(){return{centralizedUpdates:this.centralizedUpdates,hasInViews:!1,viewType:"view"}},gt.prototype.combineChartConfig=function(dt,Dt){var te=["height","width","animate","forceFit","background","plotBackground","padding","theme","renderer","onMouseDown","onMouseMove","onMouseUp","onClick","onDbClick","onTouchStart","onTouchMove","onTouchEnd","onPlotEnter","onPlotMove","onPlotLeave","onPlotClick","onPlotDbClick"];Dt.chart=ho(dt,te)},gt.prototype.combineViewConfig=function(dt,Dt){dt.data&&(Dt.data=dt.data),dt.scale&&(Dt.scale=dt.scale),dt.filter&&(Dt.filter=dt.filter),dt.start&&(Dt.start=dt.start),dt.end&&(Dt.end=dt.end)},gt.prototype.combineContentConfig=function(dt,Dt,te){var Ge=wo(dt),cr=dt.toLowerCase(),zr=["pie","sector","line","smoothLine","dashLine","stackLine","area","stackArea","smoothArea","bar","stackBar","dodgeBar","interval","stackInterval","dodgeInterval","point","waterfall","funnel","pyramid","radialBar","schema","box","candle","polygon","contour","heatmap","edge","sankey","jitterPoint","path","venn"];return zr.indexOf(Ge)<0&&yo(Dt)?te[cr]=!0:zr.indexOf(Ge)>=0?(te.series||(te.series=[]),te.series.push(fa({quickType:Ge},Dt))):cr==="axis"?(te.axis||(te.axis=[]),te.axis.push(Dt)):cr==="series"?(te.series||(te.series=[]),te.series.push(Dt)):cr==="guide"?(te.guide||(te.guide=[]),te.guide.push(Dt)):cr==="legend"?(te.legend||(te.legend=[]),te.legend.push(Dt)):te[cr]=Dt,te},gt.prototype.changeViewConfig=function(){var dt=this.views,Dt=this.facetviews,te=this.config;if(!yo(dt)){te.views=[];for(var Ge in dt)dt.hasOwnProperty(Ge)&&te.views.push(dt[Ge])}if(!yo(Dt)){te.facet.views=[];for(var Ge in Dt)Dt.hasOwnProperty(Ge)&&te.facet.views.push(Dt[Ge])}},gt.prototype.createChartInstance=function(dt){this.chart&&this.chart.destroy(),this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),dt.chart.container=this.container,this.changeViewConfig(),this.chart=xe(dt)},gt.prototype.repaintChartInstance=function(dt){this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.changeViewConfig(),this.chart?this.chart.repaint(dt):(dt.chart.container=this.container,this.chart=xe(dt))},gt.prototype.clearConfigData=function(){this.config={},this.views={}},gt.prototype.componentDidMount=function(){this.createChartInstance(this.config),this.clearConfigData()},gt.prototype.componentDidUpdate=function(dt){this.repaintChartInstance(this.config),this.clearConfigData()},gt.prototype.componentWillUnmount=function(){this.chart&&(this.chart.destroy(),this.chart=null),this.container=null},gt.prototype.render=function(){return ze.createElement("div",{ref:this.portalRef},this.props.children)},gt.childContextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewType:de.string},gt}(ze.Component),io=zo,Za=x(73935),qa=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Zt=Za.createPortal!==void 0;function je(){return Math.floor(new Date().getTime()+Math.random()*1e4).toString()}var lr=function(vt){qa(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="View",Dt.state={hasInViews:!0,viewId:Dt.props.viewId||je()},Dt}return gt.prototype.getChildContext=function(){return{hasInViews:this.state.hasInViews,viewId:this.state.viewId}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return Zt?this.props.children:ze.Children.only(this.props.children)},gt.childContextTypes={hasInViews:de.bool,viewId:de.string},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool},gt}(ze.Component),Br=null,Vt=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),ee=Za.createPortal!==void 0;function Ce(){return Math.floor(new Date().getTime()+Math.random()*1e4).toString()}var Me=function(vt){Vt(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="FacetView",Dt.state={hasInViews:!0,viewId:Dt.props.viewId||Ce(),viewType:"facet"},Dt}return gt.prototype.getChildContext=function(){return{hasInViews:this.state.hasInViews,viewId:this.state.viewId,viewType:this.state.viewType}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return ee?this.props.children:ze.Children.only(this.props.children)},gt.childContextTypes={hasInViews:de.bool,viewId:de.string,viewType:de.string},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewType:de.string},gt}(ze.Component),Sr=null,pn=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),En=Za.createPortal!==void 0,fi=function(vt){pn(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="Facet",Dt}return gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return this.props.children?En?this.props.children:ze.Children.only(this.props.children):null},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewId:de.string},gt}(ze.Component),Ci=fi,aa=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),ta=function(){return ta=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},ta.apply(this,arguments)};function Ea(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)>=0&&(dt[Dt]=vt[Dt])}return dt}var ca=function(vt){aa(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.config={},Dt.displayName="",Dt.portalRef=function(te){Dt.container||(Dt.container=te)},Dt}return gt.prototype.combineChartConfig=function(dt,Dt){var te=["height","width","animate","forceFit","background","plotBackground","padding"];return Dt.chart=Ea(dt,te),Dt},gt.prototype.combineViewConfig=function(dt,Dt){return dt.data&&(Dt.data=dt.data),dt.dataPre&&(Dt.dataPre=dt.dataPre),dt.scale&&(Dt.scale=dt.scale),dt.guide&&(Dt.guide=dt.guide),Dt.tooltip=dt.tooltip?dt.tooltip:!0,Dt.legend=dt.legend?dt.legend:!0,Dt.axis=dt.axis?dt.axis:!0,Dt},gt.prototype.combineSeriesConfig=function(dt,Dt){for(var te=["pie","sector","line","smoothLine","dashLine","area","stackArea","smoothArea","bar","stackBar","dodgeBar","interval","stackInterval","dodgeInterval","point","waterfall","funnel","pyramid","radialBar","schema","box","candle","polygon","contour","heatmap","edge","jitterPoint"],Ge=0,cr=te;Ge<cr.length;Ge++){var zr=cr[Ge];if(dt[zr]){Dt.series=ta({},Dt.series,{quickType:zr});break}}return Dt},gt.prototype.createChartInstance=function(dt){var Dt=this.elm;Dt&&Za.unmountComponentAtNode(Dt),this.chart&&this.chart.destroy(),this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.combineSeriesConfig(this.props,this.config);var te=document.createElement("div");this.container.appendChild(te),dt.chart.container=te,this.elm=document.createElement("div"),this.chart=xe(dt)},gt.prototype.repaintChartInstance=function(dt){this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.combineSeriesConfig(this.props,this.config),this.chart?this.chart.repaint(dt):(dt.chart.container=this.container,this.chart=xe(dt))},gt.prototype.clearConfigData=function(){this.config={}},gt.prototype.componentDidMount=function(){this.createChartInstance(this.config),this.clearConfigData()},gt.prototype.componentDidUpdate=function(){this.repaintChartInstance(this.config),this.clearConfigData()},gt.prototype.componentWillUnmount=function(){this.chart&&(this.chart.destroy(),this.chart=null),this.elm=this.container=null},gt.prototype.render=function(){return ze.createElement("div",{ref:this.portalRef},this.props.children)},gt}(ze.Component),to=null,za=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var Ge in te)te.hasOwnProperty(Ge)&&(Dt[Ge]=te[Ge])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Ia=function(){return Ia=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},Ia.apply(this,arguments)},Va=function(vt){za(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.config={},dt.plugins=null,dt.centralizedUpdates=function(Dt){var te=dt.config,Ge=Dt.props,cr=Dt.displayName;if(cr==="Slider"){var zr=Ge.container;(!zr||!document.getElementById(zr))&&(Ge=Ia({},Ge,{container:Dt.state.containerId}))}dt.combineContentConfig(cr,Ge,te),dt.updateSliderInstance(te)},dt.portalRef=function(Dt){dt.container||(dt.container=Dt)},dt}return gt.prototype.getChildContext=function(){return{centralizedUpdates:this.centralizedUpdates}},gt.prototype.combineContentConfig=function(dt,Dt,te){var Ge=dt.toLowerCase();te[Ge]=Dt},gt.prototype.updateSliderInstance=function(dt){this.plugins||(this.plugins=ye(dt)),this.plugins&&this.plugins.slider&&dt.slider&&(this.plugins=ye(dt))},gt.prototype.clearConfigData=function(){this.config={}},gt.prototype.render=function(){return ze.createElement("div",{ref:this.portalRef},this.props.children)},gt.childContextTypes={centralizedUpdates:de.func},gt}(ze.Component),ro=null,Ee=nr,be=Xe,pe=mr},75752:function(gr){gr.exports.RADIUS=6378137,gr.exports.FLATTENING=1/298.257223563,gr.exports.POLAR_RADIUS=63567523142e-4}}]);
