(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[654],{81618:function(mr){"use strict";(function(P,S){mr.exports=S()})(this,function(){function P(r){var e=[];return r.AMapUI&&e.push(S(r.AMapUI)),r.Loca&&e.push(i(r.Loca)),Promise.all(e)}function S(r){return new Promise(function(e,n){var a=[];if(r.plugins)for(var u=0;u<r.plugins.length;u+=1)c.AMapUI.plugins.indexOf(r.plugins[u])==-1&&a.push(r.plugins[u]);if(s.AMapUI===t.failed)n("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(s.AMapUI===t.notload){s.AMapUI=t.loading,c.AMapUI.version=r.version||c.AMapUI.version,u=c.AMapUI.version;var l=document.body||document.head,h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/ui/"+u+"/main.js",h.onerror=function(p){s.AMapUI=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},h.onload=function(){if(s.AMapUI=t.loaded,a.length)window.AMapUI.loadUI(a,function(){for(var p=0,d=a.length;p<d;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}for(e();v.AMapUI.length;)v.AMapUI.splice(0,1)[0]()});else for(e();v.AMapUI.length;)v.AMapUI.splice(0,1)[0]()},l.appendChild(h)}else s.AMapUI===t.loaded?r.version&&r.version!==c.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):a.length?window.AMapUI.loadUI(a,function(){for(var p=0,d=a.length;p<d;p++){var g=a[p].split("/").slice(-1)[0];window.AMapUI[g]=arguments[p]}e()}):e():r.version&&r.version!==c.AMapUI.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):v.AMapUI.push(function(p){p?n(p):a.length?window.AMapUI.loadUI(a,function(){for(var d=0,g=a.length;d<g;d++){var y=a[d].split("/").slice(-1)[0];window.AMapUI[y]=arguments[d]}e()}):e()})})}function i(r){return new Promise(function(e,n){if(c.AMap.version.startsWith("2.0"))n("Loca \u6682\u4E0D\u9002\u914D JSAPI 2.0,\u8BF7\u4F7F\u7528 1.4.15");else if(s.Loca===t.failed)n("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(s.Loca===t.notload){s.Loca=t.loading,c.Loca.version=r.version||c.Loca.version;var a=c.Loca.version,u=c.key,l=document.body||document.head,h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/loca?v="+a+"&key="+u,h.onerror=function(p){s.Loca=t.failed,n("\u8BF7\u6C42 AMapUI \u5931\u8D25")},h.onload=function(){for(s.Loca=t.loaded,e();v.Loca.length;)v.Loca.splice(0,1)[0]()},l.appendChild(h)}else s.Loca===t.loaded?r.version&&r.version!==c.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):e():r.version&&r.version!==c.Loca.version?n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):v.Loca.push(function(p){p?n(p):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(r){r.notload="notload",r.loading="loading",r.loaded="loaded",r.failed="failed"})(t||(t={}));var c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},v={AMap:[],AMapUI:[],Loca:[]},o=[],f=function(r){typeof r=="function"&&(s.AMap===t.loaded?r(window.AMap):o.push(r))};return{load:function(r){return new Promise(function(e,n){if(s.AMap==t.failed)n("");else if(s.AMap==t.notload){var a=r.key,u=r.version,l=r.plugins;a?(window.AMap&&location.host!=="lbs.amap.com"&&n("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),c.key=a,c.AMap.version=u||c.AMap.version,c.AMap.plugins=l||c.AMap.plugins,s.AMap=t.loading,u=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)s.AMap=t.failed,n(p);else for(s.AMap=t.loaded,P(r).then(function(){e(window.AMap)}).catch(n);o.length;)o.splice(0,1)[0]()},l=document.createElement("script"),l.type="text/javascript",l.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+c.AMap.version+"&key="+a+"&plugin="+c.AMap.plugins.join(","),l.onerror=function(p){s.AMap=t.failed,n(p)},u.appendChild(l)):n("\u8BF7\u586B\u5199key")}else if(s.AMap==t.loaded)if(r.key&&r.key!==c.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(r.version&&r.version!==c.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(a=[],r.plugins)for(u=0;u<r.plugins.length;u+=1)c.AMap.plugins.indexOf(r.plugins[u])==-1&&a.push(r.plugins[u]);a.length?window.AMap.plugin(a,function(){P(r).then(function(){e(window.AMap)}).catch(n)}):P(r).then(function(){e(window.AMap)}).catch(n)}else if(r.key&&r.key!==c.key)n("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(r.version&&r.version!==c.AMap.version)n("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var h=[];if(r.plugins)for(u=0;u<r.plugins.length;u+=1)c.AMap.plugins.indexOf(r.plugins[u])==-1&&h.push(r.plugins[u]);f(function(){h.length?window.AMap.plugin(h,function(){P(r).then(function(){e(window.AMap)}).catch(n)}):P(r).then(function(){e(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},v={AMap:[],AMapUI:[],Loca:[]}}}})},64317:function(mr,P,S){"use strict";var i=S(67294),t=S(6454),c=S(22270),s=S(66758),v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],o=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"];function f(){return f=Object.assign||function(y){for(var x=1;x<arguments.length;x++){var A=arguments[x];for(var m in A)Object.prototype.hasOwnProperty.call(A,m)&&(y[m]=A[m])}return y},f.apply(this,arguments)}function r(y,x){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);x&&(m=m.filter(function(M){return Object.getOwnPropertyDescriptor(y,M).enumerable})),A.push.apply(A,m)}return A}function e(y){for(var x=1;x<arguments.length;x++){var A=arguments[x]!=null?arguments[x]:{};x%2?r(Object(A),!0).forEach(function(m){n(y,m,A[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):r(Object(A)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(A,m))})}return y}function n(y,x,A){return x in y?Object.defineProperty(y,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):y[x]=A,y}function a(y,x){if(y==null)return{};var A=u(y,x),m,M;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);for(M=0;M<b.length;M++)m=b[M],!(x.indexOf(m)>=0)&&(!Object.prototype.propertyIsEnumerable.call(y,m)||(A[m]=y[m]))}return A}function u(y,x){if(y==null)return{};var A={},m=Object.keys(y),M,b;for(b=0;b<m.length;b++)M=m[b],!(x.indexOf(M)>=0)&&(A[M]=y[M]);return A}var l=i.forwardRef(function(y,x){var A=y.fieldProps,m=y.children,M=y.params,b=y.proFieldProps,E=y.mode,C=y.valueEnum,T=y.request,O=y.showSearch,L=y.options,R=a(y,v),W=(0,i.useContext)(s.Z);return i.createElement(t.Z,f({mode:"edit",valueEnum:(0,c.h)(C),request:T,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:e({options:L,mode:E,showSearch:O,getPopupContainer:W.getPopupContainer},A),ref:x,proFieldProps:b},R),m)}),h=i.forwardRef(function(y,x){var A=y.fieldProps,m=y.children,M=y.params,b=y.proFieldProps,E=y.mode,C=y.valueEnum,T=y.request,O=y.options,L=a(y,o),R=e({options:O,mode:E||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},A),W=(0,i.useContext)(s.Z);return i.createElement(t.Z,f({mode:"edit",valueEnum:(0,c.h)(C),request:T,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:e({getPopupContainer:W.getPopupContainer},R),ref:x,proFieldProps:b},L),m)}),p=l,d=h,g=p;g.SearchSelect=d,g.displayName="ProFormComponent",P.Z=g},11338:function(mr,P,S){"use strict";S.d(P,{Z:function(){return ht}});var i=S(9715),t=S(86585),c=S(84305),s=S(69224),v=S(67294),o=S(94184),f=S.n(o),r=S(76422),e=S(1643),n=S(94237),a=S(28991),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},l=u,h=S(27029),p=function(Q,xt){return v.createElement(h.Z,(0,a.Z)((0,a.Z)({},Q),{},{ref:xt,icon:l}))};p.displayName="FilterOutlined";var d=v.forwardRef(p),g=S(97435),y=S(52241),x=S(29504),A=["size","collapse","collapseLabel","initialValues","onValuesChange","form","bordered","ignoreRules","footerRender"];function m(){return m=Object.assign||function(at){for(var Q=1;Q<arguments.length;Q++){var xt=arguments[Q];for(var kt in xt)Object.prototype.hasOwnProperty.call(xt,kt)&&(at[kt]=xt[kt])}return at},m.apply(this,arguments)}function M(at,Q){if(at==null)return{};var xt=b(at,Q),kt,Nt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(at);for(Nt=0;Nt<nt.length;Nt++)kt=nt[Nt],!(Q.indexOf(kt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(at,kt)||(xt[kt]=at[kt]))}return xt}function b(at,Q){if(at==null)return{};var xt={},kt=Object.keys(at),Nt,nt;for(nt=0;nt<kt.length;nt++)Nt=kt[nt],!(Q.indexOf(Nt)>=0)&&(xt[Nt]=at[Nt]);return xt}function E(at,Q){var xt=Object.keys(at);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(at);Q&&(kt=kt.filter(function(Nt){return Object.getOwnPropertyDescriptor(at,Nt).enumerable})),xt.push.apply(xt,kt)}return xt}function C(at){for(var Q=1;Q<arguments.length;Q++){var xt=arguments[Q]!=null?arguments[Q]:{};Q%2?E(Object(xt),!0).forEach(function(kt){T(at,kt,xt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(xt)):E(Object(xt)).forEach(function(kt){Object.defineProperty(at,kt,Object.getOwnPropertyDescriptor(xt,kt))})}return at}function T(at,Q,xt){return Q in at?Object.defineProperty(at,Q,{value:xt,enumerable:!0,configurable:!0,writable:!0}):at[Q]=xt,at}function O(at,Q){return X(at)||U(at,Q)||R(at,Q)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(at,Q){if(!!at){if(typeof at=="string")return W(at,Q);var xt=Object.prototype.toString.call(at).slice(8,-1);if(xt==="Object"&&at.constructor&&(xt=at.constructor.name),xt==="Map"||xt==="Set")return Array.from(at);if(xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt))return W(at,Q)}}function W(at,Q){(Q==null||Q>at.length)&&(Q=at.length);for(var xt=0,kt=new Array(Q);xt<Q;xt++)kt[xt]=at[xt];return kt}function U(at,Q){var xt=at==null?null:typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(xt!=null){var kt=[],Nt=!0,nt=!1,q,G;try{for(xt=xt.call(at);!(Nt=(q=xt.next()).done)&&(kt.push(q.value),!(Q&&kt.length===Q));Nt=!0);}catch(N){nt=!0,G=N}finally{try{!Nt&&xt.return!=null&&xt.return()}finally{if(nt)throw G}}return kt}}function X(at){if(Array.isArray(at))return at}var Z=function(Q){var xt=Q.items,kt=Q.prefixCls,Nt=Q.size,nt=Nt===void 0?"middle":Nt,q=Q.collapse,G=Q.collapseLabel,N=Q.onValuesChange,it=Q.bordered,H=Q.values,ct=H===void 0?{}:H,ft=Q.footerRender,K=(0,n.YB)(),$="".concat(kt,"-light-filter"),et=(0,v.useState)(!1),j=O(et,2),w=j[0],D=j[1],V=(0,v.useState)(function(){return C({},ct)}),tt=O(V,2),lt=tt[0],St=tt[1];(0,v.useEffect)(function(){St(C({},ct))},[ct]);var ot=(0,v.useMemo)(function(){var zt=[],$t=[];return xt.forEach(function(he){var ye=he.props||{},tr=ye.secondary;tr||q?zt.push(he):$t.push(he)}),{collapseItems:zt,outsideItems:$t}},[Q.items.length]),Mt=ot.collapseItems,Ot=ot.outsideItems,Ft=function(){return G||(q?v.createElement(d,{className:"".concat($,"-collapse-icon")}):v.createElement(r.Z,{size:nt,label:K.getMessage("form.lightFilter.more","\u66F4\u591A\u7B5B\u9009"),expanded:w}))};return v.createElement("div",{className:f()($,"".concat($,"-").concat(nt),T({},"".concat($,"-effective"),Object.keys(ct).some(function(zt){return ct[zt]})))},v.createElement("div",{className:"".concat($,"-container")},Ot.map(function(zt,$t){var he=zt.key;return v.createElement("div",{className:"".concat($,"-item"),key:he||$t},v.cloneElement(zt,{proFieldProps:{light:!0,label:zt.props.label,bordered:it},bordered:it}))}),Mt.length?v.createElement("div",{className:"".concat($,"-item"),key:"more"},v.createElement(e.Z,{padding:24,onVisibleChange:D,visible:w,label:Ft(),footerRender:ft,footer:{onConfirm:function(){N(C({},lt)),D(!1)},onClear:function(){var $t={};Mt.forEach(function(he){var ye=he.props.name;$t[ye]=void 0}),N($t)}}},Mt.map(function(zt){var $t=zt.key,he=zt.props,ye=he.name,tr=he.fieldProps,nr=C(C({},tr),{},{onChange:function(yr){return St(C(C({},lt),{},T({},ye,(yr==null?void 0:yr.target)?yr.target.value:yr))),!1}});return lt.hasOwnProperty(ye)&&(nr[zt.props.valuePropName||"value"]=lt[ye]),v.createElement("div",{className:"".concat($,"-line"),key:$t},v.cloneElement(zt,{fieldProps:nr}))}))):null))};function J(at){var Q=at.size,xt=at.collapse,kt=at.collapseLabel,Nt=at.initialValues,nt=at.onValuesChange,q=at.form,G=at.bordered,N=at.ignoreRules,it=at.footerRender,H=M(at,A),ct=(0,v.useContext)(s.ZP.ConfigContext),ft=ct.getPrefixCls,K=ft("pro-form"),$=t.Z.useForm(),et=O($,1),j=et[0],w=q||j,D=(0,v.useState)(function(){return C({},Nt)}),V=O(D,2),tt=V[0],lt=V[1];return v.createElement(y.Z,m({size:Q,initialValues:Nt,form:w,contentRender:function(ot){return v.createElement(Z,{prefixCls:K,items:ot.flatMap(function(Mt){return(Mt==null?void 0:Mt.type.displayName)==="ProForm-Group"?Mt.props.children:Mt}),size:Q,bordered:G,collapse:xt,collapseLabel:kt,values:tt,footerRender:it,onValuesChange:function(Ot){var Ft=C(C({},tt),Ot);lt(Ft),w.setFieldsValue(Ft),w.submit(),nt&&nt(Ot,Ft)}})},formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},(0,g.Z)(H,["labelWidth"]),{onValuesChange:function(ot,Mt){lt(Mt),nt&&nt(ot,Mt),w.submit()}}))}var ht=J},46343:function(mr,P,S){"use strict";S.d(P,{zj:function(){return Q},oI:function(){return nt},ni:function(){return Z},gg:function(){return Nt}});var i=S(34155);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function t(q,G,N,it){function H(ct){return ct instanceof N?ct:new N(function(ft){ft(ct)})}return new(N||(N=Promise))(function(ct,ft){function K(j){try{et(it.next(j))}catch(w){ft(w)}}function $(j){try{et(it.throw(j))}catch(w){ft(w)}}function et(j){j.done?ct(j.value):H(j.value).then(K,$)}et((it=it.apply(q,G||[])).next())})}function c(q,G){var N={label:0,sent:function(){if(ct[0]&1)throw ct[1];return ct[1]},trys:[],ops:[]},it,H,ct,ft;return ft={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(ft[Symbol.iterator]=function(){return this}),ft;function K(et){return function(j){return $([et,j])}}function $(et){if(it)throw new TypeError("Generator is already executing.");for(;N;)try{if(it=1,H&&(ct=et[0]&2?H.return:et[0]?H.throw||((ct=H.return)&&ct.call(H),0):H.next)&&!(ct=ct.call(H,et[1])).done)return ct;switch(H=0,ct&&(et=[et[0]&2,ct.value]),et[0]){case 0:case 1:ct=et;break;case 4:return N.label++,{value:et[1],done:!1};case 5:N.label++,H=et[1],et=[0];continue;case 7:et=N.ops.pop(),N.trys.pop();continue;default:if(ct=N.trys,!(ct=ct.length>0&&ct[ct.length-1])&&(et[0]===6||et[0]===2)){N=0;continue}if(et[0]===3&&(!ct||et[1]>ct[0]&&et[1]<ct[3])){N.label=et[1];break}if(et[0]===6&&N.label<ct[1]){N.label=ct[1],ct=et;break}if(ct&&N.label<ct[2]){N.label=ct[2],N.ops.push(et);break}ct[2]&&N.ops.pop(),N.trys.pop();continue}et=G.call(q,N)}catch(j){et=[6,j],H=0}finally{it=ct=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}function s(q,G){var N=typeof Symbol=="function"&&q[Symbol.iterator];if(!N)return q;var it=N.call(q),H,ct=[],ft;try{for(;(G===void 0||G-- >0)&&!(H=it.next()).done;)ct.push(H.value)}catch(K){ft={error:K}}finally{try{H&&!H.done&&(N=it.return)&&N.call(it)}finally{if(ft)throw ft.error}}return ct}function v(){for(var q=[],G=0;G<arguments.length;G++)q=q.concat(s(arguments[G]));return q}function o(q){return q&&q.__esModule&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q}function f(q,G){return G={exports:{}},q(G,G.exports),G.exports}var r=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(it){return it&&typeof it.length=="number"&&it.length>=0&&it.length%1==0}q.exports=G.default});o(r);var e=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(N){return function(){for(var it=[],H=arguments.length;H--;)it[H]=arguments[H];var ct=it.pop();return N.call(this,it,ct)}},q.exports=G.default});o(e);var n=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.fallback=H,G.wrap=ct;var N=G.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,it=G.hasNextTick=typeof i=="object"&&typeof i.nextTick=="function";function H(K){setTimeout(K,0)}function ct(K){return function($){for(var et=[],j=arguments.length-1;j-- >0;)et[j]=arguments[j+1];return K(function(){return $.apply(void 0,et)})}}var ft;N?ft=setImmediate:it?ft=i.nextTick:ft=H,G.default=ct(ft)});o(n);var a=n.fallback,u=n.wrap,l=n.hasSetImmediate,h=n.hasNextTick,p=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ct;var N=H(e),it=H(n);function H($){return $&&$.__esModule?$:{default:$}}function ct($){return(0,d.isAsync)($)?function(){for(var et=[],j=arguments.length;j--;)et[j]=arguments[j];var w=et.pop(),D=$.apply(this,et);return ft(D,w)}:(0,N.default)(function(et,j){var w;try{w=$.apply(this,et)}catch(D){return j(D)}if(w&&typeof w.then=="function")return ft(w,j);j(null,w)})}function ft($,et){return $.then(function(j){K(et,null,j)},function(j){K(et,j&&j.message?j:new Error(j))})}function K($,et,j){try{$(et,j)}catch(w){(0,it.default)(function(D){throw D},w)}}q.exports=G.default});o(p);var d=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.isAsyncIterable=G.isAsyncGenerator=G.isAsync=void 0;var N=it(p);function it($){return $&&$.__esModule?$:{default:$}}function H($){return $[Symbol.toStringTag]==="AsyncFunction"}function ct($){return $[Symbol.toStringTag]==="AsyncGenerator"}function ft($){return typeof $[Symbol.asyncIterator]=="function"}function K($){if(typeof $!="function")throw new Error("expected a function");return H($)?(0,N.default)($):$}G.default=K,G.isAsync=H,G.isAsyncGenerator=ct,G.isAsyncIterable=ft});o(d);var g=d.isAsyncIterable,y=d.isAsyncGenerator,x=d.isAsync,A=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(it,H){if(H===void 0&&(H=it.length),!H)throw new Error("arity is undefined");function ct(){for(var ft=this,K=[],$=arguments.length;$--;)K[$]=arguments[$];return typeof K[H-1]=="function"?it.apply(this,K):new Promise(function(et,j){K[H-1]=function(w){for(var D=[],V=arguments.length-1;V-- >0;)D[V]=arguments[V+1];if(w)return j(w);et(D.length>1?D:D[0])},it.apply(ft,K)})}return Object.defineProperty(ct,"name",{configurable:!0,value:"awaitable("+it.name+")"}),ct}q.exports=G.default});o(A);var m=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ct(r),it=ct(d),H=ct(A);function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}G.default=(0,H.default)(function(ft,K,$){var et=(0,N.default)(K)?[]:{};ft(K,function(j,w,D){(0,it.default)(j)(function(V){for(var tt,lt=[],St=arguments.length-1;St-- >0;)lt[St]=arguments[St+1];lt.length<2&&(tt=lt,lt=tt[0]),et[w]=lt,D(V)})},function(j){return $(j,et)})},3),q.exports=G.default});o(m);var M=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(it){function H(){for(var ct=[],ft=arguments.length;ft--;)ct[ft]=arguments[ft];if(it!==null){var K=it;it=null,K.apply(this,ct)}}return Object.assign(H,it),H}q.exports=G.default});o(M);var b=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(N){return N[Symbol.iterator]&&N[Symbol.iterator]()},q.exports=G.default});o(b);var E=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=$;var N=H(r),it=H(b);function H(et){return et&&et.__esModule?et:{default:et}}function ct(et){var j=-1,w=et.length;return function(){return++j<w?{value:et[j],key:j}:null}}function ft(et){var j=-1;return function(){var D=et.next();return D.done?null:(j++,{value:D.value,key:j})}}function K(et){var j=et?Object.keys(et):[],w=-1,D=j.length;return function(){var tt=j[++w];return w<D?{value:et[tt],key:tt}:null}}function $(et){if((0,N.default)(et))return ct(et);var j=(0,it.default)(et);return j?ft(j):K(et)}q.exports=G.default});o(E);var C=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(it){return function(){for(var H=[],ct=arguments.length;ct--;)H[ct]=arguments[ct];if(it===null)throw new Error("Callback was already called.");var ft=it;it=null,ft.apply(this,H)}}q.exports=G.default});o(C);var T=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N={};G.default=N,q.exports=G.default});o(T);var O=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=H;var N=it(T);function it(ct){return ct&&ct.__esModule?ct:{default:ct}}function H(ct,ft,K,$){var et=!1,j=!1,w=!1,D=0,V=0;function tt(){D>=ft||w||et||(w=!0,ct.next().then(function(ot){var Mt=ot.value,Ot=ot.done;if(!(j||et)){if(w=!1,Ot){et=!0,D<=0&&$(null);return}D++,K(Mt,V,lt),V++,tt()}}).catch(St))}function lt(ot,Mt){if(D-=1,!j){if(ot)return St(ot);if(ot===!1){et=!0,j=!0;return}if(Mt===N.default||et&&D<=0)return et=!0,$(null);tt()}}function St(ot){j||(w=!1,et=!0,$(ot))}tt()}q.exports=G.default});o(O);var L=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=K(M),it=K(E),H=K(C),ct=K(O),ft=K(T);function K($){return $&&$.__esModule?$:{default:$}}G.default=function($){return function(et,j,w){if(w=(0,N.default)(w),$<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!et)return w(null);if((0,d.isAsyncGenerator)(et))return(0,ct.default)(et,$,j,w);if((0,d.isAsyncIterable)(et))return(0,ct.default)(et[Symbol.asyncIterator](),$,j,w);var D=(0,it.default)(et),V=!1,tt=!1,lt=0,St=!1;function ot(Ot,Ft){if(!tt)if(lt-=1,Ot)V=!0,w(Ot);else if(Ot===!1)V=!0,tt=!0;else{if(Ft===ft.default||V&&lt<=0)return V=!0,w(null);St||Mt()}}function Mt(){for(St=!0;lt<$&&!V;){var Ot=D();if(Ot===null){V=!0,lt<=0&&w(null);return}lt+=1,j(Ot.value,Ot.key,(0,H.default)(ot))}St=!1}Mt()}},q.exports=G.default});o(L);var R=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ct(L),it=ct(d),H=ct(A);function ct(K){return K&&K.__esModule?K:{default:K}}function ft(K,$,et,j){return(0,N.default)($)(K,(0,it.default)(et),j)}G.default=(0,H.default)(ft,4),q.exports=G.default});o(R);var W=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=H(R),it=H(A);function H(ft){return ft&&ft.__esModule?ft:{default:ft}}function ct(ft,K,$){return(0,N.default)(ft,1,K,$)}G.default=(0,it.default)(ct,3),q.exports=G.default});o(W);var U=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ct;var N=H(m),it=H(W);function H(ft){return ft&&ft.__esModule?ft:{default:ft}}function ct(ft,K){return(0,N.default)(it.default,ft,K)}q.exports=G.default}),X=o(U),Z=function(){function q(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];this.args=[],this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];return this.args=N,X(this.tasks)},q.prototype.tap=function(G,N){var it=this;this.tasks.push(function(H){N.apply(void 0,v(it.args)),H(null,G)})},q}(),J=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=et(r),it=et(T),H=et(R),ct=et(M),ft=et(C),K=et(d),$=et(A);function et(V){return V&&V.__esModule?V:{default:V}}function j(V,tt,lt){lt=(0,ct.default)(lt);var St=0,ot=0,Mt=V.length,Ot=!1;Mt===0&&lt(null);function Ft(zt,$t){zt===!1&&(Ot=!0),Ot!==!0&&(zt?lt(zt):(++ot===Mt||$t===it.default)&&lt(null))}for(;St<Mt;St++)tt(V[St],St,(0,ft.default)(Ft))}function w(V,tt,lt){return(0,H.default)(V,Infinity,tt,lt)}function D(V,tt,lt){var St=(0,N.default)(V)?j:w;return St(V,(0,K.default)(tt),lt)}G.default=(0,$.default)(D,3),q.exports=G.default});o(J);var ht=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=ct;var N=H(J),it=H(m);function H(ft){return ft&&ft.__esModule?ft:{default:ft}}function ct(ft,K){return(0,it.default)(N.default,ft,K)}q.exports=G.default}),at=o(ht),Q=function(){function q(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];this.tasks=[]}return q.prototype.promise=function(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];return at(this.tasks)},q.prototype.tapPromise=function(G,N){var it=this;this.tasks.push(function(H){return t(it,void 0,void 0,function(){return c(this,function(ct){switch(ct.label){case 0:return[4,N()];case 1:return ct.sent(),H(null,G),[2]}})})})},q}(),xt=f(function(q,G){Object.defineProperty(G,"__esModule",{value:!0});var N=ft(M),it=ft(C),H=ft(d),ct=ft(A);function ft($){return $&&$.__esModule?$:{default:$}}function K($,et){if(et=(0,N.default)(et),!Array.isArray($))return et(new Error("First argument to waterfall must be an array of functions"));if(!$.length)return et();var j=0;function w(V){var tt=(0,H.default)($[j++]);tt.apply(void 0,V.concat([(0,it.default)(D)]))}function D(V){for(var tt=[],lt=arguments.length-1;lt-- >0;)tt[lt]=arguments[lt+1];if(V!==!1){if(V||j===$.length)return et.apply(void 0,[V].concat(tt));w(tt)}}w([])}G.default=(0,ct.default)(K),q.exports=G.default}),kt=o(xt),Nt=function(){function q(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];return kt(this.tasks)},q.prototype.tap=function(G,N){this.tasks.length===0?this.tasks.push(function(it){var H=N();it(H?null:!1,H)}):this.tasks.push(function(it,H){var ct=N();H(ct?null:!1,G)})},q}(),nt=function(){function q(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];this.tasks=[]}return q.prototype.call=function(){for(var G=arguments,N=[],it=0;it<arguments.length;it++)N[it]=G[it];return X(this.tasks)},q.prototype.tap=function(G,N){this.tasks.push(function(it){var H=N();it(H,G)})},q}()},63531:function(mr){(function(S,i){mr.exports=i()})(window,function(){return function(P){var S={};function i(t){if(S[t])return S[t].exports;var c=S[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=S,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:s})},i.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,c){if(c&1&&(t=i(t)),c&8||c&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),c&2&&typeof t!="string")for(var v in t)i.d(s,v,function(o){return t[o]}.bind(null,v));return s},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s="./src/index.ts")}({"./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js":function(P,S,i){(function(c,s){P.exports=s()})(typeof self!="undefined"?self:this,function(){return function(t){var c={};function s(v){if(c[v])return c[v].exports;var o=c[v]={i:v,l:!1,exports:{}};return t[v].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=c,s.d=function(v,o,f){s.o(v,o)||Object.defineProperty(v,o,{configurable:!1,enumerable:!0,get:f})},s.n=function(v){var o=v&&v.__esModule?function(){return v.default}:function(){return v};return s.d(o,"a",o),o},s.o=function(v,o){return Object.prototype.hasOwnProperty.call(v,o)},s.p="",s(s.s=31)}([function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Array.isArray?Array.isArray(o):Object(v.a)(o,"Array")}},function(t,c,s){"use strict";var v=function(o){return o!==null&&typeof o!="function"&&isFinite(o.length)};c.a=v},function(t,c,s){"use strict";var v=s(0),o=s(13);function f(r,e){if(!!r){var n;if(Object(v.a)(r))for(var a=0,u=r.length;a<u&&(n=e(r[a],a),n!==!1);a++);else if(Object(o.a)(r)){for(var l in r)if(r.hasOwnProperty(l)&&(n=e(r[l],l),n===!1))break}}}c.a=f},function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Object(v.a)(o,"Function")}},function(t,c,s){"use strict";var v={}.toString,o=function(f,r){return v.call(f)==="[object "+r+"]"};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Number")};c.a=o},function(t,c,s){"use strict";var v=function(o){return o==null};c.a=v},function(t,c,s){var v=s(33),o=v.mix;t.exports={assign:o}},function(t,c,s){"use strict";var v=s(4);c.a=function(o){return Object(v.a)(o,"String")}},function(t,c,s){"use strict";var v=s(15),o=s(4),f=function(r){if(!Object(v.a)(r)||!Object(o.a)(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};c.a=f},function(t,c,s){"use strict";var v=s(6);c.a=function(o){return Object(v.a)(o)?"":o.toString()}},function(t,c,s){var v=s(18),o=function(){function f(e,n){n===void 0&&(n={});var a=this;a.options=n,a.rootNode=v(e,n)}var r=f.prototype;return r.execute=function(){throw new Error("please override this method")},f}();t.exports=o},function(t,c,s){"use strict";var v=s(1),o=function(f,r){return Object(v.a)(f)?f.indexOf(r)>-1:!1};c.a=o},function(t,c,s){"use strict";c.a=function(v){var o=typeof v;return v!==null&&o==="object"||o==="function"}},function(t,c,s){"use strict";var v=s(2),o=s(1),f=function(r,e){if(!Object(o.a)(r))return r;var n=[];return Object(v.a)(r,function(a,u){e(a,u)&&n.push(a)}),n};c.a=f},function(t,c,s){"use strict";var v=function(o){return typeof o=="object"&&o!==null};c.a=v},function(t,c,s){"use strict";c.a=o;function v(f,r){for(var e in r)r.hasOwnProperty(e)&&e!=="constructor"&&r[e]!==void 0&&(f[e]=r[e])}function o(f,r,e,n){return r&&v(f,r),e&&v(f,e),n&&v(f,n),f}},function(t,c,s){var v=s(30),o=["LR","RL","TB","BT","H","V"],f=["LR","RL","H"],r=function(a){return f.indexOf(a)>-1},e=o[0];t.exports=function(n,a,u){var l=a.direction||e;if(a.isHorizontal=r(l),l&&o.indexOf(l)===-1)throw new TypeError("Invalid direction: "+l);if(l===o[0])u(n,a);else if(l===o[1])u(n,a),n.right2left();else if(l===o[2])u(n,a);else if(l===o[3])u(n,a),n.bottom2top();else if(l===o[4]||l===o[5]){var h=v(n,a),p=h.left,d=h.right;u(p,a),u(d,a),a.isHorizontal?p.right2left():p.bottom2top(),d.translate(p.x-d.x,p.y-d.y),n.x=p.x,n.y=d.y;var g=n.getBoundingBox();a.isHorizontal?g.top<0&&n.translate(0,-g.top):g.left<0&&n.translate(-g.left,0)}var y=a.fixedRoot;return y===void 0&&(y=!0),y&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n}},function(t,c,s){var v=s(7),o=18,f=o*2,r=o,e={getId:function(l){return l.id||l.name},getHGap:function(l){return l.hgap||r},getVGap:function(l){return l.vgap||r},getChildren:function(l){return l.children},getHeight:function(l){return l.height||f},getWidth:function(l){var h=l.label||" ";return l.width||h.split("").length*o}};function n(u,l){var h=this;if(h.vgap=h.hgap=0,u instanceof n)return u;h.data=u;var p=l.getHGap(u),d=l.getVGap(u);return h.width=l.getWidth(u),h.height=l.getHeight(u),h.id=l.getId(u),h.x=h.y=0,h.depth=0,h.children||(h.children=[]),h.addGap(p,d),h}v.assign(n.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(l,h){var p=this;p.hgap+=l,p.vgap+=h,p.width+=2*l,p.height+=2*h},eachNode:function(l){for(var h=this,p=[h],d;d=p.shift();)l(d),p=d.children.concat(p)},DFTraverse:function(l){this.eachNode(l)},BFTraverse:function(l){for(var h=this,p=[h],d;d=p.shift();)l(d),p=p.concat(d.children)},getBoundingBox:function(){var l={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(h){l.left=Math.min(l.left,h.x),l.top=Math.min(l.top,h.y),l.width=Math.max(l.width,h.x+h.width),l.height=Math.max(l.height,h.y+h.height)}),l},translate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=0),this.eachNode(function(p){p.x+=l,p.y+=h})},right2left:function(){var l=this,h=l.getBoundingBox();l.eachNode(function(p){p.x=p.x-(p.x-h.left)*2-p.width}),l.translate(h.width,0)},bottom2top:function(){var l=this,h=l.getBoundingBox();l.eachNode(function(p){p.y=p.y-(p.y-h.top)*2-p.height}),l.translate(0,h.height)}});function a(u,l,h){l===void 0&&(l={}),l=v.assign({},e,l);var p=new n(u,l),d=[p],g;if(!h&&!u.collapsed){for(;g=d.shift();)if(!g.data.collapsed){var y=l.getChildren(g.data),x=y?y.length:0;if(g.children=new Array(x),y&&x)for(var A=0;A<x;A++){var m=new n(y[A],l);g.children[A]=m,d.push(m),m.parent=g,m.depth=g.depth+1}}}return p}t.exports=a},function(t,c,s){"use strict";var v=s(6),o=s(20);function f(r,e){var n=Object(o.a)(e),a=n.length;if(Object(v.a)(r))return!a;for(var u=0;u<a;u+=1){var l=n[u];if(e[l]!==r[l]||!(l in r))return!1}return!0}c.a=f},function(t,c,s){"use strict";var v=s(2),o=s(3),f=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return Object(v.a)(r,function(n,a){Object(o.a)(r)&&a==="prototype"||e.push(a)}),e};c.a=f},function(t,c,s){"use strict";var v=s(1),o=Array.prototype.splice,f=function(e,n){if(!Object(v.a)(e))return[];for(var a=e?n.length:0,u=a-1;a--;){var l=void 0,h=n[a];(a===u||h!==l)&&(l=h,o.call(e,h,1))}return e};c.a=f},function(t,c,s){"use strict";var v=s(12),o=s(2),f=function(r){var e=[];return Object(o.a)(r,function(n){Object(v.a)(e,n)||e.push(n)}),e};c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(3),f=s(24),r=function(e,n){if(!n)return{0:e};if(!Object(o.a)(n)){var a=Object(v.a)(n)?n:n.replace(/\s+/g,"").split("*");n=function(l){for(var h="_",p=0,d=a.length;p<d;p++)h+=l[a[p]]&&l[a[p]].toString();return h}}var u=Object(f.a)(e,n);return u};c.a=r},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3),r=Object.prototype.hasOwnProperty;function e(n,a){if(!a||!Object(o.a)(n))return{};var u={},l=Object(f.a)(a)?a:function(p){return p[a]},h;return Object(v.a)(n,function(p){h=l(p),r.call(u,h)?u[h].push(p):u[h]=[p]}),u}c.a=e},function(t,c,s){"use strict";c.a=function(v,o){return v.hasOwnProperty(o)}},function(t,c,s){"use strict";var v=s(2),o=s(3),f=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return Object(v.a)(r,function(n,a){Object(o.a)(r)&&a==="prototype"||e.push(n)}),e};c.a=f},function(t,c,s){"use strict";var v={}.toString,o=function(f){return v.call(f).replace(/^\[object /,"").replace(/]$/,"")};c.a=o},function(t,c,s){"use strict";var v=Object.prototype,o=function(f){var r=f&&f.constructor,e=typeof r=="function"&&r.prototype||v;return f===e};c.a=o},function(t,c,s){"use strict";var v=s(15),o=s(1),f=s(8),r=function(e,n){if(e===n)return!0;if(!e||!n||Object(f.a)(e)||Object(f.a)(n))return!1;if(Object(o.a)(e)||Object(o.a)(n)){if(e.length!==n.length)return!1;for(var a=!0,u=0;u<e.length&&(a=r(e[u],n[u]),!!a);u++);return a}if(Object(v.a)(e)||Object(v.a)(n)){var l=Object.keys(e),h=Object.keys(n);if(l.length!==h.length)return!1;for(var a=!0,u=0;u<l.length&&(a=r(e[l[u]],n[l[u]]),!!a);u++);return a}return!1};c.a=r},function(t,c,s){var v=s(18);t.exports=function(o,f){for(var r=v(o.data,f,!0),e=v(o.data,f,!0),n=o.children.length,a=Math.round(n/2),u=f.getSide||function(d,g){return g<a?"right":"left"},l=0;l<n;l++){var h=o.children[l],p=u(h,l);p==="right"?e.children.push(h):r.children.push(h)}return r.eachNode(function(d){d.isRoot()||(d.side="left")}),e.eachNode(function(d){d.isRoot()||(d.side="right")}),{left:r,right:e}}},function(t,c,s){var v={compactBox:s(32),dendrogram:s(114),indented:s(116),mindmap:s(118)};t.exports=v},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(113),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var v=s(12);s.d(c,"contains",function(){return v.a}),s.d(c,"includes",function(){return v.a});var o=s(34);s.d(c,"difference",function(){return o.a});var f=s(35);s.d(c,"find",function(){return f.a});var r=s(36);s.d(c,"findIndex",function(){return r.a});var e=s(37);s.d(c,"firstValue",function(){return e.a});var n=s(38);s.d(c,"flatten",function(){return n.a});var a=s(39);s.d(c,"flattenDeep",function(){return a.a});var u=s(40);s.d(c,"getRange",function(){return u.a});var l=s(41);s.d(c,"pull",function(){return l.a});var h=s(21);s.d(c,"pullAt",function(){return h.a});var p=s(42);s.d(c,"reduce",function(){return p.a});var d=s(43);s.d(c,"remove",function(){return d.a});var g=s(44);s.d(c,"sortBy",function(){return g.a});var y=s(45);s.d(c,"union",function(){return y.a});var x=s(22);s.d(c,"uniq",function(){return x.a});var A=s(46);s.d(c,"valuesOfKey",function(){return A.a});var m=s(47);s.d(c,"head",function(){return m.a});var M=s(48);s.d(c,"last",function(){return M.a});var b=s(49);s.d(c,"startsWith",function(){return b.a});var E=s(50);s.d(c,"endsWith",function(){return E.a});var C=s(14);s.d(c,"filter",function(){return C.a});var T=s(51);s.d(c,"every",function(){return T.a});var O=s(52);s.d(c,"some",function(){return O.a});var L=s(53);s.d(c,"group",function(){return L.a});var R=s(24);s.d(c,"groupBy",function(){return R.a});var W=s(23);s.d(c,"groupToMap",function(){return W.a});var U=s(54);s.d(c,"getWrapBehavior",function(){return U.a});var X=s(55);s.d(c,"wrapBehavior",function(){return X.a});var Z=s(56);s.d(c,"number2color",function(){return Z.a});var J=s(57);s.d(c,"parseRadius",function(){return J.a});var ht=s(58);s.d(c,"clamp",function(){return ht.a});var at=s(59);s.d(c,"fixedBase",function(){return at.a});var Q=s(60);s.d(c,"isDecimal",function(){return Q.a});var xt=s(61);s.d(c,"isEven",function(){return xt.a});var kt=s(62);s.d(c,"isInteger",function(){return kt.a});var Nt=s(63);s.d(c,"isNegative",function(){return Nt.a});var nt=s(64);s.d(c,"isNumberEqual",function(){return nt.a});var q=s(65);s.d(c,"isOdd",function(){return q.a});var G=s(66);s.d(c,"isPositive",function(){return G.a});var N=s(67);s.d(c,"maxBy",function(){return N.a});var it=s(68);s.d(c,"minBy",function(){return it.a});var H=s(69);s.d(c,"mod",function(){return H.a});var ct=s(70);s.d(c,"toDegree",function(){return ct.a});var ft=s(71);s.d(c,"toInteger",function(){return ft.a});var K=s(72);s.d(c,"toRadian",function(){return K.a});var $=s(73);s.d(c,"forIn",function(){return $.a});var et=s(25);s.d(c,"has",function(){return et.a});var j=s(74);s.d(c,"hasKey",function(){return j.a});var w=s(75);s.d(c,"hasValue",function(){return w.a});var D=s(20);s.d(c,"keys",function(){return D.a});var V=s(19);s.d(c,"isMatch",function(){return V.a});var tt=s(26);s.d(c,"values",function(){return tt.a});var lt=s(76);s.d(c,"lowerCase",function(){return lt.a});var St=s(77);s.d(c,"lowerFirst",function(){return St.a});var ot=s(78);s.d(c,"substitute",function(){return ot.a});var Mt=s(79);s.d(c,"upperCase",function(){return Mt.a});var Ot=s(80);s.d(c,"upperFirst",function(){return Ot.a});var Ft=s(27);s.d(c,"getType",function(){return Ft.a});var zt=s(81);s.d(c,"isArguments",function(){return zt.a});var $t=s(0);s.d(c,"isArray",function(){return $t.a});var he=s(1);s.d(c,"isArrayLike",function(){return he.a});var ye=s(82);s.d(c,"isBoolean",function(){return ye.a});var tr=s(83);s.d(c,"isDate",function(){return tr.a});var nr=s(84);s.d(c,"isError",function(){return nr.a});var Xe=s(3);s.d(c,"isFunction",function(){return Xe.a});var yr=s(85);s.d(c,"isFinite",function(){return yr.a});var Vr=s(6);s.d(c,"isNil",function(){return Vr.a});var Ee=s(86);s.d(c,"isNull",function(){return Ee.a});var de=s(5);s.d(c,"isNumber",function(){return de.a});var Ge=s(13);s.d(c,"isObject",function(){return Ge.a});var ke=s(15);s.d(c,"isObjectLike",function(){return ke.a});var Kr=s(9);s.d(c,"isPlainObject",function(){return Kr.a});var fn=s(28);s.d(c,"isPrototype",function(){return fn.a});var pi=s(87);s.d(c,"isRegExp",function(){return pi.a});var Vi=s(8);s.d(c,"isString",function(){return Vi.a});var ea=s(4);s.d(c,"isType",function(){return ea.a});var zi=s(88);s.d(c,"isUndefined",function(){return zi.a});var Te=s(89);s.d(c,"isElement",function(){return Te.a});var Be=s(90);s.d(c,"requestAnimationFrame",function(){return Be.a});var lr=s(91);s.d(c,"clearAnimationFrame",function(){return lr.a});var Or=s(92);s.d(c,"augment",function(){return Or.a});var sr=s(93);s.d(c,"clone",function(){return sr.a});var Dr=s(94);s.d(c,"debounce",function(){return Dr.a});var En=s(95);s.d(c,"memoize",function(){return En.a});var Yn=s(96);s.d(c,"deepMix",function(){return Yn.a});var ln=s(2);s.d(c,"each",function(){return ln.a});var Jr=s(97);s.d(c,"extend",function(){return Jr.a});var Wn=s(98);s.d(c,"indexOf",function(){return Wn.a});var $n=s(99);s.d(c,"isEmpty",function(){return $n.a});var Gr=s(29);s.d(c,"isEqual",function(){return Gr.a});var wr=s(100);s.d(c,"isEqualWith",function(){return wr.a});var ti=s(101);s.d(c,"map",function(){return ti.a});var ge=s(102);s.d(c,"mapValues",function(){return ge.a});var Le=s(16);s.d(c,"mix",function(){return Le.a}),s.d(c,"assign",function(){return Le.a});var Se=s(103);s.d(c,"get",function(){return Se.a});var Ve=s(104);s.d(c,"set",function(){return Ve.a});var le=s(105);s.d(c,"pick",function(){return le.a});var vr=s(106);s.d(c,"throttle",function(){return vr.a});var He=s(107);s.d(c,"toArray",function(){return He.a});var rr=s(10);s.d(c,"toString",function(){return rr.a});var Lr=s(108);s.d(c,"uniqueId",function(){return Lr.a});var Mr=s(109);s.d(c,"noop",function(){return Mr.a});var rn=s(110);s.d(c,"identity",function(){return rn.a});var pn=s(111);s.d(c,"size",function(){return pn.a});var qr=s(112);s.d(c,"Cache",function(){return qr.a})},function(t,c,s){"use strict";var v=s(14),o=s(12),f=function(r,e){return e===void 0&&(e=[]),Object(v.a)(r,function(n){return!Object(o.a)(e,n)})};c.a=f},function(t,c,s){"use strict";var v=s(3),o=s(19),f=s(0),r=s(9);function e(n,a){if(!Object(f.a)(n))return null;var u;if(Object(v.a)(a)&&(u=a),Object(r.a)(a)&&(u=function(h){return Object(o.a)(h,a)}),u){for(var l=0;l<n.length;l+=1)if(u(n[l]))return n[l]}return null}c.a=e},function(t,c,s){"use strict";function v(o,f,r){r===void 0&&(r=0);for(var e=r;e<o.length;e++)if(f(o[e],e))return e;return-1}c.a=v},function(t,c,s){"use strict";var v=s(6),o=s(0),f=function(r,e){for(var n=null,a=0;a<r.length;a++){var u=r[a],l=u[e];if(!Object(v.a)(l)){Object(o.a)(l)?n=l[0]:n=l;break}}return n};c.a=f},function(t,c,s){"use strict";var v=s(0),o=function(f){if(!Object(v.a)(f))return[];for(var r=[],e=0;e<f.length;e++)r=r.concat(f[e]);return r};c.a=o},function(t,c,s){"use strict";var v=s(0),o=function(f,r){if(r===void 0&&(r=[]),!Object(v.a)(f))r.push(f);else for(var e=0;e<f.length;e+=1)o(f[e],r);return r};c.a=o},function(t,c,s){"use strict";var v=s(0),o=s(14),f=function(r){if(r=Object(o.a)(r,function(l){return!isNaN(l)}),!r.length)return{min:0,max:0};if(Object(v.a)(r[0])){for(var e=[],n=0;n<r.length;n++)e=e.concat(r[n]);r=e}var a=Math.max.apply(null,r),u=Math.min.apply(null,r);return{min:u,max:a}};c.a=f},function(t,c,s){"use strict";var v=Array.prototype,o=v.splice,f=v.indexOf,r=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var u=0;u<n.length;u++)for(var l=n[u],h=-1;(h=f.call(e,l))>-1;)o.call(e,h,1);return e};c.a=r},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(9),r=function(e,n,a){if(!Object(o.a)(e)&&!Object(f.a)(e))return e;var u=a;return Object(v.a)(e,function(l,h){u=n(u,l,h)}),u};c.a=r},function(t,c,s){"use strict";var v=s(1),o=s(21),f=function(r,e){var n=[];if(!Object(v.a)(r))return n;for(var a=-1,u=[],l=r.length;++a<l;){var h=r[a];e(h,a,r)&&(n.push(h),u.push(a))}return Object(o.a)(r,u),n};c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(8),f=s(3);function r(e,n){var a;if(Object(f.a)(n))a=function(l,h){return n(l)-n(h)};else{var u=[];Object(o.a)(n)?u.push(n):Object(v.a)(n)&&(u=n),a=function(l,h){for(var p=0;p<u.length;p+=1){var d=u[p];if(l[d]>h[d])return 1;if(l[d]<h[d])return-1}return 0}}return e.sort(a),e}c.a=r},function(t,c,s){"use strict";var v=s(22),o=function(){for(var f=[],r=0;r<arguments.length;r++)f[r]=arguments[r];return Object(v.a)([].concat.apply([],f))};c.a=o},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(6);c.a=function(r,e){var n=[],a={};return r.forEach(function(u){var l=u[e];Object(f.a)(l)||(Object(o.a)(l)||(l=[l]),Object(v.a)(l,function(h){a[h]||(n.push(h),a[h]=!0)}))}),n}},function(t,c,s){"use strict";c.a=o;var v=s(1);function o(f){if(Object(v.a)(f))return f[0]}},function(t,c,s){"use strict";c.a=o;var v=s(1);function o(f){if(Object(v.a)(f)){var r=f;return r[r.length-1]}}},function(t,c,s){"use strict";var v=s(0),o=s(8);function f(r,e){return Object(v.a)(r)||Object(o.a)(r)?r[0]===e:!1}c.a=f},function(t,c,s){"use strict";var v=s(0),o=s(8);function f(r,e){return Object(v.a)(r)||Object(o.a)(r)?r[r.length-1]===e:!1}c.a=f},function(t,c,s){"use strict";var v=function(o,f){for(var r=0;r<o.length;r++)if(!f(o[r],r))return!1;return!0};c.a=v},function(t,c,s){"use strict";var v=function(o,f){for(var r=0;r<o.length;r++)if(f(o[r],r))return!0;return!1};c.a=v},function(t,c,s){"use strict";var v=s(23);c.a=function(o,f){if(!f)return[o];var r=Object(v.a)(o,f),e=[];for(var n in r)e.push(r[n]);return e}},function(t,c,s){"use strict";function v(o,f){return o["_wrap_"+f]}c.a=v},function(t,c,s){"use strict";function v(o,f){if(o["_wrap_"+f])return o["_wrap_"+f];var r=function(e){o[f](e)};return o["_wrap_"+f]=r,r}c.a=v},function(t,c,s){"use strict";var v={};function o(f){var r=v[f];if(!r){for(var e=f.toString(16),n=e.length;n<6;n++)e="0"+e;r="#"+e,v[f]=r}return r}c.a=o},function(t,c,s){"use strict";var v=s(0);function o(f){var r=0,e=0,n=0,a=0;return Object(v.a)(f)?f.length===1?r=e=n=a=f[0]:f.length===2?(r=n=f[0],e=a=f[1]):f.length===3?(r=f[0],e=a=f[1],n=f[2]):(r=f[0],e=f[1],n=f[2],a=f[3]):r=e=n=a=f,{r1:r,r2:e,r3:n,r4:a}}c.a=o},function(t,c,s){"use strict";var v=function(o,f,r){return o<f?f:o>r?r:o};c.a=v},function(t,c,s){"use strict";var v=function(o,f){var r=f.toString(),e=r.indexOf(".");if(e===-1)return Math.round(o);var n=r.substr(e+1).length;return n>20&&(n=20),parseFloat(o.toFixed(n))};c.a=v},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%1!=0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%2==0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=Number.isInteger?Number.isInteger:function(f){return Object(v.a)(f)&&f%1==0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f<0};c.a=o},function(t,c,s){"use strict";c.a=o;var v=1e-5;function o(f,r,e){return e===void 0&&(e=v),Math.abs(f-r)<e}},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f%2!=0};c.a=o},function(t,c,s){"use strict";var v=s(5),o=function(f){return Object(v.a)(f)&&f>0};c.a=o},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3);c.a=function(r,e){if(!!Object(o.a)(r)){var n=r[0],a;Object(f.a)(e)?a=e(r[0]):a=r[0][e];var u;return Object(v.a)(r,function(l){Object(f.a)(e)?u=e(l):u=l[e],u>a&&(n=l,a=u)}),n}}},function(t,c,s){"use strict";var v=s(2),o=s(0),f=s(3);c.a=function(r,e){if(!!Object(o.a)(r)){var n=r[0],a;Object(f.a)(e)?a=e(r[0]):a=r[0][e];var u;return Object(v.a)(r,function(l){Object(f.a)(e)?u=e(l):u=l[e],u<a&&(n=l,a=u)}),n}}},function(t,c,s){"use strict";var v=function(o,f){return(o%f+f)%f};c.a=v},function(t,c,s){"use strict";var v=180/Math.PI,o=function(f){return v*f};c.a=o},function(t,c,s){"use strict";c.a=parseInt},function(t,c,s){"use strict";var v=Math.PI/180,o=function(f){return v*f};c.a=o},function(t,c,s){"use strict";var v=s(2);c.a=v.a},function(t,c,s){"use strict";var v=s(25);c.a=v.a},function(t,c,s){"use strict";var v=s(12),o=s(26);c.a=function(f,r){return Object(v.a)(Object(o.a)(f),r)}},function(t,c,s){"use strict";var v=s(10),o=function(f){return Object(v.a)(f).toLowerCase()};c.a=o},function(t,c,s){"use strict";var v=s(10),o=function(f){var r=Object(v.a)(f);return r.charAt(0).toLowerCase()+r.substring(1)};c.a=o},function(t,c,s){"use strict";function v(o,f){return!o||!f?o:o.replace(/\\?\{([^{}]+)\}/g,function(r,e){return r.charAt(0)==="\\"?r.slice(1):f[e]===void 0?"":f[e]})}c.a=v},function(t,c,s){"use strict";var v=s(10),o=function(f){return Object(v.a)(f).toUpperCase()};c.a=o},function(t,c,s){"use strict";var v=s(10),o=function(f){var r=Object(v.a)(f);return r.charAt(0).toUpperCase()+r.substring(1)};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Arguments")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Boolean")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Date")};c.a=o},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"Error")};c.a=o},function(t,c,s){"use strict";var v=s(5);c.a=function(o){return Object(v.a)(o)&&isFinite(o)}},function(t,c,s){"use strict";var v=function(o){return o===null};c.a=v},function(t,c,s){"use strict";var v=s(4),o=function(f){return Object(v.a)(f,"RegExp")};c.a=o},function(t,c,s){"use strict";var v=function(o){return o===void 0};c.a=v},function(t,c,s){"use strict";var v=function(o){return o instanceof Element||o instanceof HTMLDocument};c.a=v},function(t,c,s){"use strict";c.a=v;function v(o){var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return setTimeout(r,16)};return f(o)}},function(t,c,s){"use strict";c.a=v;function v(o){var f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;f(o)}},function(t,c,s){"use strict";var v=s(16),o=s(3),f=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var n=r[0],a=1;a<r.length;a++){var u=r[a];Object(o.a)(u)&&(u=u.prototype),Object(v.a)(n.prototype,u)}};c.a=f},function(t,c,s){"use strict";var v=s(0),o=function(f){if(typeof f!="object"||f===null)return f;var r;if(Object(v.a)(f)){r=[];for(var e=0,n=f.length;e<n;e++)typeof f[e]=="object"&&f[e]!=null?r[e]=o(f[e]):r[e]=f[e]}else{r={};for(var a in f)typeof f[a]=="object"&&f[a]!=null?r[a]=o(f[a]):r[a]=f[a]}return r};c.a=o},function(t,c,s){"use strict";function v(o,f,r){var e;return function(){var n=this,a=arguments,u=function(){e=null,r||o.apply(n,a)},l=r&&!e;clearTimeout(e),e=setTimeout(u,f),l&&o.apply(n,a)}}c.a=v},function(t,c,s){"use strict";var v=s(3);c.a=function(o,f){if(!Object(v.a)(o))throw new TypeError("Expected a function");var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=f?f.apply(this,e):e[0],u=r.cache;if(u.has(a))return u.get(a);var l=o.apply(this,e);return u.set(a,l),l};return r.cache=new Map,r}},function(t,c,s){"use strict";var v=s(0),o=s(9),f=5;function r(n,a,u,l){u=u||0,l=l||f;for(var h in a)if(a.hasOwnProperty(h)){var p=a[h];p!==null&&Object(o.a)(p)?(Object(o.a)(n[h])||(n[h]={}),u<l?r(n[h],p,u+1,l):n[h]=a[h]):Object(v.a)(p)?(n[h]=[],n[h]=n[h].concat(p)):p!==void 0&&(n[h]=p)}}var e=function(n){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];for(var l=0;l<a.length;l+=1)r(n,a[l]);return n};c.a=e},function(t,c,s){"use strict";var v=s(16),o=s(3),f=function(r,e,n,a){Object(o.a)(e)||(n=e,e=r,r=function(){});var u=Object.create?function(h,p){return Object.create(h,{constructor:{value:p}})}:function(h,p){function d(){}d.prototype=h;var g=new d;return g.constructor=p,g},l=u(e.prototype,r);return r.prototype=Object(v.a)(l,r.prototype),r.superclass=u(e.prototype,e),Object(v.a)(l,n),Object(v.a)(r,a),r};c.a=f},function(t,c,s){"use strict";var v=s(1),o=function(f,r){if(!Object(v.a)(f))return-1;var e=Array.prototype.indexOf;if(e)return e.call(f,r);for(var n=-1,a=0;a<f.length;a++)if(f[a]===r){n=a;break}return n};c.a=o},function(t,c,s){"use strict";var v=s(6),o=s(1),f=s(27),r=s(28),e=Object.prototype.hasOwnProperty;function n(a){if(Object(v.a)(a))return!0;if(Object(o.a)(a))return!a.length;var u=Object(f.a)(a);if(u==="Map"||u==="Set")return!a.size;if(Object(r.a)(a))return!Object.keys(a).length;for(var l in a)if(e.call(a,l))return!1;return!0}c.a=n},function(t,c,s){"use strict";var v=s(3),o=s(29);c.a=function(f,r,e){return Object(v.a)(e)?!!e(f,r):Object(o.a)(f,r)}},function(t,c,s){"use strict";var v=s(2),o=s(1),f=function(r,e){if(!Object(o.a)(r))return r;var n=[];return Object(v.a)(r,function(a,u){n.push(e(a,u))}),n};c.a=f},function(t,c,s){"use strict";var v=s(6),o=s(13),f=function(r){return r};c.a=function(r,e){e===void 0&&(e=f);var n={};return Object(o.a)(r)&&!Object(v.a)(r)&&Object.keys(r).forEach(function(a){n[a]=e(r[a],a)}),n}},function(t,c,s){"use strict";var v=s(8);c.a=function(o,f,r){for(var e=0,n=Object(v.a)(f)?f.split("."):f;o&&e<n.length;)o=o[n[e++]];return o===void 0||e<n.length?r:o}},function(t,c,s){"use strict";var v=s(13),o=s(8),f=s(5);c.a=function(r,e,n){var a=r,u=Object(o.a)(e)?e.split("."):e;return u.forEach(function(l,h){h<u.length-1?(Object(v.a)(a[l])||(a[l]=Object(f.a)(u[h+1])?[]:{}),a=a[l]):a[l]=n}),r}},function(t,c,s){"use strict";var v=s(2),o=s(9),f=Object.prototype.hasOwnProperty;c.a=function(r,e){if(r===null||!Object(o.a)(r))return{};var n={};return Object(v.a)(e,function(a){f.call(r,a)&&(n[a]=r[a])}),n}},function(t,c,s){"use strict";c.a=function(v,o,f){var r,e,n,a,u=0;f||(f={});var l=function(){u=f.leading===!1?0:Date.now(),r=null,a=v.apply(e,n),r||(e=n=null)},h=function(){var p=Date.now();!u&&f.leading===!1&&(u=p);var d=o-(p-u);return e=this,n=arguments,d<=0||d>o?(r&&(clearTimeout(r),r=null),u=p,a=v.apply(e,n),r||(e=n=null)):!r&&f.trailing!==!1&&(r=setTimeout(l,d)),a};return h.cancel=function(){clearTimeout(r),u=0,r=e=n=null},h}},function(t,c,s){"use strict";var v=s(1);c.a=function(o){return Object(v.a)(o)?Array.prototype.slice.call(o):[]}},function(t,c,s){"use strict";var v={};c.a=function(o){return o=o||"g",v[o]?v[o]+=1:v[o]=1,o+v[o]}},function(t,c,s){"use strict";c.a=function(){}},function(t,c,s){"use strict";c.a=function(v){return v}},function(t,c,s){"use strict";c.a=f;var v=s(6),o=s(1);function f(r){return Object(v.a)(r)?0:Object(o.a)(r)?r.length:Object.keys(r).length}},function(t,c,s){"use strict";var v=function(){function o(){this.map={}}return o.prototype.has=function(f){return this.map[f]!==void 0},o.prototype.get=function(f,r){var e=this.map[f];return e===void 0?r:e},o.prototype.set=function(f,r){this.map[f]=r},o.prototype.clear=function(){this.map={}},o.prototype.delete=function(f){delete this.map[f]},o.prototype.size=function(){return Object.keys(this.map).length},o}();c.a=v},function(t,c){function s(n,a,u,l){l===void 0&&(l=[]);var h=this;h.w=n||0,h.h=a||0,h.y=u||0,h.x=0,h.c=l||[],h.cs=l.length,h.prelim=0,h.mod=0,h.shift=0,h.change=0,h.tl=null,h.tr=null,h.el=null,h.er=null,h.msel=0,h.mser=0}s.fromNode=function(n,a){if(!n)return null;var u=[];return n.children.forEach(function(l){u.push(s.fromNode(l,a))}),a?new s(n.height,n.width,n.x,u):new s(n.width,n.height,n.y,u)};function v(n,a,u){u?n.y+=a:n.x+=a,n.children.forEach(function(l){v(l,a,u)})}function o(n,a){var u=a?n.y:n.x;return n.children.forEach(function(l){u=Math.min(o(l,a),u)}),u}function f(n,a){var u=o(n,a);v(n,-u,a)}function r(n,a,u){u?a.y=n.x:a.x=n.x,n.c.forEach(function(l,h){r(l,a.children[h],u)})}function e(n,a,u){u===void 0&&(u=0),a?(n.x=u,u+=n.width):(n.y=u,u+=n.height),n.children.forEach(function(l){e(l,a,u)})}t.exports=function(n,a){a===void 0&&(a={});var u=a.isHorizontal;function l(L){if(L.cs===0){h(L);return}l(L.c[0]);for(var R=T(x(L.c[0].el),0,null),W=1;W<L.cs;++W){l(L.c[W]);var U=x(L.c[W].er);p(L,W,R),R=T(U,W,R)}M(L),h(L)}function h(L){L.cs===0?(L.el=L,L.er=L,L.msel=L.mser=0):(L.el=L.c[0].el,L.msel=L.c[0].msel,L.er=L.c[L.cs-1].er,L.mser=L.c[L.cs-1].mser)}function p(L,R,W){for(var U=L.c[R-1],X=U.mod,Z=L.c[R],J=Z.mod;U!==null&&Z!==null;){x(U)>W.low&&(W=W.nxt);var ht=X+U.prelim+U.w-(J+Z.prelim);ht>0&&(J+=ht,d(L,R,W.index,ht));var at=x(U),Q=x(Z);at<=Q&&(U=y(U),U!==null&&(X+=U.mod)),at>=Q&&(Z=g(Z),Z!==null&&(J+=Z.mod))}!U&&!!Z?A(L,R,Z,J):!!U&&!Z&&m(L,R,U,X)}function d(L,R,W,U){L.c[R].mod+=U,L.c[R].msel+=U,L.c[R].mser+=U,E(L,R,W,U)}function g(L){return L.cs===0?L.tl:L.c[0]}function y(L){return L.cs===0?L.tr:L.c[L.cs-1]}function x(L){return L.y+L.h}function A(L,R,W,U){var X=L.c[0].el;X.tl=W;var Z=U-W.mod-L.c[0].msel;X.mod+=Z,X.prelim-=Z,L.c[0].el=L.c[R].el,L.c[0].msel=L.c[R].msel}function m(L,R,W,U){var X=L.c[R].er;X.tr=W;var Z=U-W.mod-L.c[R].mser;X.mod+=Z,X.prelim-=Z,L.c[R].er=L.c[R-1].er,L.c[R].mser=L.c[R-1].mser}function M(L){L.prelim=(L.c[0].prelim+L.c[0].mod+L.c[L.cs-1].mod+L.c[L.cs-1].prelim+L.c[L.cs-1].w)/2-L.w/2}function b(L,R){R+=L.mod,L.x=L.prelim+R,C(L);for(var W=0;W<L.cs;W++)b(L.c[W],R)}function E(L,R,W,U){if(W!==R-1){var X=R-W;L.c[W+1].shift+=U/X,L.c[R].shift-=U/X,L.c[R].change-=U-U/X}}function C(L){for(var R=0,W=0,U=0;U<L.cs;U++)R+=L.c[U].shift,W+=R+L.c[U].change,L.c[U].mod+=W}function T(L,R,W){for(;W!==null&&L>=W.low;)W=W.nxt;return{low:L,index:R,nxt:W}}e(n,u);var O=s.fromNode(n,u);return l(O),b(O,0),r(O,n,u),f(n,u),n}},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(115),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return g.rootNode.width=0,r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){var v=s(7);function o(e,n){e===void 0&&(e=0),n===void 0&&(n=[]);var a=this;a.x=a.y=0,a.leftChild=a.rightChild=null,a.height=0,a.children=n}var f={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function r(e,n,a){a?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(u,l){r(u,n.children[l],a)})}t.exports=function(e,n){n===void 0&&(n={}),n=v.assign({},f,n);var a=0;function u(g){if(!g)return null;g.width=0,g.depth&&g.depth>a&&(a=g.depth);var y=g.children,x=y.length,A=new o(g.height,[]);return y.forEach(function(m,M){var b=u(m);A.children.push(b),M===0&&(A.leftChild=b),M===x-1&&(A.rightChild=b)}),A.originNode=g,A.isLeaf=g.isLeaf(),A}function l(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=a;else{var y=g.children.map(function(A){return l(A)}),x=Math.min.apply(null,y);g.drawingDepth=x-1}return g.drawingDepth}var h;function p(g){g.x=g.drawingDepth*n.rankSep,g.isLeaf?(g.y=0,h&&(g.y=h.y+h.height+n.nodeSep,g.originNode.parent!==h.originNode.parent&&(g.y+=n.subTreeSep)),h=g):(g.children.forEach(function(y){p(y)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var d=u(e);return l(d),p(d),r(d,e,n.isHorizontal),e}},function(t,c,s){function v(p,d){p.prototype=Object.create(d.prototype),p.prototype.constructor=p,p.__proto__=d}var o=s(11),f=s(117),r=s(30),e=s(7),n=["LR","RL","H"],a=n[0],u=function(p){v(d,p);function d(){return p.apply(this,arguments)||this}var g=d.prototype;return g.execute=function(){var x=this,A=x.options,m=x.rootNode;A.isHorizontal=!0;var M=A.indent,b=M===void 0?20:M,E=A.dropCap,C=E===void 0?!0:E,T=A.direction||a;if(T&&n.indexOf(T)===-1)throw new TypeError("Invalid direction: "+T);if(T===n[0])f(m,b,C);else if(T===n[1])f(m,b,C),m.right2left();else if(T===n[2]){var O=r(m,A),L=O.left,R=O.right;f(L,b,C),L.right2left(),f(R,b,C);var W=L.getBoundingBox();R.translate(W.width,0),m.x=R.x-m.width/2}return m},d}(o),l={};function h(p,d){return d=e.assign({},l,d),new u(p,d).execute()}t.exports=h},function(t,c){function s(v,o,f,r){if(!r)try{if(v.id===v.parent.children[0].id){v.x+=f*v.depth,v.y=o?o.y:0;return}}catch(e){}v.x+=f*v.depth,v.y=o?o.y+o.height:0}t.exports=function(v,o,f){var r=null;v.eachNode(function(e){s(e,r,o,f),r=e})}},function(t,c,s){function v(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var o=s(11),f=s(119),r=s(17),e=s(7),n=function(l){v(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.execute=function(){var g=this;return r(g.rootNode,g.options,f)},h}(o),a={};function u(l,h){return h=e.assign({},a,h),new n(l,h).execute()}t.exports=u},function(t,c,s){var v=s(7);function o(e,n){var a=0;return e.children.length?e.children.forEach(function(u){a+=o(u,n)}):a=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,a)+2*e._subTreeSep,e.totalHeight}function f(e){var n=e.children,a=n.length;if(a){n.forEach(function(g){f(g)});var u=n[0],l=n[a-1],h=l.y-u.y+l.height,p=0;if(n.forEach(function(g){p+=g.totalHeight}),h>e.height)e.y=u.y+h/2-e.height/2;else if(n.length!==1||e.height>p){var d=e.y+(e.height-h)/2-u.y;n.forEach(function(g){g.translate(0,d)})}else e.y=(u.y+u.height/2+l.y+l.height/2)/2-e.height/2}}var r={getSubTreeSep:function(){return 0}};t.exports=function(e,n){n===void 0&&(n={}),n=v.assign({},r,n),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse(function(a){a.x=a.parent.x+a.parent.width}),e.parent=null,o(e,n),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode(function(a){var u=a.children,l=u.length;if(l){var h=u[0];if(h.startY=a.startY+a._subTreeSep,l===1)h.y=a.y+a.height/2-h.height/2;else{h.y=h.startY+h.totalHeight/2-h.height/2;for(var p=1;p<l;p++){var d=u[p];d.startY=u[p-1].startY+u[p-1].totalHeight,d.y=d.startY+d.totalHeight/2-d.height/2}}}}),f(e)}}])})},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/augment.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];for(var f=v[0],r=1;r<v.length;r++){var e=v[r];c.default(e)&&(e=e.prototype),t.default(f.prototype,e)}};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/cache.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(){function c(){this.map={}}return c.prototype.has=function(s){return this.map[s]!==void 0},c.prototype.get=function(s,v){var o=this.map[s];return o===void 0?v:o},c.prototype.set=function(s,v){this.map[s]=v},c.prototype.clear=function(){this.map={}},c.prototype.delete=function(s){delete this.map[s]},c.prototype.size=function(){return Object.keys(this.map).length},c}();S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clamp.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c,s,v){return c<s?s:c>v?v:c};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clear-animation-frame.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(c)}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/clone.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){if(typeof s!="object"||s===null)return s;var v;if(t.default(s)){v=[];for(var o=0,f=s.length;o<f;o++)typeof s[o]=="object"&&s[o]!=null?v[o]=c(s[o]):v[o]=s[o]}else{v={};for(var r in s)typeof s[r]=="object"&&s[r]!=null?v[r]=c(s[r]):v[r]=s[r]}return v};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){return t.default(s)?s.indexOf(v)>-1:!1};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/debounce.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c,s,v){var o;return function(){var f=this,r=arguments,e=function(){o=null,v||c.apply(f,r)},n=v&&!o;clearTimeout(o),o=setTimeout(e,s),n&&c.apply(f,r)}}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/deep-mix.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),s=5;function v(f,r,e,n){e=e||0,n=n||s;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u!==null&&c.default(u)?(c.default(f[a])||(f[a]={}),e<n?v(f[a],u,e+1,n):f[a]=r[a]):t.default(u)?(f[a]=[],f[a]=f[a].concat(u)):u!==void 0&&(f[a]=u)}}var o=function(f){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0;n<r.length;n+=1)v(f,r[n]);return f};S.default=o},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/difference.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),s=function(v,o){return o===void 0&&(o=[]),t.default(v,function(f){return!c.default(o,f)})};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js");function s(v,o){if(!!v){var f;if(t.default(v))for(var r=0,e=v.length;r<e&&(f=o(v[r],r),f!==!1);r++);else if(c.default(v)){for(var n in v)if(v.hasOwnProperty(n)&&(f=o(v[n],n),f===!1))break}}}S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/ends-with.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");function s(v,o){return t.default(v)||c.default(v)?v[v.length-1]===o:!1}S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/every.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c,s){for(var v=0;v<c.length;v++)if(!s(c[v],v))return!1;return!0};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/extend.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=function(v,o,f,r){c.default(o)||(f=o,o=v,v=function(){});var e=Object.create?function(a,u){return Object.create(a,{constructor:{value:u}})}:function(a,u){function l(){}l.prototype=a;var h=new l;return h.constructor=u,h},n=e(o.prototype,v);return v.prototype=t.default(n,v.prototype),v.superclass=e(o.prototype,o),t.default(n,f),t.default(v,r),v};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return s;for(var o=[],f=0;f<s.length;f++){var r=s[f];v(r,f)&&o.push(r)}return o};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/find-index.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c,s,v){v===void 0&&(v=0);for(var o=v;o<c.length;o++)if(s(c[o],o))return o;return-1}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/find.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js");function o(f,r){if(!s.default(f))return null;var e;if(t.default(r)&&(e=r),v.default(r)&&(e=function(a){return c.default(a,r)}),e){for(var n=0;n<f.length;n+=1)if(e(f[n]))return f[n]}return null}S.default=o},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/first-value.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=function(v,o){for(var f=null,r=0;r<v.length;r++){var e=v[r],n=e[o];if(!t.default(n)){c.default(n)?f=n[0]:f=n;break}}return f};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/fixed-base.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c,s){var v=s.toString(),o=v.indexOf(".");if(o===-1)return Math.round(c);var f=v.substr(o+1).length;return f>20&&(f=20),parseFloat(c.toFixed(f))};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten-deep.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s,v){if(v===void 0&&(v=[]),!t.default(s))v.push(s);else for(var o=0;o<s.length;o+=1)c(s[o],v);return v};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){if(!t.default(s))return[];for(var v=[],o=0;o<s.length;o++)v=v.concat(s[o]);return v};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/for-in.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js");S.default=t.default},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-range.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=function(s){var v=s.filter(function(n){return!isNaN(n)});if(!v.length)return{min:0,max:0};if(t.default(s[0])){for(var o=[],f=0;f<s.length;f++)o=o.concat(s[f]);v=o}var r=Math.max.apply(null,v),e=Math.min.apply(null,v);return{min:e,max:r}};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t={}.toString,c=function(s){return t.call(s).replace(/^\[object /,"").replace(/]$/,"")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-wrap-behavior.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c,s){return c["_wrap_"+s]}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/get.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");S.default=function(c,s,v){for(var o=0,f=t.default(s)?s.split("."):s;c&&o<f.length;)c=c[f[o++]];return c===void 0||o<f.length?v:c}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.prototype.hasOwnProperty;function v(o,f){if(!f||!t.default(o))return{};for(var r={},e=c.default(f)?f:function(l){return l[f]},n,a=0;a<o.length;a++){var u=o[a];n=e(u),s.call(r,n)?r[n].push(u):r[n]=[u]}return r}S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js"),v=function(o,f){if(!f)return{0:o};if(!c.default(f)){var r=t.default(f)?f:f.replace(/\s+/g,"").split("*");f=function(n){for(var a="_",u=0,l=r.length;u<l;u++)a+=n[r[u]]&&n[r[u]].toString();return a}}var e=s.default(o,f);return e};S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/group.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js");S.default=function(c,s){if(!s)return[c];var v=t.default(c,s),o=[];for(var f in v)o.push(v[f]);return o}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-key.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js");S.default=t.default},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-value.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js");S.default=function(s,v){return t.default(c.default(s),v)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t,c){return t.hasOwnProperty(c)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/head.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function c(s){if(t.default(s))return s[0]}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/identity.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t){return t}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/index-of.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return-1;var o=Array.prototype.indexOf;if(o)return o.call(s,v);for(var f=-1,r=0;r<s.length;r++)if(s[r]===v){f=r;break}return f};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js");Object.defineProperty(S,"contains",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(S,"includes",{enumerable:!0,get:function(){return t.default}});var c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/difference.js");Object.defineProperty(S,"difference",{enumerable:!0,get:function(){return c.default}});var s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/find.js");Object.defineProperty(S,"find",{enumerable:!0,get:function(){return s.default}});var v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/find-index.js");Object.defineProperty(S,"findIndex",{enumerable:!0,get:function(){return v.default}});var o=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/first-value.js");Object.defineProperty(S,"firstValue",{enumerable:!0,get:function(){return o.default}});var f=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten.js");Object.defineProperty(S,"flatten",{enumerable:!0,get:function(){return f.default}});var r=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/flatten-deep.js");Object.defineProperty(S,"flattenDeep",{enumerable:!0,get:function(){return r.default}});var e=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-range.js");Object.defineProperty(S,"getRange",{enumerable:!0,get:function(){return e.default}});var n=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull.js");Object.defineProperty(S,"pull",{enumerable:!0,get:function(){return n.default}});var a=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js");Object.defineProperty(S,"pullAt",{enumerable:!0,get:function(){return a.default}});var u=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/reduce.js");Object.defineProperty(S,"reduce",{enumerable:!0,get:function(){return u.default}});var l=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/remove.js");Object.defineProperty(S,"remove",{enumerable:!0,get:function(){return l.default}});var h=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/sort-by.js");Object.defineProperty(S,"sortBy",{enumerable:!0,get:function(){return h.default}});var p=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/union.js");Object.defineProperty(S,"union",{enumerable:!0,get:function(){return p.default}});var d=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js");Object.defineProperty(S,"uniq",{enumerable:!0,get:function(){return d.default}});var g=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values-of-key.js");Object.defineProperty(S,"valuesOfKey",{enumerable:!0,get:function(){return g.default}});var y=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/head.js");Object.defineProperty(S,"head",{enumerable:!0,get:function(){return y.default}});var x=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/last.js");Object.defineProperty(S,"last",{enumerable:!0,get:function(){return x.default}});var A=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/starts-with.js");Object.defineProperty(S,"startsWith",{enumerable:!0,get:function(){return A.default}});var m=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/ends-with.js");Object.defineProperty(S,"endsWith",{enumerable:!0,get:function(){return m.default}});var M=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/filter.js");Object.defineProperty(S,"filter",{enumerable:!0,get:function(){return M.default}});var b=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/every.js");Object.defineProperty(S,"every",{enumerable:!0,get:function(){return b.default}});var E=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/some.js");Object.defineProperty(S,"some",{enumerable:!0,get:function(){return E.default}});var C=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group.js");Object.defineProperty(S,"group",{enumerable:!0,get:function(){return C.default}});var T=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-by.js");Object.defineProperty(S,"groupBy",{enumerable:!0,get:function(){return T.default}});var O=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/group-to-map.js");Object.defineProperty(S,"groupToMap",{enumerable:!0,get:function(){return O.default}});var L=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-wrap-behavior.js");Object.defineProperty(S,"getWrapBehavior",{enumerable:!0,get:function(){return L.default}});var R=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/wrap-behavior.js");Object.defineProperty(S,"wrapBehavior",{enumerable:!0,get:function(){return R.default}});var W=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/number2color.js");Object.defineProperty(S,"number2color",{enumerable:!0,get:function(){return W.default}});var U=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/parse-radius.js");Object.defineProperty(S,"parseRadius",{enumerable:!0,get:function(){return U.default}});var X=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clamp.js");Object.defineProperty(S,"clamp",{enumerable:!0,get:function(){return X.default}});var Z=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/fixed-base.js");Object.defineProperty(S,"fixedBase",{enumerable:!0,get:function(){return Z.default}});var J=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-decimal.js");Object.defineProperty(S,"isDecimal",{enumerable:!0,get:function(){return J.default}});var ht=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-even.js");Object.defineProperty(S,"isEven",{enumerable:!0,get:function(){return ht.default}});var at=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-integer.js");Object.defineProperty(S,"isInteger",{enumerable:!0,get:function(){return at.default}});var Q=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-negative.js");Object.defineProperty(S,"isNegative",{enumerable:!0,get:function(){return Q.default}});var xt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number-equal.js");Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return xt.default}});var kt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-odd.js");Object.defineProperty(S,"isOdd",{enumerable:!0,get:function(){return kt.default}});var Nt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-positive.js");Object.defineProperty(S,"isPositive",{enumerable:!0,get:function(){return Nt.default}});var nt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/max-by.js");Object.defineProperty(S,"maxBy",{enumerable:!0,get:function(){return nt.default}});var q=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/min-by.js");Object.defineProperty(S,"minBy",{enumerable:!0,get:function(){return q.default}});var G=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mod.js");Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return G.default}});var N=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-degree.js");Object.defineProperty(S,"toDegree",{enumerable:!0,get:function(){return N.default}});var it=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-integer.js");Object.defineProperty(S,"toInteger",{enumerable:!0,get:function(){return it.default}});var H=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-radian.js");Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return H.default}});var ct=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/for-in.js");Object.defineProperty(S,"forIn",{enumerable:!0,get:function(){return ct.default}});var ft=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has.js");Object.defineProperty(S,"has",{enumerable:!0,get:function(){return ft.default}});var K=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-key.js");Object.defineProperty(S,"hasKey",{enumerable:!0,get:function(){return K.default}});var $=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/has-value.js");Object.defineProperty(S,"hasValue",{enumerable:!0,get:function(){return $.default}});var et=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js");Object.defineProperty(S,"keys",{enumerable:!0,get:function(){return et.default}});var j=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js");Object.defineProperty(S,"isMatch",{enumerable:!0,get:function(){return j.default}});var w=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js");Object.defineProperty(S,"values",{enumerable:!0,get:function(){return w.default}});var D=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-case.js");Object.defineProperty(S,"lowerCase",{enumerable:!0,get:function(){return D.default}});var V=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-first.js");Object.defineProperty(S,"lowerFirst",{enumerable:!0,get:function(){return V.default}});var tt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/substitute.js");Object.defineProperty(S,"substitute",{enumerable:!0,get:function(){return tt.default}});var lt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-case.js");Object.defineProperty(S,"upperCase",{enumerable:!0,get:function(){return lt.default}});var St=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-first.js");Object.defineProperty(S,"upperFirst",{enumerable:!0,get:function(){return St.default}});var ot=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js");Object.defineProperty(S,"getType",{enumerable:!0,get:function(){return ot.default}});var Mt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-arguments.js");Object.defineProperty(S,"isArguments",{enumerable:!0,get:function(){return Mt.default}});var Ot=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js");Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return Ot.default}});var Ft=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");Object.defineProperty(S,"isArrayLike",{enumerable:!0,get:function(){return Ft.default}});var zt=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-boolean.js");Object.defineProperty(S,"isBoolean",{enumerable:!0,get:function(){return zt.default}});var $t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-date.js");Object.defineProperty(S,"isDate",{enumerable:!0,get:function(){return $t.default}});var he=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-error.js");Object.defineProperty(S,"isError",{enumerable:!0,get:function(){return he.default}});var ye=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return ye.default}});var tr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-finite.js");Object.defineProperty(S,"isFinite",{enumerable:!0,get:function(){return tr.default}});var nr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return nr.default}});var Xe=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-null.js");Object.defineProperty(S,"isNull",{enumerable:!0,get:function(){return Xe.default}});var yr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");Object.defineProperty(S,"isNumber",{enumerable:!0,get:function(){return yr.default}});var Vr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js");Object.defineProperty(S,"isObject",{enumerable:!0,get:function(){return Vr.default}});var Ee=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js");Object.defineProperty(S,"isObjectLike",{enumerable:!0,get:function(){return Ee.default}});var de=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js");Object.defineProperty(S,"isPlainObject",{enumerable:!0,get:function(){return de.default}});var Ge=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js");Object.defineProperty(S,"isPrototype",{enumerable:!0,get:function(){return Ge.default}});var ke=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-reg-exp.js");Object.defineProperty(S,"isRegExp",{enumerable:!0,get:function(){return ke.default}});var Kr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return Kr.default}});var fn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");Object.defineProperty(S,"isType",{enumerable:!0,get:function(){return fn.default}});var pi=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-undefined.js");Object.defineProperty(S,"isUndefined",{enumerable:!0,get:function(){return pi.default}});var Vi=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-element.js");Object.defineProperty(S,"isElement",{enumerable:!0,get:function(){return Vi.default}});var ea=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/request-animation-frame.js");Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return ea.default}});var zi=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clear-animation-frame.js");Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return zi.default}});var Te=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/augment.js");Object.defineProperty(S,"augment",{enumerable:!0,get:function(){return Te.default}});var Be=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/clone.js");Object.defineProperty(S,"clone",{enumerable:!0,get:function(){return Be.default}});var lr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/debounce.js");Object.defineProperty(S,"debounce",{enumerable:!0,get:function(){return lr.default}});var Or=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/memoize.js");Object.defineProperty(S,"memoize",{enumerable:!0,get:function(){return Or.default}});var sr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/deep-mix.js");Object.defineProperty(S,"deepMix",{enumerable:!0,get:function(){return sr.default}});var Dr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js");Object.defineProperty(S,"each",{enumerable:!0,get:function(){return Dr.default}});var En=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/extend.js");Object.defineProperty(S,"extend",{enumerable:!0,get:function(){return En.default}});var Yn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index-of.js");Object.defineProperty(S,"indexOf",{enumerable:!0,get:function(){return Yn.default}});var ln=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-empty.js");Object.defineProperty(S,"isEmpty",{enumerable:!0,get:function(){return ln.default}});var Jr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js");Object.defineProperty(S,"isEqual",{enumerable:!0,get:function(){return Jr.default}});var Wn=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal-with.js");Object.defineProperty(S,"isEqualWith",{enumerable:!0,get:function(){return Wn.default}});var $n=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/map.js");Object.defineProperty(S,"map",{enumerable:!0,get:function(){return $n.default}});var Gr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/map-values.js");Object.defineProperty(S,"mapValues",{enumerable:!0,get:function(){return Gr.default}});var wr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js");Object.defineProperty(S,"mix",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(S,"assign",{enumerable:!0,get:function(){return wr.default}});var ti=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get.js");Object.defineProperty(S,"get",{enumerable:!0,get:function(){return ti.default}});var ge=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/set.js");Object.defineProperty(S,"set",{enumerable:!0,get:function(){return ge.default}});var Le=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pick.js");Object.defineProperty(S,"pick",{enumerable:!0,get:function(){return Le.default}});var Se=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/throttle.js");Object.defineProperty(S,"throttle",{enumerable:!0,get:function(){return Se.default}});var Ve=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-array.js");Object.defineProperty(S,"toArray",{enumerable:!0,get:function(){return Ve.default}});var le=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js");Object.defineProperty(S,"toString",{enumerable:!0,get:function(){return le.default}});var vr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/unique-id.js");Object.defineProperty(S,"uniqueId",{enumerable:!0,get:function(){return vr.default}});var He=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/noop.js");Object.defineProperty(S,"noop",{enumerable:!0,get:function(){return He.default}});var rr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/identity.js");Object.defineProperty(S,"identity",{enumerable:!0,get:function(){return rr.default}});var Lr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/size.js");Object.defineProperty(S,"size",{enumerable:!0,get:function(){return Lr.default}});var Mr=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/cache.js");Object.defineProperty(S,"Cache",{enumerable:!0,get:function(){return Mr.default}})},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-arguments.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Arguments")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return c!==null&&typeof c!="function"&&isFinite(c.length)};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");S.default=function(c){return Array.isArray?Array.isArray(c):t.default(c,"Array")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-boolean.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Boolean")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-date.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Date")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-decimal.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%1!=0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-element.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return c instanceof Element||c instanceof HTMLDocument};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-empty.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/get-type.js"),v=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js"),o=Object.prototype.hasOwnProperty;function f(r){if(t.default(r))return!0;if(c.default(r))return!r.length;var e=s.default(r);if(e==="Map"||e==="Set")return!r.size;if(v.default(r))return!Object.keys(r).length;for(var n in r)if(o.call(r,n))return!1;return!0}S.default=f},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal-with.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js");S.default=function(s,v,o){return t.default(o)?!!o(s,v):c.default(s,v)}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-equal.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),v=function(o,f){if(o===f)return!0;if(!o||!f||s.default(o)||s.default(f))return!1;if(c.default(o)||c.default(f)){if(o.length!==f.length)return!1;for(var r=!0,e=0;e<o.length&&(r=v(o[e],f[e]),!!r);e++);return r}if(t.default(o)||t.default(f)){var n=Object.keys(o),a=Object.keys(f);if(n.length!==a.length)return!1;for(var r=!0,e=0;e<n.length&&(r=v(o[n[e]],f[n[e]]),!!r);e++);return r}return!1};S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-error.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Error")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-even.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%2==0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-finite.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");function c(s){return t.default(s)&&isFinite(s)}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");S.default=function(c){return t.default(c,"Function")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-integer.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=Number.isInteger?Number.isInteger:function(s){return t.default(s)&&s%1==0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-match.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js");function s(v,o){var f=c.default(o),r=f.length;if(t.default(v))return!r;for(var e=0;e<r;e+=1){var n=f[e];if(o[n]!==v[n]||!(n in v))return!1}return!0}S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-negative.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s<0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return c==null};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-null.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return c===null};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number-equal.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=1e-5;function c(s,v,o){return o===void 0&&(o=t),Math.abs(s-v)<o}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"Number")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return typeof c=="object"&&c!==null};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t){var c=typeof t;return t!==null&&c==="object"||c==="function"}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-odd.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s%2!=0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),s=function(v){if(!t.default(v)||!c.default(v,"Object"))return!1;if(Object.getPrototypeOf(v)===null)return!0;for(var o=v;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(v)===o};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-positive.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js"),c=function(s){return t.default(s)&&s>0};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-prototype.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=Object.prototype,c=function(s){var v=s&&s.constructor,o=typeof v=="function"&&v.prototype||t;return s===o};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-reg-exp.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js"),c=function(s){return t.default(s,"RegExp")};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js");S.default=function(c){return t.default(c,"String")}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-type.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t={}.toString,c=function(s,v){return t.call(s)==="[object "+v+"]"};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-undefined.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c){return c===void 0};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/keys.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.keys?function(v){return Object.keys(v)}:function(v){var o=[];return t.default(v,function(f,r){c.default(v)&&r==="prototype"||o.push(r)}),o};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/last.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function c(s){if(t.default(s)){var v=s;return v[v.length-1]}}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-case.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){return t.default(s).toLowerCase()};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/lower-first.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){var v=t.default(s);return v.charAt(0).toLowerCase()+v.substring(1)};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/map-values.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js"),s=function(v){return v};S.default=function(v,o){o===void 0&&(o=s);var f={};return c.default(v)&&!t.default(v)&&Object.keys(v).forEach(function(r){f[r]=o(v[r],r)}),f}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/map.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=function(s,v){if(!t.default(s))return s;for(var o=[],f=0;f<s.length;f++){var r=s[f];o.push(v(r,f))}return o};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/max-by.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");S.default=function(v,o){if(!!c.default(v)){var f=v[0],r;s.default(o)?r=o(v[0]):r=v[0][o];var e;return t.default(v,function(n){s.default(o)?e=o(n):e=n[o],e>r&&(f=n,r=e)}),f}}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/memoize.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");S.default=function(c,s){if(!t.default(c))throw new TypeError("Expected a function");var v=function(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];var r=s?s.apply(this,o):o[0],e=v.cache;if(e.has(r))return e.get(r);var n=c.apply(this,o);return e.set(r,n),n};return v.cache=new Map,v}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/min-by.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");S.default=function(v,o){if(!!c.default(v)){var f=v[0],r;s.default(o)?r=o(v[0]):r=v[0][o];var e;return t.default(v,function(n){s.default(o)?e=o(n):e=n[o],e<r&&(f=n,r=e)}),f}}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/mix.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(s,v){for(var o in v)v.hasOwnProperty(o)&&o!=="constructor"&&v[o]!==void 0&&(s[o]=v[o])}function c(s,v,o,f){return v&&t(s,v),o&&t(s,o),f&&t(s,f),s}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/mod.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c,s){return(c%s+s)%s};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/noop.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/number2color.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t={};function c(s){var v=t[s];if(!v){for(var o=s.toString(16),f=o.length;f<6;f++)o="0"+o;v="#"+o,t[s]=v}return v}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/parse-radius.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js");function c(s){var v=0,o=0,f=0,r=0;return t.default(s)?s.length===1?v=o=f=r=s[0]:s.length===2?(v=f=s[0],o=r=s[1]):s.length===3?(v=s[0],o=r=s[1],f=s[2]):(v=s[0],o=s[1],f=s[2],r=s[3]):v=o=f=r=s,{r1:v,r2:o,r3:f,r4:r}}S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pick.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),s=Object.prototype.hasOwnProperty;S.default=function(v,o){if(v===null||!c.default(v))return{};var f={};return t.default(o,function(r){s.call(v,r)&&(f[r]=v[r])}),f}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=Array.prototype.splice,s=function(o,f){if(!t.default(o))return[];for(var r=o?f.length:0,e=r-1;r--;){var n=void 0,a=f[r];(r===e||a!==n)&&(n=a,c.call(o,a,1))}return o};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=Array.prototype,c=t.splice,s=t.indexOf,v=function(o){for(var f=[],r=1;r<arguments.length;r++)f[r-1]=arguments[r];for(var e=0;e<f.length;e++)for(var n=f[e],a=-1;(a=s.call(o,n))>-1;)c.call(o,a,1);return o};S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/reduce.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-plain-object.js"),v=function(o,f,r){if(!c.default(o)&&!s.default(o))return o;var e=r;return t.default(o,function(n,a){e=f(e,n,a)}),e};S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/remove.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/pull-at.js"),s=function(v,o){var f=[];if(!t.default(v))return f;for(var r=-1,e=[],n=v.length;++r<n;){var a=v[r];o(a,r,v)&&(f.push(a),e.push(r))}return c.default(v,e),f};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/request-animation-frame.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){return setTimeout(v,16)};return s(c)}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/set.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-object.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-number.js");S.default=function(v,o,f){var r=v,e=c.default(o)?o.split("."):o;return e.forEach(function(n,a){a<e.length-1?(t.default(r[n])||(r[n]=s.default(e[a+1])?[]:{}),r=r[n]):r[n]=f}),v}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/size.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");function s(v){return t.default(v)?0:c.default(v)?v.length:Object.keys(v).length}S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/some.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=function(c,s){for(var v=0;v<c.length;v++)if(s(c[v],v))return!0;return!1};S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/sort-by.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js"),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js");function v(o,f){var r;if(s.default(f))r=function(n,a){return f(n)-f(a)};else{var e=[];c.default(f)?e.push(f):t.default(f)&&(e=f),r=function(n,a){for(var u=0;u<e.length;u+=1){var l=e[u];if(n[l]>a[l])return 1;if(n[l]<a[l])return-1}return 0}}return o.sort(r),o}S.default=v},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/starts-with.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-string.js");function s(v,o){return t.default(v)||c.default(v)?v[0]===o:!1}S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/substitute.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c,s){return!c||!s?c:c.replace(/\\?\{([^{}]+)\}/g,function(v,o){return v.charAt(0)==="\\"?v.slice(1):s[o]===void 0?"":s[o]})}S.default=t},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/throttle.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t,c,s){var v,o,f,r,e=0;s||(s={});var n=function(){e=s.leading===!1?0:Date.now(),v=null,r=t.apply(o,f),v||(o=f=null)},a=function(){var u=Date.now();!e&&s.leading===!1&&(e=u);var l=c-(u-e);return o=this,f=arguments,l<=0||l>c?(v&&(clearTimeout(v),v=null),e=u,r=t.apply(o,f),v||(o=f=null)):!v&&s.trailing!==!1&&(v=setTimeout(n,l)),r};return a.cancel=function(){clearTimeout(v),e=0,v=o=f=null},a}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-array.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array-like.js");S.default=function(c){return t.default(c)?Array.prototype.slice.call(c):[]}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-degree.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=180/Math.PI,c=function(s){return t*s};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-integer.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-radian.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=Math.PI/180,c=function(s){return t*s};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");S.default=function(c){return t.default(c)?"":c.toString()}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/union.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js"),c=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return t.default([].concat.apply([],s))};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/uniq.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/contains.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),s=function(v){var o=[];return c.default(v,function(f){t.default(o,f)||o.push(f)}),o};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/unique-id.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t={};S.default=function(c){return c=c||"g",t[c]?t[c]+=1:t[c]=1,c+t[c]}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-case.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){return t.default(s).toUpperCase()};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/upper-first.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/to-string.js"),c=function(s){var v=t.default(s);return v.charAt(0).toUpperCase()+v.substring(1)};S.default=c},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/values-of-key.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-array.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-nil.js");S.default=function(s,v){for(var o=[],f={},r=0;r<s.length;r++){var e=s[r],n=e[v];if(!c.default(n)){t.default(n)||(n=[n]);for(var a=0;a<n.length;a++){var u=n[a];f[u]||(o.push(u),f[u]=!0)}}}return o}},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/values.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/each.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/is-function.js"),s=Object.values?function(v){return Object.values(v)}:function(v){var o=[];return t.default(v,function(f,r){c.default(v)&&r==="prototype"||o.push(f)}),o};S.default=s},"./node_modules/_@antv_util@2.0.10@@antv/util/lib/wrap-behavior.js":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(c,s){if(c["_wrap_"+s])return c["_wrap_"+s];var v=function(o){c[s](o)};return c["_wrap_"+s]=v,v}S.default=t},"./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js":function(P,S){P.exports=i;function i(t){var c=0,s=0,v=0,o=0;return t.map(function(f){f=f.slice();var r=f[0],e=r.toUpperCase();if(r!=e)switch(f[0]=e,r){case"a":f[6]+=v,f[7]+=o;break;case"v":f[1]+=o;break;case"h":f[1]+=v;break;default:for(var n=1;n<f.length;)f[n++]+=v,f[n++]+=o}switch(e){case"Z":v=c,o=s;break;case"H":v=f[1];break;case"V":o=f[1];break;case"M":v=c=f[1],o=s=f[2];break;default:v=f[f.length-2],o=f[f.length-1]}return f})}},"./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";function c(H,ct){return H<ct?-1:H>ct?1:H>=ct?0:NaN}function s(H){return H.length===1&&(H=v(H)),{left:function(ct,ft,K,$){for(K==null&&(K=0),$==null&&($=ct.length);K<$;){var et=K+$>>>1;H(ct[et],ft)<0?K=et+1:$=et}return K},right:function(ct,ft,K,$){for(K==null&&(K=0),$==null&&($=ct.length);K<$;){var et=K+$>>>1;H(ct[et],ft)>0?$=et:K=et+1}return K}}}function v(H){return function(ct,ft){return c(H(ct),ft)}}var o=s(c),f=o.right,r=o.left;function e(H,ct){ct==null&&(ct=n);for(var ft=0,K=H.length-1,$=H[0],et=new Array(K<0?0:K);ft<K;)et[ft]=ct($,$=H[++ft]);return et}function n(H,ct){return[H,ct]}function a(H,ct,ft){var K=H.length,$=ct.length,et=new Array(K*$),j,w,D,V;for(ft==null&&(ft=n),j=D=0;j<K;++j)for(V=H[j],w=0;w<$;++w,++D)et[D]=ft(V,ct[w]);return et}function u(H,ct){return ct<H?-1:ct>H?1:ct>=H?0:NaN}function l(H){return H===null?NaN:+H}function h(H,ct){var ft=H.length,K=0,$=-1,et=0,j,w,D=0;if(ct==null)for(;++$<ft;)isNaN(j=l(H[$]))||(w=j-et,et+=w/++K,D+=w*(j-et));else for(;++$<ft;)isNaN(j=l(ct(H[$],$,H)))||(w=j-et,et+=w/++K,D+=w*(j-et));if(K>1)return D/(K-1)}function p(H,ct){var ft=h(H,ct);return ft&&Math.sqrt(ft)}function d(H,ct){var ft=H.length,K=-1,$,et,j;if(ct==null){for(;++K<ft;)if(($=H[K])!=null&&$>=$)for(et=j=$;++K<ft;)($=H[K])!=null&&(et>$&&(et=$),j<$&&(j=$))}else for(;++K<ft;)if(($=ct(H[K],K,H))!=null&&$>=$)for(et=j=$;++K<ft;)($=ct(H[K],K,H))!=null&&(et>$&&(et=$),j<$&&(j=$));return[et,j]}var g=Array.prototype,y=g.slice,x=g.map;function A(H){return function(){return H}}function m(H){return H}function M(H,ct,ft){H=+H,ct=+ct,ft=($=arguments.length)<2?(ct=H,H=0,1):$<3?1:+ft;for(var K=-1,$=Math.max(0,Math.ceil((ct-H)/ft))|0,et=new Array($);++K<$;)et[K]=H+K*ft;return et}var b=Math.sqrt(50),E=Math.sqrt(10),C=Math.sqrt(2);function T(H,ct,ft){var K,$=-1,et,j,w;if(ct=+ct,H=+H,ft=+ft,H===ct&&ft>0)return[H];if((K=ct<H)&&(et=H,H=ct,ct=et),(w=O(H,ct,ft))===0||!isFinite(w))return[];if(w>0)for(H=Math.ceil(H/w),ct=Math.floor(ct/w),j=new Array(et=Math.ceil(ct-H+1));++$<et;)j[$]=(H+$)*w;else for(H=Math.floor(H*w),ct=Math.ceil(ct*w),j=new Array(et=Math.ceil(H-ct+1));++$<et;)j[$]=(H-$)/w;return K&&j.reverse(),j}function O(H,ct,ft){var K=(ct-H)/Math.max(0,ft),$=Math.floor(Math.log(K)/Math.LN10),et=K/Math.pow(10,$);return $>=0?(et>=b?10:et>=E?5:et>=C?2:1)*Math.pow(10,$):-Math.pow(10,-$)/(et>=b?10:et>=E?5:et>=C?2:1)}function L(H,ct,ft){var K=Math.abs(ct-H)/Math.max(0,ft),$=Math.pow(10,Math.floor(Math.log(K)/Math.LN10)),et=K/$;return et>=b?$*=10:et>=E?$*=5:et>=C&&($*=2),ct<H?-$:$}function R(H){return Math.ceil(Math.log(H.length)/Math.LN2)+1}function W(){var H=m,ct=d,ft=R;function K($){var et,j=$.length,w,D=new Array(j);for(et=0;et<j;++et)D[et]=H($[et],et,$);var V=ct(D),tt=V[0],lt=V[1],St=ft(D,tt,lt);Array.isArray(St)||(St=L(tt,lt,St),St=M(Math.ceil(tt/St)*St,lt,St));for(var ot=St.length;St[0]<=tt;)St.shift(),--ot;for(;St[ot-1]>lt;)St.pop(),--ot;var Mt=new Array(ot+1),Ot;for(et=0;et<=ot;++et)Ot=Mt[et]=[],Ot.x0=et>0?St[et-1]:tt,Ot.x1=et<ot?St[et]:lt;for(et=0;et<j;++et)w=D[et],tt<=w&&w<=lt&&Mt[f(St,w,0,ot)].push($[et]);return Mt}return K.value=function($){return arguments.length?(H=typeof $=="function"?$:A($),K):H},K.domain=function($){return arguments.length?(ct=typeof $=="function"?$:A([$[0],$[1]]),K):ct},K.thresholds=function($){return arguments.length?(ft=typeof $=="function"?$:Array.isArray($)?A(y.call($)):A($),K):ft},K}function U(H,ct,ft){if(ft==null&&(ft=l),!!(K=H.length)){if((ct=+ct)<=0||K<2)return+ft(H[0],0,H);if(ct>=1)return+ft(H[K-1],K-1,H);var K,$=(K-1)*ct,et=Math.floor($),j=+ft(H[et],et,H),w=+ft(H[et+1],et+1,H);return j+(w-j)*($-et)}}function X(H,ct,ft){return H=x.call(H,l).sort(c),Math.ceil((ft-ct)/(2*(U(H,.75)-U(H,.25))*Math.pow(H.length,-1/3)))}function Z(H,ct,ft){return Math.ceil((ft-ct)/(3.5*p(H)*Math.pow(H.length,-1/3)))}function J(H,ct){var ft=H.length,K=-1,$,et;if(ct==null){for(;++K<ft;)if(($=H[K])!=null&&$>=$)for(et=$;++K<ft;)($=H[K])!=null&&$>et&&(et=$)}else for(;++K<ft;)if(($=ct(H[K],K,H))!=null&&$>=$)for(et=$;++K<ft;)($=ct(H[K],K,H))!=null&&$>et&&(et=$);return et}function ht(H,ct){var ft=H.length,K=ft,$=-1,et,j=0;if(ct==null)for(;++$<ft;)isNaN(et=l(H[$]))?--K:j+=et;else for(;++$<ft;)isNaN(et=l(ct(H[$],$,H)))?--K:j+=et;if(K)return j/K}function at(H,ct){var ft=H.length,K=-1,$,et=[];if(ct==null)for(;++K<ft;)isNaN($=l(H[K]))||et.push($);else for(;++K<ft;)isNaN($=l(ct(H[K],K,H)))||et.push($);return U(et.sort(c),.5)}function Q(H){for(var ct=H.length,ft,K=-1,$=0,et,j;++K<ct;)$+=H[K].length;for(et=new Array($);--ct>=0;)for(j=H[ct],ft=j.length;--ft>=0;)et[--$]=j[ft];return et}function xt(H,ct){var ft=H.length,K=-1,$,et;if(ct==null){for(;++K<ft;)if(($=H[K])!=null&&$>=$)for(et=$;++K<ft;)($=H[K])!=null&&et>$&&(et=$)}else for(;++K<ft;)if(($=ct(H[K],K,H))!=null&&$>=$)for(et=$;++K<ft;)($=ct(H[K],K,H))!=null&&et>$&&(et=$);return et}function kt(H,ct){for(var ft=ct.length,K=new Array(ft);ft--;)K[ft]=H[ct[ft]];return K}function Nt(H,ct){if(!!(ft=H.length)){var ft,K=0,$=0,et,j=H[$];for(ct==null&&(ct=c);++K<ft;)(ct(et=H[K],j)<0||ct(j,j)!==0)&&(j=et,$=K);if(ct(j,j)===0)return $}}function nt(H,ct,ft){for(var K=(ft==null?H.length:ft)-(ct=ct==null?0:+ct),$,et;K;)et=Math.random()*K--|0,$=H[K+ct],H[K+ct]=H[et+ct],H[et+ct]=$;return H}function q(H,ct){var ft=H.length,K=-1,$,et=0;if(ct==null)for(;++K<ft;)($=+H[K])&&(et+=$);else for(;++K<ft;)($=+ct(H[K],K,H))&&(et+=$);return et}function G(H){if(!(et=H.length))return[];for(var ct=-1,ft=xt(H,N),K=new Array(ft);++ct<ft;)for(var $=-1,et,j=K[ct]=new Array(et);++$<et;)j[$]=H[$][ct];return K}function N(H){return H.length}function it(){return G(arguments)}t.bisect=f,t.bisectRight=f,t.bisectLeft=r,t.ascending=c,t.bisector=s,t.cross=a,t.descending=u,t.deviation=p,t.extent=d,t.histogram=W,t.thresholdFreedmanDiaconis=X,t.thresholdScott=Z,t.thresholdSturges=R,t.max=J,t.mean=ht,t.median=at,t.merge=Q,t.min=xt,t.pairs=e,t.permute=kt,t.quantile=U,t.range=M,t.scan=Nt,t.shuffle=nt,t.sum=q,t.ticks=T,t.tickIncrement=O,t.tickStep=L,t.transpose=G,t.variance=h,t.zip=it,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-array@2.11.0@d3-array/dist/d3-array.js":function(P,S,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(S)})(this,function(c){"use strict";function s(ge,Le){return ge<Le?-1:ge>Le?1:ge>=Le?0:NaN}function v(ge){var Le=ge,Se=ge;ge.length===1&&(Le=function(He,rr){return ge(He)-rr},Se=o(ge));function Ve(He,rr,Lr,Mr){for(Lr==null&&(Lr=0),Mr==null&&(Mr=He.length);Lr<Mr;){var rn=Lr+Mr>>>1;Se(He[rn],rr)<0?Lr=rn+1:Mr=rn}return Lr}function le(He,rr,Lr,Mr){for(Lr==null&&(Lr=0),Mr==null&&(Mr=He.length);Lr<Mr;){var rn=Lr+Mr>>>1;Se(He[rn],rr)>0?Mr=rn:Lr=rn+1}return Lr}function vr(He,rr,Lr,Mr){Lr==null&&(Lr=0),Mr==null&&(Mr=He.length);var rn=Ve(He,rr,Lr,Mr-1);return rn>Lr&&Le(He[rn-1],rr)>-Le(He[rn],rr)?rn-1:rn}return{left:Ve,center:vr,right:le}}function o(ge){return function(Le,Se){return s(ge(Le),Se)}}function f(ge){return ge===null?NaN:+ge}function r(ge,Le){var Se,Ve,le,vr,He,rr,Lr,le,Mr,rn,pn,qr,Dn;return t.__generator(this,function(ae){switch(ae.label){case 0:if(Le!==void 0)return[3,9];ae.label=1;case 1:ae.trys.push([1,6,7,8]),Se=t.__values(ge),Ve=Se.next(),ae.label=2;case 2:return Ve.done?[3,5]:(le=Ve.value,le!=null&&(le=+le)>=le?[4,le]:[3,4]);case 3:ae.sent(),ae.label=4;case 4:return Ve=Se.next(),[3,2];case 5:return[3,8];case 6:return vr=ae.sent(),rn={error:vr},[3,8];case 7:try{Ve&&!Ve.done&&(pn=Se.return)&&pn.call(Se)}finally{if(rn)throw rn.error}return[7];case 8:return[3,17];case 9:He=-1,ae.label=10;case 10:ae.trys.push([10,15,16,17]),rr=t.__values(ge),Lr=rr.next(),ae.label=11;case 11:return Lr.done?[3,14]:(le=Lr.value,(le=Le(le,++He,ge))!=null&&(le=+le)>=le?[4,le]:[3,13]);case 12:ae.sent(),ae.label=13;case 13:return Lr=rr.next(),[3,11];case 14:return[3,17];case 15:return Mr=ae.sent(),qr={error:Mr},[3,17];case 16:try{Lr&&!Lr.done&&(Dn=rr.return)&&Dn.call(rr)}finally{if(qr)throw qr.error}return[7];case 17:return[2]}})}var e=v(s),n=e.right,a=e.left,u=v(f).center;function l(ge,Le){var Se,Ve,le,vr,He=0;if(Le===void 0)try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;Mr!=null&&(Mr=+Mr)>=Mr&&++He}}catch(Dn){Se={error:Dn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var rn=-1;try{for(var pn=t.__values(ge),qr=pn.next();!qr.done;qr=pn.next()){var Mr=qr.value;(Mr=Le(Mr,++rn,ge))!=null&&(Mr=+Mr)>=Mr&&++He}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=pn.return)&&vr.call(pn)}finally{if(le)throw le.error}}}return He}function h(ge){return ge.length|0}function p(ge){return!(ge>0)}function d(ge){return typeof ge!="object"||"length"in ge?ge:Array.from(ge)}function g(ge){return function(Le){return ge.apply(void 0,t.__spread(Le))}}function y(){for(var ge=[],Le=0;Le<arguments.length;Le++)ge[Le]=arguments[Le];var Se=typeof ge[ge.length-1]=="function"&&g(ge.pop());ge=ge.map(d);var Ve=ge.map(h),le=ge.length-1,vr=new Array(le+1).fill(0),He=[];if(le<0||Ve.some(p))return He;for(;;){He.push(vr.map(function(Lr,Mr){return ge[Mr][Lr]}));for(var rr=le;++vr[rr]===Ve[rr];){if(rr===0)return Se?He.map(Se):He;vr[rr--]=0}}}function x(ge,Le){var Se=0,Ve=0;return Float64Array.from(ge,Le===void 0?function(le){return Se+=+le||0}:function(le){return Se+=+Le(le,Ve++,ge)||0})}function A(ge,Le){return Le<ge?-1:Le>ge?1:Le>=ge?0:NaN}function m(ge,Le){var Se,Ve,le,vr,He=0,rr,Lr=0,Mr=0;if(Le===void 0)try{for(var rn=t.__values(ge),pn=rn.next();!pn.done;pn=rn.next()){var qr=pn.value;qr!=null&&(qr=+qr)>=qr&&(rr=qr-Lr,Lr+=rr/++He,Mr+=rr*(qr-Lr))}}catch(ar){Se={error:ar}}finally{try{pn&&!pn.done&&(Ve=rn.return)&&Ve.call(rn)}finally{if(Se)throw Se.error}}else{var Dn=-1;try{for(var ae=t.__values(ge),er=ae.next();!er.done;er=ae.next()){var qr=er.value;(qr=Le(qr,++Dn,ge))!=null&&(qr=+qr)>=qr&&(rr=qr-Lr,Lr+=rr/++He,Mr+=rr*(qr-Lr))}}catch(ar){le={error:ar}}finally{try{er&&!er.done&&(vr=ae.return)&&vr.call(ae)}finally{if(le)throw le.error}}}if(He>1)return Mr/(He-1)}function M(ge,Le){var Se=m(ge,Le);return Se&&Math.sqrt(Se)}function b(ge,Le){var Se,Ve,le,vr,He,rr;if(Le===void 0)try{for(var Lr=t.__values(ge),Mr=Lr.next();!Mr.done;Mr=Lr.next()){var rn=Mr.value;rn!=null&&(He===void 0?rn>=rn&&(He=rr=rn):(He>rn&&(He=rn),rr<rn&&(rr=rn)))}}catch(ae){Se={error:ae}}finally{try{Mr&&!Mr.done&&(Ve=Lr.return)&&Ve.call(Lr)}finally{if(Se)throw Se.error}}else{var pn=-1;try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var rn=Dn.value;(rn=Le(rn,++pn,ge))!=null&&(He===void 0?rn>=rn&&(He=rr=rn):(He>rn&&(He=rn),rr<rn&&(rr=rn)))}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}}return[He,rr]}var E=function(){function ge(){this._partials=new Float64Array(32),this._n=0}return ge.prototype.add=function(Le){for(var Se=this._partials,Ve=0,le=0;le<this._n&&le<32;le++){var vr=Se[le],He=Le+vr,rr=Math.abs(Le)<Math.abs(vr)?Le-(He-vr):vr-(He-Le);rr&&(Se[Ve++]=rr),Le=He}return Se[Ve]=Le,this._n=Ve+1,this},ge.prototype.valueOf=function(){var Le=this._partials,Se=this._n,Ve,le,vr,He=0;if(Se>0){for(He=Le[--Se];Se>0&&(Ve=He,le=Le[--Se],He=Ve+le,vr=le-(He-Ve),!vr););Se>0&&(vr<0&&Le[Se-1]<0||vr>0&&Le[Se-1]>0)&&(le=vr*2,Ve=He+le,le==Ve-He&&(He=Ve))}return He},ge}();function C(ge,Le){var Se,Ve,le,vr,He=new E;if(Le===void 0)try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;(Mr=+Mr)&&He.add(Mr)}}catch(Dn){Se={error:Dn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var rn=-1;try{for(var pn=t.__values(ge),qr=pn.next();!qr.done;qr=pn.next()){var Mr=qr.value;(Mr=+Le(Mr,++rn,ge))&&He.add(Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=pn.return)&&vr.call(pn)}finally{if(le)throw le.error}}}return+He}var T=function(ge){t.__extends(Le,ge);function Le(Se,Ve){var le,vr;Se===void 0&&(Se=[]),Ve===void 0&&(Ve=U);var He=ge.call(this)||this;Object.defineProperties(He,{_intern:{value:new Map},_key:{value:Ve}});try{for(var rr=t.__values(Se),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=t.__read(Lr.value,2),rn=Mr[0],pn=Mr[1];He.set(rn,pn)}}catch(qr){le={error:qr}}finally{try{Lr&&!Lr.done&&(vr=rr.return)&&vr.call(rr)}finally{if(le)throw le.error}}return He}return Le.prototype.get=function(Se){return ge.prototype.get.call(this,L(this,Se))},Le.prototype.has=function(Se){return ge.prototype.has.call(this,L(this,Se))},Le.prototype.set=function(Se,Ve){return ge.prototype.set.call(this,R(this,Se),Ve)},Le.prototype.delete=function(Se){return ge.prototype.delete.call(this,W(this,Se))},Le}(Map),O=function(ge){t.__extends(Le,ge);function Le(Se,Ve){var le,vr;Se===void 0&&(Se=[]),Ve===void 0&&(Ve=U);var He=ge.call(this)||this;Object.defineProperties(He,{_intern:{value:new Map},_key:{value:Ve}});try{for(var rr=t.__values(Se),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;He.add(Mr)}}catch(rn){le={error:rn}}finally{try{Lr&&!Lr.done&&(vr=rr.return)&&vr.call(rr)}finally{if(le)throw le.error}}return He}return Le.prototype.has=function(Se){return ge.prototype.has.call(this,L(this,Se))},Le.prototype.add=function(Se){return ge.prototype.add.call(this,R(this,Se))},Le.prototype.delete=function(Se){return ge.prototype.delete.call(this,W(this,Se))},Le}(Set);function L(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)?Se.get(le):Le}function R(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)?Se.get(le):(Se.set(le,Le),Le)}function W(ge,Le){var Se=ge._intern,Ve=ge._key,le=Ve(Le);return Se.has(le)&&(Le=Se.get(Le),Se.delete(le)),Le}function U(ge){return ge!==null&&typeof ge=="object"?ge.valueOf():ge}function X(ge){return ge}function Z(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,X,X,Le)}function J(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Array.from,X,Le)}function ht(ge,Le){for(var Se=[],Ve=2;Ve<arguments.length;Ve++)Se[Ve-2]=arguments[Ve];return Nt(ge,X,Le,Se)}function at(ge,Le){for(var Se=[],Ve=2;Ve<arguments.length;Ve++)Se[Ve-2]=arguments[Ve];return Nt(ge,Array.from,Le,Se)}function Q(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,X,kt,Le)}function xt(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];return Nt(ge,Array.from,kt,Le)}function kt(ge){if(ge.length!==1)throw new Error("duplicate key");return ge[0]}function Nt(ge,Le,Se,Ve){return function le(vr,He){var rr,Lr,Mr,rn;if(He>=Ve.length)return Se(vr);var pn=new T,qr=Ve[He++],Dn=-1;try{for(var ae=t.__values(vr),er=ae.next();!er.done;er=ae.next()){var ar=er.value,kr=qr(ar,++Dn,vr),Rn=pn.get(kr);Rn?Rn.push(ar):pn.set(kr,[ar])}}catch(fa){rr={error:fa}}finally{try{er&&!er.done&&(Lr=ae.return)&&Lr.call(ae)}finally{if(rr)throw rr.error}}try{for(var di=t.__values(pn),Yi=di.next();!Yi.done;Yi=di.next()){var da=t.__read(Yi.value,2),kr=da[0],_a=da[1];pn.set(kr,le(_a,He))}}catch(fa){Mr={error:fa}}finally{try{Yi&&!Yi.done&&(rn=di.return)&&rn.call(di)}finally{if(Mr)throw Mr.error}}return Le(pn)}(ge,0)}function nt(ge,Le){return Array.from(Le,function(Se){return ge[Se]})}function q(ge){for(var Le=[],Se=1;Se<arguments.length;Se++)Le[Se-1]=arguments[Se];if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");ge=Array.from(ge);var Ve=t.__read(Le,1),le=Ve[0],vr=le===void 0?s:le;if(vr.length===1||Le.length>1){var He=Uint32Array.from(ge,function(rr,Lr){return Lr});return Le.length>1?(Le=Le.map(function(rr){return ge.map(rr)}),He.sort(function(rr,Lr){var Mr,rn;try{for(var pn=t.__values(Le),qr=pn.next();!qr.done;qr=pn.next()){var Dn=qr.value,ae=s(Dn[rr],Dn[Lr]);if(ae)return ae}}catch(er){Mr={error:er}}finally{try{qr&&!qr.done&&(rn=pn.return)&&rn.call(pn)}finally{if(Mr)throw Mr.error}}})):(vr=ge.map(vr),He.sort(function(rr,Lr){return s(vr[rr],vr[Lr])})),nt(ge,He)}return ge.sort(vr)}function G(ge,Le,Se){return(Le.length===1?q(ht(ge,Le,Se),function(Ve,le){var vr=t.__read(Ve,2),He=vr[0],rr=vr[1],Lr=t.__read(le,2),Mr=Lr[0],rn=Lr[1];return s(rr,rn)||s(He,Mr)}):q(Z(ge,Se),function(Ve,le){var vr=t.__read(Ve,2),He=vr[0],rr=vr[1],Lr=t.__read(le,2),Mr=Lr[0],rn=Lr[1];return Le(rr,rn)||s(He,Mr)})).map(function(Ve){var le=t.__read(Ve,1),vr=le[0];return vr})}var N=Array.prototype,it=N.slice;function H(ge){return function(){return ge}}var ct=Math.sqrt(50),ft=Math.sqrt(10),K=Math.sqrt(2);function $(ge,Le,Se){var Ve,le=-1,vr,He,rr;if(Le=+Le,ge=+ge,Se=+Se,ge===Le&&Se>0)return[ge];if((Ve=Le<ge)&&(vr=ge,ge=Le,Le=vr),(rr=et(ge,Le,Se))===0||!isFinite(rr))return[];if(rr>0)for(ge=Math.ceil(ge/rr),Le=Math.floor(Le/rr),He=new Array(vr=Math.ceil(Le-ge+1));++le<vr;)He[le]=(ge+le)*rr;else for(rr=-rr,ge=Math.ceil(ge*rr),Le=Math.floor(Le*rr),He=new Array(vr=Math.ceil(Le-ge+1));++le<vr;)He[le]=(ge+le)/rr;return Ve&&He.reverse(),He}function et(ge,Le,Se){var Ve=(Le-ge)/Math.max(0,Se),le=Math.floor(Math.log(Ve)/Math.LN10),vr=Ve/Math.pow(10,le);return le>=0?(vr>=ct?10:vr>=ft?5:vr>=K?2:1)*Math.pow(10,le):-Math.pow(10,-le)/(vr>=ct?10:vr>=ft?5:vr>=K?2:1)}function j(ge,Le,Se){var Ve=Math.abs(Le-ge)/Math.max(0,Se),le=Math.pow(10,Math.floor(Math.log(Ve)/Math.LN10)),vr=Ve/le;return vr>=ct?le*=10:vr>=ft?le*=5:vr>=K&&(le*=2),Le<ge?-le:le}function w(ge,Le,Se){for(var Ve;;){var le=et(ge,Le,Se);if(le===Ve||le===0||!isFinite(le))return[ge,Le];le>0?(ge=Math.floor(ge/le)*le,Le=Math.ceil(Le/le)*le):le<0&&(ge=Math.ceil(ge*le)/le,Le=Math.floor(Le*le)/le),Ve=le}}function D(ge){return Math.ceil(Math.log(l(ge))/Math.LN2)+1}function V(){var ge=X,Le=b,Se=D;function Ve(le){var vr;Array.isArray(le)||(le=Array.from(le));var He,rr=le.length,Lr,Mr=new Array(rr);for(He=0;He<rr;++He)Mr[He]=ge(le[He],He,le);var rn=Le(Mr),pn=rn[0],qr=rn[1],Dn=Se(Mr,pn,qr);if(!Array.isArray(Dn)){var ae=qr,er=+Dn;if(Le===b&&(vr=t.__read(w(pn,qr,er),2),pn=vr[0],qr=vr[1]),Dn=$(pn,qr,er),Dn[Dn.length-1]>=qr)if(ae>=qr&&Le===b){var ar=et(pn,qr,er);isFinite(ar)&&(ar>0?qr=(Math.floor(qr/ar)+1)*ar:ar<0&&(qr=(Math.ceil(qr*-ar)+1)/-ar))}else Dn.pop()}for(var kr=Dn.length;Dn[0]<=pn;)Dn.shift(),--kr;for(;Dn[kr-1]>qr;)Dn.pop(),--kr;var Rn=new Array(kr+1),di;for(He=0;He<=kr;++He)di=Rn[He]=[],di.x0=He>0?Dn[He-1]:pn,di.x1=He<kr?Dn[He]:qr;for(He=0;He<rr;++He)Lr=Mr[He],pn<=Lr&&Lr<=qr&&Rn[n(Dn,Lr,0,kr)].push(le[He]);return Rn}return Ve.value=function(le){return arguments.length?(ge=typeof le=="function"?le:H(le),Ve):ge},Ve.domain=function(le){return arguments.length?(Le=typeof le=="function"?le:H([le[0],le[1]]),Ve):Le},Ve.thresholds=function(le){return arguments.length?(Se=typeof le=="function"?le:Array.isArray(le)?H(it.call(le)):H(le),Ve):Se},Ve}function tt(ge,Le){var Se,Ve,le,vr,He;if(Le===void 0)try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;Mr!=null&&(He<Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var rn=-1;try{for(var pn=t.__values(ge),qr=pn.next();!qr.done;qr=pn.next()){var Mr=qr.value;(Mr=Le(Mr,++rn,ge))!=null&&(He<Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=pn.return)&&vr.call(pn)}finally{if(le)throw le.error}}}return He}function lt(ge,Le){var Se,Ve,le,vr,He;if(Le===void 0)try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;Mr!=null&&(He>Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var rn=-1;try{for(var pn=t.__values(ge),qr=pn.next();!qr.done;qr=pn.next()){var Mr=qr.value;(Mr=Le(Mr,++rn,ge))!=null&&(He>Mr||He===void 0&&Mr>=Mr)&&(He=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=pn.return)&&vr.call(pn)}finally{if(le)throw le.error}}}return He}function St(ge,Le,Se,Ve,le){for(Se===void 0&&(Se=0),Ve===void 0&&(Ve=ge.length-1),le===void 0&&(le=s);Ve>Se;){if(Ve-Se>600){var vr=Ve-Se+1,He=Le-Se+1,rr=Math.log(vr),Lr=.5*Math.exp(2*rr/3),Mr=.5*Math.sqrt(rr*Lr*(vr-Lr)/vr)*(He-vr/2<0?-1:1),rn=Math.max(Se,Math.floor(Le-He*Lr/vr+Mr)),pn=Math.min(Ve,Math.floor(Le+(vr-He)*Lr/vr+Mr));St(ge,Le,rn,pn,le)}var qr=ge[Le],Dn=Se,ae=Ve;for(ot(ge,Se,Le),le(ge[Ve],qr)>0&&ot(ge,Se,Ve);Dn<ae;){for(ot(ge,Dn,ae),++Dn,--ae;le(ge[Dn],qr)<0;)++Dn;for(;le(ge[ae],qr)>0;)--ae}le(ge[Se],qr)===0?ot(ge,Se,ae):(++ae,ot(ge,ae,Ve)),ae<=Le&&(Se=ae+1),Le<=ae&&(Ve=ae-1)}return ge}function ot(ge,Le,Se){var Ve=ge[Le];ge[Le]=ge[Se],ge[Se]=Ve}function Mt(ge,Le,Se){if(ge=Float64Array.from(r(ge,Se)),!!(Ve=ge.length)){if((Le=+Le)<=0||Ve<2)return lt(ge);if(Le>=1)return tt(ge);var Ve,le=(Ve-1)*Le,vr=Math.floor(le),He=tt(St(ge,vr).subarray(0,vr+1)),rr=lt(ge.subarray(vr+1));return He+(rr-He)*(le-vr)}}function Ot(ge,Le,Se){if(Se===void 0&&(Se=f),!!(Ve=ge.length)){if((Le=+Le)<=0||Ve<2)return+Se(ge[0],0,ge);if(Le>=1)return+Se(ge[Ve-1],Ve-1,ge);var Ve,le=(Ve-1)*Le,vr=Math.floor(le),He=+Se(ge[vr],vr,ge),rr=+Se(ge[vr+1],vr+1,ge);return He+(rr-He)*(le-vr)}}function Ft(ge,Le,Se){return Math.ceil((Se-Le)/(2*(Mt(ge,.75)-Mt(ge,.25))*Math.pow(l(ge),-1/3)))}function zt(ge,Le,Se){return Math.ceil((Se-Le)/(3.5*M(ge)*Math.pow(l(ge),-1/3)))}function $t(ge,Le){var Se,Ve,le,vr,He,rr=-1,Lr=-1;if(Le===void 0)try{for(var Mr=t.__values(ge),rn=Mr.next();!rn.done;rn=Mr.next()){var pn=rn.value;++Lr,pn!=null&&(He<pn||He===void 0&&pn>=pn)&&(He=pn,rr=Lr)}}catch(ae){Se={error:ae}}finally{try{rn&&!rn.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}else try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var pn=Dn.value;(pn=Le(pn,++Lr,ge))!=null&&(He<pn||He===void 0&&pn>=pn)&&(He=pn,rr=Lr)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}return rr}function he(ge,Le){var Se,Ve,le,vr,He=0,rr=0;if(Le===void 0)try{for(var Lr=t.__values(ge),Mr=Lr.next();!Mr.done;Mr=Lr.next()){var rn=Mr.value;rn!=null&&(rn=+rn)>=rn&&(++He,rr+=rn)}}catch(ae){Se={error:ae}}finally{try{Mr&&!Mr.done&&(Ve=Lr.return)&&Ve.call(Lr)}finally{if(Se)throw Se.error}}else{var pn=-1;try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var rn=Dn.value;(rn=Le(rn,++pn,ge))!=null&&(rn=+rn)>=rn&&(++He,rr+=rn)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}}if(He)return rr/He}function ye(ge,Le){return Mt(ge,.5,Le)}function tr(ge){var Le,Se,Ve,le,vr,He;return t.__generator(this,function(rr){switch(rr.label){case 0:rr.trys.push([0,5,6,7]),Le=t.__values(ge),Se=Le.next(),rr.label=1;case 1:return Se.done?[3,4]:(Ve=Se.value,[5,t.__values(Ve)]);case 2:rr.sent(),rr.label=3;case 3:return Se=Le.next(),[3,1];case 4:return[3,7];case 5:return le=rr.sent(),vr={error:le},[3,7];case 6:try{Se&&!Se.done&&(He=Le.return)&&He.call(Le)}finally{if(vr)throw vr.error}return[7];case 7:return[2]}})}function nr(ge){return Array.from(tr(ge))}function Xe(ge,Le){var Se,Ve,le,vr,He,rr=-1,Lr=-1;if(Le===void 0)try{for(var Mr=t.__values(ge),rn=Mr.next();!rn.done;rn=Mr.next()){var pn=rn.value;++Lr,pn!=null&&(He>pn||He===void 0&&pn>=pn)&&(He=pn,rr=Lr)}}catch(ae){Se={error:ae}}finally{try{rn&&!rn.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}else try{for(var qr=t.__values(ge),Dn=qr.next();!Dn.done;Dn=qr.next()){var pn=Dn.value;(pn=Le(pn,++Lr,ge))!=null&&(He>pn||He===void 0&&pn>=pn)&&(He=pn,rr=Lr)}}catch(ae){le={error:ae}}finally{try{Dn&&!Dn.done&&(vr=qr.return)&&vr.call(qr)}finally{if(le)throw le.error}}return rr}function yr(ge,Le){var Se,Ve;Le===void 0&&(Le=Vr);var le=[],vr,He=!1;try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;He&&le.push(Le(vr,Mr)),vr=Mr,He=!0}}catch(rn){Se={error:rn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return le}function Vr(ge,Le){return[ge,Le]}function Ee(ge,Le,Se){ge=+ge,Le=+Le,Se=(le=arguments.length)<2?(Le=ge,ge=0,1):le<3?1:+Se;for(var Ve=-1,le=Math.max(0,Math.ceil((Le-ge)/Se))|0,vr=new Array(le);++Ve<le;)vr[Ve]=ge+Ve*Se;return vr}function de(ge,Le){var Se,Ve,le,vr;Le===void 0&&(Le=s);var He,rr=!1;if(Le.length===1){var Lr=void 0;try{for(var Mr=t.__values(ge),rn=Mr.next();!rn.done;rn=Mr.next()){var pn=rn.value,qr=Le(pn);(rr?s(qr,Lr)<0:s(qr,qr)===0)&&(He=pn,Lr=qr,rr=!0)}}catch(er){Se={error:er}}finally{try{rn&&!rn.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}}else try{for(var Dn=t.__values(ge),ae=Dn.next();!ae.done;ae=Dn.next()){var qr=ae.value;(rr?Le(qr,He)<0:Le(qr,qr)===0)&&(He=qr,rr=!0)}}catch(er){le={error:er}}finally{try{ae&&!ae.done&&(vr=Dn.return)&&vr.call(Dn)}finally{if(le)throw le.error}}return He}function Ge(ge,Le){var Se,Ve;if(Le===void 0&&(Le=s),Le.length===1)return Xe(ge,Le);var le,vr=-1,He=-1;try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;++He,(vr<0?Le(Mr,Mr)===0:Le(Mr,le)<0)&&(le=Mr,vr=He)}}catch(rn){Se={error:rn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return vr}function ke(ge,Le){var Se,Ve,le,vr;Le===void 0&&(Le=s);var He,rr=!1;if(Le.length===1){var Lr=void 0;try{for(var Mr=t.__values(ge),rn=Mr.next();!rn.done;rn=Mr.next()){var pn=rn.value,qr=Le(pn);(rr?s(qr,Lr)>0:s(qr,qr)===0)&&(He=pn,Lr=qr,rr=!0)}}catch(er){Se={error:er}}finally{try{rn&&!rn.done&&(Ve=Mr.return)&&Ve.call(Mr)}finally{if(Se)throw Se.error}}}else try{for(var Dn=t.__values(ge),ae=Dn.next();!ae.done;ae=Dn.next()){var qr=ae.value;(rr?Le(qr,He)>0:Le(qr,qr)===0)&&(He=qr,rr=!0)}}catch(er){le={error:er}}finally{try{ae&&!ae.done&&(vr=Dn.return)&&vr.call(Dn)}finally{if(le)throw le.error}}return He}function Kr(ge,Le){var Se,Ve;if(Le===void 0&&(Le=s),Le.length===1)return $t(ge,Le);var le,vr=-1,He=-1;try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;++He,(vr<0?Le(Mr,Mr)===0:Le(Mr,le)>0)&&(le=Mr,vr=He)}}catch(rn){Se={error:rn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return vr}function fn(ge,Le){var Se=Ge(ge,Le);return Se<0?void 0:Se}var pi=Vi(Math.random);function Vi(ge){return function(Se,Ve,le){Ve===void 0&&(Ve=0),le===void 0&&(le=Se.length);for(var vr=le-(Ve=+Ve);vr;){var He=ge()*vr--|0,rr=Se[vr+Ve];Se[vr+Ve]=Se[He+Ve],Se[He+Ve]=rr}return Se}}function ea(ge,Le){var Se,Ve,le,vr,He=0;if(Le===void 0)try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;(Mr=+Mr)&&(He+=Mr)}}catch(Dn){Se={error:Dn}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}else{var rn=-1;try{for(var pn=t.__values(ge),qr=pn.next();!qr.done;qr=pn.next()){var Mr=qr.value;(Mr=+Le(Mr,++rn,ge))&&(He+=Mr)}}catch(Dn){le={error:Dn}}finally{try{qr&&!qr.done&&(vr=pn.return)&&vr.call(pn)}finally{if(le)throw le.error}}}return He}function zi(ge){if(!(vr=ge.length))return[];for(var Le=-1,Se=lt(ge,Te),Ve=new Array(Se);++Le<Se;)for(var le=-1,vr,He=Ve[Le]=new Array(vr);++le<vr;)He[le]=ge[le][Le];return Ve}function Te(ge){return ge.length}function Be(){return zi(arguments)}function lr(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=-1;try{for(var vr=t.__values(ge),He=vr.next();!He.done;He=vr.next()){var rr=He.value;if(!Le(rr,++le,ge))return!1}}catch(Lr){Se={error:Lr}}finally{try{He&&!He.done&&(Ve=vr.return)&&Ve.call(vr)}finally{if(Se)throw Se.error}}return!0}function Or(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=-1;try{for(var vr=t.__values(ge),He=vr.next();!He.done;He=vr.next()){var rr=He.value;if(Le(rr,++le,ge))return!0}}catch(Lr){Se={error:Lr}}finally{try{He&&!He.done&&(Ve=vr.return)&&Ve.call(vr)}finally{if(Se)throw Se.error}}return!1}function sr(ge,Le){var Se,Ve;if(typeof Le!="function")throw new TypeError("test is not a function");var le=[],vr=-1;try{for(var He=t.__values(ge),rr=He.next();!rr.done;rr=He.next()){var Lr=rr.value;Le(Lr,++vr,ge)&&le.push(Lr)}}catch(Mr){Se={error:Mr}}finally{try{rr&&!rr.done&&(Ve=He.return)&&Ve.call(He)}finally{if(Se)throw Se.error}}return le}function Dr(ge,Le){if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof Le!="function")throw new TypeError("mapper is not a function");return Array.from(ge,function(Se,Ve){return Le(Se,Ve,ge)})}function En(ge,Le,Se){var Ve,le;if(typeof Le!="function")throw new TypeError("reducer is not a function");var vr=ge[Symbol.iterator](),He,rr,Lr=-1;if(arguments.length<3){if(Ve=vr.next(),He=Ve.done,Se=Ve.value,He)return;++Lr}for(;le=vr.next(),He=le.done,rr=le.value,!He;)Se=Le(Se,rr,++Lr,ge);return Se}function Yn(ge){if(typeof ge[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(ge).reverse()}function ln(ge){for(var Le,Se,Ve,le,vr=[],He=1;He<arguments.length;He++)vr[He-1]=arguments[He];ge=new Set(ge);try{for(var rr=t.__values(vr),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;try{for(var rn=(Ve=void 0,t.__values(Mr)),pn=rn.next();!pn.done;pn=rn.next()){var qr=pn.value;ge.delete(qr)}}catch(Dn){Ve={error:Dn}}finally{try{pn&&!pn.done&&(le=rn.return)&&le.call(rn)}finally{if(Ve)throw Ve.error}}}}catch(Dn){Le={error:Dn}}finally{try{Lr&&!Lr.done&&(Se=rr.return)&&Se.call(rr)}finally{if(Le)throw Le.error}}return ge}function Jr(ge,Le){var Se,Ve,le,vr=Le[Symbol.iterator](),He=new Set;try{for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;if(He.has(Mr))return!1;for(var rn=void 0,pn=void 0;(le=vr.next(),rn=le.value,pn=le.done,le)&&!pn;){if(Object.is(Mr,rn))return!1;He.add(rn)}}}catch(qr){Se={error:qr}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return!0}function Wn(ge){return ge instanceof Set?ge:new Set(ge)}function $n(ge){for(var Le,Se,Ve,le,vr=[],He=1;He<arguments.length;He++)vr[He-1]=arguments[He];ge=new Set(ge),vr=vr.map(Wn);try{t:for(var rr=t.__values(ge),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;try{for(var rn=(Ve=void 0,t.__values(vr)),pn=rn.next();!pn.done;pn=rn.next()){var qr=pn.value;if(!qr.has(Mr)){ge.delete(Mr);continue t}}}catch(Dn){Ve={error:Dn}}finally{try{pn&&!pn.done&&(le=rn.return)&&le.call(rn)}finally{if(Ve)throw Ve.error}}}}catch(Dn){Le={error:Dn}}finally{try{Lr&&!Lr.done&&(Se=rr.return)&&Se.call(rr)}finally{if(Le)throw Le.error}}return ge}function Gr(ge,Le){var Se,Ve,le,vr=ge[Symbol.iterator](),He=new Set;try{for(var rr=t.__values(Le),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;if(!He.has(Mr))for(var rn=void 0,pn=void 0;le=vr.next(),rn=le.value,pn=le.done,le;){if(pn)return!1;if(He.add(rn),Object.is(Mr,rn))break}}}catch(qr){Se={error:qr}}finally{try{Lr&&!Lr.done&&(Ve=rr.return)&&Ve.call(rr)}finally{if(Se)throw Se.error}}return!0}function wr(ge,Le){return Gr(Le,ge)}function ti(){for(var ge,Le,Se,Ve,le=[],vr=0;vr<arguments.length;vr++)le[vr]=arguments[vr];var He=new Set;try{for(var rr=t.__values(le),Lr=rr.next();!Lr.done;Lr=rr.next()){var Mr=Lr.value;try{for(var rn=(Se=void 0,t.__values(Mr)),pn=rn.next();!pn.done;pn=rn.next()){var qr=pn.value;He.add(qr)}}catch(Dn){Se={error:Dn}}finally{try{pn&&!pn.done&&(Ve=rn.return)&&Ve.call(rn)}finally{if(Se)throw Se.error}}}}catch(Dn){ge={error:Dn}}finally{try{Lr&&!Lr.done&&(Le=rr.return)&&Le.call(rr)}finally{if(ge)throw ge.error}}return He}c.Adder=E,c.InternMap=T,c.InternSet=O,c.ascending=s,c.bin=V,c.bisect=n,c.bisectCenter=u,c.bisectLeft=a,c.bisectRight=n,c.bisector=v,c.count=l,c.cross=y,c.cumsum=x,c.descending=A,c.deviation=M,c.difference=ln,c.disjoint=Jr,c.every=lr,c.extent=b,c.filter=sr,c.fsum=C,c.greatest=ke,c.greatestIndex=Kr,c.group=Z,c.groupSort=G,c.groups=J,c.histogram=V,c.index=Q,c.indexes=xt,c.intersection=$n,c.least=de,c.leastIndex=Ge,c.map=Dr,c.max=tt,c.maxIndex=$t,c.mean=he,c.median=ye,c.merge=nr,c.min=lt,c.minIndex=Xe,c.nice=w,c.pairs=yr,c.permute=nt,c.quantile=Mt,c.quantileSorted=Ot,c.quickselect=St,c.range=Ee,c.reduce=En,c.reverse=Yn,c.rollup=ht,c.rollups=at,c.scan=fn,c.shuffle=pi,c.shuffler=Vi,c.some=Or,c.sort=q,c.subset=wr,c.sum=ea,c.superset=Gr,c.thresholdFreedmanDiaconis=Ft,c.thresholdScott=zt,c.thresholdSturges=D,c.tickIncrement=et,c.tickStep=j,c.ticks=$,c.transpose=zi,c.union=ti,c.variance=m,c.zip=Be,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";var c="$";function s(){}s.prototype=v.prototype={constructor:s,has:function(g){return c+g in this},get:function(g){return this[c+g]},set:function(g,y){return this[c+g]=y,this},remove:function(g){var y=c+g;return y in this&&delete this[y]},clear:function(){for(var g in this)g[0]===c&&delete this[g]},keys:function(){var g=[];for(var y in this)y[0]===c&&g.push(y.slice(1));return g},values:function(){var g=[];for(var y in this)y[0]===c&&g.push(this[y]);return g},entries:function(){var g=[];for(var y in this)y[0]===c&&g.push({key:y.slice(1),value:this[y]});return g},size:function(){var g=0;for(var y in this)y[0]===c&&++g;return g},empty:function(){for(var g in this)if(g[0]===c)return!1;return!0},each:function(g){for(var y in this)y[0]===c&&g(this[y],y.slice(1),this)}};function v(g,y){var x=new s;if(g instanceof s)g.each(function(E,C){x.set(C,E)});else if(Array.isArray(g)){var A=-1,m=g.length,M;if(y==null)for(;++A<m;)x.set(A,g[A]);else for(;++A<m;)x.set(y(M=g[A],A,g),M)}else if(g)for(var b in g)x.set(b,g[b]);return x}function o(){var g=[],y=[],x,A,m;function M(E,C,T,O){if(C>=g.length)return x!=null&&E.sort(x),A!=null?A(E):E;for(var L=-1,R=E.length,W=g[C++],U,X,Z=v(),J,ht=T();++L<R;)(J=Z.get(U=W(X=E[L])+""))?J.push(X):Z.set(U,[X]);return Z.each(function(at,Q){O(ht,Q,M(at,C,T,O))}),ht}function b(E,C){if(++C>g.length)return E;var T,O=y[C-1];return A!=null&&C>=g.length?T=E.entries():(T=[],E.each(function(L,R){T.push({key:R,values:b(L,C)})})),O!=null?T.sort(function(L,R){return O(L.key,R.key)}):T}return m={object:function(E){return M(E,0,f,r)},map:function(E){return M(E,0,e,n)},entries:function(E){return b(M(E,0,e,n),0)},key:function(E){return g.push(E),m},sortKeys:function(E){return y[g.length-1]=E,m},sortValues:function(E){return x=E,m},rollup:function(E){return A=E,m}}}function f(){return{}}function r(g,y,x){g[y]=x}function e(){return v()}function n(g,y,x){g.set(y,x)}function a(){}var u=v.prototype;a.prototype=l.prototype={constructor:a,has:u.has,add:function(g){return g+="",this[c+g]=g,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};function l(g,y){var x=new a;if(g instanceof a)g.each(function(M){x.add(M)});else if(g){var A=-1,m=g.length;if(y==null)for(;++A<m;)x.add(g[A]);else for(;++A<m;)x.add(y(g[A],A,g))}return x}function h(g){var y=[];for(var x in g)y.push(x);return y}function p(g){var y=[];for(var x in g)y.push(g[x]);return y}function d(g){var y=[];for(var x in g)y.push({key:x,value:g[x]});return y}t.nest=o,t.set=l,t.map=v,t.keys=h,t.values=p,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-composite-projections@1.4.0@d3-composite-projections/d3-composite-projections.js":function(P,S,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(S,i("./node_modules/_d3-geo@2.0.1@d3-geo/dist/d3-geo.js"),i("./node_modules/_d3-path@2.0.0@d3-path/dist/d3-path.js"))})(this,function(c,s,v){"use strict";var o=1e-6;function f(){}var r=Infinity,e=r,n=-r,a=n,u={point:l,lineStart:f,lineEnd:f,polygonStart:f,polygonEnd:f,result:function(){var q=[[r,e],[n,a]];return n=a=-(e=r=Infinity),q}};function l(q,G){q<r&&(r=q),q>n&&(n=q),G<e&&(e=G),G>a&&(a=G)}function h(q,G,N){var it=G[1][0]-G[0][0],H=G[1][1]-G[0][1],ct=q.clipExtent&&q.clipExtent();q.scale(150).translate([0,0]),ct!=null&&q.clipExtent(null),s.geoStream(N,q.stream(u));var ft=u.result(),K=Math.min(it/(ft[1][0]-ft[0][0]),H/(ft[1][1]-ft[0][1])),$=+G[0][0]+(it-K*(ft[1][0]+ft[0][0]))/2,et=+G[0][1]+(H-K*(ft[1][1]+ft[0][1]))/2;return ct!=null&&q.clipExtent(ct),q.scale(K*150).translate([$,et])}function p(q,G,N){return h(q,[[0,0],G],N)}function d(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function g(){var q,G,N=s.geoAlbers(),it,H=s.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ct,ft=s.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),K,$,et={point:function(D,V){$=[D,V]}};function j(D){var V=D[0],tt=D[1];return $=null,it.point(V,tt),$||(ct.point(V,tt),$)||(K.point(V,tt),$)}j.invert=function(D){var V=N.scale(),tt=N.translate(),lt=(D[0]-tt[0])/V,St=(D[1]-tt[1])/V;return(St>=.12&&St<.234&&lt>=-.425&&lt<-.214?H:St>=.166&&St<.234&&lt>=-.214&&lt<-.115?ft:N).invert(D)},j.stream=function(D){return q&&G===D?q:q=d([N.stream(G=D),H.stream(D),ft.stream(D)])},j.precision=function(D){return arguments.length?(N.precision(D),H.precision(D),ft.precision(D),w()):N.precision()},j.scale=function(D){return arguments.length?(N.scale(D),H.scale(D*.35),ft.scale(D),j.translate(N.translate())):N.scale()},j.translate=function(D){if(!arguments.length)return N.translate();var V=N.scale(),tt=+D[0],lt=+D[1];return it=N.translate(D).clipExtent([[tt-.455*V,lt-.238*V],[tt+.455*V,lt+.238*V]]).stream(et),ct=H.translate([tt-.307*V,lt+.201*V]).clipExtent([[tt-.425*V+o,lt+.12*V+o],[tt-.214*V-o,lt+.234*V-o]]).stream(et),K=ft.translate([tt-.205*V,lt+.212*V]).clipExtent([[tt-.214*V+o,lt+.166*V+o],[tt-.115*V-o,lt+.234*V-o]]).stream(et),w()},j.fitExtent=function(D,V){return h(j,D,V)},j.fitSize=function(D,V){return p(j,D,V)};function w(){return q=G=null,j}return j.drawCompositionBorders=function(D){var V=N([-102.91,26.3]),tt=N([-104,27.5]),lt=N([-108,29.1]),St=N([-110,29.1]),ot=N([-110,26.7]),Mt=N([-112.8,27.6]),Ot=N([-114.3,30.6]),Ft=N([-119.3,30.1]);D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.moveTo(ot[0],ot[1]),D.lineTo(Mt[0],Mt[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ft[0],Ft[1])},j.getCompositionBorders=function(){var D=v.path();return this.drawCompositionBorders(D),D.toString()},j.scale(1070)}function y(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function x(){var q,G,N=s.geoAlbers(),it,H=s.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),ct,ft=s.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),K,$=s.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),et,j=s.geoEquirectangular().rotate([173,14]),w,D=s.geoEquirectangular().rotate([-145,-16.8]),V,tt,lt={point:function(Mt,Ot){tt=[Mt,Ot]}};function St(Mt){var Ot=Mt[0],Ft=Mt[1];return tt=null,it.point(Ot,Ft),tt||(ct.point(Ot,Ft),tt)||(K.point(Ot,Ft),tt)||(et.point(Ot,Ft),tt)||(w.point(Ot,Ft),tt)||(V.point(Ot,Ft),tt)}St.invert=function(Mt){var Ot=N.scale(),Ft=N.translate(),zt=(Mt[0]-Ft[0])/Ot,$t=(Mt[1]-Ft[1])/Ot;return($t>=.12&&$t<.234&&zt>=-.425&&zt<-.214?H:$t>=.166&&$t<.234&&zt>=-.214&&zt<-.115?ft:$t>=.2064&&$t<.2413&&zt>=.312&&zt<.385?$:$t>=.09&&$t<.1197&&zt>=-.4243&&zt<-.3232?j:$t>=-.0518&&$t<.0895&&zt>=-.4243&&zt<-.3824?D:N).invert(Mt)},St.stream=function(Mt){return q&&G===Mt?q:q=y([N.stream(G=Mt),H.stream(Mt),ft.stream(Mt),$.stream(Mt),j.stream(Mt),D.stream(Mt)])},St.precision=function(Mt){return arguments.length?(N.precision(Mt),H.precision(Mt),ft.precision(Mt),$.precision(Mt),j.precision(Mt),D.precision(Mt),ot()):N.precision()},St.scale=function(Mt){return arguments.length?(N.scale(Mt),H.scale(Mt*.35),ft.scale(Mt),$.scale(Mt),j.scale(Mt*2),D.scale(Mt),St.translate(N.translate())):N.scale()},St.translate=function(Mt){if(!arguments.length)return N.translate();var Ot=N.scale(),Ft=+Mt[0],zt=+Mt[1];return it=N.translate(Mt).clipExtent([[Ft-.455*Ot,zt-.238*Ot],[Ft+.455*Ot,zt+.238*Ot]]).stream(lt),ct=H.translate([Ft-.307*Ot,zt+.201*Ot]).clipExtent([[Ft-.425*Ot+o,zt+.12*Ot+o],[Ft-.214*Ot-o,zt+.233*Ot-o]]).stream(lt),K=ft.translate([Ft-.205*Ot,zt+.212*Ot]).clipExtent([[Ft-.214*Ot+o,zt+.166*Ot+o],[Ft-.115*Ot-o,zt+.233*Ot-o]]).stream(lt),et=$.translate([Ft+.35*Ot,zt+.224*Ot]).clipExtent([[Ft+.312*Ot+o,zt+.2064*Ot+o],[Ft+.385*Ot-o,zt+.233*Ot-o]]).stream(lt),w=j.translate([Ft-.492*Ot,zt+.09*Ot]).clipExtent([[Ft-.4243*Ot+o,zt+.0903*Ot+o],[Ft-.3233*Ot-o,zt+.1197*Ot-o]]).stream(lt),V=D.translate([Ft-.408*Ot,zt+.018*Ot]).clipExtent([[Ft-.4244*Ot+o,zt-.0519*Ot+o],[Ft-.3824*Ot-o,zt+.0895*Ot-o]]).stream(lt),ot()},St.fitExtent=function(Mt,Ot){return h(St,Mt,Ot)},St.fitSize=function(Mt,Ot){return p(St,Mt,Ot)};function ot(){return q=G=null,St}return St.drawCompositionBorders=function(Mt){var Ot=N([-110.4641,28.2805]),Ft=N([-104.0597,28.9528]),zt=N([-103.7049,25.1031]),$t=N([-109.8337,24.4531]),he=N([-124.4745,28.1407]),ye=N([-110.931,30.8844]),tr=N([-109.8337,24.4531]),nr=N([-122.4628,21.8562]),Xe=N([-76.8579,25.1544]),yr=N([-72.429,24.2097]),Vr=N([-72.8265,22.7056]),Ee=N([-77.1852,23.6392]),de=N([-125.0093,29.7791]),Ge=N([-118.5193,31.3262]),ke=N([-118.064,29.6912]),Kr=N([-124.4369,28.169]),fn=N([-128.1314,37.4582]),pi=N([-125.2132,38.214]),Vi=N([-122.3616,30.5115]),ea=N([-125.0315,29.8211]);Mt.moveTo(Ot[0],Ot[1]),Mt.lineTo(Ft[0],Ft[1]),Mt.lineTo(zt[0],zt[1]),Mt.lineTo(zt[0],zt[1]),Mt.lineTo($t[0],$t[1]),Mt.closePath(),Mt.moveTo(he[0],he[1]),Mt.lineTo(ye[0],ye[1]),Mt.lineTo(tr[0],tr[1]),Mt.lineTo(tr[0],tr[1]),Mt.lineTo(nr[0],nr[1]),Mt.closePath(),Mt.moveTo(Xe[0],Xe[1]),Mt.lineTo(yr[0],yr[1]),Mt.lineTo(Vr[0],Vr[1]),Mt.lineTo(Vr[0],Vr[1]),Mt.lineTo(Ee[0],Ee[1]),Mt.closePath(),Mt.moveTo(de[0],de[1]),Mt.lineTo(Ge[0],Ge[1]),Mt.lineTo(ke[0],ke[1]),Mt.lineTo(ke[0],ke[1]),Mt.lineTo(Kr[0],Kr[1]),Mt.closePath(),Mt.moveTo(fn[0],fn[1]),Mt.lineTo(pi[0],pi[1]),Mt.lineTo(Vi[0],Vi[1]),Mt.lineTo(Vi[0],Vi[1]),Mt.lineTo(ea[0],ea[1]),Mt.closePath()},St.getCompositionBorders=function(){var Mt=v.path();return this.drawCompositionBorders(Mt),Mt.toString()},St.scale(1070)}function A(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function m(){var q,G,N=s.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),it,H=s.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),ct,ft,K={point:function(j,w){ft=[j,w]}};function $(j){var w=j[0],D=j[1];return ft=null,it.point(w,D),ft||(ct.point(w,D),ft)}$.invert=function(j){var w=N.scale(),D=N.translate(),V=(j[0]-D[0])/w,tt=(j[1]-D[1])/w;return(tt>=.05346&&tt<.0897&&V>=-.13388&&V<-.0322?H:N).invert(j)},$.stream=function(j){return q&&G===j?q:q=A([N.stream(G=j),H.stream(j)])},$.precision=function(j){return arguments.length?(N.precision(j),H.precision(j),et()):N.precision()},$.scale=function(j){return arguments.length?(N.scale(j),H.scale(j),$.translate(N.translate())):N.scale()},$.translate=function(j){if(!arguments.length)return N.translate();var w=N.scale(),D=+j[0],V=+j[1];return it=N.translate(j).clipExtent([[D-.06857*w,V-.1288*w],[D+.13249*w,V+.06*w]]).stream(K),ct=H.translate([D+.1*w,V-.094*w]).clipExtent([[D-.1331*w+o,V+.053457*w+o],[D-.0354*w-o,V+.08969*w-o]]).stream(K),et()},$.fitExtent=function(j,w){return h($,j,w)},$.fitSize=function(j,w){return p($,j,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(j){var w=N([-14.034675,34.965007]),D=N([-7.4208899,35.536988]),V=N([-7.3148275,33.54359]);j.moveTo(w[0],w[1]),j.lineTo(D[0],D[1]),j.lineTo(V[0],V[1])},$.getCompositionBorders=function(){var j=v.path();return this.drawCompositionBorders(j),j.toString()},$.scale(2700)}function M(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function b(){var q,G,N=s.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),it,H=s.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),ct,ft=s.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),K,$,et={point:function(D,V){$=[D,V]}};function j(D){var V=D[0],tt=D[1];return $=null,it.point(V,tt),$||(ct.point(V,tt),$)||(K.point(V,tt),$)}j.invert=function(D){var V=N.scale(),tt=N.translate(),lt=(D[0]-tt[0])/V,St=(D[1]-tt[1])/V;return(St>=.0093&&St<.03678&&lt>=-.03875&&lt<-.0116?H:St>=-.0412&&St<.0091&&lt>=-.07782&&lt<-.01166?ft:N).invert(D)},j.stream=function(D){return q&&G===D?q:q=M([N.stream(G=D),H.stream(D),ft.stream(D)])},j.precision=function(D){return arguments.length?(N.precision(D),H.precision(D),ft.precision(D),w()):N.precision()},j.scale=function(D){return arguments.length?(N.scale(D),H.scale(D),ft.scale(D*.6),j.translate(N.translate())):N.scale()},j.translate=function(D){if(!arguments.length)return N.translate();var V=N.scale(),tt=+D[0],lt=+D[1];return it=N.translate(D).clipExtent([[tt-.0115*V,lt-.1138*V],[tt+.2105*V,lt+.0673*V]]).stream(et),ct=H.translate([tt-.0265*V,lt+.025*V]).clipExtent([[tt-.0388*V+o,lt+.0093*V+o],[tt-.0116*V-o,lt+.0368*V-o]]).stream(et),K=ft.translate([tt-.045*V,lt+-.02*V]).clipExtent([[tt-.0778*V+o,lt-.0413*V+o],[tt-.0117*V-o,lt+.0091*V-o]]).stream(et),w()},j.fitExtent=function(D,V){return h(j,D,V)},j.fitSize=function(D,V){return p(j,D,V)};function w(){return q=G=null,j}return j.drawCompositionBorders=function(D){var V=N([-12.8351,38.7113]),tt=N([-10.8482,38.7633]),lt=N([-10.8181,37.2072]),St=N([-12.7345,37.1573]),ot=N([-16.0753,41.4436]),Mt=N([-10.9168,41.6861]),Ot=N([-10.8557,38.7747]),Ft=N([-15.6728,38.5505]);D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath(),D.moveTo(ot[0],ot[1]),D.lineTo(Mt[0],Mt[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ft[0],Ft[1]),D.closePath()},j.getCompositionBorders=function(){var D=v.path();return this.drawCompositionBorders(D),D.toString()},j.scale(4200)}function E(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function C(){var q,G,N=s.geoMercator().rotate([80,1.5]),it,H=s.geoMercator().rotate([90.73,1]),ct,ft,K={point:function(j,w){ft=[j,w]}};function $(j){var w=j[0],D=j[1];return ft=null,it.point(w,D),ft||(ct.point(w,D),ft)}$.invert=function(j){var w=N.scale(),D=N.translate(),V=(j[0]-D[0])/w,tt=(j[1]-D[1])/w;return(tt>=-.0676&&tt<-.026&&V>=-.0857&&V<-.0263?H:N).invert(j)},$.stream=function(j){return q&&G===j?q:q=E([N.stream(G=j),H.stream(j)])},$.precision=function(j){return arguments.length?(N.precision(j),H.precision(j),et()):N.precision()},$.scale=function(j){return arguments.length?(N.scale(j),H.scale(j),$.translate(N.translate())):N.scale()},$.translate=function(j){if(!arguments.length)return N.translate();var w=N.scale(),D=+j[0],V=+j[1];return it=N.translate(j).clipExtent([[D-.0262*w,V-.0734*w],[D+.1741*w,V+.079*w]]).stream(K),ct=H.translate([D-.06*w,V-.04*w]).clipExtent([[D-.0857*w+o,V-.0676*w+o],[D-.0263*w-o,V-.026*w-o]]).stream(K),et()},$.fitExtent=function(j,w){return h($,j,w)},$.fitSize=function(j,w){return p($,j,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(j){var w=N([-84.9032,2.3757]),D=N([-81.5047,2.3708]),V=N([-81.5063,-.01]),tt=N([-84.9086,-.005]);j.moveTo(w[0],w[1]),j.lineTo(D[0],D[1]),j.lineTo(V[0],V[1]),j.lineTo(tt[0],tt[1]),j.closePath()},$.getCompositionBorders=function(){var j=v.path();return this.drawCompositionBorders(j),j.toString()},$.scale(3500)}function T(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function O(){var q,G,N=s.geoTransverseMercator().rotate([72,37]),it,H=s.geoStereographic().rotate([72,0]),ct,ft=s.geoMercator().rotate([80,33.5]),K,$=s.geoMercator().rotate([110,25]),et,j,w={point:function(tt,lt){j=[tt,lt]}};function D(tt){var lt=tt[0],St=tt[1];return j=null,it.point(lt,St),j||(ct.point(lt,St),j)||(K.point(lt,St),j)||(et.point(lt,St),j)}D.invert=function(tt){var lt=N.scale(),St=N.translate(),ot=(tt[0]-St[0])/lt,Mt=(tt[1]-St[1])/lt;return(Mt>=.2582&&Mt<.32&&ot>=-.1036&&ot<-.087?H:Mt>=-.01298&&Mt<.0133&&ot>=-.11396&&ot<-.05944?ft:Mt>=.01539&&Mt<.03911&&ot>=-.089&&ot<-.0588?$:N).invert(tt)},D.stream=function(tt){return q&&G===tt?q:q=T([N.stream(G=tt),H.stream(tt),ft.stream(tt),$.stream(tt)])},D.precision=function(tt){return arguments.length?(N.precision(tt),H.precision(tt),ft.precision(tt),$.precision(tt),V()):N.precision()},D.scale=function(tt){return arguments.length?(N.scale(tt),H.scale(tt*.15),ft.scale(tt*1.5),$.scale(tt*1.5),D.translate(N.translate())):N.scale()},D.translate=function(tt){if(!arguments.length)return N.translate();var lt=N.scale(),St=+tt[0],ot=+tt[1];return it=N.translate(tt).clipExtent([[St-.059*lt,ot-.3835*lt],[St+.4498*lt,ot+.3375*lt]]).stream(w),ct=H.translate([St-.087*lt,ot+.17*lt]).clipExtent([[St-.1166*lt+o,ot+.2582*lt+o],[St-.06*lt-o,ot+.32*lt-o]]).stream(w),K=ft.translate([St-.092*lt,ot-0*lt]).clipExtent([[St-.114*lt+o,ot-.013*lt+o],[St-.0594*lt-o,ot+.0133*lt-o]]).stream(w),et=$.translate([St-.089*lt,ot-.0265*lt]).clipExtent([[St-.089*lt+o,ot+.0154*lt+o],[St-.0588*lt-o,ot+.0391*lt-o]]).stream(w),V()},D.fitExtent=function(tt,lt){return h(D,tt,lt)},D.fitSize=function(tt,lt){return p(D,tt,lt)};function V(){return q=G=null,D}return D.drawCompositionBorders=function(tt){var lt=N([-82.6999,-51.3043]),St=N([-77.5442,-51.6631]),ot=N([-78.0254,-55.186]),Mt=N([-83.6106,-54.7785]),Ot=N([-80.0638,-35.984]),Ft=N([-76.2153,-36.1811]),zt=N([-76.2994,-37.6839]),$t=N([-80.2231,-37.4757]),he=N([-78.442,-37.706]),ye=N([-76.263,-37.8054]),tr=N([-76.344,-39.1595]),nr=N([-78.5638,-39.0559]);tt.moveTo(lt[0],lt[1]),tt.lineTo(St[0],St[1]),tt.lineTo(ot[0],ot[1]),tt.lineTo(ot[0],ot[1]),tt.lineTo(Mt[0],Mt[1]),tt.closePath(),tt.moveTo(Ot[0],Ot[1]),tt.lineTo(Ft[0],Ft[1]),tt.lineTo(zt[0],zt[1]),tt.lineTo(zt[0],zt[1]),tt.lineTo($t[0],$t[1]),tt.closePath(),tt.moveTo(he[0],he[1]),tt.lineTo(ye[0],ye[1]),tt.lineTo(tr[0],tr[1]),tt.lineTo(tr[0],tr[1]),tt.lineTo(nr[0],nr[1]),tt.closePath()},D.getCompositionBorders=function(){var tt=v.path();return this.drawCompositionBorders(tt),tt.toString()},D.scale(700)}function L(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function R(){var q,G,N=s.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),it,H=s.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),ct,ft=s.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),K,$,et={point:function(D,V){$=[D,V]}};function j(D){var V=D[0],tt=D[1];return $=null,it.point(V,tt),$||(ct.point(V,tt),$)||(K.point(V,tt),$)}j.invert=function(D){var V=N.scale(),tt=N.translate(),lt=(D[0]-tt[0])/V,St=(D[1]-tt[1])/V;return(St>=-.10925&&St<-.02701&&lt>=-.135&&lt<-.0397?H:St>=.04713&&St<.11138&&lt>=-.03986&&lt<.051?ft:N).invert(D)},j.stream=function(D){return q&&G===D?q:q=L([N.stream(G=D),H.stream(D),ft.stream(D)])},j.precision=function(D){return arguments.length?(N.precision(D),H.precision(D),ft.precision(D),w()):N.precision()},j.scale=function(D){return arguments.length?(N.scale(D),H.scale(D),ft.scale(D*.7),j.translate(N.translate())):N.scale()},j.translate=function(D){if(!arguments.length)return N.translate();var V=N.scale(),tt=+D[0],lt=+D[1];return it=N.translate(D).clipExtent([[tt-.1352*V,lt-.1091*V],[tt+.117*V,lt+.098*V]]).stream(et),ct=H.translate([tt-.0425*V,lt-.005*V]).clipExtent([[tt-.135*V+o,lt-.1093*V+o],[tt-.0397*V-o,lt-.027*V-o]]).stream(et),K=ft.translate(D).clipExtent([[tt-.0399*V+o,lt+.0471*V+o],[tt+.051*V-o,lt+.1114*V-o]]).stream(et),w()},j.fitExtent=function(D,V){return h(j,D,V)},j.fitSize=function(D,V){return p(j,D,V)};function w(){return q=G=null,j}return j.drawCompositionBorders=function(D){var V=N([126.01320483689143,41.621090310215585]),tt=N([133.04304387025903,42.15087523707186]),lt=N([133.3021766080688,37.43975444725098]),St=N([126.87889168628224,36.95488945159779]),ot=N([132.9,29.8]),Mt=N([134,33]),Ot=N([139.3,33.2]),Ft=N([139.16,30.5]);D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath(),D.moveTo(ot[0],ot[1]),D.lineTo(Mt[0],Mt[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ft[0],Ft[1])},j.getCompositionBorders=function(){var D=v.path();return this.drawCompositionBorders(D),D.toString()},j.scale(2200)}function W(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function U(){var q,G,N=s.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),it,H=s.geoMercator().center([-53.2,3.9]),ct,ft=s.geoMercator().center([-61.03,14.67]),K,$=s.geoMercator().center([-61.46,16.14]),et,j=s.geoMercator().center([-62.85,17.92]),w,D=s.geoMercator().center([-56.23,46.93]),V,tt=s.geoMercator().center([45.16,-12.8]),lt,St=s.geoMercator().center([55.52,-21.13]),ot,Mt=s.geoMercator().center([165.8,-21.07]),Ot,Ft=s.geoMercator().center([-178.1,-14.3]),zt,$t=s.geoMercator().center([-150.55,-17.11]),he,ye=s.geoMercator().center([-150.55,-17.11]),tr,nr,Xe={point:function(Ee,de){nr=[Ee,de]}};function yr(Ee){var de=Ee[0],Ge=Ee[1];return nr=null,it.point(de,Ge),nr||(ct.point(de,Ge),nr)||(K.point(de,Ge),nr)||(et.point(de,Ge),nr)||(w.point(de,Ge),nr)||(V.point(de,Ge),nr)||(lt.point(de,Ge),nr)||(ot.point(de,Ge),nr)||(Ot.point(de,Ge),nr)||(zt.point(de,Ge),nr)||(he.point(de,Ge),nr)||(tr.point(de,Ge),nr)}yr.invert=function(Ee){var de=N.scale(),Ge=N.translate(),ke=(Ee[0]-Ge[0])/de,Kr=(Ee[1]-Ge[1])/de;return(Kr>=.029&&Kr<.0864&&ke>=-.14&&ke<-.0996?H:Kr>=0&&Kr<.029&&ke>=-.14&&ke<-.0996?ft:Kr>=-.032&&Kr<0&&ke>=-.14&&ke<-.0996?$:Kr>=-.052&&Kr<-.032&&ke>=-.14&&ke<-.0996?j:Kr>=-.076&&Kr<.052&&ke>=-.14&&ke<-.0996?D:Kr>=-.076&&Kr<-.052&&ke>=.0967&&ke<.1371?tt:Kr>=-.052&&Kr<-.02&&ke>=.0967&&ke<.1371?St:Kr>=-.02&&Kr<.012&&ke>=.0967&&ke<.1371?Mt:Kr>=.012&&Kr<.033&&ke>=.0967&&ke<.1371?Ft:Kr>=.033&&Kr<.0864&&ke>=.0967&&ke<.1371?$t:N).invert(Ee)},yr.stream=function(Ee){return q&&G===Ee?q:q=W([N.stream(G=Ee),H.stream(Ee),ft.stream(Ee),$.stream(Ee),j.stream(Ee),D.stream(Ee),tt.stream(Ee),St.stream(Ee),Mt.stream(Ee),Ft.stream(Ee),$t.stream(Ee),ye.stream(Ee)])},yr.precision=function(Ee){return arguments.length?(N.precision(Ee),H.precision(Ee),ft.precision(Ee),$.precision(Ee),j.precision(Ee),D.precision(Ee),tt.precision(Ee),St.precision(Ee),Mt.precision(Ee),Ft.precision(Ee),$t.precision(Ee),ye.precision(Ee),Vr()):N.precision()},yr.scale=function(Ee){return arguments.length?(N.scale(Ee),H.scale(Ee*.6),ft.scale(Ee*1.6),$.scale(Ee*1.4),j.scale(Ee*5),D.scale(Ee*1.3),tt.scale(Ee*1.6),St.scale(Ee*1.2),Mt.scale(Ee*.3),Ft.scale(Ee*2.7),$t.scale(Ee*.5),ye.scale(Ee*.06),yr.translate(N.translate())):N.scale()},yr.translate=function(Ee){if(!arguments.length)return N.translate();var de=N.scale(),Ge=+Ee[0],ke=+Ee[1];return it=N.translate(Ee).clipExtent([[Ge-.0996*de,ke-.0908*de],[Ge+.0967*de,ke+.0864*de]]).stream(Xe),ct=H.translate([Ge-.12*de,ke+.0575*de]).clipExtent([[Ge-.14*de+o,ke+.029*de+o],[Ge-.0996*de-o,ke+.0864*de-o]]).stream(Xe),K=ft.translate([Ge-.12*de,ke+.013*de]).clipExtent([[Ge-.14*de+o,ke+0*de+o],[Ge-.0996*de-o,ke+.029*de-o]]).stream(Xe),et=$.translate([Ge-.12*de,ke-.014*de]).clipExtent([[Ge-.14*de+o,ke-.032*de+o],[Ge-.0996*de-o,ke+0*de-o]]).stream(Xe),w=j.translate([Ge-.12*de,ke-.044*de]).clipExtent([[Ge-.14*de+o,ke-.052*de+o],[Ge-.0996*de-o,ke-.032*de-o]]).stream(Xe),V=D.translate([Ge-.12*de,ke-.065*de]).clipExtent([[Ge-.14*de+o,ke-.076*de+o],[Ge-.0996*de-o,ke-.052*de-o]]).stream(Xe),lt=tt.translate([Ge+.117*de,ke-.064*de]).clipExtent([[Ge+.0967*de+o,ke-.076*de+o],[Ge+.1371*de-o,ke-.052*de-o]]).stream(Xe),ot=St.translate([Ge+.116*de,ke-.0355*de]).clipExtent([[Ge+.0967*de+o,ke-.052*de+o],[Ge+.1371*de-o,ke-.02*de-o]]).stream(Xe),Ot=Mt.translate([Ge+.116*de,ke-.0048*de]).clipExtent([[Ge+.0967*de+o,ke-.02*de+o],[Ge+.1371*de-o,ke+.012*de-o]]).stream(Xe),zt=Ft.translate([Ge+.116*de,ke+.022*de]).clipExtent([[Ge+.0967*de+o,ke+.012*de+o],[Ge+.1371*de-o,ke+.033*de-o]]).stream(Xe),tr=ye.translate([Ge+.11*de,ke+.045*de]).clipExtent([[Ge+.0967*de+o,ke+.033*de+o],[Ge+.1371*de-o,ke+.06*de-o]]).stream(Xe),he=$t.translate([Ge+.115*de,ke+.075*de]).clipExtent([[Ge+.0967*de+o,ke+.06*de+o],[Ge+.1371*de-o,ke+.0864*de-o]]).stream(Xe),Vr()},yr.fitExtent=function(Ee,de){return h(yr,Ee,de)},yr.fitSize=function(Ee,de){return p(yr,Ee,de)};function Vr(){return q=G=null,yr}return yr.drawCompositionBorders=function(Ee){var de,Ge,ke,Kr;de=N([-7.938886725111036,43.7219460918835]),Ge=N([-4.832080896458295,44.12930268549372]),ke=N([-4.205299743793263,40.98096346967365]),Kr=N([-7.071796453126152,40.610037319181444]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([-8.42751373617692,45.32889452553031]),Ge=N([-5.18599305777107,45.7566442062976]),ke=N([-4.832080905154431,44.129302726751426]),Kr=N([-7.938886737126192,43.72194613263854]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([-9.012656899657046,47.127733821030176]),Ge=N([-5.6105244772793155,47.579777861410626]),ke=N([-5.185993067168585,45.756644248170346]),Kr=N([-8.427513749141811,45.32889456686326]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([-9.405747558985553,48.26506375557457]),Ge=N([-5.896175018439575,48.733352850851624]),ke=N([-5.610524487556043,47.57977790393761]),Kr=N([-9.012656913808351,47.127733862971255]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([-9.908436061346974,49.642448789505856]),Ge=N([-6.262026716233124,50.131426841787174]),ke=N([-5.896175029331232,48.73335289377258]),Kr=N([-9.40574757396393,48.26506379787767]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([11.996907706504462,50.16039028163579]),Ge=N([15.649907879773343,49.68279246765253]),ke=N([15.156712840526632,48.30371557625831]),Kr=N([11.64122661754411,48.761078240546816]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([11.641226606955788,48.7610781975889]),Ge=N([15.156712825832164,48.30371553390465]),ke=N([14.549932166241172,46.4866532486199]),Kr=N([11.204443787952183,46.91899233914248]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([11.204443778297161,46.918992296823646]),Ge=N([14.549932152815039,46.486653206856396]),ke=N([13.994409796764009,44.695833444323256]),Kr=N([10.805306599253848,45.105133870684924]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([10.805306590412085,45.10513382903308]),Ge=N([13.99440978444733,44.695833403183606]),ke=N([13.654633799024392,43.53552468558152]),Kr=N([10.561516803980956,43.930671459798624]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([10.561516795617383,43.93067141859757]),Ge=N([13.654633787361952,43.5355246448671]),ke=N([12.867691604239901,40.640701985019405]),Kr=N([9.997809515987688,41.00288343254471]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([10.8,42.4]),Ge=N([12.8,42.13]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1])},yr.getCompositionBorders=function(){var Ee=v.path();return this.drawCompositionBorders(Ee),Ee.toString()},yr.scale(2700)}function X(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function Z(){var q,G,N=s.geoConicConformal().rotate([-10,-53]).parallels([0,60]),it,H=s.geoMercator().center([-61.46,16.14]),ct,ft=s.geoMercator().center([-53.2,3.9]),K,$=s.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),et,j=s.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),w,D=s.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),V,tt=s.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),lt,St=s.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),ot,Mt=s.geoMercator().center([-61.03,14.67]),Ot,Ft=s.geoMercator().center([45.16,-12.8]),zt,$t=s.geoMercator().center([55.52,-21.13]),he,ye=s.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),tr,nr,Xe={point:function(Ee,de){nr=[Ee,de]}};function yr(Ee){var de=Ee[0],Ge=Ee[1];return nr=null,it.point(de,Ge),nr||(K.point(de,Ge),nr)||(Ot.point(de,Ge),nr)||(ct.point(de,Ge),nr)||(ot.point(de,Ge),nr)||(lt.point(de,Ge),nr)||(zt.point(de,Ge),nr)||(he.point(de,Ge),nr)||(tr.point(de,Ge),nr)||(et.point(de,Ge),nr)||(w.point(de,Ge),nr)||(V.point(de,Ge),nr)}yr.invert=function(Ee){var de=N.scale(),Ge=N.translate(),ke=(Ee[0]-(Ge[0]+.08*de))/de,Kr=(Ee[1]-Ge[1])/de;return(Kr>=-.31&&Kr<-.24&&ke>=.14&&ke<.24?H:Kr>=-.24&&Kr<-.17&&ke>=.14&&ke<.24?ft:Kr>=-.17&&Kr<-.12&&ke>=.21&&ke<.24?j:Kr>=-.17&&Kr<-.14&&ke>=.14&&ke<.165?D:Kr>=-.17&&Kr<-.1&&ke>=.14&&ke<.24?$:Kr>=-.1&&Kr<-.03&&ke>=.14&&ke<.24?tt:Kr>=-.03&&Kr<.04&&ke>=.14&&ke<.24?St:Kr>=-.31&&Kr<-.24&&ke>=.24&&ke<.34?Mt:Kr>=-.24&&Kr<-.17&&ke>=.24&&ke<.34?Ft:Kr>=-.17&&Kr<-.1&&ke>=.24&&ke<.34?$t:Kr>=-.1&&Kr<-.03&&ke>=.24&&ke<.34?ye:N).invert(Ee)},yr.stream=function(Ee){return q&&G===Ee?q:q=X([N.stream(G=Ee),ft.stream(Ee),Mt.stream(Ee),H.stream(Ee),St.stream(Ee),tt.stream(Ee),Ft.stream(Ee),$t.stream(Ee),ye.stream(Ee),$.stream(Ee),j.stream(Ee),D.stream(Ee)])},yr.precision=function(Ee){return arguments.length?(N.precision(Ee),ft.precision(Ee),Mt.precision(Ee),H.precision(Ee),St.precision(Ee),tt.precision(Ee),Ft.precision(Ee),$t.precision(Ee),ye.precision(Ee),$.precision(Ee),j.precision(Ee),D.precision(Ee),Vr()):N.precision()},yr.scale=function(Ee){return arguments.length?(N.scale(Ee),H.scale(Ee*3),ft.scale(Ee*.8),Mt.scale(Ee*3.5),$t.scale(Ee*2.7),$.scale(Ee*2),j.scale(Ee*2),D.scale(Ee*2),tt.scale(Ee*3),St.scale(Ee),Ft.scale(Ee*5.5),ye.scale(Ee*6),yr.translate(N.translate())):N.scale()},yr.translate=function(Ee){if(!arguments.length)return N.translate();var de=N.scale(),Ge=+Ee[0],ke=+Ee[1];return it=N.translate([Ge-.08*de,ke]).clipExtent([[Ge-.51*de,ke-.33*de],[Ge+.5*de,ke+.33*de]]).stream(Xe),ct=H.translate([Ge+.19*de,ke-.275*de]).clipExtent([[Ge+.14*de+o,ke-.31*de+o],[Ge+.24*de-o,ke-.24*de-o]]).stream(Xe),K=ft.translate([Ge+.19*de,ke-.205*de]).clipExtent([[Ge+.14*de+o,ke-.24*de+o],[Ge+.24*de-o,ke-.17*de-o]]).stream(Xe),et=$.translate([Ge+.19*de,ke-.135*de]).clipExtent([[Ge+.14*de+o,ke-.17*de+o],[Ge+.24*de-o,ke-.1*de-o]]).stream(Xe),w=j.translate([Ge+.225*de,ke-.147*de]).clipExtent([[Ge+.21*de+o,ke-.17*de+o],[Ge+.24*de-o,ke-.12*de-o]]).stream(Xe),V=D.translate([Ge+.153*de,ke-.15*de]).clipExtent([[Ge+.14*de+o,ke-.17*de+o],[Ge+.165*de-o,ke-.14*de-o]]).stream(Xe),lt=tt.translate([Ge+.19*de,ke-.065*de]).clipExtent([[Ge+.14*de+o,ke-.1*de+o],[Ge+.24*de-o,ke-.03*de-o]]).stream(Xe),ot=St.translate([Ge+.19*de,ke+.005*de]).clipExtent([[Ge+.14*de+o,ke-.03*de+o],[Ge+.24*de-o,ke+.04*de-o]]).stream(Xe),Ot=Mt.translate([Ge+.29*de,ke-.275*de]).clipExtent([[Ge+.24*de+o,ke-.31*de+o],[Ge+.34*de-o,ke-.24*de-o]]).stream(Xe),zt=Ft.translate([Ge+.29*de,ke-.205*de]).clipExtent([[Ge+.24*de+o,ke-.24*de+o],[Ge+.34*de-o,ke-.17*de-o]]).stream(Xe),he=$t.translate([Ge+.29*de,ke-.135*de]).clipExtent([[Ge+.24*de+o,ke-.17*de+o],[Ge+.34*de-o,ke-.1*de-o]]).stream(Xe),tr=ye.translate([Ge+.29*de,ke-.065*de]).clipExtent([[Ge+.24*de+o,ke-.1*de+o],[Ge+.34*de-o,ke-.03*de-o]]).stream(Xe),Vr()},yr.fitExtent=function(Ee,de){return h(yr,Ee,de)},yr.fitSize=function(Ee,de){return p(yr,Ee,de)};function Vr(){return q=G=null,yr}return yr.drawCompositionBorders=function(Ee){var de,Ge,ke,Kr;de=N([42.45755610828648,63.343658547914934]),Ge=N([52.65837266667029,59.35045080290929]),ke=N([47.19754502247785,56.12653496548117]),Kr=N([37.673034273363044,59.61638268506111]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([59.41110754003403,62.35069727399336]),Ge=N([66.75050228640794,57.11797303636038]),ke=N([60.236065725110436,54.63331433818992]),Kr=N([52.65837313153311,59.350450804599355]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([48.81091130080243,66.93353402634641]),Ge=N([59.41110730654679,62.35069740653086]),ke=N([52.6583728974441,59.3504509222445]),Kr=N([42.45755631675751,63.34365868805821]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([31.054198418446475,52.1080673766184]),Ge=N([39.09869284884117,49.400700047190554]),ke=N([36.0580811499175,46.02944174908498]),Kr=N([28.690508588835726,48.433126979386415]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([33.977877745912025,55.849945501331]),Ge=N([42.75328432167726,52.78455122462353]),ke=N([39.09869297540224,49.400700176148625]),Kr=N([31.05419851807008,52.10806751810923]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([52.658372900759296,59.35045068526415]),Ge=N([60.23606549583304,54.63331423800264]),ke=N([54.6756370953122,51.892298789399455]),Kr=N([47.19754524788189,56.126534861222794]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([47.19754506082455,56.126534735591456]),Ge=N([54.675636900123514,51.892298681337095]),ke=N([49.94448648951486,48.98775484983285]),Kr=N([42.75328468716108,52.78455126060818]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([42.75328453416769,52.78455113209101]),Ge=N([49.94448632339758,48.98775473706457]),ke=N([45.912339990394315,45.99361784987003]),Kr=N([39.09869317356607,49.40070009378711]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([37.673034114296634,59.61638254183119]),Ge=N([47.197544835420544,56.126534839849846]),ke=N([42.75328447467064,52.78455135314068]),Kr=N([33.977877870363905,55.849945644671145]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([44.56748486446032,57.26489367845818]),ke=N([43.9335791193588,53.746540942601726]),Kr=N([43,56]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath(),de=N([37.673034114296634,59.61638254183119]),Ge=N([40.25902691953466,58.83002044222639]),ke=N([38.458270492742024,57.26232178028002]),Kr=N([35.97754948030156,58.00266637992386]),Ee.moveTo(de[0],de[1]),Ee.lineTo(Ge[0],Ge[1]),Ee.lineTo(ke[0],ke[1]),Ee.lineTo(Kr[0],Kr[1]),Ee.closePath()},yr.getCompositionBorders=function(){var Ee=v.path();return this.drawCompositionBorders(Ee),Ee.toString()},yr.scale(750)}function J(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function ht(){var q,G,N=s.geoConicConformal().rotate([-5.5,-52.2]).parallels([0,60]),it,H=s.geoMercator().center([-68.25,12.2]),ct,ft=s.geoMercator().center([-63.1,17.5]),K,$,et={point:function(D,V){$=[D,V]}};function j(D){var V=t.__read(D,2),tt=V[0],lt=V[1];return $=null,it.point(tt,lt),$||(ct.point(tt,lt),$)||(K.point(tt,lt),$)}j.invert=function(D){var V=N.scale(),tt=N.translate(),lt=(D[0]-tt[0])/V,St=(D[1]-tt[1])/V;return(St>=-.0067&&St<.0015&&lt>=-.0232&&lt<-.0154?H:St>=-.022&&St<-.014&&lt>=-.023&&lt<-.014?ft:N).invert(D)},j.stream=function(D){return q&&G===D?q:q=J([N.stream(G=D),H.stream(D),ft.stream(D)])},j.precision=function(D){return arguments.length?(N.precision(D),H.precision(D),ft.precision(D),w()):N.precision()},j.scale=function(D){return arguments.length?(N.scale(D),H.scale(D),ft.scale(D),j.translate(N.translate())):N.scale()},j.translate=function(D){if(!arguments.length)return N.translate();var V=N.scale(),tt=+D[0],lt=+D[1];return it=N.translate(D).clipExtent([[tt-.0245*V,lt-.026*V],[tt+.023*V,lt+.026*V]]).stream(et),ct=H.translate([tt-.0186*V,lt-.00325*V]).clipExtent([[tt-.0232*V+o,lt-.0067*V+o],[tt-.0154*V-o,lt+.0015*V-o]]).stream(et),K=ft.translate([tt-.0185*V,lt-.017*V]).clipExtent([[tt-.023*V+o,lt-.022*V+o],[tt-.014*V-o,lt-.014*V-o]]).stream(et),w()},j.fitExtent=function(D,V){return h(j,D,V)},j.fitSize=function(D,V){return p(j,D,V)};function w(){return q=G=null,j}return j.drawCompositionBorders=function(D){var V=N([3.30573,52.5562]),tt=N([4.043,52.572]),lt=N([4.0646,52.1017]),St=N([3.3382,52.0861]),ot=N([3.262,53.439]),Mt=N([4.1373,53.4571]),Ot=N([4.1574,52.9946]),Ft=N([3.2951,52.9768]);D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath(),D.moveTo(ot[0],ot[1]),D.lineTo(Mt[0],Mt[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ot[0],Ot[1]),D.lineTo(Ft[0],Ft[1]),D.closePath()},j.getCompositionBorders=function(){var D=v.path();return this.drawCompositionBorders(D),D.toString()},j.scale(4200)}function at(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function Q(){var q,G,N=s.geoMercator().center([105.25,4]),it,H=s.geoMercator().center([118.65,2.86]),ct,ft,K={point:function(j,w){ft=[j,w]}};function $(j){var w=j[0],D=j[1];return ft=null,it.point(w,D),ft||(ct.point(w,D),ft)}$.invert=function(j){var w=N.scale(),D=N.translate(),V=(j[0]-D[0])/w,tt=(j[1]-D[1])/w;return(tt>=-.0521&&tt<.0229&&V>=-.0111&&V<.1?H:N).invert(j)},$.stream=function(j){return q&&G===j?q:q=at([N.stream(G=j),H.stream(j)])},$.precision=function(j){return arguments.length?(N.precision(j),H.precision(j),et()):N.precision()},$.scale=function(j){return arguments.length?(N.scale(j),H.scale(j*.615),$.translate(N.translate())):N.scale()},$.translate=function(j){if(!arguments.length)return N.translate();var w=N.scale(),D=+j[0],V=+j[1];return it=N.translate(j).clipExtent([[D-.11*w,V-.0521*w],[D-.0111*w,V+.0521*w]]).stream(K),ct=H.translate([D+.09*w,V-0*w]).clipExtent([[D-.0111*w+o,V-.0521*w+o],[D+.1*w-o,V+.024*w-o]]).stream(K),et()},$.fitExtent=function(j,w){return h($,j,w)},$.fitSize=function(j,w){return p($,j,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(j){var w=N([106.3214,2.0228]),D=N([105.1843,2.3761]),V=N([104.2151,3.3618]),tt=N([104.215,4.5651]);j.moveTo(w[0],w[1]),j.lineTo(D[0],D[1]),j.lineTo(V[0],V[1]),j.lineTo(tt[0],tt[1])},$.getCompositionBorders=function(){var j=v.path();return this.drawCompositionBorders(j),j.toString()},$.scale(4800)}function xt(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function kt(){var q,G,N=s.geoMercator().rotate([-9.5,-1.5]),it,H=s.geoMercator().rotate([-8.6,-3.5]),ct,ft=s.geoMercator().rotate([-5.6,1.45]),K,$,et={point:function(D,V){$=[D,V]}};function j(D){var V=D[0],tt=D[1];return $=null,it.point(V,tt),$||(ct.point(V,tt),$)||(K.point(V,tt),$)}j.invert=function(D){var V=N.scale(),tt=N.translate(),lt=(D[0]-tt[0])/V,St=(D[1]-tt[1])/V;return(St>=-.02&&St<0&&lt>=-.038&&lt<-.005?H:St>=0&&St<.02&&lt>=-.038&&lt<-.005?ft:N).invert(D)},j.stream=function(D){return q&&G===D?q:q=xt([N.stream(G=D),H.stream(D),ft.stream(D)])},j.precision=function(D){return arguments.length?(N.precision(D),H.precision(D),ft.precision(D),w()):N.precision()},j.scale=function(D){return arguments.length?(N.scale(D),H.scale(D*1.5),ft.scale(D*4),j.translate(N.translate())):N.scale()},j.translate=function(D){if(!arguments.length)return N.translate();var V=N.scale(),tt=+D[0],lt=+D[1];return it=N.translate(D).clipExtent([[tt-.005*V,lt-.02*V],[tt+.038*V,lt+.02*V]]).stream(et),ct=H.translate([tt-.025*V,lt-.01*V]).clipExtent([[tt-.038*V+o,lt-.02*V+o],[tt-.005*V-o,lt+0*V-o]]).stream(et),K=ft.translate([tt-.025*V,lt+.01*V]).clipExtent([[tt-.038*V+o,lt-0*V+o],[tt-.005*V-o,lt+.02*V-o]]).stream(et),w()},j.fitExtent=function(D,V){return h(j,D,V)},j.fitSize=function(D,V){return p(j,D,V)};function w(){return q=G=null,j}return j.drawCompositionBorders=function(D){var V,tt,lt,St;V=N([9.21327272751682,2.645820439454123]),tt=N([11.679126293239872,2.644755519268689]),lt=N([11.676845389029227,.35307824637606433]),St=N([9.213572917774014,.35414205204417754]),D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath(),V=N([7.320873711543669,2.64475551449975]),tt=N([9.213272722738658,2.645820434679803]),lt=N([9.213422896480349,1.4999812505283054]),St=N([7.322014760520787,1.4989168878985566]),D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath(),V=N([7.3220147605302905,1.4989168783492766]),tt=N([9.213422896481598,1.499981240979021]),lt=N([9.213572912999604,.354142056817247]),St=N([7.323154615739809,.353078251154504]),D.moveTo(V[0],V[1]),D.lineTo(tt[0],tt[1]),D.lineTo(lt[0],lt[1]),D.lineTo(St[0],St[1]),D.closePath()},j.getCompositionBorders=function(){var D=v.path();return this.drawCompositionBorders(D),D.toString()},j.scale(12e3)}function Nt(q){var G=q.length;return{point:function(N,it){for(var H=-1;++H<G;)q[H].point(N,it)},sphere:function(){for(var N=-1;++N<G;)q[N].sphere()},lineStart:function(){for(var N=-1;++N<G;)q[N].lineStart()},lineEnd:function(){for(var N=-1;++N<G;)q[N].lineEnd()},polygonStart:function(){for(var N=-1;++N<G;)q[N].polygonStart()},polygonEnd:function(){for(var N=-1;++N<G;)q[N].polygonEnd()}}}function nt(){var q,G,N=s.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),it,H=s.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),ct,ft,K={point:function(j,w){ft=[j,w]}};function $(j){var w=j[0],D=j[1];return ft=null,it.point(w,D),ft||(ct.point(w,D),ft)}$.invert=function(j){var w=N.scale(),D=N.translate(),V=(j[0]-D[0])/w,tt=(j[1]-D[1])/w;return(tt>=-.089&&tt<.06&&V>=.029&&V<.046?H:N).invert(j)},$.stream=function(j){return q&&G===j?q:q=Nt([N.stream(G=j),H.stream(j)])},$.precision=function(j){return arguments.length?(N.precision(j),H.precision(j),et()):N.precision()},$.scale=function(j){return arguments.length?(N.scale(j),H.scale(j),$.translate(N.translate())):N.scale()},$.translate=function(j){if(!arguments.length)return N.translate();var w=N.scale(),D=+j[0],V=+j[1];return it=N.translate(j).clipExtent([[D-.065*w,V-.089*w],[D+.075*w,V+.089*w]]).stream(K),ct=H.translate([D+.01*w,V+.025*w]).clipExtent([[D+.029*w+o,V-.089*w+o],[D+.046*w-o,V-.06*w-o]]).stream(K),et()},$.fitExtent=function(j,w){return h($,j,w)},$.fitSize=function(j,w){return p($,j,w)};function et(){return q=G=null,$}return $.drawCompositionBorders=function(j){var w,D,V,tt;w=N([-1.113205870242365,59.64920050773357]),D=N([.807899092399606,59.59085836472269]),V=N([.5778611961420386,57.93467822832577]),tt=N([-1.25867782078448,57.99029450085142]),j.moveTo(w[0],w[1]),j.lineTo(D[0],D[1]),j.lineTo(V[0],V[1]),j.lineTo(tt[0],tt[1]),j.closePath()},$.getCompositionBorders=function(){var j=v.path();return this.drawCompositionBorders(j),j.toString()},$.scale(2800)}c.geoAlbersUk=nt,c.geoAlbersUsa=g,c.geoAlbersUsaTerritories=x,c.geoConicConformalEurope=Z,c.geoConicConformalFrance=U,c.geoConicConformalNetherlands=ht,c.geoConicConformalPortugal=b,c.geoConicConformalSpain=m,c.geoConicEquidistantJapan=R,c.geoMercatorEcuador=C,c.geoMercatorEquatorialGuinea=kt,c.geoMercatorMalaysia=Q,c.geoTransverseMercatorChile=O,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";var c={},s={},v=34,o=10,f=13;function r(Z){return new Function("d","return {"+Z.map(function(J,ht){return JSON.stringify(J)+": d["+ht+'] || ""'}).join(",")+"}")}function e(Z,J){var ht=r(Z);return function(at,Q){return J(ht(at),Q,Z)}}function n(Z){var J=Object.create(null),ht=[];return Z.forEach(function(at){for(var Q in at)Q in J||ht.push(J[Q]=Q)}),ht}function a(Z,J){var ht=Z+"",at=ht.length;return at<J?new Array(J-at+1).join(0)+ht:ht}function u(Z){return Z<0?"-"+a(-Z,6):Z>9999?"+"+a(Z,6):a(Z,4)}function l(Z){var J=Z.getUTCHours(),ht=Z.getUTCMinutes(),at=Z.getUTCSeconds(),Q=Z.getUTCMilliseconds();return isNaN(Z)?"Invalid Date":u(Z.getUTCFullYear())+"-"+a(Z.getUTCMonth()+1,2)+"-"+a(Z.getUTCDate(),2)+(Q?"T"+a(J,2)+":"+a(ht,2)+":"+a(at,2)+"."+a(Q,3)+"Z":at?"T"+a(J,2)+":"+a(ht,2)+":"+a(at,2)+"Z":ht||J?"T"+a(J,2)+":"+a(ht,2)+"Z":"")}function h(Z){var J=new RegExp('["'+Z+`
\r]`),ht=Z.charCodeAt(0);function at(N,it){var H,ct,ft=Q(N,function(K,$){if(H)return H(K,$-1);ct=K,H=it?e(K,it):r(K)});return ft.columns=ct||[],ft}function Q(N,it){var H=[],ct=N.length,ft=0,K=0,$,et=ct<=0,j=!1;N.charCodeAt(ct-1)===o&&--ct,N.charCodeAt(ct-1)===f&&--ct;function w(){if(et)return s;if(j)return j=!1,c;var V,tt=ft,lt;if(N.charCodeAt(tt)===v){for(;ft++<ct&&N.charCodeAt(ft)!==v||N.charCodeAt(++ft)===v;);return(V=ft)>=ct?et=!0:(lt=N.charCodeAt(ft++))===o?j=!0:lt===f&&(j=!0,N.charCodeAt(ft)===o&&++ft),N.slice(tt+1,V-1).replace(/""/g,'"')}for(;ft<ct;){if((lt=N.charCodeAt(V=ft++))===o)j=!0;else if(lt===f)j=!0,N.charCodeAt(ft)===o&&++ft;else if(lt!==ht)continue;return N.slice(tt,V)}return et=!0,N.slice(tt,ct)}for(;($=w())!==s;){for(var D=[];$!==c&&$!==s;)D.push($),$=w();it&&(D=it(D,K++))==null||H.push(D)}return H}function xt(N,it){return N.map(function(H){return it.map(function(ct){return G(H[ct])}).join(Z)})}function kt(N,it){return it==null&&(it=n(N)),[it.map(G).join(Z)].concat(xt(N,it)).join(`
`)}function Nt(N,it){return it==null&&(it=n(N)),xt(N,it).join(`
`)}function nt(N){return N.map(q).join(`
`)}function q(N){return N.map(G).join(Z)}function G(N){return N==null?"":N instanceof Date?l(N):J.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:at,parseRows:Q,format:kt,formatBody:Nt,formatRows:nt,formatRow:q,formatValue:G}}var p=h(","),d=p.parse,g=p.parseRows,y=p.format,x=p.formatBody,A=p.formatRows,m=p.formatRow,M=p.formatValue,b=h("	"),E=b.parse,C=b.parseRows,T=b.format,O=b.formatBody,L=b.formatRows,R=b.formatRow,W=b.formatValue;function U(Z){for(var J in Z){var ht=Z[J].trim(),at,Q;if(!ht)ht=null;else if(ht==="true")ht=!0;else if(ht==="false")ht=!1;else if(ht==="NaN")ht=NaN;else if(!isNaN(at=+ht))ht=at;else if(Q=ht.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))X&&!!Q[4]&&!Q[7]&&(ht=ht.replace(/-/g,"/").replace(/T/," ")),ht=new Date(ht);else continue;Z[J]=ht}return Z}var X=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();t.autoType=U,t.csvFormat=y,t.csvFormatBody=x,t.csvFormatRow=m,t.csvFormatRows=A,t.csvFormatValue=M,t.csvParse=d,t.csvParseRows=g,t.dsvFormat=h,t.tsvFormat=T,t.tsvFormatBody=O,t.tsvFormatRow=R,t.tsvFormatRows=L,t.tsvFormatValue=W,t.tsvParse=E,t.tsvParseRows=C,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-geo@1.12.1@d3-geo/dist/d3-geo.js"),i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c,s){"use strict";var v=Math.abs,o=Math.atan,f=Math.atan2,r=Math.cos,e=Math.exp,n=Math.floor,a=Math.log,u=Math.max,l=Math.min,h=Math.pow,p=Math.round,d=Math.sign||function(pt){return pt>0?1:pt<0?-1:0},g=Math.sin,y=Math.tan,x=1e-6,A=1e-12,m=Math.PI,M=m/2,b=m/4,E=Math.SQRT1_2,C=Z(2),T=Z(m),O=m*2,L=180/m,R=m/180;function W(pt){return pt?pt/Math.sin(pt):1}function U(pt){return pt>1?M:pt<-1?-M:Math.asin(pt)}function X(pt){return pt>1?0:pt<-1?m:Math.acos(pt)}function Z(pt){return pt>0?Math.sqrt(pt):0}function J(pt){return pt=e(2*pt),(pt-1)/(pt+1)}function ht(pt){return(e(pt)-e(-pt))/2}function at(pt){return(e(pt)+e(-pt))/2}function Q(pt){return a(pt+Z(pt*pt+1))}function xt(pt){return a(pt+Z(pt*pt-1))}function kt(pt){var mt=y(pt/2),Pt=2*a(r(pt/2))/(mt*mt);function It(Ht,Gt){var qt=r(Ht),Ne=r(Gt),Fe=g(Gt),$e=Ne*qt,hr=-((1-$e?a((1+$e)/2)/(1-$e):-.5)+Pt/(1+$e));return[hr*Ne*g(Ht),hr*Fe]}return It.invert=function(Ht,Gt){var qt=Z(Ht*Ht+Gt*Gt),Ne=-pt/2,Fe=50,$e;if(!qt)return[0,0];do{var hr=Ne/2,Tr=r(hr),Yr=g(hr),en=y(hr),Cn=a(1/Tr);Ne-=$e=(2/en*Cn-Pt*en-qt)/(-Cn/(Yr*Yr)+1-Pt/(2*Tr*Tr))}while(v($e)>x&&--Fe>0);var Hn=g(Ne);return[f(Ht*Hn,qt*r(Ne)),U(Gt*Hn/qt)]},It}var Nt=function(){var pt=M,mt=c.geoProjectionMutator(kt),Pt=mt(pt);return Pt.radius=function(It){return arguments.length?mt(pt=It*R):pt*L},Pt.scale(179.976).clipAngle(147)};function nt(pt,mt){var Pt=r(mt),It=W(X(Pt*r(pt/=2)));return[2*Pt*g(pt)*It,g(mt)*It]}nt.invert=function(pt,mt){if(!(pt*pt+4*mt*mt>m*m+x)){var Pt=pt,It=mt,Ht=25;do{var Gt=g(Pt),qt=g(Pt/2),Ne=r(Pt/2),Fe=g(It),$e=r(It),hr=g(2*It),Tr=Fe*Fe,Yr=$e*$e,en=qt*qt,Cn=1-Yr*Ne*Ne,Hn=Cn?X($e*Ne)*Z(hi=1/Cn):hi=0,hi,$i=2*Hn*$e*qt-pt,ga=Hn*Fe-mt,Pa=hi*(Yr*en+Hn*$e*Ne*Tr),Ta=hi*(.5*Gt*hr-Hn*2*Fe*qt),La=hi*.25*(hr*qt-Hn*Fe*Yr*Gt),Eo=hi*(Tr*Ne+Hn*en*$e),Os=Ta*La-Eo*Pa;if(!Os)break;var ls=(ga*Ta-$i*Eo)/Os,rs=($i*La-ga*Pa)/Os;Pt-=ls,It-=rs}while((v(ls)>x||v(rs)>x)&&--Ht>0);return[Pt,It]}};var q=function(){return c.geoProjection(nt).scale(152.63)};function G(pt){var mt=g(pt),Pt=r(pt),It=pt>=0?1:-1,Ht=y(It*pt),Gt=(1+mt-Pt)/2;function qt(Ne,Fe){var $e=r(Fe),hr=r(Ne/=2);return[(1+$e)*g(Ne),(It*Fe>-f(hr,Ht)-.001?0:-It*10)+Gt+g(Fe)*Pt-(1+$e)*mt*hr]}return qt.invert=function(Ne,Fe){var $e=0,hr=0,Tr=50;do{var Yr=r($e),en=g($e),Cn=r(hr),Hn=g(hr),hi=1+Cn,$i=hi*en-Ne,ga=Gt+Hn*Pt-hi*mt*Yr-Fe,Pa=hi*Yr/2,Ta=-en*Hn,La=mt*hi*en/2,Eo=Pt*Cn+mt*Yr*Hn,Os=Ta*La-Eo*Pa,ls=(ga*Ta-$i*Eo)/Os/2,rs=($i*La-ga*Pa)/Os;$e-=ls,hr-=rs}while((v(ls)>x||v(rs)>x)&&--Tr>0);return It*hr>-f(r($e),Ht)-.001?[$e*2,hr]:null},qt}var N=function(){var pt=20*R,mt=pt>=0?1:-1,Pt=y(mt*pt),It=c.geoProjectionMutator(G),Ht=It(pt),Gt=Ht.stream;return Ht.parallel=function(qt){return arguments.length?(Pt=y((mt=(pt=qt*R)>=0?1:-1)*pt),It(pt)):pt*L},Ht.stream=function(qt){var Ne=Ht.rotate(),Fe=Gt(qt),$e=(Ht.rotate([0,0]),Gt(qt));return Ht.rotate(Ne),Fe.sphere=function(){$e.polygonStart(),$e.lineStart();for(var hr=mt*-180;mt*hr<180;hr+=mt*90)$e.point(hr,mt*90);for(;mt*(hr-=pt)>=-180;)$e.point(hr,mt*-f(r(hr*R/2),Pt)*L);$e.lineEnd(),$e.polygonEnd()},Fe},Ht.scale(218.695).center([0,28.0974])};function it(pt,mt){var Pt=y(mt/2),It=Z(1-Pt*Pt),Ht=1+It*r(pt/=2),Gt=g(pt)*It/Ht,qt=Pt/Ht,Ne=Gt*Gt,Fe=qt*qt;return[4/3*Gt*(3+Ne-3*Fe),4/3*qt*(3+3*Ne-Fe)]}it.invert=function(pt,mt){if(pt*=3/8,mt*=3/8,!pt&&v(mt)>1)return null;var Pt=pt*pt,It=mt*mt,Ht=1+Pt+It,Gt=Z((Ht-Z(Ht*Ht-4*mt*mt))/2),qt=U(Gt)/3,Ne=Gt?xt(v(mt/Gt))/3:Q(v(pt))/3,Fe=r(qt),$e=at(Ne),hr=$e*$e-Fe*Fe;return[d(pt)*2*f(ht(Ne)*Fe,.25-hr),d(mt)*2*f($e*g(qt),.25+hr)]};var H=function(){return c.geoProjection(it).scale(66.1603)},ct=Z(8),ft=a(1+C);function K(pt,mt){var Pt=v(mt);return Pt<b?[pt,a(y(b+mt/2))]:[pt*r(Pt)*(2*C-1/g(Pt)),d(mt)*(2*C*(Pt-b)-a(y(Pt/2)))]}K.invert=function(pt,mt){if((Gt=v(mt))<ft)return[pt,2*o(e(mt))-M];var Pt=b,It=25,Ht,Gt;do{var qt=r(Pt/2),Ne=y(Pt/2);Pt-=Ht=(ct*(Pt-b)-a(Ne)-Gt)/(ct-qt*qt/(2*Ne))}while(v(Ht)>A&&--It>0);return[pt/(r(Pt)*(ct-1/g(Pt))),d(mt)*Pt]};var $=function(){return c.geoProjection(K).scale(112.314)};function et(pt){var mt=2*m/pt;function Pt(It,Ht){var Gt=c.geoAzimuthalEquidistantRaw(It,Ht);if(v(It)>M){var qt=f(Gt[1],Gt[0]),Ne=Z(Gt[0]*Gt[0]+Gt[1]*Gt[1]),Fe=mt*p((qt-M)/mt)+M,$e=f(g(qt-=Fe),2-r(qt));qt=Fe+U(m/Ne*g($e))-$e,Gt[0]=Ne*r(qt),Gt[1]=Ne*g(qt)}return Gt}return Pt.invert=function(It,Ht){var Gt=Z(It*It+Ht*Ht);if(Gt>M){var qt=f(Ht,It),Ne=mt*p((qt-M)/mt)+M,Fe=qt>Ne?-1:1,$e=Gt*r(Ne-qt),hr=1/y(Fe*X(($e-m)/Z(m*(m-2*$e)+Gt*Gt)));qt=Ne+2*o((hr+Fe*Z(hr*hr-3))/3),It=Gt*r(qt),Ht=Gt*g(qt)}return c.geoAzimuthalEquidistantRaw.invert(It,Ht)},Pt}var j=function(){var pt=5,mt=c.geoProjectionMutator(et),Pt=mt(pt),It=Pt.stream,Ht=.01,Gt=-r(Ht*R),qt=g(Ht*R);return Pt.lobes=function(Ne){return arguments.length?mt(pt=+Ne):pt},Pt.stream=function(Ne){var Fe=Pt.rotate(),$e=It(Ne),hr=(Pt.rotate([0,0]),It(Ne));return Pt.rotate(Fe),$e.sphere=function(){hr.polygonStart(),hr.lineStart();for(var Tr=0,Yr=360/pt,en=2*m/pt,Cn=90-180/pt,Hn=M;Tr<pt;++Tr,Cn-=Yr,Hn-=en)hr.point(f(qt*r(Hn),Gt)*L,U(qt*g(Hn))*L),Cn<-90?(hr.point(-90,-180-Cn-Ht),hr.point(-90,-180-Cn+Ht)):(hr.point(90,Cn+Ht),hr.point(90,Cn-Ht));hr.lineEnd(),hr.polygonEnd()},$e},Pt.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)};function w(pt,mt){var Pt=pt*g(mt),It=30,Ht;do mt-=Ht=(mt+g(mt)-Pt)/(1+r(mt));while(v(Ht)>x&&--It>0);return mt/2}function D(pt,mt,Pt){function It(Ht,Gt){return[pt*Ht*r(Gt=w(Pt,Gt)),mt*g(Gt)]}return It.invert=function(Ht,Gt){return Gt=U(Gt/mt),[Ht/(pt*r(Gt)),U((2*Gt+g(2*Gt))/Pt)]},It}var V=D(C/M,C,m),tt=function(){return c.geoProjection(V).scale(169.529)},lt=2.00276,St=1.11072;function ot(pt,mt){var Pt=w(m,mt);return[lt*pt/(1/r(mt)+St/r(Pt)),(mt+C*g(Pt))/lt]}ot.invert=function(pt,mt){var Pt=lt*mt,It=mt<0?-b:b,Ht=25,Gt,qt;do qt=Pt-C*g(It),It-=Gt=(g(2*It)+2*It-m*g(qt))/(2*r(2*It)+2+m*r(qt)*C*r(It));while(v(Gt)>x&&--Ht>0);return qt=Pt-C*g(It),[pt*(1/r(qt)+St/r(It))/lt,qt]};var Mt=function(){return c.geoProjection(ot).scale(160.857)},Ot=function(pt){var mt=0,Pt=c.geoProjectionMutator(pt),It=Pt(mt);return It.parallel=function(Ht){return arguments.length?Pt(mt=Ht*R):mt*L},It};function Ft(pt,mt){return[pt*r(mt),mt]}Ft.invert=function(pt,mt){return[pt/r(mt),mt]};var zt=function(){return c.geoProjection(Ft).scale(152.63)};function $t(pt){if(!pt)return Ft;var mt=1/y(pt);function Pt(It,Ht){var Gt=mt+pt-Ht,qt=Gt&&It*r(Ht)/Gt;return[Gt*g(qt),mt-Gt*r(qt)]}return Pt.invert=function(It,Ht){var Gt=Z(It*It+(Ht=mt-Ht)*Ht),qt=mt+pt-Gt;return[Gt/r(qt)*f(It,Ht),qt]},Pt}var he=function(){return Ot($t).scale(123.082).center([0,26.1441]).parallel(45)};function ye(pt){function mt(Pt,It){var Ht=M-It,Gt=Ht&&Pt*pt*g(Ht)/Ht;return[Ht*g(Gt)/pt,M-Ht*r(Gt)]}return mt.invert=function(Pt,It){var Ht=Pt*pt,Gt=M-It,qt=Z(Ht*Ht+Gt*Gt),Ne=f(Ht,Gt);return[(qt?qt/g(qt):1)*Ne/pt,M-qt]},mt}var tr=function(){var pt=.5,mt=c.geoProjectionMutator(ye),Pt=mt(pt);return Pt.fraction=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(158.837)},nr=D(1,4/m,m),Xe=function(){return c.geoProjection(nr).scale(152.63)};function yr(pt,mt,Pt,It,Ht,Gt){var qt=r(Gt),Ne;if(v(pt)>1||v(Gt)>1)Ne=X(Pt*Ht+mt*It*qt);else{var Fe=g(pt/2),$e=g(Gt/2);Ne=2*U(Z(Fe*Fe+mt*It*$e*$e))}return v(Ne)>x?[Ne,f(It*g(Gt),mt*Ht-Pt*It*qt)]:[0,0]}function Vr(pt,mt,Pt){return X((pt*pt+mt*mt-Pt*Pt)/(2*pt*mt))}function Ee(pt){return pt-2*m*n((pt+m)/(2*m))}function de(pt,mt,Pt){for(var It=[[pt[0],pt[1],g(pt[1]),r(pt[1])],[mt[0],mt[1],g(mt[1]),r(mt[1])],[Pt[0],Pt[1],g(Pt[1]),r(Pt[1])]],Ht=It[2],Gt,qt=0;qt<3;++qt,Ht=Gt)Gt=It[qt],Ht.v=yr(Gt[1]-Ht[1],Ht[3],Ht[2],Gt[3],Gt[2],Gt[0]-Ht[0]),Ht.point=[0,0];var Ne=Vr(It[0].v[0],It[2].v[0],It[1].v[0]),Fe=Vr(It[0].v[0],It[1].v[0],It[2].v[0]),$e=m-Ne;It[2].point[1]=0,It[0].point[0]=-(It[1].point[0]=It[0].v[0]/2);var hr=[It[2].point[0]=It[0].point[0]+It[2].v[0]*r(Ne),2*(It[0].point[1]=It[1].point[1]=It[2].v[0]*g(Ne))];function Tr(Yr,en){var Cn=g(en),Hn=r(en),hi=new Array(3),$i;for($i=0;$i<3;++$i){var ga=It[$i];if(hi[$i]=yr(en-ga[1],ga[3],ga[2],Hn,Cn,Yr-ga[0]),!hi[$i][0])return ga.point;hi[$i][1]=Ee(hi[$i][1]-ga.v[1])}var Pa=hr.slice();for($i=0;$i<3;++$i){var Ta=$i==2?0:$i+1,La=Vr(It[$i].v[0],hi[$i][0],hi[Ta][0]);hi[$i][1]<0&&(La=-La),$i?$i==1?(La=Fe-La,Pa[0]-=hi[$i][0]*r(La),Pa[1]-=hi[$i][0]*g(La)):(La=$e-La,Pa[0]+=hi[$i][0]*r(La),Pa[1]+=hi[$i][0]*g(La)):(Pa[0]+=hi[$i][0]*r(La),Pa[1]-=hi[$i][0]*g(La))}return Pa[0]/=3,Pa[1]/=3,Pa}return Tr}function Ge(pt){return pt[0]*=R,pt[1]*=R,pt}function ke(){return Kr([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Kr(pt,mt,Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:[pt,mt,Pt]}),Ht=[-It[0],-It[1]],Gt=c.geoRotation(Ht),qt=c.geoProjection(de(Ge(Gt(pt)),Ge(Gt(mt)),Ge(Gt(Pt)))).rotate(Ht),Ne=qt.center;return delete qt.rotate,qt.center=function(Fe){return arguments.length?Ne(Gt(Fe)):Gt.invert(Ne())},qt.clipAngle(90)}function fn(pt,mt){var Pt=Z(1-g(mt));return[2/T*pt*Pt,T*(1-Pt)]}fn.invert=function(pt,mt){var Pt=(Pt=mt/T-1)*Pt;return[Pt>0?pt*Z(m/Pt)/2:0,U(1-Pt)]};var pi=function(){return c.geoProjection(fn).scale(95.6464).center([0,30])};function Vi(pt){var mt=y(pt);function Pt(It,Ht){return[It,(It?It/g(It):1)*(g(Ht)*r(It)-mt*r(Ht))]}return Pt.invert=mt?function(It,Ht){It&&(Ht*=g(It)/It);var Gt=r(It);return[It,2*f(Z(Gt*Gt+mt*mt-Ht*Ht)-Gt,mt-Ht)]}:function(It,Ht){return[It,U(It?Ht*y(It)/It:Ht)]},Pt}var ea=function(){return Ot(Vi).scale(249.828).clipAngle(90)},zi=Z(3);function Te(pt,mt){return[zi*pt*(2*r(2*mt/3)-1)/T,zi*T*g(mt/3)]}Te.invert=function(pt,mt){var Pt=3*U(mt/(zi*T));return[T*pt/(zi*(2*r(2*Pt/3)-1)),Pt]};var Be=function(){return c.geoProjection(Te).scale(156.19)};function lr(pt){var mt=r(pt);function Pt(It,Ht){return[It*mt,g(Ht)/mt]}return Pt.invert=function(It,Ht){return[It/mt,U(Ht*mt)]},Pt}var Or=function(){return Ot(lr).parallel(38.58).scale(195.044)};function sr(pt){var mt=r(pt);function Pt(It,Ht){return[It*mt,(1+mt)*y(Ht/2)]}return Pt.invert=function(It,Ht){return[It/mt,o(Ht/(1+mt))*2]},Pt}var Dr=function(){return Ot(sr).scale(124.75)};function En(pt,mt){var Pt=Z(8/(3*m));return[Pt*pt*(1-v(mt)/m),Pt*mt]}En.invert=function(pt,mt){var Pt=Z(8/(3*m)),It=mt/Pt;return[pt/(Pt*(1-v(It)/m)),It]};var Yn=function(){return c.geoProjection(En).scale(165.664)};function ln(pt,mt){var Pt=Z(4-3*g(v(mt)));return[2/Z(6*m)*pt*Pt,d(mt)*Z(2*m/3)*(2-Pt)]}ln.invert=function(pt,mt){var Pt=2-v(mt)/Z(2*m/3);return[pt*Z(6*m)/(2*Pt),d(mt)*U((4-Pt*Pt)/3)]};var Jr=function(){return c.geoProjection(ln).scale(165.664)};function Wn(pt,mt){var Pt=Z(m*(4+m));return[2/Pt*pt*(1+Z(1-4*mt*mt/(m*m))),4/Pt*mt]}Wn.invert=function(pt,mt){var Pt=Z(m*(4+m))/2;return[pt*Pt/(1+Z(1-mt*mt*(4+m)/(4*m))),mt*Pt/2]};var $n=function(){return c.geoProjection(Wn).scale(180.739)};function Gr(pt,mt){var Pt=(2+M)*g(mt);mt/=2;for(var It=0,Ht=Infinity;It<10&&v(Ht)>x;It++){var Gt=r(mt);mt-=Ht=(mt+g(mt)*(Gt+2)-Pt)/(2*Gt*(1+Gt))}return[2/Z(m*(4+m))*pt*(1+r(mt)),2*Z(m/(4+m))*g(mt)]}Gr.invert=function(pt,mt){var Pt=mt*Z((4+m)/m)/2,It=U(Pt),Ht=r(It);return[pt/(2/Z(m*(4+m))*(1+Ht)),U((It+Pt*(Ht+2))/(2+M))]};var wr=function(){return c.geoProjection(Gr).scale(180.739)};function ti(pt,mt){return[pt*(1+r(mt))/Z(2+m),2*mt/Z(2+m)]}ti.invert=function(pt,mt){var Pt=Z(2+m),It=mt*Pt/2;return[Pt*pt/(1+r(It)),It]};var ge=function(){return c.geoProjection(ti).scale(173.044)};function Le(pt,mt){for(var Pt=(1+M)*g(mt),It=0,Ht=Infinity;It<10&&v(Ht)>x;It++)mt-=Ht=(mt+g(mt)-Pt)/(1+r(mt));return Pt=Z(2+m),[pt*(1+r(mt))/Pt,2*mt/Pt]}Le.invert=function(pt,mt){var Pt=1+M,It=Z(Pt/2);return[pt*2*It/(1+r(mt*=It)),U((mt+g(mt))/Pt)]};var Se=function(){return c.geoProjection(Le).scale(173.044)},Ve=3+2*C;function le(pt,mt){var Pt=g(pt/=2),It=r(pt),Ht=Z(r(mt)),Gt=r(mt/=2),qt=g(mt)/(Gt+C*It*Ht),Ne=Z(2/(1+qt*qt)),Fe=Z((C*Gt+(It+Pt)*Ht)/(C*Gt+(It-Pt)*Ht));return[Ve*(Ne*(Fe-1/Fe)-2*a(Fe)),Ve*(Ne*qt*(Fe+1/Fe)-2*o(qt))]}le.invert=function(pt,mt){if(!(Gt=it.invert(pt/1.2,mt*1.065)))return null;var Pt=Gt[0],It=Gt[1],Ht=20,Gt;pt/=Ve,mt/=Ve;do{var qt=Pt/2,Ne=It/2,Fe=g(qt),$e=r(qt),hr=g(Ne),Tr=r(Ne),Yr=r(It),en=Z(Yr),Cn=hr/(Tr+C*$e*en),Hn=Cn*Cn,hi=Z(2/(1+Hn)),$i=C*Tr+($e+Fe)*en,ga=C*Tr+($e-Fe)*en,Pa=$i/ga,Ta=Z(Pa),La=Ta-1/Ta,Eo=Ta+1/Ta,Os=hi*La-2*a(Ta)-pt,ls=hi*Cn*Eo-2*o(Cn)-mt,rs=hr&&E*en*Fe*Hn/hr,Us=(C*$e*Tr+en)/(2*(Tr+C*$e*en)*(Tr+C*$e*en)*en),du=-.5*Cn*hi*hi*hi,Wu=du*rs,wu=du*Us,fu=(fu=2*Tr+C*en*($e-Fe))*fu*Ta,ms=(C*$e*Tr*en+Yr)/fu,Iu=-(C*Fe*hr)/(en*fu),oe=La*Wu-2*ms/Ta+hi*(ms+ms/Pa),ue=La*wu-2*Iu/Ta+hi*(Iu+Iu/Pa),Tt=Cn*Eo*Wu-2*rs/(1+Hn)+hi*Eo*rs+hi*Cn*(ms-ms/Pa),Lt=Cn*Eo*wu-2*Us/(1+Hn)+hi*Eo*Us+hi*Cn*(Iu-Iu/Pa),se=ue*Tt-Lt*oe;if(!se)break;var Oe=(ls*ue-Os*Lt)/se,Rr=(Os*Tt-ls*oe)/se;Pt-=Oe,It=u(-M,l(M,It-Rr))}while((v(Oe)>x||v(Rr)>x)&&--Ht>0);return v(v(It)-M)<x?[0,It]:Ht&&[Pt,It]};var vr=function(){return c.geoProjection(le).scale(62.5271)},He=r(35*R);function rr(pt,mt){var Pt=y(mt/2);return[pt*He*Z(1-Pt*Pt),(1+He)*Pt]}rr.invert=function(pt,mt){var Pt=mt/(1+He);return[pt&&pt/(He*Z(1-Pt*Pt)),2*o(Pt)]};var Lr=function(){return c.geoProjection(rr).scale(137.152)};function Mr(pt,mt){var Pt=mt/2,It=r(Pt);return[2*pt/T*r(mt)*It*It,T*y(Pt)]}Mr.invert=function(pt,mt){var Pt=o(mt/T),It=r(Pt),Ht=2*Pt;return[pt*T/2/(r(Ht)*It*It),Ht]};var rn=function(){return c.geoProjection(Mr).scale(135.264)};function pn(pt){return[pt[0]/2,U(y(pt[1]/2*R))*L]}function qr(pt){return[pt[0]*2,2*o(g(pt[1]*R))*L]}var Dn=function(pt){pt==null&&(pt=c.geoOrthographic);var mt=pt(),Pt=c.geoEquirectangular().scale(L).precision(0).clipAngle(null).translate([0,0]);function It(Gt){return mt(pn(Gt))}mt.invert&&(It.invert=function(Gt){return qr(mt.invert(Gt))}),It.stream=function(Gt){var qt=mt.stream(Gt),Ne=Pt.stream({point:function(Fe,$e){qt.point(Fe/2,U(y(-$e/2*R))*L)},lineStart:function(){qt.lineStart()},lineEnd:function(){qt.lineEnd()},polygonStart:function(){qt.polygonStart()},polygonEnd:function(){qt.polygonEnd()}});return Ne.sphere=qt.sphere,Ne};function Ht(Gt){It[Gt]=function(qt){return arguments.length?(mt[Gt](qt),It):mt[Gt]()}}return It.rotate=function(Gt){return arguments.length?(Pt.rotate(Gt),It):Pt.rotate()},It.center=function(Gt){return arguments.length?(mt.center(pn(Gt)),It):qr(mt.center())},Ht("clipAngle"),Ht("clipExtent"),Ht("scale"),Ht("translate"),Ht("precision"),It.scale(249.5)};function ae(pt,mt){var Pt=2*m/mt,It=pt*pt;function Ht(Gt,qt){var Ne=c.geoAzimuthalEquidistantRaw(Gt,qt),Fe=Ne[0],$e=Ne[1],hr=Fe*Fe+$e*$e;if(hr>It){var Tr=Z(hr),Yr=f($e,Fe),en=Pt*p(Yr/Pt),Cn=Yr-en,Hn=pt*r(Cn),hi=(pt*g(Cn)-Cn*g(Hn))/(M-Hn),$i=er(Cn,hi),ga=(m-pt)/ar($i,Hn,m);Fe=Tr;var Pa=50,Ta;do Fe-=Ta=(pt+ar($i,Hn,Fe)*ga-Tr)/($i(Fe)*ga);while(v(Ta)>x&&--Pa>0);$e=Cn*g(Fe),Fe<M&&($e-=hi*(Fe-M));var La=g(en),Eo=r(en);Ne[0]=Fe*Eo-$e*La,Ne[1]=Fe*La+$e*Eo}return Ne}return Ht.invert=function(Gt,qt){var Ne=Gt*Gt+qt*qt;if(Ne>It){var Fe=Z(Ne),$e=f(qt,Gt),hr=Pt*p($e/Pt),Tr=$e-hr;Gt=Fe*r(Tr),qt=Fe*g(Tr);for(var Yr=Gt-M,en=g(Gt),Cn=qt/en,Hn=Gt<M?Infinity:0,hi=10;;){var $i=pt*g(Cn),ga=pt*r(Cn),Pa=g(ga),Ta=M-ga,La=($i-Cn*Pa)/Ta,Eo=er(Cn,La);if(v(Hn)<A||!--hi)break;Cn-=Hn=(Cn*en-La*Yr-qt)/(en-Yr*2*(Ta*(ga+Cn*$i*r(ga)-Pa)-$i*($i-Cn*Pa))/(Ta*Ta))}Fe=pt+ar(Eo,ga,Gt)*(m-pt)/ar(Eo,ga,m),$e=hr+Cn,Gt=Fe*r($e),qt=Fe*g($e)}return c.geoAzimuthalEquidistantRaw.invert(Gt,qt)},Ht}function er(pt,mt){return function(Pt){var It=pt*r(Pt);return Pt<M&&(It-=mt),Z(1+It*It)}}function ar(pt,mt,Pt){for(var It=50,Ht=(Pt-mt)/It,Gt=pt(mt)+pt(Pt),qt=1,Ne=mt;qt<It;++qt)Gt+=2*pt(Ne+=Ht);return Gt*.5*Ht}var kr=function(){var pt=6,mt=30*R,Pt=r(mt),It=g(mt),Ht=c.geoProjectionMutator(ae),Gt=Ht(mt,pt),qt=Gt.stream,Ne=.01,Fe=-r(Ne*R),$e=g(Ne*R);return Gt.radius=function(hr){return arguments.length?(Pt=r(mt=hr*R),It=g(mt),Ht(mt,pt)):mt*L},Gt.lobes=function(hr){return arguments.length?Ht(mt,pt=+hr):pt},Gt.stream=function(hr){var Tr=Gt.rotate(),Yr=qt(hr),en=(Gt.rotate([0,0]),qt(hr));return Gt.rotate(Tr),Yr.sphere=function(){en.polygonStart(),en.lineStart();for(var Cn=0,Hn=2*m/pt,hi=0;Cn<pt;++Cn,hi-=Hn)en.point(f($e*r(hi),Fe)*L,U($e*g(hi))*L),en.point(f(It*r(hi-Hn/2),Pt)*L,U(It*g(hi-Hn/2))*L);en.lineEnd(),en.polygonEnd()},Yr},Gt.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)},Rn=function(pt,mt,Pt,It,Ht,Gt,qt,Ne){arguments.length<8&&(Ne=0);function Fe($e,hr){if(!hr)return[pt*$e/m,0];var Tr=hr*hr,Yr=pt+Tr*(mt+Tr*(Pt+Tr*It)),en=hr*(Ht-1+Tr*(Gt-Ne+Tr*qt)),Cn=(Yr*Yr+en*en)/(2*en),Hn=$e*U(Yr/Cn)/m;return[Cn*g(Hn),hr*(1+Tr*Ne)+Cn*(1-r(Hn))]}return Fe.invert=function($e,hr){var Tr=m*$e/pt,Yr=hr,en,Cn,Hn=50;do{var hi=Yr*Yr,$i=pt+hi*(mt+hi*(Pt+hi*It)),ga=Yr*(Ht-1+hi*(Gt-Ne+hi*qt)),Pa=$i*$i+ga*ga,Ta=2*ga,La=Pa/Ta,Eo=La*La,Os=U($i/La)/m,ls=Tr*Os,rs=$i*$i,Us=(2*mt+hi*(4*Pt+hi*6*It))*Yr,du=Ht+hi*(3*Gt+hi*5*qt),Wu=2*($i*Us+ga*(du-1)),wu=2*(du-1),fu=(Wu*Ta-Pa*wu)/(Ta*Ta),ms=r(ls),Iu=g(ls),oe=La*ms,ue=La*Iu,Tt=Tr/m*(1/Z(1-rs/Eo))*(Us*La-$i*fu)/Eo,Lt=ue-$e,se=Yr*(1+hi*Ne)+La-oe-hr,Oe=fu*Iu+oe*Tt,Rr=oe*Os,on=1+fu-(fu*ms-ue*Tt),Wr=ue*Os,bn=Oe*Wr-on*Rr;if(!bn)break;Tr-=en=(se*Oe-Lt*on)/bn,Yr-=Cn=(Lt*Wr-se*Rr)/bn}while((v(en)>x||v(Cn)>x)&&--Hn>0);return[Tr,Yr]},Fe},di=Rn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Yi=function(){return c.geoProjection(di).scale(149.995)},da=Rn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),_a=function(){return c.geoProjection(da).scale(153.93)},fa=Rn(5/6*m,-.62636,-.0344,0,1.3493,-.05524,0,.045),wo=function(){return c.geoProjection(fa).scale(130.945)};function ho(pt,mt){var Pt=pt*pt,It=mt*mt;return[pt*(1-.162388*It)*(.87-952426e-9*Pt*Pt),mt*(1+It/12)]}ho.invert=function(pt,mt){var Pt=pt,It=mt,Ht=50,Gt;do{var qt=It*It;It-=Gt=(It*(1+qt/12)-mt)/(1+qt/4)}while(v(Gt)>x&&--Ht>0);Ht=50,pt/=1-.162388*qt;do{var Ne=(Ne=Pt*Pt)*Ne;Pt-=Gt=(Pt*(.87-952426e-9*Ne)-pt)/(.87-.00476213*Ne)}while(v(Gt)>x&&--Ht>0);return[Pt,It]};var mo=function(){return c.geoProjection(ho).scale(131.747)},yo=Rn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),zo=function(){return c.geoProjection(yo).scale(131.087)},io=function(pt){var mt=pt(M,0)[0]-pt(-M,0)[0];function Pt(It,Ht){var Gt=It>0?-.5:.5,qt=pt(It+Gt*m,Ht);return qt[0]-=Gt*mt,qt}return pt.invert&&(Pt.invert=function(It,Ht){var Gt=It>0?-.5:.5,qt=pt.invert(It+Gt*mt,Ht),Ne=qt[0]-Gt*m;return Ne<-m?Ne+=2*m:Ne>m&&(Ne-=2*m),qt[0]=Ne,qt}),Pt};function Za(pt,mt){var Pt=d(pt),It=d(mt),Ht=r(mt),Gt=r(pt)*Ht,qt=g(pt)*Ht,Ne=g(It*mt);pt=v(f(qt,Ne)),mt=U(Gt),v(pt-M)>x&&(pt%=M);var Fe=qa(pt>m/4?M-pt:pt,mt);return pt>m/4&&(Ne=Fe[0],Fe[0]=-Fe[1],Fe[1]=-Ne),Fe[0]*=Pt,Fe[1]*=-It,Fe}Za.invert=function(pt,mt){v(pt)>1&&(pt=d(pt)*2-pt),v(mt)>1&&(mt=d(mt)*2-mt);var Pt=d(pt),It=d(mt),Ht=-Pt*pt,Gt=-It*mt,qt=Gt/Ht<1,Ne=Zt(qt?Gt:Ht,qt?Ht:Gt),Fe=Ne[0],$e=Ne[1],hr=r($e);return qt&&(Fe=-M-Fe),[Pt*(f(g(Fe)*hr,-g($e))+m),It*U(r(Fe)*hr)]};function qa(pt,mt){if(mt===M)return[0,0];var Pt=g(mt),It=Pt*Pt,Ht=It*It,Gt=1+Ht,qt=1+3*Ht,Ne=1-Ht,Fe=U(1/Z(Gt)),$e=Ne+It*Gt*Fe,hr=(1-Pt)/$e,Tr=Z(hr),Yr=hr*Gt,en=Z(Yr),Cn=Tr*Ne,Hn,hi;if(pt===0)return[0,-(Cn+It*en)];var $i=r(mt),ga=1/$i,Pa=2*Pt*$i,Ta=(-3*It+Fe*qt)*Pa,La=(-$e*$i-(1-Pt)*Ta)/($e*$e),Eo=.5*La/Tr,Os=Ne*Eo-2*It*Tr*Pa,ls=It*Gt*La+hr*qt*Pa,rs=-ga*Pa,Us=-ga*ls,du=-2*ga*Os,Wu=4*pt/m,wu;if(pt>.222*m||mt<m/4&&pt>.175*m){if(Hn=(Cn+It*Z(Yr*(1+Ht)-Cn*Cn))/(1+Ht),pt>m/4)return[Hn,Hn];var fu=Hn,ms=.5*Hn;Hn=.5*(ms+fu),hi=50;do{var Iu=Z(Yr-Hn*Hn),oe=Hn*(du+rs*Iu)+Us*U(Hn/en)-Wu;if(!oe)break;oe<0?ms=Hn:fu=Hn,Hn=.5*(ms+fu)}while(v(fu-ms)>x&&--hi>0)}else{Hn=x,hi=25;do{var ue=Hn*Hn,Tt=Z(Yr-ue),Lt=du+rs*Tt,se=Hn*Lt+Us*U(Hn/en)-Wu,Oe=Lt+(Us-rs*ue)/Tt;Hn-=wu=Tt?se/Oe:0}while(v(wu)>x&&--hi>0)}return[Hn,-Cn-It*Z(Yr-Hn*Hn)]}function Zt(pt,mt){for(var Pt=0,It=1,Ht=.5,Gt=50;;){var qt=Ht*Ht,Ne=Z(Ht),Fe=U(1/Z(1+qt)),$e=1-qt+Ht*(1+qt)*Fe,hr=(1-Ne)/$e,Tr=Z(hr),Yr=hr*(1+qt),en=Tr*(1-qt),Cn=Yr-pt*pt,Hn=Z(Cn),hi=mt+en+Ht*Hn;if(v(It-Pt)<A||--Gt==0||hi===0)break;hi>0?Pt=Ht:It=Ht,Ht=.5*(Pt+It)}if(!Gt)return null;var $i=U(Ne),ga=r($i),Pa=1/ga,Ta=2*Ne*ga,La=(-3*Ht+Fe*(1+3*qt))*Ta,Eo=(-$e*ga-(1-Ne)*La)/($e*$e),Os=.5*Eo/Tr,ls=(1-qt)*Os-2*Ht*Tr*Ta,rs=-2*Pa*ls,Us=-Pa*Ta,du=-Pa*(Ht*(1+qt)*Eo+hr*(1+3*qt)*Ta);return[m/4*(pt*(rs+Us*Hn)+du*U(pt/Z(Yr))),$i]}var je=function(){return c.geoProjection(io(Za)).scale(239.75)};function ur(pt,mt,Pt){var It,Ht,Gt;return pt?(It=Br(pt,Pt),mt?(Ht=Br(mt,1-Pt),Gt=Ht[1]*Ht[1]+Pt*It[0]*It[0]*Ht[0]*Ht[0],[[It[0]*Ht[2]/Gt,It[1]*It[2]*Ht[0]*Ht[1]/Gt],[It[1]*Ht[1]/Gt,-It[0]*It[2]*Ht[0]*Ht[2]/Gt],[It[2]*Ht[1]*Ht[2]/Gt,-Pt*It[0]*It[1]*Ht[0]/Gt]]):[[It[0],0],[It[1],0],[It[2],0]]):(Ht=Br(mt,1-Pt),[[0,Ht[0]/Ht[1]],[1/Ht[1],0],[Ht[2]/Ht[1],0]])}function Br(pt,mt){var Pt,It,Ht,Gt,qt;if(mt<x)return Gt=g(pt),It=r(pt),Pt=mt*(pt-Gt*It)/4,[Gt-Pt*It,It+Pt*Gt,1-mt*Gt*Gt/2,pt-Pt];if(mt>=1-x)return Pt=(1-mt)/4,It=at(pt),Gt=J(pt),Ht=1/It,qt=It*ht(pt),[Gt+Pt*(qt-pt)/(It*It),Ht-Pt*Gt*Ht*(qt-pt),Ht+Pt*Gt*Ht*(qt+pt),2*o(e(pt))-M+Pt*(qt-pt)/It];var Ne=[1,0,0,0,0,0,0,0,0],Fe=[Z(mt),0,0,0,0,0,0,0,0],$e=0;for(It=Z(1-mt),qt=1;v(Fe[$e]/Ne[$e])>x&&$e<8;)Pt=Ne[$e++],Fe[$e]=(Pt-It)/2,Ne[$e]=(Pt+It)/2,It=Z(Pt*It),qt*=2;Ht=qt*Ne[$e]*pt;do Gt=Fe[$e]*g(It=Ht)/Ne[$e],Ht=(U(Gt)+Ht)/2;while(--$e);return[g(Ht),Gt=r(Ht),Gt/r(Ht-It),Ht]}function Vt(pt,mt,Pt){var It=v(pt),Ht=v(mt),Gt=ht(Ht);if(It){var qt=1/g(It),Ne=1/(y(It)*y(It)),Fe=-(Ne+Pt*(Gt*Gt*qt*qt)-1+Pt),$e=(Pt-1)*Ne,hr=(-Fe+Z(Fe*Fe-4*$e))/2;return[ee(o(1/Z(hr)),Pt)*d(pt),ee(o(Z((hr/Ne-1)/Pt)),1-Pt)*d(mt)]}return[0,ee(o(Gt),1-Pt)*d(mt)]}function ee(pt,mt){if(!mt)return pt;if(mt===1)return a(y(pt/2+b));for(var Pt=1,It=Z(1-mt),Ht=Z(mt),Gt=0;v(Ht)>x;Gt++){if(pt%m){var qt=o(It*y(pt)/Pt);qt<0&&(qt+=m),pt+=qt+~~(pt/m)*m}else pt+=pt;Ht=(Pt+It)/2,It=Z(Pt*It),Ht=((Pt=Ht)-It)/2}return pt/(h(2,Gt)*Pt)}function Ae(pt,mt){var Pt=(C-1)/(C+1),It=Z(1-Pt*Pt),Ht=ee(M,It*It),Gt=-1,qt=a(y(m/4+v(mt)/2)),Ne=e(Gt*qt)/Z(Pt),Fe=Me(Ne*r(Gt*pt),Ne*g(Gt*pt)),$e=Vt(Fe[0],Fe[1],It*It);return[-$e[1],(mt>=0?1:-1)*(.5*Ht-$e[0])]}function Me(pt,mt){var Pt=pt*pt,It=mt+1,Ht=1-Pt-mt*mt;return[.5*((pt>=0?M:-M)-f(Ht,2*pt)),-.25*a(Ht*Ht+4*Pt)+.5*a(It*It+Pt)]}function Er(pt,mt){var Pt=mt[0]*mt[0]+mt[1]*mt[1];return[(pt[0]*mt[0]+pt[1]*mt[1])/Pt,(pt[1]*mt[0]-pt[0]*mt[1])/Pt]}Ae.invert=function(pt,mt){var Pt=(C-1)/(C+1),It=Z(1-Pt*Pt),Ht=ee(M,It*It),Gt=-1,qt=ur(.5*Ht-mt,-pt,It*It),Ne=Er(qt[0],qt[1]),Fe=f(Ne[1],Ne[0])/Gt;return[Fe,2*o(e(.5/Gt*a(Pt*Ne[0]*Ne[0]+Pt*Ne[1]*Ne[1])))-M]};var dn=function(){return c.geoProjection(io(Ae)).scale(151.496)};function xn(pt,mt){if(arguments.length<2&&(mt=pt),mt===1)return c.geoAzimuthalEqualAreaRaw;if(mt===Infinity)return fi;function Pt(It,Ht){var Gt=c.geoAzimuthalEqualAreaRaw(It/mt,Ht);return Gt[0]*=pt,Gt}return Pt.invert=function(It,Ht){var Gt=c.geoAzimuthalEqualAreaRaw.invert(It/pt,Ht);return Gt[0]*=mt,Gt},Pt}function fi(pt,mt){return[pt*r(mt)/r(mt/=2),2*g(mt)]}fi.invert=function(pt,mt){var Pt=2*U(mt/2);return[pt*r(Pt/2)/r(Pt),Pt]};var Ai=function(){var pt=2,mt=c.geoProjectionMutator(xn),Pt=mt(pt);return Pt.coefficient=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(169.529)};function aa(pt){var mt=g(pt),Pt=r(pt),It=qi(pt);It.invert=qi(-pt);function Ht(Gt,qt){var Ne=It(Gt,qt);Gt=Ne[0],qt=Ne[1];var Fe=g(qt),$e=r(qt),hr=r(Gt),Tr=X(mt*Fe+Pt*$e*hr),Yr=g(Tr),en=v(Yr)>x?Tr/Yr:1;return[en*Pt*g(Gt),(v(Gt)>M?en:-en)*(mt*$e-Pt*Fe*hr)]}return Ht.invert=function(Gt,qt){var Ne=Z(Gt*Gt+qt*qt),Fe=-g(Ne),$e=r(Ne),hr=Ne*$e,Tr=-qt*Fe,Yr=Ne*mt,en=Z(hr*hr+Tr*Tr-Yr*Yr),Cn=f(hr*Yr+Tr*en,Tr*Yr-hr*en),Hn=(Ne>M?-1:1)*f(Gt*Fe,Ne*r(Cn)*$e+qt*g(Cn)*Fe);return It.invert(Hn,Cn)},Ht}function qi(pt){var mt=g(pt),Pt=r(pt);return function(It,Ht){var Gt=r(Ht),qt=r(It)*Gt,Ne=g(It)*Gt,Fe=g(Ht);return[f(Ne,qt*Pt-Fe*mt),U(Fe*Pt+qt*mt)]}}var Sa=function(){var pt=0,mt=c.geoProjectionMutator(aa),Pt=mt(pt),It=Pt.rotate,Ht=Pt.stream,Gt=c.geoCircle();return Pt.parallel=function(qt){if(!arguments.length)return pt*L;var Ne=Pt.rotate();return mt(pt=qt*R).rotate(Ne)},Pt.rotate=function(qt){return arguments.length?(It.call(Pt,[qt[0],qt[1]-pt*L]),Gt.center([-qt[0],-qt[1]]),Pt):(qt=It.call(Pt),qt[1]+=pt*L,qt)},Pt.stream=function(qt){return qt=Ht(qt),qt.sphere=function(){qt.polygonStart();var Ne=.01,Fe=Gt.radius(90-Ne)().coordinates[0],$e=Fe.length-1,hr=-1,Tr;for(qt.lineStart();++hr<$e;)qt.point((Tr=Fe[hr])[0],Tr[1]);for(qt.lineEnd(),Fe=Gt.radius(90+Ne)().coordinates[0],$e=Fe.length-1,qt.lineStart();--hr>=0;)qt.point((Tr=Fe[hr])[0],Tr[1]);qt.lineEnd(),qt.polygonEnd()},qt},Pt.scale(79.4187).parallel(45).clipAngle(180-.001)},ca=41+48/36+37/3600,to=lr(0);function za(pt){var mt=ca*R,Pt=fn(m,mt)[0]-fn(-m,mt)[0],It=to(0,mt)[1],Ht=fn(0,mt)[1],Gt=T-Ht,qt=O/pt,Ne=4/O,Fe=It+Gt*Gt*4/O;function $e(hr,Tr){var Yr,en=v(Tr);if(en>mt){var Cn=l(pt-1,u(0,n((hr+m)/qt)));hr+=m*(pt-1)/pt-Cn*qt,Yr=fn(hr,en),Yr[0]=Yr[0]*O/Pt-O*(pt-1)/(2*pt)+Cn*O/pt,Yr[1]=It+(Yr[1]-Ht)*4*Gt/O,Tr<0&&(Yr[1]=-Yr[1])}else Yr=to(hr,Tr);return Yr[0]*=Ne,Yr[1]/=Fe,Yr}return $e.invert=function(hr,Tr){hr/=Ne,Tr*=Fe;var Yr=v(Tr);if(Yr>It){var en=l(pt-1,u(0,n((hr+m)/qt)));hr=(hr+m*(pt-1)/pt-en*qt)*Pt/O;var Cn=fn.invert(hr,.25*(Yr-It)*O/Gt+Ht);return Cn[0]-=m*(pt-1)/pt-en*qt,Tr<0&&(Cn[1]=-Cn[1]),Cn}return to.invert(hr,Tr)},$e}function Ia(pt){return{type:"Polygon",coordinates:[s.range(-180,180+pt/2,pt).map(function(mt,Pt){return[mt,Pt&1?90-1e-6:ca]}).concat(s.range(180,-180-pt/2,-pt).map(function(mt,Pt){return[mt,Pt&1?-90+1e-6:-ca]}))]}}var Va=function(){var pt=4,mt=c.geoProjectionMutator(za),Pt=mt(pt),It=Pt.stream;return Pt.lobes=function(Ht){return arguments.length?mt(pt=+Ht):pt},Pt.stream=function(Ht){var Gt=Pt.rotate(),qt=It(Ht),Ne=(Pt.rotate([0,0]),It(Ht));return Pt.rotate(Gt),qt.sphere=function(){c.geoStream(Ia(180/pt),Ne)},qt},Pt.scale(239.75)};function ro(pt){var mt=1+pt,Pt=g(1/mt),It=U(Pt),Ht=2*Z(m/(Gt=m+4*It*mt)),Gt,qt=.5*Ht*(mt+Z(pt*(2+pt))),Ne=pt*pt,Fe=mt*mt;function $e(hr,Tr){var Yr=1-g(Tr),en,Cn;if(Yr&&Yr<2){var Hn=M-Tr,hi=25,$i;do{var ga=g(Hn),Pa=r(Hn),Ta=It+f(ga,mt-Pa),La=1+Fe-2*mt*Pa;Hn-=$i=(Hn-Ne*It-mt*ga+La*Ta-.5*Yr*Gt)/(2*mt*ga*Ta)}while(v($i)>A&&--hi>0);en=Ht*Z(La),Cn=hr*Ta/m}else en=Ht*(pt+Yr),Cn=hr*It/m;return[en*g(Cn),qt-en*r(Cn)]}return $e.invert=function(hr,Tr){var Yr=hr*hr+(Tr-=qt)*Tr,en=(1+Fe-Yr/(Ht*Ht))/(2*mt),Cn=X(en),Hn=g(Cn),hi=It+f(Hn,mt-en);return[U(hr/Z(Yr))*m/hi,U(1-2*(Cn-Ne*It-mt*Hn+(1+Fe-2*mt*en)*hi)/Gt)]},$e}var xe=function(){var pt=1,mt=c.geoProjectionMutator(ro),Pt=mt(pt);return Pt.ratio=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(167.774).center([0,18.67])},be=.7109889596207567,pe=.0528035274542;function vt(pt,mt){return mt>-be?(pt=V(pt,mt),pt[1]+=pe,pt):Ft(pt,mt)}vt.invert=function(pt,mt){return mt>-be?V.invert(pt,mt-pe):Ft.invert(pt,mt)};var gt=function(){return c.geoProjection(vt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function dt(pt,mt){return v(mt)>be?(pt=V(pt,mt),pt[1]-=mt>0?pe:-pe,pt):Ft(pt,mt)}dt.invert=function(pt,mt){return v(mt)>be?V.invert(pt,mt+(mt>0?pe:-pe)):Ft.invert(pt,mt)};var Dt=function(){return c.geoProjection(dt).scale(152.63)};function te(pt,mt){return v(pt[0]-mt[0])<x&&v(pt[1]-mt[1])<x}function We(pt,mt){for(var Pt=-1,It=pt.length,Ht=pt[0],Gt,qt,Ne,Fe=[];++Pt<It;){Gt=pt[Pt],qt=(Gt[0]-Ht[0])/mt,Ne=(Gt[1]-Ht[1])/mt;for(var $e=0;$e<mt;++$e)Fe.push([Ht[0]+$e*qt,Ht[1]+$e*Ne]);Ht=Gt}return Fe.push(Gt),Fe}function cr(pt){var mt=[],Pt,It,Ht,Gt,qt,Ne,Fe,$e=pt[0].length;for(Fe=0;Fe<$e;++Fe)Pt=pt[0][Fe],It=Pt[0][0],Ht=Pt[0][1],Gt=Pt[1][1],qt=Pt[2][0],Ne=Pt[2][1],mt.push(We([[It+x,Ht+x],[It+x,Gt-x],[qt-x,Gt-x],[qt-x,Ne+x]],30));for(Fe=pt[1].length-1;Fe>=0;--Fe)Pt=pt[1][Fe],It=Pt[0][0],Ht=Pt[0][1],Gt=Pt[1][1],qt=Pt[2][0],Ne=Pt[2][1],mt.push(We([[qt-x,Ne-x],[qt-x,Gt+x],[It+x,Gt+x],[It+x,Ht-x]],30));return{type:"Polygon",coordinates:[s.merge(mt)]}}var zr=function(pt,mt){var Pt=cr(mt);mt=mt.map(function(Ne){return Ne.map(function(Fe){return[[Fe[0][0]*R,Fe[0][1]*R],[Fe[1][0]*R,Fe[1][1]*R],[Fe[2][0]*R,Fe[2][1]*R]]})});var It=mt.map(function(Ne){return Ne.map(function(Fe){var $e=pt(Fe[0][0],Fe[0][1])[0],hr=pt(Fe[2][0],Fe[2][1])[0],Tr=pt(Fe[1][0],Fe[0][1])[1],Yr=pt(Fe[1][0],Fe[1][1])[1],en;return Tr>Yr&&(en=Tr,Tr=Yr,Yr=en),[[$e,Tr],[hr,Yr]]})});function Ht(Ne,Fe){for(var $e=Fe<0?-1:1,hr=mt[+(Fe<0)],Tr=0,Yr=hr.length-1;Tr<Yr&&Ne>hr[Tr][2][0];++Tr);var en=pt(Ne-hr[Tr][1][0],Fe);return en[0]+=pt(hr[Tr][1][0],$e*Fe>$e*hr[Tr][0][1]?hr[Tr][0][1]:Fe)[0],en}pt.invert&&(Ht.invert=function(Ne,Fe){for(var $e=It[+(Fe<0)],hr=mt[+(Fe<0)],Tr=0,Yr=$e.length;Tr<Yr;++Tr){var en=$e[Tr];if(en[0][0]<=Ne&&Ne<en[1][0]&&en[0][1]<=Fe&&Fe<en[1][1]){var Cn=pt.invert(Ne-pt(hr[Tr][1][0],0)[0],Fe);return Cn[0]+=hr[Tr][1][0],te(Ht(Cn[0],Cn[1]),[Ne,Fe])?Cn:null}}});var Gt=c.geoProjection(Ht),qt=Gt.stream;return Gt.stream=function(Ne){var Fe=Gt.rotate(),$e=qt(Ne),hr=(Gt.rotate([0,0]),qt(Ne));return Gt.rotate(Fe),$e.sphere=function(){c.geoStream(Pt,hr)},$e},Gt},Rt=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Si=function(){return zr(ot,Rt).scale(160.857)},ri=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],k=function(){return zr(dt,ri).scale(152.63)},rt=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Bt=function(){return zr(V,rt).scale(169.529)},yt=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],ne=function(){return zr(V,yt).scale(169.529).rotate([20,0])},_e=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],or=function(){return zr(vt,_e).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},jr=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],_r=function(){return zr(Ft,jr).scale(152.63).rotate([-20,0])};function Pn(pt,mt){return[3/O*pt*Z(m*m/3-mt*mt),mt]}Pn.invert=function(pt,mt){return[O/3*pt/Z(m*m/3-mt*mt),mt]};var Ln=function(){return c.geoProjection(Pn).scale(158.837)};function Li(pt){function mt(Pt,It){if(v(v(It)-M)<x)return[0,It<0?-2:2];var Ht=g(It),Gt=h((1+Ht)/(1-Ht),pt/2),qt=.5*(Gt+1/Gt)+r(Pt*=pt);return[2*g(Pt)/qt,(Gt-1/Gt)/qt]}return mt.invert=function(Pt,It){var Ht=v(It);if(v(Ht-2)<x)return Pt?null:[0,d(It)*M];if(Ht>2)return null;Pt/=2,It/=2;var Gt=Pt*Pt,qt=It*It,Ne=2*It/(1+Gt+qt);return Ne=h((1+Ne)/(1-Ne),1/pt),[f(2*Pt,1-Gt-qt)/pt,U((Ne-1)/(Ne+1))]},mt}var sa=function(){var pt=.5,mt=c.geoProjectionMutator(Li),Pt=mt(pt);return Pt.spacing=function(It){return arguments.length?mt(pt=+It):pt},Pt.scale(124.75)},Ki=m/C;function Ea(pt,mt){return[pt*(1+Z(r(mt)))/2,mt/(r(mt/2)*r(pt/6))]}Ea.invert=function(pt,mt){var Pt=v(pt),It=v(mt),Ht=x,Gt=M;It<Ki?Gt*=It/Ki:Ht+=6*X(Ki/It);for(var qt=0;qt<25;qt++){var Ne=g(Gt),Fe=Z(r(Gt)),$e=g(Gt/2),hr=r(Gt/2),Tr=g(Ht/6),Yr=r(Ht/6),en=.5*Ht*(1+Fe)-Pt,Cn=Gt/(hr*Yr)-It,Hn=Fe?-.25*Ht*Ne/Fe:0,hi=.5*(1+Fe),$i=(1+.5*Gt*$e/hr)/(hr*Yr),ga=Gt/hr*(Tr/6)/(Yr*Yr),Pa=Hn*ga-$i*hi,Ta=(en*ga-Cn*hi)/Pa,La=(Cn*Hn-en*$i)/Pa;if(Gt-=Ta,Ht-=La,v(Ta)<x&&v(La)<x)break}return[pt<0?-Ht:Ht,mt<0?-Gt:Gt]};var pa=function(){return c.geoProjection(Ea).scale(97.2672)};function Fa(pt,mt){var Pt=pt*pt,It=mt*mt;return[pt*(.975534+It*(-.119161+Pt*-.0143059+It*-.0547009)),mt*(1.00384+Pt*(.0802894+It*-.02855+Pt*199025e-9)+It*(.0998909+It*-.0491032))]}Fa.invert=function(pt,mt){var Pt=d(pt)*m,It=mt/2,Ht=50;do{var Gt=Pt*Pt,qt=It*It,Ne=Pt*It,Fe=Pt*(.975534+qt*(-.119161+Gt*-.0143059+qt*-.0547009))-pt,$e=It*(1.00384+Gt*(.0802894+qt*-.02855+Gt*199025e-9)+qt*(.0998909+qt*-.0491032))-mt,hr=.975534-qt*(.119161+3*Gt*.0143059+qt*.0547009),Tr=-Ne*(2*.119161+4*.0547009*qt+2*.0143059*Gt),Yr=Ne*(2*.0802894+4*199025e-9*Gt+2*-.02855*qt),en=1.00384+Gt*(.0802894+199025e-9*Gt)+qt*(3*(.0998909-.02855*Gt)-5*.0491032*qt),Cn=Tr*Yr-en*hr,Hn=($e*Tr-Fe*en)/Cn,hi=(Fe*Yr-$e*hr)/Cn;Pt-=Hn,It-=hi}while((v(Hn)>x||v(hi)>x)&&--Ht>0);return Ht&&[Pt,It]};var Ua=function(){return c.geoProjection(Fa).scale(139.98)};function vo(pt,mt){return[g(pt)/r(mt),y(mt)*r(pt)]}vo.invert=function(pt,mt){var Pt=pt*pt,It=mt*mt,Ht=It+1,Gt=pt?E*Z((Ht-Z(Pt*Pt+2*Pt*(It-1)+Ht*Ht))/Pt+1):1/Z(Ht);return[U(pt*Gt),d(mt)*X(Gt)]};var No=function(){return c.geoProjection(vo).scale(144.049).clipAngle(90-.001)};function Yo(pt){var mt=r(pt),Pt=y(b+pt/2);function It(Ht,Gt){var qt=Gt-pt,Ne=v(qt)<x?Ht*mt:v(Ne=b+Gt/2)<x||v(v(Ne)-M)<x?0:Ht*qt/a(y(Ne)/Pt);return[Ne,qt]}return It.invert=function(Ht,Gt){var qt,Ne=Gt+pt;return[v(Gt)<x?Ht/mt:v(qt=b+Ne/2)<x||v(v(qt)-M)<x?0:Ht*a(y(qt)/Pt)/Gt,Ne]},It}var Ds=function(){return Ot(Yo).parallel(40).scale(158.837)};function Go(pt,mt){return[pt,1.25*a(y(b+.4*mt))]}Go.invert=function(pt,mt){return[pt,2.5*o(e(.8*mt))-.625*m]};var Io=function(){return c.geoProjection(Go).scale(108.318)};function xo(pt){var mt=pt.length-1;function Pt(It,Ht){for(var Gt=r(Ht),qt=2/(1+Gt*r(It)),Ne=qt*Gt*g(It),Fe=qt*g(Ht),$e=mt,hr=pt[$e],Tr=hr[0],Yr=hr[1],en;--$e>=0;)hr=pt[$e],Tr=hr[0]+Ne*(en=Tr)-Fe*Yr,Yr=hr[1]+Ne*Yr+Fe*en;return Tr=Ne*(en=Tr)-Fe*Yr,Yr=Ne*Yr+Fe*en,[Tr,Yr]}return Pt.invert=function(It,Ht){var Gt=20,qt=It,Ne=Ht;do{for(var Fe=mt,$e=pt[Fe],hr=$e[0],Tr=$e[1],Yr=0,en=0,Cn;--Fe>=0;)$e=pt[Fe],Yr=hr+qt*(Cn=Yr)-Ne*en,en=Tr+qt*en+Ne*Cn,hr=$e[0]+qt*(Cn=hr)-Ne*Tr,Tr=$e[1]+qt*Tr+Ne*Cn;Yr=hr+qt*(Cn=Yr)-Ne*en,en=Tr+qt*en+Ne*Cn,hr=qt*(Cn=hr)-Ne*Tr-It,Tr=qt*Tr+Ne*Cn-Ht;var Hn=Yr*Yr+en*en,hi,$i;qt-=hi=(hr*Yr+Tr*en)/Hn,Ne-=$i=(Tr*Yr-hr*en)/Hn}while(v(hi)+v($i)>x*x&&--Gt>0);if(Gt){var ga=Z(qt*qt+Ne*Ne),Pa=2*o(ga*.5),Ta=g(Pa);return[f(qt*Ta,ga*r(Pa)),ga?U(Ne*Ta/ga):0]}},Pt}var Lo=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Fo=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],so=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Qo=[[.9245,0],[0,0],[.01943,0]],Jo=[[.721316,0],[0,0],[-.00881625,-.00617325]];function So(){return Xo(Lo,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function ds(){return Xo(Fo,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ns(){return Xo(so,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function qo(){return Xo(Qo,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function is(){return Xo(Jo,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Xo(pt,mt){var Pt=c.geoProjection(xo(pt)).rotate(mt).clipAngle(90),It=c.geoRotation(mt),Ht=Pt.center;return delete Pt.rotate,Pt.center=function(Gt){return arguments.length?Ht(It(Gt)):It.invert(Ht())},Pt}var as=Z(6),$a=Z(7);function Eu(pt,mt){var Pt=U(7*g(mt)/(3*as));return[as*pt*(2*r(2*Pt/3)-1)/$a,9*g(Pt/3)/$a]}Eu.invert=function(pt,mt){var Pt=3*U(mt*$a/9);return[pt*$a/(as*(2*r(2*Pt/3)-1)),U(g(Pt)*3*as/7)]};var pu=function(){return c.geoProjection(Eu).scale(164.859)};function Qs(pt,mt){for(var Pt=(1+E)*g(mt),It=mt,Ht=0,Gt;Ht<25&&(It-=Gt=(g(It/2)+g(It)-Pt)/(.5*r(It/2)+r(It)),!(v(Gt)<x));Ht++);return[pt*(1+2*r(It)/r(It/2))/(3*C),2*Z(3)*g(It/2)/Z(2+C)]}Qs.invert=function(pt,mt){var Pt=mt*Z(2+C)/(2*Z(3)),It=2*U(Pt);return[3*C*pt/(1+2*r(It)/r(It/2)),U((Pt+g(It))/(1+E))]};var au=function(){return c.geoProjection(Qs).scale(188.209)};function Ko(pt,mt){for(var Pt=Z(6/(4+m)),It=(1+m/4)*g(mt),Ht=mt/2,Gt=0,qt;Gt<25&&(Ht-=qt=(Ht/2+g(Ht)-It)/(.5+r(Ht)),!(v(qt)<x));Gt++);return[Pt*(.5+r(Ht))*pt/1.5,Pt*Ht]}Ko.invert=function(pt,mt){var Pt=Z(6/(4+m)),It=mt/Pt;return v(v(It)-M)<x&&(It=It<0?-M:M),[1.5*pt/(Pt*(.5+r(It))),U((It/2+g(It))/(1+m/4))]};var ie=function(){return c.geoProjection(Ko).scale(166.518)};function ce(pt,mt){var Pt=mt*mt,It=Pt*Pt;return[pt*(.8707-.131979*Pt+It*(-.013791+It*(.003971*Pt-.001529*It))),mt*(1.007226+Pt*(.015085+It*(-.044475+.028874*Pt-.005916*It)))]}ce.invert=function(pt,mt){var Pt=mt,It=25,Ht;do{var Gt=Pt*Pt,qt=Gt*Gt;Pt-=Ht=(Pt*(1.007226+Gt*(.015085+qt*(-.044475+.028874*Gt-.005916*qt)))-mt)/(1.007226+Gt*(.015085*3+qt*(-.044475*7+.028874*9*Gt-.005916*11*qt)))}while(v(Ht)>x&&--It>0);return[pt/(.8707+(Gt=Pt*Pt)*(-.131979+Gt*(-.013791+Gt*Gt*Gt*(.003971-.001529*Gt)))),Pt]};var Kt=function(){return c.geoProjection(ce).scale(175.295)};function De(pt,mt){var Pt=mt*mt,It=Pt*Pt,Ht=Pt*It;return[pt*(.84719-.13063*Pt+Ht*Ht*(-.04515+.05494*Pt-.02326*It+.00331*Ht)),mt*(1.01183+It*It*(-.02625+.01926*Pt-.00396*It))]}De.invert=function(pt,mt){var Pt=mt,It=25,Ht,Gt,qt,Ne;do Gt=Pt*Pt,qt=Gt*Gt,Pt-=Ht=(Pt*(1.01183+qt*qt*(-.02625+.01926*Gt-.00396*qt))-mt)/(1.01183+qt*qt*(9*-.02625+11*.01926*Gt+13*-.00396*qt));while(v(Ht)>A&&--It>0);return Gt=Pt*Pt,qt=Gt*Gt,Ne=Gt*qt,[pt/(.84719-.13063*Gt+Ne*Ne*(-.04515+.05494*Gt-.02326*qt+.00331*Ne)),Pt]};var br=function(){return c.geoProjection(De).scale(175.295)};function Tn(pt,mt){return[pt*(1+r(mt))/2,2*(mt-y(mt/2))]}Tn.invert=function(pt,mt){for(var Pt=mt/2,It=0,Ht=Infinity;It<10&&v(Ht)>x;++It){var Gt=r(mt/2);mt-=Ht=(mt-y(mt/2)-Pt)/(1-.5/(Gt*Gt))}return[2*pt/(1+r(mt)),mt]};var gi=function(){return c.geoProjection(Tn).scale(152.63)},Oi=1.0148,Di=.23185,ta=-.14499,ha=.02406,Ba=Oi,na=5*Di,ts=7*ta,po=9*ha,uo=1.790857183;function Zo(pt,mt){var Pt=mt*mt;return[pt,mt*(Oi+Pt*Pt*(Di+Pt*(ta+ha*Pt)))]}Zo.invert=function(pt,mt){mt>uo?mt=uo:mt<-uo&&(mt=-uo);var Pt=mt,It;do{var Ht=Pt*Pt;Pt-=It=(Pt*(Oi+Ht*Ht*(Di+Ht*(ta+ha*Ht)))-mt)/(Ba+Ht*Ht*(na+Ht*(ts+po*Ht)))}while(v(It)>x);return[pt,Pt]};var Qa=function(){return c.geoProjection(Zo).scale(139.319)};function go(pt,mt){if(v(mt)<x)return[pt,0];var Pt=y(mt),It=pt*g(mt);return[g(It)/Pt,mt+(1-r(It))/Pt]}go.invert=function(pt,mt){if(v(mt)<x)return[pt,0];var Pt=pt*pt+mt*mt,It=mt*.5,Ht=10,Gt;do{var qt=y(It),Ne=1/r(It),Fe=Pt-2*mt*It+It*It;It-=Gt=(qt*Fe+2*(It-mt))/(2+Fe*Ne*Ne+2*(It-mt)*qt)}while(v(Gt)>x&&--Ht>0);return qt=y(It),[(v(mt)<v(It+1/qt)?U(pt*qt):d(pt)*(X(v(pt*qt))+M))/g(It),It]};var fs=function(){return c.geoProjection(go).scale(103.74)},es=function(pt,mt){var Pt=ss(pt[1],pt[0]),It=ss(mt[1],mt[0]),Ht=Zs(Pt,It),Gt=Bo(Pt)/Bo(It);return os([1,0,pt[0][0],0,1,pt[0][1]],os([Gt,0,0,0,Gt,0],os([r(Ht),g(Ht),0,-g(Ht),r(Ht),0],[1,0,-mt[0][0],0,1,-mt[0][1]])))};function Rs(pt){var mt=1/(pt[0]*pt[4]-pt[1]*pt[3]);return[mt*pt[4],-mt*pt[1],mt*(pt[1]*pt[5]-pt[2]*pt[4]),-mt*pt[3],mt*pt[0],mt*(pt[2]*pt[3]-pt[0]*pt[5])]}function os(pt,mt){return[pt[0]*mt[0]+pt[1]*mt[3],pt[0]*mt[1]+pt[1]*mt[4],pt[0]*mt[2]+pt[1]*mt[5]+pt[2],pt[3]*mt[0]+pt[4]*mt[3],pt[3]*mt[1]+pt[4]*mt[4],pt[3]*mt[2]+pt[4]*mt[5]+pt[5]]}function ss(pt,mt){return[pt[0]-mt[0],pt[1]-mt[1]]}function Bo(pt){return Z(pt[0]*pt[0]+pt[1]*pt[1])}function Zs(pt,mt){return f(pt[0]*mt[1]-pt[1]*mt[0],pt[0]*mt[0]+pt[1]*mt[1])}var Ss=function(pt,mt,Pt){Pt=Pt==null?-m/6:Pt,It(pt,{transform:[r(Pt),g(Pt),0,-g(Pt),r(Pt),0]});function It($e,hr){if($e.edges=Cu($e.face),hr.face){var Tr=$e.shared=bu($e.face,hr.face),Yr=es(Tr.map(hr.project),Tr.map($e.project));$e.transform=hr.transform?os(hr.transform,Yr):Yr;for(var en=hr.edges,Cn=0,Hn=en.length;Cn<Hn;++Cn)Fs(Tr[0],en[Cn][1])&&Fs(Tr[1],en[Cn][0])&&(en[Cn]=$e),Fs(Tr[0],en[Cn][0])&&Fs(Tr[1],en[Cn][1])&&(en[Cn]=$e);for(en=$e.edges,Cn=0,Hn=en.length;Cn<Hn;++Cn)Fs(Tr[0],en[Cn][0])&&Fs(Tr[1],en[Cn][1])&&(en[Cn]=hr),Fs(Tr[0],en[Cn][1])&&Fs(Tr[1],en[Cn][0])&&(en[Cn]=hr)}else $e.transform=hr.transform;return $e.children&&$e.children.forEach(function(hi){It(hi,$e)}),$e}function Ht($e,hr){var Tr=mt($e,hr),Yr=Tr.project([$e*L,hr*L]),en;return(en=Tr.transform)?[en[0]*Yr[0]+en[1]*Yr[1]+en[2],-(en[3]*Yr[0]+en[4]*Yr[1]+en[5])]:(Yr[1]=-Yr[1],Yr)}Bs(pt)&&(Ht.invert=function($e,hr){var Tr=Gt(pt,[$e,-hr]);return Tr&&(Tr[0]*=R,Tr[1]*=R,Tr)});function Gt($e,hr){var Tr=$e.project.invert,Yr=$e.transform,en=hr;if(Yr&&(Yr=Rs(Yr),en=[Yr[0]*en[0]+Yr[1]*en[1]+Yr[2],Yr[3]*en[0]+Yr[4]*en[1]+Yr[5]]),Tr&&$e===qt(Cn=Tr(en)))return Cn;for(var Cn,Hn=$e.children,hi=0,$i=Hn&&Hn.length;hi<$i;++hi)if(Cn=Gt(Hn[hi],hr))return Cn}function qt($e){return mt($e[0]*R,$e[1]*R)}var Ne=c.geoProjection(Ht),Fe=Ne.stream;return Ne.stream=function($e){var hr=Ne.rotate(),Tr=Fe($e),Yr=(Ne.rotate([0,0]),Fe($e));return Ne.rotate(hr),Tr.sphere=function(){Yr.polygonStart(),Yr.lineStart(),Ns(Yr,pt),Yr.lineEnd(),Yr.polygonEnd()},Tr},Ne};function Ns(pt,mt,Pt){var It,Ht=mt.edges,Gt=Ht.length,qt,Ne={type:"MultiPoint",coordinates:mt.face},Fe=mt.face.filter(function(Hn){return v(Hn[1])!==90}),$e=c.geoBounds({type:"MultiPoint",coordinates:Fe}),hr=!1,Tr=-1,Yr=$e[1][0]-$e[0][0],en=Yr===180||Yr===360?[($e[0][0]+$e[1][0])/2,($e[0][1]+$e[1][1])/2]:c.geoCentroid(Ne);if(Pt)for(;++Tr<Gt&&Ht[Tr]!==Pt;);++Tr;for(var Cn=0;Cn<Gt;++Cn)qt=Ht[(Cn+Tr)%Gt],Array.isArray(qt)?(hr||(pt.point((It=c.geoInterpolate(qt[0],en)(x))[0],It[1]),hr=!0),pt.point((It=c.geoInterpolate(qt[1],en)(x))[0],It[1])):(hr=!1,qt!==Pt&&Ns(pt,qt,mt))}function Fs(pt,mt){return pt&&mt&&pt[0]===mt[0]&&pt[1]===mt[1]}function bu(pt,mt){for(var Pt,It,Ht=pt.length,Gt=null,qt=0;qt<Ht;++qt){Pt=pt[qt];for(var Ne=mt.length;--Ne>=0;)if(It=mt[Ne],Pt[0]===It[0]&&Pt[1]===It[1]){if(Gt)return[Gt,Pt];Gt=Pt}}}function Cu(pt){for(var mt=pt.length,Pt=[],It=pt[mt-1],Ht=0;Ht<mt;++Ht)Pt.push([It,It=pt[Ht]]);return Pt}function Bs(pt){return pt.project.invert||pt.children&&pt.children.some(Bs)}var ou=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Js=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(pt){return pt.map(function(mt){return ou[mt]})}),gu=function(pt){pt=pt||function(Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:Pt});return c.geoGnomonic().scale(1).translate([0,0]).rotate([-It[0],-It[1]])};var mt=Js.map(function(Pt){return{face:Pt,project:pt(Pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(Pt,It){var Ht=mt[Pt];Ht&&(Ht.children||(Ht.children=[])).push(mt[It])}),Ss(mt[0],function(Pt,It){return mt[Pt<-m/2?It<0?6:4:Pt<0?It<0?2:0:Pt<m/2?It<0?3:1:It<0?7:5]}).scale(101.858).center([0,45])},qs=2/Z(3);function js(pt,mt){var Pt=fn(pt,mt);return[Pt[0]*qs,Pt[1]]}js.invert=function(pt,mt){return fn.invert(pt/qs,mt)};var Ws=function(pt){pt=pt||function(Pt){var It=c.geoCentroid({type:"MultiPoint",coordinates:Pt});return c.geoProjection(js).translate([0,0]).scale(1).rotate(It[1]>0?[-It[0],0]:[180-It[0],180])};var mt=Js.map(function(Pt){return{face:Pt,project:pt(Pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(Pt,It){var Ht=mt[Pt];Ht&&(Ht.children||(Ht.children=[])).push(mt[It])}),Ss(mt[0],function(Pt,It){return mt[Pt<-m/2?It<0?6:4:Pt<0?It<0?2:0:Pt<m/2?It<0?3:1:It<0?7:5]}).scale(121.906).center([0,48.5904])},Nu=function(pt){pt=pt||function(qt){var Ne=qt.length===6?c.geoCentroid({type:"MultiPoint",coordinates:qt}):qt[0];return c.geoGnomonic().scale(1).translate([0,0]).rotate([-Ne[0],-Ne[1]])};var mt=Js.map(function(qt){for(var Ne=qt.map(Es),Fe=Ne.length,$e=Ne[Fe-1],hr,Tr=[],Yr=0;Yr<Fe;++Yr)hr=Ne[Yr],Tr.push(vu([$e[0]*.9486832980505138+hr[0]*.31622776601683794,$e[1]*.9486832980505138+hr[1]*.31622776601683794,$e[2]*.9486832980505138+hr[2]*.31622776601683794]),vu([hr[0]*.9486832980505138+$e[0]*.31622776601683794,hr[1]*.9486832980505138+$e[1]*.31622776601683794,hr[2]*.9486832980505138+$e[2]*.31622776601683794])),$e=hr;return Tr}),Pt=[],It=[-1,0,0,1,0,1,4,5];mt.forEach(function(qt,Ne){for(var Fe=Js[Ne],$e=Fe.length,hr=Pt[Ne]=[],Tr=0;Tr<$e;++Tr)mt.push([Fe[Tr],qt[(Tr*2+2)%(2*$e)],qt[(Tr*2+1)%(2*$e)]]),It.push(Ne),hr.push(Pu(Es(qt[(Tr*2+2)%(2*$e)]),Es(qt[(Tr*2+1)%(2*$e)])))});var Ht=mt.map(function(qt){return{project:pt(qt),face:qt}});It.forEach(function(qt,Ne){var Fe=Ht[qt];Fe&&(Fe.children||(Fe.children=[])).push(Ht[Ne])});function Gt(qt,Ne){var Fe=r(Ne),$e=[Fe*r(qt),Fe*g(qt),g(Ne)],hr=qt<-m/2?Ne<0?6:4:qt<0?Ne<0?2:0:qt<m/2?Ne<0?3:1:Ne<0?7:5,Tr=Pt[hr];return Ht[su(Tr[0],$e)<0?8+3*hr:su(Tr[1],$e)<0?8+3*hr+1:su(Tr[2],$e)<0?8+3*hr+2:hr]}return Ss(Ht[0],Gt).scale(110.625).center([0,45])};function su(pt,mt){for(var Pt=0,It=pt.length,Ht=0;Pt<It;++Pt)Ht+=pt[Pt]*mt[Pt];return Ht}function Pu(pt,mt){return[pt[1]*mt[2]-pt[2]*mt[1],pt[2]*mt[0]-pt[0]*mt[2],pt[0]*mt[1]-pt[1]*mt[0]]}function vu(pt){return[f(pt[1],pt[0])*L,U(u(-1,l(1,pt[2])))*L]}function Es(pt){var mt=pt[0]*R,Pt=pt[1]*R,It=r(Pt);return[It*r(mt),It*g(mt),g(Pt)]}var mu=function(){},Ou=function(pt){if((Pt=pt.length)<4)return!1;for(var mt=0,Pt,It=pt[Pt-1][1]*pt[0][0]-pt[Pt-1][0]*pt[0][1];++mt<Pt;)It+=pt[mt-1][1]*pt[mt][0]-pt[mt-1][0]*pt[mt][1];return It<=0},Gs=function(pt,mt){for(var Pt=mt[0],It=mt[1],Ht=!1,Gt=0,qt=pt.length,Ne=qt-1;Gt<qt;Ne=Gt++){var Fe=pt[Gt],$e=Fe[0],hr=Fe[1],Tr=pt[Ne],Yr=Tr[0],en=Tr[1];hr>It^en>It&&Pt<(Yr-$e)*(It-hr)/(en-hr)+$e&&(Ht=!Ht)}return Ht},Co=function(pt,mt){var Pt=mt.stream,It;if(!Pt)throw new Error("invalid projection");switch(pt&&pt.type){case"Feature":It=us;break;case"FeatureCollection":It=cs;break;default:It=_s;break}return It(pt,Pt)};function cs(pt,mt){return{type:"FeatureCollection",features:pt.features.map(function(Pt){return us(Pt,mt)})}}function us(pt,mt){return{type:"Feature",id:pt.id,properties:pt.properties,geometry:_s(pt.geometry,mt)}}function lo(pt,mt){return{type:"GeometryCollection",geometries:pt.geometries.map(function(Pt){return _s(Pt,mt)})}}function _s(pt,mt){if(!pt)return null;if(pt.type==="GeometryCollection")return lo(pt,mt);var Pt;switch(pt.type){case"Point":Pt=Vs;break;case"MultiPoint":Pt=Vs;break;case"LineString":Pt=uu;break;case"MultiLineString":Pt=uu;break;case"Polygon":Pt=tu;break;case"MultiPolygon":Pt=tu;break;case"Sphere":Pt=tu;break;default:return null}return c.geoStream(pt,mt(Pt)),Pt.result()}var jo=[],Wo=[],Vs={point:function(pt,mt){jo.push([pt,mt])},result:function(){var pt=jo.length?jo.length<2?{type:"Point",coordinates:jo[0]}:{type:"MultiPoint",coordinates:jo}:null;return jo=[],pt}},uu={lineStart:mu,point:function(pt,mt){jo.push([pt,mt])},lineEnd:function(){jo.length&&(Wo.push(jo),jo=[])},result:function(){var pt=Wo.length?Wo.length<2?{type:"LineString",coordinates:Wo[0]}:{type:"MultiLineString",coordinates:Wo}:null;return Wo=[],pt}},tu={polygonStart:mu,lineStart:mu,point:function(pt,mt){jo.push([pt,mt])},lineEnd:function(){var pt=jo.length;if(pt){do jo.push(jo[0].slice());while(++pt<4);Wo.push(jo),jo=[]}},polygonEnd:mu,result:function(){if(!Wo.length)return null;var pt=[],mt=[];return Wo.forEach(function(Pt){Ou(Pt)?pt.push([Pt]):mt.push(Pt)}),mt.forEach(function(Pt){var It=Pt[0];pt.some(function(Ht){if(Gs(Ht[0],It))return Ht.push(Pt),!0})||pt.push([Pt])}),Wo=[],pt.length?pt.length>1?{type:"MultiPolygon",coordinates:pt}:{type:"Polygon",coordinates:pt[0]}:null}},Hs=function(pt){var mt=pt(M,0)[0]-pt(-M,0)[0];function Pt(It,Ht){var Gt=v(It)<M,qt=pt(Gt?It:It>0?It-m:It+m,Ht),Ne=(qt[0]-qt[1])*E,Fe=(qt[0]+qt[1])*E;if(Gt)return[Ne,Fe];var $e=mt*E,hr=Ne>0^Fe>0?-1:1;return[hr*Ne-d(Fe)*$e,hr*Fe-d(Ne)*$e]}return pt.invert&&(Pt.invert=function(It,Ht){var Gt=(It+Ht)*E,qt=(Ht-It)*E,Ne=v(Gt)<.5*mt&&v(qt)<.5*mt;if(!Ne){var Fe=mt*E,$e=Gt>0^qt>0?-1:1,hr=-$e*It+(qt>0?1:-1)*Fe,Tr=-$e*Ht+(Gt>0?1:-1)*Fe;Gt=(-hr-Tr)*E,qt=(hr-Tr)*E}var Yr=pt.invert(Gt,qt);return Ne||(Yr[0]+=Gt>0?m:-m),Yr}),c.geoProjection(Pt).rotate([-90,-90,45]).clipAngle(180-.001)},bs=function(){return Hs(Za).scale(176.423)},ps=function(){return Hs(Ae).scale(111.48)},Ut=function(pt,mt){if(!(0<=(mt=+mt)&&mt<=20))throw new Error("invalid digits");function Pt(Fe){var $e=Fe.length,hr=2,Tr=new Array($e);for(Tr[0]=+Fe[0].toFixed(mt),Tr[1]=+Fe[1].toFixed(mt);hr<$e;)Tr[hr]=Fe[hr],++hr;return Tr}function It(Fe){return Fe.map(Pt)}function Ht(Fe){return Fe.map(It)}function Gt(Fe){if(Fe==null)return Fe;var $e;switch(Fe.type){case"GeometryCollection":$e={type:"GeometryCollection",geometries:Fe.geometries.map(Gt)};break;case"Point":$e={type:"Point",coordinates:Pt(Fe.coordinates)};break;case"MultiPoint":case"LineString":$e={type:Fe.type,coordinates:It(Fe.coordinates)};break;case"MultiLineString":case"Polygon":$e={type:Fe.type,coordinates:Ht(Fe.coordinates)};break;case"MultiPolygon":$e={type:"MultiPolygon",coordinates:Fe.coordinates.map(Ht)};break;default:return Fe}return Fe.bbox!=null&&($e.bbox=Fe.bbox),$e}function qt(Fe){var $e={type:"Feature",properties:Fe.properties,geometry:Gt(Fe.geometry)};return Fe.id!=null&&($e.id=Fe.id),Fe.bbox!=null&&($e.bbox=Fe.bbox),$e}if(pt!=null)switch(pt.type){case"Feature":return qt(pt);case"FeatureCollection":{var Ne={type:"FeatureCollection",features:pt.features.map(qt)};return pt.bbox!=null&&(Ne.bbox=pt.bbox),Ne}default:return Gt(pt)}return pt};function Xt(pt){var mt=g(pt);function Pt(It,Ht){var Gt=mt?y(It*mt/2)/mt:It/2;if(!Ht)return[2*Gt,-pt];var qt=2*o(Gt*g(Ht)),Ne=1/y(Ht);return[g(qt)*Ne,Ht+(1-r(qt))*Ne-pt]}return Pt.invert=function(It,Ht){if(v(Ht+=pt)<x)return[mt?2*o(mt*It/2)/mt:It,0];var Gt=It*It+Ht*Ht,qt=0,Ne=10,Fe;do{var $e=y(qt),hr=1/r(qt),Tr=Gt-2*Ht*qt+qt*qt;qt-=Fe=($e*Tr+2*(qt-Ht))/(2+Tr*hr*hr+2*(qt-Ht)*$e)}while(v(Fe)>x&&--Ne>0);var Yr=It*($e=y(qt)),en=y(v(Ht)<v(qt+1/$e)?U(Yr)*.5:X(Yr)*.5+m/4)/g(qt);return[mt?2*o(mt*en)/mt:2*en,qt]},Pt}var Ze=function(){return Ot(Xt).scale(131.215)},Ie=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ie.forEach(function(pt){pt[1]*=1.0144});function xr(pt,mt){var Pt=l(18,v(mt)*36/m),It=n(Pt),Ht=Pt-It,Gt=(Tr=Ie[It])[0],qt=Tr[1],Ne=(Tr=Ie[++It])[0],Fe=Tr[1],$e=(Tr=Ie[l(19,++It)])[0],hr=Tr[1],Tr;return[pt*(Ne+Ht*($e-Gt)/2+Ht*Ht*($e-2*Ne+Gt)/2),(mt>0?M:-M)*(Fe+Ht*(hr-qt)/2+Ht*Ht*(hr-2*Fe+qt)/2)]}xr.invert=function(pt,mt){var Pt=mt/M,It=Pt*90,Ht=l(18,v(It/5)),Gt=u(0,n(Ht));do{var qt=Ie[Gt][1],Ne=Ie[Gt+1][1],Fe=Ie[l(19,Gt+2)][1],$e=Fe-qt,hr=Fe-2*Ne+qt,Tr=2*(v(Pt)-Ne)/$e,Yr=hr/$e,en=Tr*(1-Yr*Tr*(1-2*Yr*Tr));if(en>=0||Gt===1){It=(mt>=0?5:-5)*(en+Ht);var Cn=50,Hn;do Ht=l(18,v(It)/5),Gt=n(Ht),en=Ht-Gt,qt=Ie[Gt][1],Ne=Ie[Gt+1][1],Fe=Ie[l(19,Gt+2)][1],It-=(Hn=(mt>=0?M:-M)*(Ne+en*(Fe-qt)/2+en*en*(Fe-2*Ne+qt)/2)-mt)*L;while(v(Hn)>A&&--Cn>0);break}}while(--Gt>=0);var hi=Ie[Gt][0],$i=Ie[Gt+1][0],ga=Ie[l(19,Gt+2)][0];return[pt/($i+en*(ga-hi)/2+en*en*(ga-2*$i+hi)/2),It*R]};var Zr=function(){return c.geoProjection(xr).scale(152.63)};function sn(pt){function mt(Pt,It){var Ht=r(It),Gt=(pt-1)/(pt-Ht*r(Pt));return[Gt*Ht*g(Pt),Gt*g(It)]}return mt.invert=function(Pt,It){var Ht=Pt*Pt+It*It,Gt=Z(Ht),qt=(pt-Z(1-Ht*(pt+1)/(pt-1)))/((pt-1)/Gt+Gt/(pt-1));return[f(Pt*qt,Gt*Z(1-qt*qt)),Gt?U(It*qt/Gt):0]},mt}function Mn(pt,mt){var Pt=sn(pt);if(!mt)return Pt;var It=r(mt),Ht=g(mt);function Gt(qt,Ne){var Fe=Pt(qt,Ne),$e=Fe[1],hr=$e*Ht/(pt-1)+It;return[Fe[0]*It/hr,$e/hr]}return Gt.invert=function(qt,Ne){var Fe=(pt-1)/(pt-1-Ne*Ht);return Pt.invert(Fe*qt,Fe*Ne*It)},Gt}var In=function(){var pt=2,mt=0,Pt=c.geoProjectionMutator(Mn),It=Pt(pt,mt);return It.distance=function(Ht){return arguments.length?Pt(pt=+Ht,mt):pt},It.tilt=function(Ht){return arguments.length?Pt(pt,mt=Ht*R):mt*L},It.scale(432.147).clipAngle(X(1/pt)*L-1e-6)},kn=1e-4,nn=1e4,wn=-180,bt=wn+kn,jt=180,Jt=jt-kn,re=-90,st=re+kn,Et=90,_t=Et-kn;function wt(pt){return pt.length>0}function Qt(pt){return Math.floor(pt*nn)/nn}function Pe(pt){return pt===re||pt===Et?[0,pt]:[wn,Qt(pt)]}function ve(pt){var mt=pt[0],Pt=pt[1],It=!1;return mt<=bt?(mt=wn,It=!0):mt>=Jt&&(mt=jt,It=!0),Pt<=st?(Pt=re,It=!0):Pt>=_t&&(Pt=Et,It=!0),It?[mt,Pt]:pt}function we(pt){return pt.map(ve)}function Re(pt,mt,Pt){for(var It=0,Ht=pt.length;It<Ht;++It){var Gt=pt[It].slice();Pt.push({index:-1,polygon:mt,ring:Gt});for(var qt=0,Ne=Gt.length;qt<Ne;++qt){var Fe=Gt[qt],$e=Fe[0],hr=Fe[1];if($e<=bt||$e>=Jt||hr<=st||hr>=_t){Gt[qt]=ve(Fe);for(var Tr=qt+1;Tr<Ne;++Tr){var Yr=Gt[Tr],en=Yr[0],Cn=Yr[1];if(en>bt&&en<Jt&&Cn>st&&Cn<_t)break}if(Tr===qt+1)continue;if(qt){var Hn={index:-1,polygon:mt,ring:Gt.slice(0,qt+1)};Hn.ring[Hn.ring.length-1]=Pe(hr),Pt[Pt.length-1]=Hn}else Pt.pop();if(Tr>=Ne)break;Pt.push({index:-1,polygon:mt,ring:Gt=Gt.slice(Tr-1)}),Gt[0]=Pe(Gt[0][1]),qt=-1,Ne=Gt.length}}}}function Qe(pt){var mt,Pt=pt.length,It={},Ht={},Gt,qt,Ne,Fe,$e;for(mt=0;mt<Pt;++mt){if(Gt=pt[mt],qt=Gt.ring[0],Fe=Gt.ring[Gt.ring.length-1],qt[0]===Fe[0]&&qt[1]===Fe[1]){Gt.polygon.push(Gt.ring),pt[mt]=null;continue}Gt.index=mt,It[qt]=Ht[Fe]=Gt}for(mt=0;mt<Pt;++mt)if(Gt=pt[mt],Gt){if(qt=Gt.ring[0],Fe=Gt.ring[Gt.ring.length-1],Ne=Ht[qt],$e=It[Fe],delete It[qt],delete Ht[Fe],qt[0]===Fe[0]&&qt[1]===Fe[1]){Gt.polygon.push(Gt.ring);continue}Ne?(delete Ht[qt],delete It[Ne.ring[0]],Ne.ring.pop(),pt[Ne.index]=null,Gt={index:-1,polygon:Ne.polygon,ring:Ne.ring.concat(Gt.ring)},Ne===$e?Gt.polygon.push(Gt.ring):(Gt.index=Pt++,pt.push(It[Gt.ring[0]]=Ht[Gt.ring[Gt.ring.length-1]]=Gt))):$e?(delete It[Fe],delete Ht[$e.ring[$e.ring.length-1]],Gt.ring.pop(),Gt={index:Pt++,polygon:$e.polygon,ring:Gt.ring.concat($e.ring)},pt[$e.index]=null,pt.push(It[Gt.ring[0]]=Ht[Gt.ring[Gt.ring.length-1]]=Gt)):(Gt.ring.push(Gt.ring[0]),Gt.polygon.push(Gt.ring))}}function Ye(pt){var mt={type:"Feature",geometry:Cr(pt.geometry)};return pt.id!=null&&(mt.id=pt.id),pt.bbox!=null&&(mt.bbox=pt.bbox),pt.properties!=null&&(mt.properties=pt.properties),mt}function Cr(pt){if(pt==null)return pt;var mt,Pt,It,Ht;switch(pt.type){case"GeometryCollection":mt={type:"GeometryCollection",geometries:pt.geometries.map(Cr)};break;case"Point":mt={type:"Point",coordinates:ve(pt.coordinates)};break;case"MultiPoint":case"LineString":mt={type:pt.type,coordinates:we(pt.coordinates)};break;case"MultiLineString":mt={type:"MultiLineString",coordinates:pt.coordinates.map(we)};break;case"Polygon":{var Gt=[];Re(pt.coordinates,Gt,Pt=[]),Qe(Pt),mt={type:"Polygon",coordinates:Gt};break}case"MultiPolygon":{Pt=[],It=-1,Ht=pt.coordinates.length;for(var qt=new Array(Ht);++It<Ht;)Re(pt.coordinates[It],qt[It]=[],Pt);Qe(Pt),mt={type:"MultiPolygon",coordinates:qt.filter(wt)};break}default:return pt}return pt.bbox!=null&&(mt.bbox=pt.bbox),mt}var gr=function(pt){if(pt==null)return pt;switch(pt.type){case"Feature":return Ye(pt);case"FeatureCollection":{var mt={type:"FeatureCollection",features:pt.features.map(Ye)};return pt.bbox!=null&&(mt.bbox=pt.bbox),mt}default:return Cr(pt)}};function Ur(pt,mt){var Pt=y(mt/2),It=g(b*Pt);return[pt*(.74482-.34588*It*It),1.70711*Pt]}Ur.invert=function(pt,mt){var Pt=mt/1.70711,It=g(b*Pt);return[pt/(.74482-.34588*It*It),2*o(Pt)]};var pr=function(){return c.geoProjection(Ur).scale(146.153)},Fr=function(pt,mt,Pt){var It=c.geoInterpolate(mt,Pt),Ht=It(.5),Gt=c.geoRotation([-Ht[0],-Ht[1]])(mt),qt=It.distance/2,Ne=-U(g(Gt[1]*R)/g(qt)),Fe=[-Ht[0],-Ht[1],-(Gt[0]>0?m-Ne:Ne)*L],$e=c.geoProjection(pt(qt)).rotate(Fe),hr=c.geoRotation(Fe),Tr=$e.center;return delete $e.rotate,$e.center=function(Yr){return arguments.length?Tr(hr(Yr)):hr.invert(Tr())},$e.clipAngle(90)};function Hr(pt){var mt=r(pt);function Pt(It,Ht){var Gt=c.geoGnomonicRaw(It,Ht);return Gt[0]*=mt,Gt}return Pt.invert=function(It,Ht){return c.geoGnomonicRaw.invert(It/mt,Ht)},Pt}function Sn(){return Nn([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Nn(pt,mt){return Fr(Hr,pt,mt)}function cn(pt){if(!(pt*=2))return c.geoAzimuthalEquidistantRaw;var mt=-pt/2,Pt=-mt,It=pt*pt,Ht=y(Pt),Gt=.5/g(Pt);function qt(Ne,Fe){var $e=X(r(Fe)*r(Ne-mt)),hr=X(r(Fe)*r(Ne-Pt)),Tr=Fe<0?-1:1;return $e*=$e,hr*=hr,[($e-hr)/(2*pt),Tr*Z(4*It*hr-(It-$e+hr)*(It-$e+hr))/(2*pt)]}return qt.invert=function(Ne,Fe){var $e=Fe*Fe,hr=r(Z($e+(Yr=Ne+mt)*Yr)),Tr=r(Z($e+(Yr=Ne+Pt)*Yr)),Yr,en;return[f(en=hr-Tr,Yr=(hr+Tr)*Ht),(Fe<0?-1:1)*X(Z(Yr*Yr+en*en)*Gt)]},qt}function Fn(){return qn([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function qn(pt,mt){return Fr(cn,pt,mt)}function Ci(pt,mt){if(v(mt)<x)return[pt,0];var Pt=v(mt/M),It=U(Pt);if(v(pt)<x||v(v(mt)-M)<x)return[0,d(mt)*m*y(It/2)];var Ht=r(It),Gt=v(m/pt-pt/m)/2,qt=Gt*Gt,Ne=Ht/(Pt+Ht-1),Fe=Ne*(2/Pt-1),$e=Fe*Fe,hr=$e+qt,Tr=Ne-$e,Yr=qt+Ne;return[d(pt)*m*(Gt*Tr+Z(qt*Tr*Tr-hr*(Ne*Ne-$e)))/hr,d(mt)*m*(Fe*Yr-Gt*Z((qt+1)*hr-Yr*Yr))/hr]}Ci.invert=function(pt,mt){if(v(mt)<x)return[pt,0];if(v(pt)<x)return[0,M*g(2*o(mt/m))];var Pt=(pt/=m)*pt,It=(mt/=m)*mt,Ht=Pt+It,Gt=Ht*Ht,qt=-v(mt)*(1+Ht),Ne=qt-2*It+Pt,Fe=-2*qt+1+2*It+Gt,$e=It/Fe+(2*Ne*Ne*Ne/(Fe*Fe*Fe)-9*qt*Ne/(Fe*Fe))/27,hr=(qt-Ne*Ne/(3*Fe))/Fe,Tr=2*Z(-hr/3),Yr=X(3*$e/(hr*Tr))/3;return[m*(Ht-1+Z(1+2*(Pt-It)+Gt))/(2*pt),d(mt)*m*(-Tr*r(Yr+m/3)-Ne/(3*Fe))]};var Ti=function(){return c.geoProjection(Ci).scale(79.4183)};function Oa(pt,mt){if(v(mt)<x)return[pt,0];var Pt=v(mt/M),It=U(Pt);if(v(pt)<x||v(v(mt)-M)<x)return[0,d(mt)*m*y(It/2)];var Ht=r(It),Gt=v(m/pt-pt/m)/2,qt=Gt*Gt,Ne=Ht*(Z(1+qt)-Gt*Ht)/(1+qt*Pt*Pt);return[d(pt)*m*Ne,d(mt)*m*Z(1-Ne*(2*Gt+Ne))]}Oa.invert=function(pt,mt){if(!pt)return[0,M*g(2*o(mt/m))];var Pt=v(pt/m),It=(1-Pt*Pt-(mt/=m)*mt)/(2*Pt),Ht=It*It,Gt=Z(Ht+1);return[d(pt)*m*(Gt-It),d(mt)*M*g(2*f(Z((1-2*It*Pt)*(It+Gt)-Pt),Z(Gt+It+Pt)))]};var va=function(){return c.geoProjection(Oa).scale(79.4183)};function ma(pt,mt){if(v(mt)<x)return[pt,0];var Pt=mt/M,It=U(Pt);if(v(pt)<x||v(v(mt)-M)<x)return[0,m*y(It/2)];var Ht=(m/pt-pt/m)/2,Gt=Pt/(1+r(It));return[m*(d(pt)*Z(Ht*Ht+1-Gt*Gt)-Ht),m*Gt]}ma.invert=function(pt,mt){if(!mt)return[pt,0];var Pt=mt/m,It=(m*m*(1-Pt*Pt)-pt*pt)/(2*m*pt);return[pt?m*(d(pt)*Z(It*It+1)-It):0,M*g(2*o(Pt))]};var Bn=function(){return c.geoProjection(ma).scale(79.4183)};function ci(pt,mt){if(!mt)return[pt,0];var Pt=v(mt);if(!pt||Pt===M)return[0,mt];var It=Pt/M,Ht=It*It,Gt=(8*It-Ht*(Ht+2)-5)/(2*Ht*(It-1)),qt=Gt*Gt,Ne=It*Gt,Fe=Ht+qt+2*Ne,$e=It+3*Gt,hr=pt/M,Tr=hr+1/hr,Yr=d(v(pt)-M)*Z(Tr*Tr-4),en=Yr*Yr,Cn=Fe*(Ht+qt*en-1)+(1-Ht)*(Ht*($e*$e+4*qt)+12*Ne*qt+4*qt*qt),Hn=(Yr*(Fe+qt-1)+2*Z(Cn))/(4*Fe+en);return[d(pt)*M*Hn,d(mt)*M*Z(1+Yr*v(Hn)-Hn*Hn)]}ci.invert=function(pt,mt){var Pt;if(!pt||!mt)return[pt,mt];mt/=m;var It=d(pt)*pt/M,Ht=(It*It-1+4*mt*mt)/v(It),Gt=Ht*Ht,qt=2*mt,Ne=50;do{var Fe=qt*qt,$e=(8*qt-Fe*(Fe+2)-5)/(2*Fe*(qt-1)),hr=(3*qt-Fe*qt-10)/(2*Fe*qt),Tr=$e*$e,Yr=qt*$e,en=qt+$e,Cn=en*en,Hn=qt+3*$e,hi=Cn*(Fe+Tr*Gt-1)+(1-Fe)*(Fe*(Hn*Hn+4*Tr)+Tr*(12*Yr+4*Tr)),$i=-2*en*(4*Yr*Tr+(1-4*Fe+3*Fe*Fe)*(1+hr)+Tr*(-6+14*Fe-Gt+(-8+8*Fe-2*Gt)*hr)+Yr*(-8+12*Fe+(-10+10*Fe-Gt)*hr)),ga=Z(hi),Pa=Ht*(Cn+Tr-1)+2*ga-It*(4*Cn+Gt),Ta=Ht*(2*$e*hr+2*en*(1+hr))+$i/ga-8*en*(Ht*(-1+Tr+Cn)+2*ga)*(1+hr)/(Gt+4*Cn);qt-=Pt=Pa/Ta}while(Pt>x&&--Ne>0);return[d(pt)*(Z(Ht*Ht+4)+Ht)*m/4,M*qt]};var Ha=function(){return c.geoProjection(ci).scale(127.16)},Wa=4*m+3*Z(3),Xn=2*Z(2*m*Z(3)/Wa),ja=D(Xn*Z(3)/m,Xn,Wa/6),fo=function(){return c.geoProjection(ja).scale(176.84)};function Do(pt,mt){return[pt*Z(1-3*mt*mt/(m*m)),mt]}Do.invert=function(pt,mt){return[pt/Z(1-3*mt*mt/(m*m)),mt]};var Ro=function(){return c.geoProjection(Do).scale(152.63)};function Ys(pt,mt){var Pt=.90631*g(mt),It=Z(1-Pt*Pt),Ht=Z(2/(1+It*r(pt/=3)));return[2.66723*It*Ht*g(pt),1.24104*Pt*Ht]}Ys.invert=function(pt,mt){var Pt=pt/2.66723,It=mt/1.24104,Ht=Z(Pt*Pt+It*It),Gt=2*U(Ht/2);return[3*f(pt*y(Gt),2.66723*Ht),Ht&&U(mt*g(Gt)/(1.24104*.90631*Ht))]};var gs=function(){return c.geoProjection(Ys).scale(172.632)};function yu(pt,mt){var Pt=r(mt),It=r(pt)*Pt,Ht=1-It,Gt=r(pt=f(g(pt)*Pt,-g(mt))),qt=g(pt);return Pt=Z(1-It*It),[qt*Pt-Gt*Ht,-Gt*Pt-qt*Ht]}yu.invert=function(pt,mt){var Pt=(pt*pt+mt*mt)/-2,It=Z(-Pt*(2+Pt)),Ht=mt*Pt+pt*It,Gt=pt*Pt-mt*It,qt=Z(Gt*Gt+Ht*Ht);return[f(It*Ht,qt*(1+Pt)),qt?-U(It*Gt/qt):0]};var Tu=function(){return c.geoProjection(yu).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)};function lu(pt,mt){var Pt=nt(pt,mt);return[(Pt[0]+pt/M)/2,(Pt[1]+mt)/2]}lu.invert=function(pt,mt){var Pt=pt,It=mt,Ht=25;do{var Gt=r(It),qt=g(It),Ne=g(2*It),Fe=qt*qt,$e=Gt*Gt,hr=g(Pt),Tr=r(Pt/2),Yr=g(Pt/2),en=Yr*Yr,Cn=1-$e*Tr*Tr,Hn=Cn?X(Gt*Tr)*Z(hi=1/Cn):hi=0,hi,$i=.5*(2*Hn*Gt*Yr+Pt/M)-pt,ga=.5*(Hn*qt+It)-mt,Pa=.5*hi*($e*en+Hn*Gt*Tr*Fe)+.5/M,Ta=hi*(hr*Ne/4-Hn*qt*Yr),La=.125*hi*(Ne*Yr-Hn*qt*$e*hr),Eo=.5*hi*(Fe*Tr+Hn*en*Gt)+.5,Os=Ta*La-Eo*Pa,ls=(ga*Ta-$i*Eo)/Os,rs=($i*La-ga*Pa)/Os;Pt-=ls,It-=rs}while((v(ls)>x||v(rs)>x)&&--Ht>0);return[Pt,It]};var eo=function(){return c.geoProjection(lu).scale(158.837)};t.geoAiry=Nt,t.geoAiryRaw=kt,t.geoAitoff=q,t.geoAitoffRaw=nt,t.geoArmadillo=N,t.geoArmadilloRaw=G,t.geoAugust=H,t.geoAugustRaw=it,t.geoBaker=$,t.geoBakerRaw=K,t.geoBerghaus=j,t.geoBerghausRaw=et,t.geoBoggs=Mt,t.geoBoggsRaw=ot,t.geoBonne=he,t.geoBonneRaw=$t,t.geoBottomley=tr,t.geoBottomleyRaw=ye,t.geoBromley=Xe,t.geoBromleyRaw=nr,t.geoChamberlin=Kr,t.geoChamberlinRaw=de,t.geoChamberlinAfrica=ke,t.geoCollignon=pi,t.geoCollignonRaw=fn,t.geoCraig=ea,t.geoCraigRaw=Vi,t.geoCraster=Be,t.geoCrasterRaw=Te,t.geoCylindricalEqualArea=Or,t.geoCylindricalEqualAreaRaw=lr,t.geoCylindricalStereographic=Dr,t.geoCylindricalStereographicRaw=sr,t.geoEckert1=Yn,t.geoEckert1Raw=En,t.geoEckert2=Jr,t.geoEckert2Raw=ln,t.geoEckert3=$n,t.geoEckert3Raw=Wn,t.geoEckert4=wr,t.geoEckert4Raw=Gr,t.geoEckert5=ge,t.geoEckert5Raw=ti,t.geoEckert6=Se,t.geoEckert6Raw=Le,t.geoEisenlohr=vr,t.geoEisenlohrRaw=le,t.geoFahey=Lr,t.geoFaheyRaw=rr,t.geoFoucaut=rn,t.geoFoucautRaw=Mr,t.geoGilbert=Dn,t.geoGingery=kr,t.geoGingeryRaw=ae,t.geoGinzburg4=Yi,t.geoGinzburg4Raw=di,t.geoGinzburg5=_a,t.geoGinzburg5Raw=da,t.geoGinzburg6=wo,t.geoGinzburg6Raw=fa,t.geoGinzburg8=mo,t.geoGinzburg8Raw=ho,t.geoGinzburg9=zo,t.geoGinzburg9Raw=yo,t.geoGringorten=je,t.geoGringortenRaw=Za,t.geoGuyou=dn,t.geoGuyouRaw=Ae,t.geoHammer=Ai,t.geoHammerRaw=xn,t.geoHammerRetroazimuthal=Sa,t.geoHammerRetroazimuthalRaw=aa,t.geoHealpix=Va,t.geoHealpixRaw=za,t.geoHill=xe,t.geoHillRaw=ro,t.geoHomolosine=Dt,t.geoHomolosineRaw=dt,t.geoInterrupt=zr,t.geoInterruptedBoggs=Si,t.geoInterruptedHomolosine=k,t.geoInterruptedMollweide=Bt,t.geoInterruptedMollweideHemispheres=ne,t.geoInterruptedSinuMollweide=or,t.geoInterruptedSinusoidal=_r,t.geoKavrayskiy7=Ln,t.geoKavrayskiy7Raw=Pn,t.geoLagrange=sa,t.geoLagrangeRaw=Li,t.geoLarrivee=pa,t.geoLarriveeRaw=Ea,t.geoLaskowski=Ua,t.geoLaskowskiRaw=Fa,t.geoLittrow=No,t.geoLittrowRaw=vo,t.geoLoximuthal=Ds,t.geoLoximuthalRaw=Yo,t.geoMiller=Io,t.geoMillerRaw=Go,t.geoModifiedStereographic=Xo,t.geoModifiedStereographicRaw=xo,t.geoModifiedStereographicAlaska=So,t.geoModifiedStereographicGs48=ds,t.geoModifiedStereographicGs50=ns,t.geoModifiedStereographicMiller=qo,t.geoModifiedStereographicLee=is,t.geoMollweide=tt,t.geoMollweideRaw=V,t.geoMtFlatPolarParabolic=pu,t.geoMtFlatPolarParabolicRaw=Eu,t.geoMtFlatPolarQuartic=au,t.geoMtFlatPolarQuarticRaw=Qs,t.geoMtFlatPolarSinusoidal=ie,t.geoMtFlatPolarSinusoidalRaw=Ko,t.geoNaturalEarth=Kt,t.geoNaturalEarthRaw=ce,t.geoNaturalEarth2=br,t.geoNaturalEarth2Raw=De,t.geoNellHammer=gi,t.geoNellHammerRaw=Tn,t.geoPatterson=Qa,t.geoPattersonRaw=Zo,t.geoPolyconic=fs,t.geoPolyconicRaw=go,t.geoPolyhedral=Ss,t.geoPolyhedralButterfly=gu,t.geoPolyhedralCollignon=Ws,t.geoPolyhedralWaterman=Nu,t.geoProject=Co,t.geoGringortenQuincuncial=bs,t.geoPeirceQuincuncial=ps,t.geoPierceQuincuncial=ps,t.geoQuantize=Ut,t.geoQuincuncial=Hs,t.geoRectangularPolyconic=Ze,t.geoRectangularPolyconicRaw=Xt,t.geoRobinson=Zr,t.geoRobinsonRaw=xr,t.geoSatellite=In,t.geoSatelliteRaw=Mn,t.geoSinuMollweide=gt,t.geoSinuMollweideRaw=vt,t.geoSinusoidal=zt,t.geoSinusoidalRaw=Ft,t.geoStitch=gr,t.geoTimes=pr,t.geoTimesRaw=Ur,t.geoTwoPointAzimuthal=Nn,t.geoTwoPointAzimuthalRaw=Hr,t.geoTwoPointAzimuthalUsa=Sn,t.geoTwoPointEquidistant=qn,t.geoTwoPointEquidistantRaw=cn,t.geoTwoPointEquidistantUsa=Fn,t.geoVanDerGrinten=Ti,t.geoVanDerGrintenRaw=Ci,t.geoVanDerGrinten2=va,t.geoVanDerGrinten2Raw=Oa,t.geoVanDerGrinten3=Bn,t.geoVanDerGrinten3Raw=ma,t.geoVanDerGrinten4=Ha,t.geoVanDerGrinten4Raw=ci,t.geoWagner4=fo,t.geoWagner4Raw=ja,t.geoWagner6=Ro,t.geoWagner6Raw=Do,t.geoWagner7=gs,t.geoWagner7Raw=Ys,t.geoWiechel=Tu,t.geoWiechelRaw=yu,t.geoWinkel3=eo,t.geoWinkel3Raw=lu,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@1.12.1@d3-geo/dist/d3-geo.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";function s(){return new v}function v(){this.reset()}v.prototype={constructor:v,reset:function(){this.s=this.t=0},add:function(st){f(o,st,this.t),f(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new v;function f(st,Et,_t){var wt=st.s=Et+_t,Qt=wt-Et,Pe=wt-Qt;st.t=Et-Pe+(_t-Qt)}var r=1e-6,e=1e-12,n=Math.PI,a=n/2,u=n/4,l=n*2,h=180/n,p=n/180,d=Math.abs,g=Math.atan,y=Math.atan2,x=Math.cos,A=Math.ceil,m=Math.exp,M=Math.log,b=Math.pow,E=Math.sin,C=Math.sign||function(st){return st>0?1:st<0?-1:0},T=Math.sqrt,O=Math.tan;function L(st){return st>1?0:st<-1?n:Math.acos(st)}function R(st){return st>1?a:st<-1?-a:Math.asin(st)}function W(st){return(st=E(st/2))*st}function U(){}function X(st,Et){st&&J.hasOwnProperty(st.type)&&J[st.type](st,Et)}var Z={Feature:function(st,Et){X(st.geometry,Et)},FeatureCollection:function(st,Et){for(var _t=st.features,wt=-1,Qt=_t.length;++wt<Qt;)X(_t[wt].geometry,Et)}},J={Sphere:function(st,Et){Et.sphere()},Point:function(st,Et){st=st.coordinates,Et.point(st[0],st[1],st[2])},MultiPoint:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)st=_t[wt],Et.point(st[0],st[1],st[2])},LineString:function(st,Et){ht(st.coordinates,Et,0)},MultiLineString:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)ht(_t[wt],Et,0)},Polygon:function(st,Et){at(st.coordinates,Et)},MultiPolygon:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)at(_t[wt],Et)},GeometryCollection:function(st,Et){for(var _t=st.geometries,wt=-1,Qt=_t.length;++wt<Qt;)X(_t[wt],Et)}};function ht(st,Et,_t){var wt=-1,Qt=st.length-_t,Pe;for(Et.lineStart();++wt<Qt;)Pe=st[wt],Et.point(Pe[0],Pe[1],Pe[2]);Et.lineEnd()}function at(st,Et){var _t=-1,wt=st.length;for(Et.polygonStart();++_t<wt;)ht(st[_t],Et,1);Et.polygonEnd()}function Q(st,Et){st&&Z.hasOwnProperty(st.type)?Z[st.type](st,Et):X(st,Et)}var xt=s(),kt=s(),Nt,nt,q,G,N,it={point:U,lineStart:U,lineEnd:U,polygonStart:function(){xt.reset(),it.lineStart=H,it.lineEnd=ct},polygonEnd:function(){var st=+xt;kt.add(st<0?l+st:st),this.lineStart=this.lineEnd=this.point=U},sphere:function(){kt.add(l)}};function H(){it.point=ft}function ct(){K(Nt,nt)}function ft(st,Et){it.point=K,Nt=st,nt=Et,st*=p,Et*=p,q=st,G=x(Et=Et/2+u),N=E(Et)}function K(st,Et){st*=p,Et*=p,Et=Et/2+u;var _t=st-q,wt=_t>=0?1:-1,Qt=wt*_t,Pe=x(Et),ve=E(Et),we=N*ve,Re=G*Pe+we*x(Qt),Qe=we*wt*E(Qt);xt.add(y(Qe,Re)),q=st,G=Pe,N=ve}function $(st){return kt.reset(),Q(st,it),kt*2}function et(st){return[y(st[1],st[0]),R(st[2])]}function j(st){var Et=st[0],_t=st[1],wt=x(_t);return[wt*x(Et),wt*E(Et),E(_t)]}function w(st,Et){return st[0]*Et[0]+st[1]*Et[1]+st[2]*Et[2]}function D(st,Et){return[st[1]*Et[2]-st[2]*Et[1],st[2]*Et[0]-st[0]*Et[2],st[0]*Et[1]-st[1]*Et[0]]}function V(st,Et){st[0]+=Et[0],st[1]+=Et[1],st[2]+=Et[2]}function tt(st,Et){return[st[0]*Et,st[1]*Et,st[2]*Et]}function lt(st){var Et=T(st[0]*st[0]+st[1]*st[1]+st[2]*st[2]);st[0]/=Et,st[1]/=Et,st[2]/=Et}var St,ot,Mt,Ot,Ft,zt,$t,he,ye=s(),tr,nr,Xe={point:yr,lineStart:Ee,lineEnd:de,polygonStart:function(){Xe.point=Ge,Xe.lineStart=ke,Xe.lineEnd=Kr,ye.reset(),it.polygonStart()},polygonEnd:function(){it.polygonEnd(),Xe.point=yr,Xe.lineStart=Ee,Xe.lineEnd=de,xt<0?(St=-(Mt=180),ot=-(Ot=90)):ye>r?Ot=90:ye<-r&&(ot=-90),nr[0]=St,nr[1]=Mt},sphere:function(){St=-(Mt=180),ot=-(Ot=90)}};function yr(st,Et){tr.push(nr=[St=st,Mt=st]),Et<ot&&(ot=Et),Et>Ot&&(Ot=Et)}function Vr(st,Et){var _t=j([st*p,Et*p]);if(he){var wt=D(he,_t),Qt=[wt[1],-wt[0],0],Pe=D(Qt,wt);lt(Pe),Pe=et(Pe);var ve=st-Ft,we=ve>0?1:-1,Re=Pe[0]*h*we,Qe,Ye=d(ve)>180;Ye^(we*Ft<Re&&Re<we*st)?(Qe=Pe[1]*h,Qe>Ot&&(Ot=Qe)):(Re=(Re+360)%360-180,Ye^(we*Ft<Re&&Re<we*st)?(Qe=-Pe[1]*h,Qe<ot&&(ot=Qe)):(Et<ot&&(ot=Et),Et>Ot&&(Ot=Et))),Ye?st<Ft?fn(St,st)>fn(St,Mt)&&(Mt=st):fn(st,Mt)>fn(St,Mt)&&(St=st):Mt>=St?(st<St&&(St=st),st>Mt&&(Mt=st)):st>Ft?fn(St,st)>fn(St,Mt)&&(Mt=st):fn(st,Mt)>fn(St,Mt)&&(St=st)}else tr.push(nr=[St=st,Mt=st]);Et<ot&&(ot=Et),Et>Ot&&(Ot=Et),he=_t,Ft=st}function Ee(){Xe.point=Vr}function de(){nr[0]=St,nr[1]=Mt,Xe.point=yr,he=null}function Ge(st,Et){if(he){var _t=st-Ft;ye.add(d(_t)>180?_t+(_t>0?360:-360):_t)}else zt=st,$t=Et;it.point(st,Et),Vr(st,Et)}function ke(){it.lineStart()}function Kr(){Ge(zt,$t),it.lineEnd(),d(ye)>r&&(St=-(Mt=180)),nr[0]=St,nr[1]=Mt,he=null}function fn(st,Et){return(Et-=st)<0?Et+360:Et}function pi(st,Et){return st[0]-Et[0]}function Vi(st,Et){return st[0]<=st[1]?st[0]<=Et&&Et<=st[1]:Et<st[0]||st[1]<Et}function ea(st){var Et,_t,wt,Qt,Pe,ve,we;if(Ot=Mt=-(St=ot=Infinity),tr=[],Q(st,Xe),_t=tr.length){for(tr.sort(pi),Et=1,wt=tr[0],Pe=[wt];Et<_t;++Et)Qt=tr[Et],Vi(wt,Qt[0])||Vi(wt,Qt[1])?(fn(wt[0],Qt[1])>fn(wt[0],wt[1])&&(wt[1]=Qt[1]),fn(Qt[0],wt[1])>fn(wt[0],wt[1])&&(wt[0]=Qt[0])):Pe.push(wt=Qt);for(ve=-Infinity,_t=Pe.length-1,Et=0,wt=Pe[_t];Et<=_t;wt=Qt,++Et)Qt=Pe[Et],(we=fn(wt[1],Qt[0]))>ve&&(ve=we,St=Qt[0],Mt=wt[1])}return tr=nr=null,St===Infinity||ot===Infinity?[[NaN,NaN],[NaN,NaN]]:[[St,ot],[Mt,Ot]]}var zi,Te,Be,lr,Or,sr,Dr,En,Yn,ln,Jr,Wn,$n,Gr,wr,ti,ge={sphere:U,point:Le,lineStart:Ve,lineEnd:He,polygonStart:function(){ge.lineStart=rr,ge.lineEnd=Lr},polygonEnd:function(){ge.lineStart=Ve,ge.lineEnd=He}};function Le(st,Et){st*=p,Et*=p;var _t=x(Et);Se(_t*x(st),_t*E(st),E(Et))}function Se(st,Et,_t){++zi,Be+=(st-Be)/zi,lr+=(Et-lr)/zi,Or+=(_t-Or)/zi}function Ve(){ge.point=le}function le(st,Et){st*=p,Et*=p;var _t=x(Et);Gr=_t*x(st),wr=_t*E(st),ti=E(Et),ge.point=vr,Se(Gr,wr,ti)}function vr(st,Et){st*=p,Et*=p;var _t=x(Et),wt=_t*x(st),Qt=_t*E(st),Pe=E(Et),ve=y(T((ve=wr*Pe-ti*Qt)*ve+(ve=ti*wt-Gr*Pe)*ve+(ve=Gr*Qt-wr*wt)*ve),Gr*wt+wr*Qt+ti*Pe);Te+=ve,sr+=ve*(Gr+(Gr=wt)),Dr+=ve*(wr+(wr=Qt)),En+=ve*(ti+(ti=Pe)),Se(Gr,wr,ti)}function He(){ge.point=Le}function rr(){ge.point=Mr}function Lr(){rn(Wn,$n),ge.point=Le}function Mr(st,Et){Wn=st,$n=Et,st*=p,Et*=p,ge.point=rn;var _t=x(Et);Gr=_t*x(st),wr=_t*E(st),ti=E(Et),Se(Gr,wr,ti)}function rn(st,Et){st*=p,Et*=p;var _t=x(Et),wt=_t*x(st),Qt=_t*E(st),Pe=E(Et),ve=wr*Pe-ti*Qt,we=ti*wt-Gr*Pe,Re=Gr*Qt-wr*wt,Qe=T(ve*ve+we*we+Re*Re),Ye=R(Qe),Cr=Qe&&-Ye/Qe;Yn+=Cr*ve,ln+=Cr*we,Jr+=Cr*Re,Te+=Ye,sr+=Ye*(Gr+(Gr=wt)),Dr+=Ye*(wr+(wr=Qt)),En+=Ye*(ti+(ti=Pe)),Se(Gr,wr,ti)}function pn(st){zi=Te=Be=lr=Or=sr=Dr=En=Yn=ln=Jr=0,Q(st,ge);var Et=Yn,_t=ln,wt=Jr,Qt=Et*Et+_t*_t+wt*wt;return Qt<e&&(Et=sr,_t=Dr,wt=En,Te<r&&(Et=Be,_t=lr,wt=Or),Qt=Et*Et+_t*_t+wt*wt,Qt<e)?[NaN,NaN]:[y(_t,Et)*h,R(wt/T(Qt))*h]}function qr(st){return function(){return st}}function Dn(st,Et){function _t(wt,Qt){return wt=st(wt,Qt),Et(wt[0],wt[1])}return st.invert&&Et.invert&&(_t.invert=function(wt,Qt){return wt=Et.invert(wt,Qt),wt&&st.invert(wt[0],wt[1])}),_t}function ae(st,Et){return[d(st)>n?st+Math.round(-st/l)*l:st,Et]}ae.invert=ae;function er(st,Et,_t){return(st%=l)?Et||_t?Dn(kr(st),Rn(Et,_t)):kr(st):Et||_t?Rn(Et,_t):ae}function ar(st){return function(Et,_t){return Et+=st,[Et>n?Et-l:Et<-n?Et+l:Et,_t]}}function kr(st){var Et=ar(st);return Et.invert=ar(-st),Et}function Rn(st,Et){var _t=x(st),wt=E(st),Qt=x(Et),Pe=E(Et);function ve(we,Re){var Qe=x(Re),Ye=x(we)*Qe,Cr=E(we)*Qe,gr=E(Re),Ur=gr*_t+Ye*wt;return[y(Cr*Qt-Ur*Pe,Ye*_t-gr*wt),R(Ur*Qt+Cr*Pe)]}return ve.invert=function(we,Re){var Qe=x(Re),Ye=x(we)*Qe,Cr=E(we)*Qe,gr=E(Re),Ur=gr*Qt-Cr*Pe;return[y(Cr*Qt+gr*Pe,Ye*_t+Ur*wt),R(Ur*_t-Ye*wt)]},ve}function di(st){st=er(st[0]*p,st[1]*p,st.length>2?st[2]*p:0);function Et(_t){return _t=st(_t[0]*p,_t[1]*p),_t[0]*=h,_t[1]*=h,_t}return Et.invert=function(_t){return _t=st.invert(_t[0]*p,_t[1]*p),_t[0]*=h,_t[1]*=h,_t},Et}function Yi(st,Et,_t,wt,Qt,Pe){if(!!_t){var ve=x(Et),we=E(Et),Re=wt*_t;Qt==null?(Qt=Et+wt*l,Pe=Et-Re/2):(Qt=da(ve,Qt),Pe=da(ve,Pe),(wt>0?Qt<Pe:Qt>Pe)&&(Qt+=wt*l));for(var Qe,Ye=Qt;wt>0?Ye>Pe:Ye<Pe;Ye-=Re)Qe=et([ve,-we*x(Ye),-we*E(Ye)]),st.point(Qe[0],Qe[1])}}function da(st,Et){Et=j(Et),Et[0]-=st,lt(Et);var _t=L(-Et[1]);return((-Et[2]<0?-_t:_t)+l-r)%l}function _a(){var st=qr([0,0]),Et=qr(90),_t=qr(6),wt,Qt,Pe={point:ve};function ve(Re,Qe){wt.push(Re=Qt(Re,Qe)),Re[0]*=h,Re[1]*=h}function we(){var Re=st.apply(this,arguments),Qe=Et.apply(this,arguments)*p,Ye=_t.apply(this,arguments)*p;return wt=[],Qt=er(-Re[0]*p,-Re[1]*p,0).invert,Yi(Pe,Qe,Ye,1),Re={type:"Polygon",coordinates:[wt]},wt=Qt=null,Re}return we.center=function(Re){return arguments.length?(st=typeof Re=="function"?Re:qr([+Re[0],+Re[1]]),we):st},we.radius=function(Re){return arguments.length?(Et=typeof Re=="function"?Re:qr(+Re),we):Et},we.precision=function(Re){return arguments.length?(_t=typeof Re=="function"?Re:qr(+Re),we):_t},we}function fa(){var st=[],Et;return{point:function(_t,wt,Qt){Et.push([_t,wt,Qt])},lineStart:function(){st.push(Et=[])},lineEnd:U,rejoin:function(){st.length>1&&st.push(st.pop().concat(st.shift()))},result:function(){var _t=st;return st=[],Et=null,_t}}}function wo(st,Et){return d(st[0]-Et[0])<r&&d(st[1]-Et[1])<r}function ho(st,Et,_t,wt){this.x=st,this.z=Et,this.o=_t,this.e=wt,this.v=!1,this.n=this.p=null}function mo(st,Et,_t,wt,Qt){var Pe=[],ve=[],we,Re;if(st.forEach(function(pr){if(!((Fr=pr.length-1)<=0)){var Fr,Hr=pr[0],Sn=pr[Fr],Nn;if(wo(Hr,Sn)){if(!Hr[2]&&!Sn[2]){for(Qt.lineStart(),we=0;we<Fr;++we)Qt.point((Hr=pr[we])[0],Hr[1]);Qt.lineEnd();return}Sn[0]+=2*r}Pe.push(Nn=new ho(Hr,pr,null,!0)),ve.push(Nn.o=new ho(Hr,null,Nn,!1)),Pe.push(Nn=new ho(Sn,pr,null,!1)),ve.push(Nn.o=new ho(Sn,null,Nn,!0))}}),!!Pe.length){for(ve.sort(Et),yo(Pe),yo(ve),we=0,Re=ve.length;we<Re;++we)ve[we].e=_t=!_t;for(var Qe=Pe[0],Ye,Cr;;){for(var gr=Qe,Ur=!0;gr.v;)if((gr=gr.n)===Qe)return;Ye=gr.z,Qt.lineStart();do{if(gr.v=gr.o.v=!0,gr.e){if(Ur)for(we=0,Re=Ye.length;we<Re;++we)Qt.point((Cr=Ye[we])[0],Cr[1]);else wt(gr.x,gr.n.x,1,Qt);gr=gr.n}else{if(Ur)for(Ye=gr.p.z,we=Ye.length-1;we>=0;--we)Qt.point((Cr=Ye[we])[0],Cr[1]);else wt(gr.x,gr.p.x,-1,Qt);gr=gr.p}gr=gr.o,Ye=gr.z,Ur=!Ur}while(!gr.v);Qt.lineEnd()}}}function yo(st){if(!!(Et=st.length)){for(var Et,_t=0,wt=st[0],Qt;++_t<Et;)wt.n=Qt=st[_t],Qt.p=wt,wt=Qt;wt.n=Qt=st[0],Qt.p=wt}}var zo=s();function io(st){return d(st[0])<=n?st[0]:C(st[0])*((d(st[0])+n)%l-n)}function Za(st,Et){var _t=io(Et),wt=Et[1],Qt=E(wt),Pe=[E(_t),-x(_t),0],ve=0,we=0;zo.reset(),Qt===1?wt=a+r:Qt===-1&&(wt=-a-r);for(var Re=0,Qe=st.length;Re<Qe;++Re)if(!!(Cr=(Ye=st[Re]).length))for(var Ye,Cr,gr=Ye[Cr-1],Ur=io(gr),pr=gr[1]/2+u,Fr=E(pr),Hr=x(pr),Sn=0;Sn<Cr;++Sn,Ur=cn,Fr=qn,Hr=Ci,gr=Nn){var Nn=Ye[Sn],cn=io(Nn),Fn=Nn[1]/2+u,qn=E(Fn),Ci=x(Fn),Ti=cn-Ur,Oa=Ti>=0?1:-1,va=Oa*Ti,ma=va>n,Bn=Fr*qn;if(zo.add(y(Bn*Oa*E(va),Hr*Ci+Bn*x(va))),ve+=ma?Ti+Oa*l:Ti,ma^Ur>=_t^cn>=_t){var ci=D(j(gr),j(Nn));lt(ci);var Ha=D(Pe,ci);lt(Ha);var Wa=(ma^Ti>=0?-1:1)*R(Ha[2]);(wt>Wa||wt===Wa&&(ci[0]||ci[1]))&&(we+=ma^Ti>=0?1:-1)}}return(ve<-r||ve<r&&zo<-r)^we&1}function qa(st,Et,_t,wt){return function(Qt){var Pe=Et(Qt),ve=fa(),we=Et(ve),Re=!1,Qe,Ye,Cr,gr={point:Ur,lineStart:Fr,lineEnd:Hr,polygonStart:function(){gr.point=Sn,gr.lineStart=Nn,gr.lineEnd=cn,Ye=[],Qe=[]},polygonEnd:function(){gr.point=Ur,gr.lineStart=Fr,gr.lineEnd=Hr,Ye=c.merge(Ye);var Fn=Za(Qe,wt);Ye.length?(Re||(Qt.polygonStart(),Re=!0),mo(Ye,je,Fn,_t,Qt)):Fn&&(Re||(Qt.polygonStart(),Re=!0),Qt.lineStart(),_t(null,null,1,Qt),Qt.lineEnd()),Re&&(Qt.polygonEnd(),Re=!1),Ye=Qe=null},sphere:function(){Qt.polygonStart(),Qt.lineStart(),_t(null,null,1,Qt),Qt.lineEnd(),Qt.polygonEnd()}};function Ur(Fn,qn){st(Fn,qn)&&Qt.point(Fn,qn)}function pr(Fn,qn){Pe.point(Fn,qn)}function Fr(){gr.point=pr,Pe.lineStart()}function Hr(){gr.point=Ur,Pe.lineEnd()}function Sn(Fn,qn){Cr.push([Fn,qn]),we.point(Fn,qn)}function Nn(){we.lineStart(),Cr=[]}function cn(){Sn(Cr[0][0],Cr[0][1]),we.lineEnd();var Fn=we.clean(),qn=ve.result(),Ci,Ti=qn.length,Oa,va,ma;if(Cr.pop(),Qe.push(Cr),Cr=null,!!Ti){if(Fn&1){if(va=qn[0],(Oa=va.length-1)>0){for(Re||(Qt.polygonStart(),Re=!0),Qt.lineStart(),Ci=0;Ci<Oa;++Ci)Qt.point((ma=va[Ci])[0],ma[1]);Qt.lineEnd()}return}Ti>1&&Fn&2&&qn.push(qn.pop().concat(qn.shift())),Ye.push(qn.filter(Zt))}}return gr}}function Zt(st){return st.length>1}function je(st,Et){return((st=st.x)[0]<0?st[1]-a-r:a-st[1])-((Et=Et.x)[0]<0?Et[1]-a-r:a-Et[1])}var ur=qa(function(){return!0},Br,ee,[-n,-a]);function Br(st){var Et=NaN,_t=NaN,wt=NaN,Qt;return{lineStart:function(){st.lineStart(),Qt=1},point:function(Pe,ve){var we=Pe>0?n:-n,Re=d(Pe-Et);d(Re-n)<r?(st.point(Et,_t=(_t+ve)/2>0?a:-a),st.point(wt,_t),st.lineEnd(),st.lineStart(),st.point(we,_t),st.point(Pe,_t),Qt=0):wt!==we&&Re>=n&&(d(Et-wt)<r&&(Et-=wt*r),d(Pe-we)<r&&(Pe-=we*r),_t=Vt(Et,_t,Pe,ve),st.point(wt,_t),st.lineEnd(),st.lineStart(),st.point(we,_t),Qt=0),st.point(Et=Pe,_t=ve),wt=we},lineEnd:function(){st.lineEnd(),Et=_t=NaN},clean:function(){return 2-Qt}}}function Vt(st,Et,_t,wt){var Qt,Pe,ve=E(st-_t);return d(ve)>r?g((E(Et)*(Pe=x(wt))*E(_t)-E(wt)*(Qt=x(Et))*E(st))/(Qt*Pe*ve)):(Et+wt)/2}function ee(st,Et,_t,wt){var Qt;if(st==null)Qt=_t*a,wt.point(-n,Qt),wt.point(0,Qt),wt.point(n,Qt),wt.point(n,0),wt.point(n,-Qt),wt.point(0,-Qt),wt.point(-n,-Qt),wt.point(-n,0),wt.point(-n,Qt);else if(d(st[0]-Et[0])>r){var Pe=st[0]<Et[0]?n:-n;Qt=_t*Pe/2,wt.point(-Pe,Qt),wt.point(0,Qt),wt.point(Pe,Qt)}else wt.point(Et[0],Et[1])}function Ae(st){var Et=x(st),_t=6*p,wt=Et>0,Qt=d(Et)>r;function Pe(Ye,Cr,gr,Ur){Yi(Ur,st,_t,gr,Ye,Cr)}function ve(Ye,Cr){return x(Ye)*x(Cr)>Et}function we(Ye){var Cr,gr,Ur,pr,Fr;return{lineStart:function(){pr=Ur=!1,Fr=1},point:function(Hr,Sn){var Nn=[Hr,Sn],cn,Fn=ve(Hr,Sn),qn=wt?Fn?0:Qe(Hr,Sn):Fn?Qe(Hr+(Hr<0?n:-n),Sn):0;if(!Cr&&(pr=Ur=Fn)&&Ye.lineStart(),Fn!==Ur&&(cn=Re(Cr,Nn),(!cn||wo(Cr,cn)||wo(Nn,cn))&&(Nn[2]=1)),Fn!==Ur)Fr=0,Fn?(Ye.lineStart(),cn=Re(Nn,Cr),Ye.point(cn[0],cn[1])):(cn=Re(Cr,Nn),Ye.point(cn[0],cn[1],2),Ye.lineEnd()),Cr=cn;else if(Qt&&Cr&&wt^Fn){var Ci;!(qn&gr)&&(Ci=Re(Nn,Cr,!0))&&(Fr=0,wt?(Ye.lineStart(),Ye.point(Ci[0][0],Ci[0][1]),Ye.point(Ci[1][0],Ci[1][1]),Ye.lineEnd()):(Ye.point(Ci[1][0],Ci[1][1]),Ye.lineEnd(),Ye.lineStart(),Ye.point(Ci[0][0],Ci[0][1],3)))}Fn&&(!Cr||!wo(Cr,Nn))&&Ye.point(Nn[0],Nn[1]),Cr=Nn,Ur=Fn,gr=qn},lineEnd:function(){Ur&&Ye.lineEnd(),Cr=null},clean:function(){return Fr|(pr&&Ur)<<1}}}function Re(Ye,Cr,gr){var Ur=j(Ye),pr=j(Cr),Fr=[1,0,0],Hr=D(Ur,pr),Sn=w(Hr,Hr),Nn=Hr[0],cn=Sn-Nn*Nn;if(!cn)return!gr&&Ye;var Fn=Et*Sn/cn,qn=-Et*Nn/cn,Ci=D(Fr,Hr),Ti=tt(Fr,Fn),Oa=tt(Hr,qn);V(Ti,Oa);var va=Ci,ma=w(Ti,va),Bn=w(va,va),ci=ma*ma-Bn*(w(Ti,Ti)-1);if(!(ci<0)){var Ha=T(ci),Wa=tt(va,(-ma-Ha)/Bn);if(V(Wa,Ti),Wa=et(Wa),!gr)return Wa;var Xn=Ye[0],ja=Cr[0],fo=Ye[1],Do=Cr[1],Ro;ja<Xn&&(Ro=Xn,Xn=ja,ja=Ro);var Ys=ja-Xn,gs=d(Ys-n)<r,yu=gs||Ys<r;if(!gs&&Do<fo&&(Ro=fo,fo=Do,Do=Ro),yu?gs?fo+Do>0^Wa[1]<(d(Wa[0]-Xn)<r?fo:Do):fo<=Wa[1]&&Wa[1]<=Do:Ys>n^(Xn<=Wa[0]&&Wa[0]<=ja)){var Tu=tt(va,(-ma+Ha)/Bn);return V(Tu,Ti),[Wa,et(Tu)]}}}function Qe(Ye,Cr){var gr=wt?st:n-st,Ur=0;return Ye<-gr?Ur|=1:Ye>gr&&(Ur|=2),Cr<-gr?Ur|=4:Cr>gr&&(Ur|=8),Ur}return qa(ve,we,Pe,wt?[0,-st]:[-n,st-n])}function Me(st,Et,_t,wt,Qt,Pe){var ve=st[0],we=st[1],Re=Et[0],Qe=Et[1],Ye=0,Cr=1,gr=Re-ve,Ur=Qe-we,pr;if(pr=_t-ve,!(!gr&&pr>0)){if(pr/=gr,gr<0){if(pr<Ye)return;pr<Cr&&(Cr=pr)}else if(gr>0){if(pr>Cr)return;pr>Ye&&(Ye=pr)}if(pr=Qt-ve,!(!gr&&pr<0)){if(pr/=gr,gr<0){if(pr>Cr)return;pr>Ye&&(Ye=pr)}else if(gr>0){if(pr<Ye)return;pr<Cr&&(Cr=pr)}if(pr=wt-we,!(!Ur&&pr>0)){if(pr/=Ur,Ur<0){if(pr<Ye)return;pr<Cr&&(Cr=pr)}else if(Ur>0){if(pr>Cr)return;pr>Ye&&(Ye=pr)}if(pr=Pe-we,!(!Ur&&pr<0)){if(pr/=Ur,Ur<0){if(pr>Cr)return;pr>Ye&&(Ye=pr)}else if(Ur>0){if(pr<Ye)return;pr<Cr&&(Cr=pr)}return Ye>0&&(st[0]=ve+Ye*gr,st[1]=we+Ye*Ur),Cr<1&&(Et[0]=ve+Cr*gr,Et[1]=we+Cr*Ur),!0}}}}}var Er=1e9,dn=-Er;function xn(st,Et,_t,wt){function Qt(Qe,Ye){return st<=Qe&&Qe<=_t&&Et<=Ye&&Ye<=wt}function Pe(Qe,Ye,Cr,gr){var Ur=0,pr=0;if(Qe==null||(Ur=ve(Qe,Cr))!==(pr=ve(Ye,Cr))||Re(Qe,Ye)<0^Cr>0)do gr.point(Ur===0||Ur===3?st:_t,Ur>1?wt:Et);while((Ur=(Ur+Cr+4)%4)!==pr);else gr.point(Ye[0],Ye[1])}function ve(Qe,Ye){return d(Qe[0]-st)<r?Ye>0?0:3:d(Qe[0]-_t)<r?Ye>0?2:1:d(Qe[1]-Et)<r?Ye>0?1:0:Ye>0?3:2}function we(Qe,Ye){return Re(Qe.x,Ye.x)}function Re(Qe,Ye){var Cr=ve(Qe,1),gr=ve(Ye,1);return Cr!==gr?Cr-gr:Cr===0?Ye[1]-Qe[1]:Cr===1?Qe[0]-Ye[0]:Cr===2?Qe[1]-Ye[1]:Ye[0]-Qe[0]}return function(Qe){var Ye=Qe,Cr=fa(),gr,Ur,pr,Fr,Hr,Sn,Nn,cn,Fn,qn,Ci,Ti={point:Oa,lineStart:ci,lineEnd:Ha,polygonStart:ma,polygonEnd:Bn};function Oa(Xn,ja){Qt(Xn,ja)&&Ye.point(Xn,ja)}function va(){for(var Xn=0,ja=0,fo=Ur.length;ja<fo;++ja)for(var Do=Ur[ja],Ro=1,Ys=Do.length,gs=Do[0],yu,Tu,lu=gs[0],eo=gs[1];Ro<Ys;++Ro)yu=lu,Tu=eo,gs=Do[Ro],lu=gs[0],eo=gs[1],Tu<=wt?eo>wt&&(lu-yu)*(wt-Tu)>(eo-Tu)*(st-yu)&&++Xn:eo<=wt&&(lu-yu)*(wt-Tu)<(eo-Tu)*(st-yu)&&--Xn;return Xn}function ma(){Ye=Cr,gr=[],Ur=[],Ci=!0}function Bn(){var Xn=va(),ja=Ci&&Xn,fo=(gr=c.merge(gr)).length;(ja||fo)&&(Qe.polygonStart(),ja&&(Qe.lineStart(),Pe(null,null,1,Qe),Qe.lineEnd()),fo&&mo(gr,we,Xn,Pe,Qe),Qe.polygonEnd()),Ye=Qe,gr=Ur=pr=null}function ci(){Ti.point=Wa,Ur&&Ur.push(pr=[]),qn=!0,Fn=!1,Nn=cn=NaN}function Ha(){gr&&(Wa(Fr,Hr),Sn&&Fn&&Cr.rejoin(),gr.push(Cr.result())),Ti.point=Oa,Fn&&Ye.lineEnd()}function Wa(Xn,ja){var fo=Qt(Xn,ja);if(Ur&&pr.push([Xn,ja]),qn)Fr=Xn,Hr=ja,Sn=fo,qn=!1,fo&&(Ye.lineStart(),Ye.point(Xn,ja));else if(fo&&Fn)Ye.point(Xn,ja);else{var Do=[Nn=Math.max(dn,Math.min(Er,Nn)),cn=Math.max(dn,Math.min(Er,cn))],Ro=[Xn=Math.max(dn,Math.min(Er,Xn)),ja=Math.max(dn,Math.min(Er,ja))];Me(Do,Ro,st,Et,_t,wt)?(Fn||(Ye.lineStart(),Ye.point(Do[0],Do[1])),Ye.point(Ro[0],Ro[1]),fo||Ye.lineEnd(),Ci=!1):fo&&(Ye.lineStart(),Ye.point(Xn,ja),Ci=!1)}Nn=Xn,cn=ja,Fn=fo}return Ti}}function fi(){var st=0,Et=0,_t=960,wt=500,Qt,Pe,ve;return ve={stream:function(we){return Qt&&Pe===we?Qt:Qt=xn(st,Et,_t,wt)(Pe=we)},extent:function(we){return arguments.length?(st=+we[0][0],Et=+we[0][1],_t=+we[1][0],wt=+we[1][1],Qt=Pe=null,ve):[[st,Et],[_t,wt]]}}}var Ai=s(),aa,qi,Sa,ca={sphere:U,point:U,lineStart:to,lineEnd:U,polygonStart:U,polygonEnd:U};function to(){ca.point=Ia,ca.lineEnd=za}function za(){ca.point=ca.lineEnd=U}function Ia(st,Et){st*=p,Et*=p,aa=st,qi=E(Et),Sa=x(Et),ca.point=Va}function Va(st,Et){st*=p,Et*=p;var _t=E(Et),wt=x(Et),Qt=d(st-aa),Pe=x(Qt),ve=E(Qt),we=wt*ve,Re=Sa*_t-qi*wt*Pe,Qe=qi*_t+Sa*wt*Pe;Ai.add(y(T(we*we+Re*Re),Qe)),aa=st,qi=_t,Sa=wt}function ro(st){return Ai.reset(),Q(st,ca),+Ai}var xe=[null,null],be={type:"LineString",coordinates:xe};function pe(st,Et){return xe[0]=st,xe[1]=Et,ro(be)}var vt={Feature:function(st,Et){return dt(st.geometry,Et)},FeatureCollection:function(st,Et){for(var _t=st.features,wt=-1,Qt=_t.length;++wt<Qt;)if(dt(_t[wt].geometry,Et))return!0;return!1}},gt={Sphere:function(){return!0},Point:function(st,Et){return Dt(st.coordinates,Et)},MultiPoint:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)if(Dt(_t[wt],Et))return!0;return!1},LineString:function(st,Et){return te(st.coordinates,Et)},MultiLineString:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)if(te(_t[wt],Et))return!0;return!1},Polygon:function(st,Et){return We(st.coordinates,Et)},MultiPolygon:function(st,Et){for(var _t=st.coordinates,wt=-1,Qt=_t.length;++wt<Qt;)if(We(_t[wt],Et))return!0;return!1},GeometryCollection:function(st,Et){for(var _t=st.geometries,wt=-1,Qt=_t.length;++wt<Qt;)if(dt(_t[wt],Et))return!0;return!1}};function dt(st,Et){return st&&gt.hasOwnProperty(st.type)?gt[st.type](st,Et):!1}function Dt(st,Et){return pe(st,Et)===0}function te(st,Et){for(var _t,wt,Qt,Pe=0,ve=st.length;Pe<ve;Pe++){if(wt=pe(st[Pe],Et),wt===0||Pe>0&&(Qt=pe(st[Pe],st[Pe-1]),Qt>0&&_t<=Qt&&wt<=Qt&&(_t+wt-Qt)*(1-Math.pow((_t-wt)/Qt,2))<e*Qt))return!0;_t=wt}return!1}function We(st,Et){return!!Za(st.map(cr),zr(Et))}function cr(st){return st=st.map(zr),st.pop(),st}function zr(st){return[st[0]*p,st[1]*p]}function Rt(st,Et){return(st&&vt.hasOwnProperty(st.type)?vt[st.type]:dt)(st,Et)}function Si(st,Et,_t){var wt=c.range(st,Et-r,_t).concat(Et);return function(Qt){return wt.map(function(Pe){return[Qt,Pe]})}}function ri(st,Et,_t){var wt=c.range(st,Et-r,_t).concat(Et);return function(Qt){return wt.map(function(Pe){return[Pe,Qt]})}}function k(){var st,Et,_t,wt,Qt,Pe,ve,we,Re=10,Qe=Re,Ye=90,Cr=360,gr,Ur,pr,Fr,Hr=2.5;function Sn(){return{type:"MultiLineString",coordinates:Nn()}}function Nn(){return c.range(A(wt/Ye)*Ye,_t,Ye).map(pr).concat(c.range(A(we/Cr)*Cr,ve,Cr).map(Fr)).concat(c.range(A(Et/Re)*Re,st,Re).filter(function(cn){return d(cn%Ye)>r}).map(gr)).concat(c.range(A(Pe/Qe)*Qe,Qt,Qe).filter(function(cn){return d(cn%Cr)>r}).map(Ur))}return Sn.lines=function(){return Nn().map(function(cn){return{type:"LineString",coordinates:cn}})},Sn.outline=function(){return{type:"Polygon",coordinates:[pr(wt).concat(Fr(ve).slice(1),pr(_t).reverse().slice(1),Fr(we).reverse().slice(1))]}},Sn.extent=function(cn){return arguments.length?Sn.extentMajor(cn).extentMinor(cn):Sn.extentMinor()},Sn.extentMajor=function(cn){return arguments.length?(wt=+cn[0][0],_t=+cn[1][0],we=+cn[0][1],ve=+cn[1][1],wt>_t&&(cn=wt,wt=_t,_t=cn),we>ve&&(cn=we,we=ve,ve=cn),Sn.precision(Hr)):[[wt,we],[_t,ve]]},Sn.extentMinor=function(cn){return arguments.length?(Et=+cn[0][0],st=+cn[1][0],Pe=+cn[0][1],Qt=+cn[1][1],Et>st&&(cn=Et,Et=st,st=cn),Pe>Qt&&(cn=Pe,Pe=Qt,Qt=cn),Sn.precision(Hr)):[[Et,Pe],[st,Qt]]},Sn.step=function(cn){return arguments.length?Sn.stepMajor(cn).stepMinor(cn):Sn.stepMinor()},Sn.stepMajor=function(cn){return arguments.length?(Ye=+cn[0],Cr=+cn[1],Sn):[Ye,Cr]},Sn.stepMinor=function(cn){return arguments.length?(Re=+cn[0],Qe=+cn[1],Sn):[Re,Qe]},Sn.precision=function(cn){return arguments.length?(Hr=+cn,gr=Si(Pe,Qt,90),Ur=ri(Et,st,Hr),pr=Si(we,ve,90),Fr=ri(wt,_t,Hr),Sn):Hr},Sn.extentMajor([[-180,-90+r],[180,90-r]]).extentMinor([[-180,-80-r],[180,80+r]])}function rt(){return k()()}function Bt(st,Et){var _t=st[0]*p,wt=st[1]*p,Qt=Et[0]*p,Pe=Et[1]*p,ve=x(wt),we=E(wt),Re=x(Pe),Qe=E(Pe),Ye=ve*x(_t),Cr=ve*E(_t),gr=Re*x(Qt),Ur=Re*E(Qt),pr=2*R(T(W(Pe-wt)+ve*Re*W(Qt-_t))),Fr=E(pr),Hr=pr?function(Sn){var Nn=E(Sn*=pr)/Fr,cn=E(pr-Sn)/Fr,Fn=cn*Ye+Nn*gr,qn=cn*Cr+Nn*Ur,Ci=cn*we+Nn*Qe;return[y(qn,Fn)*h,y(Ci,T(Fn*Fn+qn*qn))*h]}:function(){return[_t*h,wt*h]};return Hr.distance=pr,Hr}function yt(st){return st}var ne=s(),_e=s(),or,jr,_r,Pn,Ln={point:U,lineStart:U,lineEnd:U,polygonStart:function(){Ln.lineStart=Li,Ln.lineEnd=Ea},polygonEnd:function(){Ln.lineStart=Ln.lineEnd=Ln.point=U,ne.add(d(_e)),_e.reset()},result:function(){var st=ne/2;return ne.reset(),st}};function Li(){Ln.point=sa}function sa(st,Et){Ln.point=Ki,or=_r=st,jr=Pn=Et}function Ki(st,Et){_e.add(Pn*st-_r*Et),_r=st,Pn=Et}function Ea(){Ki(or,jr)}var pa=Infinity,Fa=pa,Ua=-pa,vo=Ua,No={point:Yo,lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U,result:function(){var st=[[pa,Fa],[Ua,vo]];return Ua=vo=-(Fa=pa=Infinity),st}};function Yo(st,Et){st<pa&&(pa=st),st>Ua&&(Ua=st),Et<Fa&&(Fa=Et),Et>vo&&(vo=Et)}var Ds=0,Go=0,Io=0,xo=0,Lo=0,Fo=0,so=0,Qo=0,Jo=0,So,ds,ns,qo,is={point:Xo,lineStart:as,lineEnd:pu,polygonStart:function(){is.lineStart=Qs,is.lineEnd=au},polygonEnd:function(){is.point=Xo,is.lineStart=as,is.lineEnd=pu},result:function(){var st=Jo?[so/Jo,Qo/Jo]:Fo?[xo/Fo,Lo/Fo]:Io?[Ds/Io,Go/Io]:[NaN,NaN];return Ds=Go=Io=xo=Lo=Fo=so=Qo=Jo=0,st}};function Xo(st,Et){Ds+=st,Go+=Et,++Io}function as(){is.point=$a}function $a(st,Et){is.point=Eu,Xo(ns=st,qo=Et)}function Eu(st,Et){var _t=st-ns,wt=Et-qo,Qt=T(_t*_t+wt*wt);xo+=Qt*(ns+st)/2,Lo+=Qt*(qo+Et)/2,Fo+=Qt,Xo(ns=st,qo=Et)}function pu(){is.point=Xo}function Qs(){is.point=Ko}function au(){ie(So,ds)}function Ko(st,Et){is.point=ie,Xo(So=ns=st,ds=qo=Et)}function ie(st,Et){var _t=st-ns,wt=Et-qo,Qt=T(_t*_t+wt*wt);xo+=Qt*(ns+st)/2,Lo+=Qt*(qo+Et)/2,Fo+=Qt,Qt=qo*st-ns*Et,so+=Qt*(ns+st),Qo+=Qt*(qo+Et),Jo+=Qt*3,Xo(ns=st,qo=Et)}function ce(st){this._context=st}ce.prototype={_radius:4.5,pointRadius:function(st){return this._radius=st,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(st,Et){switch(this._point){case 0:{this._context.moveTo(st,Et),this._point=1;break}case 1:{this._context.lineTo(st,Et);break}default:{this._context.moveTo(st+this._radius,Et),this._context.arc(st,Et,this._radius,0,l);break}}},result:U};var Kt=s(),De,br,Tn,gi,Oi,Di={point:U,lineStart:function(){Di.point=ta},lineEnd:function(){De&&ha(br,Tn),Di.point=U},polygonStart:function(){De=!0},polygonEnd:function(){De=null},result:function(){var st=+Kt;return Kt.reset(),st}};function ta(st,Et){Di.point=ha,br=gi=st,Tn=Oi=Et}function ha(st,Et){gi-=st,Oi-=Et,Kt.add(T(gi*gi+Oi*Oi)),gi=st,Oi=Et}function Ba(){this._string=[]}Ba.prototype={_radius:4.5,_circle:na(4.5),pointRadius:function(st){return(st=+st)!==this._radius&&(this._radius=st,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(st,Et){switch(this._point){case 0:{this._string.push("M",st,",",Et),this._point=1;break}case 1:{this._string.push("L",st,",",Et);break}default:{this._circle==null&&(this._circle=na(this._radius)),this._string.push("M",st,",",Et,this._circle);break}}},result:function(){if(this._string.length){var st=this._string.join("");return this._string=[],st}else return null}};function na(st){return"m0,"+st+"a"+st+","+st+" 0 1,1 0,"+-2*st+"a"+st+","+st+" 0 1,1 0,"+2*st+"z"}function ts(st,Et){var _t=4.5,wt,Qt;function Pe(ve){return ve&&(typeof _t=="function"&&Qt.pointRadius(+_t.apply(this,arguments)),Q(ve,wt(Qt))),Qt.result()}return Pe.area=function(ve){return Q(ve,wt(Ln)),Ln.result()},Pe.measure=function(ve){return Q(ve,wt(Di)),Di.result()},Pe.bounds=function(ve){return Q(ve,wt(No)),No.result()},Pe.centroid=function(ve){return Q(ve,wt(is)),is.result()},Pe.projection=function(ve){return arguments.length?(wt=ve==null?(st=null,yt):(st=ve).stream,Pe):st},Pe.context=function(ve){return arguments.length?(Qt=ve==null?(Et=null,new Ba):new ce(Et=ve),typeof _t!="function"&&Qt.pointRadius(_t),Pe):Et},Pe.pointRadius=function(ve){return arguments.length?(_t=typeof ve=="function"?ve:(Qt.pointRadius(+ve),+ve),Pe):_t},Pe.projection(st).context(Et)}function po(st){return{stream:uo(st)}}function uo(st){return function(Et){var _t=new Zo;for(var wt in st)_t[wt]=st[wt];return _t.stream=Et,_t}}function Zo(){}Zo.prototype={constructor:Zo,point:function(st,Et){this.stream.point(st,Et)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qa(st,Et,_t){var wt=st.clipExtent&&st.clipExtent();return st.scale(150).translate([0,0]),wt!=null&&st.clipExtent(null),Q(_t,st.stream(No)),Et(No.result()),wt!=null&&st.clipExtent(wt),st}function go(st,Et,_t){return Qa(st,function(wt){var Qt=Et[1][0]-Et[0][0],Pe=Et[1][1]-Et[0][1],ve=Math.min(Qt/(wt[1][0]-wt[0][0]),Pe/(wt[1][1]-wt[0][1])),we=+Et[0][0]+(Qt-ve*(wt[1][0]+wt[0][0]))/2,Re=+Et[0][1]+(Pe-ve*(wt[1][1]+wt[0][1]))/2;st.scale(150*ve).translate([we,Re])},_t)}function fs(st,Et,_t){return go(st,[[0,0],Et],_t)}function es(st,Et,_t){return Qa(st,function(wt){var Qt=+Et,Pe=Qt/(wt[1][0]-wt[0][0]),ve=(Qt-Pe*(wt[1][0]+wt[0][0]))/2,we=-Pe*wt[0][1];st.scale(150*Pe).translate([ve,we])},_t)}function Rs(st,Et,_t){return Qa(st,function(wt){var Qt=+Et,Pe=Qt/(wt[1][1]-wt[0][1]),ve=-Pe*wt[0][0],we=(Qt-Pe*(wt[1][1]+wt[0][1]))/2;st.scale(150*Pe).translate([ve,we])},_t)}var os=16,ss=x(30*p);function Bo(st,Et){return+Et?Ss(st,Et):Zs(st)}function Zs(st){return uo({point:function(Et,_t){Et=st(Et,_t),this.stream.point(Et[0],Et[1])}})}function Ss(st,Et){function _t(wt,Qt,Pe,ve,we,Re,Qe,Ye,Cr,gr,Ur,pr,Fr,Hr){var Sn=Qe-wt,Nn=Ye-Qt,cn=Sn*Sn+Nn*Nn;if(cn>4*Et&&Fr--){var Fn=ve+gr,qn=we+Ur,Ci=Re+pr,Ti=T(Fn*Fn+qn*qn+Ci*Ci),Oa=R(Ci/=Ti),va=d(d(Ci)-1)<r||d(Pe-Cr)<r?(Pe+Cr)/2:y(qn,Fn),ma=st(va,Oa),Bn=ma[0],ci=ma[1],Ha=Bn-wt,Wa=ci-Qt,Xn=Nn*Ha-Sn*Wa;(Xn*Xn/cn>Et||d((Sn*Ha+Nn*Wa)/cn-.5)>.3||ve*gr+we*Ur+Re*pr<ss)&&(_t(wt,Qt,Pe,ve,we,Re,Bn,ci,va,Fn/=Ti,qn/=Ti,Ci,Fr,Hr),Hr.point(Bn,ci),_t(Bn,ci,va,Fn,qn,Ci,Qe,Ye,Cr,gr,Ur,pr,Fr,Hr))}}return function(wt){var Qt,Pe,ve,we,Re,Qe,Ye,Cr,gr,Ur,pr,Fr,Hr={point:Sn,lineStart:Nn,lineEnd:Fn,polygonStart:function(){wt.polygonStart(),Hr.lineStart=qn},polygonEnd:function(){wt.polygonEnd(),Hr.lineStart=Nn}};function Sn(Oa,va){Oa=st(Oa,va),wt.point(Oa[0],Oa[1])}function Nn(){Cr=NaN,Hr.point=cn,wt.lineStart()}function cn(Oa,va){var ma=j([Oa,va]),Bn=st(Oa,va);_t(Cr,gr,Ye,Ur,pr,Fr,Cr=Bn[0],gr=Bn[1],Ye=Oa,Ur=ma[0],pr=ma[1],Fr=ma[2],os,wt),wt.point(Cr,gr)}function Fn(){Hr.point=Sn,wt.lineEnd()}function qn(){Nn(),Hr.point=Ci,Hr.lineEnd=Ti}function Ci(Oa,va){cn(Qt=Oa,va),Pe=Cr,ve=gr,we=Ur,Re=pr,Qe=Fr,Hr.point=cn}function Ti(){_t(Cr,gr,Ye,Ur,pr,Fr,Pe,ve,Qt,we,Re,Qe,os,wt),Hr.lineEnd=Fn,Fn()}return Hr}}var Ns=uo({point:function(st,Et){this.stream.point(st*p,Et*p)}});function Fs(st){return uo({point:function(Et,_t){var wt=st(Et,_t);return this.stream.point(wt[0],wt[1])}})}function bu(st,Et,_t,wt,Qt){function Pe(ve,we){return ve*=wt,we*=Qt,[Et+st*ve,_t-st*we]}return Pe.invert=function(ve,we){return[(ve-Et)/st*wt,(_t-we)/st*Qt]},Pe}function Cu(st,Et,_t,wt,Qt,Pe){var ve=x(Pe),we=E(Pe),Re=ve*st,Qe=we*st,Ye=ve/st,Cr=we/st,gr=(we*_t-ve*Et)/st,Ur=(we*Et+ve*_t)/st;function pr(Fr,Hr){return Fr*=wt,Hr*=Qt,[Re*Fr-Qe*Hr+Et,_t-Qe*Fr-Re*Hr]}return pr.invert=function(Fr,Hr){return[wt*(Ye*Fr-Cr*Hr+gr),Qt*(Ur-Cr*Fr-Ye*Hr)]},pr}function Bs(st){return ou(function(){return st})()}function ou(st){var Et,_t=150,wt=480,Qt=250,Pe=0,ve=0,we=0,Re=0,Qe=0,Ye,Cr=0,gr=1,Ur=1,pr=null,Fr=ur,Hr=null,Sn,Nn,cn,Fn=yt,qn=.5,Ci,Ti,Oa,va,ma;function Bn(Xn){return Oa(Xn[0]*p,Xn[1]*p)}function ci(Xn){return Xn=Oa.invert(Xn[0],Xn[1]),Xn&&[Xn[0]*h,Xn[1]*h]}Bn.stream=function(Xn){return va&&ma===Xn?va:va=Ns(Fs(Ye)(Fr(Ci(Fn(ma=Xn)))))},Bn.preclip=function(Xn){return arguments.length?(Fr=Xn,pr=void 0,Wa()):Fr},Bn.postclip=function(Xn){return arguments.length?(Fn=Xn,Hr=Sn=Nn=cn=null,Wa()):Fn},Bn.clipAngle=function(Xn){return arguments.length?(Fr=+Xn?Ae(pr=Xn*p):(pr=null,ur),Wa()):pr*h},Bn.clipExtent=function(Xn){return arguments.length?(Fn=Xn==null?(Hr=Sn=Nn=cn=null,yt):xn(Hr=+Xn[0][0],Sn=+Xn[0][1],Nn=+Xn[1][0],cn=+Xn[1][1]),Wa()):Hr==null?null:[[Hr,Sn],[Nn,cn]]},Bn.scale=function(Xn){return arguments.length?(_t=+Xn,Ha()):_t},Bn.translate=function(Xn){return arguments.length?(wt=+Xn[0],Qt=+Xn[1],Ha()):[wt,Qt]},Bn.center=function(Xn){return arguments.length?(Pe=Xn[0]%360*p,ve=Xn[1]%360*p,Ha()):[Pe*h,ve*h]},Bn.rotate=function(Xn){return arguments.length?(we=Xn[0]%360*p,Re=Xn[1]%360*p,Qe=Xn.length>2?Xn[2]%360*p:0,Ha()):[we*h,Re*h,Qe*h]},Bn.angle=function(Xn){return arguments.length?(Cr=Xn%360*p,Ha()):Cr*h},Bn.reflectX=function(Xn){return arguments.length?(gr=Xn?-1:1,Ha()):gr<0},Bn.reflectY=function(Xn){return arguments.length?(Ur=Xn?-1:1,Ha()):Ur<0},Bn.precision=function(Xn){return arguments.length?(Ci=Bo(Ti,qn=Xn*Xn),Wa()):T(qn)},Bn.fitExtent=function(Xn,ja){return go(Bn,Xn,ja)},Bn.fitSize=function(Xn,ja){return fs(Bn,Xn,ja)},Bn.fitWidth=function(Xn,ja){return es(Bn,Xn,ja)},Bn.fitHeight=function(Xn,ja){return Rs(Bn,Xn,ja)};function Ha(){var Xn=Cu(_t,0,0,gr,Ur,Cr).apply(null,Et(Pe,ve)),ja=(Cr?Cu:bu)(_t,wt-Xn[0],Qt-Xn[1],gr,Ur,Cr);return Ye=er(we,Re,Qe),Ti=Dn(Et,ja),Oa=Dn(Ye,Ti),Ci=Bo(Ti,qn),Wa()}function Wa(){return va=ma=null,Bn}return function(){return Et=st.apply(this,arguments),Bn.invert=Et.invert&&ci,Ha()}}function Js(st){var Et=0,_t=n/3,wt=ou(st),Qt=wt(Et,_t);return Qt.parallels=function(Pe){return arguments.length?wt(Et=Pe[0]*p,_t=Pe[1]*p):[Et*h,_t*h]},Qt}function gu(st){var Et=x(st);function _t(wt,Qt){return[wt*Et,E(Qt)/Et]}return _t.invert=function(wt,Qt){return[wt/Et,R(Qt*Et)]},_t}function qs(st,Et){var _t=E(st),wt=(_t+E(Et))/2;if(d(wt)<r)return gu(st);var Qt=1+_t*(2*wt-_t),Pe=T(Qt)/wt;function ve(we,Re){var Qe=T(Qt-2*wt*E(Re))/wt;return[Qe*E(we*=wt),Pe-Qe*x(we)]}return ve.invert=function(we,Re){var Qe=Pe-Re,Ye=y(we,d(Qe))*C(Qe);return Qe*wt<0&&(Ye-=n*C(we)*C(Qe)),[Ye/wt,R((Qt-(we*we+Qe*Qe)*wt*wt)/(2*wt))]},ve}function js(){return Js(qs).scale(155.424).center([0,33.6442])}function Ws(){return js().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Nu(st){var Et=st.length;return{point:function(_t,wt){for(var Qt=-1;++Qt<Et;)st[Qt].point(_t,wt)},sphere:function(){for(var _t=-1;++_t<Et;)st[_t].sphere()},lineStart:function(){for(var _t=-1;++_t<Et;)st[_t].lineStart()},lineEnd:function(){for(var _t=-1;++_t<Et;)st[_t].lineEnd()},polygonStart:function(){for(var _t=-1;++_t<Et;)st[_t].polygonStart()},polygonEnd:function(){for(var _t=-1;++_t<Et;)st[_t].polygonEnd()}}}function su(){var st,Et,_t=Ws(),wt,Qt=js().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Pe,ve=js().rotate([157,0]).center([-3,19.9]).parallels([8,18]),we,Re,Qe={point:function(gr,Ur){Re=[gr,Ur]}};function Ye(gr){var Ur=gr[0],pr=gr[1];return Re=null,wt.point(Ur,pr),Re||(Pe.point(Ur,pr),Re)||(we.point(Ur,pr),Re)}Ye.invert=function(gr){var Ur=_t.scale(),pr=_t.translate(),Fr=(gr[0]-pr[0])/Ur,Hr=(gr[1]-pr[1])/Ur;return(Hr>=.12&&Hr<.234&&Fr>=-.425&&Fr<-.214?Qt:Hr>=.166&&Hr<.234&&Fr>=-.214&&Fr<-.115?ve:_t).invert(gr)},Ye.stream=function(gr){return st&&Et===gr?st:st=Nu([_t.stream(Et=gr),Qt.stream(gr),ve.stream(gr)])},Ye.precision=function(gr){return arguments.length?(_t.precision(gr),Qt.precision(gr),ve.precision(gr),Cr()):_t.precision()},Ye.scale=function(gr){return arguments.length?(_t.scale(gr),Qt.scale(gr*.35),ve.scale(gr),Ye.translate(_t.translate())):_t.scale()},Ye.translate=function(gr){if(!arguments.length)return _t.translate();var Ur=_t.scale(),pr=+gr[0],Fr=+gr[1];return wt=_t.translate(gr).clipExtent([[pr-.455*Ur,Fr-.238*Ur],[pr+.455*Ur,Fr+.238*Ur]]).stream(Qe),Pe=Qt.translate([pr-.307*Ur,Fr+.201*Ur]).clipExtent([[pr-.425*Ur+r,Fr+.12*Ur+r],[pr-.214*Ur-r,Fr+.234*Ur-r]]).stream(Qe),we=ve.translate([pr-.205*Ur,Fr+.212*Ur]).clipExtent([[pr-.214*Ur+r,Fr+.166*Ur+r],[pr-.115*Ur-r,Fr+.234*Ur-r]]).stream(Qe),Cr()},Ye.fitExtent=function(gr,Ur){return go(Ye,gr,Ur)},Ye.fitSize=function(gr,Ur){return fs(Ye,gr,Ur)},Ye.fitWidth=function(gr,Ur){return es(Ye,gr,Ur)},Ye.fitHeight=function(gr,Ur){return Rs(Ye,gr,Ur)};function Cr(){return st=Et=null,Ye}return Ye.scale(1070)}function Pu(st){return function(Et,_t){var wt=x(Et),Qt=x(_t),Pe=st(wt*Qt);return[Pe*Qt*E(Et),Pe*E(_t)]}}function vu(st){return function(Et,_t){var wt=T(Et*Et+_t*_t),Qt=st(wt),Pe=E(Qt),ve=x(Qt);return[y(Et*Pe,wt*ve),R(wt&&_t*Pe/wt)]}}var Es=Pu(function(st){return T(2/(1+st))});Es.invert=vu(function(st){return 2*R(st/2)});function mu(){return Bs(Es).scale(124.75).clipAngle(180-.001)}var Ou=Pu(function(st){return(st=L(st))&&st/E(st)});Ou.invert=vu(function(st){return st});function Gs(){return Bs(Ou).scale(79.4188).clipAngle(180-.001)}function Co(st,Et){return[st,M(O((a+Et)/2))]}Co.invert=function(st,Et){return[st,2*g(m(Et))-a]};function cs(){return us(Co).scale(961/l)}function us(st){var Et=Bs(st),_t=Et.center,wt=Et.scale,Qt=Et.translate,Pe=Et.clipExtent,ve=null,we,Re,Qe;Et.scale=function(Cr){return arguments.length?(wt(Cr),Ye()):wt()},Et.translate=function(Cr){return arguments.length?(Qt(Cr),Ye()):Qt()},Et.center=function(Cr){return arguments.length?(_t(Cr),Ye()):_t()},Et.clipExtent=function(Cr){return arguments.length?(Cr==null?ve=we=Re=Qe=null:(ve=+Cr[0][0],we=+Cr[0][1],Re=+Cr[1][0],Qe=+Cr[1][1]),Ye()):ve==null?null:[[ve,we],[Re,Qe]]};function Ye(){var Cr=n*wt(),gr=Et(di(Et.rotate()).invert([0,0]));return Pe(ve==null?[[gr[0]-Cr,gr[1]-Cr],[gr[0]+Cr,gr[1]+Cr]]:st===Co?[[Math.max(gr[0]-Cr,ve),we],[Math.min(gr[0]+Cr,Re),Qe]]:[[ve,Math.max(gr[1]-Cr,we)],[Re,Math.min(gr[1]+Cr,Qe)]])}return Ye()}function lo(st){return O((a+st)/2)}function _s(st,Et){var _t=x(st),wt=st===Et?E(st):M(_t/x(Et))/M(lo(Et)/lo(st)),Qt=_t*b(lo(st),wt)/wt;if(!wt)return Co;function Pe(ve,we){Qt>0?we<-a+r&&(we=-a+r):we>a-r&&(we=a-r);var Re=Qt/b(lo(we),wt);return[Re*E(wt*ve),Qt-Re*x(wt*ve)]}return Pe.invert=function(ve,we){var Re=Qt-we,Qe=C(wt)*T(ve*ve+Re*Re),Ye=y(ve,d(Re))*C(Re);return Re*wt<0&&(Ye-=n*C(ve)*C(Re)),[Ye/wt,2*g(b(Qt/Qe,1/wt))-a]},Pe}function jo(){return Js(_s).scale(109.5).parallels([30,30])}function Wo(st,Et){return[st,Et]}Wo.invert=Wo;function Vs(){return Bs(Wo).scale(152.63)}function uu(st,Et){var _t=x(st),wt=st===Et?E(st):(_t-x(Et))/(Et-st),Qt=_t/wt+st;if(d(wt)<r)return Wo;function Pe(ve,we){var Re=Qt-we,Qe=wt*ve;return[Re*E(Qe),Qt-Re*x(Qe)]}return Pe.invert=function(ve,we){var Re=Qt-we,Qe=y(ve,d(Re))*C(Re);return Re*wt<0&&(Qe-=n*C(ve)*C(Re)),[Qe/wt,Qt-C(wt)*T(ve*ve+Re*Re)]},Pe}function tu(){return Js(uu).scale(131.154).center([0,13.9389])}var Hs=1.340264,bs=-.081106,ps=893e-6,Ut=.003796,Xt=T(3)/2,Ze=12;function Ie(st,Et){var _t=R(Xt*E(Et)),wt=_t*_t,Qt=wt*wt*wt;return[st*x(_t)/(Xt*(Hs+3*bs*wt+Qt*(7*ps+9*Ut*wt))),_t*(Hs+bs*wt+Qt*(ps+Ut*wt))]}Ie.invert=function(st,Et){for(var _t=Et,wt=_t*_t,Qt=wt*wt*wt,Pe=0,ve,we,Re;Pe<Ze&&(we=_t*(Hs+bs*wt+Qt*(ps+Ut*wt))-Et,Re=Hs+3*bs*wt+Qt*(7*ps+9*Ut*wt),_t-=ve=we/Re,wt=_t*_t,Qt=wt*wt*wt,!(d(ve)<e));++Pe);return[Xt*st*(Hs+3*bs*wt+Qt*(7*ps+9*Ut*wt))/x(_t),R(E(_t)/Xt)]};function xr(){return Bs(Ie).scale(177.158)}function Zr(st,Et){var _t=x(Et),wt=x(st)*_t;return[_t*E(st)/wt,E(Et)/wt]}Zr.invert=vu(g);function sn(){return Bs(Zr).scale(144.049).clipAngle(60)}function Mn(){var st=1,Et=0,_t=0,wt=1,Qt=1,Pe=0,ve,we,Re=null,Qe,Ye,Cr,gr=1,Ur=1,pr=uo({point:function(Fn,qn){var Ci=cn([Fn,qn]);this.stream.point(Ci[0],Ci[1])}}),Fr=yt,Hr,Sn;function Nn(){return gr=st*wt,Ur=st*Qt,Hr=Sn=null,cn}function cn(Fn){var qn=Fn[0]*gr,Ci=Fn[1]*Ur;if(Pe){var Ti=Ci*ve-qn*we;qn=qn*ve+Ci*we,Ci=Ti}return[qn+Et,Ci+_t]}return cn.invert=function(Fn){var qn=Fn[0]-Et,Ci=Fn[1]-_t;if(Pe){var Ti=Ci*ve+qn*we;qn=qn*ve-Ci*we,Ci=Ti}return[qn/gr,Ci/Ur]},cn.stream=function(Fn){return Hr&&Sn===Fn?Hr:Hr=pr(Fr(Sn=Fn))},cn.postclip=function(Fn){return arguments.length?(Fr=Fn,Re=Qe=Ye=Cr=null,Nn()):Fr},cn.clipExtent=function(Fn){return arguments.length?(Fr=Fn==null?(Re=Qe=Ye=Cr=null,yt):xn(Re=+Fn[0][0],Qe=+Fn[0][1],Ye=+Fn[1][0],Cr=+Fn[1][1]),Nn()):Re==null?null:[[Re,Qe],[Ye,Cr]]},cn.scale=function(Fn){return arguments.length?(st=+Fn,Nn()):st},cn.translate=function(Fn){return arguments.length?(Et=+Fn[0],_t=+Fn[1],Nn()):[Et,_t]},cn.angle=function(Fn){return arguments.length?(Pe=Fn%360*p,we=E(Pe),ve=x(Pe),Nn()):Pe*h},cn.reflectX=function(Fn){return arguments.length?(wt=Fn?-1:1,Nn()):wt<0},cn.reflectY=function(Fn){return arguments.length?(Qt=Fn?-1:1,Nn()):Qt<0},cn.fitExtent=function(Fn,qn){return go(cn,Fn,qn)},cn.fitSize=function(Fn,qn){return fs(cn,Fn,qn)},cn.fitWidth=function(Fn,qn){return es(cn,Fn,qn)},cn.fitHeight=function(Fn,qn){return Rs(cn,Fn,qn)},cn}function In(st,Et){var _t=Et*Et,wt=_t*_t;return[st*(.8707-.131979*_t+wt*(-.013791+wt*(.003971*_t-.001529*wt))),Et*(1.007226+_t*(.015085+wt*(-.044475+.028874*_t-.005916*wt)))]}In.invert=function(st,Et){var _t=Et,wt=25,Qt;do{var Pe=_t*_t,ve=Pe*Pe;_t-=Qt=(_t*(1.007226+Pe*(.015085+ve*(-.044475+.028874*Pe-.005916*ve)))-Et)/(1.007226+Pe*(.015085*3+ve*(-.044475*7+.028874*9*Pe-.005916*11*ve)))}while(d(Qt)>r&&--wt>0);return[st/(.8707+(Pe=_t*_t)*(-.131979+Pe*(-.013791+Pe*Pe*Pe*(.003971-.001529*Pe)))),_t]};function kn(){return Bs(In).scale(175.295)}function nn(st,Et){return[x(Et)*E(st),E(Et)]}nn.invert=vu(R);function wn(){return Bs(nn).scale(249.5).clipAngle(90+r)}function bt(st,Et){var _t=x(Et),wt=1+x(st)*_t;return[_t*E(st)/wt,E(Et)/wt]}bt.invert=vu(function(st){return 2*g(st)});function jt(){return Bs(bt).scale(250).clipAngle(142)}function Jt(st,Et){return[M(O((a+Et)/2)),-st]}Jt.invert=function(st,Et){return[-Et,2*g(m(st))-a]};function re(){var st=us(Jt),Et=st.center,_t=st.rotate;return st.center=function(wt){return arguments.length?Et([-wt[1],wt[0]]):(wt=Et(),[wt[1],-wt[0]])},st.rotate=function(wt){return arguments.length?_t([wt[0],wt[1],wt.length>2?wt[2]+90:90]):(wt=_t(),[wt[0],wt[1],wt[2]-90])},_t([0,0,90]).scale(159.155)}t.geoAlbers=Ws,t.geoAlbersUsa=su,t.geoArea=$,t.geoAzimuthalEqualArea=mu,t.geoAzimuthalEqualAreaRaw=Es,t.geoAzimuthalEquidistant=Gs,t.geoAzimuthalEquidistantRaw=Ou,t.geoBounds=ea,t.geoCentroid=pn,t.geoCircle=_a,t.geoClipAntimeridian=ur,t.geoClipCircle=Ae,t.geoClipExtent=fi,t.geoClipRectangle=xn,t.geoConicConformal=jo,t.geoConicConformalRaw=_s,t.geoConicEqualArea=js,t.geoConicEqualAreaRaw=qs,t.geoConicEquidistant=tu,t.geoConicEquidistantRaw=uu,t.geoContains=Rt,t.geoDistance=pe,t.geoEqualEarth=xr,t.geoEqualEarthRaw=Ie,t.geoEquirectangular=Vs,t.geoEquirectangularRaw=Wo,t.geoGnomonic=sn,t.geoGnomonicRaw=Zr,t.geoGraticule=k,t.geoGraticule10=rt,t.geoIdentity=Mn,t.geoInterpolate=Bt,t.geoLength=ro,t.geoMercator=cs,t.geoMercatorRaw=Co,t.geoNaturalEarth1=kn,t.geoNaturalEarth1Raw=In,t.geoOrthographic=wn,t.geoOrthographicRaw=nn,t.geoPath=ts,t.geoProjection=Bs,t.geoProjectionMutator=ou,t.geoRotation=di,t.geoStereographic=jt,t.geoStereographicRaw=bt,t.geoStream=Q,t.geoTransform=po,t.geoTransverseMercator=re,t.geoTransverseMercatorRaw=Jt,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";var s=function(){return new v};function v(){this.reset()}v.prototype={constructor:v,reset:function(){this.s=this.t=0},add:function(Ut){f(o,Ut,this.t),f(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new v;function f(Ut,Xt,Ze){var Ie=Ut.s=Xt+Ze,xr=Ie-Xt,Zr=Ie-xr;Ut.t=Xt-Zr+(Ze-xr)}var r=1e-6,e=1e-12,n=Math.PI,a=n/2,u=n/4,l=n*2,h=180/n,p=n/180,d=Math.abs,g=Math.atan,y=Math.atan2,x=Math.cos,A=Math.ceil,m=Math.exp,M=Math.log,b=Math.pow,E=Math.sin,C=Math.sign||function(Ut){return Ut>0?1:Ut<0?-1:0},T=Math.sqrt,O=Math.tan;function L(Ut){return Ut>1?0:Ut<-1?n:Math.acos(Ut)}function R(Ut){return Ut>1?a:Ut<-1?-a:Math.asin(Ut)}function W(Ut){return(Ut=E(Ut/2))*Ut}function U(){}function X(Ut,Xt){Ut&&J.hasOwnProperty(Ut.type)&&J[Ut.type](Ut,Xt)}var Z={Feature:function(Ut,Xt){X(Ut.geometry,Xt)},FeatureCollection:function(Ut,Xt){for(var Ze=Ut.features,Ie=-1,xr=Ze.length;++Ie<xr;)X(Ze[Ie].geometry,Xt)}},J={Sphere:function(Ut,Xt){Xt.sphere()},Point:function(Ut,Xt){Ut=Ut.coordinates,Xt.point(Ut[0],Ut[1],Ut[2])},MultiPoint:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)Ut=Ze[Ie],Xt.point(Ut[0],Ut[1],Ut[2])},LineString:function(Ut,Xt){ht(Ut.coordinates,Xt,0)},MultiLineString:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)ht(Ze[Ie],Xt,0)},Polygon:function(Ut,Xt){at(Ut.coordinates,Xt)},MultiPolygon:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)at(Ze[Ie],Xt)},GeometryCollection:function(Ut,Xt){for(var Ze=Ut.geometries,Ie=-1,xr=Ze.length;++Ie<xr;)X(Ze[Ie],Xt)}};function ht(Ut,Xt,Ze){var Ie=-1,xr=Ut.length-Ze,Zr;for(Xt.lineStart();++Ie<xr;)Zr=Ut[Ie],Xt.point(Zr[0],Zr[1],Zr[2]);Xt.lineEnd()}function at(Ut,Xt){var Ze=-1,Ie=Ut.length;for(Xt.polygonStart();++Ze<Ie;)ht(Ut[Ze],Xt,1);Xt.polygonEnd()}var Q=function(Ut,Xt){Ut&&Z.hasOwnProperty(Ut.type)?Z[Ut.type](Ut,Xt):X(Ut,Xt)},xt=s(),kt=s(),Nt,nt,q,G,N,it={point:U,lineStart:U,lineEnd:U,polygonStart:function(){xt.reset(),it.lineStart=H,it.lineEnd=ct},polygonEnd:function(){var Ut=+xt;kt.add(Ut<0?l+Ut:Ut),this.lineStart=this.lineEnd=this.point=U},sphere:function(){kt.add(l)}};function H(){it.point=ft}function ct(){K(Nt,nt)}function ft(Ut,Xt){it.point=K,Nt=Ut,nt=Xt,Ut*=p,Xt*=p,q=Ut,G=x(Xt=Xt/2+u),N=E(Xt)}function K(Ut,Xt){Ut*=p,Xt*=p,Xt=Xt/2+u;var Ze=Ut-q,Ie=Ze>=0?1:-1,xr=Ie*Ze,Zr=x(Xt),sn=E(Xt),Mn=N*sn,In=G*Zr+Mn*x(xr),kn=Mn*Ie*E(xr);xt.add(y(kn,In)),q=Ut,G=Zr,N=sn}var $=function(Ut){return kt.reset(),Q(Ut,it),kt*2};function et(Ut){return[y(Ut[1],Ut[0]),R(Ut[2])]}function j(Ut){var Xt=Ut[0],Ze=Ut[1],Ie=x(Ze);return[Ie*x(Xt),Ie*E(Xt),E(Ze)]}function w(Ut,Xt){return Ut[0]*Xt[0]+Ut[1]*Xt[1]+Ut[2]*Xt[2]}function D(Ut,Xt){return[Ut[1]*Xt[2]-Ut[2]*Xt[1],Ut[2]*Xt[0]-Ut[0]*Xt[2],Ut[0]*Xt[1]-Ut[1]*Xt[0]]}function V(Ut,Xt){Ut[0]+=Xt[0],Ut[1]+=Xt[1],Ut[2]+=Xt[2]}function tt(Ut,Xt){return[Ut[0]*Xt,Ut[1]*Xt,Ut[2]*Xt]}function lt(Ut){var Xt=T(Ut[0]*Ut[0]+Ut[1]*Ut[1]+Ut[2]*Ut[2]);Ut[0]/=Xt,Ut[1]/=Xt,Ut[2]/=Xt}var St,ot,Mt,Ot,Ft,zt,$t,he,ye=s(),tr,nr,Xe={point:yr,lineStart:Ee,lineEnd:de,polygonStart:function(){Xe.point=Ge,Xe.lineStart=ke,Xe.lineEnd=Kr,ye.reset(),it.polygonStart()},polygonEnd:function(){it.polygonEnd(),Xe.point=yr,Xe.lineStart=Ee,Xe.lineEnd=de,xt<0?(St=-(Mt=180),ot=-(Ot=90)):ye>r?Ot=90:ye<-r&&(ot=-90),nr[0]=St,nr[1]=Mt}};function yr(Ut,Xt){tr.push(nr=[St=Ut,Mt=Ut]),Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt)}function Vr(Ut,Xt){var Ze=j([Ut*p,Xt*p]);if(he){var Ie=D(he,Ze),xr=[Ie[1],-Ie[0],0],Zr=D(xr,Ie);lt(Zr),Zr=et(Zr);var sn=Ut-Ft,Mn=sn>0?1:-1,In=Zr[0]*h*Mn,kn,nn=d(sn)>180;nn^(Mn*Ft<In&&In<Mn*Ut)?(kn=Zr[1]*h,kn>Ot&&(Ot=kn)):(In=(In+360)%360-180,nn^(Mn*Ft<In&&In<Mn*Ut)?(kn=-Zr[1]*h,kn<ot&&(ot=kn)):(Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt))),nn?Ut<Ft?fn(St,Ut)>fn(St,Mt)&&(Mt=Ut):fn(Ut,Mt)>fn(St,Mt)&&(St=Ut):Mt>=St?(Ut<St&&(St=Ut),Ut>Mt&&(Mt=Ut)):Ut>Ft?fn(St,Ut)>fn(St,Mt)&&(Mt=Ut):fn(Ut,Mt)>fn(St,Mt)&&(St=Ut)}else tr.push(nr=[St=Ut,Mt=Ut]);Xt<ot&&(ot=Xt),Xt>Ot&&(Ot=Xt),he=Ze,Ft=Ut}function Ee(){Xe.point=Vr}function de(){nr[0]=St,nr[1]=Mt,Xe.point=yr,he=null}function Ge(Ut,Xt){if(he){var Ze=Ut-Ft;ye.add(d(Ze)>180?Ze+(Ze>0?360:-360):Ze)}else zt=Ut,$t=Xt;it.point(Ut,Xt),Vr(Ut,Xt)}function ke(){it.lineStart()}function Kr(){Ge(zt,$t),it.lineEnd(),d(ye)>r&&(St=-(Mt=180)),nr[0]=St,nr[1]=Mt,he=null}function fn(Ut,Xt){return(Xt-=Ut)<0?Xt+360:Xt}function pi(Ut,Xt){return Ut[0]-Xt[0]}function Vi(Ut,Xt){return Ut[0]<=Ut[1]?Ut[0]<=Xt&&Xt<=Ut[1]:Xt<Ut[0]||Ut[1]<Xt}var ea=function(Ut){var Xt,Ze,Ie,xr,Zr,sn,Mn;if(Ot=Mt=-(St=ot=Infinity),tr=[],Q(Ut,Xe),Ze=tr.length){for(tr.sort(pi),Xt=1,Ie=tr[0],Zr=[Ie];Xt<Ze;++Xt)xr=tr[Xt],Vi(Ie,xr[0])||Vi(Ie,xr[1])?(fn(Ie[0],xr[1])>fn(Ie[0],Ie[1])&&(Ie[1]=xr[1]),fn(xr[0],Ie[1])>fn(Ie[0],Ie[1])&&(Ie[0]=xr[0])):Zr.push(Ie=xr);for(sn=-Infinity,Ze=Zr.length-1,Xt=0,Ie=Zr[Ze];Xt<=Ze;Ie=xr,++Xt)xr=Zr[Xt],(Mn=fn(Ie[1],xr[0]))>sn&&(sn=Mn,St=xr[0],Mt=Ie[1])}return tr=nr=null,St===Infinity||ot===Infinity?[[NaN,NaN],[NaN,NaN]]:[[St,ot],[Mt,Ot]]},zi,Te,Be,lr,Or,sr,Dr,En,Yn,ln,Jr,Wn,$n,Gr,wr,ti,ge={sphere:U,point:Le,lineStart:Ve,lineEnd:He,polygonStart:function(){ge.lineStart=rr,ge.lineEnd=Lr},polygonEnd:function(){ge.lineStart=Ve,ge.lineEnd=He}};function Le(Ut,Xt){Ut*=p,Xt*=p;var Ze=x(Xt);Se(Ze*x(Ut),Ze*E(Ut),E(Xt))}function Se(Ut,Xt,Ze){++zi,Be+=(Ut-Be)/zi,lr+=(Xt-lr)/zi,Or+=(Ze-Or)/zi}function Ve(){ge.point=le}function le(Ut,Xt){Ut*=p,Xt*=p;var Ze=x(Xt);Gr=Ze*x(Ut),wr=Ze*E(Ut),ti=E(Xt),ge.point=vr,Se(Gr,wr,ti)}function vr(Ut,Xt){Ut*=p,Xt*=p;var Ze=x(Xt),Ie=Ze*x(Ut),xr=Ze*E(Ut),Zr=E(Xt),sn=y(T((sn=wr*Zr-ti*xr)*sn+(sn=ti*Ie-Gr*Zr)*sn+(sn=Gr*xr-wr*Ie)*sn),Gr*Ie+wr*xr+ti*Zr);Te+=sn,sr+=sn*(Gr+(Gr=Ie)),Dr+=sn*(wr+(wr=xr)),En+=sn*(ti+(ti=Zr)),Se(Gr,wr,ti)}function He(){ge.point=Le}function rr(){ge.point=Mr}function Lr(){rn(Wn,$n),ge.point=Le}function Mr(Ut,Xt){Wn=Ut,$n=Xt,Ut*=p,Xt*=p,ge.point=rn;var Ze=x(Xt);Gr=Ze*x(Ut),wr=Ze*E(Ut),ti=E(Xt),Se(Gr,wr,ti)}function rn(Ut,Xt){Ut*=p,Xt*=p;var Ze=x(Xt),Ie=Ze*x(Ut),xr=Ze*E(Ut),Zr=E(Xt),sn=wr*Zr-ti*xr,Mn=ti*Ie-Gr*Zr,In=Gr*xr-wr*Ie,kn=T(sn*sn+Mn*Mn+In*In),nn=R(kn),wn=kn&&-nn/kn;Yn+=wn*sn,ln+=wn*Mn,Jr+=wn*In,Te+=nn,sr+=nn*(Gr+(Gr=Ie)),Dr+=nn*(wr+(wr=xr)),En+=nn*(ti+(ti=Zr)),Se(Gr,wr,ti)}var pn=function(Ut){zi=Te=Be=lr=Or=sr=Dr=En=Yn=ln=Jr=0,Q(Ut,ge);var Xt=Yn,Ze=ln,Ie=Jr,xr=Xt*Xt+Ze*Ze+Ie*Ie;return xr<e&&(Xt=sr,Ze=Dr,Ie=En,Te<r&&(Xt=Be,Ze=lr,Ie=Or),xr=Xt*Xt+Ze*Ze+Ie*Ie,xr<e)?[NaN,NaN]:[y(Ze,Xt)*h,R(Ie/T(xr))*h]},qr=function(Ut){return function(){return Ut}},Dn=function(Ut,Xt){function Ze(Ie,xr){return Ie=Ut(Ie,xr),Xt(Ie[0],Ie[1])}return Ut.invert&&Xt.invert&&(Ze.invert=function(Ie,xr){return Ie=Xt.invert(Ie,xr),Ie&&Ut.invert(Ie[0],Ie[1])}),Ze};function ae(Ut,Xt){return[Ut>n?Ut-l:Ut<-n?Ut+l:Ut,Xt]}ae.invert=ae;function er(Ut,Xt,Ze){return(Ut%=l)?Xt||Ze?Dn(kr(Ut),Rn(Xt,Ze)):kr(Ut):Xt||Ze?Rn(Xt,Ze):ae}function ar(Ut){return function(Xt,Ze){return Xt+=Ut,[Xt>n?Xt-l:Xt<-n?Xt+l:Xt,Ze]}}function kr(Ut){var Xt=ar(Ut);return Xt.invert=ar(-Ut),Xt}function Rn(Ut,Xt){var Ze=x(Ut),Ie=E(Ut),xr=x(Xt),Zr=E(Xt);function sn(Mn,In){var kn=x(In),nn=x(Mn)*kn,wn=E(Mn)*kn,bt=E(In),jt=bt*Ze+nn*Ie;return[y(wn*xr-jt*Zr,nn*Ze-bt*Ie),R(jt*xr+wn*Zr)]}return sn.invert=function(Mn,In){var kn=x(In),nn=x(Mn)*kn,wn=E(Mn)*kn,bt=E(In),jt=bt*xr-wn*Zr;return[y(wn*xr+bt*Zr,nn*Ze+jt*Ie),R(jt*Ze-nn*Ie)]},sn}var di=function(Ut){Ut=er(Ut[0]*p,Ut[1]*p,Ut.length>2?Ut[2]*p:0);function Xt(Ze){return Ze=Ut(Ze[0]*p,Ze[1]*p),Ze[0]*=h,Ze[1]*=h,Ze}return Xt.invert=function(Ze){return Ze=Ut.invert(Ze[0]*p,Ze[1]*p),Ze[0]*=h,Ze[1]*=h,Ze},Xt};function Yi(Ut,Xt,Ze,Ie,xr,Zr){if(!!Ze){var sn=x(Xt),Mn=E(Xt),In=Ie*Ze;xr==null?(xr=Xt+Ie*l,Zr=Xt-In/2):(xr=da(sn,xr),Zr=da(sn,Zr),(Ie>0?xr<Zr:xr>Zr)&&(xr+=Ie*l));for(var kn,nn=xr;Ie>0?nn>Zr:nn<Zr;nn-=In)kn=et([sn,-Mn*x(nn),-Mn*E(nn)]),Ut.point(kn[0],kn[1])}}function da(Ut,Xt){Xt=j(Xt),Xt[0]-=Ut,lt(Xt);var Ze=L(-Xt[1]);return((-Xt[2]<0?-Ze:Ze)+l-r)%l}var _a=function(){var Ut=qr([0,0]),Xt=qr(90),Ze=qr(6),Ie,xr,Zr={point:sn};function sn(In,kn){Ie.push(In=xr(In,kn)),In[0]*=h,In[1]*=h}function Mn(){var In=Ut.apply(this,arguments),kn=Xt.apply(this,arguments)*p,nn=Ze.apply(this,arguments)*p;return Ie=[],xr=er(-In[0]*p,-In[1]*p,0).invert,Yi(Zr,kn,nn,1),In={type:"Polygon",coordinates:[Ie]},Ie=xr=null,In}return Mn.center=function(In){return arguments.length?(Ut=typeof In=="function"?In:qr([+In[0],+In[1]]),Mn):Ut},Mn.radius=function(In){return arguments.length?(Xt=typeof In=="function"?In:qr(+In),Mn):Xt},Mn.precision=function(In){return arguments.length?(Ze=typeof In=="function"?In:qr(+In),Mn):Ze},Mn},fa=function(){var Ut=[],Xt;return{point:function(Ze,Ie){Xt.push([Ze,Ie])},lineStart:function(){Ut.push(Xt=[])},lineEnd:U,rejoin:function(){Ut.length>1&&Ut.push(Ut.pop().concat(Ut.shift()))},result:function(){var Ze=Ut;return Ut=[],Xt=null,Ze}}},wo=function(Ut,Xt,Ze,Ie,xr,Zr){var sn=Ut[0],Mn=Ut[1],In=Xt[0],kn=Xt[1],nn=0,wn=1,bt=In-sn,jt=kn-Mn,Jt;if(Jt=Ze-sn,!(!bt&&Jt>0)){if(Jt/=bt,bt<0){if(Jt<nn)return;Jt<wn&&(wn=Jt)}else if(bt>0){if(Jt>wn)return;Jt>nn&&(nn=Jt)}if(Jt=xr-sn,!(!bt&&Jt<0)){if(Jt/=bt,bt<0){if(Jt>wn)return;Jt>nn&&(nn=Jt)}else if(bt>0){if(Jt<nn)return;Jt<wn&&(wn=Jt)}if(Jt=Ie-Mn,!(!jt&&Jt>0)){if(Jt/=jt,jt<0){if(Jt<nn)return;Jt<wn&&(wn=Jt)}else if(jt>0){if(Jt>wn)return;Jt>nn&&(nn=Jt)}if(Jt=Zr-Mn,!(!jt&&Jt<0)){if(Jt/=jt,jt<0){if(Jt>wn)return;Jt>nn&&(nn=Jt)}else if(jt>0){if(Jt<nn)return;Jt<wn&&(wn=Jt)}return nn>0&&(Ut[0]=sn+nn*bt,Ut[1]=Mn+nn*jt),wn<1&&(Xt[0]=sn+wn*bt,Xt[1]=Mn+wn*jt),!0}}}}},ho=function(Ut,Xt){return d(Ut[0]-Xt[0])<r&&d(Ut[1]-Xt[1])<r};function mo(Ut,Xt,Ze,Ie){this.x=Ut,this.z=Xt,this.o=Ze,this.e=Ie,this.v=!1,this.n=this.p=null}var yo=function(Ut,Xt,Ze,Ie,xr){var Zr=[],sn=[],Mn,In;if(Ut.forEach(function(Jt){if(!((re=Jt.length-1)<=0)){var re,st=Jt[0],Et=Jt[re],_t;if(ho(st,Et)){for(xr.lineStart(),Mn=0;Mn<re;++Mn)xr.point((st=Jt[Mn])[0],st[1]);xr.lineEnd();return}Zr.push(_t=new mo(st,Jt,null,!0)),sn.push(_t.o=new mo(st,null,_t,!1)),Zr.push(_t=new mo(Et,Jt,null,!1)),sn.push(_t.o=new mo(Et,null,_t,!0))}}),!!Zr.length){for(sn.sort(Xt),zo(Zr),zo(sn),Mn=0,In=sn.length;Mn<In;++Mn)sn[Mn].e=Ze=!Ze;for(var kn=Zr[0],nn,wn;;){for(var bt=kn,jt=!0;bt.v;)if((bt=bt.n)===kn)return;nn=bt.z,xr.lineStart();do{if(bt.v=bt.o.v=!0,bt.e){if(jt)for(Mn=0,In=nn.length;Mn<In;++Mn)xr.point((wn=nn[Mn])[0],wn[1]);else Ie(bt.x,bt.n.x,1,xr);bt=bt.n}else{if(jt)for(nn=bt.p.z,Mn=nn.length-1;Mn>=0;--Mn)xr.point((wn=nn[Mn])[0],wn[1]);else Ie(bt.x,bt.p.x,-1,xr);bt=bt.p}bt=bt.o,nn=bt.z,jt=!jt}while(!bt.v);xr.lineEnd()}}};function zo(Ut){if(!!(Xt=Ut.length)){for(var Xt,Ze=0,Ie=Ut[0],xr;++Ze<Xt;)Ie.n=xr=Ut[Ze],xr.p=Ie,Ie=xr;Ie.n=xr=Ut[0],xr.p=Ie}}var io=1e9,Za=-io;function qa(Ut,Xt,Ze,Ie){function xr(kn,nn){return Ut<=kn&&kn<=Ze&&Xt<=nn&&nn<=Ie}function Zr(kn,nn,wn,bt){var jt=0,Jt=0;if(kn==null||(jt=sn(kn,wn))!==(Jt=sn(nn,wn))||In(kn,nn)<0^wn>0)do bt.point(jt===0||jt===3?Ut:Ze,jt>1?Ie:Xt);while((jt=(jt+wn+4)%4)!==Jt);else bt.point(nn[0],nn[1])}function sn(kn,nn){return d(kn[0]-Ut)<r?nn>0?0:3:d(kn[0]-Ze)<r?nn>0?2:1:d(kn[1]-Xt)<r?nn>0?1:0:nn>0?3:2}function Mn(kn,nn){return In(kn.x,nn.x)}function In(kn,nn){var wn=sn(kn,1),bt=sn(nn,1);return wn!==bt?wn-bt:wn===0?nn[1]-kn[1]:wn===1?kn[0]-nn[0]:wn===2?kn[1]-nn[1]:nn[0]-kn[0]}return function(kn){var nn=kn,wn=fa(),bt,jt,Jt,re,st,Et,_t,wt,Qt,Pe,ve,we={point:Re,lineStart:gr,lineEnd:Ur,polygonStart:Ye,polygonEnd:Cr};function Re(Fr,Hr){xr(Fr,Hr)&&nn.point(Fr,Hr)}function Qe(){for(var Fr=0,Hr=0,Sn=jt.length;Hr<Sn;++Hr)for(var Nn=jt[Hr],cn=1,Fn=Nn.length,qn=Nn[0],Ci,Ti,Oa=qn[0],va=qn[1];cn<Fn;++cn)Ci=Oa,Ti=va,qn=Nn[cn],Oa=qn[0],va=qn[1],Ti<=Ie?va>Ie&&(Oa-Ci)*(Ie-Ti)>(va-Ti)*(Ut-Ci)&&++Fr:va<=Ie&&(Oa-Ci)*(Ie-Ti)<(va-Ti)*(Ut-Ci)&&--Fr;return Fr}function Ye(){nn=wn,bt=[],jt=[],ve=!0}function Cr(){var Fr=Qe(),Hr=ve&&Fr,Sn=(bt=c.merge(bt)).length;(Hr||Sn)&&(kn.polygonStart(),Hr&&(kn.lineStart(),Zr(null,null,1,kn),kn.lineEnd()),Sn&&yo(bt,Mn,Fr,Zr,kn),kn.polygonEnd()),nn=kn,bt=jt=Jt=null}function gr(){we.point=pr,jt&&jt.push(Jt=[]),Pe=!0,Qt=!1,_t=wt=NaN}function Ur(){bt&&(pr(re,st),Et&&Qt&&wn.rejoin(),bt.push(wn.result())),we.point=Re,Qt&&nn.lineEnd()}function pr(Fr,Hr){var Sn=xr(Fr,Hr);if(jt&&Jt.push([Fr,Hr]),Pe)re=Fr,st=Hr,Et=Sn,Pe=!1,Sn&&(nn.lineStart(),nn.point(Fr,Hr));else if(Sn&&Qt)nn.point(Fr,Hr);else{var Nn=[_t=Math.max(Za,Math.min(io,_t)),wt=Math.max(Za,Math.min(io,wt))],cn=[Fr=Math.max(Za,Math.min(io,Fr)),Hr=Math.max(Za,Math.min(io,Hr))];wo(Nn,cn,Ut,Xt,Ze,Ie)?(Qt||(nn.lineStart(),nn.point(Nn[0],Nn[1])),nn.point(cn[0],cn[1]),Sn||nn.lineEnd(),ve=!1):Sn&&(nn.lineStart(),nn.point(Fr,Hr),ve=!1)}_t=Fr,wt=Hr,Qt=Sn}return we}}var Zt=function(){var Ut=0,Xt=0,Ze=960,Ie=500,xr,Zr,sn;return sn={stream:function(Mn){return xr&&Zr===Mn?xr:xr=qa(Ut,Xt,Ze,Ie)(Zr=Mn)},extent:function(Mn){return arguments.length?(Ut=+Mn[0][0],Xt=+Mn[0][1],Ze=+Mn[1][0],Ie=+Mn[1][1],xr=Zr=null,sn):[[Ut,Xt],[Ze,Ie]]}}},je=s(),ur=function(Ut,Xt){var Ze=Xt[0],Ie=Xt[1],xr=[E(Ze),-x(Ze),0],Zr=0,sn=0;je.reset();for(var Mn=0,In=Ut.length;Mn<In;++Mn)if(!!(nn=(kn=Ut[Mn]).length))for(var kn,nn,wn=kn[nn-1],bt=wn[0],jt=wn[1]/2+u,Jt=E(jt),re=x(jt),st=0;st<nn;++st,bt=_t,Jt=Qt,re=Pe,wn=Et){var Et=kn[st],_t=Et[0],wt=Et[1]/2+u,Qt=E(wt),Pe=x(wt),ve=_t-bt,we=ve>=0?1:-1,Re=we*ve,Qe=Re>n,Ye=Jt*Qt;if(je.add(y(Ye*we*E(Re),re*Pe+Ye*x(Re))),Zr+=Qe?ve+we*l:ve,Qe^bt>=Ze^_t>=Ze){var Cr=D(j(wn),j(Et));lt(Cr);var gr=D(xr,Cr);lt(gr);var Ur=(Qe^ve>=0?-1:1)*R(gr[2]);(Ie>Ur||Ie===Ur&&(Cr[0]||Cr[1]))&&(sn+=Qe^ve>=0?1:-1)}}return(Zr<-r||Zr<r&&je<-r)^sn&1},Br=s(),Vt,ee,Ae,Me={sphere:U,point:U,lineStart:Er,lineEnd:U,polygonStart:U,polygonEnd:U};function Er(){Me.point=xn,Me.lineEnd=dn}function dn(){Me.point=Me.lineEnd=U}function xn(Ut,Xt){Ut*=p,Xt*=p,Vt=Ut,ee=E(Xt),Ae=x(Xt),Me.point=fi}function fi(Ut,Xt){Ut*=p,Xt*=p;var Ze=E(Xt),Ie=x(Xt),xr=d(Ut-Vt),Zr=x(xr),sn=E(xr),Mn=Ie*sn,In=Ae*Ze-ee*Ie*Zr,kn=ee*Ze+Ae*Ie*Zr;Br.add(y(T(Mn*Mn+In*In),kn)),Vt=Ut,ee=Ze,Ae=Ie}var Ai=function(Ut){return Br.reset(),Q(Ut,Me),+Br},aa=[null,null],qi={type:"LineString",coordinates:aa},Sa=function(Ut,Xt){return aa[0]=Ut,aa[1]=Xt,Ai(qi)},ca={Feature:function(Ut,Xt){return za(Ut.geometry,Xt)},FeatureCollection:function(Ut,Xt){for(var Ze=Ut.features,Ie=-1,xr=Ze.length;++Ie<xr;)if(za(Ze[Ie].geometry,Xt))return!0;return!1}},to={Sphere:function(){return!0},Point:function(Ut,Xt){return Ia(Ut.coordinates,Xt)},MultiPoint:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)if(Ia(Ze[Ie],Xt))return!0;return!1},LineString:function(Ut,Xt){return Va(Ut.coordinates,Xt)},MultiLineString:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)if(Va(Ze[Ie],Xt))return!0;return!1},Polygon:function(Ut,Xt){return ro(Ut.coordinates,Xt)},MultiPolygon:function(Ut,Xt){for(var Ze=Ut.coordinates,Ie=-1,xr=Ze.length;++Ie<xr;)if(ro(Ze[Ie],Xt))return!0;return!1},GeometryCollection:function(Ut,Xt){for(var Ze=Ut.geometries,Ie=-1,xr=Ze.length;++Ie<xr;)if(za(Ze[Ie],Xt))return!0;return!1}};function za(Ut,Xt){return Ut&&to.hasOwnProperty(Ut.type)?to[Ut.type](Ut,Xt):!1}function Ia(Ut,Xt){return Sa(Ut,Xt)===0}function Va(Ut,Xt){var Ze=Sa(Ut[0],Ut[1]),Ie=Sa(Ut[0],Xt),xr=Sa(Xt,Ut[1]);return Ie+xr<=Ze+r}function ro(Ut,Xt){return!!ur(Ut.map(xe),be(Xt))}function xe(Ut){return Ut=Ut.map(be),Ut.pop(),Ut}function be(Ut){return[Ut[0]*p,Ut[1]*p]}var pe=function(Ut,Xt){return(Ut&&ca.hasOwnProperty(Ut.type)?ca[Ut.type]:za)(Ut,Xt)};function vt(Ut,Xt,Ze){var Ie=c.range(Ut,Xt-r,Ze).concat(Xt);return function(xr){return Ie.map(function(Zr){return[xr,Zr]})}}function gt(Ut,Xt,Ze){var Ie=c.range(Ut,Xt-r,Ze).concat(Xt);return function(xr){return Ie.map(function(Zr){return[Zr,xr]})}}function dt(){var Ut,Xt,Ze,Ie,xr,Zr,sn,Mn,In=10,kn=In,nn=90,wn=360,bt,jt,Jt,re,st=2.5;function Et(){return{type:"MultiLineString",coordinates:_t()}}function _t(){return c.range(A(Ie/nn)*nn,Ze,nn).map(Jt).concat(c.range(A(Mn/wn)*wn,sn,wn).map(re)).concat(c.range(A(Xt/In)*In,Ut,In).filter(function(wt){return d(wt%nn)>r}).map(bt)).concat(c.range(A(Zr/kn)*kn,xr,kn).filter(function(wt){return d(wt%wn)>r}).map(jt))}return Et.lines=function(){return _t().map(function(wt){return{type:"LineString",coordinates:wt}})},Et.outline=function(){return{type:"Polygon",coordinates:[Jt(Ie).concat(re(sn).slice(1),Jt(Ze).reverse().slice(1),re(Mn).reverse().slice(1))]}},Et.extent=function(wt){return arguments.length?Et.extentMajor(wt).extentMinor(wt):Et.extentMinor()},Et.extentMajor=function(wt){return arguments.length?(Ie=+wt[0][0],Ze=+wt[1][0],Mn=+wt[0][1],sn=+wt[1][1],Ie>Ze&&(wt=Ie,Ie=Ze,Ze=wt),Mn>sn&&(wt=Mn,Mn=sn,sn=wt),Et.precision(st)):[[Ie,Mn],[Ze,sn]]},Et.extentMinor=function(wt){return arguments.length?(Xt=+wt[0][0],Ut=+wt[1][0],Zr=+wt[0][1],xr=+wt[1][1],Xt>Ut&&(wt=Xt,Xt=Ut,Ut=wt),Zr>xr&&(wt=Zr,Zr=xr,xr=wt),Et.precision(st)):[[Xt,Zr],[Ut,xr]]},Et.step=function(wt){return arguments.length?Et.stepMajor(wt).stepMinor(wt):Et.stepMinor()},Et.stepMajor=function(wt){return arguments.length?(nn=+wt[0],wn=+wt[1],Et):[nn,wn]},Et.stepMinor=function(wt){return arguments.length?(In=+wt[0],kn=+wt[1],Et):[In,kn]},Et.precision=function(wt){return arguments.length?(st=+wt,bt=vt(Zr,xr,90),jt=gt(Xt,Ut,st),Jt=vt(Mn,sn,90),re=gt(Ie,Ze,st),Et):st},Et.extentMajor([[-180,-90+r],[180,90-r]]).extentMinor([[-180,-80-r],[180,80+r]])}function Dt(){return dt()()}var te=function(Ut,Xt){var Ze=Ut[0]*p,Ie=Ut[1]*p,xr=Xt[0]*p,Zr=Xt[1]*p,sn=x(Ie),Mn=E(Ie),In=x(Zr),kn=E(Zr),nn=sn*x(Ze),wn=sn*E(Ze),bt=In*x(xr),jt=In*E(xr),Jt=2*R(T(W(Zr-Ie)+sn*In*W(xr-Ze))),re=E(Jt),st=Jt?function(Et){var _t=E(Et*=Jt)/re,wt=E(Jt-Et)/re,Qt=wt*nn+_t*bt,Pe=wt*wn+_t*jt,ve=wt*Mn+_t*kn;return[y(Pe,Qt)*h,y(ve,T(Qt*Qt+Pe*Pe))*h]}:function(){return[Ze*h,Ie*h]};return st.distance=Jt,st},We=function(Ut){return Ut},cr=s(),zr=s(),Rt,Si,ri,k,rt={point:U,lineStart:U,lineEnd:U,polygonStart:function(){rt.lineStart=Bt,rt.lineEnd=_e},polygonEnd:function(){rt.lineStart=rt.lineEnd=rt.point=U,cr.add(d(zr)),zr.reset()},result:function(){var Ut=cr/2;return cr.reset(),Ut}};function Bt(){rt.point=yt}function yt(Ut,Xt){rt.point=ne,Rt=ri=Ut,Si=k=Xt}function ne(Ut,Xt){zr.add(k*Ut-ri*Xt),ri=Ut,k=Xt}function _e(){ne(Rt,Si)}var or=Infinity,jr=or,_r=-or,Pn=_r,Ln={point:Li,lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U,result:function(){var Ut=[[or,jr],[_r,Pn]];return _r=Pn=-(jr=or=Infinity),Ut}};function Li(Ut,Xt){Ut<or&&(or=Ut),Ut>_r&&(_r=Ut),Xt<jr&&(jr=Xt),Xt>Pn&&(Pn=Xt)}var sa=0,Ki=0,Ea=0,pa=0,Fa=0,Ua=0,vo=0,No=0,Yo=0,Ds,Go,Io,xo,Lo={point:Fo,lineStart:so,lineEnd:So,polygonStart:function(){Lo.lineStart=ds,Lo.lineEnd=ns},polygonEnd:function(){Lo.point=Fo,Lo.lineStart=so,Lo.lineEnd=So},result:function(){var Ut=Yo?[vo/Yo,No/Yo]:Ua?[pa/Ua,Fa/Ua]:Ea?[sa/Ea,Ki/Ea]:[NaN,NaN];return sa=Ki=Ea=pa=Fa=Ua=vo=No=Yo=0,Ut}};function Fo(Ut,Xt){sa+=Ut,Ki+=Xt,++Ea}function so(){Lo.point=Qo}function Qo(Ut,Xt){Lo.point=Jo,Fo(Io=Ut,xo=Xt)}function Jo(Ut,Xt){var Ze=Ut-Io,Ie=Xt-xo,xr=T(Ze*Ze+Ie*Ie);pa+=xr*(Io+Ut)/2,Fa+=xr*(xo+Xt)/2,Ua+=xr,Fo(Io=Ut,xo=Xt)}function So(){Lo.point=Fo}function ds(){Lo.point=qo}function ns(){is(Ds,Go)}function qo(Ut,Xt){Lo.point=is,Fo(Ds=Io=Ut,Go=xo=Xt)}function is(Ut,Xt){var Ze=Ut-Io,Ie=Xt-xo,xr=T(Ze*Ze+Ie*Ie);pa+=xr*(Io+Ut)/2,Fa+=xr*(xo+Xt)/2,Ua+=xr,xr=xo*Ut-Io*Xt,vo+=xr*(Io+Ut),No+=xr*(xo+Xt),Yo+=xr*3,Fo(Io=Ut,xo=Xt)}function Xo(Ut){this._context=Ut}Xo.prototype={_radius:4.5,pointRadius:function(Ut){return this._radius=Ut,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ut,Xt){switch(this._point){case 0:{this._context.moveTo(Ut,Xt),this._point=1;break}case 1:{this._context.lineTo(Ut,Xt);break}default:{this._context.moveTo(Ut+this._radius,Xt),this._context.arc(Ut,Xt,this._radius,0,l);break}}},result:U};var as=s(),$a,Eu,pu,Qs,au,Ko={point:U,lineStart:function(){Ko.point=ie},lineEnd:function(){$a&&ce(Eu,pu),Ko.point=U},polygonStart:function(){$a=!0},polygonEnd:function(){$a=null},result:function(){var Ut=+as;return as.reset(),Ut}};function ie(Ut,Xt){Ko.point=ce,Eu=Qs=Ut,pu=au=Xt}function ce(Ut,Xt){Qs-=Ut,au-=Xt,as.add(T(Qs*Qs+au*au)),Qs=Ut,au=Xt}function Kt(){this._string=[]}Kt.prototype={_radius:4.5,_circle:De(4.5),pointRadius:function(Ut){return(Ut=+Ut)!==this._radius&&(this._radius=Ut,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ut,Xt){switch(this._point){case 0:{this._string.push("M",Ut,",",Xt),this._point=1;break}case 1:{this._string.push("L",Ut,",",Xt);break}default:{this._circle==null&&(this._circle=De(this._radius)),this._string.push("M",Ut,",",Xt,this._circle);break}}},result:function(){if(this._string.length){var Ut=this._string.join("");return this._string=[],Ut}else return null}};function De(Ut){return"m0,"+Ut+"a"+Ut+","+Ut+" 0 1,1 0,"+-2*Ut+"a"+Ut+","+Ut+" 0 1,1 0,"+2*Ut+"z"}var br=function(Ut,Xt){var Ze=4.5,Ie,xr;function Zr(sn){return sn&&(typeof Ze=="function"&&xr.pointRadius(+Ze.apply(this,arguments)),Q(sn,Ie(xr))),xr.result()}return Zr.area=function(sn){return Q(sn,Ie(rt)),rt.result()},Zr.measure=function(sn){return Q(sn,Ie(Ko)),Ko.result()},Zr.bounds=function(sn){return Q(sn,Ie(Ln)),Ln.result()},Zr.centroid=function(sn){return Q(sn,Ie(Lo)),Lo.result()},Zr.projection=function(sn){return arguments.length?(Ie=sn==null?(Ut=null,We):(Ut=sn).stream,Zr):Ut},Zr.context=function(sn){return arguments.length?(xr=sn==null?(Xt=null,new Kt):new Xo(Xt=sn),typeof Ze!="function"&&xr.pointRadius(Ze),Zr):Xt},Zr.pointRadius=function(sn){return arguments.length?(Ze=typeof sn=="function"?sn:(xr.pointRadius(+sn),+sn),Zr):Ze},Zr.projection(Ut).context(Xt)},Tn=function(Ut,Xt,Ze,Ie){return function(xr,Zr){var sn=Xt(Zr),Mn=xr.invert(Ie[0],Ie[1]),In=fa(),kn=Xt(In),nn=!1,wn,bt,jt,Jt={point:re,lineStart:Et,lineEnd:_t,polygonStart:function(){Jt.point=wt,Jt.lineStart=Qt,Jt.lineEnd=Pe,bt=[],wn=[]},polygonEnd:function(){Jt.point=re,Jt.lineStart=Et,Jt.lineEnd=_t,bt=c.merge(bt);var ve=ur(wn,Mn);bt.length?(nn||(Zr.polygonStart(),nn=!0),yo(bt,Oi,ve,Ze,Zr)):ve&&(nn||(Zr.polygonStart(),nn=!0),Zr.lineStart(),Ze(null,null,1,Zr),Zr.lineEnd()),nn&&(Zr.polygonEnd(),nn=!1),bt=wn=null},sphere:function(){Zr.polygonStart(),Zr.lineStart(),Ze(null,null,1,Zr),Zr.lineEnd(),Zr.polygonEnd()}};function re(ve,we){var Re=xr(ve,we);Ut(ve=Re[0],we=Re[1])&&Zr.point(ve,we)}function st(ve,we){var Re=xr(ve,we);sn.point(Re[0],Re[1])}function Et(){Jt.point=st,sn.lineStart()}function _t(){Jt.point=re,sn.lineEnd()}function wt(ve,we){jt.push([ve,we]);var Re=xr(ve,we);kn.point(Re[0],Re[1])}function Qt(){kn.lineStart(),jt=[]}function Pe(){wt(jt[0][0],jt[0][1]),kn.lineEnd();var ve=kn.clean(),we=In.result(),Re,Qe=we.length,Ye,Cr,gr;if(jt.pop(),wn.push(jt),jt=null,!!Qe){if(ve&1){if(Cr=we[0],(Ye=Cr.length-1)>0){for(nn||(Zr.polygonStart(),nn=!0),Zr.lineStart(),Re=0;Re<Ye;++Re)Zr.point((gr=Cr[Re])[0],gr[1]);Zr.lineEnd()}return}Qe>1&&ve&2&&we.push(we.pop().concat(we.shift())),bt.push(we.filter(gi))}}return Jt}};function gi(Ut){return Ut.length>1}function Oi(Ut,Xt){return((Ut=Ut.x)[0]<0?Ut[1]-a-r:a-Ut[1])-((Xt=Xt.x)[0]<0?Xt[1]-a-r:a-Xt[1])}var Di=Tn(function(){return!0},ta,Ba,[-n,-a]);function ta(Ut){var Xt=NaN,Ze=NaN,Ie=NaN,xr;return{lineStart:function(){Ut.lineStart(),xr=1},point:function(Zr,sn){var Mn=Zr>0?n:-n,In=d(Zr-Xt);d(In-n)<r?(Ut.point(Xt,Ze=(Ze+sn)/2>0?a:-a),Ut.point(Ie,Ze),Ut.lineEnd(),Ut.lineStart(),Ut.point(Mn,Ze),Ut.point(Zr,Ze),xr=0):Ie!==Mn&&In>=n&&(d(Xt-Ie)<r&&(Xt-=Ie*r),d(Zr-Mn)<r&&(Zr-=Mn*r),Ze=ha(Xt,Ze,Zr,sn),Ut.point(Ie,Ze),Ut.lineEnd(),Ut.lineStart(),Ut.point(Mn,Ze),xr=0),Ut.point(Xt=Zr,Ze=sn),Ie=Mn},lineEnd:function(){Ut.lineEnd(),Xt=Ze=NaN},clean:function(){return 2-xr}}}function ha(Ut,Xt,Ze,Ie){var xr,Zr,sn=E(Ut-Ze);return d(sn)>r?g((E(Xt)*(Zr=x(Ie))*E(Ze)-E(Ie)*(xr=x(Xt))*E(Ut))/(xr*Zr*sn)):(Xt+Ie)/2}function Ba(Ut,Xt,Ze,Ie){var xr;if(Ut==null)xr=Ze*a,Ie.point(-n,xr),Ie.point(0,xr),Ie.point(n,xr),Ie.point(n,0),Ie.point(n,-xr),Ie.point(0,-xr),Ie.point(-n,-xr),Ie.point(-n,0),Ie.point(-n,xr);else if(d(Ut[0]-Xt[0])>r){var Zr=Ut[0]<Xt[0]?n:-n;xr=Ze*Zr/2,Ie.point(-Zr,xr),Ie.point(0,xr),Ie.point(Zr,xr)}else Ie.point(Xt[0],Xt[1])}var na=function(Ut,Xt){var Ze=x(Ut),Ie=Ze>0,xr=d(Ze)>r;function Zr(nn,wn,bt,jt){Yi(jt,Ut,Xt,bt,nn,wn)}function sn(nn,wn){return x(nn)*x(wn)>Ze}function Mn(nn){var wn,bt,jt,Jt,re;return{lineStart:function(){Jt=jt=!1,re=1},point:function(st,Et){var _t=[st,Et],wt,Qt=sn(st,Et),Pe=Ie?Qt?0:kn(st,Et):Qt?kn(st+(st<0?n:-n),Et):0;if(!wn&&(Jt=jt=Qt)&&nn.lineStart(),Qt!==jt&&(wt=In(wn,_t),(!wt||ho(wn,wt)||ho(_t,wt))&&(_t[0]+=r,_t[1]+=r,Qt=sn(_t[0],_t[1]))),Qt!==jt)re=0,Qt?(nn.lineStart(),wt=In(_t,wn),nn.point(wt[0],wt[1])):(wt=In(wn,_t),nn.point(wt[0],wt[1]),nn.lineEnd()),wn=wt;else if(xr&&wn&&Ie^Qt){var ve;!(Pe&bt)&&(ve=In(_t,wn,!0))&&(re=0,Ie?(nn.lineStart(),nn.point(ve[0][0],ve[0][1]),nn.point(ve[1][0],ve[1][1]),nn.lineEnd()):(nn.point(ve[1][0],ve[1][1]),nn.lineEnd(),nn.lineStart(),nn.point(ve[0][0],ve[0][1])))}Qt&&(!wn||!ho(wn,_t))&&nn.point(_t[0],_t[1]),wn=_t,jt=Qt,bt=Pe},lineEnd:function(){jt&&nn.lineEnd(),wn=null},clean:function(){return re|(Jt&&jt)<<1}}}function In(nn,wn,bt){var jt=j(nn),Jt=j(wn),re=[1,0,0],st=D(jt,Jt),Et=w(st,st),_t=st[0],wt=Et-_t*_t;if(!wt)return!bt&&nn;var Qt=Ze*Et/wt,Pe=-Ze*_t/wt,ve=D(re,st),we=tt(re,Qt),Re=tt(st,Pe);V(we,Re);var Qe=ve,Ye=w(we,Qe),Cr=w(Qe,Qe),gr=Ye*Ye-Cr*(w(we,we)-1);if(!(gr<0)){var Ur=T(gr),pr=tt(Qe,(-Ye-Ur)/Cr);if(V(pr,we),pr=et(pr),!bt)return pr;var Fr=nn[0],Hr=wn[0],Sn=nn[1],Nn=wn[1],cn;Hr<Fr&&(cn=Fr,Fr=Hr,Hr=cn);var Fn=Hr-Fr,qn=d(Fn-n)<r,Ci=qn||Fn<r;if(!qn&&Nn<Sn&&(cn=Sn,Sn=Nn,Nn=cn),Ci?qn?Sn+Nn>0^pr[1]<(d(pr[0]-Fr)<r?Sn:Nn):Sn<=pr[1]&&pr[1]<=Nn:Fn>n^(Fr<=pr[0]&&pr[0]<=Hr)){var Ti=tt(Qe,(-Ye+Ur)/Cr);return V(Ti,we),[pr,et(Ti)]}}}function kn(nn,wn){var bt=Ie?Ut:n-Ut,jt=0;return nn<-bt?jt|=1:nn>bt&&(jt|=2),wn<-bt?jt|=4:wn>bt&&(jt|=8),jt}return Tn(sn,Mn,Zr,Ie?[0,-Ut]:[-n,Ut-n])},ts=function(Ut){return{stream:po(Ut)}};function po(Ut){return function(Xt){var Ze=new uo;for(var Ie in Ut)Ze[Ie]=Ut[Ie];return Ze.stream=Xt,Ze}}function uo(){}uo.prototype={constructor:uo,point:function(Ut,Xt){this.stream.point(Ut,Xt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zo(Ut,Xt,Ze){var Ie=Xt[1][0]-Xt[0][0],xr=Xt[1][1]-Xt[0][1],Zr=Ut.clipExtent&&Ut.clipExtent();Ut.scale(150).translate([0,0]),Zr!=null&&Ut.clipExtent(null),Q(Ze,Ut.stream(Ln));var sn=Ln.result(),Mn=Math.min(Ie/(sn[1][0]-sn[0][0]),xr/(sn[1][1]-sn[0][1])),In=+Xt[0][0]+(Ie-Mn*(sn[1][0]+sn[0][0]))/2,kn=+Xt[0][1]+(xr-Mn*(sn[1][1]+sn[0][1]))/2;return Zr!=null&&Ut.clipExtent(Zr),Ut.scale(Mn*150).translate([In,kn])}function Qa(Ut,Xt,Ze){return Zo(Ut,[[0,0],Xt],Ze)}var go=16,fs=x(30*p),es=function(Ut,Xt){return+Xt?os(Ut,Xt):Rs(Ut)};function Rs(Ut){return po({point:function(Xt,Ze){Xt=Ut(Xt,Ze),this.stream.point(Xt[0],Xt[1])}})}function os(Ut,Xt){function Ze(Ie,xr,Zr,sn,Mn,In,kn,nn,wn,bt,jt,Jt,re,st){var Et=kn-Ie,_t=nn-xr,wt=Et*Et+_t*_t;if(wt>4*Xt&&re--){var Qt=sn+bt,Pe=Mn+jt,ve=In+Jt,we=T(Qt*Qt+Pe*Pe+ve*ve),Re=R(ve/=we),Qe=d(d(ve)-1)<r||d(Zr-wn)<r?(Zr+wn)/2:y(Pe,Qt),Ye=Ut(Qe,Re),Cr=Ye[0],gr=Ye[1],Ur=Cr-Ie,pr=gr-xr,Fr=_t*Ur-Et*pr;(Fr*Fr/wt>Xt||d((Et*Ur+_t*pr)/wt-.5)>.3||sn*bt+Mn*jt+In*Jt<fs)&&(Ze(Ie,xr,Zr,sn,Mn,In,Cr,gr,Qe,Qt/=we,Pe/=we,ve,re,st),st.point(Cr,gr),Ze(Cr,gr,Qe,Qt,Pe,ve,kn,nn,wn,bt,jt,Jt,re,st))}}return function(Ie){var xr,Zr,sn,Mn,In,kn,nn,wn,bt,jt,Jt,re,st={point:Et,lineStart:_t,lineEnd:Qt,polygonStart:function(){Ie.polygonStart(),st.lineStart=Pe},polygonEnd:function(){Ie.polygonEnd(),st.lineStart=_t}};function Et(Re,Qe){Re=Ut(Re,Qe),Ie.point(Re[0],Re[1])}function _t(){wn=NaN,st.point=wt,Ie.lineStart()}function wt(Re,Qe){var Ye=j([Re,Qe]),Cr=Ut(Re,Qe);Ze(wn,bt,nn,jt,Jt,re,wn=Cr[0],bt=Cr[1],nn=Re,jt=Ye[0],Jt=Ye[1],re=Ye[2],go,Ie),Ie.point(wn,bt)}function Qt(){st.point=Et,Ie.lineEnd()}function Pe(){_t(),st.point=ve,st.lineEnd=we}function ve(Re,Qe){wt(xr=Re,Qe),Zr=wn,sn=bt,Mn=jt,In=Jt,kn=re,st.point=wt}function we(){Ze(wn,bt,nn,jt,Jt,re,Zr,sn,xr,Mn,In,kn,go,Ie),st.lineEnd=Qt,Qt()}return st}}var ss=po({point:function(Ut,Xt){this.stream.point(Ut*p,Xt*p)}});function Bo(Ut){return Zs(function(){return Ut})()}function Zs(Ut){var Xt,Ze=150,Ie=480,xr=250,Zr,sn,Mn=0,In=0,kn=0,nn=0,wn=0,bt,jt,Jt=null,re=Di,st=null,Et,_t,wt,Qt=We,Pe=.5,ve=es(Cr,Pe),we,Re;function Qe(pr){return pr=jt(pr[0]*p,pr[1]*p),[pr[0]*Ze+Zr,sn-pr[1]*Ze]}function Ye(pr){return pr=jt.invert((pr[0]-Zr)/Ze,(sn-pr[1])/Ze),pr&&[pr[0]*h,pr[1]*h]}function Cr(pr,Fr){return pr=Xt(pr,Fr),[pr[0]*Ze+Zr,sn-pr[1]*Ze]}Qe.stream=function(pr){return we&&Re===pr?we:we=ss(re(bt,ve(Qt(Re=pr))))},Qe.clipAngle=function(pr){return arguments.length?(re=+pr?na(Jt=pr*p,6*p):(Jt=null,Di),Ur()):Jt*h},Qe.clipExtent=function(pr){return arguments.length?(Qt=pr==null?(st=Et=_t=wt=null,We):qa(st=+pr[0][0],Et=+pr[0][1],_t=+pr[1][0],wt=+pr[1][1]),Ur()):st==null?null:[[st,Et],[_t,wt]]},Qe.scale=function(pr){return arguments.length?(Ze=+pr,gr()):Ze},Qe.translate=function(pr){return arguments.length?(Ie=+pr[0],xr=+pr[1],gr()):[Ie,xr]},Qe.center=function(pr){return arguments.length?(Mn=pr[0]%360*p,In=pr[1]%360*p,gr()):[Mn*h,In*h]},Qe.rotate=function(pr){return arguments.length?(kn=pr[0]%360*p,nn=pr[1]%360*p,wn=pr.length>2?pr[2]%360*p:0,gr()):[kn*h,nn*h,wn*h]},Qe.precision=function(pr){return arguments.length?(ve=es(Cr,Pe=pr*pr),Ur()):T(Pe)},Qe.fitExtent=function(pr,Fr){return Zo(Qe,pr,Fr)},Qe.fitSize=function(pr,Fr){return Qa(Qe,pr,Fr)};function gr(){jt=Dn(bt=er(kn,nn,wn),Xt);var pr=Xt(Mn,In);return Zr=Ie-pr[0]*Ze,sn=xr+pr[1]*Ze,Ur()}function Ur(){return we=Re=null,Qe}return function(){return Xt=Ut.apply(this,arguments),Qe.invert=Xt.invert&&Ye,gr()}}function Ss(Ut){var Xt=0,Ze=n/3,Ie=Zs(Ut),xr=Ie(Xt,Ze);return xr.parallels=function(Zr){return arguments.length?Ie(Xt=Zr[0]*p,Ze=Zr[1]*p):[Xt*h,Ze*h]},xr}function Ns(Ut){var Xt=x(Ut);function Ze(Ie,xr){return[Ie*Xt,E(xr)/Xt]}return Ze.invert=function(Ie,xr){return[Ie/Xt,R(xr*Xt)]},Ze}function Fs(Ut,Xt){var Ze=E(Ut),Ie=(Ze+E(Xt))/2;if(d(Ie)<r)return Ns(Ut);var xr=1+Ze*(2*Ie-Ze),Zr=T(xr)/Ie;function sn(Mn,In){var kn=T(xr-2*Ie*E(In))/Ie;return[kn*E(Mn*=Ie),Zr-kn*x(Mn)]}return sn.invert=function(Mn,In){var kn=Zr-In;return[y(Mn,d(kn))/Ie*C(kn),R((xr-(Mn*Mn+kn*kn)*Ie*Ie)/(2*Ie))]},sn}var bu=function(){return Ss(Fs).scale(155.424).center([0,33.6442])},Cu=function(){return bu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Bs(Ut){var Xt=Ut.length;return{point:function(Ze,Ie){for(var xr=-1;++xr<Xt;)Ut[xr].point(Ze,Ie)},sphere:function(){for(var Ze=-1;++Ze<Xt;)Ut[Ze].sphere()},lineStart:function(){for(var Ze=-1;++Ze<Xt;)Ut[Ze].lineStart()},lineEnd:function(){for(var Ze=-1;++Ze<Xt;)Ut[Ze].lineEnd()},polygonStart:function(){for(var Ze=-1;++Ze<Xt;)Ut[Ze].polygonStart()},polygonEnd:function(){for(var Ze=-1;++Ze<Xt;)Ut[Ze].polygonEnd()}}}var ou=function(){var Ut,Xt,Ze=Cu(),Ie,xr=bu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Zr,sn=bu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Mn,In,kn={point:function(bt,jt){In=[bt,jt]}};function nn(bt){var jt=bt[0],Jt=bt[1];return In=null,Ie.point(jt,Jt),In||(Zr.point(jt,Jt),In)||(Mn.point(jt,Jt),In)}nn.invert=function(bt){var jt=Ze.scale(),Jt=Ze.translate(),re=(bt[0]-Jt[0])/jt,st=(bt[1]-Jt[1])/jt;return(st>=.12&&st<.234&&re>=-.425&&re<-.214?xr:st>=.166&&st<.234&&re>=-.214&&re<-.115?sn:Ze).invert(bt)},nn.stream=function(bt){return Ut&&Xt===bt?Ut:Ut=Bs([Ze.stream(Xt=bt),xr.stream(bt),sn.stream(bt)])},nn.precision=function(bt){return arguments.length?(Ze.precision(bt),xr.precision(bt),sn.precision(bt),wn()):Ze.precision()},nn.scale=function(bt){return arguments.length?(Ze.scale(bt),xr.scale(bt*.35),sn.scale(bt),nn.translate(Ze.translate())):Ze.scale()},nn.translate=function(bt){if(!arguments.length)return Ze.translate();var jt=Ze.scale(),Jt=+bt[0],re=+bt[1];return Ie=Ze.translate(bt).clipExtent([[Jt-.455*jt,re-.238*jt],[Jt+.455*jt,re+.238*jt]]).stream(kn),Zr=xr.translate([Jt-.307*jt,re+.201*jt]).clipExtent([[Jt-.425*jt+r,re+.12*jt+r],[Jt-.214*jt-r,re+.234*jt-r]]).stream(kn),Mn=sn.translate([Jt-.205*jt,re+.212*jt]).clipExtent([[Jt-.214*jt+r,re+.166*jt+r],[Jt-.115*jt-r,re+.234*jt-r]]).stream(kn),wn()},nn.fitExtent=function(bt,jt){return Zo(nn,bt,jt)},nn.fitSize=function(bt,jt){return Qa(nn,bt,jt)};function wn(){return Ut=Xt=null,nn}return nn.scale(1070)};function Js(Ut){return function(Xt,Ze){var Ie=x(Xt),xr=x(Ze),Zr=Ut(Ie*xr);return[Zr*xr*E(Xt),Zr*E(Ze)]}}function gu(Ut){return function(Xt,Ze){var Ie=T(Xt*Xt+Ze*Ze),xr=Ut(Ie),Zr=E(xr),sn=x(xr);return[y(Xt*Zr,Ie*sn),R(Ie&&Ze*Zr/Ie)]}}var qs=Js(function(Ut){return T(2/(1+Ut))});qs.invert=gu(function(Ut){return 2*R(Ut/2)});var js=function(){return Bo(qs).scale(124.75).clipAngle(180-.001)},Ws=Js(function(Ut){return(Ut=L(Ut))&&Ut/E(Ut)});Ws.invert=gu(function(Ut){return Ut});var Nu=function(){return Bo(Ws).scale(79.4188).clipAngle(180-.001)};function su(Ut,Xt){return[Ut,M(O((a+Xt)/2))]}su.invert=function(Ut,Xt){return[Ut,2*g(m(Xt))-a]};var Pu=function(){return vu(su).scale(961/l)};function vu(Ut){var Xt=Bo(Ut),Ze=Xt.center,Ie=Xt.scale,xr=Xt.translate,Zr=Xt.clipExtent,sn=null,Mn,In,kn;Xt.scale=function(wn){return arguments.length?(Ie(wn),nn()):Ie()},Xt.translate=function(wn){return arguments.length?(xr(wn),nn()):xr()},Xt.center=function(wn){return arguments.length?(Ze(wn),nn()):Ze()},Xt.clipExtent=function(wn){return arguments.length?(wn==null?sn=Mn=In=kn=null:(sn=+wn[0][0],Mn=+wn[0][1],In=+wn[1][0],kn=+wn[1][1]),nn()):sn==null?null:[[sn,Mn],[In,kn]]};function nn(){var wn=n*Ie(),bt=Xt(di(Xt.rotate()).invert([0,0]));return Zr(sn==null?[[bt[0]-wn,bt[1]-wn],[bt[0]+wn,bt[1]+wn]]:Ut===su?[[Math.max(bt[0]-wn,sn),Mn],[Math.min(bt[0]+wn,In),kn]]:[[sn,Math.max(bt[1]-wn,Mn)],[In,Math.min(bt[1]+wn,kn)]])}return nn()}function Es(Ut){return O((a+Ut)/2)}function mu(Ut,Xt){var Ze=x(Ut),Ie=Ut===Xt?E(Ut):M(Ze/x(Xt))/M(Es(Xt)/Es(Ut)),xr=Ze*b(Es(Ut),Ie)/Ie;if(!Ie)return su;function Zr(sn,Mn){xr>0?Mn<-a+r&&(Mn=-a+r):Mn>a-r&&(Mn=a-r);var In=xr/b(Es(Mn),Ie);return[In*E(Ie*sn),xr-In*x(Ie*sn)]}return Zr.invert=function(sn,Mn){var In=xr-Mn,kn=C(Ie)*T(sn*sn+In*In);return[y(sn,d(In))/Ie*C(In),2*g(b(xr/kn,1/Ie))-a]},Zr}var Ou=function(){return Ss(mu).scale(109.5).parallels([30,30])};function Gs(Ut,Xt){return[Ut,Xt]}Gs.invert=Gs;var Co=function(){return Bo(Gs).scale(152.63)};function cs(Ut,Xt){var Ze=x(Ut),Ie=Ut===Xt?E(Ut):(Ze-x(Xt))/(Xt-Ut),xr=Ze/Ie+Ut;if(d(Ie)<r)return Gs;function Zr(sn,Mn){var In=xr-Mn,kn=Ie*sn;return[In*E(kn),xr-In*x(kn)]}return Zr.invert=function(sn,Mn){var In=xr-Mn;return[y(sn,d(In))/Ie*C(In),xr-C(Ie)*T(sn*sn+In*In)]},Zr}var us=function(){return Ss(cs).scale(131.154).center([0,13.9389])};function lo(Ut,Xt){var Ze=x(Xt),Ie=x(Ut)*Ze;return[Ze*E(Ut)/Ie,E(Xt)/Ie]}lo.invert=gu(g);var _s=function(){return Bo(lo).scale(144.049).clipAngle(60)};function jo(Ut,Xt,Ze,Ie){return Ut===1&&Xt===1&&Ze===0&&Ie===0?We:po({point:function(xr,Zr){this.stream.point(xr*Ut+Ze,Zr*Xt+Ie)}})}var Wo=function(){var Ut=1,Xt=0,Ze=0,Ie=1,xr=1,Zr=We,sn=null,Mn,In,kn,nn=We,wn,bt,jt;function Jt(){return wn=bt=null,jt}return jt={stream:function(re){return wn&&bt===re?wn:wn=Zr(nn(bt=re))},clipExtent:function(re){return arguments.length?(nn=re==null?(sn=Mn=In=kn=null,We):qa(sn=+re[0][0],Mn=+re[0][1],In=+re[1][0],kn=+re[1][1]),Jt()):sn==null?null:[[sn,Mn],[In,kn]]},scale:function(re){return arguments.length?(Zr=jo((Ut=+re)*Ie,Ut*xr,Xt,Ze),Jt()):Ut},translate:function(re){return arguments.length?(Zr=jo(Ut*Ie,Ut*xr,Xt=+re[0],Ze=+re[1]),Jt()):[Xt,Ze]},reflectX:function(re){return arguments.length?(Zr=jo(Ut*(Ie=re?-1:1),Ut*xr,Xt,Ze),Jt()):Ie<0},reflectY:function(re){return arguments.length?(Zr=jo(Ut*Ie,Ut*(xr=re?-1:1),Xt,Ze),Jt()):xr<0},fitExtent:function(re,st){return Zo(jt,re,st)},fitSize:function(re,st){return Qa(jt,re,st)}}};function Vs(Ut,Xt){return[x(Xt)*E(Ut),E(Xt)]}Vs.invert=gu(R);var uu=function(){return Bo(Vs).scale(249.5).clipAngle(90+r)};function tu(Ut,Xt){var Ze=x(Xt),Ie=1+x(Ut)*Ze;return[Ze*E(Ut)/Ie,E(Xt)/Ie]}tu.invert=gu(function(Ut){return 2*g(Ut)});var Hs=function(){return Bo(tu).scale(250).clipAngle(142)};function bs(Ut,Xt){return[M(O((a+Xt)/2)),-Ut]}bs.invert=function(Ut,Xt){return[-Xt,2*g(m(Ut))-a]};var ps=function(){var Ut=vu(bs),Xt=Ut.center,Ze=Ut.rotate;return Ut.center=function(Ie){return arguments.length?Xt([-Ie[1],Ie[0]]):(Ie=Xt(),[Ie[1],-Ie[0]])},Ut.rotate=function(Ie){return arguments.length?Ze([Ie[0],Ie[1],Ie.length>2?Ie[2]+90:90]):(Ie=Ze(),[Ie[0],Ie[1],Ie[2]-90])},Ze([0,0,90]).scale(159.155)};t.geoArea=$,t.geoBounds=ea,t.geoCentroid=pn,t.geoCircle=_a,t.geoClipExtent=Zt,t.geoContains=pe,t.geoDistance=Sa,t.geoGraticule=dt,t.geoGraticule10=Dt,t.geoInterpolate=te,t.geoLength=Ai,t.geoPath=br,t.geoAlbers=Cu,t.geoAlbersUsa=ou,t.geoAzimuthalEqualArea=js,t.geoAzimuthalEqualAreaRaw=qs,t.geoAzimuthalEquidistant=Nu,t.geoAzimuthalEquidistantRaw=Ws,t.geoConicConformal=Ou,t.geoConicConformalRaw=mu,t.geoConicEqualArea=bu,t.geoConicEqualAreaRaw=Fs,t.geoConicEquidistant=us,t.geoConicEquidistantRaw=cs,t.geoEquirectangular=Co,t.geoEquirectangularRaw=Gs,t.geoGnomonic=_s,t.geoGnomonicRaw=lo,t.geoIdentity=Wo,t.geoProjection=Bo,t.geoProjectionMutator=Zs,t.geoMercator=Pu,t.geoMercatorRaw=su,t.geoOrthographic=uu,t.geoOrthographicRaw=Vs,t.geoStereographic=Hs,t.geoStereographicRaw=tu,t.geoTransverseMercator=ps,t.geoTransverseMercatorRaw=bs,t.geoRotation=di,t.geoStream=Q,t.geoTransform=ts,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-geo@2.0.1@d3-geo/dist/d3-geo.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-array@2.11.0@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";var s=1e-6,v=1e-12,o=Math.PI,f=o/2,r=o/4,e=o*2,n=180/o,a=o/180,u=Math.abs,l=Math.atan,h=Math.atan2,p=Math.cos,d=Math.ceil,g=Math.exp,y=Math.hypot,x=Math.log,A=Math.pow,m=Math.sin,M=Math.sign||function(bt){return bt>0?1:bt<0?-1:0},b=Math.sqrt,E=Math.tan;function C(bt){return bt>1?0:bt<-1?o:Math.acos(bt)}function T(bt){return bt>1?f:bt<-1?-f:Math.asin(bt)}function O(bt){return(bt=m(bt/2))*bt}function L(){}function R(bt,jt){bt&&U.hasOwnProperty(bt.type)&&U[bt.type](bt,jt)}var W={Feature:function(bt,jt){R(bt.geometry,jt)},FeatureCollection:function(bt,jt){for(var Jt=bt.features,re=-1,st=Jt.length;++re<st;)R(Jt[re].geometry,jt)}},U={Sphere:function(bt,jt){jt.sphere()},Point:function(bt,jt){bt=bt.coordinates,jt.point(bt[0],bt[1],bt[2])},MultiPoint:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)bt=Jt[re],jt.point(bt[0],bt[1],bt[2])},LineString:function(bt,jt){X(bt.coordinates,jt,0)},MultiLineString:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)X(Jt[re],jt,0)},Polygon:function(bt,jt){Z(bt.coordinates,jt)},MultiPolygon:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)Z(Jt[re],jt)},GeometryCollection:function(bt,jt){for(var Jt=bt.geometries,re=-1,st=Jt.length;++re<st;)R(Jt[re],jt)}};function X(bt,jt,Jt){var re=-1,st=bt.length-Jt,Et;for(jt.lineStart();++re<st;)Et=bt[re],jt.point(Et[0],Et[1],Et[2]);jt.lineEnd()}function Z(bt,jt){var Jt=-1,re=bt.length;for(jt.polygonStart();++Jt<re;)X(bt[Jt],jt,1);jt.polygonEnd()}function J(bt,jt){bt&&W.hasOwnProperty(bt.type)?W[bt.type](bt,jt):R(bt,jt)}var ht=new c.Adder,at=new c.Adder,Q,xt,kt,Nt,nt,q={point:L,lineStart:L,lineEnd:L,polygonStart:function(){ht=new c.Adder,q.lineStart=G,q.lineEnd=N},polygonEnd:function(){var bt=+ht;at.add(bt<0?e+bt:bt),this.lineStart=this.lineEnd=this.point=L},sphere:function(){at.add(e)}};function G(){q.point=it}function N(){H(Q,xt)}function it(bt,jt){q.point=H,Q=bt,xt=jt,bt*=a,jt*=a,kt=bt,Nt=p(jt=jt/2+r),nt=m(jt)}function H(bt,jt){bt*=a,jt*=a,jt=jt/2+r;var Jt=bt-kt,re=Jt>=0?1:-1,st=re*Jt,Et=p(jt),_t=m(jt),wt=nt*_t,Qt=Nt*Et+wt*p(st),Pe=wt*re*m(st);ht.add(h(Pe,Qt)),kt=bt,Nt=Et,nt=_t}function ct(bt){return at=new c.Adder,J(bt,q),at*2}function ft(bt){return[h(bt[1],bt[0]),T(bt[2])]}function K(bt){var jt=bt[0],Jt=bt[1],re=p(Jt);return[re*p(jt),re*m(jt),m(Jt)]}function $(bt,jt){return bt[0]*jt[0]+bt[1]*jt[1]+bt[2]*jt[2]}function et(bt,jt){return[bt[1]*jt[2]-bt[2]*jt[1],bt[2]*jt[0]-bt[0]*jt[2],bt[0]*jt[1]-bt[1]*jt[0]]}function j(bt,jt){bt[0]+=jt[0],bt[1]+=jt[1],bt[2]+=jt[2]}function w(bt,jt){return[bt[0]*jt,bt[1]*jt,bt[2]*jt]}function D(bt){var jt=b(bt[0]*bt[0]+bt[1]*bt[1]+bt[2]*bt[2]);bt[0]/=jt,bt[1]/=jt,bt[2]/=jt}var V,tt,lt,St,ot,Mt,Ot,Ft,zt,$t,he,ye={point:tr,lineStart:Xe,lineEnd:yr,polygonStart:function(){ye.point=Vr,ye.lineStart=Ee,ye.lineEnd=de,zt=new c.Adder,q.polygonStart()},polygonEnd:function(){q.polygonEnd(),ye.point=tr,ye.lineStart=Xe,ye.lineEnd=yr,ht<0?(V=-(lt=180),tt=-(St=90)):zt>s?St=90:zt<-s&&(tt=-90),he[0]=V,he[1]=lt},sphere:function(){V=-(lt=180),tt=-(St=90)}};function tr(bt,jt){$t.push(he=[V=bt,lt=bt]),jt<tt&&(tt=jt),jt>St&&(St=jt)}function nr(bt,jt){var Jt=K([bt*a,jt*a]);if(Ft){var re=et(Ft,Jt),st=[re[1],-re[0],0],Et=et(st,re);D(Et),Et=ft(Et);var _t=bt-ot,wt=_t>0?1:-1,Qt=Et[0]*n*wt,Pe,ve=u(_t)>180;ve^(wt*ot<Qt&&Qt<wt*bt)?(Pe=Et[1]*n,Pe>St&&(St=Pe)):(Qt=(Qt+360)%360-180,ve^(wt*ot<Qt&&Qt<wt*bt)?(Pe=-Et[1]*n,Pe<tt&&(tt=Pe)):(jt<tt&&(tt=jt),jt>St&&(St=jt))),ve?bt<ot?Ge(V,bt)>Ge(V,lt)&&(lt=bt):Ge(bt,lt)>Ge(V,lt)&&(V=bt):lt>=V?(bt<V&&(V=bt),bt>lt&&(lt=bt)):bt>ot?Ge(V,bt)>Ge(V,lt)&&(lt=bt):Ge(bt,lt)>Ge(V,lt)&&(V=bt)}else $t.push(he=[V=bt,lt=bt]);jt<tt&&(tt=jt),jt>St&&(St=jt),Ft=Jt,ot=bt}function Xe(){ye.point=nr}function yr(){he[0]=V,he[1]=lt,ye.point=tr,Ft=null}function Vr(bt,jt){if(Ft){var Jt=bt-ot;zt.add(u(Jt)>180?Jt+(Jt>0?360:-360):Jt)}else Mt=bt,Ot=jt;q.point(bt,jt),nr(bt,jt)}function Ee(){q.lineStart()}function de(){Vr(Mt,Ot),q.lineEnd(),u(zt)>s&&(V=-(lt=180)),he[0]=V,he[1]=lt,Ft=null}function Ge(bt,jt){return(jt-=bt)<0?jt+360:jt}function ke(bt,jt){return bt[0]-jt[0]}function Kr(bt,jt){return bt[0]<=bt[1]?bt[0]<=jt&&jt<=bt[1]:jt<bt[0]||bt[1]<jt}function fn(bt){var jt,Jt,re,st,Et,_t,wt;if(St=lt=-(V=tt=Infinity),$t=[],J(bt,ye),Jt=$t.length){for($t.sort(ke),jt=1,re=$t[0],Et=[re];jt<Jt;++jt)st=$t[jt],Kr(re,st[0])||Kr(re,st[1])?(Ge(re[0],st[1])>Ge(re[0],re[1])&&(re[1]=st[1]),Ge(st[0],re[1])>Ge(re[0],re[1])&&(re[0]=st[0])):Et.push(re=st);for(_t=-Infinity,Jt=Et.length-1,jt=0,re=Et[Jt];jt<=Jt;re=st,++jt)st=Et[jt],(wt=Ge(re[1],st[0]))>_t&&(_t=wt,V=st[0],lt=re[1])}return $t=he=null,V===Infinity||tt===Infinity?[[NaN,NaN],[NaN,NaN]]:[[V,tt],[lt,St]]}var pi,Vi,ea,zi,Te,Be,lr,Or,sr,Dr,En,Yn,ln,Jr,Wn,$n,Gr={sphere:L,point:wr,lineStart:ge,lineEnd:Ve,polygonStart:function(){Gr.lineStart=le,Gr.lineEnd=vr},polygonEnd:function(){Gr.lineStart=ge,Gr.lineEnd=Ve}};function wr(bt,jt){bt*=a,jt*=a;var Jt=p(jt);ti(Jt*p(bt),Jt*m(bt),m(jt))}function ti(bt,jt,Jt){++pi,ea+=(bt-ea)/pi,zi+=(jt-zi)/pi,Te+=(Jt-Te)/pi}function ge(){Gr.point=Le}function Le(bt,jt){bt*=a,jt*=a;var Jt=p(jt);Jr=Jt*p(bt),Wn=Jt*m(bt),$n=m(jt),Gr.point=Se,ti(Jr,Wn,$n)}function Se(bt,jt){bt*=a,jt*=a;var Jt=p(jt),re=Jt*p(bt),st=Jt*m(bt),Et=m(jt),_t=h(b((_t=Wn*Et-$n*st)*_t+(_t=$n*re-Jr*Et)*_t+(_t=Jr*st-Wn*re)*_t),Jr*re+Wn*st+$n*Et);Vi+=_t,Be+=_t*(Jr+(Jr=re)),lr+=_t*(Wn+(Wn=st)),Or+=_t*($n+($n=Et)),ti(Jr,Wn,$n)}function Ve(){Gr.point=wr}function le(){Gr.point=He}function vr(){rr(Yn,ln),Gr.point=wr}function He(bt,jt){Yn=bt,ln=jt,bt*=a,jt*=a,Gr.point=rr;var Jt=p(jt);Jr=Jt*p(bt),Wn=Jt*m(bt),$n=m(jt),ti(Jr,Wn,$n)}function rr(bt,jt){bt*=a,jt*=a;var Jt=p(jt),re=Jt*p(bt),st=Jt*m(bt),Et=m(jt),_t=Wn*Et-$n*st,wt=$n*re-Jr*Et,Qt=Jr*st-Wn*re,Pe=y(_t,wt,Qt),ve=T(Pe),we=Pe&&-ve/Pe;sr.add(we*_t),Dr.add(we*wt),En.add(we*Qt),Vi+=ve,Be+=ve*(Jr+(Jr=re)),lr+=ve*(Wn+(Wn=st)),Or+=ve*($n+($n=Et)),ti(Jr,Wn,$n)}function Lr(bt){pi=Vi=ea=zi=Te=Be=lr=Or=0,sr=new c.Adder,Dr=new c.Adder,En=new c.Adder,J(bt,Gr);var jt=+sr,Jt=+Dr,re=+En,st=y(jt,Jt,re);return st<v&&(jt=Be,Jt=lr,re=Or,Vi<s&&(jt=ea,Jt=zi,re=Te),st=y(jt,Jt,re),st<v)?[NaN,NaN]:[h(Jt,jt)*n,T(re/st)*n]}function Mr(bt){return function(){return bt}}function rn(bt,jt){function Jt(re,st){return re=bt(re,st),jt(re[0],re[1])}return bt.invert&&jt.invert&&(Jt.invert=function(re,st){return re=jt.invert(re,st),re&&bt.invert(re[0],re[1])}),Jt}function pn(bt,jt){return[u(bt)>o?bt+Math.round(-bt/e)*e:bt,jt]}pn.invert=pn;function qr(bt,jt,Jt){return(bt%=e)?jt||Jt?rn(ae(bt),er(jt,Jt)):ae(bt):jt||Jt?er(jt,Jt):pn}function Dn(bt){return function(jt,Jt){return jt+=bt,[jt>o?jt-e:jt<-o?jt+e:jt,Jt]}}function ae(bt){var jt=Dn(bt);return jt.invert=Dn(-bt),jt}function er(bt,jt){var Jt=p(bt),re=m(bt),st=p(jt),Et=m(jt);function _t(wt,Qt){var Pe=p(Qt),ve=p(wt)*Pe,we=m(wt)*Pe,Re=m(Qt),Qe=Re*Jt+ve*re;return[h(we*st-Qe*Et,ve*Jt-Re*re),T(Qe*st+we*Et)]}return _t.invert=function(wt,Qt){var Pe=p(Qt),ve=p(wt)*Pe,we=m(wt)*Pe,Re=m(Qt),Qe=Re*st-we*Et;return[h(we*st+Re*Et,ve*Jt+Qe*re),T(Qe*Jt-ve*re)]},_t}function ar(bt){bt=qr(bt[0]*a,bt[1]*a,bt.length>2?bt[2]*a:0);function jt(Jt){return Jt=bt(Jt[0]*a,Jt[1]*a),Jt[0]*=n,Jt[1]*=n,Jt}return jt.invert=function(Jt){return Jt=bt.invert(Jt[0]*a,Jt[1]*a),Jt[0]*=n,Jt[1]*=n,Jt},jt}function kr(bt,jt,Jt,re,st,Et){if(!!Jt){var _t=p(jt),wt=m(jt),Qt=re*Jt;st==null?(st=jt+re*e,Et=jt-Qt/2):(st=Rn(_t,st),Et=Rn(_t,Et),(re>0?st<Et:st>Et)&&(st+=re*e));for(var Pe,ve=st;re>0?ve>Et:ve<Et;ve-=Qt)Pe=ft([_t,-wt*p(ve),-wt*m(ve)]),bt.point(Pe[0],Pe[1])}}function Rn(bt,jt){jt=K(jt),jt[0]-=bt,D(jt);var Jt=C(-jt[1]);return((-jt[2]<0?-Jt:Jt)+e-s)%e}function di(){var bt=Mr([0,0]),jt=Mr(90),Jt=Mr(6),re,st,Et={point:_t};function _t(Qt,Pe){re.push(Qt=st(Qt,Pe)),Qt[0]*=n,Qt[1]*=n}function wt(){var Qt=bt.apply(this,arguments),Pe=jt.apply(this,arguments)*a,ve=Jt.apply(this,arguments)*a;return re=[],st=qr(-Qt[0]*a,-Qt[1]*a,0).invert,kr(Et,Pe,ve,1),Qt={type:"Polygon",coordinates:[re]},re=st=null,Qt}return wt.center=function(Qt){return arguments.length?(bt=typeof Qt=="function"?Qt:Mr([+Qt[0],+Qt[1]]),wt):bt},wt.radius=function(Qt){return arguments.length?(jt=typeof Qt=="function"?Qt:Mr(+Qt),wt):jt},wt.precision=function(Qt){return arguments.length?(Jt=typeof Qt=="function"?Qt:Mr(+Qt),wt):Jt},wt}function Yi(){var bt=[],jt;return{point:function(Jt,re,st){jt.push([Jt,re,st])},lineStart:function(){bt.push(jt=[])},lineEnd:L,rejoin:function(){bt.length>1&&bt.push(bt.pop().concat(bt.shift()))},result:function(){var Jt=bt;return bt=[],jt=null,Jt}}}function da(bt,jt){return u(bt[0]-jt[0])<s&&u(bt[1]-jt[1])<s}function _a(bt,jt,Jt,re){this.x=bt,this.z=jt,this.o=Jt,this.e=re,this.v=!1,this.n=this.p=null}function fa(bt,jt,Jt,re,st){var Et=[],_t=[],wt,Qt;if(bt.forEach(function(Ye){if(!((Cr=Ye.length-1)<=0)){var Cr,gr=Ye[0],Ur=Ye[Cr],pr;if(da(gr,Ur)){if(!gr[2]&&!Ur[2]){for(st.lineStart(),wt=0;wt<Cr;++wt)st.point((gr=Ye[wt])[0],gr[1]);st.lineEnd();return}Ur[0]+=2*s}Et.push(pr=new _a(gr,Ye,null,!0)),_t.push(pr.o=new _a(gr,null,pr,!1)),Et.push(pr=new _a(Ur,Ye,null,!1)),_t.push(pr.o=new _a(Ur,null,pr,!0))}}),!!Et.length){for(_t.sort(jt),wo(Et),wo(_t),wt=0,Qt=_t.length;wt<Qt;++wt)_t[wt].e=Jt=!Jt;for(var Pe=Et[0],ve,we;;){for(var Re=Pe,Qe=!0;Re.v;)if((Re=Re.n)===Pe)return;ve=Re.z,st.lineStart();do{if(Re.v=Re.o.v=!0,Re.e){if(Qe)for(wt=0,Qt=ve.length;wt<Qt;++wt)st.point((we=ve[wt])[0],we[1]);else re(Re.x,Re.n.x,1,st);Re=Re.n}else{if(Qe)for(ve=Re.p.z,wt=ve.length-1;wt>=0;--wt)st.point((we=ve[wt])[0],we[1]);else re(Re.x,Re.p.x,-1,st);Re=Re.p}Re=Re.o,ve=Re.z,Qe=!Qe}while(!Re.v);st.lineEnd()}}}function wo(bt){if(!!(jt=bt.length)){for(var jt,Jt=0,re=bt[0],st;++Jt<jt;)re.n=st=bt[Jt],st.p=re,re=st;re.n=st=bt[0],st.p=re}}function ho(bt){return u(bt[0])<=o?bt[0]:M(bt[0])*((u(bt[0])+o)%e-o)}function mo(bt,jt){var Jt=ho(jt),re=jt[1],st=m(re),Et=[m(Jt),-p(Jt),0],_t=0,wt=0,Qt=new c.Adder;st===1?re=f+s:st===-1&&(re=-f-s);for(var Pe=0,ve=bt.length;Pe<ve;++Pe)if(!!(Re=(we=bt[Pe]).length))for(var we,Re,Qe=we[Re-1],Ye=ho(Qe),Cr=Qe[1]/2+r,gr=m(Cr),Ur=p(Cr),pr=0;pr<Re;++pr,Ye=Hr,gr=Nn,Ur=cn,Qe=Fr){var Fr=we[pr],Hr=ho(Fr),Sn=Fr[1]/2+r,Nn=m(Sn),cn=p(Sn),Fn=Hr-Ye,qn=Fn>=0?1:-1,Ci=qn*Fn,Ti=Ci>o,Oa=gr*Nn;if(Qt.add(h(Oa*qn*m(Ci),Ur*cn+Oa*p(Ci))),_t+=Ti?Fn+qn*e:Fn,Ti^Ye>=Jt^Hr>=Jt){var va=et(K(Qe),K(Fr));D(va);var ma=et(Et,va);D(ma);var Bn=(Ti^Fn>=0?-1:1)*T(ma[2]);(re>Bn||re===Bn&&(va[0]||va[1]))&&(wt+=Ti^Fn>=0?1:-1)}}return(_t<-s||_t<s&&Qt<-v)^wt&1}function yo(bt,jt,Jt,re){return function(st){var Et=jt(st),_t=Yi(),wt=jt(_t),Qt=!1,Pe,ve,we,Re={point:Qe,lineStart:Cr,lineEnd:gr,polygonStart:function(){Re.point=Ur,Re.lineStart=pr,Re.lineEnd=Fr,ve=[],Pe=[]},polygonEnd:function(){Re.point=Qe,Re.lineStart=Cr,Re.lineEnd=gr,ve=c.merge(ve);var Hr=mo(Pe,re);ve.length?(Qt||(st.polygonStart(),Qt=!0),fa(ve,io,Hr,Jt,st)):Hr&&(Qt||(st.polygonStart(),Qt=!0),st.lineStart(),Jt(null,null,1,st),st.lineEnd()),Qt&&(st.polygonEnd(),Qt=!1),ve=Pe=null},sphere:function(){st.polygonStart(),st.lineStart(),Jt(null,null,1,st),st.lineEnd(),st.polygonEnd()}};function Qe(Hr,Sn){bt(Hr,Sn)&&st.point(Hr,Sn)}function Ye(Hr,Sn){Et.point(Hr,Sn)}function Cr(){Re.point=Ye,Et.lineStart()}function gr(){Re.point=Qe,Et.lineEnd()}function Ur(Hr,Sn){we.push([Hr,Sn]),wt.point(Hr,Sn)}function pr(){wt.lineStart(),we=[]}function Fr(){Ur(we[0][0],we[0][1]),wt.lineEnd();var Hr=wt.clean(),Sn=_t.result(),Nn,cn=Sn.length,Fn,qn,Ci;if(we.pop(),Pe.push(we),we=null,!!cn){if(Hr&1){if(qn=Sn[0],(Fn=qn.length-1)>0){for(Qt||(st.polygonStart(),Qt=!0),st.lineStart(),Nn=0;Nn<Fn;++Nn)st.point((Ci=qn[Nn])[0],Ci[1]);st.lineEnd()}return}cn>1&&Hr&2&&Sn.push(Sn.pop().concat(Sn.shift())),ve.push(Sn.filter(zo))}}return Re}}function zo(bt){return bt.length>1}function io(bt,jt){return((bt=bt.x)[0]<0?bt[1]-f-s:f-bt[1])-((jt=jt.x)[0]<0?jt[1]-f-s:f-jt[1])}var Za=yo(function(){return!0},qa,je,[-o,-f]);function qa(bt){var jt=NaN,Jt=NaN,re=NaN,st;return{lineStart:function(){bt.lineStart(),st=1},point:function(Et,_t){var wt=Et>0?o:-o,Qt=u(Et-jt);u(Qt-o)<s?(bt.point(jt,Jt=(Jt+_t)/2>0?f:-f),bt.point(re,Jt),bt.lineEnd(),bt.lineStart(),bt.point(wt,Jt),bt.point(Et,Jt),st=0):re!==wt&&Qt>=o&&(u(jt-re)<s&&(jt-=re*s),u(Et-wt)<s&&(Et-=wt*s),Jt=Zt(jt,Jt,Et,_t),bt.point(re,Jt),bt.lineEnd(),bt.lineStart(),bt.point(wt,Jt),st=0),bt.point(jt=Et,Jt=_t),re=wt},lineEnd:function(){bt.lineEnd(),jt=Jt=NaN},clean:function(){return 2-st}}}function Zt(bt,jt,Jt,re){var st,Et,_t=m(bt-Jt);return u(_t)>s?l((m(jt)*(Et=p(re))*m(Jt)-m(re)*(st=p(jt))*m(bt))/(st*Et*_t)):(jt+re)/2}function je(bt,jt,Jt,re){var st;if(bt==null)st=Jt*f,re.point(-o,st),re.point(0,st),re.point(o,st),re.point(o,0),re.point(o,-st),re.point(0,-st),re.point(-o,-st),re.point(-o,0),re.point(-o,st);else if(u(bt[0]-jt[0])>s){var Et=bt[0]<jt[0]?o:-o;st=Jt*Et/2,re.point(-Et,st),re.point(0,st),re.point(Et,st)}else re.point(jt[0],jt[1])}function ur(bt){var jt=p(bt),Jt=6*a,re=jt>0,st=u(jt)>s;function Et(ve,we,Re,Qe){kr(Qe,bt,Jt,Re,ve,we)}function _t(ve,we){return p(ve)*p(we)>jt}function wt(ve){var we,Re,Qe,Ye,Cr;return{lineStart:function(){Ye=Qe=!1,Cr=1},point:function(gr,Ur){var pr=[gr,Ur],Fr,Hr=_t(gr,Ur),Sn=re?Hr?0:Pe(gr,Ur):Hr?Pe(gr+(gr<0?o:-o),Ur):0;if(!we&&(Ye=Qe=Hr)&&ve.lineStart(),Hr!==Qe&&(Fr=Qt(we,pr),(!Fr||da(we,Fr)||da(pr,Fr))&&(pr[2]=1)),Hr!==Qe)Cr=0,Hr?(ve.lineStart(),Fr=Qt(pr,we),ve.point(Fr[0],Fr[1])):(Fr=Qt(we,pr),ve.point(Fr[0],Fr[1],2),ve.lineEnd()),we=Fr;else if(st&&we&&re^Hr){var Nn;!(Sn&Re)&&(Nn=Qt(pr,we,!0))&&(Cr=0,re?(ve.lineStart(),ve.point(Nn[0][0],Nn[0][1]),ve.point(Nn[1][0],Nn[1][1]),ve.lineEnd()):(ve.point(Nn[1][0],Nn[1][1]),ve.lineEnd(),ve.lineStart(),ve.point(Nn[0][0],Nn[0][1],3)))}Hr&&(!we||!da(we,pr))&&ve.point(pr[0],pr[1]),we=pr,Qe=Hr,Re=Sn},lineEnd:function(){Qe&&ve.lineEnd(),we=null},clean:function(){return Cr|(Ye&&Qe)<<1}}}function Qt(ve,we,Re){var Qe=K(ve),Ye=K(we),Cr=[1,0,0],gr=et(Qe,Ye),Ur=$(gr,gr),pr=gr[0],Fr=Ur-pr*pr;if(!Fr)return!Re&&ve;var Hr=jt*Ur/Fr,Sn=-jt*pr/Fr,Nn=et(Cr,gr),cn=w(Cr,Hr),Fn=w(gr,Sn);j(cn,Fn);var qn=Nn,Ci=$(cn,qn),Ti=$(qn,qn),Oa=Ci*Ci-Ti*($(cn,cn)-1);if(!(Oa<0)){var va=b(Oa),ma=w(qn,(-Ci-va)/Ti);if(j(ma,cn),ma=ft(ma),!Re)return ma;var Bn=ve[0],ci=we[0],Ha=ve[1],Wa=we[1],Xn;ci<Bn&&(Xn=Bn,Bn=ci,ci=Xn);var ja=ci-Bn,fo=u(ja-o)<s,Do=fo||ja<s;if(!fo&&Wa<Ha&&(Xn=Ha,Ha=Wa,Wa=Xn),Do?fo?Ha+Wa>0^ma[1]<(u(ma[0]-Bn)<s?Ha:Wa):Ha<=ma[1]&&ma[1]<=Wa:ja>o^(Bn<=ma[0]&&ma[0]<=ci)){var Ro=w(qn,(-Ci+va)/Ti);return j(Ro,cn),[ma,ft(Ro)]}}}function Pe(ve,we){var Re=re?bt:o-bt,Qe=0;return ve<-Re?Qe|=1:ve>Re&&(Qe|=2),we<-Re?Qe|=4:we>Re&&(Qe|=8),Qe}return yo(_t,wt,Et,re?[0,-bt]:[-o,bt-o])}function Br(bt,jt,Jt,re,st,Et){var _t=bt[0],wt=bt[1],Qt=jt[0],Pe=jt[1],ve=0,we=1,Re=Qt-_t,Qe=Pe-wt,Ye;if(Ye=Jt-_t,!(!Re&&Ye>0)){if(Ye/=Re,Re<0){if(Ye<ve)return;Ye<we&&(we=Ye)}else if(Re>0){if(Ye>we)return;Ye>ve&&(ve=Ye)}if(Ye=st-_t,!(!Re&&Ye<0)){if(Ye/=Re,Re<0){if(Ye>we)return;Ye>ve&&(ve=Ye)}else if(Re>0){if(Ye<ve)return;Ye<we&&(we=Ye)}if(Ye=re-wt,!(!Qe&&Ye>0)){if(Ye/=Qe,Qe<0){if(Ye<ve)return;Ye<we&&(we=Ye)}else if(Qe>0){if(Ye>we)return;Ye>ve&&(ve=Ye)}if(Ye=Et-wt,!(!Qe&&Ye<0)){if(Ye/=Qe,Qe<0){if(Ye>we)return;Ye>ve&&(ve=Ye)}else if(Qe>0){if(Ye<ve)return;Ye<we&&(we=Ye)}return ve>0&&(bt[0]=_t+ve*Re,bt[1]=wt+ve*Qe),we<1&&(jt[0]=_t+we*Re,jt[1]=wt+we*Qe),!0}}}}}var Vt=1e9,ee=-Vt;function Ae(bt,jt,Jt,re){function st(Pe,ve){return bt<=Pe&&Pe<=Jt&&jt<=ve&&ve<=re}function Et(Pe,ve,we,Re){var Qe=0,Ye=0;if(Pe==null||(Qe=_t(Pe,we))!==(Ye=_t(ve,we))||Qt(Pe,ve)<0^we>0)do Re.point(Qe===0||Qe===3?bt:Jt,Qe>1?re:jt);while((Qe=(Qe+we+4)%4)!==Ye);else Re.point(ve[0],ve[1])}function _t(Pe,ve){return u(Pe[0]-bt)<s?ve>0?0:3:u(Pe[0]-Jt)<s?ve>0?2:1:u(Pe[1]-jt)<s?ve>0?1:0:ve>0?3:2}function wt(Pe,ve){return Qt(Pe.x,ve.x)}function Qt(Pe,ve){var we=_t(Pe,1),Re=_t(ve,1);return we!==Re?we-Re:we===0?ve[1]-Pe[1]:we===1?Pe[0]-ve[0]:we===2?Pe[1]-ve[1]:ve[0]-Pe[0]}return function(Pe){var ve=Pe,we=Yi(),Re,Qe,Ye,Cr,gr,Ur,pr,Fr,Hr,Sn,Nn,cn={point:Fn,lineStart:Oa,lineEnd:va,polygonStart:Ci,polygonEnd:Ti};function Fn(Bn,ci){st(Bn,ci)&&ve.point(Bn,ci)}function qn(){for(var Bn=0,ci=0,Ha=Qe.length;ci<Ha;++ci)for(var Wa=Qe[ci],Xn=1,ja=Wa.length,fo=Wa[0],Do,Ro,Ys=fo[0],gs=fo[1];Xn<ja;++Xn)Do=Ys,Ro=gs,fo=Wa[Xn],Ys=fo[0],gs=fo[1],Ro<=re?gs>re&&(Ys-Do)*(re-Ro)>(gs-Ro)*(bt-Do)&&++Bn:gs<=re&&(Ys-Do)*(re-Ro)<(gs-Ro)*(bt-Do)&&--Bn;return Bn}function Ci(){ve=we,Re=[],Qe=[],Nn=!0}function Ti(){var Bn=qn(),ci=Nn&&Bn,Ha=(Re=c.merge(Re)).length;(ci||Ha)&&(Pe.polygonStart(),ci&&(Pe.lineStart(),Et(null,null,1,Pe),Pe.lineEnd()),Ha&&fa(Re,wt,Bn,Et,Pe),Pe.polygonEnd()),ve=Pe,Re=Qe=Ye=null}function Oa(){cn.point=ma,Qe&&Qe.push(Ye=[]),Sn=!0,Hr=!1,pr=Fr=NaN}function va(){Re&&(ma(Cr,gr),Ur&&Hr&&we.rejoin(),Re.push(we.result())),cn.point=Fn,Hr&&ve.lineEnd()}function ma(Bn,ci){var Ha=st(Bn,ci);if(Qe&&Ye.push([Bn,ci]),Sn)Cr=Bn,gr=ci,Ur=Ha,Sn=!1,Ha&&(ve.lineStart(),ve.point(Bn,ci));else if(Ha&&Hr)ve.point(Bn,ci);else{var Wa=[pr=Math.max(ee,Math.min(Vt,pr)),Fr=Math.max(ee,Math.min(Vt,Fr))],Xn=[Bn=Math.max(ee,Math.min(Vt,Bn)),ci=Math.max(ee,Math.min(Vt,ci))];Br(Wa,Xn,bt,jt,Jt,re)?(Hr||(ve.lineStart(),ve.point(Wa[0],Wa[1])),ve.point(Xn[0],Xn[1]),Ha||ve.lineEnd(),Nn=!1):Ha&&(ve.lineStart(),ve.point(Bn,ci),Nn=!1)}pr=Bn,Fr=ci,Hr=Ha}return cn}}function Me(){var bt=0,jt=0,Jt=960,re=500,st,Et,_t;return _t={stream:function(wt){return st&&Et===wt?st:st=Ae(bt,jt,Jt,re)(Et=wt)},extent:function(wt){return arguments.length?(bt=+wt[0][0],jt=+wt[0][1],Jt=+wt[1][0],re=+wt[1][1],st=Et=null,_t):[[bt,jt],[Jt,re]]}}}var Er,dn,xn,fi,Ai={sphere:L,point:L,lineStart:aa,lineEnd:L,polygonStart:L,polygonEnd:L};function aa(){Ai.point=Sa,Ai.lineEnd=qi}function qi(){Ai.point=Ai.lineEnd=L}function Sa(bt,jt){bt*=a,jt*=a,dn=bt,xn=m(jt),fi=p(jt),Ai.point=ca}function ca(bt,jt){bt*=a,jt*=a;var Jt=m(jt),re=p(jt),st=u(bt-dn),Et=p(st),_t=m(st),wt=re*_t,Qt=fi*Jt-xn*re*Et,Pe=xn*Jt+fi*re*Et;Er.add(h(b(wt*wt+Qt*Qt),Pe)),dn=bt,xn=Jt,fi=re}function to(bt){return Er=new c.Adder,J(bt,Ai),+Er}var za=[null,null],Ia={type:"LineString",coordinates:za};function Va(bt,jt){return za[0]=bt,za[1]=jt,to(Ia)}var ro={Feature:function(bt,jt){return be(bt.geometry,jt)},FeatureCollection:function(bt,jt){for(var Jt=bt.features,re=-1,st=Jt.length;++re<st;)if(be(Jt[re].geometry,jt))return!0;return!1}},xe={Sphere:function(){return!0},Point:function(bt,jt){return pe(bt.coordinates,jt)},MultiPoint:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(pe(Jt[re],jt))return!0;return!1},LineString:function(bt,jt){return vt(bt.coordinates,jt)},MultiLineString:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(vt(Jt[re],jt))return!0;return!1},Polygon:function(bt,jt){return gt(bt.coordinates,jt)},MultiPolygon:function(bt,jt){for(var Jt=bt.coordinates,re=-1,st=Jt.length;++re<st;)if(gt(Jt[re],jt))return!0;return!1},GeometryCollection:function(bt,jt){for(var Jt=bt.geometries,re=-1,st=Jt.length;++re<st;)if(be(Jt[re],jt))return!0;return!1}};function be(bt,jt){return bt&&xe.hasOwnProperty(bt.type)?xe[bt.type](bt,jt):!1}function pe(bt,jt){return Va(bt,jt)===0}function vt(bt,jt){for(var Jt,re,st,Et=0,_t=bt.length;Et<_t;Et++){if(re=Va(bt[Et],jt),re===0||Et>0&&(st=Va(bt[Et],bt[Et-1]),st>0&&Jt<=st&&re<=st&&(Jt+re-st)*(1-Math.pow((Jt-re)/st,2))<v*st))return!0;Jt=re}return!1}function gt(bt,jt){return!!mo(bt.map(dt),Dt(jt))}function dt(bt){return bt=bt.map(Dt),bt.pop(),bt}function Dt(bt){return[bt[0]*a,bt[1]*a]}function te(bt,jt){return(bt&&ro.hasOwnProperty(bt.type)?ro[bt.type]:be)(bt,jt)}function We(bt,jt,Jt){var re=c.range(bt,jt-s,Jt).concat(jt);return function(st){return re.map(function(Et){return[st,Et]})}}function cr(bt,jt,Jt){var re=c.range(bt,jt-s,Jt).concat(jt);return function(st){return re.map(function(Et){return[Et,st]})}}function zr(){var bt,jt,Jt,re,st,Et,_t,wt,Qt=10,Pe=Qt,ve=90,we=360,Re,Qe,Ye,Cr,gr=2.5;function Ur(){return{type:"MultiLineString",coordinates:pr()}}function pr(){return c.range(d(re/ve)*ve,Jt,ve).map(Ye).concat(c.range(d(wt/we)*we,_t,we).map(Cr)).concat(c.range(d(jt/Qt)*Qt,bt,Qt).filter(function(Fr){return u(Fr%ve)>s}).map(Re)).concat(c.range(d(Et/Pe)*Pe,st,Pe).filter(function(Fr){return u(Fr%we)>s}).map(Qe))}return Ur.lines=function(){return pr().map(function(Fr){return{type:"LineString",coordinates:Fr}})},Ur.outline=function(){return{type:"Polygon",coordinates:[Ye(re).concat(Cr(_t).slice(1),Ye(Jt).reverse().slice(1),Cr(wt).reverse().slice(1))]}},Ur.extent=function(Fr){return arguments.length?Ur.extentMajor(Fr).extentMinor(Fr):Ur.extentMinor()},Ur.extentMajor=function(Fr){return arguments.length?(re=+Fr[0][0],Jt=+Fr[1][0],wt=+Fr[0][1],_t=+Fr[1][1],re>Jt&&(Fr=re,re=Jt,Jt=Fr),wt>_t&&(Fr=wt,wt=_t,_t=Fr),Ur.precision(gr)):[[re,wt],[Jt,_t]]},Ur.extentMinor=function(Fr){return arguments.length?(jt=+Fr[0][0],bt=+Fr[1][0],Et=+Fr[0][1],st=+Fr[1][1],jt>bt&&(Fr=jt,jt=bt,bt=Fr),Et>st&&(Fr=Et,Et=st,st=Fr),Ur.precision(gr)):[[jt,Et],[bt,st]]},Ur.step=function(Fr){return arguments.length?Ur.stepMajor(Fr).stepMinor(Fr):Ur.stepMinor()},Ur.stepMajor=function(Fr){return arguments.length?(ve=+Fr[0],we=+Fr[1],Ur):[ve,we]},Ur.stepMinor=function(Fr){return arguments.length?(Qt=+Fr[0],Pe=+Fr[1],Ur):[Qt,Pe]},Ur.precision=function(Fr){return arguments.length?(gr=+Fr,Re=We(Et,st,90),Qe=cr(jt,bt,gr),Ye=We(wt,_t,90),Cr=cr(re,Jt,gr),Ur):gr},Ur.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Rt(){return zr()()}function Si(bt,jt){var Jt=bt[0]*a,re=bt[1]*a,st=jt[0]*a,Et=jt[1]*a,_t=p(re),wt=m(re),Qt=p(Et),Pe=m(Et),ve=_t*p(Jt),we=_t*m(Jt),Re=Qt*p(st),Qe=Qt*m(st),Ye=2*T(b(O(Et-re)+_t*Qt*O(st-Jt))),Cr=m(Ye),gr=Ye?function(Ur){var pr=m(Ur*=Ye)/Cr,Fr=m(Ye-Ur)/Cr,Hr=Fr*ve+pr*Re,Sn=Fr*we+pr*Qe,Nn=Fr*wt+pr*Pe;return[h(Sn,Hr)*n,h(Nn,b(Hr*Hr+Sn*Sn))*n]}:function(){return[Jt*n,re*n]};return gr.distance=Ye,gr}var ri=function(bt){return bt},k=new c.Adder,rt=new c.Adder,Bt,yt,ne,_e,or={point:L,lineStart:L,lineEnd:L,polygonStart:function(){or.lineStart=jr,or.lineEnd=Ln},polygonEnd:function(){or.lineStart=or.lineEnd=or.point=L,k.add(u(rt)),rt=new c.Adder},result:function(){var bt=k/2;return k=new c.Adder,bt}};function jr(){or.point=_r}function _r(bt,jt){or.point=Pn,Bt=ne=bt,yt=_e=jt}function Pn(bt,jt){rt.add(_e*bt-ne*jt),ne=bt,_e=jt}function Ln(){Pn(Bt,yt)}var Li=Infinity,sa=Li,Ki=-Li,Ea=Ki,pa={point:Fa,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L,result:function(){var bt=[[Li,sa],[Ki,Ea]];return Ki=Ea=-(sa=Li=Infinity),bt}};function Fa(bt,jt){bt<Li&&(Li=bt),bt>Ki&&(Ki=bt),jt<sa&&(sa=jt),jt>Ea&&(Ea=jt)}var Ua=0,vo=0,No=0,Yo=0,Ds=0,Go=0,Io=0,xo=0,Lo=0,Fo,so,Qo,Jo,So={point:ds,lineStart:ns,lineEnd:Xo,polygonStart:function(){So.lineStart=as,So.lineEnd=$a},polygonEnd:function(){So.point=ds,So.lineStart=ns,So.lineEnd=Xo},result:function(){var bt=Lo?[Io/Lo,xo/Lo]:Go?[Yo/Go,Ds/Go]:No?[Ua/No,vo/No]:[NaN,NaN];return Ua=vo=No=Yo=Ds=Go=Io=xo=Lo=0,bt}};function ds(bt,jt){Ua+=bt,vo+=jt,++No}function ns(){So.point=qo}function qo(bt,jt){So.point=is,ds(Qo=bt,Jo=jt)}function is(bt,jt){var Jt=bt-Qo,re=jt-Jo,st=b(Jt*Jt+re*re);Yo+=st*(Qo+bt)/2,Ds+=st*(Jo+jt)/2,Go+=st,ds(Qo=bt,Jo=jt)}function Xo(){So.point=ds}function as(){So.point=Eu}function $a(){pu(Fo,so)}function Eu(bt,jt){So.point=pu,ds(Fo=Qo=bt,so=Jo=jt)}function pu(bt,jt){var Jt=bt-Qo,re=jt-Jo,st=b(Jt*Jt+re*re);Yo+=st*(Qo+bt)/2,Ds+=st*(Jo+jt)/2,Go+=st,st=Jo*bt-Qo*jt,Io+=st*(Qo+bt),xo+=st*(Jo+jt),Lo+=st*3,ds(Qo=bt,Jo=jt)}function Qs(bt){this._context=bt}Qs.prototype={_radius:4.5,pointRadius:function(bt){return this._radius=bt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(bt,jt){switch(this._point){case 0:{this._context.moveTo(bt,jt),this._point=1;break}case 1:{this._context.lineTo(bt,jt);break}default:{this._context.moveTo(bt+this._radius,jt),this._context.arc(bt,jt,this._radius,0,e);break}}},result:L};var au=new c.Adder,Ko,ie,ce,Kt,De,br={point:L,lineStart:function(){br.point=Tn},lineEnd:function(){Ko&&gi(ie,ce),br.point=L},polygonStart:function(){Ko=!0},polygonEnd:function(){Ko=null},result:function(){var bt=+au;return au=new c.Adder,bt}};function Tn(bt,jt){br.point=gi,ie=Kt=bt,ce=De=jt}function gi(bt,jt){Kt-=bt,De-=jt,au.add(b(Kt*Kt+De*De)),Kt=bt,De=jt}function Oi(){this._string=[]}Oi.prototype={_radius:4.5,_circle:Di(4.5),pointRadius:function(bt){return(bt=+bt)!==this._radius&&(this._radius=bt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(bt,jt){switch(this._point){case 0:{this._string.push("M",bt,",",jt),this._point=1;break}case 1:{this._string.push("L",bt,",",jt);break}default:{this._circle==null&&(this._circle=Di(this._radius)),this._string.push("M",bt,",",jt,this._circle);break}}},result:function(){if(this._string.length){var bt=this._string.join("");return this._string=[],bt}else return null}};function Di(bt){return"m0,"+bt+"a"+bt+","+bt+" 0 1,1 0,"+-2*bt+"a"+bt+","+bt+" 0 1,1 0,"+2*bt+"z"}function ta(bt,jt){var Jt=4.5,re,st;function Et(_t){return _t&&(typeof Jt=="function"&&st.pointRadius(+Jt.apply(this,arguments)),J(_t,re(st))),st.result()}return Et.area=function(_t){return J(_t,re(or)),or.result()},Et.measure=function(_t){return J(_t,re(br)),br.result()},Et.bounds=function(_t){return J(_t,re(pa)),pa.result()},Et.centroid=function(_t){return J(_t,re(So)),So.result()},Et.projection=function(_t){return arguments.length?(re=_t==null?(bt=null,ri):(bt=_t).stream,Et):bt},Et.context=function(_t){return arguments.length?(st=_t==null?(jt=null,new Oi):new Qs(jt=_t),typeof Jt!="function"&&st.pointRadius(Jt),Et):jt},Et.pointRadius=function(_t){return arguments.length?(Jt=typeof _t=="function"?_t:(st.pointRadius(+_t),+_t),Et):Jt},Et.projection(bt).context(jt)}function ha(bt){return{stream:Ba(bt)}}function Ba(bt){return function(jt){var Jt=new na;for(var re in bt)Jt[re]=bt[re];return Jt.stream=jt,Jt}}function na(){}na.prototype={constructor:na,point:function(bt,jt){this.stream.point(bt,jt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ts(bt,jt,Jt){var re=bt.clipExtent&&bt.clipExtent();return bt.scale(150).translate([0,0]),re!=null&&bt.clipExtent(null),J(Jt,bt.stream(pa)),jt(pa.result()),re!=null&&bt.clipExtent(re),bt}function po(bt,jt,Jt){return ts(bt,function(re){var st=jt[1][0]-jt[0][0],Et=jt[1][1]-jt[0][1],_t=Math.min(st/(re[1][0]-re[0][0]),Et/(re[1][1]-re[0][1])),wt=+jt[0][0]+(st-_t*(re[1][0]+re[0][0]))/2,Qt=+jt[0][1]+(Et-_t*(re[1][1]+re[0][1]))/2;bt.scale(150*_t).translate([wt,Qt])},Jt)}function uo(bt,jt,Jt){return po(bt,[[0,0],jt],Jt)}function Zo(bt,jt,Jt){return ts(bt,function(re){var st=+jt,Et=st/(re[1][0]-re[0][0]),_t=(st-Et*(re[1][0]+re[0][0]))/2,wt=-Et*re[0][1];bt.scale(150*Et).translate([_t,wt])},Jt)}function Qa(bt,jt,Jt){return ts(bt,function(re){var st=+jt,Et=st/(re[1][1]-re[0][1]),_t=-Et*re[0][0],wt=(st-Et*(re[1][1]+re[0][1]))/2;bt.scale(150*Et).translate([_t,wt])},Jt)}var go=16,fs=p(30*a);function es(bt,jt){return+jt?os(bt,jt):Rs(bt)}function Rs(bt){return Ba({point:function(jt,Jt){jt=bt(jt,Jt),this.stream.point(jt[0],jt[1])}})}function os(bt,jt){function Jt(re,st,Et,_t,wt,Qt,Pe,ve,we,Re,Qe,Ye,Cr,gr){var Ur=Pe-re,pr=ve-st,Fr=Ur*Ur+pr*pr;if(Fr>4*jt&&Cr--){var Hr=_t+Re,Sn=wt+Qe,Nn=Qt+Ye,cn=b(Hr*Hr+Sn*Sn+Nn*Nn),Fn=T(Nn/=cn),qn=u(u(Nn)-1)<s||u(Et-we)<s?(Et+we)/2:h(Sn,Hr),Ci=bt(qn,Fn),Ti=Ci[0],Oa=Ci[1],va=Ti-re,ma=Oa-st,Bn=pr*va-Ur*ma;(Bn*Bn/Fr>jt||u((Ur*va+pr*ma)/Fr-.5)>.3||_t*Re+wt*Qe+Qt*Ye<fs)&&(Jt(re,st,Et,_t,wt,Qt,Ti,Oa,qn,Hr/=cn,Sn/=cn,Nn,Cr,gr),gr.point(Ti,Oa),Jt(Ti,Oa,qn,Hr,Sn,Nn,Pe,ve,we,Re,Qe,Ye,Cr,gr))}}return function(re){var st,Et,_t,wt,Qt,Pe,ve,we,Re,Qe,Ye,Cr,gr={point:Ur,lineStart:pr,lineEnd:Hr,polygonStart:function(){re.polygonStart(),gr.lineStart=Sn},polygonEnd:function(){re.polygonEnd(),gr.lineStart=pr}};function Ur(Fn,qn){Fn=bt(Fn,qn),re.point(Fn[0],Fn[1])}function pr(){we=NaN,gr.point=Fr,re.lineStart()}function Fr(Fn,qn){var Ci=K([Fn,qn]),Ti=bt(Fn,qn);Jt(we,Re,ve,Qe,Ye,Cr,we=Ti[0],Re=Ti[1],ve=Fn,Qe=Ci[0],Ye=Ci[1],Cr=Ci[2],go,re),re.point(we,Re)}function Hr(){gr.point=Ur,re.lineEnd()}function Sn(){pr(),gr.point=Nn,gr.lineEnd=cn}function Nn(Fn,qn){Fr(st=Fn,qn),Et=we,_t=Re,wt=Qe,Qt=Ye,Pe=Cr,gr.point=Fr}function cn(){Jt(we,Re,ve,Qe,Ye,Cr,Et,_t,st,wt,Qt,Pe,go,re),gr.lineEnd=Hr,Hr()}return gr}}var ss=Ba({point:function(bt,jt){this.stream.point(bt*a,jt*a)}});function Bo(bt){return Ba({point:function(jt,Jt){var re=bt(jt,Jt);return this.stream.point(re[0],re[1])}})}function Zs(bt,jt,Jt,re,st){function Et(_t,wt){return _t*=re,wt*=st,[jt+bt*_t,Jt-bt*wt]}return Et.invert=function(_t,wt){return[(_t-jt)/bt*re,(Jt-wt)/bt*st]},Et}function Ss(bt,jt,Jt,re,st,Et){if(!Et)return Zs(bt,jt,Jt,re,st);var _t=p(Et),wt=m(Et),Qt=_t*bt,Pe=wt*bt,ve=_t/bt,we=wt/bt,Re=(wt*Jt-_t*jt)/bt,Qe=(wt*jt+_t*Jt)/bt;function Ye(Cr,gr){return Cr*=re,gr*=st,[Qt*Cr-Pe*gr+jt,Jt-Pe*Cr-Qt*gr]}return Ye.invert=function(Cr,gr){return[re*(ve*Cr-we*gr+Re),st*(Qe-we*Cr-ve*gr)]},Ye}function Ns(bt){return Fs(function(){return bt})()}function Fs(bt){var jt,Jt=150,re=480,st=250,Et=0,_t=0,wt=0,Qt=0,Pe=0,ve,we=0,Re=1,Qe=1,Ye=null,Cr=Za,gr=null,Ur,pr,Fr,Hr=ri,Sn=.5,Nn,cn,Fn,qn,Ci;function Ti(Bn){return Fn(Bn[0]*a,Bn[1]*a)}function Oa(Bn){return Bn=Fn.invert(Bn[0],Bn[1]),Bn&&[Bn[0]*n,Bn[1]*n]}Ti.stream=function(Bn){return qn&&Ci===Bn?qn:qn=ss(Bo(ve)(Cr(Nn(Hr(Ci=Bn)))))},Ti.preclip=function(Bn){return arguments.length?(Cr=Bn,Ye=void 0,ma()):Cr},Ti.postclip=function(Bn){return arguments.length?(Hr=Bn,gr=Ur=pr=Fr=null,ma()):Hr},Ti.clipAngle=function(Bn){return arguments.length?(Cr=+Bn?ur(Ye=Bn*a):(Ye=null,Za),ma()):Ye*n},Ti.clipExtent=function(Bn){return arguments.length?(Hr=Bn==null?(gr=Ur=pr=Fr=null,ri):Ae(gr=+Bn[0][0],Ur=+Bn[0][1],pr=+Bn[1][0],Fr=+Bn[1][1]),ma()):gr==null?null:[[gr,Ur],[pr,Fr]]},Ti.scale=function(Bn){return arguments.length?(Jt=+Bn,va()):Jt},Ti.translate=function(Bn){return arguments.length?(re=+Bn[0],st=+Bn[1],va()):[re,st]},Ti.center=function(Bn){return arguments.length?(Et=Bn[0]%360*a,_t=Bn[1]%360*a,va()):[Et*n,_t*n]},Ti.rotate=function(Bn){return arguments.length?(wt=Bn[0]%360*a,Qt=Bn[1]%360*a,Pe=Bn.length>2?Bn[2]%360*a:0,va()):[wt*n,Qt*n,Pe*n]},Ti.angle=function(Bn){return arguments.length?(we=Bn%360*a,va()):we*n},Ti.reflectX=function(Bn){return arguments.length?(Re=Bn?-1:1,va()):Re<0},Ti.reflectY=function(Bn){return arguments.length?(Qe=Bn?-1:1,va()):Qe<0},Ti.precision=function(Bn){return arguments.length?(Nn=es(cn,Sn=Bn*Bn),ma()):b(Sn)},Ti.fitExtent=function(Bn,ci){return po(Ti,Bn,ci)},Ti.fitSize=function(Bn,ci){return uo(Ti,Bn,ci)},Ti.fitWidth=function(Bn,ci){return Zo(Ti,Bn,ci)},Ti.fitHeight=function(Bn,ci){return Qa(Ti,Bn,ci)};function va(){var Bn=Ss(Jt,0,0,Re,Qe,we).apply(null,jt(Et,_t)),ci=Ss(Jt,re-Bn[0],st-Bn[1],Re,Qe,we);return ve=qr(wt,Qt,Pe),cn=rn(jt,ci),Fn=rn(ve,cn),Nn=es(cn,Sn),ma()}function ma(){return qn=Ci=null,Ti}return function(){return jt=bt.apply(this,arguments),Ti.invert=jt.invert&&Oa,va()}}function bu(bt){var jt=0,Jt=o/3,re=Fs(bt),st=re(jt,Jt);return st.parallels=function(Et){return arguments.length?re(jt=Et[0]*a,Jt=Et[1]*a):[jt*n,Jt*n]},st}function Cu(bt){var jt=p(bt);function Jt(re,st){return[re*jt,m(st)/jt]}return Jt.invert=function(re,st){return[re/jt,T(st*jt)]},Jt}function Bs(bt,jt){var Jt=m(bt),re=(Jt+m(jt))/2;if(u(re)<s)return Cu(bt);var st=1+Jt*(2*re-Jt),Et=b(st)/re;function _t(wt,Qt){var Pe=b(st-2*re*m(Qt))/re;return[Pe*m(wt*=re),Et-Pe*p(wt)]}return _t.invert=function(wt,Qt){var Pe=Et-Qt,ve=h(wt,u(Pe))*M(Pe);return Pe*re<0&&(ve-=o*M(wt)*M(Pe)),[ve/re,T((st-(wt*wt+Pe*Pe)*re*re)/(2*re))]},_t}function ou(){return bu(Bs).scale(155.424).center([0,33.6442])}function Js(){return ou().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gu(bt){var jt=bt.length;return{point:function(Jt,re){for(var st=-1;++st<jt;)bt[st].point(Jt,re)},sphere:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].sphere()},lineStart:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].lineStart()},lineEnd:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].lineEnd()},polygonStart:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].polygonStart()},polygonEnd:function(){for(var Jt=-1;++Jt<jt;)bt[Jt].polygonEnd()}}}function qs(){var bt,jt,Jt=Js(),re,st=ou().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Et,_t=ou().rotate([157,0]).center([-3,19.9]).parallels([8,18]),wt,Qt,Pe={point:function(Re,Qe){Qt=[Re,Qe]}};function ve(Re){var Qe=Re[0],Ye=Re[1];return Qt=null,re.point(Qe,Ye),Qt||(Et.point(Qe,Ye),Qt)||(wt.point(Qe,Ye),Qt)}ve.invert=function(Re){var Qe=Jt.scale(),Ye=Jt.translate(),Cr=(Re[0]-Ye[0])/Qe,gr=(Re[1]-Ye[1])/Qe;return(gr>=.12&&gr<.234&&Cr>=-.425&&Cr<-.214?st:gr>=.166&&gr<.234&&Cr>=-.214&&Cr<-.115?_t:Jt).invert(Re)},ve.stream=function(Re){return bt&&jt===Re?bt:bt=gu([Jt.stream(jt=Re),st.stream(Re),_t.stream(Re)])},ve.precision=function(Re){return arguments.length?(Jt.precision(Re),st.precision(Re),_t.precision(Re),we()):Jt.precision()},ve.scale=function(Re){return arguments.length?(Jt.scale(Re),st.scale(Re*.35),_t.scale(Re),ve.translate(Jt.translate())):Jt.scale()},ve.translate=function(Re){if(!arguments.length)return Jt.translate();var Qe=Jt.scale(),Ye=+Re[0],Cr=+Re[1];return re=Jt.translate(Re).clipExtent([[Ye-.455*Qe,Cr-.238*Qe],[Ye+.455*Qe,Cr+.238*Qe]]).stream(Pe),Et=st.translate([Ye-.307*Qe,Cr+.201*Qe]).clipExtent([[Ye-.425*Qe+s,Cr+.12*Qe+s],[Ye-.214*Qe-s,Cr+.234*Qe-s]]).stream(Pe),wt=_t.translate([Ye-.205*Qe,Cr+.212*Qe]).clipExtent([[Ye-.214*Qe+s,Cr+.166*Qe+s],[Ye-.115*Qe-s,Cr+.234*Qe-s]]).stream(Pe),we()},ve.fitExtent=function(Re,Qe){return po(ve,Re,Qe)},ve.fitSize=function(Re,Qe){return uo(ve,Re,Qe)},ve.fitWidth=function(Re,Qe){return Zo(ve,Re,Qe)},ve.fitHeight=function(Re,Qe){return Qa(ve,Re,Qe)};function we(){return bt=jt=null,ve}return ve.scale(1070)}function js(bt){return function(jt,Jt){var re=p(jt),st=p(Jt),Et=bt(re*st);return Et===Infinity?[2,0]:[Et*st*m(jt),Et*m(Jt)]}}function Ws(bt){return function(jt,Jt){var re=b(jt*jt+Jt*Jt),st=bt(re),Et=m(st),_t=p(st);return[h(jt*Et,re*_t),T(re&&Jt*Et/re)]}}var Nu=js(function(bt){return b(2/(1+bt))});Nu.invert=Ws(function(bt){return 2*T(bt/2)});function su(){return Ns(Nu).scale(124.75).clipAngle(180-.001)}var Pu=js(function(bt){return(bt=C(bt))&&bt/m(bt)});Pu.invert=Ws(function(bt){return bt});function vu(){return Ns(Pu).scale(79.4188).clipAngle(180-.001)}function Es(bt,jt){return[bt,x(E((f+jt)/2))]}Es.invert=function(bt,jt){return[bt,2*l(g(jt))-f]};function mu(){return Ou(Es).scale(961/e)}function Ou(bt){var jt=Ns(bt),Jt=jt.center,re=jt.scale,st=jt.translate,Et=jt.clipExtent,_t=null,wt,Qt,Pe;jt.scale=function(we){return arguments.length?(re(we),ve()):re()},jt.translate=function(we){return arguments.length?(st(we),ve()):st()},jt.center=function(we){return arguments.length?(Jt(we),ve()):Jt()},jt.clipExtent=function(we){return arguments.length?(we==null?_t=wt=Qt=Pe=null:(_t=+we[0][0],wt=+we[0][1],Qt=+we[1][0],Pe=+we[1][1]),ve()):_t==null?null:[[_t,wt],[Qt,Pe]]};function ve(){var we=o*re(),Re=jt(ar(jt.rotate()).invert([0,0]));return Et(_t==null?[[Re[0]-we,Re[1]-we],[Re[0]+we,Re[1]+we]]:bt===Es?[[Math.max(Re[0]-we,_t),wt],[Math.min(Re[0]+we,Qt),Pe]]:[[_t,Math.max(Re[1]-we,wt)],[Qt,Math.min(Re[1]+we,Pe)]])}return ve()}function Gs(bt){return E((f+bt)/2)}function Co(bt,jt){var Jt=p(bt),re=bt===jt?m(bt):x(Jt/p(jt))/x(Gs(jt)/Gs(bt)),st=Jt*A(Gs(bt),re)/re;if(!re)return Es;function Et(_t,wt){st>0?wt<-f+s&&(wt=-f+s):wt>f-s&&(wt=f-s);var Qt=st/A(Gs(wt),re);return[Qt*m(re*_t),st-Qt*p(re*_t)]}return Et.invert=function(_t,wt){var Qt=st-wt,Pe=M(re)*b(_t*_t+Qt*Qt),ve=h(_t,u(Qt))*M(Qt);return Qt*re<0&&(ve-=o*M(_t)*M(Qt)),[ve/re,2*l(A(st/Pe,1/re))-f]},Et}function cs(){return bu(Co).scale(109.5).parallels([30,30])}function us(bt,jt){return[bt,jt]}us.invert=us;function lo(){return Ns(us).scale(152.63)}function _s(bt,jt){var Jt=p(bt),re=bt===jt?m(bt):(Jt-p(jt))/(jt-bt),st=Jt/re+bt;if(u(re)<s)return us;function Et(_t,wt){var Qt=st-wt,Pe=re*_t;return[Qt*m(Pe),st-Qt*p(Pe)]}return Et.invert=function(_t,wt){var Qt=st-wt,Pe=h(_t,u(Qt))*M(Qt);return Qt*re<0&&(Pe-=o*M(_t)*M(Qt)),[Pe/re,st-M(re)*b(_t*_t+Qt*Qt)]},Et}function jo(){return bu(_s).scale(131.154).center([0,13.9389])}var Wo=1.340264,Vs=-.081106,uu=893e-6,tu=.003796,Hs=b(3)/2,bs=12;function ps(bt,jt){var Jt=T(Hs*m(jt)),re=Jt*Jt,st=re*re*re;return[bt*p(Jt)/(Hs*(Wo+3*Vs*re+st*(7*uu+9*tu*re))),Jt*(Wo+Vs*re+st*(uu+tu*re))]}ps.invert=function(bt,jt){for(var Jt=jt,re=Jt*Jt,st=re*re*re,Et=0,_t,wt,Qt;Et<bs&&(wt=Jt*(Wo+Vs*re+st*(uu+tu*re))-jt,Qt=Wo+3*Vs*re+st*(7*uu+9*tu*re),Jt-=_t=wt/Qt,re=Jt*Jt,st=re*re*re,!(u(_t)<v));++Et);return[Hs*bt*(Wo+3*Vs*re+st*(7*uu+9*tu*re))/p(Jt),T(m(Jt)/Hs)]};function Ut(){return Ns(ps).scale(177.158)}function Xt(bt,jt){var Jt=p(jt),re=p(bt)*Jt;return[Jt*m(bt)/re,m(jt)/re]}Xt.invert=Ws(l);function Ze(){return Ns(Xt).scale(144.049).clipAngle(60)}function Ie(){var bt=1,jt=0,Jt=0,re=1,st=1,Et=0,_t,wt,Qt=null,Pe,ve,we,Re=1,Qe=1,Ye=Ba({point:function(Hr,Sn){var Nn=Fr([Hr,Sn]);this.stream.point(Nn[0],Nn[1])}}),Cr=ri,gr,Ur;function pr(){return Re=bt*re,Qe=bt*st,gr=Ur=null,Fr}function Fr(Hr){var Sn=Hr[0]*Re,Nn=Hr[1]*Qe;if(Et){var cn=Nn*_t-Sn*wt;Sn=Sn*_t+Nn*wt,Nn=cn}return[Sn+jt,Nn+Jt]}return Fr.invert=function(Hr){var Sn=Hr[0]-jt,Nn=Hr[1]-Jt;if(Et){var cn=Nn*_t+Sn*wt;Sn=Sn*_t-Nn*wt,Nn=cn}return[Sn/Re,Nn/Qe]},Fr.stream=function(Hr){return gr&&Ur===Hr?gr:gr=Ye(Cr(Ur=Hr))},Fr.postclip=function(Hr){return arguments.length?(Cr=Hr,Qt=Pe=ve=we=null,pr()):Cr},Fr.clipExtent=function(Hr){return arguments.length?(Cr=Hr==null?(Qt=Pe=ve=we=null,ri):Ae(Qt=+Hr[0][0],Pe=+Hr[0][1],ve=+Hr[1][0],we=+Hr[1][1]),pr()):Qt==null?null:[[Qt,Pe],[ve,we]]},Fr.scale=function(Hr){return arguments.length?(bt=+Hr,pr()):bt},Fr.translate=function(Hr){return arguments.length?(jt=+Hr[0],Jt=+Hr[1],pr()):[jt,Jt]},Fr.angle=function(Hr){return arguments.length?(Et=Hr%360*a,wt=m(Et),_t=p(Et),pr()):Et*n},Fr.reflectX=function(Hr){return arguments.length?(re=Hr?-1:1,pr()):re<0},Fr.reflectY=function(Hr){return arguments.length?(st=Hr?-1:1,pr()):st<0},Fr.fitExtent=function(Hr,Sn){return po(Fr,Hr,Sn)},Fr.fitSize=function(Hr,Sn){return uo(Fr,Hr,Sn)},Fr.fitWidth=function(Hr,Sn){return Zo(Fr,Hr,Sn)},Fr.fitHeight=function(Hr,Sn){return Qa(Fr,Hr,Sn)},Fr}function xr(bt,jt){var Jt=jt*jt,re=Jt*Jt;return[bt*(.8707-.131979*Jt+re*(-.013791+re*(.003971*Jt-.001529*re))),jt*(1.007226+Jt*(.015085+re*(-.044475+.028874*Jt-.005916*re)))]}xr.invert=function(bt,jt){var Jt=jt,re=25,st;do{var Et=Jt*Jt,_t=Et*Et;Jt-=st=(Jt*(1.007226+Et*(.015085+_t*(-.044475+.028874*Et-.005916*_t)))-jt)/(1.007226+Et*(.015085*3+_t*(-.044475*7+.028874*9*Et-.005916*11*_t)))}while(u(st)>s&&--re>0);return[bt/(.8707+(Et=Jt*Jt)*(-.131979+Et*(-.013791+Et*Et*Et*(.003971-.001529*Et)))),Jt]};function Zr(){return Ns(xr).scale(175.295)}function sn(bt,jt){return[p(jt)*m(bt),m(jt)]}sn.invert=Ws(T);function Mn(){return Ns(sn).scale(249.5).clipAngle(90+s)}function In(bt,jt){var Jt=p(jt),re=1+p(bt)*Jt;return[Jt*m(bt)/re,m(jt)/re]}In.invert=Ws(function(bt){return 2*l(bt)});function kn(){return Ns(In).scale(250).clipAngle(142)}function nn(bt,jt){return[x(E((f+jt)/2)),-bt]}nn.invert=function(bt,jt){return[-jt,2*l(g(bt))-f]};function wn(){var bt=Ou(nn),jt=bt.center,Jt=bt.rotate;return bt.center=function(re){return arguments.length?jt([-re[1],re[0]]):(re=jt(),[re[1],-re[0]])},bt.rotate=function(re){return arguments.length?Jt([re[0],re[1],re.length>2?re[2]+90:90]):(re=Jt(),[re[0],re[1],re[2]-90])},Jt([0,0,90]).scale(159.155)}t.geoAlbers=Js,t.geoAlbersUsa=qs,t.geoArea=ct,t.geoAzimuthalEqualArea=su,t.geoAzimuthalEqualAreaRaw=Nu,t.geoAzimuthalEquidistant=vu,t.geoAzimuthalEquidistantRaw=Pu,t.geoBounds=fn,t.geoCentroid=Lr,t.geoCircle=di,t.geoClipAntimeridian=Za,t.geoClipCircle=ur,t.geoClipExtent=Me,t.geoClipRectangle=Ae,t.geoConicConformal=cs,t.geoConicConformalRaw=Co,t.geoConicEqualArea=ou,t.geoConicEqualAreaRaw=Bs,t.geoConicEquidistant=jo,t.geoConicEquidistantRaw=_s,t.geoContains=te,t.geoDistance=Va,t.geoEqualEarth=Ut,t.geoEqualEarthRaw=ps,t.geoEquirectangular=lo,t.geoEquirectangularRaw=us,t.geoGnomonic=Ze,t.geoGnomonicRaw=Xt,t.geoGraticule=zr,t.geoGraticule10=Rt,t.geoIdentity=Ie,t.geoInterpolate=Si,t.geoLength=to,t.geoMercator=mu,t.geoMercatorRaw=Es,t.geoNaturalEarth1=Zr,t.geoNaturalEarth1Raw=xr,t.geoOrthographic=Mn,t.geoOrthographicRaw=sn,t.geoPath=ta,t.geoProjection=Ns,t.geoProjectionMutator=Fs,t.geoRotation=ar,t.geoStereographic=kn,t.geoStereographicRaw=In,t.geoStream=J,t.geoTransform=ha,t.geoTransverseMercator=wn,t.geoTransverseMercatorRaw=nn,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-hexjson@1.1.1@d3-hexjson/build/d3-hexjson.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(this,function(t,c){"use strict";function s(u,l,h){var p=u.layout,d=[],g=0;Object.keys(u.hexes).forEach(function(O){u.hexes[O].key=O,d.push(u.hexes[O])});var y=c.max(d,function(O){return+O.q}),x=c.min(d,function(O){return+O.q}),A=c.max(d,function(O){return+O.r}),m=c.min(d,function(O){return+O.r}),M=y-x+1,b=A-m+1;p==="odd-r"||p==="even-r"?g=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):g=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var E=g*Math.sqrt(3),C=f(p,E,g),T=r(C);return d.forEach(function(O){O.qc=O.q-x,O.rc=A-O.r,O.x=v(O,p,E,g),O.y=o(O,p,E,g),O.vertices=C,O.points=T}),d}function v(u,l,h,p){var d=0,g=0;switch(l){case"odd-r":g=u.rc%2==1?h:h/2,d=u.qc*h+g;break;case"even-r":g=u.rc%2==0?h:h/2,d=u.qc*h+g;break;case"odd-q":case"even-q":d=u.qc*p*1.5+p;break}return d}function o(u,l,h,p){var d=0,g=0;switch(l){case"odd-r":case"even-r":d=u.rc*p*1.5+p;break;case"odd-q":g=u.qc%2==1?h:h/2,d=u.rc*h+g;break;case"even-q":g=u.qc%2==0?h:h/2,d=u.rc*h+g;break}return d}function f(u,l,h){var p=[];switch(u){case"odd-r":case"even-r":p.push({x:0,y:0-h}),p.push({x:0+l*.5,y:0-.5*h}),p.push({x:0+l*.5,y:0+.5*h}),p.push({x:0,y:0+h}),p.push({x:0-l*.5,y:0+.5*h}),p.push({x:0-l*.5,y:0-.5*h});break;case"odd-q":case"even-q":p.push({x:0-h,y:0}),p.push({x:0-.5*h,y:0-l*.5}),p.push({x:0+.5*h,y:0-l*.5}),p.push({x:0+h,y:0}),p.push({x:0+.5*h,y:0+l*.5}),p.push({x:0-.5*h,y:0+l*.5});break}return p}function r(u){var l="";return u.forEach(function(h){l+=h.x+","+h.y+" "}),l.substring(0,l.length-1)}function e(u){var l={};l.layout=u.layout,l.hexes={};var h=[];Object.keys(u.hexes).forEach(function(M){h.push(u.hexes[M])});var p=c.max(h,function(M){return+M.q}),d=c.min(h,function(M){return+M.q}),g=c.max(h,function(M){return+M.r}),y=c.min(h,function(M){return+M.r}),x,A,m;for(x=d;x<=p;x++)for(A=y;A<=g;A++)m="Q"+x+"R"+A,l.hexes[m]={q:x,r:A};return l}function n(u,l,h,p){var d=[],g=u.layout;Object.keys(u.hexes).forEach(function(at){d.push(u.hexes[at])});var y=c.max(d,function(at){return+at.q}),x=c.min(d,function(at){return+at.q}),A=c.max(d,function(at){return+at.r}),m=c.min(d,function(at){return+at.r}),M=y-x+1,b=A-m+1,E;g==="odd-r"||g==="even-r"?E=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):E=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var C=E*Math.sqrt(3),T=[],O=E*E*4,L=d.length;if(L>1){d.forEach(function(at){at.qc=at.q-x,at.rc=A-at.r,at.x=v(at,g,C,E),at.y=o(at,g,C,E)});for(var R=0;R<L-1;R++)for(var W=R+1;W<L;W++){var U=d[R],X=d[W];if(U[p]!==X[p]&&Math.abs(U.q-X.q)<=1&&Math.abs(U.r-X.r)<=1&&(U.x-X.x)*(U.x-X.x)+(U.y-X.y)*(U.y-X.y)<O){var Z={};Z.x=X.x+(U.x-X.x)/2,Z.y=X.y+(U.y-X.y)/2;var J={},ht=Math.sqrt(3)*4;J.dx=(U.y-X.y)/ht,J.dy=-(U.x-X.x)/ht,T.push({x:Z.x-2*J.dx,y:Z.y-2*J.dy}),T.push({x:Z.x-J.dx,y:Z.y-J.dy}),T.push({x:Z.x,y:Z.y}),T.push({x:Z.x+J.dx,y:Z.y+J.dy}),T.push({x:Z.x+2*J.dx,y:Z.y+2*J.dy})}}}return T}function a(u,l,h,p){var d=[],g=u.layout;Object.keys(u.hexes).forEach(function(Q){d.push(u.hexes[Q])});var y=c.max(d,function(Q){return+Q.q}),x=c.min(d,function(Q){return+Q.q}),A=c.max(d,function(Q){return+Q.r}),m=c.min(d,function(Q){return+Q.r}),M=y-x+1,b=A-m+1,E;g==="odd-r"||g==="even-r"?E=c.min([l/((M+.5)*Math.sqrt(3)),h/((b+1/3)*1.5)]):E=c.min([h/((b+.5)*Math.sqrt(3)),l/((M+1/3)*1.5)]);var C=E*Math.sqrt(3),T=[],O=E*E*4,L=d.length;if(L>1){d.forEach(function(Q){Q.qc=Q.q-x,Q.rc=A-Q.r,Q.x=v(Q,g,C,E),Q.y=o(Q,g,C,E)});for(var R=0;R<L-1;R++)for(var W=R+1;W<L;W++){var U=d[R],X=d[W];if(U[p]!==X[p]&&Math.abs(U.q-X.q)<=1&&Math.abs(U.r-X.r)<=1&&(U.x-X.x)*(U.x-X.x)+(U.y-X.y)*(U.y-X.y)<O){var Z={};Z.x=X.x+(U.x-X.x)/2,Z.y=X.y+(U.y-X.y)/2;var J={},ht=1;U[p]<X[p]&&(ht=-1);var at=Math.sqrt(3)*2*ht;J.dx=(U.y-X.y)/at,J.dy=-(U.x-X.x)/at,T.push({x1:Z.x-J.dx,y1:Z.y-J.dy,x2:Z.x+J.dx,y2:Z.y+J.dy})}}}return T}t.renderHexJSON=s,t.getGridForHexJSON=e,t.getBoundaryDotsForHexJSON=n,t.getBoundarySegmentsForHexJSON=a,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";function c(Te,Be){return Te.parent===Be.parent?1:2}function s(Te){return Te.reduce(v,0)/Te.length}function v(Te,Be){return Te+Be.x}function o(Te){return 1+Te.reduce(f,0)}function f(Te,Be){return Math.max(Te,Be.y)}function r(Te){for(var Be;Be=Te.children;)Te=Be[0];return Te}function e(Te){for(var Be;Be=Te.children;)Te=Be[Be.length-1];return Te}function n(){var Te=c,Be=1,lr=1,Or=!1;function sr(Dr){var En,Yn=0;Dr.eachAfter(function(Gr){var wr=Gr.children;wr?(Gr.x=s(wr),Gr.y=o(wr)):(Gr.x=En?Yn+=Te(Gr,En):0,Gr.y=0,En=Gr)});var ln=r(Dr),Jr=e(Dr),Wn=ln.x-Te(ln,Jr)/2,$n=Jr.x+Te(Jr,ln)/2;return Dr.eachAfter(Or?function(Gr){Gr.x=(Gr.x-Dr.x)*Be,Gr.y=(Dr.y-Gr.y)*lr}:function(Gr){Gr.x=(Gr.x-Wn)/($n-Wn)*Be,Gr.y=(1-(Dr.y?Gr.y/Dr.y:1))*lr})}return sr.separation=function(Dr){return arguments.length?(Te=Dr,sr):Te},sr.size=function(Dr){return arguments.length?(Or=!1,Be=+Dr[0],lr=+Dr[1],sr):Or?null:[Be,lr]},sr.nodeSize=function(Dr){return arguments.length?(Or=!0,Be=+Dr[0],lr=+Dr[1],sr):Or?[Be,lr]:null},sr}function a(Te){var Be=0,lr=Te.children,Or=lr&&lr.length;if(!Or)Be=1;else for(;--Or>=0;)Be+=lr[Or].value;Te.value=Be}function u(){return this.eachAfter(a)}function l(Te){var Be=this,lr,Or=[Be],sr,Dr,En;do for(lr=Or.reverse(),Or=[];Be=lr.pop();)if(Te(Be),sr=Be.children,sr)for(Dr=0,En=sr.length;Dr<En;++Dr)Or.push(sr[Dr]);while(Or.length);return this}function h(Te){for(var Be=this,lr=[Be],Or,sr;Be=lr.pop();)if(Te(Be),Or=Be.children,Or)for(sr=Or.length-1;sr>=0;--sr)lr.push(Or[sr]);return this}function p(Te){for(var Be=this,lr=[Be],Or=[],sr,Dr,En;Be=lr.pop();)if(Or.push(Be),sr=Be.children,sr)for(Dr=0,En=sr.length;Dr<En;++Dr)lr.push(sr[Dr]);for(;Be=Or.pop();)Te(Be);return this}function d(Te){return this.eachAfter(function(Be){for(var lr=+Te(Be.data)||0,Or=Be.children,sr=Or&&Or.length;--sr>=0;)lr+=Or[sr].value;Be.value=lr})}function g(Te){return this.eachBefore(function(Be){Be.children&&Be.children.sort(Te)})}function y(Te){for(var Be=this,lr=x(Be,Te),Or=[Be];Be!==lr;)Be=Be.parent,Or.push(Be);for(var sr=Or.length;Te!==lr;)Or.splice(sr,0,Te),Te=Te.parent;return Or}function x(Te,Be){if(Te===Be)return Te;var lr=Te.ancestors(),Or=Be.ancestors(),sr=null;for(Te=lr.pop(),Be=Or.pop();Te===Be;)sr=Te,Te=lr.pop(),Be=Or.pop();return sr}function A(){for(var Te=this,Be=[Te];Te=Te.parent;)Be.push(Te);return Be}function m(){var Te=[];return this.each(function(Be){Te.push(Be)}),Te}function M(){var Te=[];return this.eachBefore(function(Be){Be.children||Te.push(Be)}),Te}function b(){var Te=this,Be=[];return Te.each(function(lr){lr!==Te&&Be.push({source:lr.parent,target:lr})}),Be}function E(Te,Be){var lr=new R(Te),Or=+Te.value&&(lr.value=Te.value),sr,Dr=[lr],En,Yn,ln,Jr;for(Be==null&&(Be=T);sr=Dr.pop();)if(Or&&(sr.value=+sr.data.value),(Yn=Be(sr.data))&&(Jr=Yn.length))for(sr.children=new Array(Jr),ln=Jr-1;ln>=0;--ln)Dr.push(En=sr.children[ln]=new R(Yn[ln])),En.parent=sr,En.depth=sr.depth+1;return lr.eachBefore(L)}function C(){return E(this).eachBefore(O)}function T(Te){return Te.children}function O(Te){Te.data=Te.data.data}function L(Te){var Be=0;do Te.height=Be;while((Te=Te.parent)&&Te.height<++Be)}function R(Te){this.data=Te,this.depth=this.height=0,this.parent=null}R.prototype=E.prototype={constructor:R,count:u,each:l,eachAfter:p,eachBefore:h,sum:d,sort:g,path:y,ancestors:A,descendants:m,leaves:M,links:b,copy:C};var W=Array.prototype.slice;function U(Te){for(var Be=Te.length,lr,Or;Be;)Or=Math.random()*Be--|0,lr=Te[Be],Te[Be]=Te[Or],Te[Or]=lr;return Te}function X(Te){for(var Be=0,lr=(Te=U(W.call(Te))).length,Or=[],sr,Dr;Be<lr;)sr=Te[Be],Dr&&ht(Dr,sr)?++Be:(Dr=Q(Or=Z(Or,sr)),Be=0);return Dr}function Z(Te,Be){var lr,Or;if(at(Be,Te))return[Be];for(lr=0;lr<Te.length;++lr)if(J(Be,Te[lr])&&at(kt(Te[lr],Be),Te))return[Te[lr],Be];for(lr=0;lr<Te.length-1;++lr)for(Or=lr+1;Or<Te.length;++Or)if(J(kt(Te[lr],Te[Or]),Be)&&J(kt(Te[lr],Be),Te[Or])&&J(kt(Te[Or],Be),Te[lr])&&at(Nt(Te[lr],Te[Or],Be),Te))return[Te[lr],Te[Or],Be];throw new Error}function J(Te,Be){var lr=Te.r-Be.r,Or=Be.x-Te.x,sr=Be.y-Te.y;return lr<0||lr*lr<Or*Or+sr*sr}function ht(Te,Be){var lr=Te.r-Be.r+1e-6,Or=Be.x-Te.x,sr=Be.y-Te.y;return lr>0&&lr*lr>Or*Or+sr*sr}function at(Te,Be){for(var lr=0;lr<Be.length;++lr)if(!ht(Te,Be[lr]))return!1;return!0}function Q(Te){switch(Te.length){case 1:return xt(Te[0]);case 2:return kt(Te[0],Te[1]);case 3:return Nt(Te[0],Te[1],Te[2])}}function xt(Te){return{x:Te.x,y:Te.y,r:Te.r}}function kt(Te,Be){var lr=Te.x,Or=Te.y,sr=Te.r,Dr=Be.x,En=Be.y,Yn=Be.r,ln=Dr-lr,Jr=En-Or,Wn=Yn-sr,$n=Math.sqrt(ln*ln+Jr*Jr);return{x:(lr+Dr+ln/$n*Wn)/2,y:(Or+En+Jr/$n*Wn)/2,r:($n+sr+Yn)/2}}function Nt(Te,Be,lr){var Or=Te.x,sr=Te.y,Dr=Te.r,En=Be.x,Yn=Be.y,ln=Be.r,Jr=lr.x,Wn=lr.y,$n=lr.r,Gr=Or-En,wr=Or-Jr,ti=sr-Yn,ge=sr-Wn,Le=ln-Dr,Se=$n-Dr,Ve=Or*Or+sr*sr-Dr*Dr,le=Ve-En*En-Yn*Yn+ln*ln,vr=Ve-Jr*Jr-Wn*Wn+$n*$n,He=wr*ti-Gr*ge,rr=(ti*vr-ge*le)/(He*2)-Or,Lr=(ge*Le-ti*Se)/He,Mr=(wr*le-Gr*vr)/(He*2)-sr,rn=(Gr*Se-wr*Le)/He,pn=Lr*Lr+rn*rn-1,qr=2*(Dr+rr*Lr+Mr*rn),Dn=rr*rr+Mr*Mr-Dr*Dr,ae=-(pn?(qr+Math.sqrt(qr*qr-4*pn*Dn))/(2*pn):Dn/qr);return{x:Or+rr+Lr*ae,y:sr+Mr+rn*ae,r:ae}}function nt(Te,Be,lr){var Or=Te.x-Be.x,sr,Dr,En=Te.y-Be.y,Yn,ln,Jr=Or*Or+En*En;Jr?(Dr=Be.r+lr.r,Dr*=Dr,ln=Te.r+lr.r,ln*=ln,Dr>ln?(sr=(Jr+ln-Dr)/(2*Jr),Yn=Math.sqrt(Math.max(0,ln/Jr-sr*sr)),lr.x=Te.x-sr*Or-Yn*En,lr.y=Te.y-sr*En+Yn*Or):(sr=(Jr+Dr-ln)/(2*Jr),Yn=Math.sqrt(Math.max(0,Dr/Jr-sr*sr)),lr.x=Be.x+sr*Or-Yn*En,lr.y=Be.y+sr*En+Yn*Or)):(lr.x=Be.x+lr.r,lr.y=Be.y)}function q(Te,Be){var lr=Te.r+Be.r-1e-6,Or=Be.x-Te.x,sr=Be.y-Te.y;return lr>0&&lr*lr>Or*Or+sr*sr}function G(Te){var Be=Te._,lr=Te.next._,Or=Be.r+lr.r,sr=(Be.x*lr.r+lr.x*Be.r)/Or,Dr=(Be.y*lr.r+lr.y*Be.r)/Or;return sr*sr+Dr*Dr}function N(Te){this._=Te,this.next=null,this.previous=null}function it(Te){if(!(sr=Te.length))return 0;var Be,lr,Or,sr,Dr,En,Yn,ln,Jr,Wn,$n;if(Be=Te[0],Be.x=0,Be.y=0,!(sr>1))return Be.r;if(lr=Te[1],Be.x=-lr.r,lr.x=Be.r,lr.y=0,!(sr>2))return Be.r+lr.r;nt(lr,Be,Or=Te[2]),Be=new N(Be),lr=new N(lr),Or=new N(Or),Be.next=Or.previous=lr,lr.next=Be.previous=Or,Or.next=lr.previous=Be;t:for(Yn=3;Yn<sr;++Yn){nt(Be._,lr._,Or=Te[Yn]),Or=new N(Or),ln=lr.next,Jr=Be.previous,Wn=lr._.r,$n=Be._.r;do if(Wn<=$n){if(q(ln._,Or._)){lr=ln,Be.next=lr,lr.previous=Be,--Yn;continue t}Wn+=ln._.r,ln=ln.next}else{if(q(Jr._,Or._)){Be=Jr,Be.next=lr,lr.previous=Be,--Yn;continue t}$n+=Jr._.r,Jr=Jr.previous}while(ln!==Jr.next);for(Or.previous=Be,Or.next=lr,Be.next=lr.previous=lr=Or,Dr=G(Be);(Or=Or.next)!==lr;)(En=G(Or))<Dr&&(Be=Or,Dr=En);lr=Be.next}for(Be=[lr._],Or=lr;(Or=Or.next)!==lr;)Be.push(Or._);for(Or=X(Be),Yn=0;Yn<sr;++Yn)Be=Te[Yn],Be.x-=Or.x,Be.y-=Or.y;return Or.r}function H(Te){return it(Te),Te}function ct(Te){return Te==null?null:ft(Te)}function ft(Te){if(typeof Te!="function")throw new Error;return Te}function K(){return 0}function $(Te){return function(){return Te}}function et(Te){return Math.sqrt(Te.value)}function j(){var Te=null,Be=1,lr=1,Or=K;function sr(Dr){return Dr.x=Be/2,Dr.y=lr/2,Te?Dr.eachBefore(w(Te)).eachAfter(D(Or,.5)).eachBefore(V(1)):Dr.eachBefore(w(et)).eachAfter(D(K,1)).eachAfter(D(Or,Dr.r/Math.min(Be,lr))).eachBefore(V(Math.min(Be,lr)/(2*Dr.r))),Dr}return sr.radius=function(Dr){return arguments.length?(Te=ct(Dr),sr):Te},sr.size=function(Dr){return arguments.length?(Be=+Dr[0],lr=+Dr[1],sr):[Be,lr]},sr.padding=function(Dr){return arguments.length?(Or=typeof Dr=="function"?Dr:$(+Dr),sr):Or},sr}function w(Te){return function(Be){Be.children||(Be.r=Math.max(0,+Te(Be)||0))}}function D(Te,Be){return function(lr){if(Or=lr.children){var Or,sr,Dr=Or.length,En=Te(lr)*Be||0,Yn;if(En)for(sr=0;sr<Dr;++sr)Or[sr].r+=En;if(Yn=it(Or),En)for(sr=0;sr<Dr;++sr)Or[sr].r-=En;lr.r=Yn+En}}}function V(Te){return function(Be){var lr=Be.parent;Be.r*=Te,lr&&(Be.x=lr.x+Te*Be.x,Be.y=lr.y+Te*Be.y)}}function tt(Te){Te.x0=Math.round(Te.x0),Te.y0=Math.round(Te.y0),Te.x1=Math.round(Te.x1),Te.y1=Math.round(Te.y1)}function lt(Te,Be,lr,Or,sr){for(var Dr=Te.children,En,Yn=-1,ln=Dr.length,Jr=Te.value&&(Or-Be)/Te.value;++Yn<ln;)En=Dr[Yn],En.y0=lr,En.y1=sr,En.x0=Be,En.x1=Be+=En.value*Jr}function St(){var Te=1,Be=1,lr=0,Or=!1;function sr(En){var Yn=En.height+1;return En.x0=En.y0=lr,En.x1=Te,En.y1=Be/Yn,En.eachBefore(Dr(Be,Yn)),Or&&En.eachBefore(tt),En}function Dr(En,Yn){return function(ln){ln.children&&lt(ln,ln.x0,En*(ln.depth+1)/Yn,ln.x1,En*(ln.depth+2)/Yn);var Jr=ln.x0,Wn=ln.y0,$n=ln.x1-lr,Gr=ln.y1-lr;$n<Jr&&(Jr=$n=(Jr+$n)/2),Gr<Wn&&(Wn=Gr=(Wn+Gr)/2),ln.x0=Jr,ln.y0=Wn,ln.x1=$n,ln.y1=Gr}}return sr.round=function(En){return arguments.length?(Or=!!En,sr):Or},sr.size=function(En){return arguments.length?(Te=+En[0],Be=+En[1],sr):[Te,Be]},sr.padding=function(En){return arguments.length?(lr=+En,sr):lr},sr}var ot="$",Mt={depth:-1},Ot={};function Ft(Te){return Te.id}function zt(Te){return Te.parentId}function $t(){var Te=Ft,Be=zt;function lr(Or){var sr,Dr,En=Or.length,Yn,ln,Jr,Wn=new Array(En),$n,Gr,wr={};for(Dr=0;Dr<En;++Dr)sr=Or[Dr],Jr=Wn[Dr]=new R(sr),($n=Te(sr,Dr,Or))!=null&&($n+="")&&(Gr=ot+(Jr.id=$n),wr[Gr]=Gr in wr?Ot:Jr);for(Dr=0;Dr<En;++Dr)if(Jr=Wn[Dr],$n=Be(Or[Dr],Dr,Or),$n==null||!($n+="")){if(Yn)throw new Error("multiple roots");Yn=Jr}else{if(ln=wr[ot+$n],!ln)throw new Error("missing: "+$n);if(ln===Ot)throw new Error("ambiguous: "+$n);ln.children?ln.children.push(Jr):ln.children=[Jr],Jr.parent=ln}if(!Yn)throw new Error("no root");if(Yn.parent=Mt,Yn.eachBefore(function(ti){ti.depth=ti.parent.depth+1,--En}).eachBefore(L),Yn.parent=null,En>0)throw new Error("cycle");return Yn}return lr.id=function(Or){return arguments.length?(Te=ft(Or),lr):Te},lr.parentId=function(Or){return arguments.length?(Be=ft(Or),lr):Be},lr}function he(Te,Be){return Te.parent===Be.parent?1:2}function ye(Te){var Be=Te.children;return Be?Be[0]:Te.t}function tr(Te){var Be=Te.children;return Be?Be[Be.length-1]:Te.t}function nr(Te,Be,lr){var Or=lr/(Be.i-Te.i);Be.c-=Or,Be.s+=lr,Te.c+=Or,Be.z+=lr,Be.m+=lr}function Xe(Te){for(var Be=0,lr=0,Or=Te.children,sr=Or.length,Dr;--sr>=0;)Dr=Or[sr],Dr.z+=Be,Dr.m+=Be,Be+=Dr.s+(lr+=Dr.c)}function yr(Te,Be,lr){return Te.a.parent===Be.parent?Te.a:lr}function Vr(Te,Be){this._=Te,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Be}Vr.prototype=Object.create(R.prototype);function Ee(Te){for(var Be=new Vr(Te,0),lr,Or=[Be],sr,Dr,En,Yn;lr=Or.pop();)if(Dr=lr._.children)for(lr.children=new Array(Yn=Dr.length),En=Yn-1;En>=0;--En)Or.push(sr=lr.children[En]=new Vr(Dr[En],En)),sr.parent=lr;return(Be.parent=new Vr(null,0)).children=[Be],Be}function de(){var Te=he,Be=1,lr=1,Or=null;function sr(Jr){var Wn=Ee(Jr);if(Wn.eachAfter(Dr),Wn.parent.m=-Wn.z,Wn.eachBefore(En),Or)Jr.eachBefore(ln);else{var $n=Jr,Gr=Jr,wr=Jr;Jr.eachBefore(function(Ve){Ve.x<$n.x&&($n=Ve),Ve.x>Gr.x&&(Gr=Ve),Ve.depth>wr.depth&&(wr=Ve)});var ti=$n===Gr?1:Te($n,Gr)/2,ge=ti-$n.x,Le=Be/(Gr.x+ti+ge),Se=lr/(wr.depth||1);Jr.eachBefore(function(Ve){Ve.x=(Ve.x+ge)*Le,Ve.y=Ve.depth*Se})}return Jr}function Dr(Jr){var Wn=Jr.children,$n=Jr.parent.children,Gr=Jr.i?$n[Jr.i-1]:null;if(Wn){Xe(Jr);var wr=(Wn[0].z+Wn[Wn.length-1].z)/2;Gr?(Jr.z=Gr.z+Te(Jr._,Gr._),Jr.m=Jr.z-wr):Jr.z=wr}else Gr&&(Jr.z=Gr.z+Te(Jr._,Gr._));Jr.parent.A=Yn(Jr,Gr,Jr.parent.A||$n[0])}function En(Jr){Jr._.x=Jr.z+Jr.parent.m,Jr.m+=Jr.parent.m}function Yn(Jr,Wn,$n){if(Wn){for(var Gr=Jr,wr=Jr,ti=Wn,ge=Gr.parent.children[0],Le=Gr.m,Se=wr.m,Ve=ti.m,le=ge.m,vr;ti=tr(ti),Gr=ye(Gr),ti&&Gr;)ge=ye(ge),wr=tr(wr),wr.a=Jr,vr=ti.z+Ve-Gr.z-Le+Te(ti._,Gr._),vr>0&&(nr(yr(ti,Jr,$n),Jr,vr),Le+=vr,Se+=vr),Ve+=ti.m,Le+=Gr.m,le+=ge.m,Se+=wr.m;ti&&!tr(wr)&&(wr.t=ti,wr.m+=Ve-Se),Gr&&!ye(ge)&&(ge.t=Gr,ge.m+=Le-le,$n=Jr)}return $n}function ln(Jr){Jr.x*=Be,Jr.y=Jr.depth*lr}return sr.separation=function(Jr){return arguments.length?(Te=Jr,sr):Te},sr.size=function(Jr){return arguments.length?(Or=!1,Be=+Jr[0],lr=+Jr[1],sr):Or?null:[Be,lr]},sr.nodeSize=function(Jr){return arguments.length?(Or=!0,Be=+Jr[0],lr=+Jr[1],sr):Or?[Be,lr]:null},sr}function Ge(Te,Be,lr,Or,sr){for(var Dr=Te.children,En,Yn=-1,ln=Dr.length,Jr=Te.value&&(sr-lr)/Te.value;++Yn<ln;)En=Dr[Yn],En.x0=Be,En.x1=Or,En.y0=lr,En.y1=lr+=En.value*Jr}var ke=(1+Math.sqrt(5))/2;function Kr(Te,Be,lr,Or,sr,Dr){for(var En=[],Yn=Be.children,ln,Jr,Wn=0,$n=0,Gr=Yn.length,wr,ti,ge=Be.value,Le,Se,Ve,le,vr,He,rr;Wn<Gr;){wr=sr-lr,ti=Dr-Or;do Le=Yn[$n++].value;while(!Le&&$n<Gr);for(Se=Ve=Le,He=Math.max(ti/wr,wr/ti)/(ge*Te),rr=Le*Le*He,vr=Math.max(Ve/rr,rr/Se);$n<Gr;++$n){if(Le+=Jr=Yn[$n].value,Jr<Se&&(Se=Jr),Jr>Ve&&(Ve=Jr),rr=Le*Le*He,le=Math.max(Ve/rr,rr/Se),le>vr){Le-=Jr;break}vr=le}En.push(ln={value:Le,dice:wr<ti,children:Yn.slice(Wn,$n)}),ln.dice?lt(ln,lr,Or,sr,ge?Or+=ti*Le/ge:Dr):Ge(ln,lr,Or,ge?lr+=wr*Le/ge:sr,Dr),ge-=Le,Wn=$n}return En}var fn=function Te(Be){function lr(Or,sr,Dr,En,Yn){Kr(Be,Or,sr,Dr,En,Yn)}return lr.ratio=function(Or){return Te((Or=+Or)>1?Or:1)},lr}(ke);function pi(){var Te=fn,Be=!1,lr=1,Or=1,sr=[0],Dr=K,En=K,Yn=K,ln=K,Jr=K;function Wn(Gr){return Gr.x0=Gr.y0=0,Gr.x1=lr,Gr.y1=Or,Gr.eachBefore($n),sr=[0],Be&&Gr.eachBefore(tt),Gr}function $n(Gr){var wr=sr[Gr.depth],ti=Gr.x0+wr,ge=Gr.y0+wr,Le=Gr.x1-wr,Se=Gr.y1-wr;Le<ti&&(ti=Le=(ti+Le)/2),Se<ge&&(ge=Se=(ge+Se)/2),Gr.x0=ti,Gr.y0=ge,Gr.x1=Le,Gr.y1=Se,Gr.children&&(wr=sr[Gr.depth+1]=Dr(Gr)/2,ti+=Jr(Gr)-wr,ge+=En(Gr)-wr,Le-=Yn(Gr)-wr,Se-=ln(Gr)-wr,Le<ti&&(ti=Le=(ti+Le)/2),Se<ge&&(ge=Se=(ge+Se)/2),Te(Gr,ti,ge,Le,Se))}return Wn.round=function(Gr){return arguments.length?(Be=!!Gr,Wn):Be},Wn.size=function(Gr){return arguments.length?(lr=+Gr[0],Or=+Gr[1],Wn):[lr,Or]},Wn.tile=function(Gr){return arguments.length?(Te=ft(Gr),Wn):Te},Wn.padding=function(Gr){return arguments.length?Wn.paddingInner(Gr).paddingOuter(Gr):Wn.paddingInner()},Wn.paddingInner=function(Gr){return arguments.length?(Dr=typeof Gr=="function"?Gr:$(+Gr),Wn):Dr},Wn.paddingOuter=function(Gr){return arguments.length?Wn.paddingTop(Gr).paddingRight(Gr).paddingBottom(Gr).paddingLeft(Gr):Wn.paddingTop()},Wn.paddingTop=function(Gr){return arguments.length?(En=typeof Gr=="function"?Gr:$(+Gr),Wn):En},Wn.paddingRight=function(Gr){return arguments.length?(Yn=typeof Gr=="function"?Gr:$(+Gr),Wn):Yn},Wn.paddingBottom=function(Gr){return arguments.length?(ln=typeof Gr=="function"?Gr:$(+Gr),Wn):ln},Wn.paddingLeft=function(Gr){return arguments.length?(Jr=typeof Gr=="function"?Gr:$(+Gr),Wn):Jr},Wn}function Vi(Te,Be,lr,Or,sr){var Dr=Te.children,En,Yn=Dr.length,ln,Jr=new Array(Yn+1);for(Jr[0]=ln=En=0;En<Yn;++En)Jr[En+1]=ln+=Dr[En].value;Wn(0,Yn,Te.value,Be,lr,Or,sr);function Wn($n,Gr,wr,ti,ge,Le,Se){if($n>=Gr-1){var Ve=Dr[$n];Ve.x0=ti,Ve.y0=ge,Ve.x1=Le,Ve.y1=Se;return}for(var le=Jr[$n],vr=wr/2+le,He=$n+1,rr=Gr-1;He<rr;){var Lr=He+rr>>>1;Jr[Lr]<vr?He=Lr+1:rr=Lr}vr-Jr[He-1]<Jr[He]-vr&&$n+1<He&&--He;var Mr=Jr[He]-le,rn=wr-Mr;if(Le-ti>Se-ge){var pn=(ti*rn+Le*Mr)/wr;Wn($n,He,Mr,ti,ge,pn,Se),Wn(He,Gr,rn,pn,ge,Le,Se)}else{var qr=(ge*rn+Se*Mr)/wr;Wn($n,He,Mr,ti,ge,Le,qr),Wn(He,Gr,rn,ti,qr,Le,Se)}}}function ea(Te,Be,lr,Or,sr){(Te.depth&1?Ge:lt)(Te,Be,lr,Or,sr)}var zi=function Te(Be){function lr(Or,sr,Dr,En,Yn){if((ln=Or._squarify)&&ln.ratio===Be)for(var ln,Jr,Wn,$n,Gr=-1,wr,ti=ln.length,ge=Or.value;++Gr<ti;){for(Jr=ln[Gr],Wn=Jr.children,$n=Jr.value=0,wr=Wn.length;$n<wr;++$n)Jr.value+=Wn[$n].value;Jr.dice?lt(Jr,sr,Dr,En,Dr+=(Yn-Dr)*Jr.value/ge):Ge(Jr,sr,Dr,sr+=(En-sr)*Jr.value/ge,Yn),ge-=Jr.value}else Or._squarify=ln=Kr(Be,Or,sr,Dr,En,Yn),ln.ratio=Be}return lr.ratio=function(Or){return Te((Or=+Or)>1?Or:1)},lr}(ke);t.cluster=n,t.hierarchy=E,t.pack=j,t.packEnclose=X,t.packSiblings=H,t.partition=St,t.stratify=$t,t.tree=de,t.treemap=pi,t.treemapBinary=Vi,t.treemapDice=lt,t.treemapResquarify=zi,t.treemapSlice=Ge,t.treemapSliceDice=ea,t.treemapSquarify=fn,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";var c=Math.PI,s=2*c,v=1e-6,o=s-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function r(){return new f}f.prototype=r.prototype={constructor:f,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,a,u){this._+="Q"+ +e+","+ +n+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(e,n,a,u,l,h){this._+="C"+ +e+","+ +n+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+h)},arcTo:function(e,n,a,u,l){e=+e,n=+n,a=+a,u=+u,l=+l;var h=this._x1,p=this._y1,d=a-e,g=u-n,y=h-e,x=p-n,A=y*y+x*x;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(A>v)if(!(Math.abs(x*d-g*y)>v)||!l)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var m=a-h,M=u-p,b=d*d+g*g,E=m*m+M*M,C=Math.sqrt(b),T=Math.sqrt(A),O=l*Math.tan((c-Math.acos((b+A-E)/(2*C*T)))/2),L=O/T,R=O/C;Math.abs(L-1)>v&&(this._+="L"+(e+L*y)+","+(n+L*x)),this._+="A"+l+","+l+",0,0,"+ +(x*m>y*M)+","+(this._x1=e+R*d)+","+(this._y1=n+R*g)}},arc:function(e,n,a,u,l,h){e=+e,n=+n,a=+a,h=!!h;var p=a*Math.cos(u),d=a*Math.sin(u),g=e+p,y=n+d,x=1^h,A=h?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+g+","+y:(Math.abs(this._x1-g)>v||Math.abs(this._y1-y)>v)&&(this._+="L"+g+","+y),!!a&&(A<0&&(A=A%s+s),A>o?this._+="A"+a+","+a+",0,1,"+x+","+(e-p)+","+(n-d)+"A"+a+","+a+",0,1,"+x+","+(this._x1=g)+","+(this._y1=y):A>v&&(this._+="A"+a+","+a+",0,"+ +(A>=c)+","+x+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=n+a*Math.sin(l))))},rect:function(e,n,a,u){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},t.path=r,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-path@2.0.0@d3-path/dist/d3-path.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";var c=Math.PI,s=2*c,v=1e-6,o=s-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function r(){return new f}f.prototype=r.prototype={constructor:f,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,a,u){this._+="Q"+ +e+","+ +n+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(e,n,a,u,l,h){this._+="C"+ +e+","+ +n+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+h)},arcTo:function(e,n,a,u,l){e=+e,n=+n,a=+a,u=+u,l=+l;var h=this._x1,p=this._y1,d=a-e,g=u-n,y=h-e,x=p-n,A=y*y+x*x;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(A>v)if(!(Math.abs(x*d-g*y)>v)||!l)this._+="L"+(this._x1=e)+","+(this._y1=n);else{var m=a-h,M=u-p,b=d*d+g*g,E=m*m+M*M,C=Math.sqrt(b),T=Math.sqrt(A),O=l*Math.tan((c-Math.acos((b+A-E)/(2*C*T)))/2),L=O/T,R=O/C;Math.abs(L-1)>v&&(this._+="L"+(e+L*y)+","+(n+L*x)),this._+="A"+l+","+l+",0,0,"+ +(x*m>y*M)+","+(this._x1=e+R*d)+","+(this._y1=n+R*g)}},arc:function(e,n,a,u,l,h){e=+e,n=+n,a=+a,h=!!h;var p=a*Math.cos(u),d=a*Math.sin(u),g=e+p,y=n+d,x=1^h,A=h?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+g+","+y:(Math.abs(this._x1-g)>v||Math.abs(this._y1-y)>v)&&(this._+="L"+g+","+y),!!a&&(A<0&&(A=A%s+s),A>o?this._+="A"+a+","+a+",0,1,"+x+","+(e-p)+","+(n-d)+"A"+a+","+a+",0,1,"+x+","+(this._x1=g)+","+(this._y1=y):A>v&&(this._+="A"+a+","+a+",0,"+ +(A>=c)+","+x+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=n+a*Math.sin(l))))},rect:function(e,n,a,u){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}},t.path=r,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js":function(P,S,i){var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");(function(c,s){s(S,i("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"),i("./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js"),i("./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js"))})(this,function(c,s,v,o){"use strict";function f(C){return C.target.depth}function r(C){return C.depth}function e(C,T){return T-1-C.height}function n(C,T){return C.sourceLinks.length?C.depth:T-1}function a(C){return C.targetLinks.length?C.depth:C.sourceLinks.length?s.min(C.sourceLinks,f)-1:0}function u(C){return function(){return C}}function l(C,T){return p(C.source,T.source)||C.index-T.index}function h(C,T){return p(C.target,T.target)||C.index-T.index}function p(C,T){return C.y0-T.y0}function d(C){return C.value}function g(C){return C.index}function y(C){return C.nodes}function x(C){return C.links}function A(C,T){var O=C.get(T);if(!O)throw new Error("missing: "+T);return O}function m(){var C=0,T=0,O=1,L=1,R=24,W=8,U=g,X=n,Z,J=y,ht=x,at=6;function Q(){var G={nodes:J.apply(null,arguments),links:ht.apply(null,arguments)};return xt(G),kt(G),Nt(G),nt(G),q(G),G}Q.update=function(G){return q(G),G},Q.nodeId=function(G){return arguments.length?(U=typeof G=="function"?G:u(G),Q):U},Q.nodeAlign=function(G){return arguments.length?(X=typeof G=="function"?G:u(G),Q):X},Q.nodeSort=function(G){return arguments.length?(Z=G,Q):Z},Q.nodeWidth=function(G){return arguments.length?(R=+G,Q):R},Q.nodePadding=function(G){return arguments.length?(W=+G,Q):W},Q.nodes=function(G){return arguments.length?(J=typeof G=="function"?G:u(G),Q):J},Q.links=function(G){return arguments.length?(ht=typeof G=="function"?G:u(G),Q):ht},Q.size=function(G){return arguments.length?(C=T=0,O=+G[0],L=+G[1],Q):[O-C,L-T]},Q.extent=function(G){return arguments.length?(C=+G[0][0],O=+G[1][0],T=+G[0][1],L=+G[1][1],Q):[[C,T],[O,L]]},Q.iterations=function(G){return arguments.length?(at=+G,Q):at};function xt(G){G.nodes.forEach(function(it,H){it.index=H,it.sourceLinks=[],it.targetLinks=[]});var N=v.map(G.nodes,U);G.links.forEach(function(it,H){it.index=H;var ct=it.source,ft=it.target;typeof ct!="object"&&(ct=it.source=A(N,ct)),typeof ft!="object"&&(ft=it.target=A(N,ft)),ct.sourceLinks.push(it),ft.targetLinks.push(it)})}function kt(G){G.nodes.forEach(function(N){N.value=Math.max(s.sum(N.sourceLinks,d),s.sum(N.targetLinks,d))})}function Nt(G){var N,it,H,ct=G.nodes.length;for(N=G.nodes,it=[],H=0;N.length;++H,N=it,it=[]){if(H>ct)throw new Error("circular link");N.forEach(function(K){K.depth=H,K.sourceLinks.forEach(function($){it.indexOf($.target)<0&&it.push($.target)})})}for(N=G.nodes,it=[],H=0;N.length;++H,N=it,it=[]){if(H>ct)throw new Error("circular link");N.forEach(function(K){K.height=H,K.targetLinks.forEach(function($){it.indexOf($.source)<0&&it.push($.source)})})}var ft=(O-C-R)/(H-1);G.nodes.forEach(function(K){K.x1=(K.x0=C+Math.max(0,Math.min(H-1,Math.floor(X.call(null,K,H))))*ft)+R})}function nt(G){var N=v.nest().key(function(et){return et.x0}).sortKeys(s.ascending).entries(G.nodes).map(function(et){return et.values});ct(),$();for(var it=.9,H=at;H>0;--H,it*=.9)K(it),$(),ft(it),$();function ct(){var et=s.min(N,function(j){return(L-T-(j.length-1)*W)/s.sum(j,d)});N.forEach(function(j){Z!=null&&j.sort(Z),j.forEach(function(w,D){w.y1=(w.y0=D)+w.value*et})}),G.links.forEach(function(j){j.width=j.value*et})}function ft(et){N.forEach(function(j){j.forEach(function(w){var D,V,tt,lt,St=w.y0;try{for(var ot=t.__values(w.sourceLinks.sort(h)),Mt=ot.next();!Mt.done;Mt=ot.next()){var Ot=Mt.value,Ft=Ot.target,zt=Ot.width,$t=Ot.value;if($t>0){var he=0;try{for(var ye=(tt=void 0,t.__values(Ft.targetLinks)),tr=ye.next();!tr.done;tr=ye.next()){var nr=tr.value,Xe=nr.source,yr=nr.width;if(Xe===w)break;he+=yr+W/2}}catch(Vr){tt={error:Vr}}finally{try{tr&&!tr.done&&(lt=ye.return)&&lt.call(ye)}finally{if(tt)throw tt.error}}he=(St-he-Ft.y0)*et*($t/Math.min(w.value,Ft.value)),Ft.y0+=he,Ft.y1+=he}St+=zt+W/2}}catch(Vr){D={error:Vr}}finally{try{Mt&&!Mt.done&&(V=ot.return)&&V.call(ot)}finally{if(D)throw D.error}}})})}function K(et){N.slice().reverse().forEach(function(j){j.forEach(function(w){var D,V,tt,lt,St=w.y0;try{for(var ot=t.__values(w.targetLinks.sort(l)),Mt=ot.next();!Mt.done;Mt=ot.next()){var Ot=Mt.value,Ft=Ot.source,zt=Ot.width,$t=Ot.value;if($t>0){var he=0;try{for(var ye=(tt=void 0,t.__values(Ft.sourceLinks)),tr=ye.next();!tr.done;tr=ye.next()){var nr=tr.value,Xe=nr.target,yr=nr.width;if(Xe===w)break;he+=yr+W/2}}catch(Vr){tt={error:Vr}}finally{try{tr&&!tr.done&&(lt=ye.return)&&lt.call(ye)}finally{if(tt)throw tt.error}}he=(St-he-Ft.y0)*et*($t/Math.min(w.value,Ft.value)),Ft.y0+=he,Ft.y1+=he}St+=zt+W/2}}catch(Vr){D={error:Vr}}finally{try{Mt&&!Mt.done&&(V=ot.return)&&V.call(ot)}finally{if(D)throw D.error}}})})}function $(){N.forEach(function(et){var j,w,D=T,V=et.length,tt;for(Z===void 0&&et.sort(p),tt=0;tt<V;++tt)j=et[tt],w=D-j.y0,w>0&&(j.y0+=w,j.y1+=w),D=j.y1+W;if(w=D-W-L,w>0)for(D=j.y0-=w,j.y1-=w,tt=V-2;tt>=0;--tt)j=et[tt],w=j.y1+W-D,w>0&&(j.y0-=w,j.y1-=w),D=j.y0})}}function q(G){G.nodes.forEach(function(N){N.sourceLinks.sort(h),N.targetLinks.sort(l)}),G.nodes.forEach(function(N){var it=N.y0,H=it;N.sourceLinks.forEach(function(ct){ct.y0=it+ct.width/2,it+=ct.width}),N.targetLinks.forEach(function(ct){ct.y1=H+ct.width/2,H+=ct.width})})}return Q}function M(C){return[C.source.x1,C.y0]}function b(C){return[C.target.x0,C.y1]}function E(){return o.linkHorizontal().source(M).target(b)}c.sankey=m,c.sankeyCenter=a,c.sankeyLeft=r,c.sankeyRight=e,c.sankeyJustify=n,c.sankeyLinkHorizontal=E,Object.defineProperty(c,"__esModule",{value:!0})})},"./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js":function(P,S,i){(function(t,c){c(S,i("./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js"))})(this,function(t,c){"use strict";function s(Zt){return function(){return Zt}}var v=Math.abs,o=Math.atan2,f=Math.cos,r=Math.max,e=Math.min,n=Math.sin,a=Math.sqrt,u=1e-12,l=Math.PI,h=l/2,p=2*l;function d(Zt){return Zt>1?0:Zt<-1?l:Math.acos(Zt)}function g(Zt){return Zt>=1?h:Zt<=-1?-h:Math.asin(Zt)}function y(Zt){return Zt.innerRadius}function x(Zt){return Zt.outerRadius}function A(Zt){return Zt.startAngle}function m(Zt){return Zt.endAngle}function M(Zt){return Zt&&Zt.padAngle}function b(Zt,je,ur,Br,Vt,ee,Ae,Me){var Er=ur-Zt,dn=Br-je,xn=Ae-Vt,fi=Me-ee,Ai=fi*Er-xn*dn;if(!(Ai*Ai<u))return Ai=(xn*(je-ee)-fi*(Zt-Vt))/Ai,[Zt+Ai*Er,je+Ai*dn]}function E(Zt,je,ur,Br,Vt,ee,Ae){var Me=Zt-ur,Er=je-Br,dn=(Ae?ee:-ee)/a(Me*Me+Er*Er),xn=dn*Er,fi=-dn*Me,Ai=Zt+xn,aa=je+fi,qi=ur+xn,Sa=Br+fi,ca=(Ai+qi)/2,to=(aa+Sa)/2,za=qi-Ai,Ia=Sa-aa,Va=za*za+Ia*Ia,ro=Vt-ee,xe=Ai*Sa-qi*aa,be=(Ia<0?-1:1)*a(r(0,ro*ro*Va-xe*xe)),pe=(xe*Ia-za*be)/Va,vt=(-xe*za-Ia*be)/Va,gt=(xe*Ia+za*be)/Va,dt=(-xe*za+Ia*be)/Va,Dt=pe-ca,te=vt-to,We=gt-ca,cr=dt-to;return Dt*Dt+te*te>We*We+cr*cr&&(pe=gt,vt=dt),{cx:pe,cy:vt,x01:-xn,y01:-fi,x11:pe*(Vt/ro-1),y11:vt*(Vt/ro-1)}}function C(){var Zt=y,je=x,ur=s(0),Br=null,Vt=A,ee=m,Ae=M,Me=null;function Er(){var dn,xn,fi=+Zt.apply(this,arguments),Ai=+je.apply(this,arguments),aa=Vt.apply(this,arguments)-h,qi=ee.apply(this,arguments)-h,Sa=v(qi-aa),ca=qi>aa;if(Me||(Me=dn=c.path()),Ai<fi&&(xn=Ai,Ai=fi,fi=xn),!(Ai>u))Me.moveTo(0,0);else if(Sa>p-u)Me.moveTo(Ai*f(aa),Ai*n(aa)),Me.arc(0,0,Ai,aa,qi,!ca),fi>u&&(Me.moveTo(fi*f(qi),fi*n(qi)),Me.arc(0,0,fi,qi,aa,ca));else{var to=aa,za=qi,Ia=aa,Va=qi,ro=Sa,xe=Sa,be=Ae.apply(this,arguments)/2,pe=be>u&&(Br?+Br.apply(this,arguments):a(fi*fi+Ai*Ai)),vt=e(v(Ai-fi)/2,+ur.apply(this,arguments)),gt=vt,dt=vt,Dt,te;if(pe>u){var We=g(pe/fi*n(be)),cr=g(pe/Ai*n(be));(ro-=We*2)>u?(We*=ca?1:-1,Ia+=We,Va-=We):(ro=0,Ia=Va=(aa+qi)/2),(xe-=cr*2)>u?(cr*=ca?1:-1,to+=cr,za-=cr):(xe=0,to=za=(aa+qi)/2)}var zr=Ai*f(to),Rt=Ai*n(to),Si=fi*f(Va),ri=fi*n(Va);if(vt>u){var k=Ai*f(za),rt=Ai*n(za),Bt=fi*f(Ia),yt=fi*n(Ia),ne;if(Sa<l&&(ne=b(zr,Rt,Bt,yt,k,rt,Si,ri))){var _e=zr-ne[0],or=Rt-ne[1],jr=k-ne[0],_r=rt-ne[1],Pn=1/n(d((_e*jr+or*_r)/(a(_e*_e+or*or)*a(jr*jr+_r*_r)))/2),Ln=a(ne[0]*ne[0]+ne[1]*ne[1]);gt=e(vt,(fi-Ln)/(Pn-1)),dt=e(vt,(Ai-Ln)/(Pn+1))}}xe>u?dt>u?(Dt=E(Bt,yt,zr,Rt,Ai,dt,ca),te=E(k,rt,Si,ri,Ai,dt,ca),Me.moveTo(Dt.cx+Dt.x01,Dt.cy+Dt.y01),dt<vt?Me.arc(Dt.cx,Dt.cy,dt,o(Dt.y01,Dt.x01),o(te.y01,te.x01),!ca):(Me.arc(Dt.cx,Dt.cy,dt,o(Dt.y01,Dt.x01),o(Dt.y11,Dt.x11),!ca),Me.arc(0,0,Ai,o(Dt.cy+Dt.y11,Dt.cx+Dt.x11),o(te.cy+te.y11,te.cx+te.x11),!ca),Me.arc(te.cx,te.cy,dt,o(te.y11,te.x11),o(te.y01,te.x01),!ca))):(Me.moveTo(zr,Rt),Me.arc(0,0,Ai,to,za,!ca)):Me.moveTo(zr,Rt),!(fi>u)||!(ro>u)?Me.lineTo(Si,ri):gt>u?(Dt=E(Si,ri,k,rt,fi,-gt,ca),te=E(zr,Rt,Bt,yt,fi,-gt,ca),Me.lineTo(Dt.cx+Dt.x01,Dt.cy+Dt.y01),gt<vt?Me.arc(Dt.cx,Dt.cy,gt,o(Dt.y01,Dt.x01),o(te.y01,te.x01),!ca):(Me.arc(Dt.cx,Dt.cy,gt,o(Dt.y01,Dt.x01),o(Dt.y11,Dt.x11),!ca),Me.arc(0,0,fi,o(Dt.cy+Dt.y11,Dt.cx+Dt.x11),o(te.cy+te.y11,te.cx+te.x11),ca),Me.arc(te.cx,te.cy,gt,o(te.y11,te.x11),o(te.y01,te.x01),!ca))):Me.arc(0,0,fi,Va,Ia,ca)}if(Me.closePath(),dn)return Me=null,dn+""||null}return Er.centroid=function(){var dn=(+Zt.apply(this,arguments)+ +je.apply(this,arguments))/2,xn=(+Vt.apply(this,arguments)+ +ee.apply(this,arguments))/2-l/2;return[f(xn)*dn,n(xn)*dn]},Er.innerRadius=function(dn){return arguments.length?(Zt=typeof dn=="function"?dn:s(+dn),Er):Zt},Er.outerRadius=function(dn){return arguments.length?(je=typeof dn=="function"?dn:s(+dn),Er):je},Er.cornerRadius=function(dn){return arguments.length?(ur=typeof dn=="function"?dn:s(+dn),Er):ur},Er.padRadius=function(dn){return arguments.length?(Br=dn==null?null:typeof dn=="function"?dn:s(+dn),Er):Br},Er.startAngle=function(dn){return arguments.length?(Vt=typeof dn=="function"?dn:s(+dn),Er):Vt},Er.endAngle=function(dn){return arguments.length?(ee=typeof dn=="function"?dn:s(+dn),Er):ee},Er.padAngle=function(dn){return arguments.length?(Ae=typeof dn=="function"?dn:s(+dn),Er):Ae},Er.context=function(dn){return arguments.length?(Me=dn==null?null:dn,Er):Me},Er}function T(Zt){this._context=Zt}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;default:this._context.lineTo(Zt,je);break}}};function O(Zt){return new T(Zt)}function L(Zt){return Zt[0]}function R(Zt){return Zt[1]}function W(){var Zt=L,je=R,ur=s(!0),Br=null,Vt=O,ee=null;function Ae(Me){var Er,dn=Me.length,xn,fi=!1,Ai;for(Br==null&&(ee=Vt(Ai=c.path())),Er=0;Er<=dn;++Er)!(Er<dn&&ur(xn=Me[Er],Er,Me))===fi&&((fi=!fi)?ee.lineStart():ee.lineEnd()),fi&&ee.point(+Zt(xn,Er,Me),+je(xn,Er,Me));if(Ai)return ee=null,Ai+""||null}return Ae.x=function(Me){return arguments.length?(Zt=typeof Me=="function"?Me:s(+Me),Ae):Zt},Ae.y=function(Me){return arguments.length?(je=typeof Me=="function"?Me:s(+Me),Ae):je},Ae.defined=function(Me){return arguments.length?(ur=typeof Me=="function"?Me:s(!!Me),Ae):ur},Ae.curve=function(Me){return arguments.length?(Vt=Me,Br!=null&&(ee=Vt(Br)),Ae):Vt},Ae.context=function(Me){return arguments.length?(Me==null?Br=ee=null:ee=Vt(Br=Me),Ae):Br},Ae}function U(){var Zt=L,je=null,ur=s(0),Br=R,Vt=s(!0),ee=null,Ae=O,Me=null;function Er(xn){var fi,Ai,aa,qi=xn.length,Sa,ca=!1,to,za=new Array(qi),Ia=new Array(qi);for(ee==null&&(Me=Ae(to=c.path())),fi=0;fi<=qi;++fi){if(!(fi<qi&&Vt(Sa=xn[fi],fi,xn))===ca)if(ca=!ca)Ai=fi,Me.areaStart(),Me.lineStart();else{for(Me.lineEnd(),Me.lineStart(),aa=fi-1;aa>=Ai;--aa)Me.point(za[aa],Ia[aa]);Me.lineEnd(),Me.areaEnd()}ca&&(za[fi]=+Zt(Sa,fi,xn),Ia[fi]=+ur(Sa,fi,xn),Me.point(je?+je(Sa,fi,xn):za[fi],Br?+Br(Sa,fi,xn):Ia[fi]))}if(to)return Me=null,to+""||null}function dn(){return W().defined(Vt).curve(Ae).context(ee)}return Er.x=function(xn){return arguments.length?(Zt=typeof xn=="function"?xn:s(+xn),je=null,Er):Zt},Er.x0=function(xn){return arguments.length?(Zt=typeof xn=="function"?xn:s(+xn),Er):Zt},Er.x1=function(xn){return arguments.length?(je=xn==null?null:typeof xn=="function"?xn:s(+xn),Er):je},Er.y=function(xn){return arguments.length?(ur=typeof xn=="function"?xn:s(+xn),Br=null,Er):ur},Er.y0=function(xn){return arguments.length?(ur=typeof xn=="function"?xn:s(+xn),Er):ur},Er.y1=function(xn){return arguments.length?(Br=xn==null?null:typeof xn=="function"?xn:s(+xn),Er):Br},Er.lineX0=Er.lineY0=function(){return dn().x(Zt).y(ur)},Er.lineY1=function(){return dn().x(Zt).y(Br)},Er.lineX1=function(){return dn().x(je).y(ur)},Er.defined=function(xn){return arguments.length?(Vt=typeof xn=="function"?xn:s(!!xn),Er):Vt},Er.curve=function(xn){return arguments.length?(Ae=xn,ee!=null&&(Me=Ae(ee)),Er):Ae},Er.context=function(xn){return arguments.length?(xn==null?ee=Me=null:Me=Ae(ee=xn),Er):ee},Er}function X(Zt,je){return je<Zt?-1:je>Zt?1:je>=Zt?0:NaN}function Z(Zt){return Zt}function J(){var Zt=Z,je=X,ur=null,Br=s(0),Vt=s(p),ee=s(0);function Ae(Me){var Er,dn=Me.length,xn,fi,Ai=0,aa=new Array(dn),qi=new Array(dn),Sa=+Br.apply(this,arguments),ca=Math.min(p,Math.max(-p,Vt.apply(this,arguments)-Sa)),to,za=Math.min(Math.abs(ca)/dn,ee.apply(this,arguments)),Ia=za*(ca<0?-1:1),Va;for(Er=0;Er<dn;++Er)(Va=qi[aa[Er]=Er]=+Zt(Me[Er],Er,Me))>0&&(Ai+=Va);for(je!=null?aa.sort(function(ro,xe){return je(qi[ro],qi[xe])}):ur!=null&&aa.sort(function(ro,xe){return ur(Me[ro],Me[xe])}),Er=0,fi=Ai?(ca-dn*Ia)/Ai:0;Er<dn;++Er,Sa=to)xn=aa[Er],Va=qi[xn],to=Sa+(Va>0?Va*fi:0)+Ia,qi[xn]={data:Me[xn],index:Er,value:Va,startAngle:Sa,endAngle:to,padAngle:za};return qi}return Ae.value=function(Me){return arguments.length?(Zt=typeof Me=="function"?Me:s(+Me),Ae):Zt},Ae.sortValues=function(Me){return arguments.length?(je=Me,ur=null,Ae):je},Ae.sort=function(Me){return arguments.length?(ur=Me,je=null,Ae):ur},Ae.startAngle=function(Me){return arguments.length?(Br=typeof Me=="function"?Me:s(+Me),Ae):Br},Ae.endAngle=function(Me){return arguments.length?(Vt=typeof Me=="function"?Me:s(+Me),Ae):Vt},Ae.padAngle=function(Me){return arguments.length?(ee=typeof Me=="function"?Me:s(+Me),Ae):ee},Ae}var ht=Q(O);function at(Zt){this._curve=Zt}at.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Zt,je){this._curve.point(je*Math.sin(Zt),je*-Math.cos(Zt))}};function Q(Zt){function je(ur){return new at(Zt(ur))}return je._curve=Zt,je}function xt(Zt){var je=Zt.curve;return Zt.angle=Zt.x,delete Zt.x,Zt.radius=Zt.y,delete Zt.y,Zt.curve=function(ur){return arguments.length?je(Q(ur)):je()._curve},Zt}function kt(){return xt(W().curve(ht))}function Nt(){var Zt=U().curve(ht),je=Zt.curve,ur=Zt.lineX0,Br=Zt.lineX1,Vt=Zt.lineY0,ee=Zt.lineY1;return Zt.angle=Zt.x,delete Zt.x,Zt.startAngle=Zt.x0,delete Zt.x0,Zt.endAngle=Zt.x1,delete Zt.x1,Zt.radius=Zt.y,delete Zt.y,Zt.innerRadius=Zt.y0,delete Zt.y0,Zt.outerRadius=Zt.y1,delete Zt.y1,Zt.lineStartAngle=function(){return xt(ur())},delete Zt.lineX0,Zt.lineEndAngle=function(){return xt(Br())},delete Zt.lineX1,Zt.lineInnerRadius=function(){return xt(Vt())},delete Zt.lineY0,Zt.lineOuterRadius=function(){return xt(ee())},delete Zt.lineY1,Zt.curve=function(Ae){return arguments.length?je(Q(Ae)):je()._curve},Zt}function nt(Zt,je){return[(je=+je)*Math.cos(Zt-=Math.PI/2),je*Math.sin(Zt)]}var q=Array.prototype.slice;function G(Zt){return Zt.source}function N(Zt){return Zt.target}function it(Zt){var je=G,ur=N,Br=L,Vt=R,ee=null;function Ae(){var Me,Er=q.call(arguments),dn=je.apply(this,Er),xn=ur.apply(this,Er);if(ee||(ee=Me=c.path()),Zt(ee,+Br.apply(this,(Er[0]=dn,Er)),+Vt.apply(this,Er),+Br.apply(this,(Er[0]=xn,Er)),+Vt.apply(this,Er)),Me)return ee=null,Me+""||null}return Ae.source=function(Me){return arguments.length?(je=Me,Ae):je},Ae.target=function(Me){return arguments.length?(ur=Me,Ae):ur},Ae.x=function(Me){return arguments.length?(Br=typeof Me=="function"?Me:s(+Me),Ae):Br},Ae.y=function(Me){return arguments.length?(Vt=typeof Me=="function"?Me:s(+Me),Ae):Vt},Ae.context=function(Me){return arguments.length?(ee=Me==null?null:Me,Ae):ee},Ae}function H(Zt,je,ur,Br,Vt){Zt.moveTo(je,ur),Zt.bezierCurveTo(je=(je+Br)/2,ur,je,Vt,Br,Vt)}function ct(Zt,je,ur,Br,Vt){Zt.moveTo(je,ur),Zt.bezierCurveTo(je,ur=(ur+Vt)/2,Br,ur,Br,Vt)}function ft(Zt,je,ur,Br,Vt){var ee=nt(je,ur),Ae=nt(je,ur=(ur+Vt)/2),Me=nt(Br,ur),Er=nt(Br,Vt);Zt.moveTo(ee[0],ee[1]),Zt.bezierCurveTo(Ae[0],Ae[1],Me[0],Me[1],Er[0],Er[1])}function K(){return it(H)}function $(){return it(ct)}function et(){var Zt=it(ft);return Zt.angle=Zt.x,delete Zt.x,Zt.radius=Zt.y,delete Zt.y,Zt}var j={draw:function(Zt,je){var ur=Math.sqrt(je/l);Zt.moveTo(ur,0),Zt.arc(0,0,ur,0,p)}},w={draw:function(Zt,je){var ur=Math.sqrt(je/5)/2;Zt.moveTo(-3*ur,-ur),Zt.lineTo(-ur,-ur),Zt.lineTo(-ur,-3*ur),Zt.lineTo(ur,-3*ur),Zt.lineTo(ur,-ur),Zt.lineTo(3*ur,-ur),Zt.lineTo(3*ur,ur),Zt.lineTo(ur,ur),Zt.lineTo(ur,3*ur),Zt.lineTo(-ur,3*ur),Zt.lineTo(-ur,ur),Zt.lineTo(-3*ur,ur),Zt.closePath()}},D=Math.sqrt(1/3),V=D*2,tt={draw:function(Zt,je){var ur=Math.sqrt(je/V),Br=ur*D;Zt.moveTo(0,-ur),Zt.lineTo(Br,0),Zt.lineTo(0,ur),Zt.lineTo(-Br,0),Zt.closePath()}},lt=.8908130915292852,St=Math.sin(l/10)/Math.sin(7*l/10),ot=Math.sin(p/10)*St,Mt=-Math.cos(p/10)*St,Ot={draw:function(Zt,je){var ur=Math.sqrt(je*lt),Br=ot*ur,Vt=Mt*ur;Zt.moveTo(0,-ur),Zt.lineTo(Br,Vt);for(var ee=1;ee<5;++ee){var Ae=p*ee/5,Me=Math.cos(Ae),Er=Math.sin(Ae);Zt.lineTo(Er*ur,-Me*ur),Zt.lineTo(Me*Br-Er*Vt,Er*Br+Me*Vt)}Zt.closePath()}},Ft={draw:function(Zt,je){var ur=Math.sqrt(je),Br=-ur/2;Zt.rect(Br,Br,ur,ur)}},zt=Math.sqrt(3),$t={draw:function(Zt,je){var ur=-Math.sqrt(je/(zt*3));Zt.moveTo(0,ur*2),Zt.lineTo(-zt*ur,-ur),Zt.lineTo(zt*ur,-ur),Zt.closePath()}},he=-.5,ye=Math.sqrt(3)/2,tr=1/Math.sqrt(12),nr=(tr/2+1)*3,Xe={draw:function(Zt,je){var ur=Math.sqrt(je/nr),Br=ur/2,Vt=ur*tr,ee=Br,Ae=ur*tr+ur,Me=-ee,Er=Ae;Zt.moveTo(Br,Vt),Zt.lineTo(ee,Ae),Zt.lineTo(Me,Er),Zt.lineTo(he*Br-ye*Vt,ye*Br+he*Vt),Zt.lineTo(he*ee-ye*Ae,ye*ee+he*Ae),Zt.lineTo(he*Me-ye*Er,ye*Me+he*Er),Zt.lineTo(he*Br+ye*Vt,he*Vt-ye*Br),Zt.lineTo(he*ee+ye*Ae,he*Ae-ye*ee),Zt.lineTo(he*Me+ye*Er,he*Er-ye*Me),Zt.closePath()}},yr=[j,w,tt,Ft,Ot,$t,Xe];function Vr(){var Zt=s(j),je=s(64),ur=null;function Br(){var Vt;if(ur||(ur=Vt=c.path()),Zt.apply(this,arguments).draw(ur,+je.apply(this,arguments)),Vt)return ur=null,Vt+""||null}return Br.type=function(Vt){return arguments.length?(Zt=typeof Vt=="function"?Vt:s(Vt),Br):Zt},Br.size=function(Vt){return arguments.length?(je=typeof Vt=="function"?Vt:s(+Vt),Br):je},Br.context=function(Vt){return arguments.length?(ur=Vt==null?null:Vt,Br):ur},Br}function Ee(){}function de(Zt,je,ur){Zt._context.bezierCurveTo((2*Zt._x0+Zt._x1)/3,(2*Zt._y0+Zt._y1)/3,(Zt._x0+2*Zt._x1)/3,(Zt._y0+2*Zt._y1)/3,(Zt._x0+4*Zt._x1+je)/6,(Zt._y0+4*Zt._y1+ur)/6)}function Ge(Zt){this._context=Zt}Ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:de(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function ke(Zt){return new Ge(Zt)}function Kr(Zt){this._context=Zt}Kr.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._x2=Zt,this._y2=je;break;case 1:this._point=2,this._x3=Zt,this._y3=je;break;case 2:this._point=3,this._x4=Zt,this._y4=je,this._context.moveTo((this._x0+4*this._x1+Zt)/6,(this._y0+4*this._y1+je)/6);break;default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function fn(Zt){return new Kr(Zt)}function pi(Zt){this._context=Zt}pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ur=(this._x0+4*this._x1+Zt)/6,Br=(this._y0+4*this._y1+je)/6;this._line?this._context.lineTo(ur,Br):this._context.moveTo(ur,Br);break;case 3:this._point=4;default:de(this,Zt,je);break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je}};function Vi(Zt){return new pi(Zt)}function ea(Zt,je){this._basis=new Ge(Zt),this._beta=je}ea.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Zt=this._x,je=this._y,ur=Zt.length-1;if(ur>0)for(var Br=Zt[0],Vt=je[0],ee=Zt[ur]-Br,Ae=je[ur]-Vt,Me=-1,Er;++Me<=ur;)Er=Me/ur,this._basis.point(this._beta*Zt[Me]+(1-this._beta)*(Br+Er*ee),this._beta*je[Me]+(1-this._beta)*(Vt+Er*Ae));this._x=this._y=null,this._basis.lineEnd()},point:function(Zt,je){this._x.push(+Zt),this._y.push(+je)}};var zi=function Zt(je){function ur(Br){return je===1?new Ge(Br):new ea(Br,je)}return ur.beta=function(Br){return Zt(+Br)},ur}(.85);function Te(Zt,je,ur){Zt._context.bezierCurveTo(Zt._x1+Zt._k*(Zt._x2-Zt._x0),Zt._y1+Zt._k*(Zt._y2-Zt._y0),Zt._x2+Zt._k*(Zt._x1-je),Zt._y2+Zt._k*(Zt._y1-ur),Zt._x2,Zt._y2)}function Be(Zt,je){this._context=Zt,this._k=(1-je)/6}Be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Te(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2,this._x1=Zt,this._y1=je;break;case 2:this._point=3;default:Te(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var lr=function Zt(je){function ur(Br){return new Be(Br,je)}return ur.tension=function(Br){return Zt(+Br)},ur}(0);function Or(Zt,je){this._context=Zt,this._k=(1-je)/6}Or.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._x3=Zt,this._y3=je;break;case 1:this._point=2,this._context.moveTo(this._x4=Zt,this._y4=je);break;case 2:this._point=3,this._x5=Zt,this._y5=je;break;default:Te(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var sr=function Zt(je){function ur(Br){return new Or(Br,je)}return ur.tension=function(Br){return Zt(+Br)},ur}(0);function Dr(Zt,je){this._context=Zt,this._k=(1-je)/6}Dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Te(this,Zt,je);break}this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var En=function Zt(je){function ur(Br){return new Dr(Br,je)}return ur.tension=function(Br){return Zt(+Br)},ur}(0);function Yn(Zt,je,ur){var Br=Zt._x1,Vt=Zt._y1,ee=Zt._x2,Ae=Zt._y2;if(Zt._l01_a>u){var Me=2*Zt._l01_2a+3*Zt._l01_a*Zt._l12_a+Zt._l12_2a,Er=3*Zt._l01_a*(Zt._l01_a+Zt._l12_a);Br=(Br*Me-Zt._x0*Zt._l12_2a+Zt._x2*Zt._l01_2a)/Er,Vt=(Vt*Me-Zt._y0*Zt._l12_2a+Zt._y2*Zt._l01_2a)/Er}if(Zt._l23_a>u){var dn=2*Zt._l23_2a+3*Zt._l23_a*Zt._l12_a+Zt._l12_2a,xn=3*Zt._l23_a*(Zt._l23_a+Zt._l12_a);ee=(ee*dn+Zt._x1*Zt._l23_2a-je*Zt._l12_2a)/xn,Ae=(Ae*dn+Zt._y1*Zt._l23_2a-ur*Zt._l12_2a)/xn}Zt._context.bezierCurveTo(Br,Vt,ee,Ae,Zt._x2,Zt._y2)}function ln(Zt,je){this._context=Zt,this._alpha=je}ln.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var ur=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ur*ur+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3;default:Yn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var Jr=function Zt(je){function ur(Br){return je?new ln(Br,je):new Be(Br,0)}return ur.alpha=function(Br){return Zt(+Br)},ur}(.5);function Wn(Zt,je){this._context=Zt,this._alpha=je}Wn.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var ur=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ur*ur+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Zt,this._y3=je;break;case 1:this._point=2,this._context.moveTo(this._x4=Zt,this._y4=je);break;case 2:this._point=3,this._x5=Zt,this._y5=je;break;default:Yn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var $n=function Zt(je){function ur(Br){return je?new Wn(Br,je):new Or(Br,0)}return ur.alpha=function(Br){return Zt(+Br)},ur}(.5);function Gr(Zt,je){this._context=Zt,this._alpha=je}Gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){if(Zt=+Zt,je=+je,this._point){var ur=this._x2-Zt,Br=this._y2-je;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ur*ur+Br*Br,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yn(this,Zt,je);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Zt,this._y0=this._y1,this._y1=this._y2,this._y2=je}};var wr=function Zt(je){function ur(Br){return je?new Gr(Br,je):new Dr(Br,0)}return ur.alpha=function(Br){return Zt(+Br)},ur}(.5);function ti(Zt){this._context=Zt}ti.prototype={areaStart:Ee,areaEnd:Ee,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Zt,je){Zt=+Zt,je=+je,this._point?this._context.lineTo(Zt,je):(this._point=1,this._context.moveTo(Zt,je))}};function ge(Zt){return new ti(Zt)}function Le(Zt){return Zt<0?-1:1}function Se(Zt,je,ur){var Br=Zt._x1-Zt._x0,Vt=je-Zt._x1,ee=(Zt._y1-Zt._y0)/(Br||Vt<0&&-0),Ae=(ur-Zt._y1)/(Vt||Br<0&&-0),Me=(ee*Vt+Ae*Br)/(Br+Vt);return(Le(ee)+Le(Ae))*Math.min(Math.abs(ee),Math.abs(Ae),.5*Math.abs(Me))||0}function Ve(Zt,je){var ur=Zt._x1-Zt._x0;return ur?(3*(Zt._y1-Zt._y0)/ur-je)/2:je}function le(Zt,je,ur){var Br=Zt._x0,Vt=Zt._y0,ee=Zt._x1,Ae=Zt._y1,Me=(ee-Br)/3;Zt._context.bezierCurveTo(Br+Me,Vt+Me*je,ee-Me,Ae-Me*ur,ee,Ae)}function vr(Zt){this._context=Zt}vr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:le(this,this._t0,Ve(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Zt,je){var ur=NaN;if(Zt=+Zt,je=+je,!(Zt===this._x1&&je===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;break;case 2:this._point=3,le(this,Ve(this,ur=Se(this,Zt,je)),ur);break;default:le(this,this._t0,ur=Se(this,Zt,je));break}this._x0=this._x1,this._x1=Zt,this._y0=this._y1,this._y1=je,this._t0=ur}}};function He(Zt){this._context=new rr(Zt)}(He.prototype=Object.create(vr.prototype)).point=function(Zt,je){vr.prototype.point.call(this,je,Zt)};function rr(Zt){this._context=Zt}rr.prototype={moveTo:function(Zt,je){this._context.moveTo(je,Zt)},closePath:function(){this._context.closePath()},lineTo:function(Zt,je){this._context.lineTo(je,Zt)},bezierCurveTo:function(Zt,je,ur,Br,Vt,ee){this._context.bezierCurveTo(je,Zt,Br,ur,ee,Vt)}};function Lr(Zt){return new vr(Zt)}function Mr(Zt){return new He(Zt)}function rn(Zt){this._context=Zt}rn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Zt=this._x,je=this._y,ur=Zt.length;if(ur)if(this._line?this._context.lineTo(Zt[0],je[0]):this._context.moveTo(Zt[0],je[0]),ur===2)this._context.lineTo(Zt[1],je[1]);else for(var Br=pn(Zt),Vt=pn(je),ee=0,Ae=1;Ae<ur;++ee,++Ae)this._context.bezierCurveTo(Br[0][ee],Vt[0][ee],Br[1][ee],Vt[1][ee],Zt[Ae],je[Ae]);(this._line||this._line!==0&&ur===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Zt,je){this._x.push(+Zt),this._y.push(+je)}};function pn(Zt){var je,ur=Zt.length-1,Br,Vt=new Array(ur),ee=new Array(ur),Ae=new Array(ur);for(Vt[0]=0,ee[0]=2,Ae[0]=Zt[0]+2*Zt[1],je=1;je<ur-1;++je)Vt[je]=1,ee[je]=4,Ae[je]=4*Zt[je]+2*Zt[je+1];for(Vt[ur-1]=2,ee[ur-1]=7,Ae[ur-1]=8*Zt[ur-1]+Zt[ur],je=1;je<ur;++je)Br=Vt[je]/ee[je-1],ee[je]-=Br,Ae[je]-=Br*Ae[je-1];for(Vt[ur-1]=Ae[ur-1]/ee[ur-1],je=ur-2;je>=0;--je)Vt[je]=(Ae[je]-Vt[je+1])/ee[je];for(ee[ur-1]=(Zt[ur]+Vt[ur-1])/2,je=0;je<ur-1;++je)ee[je]=2*Zt[je+1]-Vt[je+1];return[Vt,ee]}function qr(Zt){return new rn(Zt)}function Dn(Zt,je){this._context=Zt,this._t=je}Dn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Zt,je){switch(Zt=+Zt,je=+je,this._point){case 0:this._point=1,this._line?this._context.lineTo(Zt,je):this._context.moveTo(Zt,je);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,je),this._context.lineTo(Zt,je);else{var ur=this._x*(1-this._t)+Zt*this._t;this._context.lineTo(ur,this._y),this._context.lineTo(ur,je)}break}}this._x=Zt,this._y=je}};function ae(Zt){return new Dn(Zt,.5)}function er(Zt){return new Dn(Zt,0)}function ar(Zt){return new Dn(Zt,1)}function kr(Zt,je){if((Ae=Zt.length)>1)for(var ur=1,Br,Vt,ee=Zt[je[0]],Ae,Me=ee.length;ur<Ae;++ur)for(Vt=ee,ee=Zt[je[ur]],Br=0;Br<Me;++Br)ee[Br][1]+=ee[Br][0]=isNaN(Vt[Br][1])?Vt[Br][0]:Vt[Br][1]}function Rn(Zt){for(var je=Zt.length,ur=new Array(je);--je>=0;)ur[je]=je;return ur}function di(Zt,je){return Zt[je]}function Yi(){var Zt=s([]),je=Rn,ur=kr,Br=di;function Vt(ee){var Ae=Zt.apply(this,arguments),Me,Er=ee.length,dn=Ae.length,xn=new Array(dn),fi;for(Me=0;Me<dn;++Me){for(var Ai=Ae[Me],aa=xn[Me]=new Array(Er),qi=0,Sa;qi<Er;++qi)aa[qi]=Sa=[0,+Br(ee[qi],Ai,qi,ee)],Sa.data=ee[qi];aa.key=Ai}for(Me=0,fi=je(xn);Me<dn;++Me)xn[fi[Me]].index=Me;return ur(xn,fi),xn}return Vt.keys=function(ee){return arguments.length?(Zt=typeof ee=="function"?ee:s(q.call(ee)),Vt):Zt},Vt.value=function(ee){return arguments.length?(Br=typeof ee=="function"?ee:s(+ee),Vt):Br},Vt.order=function(ee){return arguments.length?(je=ee==null?Rn:typeof ee=="function"?ee:s(q.call(ee)),Vt):je},Vt.offset=function(ee){return arguments.length?(ur=ee==null?kr:ee,Vt):ur},Vt}function da(Zt,je){if((Br=Zt.length)>0){for(var ur,Br,Vt=0,ee=Zt[0].length,Ae;Vt<ee;++Vt){for(Ae=ur=0;ur<Br;++ur)Ae+=Zt[ur][Vt][1]||0;if(Ae)for(ur=0;ur<Br;++ur)Zt[ur][Vt][1]/=Ae}kr(Zt,je)}}function _a(Zt,je){if((Er=Zt.length)>0)for(var ur,Br=0,Vt,ee,Ae,Me,Er,dn=Zt[je[0]].length;Br<dn;++Br)for(Ae=Me=0,ur=0;ur<Er;++ur)(ee=(Vt=Zt[je[ur]][Br])[1]-Vt[0])>0?(Vt[0]=Ae,Vt[1]=Ae+=ee):ee<0?(Vt[1]=Me,Vt[0]=Me+=ee):(Vt[0]=0,Vt[1]=ee)}function fa(Zt,je){if((Vt=Zt.length)>0){for(var ur=0,Br=Zt[je[0]],Vt,ee=Br.length;ur<ee;++ur){for(var Ae=0,Me=0;Ae<Vt;++Ae)Me+=Zt[Ae][ur][1]||0;Br[ur][1]+=Br[ur][0]=-Me/2}kr(Zt,je)}}function wo(Zt,je){if(!(!((Ae=Zt.length)>0)||!((ee=(Vt=Zt[je[0]]).length)>0))){for(var ur=0,Br=1,Vt,ee,Ae;Br<ee;++Br){for(var Me=0,Er=0,dn=0;Me<Ae;++Me){for(var xn=Zt[je[Me]],fi=xn[Br][1]||0,Ai=xn[Br-1][1]||0,aa=(fi-Ai)/2,qi=0;qi<Me;++qi){var Sa=Zt[je[qi]],ca=Sa[Br][1]||0,to=Sa[Br-1][1]||0;aa+=ca-to}Er+=fi,dn+=aa*fi}Vt[Br-1][1]+=Vt[Br-1][0]=ur,Er&&(ur-=dn/Er)}Vt[Br-1][1]+=Vt[Br-1][0]=ur,kr(Zt,je)}}function ho(Zt){var je=Zt.map(mo);return Rn(Zt).sort(function(ur,Br){return je[ur]-je[Br]})}function mo(Zt){for(var je=-1,ur=0,Br=Zt.length,Vt,ee=-Infinity;++je<Br;)(Vt=+Zt[je][1])>ee&&(ee=Vt,ur=je);return ur}function yo(Zt){var je=Zt.map(zo);return Rn(Zt).sort(function(ur,Br){return je[ur]-je[Br]})}function zo(Zt){for(var je=0,ur=-1,Br=Zt.length,Vt;++ur<Br;)(Vt=+Zt[ur][1])&&(je+=Vt);return je}function io(Zt){return yo(Zt).reverse()}function Za(Zt){var je=Zt.length,ur,Br,Vt=Zt.map(zo),ee=ho(Zt),Ae=0,Me=0,Er=[],dn=[];for(ur=0;ur<je;++ur)Br=ee[ur],Ae<Me?(Ae+=Vt[Br],Er.push(Br)):(Me+=Vt[Br],dn.push(Br));return dn.reverse().concat(Er)}function qa(Zt){return Rn(Zt).reverse()}t.arc=C,t.area=U,t.areaRadial=Nt,t.curveBasis=ke,t.curveBasisClosed=fn,t.curveBasisOpen=Vi,t.curveBundle=zi,t.curveCardinal=lr,t.curveCardinalClosed=sr,t.curveCardinalOpen=En,t.curveCatmullRom=Jr,t.curveCatmullRomClosed=$n,t.curveCatmullRomOpen=wr,t.curveLinear=O,t.curveLinearClosed=ge,t.curveMonotoneX=Lr,t.curveMonotoneY=Mr,t.curveNatural=qr,t.curveStep=ae,t.curveStepAfter=ar,t.curveStepBefore=er,t.line=W,t.lineRadial=kt,t.linkHorizontal=K,t.linkRadial=et,t.linkVertical=$,t.pie=J,t.pointRadial=nt,t.radialArea=Nt,t.radialLine=kt,t.stack=Yi,t.stackOffsetDiverging=_a,t.stackOffsetExpand=da,t.stackOffsetNone=kr,t.stackOffsetSilhouette=fa,t.stackOffsetWiggle=wo,t.stackOrderAppearance=ho,t.stackOrderAscending=yo,t.stackOrderDescending=io,t.stackOrderInsideOut=Za,t.stackOrderNone=Rn,t.stackOrderReverse=qa,t.symbol=Vr,t.symbolCircle=j,t.symbolCross=w,t.symbolDiamond=tt,t.symbolSquare=Ft,t.symbolStar=Ot,t.symbolTriangle=$t,t.symbolWye=Xe,t.symbols=yr,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";function c(H){return function(){return H}}function s(H){return H[0]}function v(H){return H[1]}function o(){this._=null}function f(H){H.U=H.C=H.L=H.R=H.P=H.N=null}o.prototype={constructor:o,insert:function(H,ct){var ft,K,$;if(H){if(ct.P=H,ct.N=H.N,H.N&&(H.N.P=ct),H.N=ct,H.R){for(H=H.R;H.L;)H=H.L;H.L=ct}else H.R=ct;ft=H}else this._?(H=n(this._),ct.P=null,ct.N=H,H.P=H.L=ct,ft=H):(ct.P=ct.N=null,this._=ct,ft=null);for(ct.L=ct.R=null,ct.U=ft,ct.C=!0,H=ct;ft&&ft.C;)K=ft.U,ft===K.L?($=K.R,$&&$.C?(ft.C=$.C=!1,K.C=!0,H=K):(H===ft.R&&(r(this,ft),H=ft,ft=H.U),ft.C=!1,K.C=!0,e(this,K))):($=K.L,$&&$.C?(ft.C=$.C=!1,K.C=!0,H=K):(H===ft.L&&(e(this,ft),H=ft,ft=H.U),ft.C=!1,K.C=!0,r(this,K))),ft=H.U;this._.C=!1},remove:function(H){H.N&&(H.N.P=H.P),H.P&&(H.P.N=H.N),H.N=H.P=null;var ct=H.U,ft,K=H.L,$=H.R,et,j;if(K?$?et=n($):et=K:et=$,ct?ct.L===H?ct.L=et:ct.R=et:this._=et,K&&$?(j=et.C,et.C=H.C,et.L=K,K.U=et,et!==$?(ct=et.U,et.U=H.U,H=et.R,ct.L=H,et.R=$,$.U=et):(et.U=ct,ct=et,H=et.R)):(j=H.C,H=et),H&&(H.U=ct),!j){if(H&&H.C){H.C=!1;return}do{if(H===this._)break;if(H===ct.L){if(ft=ct.R,ft.C&&(ft.C=!1,ct.C=!0,r(this,ct),ft=ct.R),ft.L&&ft.L.C||ft.R&&ft.R.C){(!ft.R||!ft.R.C)&&(ft.L.C=!1,ft.C=!0,e(this,ft),ft=ct.R),ft.C=ct.C,ct.C=ft.R.C=!1,r(this,ct),H=this._;break}}else if(ft=ct.L,ft.C&&(ft.C=!1,ct.C=!0,e(this,ct),ft=ct.L),ft.L&&ft.L.C||ft.R&&ft.R.C){(!ft.L||!ft.L.C)&&(ft.R.C=!1,ft.C=!0,r(this,ft),ft=ct.L),ft.C=ct.C,ct.C=ft.L.C=!1,e(this,ct),H=this._;break}ft.C=!0,H=ct,ct=ct.U}while(!H.C);H&&(H.C=!1)}}};function r(H,ct){var ft=ct,K=ct.R,$=ft.U;$?$.L===ft?$.L=K:$.R=K:H._=K,K.U=$,ft.U=K,ft.R=K.L,ft.R&&(ft.R.U=ft),K.L=ft}function e(H,ct){var ft=ct,K=ct.L,$=ft.U;$?$.L===ft?$.L=K:$.R=K:H._=K,K.U=$,ft.U=K,ft.L=K.R,ft.L&&(ft.L.U=ft),K.R=ft}function n(H){for(;H.L;)H=H.L;return H}function a(H,ct,ft,K){var $=[null,null],et=nt.push($)-1;return $.left=H,$.right=ct,ft&&l($,H,ct,ft),K&&l($,ct,H,K),kt[H.index].halfedges.push(et),kt[ct.index].halfedges.push(et),$}function u(H,ct,ft){var K=[ct,ft];return K.left=H,K}function l(H,ct,ft,K){!H[0]&&!H[1]?(H[0]=K,H.left=ct,H.right=ft):H.left===ft?H[1]=K:H[0]=K}function h(H,ct,ft,K,$){var et=H[0],j=H[1],w=et[0],D=et[1],V=j[0],tt=j[1],lt=0,St=1,ot=V-w,Mt=tt-D,Ot;if(Ot=ct-w,!(!ot&&Ot>0)){if(Ot/=ot,ot<0){if(Ot<lt)return;Ot<St&&(St=Ot)}else if(ot>0){if(Ot>St)return;Ot>lt&&(lt=Ot)}if(Ot=K-w,!(!ot&&Ot<0)){if(Ot/=ot,ot<0){if(Ot>St)return;Ot>lt&&(lt=Ot)}else if(ot>0){if(Ot<lt)return;Ot<St&&(St=Ot)}if(Ot=ft-D,!(!Mt&&Ot>0)){if(Ot/=Mt,Mt<0){if(Ot<lt)return;Ot<St&&(St=Ot)}else if(Mt>0){if(Ot>St)return;Ot>lt&&(lt=Ot)}if(Ot=$-D,!(!Mt&&Ot<0)){if(Ot/=Mt,Mt<0){if(Ot>St)return;Ot>lt&&(lt=Ot)}else if(Mt>0){if(Ot<lt)return;Ot<St&&(St=Ot)}return!(lt>0)&&!(St<1)||(lt>0&&(H[0]=[w+lt*ot,D+lt*Mt]),St<1&&(H[1]=[w+St*ot,D+St*Mt])),!0}}}}}function p(H,ct,ft,K,$){var et=H[1];if(et)return!0;var j=H[0],w=H.left,D=H.right,V=w[0],tt=w[1],lt=D[0],St=D[1],ot=(V+lt)/2,Mt=(tt+St)/2,Ot,Ft;if(St===tt){if(ot<ct||ot>=K)return;if(V>lt){if(!j)j=[ot,ft];else if(j[1]>=$)return;et=[ot,$]}else{if(!j)j=[ot,$];else if(j[1]<ft)return;et=[ot,ft]}}else if(Ot=(V-lt)/(St-tt),Ft=Mt-Ot*ot,Ot<-1||Ot>1)if(V>lt){if(!j)j=[(ft-Ft)/Ot,ft];else if(j[1]>=$)return;et=[($-Ft)/Ot,$]}else{if(!j)j=[($-Ft)/Ot,$];else if(j[1]<ft)return;et=[(ft-Ft)/Ot,ft]}else if(tt<St){if(!j)j=[ct,Ot*ct+Ft];else if(j[0]>=K)return;et=[K,Ot*K+Ft]}else{if(!j)j=[K,Ot*K+Ft];else if(j[0]<ct)return;et=[ct,Ot*ct+Ft]}return H[0]=j,H[1]=et,!0}function d(H,ct,ft,K){for(var $=nt.length,et;$--;)(!p(et=nt[$],H,ct,ft,K)||!h(et,H,ct,ft,K)||!(Math.abs(et[0][0]-et[1][0])>at||Math.abs(et[0][1]-et[1][1])>at))&&delete nt[$]}function g(H){return kt[H.index]={site:H,halfedges:[]}}function y(H,ct){var ft=H.site,K=ct.left,$=ct.right;return ft===$&&($=K,K=ft),$?Math.atan2($[1]-K[1],$[0]-K[0]):(ft===K?(K=ct[1],$=ct[0]):(K=ct[0],$=ct[1]),Math.atan2(K[0]-$[0],$[1]-K[1]))}function x(H,ct){return ct[+(ct.left!==H.site)]}function A(H,ct){return ct[+(ct.left===H.site)]}function m(){for(var H=0,ct=kt.length,ft,K,$,et;H<ct;++H)if((ft=kt[H])&&(et=(K=ft.halfedges).length)){var j=new Array(et),w=new Array(et);for($=0;$<et;++$)j[$]=$,w[$]=y(ft,nt[K[$]]);for(j.sort(function(D,V){return w[V]-w[D]}),$=0;$<et;++$)w[$]=K[j[$]];for($=0;$<et;++$)K[$]=w[$]}}function M(H,ct,ft,K){var $=kt.length,et,j,w,D,V,tt,lt,St,ot,Mt,Ot,Ft,zt=!0;for(et=0;et<$;++et)if(j=kt[et]){for(w=j.site,V=j.halfedges,D=V.length;D--;)nt[V[D]]||V.splice(D,1);for(D=0,tt=V.length;D<tt;)Mt=A(j,nt[V[D]]),Ot=Mt[0],Ft=Mt[1],lt=x(j,nt[V[++D%tt]]),St=lt[0],ot=lt[1],(Math.abs(Ot-St)>at||Math.abs(Ft-ot)>at)&&(V.splice(D,0,nt.push(u(w,Mt,Math.abs(Ot-H)<at&&K-Ft>at?[H,Math.abs(St-H)<at?ot:K]:Math.abs(Ft-K)<at&&ft-Ot>at?[Math.abs(ot-K)<at?St:ft,K]:Math.abs(Ot-ft)<at&&Ft-ct>at?[ft,Math.abs(St-ft)<at?ot:ct]:Math.abs(Ft-ct)<at&&Ot-H>at?[Math.abs(ot-ct)<at?St:H,ct]:null))-1),++tt);tt&&(zt=!1)}if(zt){var $t,he,ye,tr=Infinity;for(et=0,zt=null;et<$;++et)(j=kt[et])&&(w=j.site,$t=w[0]-H,he=w[1]-ct,ye=$t*$t+he*he,ye<tr&&(tr=ye,zt=j));if(zt){var nr=[H,ct],Xe=[H,K],yr=[ft,K],Vr=[ft,ct];zt.halfedges.push(nt.push(u(w=zt.site,nr,Xe))-1,nt.push(u(w,Xe,yr))-1,nt.push(u(w,yr,Vr))-1,nt.push(u(w,Vr,nr))-1)}}for(et=0;et<$;++et)(j=kt[et])&&(j.halfedges.length||delete kt[et])}var b=[],E;function C(){f(this),this.x=this.y=this.arc=this.site=this.cy=null}function T(H){var ct=H.P,ft=H.N;if(!(!ct||!ft)){var K=ct.site,$=H.site,et=ft.site;if(K!==et){var j=$[0],w=$[1],D=K[0]-j,V=K[1]-w,tt=et[0]-j,lt=et[1]-w,St=2*(D*lt-V*tt);if(!(St>=-Q)){var ot=D*D+V*V,Mt=tt*tt+lt*lt,Ot=(lt*ot-V*Mt)/St,Ft=(D*Mt-tt*ot)/St,zt=b.pop()||new C;zt.arc=H,zt.site=$,zt.x=Ot+j,zt.y=(zt.cy=Ft+w)+Math.sqrt(Ot*Ot+Ft*Ft),H.circle=zt;for(var $t=null,he=Nt._;he;)if(zt.y<he.y||zt.y===he.y&&zt.x<=he.x)if(he.L)he=he.L;else{$t=he.P;break}else if(he.R)he=he.R;else{$t=he;break}Nt.insert($t,zt),$t||(E=zt)}}}}function O(H){var ct=H.circle;ct&&(ct.P||(E=ct.N),Nt.remove(ct),b.push(ct),f(ct),H.circle=null)}var L=[];function R(){f(this),this.edge=this.site=this.circle=null}function W(H){var ct=L.pop()||new R;return ct.site=H,ct}function U(H){O(H),xt.remove(H),L.push(H),f(H)}function X(H){var ct=H.circle,ft=ct.x,K=ct.cy,$=[ft,K],et=H.P,j=H.N,w=[H];U(H);for(var D=et;D.circle&&Math.abs(ft-D.circle.x)<at&&Math.abs(K-D.circle.cy)<at;)et=D.P,w.unshift(D),U(D),D=et;w.unshift(D),O(D);for(var V=j;V.circle&&Math.abs(ft-V.circle.x)<at&&Math.abs(K-V.circle.cy)<at;)j=V.N,w.push(V),U(V),V=j;w.push(V),O(V);var tt=w.length,lt;for(lt=1;lt<tt;++lt)V=w[lt],D=w[lt-1],l(V.edge,D.site,V.site,$);D=w[0],V=w[tt-1],V.edge=a(D.site,V.site,null,$),T(D),T(V)}function Z(H){for(var ct=H[0],ft=H[1],K,$,et,j,w=xt._;w;)if(et=J(w,ft)-ct,et>at)w=w.L;else if(j=ct-ht(w,ft),j>at){if(!w.R){K=w;break}w=w.R}else{et>-at?(K=w.P,$=w):j>-at?(K=w,$=w.N):K=$=w;break}g(H);var D=W(H);if(xt.insert(K,D),!(!K&&!$)){if(K===$){O(K),$=W(K.site),xt.insert(D,$),D.edge=$.edge=a(K.site,D.site),T(K),T($);return}if(!$){D.edge=a(K.site,D.site);return}O(K),O($);var V=K.site,tt=V[0],lt=V[1],St=H[0]-tt,ot=H[1]-lt,Mt=$.site,Ot=Mt[0]-tt,Ft=Mt[1]-lt,zt=2*(St*Ft-ot*Ot),$t=St*St+ot*ot,he=Ot*Ot+Ft*Ft,ye=[(Ft*$t-ot*he)/zt+tt,(St*he-Ot*$t)/zt+lt];l($.edge,V,Mt,ye),D.edge=a(V,H,null,ye),$.edge=a(H,Mt,null,ye),T(K),T($)}}function J(H,ct){var ft=H.site,K=ft[0],$=ft[1],et=$-ct;if(!et)return K;var j=H.P;if(!j)return-Infinity;ft=j.site;var w=ft[0],D=ft[1],V=D-ct;if(!V)return w;var tt=w-K,lt=1/et-1/V,St=tt/V;return lt?(-St+Math.sqrt(St*St-2*lt*(tt*tt/(-2*V)-D+V/2+$-et/2)))/lt+K:(K+w)/2}function ht(H,ct){var ft=H.N;if(ft)return J(ft,ct);var K=H.site;return K[1]===ct?K[0]:Infinity}var at=1e-6,Q=1e-12,xt,kt,Nt,nt;function q(H,ct,ft){return(H[0]-ft[0])*(ct[1]-H[1])-(H[0]-ct[0])*(ft[1]-H[1])}function G(H,ct){return ct[1]-H[1]||ct[0]-H[0]}function N(H,ct){var ft=H.sort(G).pop(),K,$,et;for(nt=[],kt=new Array(H.length),xt=new o,Nt=new o;;)if(et=E,ft&&(!et||ft[1]<et.y||ft[1]===et.y&&ft[0]<et.x))(ft[0]!==K||ft[1]!==$)&&(Z(ft),K=ft[0],$=ft[1]),ft=H.pop();else if(et)X(et.arc);else break;if(m(),ct){var j=+ct[0][0],w=+ct[0][1],D=+ct[1][0],V=+ct[1][1];d(j,w,D,V),M(j,w,D,V)}this.edges=nt,this.cells=kt,xt=Nt=nt=kt=null}N.prototype={constructor:N,polygons:function(){var H=this.edges;return this.cells.map(function(ct){var ft=ct.halfedges.map(function(K){return x(ct,H[K])});return ft.data=ct.site.data,ft})},triangles:function(){var H=[],ct=this.edges;return this.cells.forEach(function(ft,K){if(!!(w=(et=ft.halfedges).length))for(var $=ft.site,et,j=-1,w,D,V=ct[et[w-1]],tt=V.left===$?V.right:V.left;++j<w;)D=tt,V=ct[et[j]],tt=V.left===$?V.right:V.left,D&&tt&&K<D.index&&K<tt.index&&q($,D,tt)<0&&H.push([$.data,D.data,tt.data])}),H},links:function(){return this.edges.filter(function(H){return H.right}).map(function(H){return{source:H.left.data,target:H.right.data}})},find:function(H,ct,ft){for(var K=this,$,et=K._found||0,j=K.cells.length,w;!(w=K.cells[et]);)if(++et>=j)return null;var D=H-w.site[0],V=ct-w.site[1],tt=D*D+V*V;do w=K.cells[$=et],et=null,w.halfedges.forEach(function(lt){var St=K.edges[lt],ot=St.left;if(!((ot===w.site||!ot)&&!(ot=St.right))){var Mt=H-ot[0],Ot=ct-ot[1],Ft=Mt*Mt+Ot*Ot;Ft<tt&&(tt=Ft,et=ot.index)}});while(et!==null);return K._found=$,ft==null||tt<=ft*ft?w.site:null}};function it(){var H=s,ct=v,ft=null;function K($){return new N($.map(function(et,j){var w=[Math.round(H(et,j,$)/at)*at,Math.round(ct(et,j,$)/at)*at];return w.index=j,w.data=et,w}),ft)}return K.polygons=function($){return K($).polygons()},K.links=function($){return K($).links()},K.triangles=function($){return K($).triangles()},K.x=function($){return arguments.length?(H=typeof $=="function"?$:c(+$),K):H},K.y=function($){return arguments.length?(ct=typeof $=="function"?$:c(+$),K):ct},K.extent=function($){return arguments.length?(ft=$==null?null:[[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]],K):ft&&[[ft[0][0],ft[0][1]],[ft[1][0],ft[1][1]]]},K.size=function($){return arguments.length?(ft=$==null?null:[[0,0],[+$[0],+$[1]]],K):ft&&[ft[1][0]-ft[0][0],ft[1][1]-ft[0][1]]},K}t.voronoi=it,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_dagre@0.8.5@dagre/index.js":function(P,S,i){P.exports={graphlib:i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js"),layout:i("./node_modules/_dagre@0.8.5@dagre/lib/layout.js"),debug:i("./node_modules/_dagre@0.8.5@dagre/lib/debug.js"),util:{time:i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").time,notime:i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").notime},version:i("./node_modules/_dagre@0.8.5@dagre/lib/version.js")}},"./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js");P.exports={run:s,undo:o};function s(f){var r=f.graph().acyclicer==="greedy"?c(f,e(f)):v(f);t.forEach(r,function(n){var a=f.edge(n);f.removeEdge(n),a.forwardName=n.name,a.reversed=!0,f.setEdge(n.w,n.v,a,t.uniqueId("rev"))});function e(n){return function(a){return n.edge(a).weight}}}function v(f){var r=[],e={},n={};function a(u){t.has(n,u)||(n[u]=!0,e[u]=!0,t.forEach(f.outEdges(u),function(l){t.has(e,l.w)?r.push(l):a(l.w)}),delete e[u])}return t.forEach(f.nodes(),a),r}function o(f){t.forEach(f.edges(),function(r){var e=f.edge(r);if(e.reversed){f.removeEdge(r);var n=e.forwardName;delete e.reversed,delete e.forwardName,f.setEdge(r.w,r.v,e,n)}})}},"./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=s;function s(o){function f(r){var e=o.children(r),n=o.node(r);if(e.length&&t.forEach(e,f),t.has(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,u=n.maxRank+1;a<u;++a)v(o,"borderLeft","_bl",r,n,a),v(o,"borderRight","_br",r,n,a)}}t.forEach(o.children(),f)}function v(o,f,r,e,n,a){var u={width:0,height:0,rank:a,borderType:f},l=n[f][a-1],h=c.addDummyNode(o,"border",u,r);n[f][a]=h,o.setParent(h,e),l&&o.setEdge(l,h,{weight:1})}},"./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports={adjust:c,undo:s};function c(a){var u=a.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&v(a)}function s(a){var u=a.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&f(a),(u==="lr"||u==="rl")&&(e(a),v(a))}function v(a){t.forEach(a.nodes(),function(u){o(a.node(u))}),t.forEach(a.edges(),function(u){o(a.edge(u))})}function o(a){var u=a.width;a.width=a.height,a.height=u}function f(a){t.forEach(a.nodes(),function(u){r(a.node(u))}),t.forEach(a.edges(),function(u){var l=a.edge(u);t.forEach(l.points,r),t.has(l,"y")&&r(l)})}function r(a){a.y=-a.y}function e(a){t.forEach(a.nodes(),function(u){n(a.node(u))}),t.forEach(a.edges(),function(u){var l=a.edge(u);t.forEach(l.points,n),t.has(l,"x")&&n(l)})}function n(a){var u=a.x;a.x=a.y,a.y=u}},"./node_modules/_dagre@0.8.5@dagre/lib/data/list.js":function(P,S){P.exports=i;function i(){var s={};s._next=s._prev=s,this._sentinel=s}i.prototype.dequeue=function(){var s=this._sentinel,v=s._prev;if(v!==s)return t(v),v},i.prototype.enqueue=function(s){var v=this._sentinel;s._prev&&s._next&&t(s),s._next=v._next,v._next._prev=s,v._next=s,s._prev=v},i.prototype.toString=function(){for(var s=[],v=this._sentinel,o=v._prev;o!==v;)s.push(JSON.stringify(o,c)),o=o._prev;return"["+s.join(", ")+"]"};function t(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function c(s,v){if(s!=="_next"&&s!=="_prev")return v}},"./node_modules/_dagre@0.8.5@dagre/lib/debug.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports={debugOrdering:v};function v(o){var f=c.buildLayerMatrix(o),r=new s({compound:!0,multigraph:!0}).setGraph({});return t.forEach(o.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+o.node(e).rank)}),t.forEach(o.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),t.forEach(f,function(e,n){var a="layer"+n;r.setNode(a,{rank:"same"}),t.reduce(e,function(u,l){return r.setEdge(u,l,{style:"invis"}),l})}),r}},"./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js":function(P,S,i){var t;try{t=i("./node_modules/_graphlib@2.1.8@graphlib/index.js")}catch(c){}t||(t=window.graphlib),P.exports=t},"./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/data/list.js");P.exports=o;var v=t.constant(1);function o(a,u){if(a.nodeCount()<=1)return[];var l=e(a,u||v),h=f(l.graph,l.buckets,l.zeroIdx);return t.flatten(t.map(h,function(p){return a.outEdges(p.v,p.w)}),!0)}function f(a,u,l){for(var h=[],p=u[u.length-1],d=u[0],g;a.nodeCount();){for(;g=d.dequeue();)r(a,u,l,g);for(;g=p.dequeue();)r(a,u,l,g);if(a.nodeCount()){for(var y=u.length-2;y>0;--y)if(g=u[y].dequeue(),g){h=h.concat(r(a,u,l,g,!0));break}}}return h}function r(a,u,l,h,p){var d=p?[]:void 0;return t.forEach(a.inEdges(h.v),function(g){var y=a.edge(g),x=a.node(g.v);p&&d.push({v:g.v,w:g.w}),x.out-=y,n(u,l,x)}),t.forEach(a.outEdges(h.v),function(g){var y=a.edge(g),x=g.w,A=a.node(x);A.in-=y,n(u,l,A)}),a.removeNode(h.v),d}function e(a,u){var l=new c,h=0,p=0;t.forEach(a.nodes(),function(y){l.setNode(y,{v:y,in:0,out:0})}),t.forEach(a.edges(),function(y){var x=l.edge(y.v,y.w)||0,A=u(y),m=x+A;l.setEdge(y.v,y.w,m),p=Math.max(p,l.node(y.v).out+=A),h=Math.max(h,l.node(y.w).in+=A)});var d=t.range(p+h+3).map(function(){return new s}),g=h+1;return t.forEach(l.nodes(),function(y){n(d,g,l.node(y))}),{graph:l,buckets:d,zeroIdx:g}}function n(a,u,l){l.out?l.in?a[l.out-l.in+u].enqueue(l):a[a.length-1].enqueue(l):a[0].enqueue(l)}},"./node_modules/_dagre@0.8.5@dagre/lib/layout.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/normalize.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js"),o=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").normalizeRanks,f=i("./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js"),r=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").removeEmptyRanks,e=i("./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js"),n=i("./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js"),a=i("./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js"),u=i("./node_modules/_dagre@0.8.5@dagre/lib/order/index.js"),l=i("./node_modules/_dagre@0.8.5@dagre/lib/position/index.js"),h=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),p=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports=d;function d(q,G){var N=G&&G.debugTiming?h.time:h.notime;N("layout",function(){var it=N("  buildLayoutGraph",function(){return O(q)});N("  runLayout",function(){g(it,N)}),N("  updateInputGraph",function(){y(q,it)})})}function g(q,G){G("    makeSpaceForEdgeLabels",function(){L(q)}),G("    removeSelfEdges",function(){Q(q)}),G("    acyclic",function(){c.run(q)}),G("    nestingGraph.run",function(){e.run(q)}),G("    rank",function(){v(h.asNonCompoundGraph(q))}),G("    injectEdgeLabelProxies",function(){R(q)}),G("    removeEmptyRanks",function(){r(q)}),G("    nestingGraph.cleanup",function(){e.cleanup(q)}),G("    normalizeRanks",function(){o(q)}),G("    assignRankMinMax",function(){W(q)}),G("    removeEdgeLabelProxies",function(){U(q)}),G("    normalize.run",function(){s.run(q)}),G("    parentDummyChains",function(){f(q)}),G("    addBorderSegments",function(){n(q)}),G("    order",function(){u(q)}),G("    insertSelfEdges",function(){xt(q)}),G("    adjustCoordinateSystem",function(){a.adjust(q)}),G("    position",function(){l(q)}),G("    positionSelfEdges",function(){kt(q)}),G("    removeBorderNodes",function(){at(q)}),G("    normalize.undo",function(){s.undo(q)}),G("    fixupEdgeLabelCoords",function(){J(q)}),G("    undoCoordinateSystem",function(){a.undo(q)}),G("    translateGraph",function(){X(q)}),G("    assignNodeIntersects",function(){Z(q)}),G("    reversePoints",function(){ht(q)}),G("    acyclic.undo",function(){c.undo(q)})}function y(q,G){t.forEach(q.nodes(),function(N){var it=q.node(N),H=G.node(N);it&&(it.x=H.x,it.y=H.y,G.children(N).length&&(it.width=H.width,it.height=H.height))}),t.forEach(q.edges(),function(N){var it=q.edge(N),H=G.edge(N);it.points=H.points,t.has(H,"x")&&(it.x=H.x,it.y=H.y)}),q.graph().width=G.graph().width,q.graph().height=G.graph().height}var x=["nodesep","edgesep","ranksep","marginx","marginy"],A={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],M=["width","height"],b={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function O(q){var G=new p({multigraph:!0,compound:!0}),N=nt(q.graph());return G.setGraph(t.merge({},A,Nt(N,x),t.pick(N,m))),t.forEach(q.nodes(),function(it){var H=nt(q.node(it));G.setNode(it,t.defaults(Nt(H,M),b)),G.setParent(it,q.parent(it))}),t.forEach(q.edges(),function(it){var H=nt(q.edge(it));G.setEdge(it,t.merge({},C,Nt(H,E),t.pick(H,T)))}),G}function L(q){var G=q.graph();G.ranksep/=2,t.forEach(q.edges(),function(N){var it=q.edge(N);it.minlen*=2,it.labelpos.toLowerCase()!=="c"&&(G.rankdir==="TB"||G.rankdir==="BT"?it.width+=it.labeloffset:it.height+=it.labeloffset)})}function R(q){t.forEach(q.edges(),function(G){var N=q.edge(G);if(N.width&&N.height){var it=q.node(G.v),H=q.node(G.w),ct={rank:(H.rank-it.rank)/2+it.rank,e:G};h.addDummyNode(q,"edge-proxy",ct,"_ep")}})}function W(q){var G=0;t.forEach(q.nodes(),function(N){var it=q.node(N);it.borderTop&&(it.minRank=q.node(it.borderTop).rank,it.maxRank=q.node(it.borderBottom).rank,G=t.max(G,it.maxRank))}),q.graph().maxRank=G}function U(q){t.forEach(q.nodes(),function(G){var N=q.node(G);N.dummy==="edge-proxy"&&(q.edge(N.e).labelRank=N.rank,q.removeNode(G))})}function X(q){var G=Number.POSITIVE_INFINITY,N=0,it=Number.POSITIVE_INFINITY,H=0,ct=q.graph(),ft=ct.marginx||0,K=ct.marginy||0;function $(et){var j=et.x,w=et.y,D=et.width,V=et.height;G=Math.min(G,j-D/2),N=Math.max(N,j+D/2),it=Math.min(it,w-V/2),H=Math.max(H,w+V/2)}t.forEach(q.nodes(),function(et){$(q.node(et))}),t.forEach(q.edges(),function(et){var j=q.edge(et);t.has(j,"x")&&$(j)}),G-=ft,it-=K,t.forEach(q.nodes(),function(et){var j=q.node(et);j.x-=G,j.y-=it}),t.forEach(q.edges(),function(et){var j=q.edge(et);t.forEach(j.points,function(w){w.x-=G,w.y-=it}),t.has(j,"x")&&(j.x-=G),t.has(j,"y")&&(j.y-=it)}),ct.width=N-G+ft,ct.height=H-it+K}function Z(q){t.forEach(q.edges(),function(G){var N=q.edge(G),it=q.node(G.v),H=q.node(G.w),ct,ft;N.points?(ct=N.points[0],ft=N.points[N.points.length-1]):(N.points=[],ct=H,ft=it),N.points.unshift(h.intersectRect(it,ct)),N.points.push(h.intersectRect(H,ft))})}function J(q){t.forEach(q.edges(),function(G){var N=q.edge(G);if(t.has(N,"x"))switch((N.labelpos==="l"||N.labelpos==="r")&&(N.width-=N.labeloffset),N.labelpos){case"l":N.x-=N.width/2+N.labeloffset;break;case"r":N.x+=N.width/2+N.labeloffset;break}})}function ht(q){t.forEach(q.edges(),function(G){var N=q.edge(G);N.reversed&&N.points.reverse()})}function at(q){t.forEach(q.nodes(),function(G){if(q.children(G).length){var N=q.node(G),it=q.node(N.borderTop),H=q.node(N.borderBottom),ct=q.node(t.last(N.borderLeft)),ft=q.node(t.last(N.borderRight));N.width=Math.abs(ft.x-ct.x),N.height=Math.abs(H.y-it.y),N.x=ct.x+N.width/2,N.y=it.y+N.height/2}}),t.forEach(q.nodes(),function(G){q.node(G).dummy==="border"&&q.removeNode(G)})}function Q(q){t.forEach(q.edges(),function(G){if(G.v===G.w){var N=q.node(G.v);N.selfEdges||(N.selfEdges=[]),N.selfEdges.push({e:G,label:q.edge(G)}),q.removeEdge(G)}})}function xt(q){var G=h.buildLayerMatrix(q);t.forEach(G,function(N){var it=0;t.forEach(N,function(H,ct){var ft=q.node(H);ft.order=ct+it,t.forEach(ft.selfEdges,function(K){h.addDummyNode(q,"selfedge",{width:K.label.width,height:K.label.height,rank:ft.rank,order:ct+ ++it,e:K.e,label:K.label},"_se")}),delete ft.selfEdges})})}function kt(q){t.forEach(q.nodes(),function(G){var N=q.node(G);if(N.dummy==="selfedge"){var it=q.node(N.e.v),H=it.x+it.width/2,ct=it.y,ft=N.x-H,K=it.height/2;q.setEdge(N.e,N.label),q.removeNode(G),N.label.points=[{x:H+2*ft/3,y:ct-K},{x:H+5*ft/6,y:ct-K},{x:H+ft,y:ct},{x:H+5*ft/6,y:ct+K},{x:H+2*ft/3,y:ct+K}],N.label.x=N.x,N.label.y=N.y}})}function Nt(q,G){return t.mapValues(t.pick(q,G),Number)}function nt(q){var G={};return t.forEach(q,function(N,it){G[it.toLowerCase()]=N}),G}},"./node_modules/_dagre@0.8.5@dagre/lib/lodash.js":function(P,S,i){var t;try{t={cloneDeep:i("./node_modules/_lodash@4.17.20@lodash/cloneDeep.js"),constant:i("./node_modules/_lodash@4.17.20@lodash/constant.js"),defaults:i("./node_modules/_lodash@4.17.20@lodash/defaults.js"),each:i("./node_modules/_lodash@4.17.20@lodash/each.js"),filter:i("./node_modules/_lodash@4.17.20@lodash/filter.js"),find:i("./node_modules/_lodash@4.17.20@lodash/find.js"),flatten:i("./node_modules/_lodash@4.17.20@lodash/flatten.js"),forEach:i("./node_modules/_lodash@4.17.20@lodash/forEach.js"),forIn:i("./node_modules/_lodash@4.17.20@lodash/forIn.js"),has:i("./node_modules/_lodash@4.17.20@lodash/has.js"),isUndefined:i("./node_modules/_lodash@4.17.20@lodash/isUndefined.js"),last:i("./node_modules/_lodash@4.17.20@lodash/last.js"),map:i("./node_modules/_lodash@4.17.20@lodash/map.js"),mapValues:i("./node_modules/_lodash@4.17.20@lodash/mapValues.js"),max:i("./node_modules/_lodash@4.17.20@lodash/max.js"),merge:i("./node_modules/_lodash@4.17.20@lodash/merge.js"),min:i("./node_modules/_lodash@4.17.20@lodash/min.js"),minBy:i("./node_modules/_lodash@4.17.20@lodash/minBy.js"),now:i("./node_modules/_lodash@4.17.20@lodash/now.js"),pick:i("./node_modules/_lodash@4.17.20@lodash/pick.js"),range:i("./node_modules/_lodash@4.17.20@lodash/range.js"),reduce:i("./node_modules/_lodash@4.17.20@lodash/reduce.js"),sortBy:i("./node_modules/_lodash@4.17.20@lodash/sortBy.js"),uniqueId:i("./node_modules/_lodash@4.17.20@lodash/uniqueId.js"),values:i("./node_modules/_lodash@4.17.20@lodash/values.js"),zipObject:i("./node_modules/_lodash@4.17.20@lodash/zipObject.js")}}catch(c){}t||(t=window._),P.exports=t},"./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={run:s,cleanup:r};function s(e){var n=c.addDummyNode(e,"root",{},"_root"),a=o(e),u=t.max(t.values(a))-1,l=2*u+1;e.graph().nestingRoot=n,t.forEach(e.edges(),function(p){e.edge(p).minlen*=l});var h=f(e)+1;t.forEach(e.children(),function(p){v(e,n,l,h,u,a,p)}),e.graph().nodeRankFactor=l}function v(e,n,a,u,l,h,p){var d=e.children(p);if(!d.length){p!==n&&e.setEdge(n,p,{weight:0,minlen:a});return}var g=c.addBorderNode(e,"_bt"),y=c.addBorderNode(e,"_bb"),x=e.node(p);e.setParent(g,p),x.borderTop=g,e.setParent(y,p),x.borderBottom=y,t.forEach(d,function(A){v(e,n,a,u,l,h,A);var m=e.node(A),M=m.borderTop?m.borderTop:A,b=m.borderBottom?m.borderBottom:A,E=m.borderTop?u:2*u,C=M!==b?1:l-h[p]+1;e.setEdge(g,M,{weight:E,minlen:C,nestingEdge:!0}),e.setEdge(b,y,{weight:E,minlen:C,nestingEdge:!0})}),e.parent(p)||e.setEdge(n,g,{weight:0,minlen:l+h[p]})}function o(e){var n={};function a(u,l){var h=e.children(u);h&&h.length&&t.forEach(h,function(p){a(p,l+1)}),n[u]=l}return t.forEach(e.children(),function(u){a(u,1)}),n}function f(e){return t.reduce(e.edges(),function(n,a){return n+e.edge(a).weight},0)}function r(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,t.forEach(e.edges(),function(a){var u=e.edge(a);u.nestingEdge&&e.removeEdge(a)})}},"./node_modules/_dagre@0.8.5@dagre/lib/normalize.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={run:s,undo:o};function s(f){f.graph().dummyChains=[],t.forEach(f.edges(),function(r){v(f,r)})}function v(f,r){var e=r.v,n=f.node(e).rank,a=r.w,u=f.node(a).rank,l=r.name,h=f.edge(r),p=h.labelRank;if(u!==n+1){f.removeEdge(r);var d,g,y;for(y=0,++n;n<u;++y,++n)h.points=[],g={width:0,height:0,edgeLabel:h,edgeObj:r,rank:n},d=c.addDummyNode(f,"edge",g,"_d"),n===p&&(g.width=h.width,g.height=h.height,g.dummy="edge-label",g.labelpos=h.labelpos),f.setEdge(e,d,{weight:h.weight},l),y===0&&f.graph().dummyChains.push(d),e=d;f.setEdge(e,a,{weight:h.weight},l)}}function o(f){t.forEach(f.graph().dummyChains,function(r){var e=f.node(r),n=e.edgeLabel,a;for(f.setEdge(e.edgeObj,n);e.dummy;)a=f.successors(r)[0],f.removeNode(r),n.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height),r=a,e=f.node(r)})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s,v,o){var f={},r;t.forEach(o,function(e){for(var n=s.parent(e),a,u;n;){if(a=s.parent(n),a?(u=f[a],f[a]=n):(u=r,r=n),u&&u!==n){v.setEdge(u,n);return}n=a}})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s,v){return t.map(v,function(o){var f=s.inEdges(o);if(f.length){var r=t.reduce(f,function(e,n){var a=s.edge(n),u=s.node(n.v);return{sum:e.sum+a.weight*u.order,weight:e.weight+a.weight}},{sum:0,weight:0});return{v:o,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:o}})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports=s;function s(o,f,r){var e=v(o),n=new c({compound:!0}).setGraph({root:e}).setDefaultNodeLabel(function(a){return o.node(a)});return t.forEach(o.nodes(),function(a){var u=o.node(a),l=o.parent(a);(u.rank===f||u.minRank<=f&&f<=u.maxRank)&&(n.setNode(a),n.setParent(a,l||e),t.forEach(o[r](a),function(h){var p=h.v===a?h.w:h.v,d=n.edge(p,a),g=t.isUndefined(d)?0:d.weight;n.setEdge(p,a,{weight:o.edge(h).weight+g})}),t.has(u,"minRank")&&n.setNode(a,{borderLeft:u.borderLeft[f],borderRight:u.borderRight[f]}))}),n}function v(o){for(var f;o.hasNode(f=t.uniqueId("_root")););return f}},"./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(v,o){for(var f=0,r=1;r<o.length;++r)f+=s(v,o[r-1],o[r]);return f}function s(v,o,f){for(var r=t.zipObject(f,t.map(f,function(h,p){return p})),e=t.flatten(t.map(o,function(h){return t.sortBy(t.map(v.outEdges(h),function(p){return{pos:r[p.w],weight:v.edge(p).weight}}),"pos")}),!0),n=1;n<f.length;)n<<=1;var a=2*n-1;n-=1;var u=t.map(new Array(a),function(){return 0}),l=0;return t.forEach(e.forEach(function(h){var p=h.pos+n;u[p]+=h.weight;for(var d=0;p>0;)p%2&&(d+=u[p+1]),p=p-1>>1,u[p]+=h.weight;l+=h.weight*d})),l}},"./node_modules/_dagre@0.8.5@dagre/lib/order/index.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js"),o=i("./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js"),f=i("./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js"),r=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,e=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=n;function n(h){var p=e.maxRank(h),d=a(h,t.range(1,p+1),"inEdges"),g=a(h,t.range(p-1,-1,-1),"outEdges"),y=c(h);l(h,y);for(var x=Number.POSITIVE_INFINITY,A,m=0,M=0;M<4;++m,++M){u(m%2?d:g,m%4>=2),y=e.buildLayerMatrix(h);var b=s(h,y);b<x&&(M=0,A=t.cloneDeep(y),x=b)}l(h,A)}function a(h,p,d){return t.map(p,function(g){return o(h,g,d)})}function u(h,p){var d=new r;t.forEach(h,function(g){var y=g.graph().root,x=v(g,y,d,p);t.forEach(x.vs,function(A,m){g.node(A).order=m}),f(g,d,x.vs)})}function l(h,p){t.forEach(p,function(d){t.forEach(d,function(g,y){h.node(g).order=y})})}},"./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(s){var v={},o=t.filter(s.nodes(),function(a){return!s.children(a).length}),f=t.max(t.map(o,function(a){return s.node(a).rank})),r=t.map(t.range(f+1),function(){return[]});function e(a){if(!t.has(v,a)){v[a]=!0;var u=s.node(a);r[u.rank].push(a),t.forEach(s.successors(a),e)}}var n=t.sortBy(o,function(a){return s.node(a).rank});return t.forEach(n,e),r}},"./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(o,f){var r={};t.forEach(o,function(n,a){var u=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};t.isUndefined(n.barycenter)||(u.barycenter=n.barycenter,u.weight=n.weight)}),t.forEach(f.edges(),function(n){var a=r[n.v],u=r[n.w];!t.isUndefined(a)&&!t.isUndefined(u)&&(u.indegree++,a.out.push(r[n.w]))});var e=t.filter(r,function(n){return!n.indegree});return s(e)}function s(o){var f=[];function r(a){return function(u){u.merged||(t.isUndefined(u.barycenter)||t.isUndefined(a.barycenter)||u.barycenter>=a.barycenter)&&v(a,u)}}function e(a){return function(u){u.in.push(a),--u.indegree==0&&o.push(u)}}for(;o.length;){var n=o.pop();f.push(n),t.forEach(n.in.reverse(),r(n)),t.forEach(n.out,e(n))}return t.map(t.filter(f,function(a){return!a.merged}),function(a){return t.pick(a,["vs","i","barycenter","weight"])})}function v(o,f){var r=0,e=0;o.weight&&(r+=o.barycenter*o.weight,e+=o.weight),f.weight&&(r+=f.barycenter*f.weight,e+=f.weight),o.vs=f.vs.concat(o.vs),o.barycenter=r/e,o.weight=e,o.i=Math.min(f.i,o.i),f.merged=!0}},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js");P.exports=o;function o(e,n,a,u){var l=e.children(n),h=e.node(n),p=h?h.borderLeft:void 0,d=h?h.borderRight:void 0,g={};p&&(l=t.filter(l,function(b){return b!==p&&b!==d}));var y=c(e,l);t.forEach(y,function(b){if(e.children(b.v).length){var E=o(e,b.v,a,u);g[b.v]=E,t.has(E,"barycenter")&&r(b,E)}});var x=s(y,a);f(x,g);var A=v(x,u);if(p&&(A.vs=t.flatten([p,A.vs,d],!0),e.predecessors(p).length)){var m=e.node(e.predecessors(p)[0]),M=e.node(e.predecessors(d)[0]);t.has(A,"barycenter")||(A.barycenter=0,A.weight=0),A.barycenter=(A.barycenter*A.weight+m.order+M.order)/(A.weight+2),A.weight+=2}return A}function f(e,n){t.forEach(e,function(a){a.vs=t.flatten(a.vs.map(function(u){return n[u]?n[u].vs:u}),!0)})}function r(e,n){t.isUndefined(e.barycenter)?(e.barycenter=n.barycenter,e.weight=n.weight):(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight)}},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports=s;function s(f,r){var e=c.partition(f,function(g){return t.has(g,"barycenter")}),n=e.lhs,a=t.sortBy(e.rhs,function(g){return-g.i}),u=[],l=0,h=0,p=0;n.sort(o(!!r)),p=v(u,a,p),t.forEach(n,function(g){p+=g.vs.length,u.push(g.vs),l+=g.barycenter*g.weight,h+=g.weight,p=v(u,a,p)});var d={vs:t.flatten(u,!0)};return h&&(d.barycenter=l/h,d.weight=h),d}function v(f,r,e){for(var n;r.length&&(n=t.last(r)).i<=e;)r.pop(),f.push(n.vs),e++;return e}function o(f){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:f?e.i-r.i:r.i-e.i}}},"./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js":function(P,S,i){var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports=c;function c(o){var f=v(o);t.forEach(o.graph().dummyChains,function(r){for(var e=o.node(r),n=e.edgeObj,a=s(o,f,n.v,n.w),u=a.path,l=a.lca,h=0,p=u[h],d=!0;r!==n.w;){if(e=o.node(r),d){for(;(p=u[h])!==l&&o.node(p).maxRank<e.rank;)h++;p===l&&(d=!1)}if(!d){for(;h<u.length-1&&o.node(p=u[h+1]).minRank<=e.rank;)h++;p=u[h]}o.setParent(r,p),r=o.successors(r)[0]}})}function s(o,f,r,e){var n=[],a=[],u=Math.min(f[r].low,f[e].low),l=Math.max(f[r].lim,f[e].lim),h,p;h=r;do h=o.parent(h),n.push(h);while(h&&(f[h].low>u||l>f[h].lim));for(p=h,h=e;(h=o.parent(h))!==p;)a.push(h);return{path:n.concat(a.reverse()),lca:p}}function v(o){var f={},r=0;function e(n){var a=r;t.forEach(o.children(n),e),f[n]={low:a,lim:r++}}return t.forEach(o.children(),e),f}},"./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js");P.exports={positionX:d,findType1Conflicts:v,findType2Conflicts:o,addConflict:r,hasConflict:e,verticalAlignment:n,horizontalCompaction:a,alignCoordinates:h,findSmallestWidthAlignment:l,balance:p};function v(x,A){var m={};function M(b,E){var C=0,T=0,O=b.length,L=t.last(E);return t.forEach(E,function(R,W){var U=f(x,R),X=U?x.node(U).order:O;(U||R===L)&&(t.forEach(E.slice(T,W+1),function(Z){t.forEach(x.predecessors(Z),function(J){var ht=x.node(J),at=ht.order;(at<C||X<at)&&!(ht.dummy&&x.node(Z).dummy)&&r(m,J,Z)})}),T=W+1,C=X)}),E}return t.reduce(A,M),m}function o(x,A){var m={};function M(E,C,T,O,L){var R;t.forEach(t.range(C,T),function(W){R=E[W],x.node(R).dummy&&t.forEach(x.predecessors(R),function(U){var X=x.node(U);X.dummy&&(X.order<O||X.order>L)&&r(m,U,R)})})}function b(E,C){var T=-1,O,L=0;return t.forEach(C,function(R,W){if(x.node(R).dummy==="border"){var U=x.predecessors(R);U.length&&(O=x.node(U[0]).order,M(C,L,W,T,O),L=W,T=O)}M(C,L,C.length,O,E.length)}),C}return t.reduce(A,b),m}function f(x,A){if(x.node(A).dummy)return t.find(x.predecessors(A),function(m){return x.node(m).dummy})}function r(x,A,m){if(A>m){var M=A;A=m,m=M}var b=x[A];b||(x[A]=b={}),b[m]=!0}function e(x,A,m){if(A>m){var M=A;A=m,m=M}return t.has(x[A],m)}function n(x,A,m,M){var b={},E={},C={};return t.forEach(A,function(T){t.forEach(T,function(O,L){b[O]=O,E[O]=O,C[O]=L})}),t.forEach(A,function(T){var O=-1;t.forEach(T,function(L){var R=M(L);if(R.length){R=t.sortBy(R,function(J){return C[J]});for(var W=(R.length-1)/2,U=Math.floor(W),X=Math.ceil(W);U<=X;++U){var Z=R[U];E[L]===L&&O<C[Z]&&!e(m,L,Z)&&(E[Z]=L,E[L]=b[L]=b[Z],O=C[Z])}}})}),{root:b,align:E}}function a(x,A,m,M,b){var E={},C=u(x,A,m,b),T=b?"borderLeft":"borderRight";function O(W,U){for(var X=C.nodes(),Z=X.pop(),J={};Z;)J[Z]?W(Z):(J[Z]=!0,X.push(Z),X=X.concat(U(Z))),Z=X.pop()}function L(W){E[W]=C.inEdges(W).reduce(function(U,X){return Math.max(U,E[X.v]+C.edge(X))},0)}function R(W){var U=C.outEdges(W).reduce(function(Z,J){return Math.min(Z,E[J.w]-C.edge(J))},Number.POSITIVE_INFINITY),X=x.node(W);U!==Number.POSITIVE_INFINITY&&X.borderType!==T&&(E[W]=Math.max(E[W],U))}return O(L,C.predecessors.bind(C)),O(R,C.successors.bind(C)),t.forEach(M,function(W){E[W]=E[m[W]]}),E}function u(x,A,m,M){var b=new c,E=x.graph(),C=g(E.nodesep,E.edgesep,M);return t.forEach(A,function(T){var O;t.forEach(T,function(L){var R=m[L];if(b.setNode(R),O){var W=m[O],U=b.edge(W,R);b.setEdge(W,R,Math.max(C(x,L,O),U||0))}O=L})}),b}function l(x,A){return t.minBy(t.values(A),function(m){var M=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY;return t.forIn(m,function(E,C){var T=y(x,C)/2;M=Math.max(E+T,M),b=Math.min(E-T,b)}),M-b})}function h(x,A){var m=t.values(A),M=t.min(m),b=t.max(m);t.forEach(["u","d"],function(E){t.forEach(["l","r"],function(C){var T=E+C,O=x[T],L;if(O!==A){var R=t.values(O);L=C==="l"?M-t.min(R):b-t.max(R),L&&(x[T]=t.mapValues(O,function(W){return W+L}))}})})}function p(x,A){return t.mapValues(x.ul,function(m,M){if(A)return x[A.toLowerCase()][M];var b=t.sortBy(t.map(x,M));return(b[1]+b[2])/2})}function d(x){var A=s.buildLayerMatrix(x),m=t.merge(v(x,A),o(x,A)),M={},b;t.forEach(["u","d"],function(C){b=C==="u"?A:t.values(A).reverse(),t.forEach(["l","r"],function(T){T==="r"&&(b=t.map(b,function(W){return t.values(W).reverse()}));var O=(C==="u"?x.predecessors:x.successors).bind(x),L=n(x,b,m,O),R=a(x,b,L.root,L.align,T==="r");T==="r"&&(R=t.mapValues(R,function(W){return-W})),M[C+T]=R})});var E=l(x,M);return h(M,E),p(M,x.graph().align)}function g(x,A,m){return function(M,b,E){var C=M.node(b),T=M.node(E),O=0,L;if(O+=C.width/2,t.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":L=-C.width/2;break;case"r":L=C.width/2;break}if(L&&(O+=m?L:-L),L=0,O+=(C.dummy?A:x)/2,O+=(T.dummy?A:x)/2,O+=T.width/2,t.has(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":L=T.width/2;break;case"r":L=-T.width/2;break}return L&&(O+=m?L:-L),L=0,O}}function y(x,A){return x.node(A).width}},"./node_modules/_dagre@0.8.5@dagre/lib/position/index.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js").positionX;P.exports=v;function v(f){f=c.asNonCompoundGraph(f),o(f),t.forEach(s(f),function(r,e){f.node(e).x=r})}function o(f){var r=c.buildLayerMatrix(f),e=f.graph().ranksep,n=0;t.forEach(r,function(a){var u=t.max(t.map(a,function(l){return f.node(l).height}));t.forEach(a,function(l){f.node(l).y=n+u/2}),n+=u+e})}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack;P.exports=v;function v(e){var n=new c({directed:!1}),a=e.nodes()[0],u=e.nodeCount();n.setNode(a,{});for(var l,h;o(n,e)<u;)l=f(n,e),h=n.hasNode(l.v)?s(e,l):-s(e,l),r(n,e,h);return n}function o(e,n){function a(u){t.forEach(n.nodeEdges(u),function(l){var h=l.v,p=u===h?l.w:h;!e.hasNode(p)&&!s(n,l)&&(e.setNode(p,{}),e.setEdge(u,p,{}),a(p))})}return t.forEach(e.nodes(),a),e.nodeCount()}function f(e,n){return t.minBy(n.edges(),function(a){if(e.hasNode(a.v)!==e.hasNode(a.w))return s(n,a)})}function r(e,n,a){t.forEach(e.nodes(),function(u){n.node(u).rank+=a})}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js"),c=t.longestPath,s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js");P.exports=o;function o(n){switch(n.graph().ranker){case"network-simplex":e(n);break;case"tight-tree":r(n);break;case"longest-path":f(n);break;default:e(n)}}var f=c;function r(n){c(n),s(n)}function e(n){v(n)}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),s=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack,v=i("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").longestPath,o=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.preorder,f=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.postorder,r=i("./node_modules/_dagre@0.8.5@dagre/lib/util.js").simplify;P.exports=e,e.initLowLimValues=l,e.initCutValues=n,e.calcCutValue=u,e.leaveEdge=p,e.enterEdge=d,e.exchangeEdges=g;function e(m){m=r(m),v(m);var M=c(m);l(M),n(M,m);for(var b,E;b=p(M);)E=d(M,m,b),g(M,m,b,E)}function n(m,M){var b=f(m,m.nodes());b=b.slice(0,b.length-1),t.forEach(b,function(E){a(m,M,E)})}function a(m,M,b){var E=m.node(b),C=E.parent;m.edge(b,C).cutvalue=u(m,M,b)}function u(m,M,b){var E=m.node(b),C=E.parent,T=!0,O=M.edge(b,C),L=0;return O||(T=!1,O=M.edge(C,b)),L=O.weight,t.forEach(M.nodeEdges(b),function(R){var W=R.v===b,U=W?R.w:R.v;if(U!==C){var X=W===T,Z=M.edge(R).weight;if(L+=X?Z:-Z,x(m,b,U)){var J=m.edge(b,U).cutvalue;L+=X?-J:J}}}),L}function l(m,M){arguments.length<2&&(M=m.nodes()[0]),h(m,{},1,M)}function h(m,M,b,E,C){var T=b,O=m.node(E);return M[E]=!0,t.forEach(m.neighbors(E),function(L){t.has(M,L)||(b=h(m,M,b,L,E))}),O.low=T,O.lim=b++,C?O.parent=C:delete O.parent,b}function p(m){return t.find(m.edges(),function(M){return m.edge(M).cutvalue<0})}function d(m,M,b){var E=b.v,C=b.w;M.hasEdge(E,C)||(E=b.w,C=b.v);var T=m.node(E),O=m.node(C),L=T,R=!1;T.lim>O.lim&&(L=O,R=!0);var W=t.filter(M.edges(),function(U){return R===A(m,m.node(U.v),L)&&R!==A(m,m.node(U.w),L)});return t.minBy(W,function(U){return s(M,U)})}function g(m,M,b,E){var C=b.v,T=b.w;m.removeEdge(C,T),m.setEdge(E.v,E.w,{}),l(m),n(m,M),y(m,M)}function y(m,M){var b=t.find(m.nodes(),function(C){return!M.node(C).parent}),E=o(m,b);E=E.slice(1),t.forEach(E,function(C){var T=m.node(C).parent,O=M.edge(C,T),L=!1;O||(O=M.edge(T,C),L=!0),M.node(C).rank=M.node(T).rank+(L?O.minlen:-O.minlen)})}function x(m,M,b){return m.hasEdge(M,b)}function A(m,M,b){return b.low<=M.lim&&M.lim<=b.lim}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");P.exports={longestPath:c,slack:s};function c(v){var o={};function f(r){var e=v.node(r);if(t.has(o,r))return e.rank;o[r]=!0;var n=t.min(t.map(v.outEdges(r),function(a){return f(a.w)-v.edge(a).minlen}));return(n===Number.POSITIVE_INFINITY||n===void 0||n===null)&&(n=0),e.rank=n}t.forEach(v.sources(),f)}function s(v,o){return v.node(o.w).rank-v.node(o.v).rank-v.edge(o).minlen}},"./node_modules/_dagre@0.8.5@dagre/lib/util.js":function(P,S,i){"use strict";var t=i("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),c=i("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;P.exports={addDummyNode:s,simplify:v,asNonCompoundGraph:o,successorWeights:f,predecessorWeights:r,intersectRect:e,buildLayerMatrix:n,normalizeRanks:a,removeEmptyRanks:u,addBorderNode:l,maxRank:h,partition:p,time:d,notime:g};function s(y,x,A,m){var M;do M=t.uniqueId(m);while(y.hasNode(M));return A.dummy=x,y.setNode(M,A),M}function v(y){var x=new c().setGraph(y.graph());return t.forEach(y.nodes(),function(A){x.setNode(A,y.node(A))}),t.forEach(y.edges(),function(A){var m=x.edge(A.v,A.w)||{weight:0,minlen:1},M=y.edge(A);x.setEdge(A.v,A.w,{weight:m.weight+M.weight,minlen:Math.max(m.minlen,M.minlen)})}),x}function o(y){var x=new c({multigraph:y.isMultigraph()}).setGraph(y.graph());return t.forEach(y.nodes(),function(A){y.children(A).length||x.setNode(A,y.node(A))}),t.forEach(y.edges(),function(A){x.setEdge(A,y.edge(A))}),x}function f(y){var x=t.map(y.nodes(),function(A){var m={};return t.forEach(y.outEdges(A),function(M){m[M.w]=(m[M.w]||0)+y.edge(M).weight}),m});return t.zipObject(y.nodes(),x)}function r(y){var x=t.map(y.nodes(),function(A){var m={};return t.forEach(y.inEdges(A),function(M){m[M.v]=(m[M.v]||0)+y.edge(M).weight}),m});return t.zipObject(y.nodes(),x)}function e(y,x){var A=y.x,m=y.y,M=x.x-A,b=x.y-m,E=y.width/2,C=y.height/2;if(!M&&!b)throw new Error("Not possible to find intersection inside of the rectangle");var T,O;return Math.abs(b)*E>Math.abs(M)*C?(b<0&&(C=-C),T=C*M/b,O=C):(M<0&&(E=-E),T=E,O=E*b/M),{x:A+T,y:m+O}}function n(y){var x=t.map(t.range(h(y)+1),function(){return[]});return t.forEach(y.nodes(),function(A){var m=y.node(A),M=m.rank;t.isUndefined(M)||(x[M][m.order]=A)}),x}function a(y){var x=t.min(t.map(y.nodes(),function(A){return y.node(A).rank}));t.forEach(y.nodes(),function(A){var m=y.node(A);t.has(m,"rank")&&(m.rank-=x)})}function u(y){var x=t.min(t.map(y.nodes(),function(b){return y.node(b).rank})),A=[];t.forEach(y.nodes(),function(b){var E=y.node(b).rank-x;A[E]||(A[E]=[]),A[E].push(b)});var m=0,M=y.graph().nodeRankFactor;t.forEach(A,function(b,E){t.isUndefined(b)&&E%M!=0?--m:m&&t.forEach(b,function(C){y.node(C).rank+=m})})}function l(y,x,A,m){var M={width:0,height:0};return arguments.length>=4&&(M.rank=A,M.order=m),s(y,"border",M,x)}function h(y){return t.max(t.map(y.nodes(),function(x){var A=y.node(x).rank;if(!t.isUndefined(A))return A}))}function p(y,x){var A={lhs:[],rhs:[]};return t.forEach(y,function(m){x(m)?A.lhs.push(m):A.rhs.push(m)}),A}function d(y,x){var A=t.now();try{return x()}finally{console.log(y+" time: "+(t.now()-A)+"ms")}}function g(y,x){return x()}},"./node_modules/_dagre@0.8.5@dagre/lib/version.js":function(P,S){P.exports="0.8.5"},"./node_modules/_graphlib@2.1.8@graphlib/index.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/index.js");P.exports={Graph:t.Graph,json:i("./node_modules/_graphlib@2.1.8@graphlib/lib/json.js"),alg:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js"),version:t.version}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(s){var v={},o=[],f;function r(e){t.has(v,e)||(v[e]=!0,f.push(e),t.each(s.successors(e),r),t.each(s.predecessors(e),r))}return t.each(s.nodes(),function(e){f=[],r(e),f.length&&o.push(f)}),o}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(v,o,f){t.isArray(o)||(o=[o]);var r=(v.isDirected()?v.successors:v.neighbors).bind(v),e=[],n={};return t.each(o,function(a){if(!v.hasNode(a))throw new Error("Graph does not have node: "+a);s(v,a,f==="post",n,r,e)}),e}function s(v,o,f,r,e,n){t.has(r,o)||(r[o]=!0,f||n.push(o),t.each(e(o),function(a){s(v,a,f,r,e,n)}),f&&n.push(o))}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=s;function s(v,o,f){return c.transform(v.nodes(),function(r,e){r[e]=t(v,e,o,f)},{})}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");P.exports=v;var s=t.constant(1);function v(f,r,e,n){return o(f,String(r),e||s,n||function(a){return f.outEdges(a)})}function o(f,r,e,n){var a={},u=new c,l,h,p=function(d){var g=d.v!==l?d.v:d.w,y=a[g],x=e(d),A=h.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+x);A<y.distance&&(y.distance=A,y.predecessor=l,u.decrease(g,A))};for(f.nodes().forEach(function(d){var g=d===r?0:Number.POSITIVE_INFINITY;a[d]={distance:g},u.add(d,g)});u.size()>0&&(l=u.removeMin(),h=a[l],h.distance!==Number.POSITIVE_INFINITY);)n(l).forEach(p);return a}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js");P.exports=s;function s(v){return t.filter(c(v),function(o){return o.length>1||o.length===1&&v.hasEdge(o[0],o[0])})}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=s;var c=t.constant(1);function s(o,f,r){return v(o,f||c,r||function(e){return o.outEdges(e)})}function v(o,f,r){var e={},n=o.nodes();return n.forEach(function(a){e[a]={},e[a][a]={distance:0},n.forEach(function(u){a!==u&&(e[a][u]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(u){var l=u.v===a?u.w:u.v,h=f(u);e[a][l]={distance:h,predecessor:a}})}),n.forEach(function(a){var u=e[a];n.forEach(function(l){var h=e[l];n.forEach(function(p){var d=h[a],g=u[p],y=h[p],x=d.distance+g.distance;x<y.distance&&(y.distance=x,y.predecessor=g.predecessor)})})}),e}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js":function(P,S,i){P.exports={components:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js"),dijkstra:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),dijkstraAll:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js"),findCycles:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js"),floydWarshall:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js"),isAcyclic:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js"),postorder:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js"),preorder:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js"),prim:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js"),tarjan:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js"),topsort:i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js");P.exports=c;function c(s){try{t(s)}catch(v){if(v instanceof t.CycleException)return!1;throw v}return!0}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");P.exports=c;function c(s,v){return t(s,v,"post")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");P.exports=c;function c(s,v){return t(s,v,"pre")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),s=i("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");P.exports=v;function v(o,f){var r=new c,e={},n=new s,a;function u(h){var p=h.v===a?h.w:h.v,d=n.priority(p);if(d!==void 0){var g=f(h);g<d&&(e[p]=a,n.decrease(p,g))}}if(o.nodeCount()===0)return r;t.each(o.nodes(),function(h){n.add(h,Number.POSITIVE_INFINITY),r.setNode(h)}),n.decrease(o.nodes()[0],0);for(var l=!1;n.size()>0;){if(a=n.removeMin(),t.has(e,a))r.setEdge(a,e[a]);else{if(l)throw new Error("Input graph is not connected: "+o);l=!0}o.nodeEdges(a).forEach(u)}return r}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(s){var v=0,o=[],f={},r=[];function e(n){var a=f[n]={onStack:!0,lowlink:v,index:v++};if(o.push(n),s.successors(n).forEach(function(h){t.has(f,h)?f[h].onStack&&(a.lowlink=Math.min(a.lowlink,f[h].index)):(e(h),a.lowlink=Math.min(a.lowlink,f[h].lowlink))}),a.lowlink===a.index){var u=[],l;do l=o.pop(),f[l].onStack=!1,u.push(l);while(n!==l);r.push(u)}}return s.nodes().forEach(function(n){t.has(f,n)||e(n)}),r}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c,c.CycleException=s;function c(v){var o={},f={},r=[];function e(n){if(t.has(f,n))throw new s;t.has(o,n)||(f[n]=!0,o[n]=!0,t.each(v.predecessors(n),e),delete f[n],r.push(n))}if(t.each(v.sinks(),e),t.size(o)!==v.nodeCount())throw new s;return r}function s(){}s.prototype=new Error},"./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=c;function c(){this._arr=[],this._keyIndices={}}c.prototype.size=function(){return this._arr.length},c.prototype.keys=function(){return this._arr.map(function(s){return s.key})},c.prototype.has=function(s){return t.has(this._keyIndices,s)},c.prototype.priority=function(s){var v=this._keyIndices[s];if(v!==void 0)return this._arr[v].priority},c.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},c.prototype.add=function(s,v){var o=this._keyIndices;if(s=String(s),!t.has(o,s)){var f=this._arr,r=f.length;return o[s]=r,f.push({key:s,priority:v}),this._decrease(r),!0}return!1},c.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var s=this._arr.pop();return delete this._keyIndices[s.key],this._heapify(0),s.key},c.prototype.decrease=function(s,v){var o=this._keyIndices[s];if(v>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+s+" Old: "+this._arr[o].priority+" New: "+v);this._arr[o].priority=v,this._decrease(o)},c.prototype._heapify=function(s){var v=this._arr,o=2*s,f=o+1,r=s;o<v.length&&(r=v[o].priority<v[r].priority?o:r,f<v.length&&(r=v[f].priority<v[r].priority?f:r),r!==s&&(this._swap(s,r),this._heapify(r)))},c.prototype._decrease=function(s){for(var v=this._arr,o=v[s].priority,f;s!==0&&(f=s>>1,!(v[f].priority<o));)this._swap(s,f),s=f},c.prototype._swap=function(s,v){var o=this._arr,f=this._keyIndices,r=o[s],e=o[v];o[s]=e,o[v]=r,f[e.key]=s,f[r.key]=v}},"./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js":function(P,S,i){"use strict";var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");P.exports=o;var c="\0",s="\0",v="";function o(u){this._isDirected=t.has(u,"directed")?u.directed:!0,this._isMultigraph=t.has(u,"multigraph")?u.multigraph:!1,this._isCompound=t.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[s]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(u){return this._label=u,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultNodeLabelFn=u,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return t.keys(this._nodes)},o.prototype.sources=function(){var u=this;return t.filter(this.nodes(),function(l){return t.isEmpty(u._in[l])})},o.prototype.sinks=function(){var u=this;return t.filter(this.nodes(),function(l){return t.isEmpty(u._out[l])})},o.prototype.setNodes=function(u,l){var h=arguments,p=this;return t.each(u,function(d){h.length>1?p.setNode(d,l):p.setNode(d)}),this},o.prototype.setNode=function(u,l){return t.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=l),this):(this._nodes[u]=arguments.length>1?l:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=s,this._children[u]={},this._children[s][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},o.prototype.node=function(u){return this._nodes[u]},o.prototype.hasNode=function(u){return t.has(this._nodes,u)},o.prototype.removeNode=function(u){var l=this;if(t.has(this._nodes,u)){var h=function(p){l.removeEdge(l._edgeObjs[p])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],t.each(this.children(u),function(p){l.setParent(p)}),delete this._children[u]),t.each(t.keys(this._in[u]),h),delete this._in[u],delete this._preds[u],t.each(t.keys(this._out[u]),h),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},o.prototype.setParent=function(u,l){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(l))l=s;else{l+="";for(var h=l;!t.isUndefined(h);h=this.parent(h))if(h===u)throw new Error("Setting "+l+" as parent of "+u+" would create a cycle");this.setNode(l)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=l,this._children[l][u]=!0,this},o.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},o.prototype.parent=function(u){if(this._isCompound){var l=this._parent[u];if(l!==s)return l}},o.prototype.children=function(u){if(t.isUndefined(u)&&(u=s),this._isCompound){var l=this._children[u];if(l)return t.keys(l)}else{if(u===s)return this.nodes();if(this.hasNode(u))return[]}},o.prototype.predecessors=function(u){var l=this._preds[u];if(l)return t.keys(l)},o.prototype.successors=function(u){var l=this._sucs[u];if(l)return t.keys(l)},o.prototype.neighbors=function(u){var l=this.predecessors(u);if(l)return t.union(l,this.successors(u))},o.prototype.isLeaf=function(u){var l;return this.isDirected()?l=this.successors(u):l=this.neighbors(u),l.length===0},o.prototype.filterNodes=function(u){var l=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});l.setGraph(this.graph());var h=this;t.each(this._nodes,function(g,y){u(y)&&l.setNode(y,g)}),t.each(this._edgeObjs,function(g){l.hasNode(g.v)&&l.hasNode(g.w)&&l.setEdge(g,h.edge(g))});var p={};function d(g){var y=h.parent(g);return y===void 0||l.hasNode(y)?(p[g]=y,y):y in p?p[y]:d(y)}return this._isCompound&&t.each(l.nodes(),function(g){l.setParent(g,d(g))}),l},o.prototype.setDefaultEdgeLabel=function(u){return t.isFunction(u)||(u=t.constant(u)),this._defaultEdgeLabelFn=u,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return t.values(this._edgeObjs)},o.prototype.setPath=function(u,l){var h=this,p=arguments;return t.reduce(u,function(d,g){return p.length>1?h.setEdge(d,g,l):h.setEdge(d,g),g}),this},o.prototype.setEdge=function(){var u,l,h,p,d=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(u=g.v,l=g.w,h=g.name,arguments.length===2&&(p=arguments[1],d=!0)):(u=g,l=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],d=!0)),u=""+u,l=""+l,t.isUndefined(h)||(h=""+h);var y=e(this._isDirected,u,l,h);if(t.has(this._edgeLabels,y))return d&&(this._edgeLabels[y]=p),this;if(!t.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(l),this._edgeLabels[y]=d?p:this._defaultEdgeLabelFn(u,l,h);var x=n(this._isDirected,u,l,h);return u=x.v,l=x.w,Object.freeze(x),this._edgeObjs[y]=x,f(this._preds[l],u),f(this._sucs[u],l),this._in[l][y]=x,this._out[u][y]=x,this._edgeCount++,this},o.prototype.edge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h);return this._edgeLabels[p]},o.prototype.hasEdge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h);return t.has(this._edgeLabels,p)},o.prototype.removeEdge=function(u,l,h){var p=arguments.length===1?a(this._isDirected,arguments[0]):e(this._isDirected,u,l,h),d=this._edgeObjs[p];return d&&(u=d.v,l=d.w,delete this._edgeLabels[p],delete this._edgeObjs[p],r(this._preds[l],u),r(this._sucs[u],l),delete this._in[l][p],delete this._out[u][p],this._edgeCount--),this},o.prototype.inEdges=function(u,l){var h=this._in[u];if(h){var p=t.values(h);return l?t.filter(p,function(d){return d.v===l}):p}},o.prototype.outEdges=function(u,l){var h=this._out[u];if(h){var p=t.values(h);return l?t.filter(p,function(d){return d.w===l}):p}},o.prototype.nodeEdges=function(u,l){var h=this.inEdges(u,l);if(h)return h.concat(this.outEdges(u,l))};function f(u,l){u[l]?u[l]++:u[l]=1}function r(u,l){--u[l]||delete u[l]}function e(u,l,h,p){var d=""+l,g=""+h;if(!u&&d>g){var y=d;d=g,g=y}return d+v+g+v+(t.isUndefined(p)?c:p)}function n(u,l,h,p){var d=""+l,g=""+h;if(!u&&d>g){var y=d;d=g,g=y}var x={v:d,w:g};return p&&(x.name=p),x}function a(u,l){return e(u,l.v,l.w,l.name)}},"./node_modules/_graphlib@2.1.8@graphlib/lib/index.js":function(P,S,i){P.exports={Graph:i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),version:i("./node_modules/_graphlib@2.1.8@graphlib/lib/version.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/json.js":function(P,S,i){var t=i("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),c=i("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js");P.exports={write:s,read:f};function s(r){var e={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:v(r),edges:o(r)};return t.isUndefined(r.graph())||(e.value=t.clone(r.graph())),e}function v(r){return t.map(r.nodes(),function(e){var n=r.node(e),a=r.parent(e),u={v:e};return t.isUndefined(n)||(u.value=n),t.isUndefined(a)||(u.parent=a),u})}function o(r){return t.map(r.edges(),function(e){var n=r.edge(e),a={v:e.v,w:e.w};return t.isUndefined(e.name)||(a.name=e.name),t.isUndefined(n)||(a.value=n),a})}function f(r){var e=new c(r.options).setGraph(r.value);return t.each(r.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.each(r.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}},"./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js":function(P,S,i){var t;try{t={clone:i("./node_modules/_lodash@4.17.20@lodash/clone.js"),constant:i("./node_modules/_lodash@4.17.20@lodash/constant.js"),each:i("./node_modules/_lodash@4.17.20@lodash/each.js"),filter:i("./node_modules/_lodash@4.17.20@lodash/filter.js"),has:i("./node_modules/_lodash@4.17.20@lodash/has.js"),isArray:i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),isEmpty:i("./node_modules/_lodash@4.17.20@lodash/isEmpty.js"),isFunction:i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),isUndefined:i("./node_modules/_lodash@4.17.20@lodash/isUndefined.js"),keys:i("./node_modules/_lodash@4.17.20@lodash/keys.js"),map:i("./node_modules/_lodash@4.17.20@lodash/map.js"),reduce:i("./node_modules/_lodash@4.17.20@lodash/reduce.js"),size:i("./node_modules/_lodash@4.17.20@lodash/size.js"),transform:i("./node_modules/_lodash@4.17.20@lodash/transform.js"),union:i("./node_modules/_lodash@4.17.20@lodash/union.js"),values:i("./node_modules/_lodash@4.17.20@lodash/values.js")}}catch(c){}t||(t=window._),P.exports=t},"./node_modules/_graphlib@2.1.8@graphlib/lib/version.js":function(P,S){P.exports="2.1.8"},"./node_modules/_isarray@0.0.1@isarray/index.js":function(P,S){P.exports=Array.isArray||function(i){return Object.prototype.toString.call(i)=="[object Array]"}},"./node_modules/_lodash@4.17.20@lodash/_DataView.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"DataView");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_Hash.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_hashClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hashDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_hashGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_hashHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_hashSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_ListCache.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_listCacheClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_listCacheDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_listCacheGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_listCacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_listCacheSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_Map.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Map");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_MapCache.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheClear.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheDelete.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheGet.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_mapCacheSet.js");function f(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var a=r[e];this.set(a[0],a[1])}}f.prototype.clear=t,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=v,f.prototype.set=o,P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_Promise.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Promise");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_Set.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"Set");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_SetCache.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_setCacheAdd.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setCacheHas.js");function v(o){var f=-1,r=o==null?0:o.length;for(this.__data__=new t;++f<r;)this.add(o[f])}v.prototype.add=v.prototype.push=c,v.prototype.has=s,P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_Stack.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_stackClear.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_stackDelete.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_stackGet.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_stackHas.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_stackSet.js");function r(e){var n=this.__data__=new t(e);this.size=n.size}r.prototype.clear=c,r.prototype.delete=s,r.prototype.get=v,r.prototype.has=o,r.prototype.set=f,P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_Symbol.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t.Symbol;P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t.Uint8Array;P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_WeakMap.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=t(c,"WeakMap");P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_apply.js":function(P,S){function i(t,c,s){switch(s.length){case 0:return t.call(c);case 1:return t.call(c,s[0]);case 2:return t.call(c,s[0],s[1]);case 3:return t.call(c,s[0],s[1],s[2])}return t.apply(c,s)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayEach.js":function(P,S){function i(t,c){for(var s=-1,v=t==null?0:t.length;++s<v&&c(t[s],s,t)!==!1;);return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js":function(P,S){function i(t,c){for(var s=-1,v=t==null?0:t.length,o=0,f=[];++s<v;){var r=t[s];c(r,s,t)&&(f[o++]=r)}return f}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayIncludes.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIndexOf.js");function c(s,v){var o=s==null?0:s.length;return!!o&&t(s,v,0)>-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_arrayIncludesWith.js":function(P,S){function i(t,c,s){for(var v=-1,o=t==null?0:t.length;++v<o;)if(s(c,t[v]))return!0;return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseTimes.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),r=Object.prototype,e=r.hasOwnProperty;function n(a,u){var l=s(a),h=!l&&c(a),p=!l&&!h&&v(a),d=!l&&!h&&!p&&f(a),g=l||h||p||d,y=g?t(a.length,String):[],x=y.length;for(var A in a)(u||e.call(a,A))&&!(g&&(A=="length"||p&&(A=="offset"||A=="parent")||d&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,x)))&&y.push(A);return y}P.exports=n},"./node_modules/_lodash@4.17.20@lodash/_arrayMap.js":function(P,S){function i(t,c){for(var s=-1,v=t==null?0:t.length,o=Array(v);++s<v;)o[s]=c(t[s],s,t);return o}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayPush.js":function(P,S){function i(t,c){for(var s=-1,v=c.length,o=t.length;++s<v;)t[o+s]=c[s];return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arrayReduce.js":function(P,S){function i(t,c,s,v){var o=-1,f=t==null?0:t.length;for(v&&f&&(s=t[++o]);++o<f;)s=c(s,t[o],o,t);return s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_arraySome.js":function(P,S){function i(t,c){for(var s=-1,v=t==null?0:t.length;++s<v;)if(c(t[s],s,t))return!0;return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_asciiSize.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseProperty.js"),c=t("length");P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js");function s(v,o,f){(f!==void 0&&!c(v[o],f)||f===void 0&&!(o in v))&&t(v,o,f)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_assignValue.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),s=Object.prototype,v=s.hasOwnProperty;function o(f,r,e){var n=f[r];(!(v.call(f,r)&&c(n,e))||e===void 0&&!(r in f))&&t(f,r,e)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/eq.js");function c(s,v){for(var o=s.length;o--;)if(t(s[o][0],v))return o;return-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseAssign.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v,o){return v&&t(o,c(o),v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseAssignIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function s(v,o){return v&&t(o,c(o),v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_defineProperty.js");function c(s,v,o){v=="__proto__"&&t?t(s,v,{configurable:!0,enumerable:!0,value:o,writable:!0}):s[v]=o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseClone.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseAssign.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignIn.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_copyArray.js"),e=i("./node_modules/_lodash@4.17.20@lodash/_copySymbols.js"),n=i("./node_modules/_lodash@4.17.20@lodash/_copySymbolsIn.js"),a=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js"),u=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeysIn.js"),l=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),h=i("./node_modules/_lodash@4.17.20@lodash/_initCloneArray.js"),p=i("./node_modules/_lodash@4.17.20@lodash/_initCloneByTag.js"),d=i("./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js"),g=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),y=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),x=i("./node_modules/_lodash@4.17.20@lodash/isMap.js"),A=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),m=i("./node_modules/_lodash@4.17.20@lodash/isSet.js"),M=i("./node_modules/_lodash@4.17.20@lodash/keys.js"),b=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),E=1,C=2,T=4,O="[object Arguments]",L="[object Array]",R="[object Boolean]",W="[object Date]",U="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",J="[object Map]",ht="[object Number]",at="[object Object]",Q="[object RegExp]",xt="[object Set]",kt="[object String]",Nt="[object Symbol]",nt="[object WeakMap]",q="[object ArrayBuffer]",G="[object DataView]",N="[object Float32Array]",it="[object Float64Array]",H="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",et="[object Uint16Array]",j="[object Uint32Array]",w={};w[O]=w[L]=w[q]=w[G]=w[R]=w[W]=w[N]=w[it]=w[H]=w[ct]=w[ft]=w[J]=w[ht]=w[at]=w[Q]=w[xt]=w[kt]=w[Nt]=w[K]=w[$]=w[et]=w[j]=!0,w[U]=w[X]=w[nt]=!1;function D(V,tt,lt,St,ot,Mt){var Ot,Ft=tt&E,zt=tt&C,$t=tt&T;if(lt&&(Ot=ot?lt(V,St,ot,Mt):lt(V)),Ot!==void 0)return Ot;if(!A(V))return V;var he=g(V);if(he){if(Ot=h(V),!Ft)return r(V,Ot)}else{var ye=l(V),tr=ye==X||ye==Z;if(y(V))return f(V,Ft);if(ye==at||ye==O||tr&&!ot){if(Ot=zt||tr?{}:d(V),!Ft)return zt?n(V,o(Ot,V)):e(V,v(Ot,V))}else{if(!w[ye])return ot?V:{};Ot=p(V,ye,Ft)}}Mt||(Mt=new t);var nr=Mt.get(V);if(nr)return nr;Mt.set(V,Ot),m(V)?V.forEach(function(Vr){Ot.add(D(Vr,tt,lt,Vr,V,Mt))}):x(V)&&V.forEach(function(Vr,Ee){Ot.set(Ee,D(Vr,tt,lt,Ee,V,Mt))});var Xe=$t?zt?u:a:zt?b:M,yr=he?void 0:Xe(V);return c(yr||V,function(Vr,Ee){yr&&(Ee=Vr,Vr=V[Ee]),s(Ot,Ee,D(Vr,tt,lt,Ee,V,Mt))}),Ot}P.exports=D},"./node_modules/_lodash@4.17.20@lodash/_baseCreate.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=Object.create,s=function(){function v(){}return function(o){if(!t(o))return{};if(c)return c(o);v.prototype=o;var f=new v;return v.prototype=void 0,f}}();P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseEach.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_createBaseEach.js"),s=c(t);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js");function c(s,v,o){for(var f=-1,r=s.length;++f<r;){var e=s[f],n=v(e);if(n!=null&&(a===void 0?n===n&&!t(n):o(n,a)))var a=n,u=e}return u}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseFilter.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js");function c(s,v){var o=[];return t(s,function(f,r,e){v(f,r,e)&&o.push(f)}),o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js":function(P,S){function i(t,c,s,v){for(var o=t.length,f=s+(v?1:-1);v?f--:++f<o;)if(c(t[f],f,t))return f;return-1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isFlattenable.js");function s(v,o,f,r,e){var n=-1,a=v.length;for(f||(f=c),e||(e=[]);++n<a;){var u=v[n];o>0&&f(u)?o>1?s(u,o-1,f,r,e):t(e,u):r||(e[e.length]=u)}return e}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseFor.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createBaseFor.js"),c=t();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v,o){return v&&t(v,o,c)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function s(v,o){o=t(o,v);for(var f=0,r=o.length;v!=null&&f<r;)v=v[c(o[f++])];return f&&f==r?v:void 0}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function s(v,o,f){var r=o(v);return c(v)?r:t(r,f(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getRawTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_objectToString.js"),v="[object Null]",o="[object Undefined]",f=t?t.toStringTag:void 0;function r(e){return e==null?e===void 0?o:v:f&&f in Object(e)?c(e):s(e)}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_baseGt.js":function(P,S){function i(t,c){return t>c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseHas.js":function(P,S){var i=Object.prototype,t=i.hasOwnProperty;function c(s,v){return s!=null&&t.call(s,v)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseHasIn.js":function(P,S){function i(t,c){return t!=null&&c in Object(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseIndexOf.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIsNaN.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_strictIndexOf.js");function v(o,f,r){return f===f?s(o,f,r):t(o,c,r)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsArguments.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Arguments]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqualDeep.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js");function s(v,o,f,r,e){return v===o?!0:v==null||o==null||!c(v)&&!c(o)?v!==v&&o!==o:t(v,o,f,r,s,e)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseIsEqualDeep.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_equalArrays.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_equalByTag.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_equalObjects.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),n=1,a="[object Arguments]",u="[object Array]",l="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function d(g,y,x,A,m,M){var b=f(g),E=f(y),C=b?u:o(g),T=E?u:o(y);C=C==a?l:C,T=T==a?l:T;var O=C==l,L=T==l,R=C==T;if(R&&r(g)){if(!r(y))return!1;b=!0,O=!1}if(R&&!O)return M||(M=new t),b||e(g)?c(g,y,x,A,m,M):s(g,y,C,x,A,m,M);if(!(x&n)){var W=O&&p.call(g,"__wrapped__"),U=L&&p.call(y,"__wrapped__");if(W||U){var X=W?g.value():g,Z=U?y.value():y;return M||(M=new t),m(X,Z,x,A,M)}}return R?(M||(M=new t),v(g,y,x,A,m,M)):!1}P.exports=d},"./node_modules/_lodash@4.17.20@lodash/_baseIsMap.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Map]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsMatch.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js"),s=1,v=2;function o(f,r,e,n){var a=e.length,u=a,l=!n;if(f==null)return!u;for(f=Object(f);a--;){var h=e[a];if(l&&h[2]?h[1]!==f[h[0]]:!(h[0]in f))return!1}for(;++a<u;){h=e[a];var p=h[0],d=f[p],g=h[1];if(l&&h[2]){if(d===void 0&&!(p in f))return!1}else{var y=new t;if(n)var x=n(d,g,p,f,r,y);if(!(x===void 0?c(g,d,s|v,n,y):x))return!1}}return!0}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_baseIsNaN.js":function(P,S){function i(t){return t!==t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseIsNative.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isMasked.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_toSource.js"),o=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,r=Function.prototype,e=Object.prototype,n=r.toString,a=e.hasOwnProperty,u=RegExp("^"+n.call(a).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(h){if(!s(h)||c(h))return!1;var p=t(h)?u:f;return p.test(v(h))}P.exports=l},"./node_modules/_lodash@4.17.20@lodash/_baseIsSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Set]";function v(o){return c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseIsTypedArray.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isLength.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object Arguments]",o="[object Array]",f="[object Boolean]",r="[object Date]",e="[object Error]",n="[object Function]",a="[object Map]",u="[object Number]",l="[object Object]",h="[object RegExp]",p="[object Set]",d="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",A="[object Float32Array]",m="[object Float64Array]",M="[object Int8Array]",b="[object Int16Array]",E="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",L="[object Uint32Array]",R={};R[A]=R[m]=R[M]=R[b]=R[E]=R[C]=R[T]=R[O]=R[L]=!0,R[v]=R[o]=R[y]=R[f]=R[x]=R[r]=R[e]=R[n]=R[a]=R[u]=R[l]=R[h]=R[p]=R[d]=R[g]=!1;function W(U){return s(U)&&c(U.length)&&!!R[t(U)]}P.exports=W},"./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseMatches.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseMatchesProperty.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/property.js");function f(r){return typeof r=="function"?r:r==null?s:typeof r=="object"?v(r)?c(r[0],r[1]):t(r):o(r)}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseKeys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_nativeKeys.js"),s=Object.prototype,v=s.hasOwnProperty;function o(f){if(!t(f))return c(f);var r=[];for(var e in Object(f))v.call(f,e)&&e!="constructor"&&r.push(e);return r}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_baseKeysIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nativeKeysIn.js"),v=Object.prototype,o=v.hasOwnProperty;function f(r){if(!t(r))return s(r);var e=c(r),n=[];for(var a in r)a=="constructor"&&(e||!o.call(r,a))||n.push(a);return n}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseLt.js":function(P,S){function i(t,c){return t<c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseMap.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function s(v,o){var f=-1,r=c(v)?Array(v.length):[];return t(v,function(e,n,a){r[++f]=o(e,n,a)}),r}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_baseMatches.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsMatch.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getMatchData.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js");function v(o){var f=c(o);return f.length==1&&f[0][2]?s(f[0][0],f[0][1]):function(r){return r===o||t(r,o,f)}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseMatchesProperty.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsEqual.js"),c=i("./node_modules/_lodash@4.17.20@lodash/get.js"),s=i("./node_modules/_lodash@4.17.20@lodash/hasIn.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js"),e=1,n=2;function a(u,l){return v(u)&&o(l)?f(r(u),l):function(h){var p=c(h,u);return p===void 0&&p===l?s(h,u):t(l,p,e|n)}}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/_baseMerge.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Stack.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseMergeDeep.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),f=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_safeGet.js");function e(n,a,u,l,h){n!==a&&s(a,function(p,d){if(h||(h=new t),o(p))v(n,a,d,u,e,l,h);else{var g=l?l(r(n,d),p,d+"",n,a,h):void 0;g===void 0&&(g=p),c(n,d,g)}},f)}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseMergeDeep.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignMergeValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_copyArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),a=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),u=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),l=i("./node_modules/_lodash@4.17.20@lodash/isPlainObject.js"),h=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),p=i("./node_modules/_lodash@4.17.20@lodash/_safeGet.js"),d=i("./node_modules/_lodash@4.17.20@lodash/toPlainObject.js");function g(y,x,A,m,M,b,E){var C=p(y,A),T=p(x,A),O=E.get(T);if(O){t(y,A,O);return}var L=b?b(C,T,A+"",y,x,E):void 0,R=L===void 0;if(R){var W=r(T),U=!W&&n(T),X=!W&&!U&&h(T);L=T,W||U||X?r(C)?L=C:e(C)?L=v(C):U?(R=!1,L=c(T,!0)):X?(R=!1,L=s(T,!0)):L=[]:l(T)||f(T)?(L=C,f(C)?L=d(C):(!u(C)||a(C))&&(L=o(T))):R=!1}R&&(E.set(T,L),M(L,T,m,b,E),E.delete(T)),t(y,A,L)}P.exports=g},"./node_modules/_lodash@4.17.20@lodash/_baseOrderBy.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseMap.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_baseSortBy.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_compareMultiple.js"),e=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function a(u,l,h){l.length?l=t(l,function(g){return n(g)?function(y){return c(y,g.length===1?g[0]:g)}:g}):l=[e];var p=-1;l=t(l,f(s));var d=v(u,function(g,y,x){var A=t(l,function(m){return m(g)});return{criteria:A,index:++p,value:g}});return o(d,function(g,y){return r(g,y,h)})}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/_basePick.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_basePickBy.js"),c=i("./node_modules/_lodash@4.17.20@lodash/hasIn.js");function s(v,o){return t(v,o,function(f,r){return c(v,r)})}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_basePickBy.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseSet.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js");function v(o,f,r){for(var e=-1,n=f.length,a={};++e<n;){var u=f[e],l=t(o,u);r(l,u)&&c(a,s(u,o),l)}return a}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseProperty.js":function(P,S){function i(t){return function(c){return c==null?void 0:c[t]}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_basePropertyDeep.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js");function c(s){return function(v){return t(v,s)}}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseRange.js":function(P,S){var i=Math.ceil,t=Math.max;function c(s,v,o,f){for(var r=-1,e=t(i((v-s)/(o||1)),0),n=Array(e);e--;)n[f?e:++r]=s,s+=o;return n}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseReduce.js":function(P,S){function i(t,c,s,v,o){return o(t,function(f,r,e){s=v?(v=!1,f):c(s,f,r,e)}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseRest.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_overRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToString.js");function v(o,f){return s(c(o,f,t),o+"")}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function f(r,e,n,a){if(!v(r))return r;e=c(e,r);for(var u=-1,l=e.length,h=l-1,p=r;p!=null&&++u<l;){var d=o(e[u]),g=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return r;if(u!=h){var y=p[d];g=a?a(y,d,p):void 0,g===void 0&&(g=v(y)?y:s(e[u+1])?[]:{})}t(p,d,g),p=p[d]}return r}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_baseSetToString.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/constant.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_defineProperty.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js"),v=c?function(o,f){return c(o,"toString",{configurable:!0,enumerable:!1,value:t(f),writable:!0})}:s;P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_baseSortBy.js":function(P,S){function i(t,c){var s=t.length;for(t.sort(c);s--;)t[s]=t[s].value;return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseTimes.js":function(P,S){function i(t,c){for(var s=-1,v=Array(t);++s<t;)v[s]=c(s);return v}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseToString.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),o=1/0,f=t?t.prototype:void 0,r=f?f.toString:void 0;function e(n){if(typeof n=="string")return n;if(s(n))return c(n,e)+"";if(v(n))return r?r.call(n):"";var a=n+"";return a=="0"&&1/n==-o?"-0":a}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseUnary.js":function(P,S){function i(t){return function(c){return t(c)}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_baseUniq.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_SetCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arrayIncludes.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_arrayIncludesWith.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_cacheHas.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_createSet.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),r=200;function e(n,a,u){var l=-1,h=c,p=n.length,d=!0,g=[],y=g;if(u)d=!1,h=s;else if(p>=r){var x=a?null:o(n);if(x)return f(x);d=!1,h=v,y=new t}else y=a?[]:g;t:for(;++l<p;){var A=n[l],m=a?a(A):A;if(A=u||A!==0?A:0,d&&m===m){for(var M=y.length;M--;)if(y[M]===m)continue t;a&&y.push(m),g.push(A)}else h(y,m,u)||(y!==g&&y.push(m),g.push(A))}return g}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_baseValues.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js");function c(s,v){return t(v,function(o){return s[o]})}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_baseZipObject.js":function(P,S){function i(t,c,s){for(var v=-1,o=t.length,f=c.length,r={};++v<o;){var e=v<f?c[v]:void 0;s(r,t[v],e)}return r}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_cacheHas.js":function(P,S){function i(t,c){return t.has(c)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_castFunction.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function c(s){return typeof s=="function"?s:t}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_castPath.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_stringToPath.js"),v=i("./node_modules/_lodash@4.17.20@lodash/toString.js");function o(f,r){return t(f)?f:c(f,r)?[f]:s(v(f))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js");function c(s){var v=new s.constructor(s.byteLength);return new t(v).set(new t(s)),v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_cloneBuffer.js":function(P,S,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=S&&!S.nodeType&&S,v=s&&typeof t=="object"&&t&&!t.nodeType&&t,o=v&&v.exports===s,f=o?c.Buffer:void 0,r=f?f.allocUnsafe:void 0;function e(n,a){if(a)return n.slice();var u=n.length,l=r?r(u):new n.constructor(u);return n.copy(l),l}t.exports=e}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/_cloneDataView.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js");function c(s,v){var o=v?t(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.byteLength)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_cloneRegExp.js":function(P,S){var i=/\w*$/;function t(c){var s=new c.constructor(c.source,i.exec(c));return s.lastIndex=c.lastIndex,s}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_cloneSymbol.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=t?t.prototype:void 0,s=c?c.valueOf:void 0;function v(o){return s?Object(s.call(o)):{}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js");function c(s,v){var o=v?t(s.buffer):s.buffer;return new s.constructor(o,s.byteOffset,s.length)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_compareAscending.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js");function c(s,v){if(s!==v){var o=s!==void 0,f=s===null,r=s===s,e=t(s),n=v!==void 0,a=v===null,u=v===v,l=t(v);if(!a&&!l&&!e&&s>v||e&&n&&u&&!a&&!l||f&&n&&u||!o&&u||!r)return 1;if(!f&&!e&&!l&&s<v||l&&o&&r&&!f&&!e||a&&o&&r||!n&&r||!u)return-1}return 0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_compareMultiple.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_compareAscending.js");function c(s,v,o){for(var f=-1,r=s.criteria,e=v.criteria,n=r.length,a=o.length;++f<n;){var u=t(r[f],e[f]);if(u){if(f>=a)return u;var l=o[f];return u*(l=="desc"?-1:1)}}return s.index-v.index}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_copyArray.js":function(P,S){function i(t,c){var s=-1,v=t.length;for(c||(c=Array(v));++s<v;)c[s]=t[s];return c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_copyObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js");function s(v,o,f,r){var e=!f;f||(f={});for(var n=-1,a=o.length;++n<a;){var u=o[n],l=r?r(f[u],v[u],u,f,v):void 0;l===void 0&&(l=v[u]),e?c(f,u,l):t(f,u,l)}return f}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_copySymbols.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js");function s(v,o){return t(v,c(v),o)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_copySymbolsIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js");function s(v,o){return t(v,c(v),o)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_coreJsData.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=t["__core-js_shared__"];P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_createAssigner.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js");function s(v){return t(function(o,f){var r=-1,e=f.length,n=e>1?f[e-1]:void 0,a=e>2?f[2]:void 0;for(n=v.length>3&&typeof n=="function"?(e--,n):void 0,a&&c(f[0],f[1],a)&&(n=e<3?void 0:n,e=1),o=Object(o);++r<e;){var u=f[r];u&&v(o,u,r,n)}return o})}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_createBaseEach.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function c(s,v){return function(o,f){if(o==null)return o;if(!t(o))return s(o,f);for(var r=o.length,e=v?r:-1,n=Object(o);(v?e--:++e<r)&&f(n[e],e,n)!==!1;);return o}}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_createBaseFor.js":function(P,S){function i(t){return function(c,s,v){for(var o=-1,f=Object(c),r=v(c),e=r.length;e--;){var n=r[t?e:++o];if(s(f[n],n,f)===!1)break}return c}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_createFind.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function v(o){return function(f,r,e){var n=Object(f);if(!c(f)){var a=t(r,3);f=s(f),r=function(l){return a(n[l],l,n)}}var u=o(f,r,e);return u>-1?n[a?f[u]:u]:void 0}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_createRange.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRange.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),s=i("./node_modules/_lodash@4.17.20@lodash/toFinite.js");function v(o){return function(f,r,e){return e&&typeof e!="number"&&c(f,r,e)&&(r=e=void 0),f=s(f),r===void 0?(r=f,f=0):r=s(r),e=e===void 0?f<r?1:-1:s(e),t(f,r,e,o)}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_createSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Set.js"),c=i("./node_modules/_lodash@4.17.20@lodash/noop.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),v=1/0,o=t&&1/s(new t([,-0]))[1]==v?function(f){return new t(f)}:c;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_defineProperty.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=function(){try{var s=t(Object,"defineProperty");return s({},"",{}),s}catch(v){}}();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_equalArrays.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_SetCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_arraySome.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cacheHas.js"),v=1,o=2;function f(r,e,n,a,u,l){var h=n&v,p=r.length,d=e.length;if(p!=d&&!(h&&d>p))return!1;var g=l.get(r),y=l.get(e);if(g&&y)return g==e&&y==r;var x=-1,A=!0,m=n&o?new t:void 0;for(l.set(r,e),l.set(e,r);++x<p;){var M=r[x],b=e[x];if(a)var E=h?a(b,M,x,e,r,l):a(M,b,x,r,e,l);if(E!==void 0){if(E)continue;A=!1;break}if(m){if(!c(e,function(C,T){if(!s(m,T)&&(M===C||u(M,C,n,a,l)))return m.push(T)})){A=!1;break}}else if(!(M===b||u(M,b,n,a,l))){A=!1;break}}return l.delete(r),l.delete(e),A}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_equalByTag.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Uint8Array.js"),s=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_equalArrays.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_mapToArray.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_setToArray.js"),r=1,e=2,n="[object Boolean]",a="[object Date]",u="[object Error]",l="[object Map]",h="[object Number]",p="[object RegExp]",d="[object Set]",g="[object String]",y="[object Symbol]",x="[object ArrayBuffer]",A="[object DataView]",m=t?t.prototype:void 0,M=m?m.valueOf:void 0;function b(E,C,T,O,L,R,W){switch(T){case A:if(E.byteLength!=C.byteLength||E.byteOffset!=C.byteOffset)return!1;E=E.buffer,C=C.buffer;case x:return!(E.byteLength!=C.byteLength||!R(new c(E),new c(C)));case n:case a:case h:return s(+E,+C);case u:return E.name==C.name&&E.message==C.message;case p:case g:return E==C+"";case l:var U=o;case d:var X=O&r;if(U||(U=f),E.size!=C.size&&!X)return!1;var Z=W.get(E);if(Z)return Z==C;O|=e,W.set(E,C);var J=v(U(E),U(C),O,L,R,W);return W.delete(E),J;case y:if(M)return M.call(E)==M.call(C)}return!1}P.exports=b},"./node_modules/_lodash@4.17.20@lodash/_equalObjects.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js"),c=1,s=Object.prototype,v=s.hasOwnProperty;function o(f,r,e,n,a,u){var l=e&c,h=t(f),p=h.length,d=t(r),g=d.length;if(p!=g&&!l)return!1;for(var y=p;y--;){var x=h[y];if(!(l?x in r:v.call(r,x)))return!1}var A=u.get(f),m=u.get(r);if(A&&m)return A==r&&m==f;var M=!0;u.set(f,r),u.set(r,f);for(var b=l;++y<p;){x=h[y];var E=f[x],C=r[x];if(n)var T=l?n(C,E,x,r,f,u):n(E,C,x,f,r,u);if(!(T===void 0?E===C||a(E,C,e,n,u):T)){M=!1;break}b||(b=x=="constructor")}if(M&&!b){var O=f.constructor,L=r.constructor;O!=L&&"constructor"in f&&"constructor"in r&&!(typeof O=="function"&&O instanceof O&&typeof L=="function"&&L instanceof L)&&(M=!1)}return u.delete(f),u.delete(r),M}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_flatRest.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/flatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_overRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_setToString.js");function v(o){return s(c(o,void 0,t),o+"")}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js":function(P,S,i){(function(t){var c=typeof t=="object"&&t&&t.Object===Object&&t;P.exports=c}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/global.js"))},"./node_modules/_lodash@4.17.20@lodash/_getAllKeys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function v(o){return t(o,s,c)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_getAllKeysIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetAllKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function v(o){return t(o,s,c)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_getMapData.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isKeyable.js");function c(s,v){var o=s.__data__;return t(v)?o[typeof v=="string"?"string":"hash"]:o.map}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_getMatchData.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v){for(var o=c(v),f=o.length;f--;){var r=o[f],e=v[r];o[f]=[r,e,t(e)]}return o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_getNative.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsNative.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getValue.js");function s(v,o){var f=c(v,o);return t(f)?f:void 0}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_getPrototype.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_overArg.js"),c=t(Object.getPrototypeOf,Object);P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_getRawTag.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=Object.prototype,s=c.hasOwnProperty,v=c.toString,o=t?t.toStringTag:void 0;function f(r){var e=s.call(r,o),n=r[o];try{r[o]=void 0;var a=!0}catch(l){}var u=v.call(r);return a&&(e?r[o]=n:delete r[o]),u}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getSymbols.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js"),c=i("./node_modules/_lodash@4.17.20@lodash/stubArray.js"),s=Object.prototype,v=s.propertyIsEnumerable,o=Object.getOwnPropertySymbols,f=o?function(r){return r==null?[]:(r=Object(r),t(o(r),function(e){return v.call(r,e)}))}:c;P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getSymbolsIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayPush.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_getSymbols.js"),v=i("./node_modules/_lodash@4.17.20@lodash/stubArray.js"),o=Object.getOwnPropertySymbols,f=o?function(r){for(var e=[];r;)t(e,s(r)),r=c(r);return e}:v;P.exports=f},"./node_modules/_lodash@4.17.20@lodash/_getTag.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_DataView.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Map.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_Promise.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_Set.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_WeakMap.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_toSource.js"),e="[object Map]",n="[object Object]",a="[object Promise]",u="[object Set]",l="[object WeakMap]",h="[object DataView]",p=r(t),d=r(c),g=r(s),y=r(v),x=r(o),A=f;(t&&A(new t(new ArrayBuffer(1)))!=h||c&&A(new c)!=e||s&&A(s.resolve())!=a||v&&A(new v)!=u||o&&A(new o)!=l)&&(A=function(m){var M=f(m),b=M==n?m.constructor:void 0,E=b?r(b):"";if(E)switch(E){case p:return h;case d:return e;case g:return a;case y:return u;case x:return l}return M}),P.exports=A},"./node_modules/_lodash@4.17.20@lodash/_getValue.js":function(P,S){function i(t,c){return t==null?void 0:t[c]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_hasPath.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_castPath.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isLength.js"),f=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function r(e,n,a){n=t(n,e);for(var u=-1,l=n.length,h=!1;++u<l;){var p=f(n[u]);if(!(h=e!=null&&a(e,p)))break;e=e[p]}return h||++u!=l?h:(l=e==null?0:e.length,!!l&&o(l)&&v(p,l)&&(s(e)||c(e)))}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/_hasUnicode.js":function(P,S){var i="\\ud800-\\udfff",t="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",v=t+c+s,o="\\ufe0e\\ufe0f",f="\\u200d",r=RegExp("["+f+i+v+o+"]");function e(n){return r.test(n)}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/_hashClear.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js");function c(){this.__data__=t?t(null):{},this.size=0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_hashDelete.js":function(P,S){function i(t){var c=this.has(t)&&delete this.__data__[t];return this.size-=c?1:0,c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_hashGet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c="__lodash_hash_undefined__",s=Object.prototype,v=s.hasOwnProperty;function o(f){var r=this.__data__;if(t){var e=r[f];return e===c?void 0:e}return v.call(r,f)?r[f]:void 0}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_hashHas.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c=Object.prototype,s=c.hasOwnProperty;function v(o){var f=this.__data__;return t?f[o]!==void 0:s.call(f,o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_hashSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js"),c="__lodash_hash_undefined__";function s(v,o){var f=this.__data__;return this.size+=this.has(v)?0:1,f[v]=t&&o===void 0?c:o,this}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_initCloneArray.js":function(P,S){var i=Object.prototype,t=i.hasOwnProperty;function c(s){var v=s.length,o=new s.constructor(v);return v&&typeof s[0]=="string"&&t.call(s,"index")&&(o.index=s.index,o.input=s.input),o}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_initCloneByTag.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_cloneArrayBuffer.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_cloneDataView.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_cloneRegExp.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_cloneSymbol.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_cloneTypedArray.js"),f="[object Boolean]",r="[object Date]",e="[object Map]",n="[object Number]",a="[object RegExp]",u="[object Set]",l="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",d="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",m="[object Int32Array]",M="[object Uint8Array]",b="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]";function T(O,L,R){var W=O.constructor;switch(L){case p:return t(O);case f:case r:return new W(+O);case d:return c(O,R);case g:case y:case x:case A:case m:case M:case b:case E:case C:return o(O,R);case e:return new W;case n:case l:return new W(O);case a:return s(O);case u:return new W;case h:return v(O)}}P.exports=T},"./node_modules/_lodash@4.17.20@lodash/_initCloneObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseCreate.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js");function v(o){return typeof o.constructor=="function"&&!s(o)?t(c(o)):{}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_isFlattenable.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Symbol.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),v=t?t.isConcatSpreadable:void 0;function o(f){return s(f)||c(f)||!!(v&&f&&f[v])}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isIndex.js":function(P,S){var i=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function c(s,v){var o=typeof s;return v=v==null?i:v,!!v&&(o=="number"||o!="symbol"&&t.test(s))&&s>-1&&s%1==0&&s<v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIndex.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isObject.js");function o(f,r,e){if(!v(e))return!1;var n=typeof r;return(n=="number"?c(e)&&s(r,e.length):n=="string"&&r in e)?t(e[r],f):!1}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isKey.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;function o(f,r){if(t(f))return!1;var e=typeof f;return e=="number"||e=="symbol"||e=="boolean"||f==null||c(f)?!0:v.test(f)||!s.test(f)||r!=null&&f in Object(r)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_isKeyable.js":function(P,S){function i(t){var c=typeof t;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?t!=="__proto__":t===null}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_isMasked.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_coreJsData.js"),c=function(){var v=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();function s(v){return!!c&&c in v}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_isPrototype.js":function(P,S){var i=Object.prototype;function t(c){var s=c&&c.constructor,v=typeof s=="function"&&s.prototype||i;return c===v}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_isStrictComparable.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js");function c(s){return s===s&&!t(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheClear.js":function(P,S){function i(){this.__data__=[],this.size=0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_listCacheDelete.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js"),c=Array.prototype,s=c.splice;function v(o){var f=this.__data__,r=t(f,o);if(r<0)return!1;var e=f.length-1;return r==e?f.pop():s.call(f,r,1),--this.size,!0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_listCacheGet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s){var v=this.__data__,o=t(v,s);return o<0?void 0:v[o][1]}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheHas.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s){return t(this.__data__,s)>-1}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_listCacheSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assocIndexOf.js");function c(s,v){var o=this.__data__,f=t(o,s);return f<0?(++this.size,o.push([s,v])):o[f][1]=v,this}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheClear.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_Hash.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_Map.js");function v(){this.size=0,this.__data__={hash:new t,map:new(s||c),string:new t}}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_mapCacheDelete.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){var v=t(this,s).delete(s);return this.size-=v?1:0,v}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheGet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){return t(this,s).get(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheHas.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s){return t(this,s).has(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapCacheSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getMapData.js");function c(s,v){var o=t(this,s),f=o.size;return o.set(s,v),this.size+=o.size==f?0:1,this}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_mapToArray.js":function(P,S){function i(t){var c=-1,s=Array(t.size);return t.forEach(function(v,o){s[++c]=[o,v]}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_matchesStrictComparable.js":function(P,S){function i(t,c){return function(s){return s==null?!1:s[t]===c&&(c!==void 0||t in Object(s))}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_memoizeCapped.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/memoize.js"),c=500;function s(v){var o=t(v,function(r){return f.size===c&&f.clear(),r}),f=o.cache;return o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_nativeCreate.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_getNative.js"),c=t(Object,"create");P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_nativeKeys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_overArg.js"),c=t(Object.keys,Object);P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_nativeKeysIn.js":function(P,S){function i(t){var c=[];if(t!=null)for(var s in Object(t))c.push(s);return c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js":function(P,S,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js"),s=S&&!S.nodeType&&S,v=s&&typeof t=="object"&&t&&!t.nodeType&&t,o=v&&v.exports===s,f=o&&c.process,r=function(){try{var e=v&&v.require&&v.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(n){}}();t.exports=r}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/_objectToString.js":function(P,S){var i=Object.prototype,t=i.toString;function c(s){return t.call(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_overArg.js":function(P,S){function i(t,c){return function(s){return t(c(s))}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_overRest.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_apply.js"),c=Math.max;function s(v,o,f){return o=c(o===void 0?v.length-1:o,0),function(){for(var r=arguments,e=-1,n=c(r.length-o,0),a=Array(n);++e<n;)a[e]=r[o+e];e=-1;for(var u=Array(o+1);++e<o;)u[e]=r[e];return u[o]=f(a),t(v,this,u)}}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_root.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_freeGlobal.js"),c=typeof self=="object"&&self&&self.Object===Object&&self,s=t||c||Function("return this")();P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_safeGet.js":function(P,S){function i(t,c){if(!(c==="constructor"&&typeof t[c]=="function")&&c!="__proto__")return t[c]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setCacheAdd.js":function(P,S){var i="__lodash_hash_undefined__";function t(c){return this.__data__.set(c,i),this}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/_setCacheHas.js":function(P,S){function i(t){return this.__data__.has(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setToArray.js":function(P,S){function i(t){var c=-1,s=Array(t.size);return t.forEach(function(v){s[++c]=v}),s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_setToString.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseSetToString.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_shortOut.js"),s=c(t);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_shortOut.js":function(P,S){var i=800,t=16,c=Date.now;function s(v){var o=0,f=0;return function(){var r=c(),e=t-(r-f);if(f=r,e>0){if(++o>=i)return arguments[0]}else o=0;return v.apply(void 0,arguments)}}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_stackClear.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js");function c(){this.__data__=new t,this.size=0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_stackDelete.js":function(P,S){function i(t){var c=this.__data__,s=c.delete(t);return this.size=c.size,s}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackGet.js":function(P,S){function i(t){return this.__data__.get(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackHas.js":function(P,S){function i(t){return this.__data__.has(t)}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stackSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_ListCache.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_Map.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),v=200;function o(f,r){var e=this.__data__;if(e instanceof t){var n=e.__data__;if(!c||n.length<v-1)return n.push([f,r]),this.size=++e.size,this;e=this.__data__=new s(n)}return e.set(f,r),this.size=e.size,this}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/_strictIndexOf.js":function(P,S){function i(t,c,s){for(var v=s-1,o=t.length;++v<o;)if(t[v]===c)return v;return-1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/_stringSize.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_asciiSize.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasUnicode.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_unicodeSize.js");function v(o){return c(o)?s(o):t(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_stringToPath.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_memoizeCapped.js"),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,v=t(function(o){var f=[];return o.charCodeAt(0)===46&&f.push(""),o.replace(c,function(r,e,n,a){f.push(n?a.replace(s,"$1"):e||r)}),f});P.exports=v},"./node_modules/_lodash@4.17.20@lodash/_toKey.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),c=1/0;function s(v){if(typeof v=="string"||t(v))return v;var o=v+"";return o=="0"&&1/v==-c?"-0":o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/_toSource.js":function(P,S){var i=Function.prototype,t=i.toString;function c(s){if(s!=null){try{return t.call(s)}catch(v){}try{return s+""}catch(v){}}return""}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/_unicodeSize.js":function(P,S){var i="\\ud800-\\udfff",t="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",v=t+c+s,o="\\ufe0e\\ufe0f",f="["+i+"]",r="["+v+"]",e="\\ud83c[\\udffb-\\udfff]",n="(?:"+r+"|"+e+")",a="[^"+i+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=n+"?",d="["+o+"]?",g="(?:"+h+"(?:"+[a,u,l].join("|")+")"+d+p+")*",y=d+p+g,x="(?:"+[a+r+"?",r,u,l,f].join("|")+")",A=RegExp(e+"(?="+e+")|"+x+y,"g");function m(M){for(var b=A.lastIndex=0;A.test(M);)++b;return b}P.exports=m},"./node_modules/_lodash@4.17.20@lodash/clone.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseClone.js"),c=4;function s(v){return t(v,c)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/cloneDeep.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseClone.js"),c=1,s=4;function v(o){return t(o,c|s)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/constant.js":function(P,S){function i(t){return function(){return t}}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/defaults.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),c=i("./node_modules/_lodash@4.17.20@lodash/eq.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),v=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js"),o=Object.prototype,f=o.hasOwnProperty,r=t(function(e,n){e=Object(e);var a=-1,u=n.length,l=u>2?n[2]:void 0;for(l&&s(n[0],n[1],l)&&(u=1);++a<u;)for(var h=n[a],p=v(h),d=-1,g=p.length;++d<g;){var y=p[d],x=e[y];(x===void 0||c(x,o[y])&&!f.call(e,y))&&(e[y]=h[y])}return e});P.exports=r},"./node_modules/_lodash@4.17.20@lodash/each.js":function(P,S,i){P.exports=i("./node_modules/_lodash@4.17.20@lodash/forEach.js")},"./node_modules/_lodash@4.17.20@lodash/eq.js":function(P,S){function i(t,c){return t===c||t!==t&&c!==c}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/filter.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayFilter.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseFilter.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:c;return e(f,s(r,3))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/find.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createFind.js"),c=i("./node_modules/_lodash@4.17.20@lodash/findIndex.js"),s=t(c);P.exports=s},"./node_modules/_lodash@4.17.20@lodash/findIndex.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFindIndex.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/toInteger.js"),v=Math.max;function o(f,r,e){var n=f==null?0:f.length;if(!n)return-1;var a=e==null?0:s(e);return a<0&&(a=v(n+a,0)),t(f,c(r,3),a)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/flatten.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js");function c(s){var v=s==null?0:s.length;return v?t(s,1):[]}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/forEach.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_castFunction.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:c;return e(f,s(r))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/forIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFor.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_castFunction.js"),s=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function v(o,f){return o==null?o:t(o,c(f),s)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/get.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGet.js");function c(s,v,o){var f=s==null?void 0:t(s,v);return f===void 0?o:f}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/has.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseHas.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasPath.js");function s(v,o){return v!=null&&c(v,o,t)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/hasIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseHasIn.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_hasPath.js");function s(v,o){return v!=null&&c(v,o,t)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/identity.js":function(P,S){function i(t){return t}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isArguments.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsArguments.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s=Object.prototype,v=s.hasOwnProperty,o=s.propertyIsEnumerable,f=t(function(){return arguments}())?t:function(r){return c(r)&&v.call(r,"callee")&&!o.call(r,"callee")};P.exports=f},"./node_modules/_lodash@4.17.20@lodash/isArray.js":function(P,S){var i=Array.isArray;P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isArrayLike.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isLength.js");function s(v){return v!=null&&c(v.length)&&!t(v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js");function s(v){return c(v)&&t(v)}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/isBuffer.js":function(P,S,i){(function(t){var c=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),s=i("./node_modules/_lodash@4.17.20@lodash/stubFalse.js"),v=S&&!S.nodeType&&S,o=v&&typeof t=="object"&&t&&!t.nodeType&&t,f=o&&o.exports===v,r=f?c.Buffer:void 0,e=r?r.isBuffer:void 0,n=e||s;t.exports=n}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/module.js")(P))},"./node_modules/_lodash@4.17.20@lodash/isEmpty.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArguments.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),r=i("./node_modules/_lodash@4.17.20@lodash/_isPrototype.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js"),n="[object Map]",a="[object Set]",u=Object.prototype,l=u.hasOwnProperty;function h(p){if(p==null)return!0;if(o(p)&&(v(p)||typeof p=="string"||typeof p.splice=="function"||f(p)||e(p)||s(p)))return!p.length;var d=c(p);if(d==n||d==a)return!p.size;if(r(p))return!t(p).length;for(var g in p)if(l.call(p,g))return!1;return!0}P.exports=h},"./node_modules/_lodash@4.17.20@lodash/isFunction.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),s="[object AsyncFunction]",v="[object Function]",o="[object GeneratorFunction]",f="[object Proxy]";function r(e){if(!c(e))return!1;var n=t(e);return n==v||n==o||n==s||n==f}P.exports=r},"./node_modules/_lodash@4.17.20@lodash/isLength.js":function(P,S){var i=9007199254740991;function t(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=i}P.exports=t},"./node_modules/_lodash@4.17.20@lodash/isMap.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isMap,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isObject.js":function(P,S){function i(t){var c=typeof t;return t!=null&&(c=="object"||c=="function")}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isObjectLike.js":function(P,S){function i(t){return t!=null&&typeof t=="object"}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/isPlainObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object Object]",o=Function.prototype,f=Object.prototype,r=o.toString,e=f.hasOwnProperty,n=r.call(Object);function a(u){if(!s(u)||t(u)!=v)return!1;var l=c(u);if(l===null)return!0;var h=e.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&r.call(h)==n}P.exports=a},"./node_modules/_lodash@4.17.20@lodash/isSet.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsSet.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isSet,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isString.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),v="[object String]";function o(f){return typeof f=="string"||!c(f)&&s(f)&&t(f)==v}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isSymbol.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseGetTag.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isObjectLike.js"),s="[object Symbol]";function v(o){return typeof o=="symbol"||c(o)&&t(o)==s}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/isTypedArray.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseIsTypedArray.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseUnary.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_nodeUtil.js"),v=s&&s.isTypedArray,o=v?c(v):t;P.exports=o},"./node_modules/_lodash@4.17.20@lodash/isUndefined.js":function(P,S){function i(t){return t===void 0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/keys.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function v(o){return s(o)?t(o):c(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/keysIn.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayLikeKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseKeysIn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js");function v(o){return s(o)?t(o,!0):c(o)}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/last.js":function(P,S){function i(t){var c=t==null?0:t.length;return c?t[c-1]:void 0}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/map.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayMap.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseMap.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function o(f,r){var e=v(f)?t:s;return e(f,c(r,3))}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/mapValues.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseAssignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js");function v(o,f){var r={};return f=s(f,3),c(o,function(e,n,a){t(r,n,f(e,n,a))}),r}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/max.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseGt.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function v(o){return o&&o.length?t(o,s,c):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/memoize.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_MapCache.js"),c="Expected a function";function s(v,o){if(typeof v!="function"||o!=null&&typeof o!="function")throw new TypeError(c);var f=function(){var r=arguments,e=o?o.apply(this,r):r[0],n=f.cache;if(n.has(e))return n.get(e);var a=v.apply(this,r);return f.cache=n.set(e,a)||n,a};return f.cache=new(s.Cache||t),f}s.Cache=t,P.exports=s},"./node_modules/_lodash@4.17.20@lodash/merge.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseMerge.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_createAssigner.js"),s=c(function(v,o,f){t(v,o,f)});P.exports=s},"./node_modules/_lodash@4.17.20@lodash/min.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseLt.js"),s=i("./node_modules/_lodash@4.17.20@lodash/identity.js");function v(o){return o&&o.length?t(o,s,c):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/minBy.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseExtremum.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseLt.js");function v(o,f){return o&&o.length?t(o,c(f,2),s):void 0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/noop.js":function(P,S){function i(){}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/now.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_root.js"),c=function(){return t.Date.now()};P.exports=c},"./node_modules/_lodash@4.17.20@lodash/pick.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_basePick.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_flatRest.js"),s=c(function(v,o){return v==null?{}:t(v,o)});P.exports=s},"./node_modules/_lodash@4.17.20@lodash/property.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseProperty.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_basePropertyDeep.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_isKey.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_toKey.js");function o(f){return s(f)?t(v(f)):c(f)}P.exports=o},"./node_modules/_lodash@4.17.20@lodash/range.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_createRange.js"),c=t();P.exports=c},"./node_modules/_lodash@4.17.20@lodash/reduce.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayReduce.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseEach.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseReduce.js"),o=i("./node_modules/_lodash@4.17.20@lodash/isArray.js");function f(r,e,n){var a=o(r)?t:v,u=arguments.length<3;return a(r,s(e,4),n,u,c)}P.exports=f},"./node_modules/_lodash@4.17.20@lodash/size.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseKeys.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_getTag.js"),s=i("./node_modules/_lodash@4.17.20@lodash/isArrayLike.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isString.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_stringSize.js"),f="[object Map]",r="[object Set]";function e(n){if(n==null)return 0;if(s(n))return v(n)?o(n):n.length;var a=c(n);return a==f||a==r?n.size:t(n).length}P.exports=e},"./node_modules/_lodash@4.17.20@lodash/sortBy.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseOrderBy.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_isIterateeCall.js"),o=s(function(f,r){if(f==null)return[];var e=r.length;return e>1&&v(f,r[0],r[1])?r=[]:e>2&&v(r[0],r[1],r[2])&&(r=[r[0]]),c(f,t(r,1),[])});P.exports=o},"./node_modules/_lodash@4.17.20@lodash/stubArray.js":function(P,S){function i(){return[]}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/stubFalse.js":function(P,S){function i(){return!1}P.exports=i},"./node_modules/_lodash@4.17.20@lodash/toFinite.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toNumber.js"),c=1/0,s=17976931348623157e292;function v(o){if(!o)return o===0?o:0;if(o=t(o),o===c||o===-c){var f=o<0?-1:1;return f*s}return o===o?o:0}P.exports=v},"./node_modules/_lodash@4.17.20@lodash/toInteger.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toFinite.js");function c(s){var v=t(s),o=v%1;return v===v?o?v-o:v:0}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/toNumber.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/isSymbol.js"),s=0/0,v=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,r=/^0o[0-7]+$/i,e=parseInt;function n(a){if(typeof a=="number")return a;if(c(a))return s;if(t(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=t(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=a.replace(v,"");var l=f.test(a);return l||r.test(a)?e(a.slice(2),l?2:8):o.test(a)?s:+a}P.exports=n},"./node_modules/_lodash@4.17.20@lodash/toPlainObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_copyObject.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keysIn.js");function s(v){return t(v,c(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/toString.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseToString.js");function c(s){return s==null?"":t(s)}P.exports=c},"./node_modules/_lodash@4.17.20@lodash/transform.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_arrayEach.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseCreate.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseForOwn.js"),v=i("./node_modules/_lodash@4.17.20@lodash/_baseIteratee.js"),o=i("./node_modules/_lodash@4.17.20@lodash/_getPrototype.js"),f=i("./node_modules/_lodash@4.17.20@lodash/isArray.js"),r=i("./node_modules/_lodash@4.17.20@lodash/isBuffer.js"),e=i("./node_modules/_lodash@4.17.20@lodash/isFunction.js"),n=i("./node_modules/_lodash@4.17.20@lodash/isObject.js"),a=i("./node_modules/_lodash@4.17.20@lodash/isTypedArray.js");function u(l,h,p){var d=f(l),g=d||r(l)||a(l);if(h=v(h,4),p==null){var y=l&&l.constructor;g?p=d?new y:[]:n(l)?p=e(y)?c(o(l)):{}:p={}}return(g?t:s)(l,function(x,A,m){return h(p,x,A,m)}),p}P.exports=u},"./node_modules/_lodash@4.17.20@lodash/union.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseFlatten.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseRest.js"),s=i("./node_modules/_lodash@4.17.20@lodash/_baseUniq.js"),v=i("./node_modules/_lodash@4.17.20@lodash/isArrayLikeObject.js"),o=c(function(f){return s(t(f,1,v,!0))});P.exports=o},"./node_modules/_lodash@4.17.20@lodash/uniqueId.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/toString.js"),c=0;function s(v){var o=++c;return t(v)+o}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/values.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_baseValues.js"),c=i("./node_modules/_lodash@4.17.20@lodash/keys.js");function s(v){return v==null?[]:t(v,c(v))}P.exports=s},"./node_modules/_lodash@4.17.20@lodash/zipObject.js":function(P,S,i){var t=i("./node_modules/_lodash@4.17.20@lodash/_assignValue.js"),c=i("./node_modules/_lodash@4.17.20@lodash/_baseZipObject.js");function s(v,o){return c(v||[],o||[],t)}P.exports=s},"./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js":function(P,S){P.exports=c;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function c(o){var f=[];return o.replace(t,function(r,e,n){var a=e.toLowerCase();for(n=v(n),a=="m"&&n.length>2&&(f.push([e].concat(n.splice(0,2))),a="l",e=e=="m"?"l":"L");;){if(n.length==i[a])return n.unshift(e),f.push(n);if(n.length<i[a])throw new Error("malformed path data");f.push([e].concat(n.splice(0,i[a])))}}),f}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function v(o){var f=o.match(s);return f?f.map(Number):[]}},"./node_modules/_point-at-length@1.1.0@point-at-length/index.js":function(P,S,i){var t=i("./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js"),c=i("./node_modules/_isarray@0.0.1@isarray/index.js"),s=i("./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js");P.exports=v;function v(e){if(!(this instanceof v))return new v(e);this._path=c(e)?e:t(e),this._path=s(this._path),this._path=r(this._path),this._path=f(this._path)}v.prototype.at=function(e,n){return this._walk(e,n).pos},v.prototype.length=function(){return this._walk(null).length},v.prototype._walk=function(e,n){for(var a=[0,0],u=[0,0,0],l=[0,0],h=0,p=0;p<this._path.length;p++){var d=this._path[p];if(d[0]==="M"){if(a[0]=d[1],a[1]=d[2],e===0)return{length:h,pos:a}}else if(d[0]==="C"){u[0]=l[0]=a[0],u[1]=l[1]=a[1],u[2]=h;for(var g=100,y=0;y<=g;y++){var x=y/g,A=E(d,x),m=C(d,x);if(h+=o(a[0],a[1],A,m),a[0]=A,a[1]=m,typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}else if(d[0]==="Q"){u[0]=l[0]=a[0],u[1]=l[1]=a[1],u[2]=h;for(var g=100,y=0;y<=g;y++){var x=y/g,A=T(d,x),m=O(d,x);if(h+=o(a[0],a[1],A,m),a[0]=A,a[1]=m,typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}else if(d[0]==="L"){if(u[0]=a[0],u[1]=a[1],u[2]=h,h+=o(a[0],a[1],d[1],d[2]),a[0]=d[1],a[1]=d[2],typeof e=="number"&&h>=e){var M=(h-e)/(h-u[2]),b=[a[0]*(1-M)+u[0]*M,a[1]*(1-M)+u[1]*M];return{length:h,pos:b}}u[0]=a[0],u[1]=a[1],u[2]=h}}return{length:h,pos:a};function E(L,R){return Math.pow(1-R,3)*l[0]+3*Math.pow(1-R,2)*R*L[1]+3*(1-R)*Math.pow(R,2)*L[3]+Math.pow(R,3)*L[5]}function C(L,R){return Math.pow(1-R,3)*l[1]+3*Math.pow(1-R,2)*R*L[2]+3*(1-R)*Math.pow(R,2)*L[4]+Math.pow(R,3)*L[6]}function T(L,R){return Math.pow(1-R,2)*l[0]+2*(1-R)*R*L[1]+Math.pow(R,2)*L[3]}function O(L,R){return Math.pow(1-R,2)*l[1]+2*(1-R)*R*L[2]+Math.pow(R,2)*L[4]}};function o(e,n,a,u){var l=e-a,h=n-u;return Math.sqrt(l*l+h*h)}function f(e){for(var n,a=0,u=0,l={S:{to:"C",x:3},T:{to:"Q",x:1}},h=0,p=e.length;h<p;h++){var d=e[h],g=l[d[0]];g&&(d[0]=g.to,n&&(n[0]===g.to?(a=2*n[g.x+2]-n[g.x],u=2*n[g.x+3]-n[g.x+1]):(a=n[n.length-2],u=n[n.length-1])),d.splice(1,0,a,u)),n=d}return e}function r(e){for(var n=[],a=["L",0,0],u,l=0,h=e.length;l<h;l++){var p=e[l];switch(p[0]){case"M":a=["L",p[1],p[2]],n.push(p);break;case"Z":n.push(a);break;case"H":u=n[n.length-1]||["L",0,0],n.push(["L",p[1],u[u.length-1]]);break;case"V":u=n[n.length-1]||["L",0,0],n.push(["L",u[u.length-2],p[1]]);break;default:n.push(p)}}return n}},"./node_modules/_regression@2.0.1@regression/dist/regression.js":function(P,S,i){var t,c,s;(function(v,o){if(!0)c=[P],t=o,s=typeof t=="function"?t.apply(S,c):t,s!==void 0&&(P.exports=s);else var f})(this,function(v){"use strict";function o(p,d,g){return d in p?Object.defineProperty(p,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[d]=g,p}var f=Object.assign||function(p){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])}return p};function r(p){if(Array.isArray(p)){for(var d=0,g=Array(p.length);d<p.length;d++)g[d]=p[d];return g}else return Array.from(p)}var e={order:2,precision:2,period:null};function n(p,d){var g=[],y=[];p.forEach(function(b,E){b[1]!==null&&(y.push(b),g.push(d[E]))});var x=y.reduce(function(b,E){return b+E[1]},0),A=x/y.length,m=y.reduce(function(b,E){var C=E[1]-A;return b+C*C},0),M=y.reduce(function(b,E,C){var T=g[C],O=E[1]-T[1];return b+O*O},0);return 1-M/m}function a(p,d){for(var g=p,y=p.length-1,x=[d],A=0;A<y;A++){for(var m=A,M=A+1;M<y;M++)Math.abs(g[A][M])>Math.abs(g[A][m])&&(m=M);for(var b=A;b<y+1;b++){var E=g[b][A];g[b][A]=g[b][m],g[b][m]=E}for(var C=A+1;C<y;C++)for(var T=y;T>=A;T--)g[T][C]-=g[T][A]*g[A][C]/g[A][A]}for(var O=y-1;O>=0;O--){for(var L=0,R=O+1;R<y;R++)L+=g[R][O]*x[R];x[O]=(g[y][O]-L)/g[O][O]}return x}function u(p,d){var g=Math.pow(10,d);return Math.round(p*g)/g}var l={linear:function(d,g){for(var y=[0,0,0,0,0],x=0,A=0;A<d.length;A++)d[A][1]!==null&&(x++,y[0]+=d[A][0],y[1]+=d[A][1],y[2]+=d[A][0]*d[A][0],y[3]+=d[A][0]*d[A][1],y[4]+=d[A][1]*d[A][1]);var m=x*y[2]-y[0]*y[0],M=x*y[3]-y[0]*y[1],b=m===0?0:u(M/m,g.precision),E=u(y[1]/x-b*y[0]/x,g.precision),C=function(L){return[u(L,g.precision),u(b*L+E,g.precision)]},T=d.map(function(O){return C(O[0])});return{points:T,predict:C,equation:[b,E],r2:u(n(d,T),g.precision),string:E===0?"y = "+b+"x":"y = "+b+"x + "+E}},exponential:function(d,g){for(var y=[0,0,0,0,0,0],x=0;x<d.length;x++)d[x][1]!==null&&(y[0]+=d[x][0],y[1]+=d[x][1],y[2]+=d[x][0]*d[x][0]*d[x][1],y[3]+=d[x][1]*Math.log(d[x][1]),y[4]+=d[x][0]*d[x][1]*Math.log(d[x][1]),y[5]+=d[x][0]*d[x][1]);var A=y[1]*y[2]-y[5]*y[5],m=Math.exp((y[2]*y[3]-y[5]*y[4])/A),M=(y[1]*y[4]-y[5]*y[3])/A,b=u(m,g.precision),E=u(M,g.precision),C=function(L){return[u(L,g.precision),u(b*Math.exp(E*L),g.precision)]},T=d.map(function(O){return C(O[0])});return{points:T,predict:C,equation:[b,E],string:"y = "+b+"e^("+E+"x)",r2:u(n(d,T),g.precision)}},logarithmic:function(d,g){for(var y=[0,0,0,0],x=d.length,A=0;A<x;A++)d[A][1]!==null&&(y[0]+=Math.log(d[A][0]),y[1]+=d[A][1]*Math.log(d[A][0]),y[2]+=d[A][1],y[3]+=Math.pow(Math.log(d[A][0]),2));var m=(x*y[1]-y[2]*y[0])/(x*y[3]-y[0]*y[0]),M=u(m,g.precision),b=u((y[2]-M*y[0])/x,g.precision),E=function(O){return[u(O,g.precision),u(u(b+M*Math.log(O),g.precision),g.precision)]},C=d.map(function(T){return E(T[0])});return{points:C,predict:E,equation:[b,M],string:"y = "+b+" + "+M+" ln(x)",r2:u(n(d,C),g.precision)}},power:function(d,g){for(var y=[0,0,0,0,0],x=d.length,A=0;A<x;A++)d[A][1]!==null&&(y[0]+=Math.log(d[A][0]),y[1]+=Math.log(d[A][1])*Math.log(d[A][0]),y[2]+=Math.log(d[A][1]),y[3]+=Math.pow(Math.log(d[A][0]),2));var m=(x*y[1]-y[0]*y[2])/(x*y[3]-Math.pow(y[0],2)),M=(y[2]-m*y[0])/x,b=u(Math.exp(M),g.precision),E=u(m,g.precision),C=function(L){return[u(L,g.precision),u(u(b*Math.pow(L,E),g.precision),g.precision)]},T=d.map(function(O){return C(O[0])});return{points:T,predict:C,equation:[b,E],string:"y = "+b+"x^"+E,r2:u(n(d,T),g.precision)}},polynomial:function(d,g){for(var y=[],x=[],A=0,m=0,M=d.length,b=g.order+1,E=0;E<b;E++){for(var C=0;C<M;C++)d[C][1]!==null&&(A+=Math.pow(d[C][0],E)*d[C][1]);y.push(A),A=0;for(var T=[],O=0;O<b;O++){for(var L=0;L<M;L++)d[L][1]!==null&&(m+=Math.pow(d[L][0],E+O));T.push(m),m=0}x.push(T)}x.push(y);for(var R=a(x,b).map(function(J){return u(J,g.precision)}),W=function(ht){return[u(ht,g.precision),u(R.reduce(function(at,Q,xt){return at+Q*Math.pow(ht,xt)},0),g.precision)]},U=d.map(function(J){return W(J[0])}),X="y = ",Z=R.length-1;Z>=0;Z--)Z>1?X+=R[Z]+"x^"+Z+" + ":Z===1?X+=R[Z]+"x + ":X+=R[Z];return{string:X,points:U,predict:W,equation:[].concat(r(R)).reverse(),r2:u(n(d,U),g.precision)}}};function h(){var p=function(g,y){return f({_round:u},g,o({},y,function(x,A){return l[y](x,f({},e,A))}))};return Object.keys(l).reduce(p,{})}v.exports=h()})},"./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";function c(j){if(j.length===0)return 0;for(var w,D=j[0],V=0,tt=1;tt<j.length;tt++)w=D+j[tt],Math.abs(D)>=Math.abs(j[tt])?V+=D-w+j[tt]:V+=j[tt]-w+D,D=w;return D+V}function s(j){if(j.length===0)throw new Error("mean requires at least one data point");return c(j)/j.length}function v(j,w){var D,V,tt=s(j),lt=0;if(w===2)for(V=0;V<j.length;V++)lt+=(D=j[V]-tt)*D;else for(V=0;V<j.length;V++)lt+=Math.pow(j[V]-tt,w);return lt}function o(j){if(j.length===0)throw new Error("variance requires at least one data point");return v(j,2)/j.length}function f(j){if(j.length===1)return 0;var w=o(j);return Math.sqrt(w)}function r(j){if(j.length===0)throw new Error("mode requires at least one data point");if(j.length===1)return j[0];for(var w=j[0],D=NaN,V=0,tt=1,lt=1;lt<j.length+1;lt++)j[lt]!==w?(V<tt&&(V=tt,D=w),tt=1,w=j[lt]):tt++;return D}function e(j){return j.slice().sort(function(w,D){return w-D})}function n(j){if(j.length===0)throw new Error("min requires at least one data point");for(var w=j[0],D=1;D<j.length;D++)j[D]<w&&(w=j[D]);return w}function a(j){if(j.length===0)throw new Error("max requires at least one data point");for(var w=j[0],D=1;D<j.length;D++)j[D]>w&&(w=j[D]);return w}function u(j,w){var D=j.length*w;if(j.length===0)throw new Error("quantile requires at least one data point.");if(w<0||1<w)throw new Error("quantiles must be between 0 and 1");return w===1?j[j.length-1]:w===0?j[0]:D%1!=0?j[Math.ceil(D)-1]:j.length%2==0?(j[D-1]+j[D])/2:j[D]}function l(j,w,D,V){for(D=D||0,V=V||j.length-1;D<V;){if(600<V-D){var tt=V-D+1,lt=w-D+1,St=Math.log(tt),ot=.5*Math.exp(2*St/3),Mt=.5*Math.sqrt(St*ot*(tt-ot)/tt);lt-tt/2<0&&(Mt*=-1),l(j,w,Math.max(D,Math.floor(w-lt*ot/tt+Mt)),Math.min(V,Math.floor(w+(tt-lt)*ot/tt+Mt)))}var Ot=j[w],Ft=D,zt=V;for(h(j,D,w),j[V]>Ot&&h(j,D,V);Ft<zt;){for(h(j,Ft,zt),Ft++,zt--;j[Ft]<Ot;)Ft++;for(;j[zt]>Ot;)zt--}j[D]===Ot?h(j,D,zt):h(j,++zt,V),zt<=w&&(D=zt+1),w<=zt&&(V=zt-1)}}function h(j,w,D){var V=j[w];j[w]=j[D],j[D]=V}function p(j,w){var D=j.slice();if(Array.isArray(w)){(function(lt,St){for(var ot=[0],Mt=0;Mt<St.length;Mt++)ot.push(y(lt.length,St[Mt]));ot.push(lt.length-1),ot.sort(g);for(var Ot=[0,ot.length-1];Ot.length;){var Ft=Math.ceil(Ot.pop()),zt=Math.floor(Ot.pop());if(!(Ft-zt<=1)){var $t=Math.floor((zt+Ft)/2);d(lt,ot[$t],ot[zt],ot[Ft]),Ot.push(zt,$t,$t,Ft)}}})(D,w);for(var V=[],tt=0;tt<w.length;tt++)V[tt]=u(D,w[tt]);return V}return d(D,y(D.length,w),0,D.length-1),u(D,w)}function d(j,w,D,V){w%1==0?l(j,w,D,V):(l(j,w=Math.floor(w),D,V),l(j,w+1,w+1,V))}function g(j,w){return j-w}function y(j,w){var D=j*w;return w===1?j-1:w===0?0:D%1!=0?Math.ceil(D)-1:j%2==0?D-.5:D}function x(j,w){if(w<j[0])return 0;if(w>j[j.length-1])return 1;var D=function(lt,St){for(var ot=0,Mt=0,Ot=lt.length;Mt<Ot;)St<=lt[ot=Mt+Ot>>>1]?Ot=ot:Mt=-~ot;return Mt}(j,w);if(j[D]!==w)return D/j.length;D++;var V=function(lt,St){for(var ot=0,Mt=0,Ot=lt.length;Mt<Ot;)St>=lt[ot=Mt+Ot>>>1]?Mt=-~ot:Ot=ot;return Mt}(j,w);if(V===D)return D/j.length;var tt=V-D+1;return tt*(V+D)/2/tt/j.length}function A(j){var w=p(j,.75),D=p(j,.25);if(typeof w=="number"&&typeof D=="number")return w-D}function m(j){return+p(j,.5)}function M(j){for(var w=m(j),D=[],V=0;V<j.length;V++)D.push(Math.abs(j[V]-w));return m(D)}function b(j,w){w=w||Math.random;for(var D,V,tt=j.length;0<tt;)V=Math.floor(w()*tt--),D=j[tt],j[tt]=j[V],j[V]=D;return j}function E(j,w){return b(j.slice().slice(),w)}function C(j){for(var w,D=0,V=0;V<j.length;V++)V!==0&&j[V]===w||(w=j[V],D++);return D}function T(j,w){for(var D=[],V=0;V<j;V++){for(var tt=[],lt=0;lt<w;lt++)tt.push(0);D.push(tt)}return D}function O(j,w,D,V){var tt;if(0<j){var lt=(D[w]-D[j-1])/(w-j+1);tt=V[w]-V[j-1]-(w-j+1)*lt*lt}else tt=V[w]-D[w]*D[w]/(w+1);return tt<0?0:tt}function L(j,w,D,V,tt,lt,St){if(!(w<j)){var ot=Math.floor((j+w)/2);V[D][ot]=V[D-1][ot-1],tt[D][ot]=ot;var Mt=D;D<j&&(Mt=Math.max(Mt,tt[D][j-1]||0)),Mt=Math.max(Mt,tt[D-1][ot]||0);var Ot,Ft,zt,$t=ot-1;w<V.length-1&&($t=Math.min($t,tt[D][w+1]||0));for(var he=$t;Mt<=he&&!((Ot=O(he,ot,lt,St))+V[D-1][Mt-1]>=V[D][ot]);--he)(Ft=O(Mt,ot,lt,St)+V[D-1][Mt-1])<V[D][ot]&&(V[D][ot]=Ft,tt[D][ot]=Mt),Mt++,(zt=Ot+V[D-1][he-1])<V[D][ot]&&(V[D][ot]=zt,tt[D][ot]=he);L(j,ot-1,D,V,tt,lt,St),L(ot+1,w,D,V,tt,lt,St)}}function R(j,w){if(j.length!==w.length)throw new Error("sampleCovariance requires samples with equal lengths");if(j.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var D=s(j),V=s(w),tt=0,lt=0;lt<j.length;lt++)tt+=(j[lt]-D)*(w[lt]-V);return tt/(j.length-1)}function W(j){if(j.length<2)throw new Error("sampleVariance requires at least two data points");return v(j,2)/(j.length-1)}function U(j){var w=W(j);return Math.sqrt(w)}function X(j,w,D,V){return(j*w+D*V)/(w+V)}function Z(j){if(j.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var w=0,D=0;D<j.length;D++)w+=Math.pow(j[D],2);return Math.sqrt(w/j.length)}function J(){this.totalCount=0,this.data={}}function ht(){this.weights=[],this.bias=0}J.prototype.train=function(j,w){for(var D in this.data[w]||(this.data[w]={}),j){var V=j[D];this.data[w][D]===void 0&&(this.data[w][D]={}),this.data[w][D][V]===void 0&&(this.data[w][D][V]=0),this.data[w][D][V]++}this.totalCount++},J.prototype.score=function(j){var w,D={};for(var V in j){var tt=j[V];for(w in this.data)D[w]={},this.data[w][V]?D[w][V+"_"+tt]=(this.data[w][V][tt]||0)/this.totalCount:D[w][V+"_"+tt]=0}var lt={};for(w in D)for(var St in lt[w]=0,D[w])lt[w]+=D[w][St];return lt},ht.prototype.predict=function(j){if(j.length!==this.weights.length)return null;for(var w=0,D=0;D<this.weights.length;D++)w+=this.weights[D]*j[D];return 0<(w+=this.bias)?1:0},ht.prototype.train=function(j,w){if(w!==0&&w!==1)return null;j.length!==this.weights.length&&(this.weights=j,this.bias=1);var D=this.predict(j);if(D!==w){for(var V=w-D,tt=0;tt<this.weights.length;tt++)this.weights[tt]+=V*j[tt];this.bias+=V}return this};var at=1e-4;function Q(j){if(j<0)throw new Error("factorial requires a non-negative value");if(Math.floor(j)!==j)throw new Error("factorial requires an integer input");for(var w=1,D=2;D<=j;D++)w*=D;return w}var xt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],kt=Math.log(Math.sqrt(2*Math.PI)),Nt={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},nt=Math.sqrt(2*Math.PI),q={gaussian:function(j){return Math.exp(-.5*j*j)/nt}},G={nrd:function(j){var w=U(j),D=A(j);return typeof D=="number"&&(w=Math.min(w,D/1.34)),1.06*w*Math.pow(j.length,-.2)}};function N(j,w,D){var V,tt;if(w===void 0)V=q.gaussian;else if(typeof w=="string"){if(!q[w])throw new Error('Unknown kernel "'+w+'"');V=q[w]}else V=w;if(D===void 0)tt=G.nrd(j);else if(typeof D=="string"){if(!G[D])throw new Error('Unknown bandwidth method "'+D+'"');tt=G[D](j)}else tt=D;return function(lt){var St=0,ot=0;for(St=0;St<j.length;St++)ot+=V((lt-j[St])/tt);return ot/tt/j.length}}var it=Math.sqrt(2*Math.PI);function H(j){for(var w=j,D=j,V=1;V<15;V++)w+=D*=j*j/(2*V+1);return Math.round(1e4*(.5+w/it*Math.exp(-j*j/2)))/1e4}for(var ct=[],ft=0;ft<=3.09;ft+=.01)ct.push(H(ft));function K(j){var w=1/(1+.5*Math.abs(j)),D=w*Math.exp(-Math.pow(j,2)-1.26551223+1.00002368*w+.37409196*Math.pow(w,2)+.09678418*Math.pow(w,3)-.18628806*Math.pow(w,4)+.27886807*Math.pow(w,5)-1.13520398*Math.pow(w,6)+1.48851587*Math.pow(w,7)-.82215223*Math.pow(w,8)+.17087277*Math.pow(w,9));return 0<=j?1-D:D-1}function $(j){var w=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),D=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*w)+Math.log(1-j*j)/2,2)-Math.log(1-j*j)/w)-(2/(Math.PI*w)+Math.log(1-j*j)/2));return 0<=j?D:-D}function et(j){if(typeof j=="number")return j<0?-1:j===0?0:1;throw new TypeError("not a number")}t.linearRegression=function(j){var w,D,V=j.length;if(V===1)D=j[w=0][1];else{for(var tt,lt,St,ot=0,Mt=0,Ot=0,Ft=0,zt=0;zt<V;zt++)ot+=lt=(tt=j[zt])[0],Mt+=St=tt[1],Ot+=lt*lt,Ft+=lt*St;D=Mt/V-(w=(V*Ft-ot*Mt)/(V*Ot-ot*ot))*ot/V}return{m:w,b:D}},t.linearRegressionLine=function(j){return function(w){return j.b+j.m*w}},t.standardDeviation=f,t.rSquared=function(j,w){if(j.length<2)return 1;for(var D,V=0,tt=0;tt<j.length;tt++)V+=j[tt][1];D=V/j.length;for(var lt=0,St=0;St<j.length;St++)lt+=Math.pow(D-j[St][1],2);for(var ot=0,Mt=0;Mt<j.length;Mt++)ot+=Math.pow(j[Mt][1]-w(j[Mt][0]),2);return 1-ot/lt},t.mode=function(j){return r(e(j))},t.modeFast=function(j){for(var w,D=new Map,V=0,tt=0;tt<j.length;tt++){var lt=D.get(j[tt]);lt===void 0?lt=1:lt++,V<lt&&(w=j[tt],V=lt),D.set(j[tt],lt)}if(V===0)throw new Error("mode requires at last one data point");return w},t.modeSorted=r,t.min=n,t.max=a,t.extent=function(j){if(j.length===0)throw new Error("extent requires at least one data point");for(var w=j[0],D=j[0],V=1;V<j.length;V++)j[V]>D&&(D=j[V]),j[V]<w&&(w=j[V]);return[w,D]},t.minSorted=function(j){return j[0]},t.maxSorted=function(j){return j[j.length-1]},t.extentSorted=function(j){return[j[0],j[j.length-1]]},t.sum=c,t.sumSimple=function(j){for(var w=0,D=0;D<j.length;D++)w+=j[D];return w},t.product=function(j){for(var w=1,D=0;D<j.length;D++)w*=j[D];return w},t.quantile=p,t.quantileSorted=u,t.quantileRank=function(j,w){return x(e(j),w)},t.quantileRankSorted=x,t.interquartileRange=A,t.iqr=A,t.medianAbsoluteDeviation=M,t.mad=M,t.chunk=function(j,w){var D=[];if(w<1)throw new Error("chunk size must be a positive number");if(Math.floor(w)!==w)throw new Error("chunk size must be an integer");for(var V=0;V<j.length;V+=w)D.push(j.slice(V,V+w));return D},t.sampleWithReplacement=function(j,w,D){if(j.length===0)return[];D=D||Math.random;for(var V=j.length,tt=[],lt=0;lt<w;lt++){var St=Math.floor(D()*V);tt.push(j[St])}return tt},t.shuffle=E,t.shuffleInPlace=b,t.sample=function(j,w,D){return E(j,D).slice(0,w)},t.ckmeans=function(j,w){if(w>j.length)throw new Error("cannot generate more classes than there are data values");var D=e(j);if(C(D)===1)return[D];var V=T(w,D.length),tt=T(w,D.length);(function(Ot,Ft,zt){for(var $t,he=Ft[0].length,ye=Ot[Math.floor(he/2)],tr=[],nr=[],Xe=0;Xe<he;++Xe)$t=Ot[Xe]-ye,Xe===0?(tr.push($t),nr.push($t*$t)):(tr.push(tr[Xe-1]+$t),nr.push(nr[Xe-1]+$t*$t)),Ft[0][Xe]=O(0,Xe,tr,nr),zt[0][Xe]=0;for(var yr=1;yr<Ft.length;++yr)L(yr<Ft.length-1?yr:he-1,he-1,yr,Ft,zt,tr,nr)})(D,V,tt);for(var lt=[],St=tt[0].length-1,ot=tt.length-1;0<=ot;ot--){var Mt=tt[ot][St];lt[ot]=D.slice(Mt,St+1),0<ot&&(St=Mt-1)}return lt},t.uniqueCountSorted=C,t.sumNthPowerDeviations=v,t.equalIntervalBreaks=function(j,w){if(j.length<2)return j;for(var D=n(j),V=a(j),tt=[D],lt=(V-D)/w,St=1;St<w;St++)tt.push(tt[0]+lt*St);return tt.push(V),tt},t.sampleCovariance=R,t.sampleCorrelation=function(j,w){return R(j,w)/U(j)/U(w)},t.sampleVariance=W,t.sampleStandardDeviation=U,t.sampleSkewness=function(j){if(j.length<3)throw new Error("sampleSkewness requires at least three data points");for(var w,D=s(j),V=0,tt=0,lt=0;lt<j.length;lt++)V+=(w=j[lt]-D)*w,tt+=w*w*w;var St=j.length-1,ot=Math.sqrt(V/St),Mt=j.length;return Mt*tt/((Mt-1)*(Mt-2)*Math.pow(ot,3))},t.sampleKurtosis=function(j){var w=j.length;if(w<4)throw new Error("sampleKurtosis requires at least four data points");for(var D,V=s(j),tt=0,lt=0,St=0;St<w;St++)tt+=(D=j[St]-V)*D,lt+=D*D*D*D;return(w-1)/((w-2)*(w-3))*(w*(w+1)*lt/(tt*tt)-3*(w-1))},t.permutationsHeap=function(j){for(var w=new Array(j.length),D=[j.slice()],V=0;V<j.length;V++)w[V]=0;for(V=0;V<j.length;)if(w[V]<V){var tt=0;V%2!=0&&(tt=w[V]);var lt=j[tt];j[tt]=j[V],j[V]=lt,D.push(j.slice()),w[V]++,V=0}else w[V]=0,V++;return D},t.combinations=function j(w,D){var V,tt,lt,St,ot=[];for(V=0;V<w.length;V++)if(D===1)ot.push([w[V]]);else for(lt=j(w.slice(V+1,w.length),D-1),tt=0;tt<lt.length;tt++)(St=lt[tt]).unshift(w[V]),ot.push(St);return ot},t.combinationsReplacement=function j(w,D){for(var V=[],tt=0;tt<w.length;tt++)if(D===1)V.push([w[tt]]);else for(var lt=j(w.slice(tt,w.length),D-1),St=0;St<lt.length;St++)V.push([w[tt]].concat(lt[St]));return V},t.addToMean=function(j,w,D){return j+(D-j)/(w+1)},t.combineMeans=X,t.combineVariances=function(j,w,D,V,tt,lt){var St=X(w,D,tt,lt);return(D*(j+Math.pow(w-St,2))+lt*(V+Math.pow(tt-St,2)))/(D+lt)},t.geometricMean=function(j){if(j.length===0)throw new Error("geometricMean requires at least one data point");for(var w=1,D=0;D<j.length;D++){if(j[D]<=0)throw new Error("geometricMean requires only positive numbers as input");w*=j[D]}return Math.pow(w,1/j.length)},t.harmonicMean=function(j){if(j.length===0)throw new Error("harmonicMean requires at least one data point");for(var w=0,D=0;D<j.length;D++){if(j[D]<=0)throw new Error("harmonicMean requires only positive numbers as input");w+=1/j[D]}return j.length/w},t.average=s,t.mean=s,t.median=m,t.medianSorted=function(j){return u(j,.5)},t.subtractFromMean=function(j,w,D){return(j*w-D)/(w-1)},t.rootMeanSquare=Z,t.rms=Z,t.variance=o,t.tTest=function(j,w){return(s(j)-w)/(f(j)/Math.sqrt(j.length))},t.tTestTwoSample=function(j,w,D){var V=j.length,tt=w.length;if(!V||!tt)return null;D||(D=0);var lt=s(j),St=s(w),ot=W(j),Mt=W(w);if(typeof lt=="number"&&typeof St=="number"&&typeof ot=="number"&&typeof Mt=="number"){var Ot=((V-1)*ot+(tt-1)*Mt)/(V+tt-2);return(lt-St-D)/Math.sqrt(Ot*(1/V+1/tt))}},t.BayesianClassifier=J,t.bayesian=J,t.PerceptronModel=ht,t.perceptron=ht,t.epsilon=at,t.factorial=Q,t.gamma=function j(w){if(typeof(D=w)=="number"&&isFinite(D)&&Math.floor(D)===D)return w<=0?NaN:Q(w-1);var D;if(--w<0)return Math.PI/(Math.sin(Math.PI*-w)*j(-w));var V=w+.25;return Math.pow(w/Math.E,w)*Math.sqrt(2*Math.PI*(w+1/6))*(1+1/144/Math.pow(V,2)-1/12960/Math.pow(V,3)-257/207360/Math.pow(V,4)-52/2612736/Math.pow(V,5)+5741173/9405849600/Math.pow(V,6)+37529/18811699200/Math.pow(V,7))},t.gammaln=function(j){if(j<=0)return 1/0;j--;for(var w=xt[0],D=1;D<15;D++)w+=xt[D]/(j+D);var V=5.2421875+j;return kt+Math.log(w)-V+(j+.5)*Math.log(V)},t.bernoulliDistribution=function(j){if(j<0||1<j)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-j,j]},t.binomialDistribution=function(j,w){if(!(w<0||1<w||j<=0||j%1!=0)){for(var D=0,V=0,tt=[],lt=1;tt[D]=lt*Math.pow(w,D)*Math.pow(1-w,j-D),V+=tt[D],lt=lt*(j-++D+1)/D,V<1-at;);return tt}},t.poissonDistribution=function(j){if(!(j<=0)){for(var w=0,D=0,V=[],tt=1;V[w]=Math.exp(-j)*Math.pow(j,w)/tt,D+=V[w],tt*=++w,D<1-at;);return V}},t.chiSquaredDistributionTable=Nt,t.chiSquaredGoodnessOfFit=function(j,w,D){for(var V,tt,lt=0,St=w(s(j)),ot=[],Mt=[],Ot=0;Ot<j.length;Ot++)ot[j[Ot]]===void 0&&(ot[j[Ot]]=0),ot[j[Ot]]++;for(Ot=0;Ot<ot.length;Ot++)ot[Ot]===void 0&&(ot[Ot]=0);for(tt in St)tt in ot&&(Mt[+tt]=St[tt]*j.length);for(tt=Mt.length-1;0<=tt;tt--)Mt[tt]<3&&(Mt[tt-1]+=Mt[tt],Mt.pop(),ot[tt-1]+=ot[tt],ot.pop());for(tt=0;tt<ot.length;tt++)lt+=Math.pow(ot[tt]-Mt[tt],2)/Mt[tt];return V=ot.length-1-1,Nt[V][D]<lt},t.kernelDensityEstimation=N,t.kde=N,t.zScore=function(j,w,D){return(j-w)/D},t.cumulativeStdNormalProbability=function(j){var w=Math.abs(j),D=Math.min(Math.round(100*w),ct.length-1);return 0<=j?ct[D]:+(1-ct[D]).toFixed(4)},t.standardNormalTable=ct,t.errorFunction=K,t.erf=K,t.inverseErrorFunction=$,t.probit=function(j){return j===0?j=at:1<=j&&(j=1-at),Math.sqrt(2)*$(2*j-1)},t.permutationTest=function(j,w,D,V){if(V===void 0&&(V=1e4),D===void 0&&(D="two_side"),D!=="two_side"&&D!=="greater"&&D!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var tt=s(j)-s(w),lt=new Array(V),St=j.concat(w),ot=Math.floor(St.length/2),Mt=0;Mt<V;Mt++){b(St);var Ot=St.slice(0,ot),Ft=St.slice(ot,St.length),zt=s(Ot)-s(Ft);lt[Mt]=zt}var $t=0;if(D==="two_side")for(Mt=0;Mt<=V;Mt++)Math.abs(lt[Mt])>=Math.abs(tt)&&($t+=1);else if(D==="greater")for(Mt=0;Mt<=V;Mt++)lt[Mt]>=tt&&($t+=1);else for(Mt=0;Mt<=V;Mt++)lt[Mt]<=tt&&($t+=1);return $t/V},t.bisect=function(j,w,D,V,tt){if(typeof j!="function")throw new TypeError("func must be a function");for(var lt=0;lt<V;lt++){var St=(w+D)/2;if(j(St)===0||Math.abs((D-w)/2)<tt)return St;et(j(St))===et(j(w))?w=St:D=St}throw new Error("maximum number of iterations exceeded")},t.quickselect=l,t.sign=et,t.numericSort=e,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js":function(P,S,i){(function(t,c){c(S)})(this,function(t){"use strict";function c(m){return m}function s(m){if(m==null)return c;var M,b,E=m.scale[0],C=m.scale[1],T=m.translate[0],O=m.translate[1];return function(L,R){R||(M=b=0);var W=2,U=L.length,X=new Array(U);for(X[0]=(M+=L[0])*E+T,X[1]=(b+=L[1])*C+O;W<U;)X[W]=L[W],++W;return X}}function v(m){var M=s(m.transform),b,E=Infinity,C=E,T=-E,O=-E;function L(W){W=M(W),W[0]<E&&(E=W[0]),W[0]>T&&(T=W[0]),W[1]<C&&(C=W[1]),W[1]>O&&(O=W[1])}function R(W){switch(W.type){case"GeometryCollection":W.geometries.forEach(R);break;case"Point":L(W.coordinates);break;case"MultiPoint":W.coordinates.forEach(L);break}}m.arcs.forEach(function(W){for(var U=-1,X=W.length,Z;++U<X;)Z=M(W[U],U),Z[0]<E&&(E=Z[0]),Z[0]>T&&(T=Z[0]),Z[1]<C&&(C=Z[1]),Z[1]>O&&(O=Z[1])});for(b in m.objects)R(m.objects[b]);return[E,C,T,O]}function o(m,M){for(var b,E=m.length,C=E-M;C<--E;)b=m[C],m[C++]=m[E],m[E]=b}function f(m,M){return typeof M=="string"&&(M=m.objects[M]),M.type==="GeometryCollection"?{type:"FeatureCollection",features:M.geometries.map(function(b){return r(m,b)})}:r(m,M)}function r(m,M){var b=M.id,E=M.bbox,C=M.properties==null?{}:M.properties,T=e(m,M);return b==null&&E==null?{type:"Feature",properties:C,geometry:T}:E==null?{type:"Feature",id:b,properties:C,geometry:T}:{type:"Feature",id:b,bbox:E,properties:C,geometry:T}}function e(m,M){var b=s(m.transform),E=m.arcs;function C(U,X){X.length&&X.pop();for(var Z=E[U<0?~U:U],J=0,ht=Z.length;J<ht;++J)X.push(b(Z[J],J));U<0&&o(X,ht)}function T(U){return b(U)}function O(U){for(var X=[],Z=0,J=U.length;Z<J;++Z)C(U[Z],X);return X.length<2&&X.push(X[0]),X}function L(U){for(var X=O(U);X.length<4;)X.push(X[0]);return X}function R(U){return U.map(L)}function W(U){var X=U.type,Z;switch(X){case"GeometryCollection":return{type:X,geometries:U.geometries.map(W)};case"Point":Z=T(U.coordinates);break;case"MultiPoint":Z=U.coordinates.map(T);break;case"LineString":Z=O(U.arcs);break;case"MultiLineString":Z=U.arcs.map(O);break;case"Polygon":Z=R(U.arcs);break;case"MultiPolygon":Z=U.arcs.map(R);break;default:return null}return{type:X,coordinates:Z}}return W(M)}function n(m,M){var b={},E={},C={},T=[],O=-1;M.forEach(function(W,U){var X=m.arcs[W<0?~W:W],Z;X.length<3&&!X[1][0]&&!X[1][1]&&(Z=M[++O],M[O]=W,M[U]=Z)}),M.forEach(function(W){var U=L(W),X=U[0],Z=U[1],J,ht;if(J=C[X])if(delete C[J.end],J.push(W),J.end=Z,ht=E[Z]){delete E[ht.start];var at=ht===J?J:J.concat(ht);E[at.start=J.start]=C[at.end=ht.end]=at}else E[J.start]=C[J.end]=J;else if(J=E[Z])if(delete E[J.start],J.unshift(W),J.start=X,ht=C[X]){delete C[ht.end];var Q=ht===J?J:ht.concat(J);E[Q.start=ht.start]=C[Q.end=J.end]=Q}else E[J.start]=C[J.end]=J;else J=[W],E[J.start=X]=C[J.end=Z]=J});function L(W){var U=m.arcs[W<0?~W:W],X=U[0],Z;return m.transform?(Z=[0,0],U.forEach(function(J){Z[0]+=J[0],Z[1]+=J[1]})):Z=U[U.length-1],W<0?[Z,X]:[X,Z]}function R(W,U){for(var X in W){var Z=W[X];delete U[Z.start],delete Z.start,delete Z.end,Z.forEach(function(J){b[J<0?~J:J]=1}),T.push(Z)}}return R(C,E),R(E,C),M.forEach(function(W){b[W<0?~W:W]||T.push([W])}),T}function a(m){return e(m,u.apply(this,arguments))}function u(m,M,b){var E,C,T;if(arguments.length>1)E=l(m,M,b);else for(C=0,E=new Array(T=m.arcs.length);C<T;++C)E[C]=C;return{type:"MultiLineString",arcs:n(m,E)}}function l(m,M,b){var E=[],C=[],T;function O(X){var Z=X<0?~X:X;(C[Z]||(C[Z]=[])).push({i:X,g:T})}function L(X){X.forEach(O)}function R(X){X.forEach(L)}function W(X){X.forEach(R)}function U(X){switch(T=X,X.type){case"GeometryCollection":X.geometries.forEach(U);break;case"LineString":L(X.arcs);break;case"MultiLineString":case"Polygon":R(X.arcs);break;case"MultiPolygon":W(X.arcs);break}}return U(M),C.forEach(b==null?function(X){E.push(X[0].i)}:function(X){b(X[0].g,X[X.length-1].g)&&E.push(X[0].i)}),E}function h(m){for(var M=-1,b=m.length,E,C=m[b-1],T=0;++M<b;)E=C,C=m[M],T+=E[0]*C[1]-E[1]*C[0];return Math.abs(T)}function p(m){return e(m,d.apply(this,arguments))}function d(m,M){var b={},E=[],C=[];M.forEach(T);function T(R){switch(R.type){case"GeometryCollection":R.geometries.forEach(T);break;case"Polygon":O(R.arcs);break;case"MultiPolygon":R.arcs.forEach(O);break}}function O(R){R.forEach(function(W){W.forEach(function(U){(b[U=U<0?~U:U]||(b[U]=[])).push(R)})}),E.push(R)}function L(R){return h(e(m,{type:"Polygon",arcs:[R]}).coordinates[0])}return E.forEach(function(R){if(!R._){var W=[],U=[R];for(R._=1,C.push(W);R=U.pop();)W.push(R),R.forEach(function(X){X.forEach(function(Z){b[Z<0?~Z:Z].forEach(function(J){J._||(J._=1,U.push(J))})})})}}),E.forEach(function(R){delete R._}),{type:"MultiPolygon",arcs:C.map(function(R){var W=[],U;if(R.forEach(function(at){at.forEach(function(Q){Q.forEach(function(xt){b[xt<0?~xt:xt].length<2&&W.push(xt)})})}),W=n(m,W),(U=W.length)>1)for(var X=1,Z=L(W[0]),J,ht;X<U;++X)(J=L(W[X]))>Z&&(ht=W[0],W[0]=W[X],W[X]=ht,Z=J);return W}).filter(function(R){return R.length>0})}}function g(m,M){for(var b=0,E=m.length;b<E;){var C=b+E>>>1;m[C]<M?b=C+1:E=C}return b}function y(m){var M={},b=m.map(function(){return[]});function E(at,Q){at.forEach(function(xt){xt<0&&(xt=~xt);var kt=M[xt];kt?kt.push(Q):M[xt]=[Q]})}function C(at,Q){at.forEach(function(xt){E(xt,Q)})}function T(at,Q){at.type==="GeometryCollection"?at.geometries.forEach(function(xt){T(xt,Q)}):at.type in O&&O[at.type](at.arcs,Q)}var O={LineString:E,MultiLineString:C,Polygon:C,MultiPolygon:function(at,Q){at.forEach(function(xt){C(xt,Q)})}};m.forEach(T);for(var L in M)for(var R=M[L],W=R.length,U=0;U<W;++U)for(var X=U+1;X<W;++X){var Z=R[U],J=R[X],ht;(ht=b[Z])[L=g(ht,J)]!==J&&ht.splice(L,0,J),(ht=b[J])[L=g(ht,Z)]!==Z&&ht.splice(L,0,Z)}return b}function x(m){if(m==null)return c;var M,b,E=m.scale[0],C=m.scale[1],T=m.translate[0],O=m.translate[1];return function(L,R){R||(M=b=0);var W=2,U=L.length,X=new Array(U),Z=Math.round((L[0]-T)/E),J=Math.round((L[1]-O)/C);for(X[0]=Z-M,M=Z,X[1]=J-b,b=J;W<U;)X[W]=L[W],++W;return X}}function A(m,M){if(m.transform)throw new Error("already quantized");if(!M||!M.scale){if(!((O=Math.floor(M))>=2))throw new Error("n must be \u22652");R=m.bbox||v(m);var b=R[0],E=R[1],C=R[2],T=R[3],O;M={scale:[C-b?(C-b)/(O-1):1,T-E?(T-E)/(O-1):1],translate:[b,E]}}else R=m.bbox;var L=x(M),R,W,U=m.objects,X={};function Z(at){return L(at)}function J(at){var Q;switch(at.type){case"GeometryCollection":Q={type:"GeometryCollection",geometries:at.geometries.map(J)};break;case"Point":Q={type:"Point",coordinates:Z(at.coordinates)};break;case"MultiPoint":Q={type:"MultiPoint",coordinates:at.coordinates.map(Z)};break;default:return at}return at.id!=null&&(Q.id=at.id),at.bbox!=null&&(Q.bbox=at.bbox),at.properties!=null&&(Q.properties=at.properties),Q}function ht(at){var Q=0,xt=1,kt=at.length,Nt,nt=new Array(kt);for(nt[0]=L(at[0],0);++Q<kt;)((Nt=L(at[Q],Q))[0]||Nt[1])&&(nt[xt++]=Nt);return xt===1&&(nt[xt++]=[0,0]),nt.length=xt,nt}for(W in U)X[W]=J(U[W]);return{type:"Topology",bbox:R,transform:M,objects:X,arcs:m.arcs.map(ht)}}t.bbox=v,t.feature=f,t.merge=p,t.mergeArcs=d,t.mesh=a,t.meshArcs=u,t.neighbors=y,t.quantize=A,t.transform=s,t.untransform=x,Object.defineProperty(t,"__esModule",{value:!0})})},"./node_modules/_tslib@2.1.0@tslib/tslib.js":function(P,S,i){(function(t){var c,s;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v,o,f,r,e,n,a,u,l,h,p,d,g,y,x,A,m,M,b,E,C,T,O,L;(function(R){var W=typeof t=="object"?t:typeof self=="object"?self:typeof this=="object"?this:{};c=[S],s=function(X){R(U(W,U(X)))}.apply(S,c),s!==void 0&&(P.exports=s);function U(X,Z){return X!==W&&(typeof Object.create=="function"?Object.defineProperty(X,"__esModule",{value:!0}):X.__esModule=!0),function(J,ht){return X[J]=Z?Z(J,ht):ht}}})(function(R){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,Z){X.__proto__=Z}||function(X,Z){for(var J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&(X[J]=Z[J])};v=function(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");W(X,Z);function J(){this.constructor=X}X.prototype=Z===null?Object.create(Z):(J.prototype=Z.prototype,new J)},o=Object.assign||function(X){for(var Z,J=1,ht=arguments.length;J<ht;J++){Z=arguments[J];for(var at in Z)Object.prototype.hasOwnProperty.call(Z,at)&&(X[at]=Z[at])}return X},f=function(X,Z){var J={};for(var ht in X)Object.prototype.hasOwnProperty.call(X,ht)&&Z.indexOf(ht)<0&&(J[ht]=X[ht]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,ht=Object.getOwnPropertySymbols(X);at<ht.length;at++)Z.indexOf(ht[at])<0&&Object.prototype.propertyIsEnumerable.call(X,ht[at])&&(J[ht[at]]=X[ht[at]]);return J},r=function(X,Z,J,ht){var at=arguments.length,Q=at<3?Z:ht===null?ht=Object.getOwnPropertyDescriptor(Z,J):ht,xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(X,Z,J,ht);else for(var kt=X.length-1;kt>=0;kt--)(xt=X[kt])&&(Q=(at<3?xt(Q):at>3?xt(Z,J,Q):xt(Z,J))||Q);return at>3&&Q&&Object.defineProperty(Z,J,Q),Q},e=function(X,Z){return function(J,ht){Z(J,ht,X)}},n=function(X,Z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,Z)},a=function(X,Z,J,ht){function at(Q){return Q instanceof J?Q:new J(function(xt){xt(Q)})}return new(J||(J=Promise))(function(Q,xt){function kt(q){try{nt(ht.next(q))}catch(G){xt(G)}}function Nt(q){try{nt(ht.throw(q))}catch(G){xt(G)}}function nt(q){q.done?Q(q.value):at(q.value).then(kt,Nt)}nt((ht=ht.apply(X,Z||[])).next())})},u=function(X,Z){var J={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},ht,at,Q,xt;return xt={next:kt(0),throw:kt(1),return:kt(2)},typeof Symbol=="function"&&(xt[Symbol.iterator]=function(){return this}),xt;function kt(nt){return function(q){return Nt([nt,q])}}function Nt(nt){if(ht)throw new TypeError("Generator is already executing.");for(;J;)try{if(ht=1,at&&(Q=nt[0]&2?at.return:nt[0]?at.throw||((Q=at.return)&&Q.call(at),0):at.next)&&!(Q=Q.call(at,nt[1])).done)return Q;switch(at=0,Q&&(nt=[nt[0]&2,Q.value]),nt[0]){case 0:case 1:Q=nt;break;case 4:return J.label++,{value:nt[1],done:!1};case 5:J.label++,at=nt[1],nt=[0];continue;case 7:nt=J.ops.pop(),J.trys.pop();continue;default:if(Q=J.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(nt[0]===6||nt[0]===2)){J=0;continue}if(nt[0]===3&&(!Q||nt[1]>Q[0]&&nt[1]<Q[3])){J.label=nt[1];break}if(nt[0]===6&&J.label<Q[1]){J.label=Q[1],Q=nt;break}if(Q&&J.label<Q[2]){J.label=Q[2],J.ops.push(nt);break}Q[2]&&J.ops.pop(),J.trys.pop();continue}nt=Z.call(X,J)}catch(q){nt=[6,q],at=0}finally{ht=Q=0}if(nt[0]&5)throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}},l=function(X,Z){for(var J in X)J!=="default"&&!Object.prototype.hasOwnProperty.call(Z,J)&&L(Z,X,J)},L=Object.create?function(X,Z,J,ht){ht===void 0&&(ht=J),Object.defineProperty(X,ht,{enumerable:!0,get:function(){return Z[J]}})}:function(X,Z,J,ht){ht===void 0&&(ht=J),X[ht]=Z[J]},h=function(X){var Z=typeof Symbol=="function"&&Symbol.iterator,J=Z&&X[Z],ht=0;if(J)return J.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&ht>=X.length&&(X=void 0),{value:X&&X[ht++],done:!X}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(X,Z){var J=typeof Symbol=="function"&&X[Symbol.iterator];if(!J)return X;var ht=J.call(X),at,Q=[],xt;try{for(;(Z===void 0||Z-- >0)&&!(at=ht.next()).done;)Q.push(at.value)}catch(kt){xt={error:kt}}finally{try{at&&!at.done&&(J=ht.return)&&J.call(ht)}finally{if(xt)throw xt.error}}return Q},d=function(){for(var X=[],Z=0;Z<arguments.length;Z++)X=X.concat(p(arguments[Z]));return X},g=function(){for(var X=0,Z=0,J=arguments.length;Z<J;Z++)X+=arguments[Z].length;for(var ht=Array(X),at=0,Z=0;Z<J;Z++)for(var Q=arguments[Z],xt=0,kt=Q.length;xt<kt;xt++,at++)ht[at]=Q[xt];return ht},y=function(X,Z){for(var J=0,ht=Z.length,at=X.length;J<ht;J++,at++)X[at]=Z[J];return X},x=function(X){return this instanceof x?(this.v=X,this):new x(X)},A=function(X,Z,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht=J.apply(X,Z||[]),at,Q=[];return at={},xt("next"),xt("throw"),xt("return"),at[Symbol.asyncIterator]=function(){return this},at;function xt(N){ht[N]&&(at[N]=function(it){return new Promise(function(H,ct){Q.push([N,it,H,ct])>1||kt(N,it)})})}function kt(N,it){try{Nt(ht[N](it))}catch(H){G(Q[0][3],H)}}function Nt(N){N.value instanceof x?Promise.resolve(N.value.v).then(nt,q):G(Q[0][2],N)}function nt(N){kt("next",N)}function q(N){kt("throw",N)}function G(N,it){N(it),Q.shift(),Q.length&&kt(Q[0][0],Q[0][1])}},m=function(X){var Z,J;return Z={},ht("next"),ht("throw",function(at){throw at}),ht("return"),Z[Symbol.iterator]=function(){return this},Z;function ht(at,Q){Z[at]=X[at]?function(xt){return(J=!J)?{value:x(X[at](xt)),done:at==="return"}:Q?Q(xt):xt}:Q}},M=function(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=X[Symbol.asyncIterator],J;return Z?Z.call(X):(X=typeof h=="function"?h(X):X[Symbol.iterator](),J={},ht("next"),ht("throw"),ht("return"),J[Symbol.asyncIterator]=function(){return this},J);function ht(Q){J[Q]=X[Q]&&function(xt){return new Promise(function(kt,Nt){xt=X[Q](xt),at(kt,Nt,xt.done,xt.value)})}}function at(Q,xt,kt,Nt){Promise.resolve(Nt).then(function(nt){Q({value:nt,done:kt})},xt)}},b=function(X,Z){return Object.defineProperty?Object.defineProperty(X,"raw",{value:Z}):X.raw=Z,X};var U=Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z};E=function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var J in X)J!=="default"&&Object.prototype.hasOwnProperty.call(X,J)&&L(Z,X,J);return U(Z,X),Z},C=function(X){return X&&X.__esModule?X:{default:X}},T=function(X,Z){if(!Z.has(X))throw new TypeError("attempted to get private field on non-instance");return Z.get(X)},O=function(X,Z,J){if(!Z.has(X))throw new TypeError("attempted to set private field on non-instance");return Z.set(X,J),J},R("__extends",v),R("__assign",o),R("__rest",f),R("__decorate",r),R("__param",e),R("__metadata",n),R("__awaiter",a),R("__generator",u),R("__exportStar",l),R("__createBinding",L),R("__values",h),R("__read",p),R("__spread",d),R("__spreadArrays",g),R("__spreadArray",y),R("__await",x),R("__asyncGenerator",A),R("__asyncDelegator",m),R("__asyncValues",M),R("__makeTemplateObject",b),R("__importStar",E),R("__importDefault",C),R("__classPrivateFieldGet",T),R("__classPrivateFieldSet",O)})}).call(this,i("./node_modules/_webpack@4.46.0@webpack/buildin/global.js"))},"./node_modules/_webpack@4.46.0@webpack/buildin/global.js":function(P,S){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){typeof window=="object"&&(i=window)}P.exports=i},"./node_modules/_webpack@4.46.0@webpack/buildin/module.js":function(P,S){P.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},"./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js":function(P,S,i){var t;/*!
* EventEmitter v5.2.9 - git.io/ee
* Unlicense - http://unlicense.org/
* Oliver Caldwell - https://oli.me.uk/
* @preserve
*/(function(c){"use strict";function s(){}var v=s.prototype,o=c.EventEmitter;function f(n,a){for(var u=n.length;u--;)if(n[u].listener===a)return u;return-1}function r(n){return function(){return this[n].apply(this,arguments)}}v.getListeners=function(a){var u=this._getEvents(),l,h;if(a instanceof RegExp){l={};for(h in u)u.hasOwnProperty(h)&&a.test(h)&&(l[h]=u[h])}else l=u[a]||(u[a]=[]);return l},v.flattenListeners=function(a){var u=[],l;for(l=0;l<a.length;l+=1)u.push(a[l].listener);return u},v.getListenersAsObject=function(a){var u=this.getListeners(a),l;return u instanceof Array&&(l={},l[a]=u),l||u};function e(n){return typeof n=="function"||n instanceof RegExp?!0:n&&typeof n=="object"?e(n.listener):!1}v.addListener=function(a,u){if(!e(u))throw new TypeError("listener must be a function");var l=this.getListenersAsObject(a),h=typeof u=="object",p;for(p in l)l.hasOwnProperty(p)&&f(l[p],u)===-1&&l[p].push(h?u:{listener:u,once:!1});return this},v.on=r("addListener"),v.addOnceListener=function(a,u){return this.addListener(a,{listener:u,once:!0})},v.once=r("addOnceListener"),v.defineEvent=function(a){return this.getListeners(a),this},v.defineEvents=function(a){for(var u=0;u<a.length;u+=1)this.defineEvent(a[u]);return this},v.removeListener=function(a,u){var l=this.getListenersAsObject(a),h,p;for(p in l)l.hasOwnProperty(p)&&(h=f(l[p],u),h!==-1&&l[p].splice(h,1));return this},v.off=r("removeListener"),v.addListeners=function(a,u){return this.manipulateListeners(!1,a,u)},v.removeListeners=function(a,u){return this.manipulateListeners(!0,a,u)},v.manipulateListeners=function(a,u,l){var h,p,d=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(h in u)u.hasOwnProperty(h)&&(p=u[h])&&(typeof p=="function"?d.call(this,h,p):g.call(this,h,p));else for(h=l.length;h--;)d.call(this,u,l[h]);return this},v.removeEvent=function(a){var u=typeof a,l=this._getEvents(),h;if(u==="string")delete l[a];else if(a instanceof RegExp)for(h in l)l.hasOwnProperty(h)&&a.test(h)&&delete l[h];else delete this._events;return this},v.removeAllListeners=r("removeEvent"),v.emitEvent=function(a,u){var l=this.getListenersAsObject(a),h,p,d,g,y;for(g in l)if(l.hasOwnProperty(g))for(h=l[g].slice(0),d=0;d<h.length;d++)p=h[d],p.once===!0&&this.removeListener(a,p.listener),y=p.listener.apply(this,u||[]),y===this._getOnceReturnValue()&&this.removeListener(a,p.listener);return this},v.trigger=r("emitEvent"),v.emit=function(a){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,u)},v.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},v._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},v._getEvents=function(){return this._events||(this._events={})},s.noConflict=function(){return c.EventEmitter=o,s},t=function(){return s}.call(c,i,c,P),t!==void 0&&(P.exports=t)})(typeof window!="undefined"?window:this||{})},"./src/api/geo.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),v=i("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js"),o=i("./src/view.ts"),f=t.__importDefault(i("./src/util/get-geo-projection.ts")),r={geoArea:function(e){return s.geoArea(e)},geoAreaByName:function(e){return s.geoArea(this.geoFeatureByName(e))},geoCentroid:function(e){return s.geoCentroid(e)},geoCentroidByName:function(e){return s.geoCentroid(this.geoFeatureByName(e))},geoDistance:function(e,n){return s.geoDistance(e,n)},geoLength:function(e){return s.geoLength(e)},geoLengthByName:function(e){return s.geoLength(this.geoFeatureByName(e))},geoContains:function(e,n){return s.geoContains(e,n)},geoFeatureByName:function(e){var n=this.rows,a;return n.some(function(u){return u.name===e?(a=u,!0):!1}),a},geoFeatureByPosition:function(e){var n=this.rows,a;return n.some(function(u){return s.geoContains(u,e)?(a=u,!0):!1}),a},geoNameByPosition:function(e){var n=this.geoFeatureByPosition(e);if(n)return n.name},getGeoProjection:f.default,geoProject:function(e,n,a){return n=f.default(n,a),v.geoProject(e,n)},geoProjectByName:function(e,n,a){return n=f.default(n,a),v.geoProject(this.geoFeatureByName(e),n)},geoProjectPosition:function(e,n,a){var u=f.default(n,a);return u(e)},geoProjectInvert:function(e,n,a){var u=f.default(n,a);return u.invert(e)}};c.assign(o.View.prototype,r)},"./src/api/hierarchy.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/view.ts");t.assign(c.View.prototype,{getAllNodes:function(){var s=[],v=this.root;return v&&v.each?v.each(function(o){s.push(o)}):v&&v.eachNode&&v.eachNode(function(o){s.push(o)}),s},getAllLinks:function(){for(var s=[],v=[this.root],o;o=v.pop();){var f=o.children;f&&f.forEach(function(r){s.push({source:o,target:r}),v.push(r)})}return s}}),t.assign(c.View.prototype,{getAllEdges:c.View.prototype.getAllLinks})},"./src/api/partition.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/view.ts");c.assign(v.View.prototype,{partition:function(o,f){return f===void 0&&(f=[]),s.default(this.rows,o,f)},group:function(o,f){f===void 0&&(f=[]);var r=this.partition(o,f);return c.values(r)},groups:function(o,f){return f===void 0&&(f=[]),this.group(o,f)}})},"./src/api/statistics.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/view.ts"),o=t.__importDefault(i("./src/util/p-by-fraction.ts")),f=t.__importDefault(i("./src/constants.ts")),r=f.default.STATISTICS_METHODS;function e(a,u){var l=a.getColumn(u);return s.isArray(l)&&s.isArray(l[0])&&(l=s.flattenDeep(l)),l}r.forEach(function(a){v.View.prototype[a]=function(u){return c[a](e(this,u))}});var n=c.quantile;s.assign(v.View.prototype,{average:v.View.prototype.mean,quantile:function(a,u){return n(e(this,a),u)},quantiles:function(a,u){var l=e(this,a);return u.map(function(h){return n(l,h)})},quantilesByFraction:function(a,u){return this.quantiles(a,o.default(u))},range:function(a){return[this.min(a),this.max(a)]},extent:function(a){return this.range(a)}})},"./src/connector/default.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts");c.DataSet.registerConnector("default",function(s,v){var o;if(t.isString(s)?o=v.getView(s):o=s,!o)throw new TypeError("Invalid dataView");return t.deepMix([],o.rows)})},"./src/connector/dsv.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js"),s=i("./src/data-set.ts");s.DataSet.registerConnector("dsv",function(v,o){o===void 0&&(o={});var f=o.delimiter||",";if(!t.isString(f))throw new TypeError("Invalid delimiter: must be a string!");return c.dsvFormat(f).parse(v)}),s.DataSet.registerConnector("csv",function(v){return c.csvParse(v)}),s.DataSet.registerConnector("tsv",function(v){return c.tsvParse(v)})},"./src/connector/geo-graticule.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),c=i("./src/data-set.ts");function s(v,o){o.dataType="geo-graticule";var f=t.geoGraticule().lines();return f.map(function(r,e){return r.index=""+e,r}),o.rows=f,f}S.default=s,c.DataSet.registerConnector("geo-graticule",s)},"./src/connector/geojson.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),o=i("./src/data-set.ts"),f=v.geoPath();function r(e,n,a){a.dataType=o.DataSet.CONSTANTS.GEO;var u=s.deepMix([],e.features);return u.forEach(function(l){l.name=l.properties.name,l.longitude=[],l.latitude=[];var h=l.pathData=f(l),p=c.default(h);p._path.forEach(function(g){l.longitude.push(g[1]),l.latitude.push(g[2])});var d=f.centroid(l);l.centroidX=d[0],l.centroidY=d[1]}),u}o.DataSet.registerConnector("geo",r),o.DataSet.registerConnector("geojson",r),o.DataSet.registerConnector("GeoJSON",r),S.default=r},"./src/connector/graph.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s={nodes:function(o){return o.nodes},edges:function(o){return o.edges}};function v(o,f,r){f=t.assign({},s,f),r.dataType=c.DataSet.CONSTANTS.GRAPH;var e=f.nodes,n=f.edges;if(e&&!t.isFunction(e))throw new TypeError("Invalid nodes: must be a function!");if(n&&!t.isFunction(n))throw new TypeError("Invalid edges: must be a function!");return r.rows=r.graph={nodes:e(o),edges:n(o)},t.assign(r,r.graph),r.rows}c.DataSet.registerConnector("graph",v),c.DataSet.registerConnector("diagram",v)},"./src/connector/hexjson.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-hexjson@1.1.1@d3-hexjson/build/d3-hexjson.js"),s=i("./src/data-set.ts"),v={width:1,height:1};function o(r){return r.cx=r.x,r.cy=r.y,r.x=[],r.y=[],r.vertices.forEach(function(e){r.x.push(e.x+r.cx),r.y.push(e.y+r.cy)}),r}function f(r,e,n){n.dataType=s.DataSet.CONSTANTS.HEX,e=t.assign({},v,e);var a=e.width,u=e.height,l=t.deepMix([],r);n._HexJSON=l;var h=n._GridHexJSON=c.getGridForHexJSON(l),p=n.rows=c.renderHexJSON(l,a,u).map(o);return n._gridRows=c.renderHexJSON(h,a,u).map(o),p}s.DataSet.registerConnector("hex",f),s.DataSet.registerConnector("hexjson",f),s.DataSet.registerConnector("hex-json",f),s.DataSet.registerConnector("HexJSON",f),S.default=f},"./src/connector/hierarchy.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js"),s=i("./src/data-set.ts");function v(o,f,r){r.dataType=s.DataSet.CONSTANTS.HIERARCHY;var e=f&&f.children?f.children:null;if(e&&!t.isFunction(e))throw new TypeError("Invalid children: must be a function!");return f.pureData?r.rows=r.root=o:r.rows=r.root=c.hierarchy(o,e),o}s.DataSet.registerConnector("hierarchy",v),s.DataSet.registerConnector("tree",v)},"./src/connector/topojson.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js"),v=t.__importDefault(i("./src/connector/geojson.ts")),o=i("./src/data-set.ts");function f(r,e,n){var a=e.object;if(!c.isString(a))throw new TypeError("Invalid object: must be a string!");var u=s.feature(r,r.objects[a]);return v.default(u,void 0,n)}o.DataSet.registerConnector("topojson",f),o.DataSet.registerConnector("TopoJSON",f)},"./src/constants.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},"./src/data-set.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataSet=void 0;var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),v=i("./src/view.ts"),o=t.__importDefault(i("./src/constants.ts")),f=function(r){t.__extends(e,r);function e(n){n===void 0&&(n={state:{}});var a=r.call(this)||this;return a.isDataSet=!0,a._onChangeTimer=null,a.views={},a.state={},a.state=n.state,a}return e.registerConnector=function(n,a){e.connectors[n]=a},e.getConnector=function(n){return e.connectors[n]||e.connectors.default},e.registerTransform=function(n,a){e.transforms[n]=a},e.getTransform=function(n){return e.transforms[n]||e.transforms.default},e.prototype._getUniqueViewName=function(){for(var n=c.uniqueId("view_");this.views[n];)n=c.uniqueId("view_");return n},e.prototype.createView=function(n,a){if(c.isNil(n)&&(n=this._getUniqueViewName()),c.isObject(n)&&(a=n,n=this._getUniqueViewName()),this.views[n])throw new Error("data view exists: "+n);var u=new v.View(this,a);return this.views[n]=u,u},e.prototype.getView=function(n){return this.views[n]},e.prototype.setView=function(n,a){this.views[n]=a},e.prototype.setState=function(n,a){var u=this;this.state[n]=a,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){u.emit("statechange",n,a)},16)},e.CONSTANTS=o.default,e.connectors={},e.transforms={},e.DataSet=e,e.DataView=v.View,e.View=v.View,e.version="____DATASET_VERSION____",e}(s.default);S.DataSet=f,c.assign(f,o.default),c.assign(f.prototype,{view:f.prototype.createView}),v.View.DataSet=f},"./src/index.ts":function(P,S,i){"use strict";i("./src/api/geo.ts"),i("./src/api/hierarchy.ts"),i("./src/api/partition.ts"),i("./src/api/statistics.ts"),i("./src/connector/default.ts"),i("./src/connector/dsv.ts"),i("./src/connector/geo-graticule.ts"),i("./src/connector/geojson.ts"),i("./src/connector/graph.ts"),i("./src/connector/hexjson.ts"),i("./src/connector/hierarchy.ts"),i("./src/connector/topojson.ts"),i("./src/transform/default.ts"),i("./src/transform/filter.ts"),i("./src/transform/fold.ts"),i("./src/transform/map.ts"),i("./src/transform/partition.ts"),i("./src/transform/percent.ts"),i("./src/transform/pick.ts"),i("./src/transform/proportion.ts"),i("./src/transform/rename.ts"),i("./src/transform/reverse.ts"),i("./src/transform/sort.ts"),i("./src/transform/sort-by.ts"),i("./src/transform/subset.ts"),i("./src/transform/fill-rows.ts"),i("./src/transform/impute.ts"),i("./src/transform/aggregate.ts"),i("./src/transform/regression.ts"),i("./src/transform/kde.ts"),i("./src/transform/bin/hexagon.ts"),i("./src/transform/bin/histogram.ts"),i("./src/transform/bin/quantile.ts"),i("./src/transform/bin/rectangle.ts"),i("./src/transform/geo/centroid.ts"),i("./src/transform/geo/projection.ts"),i("./src/transform/geo/region.ts"),i("./src/transform/diagram/arc.ts"),i("./src/transform/diagram/dagre.ts"),i("./src/transform/diagram/sankey.ts"),i("./src/transform/diagram/voronoi.ts"),i("./src/transform/hierarchy/cluster.ts"),i("./src/transform/hierarchy/compact-box.ts"),i("./src/transform/hierarchy/dendrogram.ts"),i("./src/transform/hierarchy/indented.ts"),i("./src/transform/hierarchy/pack.ts"),i("./src/transform/hierarchy/partition.ts"),i("./src/transform/hierarchy/tree.ts"),i("./src/transform/hierarchy/treemap.ts"),i("./src/transform/tag-cloud.ts"),i("./src/transform/waffle.ts"),i("./src/transform/kernel-smooth/density.ts"),i("./src/transform/kernel-smooth/regression.ts");var t=i("./src/data-set.ts");P.exports=t.DataSet},"./src/transform/aggregate.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=o.DataSet.registerTransform,r=i("./src/util/option-parser.ts"),e={as:[],fields:[],groupBy:[],operations:[]},n="count",a={count:function(l){return l.length},distinct:function(l,h){var p=c.uniq(l.map(function(d){return d[h]}));return p.length}};o.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(l){a[l]=function(h,p){var d=h.map(function(g){return g[p]});return c.isArray(d)&&c.isArray(d[0])&&(d=c.flattenDeep(d)),s[l](d)}}),a.average=a.mean;function u(l,h){h=c.assign({},e,h);var p=r.getFields(h);if(!c.isArray(p))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var d=h.as||[];c.isString(d)&&(d=[d]);var g=h.operations;c.isString(g)&&(g=[g]);var y=[n];if((!c.isArray(g)||!g.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),g=y,d=g),!(g.length===1&&g[0]===n)){if(g.length!==p.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(d.length!==p.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var x=v.default(l.rows,h.groupBy),A=[];c.forIn(x,function(m){var M=m[0];g.forEach(function(b,E){var C=d[E],T=p[E];M[C]=a[b](m,T)}),A.push(M)}),l.rows=A}f("aggregate",u),f("summary",u),S.default={VALID_AGGREGATES:c.keys(a)}},"./src/transform/bin/hexagon.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=i("./src/util/option-parser.ts"),o={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},f=Math.sqrt(3),r=Math.PI/3,e=[0,r,2*r,3*r,4*r,5*r];function n(h,p,d,g){return Math.sqrt((h-d)*(h-d)+(p-g)*(p-g))}function a(h,p,d){var g=h-d;p=p/2;var y=Math.floor(g/p),x=p*(y+(Math.abs(y%2)===1?1:0)),A=p*(y+(Math.abs(y%2)===1?0:1));return[x+d,A+d]}function u(h,p,d){p===void 0&&(p=[1,1]),d===void 0&&(d=[0,0]);var g={},y=t.__read(p,2),x=y[0],A=y[1],m=t.__read(d,2),M=m[0],b=m[1];return h.forEach(function(E){var C,T,O=t.__read(E,2),L=O[0],R=O[1],W=t.__read(a(L,x,M),2),U=W[0],X=W[1],Z=t.__read(a(R,A,b),2),J=Z[0],ht=Z[1],at=n(L,R,U,J),Q=n(L,R,X,ht),xt,kt,Nt;at<Q?(xt="x"+U+"y"+J,C=t.__read([U,J],2),kt=C[0],Nt=C[1]):(xt="x"+X+"y"+ht,T=t.__read([X,ht],2),kt=T[0],Nt=T[1]),g[xt]=g[xt]||{x:kt,y:Nt,count:0},g[xt].count++}),g}function l(h,p){p=c.assign({},o,p);var d=v.getFields(p);if(!c.isArray(d)||d.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var g=t.__read(d,2),y=g[0],x=g[1],A=h.range(y),m=h.range(x),M=A[1]-A[0],b=m[1]-m[0],E=p.binWidth||[];if(E.length!==2){var C=t.__read(p.bins,2),T=C[0],O=C[1];if(T<=0||O<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");E=[M/T,b/O]}var L=t.__read(p.offset,2),R=L[0],W=L[1],U=3*E[0]/(f*E[1]),X=h.rows.map(function(q){return[q[y],U*q[x]]}),Z=u(X,[E[0],U*E[1]],[R,U*W]),J=t.__read(p.as,3),ht=J[0],at=J[1],Q=J[2];if(!ht||!at||!Q)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var xt=E[0]/f,kt=e.map(function(q){return[Math.sin(q)*xt,-Math.cos(q)*xt]}),Nt=[],nt=0;p.sizeByCount&&c.forIn(Z,function(q){q.count>nt&&(nt=q.count)}),c.forIn(Z,function(q){var G=q.x,N=q.y,it=q.count,H={};H[Q]=it,p.sizeByCount?(H[ht]=kt.map(function(ct){return G+q.count/nt*ct[0]}),H[at]=kt.map(function(ct){return(N+q.count/nt*ct[1])/U})):(H[ht]=kt.map(function(ct){return G+ct[0]}),H[at]=kt.map(function(ct){return(N+ct[1])/U})),Nt.push(H)}),h.rows=Nt}s.DataSet.registerTransform("bin.hexagon",l),s.DataSet.registerTransform("bin.hex",l),s.DataSet.registerTransform("hexbin",l)},"./src/transform/bin/histogram.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function r(a,u,l){var h=a-l,p=Math.floor(h/u);return[p*u+l,(p+1)*u+l]}function e(a){return Math.ceil(Math.log(a)/Math.LN2)+1}function n(a,u){u=c.assign({},f,u);var l=o.getField(u);if(a.rows.length!==0){var h=a.range(l),p=h[1]-h[0],d=u.binWidth,g=u.bins;if(!d&&g){if(g<=0)throw new TypeError("Invalid bins: it must be a positive number!");d=p/g}if(!d&&!g){var y=e(a.rows.length);d=p/y}var x=u.offset%d,A=[],m=u.groupBy,M=s.default(a.rows,m);c.forIn(M,function(b){var E={},C=b.map(function(W){return W[l]});C.forEach(function(W){var U=t.__read(r(W,d,x),2),X=U[0],Z=U[1],J=X+"-"+Z;E[J]=E[J]||{x0:X,x1:Z,count:0},E[J].count++});var T=t.__read(u.as,2),O=T[0],L=T[1];if(!O||!L)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var R=c.pick(b[0],m);c.forIn(E,function(W){var U=c.assign({},R);U[O]=[W.x0,W.x1],U[L]=W.count,A.push(U)})}),a.rows=A}}v.DataSet.registerTransform("bin.histogram",n),v.DataSet.registerTransform("bin.dot",n)},"./src/transform/bin/quantile.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=t.__importDefault(i("./src/util/p-by-fraction.ts")),f=i("./src/data-set.ts"),r=f.DataSet.registerTransform,e=i("./src/util/option-parser.ts"),n={as:"_bin",groupBy:[],fraction:4};function a(u,l){l=c.assign({},n,l);var h=e.getField(l),p=l.as;if(!c.isString(p))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var d=l.p,g=l.fraction;(!c.isArray(d)||d.length===0)&&(d=o.default(g));var y=u.rows,x=l.groupBy,A=v.default(y,x),m=[];c.forIn(A,function(M){var b=M[0],E=M.map(function(T){return T[h]}),C=d.map(function(T){return s.quantile(E,T)});b[p]=C,m.push(b)}),u.rows=m}r("bin.quantile",a)},"./src/transform/bin/rectangle.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=s.DataSet.registerTransform,o=i("./src/util/option-parser.ts"),f={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function r(n,a,u){var l=n-u,h=Math.floor(l/a);return[h*a+u,(h+1)*a+u]}function e(n,a){a=c.assign({},f,a);var u=t.__read(o.getFields(a),2),l=u[0],h=u[1];if(!l||!h)throw new TypeError("Invalid fields: must be an array with 2 strings!");var p=n.range(l),d=n.range(h),g=p[1]-p[0],y=d[1]-d[0],x=a.binWidth||[];if(x.length!==2){var A=t.__read(a.bins,2),m=A[0],M=A[1];if(m<=0||M<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");x=[g/m,y/M]}var b=n.rows.map(function(J){return[J[l],J[h]]}),E={},C=t.__read(a.offset,2),T=C[0],O=C[1];b.forEach(function(J){var ht=t.__read(r(J[0],x[0],T),2),at=ht[0],Q=ht[1],xt=t.__read(r(J[1],x[1],O),2),kt=xt[0],Nt=xt[1],nt=at+"-"+Q+"-"+kt+"-"+Nt;E[nt]=E[nt]||{x0:at,x1:Q,y0:kt,y1:Nt,count:0},E[nt].count++});var L=[],R=t.__read(a.as,3),W=R[0],U=R[1],X=R[2];if(!W||!U||!X)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!a.sizeByCount)c.forIn(E,function(J){var ht={};ht[W]=[J.x0,J.x1,J.x1,J.x0],ht[U]=[J.y0,J.y0,J.y1,J.y1],ht[X]=J.count,L.push(ht)});else{var Z=0;c.forIn(E,function(J){J.count>Z&&(Z=J.count)}),c.forIn(E,function(J){var ht=J.x0,at=J.x1,Q=J.y0,xt=J.y1,kt=J.count,Nt=kt/Z,nt=t.__read([(ht+at)/2,(Q+xt)/2],2),q=nt[0],G=nt[1],N=(at-ht)*Nt/2,it=(xt-Q)*Nt/2,H=q-N,ct=q+N,ft=G-it,K=G+it,$={};$[W]=[H,ct,ct,H],$[U]=[ft,ft,K,K],$[X]=kt,L.push($)})}n.rows=L}v("bin.rectangle",e),v("bin.rect",e)},"./src/transform/default.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("default",function(c){return c})},"./src/transform/diagram/arc.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(a){return a.id},source:function(a){return a.source},target:function(a){return a.target},sourceWeight:function(a){return a.value||1},targetWeight:function(a){return a.value||1},sortBy:null};function v(a,u,l){return l===void 0&&(l={}),a.forEach(function(h){var p=u.edgeSource(h),d=u.edgeTarget(h);l[p]||(l[p]={id:p}),l[d]||(l[d]={id:d})}),t.values(l)}function o(a,u,l){t.forIn(a,function(h,p){h.inEdges=u.filter(function(d){return""+l.target(d)==""+p}),h.outEdges=u.filter(function(d){return""+l.source(d)==""+p}),h.edges=h.outEdges.concat(h.inEdges),h.frequency=h.edges.length,h.value=0,h.inEdges.forEach(function(d){h.value+=l.targetWeight(d)}),h.outEdges.forEach(function(d){h.value+=l.sourceWeight(d)})})}function f(a,u){var l={weight:function(p,d){return d.value-p.value},frequency:function(p,d){return d.frequency-p.frequency},id:function(p,d){return(""+u.id(p)).localeCompare(""+u.id(d))}},h=l[u.sortBy];!h&&t.isFunction(u.sortBy)&&(h=u.sortBy),h&&a.sort(h)}function r(a,u){var l=a.length;if(!l)throw new TypeError("Invalid nodes: it's empty!");if(u.weight){var h=u.marginRatio;if(h<0||h>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var p=h/(2*l),d=u.thickness;if(d<=0||d>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var g=0;a.forEach(function(x){g+=x.value}),a.forEach(function(x){x.weight=x.value/g,x.width=x.weight*(1-h),x.height=d}),a.forEach(function(x,A){for(var m=0,M=A-1;M>=0;M--)m+=a[M].width+2*p;var b=x.minX=p+m,E=x.maxX=x.minX+x.width,C=x.minY=u.y-d/2,T=x.maxY=C+d;x.x=[b,E,E,b],x.y=[C,C,T,T]})}else{var y=1/l;a.forEach(function(x,A){x.x=(A+.5)*y,x.y=u.y})}}function e(a,u,l){if(l.weight){var h={};t.forIn(a,function(p,d){h[d]=p.value}),u.forEach(function(p){var d=l.source(p),g=l.target(p),y=a[d],x=a[g];if(y&&x){var A=h[d],m=l.sourceWeight(p),M=y.minX+(y.value-A)/y.value*y.width,b=M+m/y.value*y.width;h[d]-=m;var E=h[g],C=l.targetWeight(p),T=x.minX+(x.value-E)/x.value*x.width,O=T+C/x.value*x.width;h[g]-=C;var L=l.y;p.x=[M,b,T,O],p.y=[L,L,L,L]}})}else u.forEach(function(p){var d=a[l.source(p)],g=a[l.target(p)];d&&g&&(p.x=[d.x,g.x],p.y=[d.y,g.y])})}function n(a,u){u=t.assign({},s,u);var l={},h=a.nodes,p=a.edges;(!t.isArray(h)||h.length===0)&&(h=v(p,u,l)),h.forEach(function(d){var g=u.id(d);l[g]=d}),o(l,p,u),f(h,u),r(h,u),e(l,p,u),a.nodes=h,a.edges=p}c.DataSet.registerTransform("diagram.arc",n),c.DataSet.registerTransform("arc",n)},"./src/transform/diagram/dagre.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./node_modules/_dagre@0.8.5@dagre/index.js")),v=i("./src/data-set.ts"),o={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(r){return r.source},target:function(r){return r.target}};function f(r,e){e=c.assign({},o,e);var n=new s.default.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel(function(){return{}}),r.nodes.forEach(function(l){var h=e.nodeId?e.nodeId(l):l.id;!l.height&&!l.width&&(l.height=l.width=e.edgesep),n.setNode(h,l)}),r.edges.forEach(function(l){n.setEdge(e.source(l),e.target(l))}),s.default.layout(n);var a=[],u=[];n.nodes().forEach(function(l){var h=n.node(l),p=h.x,d=h.y,g=h.height,y=h.width;h.x=[p-y/2,p+y/2,p+y/2,p-y/2],h.y=[d+g/2,d+g/2,d-g/2,d-g/2],a.push(h)}),n.edges().forEach(function(l){var h=n.edge(l).points,p={};p.x=h.map(function(d){return d.x}),p.y=h.map(function(d){return d.y}),u.push(p)}),r.nodes=a,r.edges=u}v.DataSet.registerTransform("diagram.dagre",f),v.DataSet.registerTransform("dagre",f)},"./src/transform/diagram/sankey.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js"),s=i("./src/data-set.ts"),v={sankeyLeft:c.sankeyLeft,sankeyRight:c.sankeyRight,sankeyCenter:c.sankeyCenter,sankeyJustify:c.sankeyJustify},o={value:function(r){return r.value},source:function(r){return r.source},target:function(r){return r.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function f(r,e){e=t.assign({},o,e);var n=null;t.isString(e.nodeAlign)?n=v[e.nodeAlign]:t.isFunction(e.nodeAlign)&&(n=e.nodeAlign);var a=c.sankey().nodeSort(e.sort).links(function(u){return u.edges}).nodeWidth(e.nodeWidth).nodePadding(e.nodePadding).extent([[0,0],[1,1]]);t.isFunction(e.nodeId)&&a.nodeId(e.nodeId),n&&a.nodeAlign(n),a(r),r.nodes.forEach(function(u){var l=u.x0,h=u.x1,p=u.y0,d=u.y1;u.x=[l,h,h,l],u.y=[p,p,d,d]}),r.edges.forEach(function(u){var l=u.source,h=u.target,p=l.x1,d=h.x0;u.x=[p,p,d,d];var g=u.width/2;u.y=[u.y0+g,u.y0-g,u.y1+g,u.y1-g]})}s.DataSet.registerTransform("diagram.sankey",f),s.DataSet.registerTransform("sankey",f)},"./src/transform/diagram/voronoi.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=v.DataSet.registerTransform,f=i("./src/util/option-parser.ts"),r={as:["_x","_y"]};function e(n,a){a=s.assign({},r,a);var u=a.as;if(!s.isArray(u)||u.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var l=u[0],h=u[1],p=f.getFields(a);if(!s.isArray(p)||p.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var d=p[0],g=p[1],y=n.rows,x=y.map(function(M){return[M[d],M[g]]}),A=c.voronoi();a.extend&&A.extent(a.extend),a.size&&A.size(a.size);var m=A(x).polygons();y.forEach(function(M,b){var E=m[b].filter(function(C){return!!C});M[l]=E.map(function(C){return C[0]}),M[h]=E.map(function(C){return C[1]})})}o("diagram.voronoi",e),o("voronoi",e)},"./src/transform/fill-rows.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o={fillBy:"group",groupBy:[],orderBy:[]};function f(e,n){var a=e.map(function(u){return u});return n.forEach(function(u){var l=a.indexOf(u);l>-1&&a.splice(l,1)}),a}function r(e,n){n=c.assign({},o,n);var a=e.rows,u=n.groupBy,l=n.orderBy,h=s.default(a,u,l),p=0,d=[];c.forIn(h,function(b){b.length>p&&(p=b.length,d=b)});var g=[],y={};if(d.forEach(function(b){var E=l.map(function(C){return b[C]}).join("-");g.push(E),y[E]=b}),n.fillBy==="order"){var x=d[0],A=[],m={};a.forEach(function(b){var E=l.map(function(C){return b[C]}).join("-");A.indexOf(E)===-1&&(A.push(E),m[E]=b)});var M=f(A,g);M.forEach(function(b){var E={};u.forEach(function(C){E[C]=x[C]}),l.forEach(function(C){E[C]=m[b][C]}),a.push(E),d.push(E),g.push(b),y[b]=E}),p=d.length}c.forIn(h,function(b){if(b!==d&&b.length<p){var E=b[0],C=[];b.forEach(function(O){C.push(l.map(function(L){return O[L]}).join("-"))});var T=f(g,C);T.some(function(O,L){if(L>=p-b.length)return!0;var R=y[O],W={};return u.forEach(function(U){W[U]=E[U]}),l.forEach(function(U){W[U]=R[U]}),a.push(W),!1})}})}v.DataSet.registerTransform("fill-rows",r),v.DataSet.registerTransform("fillRows",r)},"./src/transform/filter.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts");function c(s){return!!s}t.DataSet.registerTransform("filter",function(s,v){s.rows=s.rows.filter(v.callback||c)})},"./src/transform/fold.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts"),v={fields:[],key:"key",retains:[],value:"value"};c.DataSet.registerTransform("fold",function(o,f){var r=o.getColumnNames();f=t.assign({},v,f);var e=s.getFields(f);e.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),e=r);var n=f.key,a=f.value,u=f.retains;(!u||u.length===0)&&(u=t.difference(r,e));var l=[];o.rows.forEach(function(h){e.forEach(function(p){var d=t.pick(h,u);d[n]=p,d[a]=h[p],l.push(d)})}),o.rows=l})},"./src/transform/geo/centroid.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=c.DataSet.registerTransform,v=i("./src/util/option-parser.ts"),o={as:["_centroid_x","_centroid_y"]};function f(r,e){e=t.assign({},o,e);var n=v.getField(e),a=e.geoView||e.geoDataView;if(t.isString(a)&&r.dataSet&&(a=r.dataSet.getView(a)),!a||a.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var u=e.as;if(!t.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var l=u[0],h=u[1];r.rows.forEach(function(p){var d=a.geoFeatureByName(p[n]);d&&(a._projectedAs?(p[l]=d[a._projectedAs[2]],p[h]=d[a._projectedAs[3]]):(p[l]=d.centroidX,p[h]=d.centroidY))})}s("geo.centroid",f)},"./src/transform/geo/projection.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),v=t.__importDefault(i("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),o=i("./src/data-set.ts"),f=o.DataSet.registerTransform,r=t.__importDefault(i("./src/util/get-geo-projection.ts")),e={as:["_x","_y","_centroid_x","_centroid_y"]};function n(a,u){if(a.dataType!=="geo"&&a.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");u=c.assign({},e,u);var l=u.projection;if(!l)throw new TypeError("Invalid projection!");l=r.default(l);var h=s.geoPath(l),p=u.as;if(!c.isArray(p)||p.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');a._projectedAs=p;var d=t.__read(p,4),g=d[0],y=d[1],x=d[2],A=d[3];a.rows.forEach(function(m){m[g]=[],m[y]=[];var M=h(m);if(M){var b=v.default(M);b._path.forEach(function(C){m[g].push(C[1]),m[y].push(C[2])});var E=h.centroid(m);m[x]=E[0],m[A]=E[1]}}),a.rows=a.rows.filter(function(m){return m[g].length!==0})}f("geo.projection",n)},"./src/transform/geo/region.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=c.DataSet.registerTransform,v=i("./src/util/option-parser.ts"),o={as:["_x","_y"]};function f(r,e){e=t.assign({},o,e);var n=v.getField(e),a=e.geoView||e.geoDataView;if(t.isString(a)&&(a=r.dataSet.getView(a)),!a||a.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var u=e.as;if(!t.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=u[0],h=u[1];r.rows.forEach(function(p){var d=a.geoFeatureByName(p[n]);d&&(a._projectedAs?(p[l]=d[a._projectedAs[0]],p[h]=d[a._projectedAs[1]]):(p[l]=d.longitude,p[h]=d.latitude))})}s("geo.region",f)},"./src/transform/hierarchy/cluster.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY||!e.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=void 0;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.cluster();h.size(n.size),n.nodeSize&&h.nodeSize(n.nodeSize),n.separation&&h.separation(n.separation),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=g.x,g[d]=g.y})}v.DataSet.registerTransform("hierarchy.cluster",r),v.DataSet.registerTransform("dendrogram",r)},"./src/transform/hierarchy/compact-box.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.compactBox(e,r)}s.DataSet.registerTransform("hierarchy.compact-box",o),s.DataSet.registerTransform("compact-box-tree",o),s.DataSet.registerTransform("non-layered-tidy-tree",o),s.DataSet.registerTransform("mindmap-logical",o)},"./src/transform/hierarchy/dendrogram.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.dendrogram(e,r)}s.DataSet.registerTransform("hierarchy.dendrogram",o),s.DataSet.registerTransform("dendrogram",o)},"./src/transform/hierarchy/indented.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_@antv_hierarchy@0.6.6@@antv/hierarchy/build/hierarchy.js")),s=i("./src/data-set.ts"),v={};function o(f,r){var e=f.root;if(r=Object.assign({},v,r),f.dataType!==s.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");f.root=c.default.indented(e,r)}s.DataSet.registerTransform("hierarchy.indented",o),s.DataSet.registerTransform("indented-tree",o)},"./src/transform/hierarchy/pack.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=c.assign({},f,n);var u=n.as;if(!c.isArray(u)||u.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var l;try{l=o.getField(n)}catch(y){console.warn(y)}l&&a.sum(function(y){return y[l]}).sort(function(y,x){return x[l]-y[l]});var h=s.pack();h.size(n.size),n.padding&&h.padding(n.padding),h(a);var p=u[0],d=u[1],g=u[2];a.each(function(y){y[p]=y.x,y[d]=y.y,y[g]=y.r})}v.DataSet.registerTransform("hierarchy.pack",r),v.DataSet.registerTransform("hierarchy.circle-packing",r),v.DataSet.registerTransform("circle-packing",r)},"./src/transform/hierarchy/partition.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.partition();h.size(n.size).round(n.round).padding(n.padding),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=[g.x0,g.x1,g.x1,g.x0],g[d]=[g.y1,g.y1,g.y0,g.y0],["x0","x1","y0","y1"].forEach(function(y){u.indexOf(y)===-1&&delete g[y]})})}v.DataSet.registerTransform("hierarchy.partition",r),v.DataSet.registerTransform("adjacency",r)},"./src/transform/hierarchy/tree.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.tree();h.size(n.size),n.nodeSize&&h.nodeSize(n.nodeSize),n.separation&&h.separation(n.separation),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=g.x,g[d]=g.y})}v.DataSet.registerTransform("hierarchy.tree",r),v.DataSet.registerTransform("tree",r)},"./src/transform/hierarchy/treemap.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importStar(i("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function r(e,n){if(e.dataType!==v.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a=e.root;n=s.assign({},f,n);var u=n.as;if(!s.isArray(u)||u.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l;try{l=o.getField(n)}catch(g){console.warn(g)}l&&a.sum(function(g){return g[l]});var h=c.treemap();h.tile(c[n.tile]).size(n.size).round(n.round).padding(n.padding).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft),h(a);var p=u[0],d=u[1];a.each(function(g){g[p]=[g.x0,g.x1,g.x1,g.x0],g[d]=[g.y1,g.y1,g.y0,g.y0],["x0","x1","y0","y1"].forEach(function(y){u.indexOf(y)===-1&&delete g[y]})})}v.DataSet.registerTransform("hierarchy.treemap",r),v.DataSet.registerTransform("treemap",r)},"./src/transform/impute.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={groupBy:[]};function e(l){return l.filter(function(h){return!c.isUndefined(h)})}var n=["mean","median","max","min"],a={};n.forEach(function(l){a[l]=function(h,p){return s[l](p)}}),a.value=function(l,h,p){return p};function u(l,h){h=c.assign({},r,h);var p=f.getField(h),d=h.method;if(!d)throw new TypeError("Invalid method!");if(d==="value"&&!c.has(h,"value"))throw new TypeError("Invalid value: it is nil.");var g=e(l.getColumn(p)),y=v.default(l.rows,h.groupBy);c.forIn(y,function(x){var A=e(x.map(function(m){return m[p]}));A.length===0&&(A=g),x.forEach(function(m){if(c.isUndefined(m[p]))if(c.isFunction(d))m[p]=d(m,A,h.value,x);else if(c.isString(d))m[p]=a[d](m,A,h.value);else throw new TypeError("Invalid method: must be a function or one of "+n.join(", "))})})}o.DataSet.registerTransform("impute",u)},"./src/transform/kde.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=t.__importStar(i("./src/util/bandwidth.ts")),f=t.__importDefault(i("./src/util/partition.ts")),r=i("./src/data-set.ts"),e=i("./src/util/option-parser.ts"),n=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),a={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},u=c.keys(v.default),l=c.keys(o);function h(p,d){d=c.assign({},a,d);var g=e.getFields(d);if(!c.isArray(g)||g.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var y=d.as;if(!c.isArray(y)||y.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var x=d.method;if(c.isString(x)){if(u.indexOf(x)===-1)throw new TypeError("invalid method: "+x+". Must be one of "+u.join(", "));x=v.default[x]}if(!c.isFunction(x))throw new TypeError("invalid method: kernel method must be a function!");var A=d.extent;if(!c.isArray(A)||A.length===0){var m=[];c.each(g,function(O){var L=p.range(O);m=m.concat(L)}),A=[Math.min.apply(Math,t.__spread(m)),Math.max.apply(Math,t.__spread(m))]}var M=d.bandwidth;c.isString(M)&&o[M]?M=o[M](p.getColumn(g[0])):c.isFunction(M)?M=M(p.getColumn(g[0])):(!c.isNumber(M)||M<=0)&&(M=o.nrd(p.getColumn(g[0])));var b=s.default(A,d.step?d.step:M),E=[],C=d.groupBy,T=f.default(p.rows,C);c.forIn(T,function(O){var L={};c.each(g,function(R){var W=c.pick(O[0],C);L[R]=n.kernelDensityEstimation(O.map(function(ht){return ht[R]}),x,M);var U=t.__read(y,3),X=U[0],Z=U[1],J=U[2];W[X]=R,W[Z]=[],W[J]=[],c.each(b,function(ht){var at=L[R](ht);at>=d.minSize&&(W[Z].push(ht),W[J].push(at))}),E.push(W)})}),p.rows=E}r.DataSet.registerTransform("kernel-density-estimation",h),r.DataSet.registerTransform("kde",h),r.DataSet.registerTransform("KDE",h),S.default={KERNEL_METHODS:u,BANDWIDTH_METHODS:l}},"./src/transform/kernel-smooth/density.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r=i("./src/util/bandwidth.ts"),e={as:["x","y","z"],method:"gaussian"},n=c.keys(v.default);function a(u,l){var h,p;l=c.assign({},e,l);var d=f.getFields(l);if(!c.isArray(d)||d.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var g=t.__read(l.as,3),y=g[0],x=g[1],A=g[2];if(!c.isString(y)||!c.isString(x)||!c.isString(A))throw new TypeError("invalid as: must be an array of 3 strings!");var m;if(c.isString(l.method)){if(n.indexOf(l.method)===-1)throw new TypeError("invalid method: "+l.method+". Must be one of "+n.join(", "));m=v.default[l.method]}var M=t.__read(d,2),b=M[0],E=M[1],C=l.extent,T=l.bandwidth,O,L;C&&Array.isArray(C)&&Array.isArray(C[0])&&Array.isArray(C[1])?(h=t.__read(C,2),O=h[0],L=h[1]):(O=u.range(b),L=u.range(E));var R,W;T&&Array.isArray(T)&&T.slice(0,2).every(c.isNumber)&&T.slice(0,2).every(function(G){return G>0})?(p=t.__read(T,2),R=p[0],W=p[1]):(R=r.silverman(u.getColumn(b)),W=r.silverman(u.getColumn(E)));for(var U=s.default(O,R),X=s.default(L,W),Z=u.rows.length,J=[],ht=0;ht<U.length;ht++)for(var at=0;at<X.length;at++){for(var Q=0,xt=U[ht],kt=X[at],Nt=0;Nt<Z;Nt++)Q+=m((xt-u.rows[Nt][b])/R)*m((kt-u.rows[Nt][E])/W);var nt=1/(Z*R*W)*Q,q={};q[y]=xt,q[x]=kt,q[A]=nt,J.push(q)}u.rows=J}o.DataSet.registerTransform("kernel-smooth.density",a),o.DataSet.registerTransform("kernel.density",a),S.default={KERNEL_METHODS:n}},"./src/transform/kernel-smooth/regression.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/get-series-values.ts")),v=t.__importDefault(i("./src/util/kernel.ts")),o=i("./src/data-set.ts"),f=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),r=i("./src/util/option-parser.ts"),e=i("./src/util/bandwidth.ts"),n={as:["x","y"],method:"gaussian"},a=c.keys(v.default);function u(p,d,g,y){var x=(y-g)/d;return p(x)}function l(p){return function(d){return c.isArray(d)?d.map(function(g){return p(g)}):p(d)}}function h(p,d){d=c.assign({},n,d);var g=r.getFields(d);if(!c.isArray(g)||!(g.length===1||g.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var y=t.__read(d.as,2),x=y[0],A=y[1];if(!c.isString(x)||!c.isString(A))throw new TypeError("invalid as: must be an array of 2 strings!");var m,M=d.method;if(c.isString(M)){if(a.indexOf(M)===-1)throw new TypeError("invalid method: "+M+". Must be one of "+a.join(", "));m=v.default[M]}var b=t.__read(g,2),E=b[0],C=b[1],T=p.getColumn(E),O=d.extent;(O||!c.isArray(O))&&(O=p.range(E));var L=d.bandwidth;(!L||!c.isNumber(L)||L<=0)&&(L=e.silverman(T));var R=s.default(O,L),W=T.length,U=u.bind(null,m,L),X;if(c.isNil(C))X=l(function(ht){var at=T.map(function(kt){return U(ht,kt)}),Q=f.sum(at),xt=W*L;return!Q||!xt?0:Q/xt});else{var Z=p.getColumn(C);X=l(function(ht){var at=T.map(function(kt){return U(ht,kt)}),Q=f.sum(at.map(function(kt,Nt){return kt*Z[Nt]})),xt=f.sum(at);return!Q||!xt?0:Q/xt})}var J=R.map(function(ht){var at={};return at[x]=ht,at[A]=X(ht),at});p.rows=J}o.DataSet.registerTransform("kernel-smooth.regression",h),o.DataSet.registerTransform("kernel.regression",h),S.default={KERNEL_METHODS:a}},"./src/transform/map.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts");function c(s){return s}t.DataSet.registerTransform("map",function(s,v){s.rows=s.rows.map(v.callback||c)})},"./src/transform/partition.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o={groupBy:[],orderBy:[]};v.DataSet.registerTransform("partition",function(r,e){e=c.assign({},o,e),r.rows=s.default(r.rows,e.groupBy,e.orderBy)});function f(r,e){e=c.assign({},o,e),r.rows=c.values(s.default(r.rows,e.groupBy,e.orderBy))}v.DataSet.registerTransform("group",f),v.DataSet.registerTransform("groups",f)},"./src/transform/percent.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={groupBy:[],as:"_percent"};function e(n,a){a=c.assign({},r,a);var u=f.getField(a),l=a.dimension,h=a.groupBy,p=a.as;if(!c.isString(l))throw new TypeError("Invalid dimension: must be a string!");if(c.isArray(p)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),p=p[0]),!c.isString(p))throw new TypeError("Invalid as: must be a string!");var d=n.rows,g=[],y=v.default(d,h);c.forIn(y,function(x){var A=s.sum(x.map(function(M){return M[u]})),m=v.default(x,[l]);c.forIn(m,function(M){var b=s.sum(M.map(function(T){return T[u]})),E=M[0],C=E[l];E[u]=b,E[l]=C,A===0?E[p]=0:E[p]=b/A,g.push(E)})}),n.rows=g}o.DataSet.registerTransform("percent",e)},"./src/transform/pick.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts");c.DataSet.registerTransform("pick",function(v,o){var f=s.getFields(o,v.getColumnNames());v.rows=v.rows.map(function(r){return t.pick(r,f)})})},"./src/transform/proportion.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/partition.ts")),v=i("./src/data-set.ts"),o=i("./src/util/option-parser.ts"),f={groupBy:[],as:"_proportion"};function r(e,n){n=c.assign({},f,n);var a=o.getField(n),u=n.dimension,l=n.groupBy,h=n.as;if(!c.isString(u))throw new TypeError("Invalid dimension: must be a string!");if(c.isArray(h)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),h=h[0]),!c.isString(h))throw new TypeError("Invalid as: must be a string!");var p=e.rows,d=[],g=s.default(p,l);c.forIn(g,function(y){var x=y.length,A=s.default(y,[u]);c.forIn(A,function(m){var M=m.length,b=m[0],E=b[u];b[a]=M,b[u]=E,b[h]=M/x,d.push(b)})}),e.rows=d}v.DataSet.registerTransform("proportion",r)},"./src/transform/regression.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_regression@2.0.1@regression/dist/regression.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),v=t.__importDefault(i("./src/util/get-series-values.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r=i("./src/util/bandwidth.ts"),e={as:["x","y"],method:"linear",order:2,precision:2},n=["linear","exponential","logarithmic","power","polynomial"];function a(u,l){l=s.assign({},e,l);var h=f.getFields(l);if(!s.isArray(h)||h.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var p=t.__read(h,2),d=p[0],g=p[1],y=l.method;if(n.indexOf(y)===-1)throw new TypeError("invalid method: "+y+". Must be one of "+n.join(", "));var x=u.rows.map(function(L){return[L[d],L[g]]}),A=c.default[y](x,l),m=l.extent;(!s.isArray(m)||m.length!==2)&&(m=u.range(d));var M=l.bandwidth;(!s.isNumber(M)||M<=0)&&(M=r.silverman(u.getColumn(d)));var b=v.default(m,M),E=[],C=t.__read(l.as,2),T=C[0],O=C[1];b.forEach(function(L){var R={},W=t.__read(A.predict(L),2),U=W[0],X=W[1];R[T]=U,R[O]=X,isFinite(X)&&E.push(R)}),u.rows=E}o.DataSet.registerTransform("regression",a),S.default={REGRESSION_METHODS:n}},"./src/transform/rename.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts");function s(v,o){var f=o.map||{},r={};t.isPlainObject(f)&&t.forIn(f,function(e,n){t.isString(e)&&t.isString(n)&&(r[n]=e)}),v.rows.forEach(function(e){t.forIn(r,function(n,a){var u=e[a];delete e[a],e[n]=u})})}c.DataSet.registerTransform("rename",s),c.DataSet.registerTransform("rename-fields",s)},"./src/transform/reverse.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("reverse",function(c){c.rows.reverse()})},"./src/transform/sort-by.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c=i("./src/data-set.ts"),s=i("./src/util/option-parser.ts"),v=["ASC","DESC"];function o(f,r){var e=s.getFields(r,[f.getColumnName(0)]);if(!t.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");f.rows=t.sortBy(f.rows,e);var n=r.order;if(n&&v.indexOf(n)===-1)throw new TypeError("Invalid order: "+n+" must be one of "+v.join(", "));n==="DESC"&&f.rows.reverse()}c.DataSet.registerTransform("sort-by",o),c.DataSet.registerTransform("sortBy",o)},"./src/transform/sort.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts");t.DataSet.registerTransform("sort",function(c,s){var v=c.getColumnName(0);c.rows.sort(s.callback||function(o,f){return o[v]-f[v]})})},"./src/transform/subset.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./src/data-set.ts"),c=i("./src/util/option-parser.ts");t.DataSet.registerTransform("subset",function(s,v){var o=v.startRowIndex||0,f=v.endRowIndex||s.rows.length-1,r=c.getFields(v,s.getColumnNames());s.rows=s.getSubset(o,f,r)})},"./src/transform/tag-cloud.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./src/data-set.ts"),v=t.__importDefault(i("./src/util/tag-cloud.ts")),o=i("./src/util/option-parser.ts"),f={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function r(e,n){n=c.assign({},f,n);var a=v.default();if(!n.size[0]||!n.size[1]){e.rows=[],e._tagCloud=a;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(E){n[E]&&a[E](n[E])});var u=o.getFields(n),l=t.__read(u,2),h=l[0],p=l[1];if(!c.isString(h)||!c.isString(p))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var d=e.rows.map(function(E){return E.text=E[h],E.value=E[p],E});a.words(d),n.imageMask&&a.createMask(n.imageMask);var g=a.start(),y=g._tags,x=g._bounds||[{x:0,y:0},{x:n.size[0],y:n.size[1]}];y.forEach(function(E){E.x+=n.size[0]/2,E.y+=n.size[1]/2});var A=t.__read(n.size,2),m=A[0],M=A[1],b=g.hasImage;y.push({text:"",value:0,x:b?0:x[0].x,y:b?0:x[0].y,opacity:0}),y.push({text:"",value:0,x:b?m:x[1].x,y:b?M:x[1].y,opacity:0}),e.rows=y,e._tagCloud=g}s.DataSet.registerTransform("tag-cloud",r),s.DataSet.registerTransform("word-cloud",r)},"./src/transform/waffle.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),v=t.__importDefault(i("./src/util/partition.ts")),o=i("./src/data-set.ts"),f=i("./src/util/option-parser.ts"),r={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function e(n,a){a=c.assign({},r,a);var u=f.getFields(a),l=t.__read(u,2),h=l[0],p=l[1],d=t.__read(a.as,2),g=d[0],y=d[1],x=a.groupBy,A=v.default(n.rows,x),m=c.keys(A),M=t.__read(a.size,2),b=M[0],E=M[1],C=a.maxCount,T=m.length,O=E/T,L=a.rows,R=a.gapRatio,W=[],U=a.scale,X=0,Z=0;c.forIn(A,function(J){var ht=s.sum(c.map(J,function(Q){return Q[p]})),at=Math.ceil(ht*U/L);ht*U>C&&(U=C/ht,at=Math.ceil(ht*U/L)),Z=b/at}),c.forIn(A,function(J){var ht=[X*O,(X+1)*O],at=ht[1]-ht[0],Q=at*(1-R)/L,xt=0,kt=0;c.each(J,function(Nt){for(var nt=Nt[p],q=Math.round(nt*U),G=0;G<q;G++){kt===L&&(kt=0,xt++);var N=c.pick(Nt,[h,p].concat(x));N[g]=xt*Z+Z/2,N[y]=kt*Q+Q/2+ht[0],N._wStep=Z,N._hStep=Q,kt++,W.push(N)}}),X+=1}),n.rows=W}o.DataSet.registerTransform("waffle",e)},"./src/util/bandwidth.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.nrd=S.silverman=void 0;var t=i("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js");function c(v){var o=t.standardDeviation(v),f=4*Math.pow(o,5),r=3*v.length;return Math.pow(f/r,.2)}S.silverman=c;function s(v){var o=t.standardDeviation(v),f=t.interquartileRange(v);return typeof f=="number"&&(o=Math.min(o,f/1.34)),1.06*o*Math.pow(v.length,-.2)}S.nrd=s},"./src/util/get-geo-projection.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importStar(i("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js")),v=t.__importStar(i("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js")),o=t.__importStar(i("./node_modules/_d3-composite-projections@1.4.0@d3-composite-projections/d3-composite-projections.js"));S.default=function(f,r){if(r===void 0&&(r=!1),c.isFunction(f))return r?f:f();if(c.isString(f)){if(s[f])return r?s[f]:s[f]();if(v[f])return r?v[f]:v[f]();if(o[f])return r?o[f]:o[f]()}return null}},"./src/util/get-series-values.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js");S.default=function(c,s){for(var v=s||1,o=t.__read(c,2),f=o[0],r=o[1],e=[],n=f;n<r;)e.push(n),n+=v;return e.push(r),e}},"./src/util/kernel.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function t(s){return Math.abs(s)<=1?.5:0}function c(s){var v=1-Math.pow(Math.abs(s),3);return Math.pow(v,3)}S.default={boxcar:t,cosine:function(s){return Math.abs(s)<=1?Math.PI/4*Math.cos(Math.PI/2*s):0},epanechnikov:function(s){return Math.abs(s)<1?.75*(1-s*s):0},gaussian:function(s){return .3989422804*Math.exp(-.5*s*s)},quartic:function(s){if(Math.abs(s)<1){var v=1-s*s;return 15/16*v*v}return 0},triangular:function(s){var v=Math.abs(s);return v<1?1-v:0},tricube:function(s){return Math.abs(s)<1?70/81*c(s):0},triweight:function(s){if(Math.abs(s)<1){var v=1-s*s;return 35/32*v*v*v}return 0},uniform:t}},"./src/util/option-parser.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getFields=S.getField=void 0;var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),c="Invalid field: it must be a string!",s="Invalid fields: it must be an array!";function v(f,r){var e=f.field,n=f.fields;if(t.isString(e))return e;if(t.isArray(e))return console.warn(c),e[0];if(console.warn(c+" will try to get fields instead."),t.isString(n))return n;if(t.isArray(n)&&n.length)return n[0];if(r)return r;throw new TypeError(c)}S.getField=v;function o(f,r){var e=f.field,n=f.fields;if(t.isArray(n))return n;if(t.isString(n))return console.warn(s),[n];if(console.warn(s+" will try to get field instead."),t.isString(e))return console.warn(s),[e];if(t.isArray(e)&&e.length)return console.warn(s),e;if(r)return r;throw new TypeError(s)}S.getFields=o},"./src/util/p-by-fraction.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t){for(var c=1/t,s=[],v=0;v<=1;v=v+c)s.push(v);return s}},"./src/util/partition.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js"),s=t.__importDefault(i("./src/util/simple-sort-by.ts"));S.default=function(v,o,f){f===void 0&&(f=[]);var r=v;f&&f.length&&(r=s.default(v,f));var e;c.isFunction(o)?e=o:c.isArray(o)?e=function(a){return"_"+o.map(function(u){return a[u]}).join("-")}:c.isString(o)&&(e=function(a){return"_"+a[o]});var n=c.groupBy(r,e);return n}},"./src/util/simple-sort-by.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js");function c(s,v){v===void 0&&(v=[]);var o=void 0;return t.isFunction(v)?o=v:t.isArray(v)?o=function(f,r){for(var e=0;e<v.length;e++){var n=v[e];if(f[n]<r[n])return-1;if(f[n]>r[n])return 1}return 0}:t.isString(v)&&(o=function(f,r){return f[v]<r[v]?-1:f[v]>r[v]?1:0}),s.sort(o)}S.default=c},"./src/util/tag-cloud.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=Math.PI/180,s=1<<11>>5,v=1<<11;function o(b){return b.text}function f(){return"serif"}function r(){return"normal"}function e(b){return b.value}function n(){return~~(Math.random()*2)*90}function a(){return 1}function u(b,E,C,T){if(!E.sprite){var O=b.context,L=b.ratio;O.clearRect(0,0,(s<<5)/L,v/L);var R=0,W=0,U=0,X=C.length;for(--T;++T<X;){E=C[T],O.save(),O.font=E.style+" "+E.weight+" "+~~((E.size+1)/L)+"px "+E.font;var Z=O.measureText(E.text+"m").width*L,J=E.size<<1;if(E.rotate){var ht=Math.sin(E.rotate*c),at=Math.cos(E.rotate*c),Q=Z*at,xt=Z*ht,kt=J*at,Nt=J*ht;Z=Math.max(Math.abs(Q+Nt),Math.abs(Q-Nt))+31>>5<<5,J=~~Math.max(Math.abs(xt+kt),Math.abs(xt-kt))}else Z=Z+31>>5<<5;if(J>U&&(U=J),R+Z>=s<<5&&(R=0,W+=U,U=0),W+J>=v)break;O.translate((R+(Z>>1))/L,(W+(J>>1))/L),E.rotate&&O.rotate(E.rotate*c),O.fillText(E.text,0,0),E.padding&&(O.lineWidth=2*E.padding,O.strokeText(E.text,0,0)),O.restore(),E.width=Z,E.height=J,E.xoff=R,E.yoff=W,E.x1=Z>>1,E.y1=J>>1,E.x0=-E.x1,E.y0=-E.y1,E.hasText=!0,R+=Z}for(var nt=O.getImageData(0,0,(s<<5)/L,v/L).data,q=[];--T>=0;)if(E=C[T],!!E.hasText){for(var Z=E.width,G=Z>>5,J=E.y1-E.y0,N=0;N<J*G;N++)q[N]=0;if(R=E.xoff,R==null)return;W=E.yoff;for(var it=0,H=-1,ct=0;ct<J;ct++){for(var N=0;N<Z;N++){var ft=G*ct+(N>>5),K=nt[(W+ct)*(s<<5)+(R+N)<<2]?1<<31-N%32:0;q[ft]|=K,it|=K}it?H=ct:(E.y0++,J--,ct--,W++)}E.y1=E.y0+H,E.sprite=q.slice(0,(E.y1-E.y0)*G)}}}function l(b,E,C){C>>=5;for(var T=b.sprite,O=b.width>>5,L=b.x-(O<<4),R=L&127,W=32-R,U=b.y1-b.y0,X=(b.y+b.y0)*C+(L>>5),Z,J=0;J<U;J++){Z=0;for(var ht=0;ht<=O;ht++)if((Z<<W|(ht<O?(Z=T[J*O+ht])>>>R:0))&E[X+ht])return!0;X+=C}return!1}function h(b,E){var C=b[0],T=b[1];E.x+E.x0<C.x&&(C.x=E.x+E.x0),E.y+E.y0<C.y&&(C.y=E.y+E.y0),E.x+E.x1>T.x&&(T.x=E.x+E.x1),E.y+E.y1>T.y&&(T.y=E.y+E.y1)}function p(b,E){return b.x+b.x1>E[0].x&&b.x+b.x0<E[1].x&&b.y+b.y1>E[0].y&&b.y+b.y0<E[1].y}function d(b){var E=b[0]/b[1];return function(C){return[E*(C*=.1)*Math.cos(C),C*Math.sin(C)]}}function g(b){var E=4,C=E*b[0]/b[1],T=0,O=0;return function(L){var R=L<0?-1:1;switch(Math.sqrt(1+4*R*L)-R&3){case 0:T+=C;break;case 1:O+=E;break;case 2:T-=C;break;default:O-=E;break}return[T,O]}}function y(b){for(var E=[],C=-1;++C<b;)E[C]=0;return E}function x(){return document.createElement("canvas")}function A(b){return typeof b=="function"?b:function(){return b}}var m={archimedean:d,rectangular:g};function M(){var b=[256,256],E=o,C=f,T=e,O=r,L=r,R=n,W=a,U=d,X=[],Z=Infinity,J=Math.random,ht=x,at={};at.canvas=function(kt){return arguments.length?(ht=A(kt),at):ht},at.start=function(){var kt=t.__read(b,2),Nt=kt[0],nt=kt[1],q=Q(ht()),G=at.board?at.board:y((b[0]>>5)*b[1]),N=X.length,it=[],H=X.map(function($,et){return $.text=E.call(this,$,et),$.font=C.call(this,$,et),$.style=O.call(this,$,et),$.weight=L.call(this,$,et),$.rotate=R.call(this,$,et),$.size=~~T.call(this,$,et),$.padding=W.call(this,$,et),$}).sort(function($,et){return et.size-$.size}),ct=-1,ft=at.board?[{x:0,y:0},{x:Nt,y:nt}]:null;K();function K(){for(var $=Date.now();Date.now()-$<Z&&++ct<N;){var et=H[ct];et.x=Nt*(J()+.5)>>1,et.y=nt*(J()+.5)>>1,u(q,et,H,ct),et.hasText&&xt(G,et,ft)&&(it.push(et),ft?at.hasImage||h(ft,et):ft=[{x:et.x+et.x0,y:et.y+et.y0},{x:et.x+et.x1,y:et.y+et.y1}],et.x-=b[0]>>1,et.y-=b[1]>>1)}at._tags=it,at._bounds=ft}return at};function Q(kt){kt.width=kt.height=1;var Nt=Math.sqrt(kt.getContext("2d").getImageData(0,0,1,1).data.length>>2);kt.width=(s<<5)/Nt,kt.height=v/Nt;var nt=kt.getContext("2d");return nt.fillStyle=nt.strokeStyle="red",nt.textAlign="center",{context:nt,ratio:Nt}}function xt(kt,Nt,nt){for(var q=Nt.x,G=Nt.y,N=Math.sqrt(b[0]*b[0]+b[1]*b[1]),it=U(b),H=J()<.5?1:-1,ct,ft=-H,K,$;(ct=it(ft+=H))&&(K=~~ct[0],$=~~ct[1],!(Math.min(Math.abs(K),Math.abs($))>=N));)if(Nt.x=q+K,Nt.y=G+$,!(Nt.x+Nt.x0<0||Nt.y+Nt.y0<0||Nt.x+Nt.x1>b[0]||Nt.y+Nt.y1>b[1])&&(!nt||!l(Nt,kt,b[0]))&&(!nt||p(Nt,nt))){for(var et=Nt.sprite,j=Nt.width>>5,w=b[0]>>5,D=Nt.x-(j<<4),V=D&127,tt=32-V,lt=Nt.y1-Nt.y0,St=void 0,ot=(Nt.y+Nt.y0)*w+(D>>5),Mt=0;Mt<lt;Mt++){St=0;for(var Ot=0;Ot<=j;Ot++)kt[ot+Ot]|=St<<tt|(Ot<j?(St=et[Mt*j+Ot])>>>V:0);ot+=w}return delete Nt.sprite,!0}return!1}return at.createMask=function(kt){var Nt=document.createElement("canvas"),nt=t.__read(b,2),q=nt[0],G=nt[1];if(!(!q||!G)){var N=q>>5,it=y((q>>5)*G);Nt.width=q,Nt.height=G;var H=Nt.getContext("2d");H.drawImage(kt,0,0,kt.width,kt.height,0,0,q,G);for(var ct=H.getImageData(0,0,q,G).data,ft=0;ft<G;ft++)for(var K=0;K<q;K++){var $=N*ft+(K>>5),et=ft*q+K<<2,j=ct[et]>=250&&ct[et+1]>=250&&ct[et+2]>=250,w=j?1<<31-K%32:0;it[$]|=w}at.board=it,at.hasImage=!0}},at.timeInterval=function(kt){return arguments.length?(Z=kt==null?Infinity:kt,at):Z},at.words=function(kt){return arguments.length?(X=kt,at):X},at.size=function(kt){return arguments.length?(b=[+kt[0],+kt[1]],at):b},at.font=function(kt){return arguments.length?(C=A(kt),at):C},at.fontStyle=function(kt){return arguments.length?(O=A(kt),at):O},at.fontWeight=function(kt){return arguments.length?(L=A(kt),at):L},at.rotate=function(kt){return arguments.length?(R=A(kt),at):R},at.text=function(kt){return arguments.length?(E=A(kt),at):E},at.spiral=function(kt){return arguments.length?(U=m[kt]||kt,at):U},at.fontSize=function(kt){return arguments.length?(T=A(kt),at):T},at.padding=function(kt){return arguments.length?(W=A(kt),at):W},at.random=function(kt){return arguments.length?(J=kt,at):J},at}S.default=M},"./src/view.ts":function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.View=void 0;var t=i("./node_modules/_tslib@2.1.0@tslib/tslib.js"),c=t.__importDefault(i("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),s=i("./node_modules/_@antv_util@2.0.10@@antv/util/lib/index.js");function v(f){var r={};return s.forIn(f,function(e,n){s.isObject(e)&&e.isView?r[n]=e:s.isArray(e)?r[n]=e.concat([]):s.isPlainObject(e)?r[n]=s.clone(e):r[n]=e}),r}var o=function(f){t.__extends(r,f);function r(e,n){var a=f.call(this)||this;if(a.isView=!0,a.isDataView=!0,a.watchingStates=null,a.dataType="table",a.transforms=[],a.origin=[],a.rows=[],e&&e.isDataSet?a.dataSet=e:(a.dataSet=null,n=e),a.loose=!a.dataSet,n&&(a.watchingStates=n.watchingStates),!a.loose){var u=a.watchingStates;e.on("statechange",function(l){s.isArray(u)?u.indexOf(l)>-1&&a._reExecute():a._reExecute()})}return a}return r.prototype._parseStateExpression=function(e){var n=this.dataSet;if(n!==null){var a=/^\$state\.(\w+)/.exec(e);return a?n.state[a[1]]:e}},r.prototype._preparseOptions=function(e){var n=this,a=v(e);return this.loose||s.forIn(a,function(u,l){s.isString(u)&&/^\$state\./.test(u)&&(a[l]=n._parseStateExpression(u))}),a},r.prototype._prepareSource=function(e,n){if(this._source={source:e,options:n},n){var a=this._preparseOptions(n);this.origin=r.DataSet.getConnector(a.type)(e,a,this)}else if(e instanceof r||s.isString(e))this.origin=r.DataSet.getConnector("default")(e,this.dataSet);else if(s.isArray(e))this.origin=e;else if(s.isObject(e)&&e.type){var a=this._preparseOptions(e);this.origin=r.DataSet.getConnector(a.type)(a,this)}else throw new TypeError("Invalid source");return this.rows=s.deepMix([],this.origin),this},r.prototype.source=function(e,n){return this._prepareSource(e,n)._reExecuteTransforms(),this.trigger("change",[]),this},r.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},r.prototype._executeTransform=function(e){e=this._preparseOptions(e);var n=r.DataSet.getTransform(e.type);n(this,e)},r.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(n){e._executeTransform(n)})},r.prototype.addRow=function(e){this.rows.push(e)},r.prototype.removeRow=function(e){this.rows.splice(e,1)},r.prototype.updateRow=function(e,n){s.assign(this.rows[e],n)},r.prototype.findRows=function(e){return this.rows.filter(function(n){return s.isMatch(n,e)})},r.prototype.findRow=function(e){return s.find(this.rows,e)},r.prototype.getColumnNames=function(){var e=this.rows[0];return e?s.keys(e):[]},r.prototype.getColumnName=function(e){return this.getColumnNames()[e]},r.prototype.getColumnIndex=function(e){var n=this.getColumnNames();return n.indexOf(e)},r.prototype.getColumn=function(e){return this.rows.map(function(n){return n[e]})},r.prototype.getColumnData=function(e){return this.getColumn(e)},r.prototype.getSubset=function(e,n,a){for(var u=[],l=e;l<=n;l++)u.push(s.pick(this.rows[l],a));return u},r.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},r.prototype._reExecute=function(){var e=this._source,n=e.source,a=e.options;this._prepareSource(n,a),this._reExecuteTransforms(),this.trigger("change",[])},r}(c.default);S.View=o}})})},4922:function(mr){(function(S,i){mr.exports=i()})(this,function(){return function(P){var S={};function i(t){if(S[t])return S[t].exports;var c=S[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=S,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=0)}([function(P,S,i){var t=i(1);P.exports=t},function(P,S,i){function t(o,f){if(!(o instanceof f))throw new TypeError("Cannot call a class as a function")}var c=i(2),s=["X","Y","XY","POLYGON"],v=function(){function o(f){t(this,o),this.startPoint=null,this.brushing=!1,this.dragging=!1,this.brushShape=null,this.container=null,this.polygonPath=null,this.style={fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},this.type="XY",this.dragable=!1,this.dragoffX=0,this.dragoffY=0,this.inPlot=!0,this.xField=null,this.yField=null,this.filter=!f.dragable,this.onBrushstart=null,this.onBrushmove=null,this.onBrushend=null,this.onDragstart=null,this.onDragmove=null,this.onDragend=null,this._init(f)}return o.prototype._init=function(r){c.mix(this,r),this.type=this.type.toUpperCase(),s.indexOf(this.type)===-1&&(this.type="XY");var e=this.canvas;if(e){var n=void 0;e.get("children").map(function(p){return p.get("type")==="plotBack"?(n=p.get("plotRange"),!1):p}),this.plot={start:n.bl,end:n.tr},this.bindCanvasEvent()}if(this.chart){var a=this.chart,u=a.get("coord");this.plot={start:u.start,end:u.end};var l=a._getScales("x"),h=a._getScales("y");this.xScale=this.xField?l[this.xField]:a.getXScale(),this.yScale=this.yField?h[this.yField]:a.getYScales()[0]}},o.prototype.clearEvents=function(){this.onMouseDownListener&&this.onMouseDownListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseupListener&&this.onMouseupListener.remove()},o.prototype.bindCanvasEvent=function(){var r=this.canvas,e=r.get("canvasDOM");this.clearEvents(),this.onMouseDownListener=c.addEventListener(e,"mousedown",c.wrapBehavior(this,"_onCanvasMouseDown")),this.onMouseMoveListener=c.addEventListener(e,"mousemove",c.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=c.addEventListener(e,"mouseup",c.wrapBehavior(this,"_onCanvasMouseUp"))},o.prototype._onCanvasMouseDown=function(r){var e=this,n=e.canvas,a=e.type,u=e.brushShape;if(!!a){var l={x:r.offsetX,y:r.offsetY},h=e.plot&&e.inPlot,p=n.get("canvasDOM"),d=n.get("pixelRatio");if(e.selection&&(e.selection=null),e.dragable&&u&&!u.get("destroyed")){if(u.isHit(l.x*d,l.y*d)){if(p.style.cursor="move",e.selection=u,e.dragging=!0,a==="X")e.dragoffX=l.x-u.attr("x"),e.dragoffY=0;else if(a==="Y")e.dragoffX=0,e.dragoffY=l.y-u.attr("y");else if(a==="XY")e.dragoffX=l.x-u.attr("x"),e.dragoffY=l.y-u.attr("y");else if(a==="POLYGON"){var g=u.getBBox();e.dragoffX=l.x-g.minX,e.dragoffY=l.y-g.minY}h&&e.selection.attr("clip",n.addShape("rect",{attrs:{x:this.plot.start.x,y:this.plot.end.y,width:this.plot.end.x-this.plot.start.x,height:this.plot.start.y-this.plot.end.y,fill:"#fff",fillOpacity:0}})),e.onDragstart&&e.onDragstart(r)}e.prePoint=l}if(!e.dragging){e.onBrushstart&&e.onBrushstart(l);var y=e.container;if(h){var x=e.plot,A=x.start,m=x.end;if(l.x<A.x||l.x>m.x||l.y<m.y||l.y>A.y)return}p.style.cursor="crosshair",e.startPoint=l,e.brushShape=null,e.brushing=!0,y?y.clear():(y=n.addGroup({zIndex:5}),y.initTransform()),e.container=y,a==="POLYGON"&&(e.polygonPath="M "+l.x+" "+l.y)}}},o.prototype._onCanvasMouseMove=function(r){var e=this,n=e.brushing,a=e.dragging,u=e.type,l=e.plot,h=e.startPoint,p=e.xScale,d=e.yScale,g=e.canvas;if(!(!n&&!a)){var y={x:r.offsetX,y:r.offsetY},x=g.get("canvasDOM");if(n){x.style.cursor="crosshair";var A=l.start,m=l.end,M=e.polygonPath,b=e.brushShape,E=e.container;e.plot&&e.inPlot&&(y=e._limitCoordScope(y));var C=void 0,T=void 0,O=void 0,L=void 0;u==="Y"?(C=A.x,T=y.y>=h.y?h.y:y.y,O=Math.abs(A.x-m.x),L=Math.abs(h.y-y.y)):u==="X"?(C=y.x>=h.x?h.x:y.x,T=m.y,O=Math.abs(h.x-y.x),L=Math.abs(m.y-A.y)):u==="XY"?(y.x>=h.x?(C=h.x,T=y.y>=h.y?h.y:y.y):(C=y.x,T=y.y>=h.y?h.y:y.y),O=Math.abs(h.x-y.x),L=Math.abs(h.y-y.y)):u==="POLYGON"&&(M+="L "+y.x+" "+y.y,e.polygonPath=M,b?!b.get("destroyed")&&b.attr(c.mix({},b.__attrs,{path:M})):b=E.addShape("path",{attrs:c.mix(e.style,{path:M})})),u!=="POLYGON"&&(b?!b.get("destroyed")&&b.attr(c.mix({},b.__attrs,{x:C,y:T,width:O,height:L})):b=E.addShape("rect",{attrs:c.mix(e.style,{x:C,y:T,width:O,height:L})})),e.brushShape=b}else if(a){x.style.cursor="move";var R=e.selection;if(R&&!R.get("destroyed"))if(u==="POLYGON"){var W=e.prePoint;e.selection.translate(y.x-W.x,y.y-W.y)}else e.dragoffX&&R.attr("x",y.x-e.dragoffX),e.dragoffY&&R.attr("y",y.y-e.dragoffY)}e.prePoint=y,g.draw();var U=e._getSelected(),X=U.data,Z=U.shapes,J=U.xValues,ht=U.yValues,at={data:X,shapes:Z,x:y.x,y:y.y};p&&(at[p.field]=J),d&&(at[d.field]=ht),e.onDragmove&&e.onDragmove(at),e.onBrushmove&&e.onBrushmove(at)}},o.prototype._onCanvasMouseUp=function(r){var e=this,n=e.data,a=e.shapes,u=e.xValues,l=e.yValues,h=e.canvas,p=e.type,d=e.startPoint,g=e.chart,y=e.container,x=e.xScale,A=e.yScale,m=r.offsetX,M=r.offsetY,b=h.get("canvasDOM");if(b.style.cursor="default",Math.abs(d.x-m)<=1&&Math.abs(d.y-M)<=1){e.brushing=!1,e.dragging=!1;return}var E={data:n,shapes:a,x:m,y:M};if(x&&(E[x.field]=u),A&&(E[A.field]=l),e.dragging)e.dragging=!1,e.onDragend&&e.onDragend(E);else if(e.brushing){e.brushing=!1;var C=e.brushShape,T=e.polygonPath;p==="POLYGON"&&(T+="z",C&&!C.get("destroyed")&&C.attr(c.mix({},C.__attrs,{path:T})),e.polygonPath=T,h.draw()),e.onBrushend?e.onBrushend(E):g&&e.filter&&(y.clear(),p==="X"?x&&g.filter(x.field,function(O){return u.indexOf(O)>-1}):p==="Y"?A&&g.filter(A.field,function(O){return l.indexOf(O)>-1}):(x&&g.filter(x.field,function(O){return u.indexOf(O)>-1}),A&&g.filter(A.field,function(O){return l.indexOf(O)>-1})),g.repaint())}},o.prototype.setType=function(r){!r||(this.type=r.toUpperCase())},o.prototype.destroy=function(){this.clearEvents()},o.prototype._limitCoordScope=function(r){var e=this.plot,n=e.start,a=e.end;return r.x<n.x&&(r.x=n.x),r.x>a.x&&(r.x=a.x),r.y<a.y&&(r.y=a.y),r.y>n.y&&(r.y=n.y),r},o.prototype._getSelected=function(){var r=this.chart,e=this.xScale,n=this.yScale,a=this.brushShape,u=this.canvas,l=u.get("pixelRatio"),h=[],p=[],d=[],g=[];if(r){var y=r.get("geoms");y.map(function(x){var A=x.getShapes();return A.map(function(m){var M=m.get("origin");return Array.isArray(M)||(M=[M]),M.map(function(b){if(a.isHit(b.x*l,b.y*l)){h.push(m);var E=b._origin;g.push(E),e&&p.push(E[e.field]),n&&d.push(E[n.field])}return b}),m}),x})}return this.shapes=h,this.xValues=p,this.yValues=d,this.data=g,{data:g,xValues:p,yValues:d,shapes:h}},o}();P.exports=v},function(P,S){function i(c,s){for(var v in s)s.hasOwnProperty(v)&&v!=="constructor"&&s[v]!==void 0&&(c[v]=s[v])}var t={mix:function(s,v,o,f){return v&&i(s,v),o&&i(s,o),f&&i(s,f),s},addEventListener:function(s,v,o){if(s.addEventListener)return s.addEventListener(v,o,!1),{remove:function(){s.removeEventListener(v,o,!1)}};if(s.attachEvent)return s.attachEvent("on"+v,o),{remove:function(){s.detachEvent("on"+v,o)}}},wrapBehavior:function(s,v){if(s["_wrap_"+v])return s["_wrap_"+v];var o=function(r){s[v](r)};return s["_wrap_"+v]=o,o},getWrapBehavior:function(s,v){return s["_wrap_"+v]}};P.exports=t}])})},10817:function(mr){(function(S,i){mr.exports=i()})(this,function(){return function(P){var S={};function i(t){if(S[t])return S[t].exports;var c=S[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=S,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=0)}([function(P,S,i){var t=i(1);window&&!window.G2&&console.err("Please load the G2 script first!"),P.exports=t},function(P,S,i){var t=i(2),c=window&&window.G2,s=c.Chart,v=c.Util,o=c.G,f=c.Global,r=o.Canvas,e=v.DomUtil,n=function(l){return typeof l=="number"},a=function(){var u=l.prototype;u._initProps=function(){this.height=26,this.width="auto",this.padding=f.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}};function l(h){this._initProps(),v.deepMix(this,h);var p=this.container;if(!p)throw new Error("Please specify the container for the Slider!");v.isString(p)?this.domContainer=document.getElementById(p):this.domContainer=p,this.handleStyle=v.mix({width:this.height,height:this.height},this.handleStyle),this.width==="auto"&&window.addEventListener("resize",v.wrapBehavior(this,"_initForceFitEvent"))}return u._initForceFitEvent=function(){var p=setTimeout(v.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=p},u.forceFit=function(){if(!(!this||this.destroyed)){var p=e.getWidth(this.domContainer),d=this.height;if(p!==this.domWidth){var g=this.canvas;g.changeSize(p,d),this.bgChart&&this.bgChart.changeWidth(p),g.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),g.draw()}}},u._initWidth=function(){var p;this.width==="auto"?p=e.getWidth(this.domContainer):p=this.width,this.domWidth=p;var d=v.toAllPadding(this.padding);this.layout==="horizontal"?(this.plotWidth=p-d[1]-d[3],this.plotPadding=d[3],this.plotHeight=this.height):this.layout==="vertical"&&(this.plotWidth=this.width,this.plotHeight=this.height-d[0]-d[2],this.plotPadding=d[0])},u.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},u.changeData=function(p){this.data=p,this.repaint()},u.destroy=function(){clearTimeout(this.resizeTimer);var p=this.rangeElement;p.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var d=this.domContainer;d.hasChildNodes();)d.removeChild(d.firstChild);window.removeEventListener("resize",v.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},u.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},u.repaint=function(){this.clear(),this.render()},u._initCanvas=function(){var p=this.domWidth,d=this.height,g=new r({width:p,height:d,containerDOM:this.domContainer,capture:!1}),y=g.get("el");y.style.position="absolute",y.style.top=0,y.style.left=0,y.style.zIndex=3,this.canvas=g},u._initBackground=function(){var p,d=this.data,g=this.xAxis,y=this.yAxis,x=v.deepMix((p={},p[""+g]={range:[0,1]},p),this.scales);if(!d)throw new Error("Please specify the data!");if(!g)throw new Error("Please specify the xAxis!");if(!y)throw new Error("Please specify the yAxis!");var A=this.backgroundChart,m=A.type,M=A.color;v.isArray(m)||(m=[m]);var b=v.toAllPadding(this.padding),E=new s({container:this.container,width:this.domWidth,height:this.height,padding:[0,b[1],0,b[3]],animate:!1});E.source(d),E.scale(x),E.axis(!1),E.tooltip(!1),E.legend(!1),v.each(m,function(C){E[C]().position(g+"*"+y).color(M).opacity(1)}),E.render(),this.bgChart=E,this.scale=this.layout==="horizontal"?E.getXScale():E.getYScales()[0],this.layout==="vertical"&&E.destroy()},u._initRange=function(){var p=this.startRadio,d=this.endRadio,g=this.start,y=this.end,x=this.scale,A=0,m=1;n(p)?A=p:g&&(A=x.scale(x.translate(g))),n(d)?m=d:y&&(m=x.scale(x.translate(y)));var M=this.minSpan,b=this.maxSpan,E=0;if(x.type==="time"||x.type==="timeCat"){var C=x.values,T=C[0],O=C[C.length-1];E=O-T}else x.isLinear&&(E=x.max-x.min);E&&M&&(this.minRange=M/E*100),E&&b&&(this.maxRange=b/E*100);var L=[A*100,m*100];return this.range=L,L},u._getHandleValue=function(p){var d,g=this.range,y=g[0]/100,x=g[1]/100,A=this.scale;return p==="min"?d=this.start?this.start:A.invert(y):d=this.end?this.end:A.invert(x),d},u._initSlider=function(){var p=this.canvas,d=this._initRange(),g=this.scale,y=p.addGroup(t,{middleAttr:this.fillerStyle,range:d,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:g.getText(this._getHandleValue("min")),maxText:g.getText(this._getHandleValue("max"))});this.layout==="horizontal"?y.translate(this.plotPadding,0):this.layout==="vertical"&&y.translate(0,this.plotPadding),this.rangeElement=y},u._bindEvent=function(){var p=this,d=p.rangeElement;d.on("sliderchange",function(g){var y=g.range,x=y[0]/100,A=y[1]/100;p._updateElement(x,A)})},u._updateElement=function(p,d){var g=this.scale,y=this.rangeElement,x=y.get("minTextElement"),A=y.get("maxTextElement"),m=g.invert(p),M=g.invert(d),b=g.getText(m),E=g.getText(M);x.attr("text",b),A.attr("text",E),this.start=m,this.end=M,this.onChange&&this.onChange({startText:b,endText:E,startValue:m,endValue:M,startRadio:p,endRadio:d})},l}();P.exports=a},function(P,S){function i(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var t=window&&window.G2,c=t.Util,s=t.G,v=s.Group,o=c.DomUtil,f=5,r=function(e){i(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},a._initHandle=function(l){var h=this.addGroup(),p=this.get("layout"),d=this.get("handleStyle"),g=d.img,y=d.width,x=d.height,A,m,M;if(p==="horizontal"){var b=d.width;M="ew-resize",m=h.addShape("Image",{attrs:{x:-b/2,y:0,width:b,height:x,img:g,cursor:M}}),A=h.addShape("Text",{attrs:c.mix({x:l==="min"?-(b/2+f):b/2+f,y:x/2,textAlign:l==="min"?"end":"start",textBaseline:"middle",text:l==="min"?this.get("minText"):this.get("maxText"),cursor:M},this.get("textStyle"))})}else M="ns-resize",m=h.addShape("Image",{attrs:{x:0,y:-x/2,width:y,height:x,img:g,cursor:M}}),A=h.addShape("Text",{attrs:c.mix({x:y/2,y:l==="min"?x/2+f:-(x/2+f),textAlign:"center",textBaseline:"middle",text:l==="min"?this.get("minText"):this.get("maxText"),cursor:M},this.get("textStyle"))});return this.set(l+"TextElement",A),this.set(l+"IconElement",m),h},a._initSliderBackground=function(){var l=this.addGroup();return l.initTransform(),l.translate(0,0),l.addShape("Rect",{attrs:c.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),l},a._beforeRenderUI=function(){var l=this._initSliderBackground(),h=this._initHandle("min"),p=this._initHandle("max"),d=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",d),this.set("minHandleElement",h),this.set("maxHandleElement",p),this.set("backgroundElement",l),l.set("zIndex",0),d.set("zIndex",1),h.set("zIndex",2),p.set("zIndex",2),d.attr("cursor","move"),this.sort()},a._renderUI=function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},a._transform=function(l){var h=this.get("range"),p=h[0]/100,d=h[1]/100,g=this.get("width"),y=this.get("height"),x=this.get("minHandleElement"),A=this.get("maxHandleElement"),m=this.get("middleHandleElement");x.resetMatrix?(x.resetMatrix(),A.resetMatrix()):(x.initTransform(),A.initTransform()),l==="horizontal"?(m.attr({x:g*p,y:0,width:(d-p)*g,height:y}),x.translate(p*g,0),A.translate(d*g,0)):(m.attr({x:0,y:y*(1-d),width:g,height:(d-p)*y}),x.translate(0,(1-p)*y),A.translate(0,(1-d)*y))},a._renderHorizontal=function(){this._transform("horizontal")},a._renderVertical=function(){this._transform("vertical")},a._bindUI=function(){this.on("mousedown",c.wrapBehavior(this,"_onMouseDown"))},a._isElement=function(l,h){var p=this.get(h);if(l===p)return!0;if(p.isGroup){var d=p.get("children");return d.indexOf(l)>-1}return!1},a._getRange=function(l,h){var p=l+h;return p=p>100?100:p,p=p<0?0:p,p},a._limitRange=function(l,h,p){p[0]=this._getRange(l,p[0]),p[1]=p[0]+h,p[1]>100&&(p[1]=100,p[0]=p[1]-h)},a._updateStatus=function(l,h){var p=l==="x"?this.get("width"):this.get("height");l=c.upperFirst(l);var d=this.get("range"),g=this.get("page"+l),y=this.get("currentTarget"),x=this.get("rangeStash"),A=this.get("layout"),m=A==="vertical"?-1:1,M=h["page"+l],b=M-g,E=b/p*100*m,C,T=this.get("minRange"),O=this.get("maxRange");d[1]<=d[0]?(this._isElement(y,"minHandleElement")||this._isElement(y,"maxHandleElement"))&&(d[0]=this._getRange(E,d[0]),d[1]=this._getRange(E,d[0])):(this._isElement(y,"minHandleElement")&&(d[0]=this._getRange(E,d[0]),T&&d[1]-d[0]<=T&&this._limitRange(E,T,d),O&&d[1]-d[0]>=O&&this._limitRange(E,O,d)),this._isElement(y,"maxHandleElement")&&(d[1]=this._getRange(E,d[1]),T&&d[1]-d[0]<=T&&this._limitRange(E,T,d),O&&d[1]-d[0]>=O&&this._limitRange(E,O,d))),this._isElement(y,"middleHandleElement")&&(C=x[1]-x[0],this._limitRange(E,C,d)),this.emit("sliderchange",{range:d}),this.set("page"+l,M),this._renderUI(),this.get("canvas").draw()},a._onMouseDown=function(l){var h=l.currentTarget,p=l.event,d=this.get("range");p.stopPropagation(),p.preventDefault(),this.set("pageX",p.pageX),this.set("pageY",p.pageY),this.set("currentTarget",h),this.set("rangeStash",[d[0],d[1]]),this._bindCanvasEvents()},a._bindCanvasEvents=function(){var l=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(l,"mousemove",c.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(l,"mouseup",c.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(l,"mouseleave",c.wrapBehavior(this,"_onCanvasMouseUp"))},a._onCanvasMouseMove=function(l){var h=this.get("layout");h==="horizontal"?this._updateStatus("x",l):this._updateStatus("y",l)},a._onCanvasMouseUp=function(){this._removeDocumentEvents()},a._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},n}(v);P.exports=r}])})},25925:function(mr){(function(S,i){mr.exports=i()})(typeof self!="undefined"?self:this,function(){return function(P){var S={};function i(t){if(S[t])return S[t].exports;var c=S[t]={i:t,l:!1,exports:{}};return P[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=P,i.c=S,i.d=function(t,c,s){i.o(t,c)||Object.defineProperty(t,c,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(c,"a",c),c},i.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},i.p="",i(i.s=459)}([function(P,S,i){var t=i(143),c=i(18),s=t.mix({},t,{assign:t.mix,merge:t.deepMix,cloneDeep:t.clone,isFinite,isNaN,snapEqual:t.isNumberEqual,remove:t.pull,inArray:t.contains,toAllPadding:function(o){var f=0,r=0,e=0,n=0;return s.isNumber(o)||s.isString(o)?f=r=e=n=o:s.isArray(o)?(f=o[0],e=s.isNil(o[1])?o[0]:o[1],n=s.isNil(o[2])?o[0]:o[2],r=s.isNil(o[3])?e:o[3]):s.isObject(o)&&(f=o.top||0,e=o.right||0,n=o.bottom||0,r=o.left||0),[f,e,n,r]},getClipByRange:function(o){var f=o.tl,r=o.br,e=new c.Rect({attrs:{x:f.x,y:f.y,width:r.x-f.x,height:r.y-f.y}});return e}});s.Array={groupToMap:t.groupToMap,group:t.group,merge:t.merge,values:t.valuesOfKey,getRange:t.getRange,firstValue:t.firstValue,remove:t.pull},P.exports=s},function(P,S,i){var t=i(59),c={};t.merge(c,t,{isColorProp:function(v){return["fill","stroke","fillStyle","strokeStyle"].includes(v)},isGradientColor:function(v){return/^[r,R,L,l]{1}[\s]*\(/.test(v)},mixin:function(v,o){var f=v.CFG?"CFG":"ATTRS";if(v&&o){v._mixins=o,v[f]=v[f]||{};var r={};c.each(o,function(e){c.augment(v,e);var n=e[f];n&&c.merge(r,n)}),v[f]=c.merge(r,v[f])}}}),P.exports=c},function(P,S,i){var t=i(169),c={};t.merge(c,t,{mixin:function(v,o){var f=v.CFG?"CFG":"ATTRS";if(v&&o){v._mixins=o,v[f]=v[f]||{};var r={};c.each(o,function(e){c.augment(v,e);var n=e[f];n&&c.merge(r,n)}),v[f]=c.merge(r,v[f])}}}),P.exports=c},function(P,S,i){var t=i(22),c=i(5),s=function(o,f){if(!!o){var r=void 0;if(c(o))for(var e=0,n=o.length;e<n&&(r=f(o[e],e),r!==!1);e++);else if(t(o)){for(var a in o)if(o.hasOwnProperty(a)&&(r=f(o[a],a),r===!1))break}}};P.exports=s},function(P,S,i){var t=i(51),c=i(143),s=c.mix({assign:c.mix,isFinite,isNaN,Group:t.Group,Event:t.Event},c);P.exports=s},function(P,S,i){var t=i(14),c=Array.isArray?Array.isArray:function(s){return t(s,"Array")};P.exports=c},function(P,S){var i=function(c){return c==null};P.exports=i},function(P,S,i){var t=i(1),c=i(227),s=i(116),v=i(79),o=["zIndex","capture","visible"],f=function n(a){n.superclass.constructor.call(this,a)};f.ATTRS={},t.extend(f,s);var r={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function e(n){for(var a=[],u=0;u<n.length;u++)t.isArray(n[u])?a.push([].concat(n[u])):a.push(n[u]);return a}t.augment(f,c,{isShape:!0,drawInner:function(a){var u=this,l=u._attrs;u.createPath(a);var h=a.globalAlpha;if(u.hasFill()){var p=l.fillOpacity;!t.isNil(p)&&p!==1?(a.globalAlpha=p,a.fill(),a.globalAlpha=h):a.fill()}if(u.hasStroke()){var d=u._attrs.lineWidth;if(d>0){var g=l.strokeOpacity;!t.isNil(g)&&g!==1&&(a.globalAlpha=g),a.stroke()}}u.afterPath(a)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(a,u){var l=this,h=[a,u,1];if(l.invert(h),l.isHitBox()){var p=l.getBBox();if(p&&!v.box(p.minX,p.maxX,p.minY,p.maxY,h[0],h[1]))return!1}var d=l._attrs.clip;if(d){if(d.invert(h,l.get("canvas")),d.isPointInPath(h[0],h[1]))return l.isPointInPath(h[0],h[1])}else return l.isPointInPath(h[0],h[1]);return!1},calculateBox:function(){return null},getHitLineWidth:function(){var a=this._attrs,u=a.lineAppendWidth||0,l=a.lineWidth||0;return l+u},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var a=this._cfg.box;return a||(a=this.calculateBox(),a&&(a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY),this._cfg.box=a),a},clone:function(){var a=this,u=null,l=a._attrs,h={};return t.each(l,function(p,d){r[d]&&t.isArray(l[d])?h[d]=e(l[d]):h[d]=l[d]}),u=new a.constructor({attrs:h}),t.each(o,function(p){u._cfg[p]=a._cfg[p]}),u}}),P.exports=f},function(P,S,i){var t=i(0),c=i(167),s={version:"3.5.19",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:1/2,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(o,f){c[o]=f},setTheme:function(o){var f={};t.isObject(o)?f=o:t.indexOf(Object.keys(c),o)!==-1?f=c[o]:f=c.default,t.deepMix(s,f)}};s.setTheme("default"),P.exports=s},function(P,S,i){var t=i(2),c=i(350),s=i(172),v=i(93),o=function e(n){e.superclass.constructor.call(this,n)};o.ATTRS={},t.extend(o,s);var f={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};function r(e){for(var n=[],a=0;a<e.length;a++)t.isArray(e[a])?n.push([].concat(e[a])):n.push(e[a]);return n}t.augment(o,c,{isShape:!0,drawInner:function(n){var a=this,u=a._attrs;a.createPath(n);var l=n.globalAlpha;if(a.hasFill()){var h=u.fillOpacity;!t.isNil(h)&&h!==1?(n.globalAlpha=h,n.fill(),n.globalAlpha=l):n.fill()}if(a.hasStroke()){var p=a._attrs.lineWidth;if(p>0){var d=u.strokeOpacity;!t.isNil(d)&&d!==1&&(n.globalAlpha=d),n.stroke()}}a.afterPath(n)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(n,a){var u=this,l=[n,a,1];if(u.invert(l),u.isHitBox()){var h=u.getBBox();if(h&&!v.box(h.minX,h.maxX,h.minY,h.maxY,l[0],l[1]))return!1}var p=u._attrs.clip;if(p){if(p.invert(l,u.get("canvas")),p.isPointInPath(l[0],l[1]))return u.isPointInPath(l[0],l[1])}else return u.isPointInPath(l[0],l[1]);return!1},calculateBox:function(){return null},getHitLineWidth:function(){var n=this._attrs,a=n.lineAppendWidth||0,u=n.lineWidth||0;return u+a},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var n=this._cfg.box;return n||(n=this.calculateBox(),n&&(n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY),this._cfg.box=n),n},clone:function(){var n=this,a=null,u=n._attrs,l={};return t.each(u,function(h,p){f[p]&&t.isArray(u[p])?l[p]=r(u[p]):l[p]=u[p]}),a=new n.constructor({attrs:l}),a._cfg.zIndex=n._cfg.zIndex,a}}),P.exports=o},function(P,S){function i(c,s){for(var v in s)s.hasOwnProperty(v)&&v!=="constructor"&&s[v]!==void 0&&(c[v]=s[v])}var t=function(s,v,o,f){return v&&i(s,v),o&&i(s,o),f&&i(s,f),s};P.exports=t},function(P,S,i){var t=i(14),c=function(v){return t(v,"Number")};P.exports=c},function(P,S,i){var t=i(14),c=function(v){return t(v,"String")};P.exports=c},function(P,S,i){var t=i(14),c=function(v){return t(v,"Function")};P.exports=c},function(P,S){var i={}.toString,t=function(s,v){return i.call(s)==="[object "+v+"]"};P.exports=t},function(P,S){var i=function(c){return c!==null&&typeof c!="function"&&isFinite(c.length)};P.exports=i},function(P,S){P.exports={FONT_FAMILY:'BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(4),v=i(190),o=i(36),f=["min","max","median","start","end"],r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return s.mix({},l,{xScales:null,yScales:null,el:null})},a.render=function(){},a.clear=function(){var l=this,h=l.get("el");h&&h.remove(),this.set("el",null)},a.destroy=function(){this.clear(),e.prototype.destroy.call(this)},a.changeVisible=function(l){var h=this;h.set("visible",l);var p=h.get("el");!p||(p.set?p.set("visible",l):p.style.display=l?"":"none")},a.parsePoint=function(l,h){var p=this,d=p.get("xScales"),g=p.get("yScales");s.isFunction(h)&&(h=h(d,g));var y,x;if(s.isArray(h)&&s.isString(h[0])&&h[0].indexOf("%")!==-1)return this._parsePercentPoint(l,h);if(s.isArray(h))y=p._getNormalizedValue(h[0],v.getFirstScale(d)),x=p._getNormalizedValue(h[1],v.getFirstScale(g));else for(var A in h){var m=h[A];d[A]&&(y=p._getNormalizedValue(m,d[A])),g[A]&&(x=p._getNormalizedValue(m,g[A],"y"))}return!s.isNil(y)&&!s.isNil(x)&&!isNaN(y)&&!isNaN(x)?l.convert({x:y,y:x}):null},a._getNormalizedValue=function(l,h){var p;if(s.indexOf(f,l)!==-1){var d;l==="start"?p=0:l==="end"?p=1:l==="median"?(d=h.isCategory?(h.values.length-1)/2:(h.min+h.max)/2,p=h.scale(d)):(h.isCategory?d=l==="min"?0:h.values.length-1:d=h[l],p=h.scale(d))}else p=h.scale(l);return p},a._parsePercentPoint=function(l,h){var p=parseFloat(h[0])/100,d=parseFloat(h[1])/100,g=l.start,y=l.end,x={x:Math.min(g.x,y.x),y:Math.min(g.y,y.y)},A=l.width*p+x.x,m=l.height*d+x.y;return{x:A,y:m}},n}(o);P.exports=r},function(P,S,i){var t=i(112);P.exports=t},function(P,S,i){"use strict";var t=i(85);i.d(S,"a",function(){return t.e}),i.d(S,"f",function(){return t.g}),i.d(S,"d",function(){return t.f});var c=i(241);i.d(S,"e",function(){return c.a}),i.d(S,"c",function(){return c.b});var s=i(242);i.d(S,"b",function(){return s.a})},function(P,S,i){var t=i(10),c=i(3),s=i(22),v=i(6),o=function(){var f=r.prototype;f._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]};function r(e){this._initDefaultCfg(),t(this,e),this.init()}return f.init=function(){},f.getTicks=function(){var n=this,a=n.ticks,u=[];return c(a,function(l){var h;s(l)?h=l:h={text:n.getText(l),tickValue:l,value:n.scale(l)},u.push(h)}),u},f.getText=function(n,a){var u=this.formatter;return n=u?u(n,a):n,(v(n)||!n.toString)&&(n=""),n.toString()},f.rangeMin=function(){return this.range[0]},f.rangeMax=function(){var n=this.range;return n[n.length-1]},f.invert=function(n){return n},f.translate=function(n){return n},f.scale=function(n){return n},f.clone=function(){var n=this,a=n.constructor,u={};return c(n,function(l,h){u[h]=n[h]}),new a(u)},f.change=function(n){return this.ticks=null,t(this,n),this.init(),this},r}();P.exports=o},function(P,S,i){var t=i(0),c=i(25),s=t.PathUtil,v={},o={_coord:null,draw:function(e,n){return this.drawShape?this.drawShape(e,n):null},setCoord:function(e){this._coord=e},parsePath:function(e,n){var a=this._coord;return e=s.parsePathString(e),a.isPolar&&n!==!1?e=c.convertPolarPath(a,e):e=c.convertNormalPath(a,e),e},parsePoint:function(e){var n=this._coord;return n.convertPoint(e)},parsePoints:function(e){var n=this._coord,a=[];return t.each(e,function(u){a.push(n.convertPoint(u))}),a}},f={defaultShapeType:null,setCoord:function(e){this._coord=e},getShape:function(e){var n=this;t.isArray(e)&&(e=e[0]);var a=n[e]||n[n.defaultShapeType];return a._coord=n._coord,a},getShapePoints:function(e,n){var a=this.getShape(e),u=a.getPoints||a.getShapePoints||this.getDefaultPoints,l=u(n);return l},getDefaultPoints:function(){return[]},getMarkerCfg:function(e,n){var a=this.getShape(e);if(!a.getMarkerCfg){var u=this.defaultShapeType;a=this.getShape(u)}return a.getMarkerCfg(n)},getSelectedCfg:function(){return{}},drawShape:function(e,n,a){var u=this.getShape(e),l=u.draw(n,a);return l&&(l.setSilent("origin",n.origin),l._id=n.yIndex?n._id+n.yIndex:n._id,l.name=this.name),l}};v.registerFactory=function(r,e){var n=t.upperFirst(r),a=t.assign({},f,e);return v[n]=a,a.name=r,a},v.registerShape=function(r,e,n){var a=t.upperFirst(r),u=v[a],l=t.assign({},o,n);return u[e]=l,l},v.getShapeFactory=function(r){var e=this;r=r||"point";var n=t.upperFirst(r);return e[n]},P.exports=v},function(P,S){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t=function(s){var v=typeof s=="undefined"?"undefined":i(s);return s!==null&&v==="object"||v==="function"};P.exports=t},function(P,S,i){function t(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function c(A,m){A.prototype=Object.create(m.prototype),A.prototype.constructor=A,s(A,m)}function s(A,m){return s=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b},s(A,m)}var v=i(104),o=i(335),f=i(164),r=i(0),e=i(8),n=i(343),a=i(21),u=i(395),l=i(396),h=i(397),p=i(398),d=["color","shape","size"],g="_origin";function y(A){return(r.isString(A)||r.isPlainObject(A))&&(A=[A]),r.each(A,function(m,M){r.isObject(m)||(A[M]={type:m})}),A}var x=function(A){c(M,A);var m=M.prototype;m.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}};function M(b){var E;return E=A.call(this,b)||this,E.viewTheme=E.get("viewTheme"),r.assign(t(E),u,l,h),E.get("container")&&E._initContainer(),E._initOptions(),E}return m._initOptions=function(){var E=this.get("adjusts");E&&(E=y(E),this.set("adjusts",E))},m._createScale=function(E,C){var T=this.get("scales"),O=T[E];return O||(O=this.get("view").createScale(E,C),T[E]=O),O},m._setAttrOptions=function(E,C){var T=this.get("attrOptions");T[E]=C},m._createAttrOption=function(E,C,T,O){var L={};L.field=C,T?r.isFunction(T)?L.callback=T:L.values=T:E!=="color"&&(L.values=O),this._setAttrOptions(E,L)},m.position=function(E){return this._setAttrOptions("position",{field:E}),this},m.color=function(E,C){var T=this.viewTheme||e;return this._createAttrOption("color",E,C,T.colors),this},m.size=function(E,C){var T=this.viewTheme||e;return this._createAttrOption("size",E,C,T.sizes),this},m.shape=function(E,C){var T=this.viewTheme||e,O=this.get("type"),L=T.shapes[O]||[];return this._createAttrOption("shape",E,C,L),this},m.opacity=function(E,C){var T=this.viewTheme||e;return this._createAttrOption("opacity",E,C,T.opacities),this},m.style=function(E,C){var T=this.get("styleOptions");T||(T={},this.set("styleOptions",T)),r.isObject(E)&&(C=E,E=null);var O;return E&&(O=p(E)),T.fields=O,T.style=C,this},m.label=function(E,C,T){var O=this,L=O.get("labelCfg");L||(L={},O.set("labelCfg",L));var R;return E&&(R=p(E)),L.fields=R,r.isFunction(C)?(T||(T={}),L.callback=C):r.isObject(C)&&(T=C),L.globalCfg=T,this},m.tooltip=function(E,C){var T=this.get("tooltipCfg");if(T||(T={}),E===!1)this.set("tooltipCfg",!1);else{var O;E&&(O=p(E)),T.fields=O,T.cfg=C}return this.set("tooltipCfg",T),this},m.animate=function(E){return this.set("animateCfg",E),this},m.active=function(E,C){return E===!1?this.set("allowActive",!1):r.isObject(E)?(this.set("allowActive",!0),this.set("activedOptions",E)):(this.set("allowActive",!0),this.set("activedOptions",C)),this},m.adjust=function(E){return this.get("hasDefaultAdjust")||(E&&(E=y(E)),this.set("adjusts",E)),this},m.select=function(E,C){return E===!1?this.set("allowSelect",!1):r.isObject(E)?(this.set("allowSelect",!0),this.set("selectedOptions",E)):(this.set("allowSelect",!0),this.set("selectedOptions",C)),this},m.hasAdjust=function(E){var C=this,T=C.get("adjusts");if(!E)return!1;var O=!1;return r.each(T,function(L){if(L.type===E)return O=!0,!1}),O},m.hasStack=function(){var E=this.get("isStacked");return r.isNil(E)&&(E=this.hasAdjust("stack"),this.set("isStacked",E)),E},m.isInCircle=function(){var E=this.get("coord");return E&&E.isPolar},m._initContainer=function(){var E=this,C=E.get("shapeContainer");if(!C){var T=E.get("container"),O=E.get("view"),L=O&&O.get("_id");C=T.addGroup({viewId:L,visible:E.get("visible")}),E.set("shapeContainer",C)}},m.init=function(){var E=this;if(E._initContainer(),E._initAttrs(),E.get("tooltipCfg")&&E.get("tooltipCfg").fields){var C=E.get("tooltipCfg").fields;r.each(C,function(O){E._createScale(O)})}var T=E._processData();E.get("adjusts")&&E._adjust(T),E.set("dataArray",T)},m._initAttrs=function(){var E=this,C=E.get("attrs"),T=E.get("attrOptions"),O=E.get("coord"),L=E.viewTheme||e,R=!1;for(var W in T)if(T.hasOwnProperty(W)){var U=T[W],X=r.upperFirst(W),Z=p(U.field);W==="position"&&(U.coord=O,Z.length===1&&O.type==="theta"&&(Z.unshift("1"),R=!0));for(var J=[],ht=0;ht<Z.length;ht++){var at=Z[ht],Q=E._createScale(at);W==="color"&&r.isNil(U.values)&&(Q.values.length<=8?U.values=R?L.colors_pie:L.colors:Q.values.length<=16?U.values=R?L.colors_pie_16:L.colors_16:U.values=L.colors_24,r.isNil(U.values)&&(U.values=L.colors)),J.push(Q)}if(O.type==="theta"&&W==="position"&&J.length>1){var xt=J[1],kt=0,Nt=Math.max.apply(null,xt.values);isFinite(Nt)||(Nt=1),xt.change({nice:!1,min:kt,max:Nt})}U.scales=J;var nt=new v[X](U);C[W]=nt}},m._processData=function(){for(var E=this,C=this.get("data"),T=[],O=this._groupData(C),L=0;L<O.length;L++){var R=O[L],W=E._saveOrigin(R);T.push(E._numberic(W))}return T},m._groupData=function(E){var C=this._getGroupScales(),T=C.map(function(O){return O.field});return r.Array.group(E,T)},m._saveOrigin=function(E){for(var C=[],T=0;T<E.length;T++){var O=E[T],L={};for(var R in O)L[R]=O[R];L[g]=O,C.push(L)}return C},m._numberic=function(E){for(var C=this.getAttr("position"),T=C.scales,O=[],L=0;L<E.length;L++){for(var R=E[L],W=!0,U=0;U<Math.min(2,T.length);U++){var X=T[U];if(X.isCategory){var Z=X.field;R[Z]=X.translate(R[Z]),Number.isNaN(R[Z])&&(W=!1)}}W&&O.push(R)}return O},m._getGroupScales=function(){var E=this,C=E.get("groupScales");if(!C){C=[];var T=E.get("attrs");r.each(T,function(O){if(d.includes(O.type)){var L=O.scales;r.each(L,function(R){R.isCategory&&r.indexOf(C,R)===-1&&C.push(R)})}}),E.set("groupScales",C)}return C},m._updateStackRange=function(E,C,T){for(var O=r.Array.merge(T),L=C.min,R=C.max,W=0;W<O.length;W++){var U=O[W];if(!!r.isArray(U[E])){var X=Math.min.apply(null,U[E]),Z=Math.max.apply(null,U[E]);X<L&&(L=X),Z>R&&(R=Z)}}(L<C.min||R>C.max)&&C.change({min:L,max:R})},m._adjust=function(E){if(!(!E||!E.length)){var C=this,T=C.get("adjusts"),O=this.viewTheme||e,L=C.getYScale(),R=C.getXScale(),W=R.field,U=L?L.field:null;r.each(T,function(X){var Z=r.mix({xField:W,yField:U},X),J=r.upperFirst(X.type);if(J==="Dodge"){var ht=[];if(R.isCategory||R.isIdentity)ht.push("x");else if(!L)ht.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Z.adjustNames=ht,Z.dodgeRatio=Z.dodgeRatio||O.widthRatio.column}else if(J==="Stack"){var at=C.get("coord");if(!L){Z.height=at.getHeight();var Q=C.getDefaultValue("size")||3;Z.size=Q}!at.isTransposed&&r.isNil(Z.reverseOrder)&&(Z.reverseOrder=!0)}var xt=new o[J](Z);xt.processAdjust(E),J==="Stack"&&L&&C._updateStackRange(U,L,E)})}},m.setCoord=function(E){this.set("coord",E);var C=this.getAttr("position"),T=this.get("shapeContainer");T.setMatrix(E.matrix),C&&(C.coord=E)},m.paint=function(){var E=this,C=E.get("dataArray"),T=[],O=E.getShapeFactory();O.setCoord(E.get("coord")),E.set("shapeFactory",O);var L=E.get("shapeContainer");E._beforeMapping(C);for(var R=0;R<C.length;R++){var W=C[R],U=R;W=E._mapping(W),T.push(W),E.draw(W,L,O,U)}E.get("labelCfg")&&E._addLabels(r.union.apply(null,T),L.get("children")),E.get("sortable")?E.set("dataArray",T):E._sort(T)},m._sort=function(E){var C=this,T=C.getXScale(),O=T.field;r.each(E,function(L){L.sort(function(R,W){return T.translate(R[g][O])-T.translate(W[g][O])})}),C.set("dataArray",E)},m._beforeMapping=function(E){var C=this;if(C.get("sortable")){var T=C.getXScale(),O=T.field;r.each(E,function(L){L.sort(function(R,W){return T.translate(R[O])-T.translate(W[O])})})}C.get("generatePoints")&&(r.each(E,function(L){C._generatePoints(L)}),r.each(E,function(L,R){var W=E[R+1];W&&(L[0].nextPoints=W[0].points)}))},m._addLabels=function(E,C){var T=this,O=T.get("type"),L=T.get("viewTheme")||e,R=T.get("coord"),W=n.getLabelsClass(R.type,O),U=T.get("container"),X=r.map(T.get("labelCfg").fields,function(J){return T._createScale(J)}),Z=U.addGroup(W,{_id:this.get("_id"),labelCfg:r.mix({scales:X},T.get("labelCfg")),coord:R,geom:T,geomType:O,yScale:T.getYScale(),viewTheme:L,visible:T.get("visible")});Z.showLabels(E,C),T.set("labelContainer",Z)},m.getShapeFactory=function(){var E=this.get("shapeFactory");if(!E){var C=this.get("shapeType");E=a.getShapeFactory(C),this.set("shapeFactory",E)}return E},m._generatePoints=function(E){for(var C=this,T=C.getShapeFactory(),O=C.getAttr("shape"),L=0;L<E.length;L++){var R=E[L],W=C.createShapePointsCfg(R),U=O?C._getAttrValues(O,R):null,X=T.getShapePoints(U,W);R.points=X}},m.createShapePointsCfg=function(E){var C=this.getXScale(),T=this.getYScale(),O=this._normalizeValues(E[C.field],C),L;return T?L=this._normalizeValues(E[T.field],T):L=E.y?E.y:.1,{x:O,y:L,y0:T?T.scale(this.getYMinValue()):void 0}},m.getYMinValue=function(){var E=this.getYScale(),C=E.min,T=E.max,O;return C>=0?O=C:T<=0?O=T:O=0,O},m._normalizeValues=function(E,C){var T=[];if(r.isArray(E))for(var O=0;O<E.length;O++){var L=E[O];T.push(C.scale(L))}else T=C.scale(E);return T},m._mapping=function(E){for(var C=this,T=C.get("attrs"),O=[],L=0;L<E.length;L++){var R=E[L],W={};W[g]=R[g],W.points=R.points,W.nextPoints=R.nextPoints;for(var U in T)if(T.hasOwnProperty(U)){var X=T[U],Z=X.names,J=C._getAttrValues(X,R);if(Z.length>1)for(var ht=0;ht<J.length;ht++){var at=J[ht],Q=Z[ht];W[Q]=r.isArray(at)&&at.length===1?at[0]:at}else W[Z[0]]=J.length===1?J[0]:J}O.push(W)}return O},m._getAttrValues=function(E,C){for(var T=E.scales,O=[],L=0;L<T.length;L++){var R=T[L],W=R.field;R.type==="identity"?O.push(R.value):O.push(C[W])}var U=E.mapping.apply(E,O);return U},m.getAttrValue=function(E,C){var T=this.getAttr(E),O=null;if(T){var L=this._getAttrValues(T,C);O=L[0]}return O},m.getDefaultValue=function(E){var C=this.get(E),T=this.getAttr(E);if(T){var O=T.getScale(E);O.type==="identity"&&(C=O.value)}return C},m.draw=function(E,C,T,O){for(var L=this,R=0;R<E.length;R++){var W=E[R];L.drawPoint(W,C,T,O+R)}},m.getCallbackCfg=function(E,C,T){if(!E)return C;var O={},L=E.map(function(R){return T[R]});return r.each(C,function(R,W){r.isFunction(R)?O[W]=R.apply(null,L):O[W]=R}),O},m._getShapeId=function(E){var C=this.get("_id"),T=this.get("keyFields");if(T&&T.length>0)r.each(T,function(ht){C+="-"+E[ht]});else{var O=this.get("type"),L=this.getXScale(),R=this.getYScale(),W=L.field||"x",U=R.field||"y",X=E[U],Z;L.isIdentity?Z=L.value:Z=E[W],O==="interval"||O==="schema"?C+="-"+Z:O==="line"||O==="area"||O==="path"?C+="-"+O:C+="-"+Z+"-"+X;var J=this._getGroupScales();r.isEmpty(J)||r.each(J,function(ht){var at=ht.field;ht.type!=="identity"&&(C+="-"+E[at])})}return C},m.getDrawCfg=function(E){var C=this,T={origin:E,x:E.x,y:E.y,color:E.color,size:E.size,shape:E.shape,isInCircle:C.isInCircle(),opacity:E.opacity},O=C.get("styleOptions");return O&&O.style&&(T.style=C.getCallbackCfg(O.fields,O.style,E[g])),C.get("generatePoints")&&(T.points=E.points,T.nextPoints=E.nextPoints),C.get("animate")&&(T._id=C._getShapeId(E[g])),T},m.appendShapeInfo=function(E,C){E&&(E.setSilent("index",C),E.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&E.setSilent("animateCfg",this.get("animateCfg")))},m._applyViewThemeShapeStyle=function(E,C,T){var O=this,L=O.viewTheme||e,R=T.name;C?C&&(C.indexOf("hollow")>-1||C.indexOf("liquid")>-1)&&(R="hollow"+r.upperFirst(R)):T.defaultShapeType.indexOf("hollow")>-1&&(R="hollow"+r.upperFirst(R));var W=L.shape[R]||{};E.style=r.mix({},W,E.style)},m.drawPoint=function(E,C,T,O){var L=this,R=E.shape,W=L.getDrawCfg(E);L._applyViewThemeShapeStyle(W,R,T);var U=T.drawShape(R,W,C);L.appendShapeInfo(U,O)},m.getAttr=function(E){return this.get("attrs")[E]},m.getXScale=function(){return this.getAttr("position").scales[0]},m.getYScale=function(){return this.getAttr("position").scales[1]},m.getShapes=function(){var E=[],C=this.get("shapeContainer"),T=C.get("children");return r.each(T,function(O){O.get("origin")&&E.push(O)}),E},m.getAttrsForLegend=function(){var E=this.get("attrs"),C=[];return r.each(E,function(T){d.includes(T.type)&&C.push(T)}),C},m.getFieldsForLegend=function(){var E=[],C=this.get("attrOptions");return r.each(d,function(T){var O=C[T];O&&O.field&&r.isString(O.field)&&(E=E.concat(O.field.split("*")))}),r.uniq(E)},m.changeVisible=function(E,C){var T=this;T.set("visible",E);var O=this.get("shapeContainer");O&&O.set("visible",E);var L=this.get("labelContainer");if(L&&L.set("visible",E),!C&&O){var R=O.get("canvas");R.draw()}},m.reset=function(){this.set("attrOptions",{}),this.clearInner()},m.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var E=this.get("shapeContainer");E&&E.clear();var C=this.get("labelContainer");C&&C.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},m.clear=function(){this.clearInner(),this.set("scales",{})},m.destroy=function(){this.clear();var E=this.get("shapeContainer");E&&E.remove(),this.offEvents(),A.prototype.destroy.call(this)},m.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},m.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},M}(f);P.exports=x},function(P,S,i){P.exports={Axis:i(344),Component:i(92),Guide:i(372),Label:i(381),Legend:i(382),Tooltip:i(388)}},function(P,S,i){var t=i(0),c=i(392);function s(n,a){if(!n.length)return[];for(var u=[],l=0,h=n.length;l<h;l++){var p=n[l];l===0?u.push(["M",p.x,p.y]):u.push(["L",p.x,p.y])}return a&&u.push(["Z"]),u}function v(n,a){var u=n.getCenter(),l=Math.sqrt(Math.pow(a.x-u.x,2)+Math.pow(a.y-u.y,2));return l}function o(n,a){for(var u=n.length,l=[n[0]],h=1;h<u;h=h+2){var p=a.convertPoint({x:n[h],y:n[h+1]});l.push(p.x,p.y)}return l}function f(n,a,u){var l=u.isTransposed,h=u.startAngle,p=u.endAngle,d={x:n[1],y:n[2]},g={x:a[1],y:a[2]},y=[],x=l?"y":"x",A=Math.abs(g[x]-d[x])*(p-h),m=g[x]>=d[x]?1:0,M=A>Math.PI?1:0,b=u.convertPoint(g),E=v(u,b);if(E>=.5)if(A===Math.PI*2){var C={x:(g.x+d.x)/2,y:(g.y+d.y)/2},T=u.convertPoint(C);y.push(["A",E,E,0,M,m,T.x,T.y]),y.push(["A",E,E,0,M,m,b.x,b.y])}else y.push(["A",E,E,0,M,m,b.x,b.y]);return y}function r(n){t.each(n,function(a,u){var l=a;if(l[0].toLowerCase()==="a"){var h=n[u-1],p=n[u+1];p&&p[0].toLowerCase()==="a"?h&&h[0].toLowerCase()==="l"&&(h[0]="M"):h&&h[0].toLowerCase()==="a"&&p&&p[0].toLowerCase()==="l"&&(p[0]="M")}})}var e={getLinePath:function(a,u){return s(a,u)},getSplinePath:function(a,u,l){var h=[],p=a[0],d=null;if(a.length<=2)return e.getLinePath(a,u);t.each(a,function(y){(!d||!(d.x===y.x&&d.y===y.y))&&(h.push(y.x),h.push(y.y),d=y)}),l=l||[[0,0],[1,1]];var g=c.catmullRom2bezier(h,u,l);return g.unshift(["M",p.x,p.y]),g},getPointRadius:function(a,u){var l=v(a,u);return l},getPointAngle:function(a,u){var l=a.getCenter(),h=Math.atan2(u.y-l.y,u.x-l.x);return h},convertNormalPath:function(a,u){var l=[];return t.each(u,function(h){var p=h[0];switch(p.toLowerCase()){case"m":case"l":case"c":l.push(o(h,a));break;case"z":default:l.push(h);break}}),l},convertPolarPath:function(a,u){var l=[],h,p,d,g;return t.each(u,function(y,x){var A=y[0];switch(A.toLowerCase()){case"m":case"c":case"q":l.push(o(y,a));break;case"l":h=u[x-1],p=y,d=a.isTransposed,g=d?h[h.length-2]===p[1]:h[h.length-1]===p[2],g?l=l.concat(f(h,p,a)):l.push(o(y,a));break;case"z":default:l.push(y);break}}),r(l),l}};P.exports=e},function(P,S,i){var t=i(6);function c(s){return t(s)?"":s.toString()}P.exports=c},function(P,S,i){var t=i(28),c=i(5),s=5;function v(f,r,e,n){e=e||0,n=n||s;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];u!==null&&t(u)?(t(f[a])||(f[a]={}),e<n?v(f[a],u,e+1,n):f[a]=r[a]):c(u)?(f[a]=[],f[a]=f[a].concat(u)):u!==void 0&&(f[a]=u)}}var o=function(){for(var r=new Array(arguments.length),e=r.length,n=0;n<e;n++)r[n]=arguments[n];for(var a=r[0],u=1;u<e;u++)v(a,r[u]);return a};P.exports=o},function(P,S,i){var t=i(63),c=i(14),s=function(o){if(!t(o)||!c(o,"Object"))return!1;if(Object.getPrototypeOf(o)===null)return!0;for(var f=o;Object.getPrototypeOf(f)!==null;)f=Object.getPrototypeOf(f);return Object.getPrototypeOf(o)===f};P.exports=s},function(P,S,i){var t=i(15);function c(s){return t(s)?Array.prototype.slice.call(s):[]}P.exports=c},function(P,S){var i=1e-5;P.exports=function(c,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;return Math.abs(c-s)<v}},function(P,S,i){var t=i(1),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig;P.exports={parseRadius:function(o){var f=0,r=0,e=0,n=0;return t.isArray(o)?o.length===1?f=r=e=n=o[0]:o.length===2?(f=e=o[0],r=n=o[1]):o.length===3?(f=o[0],r=n=o[1],e=o[2]):(f=o[0],r=o[1],e=o[2],n=o[3]):f=r=e=n=o,{r1:f,r2:r,r3:e,r4:n}},parsePath:function(o){if(o=o||[],t.isArray(o))return o;if(t.isString(o))return o=o.match(c),t.each(o,function(f,r){if(f=f.match(s),f[0].length>1){var e=f[0].charAt(0);f.splice(1,0,f[0].substr(1)),f[0]=e}t.each(f,function(n,a){isNaN(n)||(f[a]=+n)}),o[r]=f}),o}}},function(P,S,i){"use strict";S.c=v,S.b=o,S.a=f;var t=i(137);function c(r,e){return function(n){return r+n*e}}function s(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function v(r,e){var n=e-r;return n?c(r,n>180||n<-180?n-360*Math.round(n/360):n):Object(t.a)(isNaN(r)?e:r)}function o(r){return(r=+r)==1?f:function(e,n){return n-e?s(e,n,r):Object(t.a)(isNaN(e)?n:e)}}function f(r,e){var n=e-r;return n?c(r,n):Object(t.a)(isNaN(r)?e:r)}},function(P,S,i){var t=i(12),c=i(5),s=i(6),v=i(10),o=i(3);function f(e,n){return t(n)?n:e.invert(e.scale(n))}var r=function(){function e(a){var u=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var l=null,h=this.callback;if(a.callback){var p=a.callback;l=function(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];var A=p.apply(void 0,y);return s(A)&&(A=h.apply(u,y)),A}}v(this,a),l&&v(this,{callback:l})}var n=e.prototype;return n._getAttrValue=function(u,l){var h=this.values;if(u.isCategory&&!this.linear){var p=u.translate(l);return h[p%h.length]}var d=u.scale(l);return this.getLinearValue(d)},n.getLinearValue=function(u){var l=this.values,h=l.length-1,p=Math.floor(h*u),d=h*u-p,g=l[p],y=p===h?g:l[p+1],x=g+(y-g)*d;return x},n.callback=function(u){var l=this,h=l.scales[0],p=null;return h.type==="identity"?p=h.value:p=l._getAttrValue(h,u),p},n.getNames=function(){for(var u=this.scales,l=this.names,h=Math.min(u.length,l.length),p=[],d=0;d<h;d++)p.push(l[d]);return p},n.getFields=function(){var u=this.scales,l=[];return o(u,function(h){l.push(h.field)}),l},n.getScale=function(u){var l=this.scales,h=this.names,p=h.indexOf(u);return l[p]},n.mapping=function(){for(var u=this.scales,l=this.callback,h=arguments.length,p=new Array(h),d=0;d<h;d++)p[d]=arguments[d];var g=p;if(l){for(var y=0,x=p.length;y<x;y++)p[y]=this._toOriginParam(p[y],u[y]);g=l.apply(this,p)}return g=[].concat(g),g},n._toOriginParam=function(u,l){var h=u;if(!l.isLinear)if(c(u)){h=[];for(var p=0,d=u.length;p<d;p++)h.push(f(l,u[p]))}else h=f(l,u);return h},e}();P.exports=r},function(P,S,i){var t=i(10),c=function(){var s=v.prototype;s._initDefaultCfg=function(){this.adjustNames=["x","y"]};function v(o){this._initDefaultCfg(),t(this,o)}return s.processAdjust=function(){},v}();P.exports=c},function(P,S,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(36),v=i(4),o=i(187),f=i(188),r=i(16),e=r.FONT_FAMILY,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return v.mix({},p,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},l.beforeRender=function(){var p=this,d=p.get("title"),g=p.get("label"),y=p.get("grid");d&&p.set("title",v.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:e,textAlign:"center"},offset:48},d)),g&&p.set("label",v.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:e},offset:10},g)),y&&p.set("grid",v.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},y))},l.render=function(){var p=this;p.beforeRender();var d=p.get("label");d&&p.renderLabels(),p.get("autoPaint")&&p.paint(),v.isNil(p.get("title"))||p.renderTitle(),p.get("group").sort()},l.renderLabels=function(){var p=this,d=p.get("group"),g=p.get("label"),y=new f({name:"axis-label"});p.set("labelRenderer",y),y.set("labelCfg",g);var x=["formatter","htmlTemplate","labelLine","textStyle","useHtml"];v.each(x,function(A){g[A]&&y.set(A,g[A])}),y.set("coord",p.get("coord")),y.set("group",d.addGroup()),y.set("canvas",p.get("canvas"))},l._parseTicks=function(p){p=p||[];for(var d=p.length,g=0;g<d;g++){var y=p[g];v.isObject(y)||(p[g]=this.parseTick(y,g,d))}return this.set("ticks",p),p},l._addTickItem=function(p,d,g,y){y===void 0&&(y="");var x=this.get("tickItems"),A=this.get("subTickItems"),m=this.getTickEnd(d,g,p),M={x1:d.x,y1:d.y,x2:m.x,y2:m.y};x||(x=[]),A||(A=[]),y==="sub"?A.push(M):x.push(M),this.set("tickItems",x),this.set("subTickItems",A)},l._renderLine=function(){var p=this,d=p.get("line"),g;if(d){g=p.getLinePath(),d=v.mix({path:g},d);var y=p.get("group"),x=y.addShape("path",{attrs:d});x.name="axis-line",p.get("appendInfo")&&x.setSilent("appendInfo",p.get("appendInfo")),p.set("lineShape",x)}},l._processCatTicks=function(){var p=this,d=p.get("label"),g=p.get("tickLine"),y=p.get("ticks");y=p._parseTicks(y);for(var x=p._getNormalizedTicks(y),A=0;A<x.length;A+=3){var m=p.getTickPoint(x[A]),M=p.getTickPoint(x[A+1]),b=p.getTickPoint(x[A+2]),E=Math.floor(A/3),C=y[E];g&&(E===0&&p._addTickItem(E,M,g.length),p._addTickItem(E,b,g.length)),d&&p.addLabel(C,m,E)}},l._getNormalizedTicks=function(p){var d=0;p.length>1&&(d=(p[1].value-p[0].value)/2);for(var g=[],y=0;y<p.length;y++){var x=p[y],A=x.value,m=x.value-d,M=x.value+d;g.push(A,m,M)}var b=v.arrayUtil.getRange(g);return g.map(function(E){var C=(E-b.min)/(b.max-b.min);return C})},l.addLabel=function(p,d,g){var y=this,x=y.get("labelItems"),A=y.get("labelRenderer"),m=v.deepMix({},y.get("label")),M;if(A){var b=y.get("_labelOffset");v.isNil(y.get("label").offset)||(b=y.get("label").offset);var E=y.getSideVector(b,d,g);d={x:d.x+E[0]+m.offsetX,y:d.y+E[1]+m.offsetY},m.text=p.text,m.x=d.x,m.y=d.y,m.point=d,m.textAlign=y.getTextAnchor(E),d.rotate&&(m.rotate=d.rotate),x.push(m)}return M},l._processTicks=function(){var p=this,d=p.get("label"),g=p.get("subTickCount"),y=p.get("tickLine"),x=p.get("ticks");if(x=p._parseTicks(x),v.each(x,function(m,M){var b=p.getTickPoint(m.value,M);y&&p._addTickItem(M,b,y.length),d&&p.addLabel(m,b,M)}),g){var A=p.get("subTickLine");v.each(x,function(m,M){if(M>0){var b=m.value-x[M-1].value;b=b/(p.get("subTickCount")+1);for(var E=1;E<=g;E++){var C={text:"",value:M?x[M-1].value+E*b:E*b},T=p.getTickPoint(C.value),O=void 0;A&&A.length?O=A.length:O=parseInt(y.length*(3/5),10),p._addTickItem(E-1,T,O,"sub")}}})}},l._addTickLine=function(p,d){var g=this,y=v.mix({},d),x=[];v.each(p,function(M){x.push(["M",M.x1,M.y1]),x.push(["L",M.x2,M.y2])}),delete y.length,y.path=x;var A=g.get("group"),m=A.addShape("path",{attrs:y});m.name="axis-ticks",m._id=g.get("_id")+"-ticks",m.set("coord",g.get("coord")),g.get("appendInfo")&&m.setSilent("appendInfo",g.get("appendInfo"))},l._renderTicks=function(){var p=this,d=p.get("tickItems"),g=p.get("subTickItems");if(!v.isEmpty(d)){var y=p.get("tickLine");p._addTickLine(d,y)}if(!v.isEmpty(g)){var x=p.get("subTickLine")||p.get("tickLine");p._addTickLine(g,x)}},l._renderGrid=function(){var p=this.get("grid");if(!!p){p.coord=this.get("coord"),p.appendInfo=this.get("appendInfo");var d=this.get("group");this.set("gridGroup",d.addGroup(o,p))}},l._renderLabels=function(){var p=this,d=p.get("labelRenderer"),g=p.get("labelItems");d&&(d.set("items",g),d._dryDraw())},l.paint=function(){var p=this,d=p.get("tickLine"),g=!0;d&&d.hasOwnProperty("alignWithLabel")&&(g=d.alignWithLabel),p._renderLine();var y=p.get("type"),x=y==="cat"||y==="timeCat";x&&g===!1?p._processCatTicks():p._processTicks(),p._renderTicks(),p._renderGrid(),p._renderLabels();var A=this.get("label");A&&A.autoRotate&&p.autoRotateLabels(),A&&A.autoHide&&p.autoHideLabels()},l.parseTick=function(p,d,g){return{text:p,value:d/(g-1)}},l.getTextAnchor=function(p){var d=Math.abs(p[1]/p[0]),g;return d>=1?g="center":p[0]>0?g="start":g="end",g},l.getMaxLabelWidth=function(p){var d=p.getLabels(),g=0;return v.each(d,function(y){var x=y.getBBox(),A=x.width;g<A&&(g=A)}),g},l.getMaxLabelHeight=function(p){var d=p.getLabels(),g=0;return v.each(d,function(y){var x=y.getBBox(),A=x.height;g<A&&(g=A)}),g},l.destroy=function(){var p=this;if(!p.destroyed){var d=p.get("gridGroup");d&&d.remove();var g=this.get("labelRenderer");g&&g.destroy();var y=p.get("group");y.destroy(),a.prototype.destroy.call(this)}},l.clear=function(){var p=this,d=p.get("group");if(!d.get("destroyed")&&d.get("children").length){var g=p.get("gridGroup");g&&g.clear();var y=this.get("labelRenderer");y&&y.clear();var x=p.get("group");x.clear()}},l.autoRotateLabels=function(){},l.autoHideLabels=function(){},l.renderTitle=function(){},l.getLinePath=function(){},l.getTickPoint=function(){},l.getTickEnd=function(){},l.getSideVector=function(){},u}(s);P.exports=n},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(92),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},r._init=function(){},r.clear=function(){},r.destroy=function(){o.prototype.destroy.call(this)},r.beforeRender=function(){},r.render=function(){},r.afterRender=function(){},r.beforeDraw=function(){},r.draw=function(){},r.afterDraw=function(){},r.show=function(){},r.hide=function(){},r.setOffset=function(){},r.setPosition=function(){},r.setVisible=function(){},r.setZIndex=function(){},f}(s);P.exports=v},function(P,S,i){var t=i(2),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v={};P.exports={parseRadius:function(f){var r=0,e=0,n=0,a=0;return t.isArray(f)?f.length===1?r=e=n=a=f[0]:f.length===2?(r=n=f[0],e=a=f[1]):f.length===3?(r=f[0],e=a=f[1],n=f[2]):(r=f[0],e=f[1],n=f[2],a=f[3]):r=e=n=a=f,{r1:r,r2:e,r3:n,r4:a}},parsePath:function(f){if(f=f||[],t.isArray(f))return f;if(t.isString(f))return f=f.match(c),t.each(f,function(r,e){if(r=r.match(s),r[0].length>1){var n=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=n}t.each(r,function(a,u){isNaN(a)||(r[u]=+a)}),f[e]=r}),f},numberToColor:function(f){var r=v[f];if(!r){for(var e=f.toString(16),n=e.length;n<6;n++)e="0"+e;r="#"+e,v[f]=r}return r}}},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(6),s=i(3),v=i(20),o=i(208),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){r.prototype._initDefaultCfg.call(this);var u=this;u.type="linear",u.isLinear=!0,u.nice=!1,u.min=null,u.minLimit=null,u.max=null,u.maxLimit=null,u.tickCount=null,u.tickInterval=null,u.minTickInterval=null,u.snapArray=null},n.init=function(){var u=this;if(!u.ticks)u.min=u.translate(u.min),u.max=u.translate(u.max),u.initTicks();else{var l=u.ticks,h=u.translate(l[0]),p=u.translate(l[l.length-1]);(c(u.min)||u.min>h)&&(u.min=h),(c(u.max)||u.max<p)&&(u.max=p)}},n.calculateTicks=function(){var u=this.min,l=this.max,h=this.minLimit,p=this.maxLimit,d=this.tickCount,g=this.tickInterval,y=this.minTickInterval,x=this.snapArray;if(d===1)throw new Error("linear scale'tickCount should not be 1");if(l<u)throw new Error("max: "+l+" should not be less than min: "+u);var A=o({min:u,max:l,minLimit:h,maxLimit:p,minCount:d,maxCount:d,interval:g,minTickInterval:y,snapArray:x});return A.ticks},n.initTicks=function(){var u=this,l=u.calculateTicks();if(u.nice)u.ticks=l,u.min=l[0],u.max=l[l.length-1];else{var h=[];s(l,function(p){p>=u.min&&p<=u.max&&h.push(p)}),h.length||(h.push(u.min),h.push(u.max)),u.ticks=h}},n.scale=function(u){if(c(u))return NaN;var l=this.max,h=this.min;if(l===h)return 0;var p=(u-h)/(l-h),d=this.rangeMin(),g=this.rangeMax();return d+p*(g-d)},n.invert=function(u){var l=(u-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+l*(this.max-this.min)},e}(v);v.Linear=f,P.exports=f},function(P,S,i){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c=i(5),s=function v(o){if((typeof o=="undefined"?"undefined":t(o))!=="object"||o===null)return o;var f=void 0;if(c(o)){f=[];for(var r=0,e=o.length;r<e;r++)t(o[r])==="object"&&o[r]!=null?f[r]=v(o[r]):f[r]=o[r]}else{f={};for(var n in o)t(o[n])==="object"&&o[n]!=null?f[n]=v(o[n]):f[n]=o[n]}return f};P.exports=s},function(P,S,i){var t=i(63),c=i(15),s=i(12),v=function o(f,r){if(f===r)return!0;if(!f||!r||s(f)||s(r))return!1;if(c(f)||c(r)){if(f.length!==r.length)return!1;for(var e=!0,n=0;n<f.length&&(e=o(f[n],r[n]),!!e);n++);return e}if(t(f)||t(r)){var a=Object.keys(f),u=Object.keys(r);if(a.length!==u.length)return!1;for(var l=!0,h=0;h<a.length&&(l=o(f[a[h]],r[a[h]]),!!l);h++);return l}return!1};P.exports=v},function(P,S){var i=function(c,s,v){return c<s?s:c>v?v:c};P.exports=i},function(P,S,i){var t=i(218);t.translate=function(c,s,v){var o=new Array(9);return t.fromTranslation(o,v),t.multiply(c,o,s)},t.rotate=function(c,s,v){var o=new Array(9);return t.fromRotation(o,v),t.multiply(c,o,s)},t.scale=function(c,s,v){var o=new Array(9);return t.fromScaling(o,v),t.multiply(c,o,s)},P.exports=t},function(P,S,i){var t=i(1).vec2;P.exports={at:function(s,v,o){return(v-s)*o+s},pointDistance:function(s,v,o,f,r,e){var n=[o-s,f-v];if(t.exactEquals(n,[0,0]))return NaN;var a=[-n[1],n[0]];t.normalize(a,a);var u=[r-s,e-v];return Math.abs(t.dot(u,a))},box:function(s,v,o,f,r){var e=r/2,n=Math.min(s,o),a=Math.max(s,o),u=Math.min(v,f),l=Math.max(v,f);return{minX:n-e,minY:u-e,maxX:a+e,maxY:l+e}},len:function(s,v,o,f){return Math.sqrt((o-s)*(o-s)+(f-v)*(f-v))}}},function(P,S,i){var t=i(1);function c(r,e,n,a){return{x:Math.cos(a)*n+r,y:Math.sin(a)*n+e}}function s(r,e,n,a){var u,l;return a?r<e?(u=e-r,l=Math.PI*2-n+r):r>n&&(u=Math.PI*2-r+e,l=r-n):(u=r-e,l=n-r),u>l?n:e}function v(r,e,n,a){var u=0;return n-e>=Math.PI*2&&(u=Math.PI*2),e=t.mod(e,Math.PI*2),n=t.mod(n,Math.PI*2)+u,r=t.mod(r,Math.PI*2),a?e>=n?r>n&&r<e?r:s(r,n,e,!0):r<e||r>n?r:s(r,e,n):e<=n?e<r&&r<n?r:s(r,e,n,!0):r>e||r<n?r:s(r,n,e)}function o(r,e,n,a,u,l,h,p,d){var g=[h,p],y=[r,e],x=[1,0],A=t.vec2.subtract([],g,y),m=t.vec2.angleTo(x,A);m=v(m,a,u,l);var M=[n*Math.cos(m)+r,n*Math.sin(m)+e];d&&(d.x=M[0],d.y=M[1]);var b=t.vec2.distance(M,g);return b}function f(r,e,n,a,u,l){var h=0,p=Math.PI/2,d=Math.PI,g=Math.PI*3/2,y=[],x=v(h,a,u,l);x===h&&y.push(c(r,e,n,h)),x=v(p,a,u,l),x===p&&y.push(c(r,e,n,p)),x=v(d,a,u,l),x===d&&y.push(c(r,e,n,d)),x=v(g,a,u,l),x===g&&y.push(c(r,e,n,g)),y.push(c(r,e,n,a)),y.push(c(r,e,n,u));var A=Infinity,m=-Infinity,M=Infinity,b=-Infinity;return t.each(y,function(E){A>E.x&&(A=E.x),m<E.x&&(m=E.x),M>E.y&&(M=E.y),b<E.y&&(b=E.y)}),{minX:A,minY:M,maxX:m,maxY:b}}P.exports={nearAngle:v,projectPoint:function(e,n,a,u,l,h,p,d){var g={};return o(e,n,a,u,l,h,p,d,g),g},pointDistance:o,box:f}},function(P,S,i){var t=i(31),c=i(46),s=Math.PI,v=Math.sin,o=Math.cos,f=Math.atan2,r=10,e=s/3;function n(h,p,d,g,y,x,A){var m,M,b,E,C,T,O;if(!p.fill){var L=p.arrowLength||r,R=p.arrowAngle?p.arrowAngle*s/180:e;O=f(g-x,d-y),C=Math.abs(p.lineWidth*o(O))/2,T=Math.abs(p.lineWidth*v(O))/2,A&&(C=-C,T=-T),m=y+L*o(O+R/2),M=x+L*v(O+R/2),b=y+L*o(O-R/2),E=x+L*v(O-R/2),h.beginPath(),h.moveTo(m-C,M-T),h.lineTo(y-C,x-T),h.lineTo(b-C,E-T),h.moveTo(y-C,x-T),h.lineTo(y+C,x+T),h.moveTo(y,x),h.stroke()}}function a(h){var p=[],d=t.parsePath(h.path),g;if(!Array.isArray(d)||d.length===0||d[0][0]!=="M"&&d[0][0]!=="m")return!1;for(var y=d.length,x=0;x<d.length;x++){var A=d[x];g=new c(A,g,x===y-1),p.push(g)}return p}function u(h,p,d,g,y){var x=Math.atan2(g-p,d-h);return{dx:o(x)*y,dy:v(x)*y}}function l(h,p,d,g,y,x,A){var m=A?p.startArrow:p.endArrow,M=m.d,b=y-d,E=x-g,C=Math.atan2(E,b),T=a(m);if(!!T){M&&(y=y-o(C)*M,x=x-v(C)*M),h.save(),h.beginPath(),h.translate(y,x),h.rotate(C);for(var O=0;O<T.length;O++)T[O].draw(h);h.setTransform(1,0,0,1,0,0),h.fillStyle=h.strokeStyle,h.fill(),h.restore()}}P.exports={addStartArrow:function(p,d,g,y,x,A){typeof d.startArrow=="object"?l(p,d,g,y,x,A,!0):d.startArrow&&n(p,d,g,y,x,A,!0)},addEndArrow:function(p,d,g,y,x,A){typeof d.endArrow=="object"?l(p,d,g,y,x,A,!1):d.endArrow&&n(p,d,g,y,x,A,!1)},getShortenOffset:u}},function(P,S,i){var t=i(1),c=i(79),s=i(80),v=i(118),o=i(119),f=t.vec3,r=t.mat3,e=["m","l","c","a","q","h","v","t","s","z"];function n(g,y,x){return{x:x.x+g,y:x.y+y}}function a(g,y){return{x:y.x+(y.x-g.x),y:y.y+(y.y-g.y)}}function u(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function l(g,y){return(g[0]*y[0]+g[1]*y[1])/(u(g)*u(y))}function h(g,y){return(g[0]*y[1]<g[1]*y[0]?-1:1)*Math.acos(l(g,y))}function p(g,y,x,A,m,M,b){var E=t.mod(t.toRadian(b),Math.PI*2),C=g.x,T=g.y,O=y.x,L=y.y,R=Math.cos(E)*(C-O)/2+Math.sin(E)*(T-L)/2,W=-1*Math.sin(E)*(C-O)/2+Math.cos(E)*(T-L)/2,U=R*R/(m*m)+W*W/(M*M);U>1&&(m*=Math.sqrt(U),M*=Math.sqrt(U));var X=m*m*(W*W)+M*M*(R*R),Z=Math.sqrt((m*m*(M*M)-X)/X);x===A&&(Z*=-1),isNaN(Z)&&(Z=0);var J=Z*m*W/M,ht=Z*-M*R/m,at=(C+O)/2+Math.cos(E)*J-Math.sin(E)*ht,Q=(T+L)/2+Math.sin(E)*J+Math.cos(E)*ht,xt=h([1,0],[(R-J)/m,(W-ht)/M]),kt=[(R-J)/m,(W-ht)/M],Nt=[(-1*R-J)/m,(-1*W-ht)/M],nt=h(kt,Nt);return l(kt,Nt)<=-1&&(nt=Math.PI),l(kt,Nt)>=1&&(nt=0),A===0&&nt>0&&(nt=nt-2*Math.PI),A===1&&nt<0&&(nt=nt+2*Math.PI),[g,at,Q,m,M,xt,nt,E,A]}var d=function(y,x,A){this.preSegment=x,this.isLast=A,this.init(y,x)};t.augment(d,{init:function(y,x){var A=y[0];x=x||{endPoint:{x:0,y:0}};var m=e.indexOf(A)>=0,M=m?A.toUpperCase():A,b=y,E,C,T,O,L=x.endPoint,R=b[1],W=b[2];switch(M){default:break;case"M":m?O=n(R,W,L):O={x:R,y:W},this.command="M",this.params=[L,O],this.subStart=O,this.endPoint=O;break;case"L":m?O=n(R,W,L):O={x:R,y:W},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"H":m?O=n(R,0,L):O={x:R,y:L.y},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"V":m?O=n(0,R,L):O={x:L.x,y:R},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"Q":m?(E=n(R,W,L),C=n(b[3],b[4],L)):(E={x:R,y:W},C={x:b[3],y:b[4]}),this.command="Q",this.params=[L,E,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-E.x,C.y-E.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]};break;case"T":m?C=n(R,W,L):C={x:R,y:W},x.command==="Q"?(E=a(x.params[1],L),this.command="Q",this.params=[L,E,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-E.x,C.y-E.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]}):(this.command="TL",this.params=[L,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-L.x,C.y-L.y]},this.startTangent=function(){return[L.x-C.x,L.y-C.y]});break;case"C":m?(E=n(R,W,L),C=n(b[3],b[4],L),T=n(b[5],b[6],L)):(E={x:R,y:W},C={x:b[3],y:b[4]},T={x:b[5],y:b[6]}),this.command="C",this.params=[L,E,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]};break;case"S":m?(C=n(R,W,L),T=n(b[3],b[4],L)):(C={x:R,y:W},T={x:b[3],y:b[4]}),x.command==="C"?(E=a(x.params[2],L),this.command="C",this.params=[L,E,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]}):(this.command="SQ",this.params=[L,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-C.x,L.y-C.y]});break;case"A":{var U=R,X=W,Z=b[3],J=b[4],ht=b[5];m?O=n(b[6],b[7],L):O={x:b[6],y:b[7]},this.command="A";var at=p(L,O,J,ht,U,X,Z);this.params=at;var Q=x.subStart;this.subStart=Q,this.endPoint=O;var xt=at[5]%(Math.PI*2);t.isNumberEqual(xt,Math.PI*2)&&(xt=0);var kt=at[6]%(Math.PI*2);t.isNumberEqual(kt,Math.PI*2)&&(kt=0);var Nt=.001;this.startTangent=function(){ht===0&&(Nt*=-1);var nt=at[3]*Math.cos(xt-Nt)+at[1],q=at[4]*Math.sin(xt-Nt)+at[2];return[nt-Q.x,q-Q.y]},this.endTangent=function(){var nt=at[6];nt-Math.PI*2<1e-4&&(nt=0);var q=at[3]*Math.cos(xt+nt+Nt)+at[1],G=at[4]*Math.sin(xt+nt-Nt)+at[2];return[L.x-q,L.y-G]};break}case"Z":this.command="Z",this.params=[L,x.subStart],this.subStart=x.subStart,this.endPoint=x.subStart}},isInside:function(y,x,A){var m=this,M=m.command,b=m.params,E=m.box;if(E&&!c.box(E.minX,E.maxX,E.minY,E.maxY,y,x))return!1;switch(M){default:break;case"M":return!1;case"TL":case"L":case"Z":return c.line(b[0].x,b[0].y,b[1].x,b[1].y,A,y,x);case"SQ":case"Q":return c.quadraticline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,A,y,x);case"C":return c.cubicline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,A,y,x);case"A":{var C=b,T=C[1],O=C[2],L=C[3],R=C[4],W=C[5],U=C[6],X=C[7],Z=C[8],J=L>R?L:R,ht=L>R?1:L/R,at=L>R?R/L:1;C=[y,x,1];var Q=[1,0,0,0,1,0,0,0,1];return r.translate(Q,Q,[-T,-O]),r.rotate(Q,Q,-X),r.scale(Q,Q,[1/ht,1/at]),f.transformMat3(C,C,Q),c.arcline(0,0,J,W,W+U,1-Z,A,C[0],C[1])}}return!1},draw:function(y){var x=this.command,A=this.params,m,M,b;switch(x){default:break;case"M":y.moveTo(A[1].x,A[1].y);break;case"TL":case"L":y.lineTo(A[1].x,A[1].y);break;case"SQ":case"Q":m=A[1],M=A[2],y.quadraticCurveTo(m.x,m.y,M.x,M.y);break;case"C":m=A[1],M=A[2],b=A[3],y.bezierCurveTo(m.x,m.y,M.x,M.y,b.x,b.y);break;case"A":{var E=A,C=E[1],T=E[2],O=C,L=T,R=E[3],W=E[4],U=E[5],X=E[6],Z=E[7],J=E[8],ht=R>W?R:W,at=R>W?1:R/W,Q=R>W?W/R:1;y.translate(O,L),y.rotate(Z),y.scale(at,Q),y.arc(0,0,ht,U,U+X,1-J),y.scale(1/at,1/Q),y.rotate(-Z),y.translate(-O,-L);break}case"Z":y.closePath();break}},shortenDraw:function(y,x,A){var m=this.command,M=this.params,b,E,C;switch(m){default:break;case"M":y.moveTo(M[1].x-x,M[1].y-A);break;case"TL":case"L":y.lineTo(M[1].x-x,M[1].y-A);break;case"SQ":case"Q":b=M[1],E=M[2],y.quadraticCurveTo(b.x,b.y,E.x-x,E.y-A);break;case"C":b=M[1],E=M[2],C=M[3],y.bezierCurveTo(b.x,b.y,E.x,E.y,C.x-x,C.y-A);break;case"A":{var T=M,O=T[1],L=T[2],R=O,W=L,U=T[3],X=T[4],Z=T[5],J=T[6],ht=T[7],at=T[8],Q=U>X?U:X,xt=U>X?1:U/X,kt=U>X?X/U:1;y.translate(R,W),y.rotate(ht),y.scale(xt,kt),y.arc(0,0,Q,Z,Z+J,1-at),y.scale(1/xt,1/kt),y.rotate(-ht),y.translate(-R,-W);break}case"Z":y.closePath();break}},getBBox:function(y){var x=y/2,A=this.params,m,M,b,E;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(A[0].x,A[1].x)-x,maxX:Math.max(A[0].x,A[1].x)+x,minY:Math.min(A[0].y,A[1].y)-x,maxY:Math.max(A[0].y,A[1].y)+x};break;case"SQ":case"Q":for(M=v.extrema(A[0].x,A[1].x,A[2].x),b=0,E=M.length;b<E;b++)M[b]=v.at(A[0].x,A[1].x,A[2].x,M[b]);for(M.push(A[0].x,A[2].x),m=v.extrema(A[0].y,A[1].y,A[2].y),b=0,E=m.length;b<E;b++)m[b]=v.at(A[0].y,A[1].y,A[2].y,m);m.push(A[0].y,A[2].y),this.box={minX:Math.min.apply(Math,M)-x,maxX:Math.max.apply(Math,M)+x,minY:Math.min.apply(Math,m)-x,maxY:Math.max.apply(Math,m)+x};break;case"C":for(M=s.extrema(A[0].x,A[1].x,A[2].x,A[3].x),b=0,E=M.length;b<E;b++)M[b]=s.at(A[0].x,A[1].x,A[2].x,A[3].x,M[b]);for(m=s.extrema(A[0].y,A[1].y,A[2].y,A[3].y),b=0,E=m.length;b<E;b++)m[b]=s.at(A[0].y,A[1].y,A[2].y,A[3].y,m[b]);M.push(A[0].x,A[3].x),m.push(A[0].y,A[3].y),this.box={minX:Math.min.apply(Math,M)-x,maxX:Math.max.apply(Math,M)+x,minY:Math.min.apply(Math,m)-x,maxY:Math.max.apply(Math,m)+x};break;case"A":{var C=A,T=C[1],O=C[2],L=C[3],R=C[4],W=C[5],U=C[6],X=C[7],Z=C[8],J=W,ht=W+U,at=o.xExtrema(X,L,R),Q=Infinity,xt=-Infinity,kt=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var Nt=at+b;Z===1?J<Nt&&Nt<ht&&kt.push(Nt):ht<Nt&&Nt<J&&kt.push(Nt)}for(b=0,E=kt.length;b<E;b++){var nt=o.xAt(X,L,R,T,kt[b]);nt<Q&&(Q=nt),nt>xt&&(xt=nt)}var q=o.yExtrema(X,L,R),G=Infinity,N=-Infinity,it=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var H=q+b;Z===1?J<H&&H<ht&&it.push(H):ht<H&&H<J&&it.push(H)}for(b=0,E=it.length;b<E;b++){var ct=o.yAt(X,L,R,O,it[b]);ct<G&&(G=ct),ct>N&&(N=ct)}this.box={minX:Q-x,maxX:xt+x,minY:G-x,maxY:N+x};break}}}}),P.exports=d},function(P,S,i){"use strict";S.a=function(t,c){return t=+t,c-=t,function(s){return t+c*s}}},function(P,S,i){var t=i(15),c=Array.prototype.indexOf,s=function(o,f){return t(o)?c.call(o,f)>-1:!1};P.exports=s},function(P,S){var i=function(c){for(var s=[],v=0;v<c.length;v++)s=s.concat(c[v]);return s};P.exports=i},function(P,S,i){P.exports={mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,S,i){P.exports={Canvas:i(345),Group:i(171),Shape:i(9),Arc:i(175),Circle:i(176),Dom:i(177),Ellipse:i(178),Fan:i(179),Image:i(180),Line:i(181),Marker:i(95),Path:i(182),Polygon:i(183),Polyline:i(184),Rect:i(185),Text:i(186),PathSegment:i(55),PathUtil:i(96),Event:i(170),version:"3.3.6"}},function(P,S,i){var t=i(2).vec2;P.exports={at:function(s,v,o){return(v-s)*o+s},pointDistance:function(s,v,o,f,r,e){var n=[o-s,f-v];if(t.exactEquals(n,[0,0]))return NaN;var a=[-n[1],n[0]];t.normalize(a,a);var u=[r-s,e-v];return Math.abs(t.dot(u,a))},box:function(s,v,o,f,r){var e=r/2,n=Math.min(s,o),a=Math.max(s,o),u=Math.min(v,f),l=Math.max(v,f);return{minX:n-e,minY:u-e,maxX:a+e,maxY:l+e}},len:function(s,v,o,f){return Math.sqrt((o-s)*(o-s)+(f-v)*(f-v))}}},function(P,S,i){var t=i(2);function c(r,e,n,a){return{x:Math.cos(a)*n+r,y:Math.sin(a)*n+e}}function s(r,e,n,a){var u,l;return a?r<e?(u=e-r,l=Math.PI*2-n+r):r>n&&(u=Math.PI*2-r+e,l=r-n):(u=r-e,l=n-r),u>l?n:e}function v(r,e,n,a){var u=0;return n-e>=Math.PI*2&&(u=Math.PI*2),e=t.mod(e,Math.PI*2),n=t.mod(n,Math.PI*2)+u,r=t.mod(r,Math.PI*2),a?e>=n?r>n&&r<e?r:s(r,n,e,!0):r<e||r>n?r:s(r,e,n):e<=n?e<r&&r<n?r:s(r,e,n,!0):r>e||r<n?r:s(r,n,e)}function o(r,e,n,a,u,l,h,p,d){var g=[h,p],y=[r,e],x=[1,0],A=t.vec2.subtract([],g,y),m=t.vec2.angleTo(x,A);m=v(m,a,u,l);var M=[n*Math.cos(m)+r,n*Math.sin(m)+e];d&&(d.x=M[0],d.y=M[1]);var b=t.vec2.distance(M,g);return b}function f(r,e,n,a,u,l){var h=0,p=Math.PI/2,d=Math.PI,g=Math.PI*3/2,y=[],x=v(h,a,u,l);x===h&&y.push(c(r,e,n,h)),x=v(p,a,u,l),x===p&&y.push(c(r,e,n,p)),x=v(d,a,u,l),x===d&&y.push(c(r,e,n,d)),x=v(g,a,u,l),x===g&&y.push(c(r,e,n,g)),y.push(c(r,e,n,a)),y.push(c(r,e,n,u));var A=Infinity,m=-Infinity,M=Infinity,b=-Infinity;return t.each(y,function(E){A>E.x&&(A=E.x),m<E.x&&(m=E.x),M>E.y&&(M=E.y),b<E.y&&(b=E.y)}),{minX:A,minY:M,maxX:m,maxY:b}}P.exports={nearAngle:v,projectPoint:function(e,n,a,u,l,h,p,d){var g={};return o(e,n,a,u,l,h,p,d,g),g},pointDistance:o,box:f}},function(P,S,i){var t=i(37),c=i(55),s=Math.PI,v=Math.sin,o=Math.cos,f=Math.atan2,r=10,e=s/3;function n(l,h,p,d,g,y,x){var A,m,M,b,E,C,T;if(!h.fill){var O=h.arrowLength||r,L=h.arrowAngle?h.arrowAngle*s/180:e;T=f(d-y,p-g),E=Math.abs(h.lineWidth*o(T))/2,C=Math.abs(h.lineWidth*v(T))/2,x&&(E=-E,C=-C),A=g+O*o(T+L/2),m=y+O*v(T+L/2),M=g+O*o(T-L/2),b=y+O*v(T-L/2),l.beginPath(),l.moveTo(A-E,m-C),l.lineTo(g-E,y-C),l.lineTo(M-E,b-C),l.moveTo(g-E,y-C),l.lineTo(g+E,y+C),l.moveTo(g,y),l.stroke()}}function a(l){var h=[],p=t.parsePath(l.path),d;if(!Array.isArray(p)||p.length===0||p[0][0]!=="M"&&p[0][0]!=="m")return!1;for(var g=p.length,y=0;y<p.length;y++){var x=p[y];d=new c(x,d,y===g-1),h.push(d)}return h}function u(l,h,p,d,g,y,x){var A=x?h.startArrow:h.endArrow,m=A.d,M=0,b=g-p,E=y-d,C=Math.atan(b/E);E===0&&b<0?M=Math.PI:b>0&&E>0?M=Math.PI/2-C:b<0&&E<0?M=-Math.PI/2-C:b>=0&&E<0?M=-C-Math.PI/2:b<=0&&E>0&&(M=Math.PI/2-C);var T=a(A);if(!!T){m&&(x?(g=g+Math.sin(Math.abs(C))*m,y=y+Math.cos(Math.abs(C))*m-.5*l.lineWidth):(g=g-Math.sin(Math.abs(C))*m,y=y-Math.cos(Math.abs(C))*m+.5*l.lineWidth)),l.save(),l.beginPath(),l.translate(g,y),l.rotate(M);for(var O=0;O<T.length;O++)T[O].draw(l);l.setTransform(1,0,0,1,0,0),l.fillStyle=l.strokeStyle,l.fill(),l.restore()}}P.exports={addStartArrow:function(h,p,d,g,y,x){typeof p.startArrow=="object"?u(h,p,d,g,y,x,!0):p.startArrow&&n(h,p,d,g,y,x,!0)},addEndArrow:function(h,p,d,g,y,x){typeof p.endArrow=="object"?u(h,p,d,g,y,x,!1):p.endArrow&&n(h,p,d,g,y,x,!1)}}},function(P,S,i){var t=i(2),c=i(93),s=i(94),v=i(173),o=i(174),f=t.vec3,r=t.mat3,e=["m","l","c","a","q","h","v","t","s","z"];function n(g,y,x){return{x:x.x+g,y:x.y+y}}function a(g,y){return{x:y.x+(y.x-g.x),y:y.y+(y.y-g.y)}}function u(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function l(g,y){return(g[0]*y[0]+g[1]*y[1])/(u(g)*u(y))}function h(g,y){return(g[0]*y[1]<g[1]*y[0]?-1:1)*Math.acos(l(g,y))}function p(g,y,x,A,m,M,b){var E=t.mod(t.toRadian(b),Math.PI*2),C=g.x,T=g.y,O=y.x,L=y.y,R=Math.cos(E)*(C-O)/2+Math.sin(E)*(T-L)/2,W=-1*Math.sin(E)*(C-O)/2+Math.cos(E)*(T-L)/2,U=R*R/(m*m)+W*W/(M*M);U>1&&(m*=Math.sqrt(U),M*=Math.sqrt(U));var X=m*m*(W*W)+M*M*(R*R),Z=Math.sqrt((m*m*(M*M)-X)/X);x===A&&(Z*=-1),isNaN(Z)&&(Z=0);var J=Z*m*W/M,ht=Z*-M*R/m,at=(C+O)/2+Math.cos(E)*J-Math.sin(E)*ht,Q=(T+L)/2+Math.sin(E)*J+Math.cos(E)*ht,xt=h([1,0],[(R-J)/m,(W-ht)/M]),kt=[(R-J)/m,(W-ht)/M],Nt=[(-1*R-J)/m,(-1*W-ht)/M],nt=h(kt,Nt);return l(kt,Nt)<=-1&&(nt=Math.PI),l(kt,Nt)>=1&&(nt=0),A===0&&nt>0&&(nt=nt-2*Math.PI),A===1&&nt<0&&(nt=nt+2*Math.PI),[g,at,Q,m,M,xt,nt,E,A]}var d=function(y,x,A){this.preSegment=x,this.isLast=A,this.init(y,x)};t.augment(d,{init:function(y,x){var A=y[0];x=x||{endPoint:{x:0,y:0}};var m=e.indexOf(A)>=0,M=m?A.toUpperCase():A,b=y,E,C,T,O,L=x.endPoint,R=b[1],W=b[2];switch(M){default:break;case"M":m?O=n(R,W,L):O={x:R,y:W},this.command="M",this.params=[L,O],this.subStart=O,this.endPoint=O;break;case"L":m?O=n(R,W,L):O={x:R,y:W},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"H":m?O=n(R,0,L):O={x:R,y:L.y},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"V":m?O=n(0,R,L):O={x:L.x,y:R},this.command="L",this.params=[L,O],this.subStart=x.subStart,this.endPoint=O,this.endTangent=function(){return[O.x-L.x,O.y-L.y]},this.startTangent=function(){return[L.x-O.x,L.y-O.y]};break;case"Q":m?(E=n(R,W,L),C=n(b[3],b[4],L)):(E={x:R,y:W},C={x:b[3],y:b[4]}),this.command="Q",this.params=[L,E,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-E.x,C.y-E.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]};break;case"T":m?C=n(R,W,L):C={x:R,y:W},x.command==="Q"?(E=a(x.params[1],L),this.command="Q",this.params=[L,E,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-E.x,C.y-E.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]}):(this.command="TL",this.params=[L,C],this.subStart=x.subStart,this.endPoint=C,this.endTangent=function(){return[C.x-L.x,C.y-L.y]},this.startTangent=function(){return[L.x-C.x,L.y-C.y]});break;case"C":m?(E=n(R,W,L),C=n(b[3],b[4],L),T=n(b[5],b[6],L)):(E={x:R,y:W},C={x:b[3],y:b[4]},T={x:b[5],y:b[6]}),this.command="C",this.params=[L,E,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]};break;case"S":m?(C=n(R,W,L),T=n(b[3],b[4],L)):(C={x:R,y:W},T={x:b[3],y:b[4]}),x.command==="C"?(E=a(x.params[2],L),this.command="C",this.params=[L,E,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-E.x,L.y-E.y]}):(this.command="SQ",this.params=[L,C,T],this.subStart=x.subStart,this.endPoint=T,this.endTangent=function(){return[T.x-C.x,T.y-C.y]},this.startTangent=function(){return[L.x-C.x,L.y-C.y]});break;case"A":{var U=R,X=W,Z=b[3],J=b[4],ht=b[5];m?O=n(b[6],b[7],L):O={x:b[6],y:b[7]},this.command="A";var at=p(L,O,J,ht,U,X,Z);this.params=at;var Q=x.subStart;this.subStart=Q,this.endPoint=O;var xt=at[5]%(Math.PI*2);t.isNumberEqual(xt,Math.PI*2)&&(xt=0);var kt=at[6]%(Math.PI*2);t.isNumberEqual(kt,Math.PI*2)&&(kt=0);var Nt=.001;this.startTangent=function(){ht===0&&(Nt*=-1);var nt=at[3]*Math.cos(xt-Nt)+at[1],q=at[4]*Math.sin(xt-Nt)+at[2];return[nt-Q.x,q-Q.y]},this.endTangent=function(){var nt=at[6];nt-Math.PI*2<1e-4&&(nt=0);var q=at[3]*Math.cos(xt+nt+Nt)+at[1],G=at[4]*Math.sin(xt+nt-Nt)+at[2];return[L.x-q,L.y-G]};break}case"Z":this.command="Z",this.params=[L,x.subStart],this.subStart=x.subStart,this.endPoint=x.subStart}},isInside:function(y,x,A){var m=this,M=m.command,b=m.params,E=m.box;if(E&&!c.box(E.minX,E.maxX,E.minY,E.maxY,y,x))return!1;switch(M){default:break;case"M":return!1;case"TL":case"L":case"Z":return c.line(b[0].x,b[0].y,b[1].x,b[1].y,A,y,x);case"SQ":case"Q":return c.quadraticline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,A,y,x);case"C":return c.cubicline(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,A,y,x);case"A":{var C=b,T=C[1],O=C[2],L=C[3],R=C[4],W=C[5],U=C[6],X=C[7],Z=C[8],J=L>R?L:R,ht=L>R?1:L/R,at=L>R?R/L:1;C=[y,x,1];var Q=[1,0,0,0,1,0,0,0,1];return r.translate(Q,Q,[-T,-O]),r.rotate(Q,Q,-X),r.scale(Q,Q,[1/ht,1/at]),f.transformMat3(C,C,Q),c.arcline(0,0,J,W,W+U,1-Z,A,C[0],C[1])}}return!1},draw:function(y){var x=this.command,A=this.params,m,M,b;switch(x){default:break;case"M":y.moveTo(A[1].x,A[1].y);break;case"TL":case"L":y.lineTo(A[1].x,A[1].y);break;case"SQ":case"Q":m=A[1],M=A[2],y.quadraticCurveTo(m.x,m.y,M.x,M.y);break;case"C":m=A[1],M=A[2],b=A[3],y.bezierCurveTo(m.x,m.y,M.x,M.y,b.x,b.y);break;case"A":{var E=A,C=E[1],T=E[2],O=C,L=T,R=E[3],W=E[4],U=E[5],X=E[6],Z=E[7],J=E[8],ht=R>W?R:W,at=R>W?1:R/W,Q=R>W?W/R:1;y.translate(O,L),y.rotate(Z),y.scale(at,Q),y.arc(0,0,ht,U,U+X,1-J),y.scale(1/at,1/Q),y.rotate(-Z),y.translate(-O,-L);break}case"Z":y.closePath();break}},getBBox:function(y){var x=y/2,A=this.params,m,M,b,E;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(A[0].x,A[1].x)-x,maxX:Math.max(A[0].x,A[1].x)+x,minY:Math.min(A[0].y,A[1].y)-x,maxY:Math.max(A[0].y,A[1].y)+x};break;case"SQ":case"Q":for(M=v.extrema(A[0].x,A[1].x,A[2].x),b=0,E=M.length;b<E;b++)M[b]=v.at(A[0].x,A[1].x,A[2].x,M[b]);for(M.push(A[0].x,A[2].x),m=v.extrema(A[0].y,A[1].y,A[2].y),b=0,E=m.length;b<E;b++)m[b]=v.at(A[0].y,A[1].y,A[2].y,m);m.push(A[0].y,A[2].y),this.box={minX:Math.min.apply(Math,M)-x,maxX:Math.max.apply(Math,M)+x,minY:Math.min.apply(Math,m)-x,maxY:Math.max.apply(Math,m)+x};break;case"C":for(M=s.extrema(A[0].x,A[1].x,A[2].x,A[3].x),b=0,E=M.length;b<E;b++)M[b]=s.at(A[0].x,A[1].x,A[2].x,A[3].x,M[b]);for(m=s.extrema(A[0].y,A[1].y,A[2].y,A[3].y),b=0,E=m.length;b<E;b++)m[b]=s.at(A[0].y,A[1].y,A[2].y,A[3].y,m[b]);M.push(A[0].x,A[3].x),m.push(A[0].y,A[3].y),this.box={minX:Math.min.apply(Math,M)-x,maxX:Math.max.apply(Math,M)+x,minY:Math.min.apply(Math,m)-x,maxY:Math.max.apply(Math,m)+x};break;case"A":{var C=A,T=C[1],O=C[2],L=C[3],R=C[4],W=C[5],U=C[6],X=C[7],Z=C[8],J=W,ht=W+U,at=o.xExtrema(X,L,R),Q=Infinity,xt=-Infinity,kt=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var Nt=at+b;Z===1?J<Nt&&Nt<ht&&kt.push(Nt):ht<Nt&&Nt<J&&kt.push(Nt)}for(b=0,E=kt.length;b<E;b++){var nt=o.xAt(X,L,R,T,kt[b]);nt<Q&&(Q=nt),nt>xt&&(xt=nt)}var q=o.yExtrema(X,L,R),G=Infinity,N=-Infinity,it=[J,ht];for(b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var H=q+b;Z===1?J<H&&H<ht&&it.push(H):ht<H&&H<J&&it.push(H)}for(b=0,E=it.length;b<E;b++){var ct=o.yAt(X,L,R,O,it[b]);ct<G&&(G=ct),ct>N&&(N=ct)}this.box={minX:Q-x,maxX:xt+x,minY:G-x,maxY:N+x};break}}}}),P.exports=d},function(P,S,i){"use strict";function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function c(n,a){for(var u=0;u<a.length;u++){var l=a[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function s(n,a,u){return a&&c(n.prototype,a),u&&c(n,u),n}var v=i(50),o=i(10),f=v.mat3,r=v.vec3,e=function(){s(n,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]);function n(a){t(this,n);var u=this.getDefaultCfg();o(this,u,a),this.init()}return s(n,[{key:"init",value:function(){var u=this.start,l=this.end,h={x:(u.x+l.x)/2,y:(u.y+l.y)/2};this.center=h,this.width=Math.abs(l.x-u.x),this.height=Math.abs(l.y-u.y)}},{key:"_swapDim",value:function(u){var l=this[u];if(l){var h=l.start;l.start=l.end,l.end=h}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(u,l){var h=this[l],p=h.start,d=h.end;return p+u*(d-p)}},{key:"invertDim",value:function(u,l){var h=this[l],p=h.start,d=h.end;return(u-p)/(d-p)}},{key:"convertPoint",value:function(u){return u}},{key:"invertPoint",value:function(u){return u}},{key:"applyMatrix",value:function(u,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=this.matrix,d=[u,l,h];return r.transformMat3(d,d,p),d}},{key:"invertMatrix",value:function(u,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=this.matrix,d=f.invert([],p),g=[u,l,h];return r.transformMat3(g,g,d),g}},{key:"convert",value:function(u){var l=this.convertPoint(u),h=l.x,p=l.y,d=this.applyMatrix(h,p,1);return{x:d[0],y:d[1]}}},{key:"invert",value:function(u){var l=this.invertMatrix(u.x,u.y,1);return this.invertPoint({x:l[0],y:l[1]})}},{key:"rotate",value:function(u){var l=this.matrix,h=this.center;return f.translate(l,l,[-h.x,-h.y]),f.rotate(l,l,u),f.translate(l,l,[h.x,h.y]),this}},{key:"reflect",value:function(u){switch(u){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(u,l){var h=this.matrix,p=this.center;return f.translate(h,h,[-p.x,-p.y]),f.scale(h,h,[u,l]),f.translate(h,h,[p.x,p.y]),this}},{key:"translate",value:function(u,l){var h=this.matrix;return f.translate(h,h,[u,l]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),n}();P.exports=e},function(P,S,i){var t=i(0),c={splitPoints:function(v){var o=[],f=v.x,r=v.y;return r=t.isArray(r)?r:[r],t.each(r,function(e,n){var a={x:t.isArray(f)?f[n]:f,y:e};o.push(a)}),o},addFillAttrs:function(v,o){o.color&&(v.fill=o.color),t.isNumber(o.opacity)&&(v.opacity=v.fillOpacity=o.opacity)},addStrokeAttrs:function(v,o){o.color&&(v.stroke=o.color),t.isNumber(o.opacity)&&(v.opacity=v.strokeOpacity=o.opacity)}};P.exports=c},function(P,S,i){"use strict";i.d(S,"c",function(){return f}),i.d(S,"d",function(){return r}),i.d(S,"b",function(){return a}),i.d(S,"a",function(){return u}),S.g=l,S.h=h,S.f=p;var t=i(509),c=i(101),s=Object(t.a)("start","end","cancel","interrupt"),v=[],o=0,f=1,r=2,e=3,n=4,a=5,u=6;S.e=function(g,y,x,A,m,M){var b=g.__transition;if(!b)g.__transition={};else if(x in b)return;d(g,x,{name:y,index:A,group:m,on:s,tween:v,time:M.time,delay:M.delay,duration:M.duration,ease:M.ease,timer:null,state:o})};function l(g,y){var x=p(g,y);if(x.state>o)throw new Error("too late; already scheduled");return x}function h(g,y){var x=p(g,y);if(x.state>e)throw new Error("too late; already running");return x}function p(g,y){var x=g.__transition;if(!x||!(x=x[y]))throw new Error("transition not found");return x}function d(g,y,x){var A=g.__transition,m;A[y]=x,x.timer=Object(c.timer)(M,0,x.time);function M(T){x.state=f,x.timer.restart(b,x.delay,x.time),x.delay<=T&&b(T-x.delay)}function b(T){var O,L,R,W;if(x.state!==f)return C();for(O in A)if(W=A[O],W.name===x.name){if(W.state===e)return Object(c.timeout)(b);W.state===n?(W.state=u,W.timer.stop(),W.on.call("interrupt",g,g.__data__,W.index,W.group),delete A[O]):+O<y&&(W.state=u,W.timer.stop(),W.on.call("cancel",g,g.__data__,W.index,W.group),delete A[O])}if(Object(c.timeout)(function(){x.state===e&&(x.state=n,x.timer.restart(E,x.delay,x.time),E(T))}),x.state=r,x.on.call("start",g,g.__data__,x.index,x.group),x.state===r){for(x.state=e,m=new Array(R=x.tween.length),O=0,L=-1;O<R;++O)(W=x.tween[O].value.call(g,g.__data__,x.index,x.group))&&(m[++L]=W);m.length=L+1}}function E(T){for(var O=T<x.duration?x.ease.call(null,T/x.duration):(x.timer.restart(C),x.state=a,1),L=-1,R=m.length;++L<R;)m[L].call(g,O);x.state===a&&(x.on.call("end",g,g.__data__,x.index,x.group),C())}function C(){x.state=u,x.timer.stop(),delete A[y];for(var T in A)return;delete g.__transition}}},function(P,S,i){P.exports={isFunction:i(13),isObject:i(22),isBoolean:i(60),isNil:i(6),isString:i(12),isArray:i(5),isNumber:i(11),isEmpty:i(61),uniqueId:i(62),clone:i(39),deepMix:i(27),assign:i(10),merge:i(27),upperFirst:i(64),each:i(3),isEqual:i(40),toArray:i(29),extend:i(65),augment:i(66),remove:i(67),isNumberEqual:i(30),toRadian:i(68),toDegree:i(69),mod:i(70),clamp:i(41),createDom:i(71),modifyCSS:i(72),requestAnimationFrame:i(73),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,S,i){var t=i(14),c=function(v){return t(v,"Boolean")};P.exports=c},function(P,S,i){var t=i(6),c=i(15),s=i(113),v=i(114),o=Object.prototype.hasOwnProperty;function f(r){if(t(r))return!0;if(c(r))return!r.length;var e=s(r);if(e==="Map"||e==="Set")return!r.size;if(v(r))return!Object.keys(r).length;for(var n in r)if(o.call(r,n))return!1;return!0}P.exports=f},function(P,S){var i=function(){var t={};return function(c){return c=c||"g",t[c]?t[c]+=1:t[c]=1,c+t[c]}}();P.exports=i},function(P,S){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t=function(s){return(typeof s=="undefined"?"undefined":i(s))==="object"&&s!==null};P.exports=t},function(P,S,i){var t=i(26),c=function(v){var o=t(v);return o.charAt(0).toUpperCase()+o.substring(1)};P.exports=c},function(P,S,i){var t=i(13),c=i(10),s=function(o,f,r,e){t(f)||(r=f,f=o,o=function(){});var n=Object.create?function(u,l){return Object.create(u,{constructor:{value:l}})}:function(u,l){function h(){}h.prototype=u;var p=new h;return p.constructor=l,p},a=n(f.prototype,o);return o.prototype=c(a,o.prototype),o.superclass=n(f.prototype,f),c(a,r),c(o,e),o};P.exports=s},function(P,S,i){var t=i(13),c=i(29),s=i(10),v=function(f){for(var r=c(arguments),e=1;e<r.length;e++){var n=r[e];t(n)&&(n=n.prototype),s(f.prototype,n)}};P.exports=v},function(P,S){var i=Array.prototype,t=i.splice,c=i.indexOf,s=i.slice,v=function(f){for(var r=s.call(arguments,1),e=0;e<r.length;e++)for(var n=r[e],a=-1;(a=c.call(f,n))>-1;)t.call(f,a,1);return f};P.exports=v},function(P,S){var i=Math.PI/180,t=function(s){return i*s};P.exports=t},function(P,S){var i=180/Math.PI,t=function(s){return i*s};P.exports=t},function(P,S){var i=function(c,s){return(c%s+s)%s};P.exports=i},function(P,S){var i=document.createElement("table"),t=document.createElement("tr"),c=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:t,th:t,"*":document.createElement("div")};P.exports=function(o){var f=c.test(o)&&RegExp.$1;f in s||(f="*");var r=s[f];o=o.replace(/(^\s*)|(\s*$)/g,""),r.innerHTML=""+o;var e=r.childNodes[0];return r.removeChild(e),e}},function(P,S){P.exports=function(t,c){if(t)for(var s in c)c.hasOwnProperty(s)&&(t.style[s]=c[s]);return t}},function(P,S){P.exports=function(t){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(s){return setTimeout(s,16)};return c(t)}},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=v,S.toRadian=f,S.equals=r;var t=S.EPSILON=1e-6,c=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,s=S.RANDOM=Math.random;function v(e){S.ARRAY_TYPE=c=e}var o=Math.PI/180;function f(e){return e*o}function r(e,n){return Math.abs(e-n)<=t*Math.max(1,Math.abs(e),Math.abs(n))}},function(P,S,i){var t=i(219),c=i(41);t.angle=function(s,v){var o=t.dot(s,v)/(t.length(s)*t.length(v));return Math.acos(c(o,-1,1))},t.direction=function(s,v){return s[0]*v[1]-v[0]*s[1]},t.angleTo=function(s,v,o){var f=t.angle(s,v),r=t.direction(s,v)>=0;return o?r?Math.PI*2-f:f:r?f:Math.PI*2-f},t.vertical=function(s,v,o){return o?(s[0]=v[1],s[1]=-1*v[0]):(s[0]=-1*v[1],s[1]=v[0]),s},P.exports=t},function(P,S,i){var t=i(220);P.exports=t},function(P,S,i){var t=i(39),c=i(3),s=i(42);P.exports=function(o,f){return o=t(o),c(f,function(r){switch(r[0]){case"t":s.translate(o,o,[r[1],r[2]]);break;case"s":s.scale(o,o,[r[1],r[2]]);break;case"r":s.rotate(o,o,r[1]);break;case"m":s.multiply(o,o,r[1]);break;default:return!1}}),o}},function(P,S,i){var t=i(1),c=function(v,o,f,r){this.type=v,this.target=null,this.currentTarget=null,this.bubbles=f,this.cancelable=r,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=o};t.augment(c,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return t.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),P.exports=c},function(P,S,i){var t=i(43),c=i(118),s=i(80),v=i(44);P.exports={line:function(f,r,e,n,a,u,l){var h=t.box(f,r,e,n,a);if(!this.box(h.minX,h.maxX,h.minY,h.maxY,u,l))return!1;var p=t.pointDistance(f,r,e,n,u,l);return isNaN(p)?!1:p<=a/2},polyline:function(f,r,e,n){var a=f.length-1;if(a<1)return!1;for(var u=0;u<a;u++){var l=f[u][0],h=f[u][1],p=f[u+1][0],d=f[u+1][1];if(this.line(l,h,p,d,r,e,n))return!0}return!1},cubicline:function(f,r,e,n,a,u,l,h,p,d,g){return s.pointDistance(f,r,e,n,a,u,l,h,d,g)<=p/2},quadraticline:function(f,r,e,n,a,u,l,h,p){return c.pointDistance(f,r,e,n,a,u,h,p)<=l/2},arcline:function(f,r,e,n,a,u,l,h,p){return v.pointDistance(f,r,e,n,a,u,h,p)<=l/2},rect:function(f,r,e,n,a,u){return f<=a&&a<=f+e&&r<=u&&u<=r+n},circle:function(f,r,e,n,a){return Math.pow(n-f,2)+Math.pow(a-r,2)<=Math.pow(e,2)},box:function(f,r,e,n,a,u){return f<=a&&a<=r&&e<=u&&u<=n}}},function(P,S,i){var t=i(1),c=t.vec2;function s(n,a,u,l,h){var p=1-h;return p*p*(p*l+3*h*u)+h*h*(h*n+3*p*a)}function v(n,a,u,l,h){var p=1-h;return 3*(((a-n)*p+2*(u-a)*h)*p+(l-u)*h*h)}function o(n,a,u,l,h,p,d,g,y,x,A){var m,M=.005,b=Infinity,E,C,T,O,L,R,W,U=1e-4,X=[y,x];for(E=0;E<1;E+=.05)C=[s(n,u,h,d,E),s(a,l,p,g,E)],T=c.squaredDistance(X,C),T<b&&(m=E,b=T);b=Infinity;for(var Z=0;Z<32&&!(M<U);Z++)R=m-M,W=m+M,C=[s(n,u,h,d,R),s(a,l,p,g,R)],T=c.squaredDistance(X,C),R>=0&&T<b?(m=R,b=T):(L=[s(n,u,h,d,W),s(a,l,p,g,W)],O=c.squaredDistance(X,L),W<=1&&O<b?(m=W,b=O):M*=.5);return A&&(A.x=s(n,u,h,d,m),A.y=s(a,l,p,g,m)),Math.sqrt(b)}function f(n,a,u,l){var h=3*n-9*a+9*u-3*l,p=6*a-12*u+6*l,d=3*u-3*l,g=[],y,x,A;if(t.isNumberEqual(h,0))t.isNumberEqual(p,0)||(y=-d/p,y>=0&&y<=1&&g.push(y));else{var m=p*p-4*h*d;t.isNumberEqual(m,0)?g.push(-p/(2*h)):m>0&&(A=Math.sqrt(m),y=(-p+A)/(2*h),x=(-p-A)/(2*h),y>=0&&y<=1&&g.push(y),x>=0&&x<=1&&g.push(x))}return g}function r(n,a,u,l,h){var p=-3*a+9*u-9*l+3*h,d=n*p+6*a-12*u+6*l;return n*d-3*a+3*u}function e(n,a,u,l,h,p,d,g,y){t.isNil(y)&&(y=1),y=y>1?1:y<0?0:y;for(var x=y/2,A=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],b=0,E=0;E<A;E++){var C=x*m[E]+x,T=r(C,n,u,h,d),O=r(C,a,l,p,g),L=T*T+O*O;b+=M[E]*Math.sqrt(L)}return x*b}P.exports={at:s,derivativeAt:v,projectPoint:function(a,u,l,h,p,d,g,y,x,A){var m={};return o(a,u,l,h,p,d,g,y,x,A,m),m},pointDistance:o,extrema:f,len:e}},function(P,S,i){var t=i(1),c=i(7),s=i(31),v=i(46),o=function f(r){f.superclass.constructor.call(this,r)};o.Symbols={circle:function(r,e,n){return[["M",r,e],["m",-n,0],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0]]},square:function(r,e,n){return[["M",r-n,e-n],["L",r+n,e-n],["L",r+n,e+n],["L",r-n,e+n],["Z"]]},diamond:function(r,e,n){return[["M",r-n,e],["L",r,e-n],["L",r+n,e],["L",r,e+n],["Z"]]},triangle:function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e+a],["L",r,e-a],["L",r+n,e+a],["z"]]},"triangle-down":function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e-a],["L",r+n,e-a],["L",r,e+a],["Z"]]}},o.ATTRS={path:null,lineWidth:1},t.extend(o,c),t.augment(o,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=this.getHitLineWidth(),l=u/2+a;return{minX:e-l,minY:n-l,maxX:e+l,maxY:n+l}},_getPath:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=r.symbol||"circle",l;return t.isFunction(u)?l=u:l=o.Symbols[u],l?l(e,n,a):(console.warn(u+" marker is not supported."),null)},createPath:function(r){var e=this._cfg.segments;if(e&&!this._cfg.hasUpdate){r.beginPath();for(var n=0;n<e.length;n++)e[n].draw(r);return}var a=s.parsePath(this._getPath());r.beginPath();var u;e=[];for(var l=0;l<a.length;l++){var h=a[l];u=new v(h,u,l===a.length-1),e.push(u),u.draw(r)}this._cfg.segments=e,this._cfg.hasUpdate=!1}}),P.exports=o},function(P,S,i){var t=i(59),c=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,s=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig"),o=function(nt){if(!nt)return null;if(typeof nt==typeof[])return nt;var q={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},G=[];return String(nt).replace(s,function(N,it,H){var ct=[],ft=it.toLowerCase();if(H.replace(v,function(K,$){$&&ct.push(+$)}),ft==="m"&&ct.length>2&&(G.push([it].concat(ct.splice(0,2))),ft="l",it=it==="m"?"l":"L"),ft==="o"&&ct.length===1&&G.push([it,ct[0]]),ft==="r")G.push([it].concat(ct));else for(;ct.length>=q[ft]&&(G.push([it].concat(ct.splice(0,q[ft]))),!!q[ft]););}),G},f=function(nt,q){for(var G=[],N=0,it=nt.length;it-2*!q>N;N+=2){var H=[{x:+nt[N-2],y:+nt[N-1]},{x:+nt[N],y:+nt[N+1]},{x:+nt[N+2],y:+nt[N+3]},{x:+nt[N+4],y:+nt[N+5]}];q?N?it-4===N?H[3]={x:+nt[0],y:+nt[1]}:it-2===N&&(H[2]={x:+nt[0],y:+nt[1]},H[3]={x:+nt[2],y:+nt[3]}):H[0]={x:+nt[it-2],y:+nt[it-1]}:it-4===N?H[3]=H[2]:N||(H[0]={x:+nt[N],y:+nt[N+1]}),G.push(["C",(-H[0].x+6*H[1].x+H[2].x)/6,(-H[0].y+6*H[1].y+H[2].y)/6,(H[1].x+6*H[2].x-H[3].x)/6,(H[1].y+6*H[2].y-H[3].y)/6,H[2].x,H[2].y])}return G},r=function(nt,q,G,N,it){var H=[];if(it===null&&N===null&&(N=G),nt=+nt,q=+q,G=+G,N=+N,it!==null){var ct=Math.PI/180,ft=nt+G*Math.cos(-N*ct),K=nt+G*Math.cos(-it*ct),$=q+G*Math.sin(-N*ct),et=q+G*Math.sin(-it*ct);H=[["M",ft,$],["A",G,G,0,+(it-N>180),0,K,et]]}else H=[["M",nt,q],["m",0,-N],["a",G,N,0,1,1,0,2*N],["a",G,N,0,1,1,0,-2*N],["z"]];return H},e=function(nt){if(nt=o(nt),!nt||!nt.length)return[["M",0,0]];var q=[],G=0,N=0,it=0,H=0,ct=0,ft,K;nt[0][0]==="M"&&(G=+nt[0][1],N=+nt[0][2],it=G,H=N,ct++,q[0]=["M",G,N]);for(var $=nt.length===3&&nt[0][0]==="M"&&nt[1][0].toUpperCase()==="R"&&nt[2][0].toUpperCase()==="Z",et,j,w=ct,D=nt.length;w<D;w++){if(q.push(et=[]),j=nt[w],ft=j[0],ft!==ft.toUpperCase())switch(et[0]=ft.toUpperCase(),et[0]){case"A":et[1]=j[1],et[2]=j[2],et[3]=j[3],et[4]=j[4],et[5]=j[5],et[6]=+j[6]+G,et[7]=+j[7]+N;break;case"V":et[1]=+j[1]+N;break;case"H":et[1]=+j[1]+G;break;case"R":K=[G,N].concat(j.slice(1));for(var V=2,tt=K.length;V<tt;V++)K[V]=+K[V]+G,K[++V]=+K[V]+N;q.pop(),q=q.concat(f(K,$));break;case"O":q.pop(),K=r(G,N,j[1],j[2]),K.push(K[0]),q=q.concat(K);break;case"U":q.pop(),q=q.concat(r(G,N,j[1],j[2],j[3])),et=["U"].concat(q[q.length-1].slice(-2));break;case"M":it=+j[1]+G,H=+j[2]+N;break;default:for(var lt=1,St=j.length;lt<St;lt++)et[lt]=+j[lt]+(lt%2?G:N)}else if(ft==="R")K=[G,N].concat(j.slice(1)),q.pop(),q=q.concat(f(K,$)),et=["R"].concat(j.slice(-2));else if(ft==="O")q.pop(),K=r(G,N,j[1],j[2]),K.push(K[0]),q=q.concat(K);else if(ft==="U")q.pop(),q=q.concat(r(G,N,j[1],j[2],j[3])),et=["U"].concat(q[q.length-1].slice(-2));else for(var ot=0,Mt=j.length;ot<Mt;ot++)et[ot]=j[ot];if(ft=ft.toUpperCase(),ft!=="O")switch(et[0]){case"Z":G=+it,N=+H;break;case"H":G=et[1];break;case"V":N=et[1];break;case"M":it=et[et.length-2],H=et[et.length-1];break;default:G=et[et.length-2],N=et[et.length-1]}}return q},n=function(nt,q,G,N){return[nt,q,G,N,G,N]},a=function(nt,q,G,N,it,H){var ct=1/3,ft=2/3;return[ct*nt+ft*G,ct*q+ft*N,ct*it+ft*G,ct*H+ft*N,it,H]},u=function Nt(nt,q,G,N,it,H,ct,ft,K,$){G===N&&(G+=1);var et=Math.PI*120/180,j=Math.PI/180*(+it||0),w=[],D,V,tt,lt,St,ot=function(Or,sr,Dr){var En=Or*Math.cos(Dr)-sr*Math.sin(Dr),Yn=Or*Math.sin(Dr)+sr*Math.cos(Dr);return{x:En,y:Yn}};if($)V=$[0],tt=$[1],lt=$[2],St=$[3];else{D=ot(nt,q,-j),nt=D.x,q=D.y,D=ot(ft,K,-j),ft=D.x,K=D.y,nt===ft&&q===K&&(ft+=1,K+=1);var Mt=(nt-ft)/2,Ot=(q-K)/2,Ft=Mt*Mt/(G*G)+Ot*Ot/(N*N);Ft>1&&(Ft=Math.sqrt(Ft),G=Ft*G,N=Ft*N);var zt=G*G,$t=N*N,he=(H===ct?-1:1)*Math.sqrt(Math.abs((zt*$t-zt*Ot*Ot-$t*Mt*Mt)/(zt*Ot*Ot+$t*Mt*Mt)));lt=he*G*Ot/N+(nt+ft)/2,St=he*-N*Mt/G+(q+K)/2,V=Math.asin(((q-St)/N).toFixed(9)),tt=Math.asin(((K-St)/N).toFixed(9)),V=nt<lt?Math.PI-V:V,tt=ft<lt?Math.PI-tt:tt,V<0&&(V=Math.PI*2+V),tt<0&&(tt=Math.PI*2+tt),ct&&V>tt&&(V=V-Math.PI*2),!ct&&tt>V&&(tt=tt-Math.PI*2)}var ye=tt-V;if(Math.abs(ye)>et){var tr=tt,nr=ft,Xe=K;tt=V+et*(ct&&tt>V?1:-1),ft=lt+G*Math.cos(tt),K=St+N*Math.sin(tt),w=Nt(ft,K,G,N,it,0,ct,nr,Xe,[tt,tr,lt,St])}ye=tt-V;var yr=Math.cos(V),Vr=Math.sin(V),Ee=Math.cos(tt),de=Math.sin(tt),Ge=Math.tan(ye/4),ke=4/3*G*Ge,Kr=4/3*N*Ge,fn=[nt,q],pi=[nt+ke*Vr,q-Kr*yr],Vi=[ft+ke*de,K-Kr*Ee],ea=[ft,K];if(pi[0]=2*fn[0]-pi[0],pi[1]=2*fn[1]-pi[1],$)return[pi,Vi,ea].concat(w);w=[pi,Vi,ea].concat(w).join().split(",");for(var zi=[],Te=0,Be=w.length;Te<Be;Te++)zi[Te]=Te%2?ot(w[Te-1],w[Te],j).y:ot(w[Te],w[Te+1],j).x;return zi},l=function(nt,q){var G=e(nt),N=q&&e(q),it={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ct=[],ft=[],K="",$="",et,j=function(Ot,Ft,zt){var $t,he;if(!Ot)return["C",Ft.x,Ft.y,Ft.x,Ft.y,Ft.x,Ft.y];switch(!(Ot[0]in{T:1,Q:1})&&(Ft.qx=Ft.qy=null),Ot[0]){case"M":Ft.X=Ot[1],Ft.Y=Ot[2];break;case"A":Ot=["C"].concat(u.apply(0,[Ft.x,Ft.y].concat(Ot.slice(1))));break;case"S":zt==="C"||zt==="S"?($t=Ft.x*2-Ft.bx,he=Ft.y*2-Ft.by):($t=Ft.x,he=Ft.y),Ot=["C",$t,he].concat(Ot.slice(1));break;case"T":zt==="Q"||zt==="T"?(Ft.qx=Ft.x*2-Ft.qx,Ft.qy=Ft.y*2-Ft.qy):(Ft.qx=Ft.x,Ft.qy=Ft.y),Ot=["C"].concat(a(Ft.x,Ft.y,Ft.qx,Ft.qy,Ot[1],Ot[2]));break;case"Q":Ft.qx=Ot[1],Ft.qy=Ot[2],Ot=["C"].concat(a(Ft.x,Ft.y,Ot[1],Ot[2],Ot[3],Ot[4]));break;case"L":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ot[2]));break;case"H":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ft.y));break;case"V":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.x,Ot[1]));break;case"Z":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.X,Ft.Y));break;default:break}return Ot},w=function(Ot,Ft){if(Ot[Ft].length>7){Ot[Ft].shift();for(var zt=Ot[Ft];zt.length;)ct[Ft]="A",N&&(ft[Ft]="A"),Ot.splice(Ft++,0,["C"].concat(zt.splice(0,6)));Ot.splice(Ft,1),et=Math.max(G.length,N&&N.length||0)}},D=function(Ot,Ft,zt,$t,he){Ot&&Ft&&Ot[he][0]==="M"&&Ft[he][0]!=="M"&&(Ft.splice(he,0,["M",$t.x,$t.y]),zt.bx=0,zt.by=0,zt.x=Ot[he][1],zt.y=Ot[he][2],et=Math.max(G.length,N&&N.length||0))};et=Math.max(G.length,N&&N.length||0);for(var V=0;V<et;V++){G[V]&&(K=G[V][0]),K!=="C"&&(ct[V]=K,V&&($=ct[V-1])),G[V]=j(G[V],it,$),ct[V]!=="A"&&K==="C"&&(ct[V]="C"),w(G,V),N&&(N[V]&&(K=N[V][0]),K!=="C"&&(ft[V]=K,V&&($=ft[V-1])),N[V]=j(N[V],H,$),ft[V]!=="A"&&K==="C"&&(ft[V]="C"),w(N,V)),D(G,N,it,H,V),D(N,G,H,it,V);var tt=G[V],lt=N&&N[V],St=tt.length,ot=N&&lt.length;it.x=tt[St-2],it.y=tt[St-1],it.bx=parseFloat(tt[St-4])||it.x,it.by=parseFloat(tt[St-3])||it.y,H.bx=N&&(parseFloat(lt[ot-4])||H.x),H.by=N&&(parseFloat(lt[ot-3])||H.y),H.x=N&&lt[ot-2],H.y=N&&lt[ot-1]}return N?[G,N]:G},h=/,?([a-z]),?/gi,p=function(nt){return nt.join(",").replace(h,"$1")},d=function(nt,q,G,N,it){var H=-3*q+9*G-9*N+3*it,ct=nt*H+6*q-12*G+6*N;return nt*ct-3*q+3*G},g=function(nt,q,G,N,it,H,ct,ft,K){K===null&&(K=1),K=K>1?1:K<0?0:K;for(var $=K/2,et=12,j=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],w=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],D=0,V=0;V<et;V++){var tt=$*j[V]+$,lt=d(tt,nt,G,it,ct),St=d(tt,q,N,H,ft),ot=lt*lt+St*St;D+=w[V]*Math.sqrt(ot)}return $*D},y=function(nt,q,G,N,it,H,ct,ft){for(var K=[],$=[[],[]],et,j,w,D,V=0;V<2;++V){if(V===0?(j=6*nt-12*G+6*it,et=-3*nt+9*G-9*it+3*ct,w=3*G-3*nt):(j=6*q-12*N+6*H,et=-3*q+9*N-9*H+3*ft,w=3*N-3*q),Math.abs(et)<1e-12){if(Math.abs(j)<1e-12)continue;D=-w/j,D>0&&D<1&&K.push(D);continue}var tt=j*j-4*w*et,lt=Math.sqrt(tt);if(!(tt<0)){var St=(-j+lt)/(2*et);St>0&&St<1&&K.push(St);var ot=(-j-lt)/(2*et);ot>0&&ot<1&&K.push(ot)}}for(var Mt=K.length,Ot=Mt,Ft;Mt--;)D=K[Mt],Ft=1-D,$[0][Mt]=Ft*Ft*Ft*nt+3*Ft*Ft*D*G+3*Ft*D*D*it+D*D*D*ct,$[1][Mt]=Ft*Ft*Ft*q+3*Ft*Ft*D*N+3*Ft*D*D*H+D*D*D*ft;return $[0][Ot]=nt,$[1][Ot]=q,$[0][Ot+1]=ct,$[1][Ot+1]=ft,$[0].length=$[1].length=Ot+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},x=function(nt,q,G,N,it,H,ct,ft){if(!(Math.max(nt,G)<Math.min(it,ct)||Math.min(nt,G)>Math.max(it,ct)||Math.max(q,N)<Math.min(H,ft)||Math.min(q,N)>Math.max(H,ft))){var K=(nt*N-q*G)*(it-ct)-(nt-G)*(it*ft-H*ct),$=(nt*N-q*G)*(H-ft)-(q-N)*(it*ft-H*ct),et=(nt-G)*(H-ft)-(q-N)*(it-ct);if(!!et){var j=K/et,w=$/et,D=+j.toFixed(2),V=+w.toFixed(2);if(!(D<+Math.min(nt,G).toFixed(2)||D>+Math.max(nt,G).toFixed(2)||D<+Math.min(it,ct).toFixed(2)||D>+Math.max(it,ct).toFixed(2)||V<+Math.min(q,N).toFixed(2)||V>+Math.max(q,N).toFixed(2)||V<+Math.min(H,ft).toFixed(2)||V>+Math.max(H,ft).toFixed(2)))return{x:j,y:w}}}},A=function(nt,q,G){return q>=nt.x&&q<=nt.x+nt.width&&G>=nt.y&&G<=nt.y+nt.height},m=function(nt,q,G,N,it){if(it)return[["M",+nt+ +it,q],["l",G-it*2,0],["a",it,it,0,0,1,it,it],["l",0,N-it*2],["a",it,it,0,0,1,-it,it],["l",it*2-G,0],["a",it,it,0,0,1,-it,-it],["l",0,it*2-N],["a",it,it,0,0,1,it,-it],["z"]];var H=[["M",nt,q],["l",G,0],["l",0,N],["l",-G,0],["z"]];return H.parsePathArray=p,H},M=function(nt,q,G,N){return nt===null&&(nt=q=G=N=0),q===null&&(q=nt.y,G=nt.width,N=nt.height,nt=nt.x),{x:nt,y:q,width:G,w:G,height:N,h:N,x2:nt+G,y2:q+N,cx:nt+G/2,cy:q+N/2,r1:Math.min(G,N)/2,r2:Math.max(G,N)/2,r0:Math.sqrt(G*G+N*N)/2,path:m(nt,q,G,N),vb:[nt,q,G,N].join(" ")}},b=function(nt,q){return nt=M(nt),q=M(q),A(q,nt.x,nt.y)||A(q,nt.x2,nt.y)||A(q,nt.x,nt.y2)||A(q,nt.x2,nt.y2)||A(nt,q.x,q.y)||A(nt,q.x2,q.y)||A(nt,q.x,q.y2)||A(nt,q.x2,q.y2)||(nt.x<q.x2&&nt.x>q.x||q.x<nt.x2&&q.x>nt.x)&&(nt.y<q.y2&&nt.y>q.y||q.y<nt.y2&&q.y>nt.y)},E=function(nt,q,G,N,it,H,ct,ft){t.isArray(nt)||(nt=[nt,q,G,N,it,H,ct,ft]);var K=y.apply(null,nt);return M(K.min.x,K.min.y,K.max.x-K.min.x,K.max.y-K.min.y)},C=function(nt,q,G,N,it,H,ct,ft,K){var $=1-K,et=Math.pow($,3),j=Math.pow($,2),w=K*K,D=w*K,V=et*nt+j*3*K*G+$*3*K*K*it+D*ct,tt=et*q+j*3*K*N+$*3*K*K*H+D*ft,lt=nt+2*K*(G-nt)+w*(it-2*G+nt),St=q+2*K*(N-q)+w*(H-2*N+q),ot=G+2*K*(it-G)+w*(ct-2*it+G),Mt=N+2*K*(H-N)+w*(ft-2*H+N),Ot=$*nt+K*G,Ft=$*q+K*N,zt=$*it+K*ct,$t=$*H+K*ft,he=90-Math.atan2(lt-ot,St-Mt)*180/Math.PI;return{x:V,y:tt,m:{x:lt,y:St},n:{x:ot,y:Mt},start:{x:Ot,y:Ft},end:{x:zt,y:$t},alpha:he}},T=function(nt,q,G){var N=E(nt),it=E(q);if(!b(N,it))return G?0:[];for(var H=g.apply(0,nt),ct=g.apply(0,q),ft=~~(H/8),K=~~(ct/8),$=[],et=[],j={},w=G?0:[],D=0;D<ft+1;D++){var V=C.apply(0,nt.concat(D/ft));$.push({x:V.x,y:V.y,t:D/ft})}for(var tt=0;tt<K+1;tt++){var lt=C.apply(0,q.concat(tt/K));et.push({x:lt.x,y:lt.y,t:tt/K})}for(var St=0;St<ft;St++)for(var ot=0;ot<K;ot++){var Mt=$[St],Ot=$[St+1],Ft=et[ot],zt=et[ot+1],$t=Math.abs(Ot.x-Mt.x)<.001?"y":"x",he=Math.abs(zt.x-Ft.x)<.001?"y":"x",ye=x(Mt.x,Mt.y,Ot.x,Ot.y,Ft.x,Ft.y,zt.x,zt.y);if(ye){if(j[ye.x.toFixed(4)]===ye.y.toFixed(4))continue;j[ye.x.toFixed(4)]=ye.y.toFixed(4);var tr=Mt.t+Math.abs((ye[$t]-Mt[$t])/(Ot[$t]-Mt[$t]))*(Ot.t-Mt.t),nr=Ft.t+Math.abs((ye[he]-Ft[he])/(zt[he]-Ft[he]))*(zt.t-Ft.t);tr>=0&&tr<=1&&nr>=0&&nr<=1&&(G?w++:w.push({x:ye.x,y:ye.y,t1:tr,t2:nr}))}}return w},O=function(nt,q,G){nt=l(nt),q=l(q);for(var N,it,H,ct,ft,K,$,et,j,w,D=G?0:[],V=0,tt=nt.length;V<tt;V++){var lt=nt[V];if(lt[0]==="M")N=ft=lt[1],it=K=lt[2];else{lt[0]==="C"?(j=[N,it].concat(lt.slice(1)),N=j[6],it=j[7]):(j=[N,it,N,it,ft,K,ft,K],N=ft,it=K);for(var St=0,ot=q.length;St<ot;St++){var Mt=q[St];if(Mt[0]==="M")H=$=Mt[1],ct=et=Mt[2];else{Mt[0]==="C"?(w=[H,ct].concat(Mt.slice(1)),H=w[6],ct=w[7]):(w=[H,ct,H,ct,$,et,$,et],H=$,ct=et);var Ot=T(j,w,G);if(G)D+=Ot;else{for(var Ft=0,zt=Ot.length;Ft<zt;Ft++)Ot[Ft].segment1=V,Ot[Ft].segment2=St,Ot[Ft].bez1=j,Ot[Ft].bez2=w;D=D.concat(Ot)}}}}}return D},L=function(nt,q){return O(nt,q)};function R(Nt,nt){var q=[],G=[];function N(it,H){if(it.length===1)q.push(it[0]),G.push(it[0]);else{for(var ct=[],ft=0;ft<it.length-1;ft++)ft===0&&q.push(it[0]),ft===it.length-2&&G.push(it[ft+1]),ct[ft]=[(1-H)*it[ft][0]+H*it[ft+1][0],(1-H)*it[ft][1]+H*it[ft+1][1]];N(ct,H)}}return Nt.length&&N(Nt,nt),{left:q,right:G.reverse()}}function W(Nt,nt,q){var G=[[Nt[1],Nt[2]]];q=q||2;var N=[];nt[0]==="A"?(G.push(nt[6]),G.push(nt[7])):nt[0]==="C"?(G.push([nt[1],nt[2]]),G.push([nt[3],nt[4]]),G.push([nt[5],nt[6]])):nt[0]==="S"||nt[0]==="Q"?(G.push([nt[1],nt[2]]),G.push([nt[3],nt[4]])):G.push([nt[1],nt[2]]);for(var it=G,H=1/q,ct=0;ct<q-1;ct++){var ft=H/(1-H*ct),K=R(it,ft);N.push(K.left),it=K.right}N.push(it);var $=N.map(function(et){var j=[];return et.length===4&&(j.push("C"),j=j.concat(et[2])),et.length>=3&&(et.length===3&&j.push("Q"),j=j.concat(et[1])),et.length===2&&j.push("L"),j=j.concat(et[et.length-1]),j});return $}var U=function(nt,q,G){if(G===1)return[[].concat(nt)];var N=[];if(q[0]==="L"||q[0]==="C"||q[0]==="Q")N=N.concat(W(nt,q,G));else{var it=[].concat(nt);it[0]==="M"&&(it[0]="L");for(var H=0;H<=G-1;H++)N.push(it)}return N},X=function(nt,q){if(nt.length===1)return nt;var G=nt.length-1,N=q.length-1,it=G/N,H=[];if(nt.length===1&&nt[0][0]==="M"){for(var ct=0;ct<N-G;ct++)nt.push(nt[0]);return nt}for(var ft=0;ft<N;ft++){var K=Math.floor(it*ft);H[K]=(H[K]||0)+1}var $=H.reduce(function(et,j,w){return w===G?et.concat(nt[G]):et.concat(U(nt[w],nt[w+1],j))},[]);return $.unshift(nt[0]),(q[N]==="Z"||q[N]==="z")&&$.push("Z"),$},Z=function(nt,q){if(nt.length!==q.length)return!1;var G=!0;return t.each(nt,function(N,it){if(N!==q[it])return G=!1,!1}),G};function J(Nt,nt,q){var G=null,N=q;return nt<N&&(N=nt,G="add"),Nt<N&&(N=Nt,G="del"),{type:G,min:N}}var ht=function(nt,q){var G=nt.length,N=q.length,it,H,ct=0;if(G===0||N===0)return null;for(var ft=[],K=0;K<=G;K++)ft[K]=[],ft[K][0]={min:K};for(var $=0;$<=N;$++)ft[0][$]={min:$};for(var et=1;et<=G;et++){it=nt[et-1];for(var j=1;j<=N;j++){H=q[j-1],Z(it,H)?ct=0:ct=1;var w=ft[et-1][j].min+1,D=ft[et][j-1].min+1,V=ft[et-1][j-1].min+ct;ft[et][j]=J(w,D,V)}}return ft},at=function(nt,q){var G=ht(nt,q),N=nt.length,it=q.length,H=[],ct=1,ft=1;if(G[N][it]!==N){for(var K=1;K<=N;K++){var $=G[K][K].min;ft=K;for(var et=ct;et<=it;et++)G[K][et].min<$&&($=G[K][et].min,ft=et);ct=ft,G[K][ct].type&&H.push({index:K-1,type:G[K][ct].type})}for(var j=H.length-1;j>=0;j--)ct=H[j].index,H[j].type==="add"?nt.splice(ct,0,[].concat(nt[ct])):nt.splice(ct,1)}N=nt.length;var w=it-N;if(N<it)for(var D=0;D<w;D++)nt[N-1][0]==="z"||nt[N-1][0]==="Z"?nt.splice(N-2,0,nt[N-2]):nt.push(nt[N-1]),N+=1;return nt};function Q(Nt,nt,q){for(var G=[].concat(Nt),N,it=1/(q+1),H=xt(nt)[0],ct=1;ct<=q;ct++)it*=ct,N=Math.floor(Nt.length*it),N===0?G.unshift([H[0]*it+Nt[N][0]*(1-it),H[1]*it+Nt[N][1]*(1-it)]):G.splice(N,0,[H[0]*it+Nt[N][0]*(1-it),H[1]*it+Nt[N][1]*(1-it)]);return G}function xt(Nt){var nt=[];switch(Nt[0]){case"M":nt.push([Nt[1],Nt[2]]);break;case"L":nt.push([Nt[1],Nt[2]]);break;case"A":nt.push([Nt[6],Nt[7]]);break;case"Q":nt.push([Nt[3],Nt[4]]),nt.push([Nt[1],Nt[2]]);break;case"T":nt.push([Nt[1],Nt[2]]);break;case"C":nt.push([Nt[5],Nt[6]]),nt.push([Nt[1],Nt[2]]),nt.push([Nt[3],Nt[4]]);break;case"S":nt.push([Nt[3],Nt[4]]),nt.push([Nt[1],Nt[2]]);break;case"H":nt.push([Nt[1],Nt[1]]);break;case"V":nt.push([Nt[1],Nt[1]]);break;default:}return nt}var kt=function(nt,q){if(nt.length<=1)return nt;for(var G,N=0;N<q.length;N++)if(nt[N][0]!==q[N][0])switch(G=xt(nt[N]),q[N][0]){case"M":nt[N]=["M"].concat(G[0]);break;case"L":nt[N]=["L"].concat(G[0]);break;case"A":nt[N]=[].concat(q[N]),nt[N][6]=G[0][0],nt[N][7]=G[0][1];break;case"Q":if(G.length<2)if(N>0)G=Q(G,nt[N-1],1);else{nt[N]=q[N];break}nt[N]=["Q"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;case"T":nt[N]=["T"].concat(G[0]);break;case"C":if(G.length<3)if(N>0)G=Q(G,nt[N-1],2);else{nt[N]=q[N];break}nt[N]=["C"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;case"S":if(G.length<2)if(N>0)G=Q(G,nt[N-1],1);else{nt[N]=q[N];break}nt[N]=["S"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;default:nt[N]=q[N]}return nt};P.exports={parsePathString:o,parsePathArray:p,pathTocurve:l,pathToAbsolute:e,catmullRomToBezier:f,rectPath:m,fillPath:X,fillPathByDiff:at,formatPath:kt,intersection:L}},function(P,S,i){"use strict";S.b=l,S.a=p,S.c=d,S.d=g;var t=0,c=0,s=0,v=1e3,o,f,r=0,e=0,n=0,a=typeof performance=="object"&&performance.now?performance:Date,u=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(M){setTimeout(M,17)};function l(){return e||(u(h),e=a.now()+n)}function h(){e=0}function p(){this._call=this._time=this._next=null}p.prototype=d.prototype={constructor:p,restart:function(M,b,E){if(typeof M!="function")throw new TypeError("callback is not a function");E=(E==null?l():+E)+(b==null?0:+b),!this._next&&f!==this&&(f?f._next=this:o=this,f=this),this._call=M,this._time=E,m()},stop:function(){this._call&&(this._call=null,this._time=Infinity,m())}};function d(M,b,E){var C=new p;return C.restart(M,b,E),C}function g(){l(),++t;for(var M=o,b;M;)(b=e-M._time)>=0&&M._call.call(null,b),M=M._next;--t}function y(){e=(r=a.now())+n,t=c=0;try{g()}finally{t=0,A(),e=0}}function x(){var M=a.now(),b=M-r;b>v&&(n-=b,r=M)}function A(){for(var M,b=o,E,C=Infinity;b;)b._call?(C>b._time&&(C=b._time),M=b,b=b._next):(E=b._next,b._next=null,b=M?M._next=E:o=E);f=M,m(C)}function m(M){if(!t){c&&(c=clearTimeout(c));var b=M-e;b>24?(M<Infinity&&(c=setTimeout(y,M-a.now()-n)),s&&(s=clearInterval(s))):(s||(r=a.now(),s=setInterval(x,v)),t=1,u(y))}}},function(P,S,i){"use strict";var t=i(19),c=i(135),s=i(138),v=i(139),o=i(47),f=i(140),r=i(141),e=i(137);S.a=function(n,a){var u=typeof a,l;return a==null||u==="boolean"?Object(e.a)(a):(u==="number"?o.a:u==="string"?(l=Object(t.a)(a))?(a=l,c.a):r.a:a instanceof t.a?c.a:a instanceof Date?v.a:Array.isArray(a)?s.a:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?f.a:o.a)(n,a)}},function(P,S,i){"use strict";S.a=c,i.d(S,"d",function(){return s}),i.d(S,"c",function(){return v}),S.e=A,S.h=b,S.g=E,S.b=C,S.f=U;var t=i(86);function c(){}var s=.7,v=1/s,o="\\s*([+-]?\\d+)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),a=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),u=new RegExp("^rgba\\("+[o,o,o,f]+"\\)$"),l=new RegExp("^rgba\\("+[r,r,r,f]+"\\)$"),h=new RegExp("^hsl\\("+[f,r,r]+"\\)$"),p=new RegExp("^hsla\\("+[f,r,r,f]+"\\)$"),d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(t.a)(c,A,{copy:function(J){return Object.assign(new this.constructor,this,J)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:y,formatRgb:x,toString:x});function g(){return this.rgb().formatHex()}function y(){return W(this).formatHsl()}function x(){return this.rgb().formatRgb()}function A(J){var ht,at;return J=(J+"").trim().toLowerCase(),(ht=e.exec(J))?(at=ht[1].length,ht=parseInt(ht[1],16),at===6?m(ht):at===3?new C(ht>>8&15|ht>>4&240,ht>>4&15|ht&240,(ht&15)<<4|ht&15,1):at===8?M(ht>>24&255,ht>>16&255,ht>>8&255,(ht&255)/255):at===4?M(ht>>12&15|ht>>8&240,ht>>8&15|ht>>4&240,ht>>4&15|ht&240,((ht&15)<<4|ht&15)/255):null):(ht=n.exec(J))?new C(ht[1],ht[2],ht[3],1):(ht=a.exec(J))?new C(ht[1]*255/100,ht[2]*255/100,ht[3]*255/100,1):(ht=u.exec(J))?M(ht[1],ht[2],ht[3],ht[4]):(ht=l.exec(J))?M(ht[1]*255/100,ht[2]*255/100,ht[3]*255/100,ht[4]):(ht=h.exec(J))?R(ht[1],ht[2]/100,ht[3]/100,1):(ht=p.exec(J))?R(ht[1],ht[2]/100,ht[3]/100,ht[4]):d.hasOwnProperty(J)?m(d[J]):J==="transparent"?new C(NaN,NaN,NaN,0):null}function m(J){return new C(J>>16&255,J>>8&255,J&255,1)}function M(J,ht,at,Q){return Q<=0&&(J=ht=at=NaN),new C(J,ht,at,Q)}function b(J){return J instanceof c||(J=A(J)),J?(J=J.rgb(),new C(J.r,J.g,J.b,J.opacity)):new C}function E(J,ht,at,Q){return arguments.length===1?b(J):new C(J,ht,at,Q==null?1:Q)}function C(J,ht,at,Q){this.r=+J,this.g=+ht,this.b=+at,this.opacity=+Q}Object(t.a)(C,E,Object(t.b)(c,{brighter:function(J){return J=J==null?v:Math.pow(v,J),new C(this.r*J,this.g*J,this.b*J,this.opacity)},darker:function(J){return J=J==null?s:Math.pow(s,J),new C(this.r*J,this.g*J,this.b*J,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatRgb:O,toString:O}));function T(){return"#"+L(this.r)+L(this.g)+L(this.b)}function O(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(J===1?")":", "+J+")")}function L(J){return J=Math.max(0,Math.min(255,Math.round(J)||0)),(J<16?"0":"")+J.toString(16)}function R(J,ht,at,Q){return Q<=0?J=ht=at=NaN:at<=0||at>=1?J=ht=NaN:ht<=0&&(J=NaN),new X(J,ht,at,Q)}function W(J){if(J instanceof X)return new X(J.h,J.s,J.l,J.opacity);if(J instanceof c||(J=A(J)),!J)return new X;if(J instanceof X)return J;J=J.rgb();var ht=J.r/255,at=J.g/255,Q=J.b/255,xt=Math.min(ht,at,Q),kt=Math.max(ht,at,Q),Nt=NaN,nt=kt-xt,q=(kt+xt)/2;return nt?(ht===kt?Nt=(at-Q)/nt+(at<Q)*6:at===kt?Nt=(Q-ht)/nt+2:Nt=(ht-at)/nt+4,nt/=q<.5?kt+xt:2-kt-xt,Nt*=60):nt=q>0&&q<1?0:Nt,new X(Nt,nt,q,J.opacity)}function U(J,ht,at,Q){return arguments.length===1?W(J):new X(J,ht,at,Q==null?1:Q)}function X(J,ht,at,Q){this.h=+J,this.s=+ht,this.l=+at,this.opacity=+Q}Object(t.a)(X,U,Object(t.b)(c,{brighter:function(J){return J=J==null?v:Math.pow(v,J),new X(this.h,this.s,this.l*J,this.opacity)},darker:function(J){return J=J==null?s:Math.pow(s,J),new X(this.h,this.s,this.l*J,this.opacity)},rgb:function(){var J=this.h%360+(this.h<0)*360,ht=isNaN(J)||isNaN(this.s)?0:this.s,at=this.l,Q=at+(at<.5?at:1-at)*ht,xt=2*at-Q;return new C(Z(J>=240?J-240:J+120,xt,Q),Z(J,xt,Q),Z(J<120?J+240:J-120,xt,Q),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(J===1?")":", "+J+")")}}));function Z(J,ht,at){return(J<60?ht+(at-ht)*J/60:J<180?at:J<240?ht+(at-ht)*(240-J)/60:ht)*255}},function(P,S,i){"use strict";S.b=t,S.a=function(c,s,v){c.prototype=s.prototype=v,v.constructor=c};function t(c,s){var v=Object.create(c.prototype);for(var o in s)v[o]=s[o];return v}},function(P,S,i){"use strict";S.a=t;function t(c,s,v,o,f){var r=c*c,e=r*c;return((1-3*c+3*r-e)*s+(4-6*r+3*e)*v+(1+3*c+3*r-3*e)*o+e*f)/6}S.b=function(c){var s=c.length-1;return function(v){var o=v<=0?v=0:v>=1?(v=1,s-1):Math.floor(v*s),f=c[o],r=c[o+1],e=o>0?c[o-1]:2*f-r,n=o<s-1?c[o+2]:2*r-f;return t((v-o/s)*s,e,f,r,n)}}},function(P,S,i){var t=i(3),c=i(15),s=function(o,f){if(!c(o))return o;var r=[];return t(o,function(e,n){f(e,n)&&r.push(e)}),r};P.exports=s},function(P,S,i){var t=i(6),c=i(5),s=i(3);P.exports=function(o,f){for(var r=[],e={},n=0;n<o.length;n++){var a=o[n],u=a[f];t(u)||(c(u)||(u=[u]),s(u,function(l){e[l]||(r.push(l),e[l]=!0)}))}return r}},function(P,S,i){var t;/*!
* EventEmitter v5.1.0 - git.io/ee
* Unlicense - http://unlicense.org/
* Oliver Caldwell - http://oli.me.uk/
* @preserve
*/(function(c){"use strict";function s(){}var v=s.prototype,o=c.EventEmitter;function f(n,a){for(var u=n.length;u--;)if(n[u].listener===a)return u;return-1}function r(n){return function(){return this[n].apply(this,arguments)}}v.getListeners=function(a){var u=this._getEvents(),l,h;if(a instanceof RegExp){l={};for(h in u)u.hasOwnProperty(h)&&a.test(h)&&(l[h]=u[h])}else l=u[a]||(u[a]=[]);return l},v.flattenListeners=function(a){var u=[],l;for(l=0;l<a.length;l+=1)u.push(a[l].listener);return u},v.getListenersAsObject=function(a){var u=this.getListeners(a),l;return u instanceof Array&&(l={},l[a]=u),l||u};function e(n){return typeof n=="function"||n instanceof RegExp?!0:n&&typeof n=="object"?e(n.listener):!1}v.addListener=function(a,u){if(!e(u))throw new TypeError("listener must be a function");var l=this.getListenersAsObject(a),h=typeof u=="object",p;for(p in l)l.hasOwnProperty(p)&&f(l[p],u)===-1&&l[p].push(h?u:{listener:u,once:!1});return this},v.on=r("addListener"),v.addOnceListener=function(a,u){return this.addListener(a,{listener:u,once:!0})},v.once=r("addOnceListener"),v.defineEvent=function(a){return this.getListeners(a),this},v.defineEvents=function(a){for(var u=0;u<a.length;u+=1)this.defineEvent(a[u]);return this},v.removeListener=function(a,u){var l=this.getListenersAsObject(a),h,p;for(p in l)l.hasOwnProperty(p)&&(h=f(l[p],u),h!==-1&&l[p].splice(h,1));return this},v.off=r("removeListener"),v.addListeners=function(a,u){return this.manipulateListeners(!1,a,u)},v.removeListeners=function(a,u){return this.manipulateListeners(!0,a,u)},v.manipulateListeners=function(a,u,l){var h,p,d=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(h in u)u.hasOwnProperty(h)&&(p=u[h])&&(typeof p=="function"?d.call(this,h,p):g.call(this,h,p));else for(h=l.length;h--;)d.call(this,u,l[h]);return this},v.removeEvent=function(a){var u=typeof a,l=this._getEvents(),h;if(u==="string")delete l[a];else if(a instanceof RegExp)for(h in l)l.hasOwnProperty(h)&&a.test(h)&&delete l[h];else delete this._events;return this},v.removeAllListeners=r("removeEvent"),v.emitEvent=function(a,u){var l=this.getListenersAsObject(a),h,p,d,g,y;for(g in l)if(l.hasOwnProperty(g))for(h=l[g].slice(0),d=0;d<h.length;d++)p=h[d],p.once===!0&&this.removeListener(a,p.listener),y=p.listener.apply(this,u||[]),y===this._getOnceReturnValue()&&this.removeListener(a,p.listener);return this},v.trigger=r("emitEvent"),v.emit=function(a){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,u)},v.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},v._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},v._getEvents=function(){return this._events||(this._events={})},s.noConflict=function(){return c.EventEmitter=o,s},t=function(){return s}.call(c,i,c,P),t!==void 0&&(P.exports=t)})(this||{})},function(P,S,i){var t=i(18),c=t.Group,s=i(24),v=s.Label,o=i(8),f=i(0),r=["line","point","path"],e="_origin";function n(l){var h=0;return f.each(l,function(p){h+=p}),h/l.length}function a(l,h){if(f.isNumber(l)&&f.isNumber(h))return[l,h];for(var p=-1,d=0,g=0,y,x=l.length-1,A,m=0;++p<l.length;)y=x,x=p,m+=A=l[y]*h[x]-l[x]*h[y],d+=(l[y]+l[x])*A,g+=(h[y]+h[x])*A;return m*=3,[d/m,g/m]}var u=function l(h){l.superclass.constructor.call(this,h)};f.extend(u,c),f.augment(u,{getDefaultCfg:function(){return{label:o.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function(){u.superclass._renderUI.call(this),this.initLabelsCfg();var h=this.addGroup(),p=this.addGroup({elCls:"x-line-group"}),d=this.get("labelRenderer");this.set("labelsGroup",h),this.set("lineGroup",p),this.get("labelRenderer").set("group",h),d.set("group",h),d.set("lineGroup",p)},initLabelsCfg:function(){var h=this,p=new v,d=h.getDefaultLabelCfg(),g=h.get("labelCfg");f.deepMix(d,g.globalCfg||g.cfg),p.set("config",!1),d.labelLine&&p.set("labelLine",d.labelLine),p.set("coord",h.get("coord")),this.set("labelRenderer",p),h.set("label",d)},getDefaultLabelCfg:function(){var h=this,p=h.get("labelCfg").cfg||h.get("labelCfg").globalCfg,d=h.get("geomType"),g=h.get("viewTheme")||o;return d==="polygon"||p&&p.offset<0&&f.indexOf(r,d)===-1?f.deepMix({},h.get("label"),g.innerLabels,p):f.deepMix({},h.get("label"),g.label,p)},getLabelsItems:function(h,p){var d=this,g=[],y=d.get("geom"),x=d.get("coord");d._getLabelCfgs(h,p);var A=d.get("labelItemCfgs");return f.each(h,function(m,M){var b=m[e],E=A[M];if(!E){g.push(null);return}f.isArray(E.text)||(E.text=[E.text]);var C=E.text.length;f.each(E.text,function(T,O){if(f.isNil(T)||T===""){g.push(null);return}var L=d.getLabelPoint(E,m,O);L=f.mix({},E,L),L.textAlign||(L.textAlign=d.getLabelAlign(L,O,C)),y&&(L._id=y._getShapeId(b)+"-glabel-"+O+"-"+L.text),L.coord=x,g.push(L)})}),g},adjustItems:function(h){return f.each(h,function(p){!p||(p.offsetX&&(p.x+=p.offsetX),p.offsetY&&(p.y+=p.offsetY))}),h},drawLines:function(h){var p=this;f.each(h,function(d){!d||d.offset>0&&p.lineToLabel(d)})},lineToLabel:function(){},getLabelPoint:function(h,p,d){var g=this,y=g.get("coord"),x=h.text.length;function A(C,T){return f.isArray(C)&&(h.text.length===1?C.length<=2?C=C[C.length-1]:C=n(C):C=C[T]),C}var m={text:h.text[d]};if(p&&this.get("geomType")==="polygon"){var M=a(p.x,p.y);m.x=M[0],m.y=M[1]}else m.x=A(p.x,d),m.y=A(p.y,d);if(p&&p.nextPoints&&(p.shape==="funnel"||p.shape==="pyramid")){var b=-Infinity;p.nextPoints.forEach(function(C){C=y.convert(C),C.x>b&&(b=C.x)}),m.x=(m.x+b)/2}p.shape==="pyramid"&&!p.nextPoints&&p.points&&p.points.forEach(function(C){C=y.convert(C),(f.isArray(C.x)&&!p.x.includes(C.x)||f.isNumber(C.x)&&p.x!==C.x)&&(m.x=(m.x+C.x)/2)}),h.position&&g.setLabelPosition(m,p,d,h.position);var E=g.getLabelOffset(h,d,x);return h.offsetX&&(E.x+=h.offsetX),h.offsetY&&(E.y+=h.offsetY),g.transLabelPoint(m),m.start={x:m.x,y:m.y},m.x+=E.x,m.y+=E.y,m.color=p.color,m},setLabelPosition:function(){},transLabelPoint:function(h){var p=this,d=p.get("coord"),g=d.applyMatrix(h.x,h.y,1);h.x=g[0],h.y=g[1]},getOffsetVector:function(h){var p=this,d=h.offset||0,g=p.get("coord"),y;return g.isTransposed?y=g.applyMatrix(d,0):y=g.applyMatrix(0,d),y},getDefaultOffset:function(h){var p=this,d=0,g=p.get("coord"),y=p.getOffsetVector(h);g.isTransposed?d=y[0]:d=y[1];var x=this.get("yScale");if(x&&h.point){var A=h.point[x.field];A<0&&(d=d*-1)}return d},getLabelOffset:function(h,p,d){var g=this,y=g.getDefaultOffset(h),x=g.get("coord"),A=x.isTransposed,m=A?"x":"y",M=A?1:-1,b={x:0,y:0};return p>0||d===1?b[m]=y*M:b[m]=y*M*-1,b},getLabelAlign:function(h,p,d){var g=this,y="center",x=g.get("coord");if(x.isTransposed){var A=g.getDefaultOffset(h);A<0?y="right":A===0?y="center":y="left",d>1&&p===0&&(y==="right"?y="left":y==="left"&&(y="right"))}return y},_getLabelValue:function(h,p){f.isArray(p)||(p=[p]);var d=[];return f.each(p,function(g){var y=h[g.field];if(f.isArray(y)){var x=[];f.each(y,function(A){x.push(g.getText(A))}),y=x}else y=g.getText(y);(f.isNil(y)||y==="")&&d.push(null),d.push(y)}),d},_getLabelCfgs:function(h){var p=this,d=this.get("labelCfg"),g=d.scales,y=this.get("label"),x=p.get("viewTheme")||o,A=[];d.globalCfg&&d.globalCfg.type&&p.set("type",d.globalCfg.type),f.each(h,function(m,M){var b={},E=m[e],C=p._getLabelValue(E,g);if(d.callback){var T=g.map(function(R){return E[R.field]});b=d.callback.apply(null,[].concat(T,[m,M]))}if(!b&&b!==0){A.push(null);return}if(f.isString(b)||f.isNumber(b)?b={text:b}:(b.text=b.content||C[0],delete b.content),b=f.mix({},y,d.globalCfg||{},b),m.point=E,b.point=E,b.htmlTemplate&&(b.useHtml=!0,b.text=b.htmlTemplate.call(null,b.text,m,M),delete b.htmlTemplate),b.formatter&&(b.text=b.formatter.call(null,b.text,m,M),delete b.formatter),b.label){var O=b.label;delete b.label,b=f.mix(b,O)}if(b.textStyle){delete b.textStyle.offset;var L=b.textStyle;f.isFunction(L)&&(b.textStyle=L.call(null,b.text,m,M))}b.labelLine&&(b.labelLine=f.mix({},y.labelLine,b.labelLine)),b.textStyle=f.mix({},y.textStyle,x.label.textStyle,b.textStyle),delete b.items,A.push(b)}),this.set("labelItemCfgs",A)},showLabels:function(h,p){var d=this,g=d.get("labelRenderer"),y=d.getLabelsItems(h,p);p=[].concat(p);var x=d.get("type");y=d.adjustItems(y,p),d.drawLines(y),g.set("items",y.filter(function(A,m){return A?!0:(p.splice(m,1),!1)})),x&&(g.set("shapes",p),g.set("type",x),g.set("points",h)),g.set("canvas",this.get("canvas")),g.draw()},destroy:function(){this.get("labelRenderer").destroy(),u.superclass.destroy.call(this)}}),P.exports=u},function(P,S,i){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function c(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,s(r,e)}function s(r,e){return s=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},s(r,e)}var v=i(90),o=i(4),f=function(r){c(n,r);var e=n.prototype;e.getDefaultCfg=function(){return{}};function n(a){var u;u=r.call(this)||this;var l=t(u),h={visible:!0},p=l.getDefaultCfg();return l._attrs=h,o.deepMix(h,p,a),u}return e.get=function(u){return this._attrs[u]},e.set=function(u,l){this._attrs[u]=l},e.changeVisible=function(){},e.destroy=function(){var u=this;u._attrs={},u.removeAllListeners(),u.destroyed=!0},n}(v);P.exports=f},function(P,S,i){var t=i(52),c=i(173),s=i(94),v=i(53);P.exports={line:function(f,r,e,n,a,u,l){var h=t.box(f,r,e,n,a);if(!this.box(h.minX,h.maxX,h.minY,h.maxY,u,l))return!1;var p=t.pointDistance(f,r,e,n,u,l);return isNaN(p)?!1:p<=a/2},polyline:function(f,r,e,n){var a=f.length-1;if(a<1)return!1;for(var u=0;u<a;u++){var l=f[u][0],h=f[u][1],p=f[u+1][0],d=f[u+1][1];if(this.line(l,h,p,d,r,e,n))return!0}return!1},cubicline:function(f,r,e,n,a,u,l,h,p,d,g){return s.pointDistance(f,r,e,n,a,u,l,h,d,g)<=p/2},quadraticline:function(f,r,e,n,a,u,l,h,p){return c.pointDistance(f,r,e,n,a,u,h,p)<=l/2},arcline:function(f,r,e,n,a,u,l,h,p){return v.pointDistance(f,r,e,n,a,u,h,p)<=l/2},rect:function(f,r,e,n,a,u){return f<=a&&a<=f+e&&r<=u&&u<=r+n},circle:function(f,r,e,n,a){return Math.pow(n-f,2)+Math.pow(a-r,2)<=Math.pow(e,2)},box:function(f,r,e,n,a,u){return f<=a&&a<=r&&e<=u&&u<=n}}},function(P,S,i){var t=i(2),c=t.vec2;function s(n,a,u,l,h){var p=1-h;return p*p*(p*l+3*h*u)+h*h*(h*n+3*p*a)}function v(n,a,u,l,h){var p=1-h;return 3*(((a-n)*p+2*(u-a)*h)*p+(l-u)*h*h)}function o(n,a,u,l,h,p,d,g,y,x,A){var m,M=.005,b=Infinity,E,C,T,O,L,R,W,U=1e-4,X=[y,x];for(E=0;E<1;E+=.05)C=[s(n,u,h,d,E),s(a,l,p,g,E)],T=c.squaredDistance(X,C),T<b&&(m=E,b=T);b=Infinity;for(var Z=0;Z<32&&!(M<U);Z++)R=m-M,W=m+M,C=[s(n,u,h,d,R),s(a,l,p,g,R)],T=c.squaredDistance(X,C),R>=0&&T<b?(m=R,b=T):(L=[s(n,u,h,d,W),s(a,l,p,g,W)],O=c.squaredDistance(X,L),W<=1&&O<b?(m=W,b=O):M*=.5);return A&&(A.x=s(n,u,h,d,m),A.y=s(a,l,p,g,m)),Math.sqrt(b)}function f(n,a,u,l){var h=3*n-9*a+9*u-3*l,p=6*a-12*u+6*l,d=3*u-3*l,g=[],y,x,A;if(t.isNumberEqual(h,0))t.isNumberEqual(p,0)||(y=-d/p,y>=0&&y<=1&&g.push(y));else{var m=p*p-4*h*d;t.isNumberEqual(m,0)?g.push(-p/(2*h)):m>0&&(A=Math.sqrt(m),y=(-p+A)/(2*h),x=(-p-A)/(2*h),y>=0&&y<=1&&g.push(y),x>=0&&x<=1&&g.push(x))}return g}function r(n,a,u,l,h){var p=-3*a+9*u-9*l+3*h,d=n*p+6*a-12*u+6*l;return n*d-3*a+3*u}function e(n,a,u,l,h,p,d,g,y){t.isNil(y)&&(y=1),y=y>1?1:y<0?0:y;for(var x=y/2,A=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],b=0,E=0;E<A;E++){var C=x*m[E]+x,T=r(C,n,u,h,d),O=r(C,a,l,p,g),L=T*T+O*O;b+=M[E]*Math.sqrt(L)}return x*b}P.exports={at:s,derivativeAt:v,projectPoint:function(a,u,l,h,p,d,g,y,x,A){var m={};return o(a,u,l,h,p,d,g,y,x,A,m),m},pointDistance:o,extrema:f,len:e}},function(P,S,i){var t=i(2),c=i(9),s=i(37),v=i(55),o=function f(r){f.superclass.constructor.call(this,r)};o.Symbols={circle:function(r,e,n){return[["M",r,e],["m",-n,0],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0]]},square:function(r,e,n){return[["M",r-n,e-n],["L",r+n,e-n],["L",r+n,e+n],["L",r-n,e+n],["Z"]]},diamond:function(r,e,n){return[["M",r-n,e],["L",r,e-n],["L",r+n,e],["L",r,e+n],["Z"]]},triangle:function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e+a],["L",r,e-a],["L",r+n,e+a],["z"]]},"triangle-down":function(r,e,n){var a=n*Math.sin(1/3*Math.PI);return[["M",r-n,e-a],["L",r+n,e-a],["L",r,e+a],["Z"]]}},o.ATTRS={path:null,lineWidth:1},t.extend(o,c),t.augment(o,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius,u=this.getHitLineWidth(),l=u/2+a;return{minX:e-l,minY:n-l,maxX:e+l,maxY:n+l}},_getPath:function(){var r=this._attrs,e=r.x,n=r.y,a=r.radius||r.r,u=r.symbol||"circle",l;return t.isFunction(u)?l=u:l=o.Symbols[u],l?l(e,n,a):(console.warn(u+" marker is not supported."),null)},createPath:function(r){var e=this._cfg.segments;if(e&&!this._cfg.hasUpdate){r.beginPath();for(var n=0;n<e.length;n++)e[n].draw(r);return}var a=s.parsePath(this._getPath());r.beginPath();var u;e=[];for(var l=0;l<a.length;l++){var h=a[l];u=new v(h,u,l===a.length-1),e.push(u),u.draw(r)}this._cfg.segments=e,this._cfg.hasUpdate=!1}}),P.exports=o},function(P,S,i){var t=i(169),c=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,s=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig"),o=function(nt){if(!nt)return null;if(typeof nt==typeof[])return nt;var q={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},G=[];return String(nt).replace(s,function(N,it,H){var ct=[],ft=it.toLowerCase();if(H.replace(v,function(K,$){$&&ct.push(+$)}),ft==="m"&&ct.length>2&&(G.push([it].concat(ct.splice(0,2))),ft="l",it=it==="m"?"l":"L"),ft==="o"&&ct.length===1&&G.push([it,ct[0]]),ft==="r")G.push([it].concat(ct));else for(;ct.length>=q[ft]&&(G.push([it].concat(ct.splice(0,q[ft]))),!!q[ft]););}),G},f=function(nt,q){for(var G=[],N=0,it=nt.length;it-2*!q>N;N+=2){var H=[{x:+nt[N-2],y:+nt[N-1]},{x:+nt[N],y:+nt[N+1]},{x:+nt[N+2],y:+nt[N+3]},{x:+nt[N+4],y:+nt[N+5]}];q?N?it-4===N?H[3]={x:+nt[0],y:+nt[1]}:it-2===N&&(H[2]={x:+nt[0],y:+nt[1]},H[3]={x:+nt[2],y:+nt[3]}):H[0]={x:+nt[it-2],y:+nt[it-1]}:it-4===N?H[3]=H[2]:N||(H[0]={x:+nt[N],y:+nt[N+1]}),G.push(["C",(-H[0].x+6*H[1].x+H[2].x)/6,(-H[0].y+6*H[1].y+H[2].y)/6,(H[1].x+6*H[2].x-H[3].x)/6,(H[1].y+6*H[2].y-H[3].y)/6,H[2].x,H[2].y])}return G},r=function(nt,q,G,N,it){var H=[];if(it===null&&N===null&&(N=G),nt=+nt,q=+q,G=+G,N=+N,it!==null){var ct=Math.PI/180,ft=nt+G*Math.cos(-N*ct),K=nt+G*Math.cos(-it*ct),$=q+G*Math.sin(-N*ct),et=q+G*Math.sin(-it*ct);H=[["M",ft,$],["A",G,G,0,+(it-N>180),0,K,et]]}else H=[["M",nt,q],["m",0,-N],["a",G,N,0,1,1,0,2*N],["a",G,N,0,1,1,0,-2*N],["z"]];return H},e=function(nt){if(nt=o(nt),!nt||!nt.length)return[["M",0,0]];var q=[],G=0,N=0,it=0,H=0,ct=0,ft,K;nt[0][0]==="M"&&(G=+nt[0][1],N=+nt[0][2],it=G,H=N,ct++,q[0]=["M",G,N]);for(var $=nt.length===3&&nt[0][0]==="M"&&nt[1][0].toUpperCase()==="R"&&nt[2][0].toUpperCase()==="Z",et,j,w=ct,D=nt.length;w<D;w++){if(q.push(et=[]),j=nt[w],ft=j[0],ft!==ft.toUpperCase())switch(et[0]=ft.toUpperCase(),et[0]){case"A":et[1]=j[1],et[2]=j[2],et[3]=j[3],et[4]=j[4],et[5]=j[5],et[6]=+j[6]+G,et[7]=+j[7]+N;break;case"V":et[1]=+j[1]+N;break;case"H":et[1]=+j[1]+G;break;case"R":K=[G,N].concat(j.slice(1));for(var V=2,tt=K.length;V<tt;V++)K[V]=+K[V]+G,K[++V]=+K[V]+N;q.pop(),q=q.concat(f(K,$));break;case"O":q.pop(),K=r(G,N,j[1],j[2]),K.push(K[0]),q=q.concat(K);break;case"U":q.pop(),q=q.concat(r(G,N,j[1],j[2],j[3])),et=["U"].concat(q[q.length-1].slice(-2));break;case"M":it=+j[1]+G,H=+j[2]+N;break;default:for(var lt=1,St=j.length;lt<St;lt++)et[lt]=+j[lt]+(lt%2?G:N)}else if(ft==="R")K=[G,N].concat(j.slice(1)),q.pop(),q=q.concat(f(K,$)),et=["R"].concat(j.slice(-2));else if(ft==="O")q.pop(),K=r(G,N,j[1],j[2]),K.push(K[0]),q=q.concat(K);else if(ft==="U")q.pop(),q=q.concat(r(G,N,j[1],j[2],j[3])),et=["U"].concat(q[q.length-1].slice(-2));else for(var ot=0,Mt=j.length;ot<Mt;ot++)et[ot]=j[ot];if(ft=ft.toUpperCase(),ft!=="O")switch(et[0]){case"Z":G=+it,N=+H;break;case"H":G=et[1];break;case"V":N=et[1];break;case"M":it=et[et.length-2],H=et[et.length-1];break;default:G=et[et.length-2],N=et[et.length-1]}}return q},n=function(nt,q,G,N){return[nt,q,G,N,G,N]},a=function(nt,q,G,N,it,H){var ct=1/3,ft=2/3;return[ct*nt+ft*G,ct*q+ft*N,ct*it+ft*G,ct*H+ft*N,it,H]},u=function Nt(nt,q,G,N,it,H,ct,ft,K,$){G===N&&(G+=1);var et=Math.PI*120/180,j=Math.PI/180*(+it||0),w=[],D,V,tt,lt,St,ot=function(Or,sr,Dr){var En=Or*Math.cos(Dr)-sr*Math.sin(Dr),Yn=Or*Math.sin(Dr)+sr*Math.cos(Dr);return{x:En,y:Yn}};if($)V=$[0],tt=$[1],lt=$[2],St=$[3];else{D=ot(nt,q,-j),nt=D.x,q=D.y,D=ot(ft,K,-j),ft=D.x,K=D.y,nt===ft&&q===K&&(ft+=1,K+=1);var Mt=(nt-ft)/2,Ot=(q-K)/2,Ft=Mt*Mt/(G*G)+Ot*Ot/(N*N);Ft>1&&(Ft=Math.sqrt(Ft),G=Ft*G,N=Ft*N);var zt=G*G,$t=N*N,he=(H===ct?-1:1)*Math.sqrt(Math.abs((zt*$t-zt*Ot*Ot-$t*Mt*Mt)/(zt*Ot*Ot+$t*Mt*Mt)));lt=he*G*Ot/N+(nt+ft)/2,St=he*-N*Mt/G+(q+K)/2,V=Math.asin(((q-St)/N).toFixed(9)),tt=Math.asin(((K-St)/N).toFixed(9)),V=nt<lt?Math.PI-V:V,tt=ft<lt?Math.PI-tt:tt,V<0&&(V=Math.PI*2+V),tt<0&&(tt=Math.PI*2+tt),ct&&V>tt&&(V=V-Math.PI*2),!ct&&tt>V&&(tt=tt-Math.PI*2)}var ye=tt-V;if(Math.abs(ye)>et){var tr=tt,nr=ft,Xe=K;tt=V+et*(ct&&tt>V?1:-1),ft=lt+G*Math.cos(tt),K=St+N*Math.sin(tt),w=Nt(ft,K,G,N,it,0,ct,nr,Xe,[tt,tr,lt,St])}ye=tt-V;var yr=Math.cos(V),Vr=Math.sin(V),Ee=Math.cos(tt),de=Math.sin(tt),Ge=Math.tan(ye/4),ke=4/3*G*Ge,Kr=4/3*N*Ge,fn=[nt,q],pi=[nt+ke*Vr,q-Kr*yr],Vi=[ft+ke*de,K-Kr*Ee],ea=[ft,K];if(pi[0]=2*fn[0]-pi[0],pi[1]=2*fn[1]-pi[1],$)return[pi,Vi,ea].concat(w);w=[pi,Vi,ea].concat(w).join().split(",");for(var zi=[],Te=0,Be=w.length;Te<Be;Te++)zi[Te]=Te%2?ot(w[Te-1],w[Te],j).y:ot(w[Te],w[Te+1],j).x;return zi},l=function(nt,q){var G=e(nt),N=q&&e(q),it={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ct=[],ft=[],K="",$="",et,j=function(Ot,Ft,zt){var $t,he;if(!Ot)return["C",Ft.x,Ft.y,Ft.x,Ft.y,Ft.x,Ft.y];switch(!(Ot[0]in{T:1,Q:1})&&(Ft.qx=Ft.qy=null),Ot[0]){case"M":Ft.X=Ot[1],Ft.Y=Ot[2];break;case"A":Ot=["C"].concat(u.apply(0,[Ft.x,Ft.y].concat(Ot.slice(1))));break;case"S":zt==="C"||zt==="S"?($t=Ft.x*2-Ft.bx,he=Ft.y*2-Ft.by):($t=Ft.x,he=Ft.y),Ot=["C",$t,he].concat(Ot.slice(1));break;case"T":zt==="Q"||zt==="T"?(Ft.qx=Ft.x*2-Ft.qx,Ft.qy=Ft.y*2-Ft.qy):(Ft.qx=Ft.x,Ft.qy=Ft.y),Ot=["C"].concat(a(Ft.x,Ft.y,Ft.qx,Ft.qy,Ot[1],Ot[2]));break;case"Q":Ft.qx=Ot[1],Ft.qy=Ot[2],Ot=["C"].concat(a(Ft.x,Ft.y,Ot[1],Ot[2],Ot[3],Ot[4]));break;case"L":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ot[2]));break;case"H":Ot=["C"].concat(n(Ft.x,Ft.y,Ot[1],Ft.y));break;case"V":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.x,Ot[1]));break;case"Z":Ot=["C"].concat(n(Ft.x,Ft.y,Ft.X,Ft.Y));break;default:break}return Ot},w=function(Ot,Ft){if(Ot[Ft].length>7){Ot[Ft].shift();for(var zt=Ot[Ft];zt.length;)ct[Ft]="A",N&&(ft[Ft]="A"),Ot.splice(Ft++,0,["C"].concat(zt.splice(0,6)));Ot.splice(Ft,1),et=Math.max(G.length,N&&N.length||0)}},D=function(Ot,Ft,zt,$t,he){Ot&&Ft&&Ot[he][0]==="M"&&Ft[he][0]!=="M"&&(Ft.splice(he,0,["M",$t.x,$t.y]),zt.bx=0,zt.by=0,zt.x=Ot[he][1],zt.y=Ot[he][2],et=Math.max(G.length,N&&N.length||0))};et=Math.max(G.length,N&&N.length||0);for(var V=0;V<et;V++){G[V]&&(K=G[V][0]),K!=="C"&&(ct[V]=K,V&&($=ct[V-1])),G[V]=j(G[V],it,$),ct[V]!=="A"&&K==="C"&&(ct[V]="C"),w(G,V),N&&(N[V]&&(K=N[V][0]),K!=="C"&&(ft[V]=K,V&&($=ft[V-1])),N[V]=j(N[V],H,$),ft[V]!=="A"&&K==="C"&&(ft[V]="C"),w(N,V)),D(G,N,it,H,V),D(N,G,H,it,V);var tt=G[V],lt=N&&N[V],St=tt.length,ot=N&&lt.length;it.x=tt[St-2],it.y=tt[St-1],it.bx=parseFloat(tt[St-4])||it.x,it.by=parseFloat(tt[St-3])||it.y,H.bx=N&&(parseFloat(lt[ot-4])||H.x),H.by=N&&(parseFloat(lt[ot-3])||H.y),H.x=N&&lt[ot-2],H.y=N&&lt[ot-1]}return N?[G,N]:G},h=/,?([a-z]),?/gi,p=function(nt){return nt.join(",").replace(h,"$1")},d=function(nt,q,G,N,it){var H=-3*q+9*G-9*N+3*it,ct=nt*H+6*q-12*G+6*N;return nt*ct-3*q+3*G},g=function(nt,q,G,N,it,H,ct,ft,K){K===null&&(K=1),K=K>1?1:K<0?0:K;for(var $=K/2,et=12,j=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],w=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],D=0,V=0;V<et;V++){var tt=$*j[V]+$,lt=d(tt,nt,G,it,ct),St=d(tt,q,N,H,ft),ot=lt*lt+St*St;D+=w[V]*Math.sqrt(ot)}return $*D},y=function(nt,q,G,N,it,H,ct,ft){for(var K=[],$=[[],[]],et,j,w,D,V=0;V<2;++V){if(V===0?(j=6*nt-12*G+6*it,et=-3*nt+9*G-9*it+3*ct,w=3*G-3*nt):(j=6*q-12*N+6*H,et=-3*q+9*N-9*H+3*ft,w=3*N-3*q),Math.abs(et)<1e-12){if(Math.abs(j)<1e-12)continue;D=-w/j,D>0&&D<1&&K.push(D);continue}var tt=j*j-4*w*et,lt=Math.sqrt(tt);if(!(tt<0)){var St=(-j+lt)/(2*et);St>0&&St<1&&K.push(St);var ot=(-j-lt)/(2*et);ot>0&&ot<1&&K.push(ot)}}for(var Mt=K.length,Ot=Mt,Ft;Mt--;)D=K[Mt],Ft=1-D,$[0][Mt]=Ft*Ft*Ft*nt+3*Ft*Ft*D*G+3*Ft*D*D*it+D*D*D*ct,$[1][Mt]=Ft*Ft*Ft*q+3*Ft*Ft*D*N+3*Ft*D*D*H+D*D*D*ft;return $[0][Ot]=nt,$[1][Ot]=q,$[0][Ot+1]=ct,$[1][Ot+1]=ft,$[0].length=$[1].length=Ot+2,{min:{x:Math.min.apply(0,$[0]),y:Math.min.apply(0,$[1])},max:{x:Math.max.apply(0,$[0]),y:Math.max.apply(0,$[1])}}},x=function(nt,q,G,N,it,H,ct,ft){if(!(Math.max(nt,G)<Math.min(it,ct)||Math.min(nt,G)>Math.max(it,ct)||Math.max(q,N)<Math.min(H,ft)||Math.min(q,N)>Math.max(H,ft))){var K=(nt*N-q*G)*(it-ct)-(nt-G)*(it*ft-H*ct),$=(nt*N-q*G)*(H-ft)-(q-N)*(it*ft-H*ct),et=(nt-G)*(H-ft)-(q-N)*(it-ct);if(!!et){var j=K/et,w=$/et,D=+j.toFixed(2),V=+w.toFixed(2);if(!(D<+Math.min(nt,G).toFixed(2)||D>+Math.max(nt,G).toFixed(2)||D<+Math.min(it,ct).toFixed(2)||D>+Math.max(it,ct).toFixed(2)||V<+Math.min(q,N).toFixed(2)||V>+Math.max(q,N).toFixed(2)||V<+Math.min(H,ft).toFixed(2)||V>+Math.max(H,ft).toFixed(2)))return{x:j,y:w}}}},A=function(nt,q,G){return q>=nt.x&&q<=nt.x+nt.width&&G>=nt.y&&G<=nt.y+nt.height},m=function(nt,q,G,N,it){if(it)return[["M",+nt+ +it,q],["l",G-it*2,0],["a",it,it,0,0,1,it,it],["l",0,N-it*2],["a",it,it,0,0,1,-it,it],["l",it*2-G,0],["a",it,it,0,0,1,-it,-it],["l",0,it*2-N],["a",it,it,0,0,1,it,-it],["z"]];var H=[["M",nt,q],["l",G,0],["l",0,N],["l",-G,0],["z"]];return H.parsePathArray=p,H},M=function(nt,q,G,N){return nt===null&&(nt=q=G=N=0),q===null&&(q=nt.y,G=nt.width,N=nt.height,nt=nt.x),{x:nt,y:q,width:G,w:G,height:N,h:N,x2:nt+G,y2:q+N,cx:nt+G/2,cy:q+N/2,r1:Math.min(G,N)/2,r2:Math.max(G,N)/2,r0:Math.sqrt(G*G+N*N)/2,path:m(nt,q,G,N),vb:[nt,q,G,N].join(" ")}},b=function(nt,q){return nt=M(nt),q=M(q),A(q,nt.x,nt.y)||A(q,nt.x2,nt.y)||A(q,nt.x,nt.y2)||A(q,nt.x2,nt.y2)||A(nt,q.x,q.y)||A(nt,q.x2,q.y)||A(nt,q.x,q.y2)||A(nt,q.x2,q.y2)||(nt.x<q.x2&&nt.x>q.x||q.x<nt.x2&&q.x>nt.x)&&(nt.y<q.y2&&nt.y>q.y||q.y<nt.y2&&q.y>nt.y)},E=function(nt,q,G,N,it,H,ct,ft){t.isArray(nt)||(nt=[nt,q,G,N,it,H,ct,ft]);var K=y.apply(null,nt);return M(K.min.x,K.min.y,K.max.x-K.min.x,K.max.y-K.min.y)},C=function(nt,q,G,N,it,H,ct,ft,K){var $=1-K,et=Math.pow($,3),j=Math.pow($,2),w=K*K,D=w*K,V=et*nt+j*3*K*G+$*3*K*K*it+D*ct,tt=et*q+j*3*K*N+$*3*K*K*H+D*ft,lt=nt+2*K*(G-nt)+w*(it-2*G+nt),St=q+2*K*(N-q)+w*(H-2*N+q),ot=G+2*K*(it-G)+w*(ct-2*it+G),Mt=N+2*K*(H-N)+w*(ft-2*H+N),Ot=$*nt+K*G,Ft=$*q+K*N,zt=$*it+K*ct,$t=$*H+K*ft,he=90-Math.atan2(lt-ot,St-Mt)*180/Math.PI;return{x:V,y:tt,m:{x:lt,y:St},n:{x:ot,y:Mt},start:{x:Ot,y:Ft},end:{x:zt,y:$t},alpha:he}},T=function(nt,q,G){var N=E(nt),it=E(q);if(!b(N,it))return G?0:[];for(var H=g.apply(0,nt),ct=g.apply(0,q),ft=~~(H/8),K=~~(ct/8),$=[],et=[],j={},w=G?0:[],D=0;D<ft+1;D++){var V=C.apply(0,nt.concat(D/ft));$.push({x:V.x,y:V.y,t:D/ft})}for(var tt=0;tt<K+1;tt++){var lt=C.apply(0,q.concat(tt/K));et.push({x:lt.x,y:lt.y,t:tt/K})}for(var St=0;St<ft;St++)for(var ot=0;ot<K;ot++){var Mt=$[St],Ot=$[St+1],Ft=et[ot],zt=et[ot+1],$t=Math.abs(Ot.x-Mt.x)<.001?"y":"x",he=Math.abs(zt.x-Ft.x)<.001?"y":"x",ye=x(Mt.x,Mt.y,Ot.x,Ot.y,Ft.x,Ft.y,zt.x,zt.y);if(ye){if(j[ye.x.toFixed(4)]===ye.y.toFixed(4))continue;j[ye.x.toFixed(4)]=ye.y.toFixed(4);var tr=Mt.t+Math.abs((ye[$t]-Mt[$t])/(Ot[$t]-Mt[$t]))*(Ot.t-Mt.t),nr=Ft.t+Math.abs((ye[he]-Ft[he])/(zt[he]-Ft[he]))*(zt.t-Ft.t);tr>=0&&tr<=1&&nr>=0&&nr<=1&&(G?w++:w.push({x:ye.x,y:ye.y,t1:tr,t2:nr}))}}return w},O=function(nt,q,G){nt=l(nt),q=l(q);for(var N,it,H,ct,ft,K,$,et,j,w,D=G?0:[],V=0,tt=nt.length;V<tt;V++){var lt=nt[V];if(lt[0]==="M")N=ft=lt[1],it=K=lt[2];else{lt[0]==="C"?(j=[N,it].concat(lt.slice(1)),N=j[6],it=j[7]):(j=[N,it,N,it,ft,K,ft,K],N=ft,it=K);for(var St=0,ot=q.length;St<ot;St++){var Mt=q[St];if(Mt[0]==="M")H=$=Mt[1],ct=et=Mt[2];else{Mt[0]==="C"?(w=[H,ct].concat(Mt.slice(1)),H=w[6],ct=w[7]):(w=[H,ct,H,ct,$,et,$,et],H=$,ct=et);var Ot=T(j,w,G);if(G)D+=Ot;else{for(var Ft=0,zt=Ot.length;Ft<zt;Ft++)Ot[Ft].segment1=V,Ot[Ft].segment2=St,Ot[Ft].bez1=j,Ot[Ft].bez2=w;D=D.concat(Ot)}}}}}return D},L=function(nt,q){return O(nt,q)};function R(Nt,nt){var q=[],G=[];function N(it,H){if(it.length===1)q.push(it[0]),G.push(it[0]);else{for(var ct=[],ft=0;ft<it.length-1;ft++)ft===0&&q.push(it[0]),ft===it.length-2&&G.push(it[ft+1]),ct[ft]=[(1-H)*it[ft][0]+H*it[ft+1][0],(1-H)*it[ft][1]+H*it[ft+1][1]];N(ct,H)}}return Nt.length&&N(Nt,nt),{left:q,right:G.reverse()}}function W(Nt,nt,q){var G=[[Nt[1],Nt[2]]];q=q||2;var N=[];nt[0]==="A"?(G.push(nt[6]),G.push(nt[7])):nt[0]==="C"?(G.push([nt[1],nt[2]]),G.push([nt[3],nt[4]]),G.push([nt[5],nt[6]])):nt[0]==="S"||nt[0]==="Q"?(G.push([nt[1],nt[2]]),G.push([nt[3],nt[4]])):G.push([nt[1],nt[2]]);for(var it=G,H=1/q,ct=0;ct<q-1;ct++){var ft=H/(1-H*ct),K=R(it,ft);N.push(K.left),it=K.right}N.push(it);var $=N.map(function(et){var j=[];return et.length===4&&(j.push("C"),j=j.concat(et[2])),et.length>=3&&(et.length===3&&j.push("Q"),j=j.concat(et[1])),et.length===2&&j.push("L"),j=j.concat(et[et.length-1]),j});return $}var U=function(nt,q,G){if(G===1)return[[].concat(nt)];var N=[];if(q[0]==="L"||q[0]==="C"||q[0]==="Q")N=N.concat(W(nt,q,G));else{var it=[].concat(nt);it[0]==="M"&&(it[0]="L");for(var H=0;H<=G-1;H++)N.push(it)}return N},X=function(nt,q){if(nt.length===1)return nt;var G=nt.length-1,N=q.length-1,it=G/N,H=[];if(nt.length===1&&nt[0][0]==="M"){for(var ct=0;ct<N-G;ct++)nt.push(nt[0]);return nt}for(var ft=0;ft<N;ft++){var K=Math.floor(it*ft);H[K]=(H[K]||0)+1}var $=H.reduce(function(et,j,w){return w===G?et.concat(nt[G]):et.concat(U(nt[w],nt[w+1],j))},[]);return $.unshift(nt[0]),(q[N]==="Z"||q[N]==="z")&&$.push("Z"),$},Z=function(nt,q){if(nt.length!==q.length)return!1;var G=!0;return t.each(nt,function(N,it){if(N!==q[it])return G=!1,!1}),G};function J(Nt,nt,q){var G=null,N=q;return nt<N&&(N=nt,G="add"),Nt<N&&(N=Nt,G="del"),{type:G,min:N}}var ht=function(nt,q){var G=nt.length,N=q.length,it,H,ct=0;if(G===0||N===0)return null;for(var ft=[],K=0;K<=G;K++)ft[K]=[],ft[K][0]={min:K};for(var $=0;$<=N;$++)ft[0][$]={min:$};for(var et=1;et<=G;et++){it=nt[et-1];for(var j=1;j<=N;j++){H=q[j-1],Z(it,H)?ct=0:ct=1;var w=ft[et-1][j].min+1,D=ft[et][j-1].min+1,V=ft[et-1][j-1].min+ct;ft[et][j]=J(w,D,V)}}return ft},at=function(nt,q){var G=ht(nt,q),N=nt.length,it=q.length,H=[],ct=1,ft=1;if(G[N][it]!==N){for(var K=1;K<=N;K++){var $=G[K][K].min;ft=K;for(var et=ct;et<=it;et++)G[K][et].min<$&&($=G[K][et].min,ft=et);ct=ft,G[K][ct].type&&H.push({index:K-1,type:G[K][ct].type})}for(var j=H.length-1;j>=0;j--)ct=H[j].index,H[j].type==="add"?nt.splice(ct,0,[].concat(nt[ct])):nt.splice(ct,1)}N=nt.length;var w=it-N;if(N<it)for(var D=0;D<w;D++)nt[N-1][0]==="z"||nt[N-1][0]==="Z"?nt.splice(N-2,0,nt[N-2]):nt.push(nt[N-1]),N+=1;return nt};function Q(Nt,nt,q){for(var G=[].concat(Nt),N,it=1/(q+1),H=xt(nt)[0],ct=1;ct<=q;ct++)it*=ct,N=Math.floor(Nt.length*it),N===0?G.unshift([H[0]*it+Nt[N][0]*(1-it),H[1]*it+Nt[N][1]*(1-it)]):G.splice(N,0,[H[0]*it+Nt[N][0]*(1-it),H[1]*it+Nt[N][1]*(1-it)]);return G}function xt(Nt){var nt=[];switch(Nt[0]){case"M":nt.push([Nt[1],Nt[2]]);break;case"L":nt.push([Nt[1],Nt[2]]);break;case"A":nt.push([Nt[6],Nt[7]]);break;case"Q":nt.push([Nt[3],Nt[4]]),nt.push([Nt[1],Nt[2]]);break;case"T":nt.push([Nt[1],Nt[2]]);break;case"C":nt.push([Nt[5],Nt[6]]),nt.push([Nt[1],Nt[2]]),nt.push([Nt[3],Nt[4]]);break;case"S":nt.push([Nt[3],Nt[4]]),nt.push([Nt[1],Nt[2]]);break;case"H":nt.push([Nt[1],Nt[1]]);break;case"V":nt.push([Nt[1],Nt[1]]);break;default:}return nt}var kt=function(nt,q){if(nt.length<=1)return nt;for(var G,N=0;N<q.length;N++)if(nt[N][0]!==q[N][0])switch(G=xt(nt[N]),q[N][0]){case"M":nt[N]=["M"].concat(G[0]);break;case"L":nt[N]=["L"].concat(G[0]);break;case"A":nt[N]=[].concat(q[N]),nt[N][6]=G[0][0],nt[N][7]=G[0][1];break;case"Q":if(G.length<2)if(N>0)G=Q(G,nt[N-1],1);else{nt[N]=q[N];break}nt[N]=["Q"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;case"T":nt[N]=["T"].concat(G[0]);break;case"C":if(G.length<3)if(N>0)G=Q(G,nt[N-1],2);else{nt[N]=q[N];break}nt[N]=["C"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;case"S":if(G.length<2)if(N>0)G=Q(G,nt[N-1],1);else{nt[N]=q[N];break}nt[N]=["S"].concat(G.reduce(function(it,H){return it.concat(H)},[]));break;default:nt[N]=q[N]}return nt};P.exports={parsePathString:o,parsePathArray:p,pathTocurve:l,pathToAbsolute:e,catmullRomToBezier:f,rectPath:m,fillPath:X,fillPathByDiff:at,formatPath:kt,intersection:L}},function(P,S,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(4),v=i(192),o=i(385),f=i(16),r=f.FONT_FAMILY,e=8,n=s.Event,a=s.Group,u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return s.mix({},g,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:r},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},p._calStartPoint=function(){var g={x:10,y:this.get("titleGap")-e},y=this.get("titleShape");if(y){var x=y.getBBox();g.y+=x.height}return g},p.beforeRender=function(){var g=this.get("items");!s.isArray(g)||s.isEmpty(g)||(l.prototype.beforeRender.call(this),this.set("firstItem",g[0]),this.set("lastItem",g[g.length-1]))},p._formatItemValue=function(g){var y=this.get("formatter")||this.get("itemFormatter");return y&&(g=y.call(this,g)),g},p.render=function(){l.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},p._renderSlider=function(){var g=new a,y=new a,x=new a,A=this._calStartPoint(),m=this.get("group"),M=m.addGroup(o,{minHandleElement:g,maxHandleElement:y,backgroundElement:x,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});M.translate(A.x,A.y),this.set("slider",M);var b=this._renderSliderShape();b.attr("clip",M.get("middleHandleElement")),this._renderTrigger()},p._addMiddleBar=function(g,y,x){return g.addShape(y,{attrs:s.mix({},x,this.get("middleBackgroundStyle"))}),g.addShape(y,{attrs:x})},p._renderTrigger=function(){var g=this.get("firstItem"),y=this.get("lastItem"),x=this.get("layout"),A=this.get("textStyle"),m=this.get("triggerAttr"),M=s.mix({},m),b=s.mix({},m),E=s.mix({text:this._formatItemValue(g.value)+""},A),C=s.mix({text:this._formatItemValue(y.value)+""},A);x==="vertical"?(this._addVerticalTrigger("min",M,E),this._addVerticalTrigger("max",b,C)):(this._addHorizontalTrigger("min",M,E),this._addHorizontalTrigger("max",b,C))},p._addVerticalTrigger=function(g,y,x){var A=this.get("slider"),m=A.get(g+"HandleElement"),M=this.get("width"),b=m.addShape("rect",{attrs:s.mix({x:M/2-e-2,y:g==="min"?0:-e,width:2*e+2,height:e},y)}),E=m.addShape("text",{attrs:s.mix(x,{x:M+this.get("textOffset"),y:g==="max"?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),C=this.get("layout"),T=C==="vertical"?"ns-resize":"ew-resize";b.attr("cursor",T),E.attr("cursor",T),this.set(g+"ButtonElement",b),this.set(g+"TextElement",E)},p._addHorizontalTrigger=function(g,y,x){var A=this.get("slider"),m=A.get(g+"HandleElement"),M=m.addShape("rect",{attrs:s.mix({x:g==="min"?-e:0,y:-e-this.get("height")/2,width:e,height:2*e},y)}),b=m.addShape("text",{attrs:s.mix(x,{x:g==="min"?-e-4:e+4,y:e/2+this.get("textOffset")+10,textAlign:g==="min"?"end":"start",textBaseline:"middle"})}),E=this.get("layout"),C=E==="vertical"?"ns-resize":"ew-resize";M.attr("cursor",C),b.attr("cursor",C),this.set(g+"ButtonElement",M),this.set(g+"TextElement",b)},p._bindEvents=function(){var g=this;if(this.get("slidable")){var y=this.get("slider");y.on("sliderchange",function(x){var A=x.range,m=g.get("firstItem").value,M=g.get("lastItem").value,b=m+A[0]/100*(M-m),E=m+A[1]/100*(M-m);g._updateElement(b,E);var C=new n("itemfilter",x,!0,!0);C.range=[b,E],g.emit("itemfilter",C)})}this.get("hoverable")&&(this.get("group").on("mousemove",s.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",s.wrapBehavior(this,"_onMouseLeave")))},p._updateElement=function(g,y){var x=this.get("minTextElement"),A=this.get("maxTextElement");y>1&&(g=parseInt(g,10),y=parseInt(y,10)),x.attr("text",this._formatItemValue(g)+""),A.attr("text",this._formatItemValue(y)+"")},p._onMouseLeave=function(){var g=this.get("group").findById("hoverPointer");g&&g.destroy();var y=this.get("group").findById("hoverText");y&&y.destroy(),this.get("canvas").draw()},p._onMouseMove=function(g){var y=this.get("height"),x=this.get("width"),A=this.get("items"),m=this.get("canvas").get("el"),M=m.getBoundingClientRect(),b=this.get("group").getBBox(),E;if(this.get("layout")==="vertical"){var C=5;this.get("type")==="color-legend"&&(C=30);var T=this.get("titleGap"),O=this.get("titleShape");O&&(T+=O.getBBox().maxY-O.getBBox().minY);var L=g.clientY||g.event.clientY;L=L-M.y-this.get("group").attr("matrix")[7]+b.y-C+T,E=A[0].value+(1-L/y)*(A[A.length-1].value-A[0].value)}else{var R=g.clientX||g.event.clientX;R=R-M.x-this.get("group").attr("matrix")[6],E=A[0].value+R/x*(A[A.length-1].value-A[0].value)}E=E.toFixed(2),this.activate(E),this.emit("mousehover",{value:E})},p.activate=function(g){if(!!g){var y=this.get("group").findById("hoverPointer"),x=this.get("group").findById("hoverText"),A=this.get("items");if(!(g<A[0].value||g>A[A.length-1].value)){var m=this.get("height"),M=this.get("width"),b=this.get("titleShape"),E=this.get("titleGap"),C=[],T=(g-A[0].value)/(A[A.length-1].value-A[0].value),O;if(this.get("layout")==="vertical"){var L=0,R=0;this.get("type")==="color-legend"&&(L=E,b&&(L+=b.getBBox().height)),this.get("slidable")&&(this.get("type")==="color-legend"?L-=13:(L=E-15,b&&(L+=b.getBBox().height)),R+=10),T=(1-T)*m,C=[[R,T+L],[R-10,T+L-5],[R-10,T+L+5]],O=s.mix({},{x:M+this.get("textOffset")/2+R,y:T+L,text:this._formatItemValue(g)+""},this.get("textStyle"),{textAlign:"start"})}else{var W=0,U=0;this.get("type")==="color-legend"&&(W=E,b&&(W+=b.getBBox().height)),this.get("slidable")&&(this.get("type")==="color-legend"?W-=7:(W=E,b||(W-=7)),U+=10),T*=M,C=[[T+U,W],[T+U-5,W-10],[T+U+5,W-10]],O=s.mix({},{x:T-5,y:m+this.get("textOffset")+W,text:this._formatItemValue(g)+""},this.get("textStyle"))}var X=s.mix(O,this.get("hoverTextStyle"));x?x.attr(X):(x=this.get("group").addShape("text",{attrs:X}),x.set("id","hoverText")),y?y.attr(s.mix({points:C},this.get("pointerStyle"))):(y=this.get("group").addShape("Polygon",{attrs:s.mix({points:C},this.get("pointerStyle"))}),y.set("id","hoverPointer")),this.get("canvas").draw()}}},p.deactivate=function(){var g=this.get("group").findById("hoverPointer");g&&g.destroy();var y=this.get("group").findById("hoverText");y&&y.destroy(),this.get("canvas").draw()},h}(v);P.exports=u},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(92),v=i(4),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return v.mix({},a,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},e.isContentChange=function(a,u){var l=this.get("titleContent"),h=this.get("items"),p=!(a===l&&h.length===u.length);return p||v.each(u,function(d,g){var y=h[g];for(var x in d)if(d.hasOwnProperty(x)&&!v.isObject(d[x])&&d[x]!==y[x]){p=!0;break}if(p)return!1}),p},e.setContent=function(a,u){var l=new Date().valueOf();return this.set("items",u),this.set("titleContent",a),this.set("timeStamp",l),this.render(),this},e.setPosition=function(a,u){this.set("x",a),this.set("y",u)},e.render=function(){},e.clear=function(){},e.show=function(){this.set("visible",!0)},e.hide=function(){this.set("visible",!1)},r}(s);P.exports=o},function(P,S,i){"use strict";i.d(S,"c",function(){return Z}),S.a=J;var t=i(472),c=i(473),s=i(474),v=i(475),o=i(445),f=i(477),r=i(478),e=i(479),n=i(480),a=i(481),u=i(482),l=i(483),h=i(484),p=i(485),d=i(486),g=i(487),y=i(488),x=i(447),A=i(489),m=i(490),M=i(491),b=i(492),E=i(493),C=i(494),T=i(495),O=i(496),L=i(497),R=i(498),W=i(499),U=i(433),X=i(500),Z=[null];function J(at,Q){this._groups=at,this._parents=Q}function ht(){return new J([[document.documentElement]],Z)}J.prototype=ht.prototype={constructor:J,select:t.a,selectAll:c.a,filter:s.a,data:v.a,enter:o.b,exit:f.a,join:r.a,merge:e.a,order:n.a,sort:a.a,call:u.a,nodes:l.a,node:h.a,size:p.a,empty:d.a,each:g.a,attr:y.a,style:x.a,property:A.a,classed:m.a,text:M.a,html:b.a,raise:E.a,lower:C.a,append:T.a,insert:O.a,remove:L.a,clone:R.a,datum:W.a,on:U.b,dispatch:X.a},S.b=ht},function(P,S,i){var t=i(12),c=i(111);P.exports={toTimeStamp:function(v){return t(v)&&(v.indexOf("T")>0?v=new Date(v).getTime():v=new Date(v.replace(/-/ig,"/")).getTime()),c(v)&&(v=v.getTime()),v}}},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i(83);i.d(S,"now",function(){return t.b}),i.d(S,"timer",function(){return t.c}),i.d(S,"timerFlush",function(){return t.d});var c=i(229);i.d(S,"timeout",function(){return c.a});var s=i(230);i.d(S,"interval",function(){return s.a})},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i(471);i.d(S,"create",function(){return t.a});var c=i(418);i.d(S,"creator",function(){return c.a});var s=i(501);i.d(S,"local",function(){return s.a});var v=i(444);i.d(S,"matcher",function(){return v.a});var o=i(502);i.d(S,"mouse",function(){return o.a});var f=i(429);i.d(S,"namespace",function(){return f.a});var r=i(430);i.d(S,"namespaces",function(){return r.a});var e=i(419);i.d(S,"clientPoint",function(){return e.a});var n=i(442);i.d(S,"select",function(){return n.a});var a=i(503);i.d(S,"selectAll",function(){return a.a});var u=i(99);i.d(S,"selection",function(){return u.b});var l=i(431);i.d(S,"selector",function(){return l.a});var h=i(443);i.d(S,"selectorAll",function(){return h.a});var p=i(447);i.d(S,"style",function(){return p.b});var d=i(504);i.d(S,"touch",function(){return d.a});var g=i(505);i.d(S,"touches",function(){return g.a});var y=i(432);i.d(S,"window",function(){return y.a});var x=i(433);i.d(S,"event",function(){return x.c}),i.d(S,"customEvent",function(){return x.a})},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i(231);i.d(S,"easeLinear",function(){return t.a});var c=i(232);i.d(S,"easeQuad",function(){return c.b}),i.d(S,"easeQuadIn",function(){return c.a}),i.d(S,"easeQuadOut",function(){return c.c}),i.d(S,"easeQuadInOut",function(){return c.b});var s=i(233);i.d(S,"easeCubic",function(){return s.b}),i.d(S,"easeCubicIn",function(){return s.a}),i.d(S,"easeCubicOut",function(){return s.c}),i.d(S,"easeCubicInOut",function(){return s.b});var v=i(234);i.d(S,"easePoly",function(){return v.b}),i.d(S,"easePolyIn",function(){return v.a}),i.d(S,"easePolyOut",function(){return v.c}),i.d(S,"easePolyInOut",function(){return v.b});var o=i(235);i.d(S,"easeSin",function(){return o.b}),i.d(S,"easeSinIn",function(){return o.a}),i.d(S,"easeSinOut",function(){return o.c}),i.d(S,"easeSinInOut",function(){return o.b});var f=i(236);i.d(S,"easeExp",function(){return f.b}),i.d(S,"easeExpIn",function(){return f.a}),i.d(S,"easeExpOut",function(){return f.c}),i.d(S,"easeExpInOut",function(){return f.b});var r=i(237);i.d(S,"easeCircle",function(){return r.b}),i.d(S,"easeCircleIn",function(){return r.a}),i.d(S,"easeCircleOut",function(){return r.c}),i.d(S,"easeCircleInOut",function(){return r.b});var e=i(238);i.d(S,"easeBounce",function(){return e.c}),i.d(S,"easeBounceIn",function(){return e.a}),i.d(S,"easeBounceOut",function(){return e.c}),i.d(S,"easeBounceInOut",function(){return e.b});var n=i(239);i.d(S,"easeBack",function(){return n.b}),i.d(S,"easeBackIn",function(){return n.a}),i.d(S,"easeBackOut",function(){return n.c}),i.d(S,"easeBackInOut",function(){return n.b});var a=i(240);i.d(S,"easeElastic",function(){return a.c}),i.d(S,"easeElasticIn",function(){return a.a}),i.d(S,"easeElasticOut",function(){return a.c}),i.d(S,"easeElasticInOut",function(){return a.b})},function(P,S,i){P.exports={Position:i(330),Color:i(331),Shape:i(332),Size:i(333),Opacity:i(334),ColorUtil:i(165)}},function(P,S,i){var t=i(106),c=i(20);c.Linear=i(38),c.Identity=i(209),c.Cat=i(108),c.Time=i(210),c.TimeCat=i(212),c.Log=i(213),c.Pow=i(214);var s=function(r){if(c.hasOwnProperty(r)){var e=t(r);c[e]=function(n){return new c[r](n)}}};for(var v in c)s(v);var o=["cat","timeCat"];c.isCategory=function(f){return o.indexOf(f)>=0},P.exports=c},function(P,S,i){var t=i(26),c=function(v){var o=t(v);return o.charAt(0).toLowerCase()+o.substring(1)};P.exports=c},function(P,S){var i=12;function t(o){var f=1;if(o===Infinity||o===-Infinity)throw new Error("Not support Infinity!");if(o<1){for(var r=0;o<1;)f=f/10,o=o*10,r++;f.toString().length>i&&(f=parseFloat(f.toFixed(r)))}else for(;o>10;)f=f*10,o=o/10;return f}function c(o,f){var r=o.length;if(r===0)return NaN;var e=o[0];if(f<o[0])return NaN;if(f>=o[r-1])return o[r-1];for(var n=1;n<o.length&&!(f<o[n]);n++)e=o[n];return e}function s(o,f){var r=o.length;if(r===0)return NaN;var e;if(f>o[r-1])return NaN;if(f<o[0])return o[0];for(var n=1;n<o.length;n++)if(f<=o[n]){e=o[n];break}return e}var v={snapFactorTo:function(f,r,e){if(isNaN(f))return NaN;var n=1;if(f!==0){f<0&&(n=-1),f=f*n;var a=t(f);n=n*a,f=f/a}e==="floor"?f=v.snapFloor(r,f):e==="ceil"?f=v.snapCeiling(r,f):f=v.snapTo(r,f);var u=parseFloat((f*n).toPrecision(i));if(Math.abs(n)<1&&u.toString().length>i){var l=parseInt(1/n),h=n>0?1:-1;u=f/l*h}return u},snapMultiple:function(f,r,e){var n;return e==="ceil"?n=Math.ceil(f/r):e==="floor"?n=Math.floor(f/r):n=Math.round(f/r),n*r},snapTo:function(f,r){var e=c(f,r),n=s(f,r);if(isNaN(e)||isNaN(n)){if(f[0]>=r)return f[0];var a=f[f.length-1];if(a<=r)return a}return Math.abs(r-e)<Math.abs(n-r)?e:n},snapFloor:function(f,r){return c(f,r)},snapCeiling:function(f,r){return s(f,r)},fixedBase:function(f,r){var e=r.toString(),n=e.indexOf("."),a=e.indexOf("e-");if(n<0&&a<0)return Math.round(f);var u=a>=0?parseInt(e.substr(a+2),10):e.substr(n+1).length;return u>20&&(u=20),parseFloat(f.toFixed(u))}};P.exports=v},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(20),s=i(109),v=i(3),o=i(11),f=i(12),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},a.init=function(){var l=this,h=l.values,p=l.tickCount;if(v(h,function(y,x){h[x]=y.toString()}),!l.ticks){var d=h;if(p){var g=s({maxCount:p,data:h,isRounding:l.isRounding});d=g.ticks}this.ticks=d}},a.getText=function(l){return this.values.indexOf(l)===-1&&o(l)&&(l=this.values[Math.round(l)]),e.prototype.getText.call(this,l)},a.translate=function(l){var h=this.values.indexOf(l);return h===-1&&o(l)?h=l:h===-1&&(h=NaN),h},a.scale=function(l){var h=this.rangeMin(),p=this.rangeMax(),d;return(f(l)||this.values.indexOf(l)!==-1)&&(l=this.translate(l)),this.values.length>1?d=l/(this.values.length-1):d=l,h+d*(p-h)},a.invert=function(l){if(f(l))return l;var h=this.rangeMin(),p=this.rangeMax();l<h&&(l=h),l>p&&(l=p);var d=(l-h)/(p-h),g=Math.round(d*(this.values.length-1))%this.values.length;return g=g||0,this.values[g]},n}(c);c.Cat=r,P.exports=r},function(P,S,i){var t=i(3),c=8,s=4;function v(f){var r=[];return t(f,function(e){r=r.concat(e)}),r}function o(f,r){var e;for(e=r;e>0&&f%e!=0;e--);if(e===1)for(e=r;e>0&&(f-1)%e!=0;e--);return e}P.exports=function(f){var r={},e=[],n=f.isRounding,a=v(f.data),u=a.length,l=f.maxCount||c,h;if(n?(h=o(u-1,l-1)+1,h===2?h=l:h<l-s&&(h=l-s)):h=l,!n&&u<=h+h/2)e=[].concat(a);else{for(var p=parseInt(u/(h-1),10),d=a.map(function(A,m){return m%p==0?a.slice(m,m+p):null}).filter(function(A){return A}),g=1,y=d.length;g<y&&(n?g*p<u-p:g<h-1);g++)e.push(d[g][0]);if(a.length){e.unshift(a[0]);var x=a[u-1];e.indexOf(x)===-1&&e.push(x)}}return r.categories=a,r.ticks=e,r}},function(P,S,i){var t;(function(c){"use strict";var s={},v=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,o=/\d\d?/,f=/\d{3}/,r=/\d{4}/,e=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,n=/\[([^]*?)\]/gm,a=function(){};function u(m,M){for(var b=[],E=0,C=m.length;E<C;E++)b.push(m[E].substr(0,M));return b}function l(m){return function(M,b,E){var C=E[m].indexOf(b.charAt(0).toUpperCase()+b.substr(1).toLowerCase());~C&&(M.month=C)}}function h(m,M){for(m=String(m),M=M||2;m.length<M;)m="0"+m;return m}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],g=u(d,3),y=u(p,3);s.i18n={dayNamesShort:y,dayNames:p,monthNamesShort:g,monthNames:d,amPm:["am","pm"],DoFn:function(M){return M+["th","st","nd","rd"][M%10>3?0:(M-M%10!=10)*M%10]}};var x={D:function(m){return m.getDate()},DD:function(m){return h(m.getDate())},Do:function(m,M){return M.DoFn(m.getDate())},d:function(m){return m.getDay()},dd:function(m){return h(m.getDay())},ddd:function(m,M){return M.dayNamesShort[m.getDay()]},dddd:function(m,M){return M.dayNames[m.getDay()]},M:function(m){return m.getMonth()+1},MM:function(m){return h(m.getMonth()+1)},MMM:function(m,M){return M.monthNamesShort[m.getMonth()]},MMMM:function(m,M){return M.monthNames[m.getMonth()]},YY:function(m){return String(m.getFullYear()).substr(2)},YYYY:function(m){return h(m.getFullYear(),4)},h:function(m){return m.getHours()%12||12},hh:function(m){return h(m.getHours()%12||12)},H:function(m){return m.getHours()},HH:function(m){return h(m.getHours())},m:function(m){return m.getMinutes()},mm:function(m){return h(m.getMinutes())},s:function(m){return m.getSeconds()},ss:function(m){return h(m.getSeconds())},S:function(m){return Math.round(m.getMilliseconds()/100)},SS:function(m){return h(Math.round(m.getMilliseconds()/10),2)},SSS:function(m){return h(m.getMilliseconds(),3)},a:function(m,M){return m.getHours()<12?M.amPm[0]:M.amPm[1]},A:function(m,M){return m.getHours()<12?M.amPm[0].toUpperCase():M.amPm[1].toUpperCase()},ZZ:function(m){var M=m.getTimezoneOffset();return(M>0?"-":"+")+h(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4)}},A={D:[o,function(m,M){m.day=M}],Do:[new RegExp(o.source+e.source),function(m,M){m.day=parseInt(M,10)}],M:[o,function(m,M){m.month=M-1}],YY:[o,function(m,M){var b=new Date,E=+(""+b.getFullYear()).substr(0,2);m.year=""+(M>68?E-1:E)+M}],h:[o,function(m,M){m.hour=M}],m:[o,function(m,M){m.minute=M}],s:[o,function(m,M){m.second=M}],YYYY:[r,function(m,M){m.year=M}],S:[/\d/,function(m,M){m.millisecond=M*100}],SS:[/\d{2}/,function(m,M){m.millisecond=M*10}],SSS:[f,function(m,M){m.millisecond=M}],d:[o,a],ddd:[e,a],MMM:[e,l("monthNamesShort")],MMMM:[e,l("monthNames")],a:[e,function(m,M,b){var E=M.toLowerCase();E===b.amPm[0]?m.isPm=!1:E===b.amPm[1]&&(m.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(m,M){M==="Z"&&(M="+00:00");var b=(M+"").match(/([\+\-]|\d\d)/gi),E;b&&(E=+(b[1]*60)+parseInt(b[2],10),m.timezoneOffset=b[0]==="+"?E:-E)}]};A.dd=A.d,A.dddd=A.ddd,A.DD=A.D,A.mm=A.m,A.hh=A.H=A.HH=A.h,A.MM=A.M,A.ss=A.s,A.A=A.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(m,M,b){var E=b||s.i18n;if(typeof m=="number"&&(m=new Date(m)),Object.prototype.toString.call(m)!=="[object Date]"||isNaN(m.getTime()))throw new Error("Invalid Date in fecha.format");M=s.masks[M]||M||s.masks.default;var C=[];return M=M.replace(n,function(T,O){return C.push(O),"??"}),M=M.replace(v,function(T){return T in x?x[T](m,E):T.slice(1,T.length-1)}),M.replace(/\?\?/g,function(){return C.shift()})},s.parse=function(m,M,b){var E=b||s.i18n;if(typeof M!="string")throw new Error("Invalid format in fecha.parse");if(M=s.masks[M]||M,m.length>1e3)return!1;var C=!0,T={};if(M.replace(v,function(R){if(A[R]){var W=A[R],U=m.search(W[0]);~U?m.replace(W[0],function(X){return W[1](T,X,E),m=m.substr(U+X.length),X}):C=!1}return A[R]?"":R.slice(1,R.length-1)}),!C)return!1;var O=new Date;T.isPm===!0&&T.hour!=null&&+T.hour!=12?T.hour=+T.hour+12:T.isPm===!1&&+T.hour==12&&(T.hour=0);var L;return T.timezoneOffset!=null?(T.minute=+(T.minute||0)-+T.timezoneOffset,L=new Date(Date.UTC(T.year||O.getFullYear(),T.month||0,T.day||1,T.hour||0,T.minute||0,T.second||0,T.millisecond||0))):L=new Date(T.year||O.getFullYear(),T.month||0,T.day||1,T.hour||0,T.minute||0,T.second||0,T.millisecond||0),L},typeof P!="undefined"&&P.exports?P.exports=s:(t=function(){return s}.call(S,i,S,P),t!==void 0&&(P.exports=t))})(this)},function(P,S,i){var t=i(14),c=function(v){return t(v,"Date")};P.exports=c},function(P,S,i){P.exports={Canvas:i(215),Group:i(115),Shape:i(7),Arc:i(120),Circle:i(121),Dom:i(122),Ellipse:i(123),Fan:i(124),Image:i(125),Line:i(126),Marker:i(81),Path:i(127),Polygon:i(128),Polyline:i(129),Rect:i(130),Text:i(131),PathSegment:i(46),PathUtil:i(82),Event:i(78),EventEmitter:i(117),version:"3.4.10"}},function(P,S){var i={}.toString,t=function(s){return i.call(s).replace(/^\[object /,"").replace(/\]$/,"")};P.exports=t},function(P,S){var i=Object.prototype,t=function(s){var v=s&&s.constructor,o=typeof v=="function"&&v.prototype||i;return s===o};P.exports=t},function(P,S,i){var t=i(1),c=i(116),s=i(226),v={},o="_INDEX",f=["zIndex","capture","visible"];function r(l){return function(h,p){var d=l(h,p);return d===0?h[o]-p[o]:d}}function e(l,h,p){for(var d,g=l.length-1;g>=0;g--){var y=l[g];if(y._cfg.visible&&y._cfg.capture&&(y.isGroup?d=y.getShape(h,p):y.isHit(h,p)&&(d=y)),d)break}return d}function n(l){for(var h=[],p=0;p<l.length;p++)h.push(l[p]);return h}var a=function l(h){l.superclass.constructor.call(this,h),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function u(l){if(!(l._cfg||l===a)){var h=l.superclass.constructor;h&&!h._cfg&&u(h),l._cfg={},t.merge(l._cfg,h._cfg),t.merge(l._cfg,l.CFG)}}t.extend(a,c),t.augment(a,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return u(this.constructor),t.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(h,p){var d=this.get("canvas");p=p||{};var g=v[h];if(g||(g=t.upperFirst(h),v[h]=g),p.attrs&&d){var y=p.attrs;if(h==="text"){var x=d.get("fontFamily");x&&(y.fontFamily=y.fontFamily?y.fontFamily:x)}}p.canvas=d,p.type=h;var A=new s[g](p);return this.add(A),A},addGroup:function(h,p){var d=this.get("canvas"),g;if(p=t.merge({},p),t.isFunction(h))p?(p.canvas=d,p.parent=this,g=new h(p)):g=new h({canvas:d,parent:this}),this.add(g);else if(t.isObject(h))h.canvas=d,g=new a(h),this.add(g);else if(h===void 0)g=new a,this.add(g);else return!1;return g},renderBack:function(h,p){var d=this.get("backShape"),g=this.getBBox();return t.merge(p,{x:g.minX-h[3],y:g.minY-h[0],width:g.width+h[1]+h[3],height:g.height+h[0]+h[2]}),d?d.attr(p):d=this.addShape("rect",{zIndex:-1,attrs:p}),this.set("backShape",d),this.sort(),d},removeChild:function(h,p){if(arguments.length>=2)this.contain(h)&&h.remove(p);else{if(arguments.length===1)if(t.isBoolean(h))p=h;else return this.contain(h)&&h.remove(!0),this;arguments.length===0&&(p=!0),a.superclass.remove.call(this,p)}return this},add:function(h){var p=this,d=p.get("children");if(t.isArray(h))t.each(h,function(x){var A=x.get("parent");A&&A.removeChild(x,!1),p._setCfgProperty(x)}),p._cfg.children=d.concat(h);else{var g=h,y=g.get("parent");y&&y.removeChild(g,!1),p._setCfgProperty(g),d.push(g)}return p},_setCfgProperty:function(h){var p=this._cfg;h.set("parent",this),h.set("canvas",p.canvas),p.timeline&&h.set("timeline",p.timeline)},contain:function(h){var p=this.get("children");return p.indexOf(h)>-1},getChildByIndex:function(h){var p=this.get("children");return p[h]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var h=this.get("children").length-1;return this.getChildByIndex(h)},getBBox:function(){var h=this,p=Infinity,d=-Infinity,g=Infinity,y=-Infinity,x=h.get("children");x.length>0?t.each(x,function(m){if(m.get("visible")){if(m.isGroup&&m.get("children").length===0)return;var M=m.getBBox();if(!M)return!0;var b=[M.minX,M.minY,1],E=[M.minX,M.maxY,1],C=[M.maxX,M.minY,1],T=[M.maxX,M.maxY,1];m.apply(b),m.apply(E),m.apply(C),m.apply(T);var O=Math.min(b[0],E[0],C[0],T[0]),L=Math.max(b[0],E[0],C[0],T[0]),R=Math.min(b[1],E[1],C[1],T[1]),W=Math.max(b[1],E[1],C[1],T[1]);O<p&&(p=O),L>d&&(d=L),R<g&&(g=R),W>y&&(y=W)}}):(p=0,d=0,g=0,y=0);var A={minX:p,minY:g,maxX:d,maxY:y};return A.x=A.minX,A.y=A.minY,A.width=A.maxX-A.minX,A.height=A.maxY-A.minY,A},getCount:function(){return this.get("children").length},sort:function(){var h=this.get("children");return t.each(h,function(p,d){return p[o]=d,p}),h.sort(r(function(p,d){return p.get("zIndex")-d.get("zIndex")})),this},findById:function(h){return this.find(function(p){return p.get("id")===h})},find:function(h){if(t.isString(h))return this.findById(h);var p=this.get("children"),d=null;return t.each(p,function(g){if(h(g)?d=g:g.find&&(d=g.find(h)),d)return!1}),d},findAll:function(h){var p=this.get("children"),d=[],g=[];return t.each(p,function(y){h(y)&&d.push(y),y.findAllBy&&(g=y.findAllBy(h),d=d.concat(g))}),d},findBy:function(h){var p=this.get("children"),d=null;return t.each(p,function(g){if(h(g)?d=g:g.findBy&&(d=g.findBy(h)),d)return!1}),d},findAllBy:function(h){var p=this.get("children"),d=[],g=[];return t.each(p,function(y){h(y)&&d.push(y),y.findAllBy&&(g=y.findAllBy(h),d=d.concat(g))}),d},getShape:function(h,p){var d=this,g=d._attrs.clip,y=d._cfg.children,x;if(g){var A=[h,p,1];g.invert(A,d.get("canvas")),g.isPointInPath(A[0],A[1])&&(x=e(y,h,p))}else x=e(y,h,p);return x},clearTotalMatrix:function(){var h=this.get("totalMatrix");if(h){this.setSilent("totalMatrix",null);for(var p=this._cfg.children,d=0;d<p.length;d++){var g=p[d];g.clearTotalMatrix()}}},clear:function(h){if(!this.get("destroyed")){for(var p=this._cfg.children,d=p.length-1;d>=0;d--)p[d].remove(!0,h);return this._cfg.children=[],this}},destroy:function(){this.get("destroyed")||(this.clear(),a.superclass.destroy.call(this))},clone:function(){var h=this,p=h._cfg.children,d=h._attrs,g={};t.each(d,function(x,A){A==="matrix"?g[A]=n(d[A]):g[A]=d[A]});var y=new a({attrs:g,canvas:h.get("canvas")});return t.each(p,function(x){y.add(x.clone())}),t.each(f,function(x){y._cfg[x]=h._cfg[x]}),y}}),P.exports=a},function(P,S,i){var t=i(1),c=i(222),s=i(223),v=i(224),o=i(225),f=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},t.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},t.augment(f,c,s,o,v,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,n){return e==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(n),e==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function(e,n){this._cfg[e]=n},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,n){var a=this._cfg,u=a.parent,l=a.el;return u&&t.remove(u.get("children"),this),l&&(n?u&&u._cfg.tobeRemoved.push(l):l.parentNode.removeChild(l)),(e||e===void 0)&&this.destroy(),this},destroy:function(){var e=this.get("destroyed");e||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);a.splice(l,1),a.push(this),u&&(u.parentNode.removeChild(u),e.el=null)}},toBack:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);if(a.splice(l,1),a.unshift(this),u){var h=u.parentNode;h.removeChild(u),h.insertBefore(u,h.firstChild)}}},_beforeSetZIndex:function(e){var n=this._cfg.parent;this._cfg.zIndex=e,t.isNil(n)||n.sort();var a=this._cfg.el;if(a){var u=n._cfg.children,l=u.indexOf(this),h=a.parentNode;h.removeChild(a),l===u.length-1?h.appendChild(a):h.insertBefore(a,h.childNodes[l])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return t.clone(this)},getBBox:function(){}}),P.exports=f},function(P,S,i){var t=i(59),c=Array.prototype.slice;function s(o,f){for(var r=o.length;r--;)if(o[r].callback===f)return r;return-1}var v=function(){};t.augment(v,{on:function(f,r,e){var n=this;if(!t.isFunction(r))throw new TypeError("listener should be a function");return n._cfg._events||(n._cfg._events={}),n._cfg._events[f]||(n._cfg._events[f]=[]),n._cfg._events[f].push({callback:r,one:e}),this},one:function(f,r){return this.on(f,r,!0),this},emit:function(f){if(!this.get("destroyed")&&!(!this._cfg._events||t.isEmpty(this._cfg._events))){var r=this._cfg._events[f];if(!t.isEmpty(r))for(var e=arguments,n=c.call(e,1),a=r.length,u=0;u<a;)!r[u]||(r[u].callback.apply(this,n),r[u]&&r[u].one?(r.splice(u,1),a--):u++)}},trigger:function(){this.emit.apply(this,arguments)},off:function(f,r){var e=this._cfg._events;if(!(!e||t.isEmpty(e))){if(arguments.length===0)return this._cfg._events={},this;if(e[f]){var n=s(e[f],r);n>=0&&e[f].splice(n,1),e[f].length===0&&delete e[f]}}},removeEvent:function(f){return typeof f=="undefined"?this._cfg._events={}:delete this._cfg._events[f],this},_getEvents:function(){return this._cfg._events||{}}}),P.exports=v},function(P,S,i){var t=i(1),c=t.vec2;function s(f,r,e,n){var a=1-n;return a*(a*f+2*n*r)+n*n*e}function v(f,r,e,n,a,u,l,h,p){var d,g=.005,y=Infinity,x,A,m,M,b,E,C=1e-4,T=[l,h];for(M=0;M<1;M+=.05)A=[s(f,e,a,M),s(r,n,u,M)],x=c.squaredDistance(T,A),x<y&&(d=M,y=x);for(y=Infinity,E=0;E<32&&!(g<C);E++){var O=d-g,L=d+g;A=[s(f,e,a,O),s(r,n,u,O)],x=c.squaredDistance(T,A),O>=0&&x<y?(d=O,y=x):(m=[s(f,e,a,L),s(r,n,u,L)],b=c.squaredDistance(T,m),L<=1&&b<y?(d=L,y=b):g*=.5)}return p&&(p.x=s(f,e,a,d),p.y=s(r,n,u,d)),Math.sqrt(y)}function o(f,r,e){var n=f+e-2*r;if(t.isNumberEqual(n,0))return[.5];var a=(f-r)/n;return a<=1&&a>=0?[a]:[]}P.exports={at:s,projectPoint:function(r,e,n,a,u,l,h,p){var d={};return v(r,e,n,a,u,l,h,p,d),d},pointDistance:v,extrema:o}},function(P,S){P.exports={xAt:function(t,c,s,v,o){return c*Math.cos(t)*Math.cos(o)-s*Math.sin(t)*Math.sin(o)+v},yAt:function(t,c,s,v,o){return c*Math.sin(t)*Math.cos(o)+s*Math.cos(t)*Math.sin(o)+v},xExtrema:function(t,c,s){return Math.atan(-s/c*Math.tan(t))},yExtrema:function(t,c,s){return Math.atan(s/(c*Math.tan(t)))}}},function(P,S,i){var t=i(1),c=i(7),s=i(44),v=i(45);function o(e,n,a){return e+n*Math.cos(a)}function f(e,n,a){return e+n*Math.sin(a)}var r=function e(n){e.superclass.constructor.call(this,n)};r.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(r,c),t.augment(r,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var n=this._attrs,a=n.x,u=n.y,l=n.r,h=n.startAngle,p=n.endAngle,d=n.clockwise,g=this.getHitLineWidth(),y=g/2,x=s.box(a,u,l,h,p,d);return x.minX-=y,x.minY-=y,x.maxX+=y,x.maxY+=y,x},getStartTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.startAngle,h=n.r,p=n.clockwise,d=Math.PI/180;p&&(d*=-1);var g=[],y=o(a,h,l+d),x=f(u,h,l+d),A=o(a,h,l),m=f(u,h,l);return g.push([y,x]),g.push([A,m]),g},getEndTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.endAngle,h=n.r,p=n.clockwise,d=Math.PI/180,g=[];p&&(d*=-1);var y=o(a,h,l+d),x=f(u,h,l+d),A=o(a,h,l),m=f(u,h,l);return g.push([A,m]),g.push([y,x]),g},createPath:function(n){var a=this._attrs,u=a.x,l=a.y,h=a.r,p=a.startAngle,d=a.endAngle,g=a.clockwise;n=n||self.get("context"),n.beginPath(),n.arc(u,l,h,p,d,g)},afterPath:function(n){var a=this._attrs;if(n=n||this.get("context"),a.startArrow){var u=this.getStartTangent();v.addStartArrow(n,a,u[0][0],u[0][1],u[1][0],u[1][1])}if(a.endArrow){var l=this.getEndTangent();v.addEndArrow(n,a,l[0][0],l[0][1],l[1][0],l[1][1])}}}),P.exports=r},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,r:0,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.r,n=this.getHitLineWidth(),a=n/2+e;return{minX:f-a,minY:r-a,maxX:f+a,maxY:r+a}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.r;o.beginPath(),o.arc(r,e,n,0,Math.PI*2,!1),o.closePath()}}),P.exports=s},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var o=this,f=o._attrs,r=f.x,e=f.y,n=f.width,a=f.height,u=this.getHitLineWidth(),l=u/2;return{minX:r-l,minY:e-l,maxX:r+n+l,maxY:e+a+l}}}),P.exports=s},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.rx,n=o.ry,a=this.getHitLineWidth(),u=e+a/2,l=n+a/2;return{minX:f-u,minY:r-l,maxX:f+u,maxY:r+l}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.rx,a=f.ry;o=o||self.get("context");var u=n>a?n:a,l=n>a?1:n/a,h=n>a?a/n:1,p=[1,0,0,0,1,0,0,0,1];t.mat3.scale(p,p,[l,h]),t.mat3.translate(p,p,[r,e]),o.beginPath(),o.save(),o.transform(p[0],p[1],p[3],p[4],p[6],p[7]),o.arc(0,0,u,0,Math.PI*2),o.restore(),o.closePath()}}),P.exports=s},function(P,S,i){var t=i(1),c=i(7),s=i(44),v=function o(f){o.superclass.constructor.call(this,f)};v.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},t.extend(v,c),t.augment(v,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var f=this,r=f._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d=this.getHitLineWidth(),g=s.box(e,n,a,l,h,p),y=s.box(e,n,u,l,h,p),x=Math.min(g.minX,y.minX),A=Math.min(g.minY,y.minY),m=Math.max(g.maxX,y.maxX),M=Math.max(g.maxY,y.maxY),b=d/2;return{minX:x-b,minY:A-b,maxX:m+b,maxY:M+b}},createPath:function(f){var r=this._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d={x:Math.cos(l)*a+e,y:Math.sin(l)*a+n},g={x:Math.cos(l)*u+e,y:Math.sin(l)*u+n},y={x:Math.cos(h)*a+e,y:Math.sin(h)*a+n};f=f||self.get("context"),f.beginPath(),f.moveTo(d.x,d.y),f.lineTo(g.x,g.y),f.arc(e,n,u,l,h,p),f.lineTo(y.x,y.y),f.arc(e,n,a,h,l,!p),f.closePath()}}),P.exports=v},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},t.extend(s,c),t.augment(s,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs;(!this._cfg.attrs||this._cfg.attrs.img!==o.img)&&this._setAttrImg();var f=o.x,r=o.y,e=o.width,n=o.height;return{minX:f,minY:r,maxX:f+e,maxY:r+n}},_beforeSetLoading:function(o){var f=this.get("canvas");return o===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,f.draw()),o},_setAttrImg:function(){var o=this,f=o._attrs,r=f.img;if(t.isString(r)){var e=new Image;e.onload=function(){if(o.get("destroyed"))return!1;o.attr("imgSrc",r),o.attr("img",e);var n=o.get("callback");n&&n.call(o),o.set("loading",!1)},e.src=r,e.crossOrigin="Anonymous",o.set("loading",!0)}else return r instanceof Image?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):r instanceof HTMLElement&&t.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"?(f.width||o.attr("width",Number(r.getAttribute("width"))),f.height||o.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):null},drawInner:function(o){if(this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")){this.set("toDraw",!0);return}this._drawImage(o),this._cfg.hasUpdate=!1},_drawImage:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.img,a=f.width,u=f.height,l=f.sx,h=f.sy,p=f.swidth,d=f.sheight;this.set("toDraw",!1);var g=n;if(g instanceof ImageData&&(g=new Image,g.src=n),g instanceof Image||g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS"){if(t.isNil(l)||t.isNil(h)||t.isNil(p)||t.isNil(d)){o.drawImage(g,r,e,a,u);return}if(!t.isNil(l)&&!t.isNil(h)&&!t.isNil(p)&&!t.isNil(d)){o.drawImage(g,l,h,p,d,r,e,a,u);return}}}}),P.exports=s},function(P,S,i){var t=i(1),c=i(7),s=i(45),v=i(43),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(o,c),t.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,e=r.x1,n=r.y1,a=r.x2,u=r.y2,l=this.getHitLineWidth();return v.box(e,n,a,u,l)},createPath:function(r){var e=this,n=this._attrs,a=n.x1,u=n.y1,l=n.x2,h=n.y2;if(n.startArrow&&n.startArrow.d){var p=s.getShortenOffset(a,u,l,h,n.startArrow.d);a+=p.dx,u+=p.dy}if(n.endArrow&&n.endArrow.d){var d=s.getShortenOffset(a,u,l,h,n.endArrow.d);l-=d.dx,h-=d.dy}r=r||e.get("context"),r.beginPath(),r.moveTo(a,u),r.lineTo(l,h)},afterPath:function(r){var e=this,n=e._attrs,a=n.x1,u=n.y1,l=n.x2,h=n.y2;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,l,h,a,u),n.endArrow&&s.addEndArrow(r,n,a,u,l,h)},getPoint:function(r){var e=this._attrs;return{x:v.at(e.x1,e.x2,r),y:v.at(e.y1,e.y2,r)}}}),P.exports=o},function(P,S,i){var t=i(1),c=i(7),s=i(46),v=i(31),o=i(45),f=i(82),r=i(80),e=function n(a){n.superclass.constructor.call(this,a)};e.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(e,c),t.augment(e,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(a){var u=this;if(t.isNil(a)){u.setSilent("segments",null),u.setSilent("box",void 0);return}var l=v.parsePath(a),h,p=[];if(!(!t.isArray(l)||l.length===0||l[0][0]!=="M"&&l[0][0]!=="m")){for(var d=l.length,g=0;g<l.length;g++){var y=l[g];h=new s(y,h,g===d-1),p.push(h)}u.setSilent("segments",p),u.setSilent("tCache",null),u.setSilent("totalLength",null),u.setSilent("box",null)}},calculateBox:function(){var a=this,u=a.get("segments");if(!u)return null;var l=this.getHitLineWidth(),h=Infinity,p=-Infinity,d=Infinity,g=-Infinity;return t.each(u,function(y){y.getBBox(l);var x=y.box;x&&(x.minX<h&&(h=x.minX),x.maxX>p&&(p=x.maxX),x.minY<d&&(d=x.minY),x.maxY>g&&(g=x.maxY))}),h===Infinity||d===Infinity?{minX:0,minY:0,maxX:0,maxY:0}:{minX:h,minY:d,maxX:p,maxY:g}},_setTcache:function(){var a=0,u=0,l=[],h,p,d,g,y=this._cfg.curve;if(!!y){if(t.each(y,function(x,A){d=y[A+1],g=x.length,d&&(a+=r.len(x[g-2],x[g-1],d[1],d[2],d[3],d[4],d[5],d[6]))}),this._cfg.totalLength=a,a===0){this._cfg.tCache=[];return}t.each(y,function(x,A){d=y[A+1],g=x.length,d&&(h=[],h[0]=u/a,p=r.len(x[g-2],x[g-1],d[1],d[2],d[3],d[4],d[5],d[6]),u+=p,h[1]=u/a,l.push(h))}),this._cfg.tCache=l}},getTotalLength:function(){var a=this.get("totalLength");return t.isNil(a)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):a},_calculateCurve:function(){var a=this,u=a._attrs,l=u.path;this._cfg.curve=f.pathTocurve(l)},getStartTangent:function(){var a=this.get("segments"),u,l,h,p;if(a.length>1)if(u=a[0].endPoint,l=a[1].endPoint,h=a[1].startTangent,p=[],t.isFunction(h)){var d=h();p.push([u.x-d[0],u.y-d[1]]),p.push([u.x,u.y])}else p.push([l.x,l.y]),p.push([u.x,u.y]);return p},getEndTangent:function(){var a=this.get("segments"),u=a.length,l,h,p,d;if(u>1)if(l=a[u-2].endPoint,h=a[u-1].endPoint,p=a[u-1].endTangent,d=[],t.isFunction(p)){var g=p();d.push([h.x-g[0],h.y-g[1]]),d.push([h.x,h.y])}else d.push([l.x,l.y]),d.push([h.x,h.y]);return d},getPoint:function(a){var u=this._cfg.tCache,l,h;u||(this._calculateCurve(),this._setTcache(),u=this._cfg.tCache);var p=this._cfg.curve;if(!u||u.length===0)return p?{x:p[0][1],y:p[0][2]}:null;t.each(u,function(x,A){a>=x[0]&&a<=x[1]&&(l=(a-x[0])/(x[1]-x[0]),h=A)});var d=p[h];if(t.isNil(d)||t.isNil(h))return null;var g=d.length,y=p[h+1];return{x:r.at(d[g-2],y[1],y[3],y[5],1-l),y:r.at(d[g-1],y[2],y[4],y[6],1-l)}},createPath:function(a){var u=this,l=u._attrs,h=u.get("segments");if(!!t.isArray(h)){var p=h.length;if(p!==0){if(a=a||u.get("context"),a.beginPath(),l.startArrow&&l.startArrow.d){var d=u.getStartTangent(),g=o.getShortenOffset(d[0][0],d[0][1],d[1][0],d[1][1],l.startArrow.d);h[0].shortenDraw(a,g.dx,g.dy)}else h[0].draw(a);for(var y=1;y<p-2;y++)h[y].draw(a);if(l.endArrow&&l.endArrow.d){var x=u.getEndTangent(),A=o.getShortenOffset(x[0][0],x[0][1],x[1][0],x[1][1],l.endArrow.d),m=h[p-1];m.command.toUpperCase()==="Z"?(h[p-2]&&h[p-2].shortenDraw(a,A.dx,A.dy),m.draw(a)):(p>2&&h[p-2].draw(a),m.shortenDraw(a,A.dx,A.dy))}else h[p-2]&&h[p-2].draw(a),h[p-1].draw(a)}}},afterPath:function(a){var u=this,l=u._attrs,h=u.get("segments"),p=l.path;if(a=a||u.get("context"),!!t.isArray(h)&&h.length!==1&&!(!l.startArrow&&!l.endArrow)&&!(p[p.length-1]==="z"||p[p.length-1]==="Z"||l.fill)){var d=u.getStartTangent();o.addStartArrow(a,l,d[0][0],d[0][1],d[1][0],d[1][1]);var g=u.getEndTangent();o.addEndArrow(a,l,g[0][0],g[0][1],g[1][0],g[1][1])}}}),P.exports=e},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={points:null,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this,f=o._attrs,r=f.points,e=this.getHitLineWidth();if(!r||r.length===0)return null;var n=Infinity,a=Infinity,u=-Infinity,l=-Infinity;t.each(r,function(p){var d=p[0],g=p[1];d<n&&(n=d),d>u&&(u=d),g<a&&(a=g),g>l&&(l=g)});var h=e/2;return{minX:n-h,minY:a-h,maxX:u+h,maxY:l+h}},createPath:function(o){var f=this,r=f._attrs,e=r.points;e.length<2||(o=o||f.get("context"),o.beginPath(),t.each(e,function(n,a){a===0?o.moveTo(n[0],n[1]):o.lineTo(n[0],n[1])}),o.closePath())}}),P.exports=s},function(P,S,i){var t=i(1),c=i(7),s=i(45),v=i(43),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},t.extend(o,c),t.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this,e=r._attrs,n=this.getHitLineWidth(),a=e.points;if(!a||a.length===0)return null;var u=Infinity,l=Infinity,h=-Infinity,p=-Infinity;t.each(a,function(g){var y=g[0],x=g[1];y<u&&(u=y),y>h&&(h=y),x<l&&(l=x),x>p&&(p=x)});var d=n/2;return{minX:u-d,minY:l-d,maxX:h+d,maxY:p+d}},_setTcache:function(){var r=this,e=r._attrs,n=e.points,a=0,u=0,l=[],h,p;!n||n.length===0||(t.each(n,function(d,g){n[g+1]&&(a+=v.len(d[0],d[1],n[g+1][0],n[g+1][1]))}),!(a<=0)&&(t.each(n,function(d,g){n[g+1]&&(h=[],h[0]=u/a,p=v.len(d[0],d[1],n[g+1][0],n[g+1][1]),u+=p,h[1]=u/a,l.push(h))}),this.tCache=l))},createPath:function(r){var e=this,n=e._attrs,a=n.points,u;if(!(a.length<2)){var l=a.length-1,h=a[0][0],p=a[0][1],d=a[l][0],g=a[l][1];if(n.startArrow&&n.startArrow.d){var y=s.getShortenOffset(a[0][0],a[0][1],a[1][0],a[1][1],n.startArrow.d);h+=y.dx,p+=y.dy}if(n.endArrow&&n.endArrow.d){var x=s.getShortenOffset(a[l-1][0],a[l-1][1],a[l][0],a[l][1],n.endArrow.d);d-=x.dx,g-=x.dy}for(r=r||e.get("context"),r.beginPath(),r.moveTo(h,p),u=1;u<l;u++)r.lineTo(a[u][0],a[u][1]);r.lineTo(d,g)}},getStartTangent:function(){var r=this.__attrs.points,e=[];return e.push([r[1][0],r[1][1]]),e.push([r[0][0],r[0][1]]),e},getEndTangent:function(){var r=this.__attrs.points,e=r.length-1,n=[];return n.push([r[e-1][0],r[e-1][1]]),n.push([r[e][0],r[e][1]]),n},afterPath:function(r){var e=this,n=e._attrs,a=n.points,u=a.length-1;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,a[1][0],a[1][1],a[0][0],a[0][1]),n.endArrow&&s.addEndArrow(r,n,a[u-1][0],a[u-1][1],a[u][0],a[u][1])},getPoint:function(r){var e=this._attrs,n=e.points,a=this.tCache,u,l;return a||(this._setTcache(),a=this.tCache),t.each(a,function(h,p){r>=h[0]&&r<=h[1]&&(u=(r-h[0])/(h[1]-h[0]),l=p)}),{x:v.at(n[l][0],n[l+1][0],u),y:v.at(n[l][1],n[l+1][1],u)}}}),P.exports=o},function(P,S,i){var t=i(1),c=i(31),s=c.parseRadius,v=i(7),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},t.extend(o,v),t.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var r=this,e=r._attrs,n=e.x,a=e.y,u=e.width,l=e.height,h=this.getHitLineWidth(),p=h/2;return{minX:n-p,minY:a-p,maxX:n+u+p,maxY:a+l+p}},createPath:function(r){var e=this,n=e._attrs,a=n.x,u=n.y,l=n.width,h=n.height,p=n.radius;if(r=r||e.get("context"),r.beginPath(),p===0)r.rect(a,u,l,h);else{var d=s(p);r.moveTo(a+d.r1,u),r.lineTo(a+l-d.r2,u),d.r2!==0&&r.arc(a+l-d.r2,u+d.r2,d.r2,-Math.PI/2,0),r.lineTo(a+l,u+h-d.r3),d.r3!==0&&r.arc(a+l-d.r3,u+h-d.r3,d.r3,0,Math.PI/2),r.lineTo(a+d.r4,u+h),d.r4!==0&&r.arc(a+d.r4,u+h-d.r4,d.r4,Math.PI/2,Math.PI),r.lineTo(a,u+d.r1),d.r1!==0&&r.arc(a+d.r1,u+d.r1,d.r1,Math.PI,Math.PI*1.5),r.closePath()}}}),P.exports=o},function(P,S,i){var t=i(1),c=i(7),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var o=this._attrs.fontSize;o&&+o<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+o/12,+o/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var o=this._attrs,f=o.fontSize,r=o.fontFamily,e=o.fontWeight,n=o.fontStyle,a=o.fontVariant;o.font=[n,a,e,f+"px",r].join(" ")},_setAttrText:function(){var o=this._attrs,f=o.text,r=null;if(t.isString(f))if(f.indexOf(`
`)!==-1){r=f.split(`
`);var e=r.length;o.lineCount=e}else o.lineCount=1;o.textArr=r},_getTextHeight:function(){var o=this._attrs,f=o.lineCount,r=o.fontSize*1;if(f>1){var e=this._getSpaceingY();return r*f+e*(f-1)}return r},isHitBox:function(){return!1},calculateBox:function(){var o=this,f=o._attrs,r=this._cfg;(!r.attrs||r.hasUpdate)&&(this._assembleFont(),this._setAttrText()),f.textArr||this._setAttrText();var e=f.x,n=f.y,a=o.measureText();if(!a)return{minX:e,minY:n,maxX:e,maxY:n};var u=o._getTextHeight(),l=f.textAlign,h=f.textBaseline,p=o.getHitLineWidth(),d={x:e,y:n-u};l&&(l==="end"||l==="right"?d.x-=a:l==="center"&&(d.x-=a/2)),h&&(h==="top"?d.y+=u:h==="middle"&&(d.y+=u/2)),this.set("startPoint",d);var g=p/2;return{minX:d.x-g,minY:d.y-g,maxX:d.x+a+g,maxY:d.y+u+g}},_getSpaceingY:function(){var o=this._attrs,f=o.lineHeight,r=o.fontSize*1;return f?f-r:r*.14},drawInner:function(o){var f=this,r=f._attrs,e=this._cfg;(!e.attrs||e.hasUpdate)&&(this._assembleFont(),this._setAttrText()),o.font=r.font;var n=r.text;if(!!n){var a=r.textArr,u=r.x,l=r.y;if(o.beginPath(),f.hasStroke()){var h=r.strokeOpacity;!t.isNil(h)&&h!==1&&(o.globalAlpha=h),a?f._drawTextArr(o,!1):o.strokeText(n,u,l),o.globalAlpha=1}if(f.hasFill()){var p=r.fillOpacity;!t.isNil(p)&&p!==1&&(o.globalAlpha=p),a?f._drawTextArr(o,!0):o.fillText(n,u,l)}e.hasUpdate=!1}},_drawTextArr:function(o,f){var r=this._attrs.textArr,e=this._attrs.textBaseline,n=this._attrs.fontSize*1,a=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,h=this.getBBox(),p=h.maxY-h.minY,d;t.each(r,function(g,y){d=l+y*(a+n)-p+n,e==="middle"&&(d+=p-n-(p-n)/2),e==="top"&&(d+=p-n),f?o.fillText(g,u,d):o.strokeText(g,u,d)})},measureText:function(){var o=this,f=o._attrs,r=f.text,e=f.font,n=f.textArr,a,u=0;if(!t.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=e,n?t.each(n,function(h){a=l.measureText(h).width,u<a&&(u=a),l.restore()}):(u=l.measureText(r).width,l.restore()),u}}}),P.exports=s},function(P,S,i){"use strict";S.a=t;function t(c){return(Math.pow(2,-10*c)-.0009765625)*1.0009775171065494}},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i(84);i.d(S,"interpolate",function(){return t.a});var c=i(138);i.d(S,"interpolateArray",function(){return c.a});var s=i(87);i.d(S,"interpolateBasis",function(){return s.b});var v=i(136);i.d(S,"interpolateBasisClosed",function(){return v.a});var o=i(139);i.d(S,"interpolateDate",function(){return o.a});var f=i(47);i.d(S,"interpolateNumber",function(){return f.a});var r=i(140);i.d(S,"interpolateObject",function(){return r.a});var e=i(243);i.d(S,"interpolateRound",function(){return e.a});var n=i(141);i.d(S,"interpolateString",function(){return n.a});var a=i(244);i.d(S,"interpolateTransformCss",function(){return a.a}),i.d(S,"interpolateTransformSvg",function(){return a.b});var u=i(247);i.d(S,"interpolateZoom",function(){return u.a});var l=i(135);i.d(S,"interpolateRgb",function(){return l.a}),i.d(S,"interpolateRgbBasis",function(){return l.b}),i.d(S,"interpolateRgbBasisClosed",function(){return l.c});var h=i(248);i.d(S,"interpolateHsl",function(){return h.a}),i.d(S,"interpolateHslLong",function(){return h.b});var p=i(249);i.d(S,"interpolateLab",function(){return p.a});var d=i(250);i.d(S,"interpolateHcl",function(){return d.a}),i.d(S,"interpolateHclLong",function(){return d.b});var g=i(251);i.d(S,"interpolateCubehelix",function(){return g.b}),i.d(S,"interpolateCubehelixLong",function(){return g.a});var y=i(252);i.d(S,"quantize",function(){return y.a})},function(P,S,i){"use strict";i.d(S,"a",function(){return t}),i.d(S,"b",function(){return c});var t=Math.PI/180,c=180/Math.PI},function(P,S,i){"use strict";i.d(S,"b",function(){return f}),i.d(S,"c",function(){return r});var t=i(19),c=i(87),s=i(136),v=i(32);S.a=function e(n){var a=Object(v.b)(n);function u(l,h){var p=a((l=Object(t.f)(l)).r,(h=Object(t.f)(h)).r),d=a(l.g,h.g),g=a(l.b,h.b),y=Object(v.a)(l.opacity,h.opacity);return function(x){return l.r=p(x),l.g=d(x),l.b=g(x),l.opacity=y(x),l+""}}return u.gamma=e,u}(1);function o(e){return function(n){var a=n.length,u=new Array(a),l=new Array(a),h=new Array(a),p,d;for(p=0;p<a;++p)d=Object(t.f)(n[p]),u[p]=d.r||0,l[p]=d.g||0,h[p]=d.b||0;return u=e(u),l=e(l),h=e(h),d.opacity=1,function(g){return d.r=u(g),d.g=l(g),d.b=h(g),d+""}}}var f=o(c.b),r=o(s.a)},function(P,S,i){"use strict";var t=i(87);S.a=function(c){var s=c.length;return function(v){var o=Math.floor(((v%=1)<0?++v:v)*s),f=c[(o+s-1)%s],r=c[o%s],e=c[(o+1)%s],n=c[(o+2)%s];return Object(t.a)((v-o/s)*s,f,r,e,n)}}},function(P,S,i){"use strict";S.a=function(t){return function(){return t}}},function(P,S,i){"use strict";var t=i(84);S.a=function(c,s){var v=s?s.length:0,o=c?Math.min(v,c.length):0,f=new Array(o),r=new Array(v),e;for(e=0;e<o;++e)f[e]=Object(t.a)(c[e],s[e]);for(;e<v;++e)r[e]=s[e];return function(n){for(e=0;e<o;++e)r[e]=f[e](n);return r}}},function(P,S,i){"use strict";S.a=function(t,c){var s=new Date;return t=+t,c-=t,function(v){return s.setTime(t+c*v),s}}},function(P,S,i){"use strict";var t=i(84);S.a=function(c,s){var v={},o={},f;(c===null||typeof c!="object")&&(c={}),(s===null||typeof s!="object")&&(s={});for(f in s)f in c?v[f]=Object(t.a)(c[f],s[f]):o[f]=s[f];return function(r){for(f in v)o[f]=v[f](r);return o}}},function(P,S,i){"use strict";var t=i(47),c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(c.source,"g");function v(f){return function(){return f}}function o(f){return function(r){return f(r)+""}}S.a=function(f,r){var e=c.lastIndex=s.lastIndex=0,n,a,u,l=-1,h=[],p=[];for(f=f+"",r=r+"";(n=c.exec(f))&&(a=s.exec(r));)(u=a.index)>e&&(u=r.slice(e,u),h[l]?h[l]+=u:h[++l]=u),(n=n[0])===(a=a[0])?h[l]?h[l]+=a:h[++l]=a:(h[++l]=null,p.push({i:l,x:Object(t.a)(n,a)})),e=s.lastIndex;return e<r.length&&(u=r.slice(e),h[l]?h[l]+=u:h[++l]=u),h.length<2?p[0]?o(p[0].x):v(r):(r=p.length,function(d){for(var g=0,y;g<r;++g)h[(y=p[g]).i]=y.x(d);return h.join("")})}},function(P,S,i){var t=i(0),c=i(328),s={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},v={line:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},path:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},area:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.fadeIn},leave:function(){return c.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return c.appear.zoomIn},enter:function(){return c.enter.zoomIn},leave:function(){return c.leave.zoomOut}},edge:{appear:function(){return c.appear.pathIn},enter:function(){return c.enter.pathIn},leave:function(){return c.leave.pathOut}},interval:{appear:function(f){var r;return f.isPolar?(r=c.appear.zoomIn,(f.isTransposed||f.type==="theta")&&(r=c.appear.fanIn)):f.isRect?r=f.isTransposed?c.appear.scaleInX:c.appear.scaleInY:r=c.appear.zoomIn,r},enter:function(f){return f.isRect||f.isTransposed||f.type==="theta"?c.enter.fadeIn:c.enter.zoomIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.type==="theta")return c.update.fanIn}},point:{appear:function(){return c.appear.zoomIn},enter:function(){return c.enter.zoomIn},leave:function(){return c.leave.zoomOut}},schema:{appear:function(){return c.appear.clipIn},enter:function(){return c.enter.clipIn},leave:function(){return c.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return c.appear.fadeIn},enter:function(){return c.enter.fadeIn},leave:function(){return c.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-ticks":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-grid":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(f){if(f.isPolar)return c.appear.fadeIn}},"axis-grid-rect":{enter:function(){return c.appear.fadeIn},leave:function(){return c.leave.fadeOut},update:function(){return c.leave.fadeIn}},labelLine:{appear:function(){return c.appear.pathIn},enter:function(){return c.enter.pathIn},leave:function(){return c.leave.pathOut}}};v.Action=c,v.defaultCfg=s,v.getAnimation=function(o,f,r){var e=this[o];if(e){var n=e[r];if(t.isFunction(n))return n(f)}return!1},v.getAnimateCfg=function(o,f){var r=s[f];return this[o]&&this[o].cfg&&this[o].cfg[f]?t.deepMix({},r,this[o].cfg[f]):r},v.registerAnimation=function(o,f,r){this.Action[o]||(this.Action[o]={}),this.Action[o][f]=r},P.exports=v},function(P,S,i){var t=i(3),c=i(10),s=i(266),v=i(275),o=i(286),f=i(289),r=i(293),e=i(50),n=i(302),a=i(306),u=i(312),l=i(316),h={DOMUtil:s,DomUtil:s,MatrixUtil:e,PathUtil:a,arrayUtil:v,domUtil:s,eventUtil:o,formatUtil:f,mathUtil:r,matrixUtil:e,objectUtil:n,stringUtil:u,pathUtil:a,typeUtil:l,augment:i(66),clone:i(39),debounce:i(322),deepMix:i(27),each:t,extend:i(65),filter:i(88),group:i(160),groupBy:i(162),groupToMap:i(161),indexOf:i(323),isEmpty:i(61),isEqual:i(40),isEqualWith:i(324),map:i(325),mix:c,pick:i(326),throttle:i(327),toArray:i(29),toString:i(26),uniqueId:i(62)};t([s,v,o,f,r,e,n,a,u,l],function(p){c(h,p)}),P.exports=h},function(P,S,i){var t=i(145),c=i(6);function s(v,o){var f=t(o),r=f.length;if(c(v))return!r;for(var e=0;e<r;e+=1){var n=f[e];if(o[n]!==v[n]||!(n in v))return!1}return!0}P.exports=s},function(P,S,i){var t=i(3),c=i(13),s=Object.keys?function(v){return Object.keys(v)}:function(v){var o=[];return t(v,function(f,r){c(v)&&r==="prototype"||o.push(r)}),o};P.exports=s},function(P,S,i){var t=i(15),c=Array.prototype.splice,s=function(o,f){if(!t(o))return[];for(var r=o?f.length:0,e=r-1;r--;){var n=void 0,a=f[r];(r===e||a!==n)&&(n=a,c.call(o,a,1))}return o};P.exports=s},function(P,S,i){var t=i(3),c=i(48),s=function(o){var f=[];return t(o,function(r){c(f,r)||f.push(r)}),f};P.exports=s},function(P,S,i){var t=i(5),c=i(13),s=i(3),v=function(f,r){if(!!t(f)){var e=f[0],n=void 0;c(r)?n=r(f[0]):n=f[0][r];var a=void 0;return s(f,function(u){c(r)?a=r(u):a=u[r],a>n&&(e=u,n=a)}),e}};P.exports=v},function(P,S){P.exports=parseInt},function(P,S){P.exports=function(i,t){return i.hasOwnProperty(t)}},function(P,S,i){var t=i(3),c=i(13),s=Object.values?function(v){return Object.values(v)}:function(v){var o=[];return t(v,function(f,r){c(v)&&r==="prototype"||o.push(f)}),o};P.exports=s},function(P,S,i){var t=i(153);P.exports=function(s,v,o,f,r){if(r)return[["M",+s+ +r,v],["l",o-r*2,0],["a",r,r,0,0,1,r,r],["l",0,f-r*2],["a",r,r,0,0,1,-r,r],["l",r*2-o,0],["a",r,r,0,0,1,-r,-r],["l",0,r*2-f],["a",r,r,0,0,1,r,-r],["z"]];var e=[["M",s,v],["l",o,0],["l",0,f],["l",-o,0],["z"]];return e.parsePathArray=t,e}},function(P,S){var i=/,?([a-z]),?/gi;P.exports=function(c){return c.join(",").replace(i,"$1")}},function(P,S,i){var t=i(155),c=function o(f,r,e,n,a,u,l,h,p,d){e===n&&(e+=1);var g=Math.PI*120/180,y=Math.PI/180*(+a||0),x=[],A=void 0,m=void 0,M=void 0,b=void 0,E=void 0,C=function(et,j,w){var D=et*Math.cos(w)-j*Math.sin(w),V=et*Math.sin(w)+j*Math.cos(w);return{x:D,y:V}};if(d)m=d[0],M=d[1],b=d[2],E=d[3];else{A=C(f,r,-y),f=A.x,r=A.y,A=C(h,p,-y),h=A.x,p=A.y,f===h&&r===p&&(h+=1,p+=1);var T=(f-h)/2,O=(r-p)/2,L=T*T/(e*e)+O*O/(n*n);L>1&&(L=Math.sqrt(L),e=L*e,n=L*n);var R=e*e,W=n*n,U=(u===l?-1:1)*Math.sqrt(Math.abs((R*W-R*O*O-W*T*T)/(R*O*O+W*T*T)));b=U*e*O/n+(f+h)/2,E=U*-n*T/e+(r+p)/2,m=Math.asin(((r-E)/n).toFixed(9)),M=Math.asin(((p-E)/n).toFixed(9)),m=f<b?Math.PI-m:m,M=h<b?Math.PI-M:M,m<0&&(m=Math.PI*2+m),M<0&&(M=Math.PI*2+M),l&&m>M&&(m=m-Math.PI*2),!l&&M>m&&(M=M-Math.PI*2)}var X=M-m;if(Math.abs(X)>g){var Z=M,J=h,ht=p;M=m+g*(l&&M>m?1:-1),h=b+e*Math.cos(M),p=E+n*Math.sin(M),x=o(h,p,e,n,a,0,l,J,ht,[M,Z,b,E])}X=M-m;var at=Math.cos(m),Q=Math.sin(m),xt=Math.cos(M),kt=Math.sin(M),Nt=Math.tan(X/4),nt=4/3*e*Nt,q=4/3*n*Nt,G=[f,r],N=[f+nt*Q,r-q*at],it=[h+nt*kt,p-q*xt],H=[h,p];if(N[0]=2*G[0]-N[0],N[1]=2*G[1]-N[1],d)return[N,it,H].concat(x);x=[N,it,H].concat(x).join().split(",");for(var ct=[],ft=0,K=x.length;ft<K;ft++)ct[ft]=ft%2?C(x[ft-1],x[ft],y).y:C(x[ft],x[ft+1],y).x;return ct},s=function(f,r,e,n){return[f,r,e,n,e,n]},v=function(f,r,e,n,a,u){var l=1/3,h=2/3;return[l*f+h*e,l*r+h*n,l*a+h*e,l*u+h*n,a,u]};P.exports=function(f,r){var e=t(f),n=r&&t(r),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],h=[],p="",d="",g=void 0,y=function(O,L,R){var W=void 0,U=void 0;if(!O)return["C",L.x,L.y,L.x,L.y,L.x,L.y];switch(!(O[0]in{T:1,Q:1})&&(L.qx=L.qy=null),O[0]){case"M":L.X=O[1],L.Y=O[2];break;case"A":O=["C"].concat(c.apply(0,[L.x,L.y].concat(O.slice(1))));break;case"S":R==="C"||R==="S"?(W=L.x*2-L.bx,U=L.y*2-L.by):(W=L.x,U=L.y),O=["C",W,U].concat(O.slice(1));break;case"T":R==="Q"||R==="T"?(L.qx=L.x*2-L.qx,L.qy=L.y*2-L.qy):(L.qx=L.x,L.qy=L.y),O=["C"].concat(v(L.x,L.y,L.qx,L.qy,O[1],O[2]));break;case"Q":L.qx=O[1],L.qy=O[2],O=["C"].concat(v(L.x,L.y,O[1],O[2],O[3],O[4]));break;case"L":O=["C"].concat(s(L.x,L.y,O[1],O[2]));break;case"H":O=["C"].concat(s(L.x,L.y,O[1],L.y));break;case"V":O=["C"].concat(s(L.x,L.y,L.x,O[1]));break;case"Z":O=["C"].concat(s(L.x,L.y,L.X,L.Y));break;default:break}return O},x=function(O,L){if(O[L].length>7){O[L].shift();for(var R=O[L];R.length;)l[L]="A",n&&(h[L]="A"),O.splice(L++,0,["C"].concat(R.splice(0,6)));O.splice(L,1),g=Math.max(e.length,n&&n.length||0)}},A=function(O,L,R,W,U){O&&L&&O[U][0]==="M"&&L[U][0]!=="M"&&(L.splice(U,0,["M",W.x,W.y]),R.bx=0,R.by=0,R.x=O[U][1],R.y=O[U][2],g=Math.max(e.length,n&&n.length||0))};g=Math.max(e.length,n&&n.length||0);for(var m=0;m<g;m++){e[m]&&(p=e[m][0]),p!=="C"&&(l[m]=p,m&&(d=l[m-1])),e[m]=y(e[m],a,d),l[m]!=="A"&&p==="C"&&(l[m]="C"),x(e,m),n&&(n[m]&&(p=n[m][0]),p!=="C"&&(h[m]=p,m&&(d=h[m-1])),n[m]=y(n[m],u,d),h[m]!=="A"&&p==="C"&&(h[m]="C"),x(n,m)),A(e,n,a,u,m),A(n,e,u,a,m);var M=e[m],b=n&&n[m],E=M.length,C=n&&b.length;a.x=M[E-2],a.y=M[E-1],a.bx=parseFloat(M[E-4])||a.x,a.by=parseFloat(M[E-3])||a.y,u.bx=n&&(parseFloat(b[C-4])||u.x),u.by=n&&(parseFloat(b[C-3])||u.y),u.x=n&&b[C-2],u.y=n&&b[C-1]}return n?[e,n]:e}},function(P,S,i){var t=i(156),c=i(157);function s(v,o,f,r,e){var n=[];if(e===null&&r===null&&(r=f),v=+v,o=+o,f=+f,r=+r,e!==null){var a=Math.PI/180,u=v+f*Math.cos(-r*a),l=v+f*Math.cos(-e*a),h=o+f*Math.sin(-r*a),p=o+f*Math.sin(-e*a);n=[["M",u,h],["A",f,f,0,+(e-r>180),0,l,p]]}else n=[["M",v,o],["m",0,-r],["a",f,r,0,1,1,0,2*r],["a",f,r,0,1,1,0,-2*r],["z"]];return n}P.exports=function(o){if(o=t(o),!o||!o.length)return[["M",0,0]];var f=[],r=0,e=0,n=0,a=0,u=0,l=void 0,h=void 0;o[0][0]==="M"&&(r=+o[0][1],e=+o[0][2],n=r,a=e,u++,f[0]=["M",r,e]);for(var p=o.length===3&&o[0][0]==="M"&&o[1][0].toUpperCase()==="R"&&o[2][0].toUpperCase()==="Z",d,g,y=u,x=o.length;y<x;y++){if(f.push(d=[]),g=o[y],l=g[0],l!==l.toUpperCase())switch(d[0]=l.toUpperCase(),d[0]){case"A":d[1]=g[1],d[2]=g[2],d[3]=g[3],d[4]=g[4],d[5]=g[5],d[6]=+g[6]+r,d[7]=+g[7]+e;break;case"V":d[1]=+g[1]+e;break;case"H":d[1]=+g[1]+r;break;case"R":h=[r,e].concat(g.slice(1));for(var A=2,m=h.length;A<m;A++)h[A]=+h[A]+r,h[++A]=+h[A]+e;f.pop(),f=f.concat(c(h,p));break;case"O":f.pop(),h=s(r,e,g[1],g[2]),h.push(h[0]),f=f.concat(h);break;case"U":f.pop(),f=f.concat(s(r,e,g[1],g[2],g[3])),d=["U"].concat(f[f.length-1].slice(-2));break;case"M":n=+g[1]+r,a=+g[2]+e;break;default:for(var M=1,b=g.length;M<b;M++)d[M]=+g[M]+(M%2?r:e)}else if(l==="R")h=[r,e].concat(g.slice(1)),f.pop(),f=f.concat(c(h,p)),d=["R"].concat(g.slice(-2));else if(l==="O")f.pop(),h=s(r,e,g[1],g[2]),h.push(h[0]),f=f.concat(h);else if(l==="U")f.pop(),f=f.concat(s(r,e,g[1],g[2],g[3])),d=["U"].concat(f[f.length-1].slice(-2));else for(var E=0,C=g.length;E<C;E++)d[E]=g[E];if(l=l.toUpperCase(),l!=="O")switch(d[0]){case"Z":r=+n,e=+a;break;case"H":r=d[1];break;case"V":e=d[1];break;case"M":n=d[d.length-2],a=d[d.length-1];break;default:r=d[d.length-2],e=d[d.length-1]}}return f}},function(P,S){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,c=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig");P.exports=function(o){if(!o)return null;if((typeof o=="undefined"?"undefined":i(o))===i([]))return o;var f={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(o).replace(c,function(e,n,a){var u=[],l=n.toLowerCase();if(a.replace(s,function(h,p){p&&u.push(+p)}),l==="m"&&u.length>2&&(r.push([n].concat(u.splice(0,2))),l="l",n=n==="m"?"l":"L"),l==="o"&&u.length===1&&r.push([n,u[0]]),l==="r")r.push([n].concat(u));else for(;u.length>=f[l]&&(r.push([n].concat(u.splice(0,f[l]))),!!f[l]););}),r}},function(P,S){P.exports=function(t,c){for(var s=[],v=0,o=t.length;o-2*!c>v;v+=2){var f=[{x:+t[v-2],y:+t[v-1]},{x:+t[v],y:+t[v+1]},{x:+t[v+2],y:+t[v+3]},{x:+t[v+4],y:+t[v+5]}];c?v?o-4===v?f[3]={x:+t[0],y:+t[1]}:o-2===v&&(f[2]={x:+t[0],y:+t[1]},f[3]={x:+t[2],y:+t[3]}):f[0]={x:+t[o-2],y:+t[o-1]}:o-4===v?f[3]=f[2]:v||(f[0]={x:+t[v],y:+t[v+1]}),s.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return s}},function(P,S,i){var t=i(26),c=function(v){return t(v).toLowerCase()};P.exports=c},function(P,S,i){var t=i(26),c=function(v){return t(v).toUpperCase()};P.exports=c},function(P,S,i){var t=i(161),c=function(v,o){if(!o)return[v];var f=t(v,o),r=[];for(var e in f)r.push(f[e]);return r};P.exports=c},function(P,S,i){var t=i(13),c=i(5),s=i(162),v=function(f,r){if(!r)return{0:f};if(!t(r)){var e=c(r)?r:r.replace(/\s+/g,"").split("*");r=function(u){for(var l="_",h=0,p=e.length;h<p;h++)l+=u[e[h]]&&u[e[h]].toString();return l}}var n=s(f,r);return n};P.exports=v},function(P,S,i){var t=i(3),c=i(5),s=Object.prototype.hasOwnProperty,v=function(f,r){if(!r||!c(f))return f;var e={},n=null;return t(f,function(a){n=r(a),s.call(e,n)?e[n].push(a):e[n]=[a]}),e};P.exports=v},function(P,S,i){function t(x,A){x.prototype=Object.create(A.prototype),x.prototype.constructor=x,c(x,A)}function c(x,A){return c=Object.setPrototypeOf||function(M,b){return M.__proto__=b,M},c(x,A)}var s=i(0),v=i(329),o=i(18),f=o.Canvas,r=s.DomUtil,e=i(8),n=i(414),a=i(200),u=i(202),l=i(201),h=i(203),p="auto";function d(x,A){var m=!1;return s.each(x,function(M){var b=[].concat(M.values),E=[].concat(A.values);if(M.type===A.type&&M.field===A.field&&b.sort().toString()===E.sort().toString()){m=!0;return}}),m}function g(x,A){return s.isEqualWith(x,A,function(m,M){return m===M})}var y=function(x){t(A,x);function A(){return x.apply(this,arguments)||this}var m=A.prototype;return m.getDefaultCfg=function(){var b=x.prototype.getDefaultCfg.call(this);return s.mix(b,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:e.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:e.renderer,views:[]})},m.init=function(){var b=this,E=b.get("viewTheme");b._initCanvas(),b._initPlot(),b._initEvents(),x.prototype.init.call(this);var C=new a.Tooltip({chart:b,viewTheme:E,options:{}});b.set("tooltipController",C);var T=new a.Legend({chart:b,viewTheme:E});b.set("legendController",T),b.set("_id","chart"),b.emit("afterinit")},m._isAutoPadding=function(){var b=this.get("padding");return s.isArray(b)?b.includes(p):b===p},m._getAutoPadding=function(){for(var b=this.get("padding"),E=this.get("frontPlot"),C=E.getBBox(),T=this.get("backPlot"),O=l(T,h(this.get("plotRange"))),L=u(C,O),R=[0-L.minY,L.maxX-this.get("width"),L.maxY-this.get("height"),0-L.minX],W=s.toAllPadding(b),U=0;U<W.length;U++)if(W[U]===p){var X=Math.max(0,R[U]);W[U]=X+this.get("autoPaddingAppend")}return W},m._initCanvas=function(){var b=this.get("container"),E=this.get("id");!b&&E&&(b=E,this.set("container",E));var C=this.get("width"),T=this.get("height");if(s.isString(b)){if(b=document.getElementById(b),!b)throw new Error("Please specify the container for the chart!");this.set("container",b)}var O=r.createDom('<div style="position:relative;"></div>');b.appendChild(O),this.set("wrapperEl",O),this.get("forceFit")&&(C=r.getWidth(b,C),this.set("width",C));var L=this.get("renderer"),R=new f({containerDOM:O,width:C,height:T,pixelRatio:L==="svg"?1:this.get("pixelRatio"),renderer:L});this.set("canvas",R)},m._initPlot=function(){var b=this;b._initPlotBack();var E=b.get("canvas"),C=E.addGroup({zIndex:1}),T=E.addGroup({zIndex:0}),O=E.addGroup({zIndex:3});b.set("backPlot",C),b.set("middlePlot",T),b.set("frontPlot",O)},m._initPlotBack=function(){var b=this,E=b.get("canvas"),C=b.get("viewTheme"),T=E.addGroup(n,{padding:this.get("padding"),plotBackground:s.mix({},C.plotBackground,b.get("plotBackground")),background:s.mix({},C.background,b.get("background"))});b.set("plot",T),b.set("plotRange",T.get("plotRange"))},m._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",s.wrapBehavior(this,"_initForceFitEvent"))},m._initForceFitEvent=function(){var b=setTimeout(s.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",b)},m._renderLegends=function(){var b=this.get("options"),E=b.legends;if(s.isNil(E)||E!==!1){var C=this.get("legendController");if(C.options=E||{},C.plotRange=this.get("plotRange"),E&&E.custom)C.addCustomLegend();else{var T=this.getAllGeoms(),O=[];s.each(T,function(R){var W=R.get("view"),U=R.getAttrsForLegend();s.each(U,function(X){var Z=X.type,J=X.getScale(Z);if(J.field&&J.type!=="identity"&&!d(O,J)){O.push(J);var ht=W.getFilteredOutValues(J.field);C.addLegend(J,X,R,ht)}})});var L=this.getYScales();O.length===0&&L.length>1&&C.addMixedLegend(L,T)}C.alignLegends()}},m._renderTooltips=function(){var b=this.get("options");if(s.isNil(b.tooltip)||b.tooltip!==!1){var E=this.get("tooltipController");E.options=b.tooltip||{},E.renderTooltip()}},m.getAllGeoms=function(){var b=[];b=b.concat(this.get("geoms"));var E=this.get("views");return s.each(E,function(C){b=b.concat(C.get("geoms"))}),b},m.forceFit=function(){var b=this;if(!(!b||b.destroyed)){var E=b.get("container"),C=b.get("width"),T=r.getWidth(E,C);if(T!==0&&T!==C){var O=b.get("height");b.changeSize(T,O)}return b}},m.resetPlot=function(){var b=this.get("plot"),E=this.get("padding");g(E,b.get("padding"))||(b.set("padding",E),b.repaint())},m.changeSize=function(b,E){var C=this,T=C.get("canvas");T.changeSize(b,E);var O=this.get("plot");return C.set("width",b),C.set("height",E),O.repaint(),this.set("keepPadding",!0),C.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),C},m.changeWidth=function(b){return this.changeSize(b,this.get("height"))},m.changeHeight=function(b){return this.changeSize(this.get("width"),b)},m.view=function(b){b=b||{},b.theme=this.get("theme"),b.parent=this,b.backPlot=this.get("backPlot"),b.middlePlot=this.get("middlePlot"),b.frontPlot=this.get("frontPlot"),b.canvas=this.get("canvas"),s.isNil(b.animate)&&(b.animate=this.get("animate")),b.options=s.mix({},this._getSharedOptions(),b.options);var E=new v(b);return E.set("_id","view"+this.get("views").length),this.get("views").push(E),this.emit("addview",{view:E}),E},m.removeView=function(b){var E=this.get("views");s.Array.remove(E,b),b.destroy()},m._getSharedOptions=function(){var b=this.get("options"),E={};return s.each(["scales","coord","axes"],function(C){E[C]=s.cloneDeep(b[C])}),E},m.getViewRegion=function(){var b=this.get("plotRange");return{start:b.bl,end:b.tr}},m.legend=function(b,E){var C=this.get("options");C.legends||(C.legends={});var T={};return b===!1?C.legends=!1:s.isObject(b)?T=b:s.isString(b)?T[b]=E:T=E,s.mix(C.legends,T),this},m.tooltip=function(b,E){var C=this.get("options");return C.tooltip||(C.tooltip={}),b===!1?C.tooltip=!1:s.isObject(b)?s.mix(C.tooltip,b):s.mix(C.tooltip,E),this},m.clear=function(){this.emit("beforeclear");for(var b=this.get("views");b.length>0;){var E=b.shift();E.destroy()}x.prototype.clear.call(this);var C=this.get("canvas");return this.resetPlot(),C.draw(),this.emit("afterclear"),this},m.clearInner=function(){var b=this.get("views");s.each(b,function(T){T.clearInner()});var E=this.get("tooltipController");if(E&&E.clear(),!this.get("keepLegend")){var C=this.get("legendController");C&&C.clear()}x.prototype.clearInner.call(this)},m.drawComponents=function(){x.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},m.render=function(){var b=this;if(!b.get("keepPadding")&&b._isAutoPadding()){b.beforeRender(),b.drawComponents();var E=b._getAutoPadding(),C=b.get("plot");g(C.get("padding"),E)||(C.set("padding",E),C.repaint())}var T=b.get("middlePlot");if(b.get("limitInPlot")&&!T.attr("clip")){var O=s.getClipByRange(b.get("plotRange"));T.attr("clip",O)}x.prototype.render.call(this),b._renderTooltips()},m.repaint=function(){this.get("keepPadding")||this.resetPlot(),x.prototype.repaint.call(this)},m.changeVisible=function(b){var E=this.get("wrapperEl"),C=b?"":"none";E.style.display=C},m.toDataURL=function(){var b=this,E=b.get("canvas"),C=b.get("renderer"),T=E.get("el"),O="";if(C==="svg"){var L=T.cloneNode(!0),R=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),W=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",R);W.replaceChild(L,W.documentElement);var U=new XMLSerializer().serializeToString(W);O="data:image/svg+xml;charset=utf8,"+encodeURIComponent(U)}else C==="canvas"&&(O=T.toDataURL("image/png"));return O},m.downloadImage=function(b){var E=this,C=document.createElement("a"),T=E.get("renderer"),O=(b||"chart")+(T==="svg"?".svg":".png"),L=E.get("canvas");L.get("timeline").stopAllAnimations(),setTimeout(function(){var R=E.toDataURL();if(window.Blob&&window.URL&&T!=="svg"){for(var W=R.split(","),U=W[0].match(/:(.*?);/)[1],X=atob(W[1]),Z=X.length,J=new Uint8Array(Z);Z--;)J[Z]=X.charCodeAt(Z);var ht=new Blob([J],{type:U});window.navigator.msSaveBlob?window.navigator.msSaveBlob(ht,O):C.addEventListener("click",function(){C.download=O,C.href=window.URL.createObjectURL(ht)})}else C.addEventListener("click",function(){C.download=O,C.href=R});var at=document.createEvent("MouseEvents");at.initEvent("click",!1,!1),C.dispatchEvent(at)},16)},m.showTooltip=function(b){var E=this.getViewsByPoint(b);if(E.length){var C=this.get("tooltipController");C.showTooltip(b,E)}return this},m.lockTooltip=function(){var b=this.get("tooltipController");return b.lockTooltip(),this},m.unlockTooltip=function(){var b=this.get("tooltipController");return b.unlockTooltip(),this},m.hideTooltip=function(){var b=this.get("tooltipController");return b.hideTooltip(),this},m.getTooltipItems=function(b){var E=this,C=E.getViewsByPoint(b),T=[];return s.each(C,function(O){var L=O.get("geoms");s.each(L,function(R){var W=R.get("dataArray"),U=[];s.each(W,function(X){var Z=R.findPoint(b,X);if(Z){var J=R.getTipItems(Z);U=U.concat(J)}}),T=T.concat(U)})}),T},m.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var b=this.get("canvas"),E=this.get("wrapperEl");E.parentNode.removeChild(E),x.prototype.destroy.call(this),b.destroy(),window.removeEventListener("resize",s.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},A}(v);P.exports=y},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(90),v=i(0),o=function(f){t(e,f);var r=e.prototype;r.getDefaultCfg=function(){return{}};function e(n){var a;a=f.call(this)||this;var u={visible:!0},l=a.getDefaultCfg();return a._attrs=u,v.assign(u,l,n),a}return r.get=function(a){return this._attrs[a]},r.set=function(a,u){this._attrs[a]=u},r.show=function(){var a=this.get("visible");a||(this.set("visible",!0),this.changeVisible(!0))},r.hide=function(){var a=this.get("visible");a&&(this.set("visible",!1),this.changeVisible(!1))},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},e}(s);P.exports=o},function(P,S,i){var t=i(11),c=i(12),s=i(3),v=/rgba?\(([\s.,0-9]+)\)/;function o(){var p=document.createElement("i");return p.title="Web Colour Picker",p.style.display="none",document.body.appendChild(p),p}function f(p,d,g,y){var x=p[y]+(d[y]-p[y])*g;return x}function r(p){return"#"+e(p[0])+e(p[1])+e(p[2])}function e(p){return p=Math.round(p),p=p.toString(16),p.length===1&&(p="0"+p),p}function n(p,d){(isNaN(d)||!t(d)||d<0)&&(d=0),d>1&&(d=1);var g=p.length-1,y=Math.floor(g*d),x=g*d-y,A=p[y],m=y===g?A:p[y+1],M=r([f(A,m,x,0),f(A,m,x,1),f(A,m,x,2)]);return M}function a(p){var d=[];return d.push(parseInt(p.substr(1,2),16)),d.push(parseInt(p.substr(3,2),16)),d.push(parseInt(p.substr(5,2),16)),d}var u={},l=null,h={toRGB:function(d){if(d[0]==="#"&&d.length===7)return d;l||(l=o());var g;if(u[d])g=u[d];else{l.style.color=d,g=document.defaultView.getComputedStyle(l,"").getPropertyValue("color");var y=v.exec(g),x=y[1].split(/\s*,\s*/);g=r(x),u[d]=g}return g},rgb2arr:a,gradient:function(d){var g=[];return c(d)&&(d=d.split("-")),s(d,function(y){y.indexOf("#")===-1&&(y=h.toRGB(y)),g.push(a(y))}),function(y){return n(g,y)}}};P.exports=h},function(P,S,i){var t=0,c=i(3),s={values:i(89)};P.exports={isAdjust:function(o){return this.adjustNames.indexOf(o)>=0},_getDimValues:function(o){var f=this,r={},e=[];if(f.xField&&f.isAdjust("x")&&e.push(f.xField),f.yField&&f.isAdjust("y")&&e.push(f.yField),c(e,function(u){var l=s.values(o,u);l.sort(function(h,p){return h-p}),r[u]=l}),!f.yField&&f.isAdjust("y")){var n="y",a=[t,1];r[n]=a}return r},adjustData:function(o,f){var r=this,e=r._getDimValues(f);c(o,function(n,a){c(e,function(u,l){r.adjustDim(l,u,n,o.length,a)})})},getAdjustRange:function(o,f,r){var e=this,n=r.indexOf(f),a=r.length,u,l;return!e.yField&&e.isAdjust("y")?(u=0,l=1):a>1?(u=n===0?r[0]:r[n-1],l=n===a-1?r[a-1]:r[n+1],n!==0?u+=(f-u)/2:u-=(l-f)/2,n!==a-1?l-=(l-f)/2:l+=(f-r[a-2])/2):(u=f===0?0:f-.5,l=f===0?1:f+.5),{pre:u,next:l}},groupData:function(o,f){var r={};return c(o,function(e){var n=e[f];n===void 0&&(n=e[f]=t),r[n]||(r[n]=[]),r[n].push(e)}),r}}},function(P,S,i){var t={default:i(168),dark:i(342)};P.exports=t},function(P,S){var i,t,c="#1890FF",s=["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],v=["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],o=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],f=["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],r=["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],e='BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',n="g2-tooltip",a="g2-tooltip-title",u="g2-tooltip-list",l="g2-tooltip-list-item",h="g2-tooltip-marker",p="g2-tooltip-value",d="g2-legend",g="g2-legend-title",y="g2-legend-list",x="g2-legend-list-item",A="g2-legend-marker",m={defaultColor:c,plotCfg:{padding:[20,20,95,80]},fontFamily:e,defaultLegendPosition:"bottom",colors:s,colors_16:v,colors_24:o,colors_pie:f,colors_pie_16:r,shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:e}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:e}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:e}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:e}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:e}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:e},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:e},unCheckColor:"#bfbfbf"},html:(i={},i[""+d]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:e,lineHeight:"20px",color:"#8C8C8C"},i[""+g]={marginBottom:"4px"},i[""+y]={listStyleType:"none",margin:0,padding:0},i[""+x]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},i[""+A]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},i),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:e},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(t={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},t[""+n]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:e,lineHeight:"20px",padding:"10px 10px 6px 10px"},t[""+a]={marginBottom:"4px"},t[""+u]={margin:0,listStyleType:"none",padding:0},t[""+l]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},t[""+h]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},t[""+p]={display:"inline-block",float:"right",marginLeft:"30px"},t),tooltipMarker:{symbol:function(b,E,C){return[["M",b,E],["m",-C,0],["a",C,C,0,1,0,C*2,0],["a",C,C,0,1,0,-C*2,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:c,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:c,radius:3},interval:{lineWidth:0,fill:c,fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:c,fillOpacity:.6},polygon:{lineWidth:0,fill:c,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:c,fillOpacity:0,lineWidth:2},line:{stroke:c,lineWidth:2,fill:null},edge:{stroke:c,lineWidth:1,fill:null},schema:{stroke:c,lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:e,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:e}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};P.exports=m},function(P,S,i){P.exports={isFunction:i(13),isObject:i(22),isBoolean:i(60),isNil:i(6),isString:i(12),isArray:i(5),isNumber:i(11),isEmpty:i(61),uniqueId:i(62),clone:i(39),deepMix:i(27),assign:i(10),merge:i(27),upperFirst:i(64),each:i(3),isEqual:i(40),toArray:i(29),extend:i(65),augment:i(66),remove:i(67),isNumberEqual:i(30),toRadian:i(68),toDegree:i(69),mod:i(70),clamp:i(41),createDom:i(71),modifyCSS:i(72),requestAnimationFrame:i(73),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:i(42),vec2:i(75),vec3:i(76),transform:i(77)}},function(P,S,i){var t=i(2),c=function(v,o,f,r){this.type=v,this.target=null,this.currentTarget=null,this.bubbles=f,this.cancelable=r,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=o};t.augment(c,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return t.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),P.exports=c},function(P,S,i){var t=i(2),c=i(172),s=i(349),v={},o="_INDEX";function f(a){return function(u,l){var h=a(u,l);return h===0?u[o]-l[o]:h}}function r(a,u,l){for(var h,p=a.length-1;p>=0;p--){var d=a[p];if(d._cfg.visible&&d._cfg.capture&&(d.isGroup?h=d.getShape(u,l):d.isHit(u,l)&&(h=d)),h)break}return h}var e=function a(u){a.superclass.constructor.call(this,u),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};function n(a){if(!(a._cfg||a===e)){var u=a.superclass.constructor;u&&!u._cfg&&n(u),a._cfg={},t.merge(a._cfg,u._cfg),t.merge(a._cfg,a.CFG)}}t.extend(e,c),t.augment(e,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return n(this.constructor),t.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(u,l){var h=this.get("canvas");l=l||{};var p=v[u];if(p||(p=t.upperFirst(u),v[u]=p),l.attrs&&h){var d=l.attrs;if(u==="text"){var g=h.get("fontFamily");g&&(d.fontFamily=d.fontFamily?d.fontFamily:g)}}l.canvas=h,l.type=u;var y=new s[p](l);return this.add(y),y},addGroup:function(u,l){var h=this.get("canvas"),p;if(l=t.merge({},l),t.isFunction(u))l?(l.canvas=h,l.parent=this,p=new u(l)):p=new u({canvas:h,parent:this}),this.add(p);else if(t.isObject(u))u.canvas=h,p=new e(u),this.add(p);else if(u===void 0)p=new e,this.add(p);else return!1;return p},renderBack:function(u,l){var h=this.get("backShape"),p=this.getBBox();return t.merge(l,{x:p.minX-u[3],y:p.minY-u[0],width:p.width+u[1]+u[3],height:p.height+u[0]+u[2]}),h?h.attr(l):h=this.addShape("rect",{zIndex:-1,attrs:l}),this.set("backShape",h),this.sort(),h},removeChild:function(u,l){if(arguments.length>=2)this.contain(u)&&u.remove(l);else{if(arguments.length===1)if(t.isBoolean(u))l=u;else return this.contain(u)&&u.remove(!0),this;arguments.length===0&&(l=!0),e.superclass.remove.call(this,l)}return this},add:function(u){var l=this,h=l.get("children");if(t.isArray(u))t.each(u,function(g){var y=g.get("parent");y&&y.removeChild(g,!1),l._setCfgProperty(g)}),l._cfg.children=h.concat(u);else{var p=u,d=p.get("parent");d&&d.removeChild(p,!1),l._setCfgProperty(p),h.push(p)}return l},_setCfgProperty:function(u){var l=this._cfg;u.set("parent",this),u.set("canvas",l.canvas),l.timeline&&u.set("timeline",l.timeline)},contain:function(u){var l=this.get("children");return l.indexOf(u)>-1},getChildByIndex:function(u){var l=this.get("children");return l[u]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var u=this.get("children").length-1;return this.getChildByIndex(u)},getBBox:function(){var u=this,l=Infinity,h=-Infinity,p=Infinity,d=-Infinity,g=u.get("children");g.length>0?t.each(g,function(x){if(x.get("visible")){if(x.isGroup&&x.get("children").length===0)return;var A=x.getBBox();if(!A)return!0;var m=[A.minX,A.minY,1],M=[A.minX,A.maxY,1],b=[A.maxX,A.minY,1],E=[A.maxX,A.maxY,1];x.apply(m),x.apply(M),x.apply(b),x.apply(E);var C=Math.min(m[0],M[0],b[0],E[0]),T=Math.max(m[0],M[0],b[0],E[0]),O=Math.min(m[1],M[1],b[1],E[1]),L=Math.max(m[1],M[1],b[1],E[1]);C<l&&(l=C),T>h&&(h=T),O<p&&(p=O),L>d&&(d=L)}}):(l=0,h=0,p=0,d=0);var y={minX:l,minY:p,maxX:h,maxY:d};return y.x=y.minX,y.y=y.minY,y.width=y.maxX-y.minX,y.height=y.maxY-y.minY,y},getCount:function(){return this.get("children").length},sort:function(){var u=this.get("children");return t.each(u,function(l,h){return l[o]=h,l}),u.sort(f(function(l,h){return l.get("zIndex")-h.get("zIndex")})),this},findById:function(u){return this.find(function(l){return l.get("id")===u})},find:function(u){if(t.isString(u))return this.findById(u);var l=this.get("children"),h=null;return t.each(l,function(p){if(u(p)?h=p:p.find&&(h=p.find(u)),h)return!1}),h},findAll:function(u){var l=this.get("children"),h=[],p=[];return t.each(l,function(d){u(d)&&h.push(d),d.findAllBy&&(p=d.findAllBy(u),h=h.concat(p))}),h},findBy:function(u){var l=this.get("children"),h=null;return t.each(l,function(p){if(u(p)?h=p:p.findBy&&(h=p.findBy(u)),h)return!1}),h},findAllBy:function(u){var l=this.get("children"),h=[],p=[];return t.each(l,function(d){u(d)&&h.push(d),d.findAllBy&&(p=d.findAllBy(u),h=h.concat(p))}),h},getShape:function(u,l){var h=this,p=h._attrs.clip,d=h._cfg.children,g;if(p){var y=[u,l,1];p.invert(y,h.get("canvas")),p.isPointInPath(y[0],y[1])&&(g=r(d,u,l))}else g=r(d,u,l);return g},clearTotalMatrix:function(){var u=this.get("totalMatrix");if(u){this.setSilent("totalMatrix",null);for(var l=this._cfg.children,h=0;h<l.length;h++){var p=l[h];p.clearTotalMatrix()}}},clear:function(u){for(var l=this._cfg.children,h=l.length-1;h>=0;h--)l[h].remove(!0,u);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),e.superclass.destroy.call(this))},clone:function(){var u=this,l=u._cfg.children,h=new e;return t.each(l,function(p){h.add(p.clone())}),h}}),P.exports=e},function(P,S,i){var t=i(2),c=i(346),s=i(347),v=i(348),o=i(90),f=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},t.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},t.augment(f,c,s,o,v,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,n){return e==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(n),e==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(n),this._cfg[e]=n,this},setSilent:function(e,n){this._cfg[e]=n},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,n){var a=this._cfg,u=a.parent,l=a.el;return u&&t.remove(u.get("children"),this),l&&(n?u&&u._cfg.tobeRemoved.push(l):l.parentNode.removeChild(l)),(e||e===void 0)&&this.destroy(),this},destroy:function(){var e=this.get("destroyed");e||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);a.splice(l,1),a.push(this),u&&(u.parentNode.removeChild(u),e.el=null)}},toBack:function(){var e=this._cfg,n=e.parent;if(!!n){var a=n._cfg.children,u=e.el,l=a.indexOf(this);if(a.splice(l,1),a.unshift(this),u){var h=u.parentNode;h.removeChild(u),h.insertBefore(u,h.firstChild)}}},_beforeSetZIndex:function(e){var n=this._cfg.parent;this._cfg.zIndex=e,t.isNil(n)||n.sort();var a=this._cfg.el;if(a){var u=n._cfg.children,l=u.indexOf(this),h=a.parentNode;h.removeChild(a),l===u.length-1?h.appendChild(a):h.insertBefore(a,h.childNodes[l])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return t.clone(this)},getBBox:function(){}}),P.exports=f},function(P,S,i){var t=i(2),c=t.vec2;function s(f,r,e,n){var a=1-n;return a*(a*f+2*n*r)+n*n*e}function v(f,r,e,n,a,u,l,h,p){var d,g=.005,y=Infinity,x,A,m,M,b,E,C=1e-4,T=[l,h];for(M=0;M<1;M+=.05)A=[s(f,e,a,M),s(r,n,u,M)],x=c.squaredDistance(T,A),x<y&&(d=M,y=x);for(y=Infinity,E=0;E<32&&!(g<C);E++){var O=d-g,L=d+g;A=[s(f,e,a,O),s(r,n,u,O)],x=c.squaredDistance(T,A),O>=0&&x<y?(d=O,y=x):(m=[s(f,e,a,L),s(r,n,u,L)],b=c.squaredDistance(T,m),L<=1&&b<y?(d=L,y=b):g*=.5)}return p&&(p.x=s(f,e,a,d),p.y=s(r,n,u,d)),Math.sqrt(y)}function o(f,r,e){var n=f+e-2*r;if(t.isNumberEqual(n,0))return[.5];var a=(f-r)/n;return a<=1&&a>=0?[a]:[]}P.exports={at:s,projectPoint:function(r,e,n,a,u,l,h,p){var d={};return v(r,e,n,a,u,l,h,p,d),d},pointDistance:v,extrema:o}},function(P,S){P.exports={xAt:function(t,c,s,v,o){return c*Math.cos(t)*Math.cos(o)-s*Math.sin(t)*Math.sin(o)+v},yAt:function(t,c,s,v,o){return c*Math.sin(t)*Math.cos(o)+s*Math.cos(t)*Math.sin(o)+v},xExtrema:function(t,c,s){return Math.atan(-s/c*Math.tan(t))},yExtrema:function(t,c,s){return Math.atan(s/(c*Math.tan(t)))}}},function(P,S,i){var t=i(2),c=i(9),s=i(53),v=i(54);function o(e,n,a){return e+n*Math.cos(a)}function f(e,n,a){return e+n*Math.sin(a)}var r=function e(n){e.superclass.constructor.call(this,n)};r.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(r,c),t.augment(r,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var n=this._attrs,a=n.x,u=n.y,l=n.r,h=n.startAngle,p=n.endAngle,d=n.clockwise,g=this.getHitLineWidth(),y=g/2,x=s.box(a,u,l,h,p,d);return x.minX-=y,x.minY-=y,x.maxX+=y,x.maxY+=y,x},getStartTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.startAngle,h=n.r,p=n.clockwise,d=Math.PI/180;p&&(d*=-1);var g=[],y=o(a,h,l+d),x=f(u,h,l+d),A=o(a,h,l),m=f(u,h,l);return g.push([y,x]),g.push([A,m]),g},getEndTangent:function(){var n=this._attrs,a=n.x,u=n.y,l=n.endAngle,h=n.r,p=n.clockwise,d=Math.PI/180,g=[];p&&(d*=-1);var y=o(a,h,l+d),x=f(u,h,l+d),A=o(a,h,l),m=f(u,h,l);return g.push([A,m]),g.push([y,x]),g},createPath:function(n){var a=this._attrs,u=a.x,l=a.y,h=a.r,p=a.startAngle,d=a.endAngle,g=a.clockwise;n=n||self.get("context"),n.beginPath(),n.arc(u,l,h,p,d,g)},afterPath:function(n){var a=this._attrs;if(n=n||this.get("context"),a.startArrow){var u=this.getStartTangent();v.addStartArrow(n,a,u[0][0],u[0][1],u[1][0],u[1][1])}if(a.endArrow){var l=this.getEndTangent();v.addEndArrow(n,a,l[0][0],l[0][1],l[1][0],l[1][1])}}}),P.exports=r},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,r:0,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.r,n=this.getHitLineWidth(),a=n/2+e;return{minX:f-a,minY:r-a,maxX:f+a,maxY:r+a}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.r;o.beginPath(),o.arc(r,e,n,0,Math.PI*2,!1),o.closePath()}}),P.exports=s},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var o=this,f=o._attrs,r=f.x,e=f.y,n=f.width,a=f.height,u=this.getHitLineWidth(),l=u/2;return{minX:r-l,minY:e-l,maxX:r+n+l,maxY:e+a+l}}}),P.exports=s},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,f=o.x,r=o.y,e=o.rx,n=o.ry,a=this.getHitLineWidth(),u=e+a/2,l=n+a/2;return{minX:f-u,minY:r-l,maxX:f+u,maxY:r+l}},createPath:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.rx,a=f.ry;o=o||self.get("context");var u=n>a?n:a,l=n>a?1:n/a,h=n>a?a/n:1,p=[1,0,0,0,1,0,0,0,1];t.mat3.scale(p,p,[l,h]),t.mat3.translate(p,p,[r,e]),o.beginPath(),o.save(),o.transform(p[0],p[1],p[3],p[4],p[6],p[7]),o.arc(0,0,u,0,Math.PI*2),o.restore(),o.closePath()}}),P.exports=s},function(P,S,i){var t=i(2),c=i(9),s=i(53),v=function o(f){o.superclass.constructor.call(this,f)};v.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},t.extend(v,c),t.augment(v,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var f=this,r=f._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d=this.getHitLineWidth(),g=s.box(e,n,a,l,h,p),y=s.box(e,n,u,l,h,p),x=Math.min(g.minX,y.minX),A=Math.min(g.minY,y.minY),m=Math.max(g.maxX,y.maxX),M=Math.max(g.maxY,y.maxY),b=d/2;return{minX:x-b,minY:A-b,maxX:m+b,maxY:M+b}},createPath:function(f){var r=this._attrs,e=r.x,n=r.y,a=r.rs,u=r.re,l=r.startAngle,h=r.endAngle,p=r.clockwise,d={x:Math.cos(l)*a+e,y:Math.sin(l)*a+n},g={x:Math.cos(l)*u+e,y:Math.sin(l)*u+n},y={x:Math.cos(h)*a+e,y:Math.sin(h)*a+n};f=f||self.get("context"),f.beginPath(),f.moveTo(d.x,d.y),f.lineTo(g.x,g.y),f.arc(e,n,u,l,h,p),f.lineTo(y.x,y.y),f.arc(e,n,a,h,l,!p),f.closePath()}}),P.exports=v},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},t.extend(s,c),t.augment(s,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs;(!this._cfg.attrs||this._cfg.attrs.img!==o.img)&&this._setAttrImg();var f=o.x,r=o.y,e=o.width,n=o.height;return{minX:f,minY:r,maxX:f+e,maxY:r+n}},_beforeSetLoading:function(o){var f=this.get("canvas");return o===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,f.draw()),o},_setAttrImg:function(){var o=this,f=o._attrs,r=f.img;if(t.isString(r)){var e=new Image;e.onload=function(){if(o.get("destroyed"))return!1;o.attr("imgSrc",r),o.attr("img",e);var n=o.get("callback");n&&n.call(o),o.set("loading",!1)},e.src=r,e.crossOrigin="Anonymous",o.set("loading",!0)}else return r instanceof Image?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):r instanceof HTMLElement&&t.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"?(f.width||o.attr("width",Number(r.getAttribute("width"))),f.height||o.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(f.width||o.attr("width",r.width),f.height||o.attr("height",r.height),r):null},drawInner:function(o){if(this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")){this.set("toDraw",!0);return}this._drawImage(o),this._cfg.hasUpdate=!1},_drawImage:function(o){var f=this._attrs,r=f.x,e=f.y,n=f.img,a=f.width,u=f.height,l=f.sx,h=f.sy,p=f.swidth,d=f.sheight;this.set("toDraw",!1);var g=n;if(g instanceof ImageData&&(g=new Image,g.src=n),g instanceof Image||g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS"){if(t.isNil(l)||t.isNil(h)||t.isNil(p)||t.isNil(d)){o.drawImage(g,r,e,a,u);return}if(!t.isNil(l)&&!t.isNil(h)&&!t.isNil(p)&&!t.isNil(d)){o.drawImage(g,l,h,p,d,r,e,a,u);return}}}}),P.exports=s},function(P,S,i){var t=i(2),c=i(9),s=i(54),v=i(52),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(o,c),t.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,e=r.x1,n=r.y1,a=r.x2,u=r.y2,l=this.getHitLineWidth();return v.box(e,n,a,u,l)},createPath:function(r){var e=this._attrs,n=e.x1,a=e.y1,u=e.x2,l=e.y2;r=r||self.get("context"),r.beginPath(),r.moveTo(n,a),r.lineTo(u,l)},afterPath:function(r){var e=this._attrs,n=e.x1,a=e.y1,u=e.x2,l=e.y2;r=r||this.get("context"),e.startArrow&&s.addStartArrow(r,e,u,l,n,a),e.endArrow&&s.addEndArrow(r,e,n,a,u,l)},getPoint:function(r){var e=this._attrs;return{x:v.at(e.x1,e.x2,r),y:v.at(e.y1,e.y2,r)}}}),P.exports=o},function(P,S,i){var t=i(2),c=i(9),s=i(55),v=i(37),o=i(54),f=i(96),r=i(94),e=function n(a){n.superclass.constructor.call(this,a)};e.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},t.extend(e,c),t.augment(e,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(a){var u=this;if(t.isNil(a)){u.setSilent("segments",null),u.setSilent("box",void 0);return}var l=v.parsePath(a),h,p=[];if(!(!t.isArray(l)||l.length===0||l[0][0]!=="M"&&l[0][0]!=="m")){for(var d=l.length,g=0;g<l.length;g++){var y=l[g];h=new s(y,h,g===d-1),p.push(h)}u.setSilent("segments",p),u.setSilent("tCache",null),u.setSilent("box",null)}},calculateBox:function(){var a=this,u=a.get("segments");if(!u)return null;var l=this.getHitLineWidth(),h=Infinity,p=-Infinity,d=Infinity,g=-Infinity;return t.each(u,function(y){y.getBBox(l);var x=y.box;x&&(x.minX<h&&(h=x.minX),x.maxX>p&&(p=x.maxX),x.minY<d&&(d=x.minY),x.maxY>g&&(g=x.maxY))}),h===Infinity||d===Infinity?{minX:0,minY:0,maxX:0,maxY:0}:{minX:h,minY:d,maxX:p,maxY:g}},_setTcache:function(){var a=0,u=0,l=[],h,p,d,g,y=this._cfg.curve;!y||(t.each(y,function(x,A){d=y[A+1],g=x.length,d&&(a+=r.len(x[g-2],x[g-1],d[1],d[2],d[3],d[4],d[5],d[6]))}),t.each(y,function(x,A){d=y[A+1],g=x.length,d&&(h=[],h[0]=u/a,p=r.len(x[g-2],x[g-1],d[1],d[2],d[3],d[4],d[5],d[6]),u+=p,h[1]=u/a,l.push(h))}),this._cfg.tCache=l)},_calculateCurve:function(){var a=this,u=a._attrs,l=u.path;this._cfg.curve=f.pathTocurve(l)},getStartTangent:function(){var a=this.get("segments"),u,l,h,p;if(a.length>1)if(u=a[0].endPoint,l=a[1].endPoint,h=a[1].startTangent,p=[],t.isFunction(h)){var d=h();p.push([u.x-d[0],u.y-d[1]]),p.push([u.x,u.y])}else p.push([l.x,l.y]),p.push([u.x,u.y]);return p},getEndTangent:function(){var a=this.get("segments"),u=a.length,l,h,p,d;if(u>1)if(l=a[u-2].endPoint,h=a[u-1].endPoint,p=a[u-1].endTangent,d=[],t.isFunction(p)){var g=p();d.push([h.x-g[0],h.y-g[1]]),d.push([h.x,h.y])}else d.push([l.x,l.y]),d.push([h.x,h.y]);return d},getPoint:function(a){var u=this._cfg.tCache,l,h;u||(this._calculateCurve(),this._setTcache(),u=this._cfg.tCache);var p=this._cfg.curve;if(!u)return p?{x:p[0][1],y:p[0][2]}:null;t.each(u,function(x,A){a>=x[0]&&a<=x[1]&&(l=(a-x[0])/(x[1]-x[0]),h=A)});var d=p[h];if(t.isNil(d)||t.isNil(h))return null;var g=d.length,y=p[h+1];return{x:r.at(d[g-2],y[1],y[3],y[5],1-l),y:r.at(d[g-1],y[2],y[4],y[6],1-l)}},createPath:function(a){var u=this,l=u.get("segments");if(!!t.isArray(l)){a=a||u.get("context"),a.beginPath();for(var h=l.length,p=0;p<h;p++)l[p].draw(a)}},afterPath:function(a){var u=this,l=u._attrs,h=u.get("segments"),p=l.path;if(a=a||u.get("context"),!!t.isArray(h)&&h.length!==1&&!(!l.startArrow&&!l.endArrow)&&!(p[p.length-1]==="z"||p[p.length-1]==="Z"||l.fill)){var d=u.getStartTangent();o.addStartArrow(a,l,d[0][0],d[0][1],d[1][0],d[1][1]);var g=u.getEndTangent();o.addEndArrow(a,l,g[0][0],g[0][1],g[1][0],g[1][1])}}}),P.exports=e},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={points:null,lineWidth:1},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this,f=o._attrs,r=f.points,e=this.getHitLineWidth();if(!r||r.length===0)return null;var n=Infinity,a=Infinity,u=-Infinity,l=-Infinity;t.each(r,function(p){var d=p[0],g=p[1];d<n&&(n=d),d>u&&(u=d),g<a&&(a=g),g>l&&(l=g)});var h=e/2;return{minX:n-h,minY:a-h,maxX:u+h,maxY:l+h}},createPath:function(o){var f=this,r=f._attrs,e=r.points;e.length<2||(o=o||f.get("context"),o.beginPath(),t.each(e,function(n,a){a===0?o.moveTo(n[0],n[1]):o.lineTo(n[0],n[1])}),o.closePath())}}),P.exports=s},function(P,S,i){var t=i(2),c=i(9),s=i(54),v=i(52),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},t.extend(o,c),t.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this,e=r._attrs,n=this.getHitLineWidth(),a=e.points;if(!a||a.length===0)return null;var u=Infinity,l=Infinity,h=-Infinity,p=-Infinity;t.each(a,function(g){var y=g[0],x=g[1];y<u&&(u=y),y>h&&(h=y),x<l&&(l=x),x>p&&(p=x)});var d=n/2;return{minX:u-d,minY:l-d,maxX:h+d,maxY:p+d}},_setTcache:function(){var r=this,e=r._attrs,n=e.points,a=0,u=0,l=[],h,p;!n||n.length===0||(t.each(n,function(d,g){n[g+1]&&(a+=v.len(d[0],d[1],n[g+1][0],n[g+1][1]))}),!(a<=0)&&(t.each(n,function(d,g){n[g+1]&&(h=[],h[0]=u/a,p=v.len(d[0],d[1],n[g+1][0],n[g+1][1]),u+=p,h[1]=u/a,l.push(h))}),this.tCache=l))},createPath:function(r){var e=this,n=e._attrs,a=n.points,u,l;if(!(a.length<2)){for(r=r||e.get("context"),r.beginPath(),r.moveTo(a[0][0],a[0][1]),l=1,u=a.length-1;l<u;l++)r.lineTo(a[l][0],a[l][1]);r.lineTo(a[u][0],a[u][1])}},getStartTangent:function(){var r=this.__attrs.points,e=[];return e.push([r[1][0],r[1][1]]),e.push([r[0][0],r[0][1]]),e},getEndTangent:function(){var r=this.__attrs.points,e=r.length-1,n=[];return n.push([r[e-1][0],r[e-1][1]]),n.push([r[e][0],r[e][1]]),n},afterPath:function(r){var e=this,n=e._attrs,a=n.points,u=a.length-1;r=r||e.get("context"),n.startArrow&&s.addStartArrow(r,n,a[1][0],a[1][1],a[0][0],a[0][1]),n.endArrow&&s.addEndArrow(r,n,a[u-1][0],a[u-1][1],a[u][0],a[u][1])},getPoint:function(r){var e=this._attrs,n=e.points,a=this.tCache,u,l;return a||(this._setTcache(),a=this.tCache),t.each(a,function(h,p){r>=h[0]&&r<=h[1]&&(u=(r-h[0])/(h[1]-h[0]),l=p)}),{x:v.at(n[l][0],n[l+1][0],u),y:v.at(n[l][1],n[l+1][1],u)}}}),P.exports=o},function(P,S,i){var t=i(2),c=i(37),s=c.parseRadius,v=i(9),o=function f(r){f.superclass.constructor.call(this,r)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},t.extend(o,v),t.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var r=this,e=r._attrs,n=e.x,a=e.y,u=e.width,l=e.height,h=this.getHitLineWidth(),p=h/2;return{minX:n-p,minY:a-p,maxX:n+u+p,maxY:a+l+p}},createPath:function(r){var e=this,n=e._attrs,a=n.x,u=n.y,l=n.width,h=n.height,p=n.radius;if(r=r||e.get("context"),r.beginPath(),p===0)r.rect(a,u,l,h);else{var d=s(p);r.moveTo(a+d.r1,u),r.lineTo(a+l-d.r2,u),d.r2!==0&&r.arc(a+l-d.r2,u+d.r2,d.r2,-Math.PI/2,0),r.lineTo(a+l,u+h-d.r3),d.r3!==0&&r.arc(a+l-d.r3,u+h-d.r3,d.r3,0,Math.PI/2),r.lineTo(a+d.r4,u+h),d.r4!==0&&r.arc(a+d.r4,u+h-d.r4,d.r4,Math.PI/2,Math.PI),r.lineTo(a,u+d.r1),d.r1!==0&&r.arc(a+d.r1,u+d.r1,d.r1,Math.PI,Math.PI*1.5),r.closePath()}}}),P.exports=o},function(P,S,i){var t=i(2),c=i(9),s=function v(o){v.superclass.constructor.call(this,o)};s.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},t.extend(s,c),t.augment(s,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var o=this._attrs.fontSize;o&&+o<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+o/12,+o/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var o=this._attrs,f=o.fontSize,r=o.fontFamily,e=o.fontWeight,n=o.fontStyle,a=o.fontVariant;o.font=[n,a,e,f+"px",r].join(" ")},_setAttrText:function(){var o=this._attrs,f=o.text,r=null;if(t.isString(f)&&f.indexOf(`
`)!==-1){r=f.split(`
`);var e=r.length;o.lineCount=e}o.textArr=r},_getTextHeight:function(){var o=this._attrs,f=o.lineCount,r=o.fontSize*1;if(f>1){var e=this._getSpaceingY();return r*f+e*(f-1)}return r},isHitBox:function(){return!1},calculateBox:function(){var o=this,f=o._attrs,r=this._cfg;(!r.attrs||r.hasUpdate)&&(this._assembleFont(),this._setAttrText()),f.textArr||this._setAttrText();var e=f.x,n=f.y,a=o.measureText();if(!a)return{minX:e,minY:n,maxX:e,maxY:n};var u=o._getTextHeight(),l=f.textAlign,h=f.textBaseline,p=o.getHitLineWidth(),d={x:e,y:n-u};l&&(l==="end"||l==="right"?d.x-=a:l==="center"&&(d.x-=a/2)),h&&(h==="top"?d.y+=u:h==="middle"&&(d.y+=u/2)),this.set("startPoint",d);var g=p/2;return{minX:d.x-g,minY:d.y-g,maxX:d.x+a+g,maxY:d.y+u+g}},_getSpaceingY:function(){var o=this._attrs,f=o.lineHeight,r=o.fontSize*1;return f?f-r:r*.14},drawInner:function(o){var f=this,r=f._attrs,e=this._cfg;(!e.attrs||e.hasUpdate)&&(this._assembleFont(),this._setAttrText()),o.font=r.font;var n=r.text;if(!!n){var a=r.textArr,u=r.x,l=r.y;if(o.beginPath(),f.hasStroke()){var h=r.strokeOpacity;!t.isNil(h)&&h!==1&&(o.globalAlpha=h),a?f._drawTextArr(o,!1):o.strokeText(n,u,l),o.globalAlpha=1}if(f.hasFill()){var p=r.fillOpacity;!t.isNil(p)&&p!==1&&(o.globalAlpha=p),a?f._drawTextArr(o,!0):o.fillText(n,u,l)}e.hasUpdate=!1}},_drawTextArr:function(o,f){var r=this._attrs.textArr,e=this._attrs.textBaseline,n=this._attrs.fontSize*1,a=this._getSpaceingY(),u=this._attrs.x,l=this._attrs.y,h=this.getBBox(),p=h.maxY-h.minY,d;t.each(r,function(g,y){d=l+y*(a+n)-p+n,e==="middle"&&(d+=p-n-(p-n)/2),e==="top"&&(d+=p-n),f?o.fillText(g,u,d):o.strokeText(g,u,d)})},measureText:function(){var o=this,f=o._attrs,r=f.text,e=f.font,n=f.textArr,a,u=0;if(!t.isNil(r)){var l=document.createElement("canvas").getContext("2d");return l.save(),l.font=e,n?t.each(n,function(h){a=l.measureText(h).width,u<a&&(u=a),l.restore()}):(u=l.measureText(r).width,l.restore()),u}}}),P.exports=s},function(P,S,i){var t=i(51),c=t.Group,s=i(4),v=function o(f){o.superclass.constructor.call(this,f)};s.extend(v,c),s.augment(v,{getDefaultCfg:function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_renderUI:function(){v.superclass._renderUI.call(this),this._drawLines()},_drawLines:function(){var f=this,r=f.get("lineStyle"),e=f.get("items");e&&e.length&&(f._precessItems(e),f._drawGridLines(e,r))},_precessItems:function(f){var r=this,e;s.each(f,function(n,a){e&&r.get("alternateColor")&&r._drawAlternativeBg(n,e,a),e=n})},_drawGridLines:function(f,r){var e=this,n=this.get("type"),a,u,l,h,p=f.length;n==="line"||n==="polygon"?s.each(f,function(d,g){e.get("hideFirstLine")&&g===0||e.get("hideLastLine")&&g===p-1||(h=d.points,u=[],n==="line"?(u.push(["M",h[0].x,h[0].y]),u.push(["L",h[h.length-1].x,h[h.length-1].y])):s.each(h,function(y,x){x===0?u.push(["M",y.x,y.y]):u.push(["L",y.x,y.y])}),e._drawZeroLine(n,g)?l=s.mix({},e.get("zeroLineStyle"),{path:u}):l=s.mix({},r,{path:u}),a=e.addShape("path",{attrs:l}),a.name="axis-grid",a._id=d._id,a.set("coord",e.get("coord")),e.get("appendInfo")&&a.setSilent("appendInfo",e.get("appendInfo")))}):s.each(f,function(d,g){e.get("hideFirstLine")&&g===0||e.get("hideLastLine")&&g===p-1||(h=d.points,u=[],s.each(h,function(y,x){var A=y.radius;x===0?u.push(["M",y.x,y.y]):u.push(["A",A,A,0,0,y.flag,y.x,y.y])}),l=s.mix({},r,{path:u}),a=e.addShape("path",{attrs:l}),a.name="axis-grid",a._id=d._id,a.set("coord",e.get("coord")),e.get("appendInfo")&&a.setSilent("appendInfo",e.get("appendInfo")))})},_drawZeroLine:function(f,r){var e=this,n=e.get("tickValues");return!!(f==="line"&&n&&n[r]===0&&e.get("hightLightZero"))},_drawAlternativeBg:function(f,r,e){var n=this,a=n.get("alternateColor"),u,l,h;s.isString(a)?l=a:s.isArray(a)&&(l=a[0],h=a[1]),e%2==0?h&&(u=n._getBackItem(r.points,f.points,h)):l&&(u=n._getBackItem(r.points,f.points,l));var p=n.addShape("Path",{attrs:u});p.name="axis-grid-rect",p._id=f._id&&f._id.replace("grid","grid-rect"),p.set("coord",n.get("coord")),n.get("appendInfo")&&p.setSilent("appendInfo",n.get("appendInfo"))},_getBackItem:function(f,r,e){var n=[],a=this.get("type");if(a==="line")n.push(["M",f[0].x,f[0].y]),n.push(["L",f[f.length-1].x,f[f.length-1].y]),n.push(["L",r[r.length-1].x,r[r.length-1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]);else if(a==="polygon"){s.each(f,function(g,y){y===0?n.push(["M",g.x,g.y]):n.push(["L",g.x,g.y])});for(var u=r.length-1;u>=0;u--)n.push(["L",r[u].x,r[u].y]);n.push(["Z"])}else{var l=f[0].flag;s.each(f,function(g,y){var x=g.radius;y===0?n.push(["M",g.x,g.y]):n.push(["A",x,x,0,0,g.flag,g.x,g.y])});for(var h=r.length-1;h>=0;h--){var p=r[h],d=p.radius;h===r.length-1?n.push(["M",p.x,p.y]):n.push(["A",d,d,0,0,l===1?0:1,p.x,p.y])}}return{fill:e,path:n}}}),P.exports=v},function(P,S,i){function t(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,c(u,l)}function c(u,l){return c=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},c(u,l)}var s=i(4),v=s.DomUtil,o=i(36),f=i(365),r=i(366),e=i(367),n={scatter:f,map:r,treemap:e},a=function(u){t(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return s.mix({},d,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},h.clear=function(){var d=this.get("group"),g=this.get("container");d&&!d.get("destroyed")&&d.clear(),g&&(g.innerHTML=""),u.prototype.clear.call(this)},h.destroy=function(){var d=this.get("group"),g=this.get("container");d.destroy||d.destroy(),g&&g.parentNode&&g.parentNode.removeChild(g),u.prototype.destroy.call(this)},h.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},h._dryDraw=function(){var d=this,g=d.get("items"),y=d.getLabels(),x=y.length;s.each(g,function(m,M){if(M<x){var b=y[M];d.changeLabel(b,m)}else{var E=d._addLabel(m,M);E&&(E._id=m._id,E.set("coord",m.coord))}});for(var A=x-1;A>=g.length;A--)y[A].remove();d._adjustLabels(),(d.get("labelLine")||!d.get("config"))&&d.drawLines()},h.draw=function(){this._dryDraw(),this.get("canvas").draw()},h.changeLabel=function(d,g){if(!!d)if(d.tagName){var y=this._createDom(g);d.innerHTML=y.innerHTML,this._setCustomPosition(g,d)}else d._id=g._id,d.attr("text",g.text),(d.attr("x")!==g.x||d.attr("y")!==g.y)&&(d.resetMatrix(),g.textStyle.rotate&&(d.rotateAtStart(g.textStyle.rotate),delete g.textStyle.rotate),d.attr(g))},h.show=function(){var d=this.get("group"),g=this.get("container");d&&d.show(),g&&(g.style.opacity=1)},h.hide=function(){var d=this.get("group"),g=this.get("container");d&&d.hide(),g&&(g.style.opacity=0)},h.drawLines=function(){var d=this,g=d.get("labelLine");typeof g=="boolean"&&d.set("labelLine",{});var y=d.get("lineGroup");!y||y.get("destroyed")?(y=d.get("group").addGroup({elCls:"x-line-group"}),d.set("lineGroup",y)):y.clear(),s.each(d.get("items"),function(x){d.lineToLabel(x,y)})},h.lineToLabel=function(d,g){var y=this;if(!(!y.get("config")&&!d.labelLine)){var x=d.labelLine||y.get("labelLine"),A=typeof d.capture=="undefined"?y.get("capture"):d.capture,m=x.path;if(m&&s.isFunction(x.path)&&(m=x.path(d)),!m){var M=d.start||{x:d.x-d._offset.x,y:d.y-d._offset.y};m=[["M",M.x,M.y],["L",d.x,d.y]]}var b=d.color;b||(d.textStyle&&d.textStyle.fill?b=d.textStyle.fill:b="#000");var E=g.addShape("path",{attrs:s.mix({path:m,fill:null,stroke:b},x),capture:A});E.name=y.get("name"),E._id=d._id&&d._id.replace("glabel","glabelline"),E.set("coord",y.get("coord"))}},h._adjustLabels=function(){var d=this,g=d.get("type"),y=d.getLabels(),x=d.get("shapes"),A=n[g];g==="default"||!A||A(y,x)},h.getLabels=function(){var d=this.get("container");return d?s.toArray(d.childNodes):this.get("group").get("children")},h._addLabel=function(d,g){var y=d;return this.get("config")&&(y=this._getLabelCfg(d,g)),this._createText(y)},h._getLabelCfg=function(d,g){var y=this.get("textStyle")||{},x=this.get("formatter"),A=this.get("htmlTemplate");if(!s.isObject(d)){var m=d;d={},d.text=m}s.isFunction(y)&&(y=y(d.text,d,g)),x&&(d.text=x(d.text,d,g)),A&&(d.useHtml=!0,s.isFunction(A)&&(d.text=A(d.text,d,g))),s.isNil(d.text)&&(d.text=""),d.text=d.text+"";var M=s.mix({},d,{textStyle:y},{x:d.x||0,y:d.y||0});return M},h._init=function(){if(!this.get("group")){var d=this.get("canvas").addGroup({id:"label-group"});this.set("group",d)}},h.initHtmlContainer=function(){var d=this.get("container");if(d)s.isString(d)&&(d=document.getElementById(d),d&&this.set("container",d));else{var g=this.get("containerTpl"),y=this.get("canvas").get("el").parentNode;d=v.createDom(g),y.style.position="relative",y.appendChild(d),this.set("container",d)}return d},h._createText=function(d){var g=s.deepMix({},d),y=this.get("container"),x=typeof g.capture=="undefined"?this.get("capture"):g.capture,A;if(g.useHtml||g.htmlTemplate){y||(y=this.initHtmlContainer());var m=this._createDom(g);y.appendChild(m),this._setCustomPosition(g,m)}else{var M=this.get("name"),b=g.point,E=this.get("group");delete g.point;var C=g.rotate;return g.textStyle&&(g.textStyle.rotate&&(C=g.textStyle.rotate,delete g.textStyle.rotate),g=s.mix({x:g.x,y:g.y,textAlign:g.textAlign,text:g.text},g.textStyle)),A=E.addShape("text",{attrs:g,capture:x}),C&&(Math.abs(C)>Math.PI*2&&(C=C/180*Math.PI),A.transform([["t",-g.x,-g.y],["r",C],["t",g.x,g.y]])),A.setSilent("origin",b||g),A.name=M,this.get("appendInfo")&&A.setSilent("appendInfo",this.get("appendInfo")),A}},h._createDom=function(d){var g=this.get("itemTpl"),y=s.substitute(g,{text:d.text});return v.createDom(y)},h._setCustomPosition=function(d,g){var y=d.textAlign||"left",x=d.y,A=d.x,m=v.getOuterWidth(g),M=v.getOuterHeight(g);x=x-M/2,y==="center"?A=A-m/2:y==="right"&&(A=A-m),g.style.top=parseInt(x,10)+"px",g.style.left=parseInt(A,10)+"px"},l}(o);P.exports=a},function(P,S){var i=function(){function t(){this.bitmap=[]}var c=t.prototype;return c.hasGap=function(v){for(var o=!0,f=this.bitmap,r=Math.floor(v.minX),e=Math.ceil(v.maxX),n=Math.floor(v.minY),a=Math.ceil(v.maxY)-1,u=r;u<e;u++){if(!f[u]){f[u]=[];continue}if(u===r||u===e-1){for(var l=n;l<=a;l++)if(f[u][l]){o=!1;break}}else if(f[u][n]||f[u][a]){o=!1;break}}return o},c.fillGap=function(v){for(var o=this.bitmap,f=Math.floor(v.minX),r=Math.ceil(v.maxX)-1,e=Math.floor(v.minY),n=Math.ceil(v.maxY)-1,a=f;a<=r;a++){for(var u=e;u<n;u+=8)o[a]||(o[a]=[]),o[a][u]=!0;o[a][n]=!0}for(var l=e;l<=n;l++)o[f][l]=!0,o[r][l]=!0},t}();P.exports=i},function(P,S,i){var t=i(4);P.exports={getFirstScale:function(s){var v;return t.each(s,function(o){if(o)return v=o,!1}),v}}},function(P,S,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(4),v=i(192),o=i(16),f=o.FONT_FAMILY,r=s.Event,e=s.Group;function n(l,h){var p=null,d=h instanceof e||h.name==="legendGroup"?h.get("value"):h;return s.each(l,function(g){if(g.value===d)return p=g,!1}),p}function a(l,h){return l.findBy(function(p){return p.name===h})}var u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return s.mix({},g,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:f},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},p.render=function(){l.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},p._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",s.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",s.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",s.wrapBehavior(this,"_onClick"))},p._getLegendItem=function(g){var y=g.get("parent");return y&&y.name==="legendGroup"?y:null},p.activate=function(g){var y=this,x=this,A=x.get("itemsGroup"),m=A.get("children"),M=void 0;m.forEach(function(b){if(M=a(b,"legend-marker"),!!M){var E=b.get("checked");y.get("highlight")?b.get("value")===g&&E?M.attr("stroke","#333"):M.attr("stroke",null):b.get("value")===g&&M.attr("fillOpacity",x.get("activeOpacity"))}}),this.get("canvas").draw()},p.deactivate=function(){var g=this,y=this,x=y.get("itemsGroup"),A=x.get("children"),m=void 0,M=this.get("unCheckColor");A.forEach(function(b){if(m=a(b,"legend-marker"),!!m)if(g.get("highlight")){var E=m.get("oriStroke"),C=b.get("checked");E&&!C?E=M:E="",m.attr("stroke",E)}else m.attr("fillOpacity",y.get("inactiveOpacity"))}),this.get("canvas").draw()},p._onMousemove=function(g){var y=this._getLegendItem(g.currentTarget);if(y&&y.get("checked")){var x=this.get("items"),A=new r("itemhover",g,!0,!0);A.item=n(x,y),A.checked=y.get("checked"),A.currentTarget=g.currentTarget,this.deactivate(),this.activate(y.get("value")),this.emit("itemhover",A)}else this.deactivate(),this.emit("itemunhover",g);this.get("canvas").draw()},p._onMouseleave=function(g){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",g)},p._onClick=function(g){var y=this._getLegendItem(g.currentTarget),x=this.get("items");if(y&&!y.get("destroyed")){var A=y.get("checked"),m=this.get("selectedMode"),M=n(x,y),b=new r("itemclick",g,!0,!0);if(b.item=M,b.currentTarget=y,b.appendInfo=g.currentTarget.get("appendInfo"),b.checked=m==="single"?!0:!A,!this.get("allowAllCanceled")&&A&&this.getCheckedCount()===1){this.emit("clicklastitem",b);return}var E=this.get("unCheckColor"),C=this.get("textStyle").fill,T=void 0,O=void 0,L=void 0;if(m==="single"){var R=this.get("itemsGroup"),W=R.get("children");s.each(W,function(U){T=a(U,"legend-marker"),O=a(U,"legend-text"),L=a(U,"legend-item"),U!==y?(T.attr("fill")&&T.attr("fill",E),T.attr("stroke")&&T.attr("stroke",E),O.attr("fill",E),T.setSilent("checked",!1),O.setSilent("checked",!1),L.setSilent("checked",!1),U.setSilent("checked",!1)):(T.attr("fill")&&M&&M.marker&&T.attr("fill",M.marker.fill),T.attr("stroke")&&M&&M.marker&&T.attr("stroke",M.marker.stroke),O.attr("fill",C),T.setSilent("checked",!0),O.setSilent("checked",!0),L.setSilent("checked",!0),U.setSilent("checked",!0))})}else T=a(y,"legend-marker"),O=a(y,"legend-text"),L=a(y,"legend-item"),T.attr("fill")&&M&&M.marker&&T.attr("fill",A?E:M.marker.fill),T.attr("stroke")&&M&&M.marker&&T.attr("stroke",A?E:M.marker.stroke),O.attr("fill",A?E:C),y.setSilent("checked",!A),T.setSilent("checked",!A),O.setSilent("checked",!A),L.setSilent("checked",!A);this.emit("itemclick",b)}this.get("canvas").draw()},p._renderItems=function(){var g=this,y=this.get("items");if(this.get("reversed")&&y.reverse(),s.each(y,function(M,b){g._addItem(M,b)}),this.get("highlight")){var x=this.get("itemsGroup"),A=x.get("children"),m=void 0;A.forEach(function(M){m=a(M,"legend-marker");var b=m.get("oriStroke");b||(m.attr("stroke")?m.set("oriStroke",m.attr("stroke")):m.set("oriStroke",""))})}},p._formatItemValue=function(g){var y=this.get("formatter")||this.get("itemFormatter");return y&&(g=y.call(this,g)),g},p._getNextX=function(){var g=this.get("layout"),y=this.get("itemGap"),x=this.get("itemsGroup"),A=this.get("itemWidth"),m=x.get("children"),M=0;return g==="horizontal"&&s.each(m,function(b){M+=(A||b.getBBox().width)+y}),M},p._getNextY=function(){var g=this.get("itemMarginBottom"),y=this.get("titleShape")?this.get("titleGap"):0,x=this.get("layout"),A=this.get("itemsGroup"),m=this.get("titleShape"),M=A.get("children"),b=y;return m&&(b+=m.getBBox().height),x==="vertical"&&s.each(M,function(E){b+=E.getBBox().height+g}),b},p._addItem=function(g){var y=this.get("itemsGroup"),x=this._getNextX(),A=this._getNextY(),m=this.get("unCheckColor"),M=y.addGroup({x,y:A,value:g.value,checked:g.checked});M.set("viewId",this.get("viewId"));var b=this.get("textStyle"),E=this.get("_wordSpaceing"),C=0;if(g.marker){var T=s.mix({},g.marker,{x:g.marker.radius+x,y:A});g.checked||(T.fill&&(T.fill=m),T.stroke&&(T.stroke=m));var O=M.addShape("marker",{type:"marker",attrs:T});O.attr("cursor","pointer"),O.name="legend-marker",C+=O.getBBox().width+E}var L=s.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:f},b,{x:C+x,y:A,text:this._formatItemValue(g.value)});g.checked||s.mix(L,{fill:m});var R=M.addShape("text",{attrs:L});R.attr("cursor","pointer"),R.name="legend-text",this.get("appendInfo")&&R.setSilent("appendInfo",this.get("appendInfo"));var W=M.getBBox(),U=this.get("itemWidth"),X=M.addShape("rect",{attrs:{x,y:A-W.height/2,fill:"#fff",fillOpacity:0,width:U||W.width,height:W.height}});return X.attr("cursor","pointer"),X.setSilent("origin",g),X.name="legend-item",this.get("appendInfo")&&X.setSilent("appendInfo",this.get("appendInfo")),M.name="legendGroup",M},p._adjustHorizontal=function(){var g=this.get("itemsGroup"),y=g.get("children"),x=this.get("maxLength"),A=this.get("itemGap"),m=this.get("itemMarginBottom"),M=this.get("titleShape")?this.get("titleGap"):0,b=0,E=0,C=void 0,T=void 0,O=void 0,L=this.get("itemWidth");g.getBBox().width>x&&s.each(y,function(R){O=R.getBBox(),C=L||O.width,T=O.height+m,x-E<C&&(b++,E=0),R.move(E,b*T+M),E+=C+A})},p._adjustVertical=function(){var g=this.get("itemsGroup"),y=this.get("titleShape"),x=g.get("children"),A=this.get("maxLength"),m=this.get("itemGap"),M=this.get("itemMarginBottom"),b=this.get("titleGap"),E=y?y.getBBox().height+b:0,C=this.get("itemWidth"),T=E,O=void 0,L=void 0,R=void 0,W=0,U=0;g.getBBox().height>A&&s.each(x,function(X){R=X.getBBox(),O=R.width,L=R.height,C?W=C+m:O>W&&(W=O+m),A-T<L?(T=E,U+=W,X.move(U,E)):X.move(U,T),T+=L+M})},p._adjustItems=function(){var g=this.get("layout");g==="horizontal"?this._adjustHorizontal():this._adjustVertical()},p.getWidth=function(){return l.prototype.getWidth.call(this)},p.getHeight=function(){return l.prototype.getHeight.call(this)},p.move=function(g,y){l.prototype.move.call(this,g,y)},h}(v);P.exports=u},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(4),v=i(36),o=i(16),f=o.FONT_FAMILY,r=function(e){t(a,e);var n=a.prototype;n.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}};function a(u){var l;return l=e.call(this,u)||this,l._init(),l.beforeRender(),l.render(),l._adjustPositionOffset(),l._bindEvents(),l}return n._init=function(){var l=this.get("group"),h=this.get("container");this.set("canvas",h.get("canvas"));var p=this.get("position");l||(l=h.addGroup({x:0-p[0],y:0-p[1]})),this.set("group",l)},n._adjustPositionOffset=function(){var l=this.get("position"),h=this.get("offset"),p=this.get("offsetX"),d=this.get("offsetY");if(!s.isArray(h)){var g=this.get("layout");h=g==="vertical"?[h,0]:[0,h]}p&&(h[0]=p),d&&(h[1]=d);var y=this.get("group").getBBox();this.move(-y.minX+l[0]+h[0],-y.minY+l[1]+h[1])},n.beforeRender=function(){var l=this.get("group"),h=l.addGroup();this.set("itemsGroup",h)},n.render=function(){this._renderTitle()},n._renderTitle=function(){var l=this.get("title"),h=this.get("titleGap");if(h=h||0,l&&l.text){var p=this.get("group"),d=p.addShape("text",{attrs:s.mix({x:0,y:0-h,fill:"#333",textBaseline:"middle",fontFamily:f},l)});d.name="legend-title",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",d)}},n.getCheckedCount=function(){var l=this.get("itemsGroup"),h=l.get("children"),p=s.filter(h,function(d){return d.get("checked")});return p.length},n.setItems=function(l){this.set("items",l),this.clear(),this.render()},n.addItem=function(l){var h=this.get("items");h.push(l),this.clear(),this.render()},n.clear=function(){var l=this.get("itemsGroup");l.clear();var h=this.get("group");h.clear(),this.beforeRender()},n.destroy=function(){var l=this.get("group");l&&l.destroy(),this._attrs={},this.removeAllListeners(),e.prototype.destroy.call(this)},n.getWidth=function(){var l=this.get("group").getBBox();return l.width},n.getHeight=function(){var l=this.get("group").getBBox();return l.height},n.move=function(l,h){this.get("group").move(l,h)},n.draw=function(){this.get("canvas").draw()},a}(v);P.exports=r},function(P,S,i){function t(A,m){A.prototype=Object.create(m.prototype),A.prototype.constructor=A,c(A,m)}function c(A,m){return c=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b},c(A,m)}var s=i(4),v=i(191),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e=s.Group,n="g2-legend",a="g2-legend-title",u="g2-legend-list",l="g2-legend-list-item",h="g2-legend-text",p="g2-legend-marker";function d(A,m){return A.getElementsByClassName(m)[0]}function g(A,m){var M=A.className;return s.isNil(M)||(M=M.split(" "),M.indexOf(m)>-1)?A:A.parentNode?A.parentNode.className===n?A.parentNode:g(A.parentNode,m):null}function y(A,m){var M=null,b=m instanceof e?m.get("value"):m;return s.each(A,function(E){if(E.value===b)return M=E,!1}),M}var x=function(A){t(m,A);function m(){return A.apply(this,arguments)||this}var M=m.prototype;return M.getDefaultCfg=function(){var E=A.prototype.getDefaultCfg.call(this);return s.mix({},E,{type:"category-legend",container:null,containerTpl:'<div class="'+n+'"><h4 class="'+a+'"></h4><ul class="'+u+'"></ul></div>',itemTpl:'<li class="'+l+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+p+'" style="background-color:{color};"></i><span class="'+h+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:f},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},M._init=function(){},M.beforeRender=function(){},M.render=function(){this._renderHTML()},M._bindEvents=function(){var E=this,C=this.get("legendWrapper"),T=d(C,u);this.get("hoverable")&&(T.onmousemove=function(O){return E._onMousemove(O)},T.onmouseout=function(O){return E._onMouseleave(O)}),this.get("clickable")&&(T.onclick=function(O){return E._onClick(O)})},M._onMousemove=function(E){var C=this.get("items"),T=E.target,O=T.className;if(O=O.split(" "),!(O.indexOf(n)>-1||O.indexOf(u)>-1)){var L=g(T,l),R=y(C,L.getAttribute("data-value"));R?(this.deactivate(),this.activate(L.getAttribute("data-value")),this.emit("itemhover",{item:R,currentTarget:L,checked:R.checked})):R||(this.deactivate(),this.emit("itemunhover",E))}},M._onMouseleave=function(E){this.deactivate(),this.emit("itemunhover",E)},M._onClick=function(E){var C=this,T=this.get("legendWrapper"),O=d(T,u),L=this.get("unCheckColor"),R=this.get("items"),W=this.get("selectedMode"),U=O.childNodes,X=E.target,Z=X.className;if(Z=Z.split(" "),!(Z.indexOf(n)>-1||Z.indexOf(u)>-1)){var J=g(X,l),ht=d(J,h),at=d(J,p),Q=y(R,J.getAttribute("data-value"));if(!!Q){var xt=J.className,kt=J.getAttribute("data-color");if(W==="single")Q.checked=!0,s.each(U,function(q){if(q!==J){var G=d(q,p);G.style.backgroundColor=L,q.className=q.className.replace("checked","unChecked"),q.style.color=L;var N=y(R,q.getAttribute("data-value"));N.checked=!1}else ht&&(ht.style.color=C.get("textStyle").fill),at&&(at.style.backgroundColor=kt),J.className=xt.replace("unChecked","checked")});else{var Nt=xt.indexOf("checked")!==-1,nt=0;if(s.each(U,function(q){q.className.indexOf("checked")!==-1&&nt++}),!this.get("allowAllCanceled")&&Nt&&nt===1){this.emit("clicklastitem",{item:Q,currentTarget:J,checked:W==="single"?!0:Q.checked});return}Q.checked=!Q.checked,Nt?(at&&(at.style.backgroundColor=L),J.className=xt.replace("checked","unChecked"),J.style.color=L):(at&&(at.style.backgroundColor=kt),J.className=xt.replace("unChecked","checked"),J.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:Q,currentTarget:J,checked:W==="single"?!0:Q.checked})}}},M.activate=function(E){var C=this,T=this,O=T.get("items"),L=y(O,E),R=T.get("legendWrapper"),W=d(R,u),U=W.childNodes;U.forEach(function(X){var Z=d(X,p),J=y(O,X.getAttribute("data-value"));if(C.get("highlight")){if(J===L&&J.checked){Z.style.border="1px solid #333";return}}else J===L?Z.style.opacity=T.get("activeOpacity"):J.checked&&(Z.style.opacity=T.get("inactiveOpacity"))})},M.deactivate=function(){var E=this,C=this,T=C.get("legendWrapper"),O=d(T,u),L=O.childNodes;L.forEach(function(R){var W=d(R,p);E.get("highlight")?W.style.border="1px solid #fff":W.style.opacity=C.get("inactiveOpacity")})},M._renderHTML=function(){var E=this,C=this.get("container"),T=this.get("title"),O=this.get("containerTpl"),L=r.createDom(O),R=d(L,a),W=d(L,u),U=this.get("unCheckColor"),X=s.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:f,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:f},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(C)||typeof C=="string"&&C.constructor===String){var Z=C.replace("#","");C=document.getElementById(Z),C.appendChild(L)}else{var J=this.get("position"),ht={};J==="left"||J==="right"?ht={maxHeight:(this.get("maxLength")||C.offsetHeight)+"px"}:ht={maxWidth:(this.get("maxLength")||C.offsetWidth)+"px"},r.modifyCSS(L,s.mix({},X.CONTAINER_CLASS,ht,this.get(n))),C.appendChild(L)}r.modifyCSS(W,s.mix({},X.LIST_CLASS,this.get(u))),R&&(T&&T.text?(R.innerHTML=T.text,r.modifyCSS(R,s.mix({},X.TITLE_CLASS,this.get(a),T))):L.removeChild(R));var at=this.get("items"),Q=this.get("itemTpl"),xt=this.get("position"),kt=this.get("layout"),Nt=xt==="right"||xt==="left"||kt==="vertical"?"block":"inline-block",nt=s.mix({},X.LIST_ITEM_CLASS,{display:Nt},this.get(l)),q=s.mix({},X.MARKER_CLASS,this.get(p));if(s.each(at,function(H,ct){var ft=H.checked,K=E._formatItemValue(H.value),$=H.marker.fill||H.marker.stroke,et=ft?$:U,j;s.isFunction(Q)?j=Q(K,et,ft,ct):j=Q;var w=s.substitute(j,s.mix({},H,{index:ct,checked:ft?"checked":"unChecked",value:K,color:et,originColor:$,originValue:H.value.replace(/\"/g,"&quot;")})),D=r.createDom(w);D.style.color=E.get("textStyle").fill;var V=d(D,p),tt=d(D,h);if(r.modifyCSS(D,nt),V&&r.modifyCSS(V,q),ft||(D.style.color=U,V&&(V.style.backgroundColor=U)),W.appendChild(D),E.get("abridgeText")){var lt=K,St=D.offsetWidth,ot=E.get("textStyle").fontSize;isNaN(ot)&&(ot.indexOf("pt")!==-1?ot=parseFloat(ot.substr(0,ot.length-2))*1/72*96:ot.indexOf("px")!==-1&&(ot=parseFloat(ot.substr(0,ot.length-2))));var Mt=ot*lt.length,Ot=Math.floor(St/ot);St<2*ot?lt="":St<Mt&&Ot>1&&(lt=lt.substr(0,Ot-1)+"..."),tt.innerText=lt,D.addEventListener("mouseover",function(){var Ft=d(L.parentNode,"textTip");Ft.style.display="block",Ft.style.left=D.offsetLeft+D.offsetWidth+"px",Ft.style.top=D.offsetTop+15+"px",Ft.innerText=K}),D.addEventListener("mouseout",function(){var Ft=d(L.parentNode,"textTip");Ft.style.display="none"})}}),this.get("abridgeText")){var G=this.get("tipTpl"),N=r.createDom(G),it=this.get("tipStyle");r.modifyCSS(N,it),L.parentNode.appendChild(N),N.addEventListener("mouseover",function(){N.style.display="none"})}this.set("legendWrapper",L)},M._adjustPositionOffset=function(){var E=this.get("autoPosition");if(E!==!1){var C=this.get("position"),T=this.get("offset"),O=this.get("offsetX"),L=this.get("offsetY");O&&(T[0]=O),L&&(T[1]=L);var R=this.get("legendWrapper");R.style.left=C[0]+"px",R.style.top=C[1]+"px",R.style.marginLeft=T[0]+"px",R.style.marginTop=T[1]+"px"}},M.getWidth=function(){return r.getOuterWidth(this.get("legendWrapper"))},M.getHeight=function(){return r.getOuterHeight(this.get("legendWrapper"))},M.move=function(E,C){/^\#/.test(this.get("container"))?A.prototype.move.call(this,E,C):(r.modifyCSS(this.get("legendWrapper"),{left:E+"px",top:C+"px"}),this.set("x",E),this.set("y",C))},M.destroy=function(){var E=this.get("legendWrapper");E&&E.parentNode&&E.parentNode.removeChild(E),A.prototype.destroy.call(this)},m}(v);P.exports=x},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(36),v=i(4),o=function(f){t(e,f);var r=e.prototype;r.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return v.mix({},a,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})};function e(n){var a;return a=f.call(this,n)||this,a._init_(),a.render(),a}return r._init_=function(){var a=this,u=a.get("plot"),l;a.type==="rect"?l=u.addGroup({zIndex:0}):l=u.addGroup(),this.set("container",l)},r._addLineShape=function(a,u){var l=this.get("container"),h=l.addShape("line",{capture:!1,attrs:a});return this.set("crossLineShape"+u,h),h},r._renderHorizontalLine=function(a,u){var l=v.mix(this.get("lineStyle"),this.get("style")),h=v.mix({x1:u?u.bl.x:a.get("width"),y1:0,x2:u?u.br.x:0,y2:0},l);this._addLineShape(h,"X")},r._renderVerticalLine=function(a,u){var l=v.mix(this.get("lineStyle"),this.get("style")),h=v.mix({x1:0,y1:u?u.bl.y:a.get("height"),x2:0,y2:u?u.tl.y:0},l);this._addLineShape(h,"Y")},r._renderBackground=function(a,u){var l=v.mix(this.get("rectStyle"),this.get("style")),h=this.get("container"),p=v.mix({x:u?u.tl.x:0,y:u?u.tl.y:a.get("height"),width:u?u.br.x-u.bl.x:a.get("width"),height:u?Math.abs(u.tl.y-u.bl.y):a.get("height")},l),d=h.addShape("rect",{attrs:p,capture:!1});return this.set("crosshairsRectShape",d),d},r._updateRectShape=function(a){var u,l=this.get("crosshairsRectShape"),h=this.get("isTransposed"),p=a[0],d=a[a.length-1],g=h?"y":"x",y=h?"height":"width",x=p[g];if(a.length>1&&p[g]>d[g]&&(x=d[g]),this.get("width"))l.attr(g,x-this.get("crosshairs").width/2),l.attr(y,this.get("width"));else if(v.isArray(p.point[g])&&!p.size){var A=p.point[g][1]-p.point[g][0];l.attr(g,p.point[g][0]),l.attr(y,A)}else u=3*p.size/4,l.attr(g,x-u),a.length===1?l.attr(y,3*p.size/2):l.attr(y,Math.abs(d[g]-p[g])+2*u)},r.render=function(){var a=this.get("canvas"),u=this.get("plotRange"),l=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(a,u);break;case"y":this._renderVerticalLine(a,u);break;case"cross":this._renderHorizontalLine(a,u),this._renderVerticalLine(a,u);break;case"rect":this._renderBackground(a,u);break;default:l?this._renderHorizontalLine(a,u):this._renderVerticalLine(a,u)}},r.show=function(){var a=this.get("container");f.prototype.show.call(this),a.show()},r.hide=function(){var a=this.get("container");f.prototype.hide.call(this),a.hide()},r.clear=function(){var a=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),f.prototype.clear.call(this),a.clear()},r.destroy=function(){var a=this.get("container");f.prototype.destroy.call(this),a.remove()},r.setPosition=function(a,u,l){var h=this.get("crossLineShapeX"),p=this.get("crossLineShapeY"),d=this.get("crosshairsRectShape");p&&!p.get("destroyed")&&p.move(a,0),h&&!h.get("destroyed")&&h.move(0,u),d&&!d.get("destroyed")&&this._updateRectShape(l)},e}(s);P.exports=o},function(P,S){var i=20,t={_calcTooltipPosition:function(s,v,o,f,r,e){var n=0,a=0,u=20;if(e){var l=e.getBBox();n=l.width,a=l.height,s=l.x,v=l.y,u=5}switch(o){case"inside":s=s+n/2-f/2,v=v+a/2-r/2;break;case"top":s=s+n/2-f/2,v=v-r-u;break;case"left":s=s-f-u,v=v+a/2-r/2;break;case"right":s=s+n+u,v=v+a/2-r/2;break;case"bottom":default:s=s+n/2-f/2,v=v+a+u;break}return[s,v]},_constraintPositionInBoundary:function(s,v,o,f,r,e){return s+o+i>r?(s-=o+i,s=s<0?0:s):s+i<0?s=i:s+=i,v+f+i>e?(v-=f+i,v=v<0?0:v):v+i<0?v=i:v+=i,[s,v]},_constraintPositionInPlot:function(s,v,o,f,r,e){return s+o>r.tr.x&&(e?s-=o+1:s-=o+2*i),s<r.tl.x&&(s=r.tl.x),e||(v+f>r.bl.y&&(v-=f+2*i),v<r.tl.y&&(v=r.tl.y)),[s,v]}};P.exports=t},function(P,S,i){var t=i(4),c={setMarkers:function(v,o){var f=this,r=f.get("markerGroup"),e=f.get("frontPlot");r?r.clear():(r=e.addGroup({zIndex:1,capture:!1}),f.set("markerGroup",r)),t.each(v,function(n){var a=t.mix({fill:n.color,symbol:"circle",shadowColor:n.color},o,{x:n.x,y:n.y});n.marker&&n.marker.activeSymbol&&(a.symbol=n.marker.activeSymbol),r.addShape("marker",{color:n.color,attrs:a})}),this.set("markerItems",v)},clearMarkers:function(){var v=this.get("markerGroup");v&&v.clear()}};P.exports=c},function(P,S,i){function t(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function c(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,s(d,g)}function s(d,g){return s=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},s(d,g)}var v=i(51),o=i(194),f=i(196),r=i(195),e=i(98),n=i(4),a=i(16),u=a.FONT_FAMILY,l=n.DomUtil,h=n.MatrixUtil,p=function(d){c(y,d);var g=y.prototype;g.getDefaultCfg=function(){var A=d.prototype.getDefaultCfg.call(this);return n.mix({},A,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:u,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})};function y(x){var A;A=d.call(this,x)||this,n.assign(t(A),r),n.assign(t(A),f);var m=A.get("crosshairs");if(m){var M=m.type==="rect"?A.get("backPlot"):A.get("frontPlot"),b=new o(n.mix({plot:M,plotRange:A.get("plotRange"),canvas:A.get("canvas")},A.get("crosshairs")));b.hide(),A.set("crosshairGroup",b)}return A._init_(),A.get("items")&&A.render(),A}return g._init_=function(){var A=this,m=A.get("padding"),M=A.get("frontPlot"),b=M.addGroup({capture:!1});A.set("markerGroup",b);var E=M.addGroup();E.hide(),A.set("container",E);var C=E.addShape("rect",{attrs:n.mix({},A.get("boardStyle"))});A.set("board",C);var T=A.get("titleStyle");if(A.get("showTitle")){var O=E.addShape("text",{attrs:n.mix({x:m.left,y:m.top},T)});A.set("titleShape",O),O.name="tooltip-title"}var L=E.addGroup();L.move(m.left,m.top+T.lineHeight+T.padding),A.set("itemsGroup",L)},g.render=function(){var A=this;A.clear();var m=A.get("container"),M=A.get("board"),b=A.get("showTitle"),E=A.get("titleContent"),C=this.get("titleShape"),T=this.get("itemsGroup"),O=A.get("items"),L=A.get("padding");if(C&&b&&C.attr("text",E),T){var R=A.get("itemGap"),W=0,U=0;n.each(O,function(ht){var at=A._addItem(ht);at.move(W,U),T.add(at);var Q=at.getBBox().height;U+=Q+R})}var X=m.getBBox(),Z=X.width+L.right,J=X.height+L.bottom;M.attr("width",Z),M.attr("height",J),A._alignToRight(Z)},g.clear=function(){var A=this.get("titleShape"),m=this.get("itemsGroup"),M=this.get("board");A.text="",m.clear(),M.attr("width",0),M.attr("height",0)},g.show=function(){var A=this.get("container");A.show();var m=this.get("crosshairGroup");m&&m.show();var M=this.get("markerGroup");M&&M.show(),d.prototype.show.call(this),this.get("canvas").draw()},g.hide=function(){var A=this.get("container");A.hide();var m=this.get("crosshairGroup");m&&m.hide();var M=this.get("markerGroup");M&&M.hide(),d.prototype.hide.call(this),this.get("canvas").draw()},g.destroy=function(){var A=this.get("container"),m=this.get("crosshairGroup");m&&m.destroy();var M=this.get("markerGroup");M&&M.remove(),d.prototype.destroy.call(this),A.remove()},g.setPosition=function(A,m,M){var b=this.get("container"),E=this.get("canvas").get("el"),C=l.getWidth(E),T=l.getHeight(E),O=b.getBBox(),L=O.width,R=O.height,W=A,U=m,X;if(this.get("position")){var Z=O.width,J=O.height;X=this._calcTooltipPosition(A,m,this.get("position"),Z,J,M),A=X[0],m=X[1]}else X=this._constraintPositionInBoundary(A,m,L,R,C,T),A=X[0],m=X[1];if(this.get("inPlot")){var ht=this.get("plotRange");X=this._constraintPositionInPlot(A,m,L,R,ht,this.get("enterable")),A=X[0],m=X[1]}var at=this.get("markerItems");n.isEmpty(at)||(W=at[0].x,U=at[0].y);var Q=[1,0,0,0,1,0,0,0,1],xt=h.transform(Q,[["t",A,m]]);b.stopAnimate(),b.animate({matrix:xt},this.get("animationDuration"));var kt=this.get("crosshairGroup");if(kt){var Nt=this.get("items");kt.setPosition(W,U,Nt)}d.prototype.setPosition.call(this,A,m)},g._addItem=function(A){var m=new v.Group,M=this.get("markerStyle").radius;if(A.marker){var b=n.mix({},A.marker,{x:A.marker.radius/2,y:0,symbol:A.marker.activeSymbol||A.marker.symbol});m.addShape("marker",{attrs:b}),M=A.marker.radius}var E=this.get("nameStyle");m.addShape("text",{attrs:n.mix({x:M+E.padding,y:0,text:A.name},E)});var C=this.get("valueStyle");return m.addShape("text",{attrs:n.mix({x:m.getBBox().width+C.padding,y:0,text:A.value},C)}),m},g._alignToRight=function(A){var m=this,M=this.get("itemsGroup"),b=M.get("children");n.each(b,function(E){var C=E.get("children"),T=C[2],O=T.getBBox().width,L=A-O-m.get("padding").right*2;T.attr("x",L)})},y}(e);P.exports=p},function(P,S,i){var t=i(91),c=i(25),s=i(0),v=function o(f){o.superclass.constructor.call(this,f)};s.extend(v,t),s.augment(v,{getPointRauis:function(f,r){return c.getPointRadius(f,r)},getCirclePoint:function(f,r,e){var n=this,a=n.get("coord"),u=a.getCenter(),l=n._isEmitLabels(),h=n.getPointRauis(a,e);if(h===0)return null;if(a.isTransposed&&h>r&&!l){var p=Math.asin(r/(2*h));f=f+p*2}else h=h+r;return{x:u.x+h*Math.cos(f),y:u.y+h*Math.sin(f),angle:f,r:h}},getArcPoint:function(f,r){var e=this,n;return r=r||0,s.isArray(f.x)||s.isArray(f.y)?n={x:s.isArray(f.x)?f.x[r]:f.x,y:s.isArray(f.y)?f.y[r]:f.y}:n=f,e.transLabelPoint(n),n},getPointAngle:function(f){var r=this,e=r.get("coord");return c.getPointAngle(e,f)},getMiddlePoint:function(f){var r=this,e=r.get("coord"),n=f.length,a={x:0,y:0};return s.each(f,function(u){a.x+=u.x,a.y+=u.y}),a.x/=n,a.y/=n,a=e.convert(a),a},_isToMiddle:function(f){return f.x.length>2},getLabelPoint:function(f,r,e){var n=this,a=f.text[e],u=1,l;n._isToMiddle(r)?l=n.getMiddlePoint(r.points):(f.text.length===1&&e===0?e=1:e===0&&(u=-1),l=n.getArcPoint(r,e));var h=n.getDefaultOffset(f);h=h*u;var p=n.getPointAngle(l),d=n.getCirclePoint(p,h,l);if(d?(d.text=a,d.angle=p,d.color=r.color):d={text:""},f.autoRotate||typeof f.autoRotate=="undefined"){var g=d.textStyle?d.textStyle.rotate:null;g||(g=d.rotate||n.getLabelRotate(p,h,r)),d.rotate=g}return d.start={x:l.x,y:l.y},d},_isEmitLabels:function(){var f=this.get("label");return f.labelEmit},getLabelRotate:function(f){var r=this,e;return e=f*180/Math.PI,e+=90,r._isEmitLabels()&&(e-=90),e&&(e>90?e=e-180:e<-90&&(e=e+180)),e/180*Math.PI},getLabelAlign:function(f){var r=this,e=r.get("coord"),n;if(r._isEmitLabels())f.angle<=Math.PI/2&&f.angle>-Math.PI/2?n="left":n="right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),u=r.getDefaultOffset(f);Math.abs(f.x-a.x)<1?n="center":f.angle>Math.PI||f.angle<=0?u>0?n="left":n="right":u>0?n="right":n="left"}return n}}),P.exports=v},function(P,S){P.exports={toFront:function(t){var c=t.get("parent"),s=c.get("children").indexOf(t);t.set("_originIndex",s),t.toFront()},resetZIndex:function(t){var c=t.get("parent"),s=t.get("_originIndex"),v=c.get("children"),o=v.indexOf(t);s>=0&&s!==o&&(v.splice(o,1),v.splice(s,0,t))}}},function(P,S,i){P.exports={Scale:i(399),Coord:i(400),Axis:i(405),Guide:i(406),Legend:i(409),Tooltip:i(411),Event:i(412)}},function(P,S,i){var t=i(18),c=i(0),s=i(202);function v(f,r,e){e===void 0&&(e=1);var n=[f.x,f.y,e];return c.vec3.transformMat3(n,n,r),{x:n[0],y:n[1]}}function o(f){var r=f.getBBox(),e={x:r.minX,y:r.minY},n={x:r.maxX,y:r.maxY},a=f.attr("matrix");return e=v(e,a),n=v(n,a),{minX:e.x,minY:e.y,maxX:n.x,maxY:n.y}}P.exports=function(r,e){var n=e;return c.each(r.get("children"),function(a){a instanceof t.Group&&c.each(a.get("children"),function(u){if(u instanceof t.Group&&u.get("children").length||u instanceof t.Path)n=s(n,u.getBBox());else if(u instanceof t.Text){var l=o(u);n=s(n,l)}})}),n}},function(P,S){P.exports=function(t,c){return{minX:Math.min(t.minX,c.minX),minY:Math.min(t.minY,c.minY),maxX:Math.max(t.maxX,c.maxX),maxY:Math.max(t.maxY,c.maxY)}}},function(P,S){P.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(P,S,i){"use strict";S.a=b,S.b=E,S.c=C;var t=i(102),c=i(512),s=i(526),v=i(527),o=i(528),f=i(529),r=i(530),e=i(531),n=i(532),a=i(533),u=i(534),l=i(535),h=i(536),p=i(537),d=i(538),g=i(539),y=i(540),x=i(541),A=i(421),m=i(542),M=0;function b(O,L,R,W){this._groups=O,this._parents=L,this._name=R,this._id=W}function E(O){return Object(t.selection)().transition(O)}function C(){return++M}var T=t.selection.prototype;b.prototype=E.prototype={constructor:b,select:u.a,selectAll:l.a,filter:r.a,merge:e.a,selection:h.a,transition:x.a,call:T.call,nodes:T.nodes,node:T.node,size:T.size,empty:T.empty,each:T.each,on:n.a,attr:c.a,attrTween:s.a,style:p.a,styleTween:d.a,text:g.a,textTween:y.a,remove:a.a,tween:A.a,delay:v.a,duration:o.a,ease:f.a,end:m.a}},function(P,S,i){var t=i(0),c=t.DomUtil,s=["start","process","end","reset"],v=function(){var o=f.prototype;o.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},o._start=function(e){var n=this;n.preStart&&n.preStart(e),n.start(e),n.onStart&&n.onStart(e)},o._process=function(e){var n=this;n.preProcess&&n.preProcess(e),n.process(e),n.onProcess&&n.onProcess(e)},o._end=function(e){var n=this;n.preEnd&&n.preEnd(e),n.end(e),n.onEnd&&n.onEnd(e)},o._reset=function(e){var n=this;n.preReset&&n.preReset(e),n.reset(e),n.onReset&&n.onReset(e)},o.start=function(){},o.process=function(){},o.end=function(){},o.reset=function(){};function f(r,e){var n=this,a=n.getDefaultCfg();t.assign(n,a,r),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}return o._bindEvents=function(){var e=this,n=e.canvas,a=n.get("canvasDOM");e._clearEvents(),t.each(s,function(u){var l=t.upperFirst(u);e["_on"+l+"Listener"]=c.addEventListener(a,e[u+"Event"],t.wrapBehavior(e,"_"+u))})},o._clearEvents=function(){var e=this;t.each(s,function(n){var a="_on"+t.upperFirst(n)+"Listener";e[a]&&e[a].remove()})},o.destroy=function(){this._clearEvents()},f}();P.exports=v},function(P,S,i){var t=i(105),c=i(18),s=i(142),v=i(163),o=i(8),f=i(21),r=i(0),e={version:o.version,Animate:s,Chart:v,Global:o,Scale:t,Shape:f,Util:r,G:c,DomUtil:r.DomUtil,MatrixUtil:r.MatrixUtil,PathUtil:r.PathUtil};e.track=function(){console.warn("G2 tracks nothing ;-)")},typeof window!="undefined"&&(window.G2?console.warn("There are multiple versions of G2. Version "+e.version+"'s reference is 'window.G2_3'"):window.G2=e),P.exports=e},function(P,S,i){"use strict";S.c=v,S.b=o,S.a=f;var t=i(451);function c(r,e){return function(n){return r+n*e}}function s(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(a){return Math.pow(r+a*e,n)}}function v(r,e){var n=e-r;return n?c(r,n>180||n<-180?n-360*Math.round(n/360):n):Object(t.a)(isNaN(r)?e:r)}function o(r){return(r=+r)==1?f:function(e,n){return n-e?s(e,n,r):Object(t.a)(isNaN(e)?n:e)}}function f(r,e){var n=e-r;return n?c(r,n):Object(t.a)(isNaN(r)?e:r)}},function(P,S,i){var t=i(6),c=i(11),s=i(107),v=5,o=7,f=[1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],r=[1,2,4,5,10],e=1e-12;P.exports=function(n){var a=n.min,u=n.max,l=n.interval,h=n.minTickInterval,p=[],d=n.minCount||v,g=n.maxCount||o,y=d===g,x=t(n.minLimit)?-Infinity:n.minLimit,A=t(n.maxLimit)?Infinity:n.maxLimit,m=(d+g)/2,M=m,b=n.snapArray?n.snapArray:y?f:r;if(a===x&&u===A&&y&&(l=(u-a)/(M-1)),t(a)&&(a=0),t(u)&&(u=0),Math.abs(u-a)<e&&(a===0?u=1:a>0?a=0:u=0,u-a<5&&!l&&u-a>=1&&(l=1)),t(l)){var E=(u-a)/(m-1);l=s.snapFactorTo(E,b,"ceil"),g!==d&&(M=parseInt((u-a)/l,10),M>g&&(M=g),M<d&&(M=d),l=s.snapFactorTo((u-a)/(M-1),b))}if(c(h)&&l<h&&(l=h),n.interval||g!==d){u=Math.min(s.snapMultiple(u,l,"ceil"),A),a=Math.max(s.snapMultiple(a,l,"floor"),x),M=Math.round((u-a)/l),a=s.fixedBase(a,l),u=s.fixedBase(u,l);for(var C=null;a>x&&x>-Infinity&&(C===null||a<C);)C=a,a=s.fixedBase(a-l,l)}else{m=parseInt(m,10);var T=(u+a)/2,O=s.snapMultiple(T,l,"ceil"),L=Math.floor((m-2)/2),R=O+L*l,W;m%2==0?W=O-L*l:W=O-(L+1)*l;for(var U=null;R<u&&(U===null||R>U);)U=R,R=s.fixedBase(R+l,l);for(var X=null;W>a&&(X===null||W<X);)X=W,W=s.fixedBase(W-l,l);u=R,a=W}u=Math.min(u,A),a=Math.max(a,x),p.push(a);for(var Z=1;Z<M;Z++){var J=s.fixedBase(l*Z+a,l);J<u&&p.push(J)}return p[p.length-1]<u&&p.push(u),{min:a,max:u,interval:l,count:M,ticks:p}}},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,o.__proto__=f}var c=i(20),s=i(11),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r._initDefaultCfg=function(){o.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},r.getText=function(){return this.value.toString()},r.scale=function(n){return this.value!==n&&s(n)?n:this.range[0]},r.invert=function(){return this.value},f}(c);c.Identity=v,P.exports=v},function(P,S,i){function t(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,u.__proto__=l}var c=i(110),s=i(3),v=i(6),o=i(12),f=i(20),r=i(38),e=i(211),n=i(100),a=function(u){t(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h._initDefaultCfg=function(){u.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},h.init=function(){var d=this,g=d.values;if(g&&g.length){var y=[],x=Infinity,A=x,m=0;s(g,function(M){var b=d._toTimeStamp(M);if(isNaN(b))throw new TypeError("Invalid Time: "+M);x>b?(A=x,x=b):A>b&&(A=b),m<b&&(m=b),y.push(b)}),g.length>1&&(d.minTickInterval=A-x),(v(d.min)||d._toTimeStamp(d.min)>x)&&(d.min=x),(v(d.max)||d._toTimeStamp(d.max)<m)&&(d.max=m)}u.prototype.init.call(this)},h.calculateTicks=function(){var d=this,g=d.min,y=d.max,x=d.tickCount,A=d.tickInterval,m=e({min:g,max:y,minCount:x,maxCount:x,interval:A,minInterval:d.minTickInterval});return m.ticks},h.getText=function(d){var g=this.formatter;return d=this.translate(d),d=g?g(d):c.format(d,this.mask),d},h.scale=function(d){return o(d)&&(d=this.translate(d)),u.prototype.scale.call(this,d)},h.translate=function(d){return this._toTimeStamp(d)},h._toTimeStamp=function(d){return n.toTimeStamp(d)},l}(r);f.Time=a,P.exports=a},function(P,S,i){var t=i(107),c=i(6),s=6,v=[1,2,4,6,8,12],o=60*1e3,f=3600*1e3,r=24*3600*1e3;function e(g){return new Date(g).getFullYear()}function n(g){return new Date(g,0,1).getTime()}function a(g){return new Date(g).getMonth()}function u(g,y){var x=e(g),A=e(y),m=a(g),M=a(y);return(A-x)*12+(M-m)%12}function l(g,y){return new Date(g,y,1).getTime()}function h(g,y){return Math.ceil((y-g)/r)}function p(g,y){return Math.ceil((y-g)/f)}function d(g,y){return Math.ceil((y-g)/(60*1e3))}P.exports=function(g){var y=g.minInterval,x=[],A=g.min,m=g.max,M=g.interval,b;if(m===A&&(m=A+r),c(M)){var E=m-A,C=r,T=365*C;M=parseInt(E/(g.maxCount||s),10),y&&y>M&&(M=y);var O=M/T,L=e(A);if(O>.51){for(var R=Math.ceil(O),W=e(m),U=L;U<=W+R;U=U+R)x.push(n(U));M=null}else if(O>.0834){for(var X=Math.ceil(O/.0834),Z=a(A),J=u(A,m),ht=0;ht<=J+X;ht=ht+X)x.push(l(L,ht+Z));M=null}else if(M>C*.5){var at=new Date(A),Q=at.getFullYear(),xt=at.getMonth(A),kt=at.getDate(),Nt=Math.ceil(M/C),nt=h(A,m);M=Nt*C;for(var q=0;q<nt+Nt;q=q+Nt)x.push(new Date(Q,xt,kt+q).getTime())}else if(M>f){var G=new Date(A),N=G.getFullYear(),it=G.getMonth(A),H=G.getDate(),ct=G.getHours(),ft=t.snapTo(v,Math.ceil(M/f)),K=p(A,m);M=ft*f;for(var $=0;$<=K+ft;$=$+ft)x.push(new Date(N,it,H,ct+$).getTime())}else if(M>o){var et=d(A,m),j=Math.ceil(M/o);M=j*o;for(var w=0;w<=et+j;w=w+j)x.push(A+w*o)}else{M<1e3&&(M=1e3),A=Math.floor(A/1e3)*1e3;var D=Math.ceil((m-A)/1e3),V=Math.ceil(M/1e3);M=V*1e3;for(var tt=0;tt<D+V;tt=tt+V)x.push(A+tt*1e3)}}if(!x.length){A=Math.floor(A/1e3)*1e3,m=Math.ceil(m/1e3)*1e3,b=(m-A)/M;for(var lt=0;lt<=b;lt++)x.push(t.fixedBase(M*lt+A,M))}return{max:m,min:A,interval:M,ticks:x,count:x.length}}},function(P,S,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var c=i(20),s=i(108),v=i(110),o=i(109),f=i(100),r=i(3),e=i(11),n=i(22),a=i(12),u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p._initDefaultCfg=function(){l.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},p.init=function(){var g=this,y=this.values;r(y,function(x,A){y[A]=g._toTimeStamp(x)}),this.sortable&&y.sort(function(x,A){return x-A}),g.ticks||(g.ticks=this.calculateTicks())},p.calculateTicks=function(){var g=this,y=g.tickCount,x;if(y){var A=o({maxCount:y,data:g.values,isRounding:g.isRounding});x=A.ticks}else x=g.values;return x},p.translate=function(g){g=this._toTimeStamp(g);var y=this.values.indexOf(g);return y===-1&&(e(g)&&g<this.values.length?y=g:y=NaN),y},p.scale=function(g){var y=this.rangeMin(),x=this.rangeMax(),A=this.translate(g),m;return this.values.length===1||isNaN(A)?m=A:A>-1?m=A/(this.values.length-1):m=0,y+m*(x-y)},p.getText=function(g){var y="",x=this.translate(g);x>-1?y=this.values[x]:y=g;var A=this.formatter;return y=parseInt(y,10),y=A?A(y):v.format(y,this.mask),y},p.getTicks=function(){var g=this,y=this.ticks,x=[];return r(y,function(A){var m;n(A)?m=A:m={text:a(A)?A:g.getText(A),value:g.scale(A),tickValue:A},x.push(m)}),x},p._toTimeStamp=function(g){return f.toTimeStamp(g)},h}(s);c.TimeCat=u,P.exports=u},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(3),s=i(20),v=i(38);function o(r,e){return r===1?1:Math.log(e)/Math.log(r)}var f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){r.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},n.calculateTicks=function(){var u=this,l=u.base,h;if(u.min<0)throw new Error("The minimum value must be greater than zero!");var p=o(l,u.max);if(u.min>0)h=Math.floor(o(l,u.min));else{var d=u.values,g=u.max;c(d,function(b){b>0&&b<g&&(g=b)}),g===u.max&&(g=u.max/l),g>1&&(g=1),h=Math.floor(o(l,g)),u._minTick=h,u.positiveMin=g}for(var y=p-h,x=u.tickCount,A=Math.ceil(y/x),m=[],M=h;M<p+A;M=M+A)m.push(Math.pow(l,M));return u.min===0&&m.unshift(0),m},n._getScalePercent=function(u){var l=this.max,h=this.min;if(l===h||u<=0)return 0;var p=this.base,d=this.positiveMin;d&&(h=d*1/p);var g;return u<d?g=u/d/(o(p,l)-o(p,h)):g=(o(p,u)-o(p,h))/(o(p,l)-o(p,h)),g},n.scale=function(u){var l=this._getScalePercent(u),h=this.rangeMin(),p=this.rangeMax();return h+l*(p-h)},n.invert=function(u){var l=this.base,h=o(l,this.max),p=this.rangeMin(),d=this.rangeMax()-p,g,y=this.positiveMin;if(y){if(u===0)return 0;g=o(l,y/l);var x=1/(h-g)*d;if(u<x)return u/x*y}else g=o(l,this.min);var A=(u-p)/d,m=A*(h-g)+g;return Math.pow(l,m)},e}(v);s.Log=f,P.exports=f},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(20),s=i(38);function v(f,r){var e=Math.E,n=Math.pow(e,Math.log(r)/f);return n}var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){f.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},e.calculateTicks=function(){var a=this,u=a.exponent,l,h=Math.ceil(v(u,a.max));if(a.min>=0?l=Math.floor(v(u,a.min)):l=0,l>h){var p=h;h=l,l=p}for(var d=h-l,g=a.tickCount,y=Math.ceil(d/g),x=[],A=l;A<h+y;A=A+y)x.push(Math.pow(A,u));return x},e._getScalePercent=function(a){var u=this.max,l=this.min;if(u===l)return 0;var h=this.exponent,p=(v(h,a)-v(h,l))/(v(h,u)-v(h,l));return p},e.scale=function(a){var u=this._getScalePercent(a),l=this.rangeMin(),h=this.rangeMax();return l+u*(h-l)},e.invert=function(a){var u=(a-this.rangeMin())/(this.rangeMax()-this.rangeMin()),l=this.exponent,h=v(l,this.max),p=v(l,this.min),d=u*(h-p)+p;return Math.pow(d,l)},r}(s);c.Pow=o,P.exports=o},function(P,S,i){var t=i(216),c=t.detect,s=i(1),v=i(221),o=i(115),f=i(228),r=i(253),e=c(),n=e&&e.name==="firefox",a=function u(l){u.superclass.constructor.call(this,l)};a.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas",supportCSSTransform:!1},s.extend(a,o),s.augment(a,v,{init:function(){a.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this.registerEvent(this)},_scale:function(){if(this._cfg.renderType!=="svg"){var l=this.get("pixelRatio");this.scale(l,l)}},_setGlobalParam:function(){var l=this.get("renderer")||"canvas";l==="svg"?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",s.getRatio()),this._cfg.renderType=l;var h=r[l];this._cfg.renderer=h,this._cfg.canvas=this;var p=new f(this);this._cfg.timeline=p},_setContainer:function(){var l=this.get("containerId"),h=this.get("containerDOM");h||(h=document.getElementById(l),this.set("containerDOM",h)),s.modifyCSS(h,{position:"relative"})},_initPainter:function(){var l=this.get("containerDOM"),h=new this._cfg.renderer.painter(l);this._cfg.painter=h,this._cfg.canvasDOM=this._cfg.el=h.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var l=this.get("canvasDOM"),h=this.get("widthCanvas"),p=this.get("heightCanvas"),d=this.get("widthStyle"),g=this.get("heightStyle");l.style.width=d,l.style.height=g,l.setAttribute("width",h),l.setAttribute("height",p)},getWidth:function(){var l=this.get("pixelRatio"),h=this.get("width");return h*l},getHeight:function(){var l=this.get("pixelRatio"),h=this.get("height");return h*l},changeSize:function(l,h){var p=this.get("pixelRatio"),d=l*p,g=h*p;this.set("widthCanvas",d),this.set("heightCanvas",g),this.set("widthStyle",l+"px"),this.set("heightStyle",h+"px"),this.set("width",l),this.set("height",h),this._resize()},getPointByEvent:function(l){var h=this.get("supportCSSTransform");if(h){var p=this.get("pixelRatio")||1;if(n&&!s.isNil(l.layerX)&&l.layerX!==l.offsetX)return{x:l.layerX*p,y:l.layerY*p};if(!s.isNil(l.offsetX))return{x:l.offsetX*p,y:l.offsetY*p}}var d=this.getClientByEvent(l),g=d.x,y=d.y;return this.getPointByClient(g,y)},getClientByEvent:function(l){var h=l;return l.touches&&(l.type==="touchend"?h=l.changedTouches[0]:h=l.touches[0]),{x:h.clientX,y:h.clientY}},getPointByClient:function(l,h){var p=this.get("el"),d=this.get("pixelRatio")||1,g=p.getBoundingClientRect();return{x:(l-g.left)*d,y:(h-g.top)*d}},getClientByPoint:function(l,h){var p=this.get("el"),d=p.getBoundingClientRect(),g=this.get("pixelRatio")||1;return{clientX:l/g+d.left,clientY:h/g+d.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(l,h,p){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,l,h,p):a.superclass.getShape.call(this,l,h)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var l=this._cfg,h=l.containerDOM,p=l.canvasDOM;p&&h&&h.removeChild(p),l.timeline.stop(),a.superclass.destroy.call(this)}}),P.exports=a},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(t){i.d(S,"BrowserInfo",function(){return s}),i.d(S,"NodeInfo",function(){return v}),i.d(S,"SearchBotDeviceInfo",function(){return o}),i.d(S,"BotInfo",function(){return f}),i.d(S,"ReactNativeInfo",function(){return r}),S.detect=h,S.browserName=d,S.parseUserAgent=g,S.detectOS=y,S.getNodeVersion=x;var c=this&&this.__spreadArray||function(m,M,b){if(b||arguments.length===2)for(var E=0,C=M.length,T;E<C;E++)(T||!(E in M))&&(T||(T=Array.prototype.slice.call(M,0,E)),T[E]=M[E]);return m.concat(T||Array.prototype.slice.call(M))},s=function(){function m(M,b,E){this.name=M,this.version=b,this.os=E,this.type="browser"}return m}(),v=function(){function m(M){this.version=M,this.type="node",this.name="node",this.os=t.platform}return m}(),o=function(){function m(M,b,E,C){this.name=M,this.version=b,this.os=E,this.bot=C,this.type="bot-device"}return m}(),f=function(){function m(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return m}(),r=function(){function m(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return m}(),e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,n=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=3,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(m){return m?g(m):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new r:typeof navigator!="undefined"?g(navigator.userAgent):x()}function p(m){return m!==""&&u.reduce(function(M,b){var E=b[0],C=b[1];if(M)return M;var T=C.exec(m);return!!T&&[E,T]},!1)}function d(m){var M=p(m);return M?M[0]:null}function g(m){var M=p(m);if(!M)return null;var b=M[0],E=M[1];if(b==="searchbot")return new f;var C=E[1]&&E[1].split(".").join("_").split("_").slice(0,3);C?C.length<a&&(C=c(c([],C,!0),A(a-C.length),!0)):C=[];var T=C.join("."),O=y(m),L=n.exec(m);return L&&L[1]?new o(b,T,O,L[1]):new s(b,T,O)}function y(m){for(var M=0,b=l.length;M<b;M++){var E=l[M],C=E[0],T=E[1],O=T.exec(m);if(O)return C}return null}function x(){var m=typeof t!="undefined"&&t.version;return m?new v(t.version.slice(1)):null}function A(m){for(var M=[],b=0;b<m;b++)M.push("0");return M}}.call(S,i(217))},function(P,S){var i=P.exports={},t,c;function s(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=s}catch(d){t=s}try{typeof clearTimeout=="function"?c=clearTimeout:c=v}catch(d){c=v}})();function o(d){if(t===setTimeout)return setTimeout(d,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(d,0);try{return t(d,0)}catch(g){try{return t.call(null,d,0)}catch(y){return t.call(this,d,0)}}}function f(d){if(c===clearTimeout)return clearTimeout(d);if((c===v||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(d);try{return c(d)}catch(g){try{return c.call(null,d)}catch(y){return c.call(this,d)}}}var r=[],e=!1,n,a=-1;function u(){!e||!n||(e=!1,n.length?r=n.concat(r):a=-1,r.length&&l())}function l(){if(!e){var d=o(u);e=!0;for(var g=r.length;g;){for(n=r,r=[];++a<g;)n&&n[a].run();a=-1,g=r.length}n=null,e=!1,f(d)}}i.nextTick=function(d){var g=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)g[y-1]=arguments[y];r.push(new h(d,g)),r.length===1&&!e&&o(l)};function h(d,g){this.fun=d,this.array=g}h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function p(){}i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(d){return[]},i.binding=function(d){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(d){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=v,S.fromMat4=o,S.clone=f,S.copy=r,S.fromValues=e,S.set=n,S.identity=a,S.transpose=u,S.invert=l,S.adjoint=h,S.determinant=p,S.multiply=d,S.translate=g,S.rotate=y,S.scale=x,S.fromTranslation=A,S.fromRotation=m,S.fromScaling=M,S.fromMat2d=b,S.fromQuat=E,S.normalFromMat4=C,S.projection=T,S.str=O,S.frob=L,S.add=R,S.subtract=W,S.multiplyScalar=U,S.multiplyScalarAndAdd=X,S.exactEquals=Z,S.equals=J;var t=i(74),c=s(t);function s(Q){if(Q&&Q.__esModule)return Q;var xt={};if(Q!=null)for(var kt in Q)Object.prototype.hasOwnProperty.call(Q,kt)&&(xt[kt]=Q[kt]);return xt.default=Q,xt}function v(){var Q=new c.ARRAY_TYPE(9);return c.ARRAY_TYPE!=Float32Array&&(Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0),Q[0]=1,Q[4]=1,Q[8]=1,Q}function o(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=xt[2],Q[3]=xt[4],Q[4]=xt[5],Q[5]=xt[6],Q[6]=xt[8],Q[7]=xt[9],Q[8]=xt[10],Q}function f(Q){var xt=new c.ARRAY_TYPE(9);return xt[0]=Q[0],xt[1]=Q[1],xt[2]=Q[2],xt[3]=Q[3],xt[4]=Q[4],xt[5]=Q[5],xt[6]=Q[6],xt[7]=Q[7],xt[8]=Q[8],xt}function r(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=xt[2],Q[3]=xt[3],Q[4]=xt[4],Q[5]=xt[5],Q[6]=xt[6],Q[7]=xt[7],Q[8]=xt[8],Q}function e(Q,xt,kt,Nt,nt,q,G,N,it){var H=new c.ARRAY_TYPE(9);return H[0]=Q,H[1]=xt,H[2]=kt,H[3]=Nt,H[4]=nt,H[5]=q,H[6]=G,H[7]=N,H[8]=it,H}function n(Q,xt,kt,Nt,nt,q,G,N,it,H){return Q[0]=xt,Q[1]=kt,Q[2]=Nt,Q[3]=nt,Q[4]=q,Q[5]=G,Q[6]=N,Q[7]=it,Q[8]=H,Q}function a(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function u(Q,xt){if(Q===xt){var kt=xt[1],Nt=xt[2],nt=xt[5];Q[1]=xt[3],Q[2]=xt[6],Q[3]=kt,Q[5]=xt[7],Q[6]=Nt,Q[7]=nt}else Q[0]=xt[0],Q[1]=xt[3],Q[2]=xt[6],Q[3]=xt[1],Q[4]=xt[4],Q[5]=xt[7],Q[6]=xt[2],Q[7]=xt[5],Q[8]=xt[8];return Q}function l(Q,xt){var kt=xt[0],Nt=xt[1],nt=xt[2],q=xt[3],G=xt[4],N=xt[5],it=xt[6],H=xt[7],ct=xt[8],ft=ct*G-N*H,K=-ct*q+N*it,$=H*q-G*it,et=kt*ft+Nt*K+nt*$;return et?(et=1/et,Q[0]=ft*et,Q[1]=(-ct*Nt+nt*H)*et,Q[2]=(N*Nt-nt*G)*et,Q[3]=K*et,Q[4]=(ct*kt-nt*it)*et,Q[5]=(-N*kt+nt*q)*et,Q[6]=$*et,Q[7]=(-H*kt+Nt*it)*et,Q[8]=(G*kt-Nt*q)*et,Q):null}function h(Q,xt){var kt=xt[0],Nt=xt[1],nt=xt[2],q=xt[3],G=xt[4],N=xt[5],it=xt[6],H=xt[7],ct=xt[8];return Q[0]=G*ct-N*H,Q[1]=nt*H-Nt*ct,Q[2]=Nt*N-nt*G,Q[3]=N*it-q*ct,Q[4]=kt*ct-nt*it,Q[5]=nt*q-kt*N,Q[6]=q*H-G*it,Q[7]=Nt*it-kt*H,Q[8]=kt*G-Nt*q,Q}function p(Q){var xt=Q[0],kt=Q[1],Nt=Q[2],nt=Q[3],q=Q[4],G=Q[5],N=Q[6],it=Q[7],H=Q[8];return xt*(H*q-G*it)+kt*(-H*nt+G*N)+Nt*(it*nt-q*N)}function d(Q,xt,kt){var Nt=xt[0],nt=xt[1],q=xt[2],G=xt[3],N=xt[4],it=xt[5],H=xt[6],ct=xt[7],ft=xt[8],K=kt[0],$=kt[1],et=kt[2],j=kt[3],w=kt[4],D=kt[5],V=kt[6],tt=kt[7],lt=kt[8];return Q[0]=K*Nt+$*G+et*H,Q[1]=K*nt+$*N+et*ct,Q[2]=K*q+$*it+et*ft,Q[3]=j*Nt+w*G+D*H,Q[4]=j*nt+w*N+D*ct,Q[5]=j*q+w*it+D*ft,Q[6]=V*Nt+tt*G+lt*H,Q[7]=V*nt+tt*N+lt*ct,Q[8]=V*q+tt*it+lt*ft,Q}function g(Q,xt,kt){var Nt=xt[0],nt=xt[1],q=xt[2],G=xt[3],N=xt[4],it=xt[5],H=xt[6],ct=xt[7],ft=xt[8],K=kt[0],$=kt[1];return Q[0]=Nt,Q[1]=nt,Q[2]=q,Q[3]=G,Q[4]=N,Q[5]=it,Q[6]=K*Nt+$*G+H,Q[7]=K*nt+$*N+ct,Q[8]=K*q+$*it+ft,Q}function y(Q,xt,kt){var Nt=xt[0],nt=xt[1],q=xt[2],G=xt[3],N=xt[4],it=xt[5],H=xt[6],ct=xt[7],ft=xt[8],K=Math.sin(kt),$=Math.cos(kt);return Q[0]=$*Nt+K*G,Q[1]=$*nt+K*N,Q[2]=$*q+K*it,Q[3]=$*G-K*Nt,Q[4]=$*N-K*nt,Q[5]=$*it-K*q,Q[6]=H,Q[7]=ct,Q[8]=ft,Q}function x(Q,xt,kt){var Nt=kt[0],nt=kt[1];return Q[0]=Nt*xt[0],Q[1]=Nt*xt[1],Q[2]=Nt*xt[2],Q[3]=nt*xt[3],Q[4]=nt*xt[4],Q[5]=nt*xt[5],Q[6]=xt[6],Q[7]=xt[7],Q[8]=xt[8],Q}function A(Q,xt){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=xt[0],Q[7]=xt[1],Q[8]=1,Q}function m(Q,xt){var kt=Math.sin(xt),Nt=Math.cos(xt);return Q[0]=Nt,Q[1]=kt,Q[2]=0,Q[3]=-kt,Q[4]=Nt,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function M(Q,xt){return Q[0]=xt[0],Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=xt[1],Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function b(Q,xt){return Q[0]=xt[0],Q[1]=xt[1],Q[2]=0,Q[3]=xt[2],Q[4]=xt[3],Q[5]=0,Q[6]=xt[4],Q[7]=xt[5],Q[8]=1,Q}function E(Q,xt){var kt=xt[0],Nt=xt[1],nt=xt[2],q=xt[3],G=kt+kt,N=Nt+Nt,it=nt+nt,H=kt*G,ct=Nt*G,ft=Nt*N,K=nt*G,$=nt*N,et=nt*it,j=q*G,w=q*N,D=q*it;return Q[0]=1-ft-et,Q[3]=ct-D,Q[6]=K+w,Q[1]=ct+D,Q[4]=1-H-et,Q[7]=$-j,Q[2]=K-w,Q[5]=$+j,Q[8]=1-H-ft,Q}function C(Q,xt){var kt=xt[0],Nt=xt[1],nt=xt[2],q=xt[3],G=xt[4],N=xt[5],it=xt[6],H=xt[7],ct=xt[8],ft=xt[9],K=xt[10],$=xt[11],et=xt[12],j=xt[13],w=xt[14],D=xt[15],V=kt*N-Nt*G,tt=kt*it-nt*G,lt=kt*H-q*G,St=Nt*it-nt*N,ot=Nt*H-q*N,Mt=nt*H-q*it,Ot=ct*j-ft*et,Ft=ct*w-K*et,zt=ct*D-$*et,$t=ft*w-K*j,he=ft*D-$*j,ye=K*D-$*w,tr=V*ye-tt*he+lt*$t+St*zt-ot*Ft+Mt*Ot;return tr?(tr=1/tr,Q[0]=(N*ye-it*he+H*$t)*tr,Q[1]=(it*zt-G*ye-H*Ft)*tr,Q[2]=(G*he-N*zt+H*Ot)*tr,Q[3]=(nt*he-Nt*ye-q*$t)*tr,Q[4]=(kt*ye-nt*zt+q*Ft)*tr,Q[5]=(Nt*zt-kt*he-q*Ot)*tr,Q[6]=(j*Mt-w*ot+D*St)*tr,Q[7]=(w*lt-et*Mt-D*tt)*tr,Q[8]=(et*ot-j*lt+D*V)*tr,Q):null}function T(Q,xt,kt){return Q[0]=2/xt,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=-2/kt,Q[5]=0,Q[6]=-1,Q[7]=1,Q[8]=1,Q}function O(Q){return"mat3("+Q[0]+", "+Q[1]+", "+Q[2]+", "+Q[3]+", "+Q[4]+", "+Q[5]+", "+Q[6]+", "+Q[7]+", "+Q[8]+")"}function L(Q){return Math.sqrt(Math.pow(Q[0],2)+Math.pow(Q[1],2)+Math.pow(Q[2],2)+Math.pow(Q[3],2)+Math.pow(Q[4],2)+Math.pow(Q[5],2)+Math.pow(Q[6],2)+Math.pow(Q[7],2)+Math.pow(Q[8],2))}function R(Q,xt,kt){return Q[0]=xt[0]+kt[0],Q[1]=xt[1]+kt[1],Q[2]=xt[2]+kt[2],Q[3]=xt[3]+kt[3],Q[4]=xt[4]+kt[4],Q[5]=xt[5]+kt[5],Q[6]=xt[6]+kt[6],Q[7]=xt[7]+kt[7],Q[8]=xt[8]+kt[8],Q}function W(Q,xt,kt){return Q[0]=xt[0]-kt[0],Q[1]=xt[1]-kt[1],Q[2]=xt[2]-kt[2],Q[3]=xt[3]-kt[3],Q[4]=xt[4]-kt[4],Q[5]=xt[5]-kt[5],Q[6]=xt[6]-kt[6],Q[7]=xt[7]-kt[7],Q[8]=xt[8]-kt[8],Q}function U(Q,xt,kt){return Q[0]=xt[0]*kt,Q[1]=xt[1]*kt,Q[2]=xt[2]*kt,Q[3]=xt[3]*kt,Q[4]=xt[4]*kt,Q[5]=xt[5]*kt,Q[6]=xt[6]*kt,Q[7]=xt[7]*kt,Q[8]=xt[8]*kt,Q}function X(Q,xt,kt,Nt){return Q[0]=xt[0]+kt[0]*Nt,Q[1]=xt[1]+kt[1]*Nt,Q[2]=xt[2]+kt[2]*Nt,Q[3]=xt[3]+kt[3]*Nt,Q[4]=xt[4]+kt[4]*Nt,Q[5]=xt[5]+kt[5]*Nt,Q[6]=xt[6]+kt[6]*Nt,Q[7]=xt[7]+kt[7]*Nt,Q[8]=xt[8]+kt[8]*Nt,Q}function Z(Q,xt){return Q[0]===xt[0]&&Q[1]===xt[1]&&Q[2]===xt[2]&&Q[3]===xt[3]&&Q[4]===xt[4]&&Q[5]===xt[5]&&Q[6]===xt[6]&&Q[7]===xt[7]&&Q[8]===xt[8]}function J(Q,xt){var kt=Q[0],Nt=Q[1],nt=Q[2],q=Q[3],G=Q[4],N=Q[5],it=Q[6],H=Q[7],ct=Q[8],ft=xt[0],K=xt[1],$=xt[2],et=xt[3],j=xt[4],w=xt[5],D=xt[6],V=xt[7],tt=xt[8];return Math.abs(kt-ft)<=c.EPSILON*Math.max(1,Math.abs(kt),Math.abs(ft))&&Math.abs(Nt-K)<=c.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(K))&&Math.abs(nt-$)<=c.EPSILON*Math.max(1,Math.abs(nt),Math.abs($))&&Math.abs(q-et)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(et))&&Math.abs(G-j)<=c.EPSILON*Math.max(1,Math.abs(G),Math.abs(j))&&Math.abs(N-w)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(w))&&Math.abs(it-D)<=c.EPSILON*Math.max(1,Math.abs(it),Math.abs(D))&&Math.abs(H-V)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(V))&&Math.abs(ct-tt)<=c.EPSILON*Math.max(1,Math.abs(ct),Math.abs(tt))}var ht=S.mul=d,at=S.sub=W},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=v,S.clone=o,S.fromValues=f,S.copy=r,S.set=e,S.add=n,S.subtract=a,S.multiply=u,S.divide=l,S.ceil=h,S.floor=p,S.min=d,S.max=g,S.round=y,S.scale=x,S.scaleAndAdd=A,S.distance=m,S.squaredDistance=M,S.length=b,S.squaredLength=E,S.negate=C,S.inverse=T,S.normalize=O,S.dot=L,S.cross=R,S.lerp=W,S.random=U,S.transformMat2=X,S.transformMat2d=Z,S.transformMat3=J,S.transformMat4=ht,S.rotate=at,S.angle=Q,S.str=xt,S.exactEquals=kt,S.equals=Nt;var t=i(74),c=s(t);function s(K){if(K&&K.__esModule)return K;var $={};if(K!=null)for(var et in K)Object.prototype.hasOwnProperty.call(K,et)&&($[et]=K[et]);return $.default=K,$}function v(){var K=new c.ARRAY_TYPE(2);return c.ARRAY_TYPE!=Float32Array&&(K[0]=0,K[1]=0),K}function o(K){var $=new c.ARRAY_TYPE(2);return $[0]=K[0],$[1]=K[1],$}function f(K,$){var et=new c.ARRAY_TYPE(2);return et[0]=K,et[1]=$,et}function r(K,$){return K[0]=$[0],K[1]=$[1],K}function e(K,$,et){return K[0]=$,K[1]=et,K}function n(K,$,et){return K[0]=$[0]+et[0],K[1]=$[1]+et[1],K}function a(K,$,et){return K[0]=$[0]-et[0],K[1]=$[1]-et[1],K}function u(K,$,et){return K[0]=$[0]*et[0],K[1]=$[1]*et[1],K}function l(K,$,et){return K[0]=$[0]/et[0],K[1]=$[1]/et[1],K}function h(K,$){return K[0]=Math.ceil($[0]),K[1]=Math.ceil($[1]),K}function p(K,$){return K[0]=Math.floor($[0]),K[1]=Math.floor($[1]),K}function d(K,$,et){return K[0]=Math.min($[0],et[0]),K[1]=Math.min($[1],et[1]),K}function g(K,$,et){return K[0]=Math.max($[0],et[0]),K[1]=Math.max($[1],et[1]),K}function y(K,$){return K[0]=Math.round($[0]),K[1]=Math.round($[1]),K}function x(K,$,et){return K[0]=$[0]*et,K[1]=$[1]*et,K}function A(K,$,et,j){return K[0]=$[0]+et[0]*j,K[1]=$[1]+et[1]*j,K}function m(K,$){var et=$[0]-K[0],j=$[1]-K[1];return Math.sqrt(et*et+j*j)}function M(K,$){var et=$[0]-K[0],j=$[1]-K[1];return et*et+j*j}function b(K){var $=K[0],et=K[1];return Math.sqrt($*$+et*et)}function E(K){var $=K[0],et=K[1];return $*$+et*et}function C(K,$){return K[0]=-$[0],K[1]=-$[1],K}function T(K,$){return K[0]=1/$[0],K[1]=1/$[1],K}function O(K,$){var et=$[0],j=$[1],w=et*et+j*j;return w>0&&(w=1/Math.sqrt(w),K[0]=$[0]*w,K[1]=$[1]*w),K}function L(K,$){return K[0]*$[0]+K[1]*$[1]}function R(K,$,et){var j=$[0]*et[1]-$[1]*et[0];return K[0]=K[1]=0,K[2]=j,K}function W(K,$,et,j){var w=$[0],D=$[1];return K[0]=w+j*(et[0]-w),K[1]=D+j*(et[1]-D),K}function U(K,$){$=$||1;var et=c.RANDOM()*2*Math.PI;return K[0]=Math.cos(et)*$,K[1]=Math.sin(et)*$,K}function X(K,$,et){var j=$[0],w=$[1];return K[0]=et[0]*j+et[2]*w,K[1]=et[1]*j+et[3]*w,K}function Z(K,$,et){var j=$[0],w=$[1];return K[0]=et[0]*j+et[2]*w+et[4],K[1]=et[1]*j+et[3]*w+et[5],K}function J(K,$,et){var j=$[0],w=$[1];return K[0]=et[0]*j+et[3]*w+et[6],K[1]=et[1]*j+et[4]*w+et[7],K}function ht(K,$,et){var j=$[0],w=$[1];return K[0]=et[0]*j+et[4]*w+et[12],K[1]=et[1]*j+et[5]*w+et[13],K}function at(K,$,et,j){var w=$[0]-et[0],D=$[1]-et[1],V=Math.sin(j),tt=Math.cos(j);return K[0]=w*tt-D*V+et[0],K[1]=w*V+D*tt+et[1],K}function Q(K,$){var et=K[0],j=K[1],w=$[0],D=$[1],V=et*et+j*j;V>0&&(V=1/Math.sqrt(V));var tt=w*w+D*D;tt>0&&(tt=1/Math.sqrt(tt));var lt=(et*w+j*D)*V*tt;return lt>1?0:lt<-1?Math.PI:Math.acos(lt)}function xt(K){return"vec2("+K[0]+", "+K[1]+")"}function kt(K,$){return K[0]===$[0]&&K[1]===$[1]}function Nt(K,$){var et=K[0],j=K[1],w=$[0],D=$[1];return Math.abs(et-w)<=c.EPSILON*Math.max(1,Math.abs(et),Math.abs(w))&&Math.abs(j-D)<=c.EPSILON*Math.max(1,Math.abs(j),Math.abs(D))}var nt=S.len=b,q=S.sub=a,G=S.mul=u,N=S.div=l,it=S.dist=m,H=S.sqrDist=M,ct=S.sqrLen=E,ft=S.forEach=function(){var K=v();return function($,et,j,w,D,V){var tt=void 0,lt=void 0;for(et||(et=2),j||(j=0),w?lt=Math.min(w*et+j,$.length):lt=$.length,tt=j;tt<lt;tt+=et)K[0]=$[tt],K[1]=$[tt+1],D(K,K,V),$[tt]=K[0],$[tt+1]=K[1];return $}}()},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=v,S.clone=o,S.length=f,S.fromValues=r,S.copy=e,S.set=n,S.add=a,S.subtract=u,S.multiply=l,S.divide=h,S.ceil=p,S.floor=d,S.min=g,S.max=y,S.round=x,S.scale=A,S.scaleAndAdd=m,S.distance=M,S.squaredDistance=b,S.squaredLength=E,S.negate=C,S.inverse=T,S.normalize=O,S.dot=L,S.cross=R,S.lerp=W,S.hermite=U,S.bezier=X,S.random=Z,S.transformMat4=J,S.transformMat3=ht,S.transformQuat=at,S.rotateX=Q,S.rotateY=xt,S.rotateZ=kt,S.angle=Nt,S.str=nt,S.exactEquals=q,S.equals=G;var t=i(74),c=s(t);function s(j){if(j&&j.__esModule)return j;var w={};if(j!=null)for(var D in j)Object.prototype.hasOwnProperty.call(j,D)&&(w[D]=j[D]);return w.default=j,w}function v(){var j=new c.ARRAY_TYPE(3);return c.ARRAY_TYPE!=Float32Array&&(j[0]=0,j[1]=0,j[2]=0),j}function o(j){var w=new c.ARRAY_TYPE(3);return w[0]=j[0],w[1]=j[1],w[2]=j[2],w}function f(j){var w=j[0],D=j[1],V=j[2];return Math.sqrt(w*w+D*D+V*V)}function r(j,w,D){var V=new c.ARRAY_TYPE(3);return V[0]=j,V[1]=w,V[2]=D,V}function e(j,w){return j[0]=w[0],j[1]=w[1],j[2]=w[2],j}function n(j,w,D,V){return j[0]=w,j[1]=D,j[2]=V,j}function a(j,w,D){return j[0]=w[0]+D[0],j[1]=w[1]+D[1],j[2]=w[2]+D[2],j}function u(j,w,D){return j[0]=w[0]-D[0],j[1]=w[1]-D[1],j[2]=w[2]-D[2],j}function l(j,w,D){return j[0]=w[0]*D[0],j[1]=w[1]*D[1],j[2]=w[2]*D[2],j}function h(j,w,D){return j[0]=w[0]/D[0],j[1]=w[1]/D[1],j[2]=w[2]/D[2],j}function p(j,w){return j[0]=Math.ceil(w[0]),j[1]=Math.ceil(w[1]),j[2]=Math.ceil(w[2]),j}function d(j,w){return j[0]=Math.floor(w[0]),j[1]=Math.floor(w[1]),j[2]=Math.floor(w[2]),j}function g(j,w,D){return j[0]=Math.min(w[0],D[0]),j[1]=Math.min(w[1],D[1]),j[2]=Math.min(w[2],D[2]),j}function y(j,w,D){return j[0]=Math.max(w[0],D[0]),j[1]=Math.max(w[1],D[1]),j[2]=Math.max(w[2],D[2]),j}function x(j,w){return j[0]=Math.round(w[0]),j[1]=Math.round(w[1]),j[2]=Math.round(w[2]),j}function A(j,w,D){return j[0]=w[0]*D,j[1]=w[1]*D,j[2]=w[2]*D,j}function m(j,w,D,V){return j[0]=w[0]+D[0]*V,j[1]=w[1]+D[1]*V,j[2]=w[2]+D[2]*V,j}function M(j,w){var D=w[0]-j[0],V=w[1]-j[1],tt=w[2]-j[2];return Math.sqrt(D*D+V*V+tt*tt)}function b(j,w){var D=w[0]-j[0],V=w[1]-j[1],tt=w[2]-j[2];return D*D+V*V+tt*tt}function E(j){var w=j[0],D=j[1],V=j[2];return w*w+D*D+V*V}function C(j,w){return j[0]=-w[0],j[1]=-w[1],j[2]=-w[2],j}function T(j,w){return j[0]=1/w[0],j[1]=1/w[1],j[2]=1/w[2],j}function O(j,w){var D=w[0],V=w[1],tt=w[2],lt=D*D+V*V+tt*tt;return lt>0&&(lt=1/Math.sqrt(lt),j[0]=w[0]*lt,j[1]=w[1]*lt,j[2]=w[2]*lt),j}function L(j,w){return j[0]*w[0]+j[1]*w[1]+j[2]*w[2]}function R(j,w,D){var V=w[0],tt=w[1],lt=w[2],St=D[0],ot=D[1],Mt=D[2];return j[0]=tt*Mt-lt*ot,j[1]=lt*St-V*Mt,j[2]=V*ot-tt*St,j}function W(j,w,D,V){var tt=w[0],lt=w[1],St=w[2];return j[0]=tt+V*(D[0]-tt),j[1]=lt+V*(D[1]-lt),j[2]=St+V*(D[2]-St),j}function U(j,w,D,V,tt,lt){var St=lt*lt,ot=St*(2*lt-3)+1,Mt=St*(lt-2)+lt,Ot=St*(lt-1),Ft=St*(3-2*lt);return j[0]=w[0]*ot+D[0]*Mt+V[0]*Ot+tt[0]*Ft,j[1]=w[1]*ot+D[1]*Mt+V[1]*Ot+tt[1]*Ft,j[2]=w[2]*ot+D[2]*Mt+V[2]*Ot+tt[2]*Ft,j}function X(j,w,D,V,tt,lt){var St=1-lt,ot=St*St,Mt=lt*lt,Ot=ot*St,Ft=3*lt*ot,zt=3*Mt*St,$t=Mt*lt;return j[0]=w[0]*Ot+D[0]*Ft+V[0]*zt+tt[0]*$t,j[1]=w[1]*Ot+D[1]*Ft+V[1]*zt+tt[1]*$t,j[2]=w[2]*Ot+D[2]*Ft+V[2]*zt+tt[2]*$t,j}function Z(j,w){w=w||1;var D=c.RANDOM()*2*Math.PI,V=c.RANDOM()*2-1,tt=Math.sqrt(1-V*V)*w;return j[0]=Math.cos(D)*tt,j[1]=Math.sin(D)*tt,j[2]=V*w,j}function J(j,w,D){var V=w[0],tt=w[1],lt=w[2],St=D[3]*V+D[7]*tt+D[11]*lt+D[15];return St=St||1,j[0]=(D[0]*V+D[4]*tt+D[8]*lt+D[12])/St,j[1]=(D[1]*V+D[5]*tt+D[9]*lt+D[13])/St,j[2]=(D[2]*V+D[6]*tt+D[10]*lt+D[14])/St,j}function ht(j,w,D){var V=w[0],tt=w[1],lt=w[2];return j[0]=V*D[0]+tt*D[3]+lt*D[6],j[1]=V*D[1]+tt*D[4]+lt*D[7],j[2]=V*D[2]+tt*D[5]+lt*D[8],j}function at(j,w,D){var V=D[0],tt=D[1],lt=D[2],St=D[3],ot=w[0],Mt=w[1],Ot=w[2],Ft=tt*Ot-lt*Mt,zt=lt*ot-V*Ot,$t=V*Mt-tt*ot,he=tt*$t-lt*zt,ye=lt*Ft-V*$t,tr=V*zt-tt*Ft,nr=St*2;return Ft*=nr,zt*=nr,$t*=nr,he*=2,ye*=2,tr*=2,j[0]=ot+Ft+he,j[1]=Mt+zt+ye,j[2]=Ot+$t+tr,j}function Q(j,w,D,V){var tt=[],lt=[];return tt[0]=w[0]-D[0],tt[1]=w[1]-D[1],tt[2]=w[2]-D[2],lt[0]=tt[0],lt[1]=tt[1]*Math.cos(V)-tt[2]*Math.sin(V),lt[2]=tt[1]*Math.sin(V)+tt[2]*Math.cos(V),j[0]=lt[0]+D[0],j[1]=lt[1]+D[1],j[2]=lt[2]+D[2],j}function xt(j,w,D,V){var tt=[],lt=[];return tt[0]=w[0]-D[0],tt[1]=w[1]-D[1],tt[2]=w[2]-D[2],lt[0]=tt[2]*Math.sin(V)+tt[0]*Math.cos(V),lt[1]=tt[1],lt[2]=tt[2]*Math.cos(V)-tt[0]*Math.sin(V),j[0]=lt[0]+D[0],j[1]=lt[1]+D[1],j[2]=lt[2]+D[2],j}function kt(j,w,D,V){var tt=[],lt=[];return tt[0]=w[0]-D[0],tt[1]=w[1]-D[1],tt[2]=w[2]-D[2],lt[0]=tt[0]*Math.cos(V)-tt[1]*Math.sin(V),lt[1]=tt[0]*Math.sin(V)+tt[1]*Math.cos(V),lt[2]=tt[2],j[0]=lt[0]+D[0],j[1]=lt[1]+D[1],j[2]=lt[2]+D[2],j}function Nt(j,w){var D=r(j[0],j[1],j[2]),V=r(w[0],w[1],w[2]);O(D,D),O(V,V);var tt=L(D,V);return tt>1?0:tt<-1?Math.PI:Math.acos(tt)}function nt(j){return"vec3("+j[0]+", "+j[1]+", "+j[2]+")"}function q(j,w){return j[0]===w[0]&&j[1]===w[1]&&j[2]===w[2]}function G(j,w){var D=j[0],V=j[1],tt=j[2],lt=w[0],St=w[1],ot=w[2];return Math.abs(D-lt)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(lt))&&Math.abs(V-St)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(St))&&Math.abs(tt-ot)<=c.EPSILON*Math.max(1,Math.abs(tt),Math.abs(ot))}var N=S.sub=u,it=S.mul=l,H=S.div=h,ct=S.dist=M,ft=S.sqrDist=b,K=S.len=f,$=S.sqrLen=E,et=S.forEach=function(){var j=v();return function(w,D,V,tt,lt,St){var ot=void 0,Mt=void 0;for(D||(D=3),V||(V=0),tt?Mt=Math.min(tt*D+V,w.length):Mt=w.length,ot=V;ot<Mt;ot+=D)j[0]=w[ot],j[1]=w[ot+1],j[2]=w[ot+2],lt(j,j,St),w[ot]=j[0],w[ot+1]=j[1],w[ot+2]=j[2];return w}}()},function(P,S,i){var t=i(1),c=i(78),s=["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave"],v=function(){var h=new Date;return h.getTime()},o=40,f=0,r=null,e=null,n={},a=null,u=0;P.exports={registerEvent:function(){var h=this,p=this.get("el");t.each(s,function(d){p.addEventListener(d,function(g){h._triggerEvent(d,g)},!1)}),p.addEventListener("touchstart",function(d){t.isEmpty(d.touches)||h._triggerEvent("touchstart",d.touches[0])},!1),p.addEventListener("touchmove",function(d){t.isEmpty(d.touches)||h._triggerEvent("touchmove",d.touches[0])},!1),p.addEventListener("touchend",function(d){t.isEmpty(d.changedTouches)||h._triggerEvent("touchend",d.changedTouches[0])},!1),p.addEventListener("contextmenu",function(d){h._triggerEvent("contextmenu",d),d.preventDefault()},!1)},_getEmitter:function(h,p){if(h)if(t.isEmpty(h._getEvents())){var d=h.get("parent");if(d&&!p.propagationStopped)return this._getEmitter(d,p)}else return h},_getEventObj:function(h,p,d,g){var y=new c(h,p,!0,!0);return y.x=d.x,y.y=d.y,y.clientX=p.clientX,y.clientY=p.clientY,y.currentTarget=g,y.target=g,y},_triggerEvent:function(h,p){var d=this,g=d.getPointByEvent(p),y=d.getShape(g.x,g.y,p),x=d.get("el");if(a&&d.getRenderer()==="svg"&&(y=d.getShape(g.x,g.y)),h==="mousemove"){if(r&&r!==y&&(d._emitEvent("mouseout",p,g,r),d._emitEvent("mouseleave",p,g,r),a&&d._emitEvent("dragleave",p,g,r),(!y||y.destroyed)&&(x.style.cursor="default")),a&&(d._emitEvent("drag",p,g,a),d._emitEvent("mousemove",p,g,y)),y){if(!a)if(e===y){var A=v(),m=A-u,M=n.x-p.clientX,b=n.y-p.clientY,E=M*M+b*b;m>120||E>o?(a=y,e=null,this._emitEvent("dragstart",p,g,y)):d._emitEvent("mousemove",p,g,y)}else d._emitEvent("mousemove",p,g,y);r!==y&&(d._emitEvent("mouseenter",p,g,y),d._emitEvent("mouseover",p,g,y),a&&d._emitEvent("dragenter",p,g,y))}else{var C=d._getEventObj("mousemove",p,g,d);d.emit("mousemove",C)}r=y}else if(this._emitEvent(h,p,g,y||this),!a&&h==="mousedown"&&p.button===f&&(e=y,n={x:p.clientX,y:p.clientY},u=v()),h==="mouseup"&&p.button===f){var T=n.x-p.clientX,O=n.y-p.clientY,L=T*T+O*O,R=v(),W=R-u;(L<o||W<200)&&(u=0,this._emitEvent("click",p,g,e||this)),a&&(a._cfg.capture=!0,this._emitEvent("dragend",p,g,a),a=null,this._emitEvent("drop",p,g,y||this)),e=null}y&&!y.get("destroyed")&&(x.style.cursor=y.attr("cursor")||"default")},_emitEvent:function(h,p,d,g){var y=this._getEventObj(h,p,d,g),x=this._getEmitter(g,p);return x&&!x.get("destroyed")&&x.emit(h,y),x}}},function(P,S,i){var t=i(1);P.exports={canFill:!1,canStroke:!1,initAttrs:function(s){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(t.assign(this.getDefaultAttrs(),s)),this},getDefaultAttrs:function(){return{}},attr:function(s,v){var o=this;if(arguments.length===0)return o._attrs;if(t.isObject(s)){for(var f in s)this._setAttr(f,s[f]);return o.clearBBox(),this._cfg.hasUpdate=!0,o}return arguments.length===2?(this._setAttr(s,v),o.clearBBox(),this._cfg.hasUpdate=!0,o):o._attrs[s]},_setAttr:function(s,v){var o=this,f=this._attrs;if(f[s]=v,s==="fill"||s==="stroke"){f[s+"Style"]=v;return}if(s==="opacity"){f.globalAlpha=v;return}if(s==="clip"&&v){o._setClip(v);return}if(s==="path"&&o._afterSetAttrPath){o._afterSetAttrPath(v);return}if(s==="transform"){o.transform(v);return}s==="rotate"&&o.rotateAtStart(v)},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(s){s._cfg.renderer=this._cfg.renderer,s._cfg.canvas=this._cfg.canvas,s._cfg.parent=this._cfg.parent,s.hasFill=function(){return!0}}}},function(P,S,i){var t=i(1);function c(o){return o[0]===1&&o[1]===0&&o[3]===0&&o[4]===1&&o[6]===0&&o[7]===0}function s(o){return o[1]===0&&o[3]===0&&o[6]===0&&o[7]===0}function v(o,f){c(f)||(s(f)?(o[0]*=f[0],o[4]*=f[4]):t.mat3.multiply(o,o,f))}P.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(f,r){var e=this._attrs.matrix;return t.mat3.translate(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotate:function(f){var r=this._attrs.matrix;return t.mat3.rotate(r,r,f),this.clearTotalMatrix(),this.attr("matrix",r),this},scale:function(f,r){var e=this._attrs.matrix;return t.mat3.scale(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotateAtStart:function(f){var r=this._attrs.x||this._cfg.attrs.x,e=this._attrs.y||this._cfg.attrs.y;return Math.abs(f)>Math.PI*2&&(f=f/180*Math.PI),this.transform([["t",-r,-e],["r",f],["t",r,e]])},move:function(f,r){var e=this.get("x")||0,n=this.get("y")||0;return this.translate(f-e,r-n),this.set("x",f),this.set("y",r),this},transform:function(f){var r=this,e=this._attrs.matrix;return t.each(f,function(n){switch(n[0]){case"t":r.translate(n[1],n[2]);break;case"s":r.scale(n[1],n[2]);break;case"r":r.rotate(n[1]);break;case"m":r.attr("matrix",t.mat3.multiply([],e,n[1])),r.clearTotalMatrix();break;default:break}}),r},setTransform:function(f){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(f)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(f){return this.attr("matrix",f),this.clearTotalMatrix(),this},apply:function(f,r){var e;return r?e=this._getMatrixByRoot(r):e=this.attr("matrix"),t.vec3.transformMat3(f,f,e),this},_getMatrixByRoot:function(f){var r=this;f=f||r;for(var e=r,n=[];e!==f;)n.unshift(e),e=e.get("parent");n.unshift(e);var a=[1,0,0,0,1,0,0,0,1];return t.each(n,function(u){t.mat3.multiply(a,u.attr("matrix"),a)}),a},getTotalMatrix:function(){var f=this._cfg.totalMatrix;if(!f){f=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;if(r){var e=r.getTotalMatrix();v(f,e)}v(f,this.attr("matrix")),this._cfg.totalMatrix=f}return f},clearTotalMatrix:function(){},invert:function(f){var r=this.getTotalMatrix();if(s(r))f[0]/=r[0],f[1]/=r[4];else{var e=t.mat3.invert([],r);e&&t.vec3.transformMat3(f,f,e)}return this},resetTransform:function(f){var r=this.attr("matrix");c(r)||f.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}},function(P,S,i){function t(){return t=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},t.apply(this,arguments)}var c=i(1),s={delay:"delay",repeat:"repeat",rotate:"rotate"};function v(r,e){var n={},a=e._attrs;for(var u in r.attrs)n[u]=a[u];return n}function o(r,e){var n={matrix:null,attrs:{}},a=e._attrs;for(var u in r)u==="transform"?n.matrix=c.transform(e.getMatrix(),r[u]):u==="matrix"?n.matrix=r[u]:c.isColorProp(u)&&c.isGradientColor(r[u])?n.attrs[u]=r[u]:!s[u]&&a[u]!==r[u]&&(u==="rotate"&&(e._attrs.rotate=e._attrs.rotate||0),n.attrs[u]=r[u]);return n}function f(r,e){if(e.onFrame)return r;var n=e.delay,a=Object.prototype.hasOwnProperty;return c.each(e.toAttrs,function(u,l){c.each(r,function(h){n<h.startTime+h.duration&&a.call(h.toAttrs,l)&&(delete h.toAttrs[l],delete h.fromAttrs[l])})}),e.toMatrix&&c.each(r,function(u){n<u.startTime+u.duration&&u.toMatrix&&delete u.toMatrix}),r}P.exports={animate:function(e,n,a,u,l){l===void 0&&(l=0);var h=this;h.set("animating",!0);var p=h.get("timeline");p||(p=h.get("canvas").get("timeline"),h.setSilent("timeline",p));var d=h.get("animators")||[];p._timer||p.initTimer(),c.isNumber(u)&&(l=u,u=null),c.isFunction(a)?(u=a,a="easeLinear"):a=a||"easeLinear";var g={repeat:e.repeat,duration:n,easing:a,callback:u,delay:l,startTime:p.getTime(),id:c.uniqueId()};if(e.onFrame)g.onFrame=e.onFrame;else{var y=o(e,h);g=t({fromAttrs:v(y,h),toAttrs:y.attrs,fromMatrix:c.clone(h.getMatrix()),toMatrix:y.matrix},g)}d.length>0?d=f(d,g):p.addAnimator(h),d.push(g),h.setSilent("animators",d),h.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,n=this.get("animators");c.each(n,function(a){e.attr(a.toAttrs||a.onFrame(1)),a.toMatrix&&e.attr("matrix",a.toMatrix),a.callback&&a.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function(){var e=this,n=e.get("timeline"),a=n.getTime(),u=e.get("animators"),l=e.get("pause").pauseTime;return c.each(u,function(h){h.startTime=h.startTime+(a-l),h._paused=!1,h._pauseTime=null}),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",u),e}}},function(P,S,i){var t=i(1),c=i(78),s=i(117),v=["click","mousedown","mouseup","dblclick","contextmenu","mouseout","mouseover","mousemove","dragstart","drag","dragend","dragenter","dragleave","drop"],o=function(){};t.augment(o,s,{emit:function(r,e){var n=arguments;if(s.prototype.emit.apply(this,n),!(n.length>=2&&n[1]instanceof c&&n[1].propagationStopped)&&v.indexOf(r)>=0&&e.target===this)for(var a=this._cfg.parent;a&&!a.get("destroyed");)a.emit.apply(a,n),a=a._cfg.parent}}),P.exports=o},function(P,S,i){var t=i(7);t.Arc=i(120),t.Circle=i(121),t.Dom=i(122),t.Ellipse=i(123),t.Fan=i(124),t.Image=i(125),t.Line=i(126),t.Marker=i(81),t.Path=i(127),t.Polygon=i(128),t.Polyline=i(129),t.Rect=i(130),t.Text=i(131),P.exports=t},function(P,S,i){var t=i(1),c=i(79),s={arc:i(44),ellipse:i(119),line:i(43)},v=t.createDom('<canvas width="1" height="1"></canvas>'),o=v.getContext("2d");function f(M,b,E){return E.createPath(o),o.isPointInPath(M,b)}var r=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.r,R=C.startAngle,W=C.endAngle,U=C.clockwise,X=this.getHitLineWidth();return this.hasStroke()?c.arcline(T,O,L,R,W,U,X,b,E):!1},e=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.r,R=this.getHitLineWidth(),W=this.hasFill(),U=this.hasStroke();return W&&U?c.circle(T,O,L,b,E)||c.arcline(T,O,L,0,Math.PI*2,!1,R,b,E):W?c.circle(T,O,L,b,E):U?c.arcline(T,O,L,0,Math.PI*2,!1,R,b,E):!1},n=function(b,E){var C=this._attrs,T=this.hasFill(),O=this.hasStroke(),L=C.x,R=C.y,W=C.rx,U=C.ry,X=this.getHitLineWidth(),Z=W>U?W:U,J=W>U?1:W/U,ht=W>U?U/W:1,at=[b,E,1],Q=[1,0,0,0,1,0,0,0,1];t.mat3.scale(Q,Q,[J,ht]),t.mat3.translate(Q,Q,[L,R]);var xt=t.mat3.invert([],Q);return t.vec3.transformMat3(at,at,xt),T&&O?c.circle(0,0,Z,at[0],at[1])||c.arcline(0,0,Z,0,Math.PI*2,!1,X,at[0],at[1]):T?c.circle(0,0,Z,at[0],at[1]):O?c.arcline(0,0,Z,0,Math.PI*2,!1,X,at[0],at[1]):!1},a=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke(),L=C._attrs,R=L.x,W=L.y,U=L.rs,X=L.re,Z=L.startAngle,J=L.endAngle,ht=L.clockwise,at=[1,0],Q=[b-R,E-W],xt=t.vec2.angleTo(at,Q);function kt(){var nt=s.arc.nearAngle(xt,Z,J,ht);if(t.isNumberEqual(xt,nt)){var q=t.vec2.squaredLength(Q);if(U*U<=q&&q<=X*X)return!0}return!1}function Nt(){var nt=C.getHitLineWidth(),q={x:Math.cos(Z)*U+R,y:Math.sin(Z)*U+W},G={x:Math.cos(Z)*X+R,y:Math.sin(Z)*X+W},N={x:Math.cos(J)*U+R,y:Math.sin(J)*U+W},it={x:Math.cos(J)*X+R,y:Math.sin(J)*X+W};return!!(c.line(q.x,q.y,G.x,G.y,nt,b,E)||c.line(N.x,N.y,it.x,it.y,nt,b,E)||c.arcline(R,W,U,Z,J,ht,nt,b,E)||c.arcline(R,W,X,Z,J,ht,nt,b,E))}return T&&O?kt()||Nt():T?kt():O?Nt():!1},u=function(b,E){var C=this._attrs;if(this.get("toDraw")||!C.img)return!1;(!this._cfg.attrs||this._cfg.attrs.img!==C.img)&&this._setAttrImg();var T=C.x,O=C.y,L=C.width,R=C.height;return c.rect(T,O,L,R,b,E)},l=function(b,E){var C=this._attrs,T=C.x1,O=C.y1,L=C.x2,R=C.y2,W=this.getHitLineWidth();return this.hasStroke()?c.line(T,O,L,R,W,b,E):!1},h=function(b,E){var C=this,T=C.get("segments"),O=C.hasFill(),L=C.hasStroke();function R(){if(!t.isEmpty(T)){for(var W=C.getHitLineWidth(),U=0,X=T.length;U<X;U++)if(T[U].isInside(b,E,W))return!0;return!1}}return O&&L?f(b,E,C)||R():O?f(b,E,C):L?R():!1},p=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke();function L(){var R=C._attrs,W=R.points;if(W.length<2)return!1;var U=C.getHitLineWidth(),X=W.slice(0);return W.length>=3&&X.push(W[0]),c.polyline(X,U,b,E)}return T&&O?f(b,E,C)||L():T?f(b,E,C):O?L():!1},d=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.radius||C.r,R=this.getHitLineWidth();return c.circle(T,O,L+R/2,b,E)},g=function(b,E){var C=this,T=C._attrs;if(C.hasStroke()){var O=T.points;if(O.length<2)return!1;var L=T.lineWidth;return c.polyline(O,L,b,E)}return!1},y=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke();function L(){var R=C._attrs,W=R.x,U=R.y,X=R.width,Z=R.height,J=R.radius,ht=C.getHitLineWidth();if(J===0){var at=ht/2;return c.line(W-at,U,W+X+at,U,ht,b,E)||c.line(W+X,U-at,W+X,U+Z+at,ht,b,E)||c.line(W+X+at,U+Z,W-at,U+Z,ht,b,E)||c.line(W,U+Z+at,W,U-at,ht,b,E)}return c.line(W+J,U,W+X-J,U,ht,b,E)||c.line(W+X,U+J,W+X,U+Z-J,ht,b,E)||c.line(W+X-J,U+Z,W+J,U+Z,ht,b,E)||c.line(W,U+Z-J,W,U+J,ht,b,E)||c.arcline(W+X-J,U+J,J,1.5*Math.PI,2*Math.PI,!1,ht,b,E)||c.arcline(W+X-J,U+Z-J,J,0,.5*Math.PI,!1,ht,b,E)||c.arcline(W+J,U+Z-J,J,.5*Math.PI,Math.PI,!1,ht,b,E)||c.arcline(W+J,U+J,J,Math.PI,1.5*Math.PI,!1,ht,b,E)}return T&&O?f(b,E,C)||L():T?f(b,E,C):O?L():!1},x=function(b,E){var C=this,T=C.getBBox();if(C.hasFill()||C.hasStroke())return c.box(T.minX,T.maxX,T.minY,T.maxY,b,E)},A=function(b,E){if(!this._cfg.el)return!1;var C=this._cfg.el.getBBox();return c.box(C.x,C.x+C.width,C.y,C.y+C.height,b,E)},m={arc:r,circle:e,dom:A,ellipse:n,fan:a,image:u,line:l,path:h,marker:d,polygon:p,polyline:g,rect:y,text:x};P.exports={isPointInPath:function(b,E){var C=m[this.type];return C?C.call(this,b,E):!1}}},function(P,S,i){var t=i(1),c=i(82),s=i(101),v=i(103),o=i(133),f=o.interpolate,r=o.interpolateArray,e=function(l){this._animators=[],this._current=0,this._timer=null,this.canvas=l};function n(u,l,h){var p={},d=l.toAttrs,g=l.fromAttrs,y=l.toMatrix;if(!u.get("destroyed")){var x;for(var A in d)if(!t.isEqual(g[A],d[A]))if(A==="path"){var m=d[A],M=g[A];m.length>M.length?(m=c.parsePathString(d[A]),M=c.parsePathString(g[A]),M=c.fillPathByDiff(M,m),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m):l.pathFormatted||(m=c.parsePathString(d[A]),M=c.parsePathString(g[A]),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m,l.pathFormatted=!0),p[A]=[];for(var b=0;b<m.length;b++){for(var E=m[b],C=M[b],T=[],O=0;O<E.length;O++)t.isNumber(E[O])&&C&&t.isNumber(C[O])?(x=f(C[O],E[O]),T.push(x(h))):T.push(E[O]);p[A].push(T)}}else t.isColorProp(A)&&t.isGradientColor(d[A])?p[A]=d[A]:(x=f(g[A],d[A]),p[A]=x(h));if(y){var L=r(l.fromMatrix,y),R=L(h);u.setMatrix(R)}u.attr(p)}}function a(u,l,h){var p=l.startTime;if(h<p+l.delay||l.isPaused)return!1;var d,g=l.duration,y=l.easing;if(h=h-p-l.delay,l.repeat)d=h%g/g,d=v[y](d);else if(d=h/g,d<1)d=v[y](d);else{var x=l.toAttrs||l.onFrame(1);return u.attr(x),l.toMatrix&&u.setMatrix(l.toMatrix),!0}if(l.onFrame){var A=l.onFrame(d);u.attr(A)}else n(u,l,d);return!1}t.augment(e,{initTimer:function(){var l=this,h=this,p=!1,d,g,y;h._timer=s.timer(function(x){if(h._current=x,l._animators.length>0){for(var A=l._animators.length-1;A>=0;A--){if(d=l._animators[A],d.get("destroyed")){h.removeAnimator(A);continue}if(!d.get("pause").isPaused){g=d.get("animators");for(var m=g.length-1;m>=0;m--)y=g[m],p=a(d,y,x),p&&(g.splice(m,1),p=!1,y.callback&&y.callback())}g.length===0&&h.removeAnimator(A)}l.canvas.draw()}})},addAnimator:function(l){this._animators.push(l)},removeAnimator:function(l){this._animators.splice(l,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(l){l.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),P.exports=e},function(P,S,i){"use strict";var t=i(83);S.a=function(c,s,v){var o=new t.a;return s=s==null?0:+s,o.restart(function(f){o.stop(),c(f+s)},s,v),o}},function(P,S,i){"use strict";var t=i(83);S.a=function(c,s,v){var o=new t.a,f=s;return s==null?(o.restart(c,s,v),o):(s=+s,v=v==null?Object(t.b)():+v,o.restart(function r(e){e+=f,o.restart(r,f+=s,v),c(e)},s,v),o)}},function(P,S,i){"use strict";S.a=t;function t(c){return+c}},function(P,S,i){"use strict";S.a=t,S.c=c,S.b=s;function t(v){return v*v}function c(v){return v*(2-v)}function s(v){return((v*=2)<=1?v*v:--v*(2-v)+1)/2}},function(P,S,i){"use strict";S.a=t,S.c=c,S.b=s;function t(v){return v*v*v}function c(v){return--v*v*v+1}function s(v){return((v*=2)<=1?v*v*v:(v-=2)*v*v+2)/2}},function(P,S,i){"use strict";i.d(S,"a",function(){return c}),i.d(S,"c",function(){return s}),i.d(S,"b",function(){return v});var t=3,c=function o(f){f=+f;function r(e){return Math.pow(e,f)}return r.exponent=o,r}(t),s=function o(f){f=+f;function r(e){return 1-Math.pow(1-e,f)}return r.exponent=o,r}(t),v=function o(f){f=+f;function r(e){return((e*=2)<=1?Math.pow(e,f):2-Math.pow(2-e,f))/2}return r.exponent=o,r}(t)},function(P,S,i){"use strict";S.a=s,S.c=v,S.b=o;var t=Math.PI,c=t/2;function s(f){return+f==1?1:1-Math.cos(f*c)}function v(f){return Math.sin(f*c)}function o(f){return(1-Math.cos(t*f))/2}},function(P,S,i){"use strict";S.a=c,S.c=s,S.b=v;var t=i(132);function c(o){return Object(t.a)(1-+o)}function s(o){return 1-Object(t.a)(o)}function v(o){return((o*=2)<=1?Object(t.a)(1-o):2-Object(t.a)(o-1))/2}},function(P,S,i){"use strict";S.a=t,S.c=c,S.b=s;function t(v){return 1-Math.sqrt(1-v*v)}function c(v){return Math.sqrt(1- --v*v)}function s(v){return((v*=2)<=1?1-Math.sqrt(1-v*v):Math.sqrt(1-(v-=2)*v)+1)/2}},function(P,S,i){"use strict";S.a=u,S.c=l,S.b=h;var t=4/11,c=6/11,s=8/11,v=3/4,o=9/11,f=10/11,r=15/16,e=21/22,n=63/64,a=1/t/t;function u(p){return 1-l(1-p)}function l(p){return(p=+p)<t?a*p*p:p<s?a*(p-=c)*p+v:p<f?a*(p-=o)*p+r:a*(p-=e)*p+n}function h(p){return((p*=2)<=1?1-l(1-p):l(p-1)+1)/2}},function(P,S,i){"use strict";i.d(S,"a",function(){return c}),i.d(S,"c",function(){return s}),i.d(S,"b",function(){return v});var t=1.70158,c=function o(f){f=+f;function r(e){return(e=+e)*e*(f*(e-1)+e)}return r.overshoot=o,r}(t),s=function o(f){f=+f;function r(e){return--e*e*((e+1)*f+e)+1}return r.overshoot=o,r}(t),v=function o(f){f=+f;function r(e){return((e*=2)<1?e*e*((f+1)*e-f):(e-=2)*e*((f+1)*e+f)+2)/2}return r.overshoot=o,r}(t)},function(P,S,i){"use strict";i.d(S,"a",function(){return o}),i.d(S,"c",function(){return f}),i.d(S,"b",function(){return r});var t=i(132),c=2*Math.PI,s=1,v=.3,o=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return n*Object(t.a)(- --h)*Math.sin((u-h)/a)}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v),f=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return 1-n*Object(t.a)(h=+h)*Math.sin((h+u)/a)}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v),r=function e(n,a){var u=Math.asin(1/(n=Math.max(1,n)))*(a/=c);function l(h){return((h=h*2-1)<0?n*Object(t.a)(-h)*Math.sin((u-h)/a):2-n*Object(t.a)(h)*Math.sin((u+h)/a))/2}return l.amplitude=function(h){return e(h,a*c)},l.period=function(h){return e(n,h)},l}(s,v)},function(P,S,i){"use strict";S.a=p,S.b=b;var t=i(86),c=i(85),s=i(134),v=18,o=.96422,f=1,r=.82521,e=4/29,n=6/29,a=3*n*n,u=n*n*n;function l(T){if(T instanceof d)return new d(T.l,T.a,T.b,T.opacity);if(T instanceof E)return C(T);T instanceof c.b||(T=Object(c.h)(T));var O=A(T.r),L=A(T.g),R=A(T.b),W=g((.2225045*O+.7168786*L+.0606169*R)/f),U,X;return O===L&&L===R?U=X=W:(U=g((.4360747*O+.3850649*L+.1430804*R)/o),X=g((.0139322*O+.0971045*L+.7141733*R)/r)),new d(116*W-16,500*(U-W),200*(W-X),T.opacity)}function h(T,O){return new d(T,0,0,O==null?1:O)}function p(T,O,L,R){return arguments.length===1?l(T):new d(T,O,L,R==null?1:R)}function d(T,O,L,R){this.l=+T,this.a=+O,this.b=+L,this.opacity=+R}Object(t.a)(d,p,Object(t.b)(c.a,{brighter:function(T){return new d(this.l+v*(T==null?1:T),this.a,this.b,this.opacity)},darker:function(T){return new d(this.l-v*(T==null?1:T),this.a,this.b,this.opacity)},rgb:function(){var T=(this.l+16)/116,O=isNaN(this.a)?T:T+this.a/500,L=isNaN(this.b)?T:T-this.b/200;return O=o*y(O),T=f*y(T),L=r*y(L),new c.b(x(3.1338561*O-1.6168667*T-.4906146*L),x(-.9787684*O+1.9161415*T+.033454*L),x(.0719453*O-.2289914*T+1.4052427*L),this.opacity)}}));function g(T){return T>u?Math.pow(T,1/3):T/a+e}function y(T){return T>n?T*T*T:a*(T-e)}function x(T){return 255*(T<=.0031308?12.92*T:1.055*Math.pow(T,1/2.4)-.055)}function A(T){return(T/=255)<=.04045?T/12.92:Math.pow((T+.055)/1.055,2.4)}function m(T){if(T instanceof E)return new E(T.h,T.c,T.l,T.opacity);if(T instanceof d||(T=l(T)),T.a===0&&T.b===0)return new E(NaN,0<T.l&&T.l<100?0:NaN,T.l,T.opacity);var O=Math.atan2(T.b,T.a)*s.b;return new E(O<0?O+360:O,Math.sqrt(T.a*T.a+T.b*T.b),T.l,T.opacity)}function M(T,O,L,R){return arguments.length===1?m(T):new E(L,O,T,R==null?1:R)}function b(T,O,L,R){return arguments.length===1?m(T):new E(T,O,L,R==null?1:R)}function E(T,O,L,R){this.h=+T,this.c=+O,this.l=+L,this.opacity=+R}function C(T){if(isNaN(T.h))return new d(T.l,0,0,T.opacity);var O=T.h*s.a;return new d(T.l,Math.cos(O)*T.c,Math.sin(O)*T.c,T.opacity)}Object(t.a)(E,b,Object(t.b)(c.a,{brighter:function(T){return new E(this.h,this.c,this.l+v*(T==null?1:T),this.opacity)},darker:function(T){return new E(this.h,this.c,this.l-v*(T==null?1:T),this.opacity)},rgb:function(){return C(this).rgb()}}))},function(P,S,i){"use strict";S.a=h;var t=i(86),c=i(85),s=i(134),v=-.14861,o=1.78277,f=-.29227,r=-.90649,e=1.97294,n=e*r,a=e*o,u=o*f-r*v;function l(d){if(d instanceof p)return new p(d.h,d.s,d.l,d.opacity);d instanceof c.b||(d=Object(c.h)(d));var g=d.r/255,y=d.g/255,x=d.b/255,A=(u*x+n*g-a*y)/(u+n-a),m=x-A,M=(e*(y-A)-f*m)/r,b=Math.sqrt(M*M+m*m)/(e*A*(1-A)),E=b?Math.atan2(M,m)*s.b-120:NaN;return new p(E<0?E+360:E,b,A,d.opacity)}function h(d,g,y,x){return arguments.length===1?l(d):new p(d,g,y,x==null?1:x)}function p(d,g,y,x){this.h=+d,this.s=+g,this.l=+y,this.opacity=+x}Object(t.a)(p,h,Object(t.b)(c.a,{brighter:function(d){return d=d==null?c.c:Math.pow(c.c,d),new p(this.h,this.s,this.l*d,this.opacity)},darker:function(d){return d=d==null?c.d:Math.pow(c.d,d),new p(this.h,this.s,this.l*d,this.opacity)},rgb:function(){var d=isNaN(this.h)?0:(this.h+120)*s.a,g=+this.l,y=isNaN(this.s)?0:this.s*g*(1-g),x=Math.cos(d),A=Math.sin(d);return new c.b(255*(g+y*(v*x+o*A)),255*(g+y*(f*x+r*A)),255*(g+y*(e*x)),this.opacity)}}))},function(P,S,i){"use strict";S.a=function(t,c){return t=+t,c-=t,function(s){return Math.round(t+c*s)}}},function(P,S,i){"use strict";i.d(S,"a",function(){return v}),i.d(S,"b",function(){return o});var t=i(47),c=i(245);function s(f,r,e,n){function a(d){return d.length?d.pop()+" ":""}function u(d,g,y,x,A,m){if(d!==y||g!==x){var M=A.push("translate(",null,r,null,e);m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,x)})}else(y||x)&&A.push("translate("+y+r+x+e)}function l(d,g,y,x){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),x.push({i:y.push(a(y)+"rotate(",null,n)-2,x:Object(t.a)(d,g)})):g&&y.push(a(y)+"rotate("+g+n)}function h(d,g,y,x){d!==g?x.push({i:y.push(a(y)+"skewX(",null,n)-2,x:Object(t.a)(d,g)}):g&&y.push(a(y)+"skewX("+g+n)}function p(d,g,y,x,A,m){if(d!==y||g!==x){var M=A.push(a(A)+"scale(",null,",",null,")");m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,x)})}else(y!==1||x!==1)&&A.push(a(A)+"scale("+y+","+x+")")}return function(d,g){var y=[],x=[];return d=f(d),g=f(g),u(d.translateX,d.translateY,g.translateX,g.translateY,y,x),l(d.rotate,g.rotate,y,x),h(d.skewX,g.skewX,y,x),p(d.scaleX,d.scaleY,g.scaleX,g.scaleY,y,x),d=g=null,function(A){for(var m=-1,M=x.length,b;++m<M;)y[(b=x[m]).i]=b.x(A);return y.join("")}}}var v=s(c.a,"px, ","px)","deg)"),o=s(c.b,", ",")",")")},function(P,S,i){"use strict";S.a=f,S.b=r;var t=i(246),c,s,v,o;function f(e){return e==="none"?t.b:(c||(c=document.createElement("DIV"),s=document.documentElement,v=document.defaultView),c.style.transform=e,e=v.getComputedStyle(s.appendChild(c),null).getPropertyValue("transform"),s.removeChild(c),e=e.slice(7,-1).split(","),Object(t.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function r(e){return e==null||(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),!(e=o.transform.baseVal.consolidate()))?t.b:(e=e.matrix,Object(t.a)(e.a,e.b,e.c,e.d,e.e,e.f))}},function(P,S,i){"use strict";i.d(S,"b",function(){return c});var t=180/Math.PI,c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};S.a=function(s,v,o,f,r,e){var n,a,u;return(n=Math.sqrt(s*s+v*v))&&(s/=n,v/=n),(u=s*o+v*f)&&(o-=s*u,f-=v*u),(a=Math.sqrt(o*o+f*f))&&(o/=a,f/=a,u/=a),s*f<v*o&&(s=-s,v=-v,u=-u,n=-n),{translateX:r,translateY:e,rotate:Math.atan2(v,s)*t,skewX:Math.atan(u)*t,scaleX:n,scaleY:a}}},function(P,S,i){"use strict";var t=Math.SQRT2,c=2,s=4,v=1e-12;function o(e){return((e=Math.exp(e))+1/e)/2}function f(e){return((e=Math.exp(e))-1/e)/2}function r(e){return((e=Math.exp(2*e))-1)/(e+1)}S.a=function(e,n){var a=e[0],u=e[1],l=e[2],h=n[0],p=n[1],d=n[2],g=h-a,y=p-u,x=g*g+y*y,A,m;if(x<v)m=Math.log(d/l)/t,A=function(O){return[a+O*g,u+O*y,l*Math.exp(t*O*m)]};else{var M=Math.sqrt(x),b=(d*d-l*l+s*x)/(2*l*c*M),E=(d*d-l*l-s*x)/(2*d*c*M),C=Math.log(Math.sqrt(b*b+1)-b),T=Math.log(Math.sqrt(E*E+1)-E);m=(T-C)/t,A=function(O){var L=O*m,R=o(C),W=l/(c*M)*(R*r(t*L+C)-f(C));return[a+W*g,u+W*y,l*R/o(t*L+C)]}}return A.duration=m*1e3,A}},function(P,S,i){"use strict";i.d(S,"b",function(){return v});var t=i(19),c=i(32);function s(o){return function(f,r){var e=o((f=Object(t.d)(f)).h,(r=Object(t.d)(r)).h),n=Object(c.a)(f.s,r.s),a=Object(c.a)(f.l,r.l),u=Object(c.a)(f.opacity,r.opacity);return function(l){return f.h=e(l),f.s=n(l),f.l=a(l),f.opacity=u(l),f+""}}}S.a=s(c.c);var v=s(c.a)},function(P,S,i){"use strict";S.a=s;var t=i(19),c=i(32);function s(v,o){var f=Object(c.a)((v=Object(t.e)(v)).l,(o=Object(t.e)(o)).l),r=Object(c.a)(v.a,o.a),e=Object(c.a)(v.b,o.b),n=Object(c.a)(v.opacity,o.opacity);return function(a){return v.l=f(a),v.a=r(a),v.b=e(a),v.opacity=n(a),v+""}}},function(P,S,i){"use strict";i.d(S,"b",function(){return v});var t=i(19),c=i(32);function s(o){return function(f,r){var e=o((f=Object(t.c)(f)).h,(r=Object(t.c)(r)).h),n=Object(c.a)(f.c,r.c),a=Object(c.a)(f.l,r.l),u=Object(c.a)(f.opacity,r.opacity);return function(l){return f.h=e(l),f.c=n(l),f.l=a(l),f.opacity=u(l),f+""}}}S.a=s(c.c);var v=s(c.a)},function(P,S,i){"use strict";i.d(S,"a",function(){return v});var t=i(19),c=i(32);function s(o){return function f(r){r=+r;function e(n,a){var u=o((n=Object(t.b)(n)).h,(a=Object(t.b)(a)).h),l=Object(c.a)(n.s,a.s),h=Object(c.a)(n.l,a.l),p=Object(c.a)(n.opacity,a.opacity);return function(d){return n.h=u(d),n.s=l(d),n.l=h(Math.pow(d,r)),n.opacity=p(d),n+""}}return e.gamma=f,e}(1)}S.b=s(c.c);var v=s(c.a)},function(P,S,i){"use strict";S.a=function(t,c){for(var s=new Array(c),v=0;v<c;++v)s[v]=t(v/(c-1));return s}},function(P,S,i){P.exports={canvas:i(254),svg:i(257)}},function(P,S,i){P.exports={painter:i(255)}},function(P,S,i){var t=i(1),c=i(256),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],v=function(){function o(r){if(!r)return null;var e=t.uniqueId("canvas_"),n=t.createDom('<canvas id="'+e+'"></canvas>');return r.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var f=o.prototype;return f.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},f.draw=function(e){var n=this;function a(){n.animateHandler=t.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&a()}),n.beforeDraw();try{n._drawGroup(e)}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u)}finally{n.toDraw=!1}}n.animateHandler?n.toDraw=!0:a()},f.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},f._drawGroup=function(e){if(!(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible)){var n=this,a=e._cfg.children,u=null;this.setContext(e);for(var l=0;l<a.length;l++)u=a[l],a[l].isGroup?n._drawGroup(u):n._drawShape(u);this.restoreContext(e)}},f._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},f.setContext=function(e){var n=this.context,a=e._attrs.clip;n.save(),a&&(a.resetTransform(n),a.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},f.restoreContext=function(){this.context.restore()},f.resetContext=function(e){var n=this.context,a=e._attrs;if(!e.isGroup){for(var u in a)if(s.indexOf(u)>-1){var l=a[u];u==="fillStyle"&&(l=c.parseStyle(l,e,n)),u==="strokeStyle"&&(l=c.parseStyle(l,e,n)),u==="lineDash"&&n.setLineDash?t.isArray(l)?n.setLineDash(l):t.isString(l)&&n.setLineDash(l.split(" ")):n[u]=l}}},o}();P.exports=v},function(P,S,i){var t=i(1),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function e(l,h){var p=l.match(r);t.each(p,function(d){d=d.split(":"),h.addColorStop(d[0],d[1])})}function n(l,h,p){var d=v.exec(l),g=t.mod(t.toRadian(parseFloat(d[1])),Math.PI*2),y=d[2],x=h.getBBox(),A,m;g>=0&&g<.5*Math.PI?(A={x:x.minX,y:x.minY},m={x:x.maxX,y:x.maxY}):.5*Math.PI<=g&&g<Math.PI?(A={x:x.maxX,y:x.minY},m={x:x.minX,y:x.maxY}):Math.PI<=g&&g<1.5*Math.PI?(A={x:x.maxX,y:x.maxY},m={x:x.minX,y:x.minY}):(A={x:x.minX,y:x.maxY},m={x:x.maxX,y:x.minY});var M=Math.tan(g),b=M*M,E=(m.x-A.x+M*(m.y-A.y))/(b+1)+A.x,C=M*(m.x-A.x+M*(m.y-A.y))/(b+1)+A.y,T=p.createLinearGradient(A.x,A.y,E,C);return e(y,T),T}function a(l,h,p){var d=o.exec(l),g=parseFloat(d[1]),y=parseFloat(d[2]),x=parseFloat(d[3]),A=d[4];if(x===0){var m=A.match(r);return m[m.length-1].split(":")[1]}var M=h.getBBox(),b=M.maxX-M.minX,E=M.maxY-M.minY,C=Math.sqrt(b*b+E*E)/2,T=p.createRadialGradient(M.minX+b*g,M.minY+E*y,x*C,M.minX+b/2,M.minY+E/2,C);return e(A,T),T}function u(l,h,p){if(h.get("patternSource")&&h.get("patternSource")===l)return h.get("pattern");var d,g,y=f.exec(l),x=y[1],A=y[2];function m(){d=p.createPattern(g,x),h.setSilent("pattern",d),h.setSilent("patternSource",l)}switch(x){case"a":x="repeat";break;case"x":x="repeat-x";break;case"y":x="repeat-y";break;case"n":x="no-repeat";break;default:x="no-repeat"}return g=new Image,A.match(/^data:/i)||(g.crossOrigin="Anonymous"),g.src=A,g.complete?m():(g.onload=m,g.src=g.src),d}P.exports={parsePath:function(h){if(h=h||[],t.isArray(h))return h;if(t.isString(h))return h=h.match(c),t.each(h,function(p,d){if(p=p.match(s),p[0].length>1){var g=p[0].charAt(0);p.splice(1,0,p[0].substr(1)),p[0]=g}t.each(p,function(y,x){isNaN(y)||(p[x]=+y)}),h[d]=p}),h},parseStyle:function(h,p,d){if(t.isString(h)){if(h[1]==="("||h[2]==="("){if(h[0]==="l")return n(h,p,d);if(h[0]==="r")return a(h,p,d);if(h[0]==="p")return u(h,p,d)}return h}}}},function(P,S,i){P.exports={painter:i(258),getShape:i(265)}},function(P,S,i){var t=i(1),c=i(31),s=c.parseRadius,v=i(81),o=i(259),f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},r=.3,e={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},n={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},u=function(){function l(p){if(!p)return null;var d=t.uniqueId("canvas_"),g=t.createDom('<svg id="'+d+'"></svg>');return p.appendChild(g),this.type="svg",this.canvas=g,this.context=new o(g),this.toDraw=!1,this}var h=l.prototype;return h.draw=function(d){var g=this;function y(){g.animateHandler=t.requestAnimationFrame(function(){g.animateHandler=void 0,g.toDraw&&y()});try{g._drawChildren(d)}catch(x){console.warn("error in draw canvas, detail as:"),console.warn(x)}finally{g.toDraw=!1}}g.animateHandler?g.toDraw=!0:y()},h.drawSync=function(d){this._drawChildren(d)},h._drawGroup=function(d,g){var y=d._cfg;y.removed||y.destroyed||(y.tobeRemoved&&(t.each(y.tobeRemoved,function(x){x.parentNode&&x.parentNode.removeChild(x)}),y.tobeRemoved=[]),this._drawShape(d,g),y.children&&y.children.length>0&&this._drawChildren(d))},h._drawChildren=function(d){var g=this,y=d._cfg.children,x;if(!!y)for(var A=0;A<y.length;A++)x=y[A],x.isGroup?g._drawGroup(x,A):g._drawShape(x,A)},h._drawShape=function(d,g){var y=this,x=d._attrs,A=d._cfg,m=A.el;if(A.removed||A.destroyed){m&&m.parentNode.removeChild(A.el);return}if(!m&&A.parent&&(y._createDom(d,g),y._updateShape(d)),m=A.el,A.visible===!1){m.setAttribute("visibility","hidden");return}A.visible&&m.hasAttribute("visibility")&&m.removeAttribute("visibility"),A.hasUpdate&&y._updateShape(d),x.clip&&x.clip._cfg.hasUpdate&&y._updateShape(x.clip)},h._updateShape=function(d){var g=this,y=d._attrs,x=d._cfg.attrs;if(!!x){if(d._cfg.el||g._createDom(d),"clip"in y&&this._setClip(d,y.clip),("shadowOffsetX"in y||"shadowOffsetY"in y||"shadowBlur"in y||"shadowColor"in y)&&this._setShadow(d),d.type==="text"){g._updateText(d);return}d.type==="fan"&&g._updateFan(d),d.type==="marker"&&d._cfg.el.setAttribute("d",g._assembleMarker(y)),d.type==="rect"&&d._cfg.el.setAttribute("d",g._assembleRect(y));for(var A in y)y[A]!==x[A]&&g._setAttribute(d,A,y[A]);d._cfg.attrs=t.deepMix({},d._attrs),d._cfg.hasUpdate=!1}},h._setAttribute=function(d,g,y){var x=d.type,A=d._attrs,m=d._cfg.el,M=this.context;if(!((x==="marker"||x==="rect")&&~["x","y","radius","r"].indexOf(g))){if(~["circle","ellipse"].indexOf(x)&&~["x","y"].indexOf(g)){m.setAttribute("c"+g,parseInt(y,10));return}if(x==="polygon"&&g==="points"){(!y||y.length===0)&&(y=""),t.isArray(y)&&(y=y.map(function(E){return E[0]+","+E[1]}),y=y.join(" ")),m.setAttribute("points",y);return}if(g==="path"&&t.isArray(y)){m.setAttribute("d",this._formatPath(y));return}if(g==="img"){this._setImage(d,y);return}if(g==="transform"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="rotate"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="matrix"){this._setTransform(d);return}if(g==="fillStyle"||g==="strokeStyle"){this._setColor(d,g,y);return}if(g!=="clip"){if(~g.indexOf("Arrow")){if(g=e[g],!y)d._cfg[g]=null,m.removeAttribute(g);else{var b=null;typeof y=="boolean"?b=M.getDefaultArrow(A,g):b=M.addArrow(A,g),m.setAttribute(g,"url(#"+b+")"),d._cfg[g]=b}return}g==="html"&&(typeof y=="string"?m.innerHTML=y:(m.innerHTML="",m.appendChild(y))),e[g]&&m.setAttribute(e[g],y)}}},h._createDom=function(d,g){var y=f[d.type],x=d._attrs,A=d._cfg.parent;if(!y)throw new Error("the type"+d.type+"is not supported by svg");var m=document.createElementNS("http://www.w3.org/2000/svg",y);if(d._cfg.id&&(m.id=d._cfg.id),d._cfg.el=m,A){var M=A._cfg.el;if(typeof g=="undefined")M.appendChild(m);else{var b=A._cfg.el.childNodes;M.tagName==="svg"&&(g+=1),b.length<=g?M.appendChild(m):M.insertBefore(m,b[g])}}return d._cfg.attrs={},d.type==="text"?(m.setAttribute("paint-order","stroke"),m.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(!x.stroke&&!x.strokeStyle&&m.setAttribute("stroke","none"),!x.fill&&!x.fillStyle&&m.setAttribute("fill","none")),m},h._assembleMarker=function(d){var g=d.r;if(typeof d.r=="undefined"&&(g=d.radius),isNaN(Number(d.x))||isNaN(Number(d.y))||isNaN(Number(g)))return"";var y="";return typeof d.symbol=="function"?y=d.symbol(d.x,d.y,g):y=v.Symbols[d.symbol||"circle"](d.x,d.y,g),t.isArray(y)&&(y=y.map(function(x){return x.join(" ")}).join("")),y},h._assembleRect=function(d){var g=d.x,y=d.y,x=d.width,A=d.height,m=d.radius;if(!m)return"M "+g+","+y+" l "+x+",0 l 0,"+A+" l"+-x+" 0 z";var M=s(m);t.isArray(m)?m.length===1?M.r1=M.r2=M.r3=M.r4=m[0]:m.length===2?(M.r1=M.r3=m[0],M.r2=M.r4=m[1]):m.length===3?(M.r1=m[0],M.r2=M.r4=m[1],M.r3=m[2]):(M.r1=m[0],M.r2=m[1],M.r3=m[2],M.r4=m[3]):M.r1=M.r2=M.r3=M.r4=m;var b=[["M "+(g+M.r1)+","+y],["l "+(x-M.r1-M.r2)+",0"],["a "+M.r2+","+M.r2+",0,0,1,"+M.r2+","+M.r2],["l 0,"+(A-M.r2-M.r3)],["a "+M.r3+","+M.r3+",0,0,1,"+-M.r3+","+M.r3],["l "+(M.r3+M.r4-x)+",0"],["a "+M.r4+","+M.r4+",0,0,1,"+-M.r4+","+-M.r4],["l 0,"+(M.r4+M.r1-A)],["a "+M.r1+","+M.r1+",0,0,1,"+M.r1+","+-M.r1],["z"]];return b.join(" ")},h._formatPath=function(d){return d=d.map(function(g){return g.join(" ")}).join(""),~d.indexOf("NaN")?"":d},h._setTransform=function(d){for(var g=d._attrs.matrix,y=d._cfg.el,x=[],A=0;A<9;A+=3)x.push(g[A]+","+g[A+1]);x=x.join(","),x.indexOf("NaN")===-1?y.setAttribute("transform","matrix("+x+")"):console.warn("invalid matrix:",g)},h._setImage=function(d,g){var y=d._attrs,x=d._cfg.el;if(t.isString(g))x.setAttribute("href",g);else if(g instanceof Image)y.width||(x.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(x.setAttribute("height",g.height),d._attrs.height=g.height),x.setAttribute("href",g.src);else if(g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS")x.setAttribute("href",g.toDataURL());else if(g instanceof ImageData){var A=document.createElement("canvas");A.setAttribute("width",g.width),A.setAttribute("height",g.height),A.getContext("2d").putImageData(g,0,0),y.width||(x.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(x.setAttribute("height",g.height),d._attrs.height=g.height),x.setAttribute("href",A.toDataURL())}},h._updateFan=function(d){function g(X,Z,J){return{x:Z*Math.cos(X)+J.x,y:Z*Math.sin(X)+J.y}}var y=d._attrs,x=d._cfg,A={x:y.x,y:y.y},m=[],M=y.startAngle,b=y.endAngle;t.isNumberEqual(b-M,Math.PI*2)&&(b-=1e-5);var E=g(M,y.re,A),C=g(b,y.re,A),T=b>M?1:0,O=Math.abs(b-M)>Math.PI?1:0,L=y.rs,R=y.re,W=g(M,y.rs,A),U=g(b,y.rs,A);y.rs>0?(m.push("M "+C.x+","+C.y),m.push("L "+U.x+","+U.y),m.push("A "+L+","+L+",0,"+O+","+(T===1?0:1)+","+W.x+","+W.y),m.push("L "+E.x+" "+E.y)):(m.push("M "+A.x+","+A.y),m.push("L "+E.x+","+E.y)),m.push("A "+R+","+R+",0,"+O+","+T+","+C.x+","+C.y),y.rs>0?m.push("L "+U.x+","+U.y):m.push("Z"),x.el.setAttribute("d",m.join(" "))},h._updateText=function(d){var g=this,y=d._attrs,x=d._cfg.attrs,A=d._cfg.el;this._setFont(d);for(var m in y)if(y[m]!==x[m]){if(m==="text"){g._setText(d,""+y[m]);continue}if(m==="fillStyle"||m==="strokeStyle"){this._setColor(d,m,y[m]);continue}if(m==="matrix"){this._setTransform(d);continue}e[m]&&A.setAttribute(e[m],y[m])}d._cfg.attrs=Object.assign({},d._attrs),d._cfg.hasUpdate=!1},h._setFont=function(d){var g=d.get("el"),y=d._attrs,x=y.fontSize;g.setAttribute("alignment-baseline",n[y.textBaseline]||"baseline"),g.setAttribute("text-anchor",a[y.textAlign]||"left"),x&&+x<12&&(y.matrix=[1,0,0,0,1,0,0,0,1],d.transform([["t",-y.x,-y.y],["s",+x/12,+x/12],["t",y.x,y.y]]))},h._setText=function(d,g){var y=d._cfg.el,x=d._attrs.textBaseline||"bottom";if(!g)y.innerHTML="";else if(~g.indexOf(`
`)){var A=d._attrs.x,m=g.split(`
`),M=m.length-1,b="";t.each(m,function(E,C){C===0?x==="alphabetic"?b+='<tspan x="'+A+'" dy="'+-M+'em">'+E+"</tspan>":x==="top"?b+='<tspan x="'+A+'" dy="0.9em">'+E+"</tspan>":x==="middle"?b+='<tspan x="'+A+'" dy="'+-(M-1)/2+'em">'+E+"</tspan>":x==="bottom"?b+='<tspan x="'+A+'" dy="-'+(M+r)+'em">'+E+"</tspan>":x==="hanging"&&(b+='<tspan x="'+A+'" dy="'+(-(M-1)-r)+'em">'+E+"</tspan>"):b+='<tspan x="'+A+'" dy="1em">'+E+"</tspan>"}),y.innerHTML=b}else y.innerHTML=g},h._setClip=function(d,g){var y=d._cfg.el;if(!g){y.removeAttribute("clip-path");return}if(y.hasAttribute("clip-path"))g._cfg.hasUpdate&&this._updateShape(g);else{this._createDom(g),this._updateShape(g);var x=this.context.addClip(g);y.setAttribute("clip-path","url(#"+x+")")}},h._setColor=function(d,g,y){var x=d._cfg.el,A=this.context;if(!y){x.setAttribute(e[g],"none");return}if(y=y.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(y)){var m=A.find("gradient",y);m||(m=A.addGradient(y)),x.setAttribute(e[g],"url(#"+m+")")}else if(/^[p,P]{1}[\s]*\(/.test(y)){var M=A.find("pattern",y);M||(M=A.addPattern(y)),x.setAttribute(e[g],"url(#"+M+")")}else x.setAttribute(e[g],y)},h._setShadow=function(d){var g=d._cfg.el,y=d._attrs,x={dx:y.shadowOffsetX,dy:y.shadowOffsetY,blur:y.shadowBlur,color:y.shadowColor};if(!x.dx&&!x.dy&&!x.blur&&!x.color)g.removeAttribute("filter");else{var A=this.context.find("filter",x);A||(A=this.context.addShadow(x,this)),g.setAttribute("filter","url(#"+A+")")}},l}();P.exports=u},function(P,S,i){var t=i(1),c=i(260),s=i(261),v=i(262),o=i(263),f=i(264),r=function(){function e(a){var u=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=t.uniqueId("defs_");u.id=l,a.appendChild(u),this.children=[],this.defaultArrow={},this.el=u,this.canvas=a}var n=e.prototype;return n.find=function(u,l){for(var h=this.children,p=null,d=0;d<h.length;d++)if(h[d].match(u,l)){p=h[d].id;break}return p},n.findById=function(u){for(var l=this.children,h=null,p=0;p<l.length;p++)if(l[p].id===u){h=l[p];break}return h},n.add=function(u){this.children.push(u),u.canvas=this.canvas,u.parent=this},n.getDefaultArrow=function(u,l){var h=u.stroke||u.strokeStyle;if(this.defaultArrow[h])return this.defaultArrow[h].id;var p=new v(u,l);return this.defaultArrow[h]=p,this.el.appendChild(p.el),p.id},n.addGradient=function(u){var l=new c(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addArrow=function(u,l){var h=new v(u,l);return this.el.appendChild(h.el),h.id},n.addShadow=function(u){var l=new s(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addPattern=function(u){var l=new f(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addClip=function(u){var l=new o(u);return this.el.appendChild(l.el),this.add(l),l.id},e}();P.exports=r},function(P,S,i){var t=i(1),c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function o(n){var a=n.match(v);if(!a)return"";var u="";return a.sort(function(l,h){return l=l.split(":"),h=h.split(":"),Number(l[0])-Number(h[0])}),t.each(a,function(l){l=l.split(":"),u+='<stop offset="'+l[0]+'" stop-color="'+l[1]+'"></stop>'}),u}function f(n,a){var u=c.exec(n),l=t.mod(t.toRadian(parseFloat(u[1])),Math.PI*2),h=u[2],p,d;l>=0&&l<.5*Math.PI?(p={x:0,y:0},d={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(p={x:1,y:0},d={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(p={x:1,y:1},d={x:0,y:0}):(p={x:0,y:1},d={x:1,y:0});var g=Math.tan(l),y=g*g,x=(d.x-p.x+g*(d.y-p.y))/(y+1)+p.x,A=g*(d.x-p.x+g*(d.y-p.y))/(y+1)+p.y;a.setAttribute("x1",p.x),a.setAttribute("y1",p.y),a.setAttribute("x2",x),a.setAttribute("y2",A),a.innerHTML=o(h)}function r(n,a){var u=s.exec(n),l=parseFloat(u[1]),h=parseFloat(u[2]),p=parseFloat(u[3]),d=u[4];a.setAttribute("cx",l),a.setAttribute("cy",h),a.setAttribute("r",p),a.innerHTML=o(d)}var e=function(){function n(u){var l=null,h=t.uniqueId("gradient_");return u.toLowerCase()[0]==="l"?(l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),f(u,l)):(l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),r(u,l)),l.setAttribute("id",h),this.el=l,this.id=h,this.cfg=u,this}var a=n.prototype;return a.match=function(l,h){return this.cfg===h},n}();P.exports=e},function(P,S,i){var t=i(1),c={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},s={x:"-40%",y:"-40%",width:"200%",height:"200%"},v=function(){function o(r){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return t.each(s,function(n,a){e.setAttribute(a,n)}),this.el=e,this.id=t.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,e),this}var f=o.prototype;return f.match=function(e,n){if(this.type!==e)return!1;var a=!0,u=this.cfg;return t.each(Object.keys(u),function(l){if(u[l]!==n[l])return a=!1,!1}),a},f.update=function(e,n){var a=this.cfg;return a[c[e]]=n,this._parseShadow(a,this.el),this},f._parseShadow=function(e,n){var a=`<feDropShadow 
      dx="`+(e.dx||0)+`" 
      dy="`+(e.dy||0)+`" 
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;n.innerHTML=a},o}();P.exports=v},function(P,S,i){var t=i(1),c=function(){function s(o,f){var r=document.createElementNS("http://www.w3.org/2000/svg","marker"),e=t.uniqueId("marker_");r.setAttribute("id",e);var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("stroke","none"),n.setAttribute("fill",o.stroke||"#000"),r.appendChild(n),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=n,this.id=e,this.cfg=o[f==="marker-start"?"startArrow":"endArrow"],this.stroke=o.stroke||"#000",this.cfg===!0?this._setDefaultPath(f,n):this._setMarker(o.lineWidth,n),this}var v=s.prototype;return v.match=function(){return!1},v._setDefaultPath=function(f,r){var e=this.el;r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),e.setAttribute("refX",3),e.setAttribute("refY",3)},v._setMarker=function(f,r){var e=this.el,n=this.cfg.path,a=this.cfg.d;t.isArray(n)&&(n=n.map(function(u){return u.join(" ")}).join("")),r.setAttribute("d",n),e.appendChild(r),a&&e.setAttribute("refX",a/f)},v.update=function(f){var r=this.child;r.attr?r.attr("fill",f):r.setAttribute("fill",f)},s}();P.exports=c},function(P,S,i){var t=i(1),c=function(){function s(o){this.type="clip";var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=f,this.id=t.uniqueId("clip_"),f.id=this.id;var r=o._cfg.el;return f.appendChild(r.cloneNode(!0)),this.cfg=o,this}var v=s.prototype;return v.match=function(){return!1},v.remove=function(){var f=this.el;f.parentNode.removeChild(f)},s}();P.exports=c},function(P,S,i){var t=i(1),c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=function(){function v(f){var r=document.createElementNS("http://www.w3.org/2000/svg","pattern");r.setAttribute("patternUnits","userSpaceOnUse");var e=document.createElementNS("http://www.w3.org/2000/svg","image");r.appendChild(e);var n=t.uniqueId("pattern_");r.id=n,this.el=r,this.id=n,this.cfg=f;var a=c.exec(f),u=a[2];e.setAttribute("href",u);var l=new Image;u.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=u;function h(){r.setAttribute("width",l.width),r.setAttribute("height",l.height)}return l.complete?h():(l.onload=h,l.src=l.src),this}var o=v.prototype;return o.match=function(r,e){return this.cfg===e},v}();P.exports=s},function(P,S){var i={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};P.exports=function(c,s,v){var o=v.target||v.srcElement;if(!i[o.tagName]){for(var f=o.parentNode;f&&!i[f.tagName];)f=f.parentNode;o=f}return this._cfg.el===o?this:this.find(function(r){return r._cfg&&r._cfg.el===o})}},function(P,S,i){P.exports={addEventListener:i(267),createDom:i(71),getBoundingClientRect:i(268),getHeight:i(269),getOuterHeight:i(270),getOuterWidth:i(271),getRatio:i(272),getStyle:i(273),getWidth:i(274),modifyCSS:i(72),requestAnimationFrame:i(73)}},function(P,S){P.exports=function(t,c,s){if(t){if(t.addEventListener)return t.addEventListener(c,s,!1),{remove:function(){t.removeEventListener(c,s,!1)}};if(t.attachEvent)return t.attachEvent("on"+c,s),{remove:function(){t.detachEvent("on"+c,s)}}}}},function(P,S){P.exports=function(t,c){if(t&&t.getBoundingClientRect){var s=t.getBoundingClientRect(),v=document.documentElement.clientTop,o=document.documentElement.clientLeft;return{top:s.top-v,bottom:s.bottom-v,left:s.left-o,right:s.right-o}}return c||null}},function(P,S){P.exports=function(t,c){var s=this.getStyle(t,"height",c);return s==="auto"&&(s=t.offsetHeight),parseFloat(s)}},function(P,S){P.exports=function(t,c){var s=this.getHeight(t,c),v=parseFloat(this.getStyle(t,"borderTopWidth"))||0,o=parseFloat(this.getStyle(t,"paddingTop"))||0,f=parseFloat(this.getStyle(t,"paddingBottom"))||0,r=parseFloat(this.getStyle(t,"borderBottomWidth"))||0;return s+v+r+o+f}},function(P,S){P.exports=function(t,c){var s=this.getWidth(t,c),v=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,o=parseFloat(this.getStyle(t,"paddingLeft"))||0,f=parseFloat(this.getStyle(t,"paddingRight"))||0,r=parseFloat(this.getStyle(t,"borderRightWidth"))||0;return s+v+r+o+f}},function(P,S){P.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(P,S,i){var t=i(6);P.exports=function(s,v,o){try{return window.getComputedStyle?window.getComputedStyle(s,null)[v]:s.currentStyle[v]}catch(f){return t(o)?null:o}}},function(P,S){P.exports=function(t,c){var s=this.getStyle(t,"width",c);return s==="auto"&&(s=t.offsetWidth),parseFloat(s)}},function(P,S,i){P.exports={contains:i(48),difference:i(276),find:i(277),firstValue:i(278),flatten:i(279),flattenDeep:i(280),getRange:i(281),merge:i(49),pull:i(67),pullAt:i(146),reduce:i(282),remove:i(283),sortBy:i(284),union:i(285),uniq:i(147),valuesOfKey:i(89)}},function(P,S,i){var t=i(88),c=i(48),s=function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t(o,function(r){return!c(f,r)})};P.exports=s},function(P,S,i){var t=i(13),c=i(28),s=i(144);function v(o,f){var r=void 0;if(t(f)&&(r=f),c(f)&&(r=function(a){return s(a,f)}),r){for(var e=0;e<o.length;e+=1)if(r(o[e]))return o[e]}return null}P.exports=v},function(P,S,i){var t=i(6),c=i(5),s=function(o,f){for(var r=null,e=0;e<o.length;e++){var n=o[e],a=n[f];if(!t(a)){c(a)?r=a[0]:r=a;break}}return r};P.exports=s},function(P,S,i){var t=i(5),c=i(3),s=function(o){if(!t(o))return o;var f=[];return c(o,function(r){t(r)?c(r,function(e){f.push(e)}):f.push(r)}),f};P.exports=s},function(P,S,i){var t=i(5),c=function s(v){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t(v))o.push(v);else for(var f=0;f<v.length;f+=1)s(v[f],o);return o};P.exports=c},function(P,S,i){var t=i(88),c=i(5),s=function(o){if(o=t(o,function(a){return!isNaN(a)}),!o.length)return{min:0,max:0};if(c(o[0])){for(var f=[],r=0;r<o.length;r++)f=f.concat(o[r]);o=f}var e=Math.max.apply(null,o),n=Math.min.apply(null,o);return{min:n,max:e}};P.exports=s},function(P,S,i){var t=i(5),c=i(28),s=i(3),v=function(f,r,e){if(!t(f)&&!c(f))return f;var n=e;return s(f,function(a,u){n=r(n,a,u)}),n};P.exports=v},function(P,S,i){var t=i(15),c=i(146),s=function(o,f){var r=[];if(!t(o))return r;for(var e=-1,n=[],a=o.length;++e<a;){var u=o[e];f(u,e,o)&&(r.push(u),n.push(e))}return c(o,n),r};P.exports=s},function(P,S,i){var t=i(12),c=i(13),s=i(5);function v(o,f){var r=void 0;if(c(f))r=function(a,u){return f(a)-f(u)};else{var e=[];t(f)?e.push(f):s(f)&&(e=f),r=function(a,u){for(var l=0;l<e.length;l+=1){var h=e[l];if(a[h]>u[h])return 1;if(a[h]<u[h])return-1}return 0}}return o.sort(r),o}P.exports=v},function(P,S,i){var t=i(3),c=i(29),s=i(147),v=function(){var f=[],r=c(arguments);return t(r,function(e){f=f.concat(e)}),s(f)};P.exports=v},function(P,S,i){P.exports={getWrapBehavior:i(287),wrapBehavior:i(288)}},function(P,S){function i(t,c){return t["_wrap_"+c]}P.exports=i},function(P,S){function i(t,c){if(t["_wrap_"+c])return t["_wrap_"+c];var s=function(o){t[c](o)};return t["_wrap_"+c]=s,s}P.exports=i},function(P,S,i){var t=i(290);P.exports={number2color:t,numberToColor:t,parsePath:i(291),parseRadius:i(292)}},function(P,S){var i={};P.exports=function(c){var s=i[c];if(!s){for(var v=c.toString(16),o=v.length;o<6;o++)v="0"+v;s="#"+v,i[c]=s}return s}},function(P,S,i){var t=i(5),c=i(12),s=i(3),v=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,o=/[^\s\,]+/ig;P.exports=function(r){if(r=r||[],t(r))return r;if(c(r))return r=r.match(v),s(r,function(e,n){if(e=e.match(o),e[0].length>1){var a=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=a}s(e,function(u,l){isNaN(u)||(e[l]=+u)}),r[n]=e}),r}},function(P,S,i){var t=i(5);P.exports=function(s){var v=0,o=0,f=0,r=0;return t(s)?s.length===1?v=o=f=r=s[0]:s.length===2?(v=f=s[0],o=r=s[1]):s.length===3?(v=s[0],o=r=s[1],f=s[2]):(v=s[0],o=s[1],f=s[2],r=s[3]):v=o=f=r=s,{r1:v,r2:o,r3:f,r4:r}}},function(P,S,i){var t=i(30);P.exports={clamp:i(41),fixedBase:i(294),isDecimal:i(295),isEven:i(296),isInteger:i(297),isNegative:i(298),isNumberEqual:t,isOdd:i(299),isPositive:i(300),maxBy:i(148),minBy:i(301),mod:i(70),snapEqual:t,toDegree:i(69),toInt:i(149),toInteger:i(149),toRadian:i(68)}},function(P,S){var i=function(c,s){var v=s.toString(),o=v.indexOf(".");if(o===-1)return Math.round(c);var f=v.substr(o+1).length;return f>20&&(f=20),parseFloat(c.toFixed(f))};P.exports=i},function(P,S,i){var t=i(11),c=function(v){return t(v)&&v%1!=0};P.exports=c},function(P,S,i){var t=i(11),c=function(v){return t(v)&&v%2==0};P.exports=c},function(P,S,i){var t=i(11),c=Number.isInteger?Number.isInteger:function(s){return t(s)&&s%1==0};P.exports=c},function(P,S,i){var t=i(11),c=function(v){return t(v)&&v<0};P.exports=c},function(P,S,i){var t=i(11),c=function(v){return t(v)&&v%2!=0};P.exports=c},function(P,S,i){var t=i(11),c=function(v){return t(v)&&v>0};P.exports=c},function(P,S,i){var t=i(5),c=i(13),s=i(3),v=function(f,r){if(!!t(f)){var e=f[0],n=void 0;c(r)?n=r(f[0]):n=f[0][r];var a=void 0;return s(f,function(u){c(r)?a=r(u):a=u[r],a<n&&(e=u,n=a)}),e}};P.exports=v},function(P,S,i){P.exports={forIn:i(303),has:i(150),hasKey:i(304),hasValue:i(305),keys:i(145),isMatch:i(144),values:i(151)}},function(P,S,i){P.exports=i(3)},function(P,S,i){P.exports=i(150)},function(P,S,i){var t=i(48),c=i(151);P.exports=function(s,v){return t(c(s),v)}},function(P,S,i){var t=i(307),c=i(155),s=i(154),v=i(157);P.exports={catmullRom2Bezier:v,catmullRomToBezier:v,fillPath:i(308),fillPathByDiff:i(309),formatPath:i(311),intersection:t,pathIntersection:t,parsePathArray:i(153),parsePathString:i(156),pathToAbsolute:c,path2absolute:c,pathTocurve:s,path2curve:s,rectPath:i(152)}},function(P,S,i){var t=i(5),c=i(152),s=i(154),v=function(g,y,x,A,m){var M=-3*y+9*x-9*A+3*m,b=g*M+6*y-12*x+6*A;return g*b-3*y+3*x},o=function(g,y,x,A,m,M,b,E,C){C===null&&(C=1),C=C>1?1:C<0?0:C;for(var T=C/2,O=12,L=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],R=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0,U=0;U<O;U++){var X=T*L[U]+T,Z=v(X,g,x,m,b),J=v(X,y,A,M,E),ht=Z*Z+J*J;W+=R[U]*Math.sqrt(ht)}return T*W},f=function(g,y,x,A,m,M,b,E){for(var C=[],T=[[],[]],O=void 0,L=void 0,R=void 0,W=void 0,U=0;U<2;++U){if(U===0?(L=6*g-12*x+6*m,O=-3*g+9*x-9*m+3*b,R=3*x-3*g):(L=6*y-12*A+6*M,O=-3*y+9*A-9*M+3*E,R=3*A-3*y),Math.abs(O)<1e-12){if(Math.abs(L)<1e-12)continue;W=-R/L,W>0&&W<1&&C.push(W);continue}var X=L*L-4*R*O,Z=Math.sqrt(X);if(!(X<0)){var J=(-L+Z)/(2*O);J>0&&J<1&&C.push(J);var ht=(-L-Z)/(2*O);ht>0&&ht<1&&C.push(ht)}}for(var at=C.length,Q=at,xt=void 0;at--;)W=C[at],xt=1-W,T[0][at]=xt*xt*xt*g+3*xt*xt*W*x+3*xt*W*W*m+W*W*W*b,T[1][at]=xt*xt*xt*y+3*xt*xt*W*A+3*xt*W*W*M+W*W*W*E;return T[0][Q]=g,T[1][Q]=y,T[0][Q+1]=b,T[1][Q+1]=E,T[0].length=T[1].length=Q+2,{min:{x:Math.min.apply(0,T[0]),y:Math.min.apply(0,T[1])},max:{x:Math.max.apply(0,T[0]),y:Math.max.apply(0,T[1])}}},r=function(g,y,x,A,m,M,b,E){if(!(Math.max(g,x)<Math.min(m,b)||Math.min(g,x)>Math.max(m,b)||Math.max(y,A)<Math.min(M,E)||Math.min(y,A)>Math.max(M,E))){var C=(g*A-y*x)*(m-b)-(g-x)*(m*E-M*b),T=(g*A-y*x)*(M-E)-(y-A)*(m*E-M*b),O=(g-x)*(M-E)-(y-A)*(m-b);if(!!O){var L=C/O,R=T/O,W=+L.toFixed(2),U=+R.toFixed(2);if(!(W<+Math.min(g,x).toFixed(2)||W>+Math.max(g,x).toFixed(2)||W<+Math.min(m,b).toFixed(2)||W>+Math.max(m,b).toFixed(2)||U<+Math.min(y,A).toFixed(2)||U>+Math.max(y,A).toFixed(2)||U<+Math.min(M,E).toFixed(2)||U>+Math.max(M,E).toFixed(2)))return{x:L,y:R}}}},e=function(g,y,x){return y>=g.x&&y<=g.x+g.width&&x>=g.y&&x<=g.y+g.height},n=function(g,y,x,A){return g===null&&(g=y=x=A=0),y===null&&(y=g.y,x=g.width,A=g.height,g=g.x),{x:g,y,width:x,w:x,height:A,h:A,x2:g+x,y2:y+A,cx:g+x/2,cy:y+A/2,r1:Math.min(x,A)/2,r2:Math.max(x,A)/2,r0:Math.sqrt(x*x+A*A)/2,path:c(g,y,x,A),vb:[g,y,x,A].join(" ")}},a=function(g,y){return g=n(g),y=n(y),e(y,g.x,g.y)||e(y,g.x2,g.y)||e(y,g.x,g.y2)||e(y,g.x2,g.y2)||e(g,y.x,y.y)||e(g,y.x2,y.y)||e(g,y.x,y.y2)||e(g,y.x2,y.y2)||(g.x<y.x2&&g.x>y.x||y.x<g.x2&&y.x>g.x)&&(g.y<y.y2&&g.y>y.y||y.y<g.y2&&y.y>g.y)},u=function(g,y,x,A,m,M,b,E){t(g)||(g=[g,y,x,A,m,M,b,E]);var C=f.apply(null,g);return n(C.min.x,C.min.y,C.max.x-C.min.x,C.max.y-C.min.y)},l=function(g,y,x,A,m,M,b,E,C){var T=1-C,O=Math.pow(T,3),L=Math.pow(T,2),R=C*C,W=R*C,U=O*g+L*3*C*x+T*3*C*C*m+W*b,X=O*y+L*3*C*A+T*3*C*C*M+W*E,Z=g+2*C*(x-g)+R*(m-2*x+g),J=y+2*C*(A-y)+R*(M-2*A+y),ht=x+2*C*(m-x)+R*(b-2*m+x),at=A+2*C*(M-A)+R*(E-2*M+A),Q=T*g+C*x,xt=T*y+C*A,kt=T*m+C*b,Nt=T*M+C*E,nt=90-Math.atan2(Z-ht,J-at)*180/Math.PI;return{x:U,y:X,m:{x:Z,y:J},n:{x:ht,y:at},start:{x:Q,y:xt},end:{x:kt,y:Nt},alpha:nt}},h=function(g,y,x){var A=u(g),m=u(y);if(!a(A,m))return x?0:[];for(var M=o.apply(0,g),b=o.apply(0,y),E=~~(M/8),C=~~(b/8),T=[],O=[],L={},R=x?0:[],W=0;W<E+1;W++){var U=l.apply(0,g.concat(W/E));T.push({x:U.x,y:U.y,t:W/E})}for(var X=0;X<C+1;X++){var Z=l.apply(0,y.concat(X/C));O.push({x:Z.x,y:Z.y,t:X/C})}for(var J=0;J<E;J++)for(var ht=0;ht<C;ht++){var at=T[J],Q=T[J+1],xt=O[ht],kt=O[ht+1],Nt=Math.abs(Q.x-at.x)<.001?"y":"x",nt=Math.abs(kt.x-xt.x)<.001?"y":"x",q=r(at.x,at.y,Q.x,Q.y,xt.x,xt.y,kt.x,kt.y);if(q){if(L[q.x.toFixed(4)]===q.y.toFixed(4))continue;L[q.x.toFixed(4)]=q.y.toFixed(4);var G=at.t+Math.abs((q[Nt]-at[Nt])/(Q[Nt]-at[Nt]))*(Q.t-at.t),N=xt.t+Math.abs((q[nt]-xt[nt])/(kt[nt]-xt[nt]))*(kt.t-xt.t);G>=0&&G<=1&&N>=0&&N<=1&&(x?R++:R.push({x:q.x,y:q.y,t1:G,t2:N}))}}return R},p=function(g,y,x){g=s(g),y=s(y);for(var A=void 0,m=void 0,M=void 0,b=void 0,E=void 0,C=void 0,T=void 0,O=void 0,L=void 0,R=void 0,W=x?0:[],U=0,X=g.length;U<X;U++){var Z=g[U];if(Z[0]==="M")A=E=Z[1],m=C=Z[2];else{Z[0]==="C"?(L=[A,m].concat(Z.slice(1)),A=L[6],m=L[7]):(L=[A,m,A,m,E,C,E,C],A=E,m=C);for(var J=0,ht=y.length;J<ht;J++){var at=y[J];if(at[0]==="M")M=T=at[1],b=O=at[2];else{at[0]==="C"?(R=[M,b].concat(at.slice(1)),M=R[6],b=R[7]):(R=[M,b,M,b,T,O,T,O],M=T,b=O);var Q=h(L,R,x);if(x)W+=Q;else{for(var xt=0,kt=Q.length;xt<kt;xt++)Q[xt].segment1=U,Q[xt].segment2=J,Q[xt].bez1=L,Q[xt].bez2=R;W=W.concat(Q)}}}}}return W};P.exports=function(g,y){return p(g,y)}},function(P,S){function i(s,v){var o=[],f=[];function r(e,n){if(e.length===1)o.push(e[0]),f.push(e[0]);else{for(var a=[],u=0;u<e.length-1;u++)u===0&&o.push(e[0]),u===e.length-2&&f.push(e[u+1]),a[u]=[(1-n)*e[u][0]+n*e[u+1][0],(1-n)*e[u][1]+n*e[u+1][1]];r(a,n)}}return s.length&&r(s,v),{left:o,right:f.reverse()}}function t(s,v,o){var f=[[s[1],s[2]]];o=o||2;var r=[];v[0]==="A"?(f.push(v[6]),f.push(v[7])):v[0]==="C"?(f.push([v[1],v[2]]),f.push([v[3],v[4]]),f.push([v[5],v[6]])):v[0]==="S"||v[0]==="Q"?(f.push([v[1],v[2]]),f.push([v[3],v[4]])):f.push([v[1],v[2]]);for(var e=f,n=1/o,a=0;a<o-1;a++){var u=n/(1-n*a),l=i(e,u);r.push(l.left),e=l.right}r.push(e);var h=r.map(function(p){var d=[];return p.length===4&&(d.push("C"),d=d.concat(p[2])),p.length>=3&&(p.length===3&&d.push("Q"),d=d.concat(p[1])),p.length===2&&d.push("L"),d=d.concat(p[p.length-1]),d});return h}function c(s,v,o){if(o===1)return[[].concat(s)];var f=[];if(v[0]==="L"||v[0]==="C"||v[0]==="Q")f=f.concat(t(s,v,o));else{var r=[].concat(s);r[0]==="M"&&(r[0]="L");for(var e=0;e<=o-1;e++)f.push(r)}return f}P.exports=function(v,o){if(v.length===1)return v;var f=v.length-1,r=o.length-1,e=f/r,n=[];if(v.length===1&&v[0][0]==="M"){for(var a=0;a<r-f;a++)v.push(v[0]);return v}for(var u=0;u<r;u++){var l=Math.floor(e*u);n[l]=(n[l]||0)+1}var h=n.reduce(function(p,d,g){return g===f?p.concat(v[f]):p.concat(c(v[g],v[g+1],d))},[]);return h.unshift(v[0]),(o[r]==="Z"||o[r]==="z")&&h.push("Z"),h}},function(P,S,i){var t=i(310);function c(v,o,f){var r=null,e=f;return o<e&&(e=o,r="add"),v<e&&(e=v,r="del"),{type:r,min:e}}var s=function(o,f){var r=o.length,e=f.length,n=void 0,a=void 0,u=0;if(r===0||e===0)return null;for(var l=[],h=0;h<=r;h++)l[h]=[],l[h][0]={min:h};for(var p=0;p<=e;p++)l[0][p]={min:p};for(var d=1;d<=r;d++){n=o[d-1];for(var g=1;g<=e;g++){a=f[g-1],t(n,a)?u=0:u=1;var y=l[d-1][g].min+1,x=l[d][g-1].min+1,A=l[d-1][g-1].min+u;l[d][g]=c(y,x,A)}}return l};P.exports=function(o,f){var r=s(o,f),e=o.length,n=f.length,a=[],u=1,l=1;if(r[e][n]!==e){for(var h=1;h<=e;h++){var p=r[h][h].min;l=h;for(var d=u;d<=n;d++)r[h][d].min<p&&(p=r[h][d].min,l=d);u=l,r[h][u].type&&a.push({index:h-1,type:r[h][u].type})}for(var g=a.length-1;g>=0;g--)u=a[g].index,a[g].type==="add"?o.splice(u,0,[].concat(o[u])):o.splice(u,1)}if(e=o.length,e<n)for(var y=0;y<n-e;y++)o[e-1][0]==="z"||o[e-1][0]==="Z"?o.splice(e-2,0,o[e-2]):o.push(o[e-1]);return o}},function(P,S,i){var t=i(3);P.exports=function(s,v){if(s.length!==v.length)return!1;var o=!0;return t(s,function(f,r){if(f!==v[r])return o=!1,!1}),o}},function(P,S){function i(c){var s=[];switch(c[0]){case"M":s.push([c[1],c[2]]);break;case"L":s.push([c[1],c[2]]);break;case"A":s.push([c[6],c[7]]);break;case"Q":s.push([c[3],c[4]]),s.push([c[1],c[2]]);break;case"T":s.push([c[1],c[2]]);break;case"C":s.push([c[5],c[6]]),s.push([c[1],c[2]]),s.push([c[3],c[4]]);break;case"S":s.push([c[3],c[4]]),s.push([c[1],c[2]]);break;case"H":s.push([c[1],c[1]]);break;case"V":s.push([c[1],c[1]]);break;default:}return s}function t(c,s,v){for(var o=[].concat(c),f=void 0,r=1/(v+1),e=i(s)[0],n=1;n<=v;n++)r*=n,f=Math.floor(c.length*r),f===0?o.unshift([e[0]*r+c[f][0]*(1-r),e[1]*r+c[f][1]*(1-r)]):o.splice(f,0,[e[0]*r+c[f][0]*(1-r),e[1]*r+c[f][1]*(1-r)]);return o}P.exports=function(s,v){if(s.length<=1)return s;for(var o=void 0,f=0;f<v.length;f++)if(s[f][0]!==v[f][0])switch(o=i(s[f]),v[f][0]){case"M":s[f]=["M"].concat(o[0]);break;case"L":s[f]=["L"].concat(o[0]);break;case"A":s[f]=[].concat(v[f]),s[f][6]=o[0][0],s[f][7]=o[0][1];break;case"Q":if(o.length<2)if(f>0)o=t(o,s[f-1],1);else{s[f]=v[f];break}s[f]=["Q"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;case"T":s[f]=["T"].concat(o[0]);break;case"C":if(o.length<3)if(f>0)o=t(o,s[f-1],2);else{s[f]=v[f];break}s[f]=["C"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;case"S":if(o.length<2)if(f>0)o=t(o,s[f-1],1);else{s[f]=v[f];break}s[f]=["S"].concat(o.reduce(function(r,e){return r.concat(e)},[]));break;default:s[f]=v[f]}return s}},function(P,S,i){var t={lc:i(313),lowerCase:i(158),lowerFirst:i(106),substitute:i(314),uc:i(315),upperCase:i(159),upperFirst:i(64)};P.exports=t},function(P,S,i){P.exports=i(158)},function(P,S){var i=function(c,s){return!c||!s?c:c.replace(/\\?\{([^{}]+)\}/g,function(v,o){return v.charAt(0)==="\\"?v.slice(1):s[o]===void 0?"":s[o]})};P.exports=i},function(P,S,i){P.exports=i(159)},function(P,S,i){var t=i(14),c={getType:i(113),isArray:i(5),isArrayLike:i(15),isBoolean:i(60),isFunction:i(13),isNil:i(6),isNull:i(317),isNumber:i(11),isObject:i(22),isObjectLike:i(63),isPlainObject:i(28),isPrototype:i(114),isType:t,isUndefined:i(318),isString:i(12),isRegExp:i(319),isDate:i(111),isArguments:i(320),isError:i(321)};P.exports=c},function(P,S){var i=function(c){return c===null};P.exports=i},function(P,S){var i=function(c){return c===void 0};P.exports=i},function(P,S,i){var t=i(14),c=function(v){return t(v,"RegExp")};P.exports=c},function(P,S,i){var t=i(14),c=function(v){return t(v,"Arguments")};P.exports=c},function(P,S,i){var t=i(14),c=function(v){return t(v,"Error")};P.exports=c},function(P,S){function i(t,c,s){var v=void 0;return function(){var o=this,f=arguments,r=function(){v=null,s||t.apply(o,f)},e=s&&!v;clearTimeout(v),v=setTimeout(r,c),e&&t.apply(o,f)}}P.exports=i},function(P,S,i){var t=i(15),c=function(v,o){if(!t(v))return-1;var f=Array.prototype.indexOf;if(f)return f.call(v,o);for(var r=-1,e=0;e<v.length;e++)if(v[e]===o){r=e;break}return r};P.exports=c},function(P,S,i){var t=i(13),c=i(40),s=function(o,f,r){return t(r)?!!r(o,f):c(o,f)};P.exports=s},function(P,S,i){var t=i(3),c=i(15),s=function(o,f){if(!c(o))return o;var r=[];return t(o,function(e,n){r.push(f(e,n))}),r};P.exports=s},function(P,S,i){var t=i(3),c=i(28),s=Object.prototype.hasOwnProperty,v=function(f,r){if(f===null||!c(f))return{};var e={};return t(r,function(n){s.call(f,n)&&(e[n]=f[n])}),e};P.exports=v},function(P,S){function i(t,c,s){var v=void 0,o=void 0,f=void 0,r=void 0,e=0;s||(s={});var n=function(){e=s.leading===!1?0:Date.now(),v=null,r=t.apply(o,f),v||(o=f=null)},a=function(){var l=Date.now();!e&&s.leading===!1&&(e=l);var h=c-(l-e);return o=this,f=arguments,h<=0||h>c?(v&&(clearTimeout(v),v=null),e=l,r=t.apply(o,f),v||(o=f=null)):!v&&s.trailing!==!1&&(v=setTimeout(n,h)),r};return a.cancel=function(){clearTimeout(v),e=0,v=o=f=null},a}P.exports=i},function(P,S,i){var t=i(0),c=i(18),s=t.PathUtil;function v(M){var b=M.start,E=M.end,C=M.getWidth(),T=M.getHeight(),O=200,L,R,W,U,X;return M.isPolar?(U=M.getRadius(),W=M.getCenter(),L=M.startAngle,R=M.endAngle,X=new c.Fan({attrs:{x:W.x,y:W.y,rs:0,re:U+O,startAngle:L,endAngle:L}}),X.endState={endAngle:R}):(X=new c.Rect({attrs:{x:b.x-O,y:E.y-O,width:M.isTransposed?C+O*2:0,height:M.isTransposed?0:T+O*2}}),M.isTransposed?X.endState={height:T+O*2}:X.endState={width:C+O*2}),X.isClip=!0,X}function o(M){if(t.isEmpty(M))return null;var b=M[0].x,E=M[0].x,C=M[0].y,T=M[0].y;return t.each(M,function(O){b=b>O.x?O.x:b,E=E<O.x?O.x:E,C=C>O.y?O.y:C,T=T<O.y?O.y:T}),{minX:b,maxX:E,minY:C,maxY:T,centerX:(b+E)/2,centerY:(C+T)/2}}function f(M,b){var E=M.points||M.get("origin").points,C=o(E),T,O,L=b.startAngle,R=b.endAngle,W=R-L;return b.isTransposed?(T=C.maxY*W,O=C.minY*W):(T=C.maxX*W,O=C.minX*W),T+=L,O+=L,{startAngle:O,endAngle:T}}function r(M,b,E){var C={};return M.delay&&(C.delay=t.isFunction(M.delay)?M.delay(b,E):M.delay),C.easing=t.isFunction(M.easing)?M.easing(b,E):M.easing,C.duration=t.isFunction(M.duration)?M.duration(b,E):M.duration,C.callback=M.callback,C}function e(M,b){var E=M._id,C=M.get("index"),T=M.getBBox(),O=M.get("origin").points,L=(T.minX+T.maxX)/2,R;O[0].y-O[1].y<=0?R=T.maxY:R=T.minY;var W=[L,R,1];M.apply(W),M.attr("transform",[["t",-L,-R],["s",1,.01],["t",L,R]]);var U={transform:[["t",-L,-R],["s",1,100],["t",L,R]]},X=r(b,C,E,U);M.animate(U,X.duration,X.easing,X.callback,X.delay)}function n(M,b){var E=M._id,C=M.get("index"),T=M.getBBox(),O=M.get("origin").points,L,R=(T.minY+T.maxY)/2;O[0].y-O[1].y>0?L=T.maxX:L=T.minX;var W=[L,R,1];M.apply(W),M.attr({transform:[["t",-L,-R],["s",.01,1],["t",L,R]]});var U={transform:[["t",-L,-R],["s",100,1],["t",L,R]]},X=r(b,C,E,U);M.animate(U,X.duration,X.easing,X.callback,X.delay)}function a(M,b){var E={lineWidth:0,opacity:0},C=M._id,T=M.get("index"),O=r(b,T,C,E);M.animate(E,O.duration,O.easing,function(){M.remove()},O.delay)}function u(M,b,E){var C=M._id,T=M.get("index"),O,L;if(E.isPolar&&M.name!=="point")O=E.getCenter().x,L=E.getCenter().y;else{var R=M.getBBox();O=(R.minX+R.maxX)/2,L=(R.minY+R.maxY)/2}var W=[O,L,1];M.apply(W),M.attr({transform:[["t",-O,-L],["s",.01,.01],["t",O,L]]});var U={transform:[["t",-O,-L],["s",100,100],["t",O,L]]},X=r(b,T,C,U);M.animate(U,X.duration,X.easing,X.callback,X.delay)}function l(M,b,E){var C=M._id,T=M.get("index"),O,L;if(E.isPolar&&M.name!=="point")O=E.getCenter().x,L=E.getCenter().y;else{var R=M.getBBox();O=(R.minX+R.maxX)/2,L=(R.minY+R.maxY)/2}var W=[O,L,1];M.apply(W);var U={transform:[["t",-O,-L],["s",.01,.01],["t",O,L]]},X=r(b,T,C,U);M.animate(U,X.duration,X.easing,function(){M.remove()},X.delay)}function h(M,b){if(M.get("type")==="path"){var E=M._id,C=M.get("index"),T=s.pathToAbsolute(M.attr("path"));M.attr("path",[T[0]]);var O={path:T},L=r(b,C,E,O);M.animate(O,L.duration,L.easing,L.callback,L.delay)}}function p(M,b){if(M.get("type")==="path"){var E=M._id,C=M.get("index"),T=s.pathToAbsolute(M.attr("path")),O={path:[T[0]]},L=r(b,C,E,O);M.animate(O,L.duration,L.easing,function(){M.remove()},L.delay)}}function d(M,b,E,C,T){var O=v(E),L=M.get("canvas"),R=M._id,W=M.get("index"),U;C?(O.attr("startAngle",C),O.attr("endAngle",C),U={endAngle:T}):U=O.endState,O.set("canvas",L),M.attr("clip",O),M.setSilent("animating",!0);var X=r(b,W,R,U);O.animate(U,X.duration,X.easing,function(){M&&!M.get("destroyed")&&(M.attr("clip",null),M.setSilent("cacheShape",null),M.setSilent("animating",!1),O.remove())},X.delay)}function g(M,b){var E=M._id,C=M.get("index"),T=t.isNil(M.attr("fillOpacity"))?1:M.attr("fillOpacity"),O=t.isNil(M.attr("strokeOpacity"))?1:M.attr("strokeOpacity");M.attr("fillOpacity",0),M.attr("strokeOpacity",0);var L={fillOpacity:T,strokeOpacity:O},R=r(b,C,E,L);M.animate(L,R.duration,R.easing,R.callback,R.delay)}function y(M,b){var E=M._id,C=M.get("index"),T={fillOpacity:0,strokeOpacity:0},O=r(b,C,E,T);M.animate(T,O.duration,O.easing,function(){M.remove()},O.delay)}function x(M,b,E){var C=f(M,E),T=C.endAngle,O=C.startAngle;d(M,b,E,O,T)}function A(M,b,E){if(M.name==="line"){var C=M.get("canvas"),T=M.get("cacheShape"),O=M._id,L=M.get("index"),R=new c.Rect({attrs:{x:E.start.x,y:E.end.y,width:E.getWidth(),height:E.getHeight()}});R.isClip=!0,R.set("canvas",C);var W=s.pathToAbsolute(T.attrs.path),U=s.pathToAbsolute(M.attr("path")),X=W[1][1]-W[0][1],Z=W[W.length-1][1]+X,J=U[U.length-1][2],ht=W.concat([["L",Z,J]]),at=[0,0,1];M.apply(at),M.attr("clip",R),M.attr("path",ht);var Q={transform:[["t",-X,0]]},xt=r(b,L,O,Q);M.animate(Q,xt.duration,xt.easing,function(){M&&!M.get("destroyed")&&(M.attr("path",U),M.attr({transform:[["t",X,0]]}),M.attr("clip",null),M.setSilent("cacheShape",null),R.remove())},xt.delay)}}function m(M,b,E){if(M.name==="area"){var C=M.get("canvas"),T=M.get("cacheShape"),O=M._id,L=M.get("index"),R=new c.Rect({attrs:{x:E.start.x,y:E.end.y,width:E.getWidth(),height:E.getHeight()}});R.isClip=!0,R.set("canvas",C);var W=s.pathToAbsolute(T.attrs.path),U=s.pathToAbsolute(M.attr("path")),X=W[1][1]-W[0][1],Z=Math.floor(W.length/2),J=W[Z-1][1]+X,ht=U[Z-1][2],at=[].concat(W.slice(0,Z),[["L",J,ht],["L",J,U[Z][2]]],W.slice(Z)),Q=[0,0,1];M.apply(Q),M.attr("clip",R),M.attr("path",at);var xt={transform:[["t",-X,0]]},kt=r(b,L,O,xt);M.animate(xt,kt.duration,kt.easing,function(){M&&!M.get("destroyed")&&(M.attr("path",U),M.attr({transform:[["t",X,0]]}),M.attr("clip",null),M.setSilent("cacheShape",null),R.remove())},kt.delay)}}P.exports={enter:{clipIn:d,zoomIn:u,pathIn:h,scaleInY:e,scaleInX:n,fanIn:x,fadeIn:g},leave:{lineWidthOut:a,zoomOut:l,pathOut:p,fadeOut:y},appear:{clipIn:d,zoomIn:u,pathIn:h,scaleInY:e,scaleInX:n,fanIn:x,fadeIn:g},update:{fadeIn:g,fanIn:x,lineSlideLeft:A,areaSlideLeft:m}}},function(P,S,i){function t(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function c(y,x){y.prototype=Object.create(x.prototype),y.prototype.constructor=y,s(y,x)}function s(y,x){return s=Object.setPrototypeOf||function(m,M){return m.__proto__=M,m},s(y,x)}var v=i(164),o=i(23),f=i(0),r=i(200),e=i(8),n=i(167),a="_origin",u=i(413);function l(y){var x=y.startAngle,A=y.endAngle;return!(!f.isNil(x)&&!f.isNil(A)&&A-x<Math.PI*2)}function h(y,x,A){var m=(y-x)/(A-x);return m>=0&&m<=1}function p(y,x){var A=!1;if(y){var m=y.type;if(m==="theta"){var M=y.start,b=y.end;A=h(x.x,M.x,b.x)&&h(x.y,M.y,b.y)}else{var E=y.invert(x);A=E.x>=0&&E.y>=0&&E.x<=1&&E.y<=1}}return A}var d={};f.each(o,function(y,x){var A=f.lowerFirst(x);d[A]=function(m){var M=new y(m);return this.addGeom(M),M}});var g=function(y){c(A,y);var x=A.prototype;x.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:e.animate,visible:!0}};function A(m){var M;M=y.call(this,m)||this;var b=t(M);return b._setTheme(),f.each(o,function(E,C){var T=f.lowerFirst(C);b[T]=function(O){O===void 0&&(O={}),O.viewTheme=b.get("viewTheme");var L=new E(O);return b.addGeom(L),L}}),b.init(),M}return x._setTheme=function(){var M=this,b=M.get("theme"),E={},C={};f.isObject(b)?C=b:f.indexOf(Object.keys(n),b)!==-1&&(C=n[b]),f.deepMix(E,e,C),M.set("viewTheme",E)},x.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},x._initOptions=function(){var M=this,b=f.mix({},M.get("options"));b.scales||(b.scales={}),b.coord||(b.coord={}),b.animate===!1&&this.set("animate",!1),(b.tooltip===!1||f.isNull(b.tooltip))&&this.set("tooltipEnable",!1),b.geoms&&b.geoms.length&&f.each(b.geoms,function(T){M._createGeom(T)});var E=M.get("scaleController");E&&(E.defs=b.scales);var C=M.get("coordController");C&&C.reset(b.coord),this.set("options",b)},x._createGeom=function(M){var b=M.type,E;this[b]&&(E=this[b](),f.each(M,function(C,T){if(E[T])if(f.isObject(C)&&C.field)if(C==="label")E[T](C.field,C.callback,C.cfg);else{var O;f.each(C,function(L,R){R!=="field"&&(O=L)}),E[T](C.field,O)}else E[T](C)}))},x._initControllers=function(){var M=this,b=M.get("options"),E=M.get("viewTheme"),C=M.get("canvas"),T=new r.Scale({viewTheme:E,defs:b.scales}),O=new r.Coord(b.coord);this.set("scaleController",T),this.set("coordController",O);var L=new r.Axis({canvas:C,viewTheme:E});this.set("axisController",L);var R=new r.Guide({viewTheme:E,options:b.guides||[]});this.set("guideController",R)},x._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},x._initGeoms=function(){for(var M=this.get("geoms"),b=this.get("filteredData"),E=this.get("coord"),C=this.get("_id"),T=0;T<M.length;T++){var O=M[T];O.set("data",b),O.set("coord",E),O.set("_id",C+"-geom"+T),O.set("keyFields",this.get("keyFields")),O.init()}},x._clearGeoms=function(){for(var M=this,b=M.get("geoms"),E=0;E<b.length;E++){var C=b[E];C.clear()}},x._removeGeoms=function(){for(var M=this,b=M.get("geoms");b.length>0;){var E=b.shift();E.destroy()}},x._drawGeoms=function(){this.emit("beforedrawgeoms");for(var M=this.get("geoms"),b=this.get("coord"),E=0;E<M.length;E++){var C=M[E];C.setCoord(b),C.paint()}this.emit("afterdrawgeoms")},x.isShapeInView=function(M){var b=this.get("_id"),E=M._id;if(E)return E.split("-")[0]===b;for(var C=M;C;){if(C.get("viewId")===b)return!0;C=C.get("parent")}return!1},x.getViewRegion=function(){var M=this,b=M.get("parent"),E,C;if(b){var T=b.getViewRegion(),O=M._getViewRegion(T.start,T.end);E=O.start,C=O.end}else E=M.get("start"),C=M.get("end");return{start:E,end:C}},x._getViewRegion=function(M,b){var E=this.get("start"),C=this.get("end"),T=E.x,O=1-C.y,L=C.x,R=1-E.y,W=this.get("padding"),U=f.toAllPadding(W),X=U[0],Z=U[1],J=U[2],ht=U[3],at={x:T*(b.x-M.x)+M.x+ht,y:O*(b.y-M.y)+M.y-J},Q={x:L*(b.x-M.x)+M.x-Z,y:R*(b.y-M.y)+M.y+X};return{start:at,end:Q}},x._createCoord=function(){var M=this.get("coordController"),b=this.getViewRegion(),E=M.createCoord(b.start,b.end);this.set("coord",E)},x._renderAxes=function(){var M=this.get("options"),b=M.axes;if(b!==!1){var E=this.get("axisController");E.container=this.get("backPlot"),E.coord=this.get("coord"),E.options=b||{};var C=this.getXScale(),T=this.getYScales(),O=this.get("_id");E.createAxis(C,T,O)}},x._renderGuides=function(){var M=this.get("guideController");if(!f.isEmpty(M.options)){var b=this.get("coord");M.view=this,M.backContainer=this.get("backPlot"),M.frontContainer=this.get("frontPlot"),M.xScales=this._getScales("x"),M.yScales=this._getScales("y"),M.render(b)}},x._bindEvents=function(){var M=new r.Event({view:this,canvas:this.get("canvas")});M.bindEvents(),this.set("eventController",M)},x._clearEvents=function(){var M=this.get("eventController");M&&M.clearEvents()},x._getScales=function(M){for(var b=this.get("geoms"),E={},C=0;C<b.length;C++){var T=b[C],O=M==="x"?T.getXScale():T.getYScale();O&&!E[O.field]&&(E[O.field]=O)}return E},x._adjustScale=function(){this._setCatScalesRange();for(var M=this.get("geoms"),b=this.get("scaleController"),E=b.defs,C=0;C<M.length;C++){var T=M[C];if(T.get("type")==="interval"){var O=T.getYScale(),L=O.field,R=O.min,W=O.max,U=O.type;!(E[L]&&E[L].min)&&U!=="time"&&(R>0?O.change({min:0}):W<=0&&O.change({max:0}))}}},x._setCatScalesRange=function(){var M=this,b=M.get("coord"),E=M.get("viewTheme"),C=M.getXScale(),T=M.getYScales(),O=[];C&&O.push(C),O=O.concat(T);var L=b.isPolar&&l(b),R=M.get("scaleController"),W=R.defs;f.each(O,function(U){if((U.isCategory||U.isIdentity)&&U.values&&!(W[U.field]&&W[U.field].range)){var X=U.values.length,Z;if(X===1)Z=[.5,1];else{var J=1,ht=0;L?b.isTransposed?(J=E.widthRatio.multiplePie,ht=1/X*J,Z=[ht/2,1-ht/2]):Z=[0,1-1/X]:(ht=1/X*1/2,Z=[ht,1-ht])}U.range=Z}})},x.getXScale=function(){var M=this.get("geoms"),b=null;return f.isEmpty(M)||(b=M[0].getXScale()),b},x.getYScales=function(){for(var M=this.get("geoms"),b=[],E=0;E<M.length;E++){var C=M[E],T=C.getYScale();T&&f.indexOf(b,T)===-1&&b.push(T)}return b},x.getXY=function(M){var b=this,E=b.get("coord"),C=b._getScales("x"),T=b._getScales("y"),O,L;for(var R in M)C[R]&&(O=C[R].scale(M[R])),T[R]&&(L=T[R].scale(M[R]));return!f.isNil(O)&&!f.isNil(L)?E.convert({x:O,y:L}):null},x.getSnapRecords=function(M){var b=this,E=b.get("geoms"),C=[];return f.each(E,function(T){var O=T.get("dataArray"),L;f.each(O,function(R){L=T.findPoint(M,R),L&&C.push(L)})}),C},x.addGeom=function(M){var b=this,E=b.get("geoms");E.push(M),M.set("view",b);var C=b.get("viewContainer");M.set("container",C),M.set("animate",b.get("animate")),M.bindEvents()},x.removeGeom=function(M){var b=this.get("geoms");f.Array.remove(b,M),M.destroy()},x.createScale=function(M,b){var E=this.get("scales"),C=this.get("parent"),T=E[M];if(!b){var O=this.get("filteredData"),L=this._getFieldsForLegend();O.length&&!L.includes(M)?b=O:b=this.get("data")}var R=this.get("scaleController");if(T){if(T.sync){var U=R.createScale(M,b);this._syncScale(T,U)}}else{if(T=R.createScale(M,b),T.sync&&C){var W=C.createScale(M,b);T=this._getSyncScale(W,T)}E[M]=T}return T},x._getFieldsForLegend=function(){var M=[],b=this.get("geoms");return f.each(b,function(E){var C=E.getFieldsForLegend();M=M.concat(C)}),f.uniq(M)},x._getSyncScale=function(M,b){return M.type!==b.type?b:(this._syncScale(M,b),M)},x._syncScale=function(M,b){var E=f.union(M.values,b.values);if(b.isLinear){var C=Math.max(M.max,b.max),T=Math.min(M.min,b.min);(M.max!==C||M.min!==T)&&M.change({min:T,max:C,values:E})}E.length!==M.values.length&&M.change({values:E})},x.getFilteredValues=function(M){var b=this.get("scales")[M],E=b.values,C=this._getFilters(),T;return C&&C[M]?T=E.filter(C[M]):T=E.slice(0),T},x.getFilteredOutValues=function(M){var b=this.get("scales")[M],E=b.values,C=this._getFilters(),T;return C&&C[M]?T=E.filter(function(){return!C[M].apply(C,arguments)}):T=[],T},x.filter=function(M,b){var E=this.get("options");E.filters||(E.filters={}),E.filters[M]=b,this.get("scaleController").filters=E.filters},x._getFilters=function(){var M=this.get("options");return M.filters},x.execFilter=function(M){var b=this,E=b._getFilters();return E&&(M=M.filter(function(C){var T=!0;return f.each(E,function(O,L){if(O&&(T=O(C[L],C),!T))return!1}),T})),M},x.axis=function(M,b){var E=this.get("options");if(M===!1)E.axes=!1;else{E.axes||(E.axes={});var C=E.axes;C[M]=b}return this},x.guide=function(){return this.get("guideController")},x._getKeyFields=function(M){var b=[];f.each(M,function(E,C){E.key&&b.push(C)}),this.set("keyFields",b)},x.scale=function(M,b){var E=this.get("options"),C=E.scales;return f.isObject(M)?f.mix(C,M):C[M]=b,this._getKeyFields(C),this},x.tooltip=function(M){return this.set("tooltipEnable",M),this},x.animate=function(M){var b=this.get("options");return b.animate=M,this.set("animate",M),this},x.changeOptions=function(M){return this.set("options",M),this._initOptions(M),this},x.getViewsByPoint=function(M){var b=[],E=this.get("views");return p(this.get("coord"),M)&&b.push(this),f.each(E,function(C){C.get("visible")&&p(C.get("coord"),M)&&b.push(C)}),b},x.eachShape=function(M){var b=this,E=b.get("views"),C=b.get("canvas");f.each(E,function(O){O.eachShape(M)});var T=this.get("geoms");return f.each(T,function(O){var L=O.getShapes();f.each(L,function(R){var W=R.get("origin");if(f.isArray(W)){var U=W.map(function(Z){return Z[a]});M(U,R,O,b)}else{var X=W[a];M(X,R,O,b)}})}),C.draw(),this},x.filterShape=function(M){var b=function(C,T,O,L){M(C,T,O,L)?T.show():T.hide()};return this.eachShape(b),this},x.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner");var M=this.get("options");M.geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},x.clear=function(){var M=this.get("options");return M.filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},x.coord=function(M,b){var E=this.get("coordController");return E.reset({type:M,cfg:b}),E},x.resetCoord=function(){this._createCoord()},x.source=function(M,b){return this._initData(M),b&&this.scale(b),this.emit("setdata"),this},x.changeData=function(M){return this.emit("beforechangedata"),this._initData(M),this.emit("afterchangedata"),this.repaint(),this},x._initData=function(M){var b=this.get("dataView");b&&(b.off("change",f.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),M&&M.isDataView&&(M.on("change",f.wrapBehavior(this,"_onViewChange")),this.set("dataView",M),M=M.rows),this.set("data",M)},x._onViewChange=function(){this.emit("beforechangedata");var M=this.get("dataView"),b=M.rows;this.set("data",b),this.emit("afterchangedata"),this.repaint()},x.beforeRender=function(){var M=this.get("views");f.each(M,function(b){b.beforeRender()}),this.initView()},x.drawComponents=function(){var M=this.get("views");f.each(M,function(b){b.drawComponents()}),this._renderAxes(),this._renderGuides()},x.drawCanvas=function(M){if(!M){var b=this.get("views"),E=this.get("backPlot");E.sort();var C=this.get("canvas"),T=this.get("animate");if(T){var O=this.get("isUpdate");f.each(b,function(L){u.execAnimation(L,O)}),u.execAnimation(this,O)}else C.draw()}},x.render=function(M){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(M),this.emit("afterrender"),this.set("rendered",!0),this},x.initView=function(){var M=this.get("data")||[],b=this.execFilter(M);this.set("filteredData",b),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},x.paint=function(){var M=this.get("views");f.each(M,function(E){E.paint()});var b=this.get("data");f.isEmpty(b)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},x.changeVisible=function(M,b){var E=this.get("geoms");if(f.each(E,function(T){T.changeVisible(M,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(M),this.get("guideController")&&this.get("guideController").changeVisible(M),!b){var C=this.get("canvas");C.draw()}},x.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},x.destroy=function(){this._clearEvents();var M=this.get("dataView");M&&M.off("change",f.getWrapBehavior(this,"_onViewChange")),this.clear(),y.prototype.destroy.call(this)},A}(v);P.exports=g},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(6),s=i(5),v=i(3),o=i(33),f=function(r){t(e,r);function e(a){var u;return u=r.call(this,a)||this,u.names=["x","y"],u.type="position",u}var n=e.prototype;return n.mapping=function(u,l){var h=this.scales,p=this.coord,d=h[0],g=h[1],y,x,A;if(c(u)||c(l))return[];if(s(l)&&s(u)){y=[],x=[];for(var m=0,M=0,b=u.length,E=l.length;m<b&&M<E;m++,M++)A=p.convertPoint({x:d.scale(u[m]),y:g.scale(l[M])}),y.push(A.x),x.push(A.y)}else if(s(l))u=d.scale(u),x=[],v(l,function(T){T=g.scale(T),A=p.convertPoint({x:u,y:T}),y&&y!==A.x?(s(y)||(y=[y]),y.push(A.x)):y=A.x,x.push(A.y)});else if(s(u))l=g.scale(l),y=[],v(u,function(T){T=d.scale(T),A=p.convertPoint({x:T,y:l}),x&&x!==A.y?(s(x)||(x=[x]),x.push(A.y)):x=A.y,y.push(A.x)});else{u=d.scale(u),l=g.scale(l);var C=p.convertPoint({x:u,y:l});y=C.x,x=C.y}return[y,x]},e}(o);P.exports=f},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(12),s=i(165),v=i(33),o=function(f){t(r,f);function r(n){var a;return a=f.call(this,n)||this,a.names=["color"],a.type="color",a.gradient=null,c(a.values)&&(a.linear=!0),a}var e=r.prototype;return e.getLinearValue=function(a){var u=this.gradient;if(!u){var l=this.values;u=s.gradient(l),this.gradient=u}return u(a)},r}(v);P.exports=o},function(P,S,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(r){var e;return e=v.call(this,r)||this,e.names=["shape"],e.type="shape",e.gradient=null,e}var f=o.prototype;return f.getLinearValue=function(e){var n=this.values,a=Math.round((n.length-1)*e);return n[a]},o}(c);P.exports=s},function(P,S,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(f){var r;return r=v.call(this,f)||this,r.names=["size"],r.type="size",r.gradient=null,r}return o}(c);P.exports=s},function(P,S,i){function t(v,o){v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.__proto__=o}var c=i(33),s=function(v){t(o,v);function o(f){var r;return r=v.call(this,f)||this,r.names=["opacity"],r.type="opacity",r.gradient=null,r}return o}(c);P.exports=s},function(P,S,i){var t=i(10),c=i(34),s=i(336),v=i(337),o=i(166),f=i(338),r=i(339);t(c.prototype,o),t(s.prototype,o,f),t(v.prototype,r),c.Jitter=i(340),c.Symmetric=i(341),c.Dodge=s,c.Stack=v,P.exports=c},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var c=i(34),s=i(3),v=1/2,o=1/2,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n._initDefaultCfg=function(){this.marginRatio=v,this.dodgeRatio=o,this.adjustNames=["x","y"]},n.getDodgeOffset=function(u,l,h){var p=this,d=u.pre,g=u.next,y=g-d,x=y*p.dodgeRatio/h,A=p.marginRatio*x,m=1/2*(y-h*x-(h-1)*A)+((l+1)*x+l*A)-1/2*x-1/2*y;return(d+g)/2+m},n.processAdjust=function(u){var l=this,h=u.length,p=l.xField;s(u,function(d,g){for(var y=0,x=d.length;y<x;y++){var A=d[y],m=A[p],M={pre:x===1?m-1:m-.5,next:x===1?m+1:m+.5},b=l.getDodgeOffset(M,g,h);A[p]=b}})},e}(c);c.Dodge=f,P.exports=f},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.__proto__=r}var c=i(5),s=i(6),v=i(34),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){this.xField=null,this.yField=null},e.processAdjust=function(a){this.processStack(a)},e.processStack=function(a){var u=this,l=u.xField,h=u.yField,p=a.length,d={positive:{},negative:{}};u.reverseOrder&&(a=a.slice(0).reverse());for(var g=0;g<p;g++)for(var y=a[g],x=0,A=y.length;x<A;x++){var m=y[x],M=m[l]||0,b=m[h],E=M.toString();if(b=c(b)?b[1]:b,!s(b)){var C=b>=0?"positive":"negative";d[C][E]||(d[C][E]=0),m[h]=[d[C][E],b+d[C][E]],d[C][E]+=b}}},r}(v);v.Stack=o,P.exports=o},function(P,S,i){var t={merge:i(49),values:i(89)},c=i(160),s=i(3);P.exports={processAdjust:function(o){var f=this,r=t.merge(o),e=f.dodgeBy,n=o;e&&(n=c(r,e)),f.cacheMap={},f.adjDataArray=n,f.mergeData=r,f.adjustData(n,r),f.adjDataArray=null,f.mergeData=null},getDistribution:function(o){var f=this,r=f.adjDataArray,e=f.cacheMap,n=e[o];return n||(n={},s(r,function(a,u){var l=t.values(a,o);l.length||l.push(0),s(l,function(h){n[h]||(n[h]=[]),n[h].push(u)})}),e[o]=n),n},adjustDim:function(o,f,r,e,n){var a=this,u=a.getDistribution(o),l=a.groupData(r,o);s(l,function(h,p){p=parseFloat(p);var d;f.length===1?d={pre:f[0]-1,next:f[0]+1}:d=a.getAdjustRange(o,p,f),s(h,function(g){var y=g[o],x=u[y],A=x.indexOf(n);g[o]=a.getDodgeOffset(d,A,x.length)})})}}},function(P,S){P.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var c=this,s=c.xField,v=c.yField||"y",o=c.height,f={};c.reverseOrder&&(t=t.slice(0).reverse());for(var r=0,e=t.length;r<e;r++)for(var n=t[r],a=0,u=n.length;a<u;a++){var l=n[a],h=l.size||c.size,p=h*2/o,d=l[s];f[d]||(f[d]=p/2),l[v]=f[d],f[d]+=p}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(3),s=i(10),v={merge:i(49)},o=i(34),f=i(166),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},a.processAdjust=function(l){var h=this,p=v.merge(l);h.adjDataArray=l,h.mergeData=p,h.adjustData(l,p),h.adjFrames=null,h.mergeData=null},a.getAdjustOffset=function(l,h){var p=Math.random(),d=h-l,g=d*.05;return l+g+d*.9*p},a._adjustGroup=function(l,h,p,d){var g=this,y=g.getAdjustRange(h,p,d);c(l,function(x){x[h]=g.getAdjustOffset(y.pre,y.next)})},a.adjustDim=function(l,h,p){var d=this,g=d.groupData(p,l);c(g,function(y,x){x=parseFloat(x),d._adjustGroup(y,l,x,h)})},n}(o);s(r.prototype,f),o.Jitter=r,P.exports=r},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var c=i(3),s=i(148),v=i(5),o={merge:i(49)},f=i(34),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},a._getMax=function(l){var h=this,p=h.mergeData,d=s(p,function(x){var A=x[l];return v(A)?Math.max.apply(null,A):A}),g=d[l],y=v(g)?Math.max.apply(null,g):g;return y},a._getXValuesMax=function(){var l=this,h=l.yField,p=l.xField,d={},g=l.mergeData;return c(g,function(y){var x=y[p],A=y[h],m=v(A)?Math.max.apply(null,A):A;d[x]=d[x]||0,d[x]<m&&(d[x]=m)}),d},a.processAdjust=function(l){var h=this,p=o.merge(l);h.mergeData=p,h._processSymmetric(l),h.mergeData=null},a._processSymmetric=function(l){var h=this,p=h.xField,d=h.yField,g=h._getMax(d),y=l[0][0],x;y&&v(y[d])&&(x=h._getXValuesMax()),c(l,function(A){c(A,function(m){var M=m[d],b;if(v(M)){var E=m[p],C=x[E];b=(g-C)/2;var T=[];c(M,function(O){T.push(b+O)}),m[d]=T}else b=(g-M)/2,m[d]=[b,M+b]})})},n}(f);f.Symmetric=r,P.exports=r},function(P,S,i){var t,c,s=i(0),v=i(168),o="g2-tooltip",f="g2-legend",r=s.deepMix({},v,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(t={},t[""+f]={color:"#D9D9D9"},t),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(c={},c[""+o]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},c),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});P.exports=r},function(P,S,i){var t=i(91),c=i(198),s=i(393),v=i(394),o={getLabelsClass:function(r,e){var n=t;return r==="polar"?n=c:r==="theta"?n=s:(e==="interval"||e==="polygon")&&(n=v),n}};P.exports=o},function(P,S,i){var t=i(35);t.Base=t,t.Circle=i(368),t.Grid=i(187),t.Helix=i(369),t.Line=i(370),t.Polyline=i(371),P.exports=t},function(P,S,i){var t=i(2),c=i(170),s=i(171),v=i(351),o=i(352),f=function r(e){r.superclass.constructor.call(this,e)};f.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},t.extend(f,s),t.augment(f,{init:function(){f.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(e,n){if(e)if(t.isEmpty(e._getEvents())){var a=e.get("parent");if(a&&!n.propagationStopped)return this.getEmitter(a,n)}else return e},_getEventObj:function(e,n,a,u){var l=new c(e,n,!0,!0);return l.x=a.x,l.y=a.y,l.clientX=n.clientX,l.clientY=n.clientY,l.currentTarget=u,l.target=u,l},_triggerEvent:function(e,n){var a=this.getPointByClient(n.clientX,n.clientY),u=this.getShape(a.x,a.y,n),l=this.get("el"),h;if(e==="mousemove"){var p=this.get("preShape");if(p&&p!==u){var d=this._getEventObj("mouseleave",n,a,p);h=this.getEmitter(p,n),h&&h.emit("mouseleave",d),l.style.cursor="default"}if(u){var g=this._getEventObj("mousemove",n,a,u);if(h=this.getEmitter(u,n),h&&h.emit("mousemove",g),p!==u){var y=this._getEventObj("mouseenter",n,a,u);h&&h.emit("mouseenter",y,n)}}else{var x=this._getEventObj("mousemove",n,a,this);this.emit("mousemove",x)}this.set("preShape",u)}else{var A=this._getEventObj(e,n,a,u||this);h=this.getEmitter(u,n),h&&h!==this&&h.emit(e,A),this.emit(e,A)}u&&!u.get("destroyed")&&(l.style.cursor=u.attr("cursor")||"default")},_registEvents:function(){var e=this,n=e.get("el"),a=["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"];t.each(a,function(u){n.addEventListener(u,function(l){e._triggerEvent(u,l)},!1)}),n.addEventListener("touchstart",function(u){t.isEmpty(u.touches)||e._triggerEvent("touchstart",u.touches[0])},!1),n.addEventListener("touchmove",function(u){t.isEmpty(u.touches)||e._triggerEvent("touchmove",u.touches[0])},!1),n.addEventListener("touchend",function(u){t.isEmpty(u.changedTouches)||e._triggerEvent("touchend",u.changedTouches[0])},!1)},_scale:function(){var e=this.get("pixelRatio");this.scale(e,e)},_setGlobalParam:function(){var e=this.get("pixelRatio");e||this.set("pixelRatio",t.getRatio());var n=o[this.get("renderer")||"canvas"];this._cfg.renderer=n,this._cfg.canvas=this;var a=new v(this);this._cfg.timeline=a},_setContainer:function(){var e=this.get("containerId"),n=this.get("containerDOM");n||(n=document.getElementById(e),this.set("containerDOM",n)),t.modifyCSS(n,{position:"relative"})},_initPainter:function(){var e=this.get("containerDOM"),n=new this._cfg.renderer.painter(e);this._cfg.painter=n,this._cfg.canvasDOM=this._cfg.el=n.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var e=this.get("canvasDOM"),n=this.get("widthCanvas"),a=this.get("heightCanvas"),u=this.get("widthStyle"),l=this.get("heightStyle");e.style.width=u,e.style.height=l,e.setAttribute("width",n),e.setAttribute("height",a)},getWidth:function(){var e=this.get("pixelRatio"),n=this.get("width");return n*e},getHeight:function(){var e=this.get("pixelRatio"),n=this.get("height");return n*e},changeSize:function(e,n){var a=this.get("pixelRatio"),u=e*a,l=n*a;this.set("widthCanvas",u),this.set("heightCanvas",l),this.set("widthStyle",e+"px"),this.set("heightStyle",n+"px"),this.set("width",e),this.set("height",n),this._resize()},getPointByClient:function(e,n){var a=this.get("el"),u=this.get("pixelRatio")||1,l=a.getBoundingClientRect();return{x:(e-l.left)*u,y:(n-l.top)*u}},getClientByPoint:function(e,n){var a=this.get("el"),u=a.getBoundingClientRect(),l=this.get("pixelRatio")||1;return{clientX:e/l+u.left,clientY:n/l+u.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(e,n,a){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,n,a):f.superclass.getShape.call(this,e,n)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var e=this._cfg,n=e.containerDOM,a=e.canvasDOM;a&&n&&n.removeChild(a),e.timeline.stop(),f.superclass.destroy.call(this)}}),P.exports=f},function(P,S,i){var t=i(2);P.exports={canFill:!1,canStroke:!1,initAttrs:function(s){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(t.assign(this.getDefaultAttrs(),s)),this},getDefaultAttrs:function(){return{}},attr:function(s,v){var o=this;if(arguments.length===0)return o._attrs;if(t.isObject(s)){for(var f in s)this._setAttr(f,s[f]);return o.clearBBox(),this._cfg.hasUpdate=!0,o}return arguments.length===2?(this._setAttr(s,v),o.clearBBox(),this._cfg.hasUpdate=!0,o):o._attrs[s]},_setAttr:function(s,v){var o=this,f=this._attrs;if(f[s]=v,s==="fill"||s==="stroke"){f[s+"Style"]=v;return}if(s==="opacity"){f.globalAlpha=v;return}if(s==="clip"&&v){o._setClip(v);return}if(s==="path"&&o._afterSetAttrPath){o._afterSetAttrPath(v);return}if(s==="transform"){o.transform(v);return}s==="rotate"&&o.rotateAtStart(v)},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(s){s._cfg.renderer=this._cfg.renderer,s._cfg.canvas=this._cfg.canvas,s._cfg.parent=this._cfg.parent,s.hasFill=function(){return!0}}}},function(P,S,i){var t=i(2);function c(o){return o[0]===1&&o[1]===0&&o[3]===0&&o[4]===1&&o[6]===0&&o[7]===0}function s(o){return o[1]===0&&o[3]===0&&o[6]===0&&o[7]===0}function v(o,f){c(f)||(s(f)?(o[0]*=f[0],o[4]*=f[4]):t.mat3.multiply(o,o,f))}P.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(f,r){var e=this._attrs.matrix;return t.mat3.translate(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotate:function(f){var r=this._attrs.matrix;return t.mat3.rotate(r,r,f),this.clearTotalMatrix(),this.attr("matrix",r),this},scale:function(f,r){var e=this._attrs.matrix;return t.mat3.scale(e,e,[f,r]),this.clearTotalMatrix(),this.attr("matrix",e),this},rotateAtStart:function(f){var r=this._attrs.x||this._cfg.attrs.x,e=this._attrs.y||this._cfg.attrs.y;return Math.abs(f)>Math.PI*2&&(f=f/180*Math.PI),this.transform([["t",-r,-e],["r",f],["t",r,e]])},move:function(f,r){var e=this.get("x")||0,n=this.get("y")||0;return this.translate(f-e,r-n),this.set("x",f),this.set("y",r),this},transform:function(f){var r=this,e=this._attrs.matrix;return t.each(f,function(n){switch(n[0]){case"t":r.translate(n[1],n[2]);break;case"s":r.scale(n[1],n[2]);break;case"r":r.rotate(n[1]);break;case"m":r.attr("matrix",t.mat3.multiply([],e,n[1])),r.clearTotalMatrix();break;default:break}}),r},setTransform:function(f){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(f)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(f){return this.attr("matrix",f),this.clearTotalMatrix(),this},apply:function(f,r){var e;return r?e=this._getMatrixByRoot(r):e=this.attr("matrix"),t.vec3.transformMat3(f,f,e),this},_getMatrixByRoot:function(f){var r=this;f=f||r;for(var e=r,n=[];e!==f;)n.unshift(e),e=e.get("parent");n.unshift(e);var a=[1,0,0,0,1,0,0,0,1];return t.each(n,function(u){t.mat3.multiply(a,u.attr("matrix"),a)}),a},getTotalMatrix:function(){var f=this._cfg.totalMatrix;if(!f){f=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;if(r){var e=r.getTotalMatrix();v(f,e)}v(f,this.attr("matrix")),this._cfg.totalMatrix=f}return f},clearTotalMatrix:function(){},invert:function(f){var r=this.getTotalMatrix();if(s(r))f[0]/=r[0],f[1]/=r[4];else{var e=t.mat3.invert([],r);e&&t.vec3.transformMat3(f,f,e)}return this},resetTransform:function(f){var r=this.attr("matrix");c(r)||f.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}},function(P,S,i){var t=i(2),c={delay:"delay",rotate:"rotate"},s={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function v(r,e){var n={},a=e._attrs;for(var u in r.attrs)n[u]=a[u];return n}function o(r,e){var n={matrix:null,attrs:{}},a=e._attrs;for(var u in r)if(u==="transform")n.matrix=t.transform(e.getMatrix(),r[u]);else if(u==="rotate")n.matrix=t.transform(e.getMatrix(),[["r",r[u]]]);else if(u==="matrix")n.matrix=r[u];else{if(s[u]&&/^[r,R,L,l]{1}[\s]*\(/.test(r[u]))continue;!c[u]&&a[u]!==r[u]&&(n.attrs[u]=r[u])}return n}function f(r,e){var n=e.delay,a=Object.prototype.hasOwnProperty;return t.each(e.toAttrs,function(u,l){t.each(r,function(h){n<h.startTime+h.duration&&a.call(h.toAttrs,l)&&(delete h.toAttrs[l],delete h.fromAttrs[l])})}),e.toMatrix&&t.each(r,function(u){n<u.startTime+u.duration&&u.toMatrix&&delete u.toMatrix}),r}P.exports={animate:function(e,n,a,u,l){l===void 0&&(l=0);var h=this;h.set("animating",!0);var p=h.get("timeline");p||(p=h.get("canvas").get("timeline"),h.setSilent("timeline",p));var d=h.get("animators")||[];p._timer||p.initTimer(),t.isNumber(u)&&(l=u,u=null),t.isFunction(a)?(u=a,a="easeLinear"):a=a||"easeLinear";var g=o(e,h),y={fromAttrs:v(g,h),toAttrs:g.attrs,fromMatrix:t.clone(h.getMatrix()),toMatrix:g.matrix,duration:n,easing:a,callback:u,delay:l,startTime:p.getTime(),id:t.uniqueId()};d.length>0?d=f(d,y):p.addAnimator(h),d.push(y),h.setSilent("animators",d),h.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,n=this.get("animators");t.each(n,function(a){e.attr(a.toAttrs),a.toMatrix&&e.attr("matrix",a.toMatrix),a.callback&&a.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this,n=e.get("timeline");return e.setSilent("pause",{isPaused:!0,pauseTime:n.getTime()}),e},resumeAnimate:function(){var e=this,n=e.get("timeline"),a=n.getTime(),u=e.get("animators"),l=e.get("pause").pauseTime;return t.each(u,function(h){h.startTime=h.startTime+(a-l),h._paused=!1,h._pauseTime=null}),e.setSilent("pause",{isPaused:!1}),e.setSilent("animators",u),e}}},function(P,S,i){var t=i(9);t.Arc=i(175),t.Circle=i(176),t.Dom=i(177),t.Ellipse=i(178),t.Fan=i(179),t.Image=i(180),t.Line=i(181),t.Marker=i(95),t.Path=i(182),t.Polygon=i(183),t.Polyline=i(184),t.Rect=i(185),t.Text=i(186),P.exports=t},function(P,S,i){var t=i(2),c=i(93),s={arc:i(53),ellipse:i(174),line:i(52)},v=t.createDom('<canvas width="500" height="500"></canvas>'),o=v.getContext("2d");function f(M,b,E){return E.createPath(o),o.isPointInPath(M,b)}var r=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.r,R=C.startAngle,W=C.endAngle,U=C.clockwise,X=this.getHitLineWidth();return this.hasStroke()?c.arcline(T,O,L,R,W,U,X,b,E):!1},e=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.r,R=this.getHitLineWidth(),W=this.hasFill(),U=this.hasStroke();return W&&U?c.circle(T,O,L,b,E)||c.arcline(T,O,L,0,Math.PI*2,!1,R,b,E):W?c.circle(T,O,L,b,E):U?c.arcline(T,O,L,0,Math.PI*2,!1,R,b,E):!1},n=function(b,E){var C=this._attrs,T=this.hasFill(),O=this.hasStroke(),L=C.x,R=C.y,W=C.rx,U=C.ry,X=this.getHitLineWidth(),Z=W>U?W:U,J=W>U?1:W/U,ht=W>U?U/W:1,at=[b,E,1],Q=[1,0,0,0,1,0,0,0,1];t.mat3.scale(Q,Q,[J,ht]),t.mat3.translate(Q,Q,[L,R]);var xt=t.mat3.invert([],Q);return t.vec3.transformMat3(at,at,xt),T&&O?c.circle(0,0,Z,at[0],at[1])||c.arcline(0,0,Z,0,Math.PI*2,!1,X,at[0],at[1]):T?c.circle(0,0,Z,at[0],at[1]):O?c.arcline(0,0,Z,0,Math.PI*2,!1,X,at[0],at[1]):!1},a=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke(),L=C._attrs,R=L.x,W=L.y,U=L.rs,X=L.re,Z=L.startAngle,J=L.endAngle,ht=L.clockwise,at=[1,0],Q=[b-R,E-W],xt=t.vec2.angleTo(at,Q);function kt(){var nt=s.arc.nearAngle(xt,Z,J,ht);if(t.isNumberEqual(xt,nt)){var q=t.vec2.squaredLength(Q);if(U*U<=q&&q<=X*X)return!0}return!1}function Nt(){var nt=C.getHitLineWidth(),q={x:Math.cos(Z)*U+R,y:Math.sin(Z)*U+W},G={x:Math.cos(Z)*X+R,y:Math.sin(Z)*X+W},N={x:Math.cos(J)*U+R,y:Math.sin(J)*U+W},it={x:Math.cos(J)*X+R,y:Math.sin(J)*X+W};return!!(c.line(q.x,q.y,G.x,G.y,nt,b,E)||c.line(N.x,N.y,it.x,it.y,nt,b,E)||c.arcline(R,W,U,Z,J,ht,nt,b,E)||c.arcline(R,W,X,Z,J,ht,nt,b,E))}return T&&O?kt()||Nt():T?kt():O?Nt():!1},u=function(b,E){var C=this._attrs;if(this.get("toDraw")||!C.img)return!1;(!this._cfg.attrs||this._cfg.attrs.img!==C.img)&&this._setAttrImg();var T=C.x,O=C.y,L=C.width,R=C.height;return c.rect(T,O,L,R,b,E)},l=function(b,E){var C=this._attrs,T=C.x1,O=C.y1,L=C.x2,R=C.y2,W=this.getHitLineWidth();return this.hasStroke()?c.line(T,O,L,R,W,b,E):!1},h=function(b,E){var C=this,T=C.get("segments"),O=C.hasFill(),L=C.hasStroke();function R(){if(!t.isEmpty(T)){for(var W=C.getHitLineWidth(),U=0,X=T.length;U<X;U++)if(T[U].isInside(b,E,W))return!0;return!1}}return O&&L?f(b,E,C)||R():O?f(b,E,C):L?R():!1},p=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke();function L(){var R=C._attrs,W=R.points;if(W.length<2)return!1;var U=C.getHitLineWidth(),X=W.slice(0);return W.length>=3&&X.push(W[0]),c.polyline(X,U,b,E)}return T&&O?f(b,E,C)||L():T?f(b,E,C):O?L():!1},d=function(b,E){var C=this._attrs,T=C.x,O=C.y,L=C.radius||C.r,R=this.getHitLineWidth();return c.circle(T,O,L+R/2,b,E)},g=function(b,E){var C=this,T=C._attrs;if(C.hasStroke()){var O=T.points;if(O.length<2)return!1;var L=T.lineWidth;return c.polyline(O,L,b,E)}return!1},y=function(b,E){var C=this,T=C.hasFill(),O=C.hasStroke();function L(){var R=C._attrs,W=R.x,U=R.y,X=R.width,Z=R.height,J=R.radius,ht=C.getHitLineWidth();if(J===0){var at=ht/2;return c.line(W-at,U,W+X+at,U,ht,b,E)||c.line(W+X,U-at,W+X,U+Z+at,ht,b,E)||c.line(W+X+at,U+Z,W-at,U+Z,ht,b,E)||c.line(W,U+Z+at,W,U-at,ht,b,E)}return c.line(W+J,U,W+X-J,U,ht,b,E)||c.line(W+X,U+J,W+X,U+Z-J,ht,b,E)||c.line(W+X-J,U+Z,W+J,U+Z,ht,b,E)||c.line(W,U+Z-J,W,U+J,ht,b,E)||c.arcline(W+X-J,U+J,J,1.5*Math.PI,2*Math.PI,!1,ht,b,E)||c.arcline(W+X-J,U+Z-J,J,0,.5*Math.PI,!1,ht,b,E)||c.arcline(W+J,U+Z-J,J,.5*Math.PI,Math.PI,!1,ht,b,E)||c.arcline(W+J,U+J,J,Math.PI,1.5*Math.PI,!1,ht,b,E)}return T&&O?f(b,E,C)||L():T?f(b,E,C):O?L():!1},x=function(b,E){var C=this,T=C.getBBox();if(C.hasFill()||C.hasStroke())return c.box(T.minX,T.maxX,T.minY,T.maxY,b,E)},A=function(b,E){if(!this._cfg.el)return!1;var C=this._cfg.el.getBBox();return c.box(C.x,C.x+C.width,C.y,C.y+C.height,b,E)},m={arc:r,circle:e,dom:A,ellipse:n,fan:a,image:u,line:l,path:h,marker:d,polygon:p,polyline:g,rect:y,text:x};P.exports={isPointInPath:function(b,E){var C=m[this.type];return C?C.call(this,b,E):!1}}},function(P,S,i){var t=i(2),c=i(96),s=i(101),v=i(103),o=i(133),f=o.interpolate,r=o.interpolateArray,e=function(l){this._animators=[],this._current=0,this._timer=null,this.canvas=l};function n(u,l,h){var p={},d=l.toAttrs,g=l.fromAttrs,y=l.toMatrix;if(!u.get("destroyed")){var x;for(var A in d)if(!t.isEqual(g[A],d[A]))if(A==="path"){var m=d[A],M=g[A];m.length>M.length?(m=c.parsePathString(d[A]),M=c.parsePathString(g[A]),M=c.fillPathByDiff(M,m),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m):l.pathFormatted||(m=c.parsePathString(d[A]),M=c.parsePathString(g[A]),M=c.formatPath(M,m),l.fromAttrs.path=M,l.toAttrs.path=m,l.pathFormatted=!0),p[A]=[];for(var b=0;b<m.length;b++){for(var E=m[b],C=M[b],T=[],O=0;O<E.length;O++)t.isNumber(E[O])&&C&&t.isNumber(C[O])?(x=f(C[O],E[O]),T.push(x(h))):T.push(E[O]);p[A].push(T)}}else x=f(g[A],d[A]),p[A]=x(h);if(y){var L=r(l.fromMatrix,y),R=L(h);u.setMatrix(R)}u.attr(p)}}function a(u,l,h){var p=l.startTime;if(h<p+l.delay||l.isPaused)return!1;var d,g=l.duration,y=l.easing;if(h=h-p-l.delay,l.toAttrs.repeat)d=h%g/g,d=v[y](d);else if(d=h/g,d<1)d=v[y](d);else return u.attr(l.toAttrs),l.toMatrix&&u.setMatrix(l.toMatrix),!0;return n(u,l,d),!1}t.augment(e,{initTimer:function(){var l=this,h=this,p=!1,d,g,y;h._timer=s.timer(function(x){if(h._current=x,l._animators.length>0){for(var A=l._animators.length-1;A>=0;A--){if(d=l._animators[A],d.get("destroyed")){h.removeAnimator(A);continue}if(!d.get("pause").isPaused){g=d.get("animators");for(var m=g.length-1;m>=0;m--)y=g[m],p=a(d,y,x),p&&(g.splice(m,1),p=!1,y.callback&&y.callback())}g.length===0&&h.removeAnimator(A)}l.canvas.draw()}})},addAnimator:function(l){this._animators.push(l)},removeAnimator:function(l){this._animators.splice(l,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(l){l.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),P.exports=e},function(P,S,i){P.exports={canvas:i(353),svg:i(356)}},function(P,S,i){P.exports={painter:i(354)}},function(P,S,i){var t=i(2),c=i(355),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],v=function(){function o(r){if(!r)return null;var e=t.uniqueId("canvas_"),n=t.createDom('<canvas id="'+e+'"></canvas>');return r.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var f=o.prototype;return f.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},f.draw=function(e){var n=this;function a(){n.animateHandler=t.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&a()}),n.beforeDraw();try{n._drawGroup(e)}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u),n.toDraw=!1}n.toDraw=!1}n.animateHandler?n.toDraw=!0:a()},f.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},f._drawGroup=function(e){if(!(e._cfg.removed||e._cfg.destroyed||!e._cfg.visible)){var n=this,a=e._cfg.children,u=null;this.setContext(e);for(var l=0;l<a.length;l++)u=a[l],a[l].isGroup?n._drawGroup(u):n._drawShape(u);this.restoreContext(e)}},f._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},f.setContext=function(e){var n=this.context,a=e._attrs.clip;n.save(),a&&(a.resetTransform(n),a.createPath(n),n.clip()),this.resetContext(e),e.resetTransform(n)},f.restoreContext=function(){this.context.restore()},f.resetContext=function(e){var n=this.context,a=e._attrs;if(!e.isGroup){for(var u in a)if(s.indexOf(u)>-1){var l=a[u];u==="fillStyle"&&(l=c.parseStyle(l,e,n)),u==="strokeStyle"&&(l=c.parseStyle(l,e,n)),u==="lineDash"&&n.setLineDash?t.isArray(l)?n.setLineDash(l):t.isString(l)&&n.setLineDash(l.split(" ")):n[u]=l}}},o}();P.exports=v},function(P,S,i){var t=i(2),c=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,s=/[^\s\,]+/ig,v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/ig,e={};function n(h,p){var d=h.match(r);t.each(d,function(g){g=g.split(":"),p.addColorStop(g[0],g[1])})}function a(h,p,d){var g=v.exec(h),y=t.mod(t.toRadian(parseFloat(g[1])),Math.PI*2),x=g[2],A=p.getBBox(),m,M;y>=0&&y<.5*Math.PI?(m={x:A.minX,y:A.minY},M={x:A.maxX,y:A.maxY}):.5*Math.PI<=y&&y<Math.PI?(m={x:A.maxX,y:A.minY},M={x:A.minX,y:A.maxY}):Math.PI<=y&&y<1.5*Math.PI?(m={x:A.maxX,y:A.maxY},M={x:A.minX,y:A.minY}):(m={x:A.minX,y:A.maxY},M={x:A.maxX,y:A.minY});var b=Math.tan(y),E=b*b,C=(M.x-m.x+b*(M.y-m.y))/(E+1)+m.x,T=b*(M.x-m.x+b*(M.y-m.y))/(E+1)+m.y,O=d.createLinearGradient(m.x,m.y,C,T);return n(x,O),O}function u(h,p,d){var g=o.exec(h),y=parseFloat(g[1]),x=parseFloat(g[2]),A=parseFloat(g[3]),m=g[4];if(A===0){var M=m.match(r);return M[M.length-1].split(":")[1]}var b=p.getBBox(),E=b.maxX-b.minX,C=b.maxY-b.minY,T=Math.sqrt(E*E+C*C)/2,O=d.createRadialGradient(b.minX+E*y,b.minY+C*x,A*T,b.minX+E/2,b.minY+C/2,T);return n(m,O),O}function l(h,p,d){if(p.get("patternSource")&&p.get("patternSource")===h)return p.get("pattern");var g,y,x=f.exec(h),A=x[1],m=x[2];function M(){g=d.createPattern(y,A),p.setSilent("pattern",g),p.setSilent("patternSource",h)}switch(A){case"a":A="repeat";break;case"x":A="repeat-x";break;case"y":A="repeat-y";break;case"n":A="no-repeat";break;default:A="no-repeat"}return y=new Image,m.match(/^data:/i)||(y.crossOrigin="Anonymous"),y.src=m,y.complete?M():(y.onload=M,y.src=y.src),g}P.exports={parsePath:function(p){if(p=p||[],t.isArray(p))return p;if(t.isString(p))return p=p.match(c),t.each(p,function(d,g){if(d=d.match(s),d[0].length>1){var y=d[0].charAt(0);d.splice(1,0,d[0].substr(1)),d[0]=y}t.each(d,function(x,A){isNaN(x)||(d[A]=+x)}),p[g]=d}),p},parseStyle:function(p,d,g){if(t.isString(p)){if(p[1]==="("||p[2]==="("){if(p[0]==="l")return a(p,d,g);if(p[0]==="r")return u(p,d,g);if(p[0]==="p")return l(p,d,g)}return p}},numberToColor:function(p){var d=e[p];if(!d){for(var g=p.toString(16),y=g.length;y<6;y++)g="0"+g;d="#"+g,e[p]=d}return d}}},function(P,S,i){P.exports={painter:i(357),getShape:i(364)}},function(P,S,i){var t=i(2),c=i(37),s=c.parseRadius,v=i(95),o=i(358),f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},r=.3,e={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},n={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},u=function(){function l(p){if(!p)return null;var d=t.uniqueId("canvas_"),g=t.createDom('<svg id="'+d+'"></svg>');return p.appendChild(g),this.type="svg",this.canvas=g,this.context=new o(g),this.toDraw=!1,this}var h=l.prototype;return h.draw=function(d){var g=this;function y(){g.animateHandler=t.requestAnimationFrame(function(){g.animateHandler=void 0,g.toDraw&&y()});try{d.resetMatrix(),g._drawGroup(d,!1)}catch(x){console.warn("error in draw canvas, detail as:"),console.warn(x),g.toDraw=!1}g.toDraw=!1}g.animateHandler?g.toDraw=!0:y()},h.drawSync=function(d){this._drawChildren(d,!1)},h._drawGroup=function(d,g){var y=d._cfg;y.removed||y.destroyed||(!y.el&&y.attrs&&(g=!0),y.tobeRemoved&&(t.each(y.tobeRemoved,function(x){x.parentNode&&x.parentNode.removeChild(x)}),y.tobeRemoved=[]),this._drawShape(d,g),y.children&&y.children.length>0&&this._drawChildren(d,g))},h._drawChildren=function(d,g){var y=this,x=d._cfg.children,A;if(!!x){if(d._cfg.el&&!g){var m=d._cfg.el.childNodes.length+1;m!==0&&m!==x.length&&(g=!0)}for(var M=0;M<x.length;M++)A=x[M],A.isGroup?y._drawGroup(A,g):y._drawShape(A,g)}},h._drawShape=function(d,g){var y=this,x=d._attrs,A=d._cfg,m=A.el;if(A.removed||A.destroyed){m&&m.parentNode.removeChild(A.el);return}if(g&&m&&(m.parentNode&&m.parentNode.removeChild(m),m=null),!m&&A.parent&&(y._createDom(d),y._updateShape(d)),m=A.el,A.visible===!1){m.setAttribute("visibility","hidden");return}A.visible&&m.hasAttribute("visibility")&&m.removeAttribute("visibility"),A.hasUpdate&&y._updateShape(d),x.clip&&x.clip._cfg.hasUpdate&&y._updateShape(x.clip)},h._updateShape=function(d){var g=this,y=d._attrs,x=d._cfg.attrs;if(!!x){if(d._cfg.el||g._createDom(d),"clip"in y&&this._setClip(d,y.clip),("shadowOffsetX"in y||"shadowOffsetY"in y||"shadowBlur"in y||"shadowColor"in y)&&this._setShadow(d),d.type==="text"){g._updateText(d);return}d.type==="fan"&&g._updateFan(d),d.type==="marker"&&d._cfg.el.setAttribute("d",g._assembleMarker(y)),d.type==="rect"&&d._cfg.el.setAttribute("d",g._assembleRect(y));for(var A in y)y[A]!==x[A]&&g._setAttribute(d,A,y[A]);d._cfg.attrs=t.deepMix({},d._attrs),d._cfg.hasUpdate=!1}},h._setAttribute=function(d,g,y){var x=d.type,A=d._attrs,m=d._cfg.el,M=this.context;if(!((x==="marker"||x==="rect")&&~["x","y","radius","r"].indexOf(g))){if(~["circle","ellipse"].indexOf(x)&&~["x","y"].indexOf(g)){m.setAttribute("c"+g,parseInt(y,10));return}if(x==="polygon"&&g==="points"){(!y||y.length===0)&&(y=""),t.isArray(y)&&(y=y.map(function(E){return E[0]+","+E[1]}),y=y.join(" ")),m.setAttribute("points",y);return}if(g==="path"&&t.isArray(y)){m.setAttribute("d",this._formatPath(y));return}if(g==="img"){this._setImage(d,y);return}if(g==="transform"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="rotate"){if(!y){m.removeAttribute("transform");return}this._setTransform(d);return}if(g==="matrix"){this._setTransform(d);return}if(g==="fillStyle"||g==="strokeStyle"){this._setColor(d,g,y);return}if(g!=="clip"){if(~g.indexOf("Arrow")){if(g=e[g],!y)d._cfg[g]=null,m.removeAttribute(g);else{var b=null;typeof y=="boolean"?b=M.getDefaultArrow(A,g):b=M.addArrow(A,g),m.setAttribute(g,"url(#"+b+")"),d._cfg[g]=b}return}g==="html"&&(typeof y=="string"?m.innerHTML=y:(m.innerHTML="",m.appendChild(y))),e[g]&&m.setAttribute(e[g],y)}}},h._createDom=function(d){var g=f[d.type],y=d._attrs;if(!g)throw new Error("the type"+d.type+"is not supported by svg");var x=document.createElementNS("http://www.w3.org/2000/svg",g);return d._cfg.el=x,d._cfg.parent&&d._cfg.parent.get("el").appendChild(x),d._cfg.attrs={},d.type==="text"?(x.setAttribute("paint-order","stroke"),x.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(!y.stroke&&!y.strokeStyle&&x.setAttribute("stroke","none"),!y.fill&&!y.fillStyle&&x.setAttribute("fill","none")),x},h._assembleMarker=function(d){var g=d.r;if(typeof d.r=="undefined"&&(g=d.radius),isNaN(Number(d.x))||isNaN(Number(d.y))||isNaN(Number(g)))return"";var y="";return typeof d.symbol=="function"?y=d.symbol(d.x,d.y,g):y=v.Symbols[d.symbol||"circle"](d.x,d.y,g),t.isArray(y)&&(y=y.map(function(x){return x.join(" ")}).join("")),y},h._assembleRect=function(d){var g=d.x,y=d.y,x=d.width,A=d.height,m=d.radius;if(!m)return"M "+g+","+y+" l "+x+",0 l 0,"+A+" l"+-x+" 0 z";var M=s(m);t.isArray(m)?m.length===1?M.r1=M.r2=M.r3=M.r4=m[0]:m.length===2?(M.r1=M.r3=m[0],M.r2=M.r4=m[1]):m.length===3?(M.r1=m[0],M.r2=M.r4=m[1],M.r3=m[2]):(M.r1=m[0],M.r2=m[1],M.r3=m[2],M.r4=m[3]):M.r1=M.r2=M.r3=M.r4=m;var b=[["M "+(g+M.r1)+","+y],["l "+(x-M.r1-M.r2)+",0"],["a "+M.r2+","+M.r2+",0,0,1,"+M.r2+","+M.r2],["l 0,"+(A-M.r2-M.r3)],["a "+M.r3+","+M.r3+",0,0,1,"+-M.r3+","+M.r3],["l "+(M.r3+M.r4-x)+",0"],["a "+M.r4+","+M.r4+",0,0,1,"+-M.r4+","+-M.r4],["l 0,"+(M.r4+M.r1-A)],["a "+M.r1+","+M.r1+",0,0,1,"+M.r1+","+-M.r1],["z"]];return b.join(" ")},h._formatPath=function(d){return d=d.map(function(g){return g.join(" ")}).join(""),~d.indexOf("NaN")?"":d},h._setTransform=function(d){for(var g=d._attrs.matrix,y=d._cfg.el,x=[],A=0;A<9;A+=3)x.push(g[A]+","+g[A+1]);x=x.join(","),x.indexOf("NaN")===-1?y.setAttribute("transform","matrix("+x+")"):console.warn("invalid matrix:",g)},h._setImage=function(d,g){var y=d._attrs,x=d._cfg.el;if(t.isString(g))x.setAttribute("href",g);else if(g instanceof Image)y.width||(x.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(x.setAttribute("height",g.height),d._attrs.height=g.height),x.setAttribute("href",g.src);else if(g instanceof HTMLElement&&t.isString(g.nodeName)&&g.nodeName.toUpperCase()==="CANVAS")x.setAttribute("href",g.toDataURL());else if(g instanceof ImageData){var A=document.createElement("canvas");A.setAttribute("width",g.width),A.setAttribute("height",g.height),A.getContext("2d").putImageData(g,0,0),y.width||(x.setAttribute("width",g.width),d._attrs.width=g.width),y.height||(x.setAttribute("height",g.height),d._attrs.height=g.height),x.setAttribute("href",A.toDataURL())}},h._updateFan=function(d){function g(X,Z,J){return{x:Z*Math.cos(X)+J.x,y:Z*Math.sin(X)+J.y}}var y=d._attrs,x=d._cfg,A={x:y.x,y:y.y},m=[],M=y.startAngle,b=y.endAngle;t.isNumberEqual(b-M,Math.PI*2)&&(b-=1e-5);var E=g(M,y.re,A),C=g(b,y.re,A),T=b>M?1:0,O=Math.abs(b-M)>Math.PI?1:0,L=y.rs,R=y.re,W=g(M,y.rs,A),U=g(b,y.rs,A);y.rs>0?(m.push("M "+C.x+","+C.y),m.push("L "+U.x+","+U.y),m.push("A "+L+","+L+",0,"+O+","+(T===1?0:1)+","+W.x+","+W.y),m.push("L "+E.x+" "+E.y)):(m.push("M "+A.x+","+A.y),m.push("L "+E.x+","+E.y)),m.push("A "+R+","+R+",0,"+O+","+T+","+C.x+","+C.y),y.rs>0?m.push("L "+U.x+","+U.y):m.push("Z"),x.el.setAttribute("d",m.join(" "))},h._updateText=function(d){var g=this,y=d._attrs,x=d._cfg.attrs,A=d._cfg.el;this._setFont(d);for(var m in y)if(y[m]!==x[m]){if(m==="text"){g._setText(d,""+y[m]);continue}if(m==="fillStyle"||m==="strokeStyle"){this._setColor(d,m,y[m]);continue}if(m==="matrix"){this._setTransform(d);continue}e[m]&&A.setAttribute(e[m],y[m])}d._cfg.attrs=Object.assign({},d._attrs),d._cfg.hasUpdate=!1},h._setFont=function(d){var g=d.get("el"),y=d._attrs,x=y.fontSize;g.setAttribute("alignment-baseline",n[y.textBaseline]||"baseline"),g.setAttribute("text-anchor",a[y.textAlign]||"left"),x&&+x<12&&(y.matrix=[1,0,0,0,1,0,0,0,1],d.transform([["t",-y.x,-y.y],["s",+x/12,+x/12],["t",y.x,y.y]]))},h._setText=function(d,g){var y=d._cfg.el,x=d._attrs.textBaseline||"bottom";if(!g)y.innerHTML="";else if(~g.indexOf(`
`)){var A=d._attrs.x,m=g.split(`
`),M=m.length-1,b="";t.each(m,function(E,C){C===0?x==="alphabetic"?b+='<tspan x="'+A+'" dy="'+-M+'em">'+E+"</tspan>":x==="top"?b+='<tspan x="'+A+'" dy="0.9em">'+E+"</tspan>":x==="middle"?b+='<tspan x="'+A+'" dy="'+-(M-1)/2+'em">'+E+"</tspan>":x==="bottom"?b+='<tspan x="'+A+'" dy="-'+(M+r)+'em">'+E+"</tspan>":x==="hanging"&&(b+='<tspan x="'+A+'" dy="'+(-(M-1)-r)+'em">'+E+"</tspan>"):b+='<tspan x="'+A+'" dy="1em">'+E+"</tspan>"}),y.innerHTML=b}else y.innerHTML=g},h._setClip=function(d,g){var y=d._cfg.el;if(!g){y.removeAttribute("clip-path");return}if(y.hasAttribute("clip-path"))g._cfg.hasUpdate&&this._updateShape(g);else{this._createDom(g),this._updateShape(g);var x=this.context.addClip(g);y.setAttribute("clip-path","url(#"+x+")")}},h._setColor=function(d,g,y){var x=d._cfg.el,A=this.context;if(!y){x.setAttribute(e[g],"none");return}if(y=y.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(y)){var m=A.find("gradient",y);m||(m=A.addGradient(y)),x.setAttribute(e[g],"url(#"+m+")")}else if(/^[p,P]{1}[\s]*\(/.test(y)){var M=A.find("pattern",y);M||(M=A.addPattern(y)),x.setAttribute(e[g],"url(#"+M+")")}else x.setAttribute(e[g],y)},h._setShadow=function(d){var g=d._cfg.el,y=d._attrs,x={dx:y.shadowOffsetX,dy:y.shadowOffsetY,blur:y.shadowBlur,color:y.shadowColor};if(!x.dx&&!x.dy&&!x.blur&&!x.color)g.removeAttribute("filter");else{var A=this.context.find("filter",x);A||(A=this.context.addShadow(x,this)),g.setAttribute("filter","url(#"+A+")")}},l}();P.exports=u},function(P,S,i){var t=i(2),c=i(359),s=i(360),v=i(361),o=i(362),f=i(363),r=function(){function e(a){var u=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=t.uniqueId("defs_");u.id=l,a.appendChild(u),this.children=[],this.defaultArrow={},this.el=u,this.canvas=a}var n=e.prototype;return n.find=function(u,l){for(var h=this.children,p=null,d=0;d<h.length;d++)if(h[d].match(u,l)){p=h[d].id;break}return p},n.findById=function(u){for(var l=this.children,h=null,p=0;p<l.length;p++)if(l[p].id===u){h=l[p];break}return h},n.add=function(u){this.children.push(u),u.canvas=this.canvas,u.parent=this},n.getDefaultArrow=function(u,l){var h=u.stroke||u.strokeStyle;if(this.defaultArrow[h])return this.defaultArrow[h].id;var p=new v(u,l);return this.defaultArrow[h]=p,this.el.appendChild(p.el),p.id},n.addGradient=function(u){var l=new c(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addArrow=function(u,l){var h=new v(u,l);return this.el.appendChild(h.el),h.id},n.addShadow=function(u){var l=new s(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addPattern=function(u){var l=new f(u);return this.el.appendChild(l.el),this.add(l),l.id},n.addClip=function(u){var l=new o(u);return this.el.appendChild(l.el),this.add(l),l.id},e}();P.exports=r},function(P,S,i){var t=i(2),c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,v=/[\d.]+:(#[^\s]+|[^\)]+\))/ig;function o(n){var a=n.match(v);if(!a)return"";var u="";return a.sort(function(l,h){return l=l.split(":"),h=h.split(":"),Number(l[0])-Number(h[0])}),t.each(a,function(l){l=l.split(":"),u+='<stop offset="'+l[0]+'" stop-color="'+l[1]+'"></stop>'}),u}function f(n,a){var u=c.exec(n),l=t.mod(t.toRadian(parseFloat(u[1])),Math.PI*2),h=u[2],p,d;l>=0&&l<.5*Math.PI?(p={x:0,y:0},d={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(p={x:1,y:0},d={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(p={x:1,y:1},d={x:0,y:0}):(p={x:0,y:1},d={x:1,y:0});var g=Math.tan(l),y=g*g,x=(d.x-p.x+g*(d.y-p.y))/(y+1)+p.x,A=g*(d.x-p.x+g*(d.y-p.y))/(y+1)+p.y;a.setAttribute("x1",p.x),a.setAttribute("y1",p.y),a.setAttribute("x2",x),a.setAttribute("y2",A),a.innerHTML=o(h)}function r(n,a){var u=s.exec(n),l=parseFloat(u[1]),h=parseFloat(u[2]),p=parseFloat(u[3]),d=u[4];a.setAttribute("cx",l),a.setAttribute("cy",h),a.setAttribute("r",p),a.innerHTML=o(d)}var e=function(){function n(u){var l=null,h=t.uniqueId("gradient_");return u.toLowerCase()[0]==="l"?(l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),f(u,l)):(l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),r(u,l)),l.setAttribute("id",h),this.el=l,this.id=h,this.cfg=u,this}var a=n.prototype;return a.match=function(l,h){return this.cfg===h},n}();P.exports=e},function(P,S,i){var t=i(2),c={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},s={x:"-40%",y:"-40%",width:"200%",height:"200%"},v=function(){function o(r){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return t.each(s,function(n,a){e.setAttribute(a,n)}),this.el=e,this.id=t.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,e),this}var f=o.prototype;return f.match=function(e,n){if(this.type!==e)return!1;var a=!0,u=this.cfg;return t.each(Object.keys(u),function(l){if(u[l]!==n[l])return a=!1,!1}),a},f.update=function(e,n){var a=this.cfg;return a[c[e]]=n,this._parseShadow(a,this.el),this},f._parseShadow=function(e,n){var a=`<feDropShadow 
      dx="`+(e.dx||0)+`" 
      dy="`+(e.dy||0)+`" 
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;n.innerHTML=a},o}();P.exports=v},function(P,S,i){var t=i(2),c=function(){function s(o,f){var r=document.createElementNS("http://www.w3.org/2000/svg","marker"),e=t.uniqueId("marker_");r.setAttribute("id",e);var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("stroke","none"),n.setAttribute("fill",o.stroke||"#000"),r.appendChild(n),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=n,this.id=e,this.cfg=o[f==="marker-start"?"startArrow":"endArrow"],this.stroke=o.stroke||"#000",this.cfg===!0?this._setDefaultPath(f,n):this._setMarker(o.lineWidth,n),this}var v=s.prototype;return v.match=function(){return!1},v._setDefaultPath=function(f,r){var e=this.el;r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),e.setAttribute("refX",3),e.setAttribute("refY",3)},v._setMarker=function(f,r){var e=this.el,n=this.cfg.path,a=this.cfg.d;t.isArray(n)&&(n=n.map(function(u){return u.join(" ")}).join("")),r.setAttribute("d",n),e.appendChild(r),a&&e.setAttribute("refX",a/f)},v.update=function(f){var r=this.child;r.attr?r.attr("fill",f):r.setAttribute("fill",f)},s}();P.exports=c},function(P,S,i){var t=i(2),c=function(){function s(o){this.type="clip";var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=f,this.id=t.uniqueId("clip_"),f.id=this.id;var r=o._cfg.el;return f.appendChild(r.cloneNode(!0)),this.cfg=o,this}var v=s.prototype;return v.match=function(){return!1},v.remove=function(){var f=this.el;f.parentNode.removeChild(f)},s}();P.exports=c},function(P,S,i){var t=i(2),c=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=function(){function v(f){var r=document.createElementNS("http://www.w3.org/2000/svg","pattern");r.setAttribute("patternUnits","userSpaceOnUse");var e=document.createElementNS("http://www.w3.org/2000/svg","image");r.appendChild(e);var n=t.uniqueId("pattern_");r.id=n,this.el=r,this.id=n,this.cfg=f;var a=c.exec(f),u=a[2];e.setAttribute("href",u);var l=new Image;u.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=u;function h(){console.log(l.width,l.height),r.setAttribute("width",l.width),r.setAttribute("height",l.height)}return l.complete?h():(l.onload=h,l.src=l.src),this}var o=v.prototype;return o.match=function(r,e){return this.cfg===e},v}();P.exports=s},function(P,S){var i={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};P.exports=function(c,s,v){var o=v.target||v.srcElement;if(!i[o.tagName]){for(var f=o.parentNode;f&&!i[f.tagName];)f=f.parentNode;o=f}return this._cfg.el===o?this:this.find(function(r){return r._cfg&&r._cfg.el===o})}},function(P,S,i){var t=i(189);function c(s,v,o,f){var r=s.getBBox(),e=r.width,n=r.height,a={x:v,y:o,textAlign:"center"};switch(f){case 0:a.y-=n/2,a.textAlign="left";break;case 1:a.y-=n/2,a.textAlign="right";break;case 2:a.y+=n/2,a.textAlign="right";break;case 3:a.y+=n/2,a.textAlign="left";break;case 5:a.y-=n/2;break;case 6:a.y+=n/2;break;case 7:a.x+=e/2,a.textAlign="left";break;case 8:a.x-=e/2,a.textAlign="right";break;default:break}return s.attr(a),s.getBBox()}P.exports=function(s){for(var v=new t,o=[],f,r,e,n,a,u=0;u<s.length;u++){r=s[u],e=r.attr("x"),n=r.attr("y"),a=!1;for(var l=0;l<8;l++)if(f=c(r,e,n,l),v.hasGap(f)){v.fillGap(f),a=!0;break}a||o.push(r)}for(var h=0;h<o.length;h++)o[h].remove();return a}},function(P,S,i){var t=i(189),c=20;function s(v,o){var f=-1,r=v.attr("x"),e=v.attr("y"),n=v.getBBox(),a=Math.sqrt(n.width*n.width+n.height*n.height),u,l=-f,h=0,p=0,d=function(A){return[(A*=.1)*Math.cos(A),A*Math.sin(A)]};if(o.hasGap(n))return o.fillGap(n),!0;for(var g=!1,y=0;Math.min(Math.abs(h),Math.abs(p))<a&&y<c;)if(u=d(l+=f),h=~~u[0],p=~~u[1],v.attr({x:r+h,y:e+p}),y++,o.hasGap(v.getBBox())){o.fillGap(n),g=!0;break}return g}P.exports=function(v){for(var o,f=new t,r=[],e=0;e<v.length;e++)o=v[e],s(o,f)||r.push(o);for(var n=0;n<r.length;n++)r[n].remove()}},function(P,S){P.exports=function(t,c){for(var s,v,o=[],f=0;f<t.length;f++)s=t[f].getBBox(),v=c[f].getBBox(),(s.width>v.width||s.height>v.height||s.width*s.height>v.width*v.height)&&o.push(t[f]);for(var r=0;r<o.length;r++)o[r].remove()}},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=i(35),o=s.MatrixUtil.vec2,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},n.parseTick=function(u,l,h){return{text:u,value:l/h}},n._getCirclePoint=function(u,l){var h=this,p=h.get("center");return l=l||h.get("radius"),{x:p.x+Math.cos(u)*l,y:p.y+Math.sin(u)*l}},n.getTickPoint=function(u){var l=this,h=l.get("startAngle"),p=l.get("endAngle"),d=h+(p-h)*u;return l._getCirclePoint(d)},n.getSideVector=function(u,l){var h=this,p=h.get("center"),d=[l.x-p.x,l.y-p.y];if(!s.isNil(u)){var g=o.length(d);o.scale(d,d,u/g)}return d},n.getSidePoint=function(u,l){var h=this,p=h.getSideVector(l,u);return{x:u.x+p[0],y:u.y+p[1]}},n.getTickEnd=function(u,l){var h=this,p=h.get("tickLine");return l=l||p.length,h.getSidePoint(u,l)},n.getTextAnchor=function(u){var l;return s.snapEqual(u[0],0)?l="center":u[0]>0?l="left":u[0]<0&&(l="right"),l},n.getLinePath=function(){var u=this,l=u.get("center"),h=l.x,p=l.y,d=u.get("radius"),g=d,y=u.get("startAngle"),x=u.get("endAngle"),A=u.get("inner"),m=[];if(Math.abs(x-y)===Math.PI*2)m=[["M",h,p],["m",0,-g],["a",d,g,0,1,1,0,2*g],["a",d,g,0,1,1,0,-2*g],["z"]];else{var M=u._getCirclePoint(y),b=u._getCirclePoint(x),E=Math.abs(x-y)>Math.PI?1:0,C=y>x?0:1;if(!A)m=[["M",h,p],["L",M.x,M.y],["A",d,g,0,E,C,b.x,b.y],["L",h,p]];else{var T=u.getSideVector(A*d,M),O=u.getSideVector(A*d,b),L={x:T[0]+h,y:T[1]+p},R={x:O[0]+h,y:O[1]+p};m=[["M",L.x,L.y],["L",M.x,M.y],["A",d,g,0,E,C,b.x,b.y],["L",R.x,R.y],["A",d*A,g*A,0,E,Math.abs(C-1),L.x,L.y]]}}return m},n.addLabel=function(u,l,h){var p=this,d=p.get("label").offset||p.get("_labelOffset")||.001;l=p.getSidePoint(l,d),r.prototype.addLabel.call(this,u,l,h)},n.autoRotateLabels=function(){var u=this,l=u.get("ticks"),h=u.get("labelRenderer");if(h&&l.length>12){var p=u.get("radius"),d=u.get("startAngle"),g=u.get("endAngle"),y=g-d,x=y/(l.length-1),A=Math.sin(x/2)*p*2,m=u.getMaxLabelWidth(h);s.each(h.get("group").get("children"),function(M,b){var E=l[b],C=E.value*y+d,T=C%(Math.PI*2);m<A?(T<=0&&(C=C+Math.PI),T>Math.PI&&(C=C-Math.PI),C=C-Math.PI/2,M.attr("textAlign","center")):T>Math.PI/2?C=C-Math.PI:T<Math.PI/2*-1&&(C=C+Math.PI),M.rotateAtStart(C)})}},e}(v);P.exports=f},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(35),o=s.MatrixUtil,f=s.PathUtil,r=o.vec2,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},u.getLinePath=function(){var h=this,p=h.get("crp"),d=h.get("axisStart"),g=f.catmullRomToBezier(p);return g.unshift(["M",d.x,d.y]),g},u.getTickPoint=function(h){var p=this,d=p.get("startAngle"),g=p.get("endAngle"),y=d+(g-d)*h;return p._getHelixPoint(y)},u._getHelixPoint=function(h){var p=this,d=p.get("center"),g=p.get("a"),y=g*h+p.get("inner");return{x:d.x+Math.cos(h)*y,y:d.y+Math.sin(h)*y}},u.getSideVector=function(h,p){var d=this,g=d.get("center"),y=[p.x-g.x,p.y-g.y];if(h){var x=r.length(y);r.scale(y,y,h/x)}return y},u.getSidePoint=function(h,p){var d=this,g=d.getSideVector(p,h);return{x:h.x+g[0],y:h.y+g[1]}},u.getTickEnd=function(h,p){var d=this,g=d.get("tickLine");return p=p||g.length,d.getSidePoint(h,p)},a}(v);P.exports=e},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(35),v=i(4),o=v.MatrixUtil,f=o.vec2,r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return v.mix({},l,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},a._getAvgLabelLength=function(l){var h=l.get("group").get("children");return h[1].attr("x")-h[0].attr("x")},a._getAvgLabelHeightSpace=function(l){var h=l.get("group").get("children");return h[1].attr("y")-h[0].attr("y")},a.getSideVector=function(l){var h=this,p=h.get("isVertical"),d=h.get("factor");if(!v.isNumber(l))return[0,0];var g=h.get("start"),y=h.get("end"),x=h.getAxisVector(),A=f.normalize([],x),m=!1;(p&&g.y<y.y||!p&&g.x>y.x)&&(m=!0);var M=f.vertical([],A,m);return f.scale([],M,l*d)},a.getAxisVector=function(){var l=this.get("start"),h=this.get("end");return[h.x-l.x,h.y-l.y]},a.getLinePath=function(){var l=this,h=l.get("start"),p=l.get("end"),d=[];return d.push(["M",h.x,h.y]),d.push(["L",p.x,p.y]),d},a.getTickEnd=function(l,h){var p=this,d=p.getSideVector(h);return{x:l.x+d[0],y:l.y+d[1]}},a.getTickPoint=function(l){var h=this,p=h.get("start"),d=h.get("end"),g=d.x-p.x,y=d.y-p.y;return{x:p.x+g*l,y:p.y+y*l}},a.renderTitle=function(){var l=this,h=l.get("title"),p=l.getTickPoint(.5),d=h.offset;if(v.isNil(d)){d=20;var g=l.get("labelsGroup");if(g){var y=l.getMaxLabelWidth(g),x=l.get("label").offset||l.get("_labelOffset");d+=y+x}}var A=h.textStyle,m=v.mix({},A);if(h.text){var M=l.getAxisVector();if(h.autoRotate&&v.isNil(A.rotate)){var b=0;if(!v.snapEqual(M[1],0)){var E=[1,0],C=[M[0],M[1]];b=f.angleTo(C,E,!0)}m.rotate=b*(180/Math.PI)}else v.isNil(A.rotate)||(m.rotate=A.rotate/180*Math.PI);var T=l.getSideVector(d),O,L=h.position;L==="start"?O={x:this.get("start").x+T[0],y:this.get("start").y+T[1]}:L==="end"?O={x:this.get("end").x+T[0],y:this.get("end").y+T[1]}:O={x:p.x+T[0],y:p.y+T[1]},m.x=O.x,m.y=O.y,m.text=h.text;var R=l.get("group"),W=R.addShape("Text",{zIndex:2,attrs:m});W.name="axis-title",l.get("appendInfo")&&W.setSilent("appendInfo",l.get("appendInfo"))}},a.autoRotateLabels=function(){var l=this,h=l.get("labelRenderer"),p=l.get("title");if(h){var d=h.get("group"),g=d.get("children"),y=l.get("label").offset,x=12,A=p?p.offset:48;if(A<0)return;var m=l.getAxisVector(),M,b;if(v.snapEqual(m[0],0)&&p&&p.text)b=l.getMaxLabelWidth(h),b>A-y-x&&(M=Math.acos((A-y-x)/b)*-1);else if(v.snapEqual(m[1],0)&&g.length>1){var E=Math.abs(l._getAvgLabelLength(h));b=l.getMaxLabelWidth(h),b>E&&(M=Math.asin((A-y-x)*1.25/b))}if(M){var C=l.get("factor");v.each(g,function(T){T.rotateAtStart(M),v.snapEqual(m[1],0)&&(C>0?T.attr("textAlign","left"):T.attr("textAlign","right"))})}}},a.autoHideLabels=function(){var l=this,h=l.get("labelRenderer"),p,d,g=8;if(h){var y=h.get("group"),x=y.get("children"),A=l.getAxisVector();if(x.length<2)return;if(v.snapEqual(A[0],0)){var m=l.getMaxLabelHeight(h)+g,M=Math.abs(l._getAvgLabelHeightSpace(h));m>M&&(p=m,d=M)}else if(v.snapEqual(A[1],0)&&x.length>1){var b=l.getMaxLabelWidth(h)+g,E=Math.abs(l._getAvgLabelLength(h));b>E&&(p=b,d=E)}if(p&&d){var C=Math.ceil(p/d);v.each(x,function(T,O){O%C!=0&&T.attr("text","")})}}},n}(s);P.exports=r},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(35),o=s.MatrixUtil,f=s.PathUtil,r=o.vec2,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{type:"polyline"})},u.getLinePath=function(){var h=this,p=h.get("tickPoints"),d=h.get("start"),g=h.get("end"),y=[];y.push(d.x),y.push(d.y),s.each(p,function(A){y.push(A.x),y.push(A.y)}),y.push(g.x),y.push(g.y);var x=f.catmullRomToBezier(y);return x.unshift(["M",d.x,d.y]),x},u.getTickPoint=function(h,p){var d=this.get("tickPoints");return d[p]},u.getTickEnd=function(h,p,d){var g=this,y=g.get("tickLine"),x=p||y.length,A=g.getSideVector(x,h,d);return{x:h.x+A[0],y:h.y+A[1]}},u.getSideVector=function(h,p,d){var g=this,y;if(d===0){if(y=g.get("start"),y.x===p.x&&y.y===p.y)return[0,0]}else{var x=g.get("tickPoints");y=x[d-1]}var A=[p.x-y.x,p.y-y.y],m=r.normalize([],A),M=r.vertical([],m,!1);return r.scale([],M,h)},a}(v);P.exports=e},function(P,S,i){P.exports={Guide:i(17),Arc:i(373),DataMarker:i(374),DataRegion:i(375),Html:i(376),Image:i(377),Line:i(378),Region:i(379),Text:i(380)}},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(17),o=Math.PI,f=Math.atan;function r(n,a){var u=n.x-a.x,l=n.y-a.y,h;return l===0?u<0?h=o/2:h=270*o/180:u>=0&&l>0?h=o*2-f(u/l):u<=0&&l<0?h=o-f(u/l):u>0&&l<0?h=o+f(-u/l):u<0&&l>0&&(h=f(u/-l)),h}var e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},u.render=function(h,p){var d=this,g=d.parsePoint(h,d.get("start")),y=d.parsePoint(h,d.get("end"));if(!(!g||!y)){var x=h.getCenter(),A=Math.sqrt((g.x-x.x)*(g.x-x.x)+(g.y-x.y)*(g.y-x.y)),m,M=r(g,x),b=r(y,x);if(b<M&&(b+=o*2),s.isNumberEqual(g.x,y.x)&&s.isNumberEqual(g.y,y.y)&&(d.get("start")[0]!==d.get("end")[0]||d.get("start")[1]!==d.get("end")[1]))m=[["M",g.x,g.y],["A",A,A,0,1,1,2*x.x-g.x,2*x.y-g.y],["A",A,A,0,1,1,g.x,g.y]];else{var E=(b-M)%(o*2),C=E>o?1:0;m=[["M",g.x,g.y],["A",A,A,0,C,1,y.x,y.y]]}var T=p.addShape("path",{zIndex:d.get("zIndex"),attrs:s.mix({path:m},d.get("style"))});T.name="guide-arc",d.get("appendInfo")&&T.setSilent("appendInfo",d.get("appendInfo")),d.set("el",T)}},a}(v);P.exports=e},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("position"));if(!!h){var p=u.addGroup();p.name="guide-data-marker";var d=l._getElementPosition(h),g=l.get("display"),y,x;if(g.line){var A=d.line;y=l._drawLine(A,p)}if(g.text&&l.get("content")){var m=d.text;x=l._drawText(m,p)}if(g.point){var M=d.point;l._drawPoint(M,p)}if(l.get("autoAdjust")){var b=p.getBBox(),E=b.minX,C=b.minY,T=b.maxX,O=b.maxY,L=a.start,R=a.end;if(x){E<=L.x&&x.attr("textAlign","start"),T>=R.x&&x.attr("textAlign","end");var W=l.get("direction");if(W==="upward"&&C<=R.y||W!=="upward"&&O>=L.y){var U,X;W==="upward"&&C<=R.y?(U="top",X=1):(U="bottom",X=-1),x.attr("textBaseline",U);var Z=0;if(l.get("display").line){Z=l.get("lineLength");var J=[["M",h.x,h.y],["L",h.x,h.y+Z*X]];y.attr("path",J)}var ht=h.y+(Z+2)*X;x.attr("y",ht)}}}l.get("appendInfo")&&p.setSilent("appendInfo",l.get("appendInfo")),l.set("el",p)}},e._getElementPosition=function(a){var u=this,l=a.x,h=a.y,p=u.get("display").line?u.get("lineLength"):0,d=u.get("direction"),g=u.get("style").text;g.textBaseline=d==="upward"?"bottom":"top";var y=d==="upward"?-1:1,x={x:l,y:h},A={x:l,y:h},m={x:l,y:p*y+h},M={x:l,y:(p+2)*y+h};return{point:x,line:[A,m],text:M}},e._drawLine=function(a,u){var l=this,h=l.get("style").line,p=[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y]],d=u.addShape("path",{attrs:s.mix({path:p},h)});return d},e._drawText=function(a,u){var l=this,h=this.get("style").text,p=u.addShape("text",{attrs:s.mix({text:l.get("content")},h,a)});return p},e._drawPoint=function(a,u){var l=this,h=l.get("style").point,p=u.addShape("circle",{attrs:s.mix({},h,a)});return p},r}(v);P.exports=o},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=i(190),o=i(17),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},n.render=function(u,l,h){var p=this,d=p.get("lineLength")||0,g=p._getRegionData(u,h);if(!!g.length){var y=p._getBBox(g),x=[];x.push(["M",g[0].x,y.yMin-d]);for(var A=0,m=g.length;A<m;A++){var M=["L",g[A].x,g[A].y];x.push(M)}x.push(["L",g[g.length-1].x,y.yMin-d]);var b=p.get("style"),E=b.region,C=b.text,T=l.addGroup();T.name="guide-data-region",T.addShape("path",{attrs:s.mix({path:x},E)});var O=p.get("content");O&&T.addShape("Text",{attrs:s.mix({x:(y.xMin+y.xMax)/2,y:y.yMin-d,text:O},C)}),p.get("appendInfo")&&T.setSilent("appendInfo",p.get("appendInfo")),p.set("el",T)}},n._getRegionData=function(u,l){for(var h=this,p=h.get("start"),d=h.get("end"),g=v.getFirstScale(h.get("xScales")).field,y=v.getFirstScale(h.get("yScales")).field,x=s.isArray(p)?p[0]:p[g],A=s.isArray(d)?d[0]:d[g],m,M=[],b=0,E=l.length;b<E;b++){var C=l[b];if(C[g]===x&&(m=b),b>=m){var T=h.parsePoint(u,[C[g],C[y]]);T&&M.push(T)}if(C[g]===A)break}return M},n._getBBox=function(u){for(var l=[],h=[],p=0;p<u.length;p++)l.push(u[p].x),h.push(u[p].y);var d=s.arrayUtil.getRange(l),g=s.arrayUtil.getRange(h);return{xMin:d.min,xMax:d.max,yMin:g.min,yMax:g.max}},e}(o);P.exports=f},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(4),v=s.DomUtil,o=i(17),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},n.render=function(u,l){var h=this,p=h.parsePoint(u,h.get("position"));if(!!p){var d=l.get("canvas").get("el").parentNode,g=v.createDom('<div class="g-guide"></div>');d.appendChild(g);var y=h.get("htmlContent")||h.get("html");if(s.isFunction(y)){var x=h.get("xScales"),A=h.get("yScales");y=y(x,A)}var m=v.createDom(y);g.appendChild(m),v.modifyCSS(g,{position:"absolute"}),h._setDomPosition(g,m,p),h.set("el",g)}},n._setDomPosition=function(u,l,h){var p=this,d=p.get("alignX"),g=p.get("alignY"),y=v.getOuterWidth(l),x=v.getOuterHeight(l),A={x:h.x,y:h.y};d==="middle"&&g==="top"?A.x-=Math.round(y/2):d==="middle"&&g==="bottom"?(A.x-=Math.round(y/2),A.y-=Math.round(x)):d==="left"&&g==="bottom"?A.y-=Math.round(x):d==="left"&&g==="middle"?A.y-=Math.round(x/2):d==="left"&&g==="top"?(A.x=h.x,A.y=h.y):d==="right"&&g==="bottom"?(A.x-=Math.round(y),A.y-=Math.round(x)):d==="right"&&g==="middle"?(A.x-=Math.round(y),A.y-=Math.round(x/2)):d==="right"&&g==="top"?A.x-=Math.round(y):(A.x-=Math.round(y/2),A.y-=Math.round(x/2));var m=p.get("offsetX");m&&(A.x+=m);var M=p.get("offsetY");M&&(A.y+=M),v.modifyCSS(u,{top:Math.round(A.y)+"px",left:Math.round(A.x)+"px",visibility:"visible",zIndex:p.get("zIndex")})},n.clear=function(){var u=this,l=u.get("el");l&&l.parentNode&&l.parentNode.removeChild(l)},e}(o);P.exports=f},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("start"));if(!!h){var p={x:h.x,y:h.y};if(p.img=l.get("src"),!l.get("end"))p.width=l.get("width")||32,p.height=l.get("height")||32;else{var d=l.parsePoint(a,l.get("end"));if(!d)return;p.width=d.x-h.x,p.height=d.y-h.y}l.get("offsetX")&&(p.x+=l.get("offsetX")),l.get("offsetY")&&(p.y+=l.get("offsetY"));var g=u.addShape("Image",{zIndex:1,attrs:p});g.name="guide-image",l.get("appendInfo")&&g.setSilent("appendInfo",l.get("appendInfo")),l.set("el",g)}},r}(v);P.exports=o},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(4),v=i(17),o=s.MatrixUtil.vec2,f=i(16),r=f.FONT_FAMILY,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:r},content:null}})},u.render=function(h,p){var d=this,g=d.parsePoint(h,d.get("start")),y=d.parsePoint(h,d.get("end"));if(!(!g||!y)){var x=p.addGroup({viewId:p.get("viewId")});d._drawLines(g,y,x);var A=d.get("text");A&&A.content&&d._drawText(g,y,x),d.set("el",x)}},u._drawLines=function(h,p,d){var g=[["M",h.x,h.y],["L",p.x,p.y]],y=d.addShape("Path",{attrs:s.mix({path:g},this.get("lineStyle"))});y.name="guide-line",this.get("appendInfo")&&y.setSilent("appendInfo",this.get("appendInfo"))},u._drawText=function(h,p,d){var g=this.get("text"),y=g.position,x=g.style||{},A;y==="start"?A=0:y==="center"?A=.5:s.isString(y)&&y.indexOf("%")!==-1?A=parseInt(y,10)/100:s.isNumber(y)?A=y:A=1,(A>1||A<0)&&(A=1);var m={x:h.x+(p.x-h.x)*A,y:h.y+(p.y-h.y)*A};if(g.offsetX&&(m.x+=g.offsetX),g.offsetY&&(m.y+=g.offsetY),m.text=g.content,m=s.mix({},m,x),g.autoRotate&&s.isNil(x.rotate)){var M=o.angleTo([p.x-h.x,p.y-h.y],[1,0],1);m.rotate=M}else s.isNil(x.rotate)||(m.rotate=x.rotate*Math.PI/180);var b=d.addShape("Text",{attrs:m});b.name="guide-line-text",this.get("appendInfo")&&b.setSilent("appendInfo",this.get("appendInfo"))},a}(v);P.exports=e},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},e.render=function(a,u){var l=this,h=l.get("style"),p=l._getPath(a);if(!!p.length){var d=u.addShape("path",{zIndex:l.get("zIndex"),attrs:s.mix({path:p},h)});d.name="guide-region",l.get("appendInfo")&&d.setSilent("appendInfo",l.get("appendInfo")),l.set("el",d)}},e._getPath=function(a){var u=this,l=u.parsePoint(a,u.get("start")),h=u.parsePoint(a,u.get("end"));if(!l||!h)return[];var p=[["M",l.x,l.y],["L",h.x,l.y],["L",h.x,h.y],["L",l.x,h.y],["z"]];return p},r}(v);P.exports=o},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(17),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},e.render=function(a,u){var l=this,h=l.parsePoint(a,l.get("position"));if(!!h){var p=s.mix({},l.get("style")),d=l.get("offsetX"),g=l.get("offsetY");d&&(h.x+=d),g&&(h.y+=g),p.rotate&&(p.rotate=p.rotate*Math.PI/180);var y=u.addShape("Text",{zIndex:l.get("zIndex"),attrs:s.mix({text:l.get("content")},p,h)});y.name="guide-text",l.get("appendInfo")&&y.setSilent("appendInfo",l.get("appendInfo")),l.set("el",y)}},r}(v);P.exports=o},function(P,S,i){var t=i(188);P.exports=t},function(P,S,i){P.exports={Category:i(191),CatHtml:i(193),CatPageHtml:i(383),Color:i(384),Size:i(386),CircleSize:i(387)}},function(P,S,i){function t(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,c(g,y)}function c(g,y){return c=Object.setPrototypeOf||function(A,m){return A.__proto__=m,A},c(g,y)}var s=i(4),v=i(193),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e="g2-legend-list",n="g2-slip",a="g2-caret-up",u="g2-caret-down",l="rgba(0,0,0,0.65)",h="rgba(0,0,0,0.25)";function p(g,y){return g.getElementsByClassName(y)[0]}var d=function(g){t(y,g);function y(){return g.apply(this,arguments)||this}var x=y.prototype;return x.getDefaultCfg=function(){var m=g.prototype.getDefaultCfg.call(this);return s.mix({},m,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:f,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="'+n+'" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},x.render=function(){g.prototype._renderHTML.call(this),this._renderFlipPage()},x._renderFlipPage=function(){var m=this.get("legendWrapper"),M=p(m,e),b=this.get("position"),E=this.get("layout"),C=b==="right"||b==="left"||E==="vertical",T=C?"block":"inline-block",O=m.offsetHeight;if(m.scrollHeight>O){var L=this.get("slipTpl"),R=r.createDom(L),W=p(R,a),U=p(R,u);r.modifyCSS(W,this.get("caretStyle")),r.modifyCSS(W,{fill:"rgba(0,0,0,0.25)"}),r.modifyCSS(U,this.get("caretStyle"));var X=p(R,"cur-pagenum"),Z=p(R,"next-pagenum"),J=this.get("pageNumStyle");if(r.modifyCSS(X,s.mix({},J,{paddingLeft:"10px"})),r.modifyCSS(Z,s.mix({},J,{opacity:.3,paddingRight:"10px"})),r.modifyCSS(R,s.mix({},this.get("slipDomStyle"),C?{top:O+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),m.style.overflow=this.get("legendOverflow"),m.appendChild(R),!C){var ht=Math.max(m.offsetWidth-10-R.offsetWidth,0);r.modifyCSS(M,{maxWidth:ht+"px"})}for(var at=M.childNodes,Q=0,xt=1,kt=[],Nt=0;Nt<at.length;Nt++)at[Nt].style.display=T,Q=at[Nt].offsetTop+at[Nt].offsetHeight,Q>O&&(xt++,kt.forEach(function(nt){nt.style.display="none"}),kt=[]),kt.push(at[Nt]);Z.innerText="/"+xt,at.forEach(function(nt){nt.style.display=T,Q=nt.offsetTop+nt.offsetHeight,Q>O&&(nt.style.display="none")}),W.addEventListener("click",function(){if(at[0].style.display!==T){var nt=-1;at.forEach(function(N,it){N.style.display===T&&(nt=nt===-1?it:nt,N.style.display="none")});for(var q=nt-1;q>=0&&(at[q].style.display=T,Q=at[nt-1].offsetTop+at[nt-1].offsetHeight,at[q].style.display="none",Q<=O);q--)at[q].style.display=T;var G=Number.parseInt(X.innerText,10)-1;G===1?W.style.fill=h:W.style.fill=l,U.style.fill=l,X.innerText=G}}),U.addEventListener("click",function(){if(at[at.length-1].style.display!==T){var nt=-1;at.forEach(function(N,it){N.style.display===T&&(nt=it,N.style.display="none")});for(var q=nt+1;q<at.length&&(at[q].style.display=T,Q=at[q].offsetTop+at[q].offsetHeight,at[q].style.display="none",Q<=O);q++)at[q].style.display=T;var G=Number.parseInt(X.innerText,10)+1;G===xt?U.style.fill=h:U.style.fill=l,W.style.fill=l,X.innerText=G}}),this.set("slipDom",R)}},x.destroy=function(){var m=this.get("slipDom");m&&m.parentNode&&m.parentNode.removeChild(m),g.prototype.destroy.call(this)},y}(v);P.exports=d},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(104),v=s.ColorUtil,o=i(4),f=i(97),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return o.mix({},l,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},a._setPercentage=function(){var l=this.get("items");if(!l[0].percentage){var h=l[0].value,p=l[l.length-1].value;o.each(l,function(d){d.percentage=(d.value-h)/(p-h)})}},a._renderSliderShape=function(){this._setPercentage();var l=this.get("slider"),h=l.get("backgroundElement"),p=this.get("width"),d=this.get("height"),g=this.get("layout"),y=this.get("items"),x="",A;return g==="vertical"?(x+="l (90) ",o.each(y,function(m){A=v.toRGB(m.color),x+=1-m.percentage+":"+A+" "})):(x+="l (0) ",o.each(y,function(m){A=v.toRGB(m.color),x+=m.percentage+":"+A+" "})),this._addMiddleBar(h,"Rect",{x:0,y:0,width:p,height:d,fill:x,strokeOpacity:0})},a._renderUnslidable=function(){this._setPercentage();var l=this.get("titleShape"),h=this.get("titleGap");h=l?l.getBBox().height+h:h;var p=this.get("width"),d=this.get("height"),g=this.get("layout"),y=this.get("items"),x="",A,m=[],M=this.get("group"),b=M.addGroup(),E=y.length;if(g==="vertical"){x+="l (90) ";for(var C=0;C<E;C+=1){if(C!==0&&C!==E-1&&(m.push(["M",0,d-y[C].percentage*d]),m.push(["L",p,d-y[C].percentage*d])),A=v.toRGB(y[C].color),x+=1-y[C].percentage+":"+A+" ",this.get("isSegment")&&C>0){var T=v.toRGB(y[C-1].color);x+=1-y[C].percentage+":"+T+" "}b.addShape("text",{attrs:o.mix({},{x:p+this.get("textOffset")/2,y:d-y[C].percentage*d,text:this._formatItemValue(y[C].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{x+="l (0) ";for(var O=0;O<E;O+=1){if(O!==0&&O!==E-1&&(m.push(["M",y[O].percentage*p,0]),m.push(["L",y[O].percentage*p,d])),A=v.toRGB(y[O].color),this.get("isSegment")&&O>0){var L=v.toRGB(y[O-1].color);x+=y[O].percentage+":"+L+" "}x+=y[O].percentage+":"+A+" ",b.addShape("text",{attrs:o.mix({},{x:y[O].percentage*p,y:d+5+this.get("textOffset"),text:this._formatItemValue(y[O].value)+""},this.get("textStyle"))})}}b.addShape("rect",{attrs:{x:0,y:0,width:p,height:d,fill:x,strokeOpacity:0}}),b.addShape("path",{attrs:o.mix({path:m},this.get("lineStyle"))}),b.move(0,h)},n}(f);P.exports=r},function(P,S,i){var t=i(4),c=t.DomUtil,s=t.Group,v=function o(f){o.superclass.constructor.call(this,f)};t.extend(v,s),t.augment(v,{getDefaultCfg:function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_beforeRenderUI:function(){var f=this.get("layout"),r=this.get("backgroundElement"),e=this.get("minHandleElement"),n=this.get("maxHandleElement"),a=this.addShape("rect",{attrs:this.get("middleAttr")}),u=f==="vertical"?"ns-resize":"ew-resize";this.add([r,e,n]),this.set("middleHandleElement",a),r.set("zIndex",0),a.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),a.attr("cursor","move"),e.attr("cursor",u),n.attr("cursor",u),this.sort()},_renderUI:function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},_transform:function(f){var r=this.get("range"),e=r[0]/100,n=r[1]/100,a=this.get("width"),u=this.get("height"),l=this.get("minHandleElement"),h=this.get("maxHandleElement"),p=this.get("middleHandleElement");l.resetMatrix(),h.resetMatrix(),f==="horizontal"?(p.attr({x:a*e,y:0,width:(n-e)*a,height:u}),l.translate(e*a,u),h.translate(n*a,u)):(p.attr({x:0,y:u*(1-n),width:a,height:(n-e)*u}),l.translate(1,(1-e)*u),h.translate(1,(1-n)*u))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",t.wrapBehavior(this,"_onMouseDown"))},_isElement:function(f,r){var e=this.get(r);if(f===e)return!0;if(e.isGroup){var n=e.get("children");return n.indexOf(f)>-1}return!1},_getRange:function(f,r){var e=f+r;return e=e>100?100:e,e=e<0?0:e,e},_updateStatus:function(f,r){var e=f==="x"?this.get("width"):this.get("height");f=t.upperFirst(f);var n=this.get("range"),a=this.get("page"+f),u=this.get("currentTarget"),l=this.get("rangeStash"),h=this.get("layout"),p=h==="vertical"?-1:1,d=r["page"+f],g=d-a,y=g/e*100*p,x;n[1]<=n[0]?(this._isElement(u,"minHandleElement")||this._isElement(u,"maxHandleElement"))&&(n[0]=this._getRange(y,n[0]),n[1]=this._getRange(y,n[0])):(this._isElement(u,"minHandleElement")&&(n[0]=this._getRange(y,n[0])),this._isElement(u,"maxHandleElement")&&(n[1]=this._getRange(y,n[1]))),this._isElement(u,"middleHandleElement")&&(x=l[1]-l[0],n[0]=this._getRange(y,n[0]),n[1]=n[0]+x,n[1]>100&&(n[1]=100,n[0]=n[1]-x)),this.emit("sliderchange",{range:n}),this.set("page"+f,d),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(f){var r=f.currentTarget,e=f.event,n=this.get("range");e.stopPropagation(),e.preventDefault(),this.set("pageX",e.pageX),this.set("pageY",e.pageY),this.set("currentTarget",r),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var f=this.get("canvas").get("containerDOM");this.onMouseMoveListener=c.addEventListener(f,"mousemove",t.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=c.addEventListener(f,"mouseup",t.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=c.addEventListener(f,"mouseleave",t.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(f){if(!this._mouseOutArea(f)){var r=this.get("layout");r==="horizontal"?this._updateStatus("x",f):this._updateStatus("y",f)}},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_mouseOutArea:function(f){var r=this.get("canvas").get("el"),e=r.getBoundingClientRect(),n=this.get("parent"),a=n.getBBox(),u=n.attr("matrix")[6],l=n.attr("matrix")[7],h=u+a.width,p=l+a.height,d=f.clientX-e.x,g=f.clientY-e.y;return d<u||d>h||g<l||g>p}}),P.exports=v},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(4),v=i(97),o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return s.mix({},a,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},e._renderSliderShape=function(){var a=this.get("slider"),u=a.get("backgroundElement"),l=this.get("layout"),h=this.get("width"),p=this.get("height"),d=this.get("height")/2,g=this.get("frontMiddleBarStyle"),y=l==="vertical"?[[0,0],[h,0],[h,p],[h-4,p]]:[[0,d+p/2],[0,d+p/2-4],[h,d-p/2],[h,d+p/2]];return this._addMiddleBar(u,"Polygon",s.mix({points:y},g))},e._renderUnslidable=function(){var a=this.get("layout"),u=this.get("width"),l=this.get("height"),h=this.get("frontMiddleBarStyle"),p=a==="vertical"?[[0,0],[u,0],[u,l],[u-4,l]]:[[0,l],[0,l-4],[u,0],[u,l]],d=this.get("group"),g=d.addGroup();g.addShape("Polygon",{attrs:s.mix({points:p},h)});var y=this._formatItemValue(this.get("firstItem").value),x=this._formatItemValue(this.get("lastItem").value);this.get("layout")==="vertical"?(this._addText(u+10,l-3,y),this._addText(u+10,3,x)):(this._addText(0,l,y),this._addText(u,l,x))},e._addText=function(a,u,l){var h=this.get("group"),p=h.addGroup(),d=this.get("textStyle"),g=this.get("titleShape"),y=this.get("titleGap");g&&(y+=g.getBBox().height),this.get("layout")==="vertical"?p.addShape("text",{attrs:s.mix({x:a+this.get("textOffset"),y:u,text:l===0?"0":l},d)}):(u+=y+this.get("textOffset")-20,g||(u+=10),p.addShape("text",{attrs:s.mix({x:a,y:u,text:l===0?"0":l},d)}))},r}(v);P.exports=o},function(P,S,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(4),v=i(97),o=2,f=16,r=16,e=5,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return s.mix({},p,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},l._renderSliderShape=function(){var p=e,d=this.get("slider"),g=d.get("backgroundElement"),y=this.get("layout"),x=y==="vertical"?o:this.get("width"),A=y==="vertical"?this.get("height"):o,m=p,M=this.get("height")/2,b=this.get("frontMiddleBarStyle"),E=y==="vertical"?[[0,0],[x,0],[x,A],[0,A]]:[[0,M+A],[0,M-A],[m+x-4,M-A],[m+x-4,M+A]];return this._addMiddleBar(g,"Polygon",s.mix({points:E},b))},l._addHorizontalTrigger=function(p,d,g,y){var x=this.get("slider"),A=x.get(p+"HandleElement"),m=-this.get("height")/2,M=A.addShape("circle",{attrs:s.mix({x:0,y:m,r:y},d)}),b=A.addShape("text",{attrs:s.mix(g,{x:0,y:m+y+10,textAlign:"center",textBaseline:"middle"})}),E=this.get("layout"),C=E==="vertical"?"ns-resize":"ew-resize";M.attr("cursor",C),b.attr("cursor",C),this.set(p+"ButtonElement",M),this.set(p+"TextElement",b)},l._addVerticalTrigger=function(p,d,g,y){var x=this.get("slider"),A=x.get(p+"HandleElement"),m=A.addShape("circle",{attrs:s.mix({x:0,y:0,r:y},d)}),M=A.addShape("text",{attrs:s.mix(g,{x:y+10,y:0,textAlign:"start",textBaseline:"middle"})}),b=this.get("layout"),E=b==="vertical"?"ns-resize":"ew-resize";m.attr("cursor",E),M.attr("cursor",E),this.set(p+"ButtonElement",m),this.set(p+"TextElement",M)},l._renderTrigger=function(){var p=this.get("firstItem"),d=this.get("lastItem"),g=this.get("layout"),y=this.get("textStyle"),x=this.get("triggerAttr"),A=s.mix({},x),m=s.mix({},x),M=e,b=r,E=s.mix({text:this._formatItemValue(p.value)+""},y),C=s.mix({text:this._formatItemValue(d.value)+""},y);g==="vertical"?(this._addVerticalTrigger("min",A,E,M),this._addVerticalTrigger("max",m,C,b)):(this._addHorizontalTrigger("min",A,E,M),this._addHorizontalTrigger("max",m,C,b))},l._bindEvents=function(){var p=this;if(this.get("slidable")){var d=this.get("slider");d.on("sliderchange",function(g){var y=g.range,x=p.get("firstItem").value,A=p.get("lastItem").value,m=x+y[0]/100*(A-x),M=x+y[1]/100*(A-x),b=e+y[0]/100*(r-e),E=e+y[1]/100*(r-e);p._updateElement(m,M,b,E);var C=new Event("itemfilter",g,!0,!0);C.range=[m,M],p.emit("itemfilter",C)})}},l._updateElement=function(p,d,g,y){a.prototype._updateElement.call(this,p,d);var x=this.get("minTextElement"),A=this.get("maxTextElement"),m=this.get("minButtonElement"),M=this.get("maxButtonElement");m.attr("r",g),M.attr("r",y);var b=this.get("layout");if(b==="vertical")x.attr("x",g+10),A.attr("x",y+10);else{var E=-this.get("height")/2;x.attr("y",E+g+10),A.attr("y",E+y+10)}},l._addCircle=function(p,d,g,y,x){var A=this.get("group"),m=A.addGroup(),M=this.get("_unslidableCircleStyle"),b=this.get("textStyle"),E=this.get("titleShape"),C=this.get("titleGap");E&&(C+=E.getBBox().height),m.addShape("circle",{attrs:s.mix({x:p,y:d+C,r:g===0?1:g},M)}),this.get("layout")==="vertical"?m.addShape("text",{attrs:s.mix({x:x+20+this.get("textOffset"),y:d+C,text:y===0?"0":y},b)}):m.addShape("text",{attrs:s.mix({x:p,y:d+C+x+13+this.get("textOffset"),text:y===0?"0":y},b)})},l._renderUnslidable=function(){var p=this.get("firstItem").value,d=this.get("lastItem").value;if(p>d){var g=d;d=p,p=g}var y=this._formatItemValue(p),x=this._formatItemValue(d),A=p<e?e:p,m=d>r?r:d;A>m&&(A=e,m=r),this.get("layout")==="vertical"?(this._addCircle(m,m,A,y,2*m),this._addCircle(m,m*2+f+A,m,x,2*m)):(this._addCircle(m,m,A,y,2*m),this._addCircle(m*2+f+A,m,m,x,2*m))},l.activate=function(p){!this.get("slidable")||a.prototype.activate.call(this,p)},u}(v);P.exports=n},function(P,S,i){var t=i(98);t.Html=i(389),t.Canvas=i(197),t.Mini=i(391),P.exports=t},function(P,S,i){function t(){return t=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var O=arguments[T];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(C[L]=O[L])}return C},t.apply(this,arguments)}function c(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function s(C,T){C.prototype=Object.create(T.prototype),C.prototype.constructor=C,v(C,T)}function v(C,T){return v=Object.setPrototypeOf||function(L,R){return L.__proto__=R,L},v(C,T)}var o=i(51),f=i(98),r=i(4),e=r.DomUtil,n=i(390),a=i(194),u=i(195),l=i(196),h="g2-tooltip",p="g2-tooltip-title",d="g2-tooltip-list",g="g2-tooltip-marker",y="g2-tooltip-value",x="g2-tooltip-list-item",A=5,m=o.Marker;function M(C,T){return C.getElementsByClassName(T)[0]}function b(C,T){return Object.keys(C).forEach(function(O){T[O]&&(C[O]=r.mix(C[O],T[O]))}),C}var E=function(C){s(O,C);var T=O.prototype;T.getDefaultCfg=function(){var R=C.prototype.getDefaultCfg.call(this);return r.mix({},R,{containerTpl:' <div class="'+h+'"> <div class="'+p+'"></div><ul class="'+d+'"></ul></div>',itemTpl:`<li data-index={index}>
      <svg viewBox="0 0 `+A+" "+A+'" class="'+g+`"></svg>
      {name}<span class="`+y+'">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})};function O(L){var R;R=C.call(this,L)||this,r.assign(c(R),u),r.assign(c(R),l);var W=n;R.style=b(W,L),R._init_(),R.get("items")&&R.render();var U=R.get("crosshairs");if(U){var X=U.type==="rect"?R.get("backPlot"):R.get("frontPlot"),Z=new a(r.mix({plot:X,plotRange:R.get("plotRange"),canvas:R.get("canvas")},R.get("crosshairs")));Z.hide(),R.set("crosshairGroup",Z)}return R}return T._init_=function(){var R=this,W=R.get("containerTpl"),U=R.get("canvas").get("el").parentNode,X;if(!this.get("htmlContent")){if(/^\#/.test(W)){var Z=W.replace("#","");X=document.getElementById(Z)}else X=e.createDom(W),e.modifyCSS(X,R.style[h]),U.appendChild(X),U.style.position="relative";R.set("container",X)}},T.render=function(){var R=this;if(R.clear(),R.get("htmlContent")){var W=R.get("canvas").get("el").parentNode,U=R._getHtmlContent();W.appendChild(U),R.set("container",U)}else R._renderTpl()},T._renderTpl=function(){var R=this,W=R.get("showTitle"),U=R.get("titleContent"),X=R.get("container"),Z=M(X,p),J=M(X,d),ht=R.get("items");Z&&W&&(e.modifyCSS(Z,R.style[p]),Z.innerHTML=U),J&&(e.modifyCSS(J,R.style[d]),r.each(ht,function(at,Q){J.appendChild(R._addItem(at,Q))}))},T.clear=function(){var R=this.get("container");if(this.get("htmlContent"))R&&R.remove();else{var W=M(R,p),U=M(R,d);W&&(W.innerHTML=""),U&&(U.innerHTML="")}},T.show=function(){var R=this.get("container");if(!(!R||this.destroyed)){R.style.visibility="visible",R.style.display="block";var W=this.get("crosshairGroup");W&&W.show();var U=this.get("markerGroup");U&&U.show(),C.prototype.show.call(this),this.get("canvas").draw()}},T.hide=function(){var R=this.get("container");if(!(!R||this.destroyed)){R.style.visibility="hidden",R.style.display="none";var W=this.get("crosshairGroup");W&&W.hide();var U=this.get("markerGroup");U&&U.hide(),C.prototype.hide.call(this),this.get("canvas").draw()}},T.destroy=function(){var R=this,W=R.get("container"),U=R.get("containerTpl");W&&!/^\#/.test(U)&&W.parentNode.removeChild(W);var X=this.get("crosshairGroup");X&&X.destroy();var Z=this.get("markerGroup");Z&&Z.remove(),C.prototype.destroy.call(this)},T._getMarkerSvg=function(R){var W=R.marker||{},U=W.activeSymbol||W.symbol,X;r.isFunction(U)?X=U:r.isString(U)&&(X=m.Symbols[U]),X=r.isFunction(X)?X:m.Symbols.circle;var Z=X(A/2,A/2,A/2),J=Z.reduce(function(ht,at){return""+ht+at[0]+at.slice(1).join(",")},"");return'<path d="'+J+'" fill="'+(W.fill||"none")+'" stroke="'+(W.stroke||"none")+'" />'},T._addItem=function(R,W){var U=this.get("itemTpl"),X=r.substitute(U,r.mix({index:W},R)),Z=e.createDom(X);e.modifyCSS(Z,this.style[x]);var J=M(Z,g);if(J){e.modifyCSS(J,t({},this.style[g],{borderRadius:"unset"}));var ht=this._getMarkerSvg(R);J.innerHTML=ht}var at=M(Z,y);return at&&e.modifyCSS(at,this.style[y]),Z},T._getHtmlContent=function(){var R=this.get("htmlContent"),W=this.get("titleContent"),U=this.get("items"),X=R(W,U),Z=e.createDom(X);return Z},T.setPosition=function(R,W,U){var X=this.get("container"),Z=this.get("canvas").get("el"),J=e.getWidth(Z),ht=e.getHeight(Z),at=X.clientWidth,Q=X.clientHeight,xt=R,kt=W,Nt,nt=this.get("prePosition")||{x:0,y:0};if(at||(X.style.display="block",at=X.clientWidth,Q=X.clientHeight,X.style.display="none"),this.get("enterable")?(W=W-X.clientHeight/2,Nt=[R,W],nt&&R-nt.x>0?R-=X.clientWidth+1:R+=1):this.get("position")?(Nt=this._calcTooltipPosition(R,W,this.get("position"),at,Q,U),R=Nt[0],W=Nt[1]):(Nt=this._constraintPositionInBoundary(R,W,at,Q,J,ht),R=Nt[0],W=Nt[1]),this.get("inPlot")){var q=this.get("plotRange");Nt=this._constraintPositionInPlot(R,W,at,Q,q,this.get("enterable")),R=Nt[0],W=Nt[1]}var G=this.get("markerItems");r.isEmpty(G)||(xt=G[0].x,kt=G[0].y),this.set("prePosition",Nt);var N=this.get("follow");N&&(X.style.left=R+"px",X.style.top=W+"px");var it=this.get("crosshairGroup");if(it){var H=this.get("items");it.setPosition(xt,kt,H)}C.prototype.setPosition.call(this,R,W)},O}(f);P.exports=E},function(P,S,i){var t,c=i(16),s=c.FONT_FAMILY,v="g2-tooltip",o="g2-tooltip-title",f="g2-tooltip-list",r="g2-tooltip-list-item",e="g2-tooltip-marker",n="g2-tooltip-value",a=(t={crosshairs:!1,offset:15},t[""+v]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:s,lineHeight:"20px",padding:"10px 10px 6px 10px"},t[""+o]={marginBottom:"4px"},t[""+f]={margin:0,listStyleType:"none",padding:0},t[""+r]={marginBottom:"4px"},t[""+e]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},t[""+n]={display:"inline-block",float:"right",marginLeft:"30px"},t);P.exports=a},function(P,S,i){function t(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,c(a,u)}function c(a,u){return c=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},c(a,u)}var s=i(4),v=i(197),o=i(16),f=o.FONT_FAMILY,r=s.DomUtil,e=s.MatrixUtil,n=function(a){t(u,a);function u(){return a.apply(this,arguments)||this}var l=u.prototype;return l.getDefaultCfg=function(){var p=a.prototype.getDefaultCfg.call(this);return s.mix({},p,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:f,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},l._init_=function(){var p=this,d=p.get("padding"),g=p.get("frontPlot"),y=g.addGroup();p.set("container",y);var x=y.addShape("rect",{attrs:s.mix({},p.get("boardStyle"))});p.set("board",x);var A=y.addShape("path",{attrs:{fill:p.get("boardStyle").fill}});p.set("triangleShape",A);var m=y.addGroup();m.move(d.left,d.top);var M=m.addShape("text",{attrs:s.mix({},p.get("valueStyle"))});p.set("valueShape",M)},l.render=function(){var p=this;p.clear();var d=p.get("board"),g=p.get("valueShape"),y=p.get("padding"),x=p.get("items")[0];g&&g.attr("text",x.value);var A=g?g.getBBox():{width:80,height:30},m=y.left+A.width+y.right,M=y.top+A.height+y.bottom;d.attr("width",m),d.attr("height",M),p._centerTriangleShape()},l.clear=function(){var p=this.get("valueShape");p.attr("text","")},l.setPosition=function(p,d,g){var y=this,x=y.get("container"),A=y.get("plotRange"),m=x.getBBox(),M=m.width,b=m.height;if(p-=M/2,g&&(g.name==="point"||g.name==="interval")){var E=g.getBBox().y;d=E}if(d-=b,this.get("inPlot"))p<A.tl.x?(p=A.tl.x,y._leftTriangleShape()):p+M/2>A.tr.x?(p=A.tr.x-M,y._rightTriangleShape()):y._centerTriangleShape(),d<A.tl.y?d=A.tl.y:d+b>A.bl.y&&(d=A.bl.y-b);else{var C=this.get("canvas").get("el"),T=r.getWidth(C),O=r.getHeight(C);p<0?(p=0,y._leftTriangleShape()):p+M/2>T?(p=T-M,y._rightTriangleShape()):y._centerTriangleShape(),d<0?d=0:d+b>O&&(d=O-b)}var L=[1,0,0,0,1,0,0,0,1],R=e.transform(L,[["t",p,d]]);x.stopAnimate(),x.animate({matrix:R},this.get("animationDuration"))},l._centerTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),x=y.width,A=y.height,m=[["M",0,0],["L",d,0],["L",d/2,g],["L",0,0],["Z"]];p.attr("path",m),p.move(x/2-d/2,A-1)},l._leftTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),x=y.height,A=[["M",0,0],["L",d,0],["L",0,g+3],["L",0,0],["Z"]];p.attr("path",A),p.move(0,x-3)},l._rightTriangleShape=function(){var p=this.get("triangleShape"),d=this.get("triangleWidth"),g=this.get("triangleHeight"),y=this.get("board").getBBox(),x=y.width,A=y.height,m=[["M",0,0],["L",d,0],["L",d,g+4],["L",0,0],["Z"]];p.attr("path",m),p.move(x-d-1,A-4)},u}(v);P.exports=n},function(P,S,i){var t=i(0).MatrixUtil,c=t.vec2;function s(o,f,r,e){var n=[],a,u,l=!!e,h,p;if(l){h=[Infinity,Infinity],p=[-Infinity,-Infinity];for(var d=0,g=o.length;d<g;d++){var y=o[d];h=c.min([],h,y),p=c.max([],p,y)}h=c.min([],h,e[0]),p=c.max([],p,e[1])}for(var x=0,A=o.length;x<A;x++){var m=o[x];if(r)a=o[x?x-1:A-1],u=o[(x+1)%A];else if(x===0||x===A-1){n.push(m);continue}else a=o[x-1],u=o[x+1];var M=[];M=c.sub(M,u,a),M=c.scale(M,M,f);var b=c.distance(m,a),E=c.distance(m,u),C=b+E;C!==0&&(b/=C,E/=C);var T=c.scale([],M,-b),O=c.scale([],M,E),L=c.add([],m,T),R=c.add([],m,O);l&&(L=c.max([],L,h),L=c.min([],L,p),R=c.max([],R,h),R=c.min([],R,p)),n.push(L),n.push(R)}return r&&n.push(n.shift()),n}function v(o,f,r){for(var e=!!f,n=[],a=0,u=o.length;a<u;a+=2)n.push([o[a],o[a+1]]);for(var l=s(n,.4,e,r),h=n.length,p=[],d,g,y,x=0;x<h-1;x++)d=l[x*2],g=l[x*2+1],y=n[x+1],p.push(["C",d[0],d[1],g[0],g[1],y[0],y[1]]);return e&&(d=l[h],g=l[h+1],y=n[0],p.push(["C",d[0],d[1],g[0],g[1],y[0],y[1]])),p}P.exports={catmullRom2bezier:v}},function(P,S,i){var t=i(0),c=i(198),s=i(25),v=i(8),o=5;function f(n,a,u){return{x:n.x+u*Math.cos(a),y:n.y+u*Math.sin(a)}}function r(n,a,u,l,h){var p=!0,d=u.start,g=u.end,y=Math.min(d.y,g.y),x=Math.abs(d.y-g.y),A,m=0,M=Number.MIN_VALUE,b=n.map(function(T){return T.y>m&&(m=T.y),T.y<M&&(M=T.y),{size:a,targets:[T.y-y]}});for(M-=y,m-y>x&&(x=m-y);p;)for(b.forEach(function(T){var O=(Math.min.apply(M,T.targets)+Math.max.apply(M,T.targets))/2;T.pos=Math.min(Math.max(M,O-T.size/2),x-T.size)}),p=!1,A=b.length;A--;)if(A>0){var E=b[A-1],C=b[A];E.pos+E.size>C.pos&&(E.size+=C.size,E.targets=E.targets.concat(C.targets),E.pos+E.size>x&&(E.pos=x-E.size),b.splice(A,1),p=!0)}A=0,b.forEach(function(T){var O=y+a/2;T.targets.forEach(function(){n[A].y=T.pos+O,O+=a,A++})}),n.forEach(function(T){var O=T.r*T.r,L=Math.pow(Math.abs(T.y-l.y),2);if(O<L)T.x=l.x;else{var R=Math.sqrt(O-L);h?T.x=l.x+R:T.x=l.x-R}})}var e=function n(a){n.superclass.constructor.call(this,a)};t.extend(e,c),t.augment(e,{getDefaultCfg:function(){return{label:v.thetaLabels}},getDefaultOffset:function(a){return a.offset||0},adjustItems:function(a){var u=this,l=a[0]?a[0].offset:0;return l>0&&(a=u._distribute(a,l)),e.superclass.adjustItems.call(this,a)},_distribute:function(a,u){var l=this,h=l.get("coord"),p=h.getRadius(),d=l.get("label").labelHeight,g=h.getCenter(),y=p+u,x=y*2+d*2,A={start:h.start,end:h.end},m=l.get("geom");if(m){var M=m.get("view");A=M.getViewRegion()}var b=[[],[]];return a.forEach(function(E){!E||(E.textAlign==="right"?b[0].push(E):b[1].push(E))}),b.forEach(function(E,C){var T=parseInt(x/d,10);E.length>T&&(E.sort(function(O,L){return L["..percent"]-O["..percent"]}),E.splice(T,E.length-T)),E.sort(function(O,L){return O.y-L.y}),r(E,d,A,g,C)}),b[0].concat(b[1])},lineToLabel:function(a){var u=this,l=u.get("coord"),h=l.getRadius(),p=a.offset,d=a.orignAngle||a.angle,g=l.getCenter(),y=f(g,d,h+o/2),x=f(g,d,h+p/2);a.labelLine||(a.labelLine=u.get("label").labelLine||{}),a.labelLine.path=["M"+y.x,y.y+" Q"+x.x,x.y+" "+a.x,a.y].join(",")},getLabelRotate:function(a,u){var l;return u<0&&(l=a*180/Math.PI,l>90&&(l=l-180),l<-90&&(l=l+180)),l/180*Math.PI},getLabelAlign:function(a){var u=this,l=u.get("coord"),h=l.getCenter(),p;a.angle<=Math.PI/2&&a.x>=h.x?p="left":p="right";var d=u.getDefaultOffset(a);return d<=0&&(p==="right"?p="left":p="right"),p},getArcPoint:function(a){return a},getPointAngle:function(a){var u=this,l=u.get("coord"),h={x:t.isArray(a.x)?a.x[0]:a.x,y:a.y[0]};u.transLabelPoint(h);var p={x:t.isArray(a.x)?a.x[1]:a.x,y:a.y[1]};u.transLabelPoint(p);var d,g=s.getPointAngle(l,h);if(a.points&&a.points[0].y===a.points[1].y)d=g;else{var y=s.getPointAngle(l,p);g>=y&&(y=y+Math.PI*2),d=g+(y-g)/2}return d},getCirclePoint:function(a,u){var l=this,h=l.get("coord"),p=h.getCenter(),d=h.getRadius()+u,g=f(p,a,d);return g.angle=a,g.r=d,g}}),P.exports=e},function(P,S,i){var t=i(0),c=i(91),s=function v(o){v.superclass.constructor.call(this,o)};t.extend(s,c),t.augment(s,{setLabelPosition:function(o,f,r,e){t.isFunction(e)&&(e=e(o.text,f._origin,r));var n=this.get("coord"),a=n.isTransposed,u=n.convertPoint(f.points[0]),l=n.convertPoint(f.points[2]),h=(u.x-l.x)/2*(a?-1:1),p=(u.y-l.y)/2*(a?-1:1);switch(e){case"right":a?(o.x-=h,o.y+=p,o.textAlign=o.textAlign||"center"):(o.x-=h,o.y+=p,o.textAlign=o.textAlign||"left");break;case"left":a?(o.x-=h,o.y-=p,o.textAlign=o.textAlign||"center"):(o.x+=h,o.y+=p,o.textAlign=o.textAlign||"right");break;case"bottom":a?(o.x-=h*2,o.textAlign=o.textAlign||"left"):(o.y+=p*2,o.textAlign=o.textAlign||"center");break;case"middle":a?o.x-=h:o.y+=p,o.textAlign=o.textAlign||"center";break;case"top":a?o.textAlign=o.textAlign||"left":o.textAlign=o.textAlign||"center";break;default:break}}}),P.exports=s},function(P,S,i){var t=i(0),c=i(8),s=c.defaultColor,v="_origin";function o(r){return r.alias||r.field}var f={_getIntervalSize:function(e){var n=null,a=this.get("type"),u=this.get("coord");if(u.isRect&&(a==="interval"||a==="schema")){n=this.getSize(e[v]);var l=u.isTransposed?"y":"x";if(t.isArray(e[l])){var h=Math.abs(e[l][1]-e[l][0]);n=n<h?null:n}}return n},_snapEqual:function(e,n,a){var u;return e=a.translate(e),n=a.translate(n),a.isCategory?u=e===n:u=t.snapEqual(e,n),u},_getScaleValueByPoint:function(e){var n=0,a=this.get("coord"),u=this.getXScale(),l=a.invert(e),h=l.x;return this.isInCircle()&&h>(1+u.rangeMax())/2&&(h=u.rangeMin()),n=u.invert(h),u.isCategory&&(n=u.translate(n)),n},_getOriginByPoint:function(e){var n=this.getXScale(),a=this.getYScale(),u=n.field,l=a.field,h=this.get("coord"),p=h.invert(e),d=n.invert(p.x),g=a.invert(p.y),y={};return y[u]=d,y[l]=g,y},_getScale:function(e){var n=this,a=n.get("scales"),u=null;return t.each(a,function(l){if(l.field===e)return u=l,!1}),u},_getTipValueScale:function(){var e=this.getAttrsForLegend(),n;t.each(e,function(l){var h=l.getScale(l.type);if(h.isLinear)return n=h,!1});var a=this.getXScale(),u=this.getYScale();return!n&&u&&u.field==="..y"?a:n||u||a},_getTipTitleScale:function(e){var n=this;if(e)return n._getScale(e);var a=n.getAttr("position"),u=a.getFields(),l;return t.each(u,function(h){if(!h.includes(".."))return l=h,!1}),n._getScale(l)},_filterValue:function(e,n){var a=this.get("coord"),u=this.getYScale(),l=u.field,h=a.invert(n),p=h.y;p=u.invert(p);var d=e[e.length-1];return t.each(e,function(g){var y=g[v];if(y[l][0]<=p&&y[l][1]>=p)return d=g,!1}),d},getXDistance:function(){var e=this,n=e.get("xDistance");if(!n){var a=e.getXScale();if(a.isCategory)n=1;else{var u=a.values,l=a.translate(u[0]),h=l;t.each(u,function(d){d=a.translate(d),d<l&&(l=d),d>h&&(h=d)});var p=u.length;n=(h-l)/(p-1)}e.set("xDistance",n)}return n},findPoint:function(e,n){var a=this,u=a.get("type"),l=a.getXScale(),h=a.getYScale(),p=l.field,d=h.field,g=null;if(t.indexOf(["heatmap","point"],u)>-1){var y=a.get("coord"),x=y.invert(e),A=l.invert(x.x),m=h.invert(x.y),M=Infinity;return t.each(n,function(at){var Q=Math.pow(at[v][p]-A,2)+Math.pow(at[v][d]-m,2);Q<M&&(M=Q,g=at)}),g}var b=n[0],E=n[n.length-1];if(!b)return g;var C=a._getScaleValueByPoint(e),T=b[v][p],O=b[v][d],L=E[v][p],R=h.isLinear&&t.isArray(O);if(t.isArray(T))t.each(n,function(at){var Q=at[v];if(l.translate(Q[p][0])<=C&&l.translate(Q[p][1])>=C)if(R)t.isArray(g)||(g=[]),g.push(at);else return g=at,!1}),t.isArray(g)&&(g=this._filterValue(g,e));else{var W;if(!l.isLinear&&l.type!=="timeCat")t.each(n,function(at,Q){var xt=at[v];if(a._snapEqual(xt[p],C,l))if(R)t.isArray(g)||(g=[]),g.push(at);else return g=at,!1;else l.translate(xt[p])<=C&&(E=at,W=n[Q+1])}),t.isArray(g)&&(g=this._filterValue(g,e));else{if((C>l.translate(L)||C<l.translate(T))&&(C>l.max||C<l.min))return null;for(var U=0,X=n.length-1,Z;U<=X;){Z=Math.floor((U+X)/2);var J=n[Z][v][p];if(a._snapEqual(J,C,l))return n[Z];l.translate(J)<=l.translate(C)?(U=Z+1,E=n[Z],W=n[Z+1]):(X===0&&(E=n[0]),X=Z-1)}}E&&W&&Math.abs(l.translate(E[v][p])-C)>Math.abs(l.translate(W[v][p])-C)&&(E=W)}var ht=a.getXDistance();return!g&&Math.abs(l.translate(E[v][p])-C)<=ht/2&&(g=E),g},getTipTitle:function(e,n){var a="",u=this._getTipTitleScale(n);if(u){var l=e[u.field];a=u.getText(l)}else if(this.get("type")==="heatmap"){var h=this.getXScale(),p=this.getYScale(),d=h.getText(e[h.field]),g=p.getText(e[p.field]);a="( "+d+", "+g+" )"}return a},getTipValue:function(e,n){var a,u=n.field,l=e.key;if(a=e[u],t.isArray(a)){var h=[];t.each(a,function(p){h.push(n.getText(p))}),a=h.join("-")}else a=n.getText(a,l);return a},getTipName:function(e){var n,a,u=this._getGroupScales();if(u.length&&t.each(u,function(p){return a=p,!1}),a){var l=a.field;n=a.getText(e[l])}else{var h=this._getTipValueScale();n=o(h)}return n},getTipItems:function(e,n){var a=this,u=e[v],l=a.getTipTitle(u,n),h=a.get("tooltipCfg"),p=[],d,g;function y(E,C,T){if(!t.isNil(C)&&C!==""){var O={title:l,point:e,name:E||l,value:C,color:e.color||s,marker:!0};O.size=a._getIntervalSize(e),p.push(t.mix({},O,T))}}if(h){var x=h.fields,A=h.cfg,m=[];if(t.each(x,function(E){m.push(u[E])}),A){t.isFunction(A)&&(A=A.apply(null,m));var M=t.mix({},{point:e,title:l,color:e.color||s,marker:!0},A);M.size=a._getIntervalSize(e),p.push(M)}else t.each(x,function(E){if(!t.isNil(u[E])){var C=a._getScale(E);d=o(C),g=C.getText(u[E]),y(d,g)}})}else{var b=a._getTipValueScale();t.isNil(u[b.field])||(g=a.getTipValue(u,b),d=a.getTipName(u),y(d,g))}return p},isShareTooltip:function(){var e=this.get("shareTooltip"),n=this.get("type"),a=this.get("view"),u;if(a.get("parent")?u=a.get("parent").get("options"):u=a.get("options"),n==="interval"){var l=this.get("coord"),h=l.type;(h==="theta"||h==="polar"&&l.isTransposed)&&(e=!1)}else(!this.getYScale()||t.inArray(["contour","point","polygon","edge"],n))&&(e=!1);return u.tooltip&&t.isBoolean(u.tooltip.shared)&&(e=u.tooltip.shared),e}};P.exports=f},function(P,S,i){var t=i(0),c="_origin",s=i(199),v="_originActiveAttrs";function o(n,a){if(t.isNil(n)||t.isNil(a))return!1;var u=n.get("origin"),l=a.get("origin");return t.isEqual(u,l)}function f(n,a){if(!n||n.length!==a.length)return!0;var u=!1;return t.each(a,function(l,h){if(!o(l,n[h]))return u=!0,!1}),u}function r(n,a){var u={};return t.each(n,function(l,h){var p=a.attr(h);t.isArray(p)&&(p=t.cloneDeep(p)),u[h]=p}),u}var e={_isAllowActive:function(){var a=this.get("allowActive");if(t.isNil(a)){var u=this.get("view"),l=this.isShareTooltip(),h=u.get("options");if(h.tooltip===!1||!l)return!0}else return a;return!1},_onMouseenter:function(a){var u=this,l=a.shape,h=u.get("shapeContainer");l&&h.contain(l)&&u._isAllowActive()&&u.setShapesActived(l)},_onMouseleave:function(){var a=this,u=a.get("view"),l=u.get("canvas");a.get("activeShapes")&&(a.clearActivedShapes(),l.draw())},_bindActiveAction:function(){var a=this,u=a.get("view"),l=a.get("type");u.on(l+":mouseenter",t.wrapBehavior(a,"_onMouseenter")),u.on(l+":mouseleave",t.wrapBehavior(a,"_onMouseleave"))},_offActiveAction:function(){var a=this,u=a.get("view"),l=a.get("type");u.off(l+":mouseenter",t.getWrapBehavior(a,"_onMouseenter")),u.off(l+":mouseleave",t.getWrapBehavior(a,"_onMouseleave"))},_setActiveShape:function(a){var u=this,l=u.get("activedOptions")||{},h=a.get("origin"),p=h.shape||u.getDefaultValue("shape");t.isArray(p)&&(p=p[0]);var d=u.get("shapeFactory"),g=t.mix({},a.attr(),{origin:h}),y=d.getActiveCfg(p,g);l.style&&t.mix(y,l.style);var x=r(y,a);a.setSilent(v,x),l.animate?a.animate(y,300):a.attr(y),s.toFront(a)},setShapesActived:function(a){var u=this;t.isArray(a)||(a=[a]);var l=u.get("activeShapes");if(!!f(l,a)){var h=u.get("view"),p=h.get("canvas"),d=u.get("activedOptions");d&&d.highlight?(t.each(a,function(g){g.get("animating")&&g.stopAnimate()}),u.highlightShapes(a)):(l&&u.clearActivedShapes(),t.each(a,function(g){g.get("animating")&&g.stopAnimate(),g.get("visible")&&u._setActiveShape(g)})),u.set("activeShapes",a),p.draw()}},clearActivedShapes:function(){var a=this,u=a.get("shapeContainer"),l=a.get("activedOptions"),h=l&&l.animate;if(u&&!u.get("destroyed")){var p=a.get("activeShapes");t.each(p,function(y){var x=y.get(v);h?(y.stopAnimate(),y.animate(x,300)):y.attr(x),s.resetZIndex(y),y.setSilent(v,null)});var d=a.get("preHighlightShapes");if(d){var g=u.get("children");t.each(g,function(y){var x=y.get(v);x&&(h?(y.stopAnimate(),y.animate(x,300)):y.attr(x),s.resetZIndex(y),y.setSilent(v,null))})}a.set("activeShapes",null),a.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(a){var u=this,l=u.get("shapeContainer"),h=[];if(l){var p=u.getXScale().field,d=u.getShapes(),g=u._getOriginByPoint(a);t.each(d,function(y){var x=y.get("origin");if(y.get("visible")&&x){var A=x[c][p];A===g[p]&&h.push(y)}})}return h},getSingleShapeByPoint:function(a){var u=this,l=u.get("shapeContainer"),h=l.get("canvas"),p=h.get("pixelRatio"),d;if(l&&(d=l.getShape(a.x*p,a.y*p)),d&&d.get("origin"))return d},highlightShapes:function(a,u){var l=this;t.isArray(a)||(a=[a]);var h=l.get("activeShapes");if(!!f(h,a)){h&&l.clearActivedShapes();var p=l.getShapes(),d=l.get("activedOptions"),g=d&&d.animate,y=d&&d.style;t.each(p,function(x){var A={};x.stopAnimate(),t.indexOf(a,x)!==-1?(t.mix(A,y,u),s.toFront(x)):(t.mix(A,{fillOpacity:.3,opacity:.3}),s.resetZIndex(x));var m=r(A,x);x.setSilent(v,m),g?x.animate(A,300):x.attr(A)}),l.set("preHighlightShapes",a),l.set("activeShapes",a)}}};P.exports=e},function(P,S,i){var t=i(0),c="_origin",s=i(199);function v(r,e){if(t.isNil(r)||t.isNil(e))return!1;var n=r.get("origin"),a=e.get("origin");return t.isEqual(n,a)}function o(r,e){var n={};return t.each(r,function(a,u){u==="transform"&&(u="matrix");var l=e.attr(u);t.isArray(l)&&(l=t.cloneDeep(l)),n[u]=l}),n}var f={_isAllowSelect:function(){var e=this.get("allowSelect");if(t.isNil(e)){var n=this.get("type"),a=this.get("coord"),u=a&&a.type;if(n==="interval"&&u==="theta")return!0}else return e;return!1},_onClick:function(e){var n=this;if(n._isAllowSelect()){var a=e.shape,u=n.get("shapeContainer");a&&u.contain(a)&&n.setShapeSelected(a)}},_bindSelectedAction:function(){var e=this,n=e.get("view"),a=e.get("type");n.on(a+":click",t.wrapBehavior(e,"_onClick"))},_offSelectedAction:function(){var e=this,n=e.get("view"),a=e.get("type");n.off(a+":click",t.getWrapBehavior(e,"_onClick"))},_setShapeStatus:function(e,n){var a=this,u=a.get("view"),l=a.get("selectedOptions")||{},h=l.animate!==!1,p=u.get("canvas");e.set("selected",n);var d=e.get("origin");if(n){var g=d.shape||a.getDefaultValue("shape");t.isArray(g)&&(g=g[0]);var y=a.get("shapeFactory"),x=t.mix({geom:a,point:d},l),A=y.getSelectedCfg(g,x);t.mix(A,x.style),e.get("_originAttrs")||(e.get("animating")&&e.stopAnimate(),e.set("_originAttrs",o(A,e))),l.toFront&&s.toFront(e),h?e.animate(A,300):(e.attr(A),p.draw())}else{var m=e.get("_originAttrs");l.toFront&&s.resetZIndex(e),e.set("_originAttrs",null),h?e.animate(m,300):(e.attr(m),p.draw())}},setShapeSelected:function(e){var n=this,a=n._getSelectedShapes(),u=n.get("selectedOptions")||{},l=u.cancelable!==!1;if(u.mode==="multiple")t.indexOf(a,e)===-1?(a.push(e),n._setShapeStatus(e,!0)):l&&(t.Array.remove(a,e),n._setShapeStatus(e,!1));else{var h=a[0];l&&(e=v(h,e)?null:e),v(h,e)||(h&&n._setShapeStatus(h,!1),e&&n._setShapeStatus(e,!0))}},clearSelected:function(){var e=this,n=e.get("shapeContainer");if(n&&!n.get("destroyed")){var a=e._getSelectedShapes();t.each(a,function(u){e._setShapeStatus(u,!1),u.set("_originAttrs",null)})}},setSelected:function(e){var n=this,a=n.getShapes();return t.each(a,function(u){var l=u.get("origin");l&&l[c]===e&&n.setShapeSelected(u)}),this},_getSelectedShapes:function(){var e=this,n=e.getShapes(),a=[];return t.each(n,function(u){u.get("selected")&&a.push(u)}),e.set("selectedShapes",a),a}};P.exports=f},function(P,S,i){var t=i(0);P.exports=function(c){return t.isArray(c)?c:t.isString(c)?c.split("*"):[c]}},function(P,S,i){var t=i(105),c=i(0),s=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,v={LINEAR:"linear",CAT:"cat",TIME:"time"},o=function(){function f(e){this.defs={},this.viewTheme={scales:{}},this.filters={},c.assign(this,e)}var r=f.prototype;return r._getDef=function(n){var a=this.defs,u=this.viewTheme,l=null;return(u.scales[n]||a[n])&&(l=c.mix({},u.scales[n]),c.each(a[n],function(h,p){c.isNil(h)?delete l[p]:l[p]=h}),this.filters[n]&&(delete l.min,delete l.max)),l},r._getDefaultType=function(n,a){var u=v.LINEAR,l=c.Array.firstValue(a,n);return c.isArray(l)&&(l=l[0]),s.test(l)?u=v.TIME:c.isString(l)&&(u=v.CAT),u},r._getScaleCfg=function(n,a,u){var l={field:a},h=c.Array.values(u,a);if(l.values=h,!t.isCategory(n)&&n!=="time"){var p=c.Array.getRange(h);l.min=p.min,l.max=p.max,l.nice=!0}return n==="time"&&(l.nice=!1),l},r.createScale=function(n,a){var u=this,l=u._getDef(n),h,p=a||[],d=c.Array.firstValue(p,n);if(c.isNumber(n)||c.isNil(d)&&!l)h=t.identity({value:n,field:n.toString(),values:[n]});else{var g;l&&(g=l.type),g=g||u._getDefaultType(n,p);var y=u._getScaleCfg(g,n,p);l&&c.mix(y,l),h=t[g](y)}return h},f}();P.exports=o},function(P,S,i){var t=i(0),c=i(401),s=function(){function v(f){this.type="rect",this.actions=[],this.cfg={},t.mix(this,f),this.option=f||{}}var o=v.prototype;return o.reset=function(r){return this.actions=r.actions||[],this.type=r.type,this.cfg=r.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},o._execActions=function(r){var e=this.actions;t.each(e,function(n){var a=n[0];r[a](n[1],n[2])})},o.hasAction=function(r){var e=this.actions,n=!1;return t.each(e,function(a){if(r===a[0])return n=!0,!1}),n},o.createCoord=function(r,e){var n=this,a=n.type,u=n.cfg,l,h,p=t.mix({start:r,end:e},u);return a==="theta"?(l=c.Polar,n.hasAction("transpose")||n.transpose(),h=new l(p),h.type=a):(l=c[t.upperFirst(a||"")]||c.Rect,h=new l(p)),n._execActions(h),h},o.rotate=function(r){return r=r*Math.PI/180,this.actions.push(["rotate",r]),this},o.reflect=function(r){return this.actions.push(["reflect",r]),this},o.scale=function(r,e){return this.actions.push(["scale",r,e]),this},o.transpose=function(){return this.actions.push(["transpose"]),this},v}();P.exports=s},function(P,S,i){"use strict";var t=i(56);t.Cartesian=i(402),t.Rect=t.Cartesian,t.Polar=i(403),t.Helix=i(404),P.exports=t},function(P,S,i){"use strict";function t(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(y){return typeof y}:t=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t(d)}function c(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function s(d,g){return g&&(t(g)==="object"||typeof g=="function")?g:v(d)}function v(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function o(d,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function f(d,g,y){return g&&o(d.prototype,g),y&&o(d,y),d}function r(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&e(d,g)}function e(d,g){return e=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},e(d,g)}function n(d,g,y){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(A,m,M){var b=a(A,m);if(!!b){var E=Object.getOwnPropertyDescriptor(b,m);return E.get?E.get.call(M):E.value}},n(d,g,y||d)}function a(d,g){for(;!Object.prototype.hasOwnProperty.call(d,g)&&(d=u(d),d!==null););return d}function u(d){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},u(d)}var l=i(10),h=i(56),p=function(d){r(g,d),f(g,[{key:"getDefaultCfg",value:function(){var x=n(u(g.prototype),"getDefaultCfg",this).call(this);return l({},x,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]);function g(y){var x;return c(this,g),x=s(this,u(g).call(this,y)),x._init(),x}return f(g,[{key:"_init",value:function(){var x=this.start,A=this.end,m={start:x.x,end:A.x},M={start:x.y,end:A.y};this.x=m,this.y=M}},{key:"convertPoint",value:function(x){var A,m;return this.isTransposed?(A=x.y,m=x.x):(A=x.x,m=x.y),{x:this.convertDim(A,"x"),y:this.convertDim(m,"y")}}},{key:"invertPoint",value:function(x){var A=this.invertDim(x.x,"x"),m=this.invertDim(x.y,"y");return this.isTransposed?{x:m,y:A}:{x:A,y:m}}}]),g}(h);P.exports=p},function(P,S,i){"use strict";function t(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(b){return typeof b}:t=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},t(m)}function c(m,M){if(!(m instanceof M))throw new TypeError("Cannot call a class as a function")}function s(m,M){return M&&(t(M)==="object"||typeof M=="function")?M:v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function o(m,M){for(var b=0;b<M.length;b++){var E=M[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}function f(m,M,b){return M&&o(m.prototype,M),b&&o(m,b),m}function r(m,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(M&&M.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),M&&e(m,M)}function e(m,M){return e=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E},e(m,M)}function n(m,M,b){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(C,T,O){var L=a(C,T);if(!!L){var R=Object.getOwnPropertyDescriptor(L,T);return R.get?R.get.call(O):R.value}},n(m,M,b||m)}function a(m,M){for(;!Object.prototype.hasOwnProperty.call(m,M)&&(m=u(m),m!==null););return m}function u(m){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},u(m)}var l=i(50),h=i(30),p=i(10),d=i(56),g=l.mat3,y=l.vec2,x=l.vec3,A=function(m){r(M,m),f(M,[{key:"getDefaultCfg",value:function(){var E=n(u(M.prototype),"getDefaultCfg",this).call(this);return p({},E,{startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,type:"polar",isPolar:!0})}}]);function M(b){var E;return c(this,M),E=s(this,u(M).call(this,b)),E._init(),E}return f(M,[{key:"_init",value:function(){for(var E=this.radius,C=this.innerRadius,T=this.center,O=this.startAngle,L=this.endAngle;L<O;)L+=Math.PI*2;this.endAngle=L;var R=this.getOneBox(),W=R.maxX-R.minX,U=R.maxY-R.minY,X=Math.abs(R.minX)/W,Z=Math.abs(R.minY)/U,J=this.width,ht=this.height,at,Q;ht/U>J/W?(at=J/W,Q={x:T.x-(.5-X)*J,y:T.y-(.5-Z)*at*U}):(at=ht/U,Q={x:T.x-(.5-X)*at*W,y:T.y-(.5-Z)*ht}),E?E>0&&E<=1?E=at*E:(E<=0||E>at)&&(E=at):E=at;var xt={start:O,end:L},kt={start:C*E,end:E};this.x=xt,this.y=kt,this.radius=E,this.circleCentre=Q,this.center=Q}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var E=this.startAngle,C=this.endAngle;if(Math.abs(C-E)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var T=[0,Math.cos(E),Math.cos(C)],O=[0,Math.sin(E),Math.sin(C)],L=Math.min(E,C);L<Math.max(E,C);L+=Math.PI/18)T.push(Math.cos(L)),O.push(Math.sin(L));return{minX:Math.min.apply(Math,T),maxX:Math.max.apply(Math,T),minY:Math.min.apply(Math,O),maxY:Math.max.apply(Math,O)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(E){var C=this.getCenter(),T=this.isTransposed?E.y:E.x,O=this.isTransposed?E.x:E.y;return T=this.convertDim(T,"x"),O=this.convertDim(O,"y"),{x:C.x+Math.cos(T)*O,y:C.y+Math.sin(T)*O}}},{key:"invertPoint",value:function(E){var C=this.getCenter(),T=[E.x-C.x,E.y-C.y],O=this.x,L=[1,0,0,0,1,0,0,0,1];g.rotate(L,L,O.start);var R=[1,0,0];x.transformMat3(R,R,L),R=[R[0],R[1]];var W=y.angleTo(R,T,O.end<O.start);h(W,Math.PI*2)&&(W=0);var U=y.length(T),X=W/(O.end-O.start);X=O.end-O.start>0?X:-X;var Z=this.invertDim(U,"y"),J={};return J.x=this.isTransposed?Z:X,J.y=this.isTransposed?X:Z,J}}]),M}(d);P.exports=A},function(P,S,i){"use strict";function t(x){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(x)}function c(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function s(x,A){return A&&(t(A)==="object"||typeof A=="function")?A:v(x)}function v(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function o(x,A){for(var m=0;m<A.length;m++){var M=A[m];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}function f(x,A,m){return A&&o(x.prototype,A),m&&o(x,m),x}function r(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&e(x,A)}function e(x,A){return e=Object.setPrototypeOf||function(M,b){return M.__proto__=b,M},e(x,A)}function n(x,A,m){return typeof Reflect!="undefined"&&Reflect.get?n=Reflect.get:n=function(b,E,C){var T=a(b,E);if(!!T){var O=Object.getOwnPropertyDescriptor(T,E);return O.get?O.get.call(C):O.value}},n(x,A,m||x)}function a(x,A){for(;!Object.prototype.hasOwnProperty.call(x,A)&&(x=u(x),x!==null););return x}function u(x){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},u(x)}var l=i(50),h=i(30),p=i(10),d=i(56),g=l.vec2,y=function(x){r(A,x),f(A,[{key:"getDefaultCfg",value:function(){var M=n(u(A.prototype),"getDefaultCfg",this).call(this);return p({},M,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]);function A(m){var M;return c(this,A),M=s(this,u(A).call(this,m)),M._init(),M}return f(A,[{key:"_init",value:function(){var M=this.width,b=this.height,E=this.radius,C=this.innerRadius,T=this.startAngle,O=this.endAngle,L=(O-T)/(2*Math.PI)+1,R=Math.min(M,b)/2;E&&E>=0&&E<=1&&(R=R*E);var W=Math.floor(R*(1-C)/L),U=W/(Math.PI*2),X={start:T,end:O},Z={start:C*R,end:C*R+W*.99};this.a=U,this.d=W,this.x=X,this.y=Z}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(M){var b=this.a,E=this.center,C,T;this.isTransposed?(C=M.y,T=M.x):(C=M.x,T=M.y);var O=this.convertDim(C,"x"),L=b*O,R=this.convertDim(T,"y");return{x:E.x+Math.cos(O)*(L+R),y:E.y+Math.sin(O)*(L+R)}}},{key:"invertPoint",value:function(M){var b=this.center,E=this.a,C=this.d+this.y.start,T=g.subtract([],[M.x,M.y],[b.x,b.y]),O=g.angleTo(T,[1,0],!0),L=O*E;g.length(T)<L&&(L=g.length(T));var R=Math.floor((g.length(T)-L)/C);O=2*R*Math.PI+O;var W=E*O,U=g.length(T)-W;U=h(U,0)?0:U;var X=this.invertDim(O,"x"),Z=this.invertDim(U,"y");X=h(X,0)?0:X,Z=h(Z,0)?0:Z;var J={};return J.x=this.isTransposed?Z:X,J.y=this.isTransposed?X:Z,J}}]),A}(d);P.exports=y},function(P,S,i){var t=i(0),c=i(24),s=c.Axis,v=t.MatrixUtil.vec2;function o(n){var a=[];if(n.length>0){a=n.slice(0);var u=a[0],l=a[a.length-1];u.value!==0&&a.unshift({value:0}),l.value!==1&&a.push({value:1})}return a}function f(n,a,u){var l=[];return n.length<1||(n.length>=2&&a&&u&&l.push({text:"",tickValue:"",value:0}),n[0].value!==0&&l.push({text:"",tickValue:"",value:0}),l=l.concat(n),l[l.length-1].value!==1&&l.push({text:"",tickValue:"",value:1})),l}function r(n,a){return a===void 0&&(a=0),n==="middle"&&(a=.5),n.includes("%")&&(a=parseInt(n,10)/100),a}var e=function(){function n(u){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],t.mix(this,u)}var a=n.prototype;return a._isHide=function(l){var h=this.options;return!!(h&&h[l]===!1)},a._getMiddleValue=function(l,h,p,d){if(l===0&&!d)return 0;if(l===1)return 1;var g=h[p+1].value;return!d&&g===1?1:(l+g)/2},a._getLineRange=function(l,h,p,d){var g,y,x,A=h.field,m=this.options,M="";if(m[A]&&m[A].position&&(M=m[A].position),p==="x"){var b=M==="top"?1:0;b=r(M,b),g={x:0,y:b},y={x:1,y:b},x=!1}else{if(d){var E=M==="left"?0:1;E=r(M,E),g={x:E,y:0},y={x:E,y:1}}else{var C=M==="right"?1:0;C=r(M,C),g={x:C,y:0},y={x:C,y:1}}x=!0}return g=l.convert(g),y=l.convert(y),{start:g,end:y,isVertical:x}},a._getLineCfg=function(l,h,p,d){var g,y=this._getLineRange(l,h,p,d),x=y.isVertical,A=y.start,m=y.end,M=l.center;return l.isTransposed&&(x=!x),x&&A.x>M.x||!x&&A.y>M.y?g=1:g=-1,{isVertical:x,factor:g,start:A,end:m}},a._getCircleCfg=function(l){var h={},p=l.x,d=l.y,g=d.start>d.end,y;l.isTransposed?y={x:g?0:1,y:0}:y={x:0,y:g?0:1},y=l.convert(y);var x=l.circleCentre,A=[y.x-x.x,y.y-x.y],m=[1,0],M;y.y>x.y?M=v.angle(A,m):M=v.angle(A,m)*-1;var b=M+(p.end-p.start);return h.startAngle=M,h.endAngle=b,h.center=x,h.radius=Math.sqrt(Math.pow(y.x-x.x,2)+Math.pow(y.y-x.y,2)),h.inner=l.innerRadius||0,h},a._getRadiusCfg=function(l){var h=l.x.start,p=h<0?-1:1,d,g;return l.isTransposed?(d={x:0,y:0},g={x:1,y:0}):(d={x:0,y:0},g={x:0,y:1}),{factor:p,start:l.convert(d),end:l.convert(g)}},a._getAxisPosition=function(l,h,p,d){var g="",y=this.options;if(y[d]&&y[d].position)g=y[d].position;else{var x=l.type;l.isRect?h==="x"?g="bottom":h==="y"&&(p?g="right":g="left"):x==="helix"?g="helix":h==="x"?g=l.isTransposed?"radius":"circle":g=l.isTransposed?"circle":"radius"}return g},a._getAxisDefaultCfg=function(l,h,p,d){var g=this,y=g.viewTheme,x={},A=g.options,m=h.field;if(x=t.deepMix({},y.axis[d],x,A[m]),x.viewTheme=y,x.title){var M=t.isPlainObject(x.title)?x.title:{};M.text=M.text||h.alias||m,t.deepMix(x,{title:M})}return x.ticks=h.getTicks(),l.isPolar&&!h.isCategory&&p==="x"&&Math.abs(l.endAngle-l.startAngle)===Math.PI*2&&x.ticks.pop(),x.coord=l,x.label&&t.isNil(x.label.autoRotate)&&(x.label.autoRotate=!0),A.hasOwnProperty("xField")&&A.xField.hasOwnProperty("grid")&&x.position==="left"&&t.deepMix(x,A.xField),x},a._getAxisCfg=function(l,h,p,d,g,y){g===void 0&&(g="");var x=this,A=x._getAxisPosition(l,d,g,h.field),m=x._getAxisDefaultCfg(l,h,d,A);if(!t.isEmpty(m.grid)&&p){var M=[],b=[],E=o(p.getTicks());if(E.length){var C=f(m.ticks,h.isLinear,m.grid.align==="center");t.each(C,function(T,O){b.push(T.tickValue);var L=[],R=T.value;if(m.grid.align==="center"&&(R=x._getMiddleValue(R,C,O,h.isLinear)),!t.isNil(R)){var W=l.x,U=l.y;t.each(E,function(X){var Z=d==="x"?R:X.value,J=d==="x"?X.value:R,ht=l.convert({x:Z,y:J});if(l.isPolar){var at=l.circleCentre;U.start>U.end&&(J=1-J),ht.flag=W.start>W.end?0:1,ht.radius=Math.sqrt(Math.pow(ht.x-at.x,2)+Math.pow(ht.y-at.y,2))}L.push(ht)}),M.push({_id:y+"-"+d+g+"-grid-"+T.tickValue,points:L})}})}m.grid.items=M,m.grid.tickValues=b}return m.type=h.type,m},a._getHelixCfg=function(l){for(var h={},p=l.a,d=l.startAngle,g=l.endAngle,y=100,x=[],A=0;A<=y;A++){var m=l.convert({x:A/100,y:0});x.push(m.x),x.push(m.y)}var M=l.convert({x:0,y:0});return h.a=p,h.startAngle=d,h.endAngle=g,h.crp=x,h.axisStart=M,h.center=l.center,h.inner=l.y.start,h},a._drawAxis=function(l,h,p,d,g,y,x){var A=this.container,m=this.canvas,M,b;l.type==="cartesian"?(M=s.Line,b=this._getLineCfg(l,h,d,x)):l.type==="helix"&&d==="x"?(M=s.Helix,b=this._getHelixCfg(l)):d==="x"?(M=s.Circle,b=this._getCircleCfg(l)):(M=s.Line,b=this._getRadiusCfg(l));var E=this._getAxisCfg(l,h,p,d,x,g);E=t.mix({},E,b),d==="y"&&y&&y.get("type")==="circle"&&(E.circle=y),E._id=g+"-"+d,t.isNil(x)||(E._id=g+"-"+d+x),t.mix(E,{canvas:m,group:A.addGroup({viewId:g})});var C=new M(E);return C.render(),this.axes.push(C),C},a.createAxis=function(l,h,p){var d=this,g=this.coord,y=g.type;if(y!=="theta"&&!(y==="polar"&&g.isTransposed)){var x;l&&!d._isHide(l.field)&&(x=d._drawAxis(g,l,h[0],"x",p)),!t.isEmpty(h)&&y!=="helix"&&t.each(h,function(A,m){d._isHide(A.field)||d._drawAxis(g,A,l,"y",p,x,m)})}},a.changeVisible=function(l){var h=this.axes;t.each(h,function(p){p.set("visible",l)})},a.clear=function(){var l=this,h=l.axes;t.each(h,function(p){p.destroy()}),l.axes=[]},n}();P.exports=e},function(P,S,i){var t=i(0),c=i(407),s=function(){function v(f){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,t.mix(this,f)}var o=v.prototype;return o._creatGuides=function(){var r=this,e=this.options,n=this.xScales,a=this.yScales,u=this.view,l=this.viewTheme;return this.backContainer&&u&&(this.backGroup=this.backContainer.addGroup({viewId:u.get("_id")})),this.frontContainer&&u&&(this.frontGroup=this.frontContainer.addGroup({viewId:u.get("_id")})),e.forEach(function(h){var p=h.type,d=t.deepMix({xScales:n,yScales:a,viewTheme:l},l?l.guide[p]:{},h);p=t.upperFirst(p);var g=new c[p](d);r.guides.push(g)}),r.guides},o.line=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"line"},r)),this},o.arc=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"arc"},r)),this},o.text=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"text"},r)),this},o.image=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"image"},r)),this},o.region=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"region"},r)),this},o.regionFilter=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"regionFilter"},r)),this},o.dataMarker=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"dataMarker"},r)),this},o.dataRegion=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"dataRegion"},r)),this},o.html=function(r){return r===void 0&&(r={}),this.options.push(t.mix({type:"html"},r)),this},o.render=function(r){var e=this,n=e.view,a=n&&n.get("data"),u=e._creatGuides();t.each(u,function(l){var h;l.get("top")?h=e.frontGroup||e.frontContainer:h=e.backGroup||e.backContainer,l.render(r,h,a,n)})},o.clear=function(){this.options=[],this.reset()},o.changeVisible=function(r){var e=this.guides;t.each(e,function(n){n.changeVisible(r)})},o.reset=function(){var r=this.guides;t.each(r,function(e){e.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},v}();P.exports=s},function(P,S,i){var t=i(24),c=t.Guide,s=i(408);c.RegionFilter=s,P.exports=c},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(0),v=i(17),o=i(112),f=o.Path,r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return s.mix({},l,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},a.render=function(l,h,p,d){var g=this,y=h.addGroup();y.name="guide-region-filter",d.once("afterpaint",function(){if(!y.get("destroyed")){g._drawShapes(d,y);var x=g._drawClip(l);y.attr({clip:x}),g.set("clip",x),g.get("appendInfo")&&y.setSilent("appendInfo",g.get("appendInfo")),g.set("el",y)}})},a._drawShapes=function(l,h){var p=this,d=[],g=l.getAllGeoms();return g.map(function(y){var x=y.getShapes(),A=y.get("type"),m=p._geomFilter(A);return m&&x.map(function(M){var b=M.type,E=s.cloneDeep(M.attr());p._adjustDisplay(E);var C=h.addShape(b,{attrs:E});return d.push(C),M}),y}),d},a._drawClip=function(l){var h=this,p=h.parsePoint(l,h.get("start")),d=h.parsePoint(l,h.get("end")),g=[["M",p.x,p.y],["L",d.x,p.y],["L",d.x,d.y],["L",p.x,d.y],["z"]],y=new f({attrs:{path:g,opacity:1}});return y},a._adjustDisplay=function(l){var h=this,p=h.get("color");l.fill&&(l.fill=l.fillStyle=p),l.stroke=l.strokeStyle=p},a._geomFilter=function(l){var h=this,p=h.get("apply");return p?s.contains(p,l):!0},a.clear=function(){e.prototype.clear.call(this);var l=this.get("clip");l&&l.remove()},n}(v);P.exports=r},function(P,S,i){function t(){return t=Object.assign||function(y){for(var x=1;x<arguments.length;x++){var A=arguments[x];for(var m in A)Object.prototype.hasOwnProperty.call(A,m)&&(y[m]=A[m])}return y},t.apply(this,arguments)}var c=i(0),s=i(24),v=s.Legend,o=i(410),f=i(21),r=i(201),e=i(203),n=i(8),a="_origin",u=4.5,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,h=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];function p(y,x,A){var m;return c.isNil(A)?!1:(y=A.translate(y),x=A.translate(x),A.isCategory?m=y===x:m=Math.abs(y-x)<=1,m)}function d(y,x){var A;return c.each(y,function(m){if(m.get("visible")){var M=m.getYScale();if(M.field===x){A=m;return}}}),A}var g=function(){function y(A){var m=this;m.options={},c.mix(m,A),m.clear();var M=m.chart;m.container=M.get("frontPlot"),m.plotRange=M.get("plotRange")}var x=y.prototype;return x.clear=function(){var m=this.legends;this.backRange=null,c.each(m,function(M){c.each(M,function(b){b.destroy()})}),this.legends={}},x.getBackRange=function(){var m=this.backRange;if(!m){var M=this.chart.get("backPlot");m=r(M,e(this.chart.get("plotRange")));var b=this.plotRange;m.maxX-m.minX<b.br.x-b.tl.x&&m.maxY-m.minY<b.br.y-b.tl.y&&(m={minX:b.tl.x,minY:b.tl.y,maxX:b.br.x,maxY:b.br.y}),this.backRange=m}return m},x._isFieldInView=function(m,M,b){var E=!1,C=b.get("scales"),T=C[m];return T&&T.values&&(E=c.inArray(T.values,M)),E},x._bindClickEvent=function(m,M,b){var E=this,C=E.chart,T=C.get("views"),O=M.field,L=E.options;m.on("itemclick",function(R){if(L.onClick&&L.defaultClickHandlerEnabled!==!0)L.onClick(R);else{var W=R.item,U=R.checked,X=m.get("selectedMode")==="single",Z=W.dataValue;U?(c.Array.remove(b,Z),E._isFieldInView(O,Z,C)&&C.filter(O,function(J){return X?J===Z:!c.inArray(b,J)}),c.each(T,function(J){E._isFieldInView(O,Z,J)&&J.filter(O,function(ht){return X?ht===Z:!c.inArray(b,ht)})})):X||(b.push(Z),E._isFieldInView(O,Z,C)&&C.filter(O,function(J){return!c.inArray(b,J)}),c.each(T,function(J){E._isFieldInView(O,Z,J)&&J.filter(O,function(ht){return!c.inArray(b,ht)})})),L.onClick&&L.onClick(R),C.set("keepLegend",!0),C.set("keepPadding",!0),C.repaint(),C.set("keepPadding",!1),C.set("keepLegend",!1)}})},x._bindClickEventForMix=function(m){var M=this,b=M.chart,E=b.getAllGeoms();m.on("itemclick",function(C){var T=C.item.field,O=C.checked;O?c.each(E,function(L){var R=L.getYScale().field;R===T&&L.show()}):c.each(E,function(L){var R=L.getYScale().field;R===T&&L.hide()})})},x._filterLabels=function(m,M,b){if(m.get("gLabel"))m.get("gLabel").set("visible",b);else{var E=M.get("labelCfg");if(E&&E.fields&&E.fields.length>0){var C=M.getXScale(),T=M.getYScale(),O=C.field,L=T.field,R=m.get("origin")._origin,W=M.get("labelContainer"),U=W.get("labelsGroup").get("children");c.each(U,function(X){var Z=X.get("origin")||[];Z[O]===R[O]&&Z[L]===R[L]&&(X.set("visible",b),m.set("gLabel",X))})}}},x._bindFilterEvent=function(m,M){var b=this,E=this.chart,C=M.field;m.on("itemfilter",function(T){var O=T.range;E.filterShape(function(U,X,Z){if(!c.isNil(U[C])){var J=U[C]>=O[0]&&U[C]<=O[1];return b._filterLabels(X,Z,J),J}return!0});for(var L=E.getAllGeoms()||[],R=function(X){var Z=L[X];Z.get("type")==="heatmap"&&l(function(){Z.drawWithRange(O)})},W=0;W<L.length;W++)R(W)})},x._getShapeData=function(m){var M=m.get("origin");return c.isArray(M)&&(M=M[0]),M[a]},x._bindHoverEvent=function(m,M){var b=this,E=b.chart,C=E.getAllGeoms(),T=b.options,O=E.get("canvas");m.on("itemhover",function(L){var R=L.item.value,W=b.pre;if(!W)c.each(C,function(U){var X=U.get("shapeContainer"),Z=U.getShapes(),J=[];if(M){var ht=U.get("scales")[M];c.each(Z,function(at){var Q=b._getShapeData(at);Q&&p(Q[M],R,ht)&&J.push(at)})}else U.getYScale().field===R&&(J=Z);c.isEmpty(J)||(L.shapes=J,L.geom=U,T.onHover?(T.onHover(L),X.sort(),O.draw()):U.setShapesActived(J))}),b.pre=R;else if(W===R)return}),m.on("itemunhover",function(L){b.pre=null,T.onUnhover&&T.onUnhover(L),c.each(C,function(R){R.get("activeShapes")&&(R.clearActivedShapes(),O.draw())})})},x._isFiltered=function(m,M,b){if(!m.isCategory)return!0;var E=!0;return b=m.invert(b),c.each(M,function(C){if(m.getText(C)===m.getText(b))return E=!1,!1}),E},x._alignLegend=function(m,M,b,E){var C=this,T=C.viewTheme,O=C.container,L=O.get("canvas"),R=L.get("width"),W=L.get("height"),U=C.totalRegion,X=C.plotRange,Z=C.getBackRange(),J=m.get("offset")[0]||0,ht=m.get("offset")[1]||0,at=m.getHeight(),Q=m.getWidth(),xt=T.legend.margin,kt=T.legend.legendMargin,Nt=C.legends[E].length,nt=E.split("-"),q=0,G=0,N=Nt>1?U:b;if(nt[0]==="left"||nt[0]==="right")W=X.br.y,q=C._getXAlign(nt[0],R,b,Z,Q,xt),M?G=(M.get("y")||M.get("group").get("y"))+M.getHeight()+kt:G=C._getYAlignVertical(nt[1],W,N,Z,0,xt,L.get("height"));else if(nt[0]==="top"||nt[0]==="bottom")if(G=C._getYAlignHorizontal(nt[0],W,b,Z,at,xt),M){var it=M.getWidth();q=(M.get("x")||M.get("group").get("x"))+it+kt}else q=C._getXAlign(nt[1],R,N,Z,0,xt),nt[1]==="right"&&(q=X.br.x-N.totalWidth);m.move(q+J,G+ht)},x._getXAlign=function(m,M,b,E,C,T){var O=E.minX-C-T[3]<0?0:E.minX-C-T[3],L=m==="left"?O:E.maxX+T[1];return m==="center"&&(L=(M-b.totalWidth)/2),L},x._getYAlignHorizontal=function(m,M,b,E,C,T){var O=m==="top"?E.minY-C-T[0]:E.maxY+T[2];return O},x._getYAlignVertical=function(m,M,b,E,C,T,O){var L=m==="top"?E.minY-C-T[0]:M-b.totalHeight;return m==="center"&&(L=(O-b.totalHeight)/2),L},x._getSubRegion=function(m){var M=0,b=0,E=0,C=0;return c.each(m,function(T){var O=T.getWidth(),L=T.getHeight();M<O&&(M=O),E+=O,b<L&&(b=L),C+=L}),{maxWidth:M,totalWidth:E,maxHeight:b,totalHeight:C}},x._getRegion=function(){var m=this,M=m.viewTheme,b=m.legends,E=M.legend.legendMargin,C=[],T=0,O=0;return c.each(b,function(L){var R=m._getSubRegion(L);C.push(R),T+=R.totalWidth+E,O+=R.totalHeight+E}),{totalWidth:T,totalHeight:O,subs:C}},x._addCategoryLegend=function(m,M,b,E,C){var T=this,O=m.field,L=T.options,R=L[O];R&&(L=R);var W=T.legends;W[C]=W[C]||[];var U=T.container,X=[],Z=m.getTicks(),J=!0,ht=b.get("shapeType")||"point",at=b.getDefaultValue("shape")||"circle";L[O]&&L[O].marker?(at=L[O].marker,ht="point",J=!1):L.marker&&(at=L.marker,ht="point",J=!1);var Q=T.chart,xt=T.viewTheme,kt=Q.get("canvas"),Nt=T.plotRange,nt=C.split("-"),q=nt[0]==="right"||nt[0]==="left"?Nt.bl.y-Nt.tr.y:kt.get("width");c.each(Z,function(ct){var ft=ct.text,K=ft,$=ct.value,et=m.invert($),j={isInCircle:b.isInCircle()},w=E?T._isFiltered(m,E,$):!0,D=b.getAttr("color"),V=b.getAttr("shape");if(D)if(D.callback&&D.callback.length>1){var tt=Array(D.callback.length-1).fill("");j.color=D.mapping.apply(D,[et].concat(tt)).join("")||xt.defaultColor}else j.color=D.mapping(et).join("")||xt.defaultColor;if(J&&V)if(V.callback&&V.callback.length>1){var lt=Array(V.callback.length-1).fill("");at=V.mapping.apply(V,[et].concat(lt)).join("")}else at=V.mapping(et).join("");var St=f.getShapeFactory(ht),ot=St.getMarkerCfg(at,j);n.legendMarkerRadius&&(ot.radius=n.legendMarkerRadius),c.isFunction(at)&&(ot.symbol=at),X.push({value:K,dataValue:et,checked:w,marker:ot})});var G=c.deepMix({},xt.legend[nt[0]],L[O]||L,{viewId:Q.get("_id"),maxLength:q,items:X,container:U,position:[0,0]});G.title&&c.deepMix(G,{title:{text:m.alias||m.field}});var N;if(T._isTailLegend(L,b))G.chart=T.chart,G.geom=b,N=new o(G);else if(L.useHtml){var it=U.get("canvas").get("el");if(U=L.container,c.isString(U)&&/^\#/.test(U)){var H=U.replace("#","");U=document.getElementById(H)}U||(U=it.parentNode),G.container=U,G.legendStyle===void 0&&(G.legendStyle={}),G.legendStyle.CONTAINER_CLASS=t({},G.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":it.style.zIndex===""?1:parseInt(it.style.zIndex,10)+1}),L.flipPage?(G.legendStyle.CONTAINER_CLASS.height=nt[0]==="right"||nt[0]==="left"?q+"px":"auto",G.legendStyle.CONTAINER_CLASS.width=nt[0]==="right"||nt[0]==="left"?"auto":q+"px",N=new v.CatPageHtml(G)):N=new v.CatHtml(G)}else N=new v.Category(G);return T._bindClickEvent(N,m,E),W[C].push(N),N},x._bindChartMove=function(m){var M=this.chart,b=this.legends;M.on("plotmove",function(E){var C=!1;if(E.target){var T=E.target.get("origin");if(T){var O=T[a]||T[0][a],L=m.field;if(O){var R=O[L];c.each(b,function(W){c.each(W,function(U){C=!0,!U.destroyed&&U.activate(R)})})}}}C||c.each(b,function(W){c.each(W,function(U){!U.destroyed&&U.deactivate()})})})},x._addContinuousLegend=function(m,M,b){var E=this,C=E.legends;C[b]=C[b]||[];var T=E.container,O=m.field,L=m.getTicks(),R=[],W,U,X,Z=E.viewTheme;c.each(L,function(xt){var kt=xt.value,Nt=m.invert(kt),nt=M.mapping(Nt).join("");R.push({value:xt.tickValue,attrValue:nt,color:nt,scaleValue:kt}),kt===0&&(U=!0),kt===1&&(X=!0)}),U||R.push({value:m.min,attrValue:M.mapping(0).join(""),color:M.mapping(0).join(""),scaleValue:0}),X||R.push({value:m.max,attrValue:M.mapping(1).join(""),color:M.mapping(1).join(""),scaleValue:1});var J=E.options,ht=b.split("-"),at=Z.legend[ht[0]];(J&&J.slidable===!1||J[O]&&J[O].slidable===!1)&&(at=c.mix({},at,Z.legend.gradient));var Q=c.deepMix({},at,J[O]||J,{items:R,attr:M,formatter:m.formatter,container:T,position:[0,0]});if(Q.title&&c.deepMix(Q,{title:{text:m.alias||m.field}}),M.type==="color")W=new v.Color(Q);else if(M.type==="size")J&&J.sizeType==="circle"?W=new v.CircleSize(Q):W=new v.Size(Q);else return;return E._bindFilterEvent(W,m),C[b].push(W),W},x._isTailLegend=function(m,M){if(m.hasOwnProperty("attachLast")&&m.attachLast){var b=M.get("type");if(b==="line"||b==="lineStack"||b==="area"||b==="areaStack")return!0}return!1},x._adjustPosition=function(m,M){var b;if(M)b="right-top";else if(c.isArray(m))b=String(m[0])+"-"+String(m[1]);else{var E=m.split("-");E.length===1?(E[0]==="left"&&(b="left-bottom"),E[0]==="right"&&(b="right-bottom"),E[0]==="top"&&(b="top-center"),E[0]==="bottom"&&(b="bottom-center")):b=m}return b},x.addLegend=function(m,M,b,E){var C=this,T=C.options,O=m.field,L=T[O],R=C.viewTheme;if(L===!1)return null;if(L&&L.custom)C.addCustomLegend(O);else{var W=T.position||R.defaultLegendPosition;W=C._adjustPosition(W,C._isTailLegend(T,b)),L&&L.position&&(W=C._adjustPosition(L.position,C._isTailLegend(L,b)));var U;m.isLinear?U=C._addContinuousLegend(m,M,W):U=C._addCategoryLegend(m,M,b,E,W),U&&(C._bindHoverEvent(U,O),T.reactive&&C._bindChartMove(m))}},x.addCustomLegend=function(m){var M=this,b=M.chart,E=M.viewTheme,C=M.container,T=M.options;m&&(T=T[m]);var O=T.position||E.defaultLegendPosition;O=M._adjustPosition(O);var L=M.legends;L[O]=L[O]||[];var R=T.items;if(!!R){var W=b.getAllGeoms();c.each(R,function(kt){var Nt=d(W,kt.value);c.isPlainObject(kt.marker)?kt.marker.radius=kt.marker.radius||n.legendMarkerRadius||u:(kt.marker={symbol:kt.marker||"circle",radius:n.legendMarkerRadius||u},c.indexOf(h,kt.marker.symbol)!==-1?kt.marker.stroke=kt.fill:kt.marker.fill=kt.fill);var nt=kt.marker.symbol;c.isString(nt)&&nt.indexOf("hollow")!==-1&&(kt.marker.symbol=c.lowerFirst(nt.substr(6))),kt.checked=c.isNil(kt.checked)?!0:kt.checked,kt.geom=Nt});var U=b.get("canvas"),X=M.plotRange,Z=O.split("-"),J=Z[0]==="right"||Z[0]==="left"?X.bl.y-X.tr.y:U.get("width"),ht=c.deepMix({},E.legend[Z[0]],T,{maxLength:J,items:R,container:C,position:[0,0]}),at;if(T.useHtml){var Q=T.container;if(/^\#/.test(C)){var xt=Q.replace("#","");Q=document.getElementById(xt)}else Q||(Q=C.get("canvas").get("el").parentNode);ht.container=Q,ht.legendStyle===void 0&&(ht.legendStyle={}),ht.legendStyle.CONTAINER_CLASS||(ht.legendStyle.CONTAINER_CLASS={height:Z[0]==="right"||Z[0]==="left"?J+"px":"auto",width:Z[0]==="right"||Z[0]==="left"?"auto":J+"px",position:"absolute",overflow:"auto"}),T.flipPage?at=new v.CatPageHtml(ht):at=new v.CatHtml(ht)}else at=new v.Category(ht);return L[O].push(at),at.on("itemclick",function(kt){T.onClick&&T.onClick(kt)}),M._bindHoverEvent(at),at}},x.addMixedLegend=function(m,M){var b=this,E=b.options,C=[];c.each(m,function(L){var R=L.alias||L.field,W=E[L.field];c.each(M,function(U){if(U.getYScale()===L&&L.values&&L.values.length>0&&W!==!1){var X=U.get("shapeType")||"point",Z=U.getDefaultValue("shape")||"circle",J=f.getShapeFactory(X),ht={color:U.getDefaultValue("color")},at=J.getMarkerCfg(Z,ht);n.legendMarkerRadius&&(at.radius=n.legendMarkerRadius);var Q={value:R,marker:at,field:L.field};C.push(Q)}})});var T={custom:!0,items:C};b.options=c.deepMix({},T,b.options);var O=b.addCustomLegend();b._bindClickEventForMix(O)},x.alignLegends=function(){var m=this,M=m.legends,b=m._getRegion(M);m.totalRegion=b;var E=0;return c.each(M,function(C,T){var O=b.subs[E];c.each(C,function(L,R){var W=C[R-1];L.get("useHtml")&&!L.get("autoPosition")||m._alignLegend(L,W,O,T)}),E++}),this},y}();P.exports=g},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(0),v=i(24),o=i(8),f=v.Legend,r=f.Category,e=function(n){t(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{type:"tail-legend",layout:"vertical",autoLayout:!0})},u._addItem=function(h){var p=this.get("itemsGroup"),d=this._getNextX(),g=0,y=this.get("unCheckColor"),x=p.addGroup({x:0,y:0,value:h.value,scaleValue:h.scaleValue,checked:h.checked});x.translate(d,g),x.set("viewId",p.get("viewId"));var A=this.get("textStyle"),m=this.get("_wordSpaceing"),M=0;if(h.marker){var b=s.mix({},h.marker,{x:h.marker.radius,y:0});h.checked||(b.fill&&(b.fill=y),b.stroke&&(b.stroke=y));var E=x.addShape("marker",{type:"marker",attrs:b});E.attr("cursor","pointer"),E.name="legend-marker",M+=E.getBBox().width+m}var C=s.mix({},A,{x:M,y:0,text:this._formatItemValue(h.value)});h.checked||s.mix(C,{fill:y});var T=x.addShape("text",{attrs:C});T.attr("cursor","pointer"),T.name="legend-text",this.get("appendInfo")&&T.setSilent("appendInfo",this.get("appendInfo"));var O=x.getBBox(),L=this.get("itemWidth"),R=x.addShape("rect",{attrs:{x:d,y:g-O.height/2,fill:"#fff",fillOpacity:0,width:L||O.width,height:O.height}});return R.attr("cursor","pointer"),R.setSilent("origin",h),R.name="legend-item",this.get("appendInfo")&&R.setSilent("appendInfo",this.get("appendInfo")),x.name="legendGroup",x},u._adjust=function(){var h=this,p=h.get("geom");if(p){var d=h.get("group").attr("matrix");d[7]=0;var g=h.get("geom").get("dataArray"),y=this.get("itemsGroup").get("children"),x=0;s.each(y,function(A){var m=g[x],M=m[m.length-1].y;s.isArray(M)&&(M=M[1]);var b=A.getBBox().height,E=A.get("x"),C=M-b/2;A.translate(E,C),x++}),h.get("autoLayout")&&h._antiCollision(y)}},u.render=function(){var h=this;n.prototype.render.call(this);var p=this.get("chart");p.once("afterpaint",function(){h._adjust()})},u._getPreviousY=function(h){var p=h.attr("matrix")[7],d=h.getBBox().height;return p+d},u._adjustDenote=function(h,p,d){var g=o.legend.legendMargin,y=-2,x=-g*2;h.addShape("path",{attrs:{path:"M"+y+","+p+"L"+x+","+(d+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},u._antiCollision=function(h){if(h===void 0&&(h=[]),!!h.length){var p=this;h.sort(function(U,X){var Z=U.attr("matrix")[7],J=X.attr("matrix")[7];return Z-J});var d=!0,g=p.get("chart").get("plotRange"),y=g.tl.y,x=Math.abs(y-g.bl.y),A=h[0].getBBox().height,m=Number.MIN_VALUE,M=0,b=h.map(function(U){var X=U.attr("matrix")[7];return X>M&&(M=X),X<m&&(m=X),{size:U.getBBox().height,targets:[X-y]}});m-=y;for(var E=0;d;){for(var C=0;C<b.length;C++){var T=b[C],O=(Math.min.apply(m,T.targets)+Math.max.apply(m,T.targets))/2;T.pos=Math.min(Math.max(m,O-T.size/2),x-T.size)}for(d=!1,E=b.length;E--;)if(E>0){var L=b[E-1],R=b[E];L.pos+L.size>R.pos&&(L.size+=R.size,L.targets=L.targets.concat(R.targets),b.splice(E,1),d=!0)}}E=0;var W=this.get("itemsGroup").addGroup();b.forEach(function(U){var X=y+A;U.targets.forEach(function(){var Z=h[E].attr("matrix")[7],J=U.pos+X-A/2,ht=Math.abs(Z-J);ht>A/2&&p._adjustDenote(W,J,Z-p.get("group").attr("matrix")[7]/2),h[E].translate(0,-Z),h[E].translate(0,J),X+=A,E++})})}},a}(r);P.exports=e},function(P,S,i){function t(){return t=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var x=arguments[y];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(g[A]=x[A])}return g},t.apply(this,arguments)}var c=i(0),s=i(21),v=i(24),o=v.Tooltip,f=c.MatrixUtil,r=f.vec2,e=["line","area","path","areaStack"],n=["line","area","point"],a=["marker","showMarker"];function u(g,y){var x=-1;return c.each(g,function(A,m){var M=!0;for(var b in y)if(y.hasOwnProperty(b)&&!a.includes(b)&&!c.isObject(y[b])&&y[b]!==A[b]){M=!1;break}if(M)return x=m,!1}),x}function l(g,y){if(!g)return!1;var x="";return g.className?(c.isNil(g.className.baseVal)?x=g.className:x=g.className.baseVal,x.includes(y)):!1}function h(g,y){for(var x=g.parentNode,A=!1;x&&x!==document.body;){if(l(x,y)){A=!0;break}x=x.parentNode}return A}function p(g){var y=[];return c.each(g,function(x){var A=u(y,x);A===-1?y.push(x):y[A]=x}),y}var d=function(){function g(x){c.assign(this,x),this.timeStamp=0,this.locked=!1}var y=g.prototype;return y._normalizeEvent=function(A){var m=this.chart,M=this._getCanvas(),b=M.getPointByClient(A.clientX,A.clientY),E=M.get("pixelRatio");b.x=b.x/E,b.y=b.y/E;var C=m.getViewsByPoint(b);return b.views=C,b},y._getCanvas=function(){return this.chart.get("canvas")},y._getTriggerEvent=function(){var A=this.options,m=A.triggerOn,M;return!m||m==="mousemove"?M="plotmove":m==="click"?M="plotclick":m==="none"&&(M=null),M},y._getDefaultTooltipCfg=function(){var A=this,m=A.chart,M=A.viewTheme,b=A.options,E=c.mix({},M.tooltip),C=m.getAllGeoms().filter(function(U){return U.get("visible")}),T=[];c.each(C,function(U){var X=U.get("type"),Z=U.get("adjusts"),J=!1;Z&&c.each(Z,function(ht){if(ht.type==="symmetric"||ht.type==="Symmetric")return J=!0,!1}),c.indexOf(T,X)===-1&&!J&&T.push(X)});var O=C.length&&C[0].get("coord")?C[0].get("coord").isTransposed:!1,L;if(C.length&&C[0].get("coord")&&C[0].get("coord").type==="cartesian"){if(T[0]==="interval"&&b.shared!==!1){var R=c.mix({},M.tooltipCrosshairsRect);R.isTransposed=O,L={zIndex:0,crosshairs:R}}else if(c.indexOf(n,T[0])>-1){var W=c.mix({},M.tooltipCrosshairsLine);W.isTransposed=O,L={crosshairs:W}}}return c.mix(E,L,{})},y._bindEvent=function(){var A=this.chart,m=this._getTriggerEvent();m&&(A.on(m,c.wrapBehavior(this,"onMouseMove")),A.on("plotleave",c.wrapBehavior(this,"onMouseOut")))},y._offEvent=function(){var A=this.chart,m=this._getTriggerEvent();m&&(A.off(m,c.getWrapBehavior(this,"onMouseMove")),A.off("plotleave",c.getWrapBehavior(this,"onMouseOut")))},y._setTooltip=function(A,m,M,b){var E=this,C=E.tooltip,T=E.prePoint;if(!T||T.x!==A.x||T.y!==A.y){m=p(m),E.prePoint=A;var O=E.chart,L=E.viewTheme,R=c.isArray(A.x)?A.x[A.x.length-1]:A.x,W=c.isArray(A.y)?A.y[A.y.length-1]:A.y;C.get("visible")||O.emit("tooltip:show",{x:R,y:W,tooltip:C});var U=m[0],X=U.title||U.name;C.isContentChange(X,m)&&(O.emit("tooltip:change",{tooltip:C,x:R,y:W,items:m}),X=m[0].title||m[0].name,C.setContent(X,m),c.isEmpty(M)?(C.clearMarkers(),C.set("markerItems",[])):E.options.hideMarkers===!0?C.set("markerItems",M):C.setMarkers(M,L.tooltipMarker));var Z=this._getCanvas();b===Z&&C.get("type")==="mini"?C.hide():(C.setPosition(R,W,b),C.show())}},y.hideTooltip=function(){var A=this.tooltip,m=this.chart,M=this._getCanvas();this.prePoint=null,A.hide(),m.emit("tooltip:hide",{tooltip:A}),M.draw()},y.onMouseMove=function(A){if(!(c.isEmpty(A.views)||this.locked)){var m=this.timeStamp,M=+new Date,b={x:A.x,y:A.y};M-m>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(b,A.views,A.shape),this.timeStamp=M)}},y.onMouseOut=function(A){var m=this.tooltip;!m.get("visible")||!m.get("follow")||this.locked||A&&A.toElement&&(l(A.toElement,"g2-tooltip")||h(A.toElement,"g2-tooltip"))||this.hideTooltip()},y.renderTooltip=function(){var A=this;if(!A.tooltip){var m=A.chart,M=A.viewTheme,b=A._getCanvas(),E=A._getDefaultTooltipCfg(),C=A.options;C=c.deepMix({plotRange:m.get("plotRange"),capture:!1,canvas:b,frontPlot:m.get("frontPlot"),viewTheme:M.tooltip,backPlot:m.get("backPlot")},E,C),C.crosshairs&&C.crosshairs.type==="rect"&&(C.zIndex=0),C.visible=!1;var T;C.type==="mini"?(C.crosshairs=!1,C.position="top",T=new o.Mini(C)):C.useHtml?T=new o.Html(C):T=new o.Canvas(C),A.tooltip=T;var O=A._getTriggerEvent(),L=T.get("container");!T.get("enterable")&&O==="plotmove"&&L&&(L.onmousemove=function(R){var W=A._normalizeEvent(R);m.emit(O,W)}),L&&(L.onmouseleave=function(){A.locked||A.hideTooltip()}),A._bindEvent()}},y._formatMarkerOfItem=function(A,m,M){var b=this,E=b.options,C=M.point;if(C&&C.x&&C.y){var T=c.isArray(C.x)?C.x[C.x.length-1]:C.x,O=c.isArray(C.y)?C.y[C.y.length-1]:C.y;C=A.applyMatrix(T,O,1),M.x=C[0],M.y=C[1],M.showMarker=!0,M.color.substring(0,2)==="l("&&(!E.hasOwnProperty("useHtml")||E.useHtml)&&(M.color=M.color.split(" ")[1].substring(2));var L=b._getItemMarker(m,M);if(M.marker=L,c.indexOf(e,m.get("type"))!==-1)return M}return null},y.lockTooltip=function(){this.locked=!0},y.unlockTooltip=function(){this.locked=!1},y.showTooltip=function(A,m,M){var b=this,E=this;if(!(c.isEmpty(m)||!A)){this.tooltip||this.renderTooltip();var C=E.options,T=[],O=[];if(c.each(m,function(Z){if(!Z.get("tooltipEnable"))return!0;var J=Z.get("geoms"),ht=Z.get("coord");c.each(J,function(at){var Q=at.get("type");if(at.get("visible")&&at.get("tooltipCfg")!==!1){var xt=at.get("dataArray");if(at.isShareTooltip()||C.shared===!1&&c.inArray(["area","line","path","polygon"],Q)){var kt=at.getXScale(),Nt=at.getAttr("color"),nt=Nt?Nt.field:void 0;if(Q==="interval"&&kt.field===nt&&at.hasAdjust("dodge")){var q=c.find(xt,function(ct){return!!at.findPoint(A,ct)});c.each(q,function(ct){var ft=at.getTipItems(ct,C.title);c.each(ft,function(K){var $=E._formatMarkerOfItem(ht,at,K);$&&T.push($)}),O=O.concat(ft)})}else c.each(xt,function(ct){var ft=at.findPoint(A,ct);if(ft){var K=at.getTipItems(ft,C.title);c.each(K,function($){var et=E._formatMarkerOfItem(ht,at,$);et&&T.push(et)}),O=O.concat(K)}})}else{var G=at.get("shapeContainer"),N=G.get("canvas"),it=N.get("pixelRatio"),H=G.getShape(A.x*it,A.y*it);H&&H.get("visible")&&H.get("origin")&&(O=at.getTipItems(H.get("origin"),C.title)),c.each(O,function(ct){var ft=b._formatMarkerOfItem(ht,at,ct);ft&&T.push(ft)})}}}),c.each(O,function(at){var Q=at.point,xt=c.isArray(Q.x)?Q.x[Q.x.length-1]:Q.x,kt=c.isArray(Q.y)?Q.y[Q.y.length-1]:Q.y;Q=ht.applyMatrix(xt,kt,1),at.x=Q[0],at.y=Q[1]})}),O.length){var L=O[0];if(!O.every(function(Z){return Z.title===L.title})){var R=L,W=Infinity;O.forEach(function(Z){var J=r.distance([A.x,A.y],[Z.x,Z.y]);J<W&&(W=J,R=Z)}),O=O.filter(function(Z){return Z.title===R.title}),T=T.filter(function(Z){return Z.title===R.title})}if(C.shared===!1&&O.length>1){var U=O[0],X=Math.abs(A.y-U.y);c.each(O,function(Z){Math.abs(A.y-Z.y)<=X&&(U=Z,X=Math.abs(A.y-Z.y))}),U&&U.x&&U.y&&(T=[U]),O=[U]}E._setTooltip(A,O,T,M)}else E.hideTooltip()}},y.clear=function(){var A=this.tooltip;A&&A.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},y._getItemMarker=function(A,m){var M=this.options,b=M.marker||this.viewTheme.tooltip.marker;if(c.isFunction(b)){var E=A.get("shapeType")||"point",C=A.getDefaultValue("shape")||"circle",T=s.getShapeFactory(E),O={color:m.color},L=T.getMarkerCfg(C,O);return b(L,m)}return t({fill:m.color},b)},g}();P.exports=d},function(P,S,i){var t=i(0);function c(o,f){if(t.isNil(o)||t.isNil(f))return!1;var r=o.get("origin"),e=f.get("origin");return t.isNil(r)&&t.isNil(e)?t.isEqual(o,f):t.isEqual(r,e)}function s(o){o.shape&&o.shape.get("origin")&&(o.data=o.shape.get("origin"))}var v=function(){function o(r){this.view=null,this.canvas=null,t.assign(this,r),this._init()}var f=o.prototype;return f._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},f._getShapeEventObj=function(e){return{x:e.x/this.pixelRatio,y:e.y/this.pixelRatio,target:e.target,toElement:e.event.toElement||e.event.relatedTarget}},f._getShape=function(e,n){var a=this.view,u=a.get("canvas");return u.getShape(e,n)},f._getPointInfo=function(e){var n=this.view,a={x:e.x/this.pixelRatio,y:e.y/this.pixelRatio},u=n.getViewsByPoint(a);return a.views=u,a},f._getEventObj=function(e,n,a){return{x:n.x,y:n.y,target:e.target,toElement:e.event.toElement||e.event.relatedTarget,views:a}},f.bindEvents=function(){var e=this.canvas;e.on("mousedown",t.wrapBehavior(this,"onDown")),e.on("mousemove",t.wrapBehavior(this,"onMove")),e.on("mouseleave",t.wrapBehavior(this,"onOut")),e.on("mouseup",t.wrapBehavior(this,"onUp")),e.on("click",t.wrapBehavior(this,"onClick")),e.on("dblclick",t.wrapBehavior(this,"onClick")),e.on("touchstart",t.wrapBehavior(this,"onTouchstart")),e.on("touchmove",t.wrapBehavior(this,"onTouchmove")),e.on("touchend",t.wrapBehavior(this,"onTouchend"))},f._triggerShapeEvent=function(e,n,a){if(e&&e.name&&!e.get("destroyed")){var u=this.view;if(u.isShapeInView(e)){var l=e.name+":"+n;a.view=u,a.appendInfo=e.get("appendInfo"),u.emit(l,a);var h=u.get("parent");h&&h.emit(l,a)}}},f.onDown=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,s(a),n.emit("mousedown",a),this._triggerShapeEvent(this.currentShape,"mousedown",a)},f.onMove=function(e){var n=this,a=n.view,u=n.currentShape;u&&u.get("destroyed")&&(u=null,n.currentShape=null);var l=n._getShape(e.x,e.y)||e.currentTarget,h=n._getShapeEventObj(e);if(h.shape=l,s(h),a.emit("mousemove",h),n._triggerShapeEvent(l,"mousemove",h),u&&!c(u,l)){var p=n._getShapeEventObj(e);p.shape=u,p.toShape=l,s(p),n._triggerShapeEvent(u,"mouseleave",p)}if(l&&!c(u,l)){var d=n._getShapeEventObj(e);d.shape=l,d.fromShape=u,s(d),n._triggerShapeEvent(l,"mouseenter",d)}n.currentShape=l;var g=n._getPointInfo(e),y=n.curViews||[];y.length===0&&g.views.length&&a.emit("plotenter",n._getEventObj(e,g,g.views)),y.length&&g.views.length===0&&a.emit("plotleave",n._getEventObj(e,g,y)),g.views.length&&(h=n._getEventObj(e,g,g.views),h.shape=l,s(h),a.emit("plotmove",h)),n.curViews=g.views},f.onOut=function(e){var n=this,a=n.view,u=n._getPointInfo(e),l=n.curViews||[],h=n._getEventObj(e,u,l);n.curViews&&n.curViews.length!==0&&(!h.toElement||h.toElement.tagName!=="CANVAS")&&(a.emit("plotleave",h),n.curViews=[])},f.onUp=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,n.emit("mouseup",a),this._triggerShapeEvent(this.currentShape,"mouseup",a)},f.onClick=function(e){var n=this,a=n.view,u=n._getShape(e.x,e.y)||e.currentTarget,l=n._getShapeEventObj(e);l.shape=u,s(l),a.emit("click",l),n._triggerShapeEvent(u,e.type,l),n.currentShape=u;var h=n._getPointInfo(e),p=h.views;if(!t.isEmpty(p)){var d=n._getEventObj(e,h,p);if(n.currentShape){var g=n.currentShape;d.shape=g,s(d)}e.type==="dblclick"?(a.emit("plotdblclick",d),a.emit("dblclick",l)):a.emit("plotclick",d)}},f.onTouchstart=function(e){var n=this.view,a=this._getShape(e.x,e.y)||e.currentTarget,u=this._getShapeEventObj(e);u.shape=a,s(u),n.emit("touchstart",u),this._triggerShapeEvent(a,"touchstart",u),this.currentShape=a},f.onTouchmove=function(e){var n=this.view,a=this._getShape(e.x,e.y)||e.currentTarget,u=this._getShapeEventObj(e);u.shape=a,s(u),n.emit("touchmove",u),this._triggerShapeEvent(a,"touchmove",u),this.currentShape=a},f.onTouchend=function(e){var n=this.view,a=this._getShapeEventObj(e);a.shape=this.currentShape,s(a),n.emit("touchend",a),this._triggerShapeEvent(this.currentShape,"touchend",a)},f.clearEvents=function(){var e=this.canvas;e.off("mousemove",t.getWrapBehavior(this,"onMove")),e.off("mouseleave",t.getWrapBehavior(this,"onOut")),e.off("mousedown",t.getWrapBehavior(this,"onDown")),e.off("mouseup",t.getWrapBehavior(this,"onUp")),e.off("click",t.getWrapBehavior(this,"onClick")),e.off("dblclick",t.getWrapBehavior(this,"onClick")),e.off("touchstart",t.getWrapBehavior(this,"onTouchstart")),e.off("touchmove",t.getWrapBehavior(this,"onTouchmove")),e.off("touchend",t.getWrapBehavior(this,"onTouchend"))},o}();P.exports=v},function(P,S,i){var t=i(0),c=i(142),s=t.MatrixUtil,v=s.mat3;function o(a,u){var l=[];if(a.get("animate")===!1)return[];var h=a.get("children");return t.each(h,function(p){if(p.isGroup)l=l.concat(o(p,u));else if(p.isShape&&p._id){var d=p._id;d=d.split("-")[0],d===u&&l.push(p)}}),l}function f(a){var u={};return t.each(a,function(l){if(!(!l._id||l.isClip)){var h=l._id;u[h]={_id:h,type:l.get("type"),attrs:t.cloneDeep(l.attr()),name:l.name,index:l.get("index"),animateCfg:l.get("animateCfg"),coord:l.get("coord")}}}),u}function r(a,u,l,h){var p;return h?p=c.Action[l][h]:p=c.getAnimation(a,u,l),p}function e(a,u,l){var h=c.getAnimateCfg(a,u);return l&&l[u]?t.deepMix({},h,l[u]):h}function n(a,u,l,h){var p,d,g=!1;if(h){var y=[],x=[];t.each(u,function(A){var m=a[A._id];m?(A.setSilent("cacheShape",m),y.push(A),delete a[A._id]):x.push(A)}),t.each(a,function(A){var m=A.name,M=A.coord,b=A._id,E=A.attrs,C=A.index,T=A.type;if(d=e(m,"leave",A.animateCfg),p=r(m,M,"leave",d.animation),t.isFunction(p)){var O=l.addShape(T,{attrs:E,index:C});if(O._id=b,O.name=m,M&&m!=="label"){var L=O.getMatrix(),R=v.multiply([],L,M.matrix);O.setMatrix(R)}g=!0,p(O,d,M)}}),t.each(y,function(A){var m=A.name,M=A.get("coord"),b=A.get("cacheShape").attrs;if(!t.isEqual(b,A.attr())){if(d=e(m,"update",A.get("animateCfg")),p=r(m,M,"update",d.animation),t.isFunction(p))p(A,d,M);else{var E=t.cloneDeep(A.attr());A.attr(b),A.animate(E,d.duration,d.easing,function(){A.setSilent("cacheShape",null)})}g=!0}}),t.each(x,function(A){var m=A.name,M=A.get("coord");d=e(m,"enter",A.get("animateCfg")),p=r(m,M,"enter",d.animation),t.isFunction(p)&&(p(A,d,M),g=!0)})}else t.each(u,function(A){var m=A.name,M=A.get("coord");d=e(m,"appear",A.get("animateCfg")),p=r(m,M,"appear",d.animation),t.isFunction(p)&&(p(A,d,M),g=!0)});return g}P.exports={execAnimation:function(u,l){var h=u.get("middlePlot"),p=u.get("backPlot"),d=u.get("_id"),g=u.get("canvas"),y=g.get(d+"caches")||[];y.length===0&&(l=!1);var x=o(h,d),A=o(p,d),m=x.concat(A);g.setSilent(d+"caches",f(m));var M;l?M=n(y,m,g,l):M=n(y,x,g,l),M||g.draw()}}},function(P,S,i){var t=i(0),c=i(18),s=c.Group,v="auto",o=function f(r){f.superclass.constructor.call(this,r)};t.extend(o,s),t.augment(o,{getDefaultCfg:function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function(){var r=this,e=r.get("background");if(e){var n=this.get("canvas"),a=r.get("width")||n.get("width"),u=r.get("height")||n.get("height"),l={x:0,y:0,width:a,height:u},h=r.get("backgroundShape");h?h.attr(l):(h=this.addShape("rect",{attrs:t.mix(l,e)}),this.set("backgroundShape",h))}else return},_renderPlotBackground:function(){var r=this,e=r.get("plotBackground");if(e){var n=r.get("plotRange"),a=n.br.x-n.bl.x,u=n.br.y-n.tr.y,l=n.tl,h={x:l.x,y:l.y,width:a,height:u},p=r.get("plotBackShape");p?p.attr(h):(e.image?(h.img=e.image,p=r.addShape("image",{attrs:h})):(t.mix(h,e),p=r.addShape("rect",{attrs:h})),r.set("plotBackShape",p))}else return},_convert:function(r,e){if(t.isString(r)){if(r===v)r=0;else if(r.includes("%")){var n=this.get("canvas"),a=this.get("width")||n.get("width"),u=this.get("height")||n.get("height");r=parseInt(r,10)/100,r=e?r*a:r*u}}return r},_calculateRange:function(){var r=this,e=r.get("plotRange");t.isNil(e)&&(e={});var n=r.get("padding"),a=this.get("canvas"),u=r.get("width")||a.get("width"),l=r.get("height")||a.get("height"),h=t.toAllPadding(n),p=r._convert(h[0],!1),d=r._convert(h[1],!0),g=r._convert(h[2],!1),y=r._convert(h[3],!0),x=Math.min(y,u-d),A=Math.max(y,u-d),m=Math.min(l-g,p),M=Math.max(l-g,p);e.tl={x,y:m},e.tr={x:A,y:m},e.bl={x,y:M},e.br={x:A,y:M},e.cc={x:(A+x)/2,y:(M+m)/2},this.set("plotRange",e)},repaint:function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}}),P.exports=o},function(P,S,i){var t=i(8),c=i(0);function s(o,f){var r=o.length;c.isString(o[0])&&(o=o.map(function(u){return f.translate(u)}));for(var e=o[1]-o[0],n=2;n<r;n++){var a=o[n]-o[n-1];e>a&&(e=a)}return e}var v={getDefaultSize:function(){var f=this.get("defaultSize"),r=this.get("viewTheme")||t;if(!f){var e=this.get("coord"),n=this.getXScale(),a=n.values,u=this.get("dataArray"),l;if(n.isLinear&&a.length>1){a.sort();var h=s(a,n);l=(n.max-n.min)/h,a.length>l&&(l=a.length)}else l=a.length;var p=n.range,d=1/l,g=1;if(this.isInCircle()?e.isTransposed&&l>1?g=r.widthRatio.multiplePie:g=r.widthRatio.rose:(n.isLinear&&(d*=p[1]-p[0]),g=r.widthRatio.column),d*=g,this.hasAdjust("dodge")){var y=this._getDodgeCfg(u),x=y.dodgeCount,A=y.dodgeRatio;d=d/x,A>0&&(d=A*d/g)}f=d,this.set("defaultSize",f)}return f},_getDodgeCfg:function(f){var r=this.get("adjusts"),e,n,a=f.length;if(c.each(r,function(h){h.type==="dodge"&&(e=h.dodgeBy,n=h.dodgeRatio)}),e){var u=c.Array.merge(f),l=c.Array.values(u,e);a=l.length}return{dodgeCount:a,dodgeRatio:n}},getDimWidth:function(f){var r=this.get("coord"),e=r.convertPoint({x:0,y:0}),n=r.convertPoint({x:f==="x"?1:0,y:f==="x"?0:1}),a=0;return e&&n&&(a=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))),a},_getWidth:function(){var f=this.get("coord"),r;return this.isInCircle()&&!f.isTransposed?r=(f.endAngle-f.startAngle)*f.radius:r=this.getDimWidth("x"),r},_toNormalizedSize:function(f){var r=this._getWidth();return f/r},_toCoordSize:function(f){var r=this._getWidth();return r*f},getNormalizedSize:function(f){var r=this.getAttrValue("size",f);return c.isNil(r)?r=this.getDefaultSize():r=this._toNormalizedSize(r),r},getSize:function(f){var r=this.getAttrValue("size",f);if(c.isNil(r)){var e=this.getDefaultSize();r=this._toCoordSize(e)}return r}};P.exports=v},function(P,S,i){var t=i(0),c=i(8);P.exports={splitData:function(v){var o=this.get("viewTheme")||c;if(!v.length)return[];var f=[],r=[],e=this.getYScale(),n=e.field,a;return t.each(v,function(u){a=u._origin?u._origin[n]:u[n],o.connectNulls?t.isNil(a)||r.push(u):t.isArray(a)&&t.isNil(a[0])||t.isNil(a)?r.length&&(f.push(r),r=[]):r.push(u)}),r.length&&f.push(r),f}}},function(P,S,i){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,s(e,n)}function s(e,n){return s=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},s(e,n)}var v=i(23),o=i(416),f=i(0),r=function(e){c(a,e);var n=a.prototype;n.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.type="path",l.shapeType="line",l};function a(u){var l;return l=e.call(this,u)||this,f.assign(t(l),o),l}return n.getDrawCfg=function(l){var h=e.prototype.getDrawCfg.call(this,l);return h.isStack=this.hasStack(),h},n.draw=function(l,h,p,d){var g=this,y=this.splitData(l),x=this.getDrawCfg(l[0]);g._applyViewThemeShapeStyle(x,x.shape,p),x.origin=l,f.each(y,function(A,m){if(!f.isEmpty(A)){x.splitedIndex=m,x.points=A;var M=p.drawShape(x.shape,x,h);g.appendShapeInfo(M,d+m)}})},a}(v);v.Path=r,P.exports=r},function(P,S,i){"use strict";var t=i(429),c=i(430);function s(o){return function(){var f=this.ownerDocument,r=this.namespaceURI;return r===c.b&&f.documentElement.namespaceURI===c.b?f.createElement(o):f.createElementNS(r,o)}}function v(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}S.a=function(o){var f=Object(t.a)(o);return(f.local?v:s)(f)}},function(P,S,i){"use strict";S.a=function(t,c){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var v=s.createSVGPoint();return v.x=c.clientX,v.y=c.clientY,v=v.matrixTransform(t.getScreenCTM().inverse()),[v.x,v.y]}var o=t.getBoundingClientRect();return[c.clientX-o.left-t.clientLeft,c.clientY-o.top-t.clientTop]}},function(P,S,i){"use strict";S.a=function(t,c){return t=+t,c=+c,function(s){return t*(1-s)+c*s}}},function(P,S,i){"use strict";S.b=v;var t=i(58);function c(o,f){var r,e;return function(){var n=Object(t.h)(this,o),a=n.tween;if(a!==r){e=r=a;for(var u=0,l=e.length;u<l;++u)if(e[u].name===f){e=e.slice(),e.splice(u,1);break}}n.tween=e}}function s(o,f,r){var e,n;if(typeof r!="function")throw new Error;return function(){var a=Object(t.h)(this,o),u=a.tween;if(u!==e){n=(e=u).slice();for(var l={name:f,value:r},h=0,p=n.length;h<p;++h)if(n[h].name===f){n[h]=l;break}h===p&&n.push(l)}a.tween=n}}S.a=function(o,f){var r=this._id;if(o+="",arguments.length<2){for(var e=Object(t.f)(this.node(),r).tween,n=0,a=e.length,u;n<a;++n)if((u=e[n]).name===o)return u.value;return null}return this.each((f==null?c:s)(r,o,f))};function v(o,f,r){var e=o._id;return o.each(function(){var n=Object(t.h)(this,e);(n.value||(n.value={}))[f]=r.apply(this,arguments)}),function(n){return Object(t.f)(n,e).value[f]}}},function(P,S,i){var t=i(8),c=i(0),s=c.assign,v=c.isNil,o=c.isArray,f=c.cloneDeep,r=c.wrapBehavior,e=c.getWrapBehavior,n=function(){var a=u.prototype;a.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:t.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:t.fontFamily}}}};function u(l){var h=this.getDefaultCfg();s(this,h,l),this.init()}return a.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},a.initContainer=function(){var h=this.chart,p=h.get("frontPlot"),d=p.addGroup();this.group=d},a.initViews=function(){for(var h=this.chart,p=h.get("data"),d=this.eachView,g=this.generateFacets(p),y=0;y<g.length;y++){var x=g[y],A=x.region,m=h.view({start:A.start,end:A.end,padding:this.padding});m.source(x.data),this.beforeProcessView(m,x),d&&d(m,x),this.afterProcessView(m,x),x.view=m}this.facets=g},a.beforeProcessView=function(){},a.afterProcessView=function(h,p){this.autoSetAxis&&this.processAxis(h,p)},a.processAxis=function(h,p){var d=h.get("options"),g=h.get("geoms");if((!d.coord.type||d.coord.type==="rect")&&g.length){var y=g[0].get("attrOptions").position.field,x=o(y)?y:y.split("*").map(function(b){return b.trim()}),A=x[0],m=x[1];v(d.axes)&&(d.axes={});var M=d.axes;M!==!1&&(A&&M[A]!==!1&&(M[A]=M[A]||{},this.setXAxis(A,M,p)),m&&M[m]!==!1&&(M[m]=M[m]||{},this.setYAxis(m,M,p)))}},a.setXAxis=function(){},a.setYAxis=function(){},a.renderTitle=function(h,p){this.drawColTitle(h,p)},a.getScaleText=function(h,p,d){var g;if(h){var y=d.get("scales"),x=y[h];x||(x=d.createScale(h)),g=x.getText(p)}else g=p;return g},a.drawColTitle=function(h,p){var d=this.getScaleText(p.colField,p.colValue,h),g=s({position:["50%","0%"],content:d},this.colTitle);h.guide().text(g)},a.drawRowTitle=function(h,p){var d=this.getScaleText(p.rowField,p.rowValue,h),g=s({position:["100%","50%"],content:d},f(this.rowTitle));h.guide().text(g)},a.getFilter=function(h){var p=function(g){var y=!0;return h.forEach(function(x){var A=x.field,m=x.value,M=!0;!v(m)&&A&&(M=g[A]===m),y=y&&M}),y};return p},a.getFieldValues=function(h,p){for(var d=[],g={},y=0;y<p.length;y++){var x=p[y],A=x[h];!v(A)&&!g[A]&&(d.push(A),g[A]=!0)}return d},a.getRegion=function(h,p,d,g){var y=1/p,x=1/h,A={x:y*d,y:x*g},m={x:A.x+y,y:A.y+x};return{start:A,end:m}},a.generateFacets=function(){return[]},a._bindEvent=function(){var h=this.chart;h.on("afterchangedata",r(this,"onDataChange")),h.on("beforeclear",r(this,"onClear")),h.on("beforedestroy",r(this,"destroy")),h.on("beforepaint",r(this,"onPaint")),h.on("setdata",r(this,"onDataChange"))},a._clearEvent=function(){var h=this.chart;h&&(h.off("afterchangedata",e(this,"onDataChange")),h.off("beforeclear",e(this,"onClear")),h.off("beforedestroy",e(this,"destroy")),h.off("beforepaint",e(this,"onPaint")),h.off("setdata",e(this,"onDataChange")))},a._clearFacets=function(){var h=this.facets,p=this.chart;if(h)for(var d=0;d<h.length;d++){var g=h[d];p.removeView(g.view)}this.facets=null},a.onClear=function(){this.onRemove()},a.onPaint=function(){if(this.showTitle)for(var h=this.facets,p=0;p<h.length;p++){var d=h[p],g=d.view;this.renderTitle(g,d)}},a.onDataChange=function(){this._clearFacets(),this.initViews()},a.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},a.destroy=function(){this.onRemove(),this.destroyed=!0},u}();P.exports=n},function(P,S,i){function t(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function c(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,s(u,l)}function s(u,l){return s=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},s(u,l)}var v=i(23),o=i(0),f=i(415);i(424);var r=function(u){c(h,u);var l=h.prototype;l.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.type="interval",d.shapeType="interval",d.generatePoints=!0,d};function h(p){var d;return d=u.call(this,p)||this,o.assign(t(d),f),d}return l.createShapePointsCfg=function(d){var g=u.prototype.createShapePointsCfg.call(this,d);return g.size=this.getNormalizedSize(d),g},l.clearInner=function(){u.prototype.clearInner.call(this),this.set("defaultSize",null)},h}(v),e=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"stack"}],d},l}(r),n=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"dodge"}],d},l}(r),a=function(u){c(l,u);function l(){return u.apply(this,arguments)||this}var h=l.prototype;return h.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return d.hasDefaultAdjust=!0,d.adjusts=[{type:"symmetric"}],d},l}(r);r.Stack=e,r.Dodge=n,r.Symmetric=a,v.Interval=r,v.IntervalStack=e,v.IntervalDodge=n,v.IntervalSymmetric=a,P.exports=r},function(P,S,i){var t=i(0),c=i(21),s=i(25),v=i(57),o=i(8),f=i(18),r=t.PathUtil;function e(E,C){var T=E.x,O=E.y,L=E.y0,R=E.size,W=L,U=O;t.isArray(O)&&(U=O[1],W=O[0]);var X,Z;t.isArray(T)?(X=T[0],Z=T[1]):(X=T-R/2,Z=T+R/2);var J=[];return J.push({x:X,y:W},{x:X,y:U}),C?J.push({x:Z,y:(U+W)/2}):J.push({x:Z,y:U},{x:Z,y:W}),J}function n(E){for(var C=[],T=0;T<E.length;T++){var O=E[T];if(O){var L=T===0?"M":"L";C.push([L,O.x,O.y])}}var R=E[0];return C.push(["L",R.x,R.y]),C.push(["z"]),C}function a(E){var C=E.x,T=E.y,O=E.y0,L=[];return t.isArray(T)?t.each(T,function(R,W){L.push({x:t.isArray(C)?C[W]:C,y:R})}):L.push({x:C,y:T},{x:C,y:O}),L}function u(E){var C=E.x,T=t.isArray(E.y)?E.y[1]:E.y,O=t.isArray(E.y)?E.y[0]:E.y0,L=E.size,R=[];return R.push({x:C-L/2,y:T},{x:C+L/2,y:T},{x:C,y:T},{x:C,y:O},{x:C-L/2,y:O},{x:C+L/2,y:O}),R}function l(E){var C=[];return C.push(["M",E[0].x,E[0].y],["L",E[1].x,E[1].y],["M",E[2].x,E[2].y],["L",E[3].x,E[3].y],["M",E[4].x,E[4].y],["L",E[5].x,E[5].y]),C}function h(E){var C=o.shape.interval,T=t.mix({},C,E.style);return v.addFillAttrs(T,E),E.color&&(T.stroke=T.stroke||E.color),T}function p(E){var C=o.shape.hollowInterval,T=t.mix({},C,E.style);return v.addStrokeAttrs(T,E),T}function d(E,C){var T=[],O=E.points,L=E.nextPoints;return t.isNil(L)?C?T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",O[2].x,O[2].y],["L",O[3].x,O[3].y],["Z"]):T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",O[2].x,O[2].y],["L",O[2].x,O[2].y],["Z"]):T.push(["M",O[0].x,O[0].y],["L",O[1].x,O[1].y],["L",L[1].x,L[1].y],["L",L[0].x,L[0].y],["Z"]),T}function g(E,C){var T=C.getRadius(),O=C.innerRadius,L,R,W=T*O,U,X;return!t.isArray(E.x)&&t.isArray(E.y)&&(E.x=[E.x,E.x]),t.isArray(E.x)?(U={x:E.x[0],y:E.y[0]},X={x:E.x[1],y:E.y[1]},L=s.getPointAngle(C,U),R=s.getPointAngle(C,X),R<=L&&(R=R+Math.PI*2)):(X=E,L=C.startAngle,R=s.getPointAngle(C,X)),{r:T,ir:W,startAngle:L,endAngle:R}}function y(E,C){var T=C.geom,O=T.get("coord"),L=C.point,R=7.5,W;if(O&&O.type==="theta"){var U=g(L,O),X=(U.endAngle-U.startAngle)/2+U.startAngle,Z=R*Math.cos(X),J=R*Math.sin(X);W={transform:[["t",Z,J]]}}return t.mix({},W)}var x=c.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(C,T){if(!C||t.inArray(["rect","funnel","pyramid"],C)){var O=T.fillOpacity||T.opacity||1;return{fillOpacity:O-.15}}var L=T.lineWidth||0;return{lineWidth:L+1}},getDefaultPoints:function(C){return e(C)},getSelectedCfg:function(C,T){return y(C,T)}});c.registerShape("interval","rect",{draw:function(C,T){var O=h(C),L=n(C.points);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=h(C),O=C.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),c.registerShape("interval","hollowRect",{draw:function(C,T){var O=p(C),L=n(C.points);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=p(C),O=C.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),c.registerShape("interval","line",{getPoints:function(C){return a(C)},draw:function(C,T){var O=p(C);O.lineWidth=C.size||1;var L=n(C.points);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=p(C);return t.mix({symbol:"line",radius:5},T)}}),c.registerShape("interval","tick",{getPoints:function(C){return u(C)},draw:function(C,T){var O=p(C);O.lineWidth||(O.lineWidth=2);var L=l(C.points);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=p(C);return t.mix({symbol:"tick",radius:5},T)}}),c.registerShape("interval","funnel",{getPoints:function(C){return C.size=C.size*2,e(C)},draw:function(C,T){var O=h(C),L=d(C,!0);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=h(C);return t.mix({symbol:"square",radius:4},T)}}),c.registerShape("interval","pyramid",{getPoints:function(C){return C.size=C.size*2,e(C,!0)},draw:function(C,T){var O=h(C),L=d(C,!1);return L=this.parsePath(L),T.addShape("path",{attrs:t.mix(O,{path:L})})},getMarkerCfg:function(C){var T=h(C);return t.mix({symbol:"square",radius:4},T)}});function A(E,C,T,O){return C===0?[[E+1/2*T/Math.PI/2,O/2],[E+1/2*T/Math.PI,O],[E+T/4,O]]:C===1?[[E+1/2*T/Math.PI/2*(Math.PI-2),O],[E+1/2*T/Math.PI/2*(Math.PI-1),O/2],[E+T/4,0]]:C===2?[[E+1/2*T/Math.PI/2,-O/2],[E+1/2*T/Math.PI,-O],[E+T/4,-O]]:[[E+1/2*T/Math.PI/2*(Math.PI-2),-O],[E+1/2*T/Math.PI/2*(Math.PI-1),-O/2],[E+T/4,0]]}function m(E,C,T,O,L,R,W){for(var U=Math.ceil(2*E/T*4)*2,X=[];O<-Math.PI*2;)O+=Math.PI*2;for(;O>0;)O-=Math.PI*2;O=O/Math.PI/2*T;var Z=R-E+O-E*2;X.push(["M",Z,C]);for(var J=0,ht=0;ht<U;++ht){var at=ht%4,Q=A(ht*T/4,at,T,L);X.push(["C",Q[0][0]+Z,-Q[0][1]+C,Q[1][0]+Z,-Q[1][1]+C,Q[2][0]+Z,-Q[2][1]+C]),ht===U-1&&(J=Q[2][0])}return X.push(["L",J+Z,W+E]),X.push(["L",Z,W+E]),X.push(["L",Z,C]),X}function M(E,C,T,O,L,R,W,U){for(var X=W.getBBox(),Z=X.maxX-X.minX,J=X.maxY-X.minY,ht=5e3,at=300,Q=0;Q<O;Q++){var xt=R.addShape("path",{attrs:{path:m(U,X.minY+J*T,Z/4,0,Z/64,E,C),fill:L[Q],clip:W}});o.renderer==="canvas"&&xt.animate({transform:[["t",Z/2,0]],repeat:!0},ht-Q*at)}}c.registerShape("interval","liquid-fill-gauge",{draw:function(C,T){var O=this,L=.5,R=0,W=Infinity;t.each(C.points,function(xt){xt.x<W&&(W=xt.x),R+=xt.x});var U=R/C.points.length,X=O.parsePoint({x:U,y:L}),Z=O.parsePoint({x:W,y:.5}),J=X.x-Z.x,ht=Math.min(J,Z.y),at=h(C),Q=new f.Circle({attrs:{x:X.x,y:X.y,r:ht}});return M(X.x,X.y,C.y/(2*X.y),1,[at.fill],T,Q,ht*4),T.addShape("circle",{attrs:t.mix(p(C),{x:X.x,y:X.y,r:ht+ht/8})})}});var b={};c.registerShape("interval","liquid-fill-path",{draw:function(C,T){var O=this,L=t.mix({},h(C)),R=C.shape[1],W=.5,U=0,X=Infinity;t.each(C.points,function($){$.x<X&&(X=$.x),U+=$.x});var Z=U/C.points.length,J=O.parsePoint({x:Z,y:W}),ht=O.parsePoint({x:X,y:.5}),at=J.x-ht.x,Q=Math.min(at,ht.y),xt;if(b[R])xt=b[R];else{var kt=r.parsePathString(R);b[R]=xt={segments:kt}}var Nt=[];L.rotate&&(Nt.push(["r",L.rotate/180*Math.PI]),delete L.rotate);var nt=T.addShape("path",{attrs:t.mix(L,{fillOpacity:0,path:xt.segments})}),q=t.cloneDeep(nt.getBBox()),G=q.maxX-q.minX,N=q.maxY-q.minY,it=Math.max(G,N),H=Q*2/it;nt.transform(Nt.concat([["s",H,H]]));var ct=H*G/2,ft=H*N/2;nt.transform([["t",J.x-ct,J.y-ft]]),M(J.x,J.y,C.y/(2*J.y),1,[L.fill],T,nt,ht.y*4);var K=T.addShape("path",{attrs:t.mix(p(C),{path:xt.segments})});return K.transform(Nt.concat([["s",H,H],["t",J.x-ct,J.y-ft]])),K}}),c.registerShape("interval","top-line",{draw:function(C,T){var O=h(C),L=C.style||{},R=[["M",C.points[1].x,C.points[1].y],["L",C.points[2].x,C.points[2].y]],W={stroke:L.stroke||"white",lineWidth:L.lineWidth||1,path:this.parsePath(R)},U=n(C.points);U=this.parsePath(U),delete O.stroke;var X=T.addShape("path",{attrs:t.mix(O,{zIndex:0,path:U})});return T.addShape("path",{zIndex:1,attrs:W}),X},getMarkerCfg:function(C){var T=h(C),O=C.isInCircle;return t.mix({symbol:O?"circle":"square",radius:O?4.5:4},T)}}),P.exports=x},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(23),v=i(417);i(426);var o=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.type="line",u.sortable=!0,u},e}(v),f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.hasDefaultAdjust=!0,u.adjusts=[{type:"stack"}],u},e}(o);o.Stack=f,s.Line=o,s.LineStack=f,P.exports=o},function(P,S,i){var t=i(0),c=i(25),s=i(57),v=i(21),o=i(8),f=[1,1],r=[5.5,1];function e(b){var E=o.shape.line,C=t.mix({},E,b.style);return s.addStrokeAttrs(C,b),b.size&&(C.lineWidth=b.size),C}function n(b){var E=o.shape.line,C=t.mix({lineWidth:2,radius:6},E,b.style);return s.addStrokeAttrs(C,b),C}function a(b,E,C,T){for(var O=[],L=T.isStack,R=[],W=0;W<b.length;W++){var U=b[W],X=s.splitPoints(U);R.push(X[0]),O.push(X[1])}var Z=u(O,E,C,T),J=u(R,E,C,T);return L?Z:Z.concat(J)}function u(b,E,C,T){var O;if(!E)O=c.getLinePath(b,!1),C&&O.push(["Z"]);else{var L=T.constraint;C&&b.length&&b.push({x:b[0].x,y:b[0].y}),O=c.getSplinePath(b,!1,L)}return O}function l(b,E){var C,T=b.points,O=b.isInCircle,L=T[0];return t.isArray(L.y)?C=a(T,E,O,b):C=u(T,E,O,b),C}function h(b,E){var C=[];return t.each(b,function(T,O){var L=b[O+1];C.push(T),L&&(C=C.concat(E(T,L)))}),C}function p(b){var E=[];return t.each(b,function(C,T){var O=T===0?["M",C.x,C.y]:["L",C.x,C.y];E.push(O)}),E}function d(b,E){var C=h(b.points,E);return p(C)}function g(b,E,C){return[["M",b-C,E],["L",b+C,E]]}function y(b,E,C){return[["M",b-C,E],["A",C/2,C/2,0,1,1,b,E],["A",C/2,C/2,0,1,0,b+C,E]]}function x(b,E){return t.mix({symbol:E?y:g},n(b))}function A(b,E){return t.mix({symbol:E},n(b))}function m(b,E,C){var T=E.points[0];return C.addShape("circle",{attrs:t.mix({x:T.x,y:T.y,r:2,fill:E.color},E.style)})}var M=v.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(E,C){var T=C.lineWidth||0;return{lineWidth:T+1}},getDefaultPoints:function(E){return s.splitPoints(E)},drawShape:function(E,C,T){var O=this.getShape(E),L;return C.points.length===1&&o.showSinglePoint?L=m(this,C,T):L=O.draw(C,T),L&&(L.set("origin",C.origin),L._id=C.splitedIndex?C._id+C.splitedIndex:C._id,L.name=this.name),L}});v.registerShape("line","line",{draw:function(E,C){var T=e(E),O=l(E,!1);return C.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(E){return x(E)}}),v.registerShape("line","dot",{draw:function(E,C){var T=e(E),O=l(E,!1);return C.addShape("path",{attrs:t.mix(T,{path:O,lineDash:f})})},getMarkerCfg:function(E){var C=x(E,!1);return C.lineDash=f,C}}),v.registerShape("line","dash",{draw:function(E,C){var T=e(E),O=l(E,!1);return C.addShape("path",{attrs:t.mix({path:O,lineDash:r},T)})},getMarkerCfg:function(E){var C=x(E,!1);return C.lineDash=C.lineDash||r,C}}),v.registerShape("line","smooth",{draw:function(E,C){var T=e(E),O=this._coord;E.constraint=[[O.start.x,O.end.y],[O.end.x,O.start.y]];var L=l(E,!0);return C.addShape("path",{attrs:t.mix(T,{path:L})})},getMarkerCfg:function(E){return x(E,!0)}}),v.registerShape("line","hv",{draw:function(E,C){var T=e(E),O=d(E,function(L,R){var W=[];return W.push({x:R.x,y:L.y}),W});return C.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(E){return A(E,function(C,T,O){return[["M",C-O-1,T-2.5],["L",C,T-2.5],["L",C,T+2.5],["L",C+O+1,T+2.5]]})}}),v.registerShape("line","vh",{draw:function(E,C){var T=e(E),O=d(E,function(L,R){var W=[];return W.push({x:L.x,y:R.y}),W});return C.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(E){return A(E,function(C,T,O){return[["M",C-O-1,T+2.5],["L",C,T+2.5],["L",C,T-2.5],["L",C+O+1,T-2.5]]})}}),v.registerShape("line","hvh",{draw:function(E,C){var T=e(E),O=d(E,function(L,R){var W=[],U=(R.x-L.x)/2+L.x;return W.push({x:U,y:L.y}),W.push({x:U,y:R.y}),W});return C.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(E){return A(E,function(C,T,O){return[["M",C-(O+1),T+2.5],["L",C-O/2,T+2.5],["L",C-O/2,T-2.5],["L",C+O/2,T-2.5],["L",C+O/2,T+2.5],["L",C+O+1,T+2.5]]})}}),v.registerShape("line","vhv",{draw:function(E,C){var T=e(E),O=d(E,function(L,R){var W=[],U=(R.y-L.y)/2+L.y;return W.push({x:L.x,y:U}),W.push({x:R.x,y:U}),W});return C.addShape("path",{attrs:t.mix(T,{path:O})})},getMarkerCfg:function(E){return A(E,function(C,T){return[["M",C-5,T+2.5],["L",C-5,T],["L",C,T],["L",C,T-3],["L",C,T+3],["L",C+6.5,T+3]]})}}),M.spline=M.smooth,P.exports=M},function(P,S,i){function t(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return c=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},c(e,n)}var s=i(23),v=i(0);i(428);var o=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.type="point",l.shapeType="point",l.generatePoints=!0,l},a.drawPoint=function(l,h,p,d){var g=this,y=l.shape,x=g.getDrawCfg(l);g._applyViewThemeShapeStyle(x,y,p);var A;if(v.isArray(l.y)){var m=g.hasStack();v.each(l.y,function(M,b){x.y=M,x.yIndex=b,(!m||b!==0)&&(A=p.drawShape(y,x,h),g.appendShapeInfo(A,d+b))})}else v.isNil(l.y)||(A=p.drawShape(y,x,h),g.appendShapeInfo(A,d))},n}(s),f=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.hasDefaultAdjust=!0,l.adjusts=[{type:"jitter"}],l},n}(o),r=function(e){t(n,e);function n(){return e.apply(this,arguments)||this}var a=n.prototype;return a.getDefaultCfg=function(){var l=e.prototype.getDefaultCfg.call(this);return l.hasDefaultAdjust=!0,l.adjusts=[{type:"stack"}],l},n}(o);o.Jitter=f,o.Stack=r,s.Point=o,s.PointJitter=f,s.PointStack=r,P.exports=o},function(P,S,i){var t=i(0),c=i(57),s=i(8),v=i(21),o=i(18),f=o.Marker,r=t.PathUtil,e=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],n=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],a=Math.sqrt(3);t.mix(f.Symbols,{hexagon:function(y,x,A){var m=A/2*a;return[["M",y,x-A],["L",y+m,x-A/2],["L",y+m,x+A/2],["L",y,x+A],["L",y-m,x+A/2],["L",y-m,x-A/2],["Z"]]},bowtie:function(y,x,A){var m=A-1.5;return[["M",y-A,x-m],["L",y+A,x+m],["L",y+A,x-m],["L",y-A,x+m],["Z"]]},cross:function(y,x,A){return[["M",y-A,x-A],["L",y+A,x+A],["M",y+A,x-A],["L",y-A,x+A]]},tick:function(y,x,A){return[["M",y-A/2,x-A],["L",y+A/2,x-A],["M",y,x-A],["L",y,x+A],["M",y-A/2,x+A],["L",y+A/2,x+A]]},plus:function(y,x,A){return[["M",y-A,x],["L",y+A,x],["M",y,x-A],["L",y,x+A]]},hyphen:function(y,x,A){return[["M",y-A,x],["L",y+A,x]]},line:function(y,x,A){return[["M",y,x-A],["L",y,x+A]]}});function u(g){var y=s.shape.point,x=t.mix({},y,g.style);return c.addFillAttrs(x,g),t.isNumber(g.size)&&(x.radius=g.size),x}function l(g){var y=s.shape.hollowPoint,x=t.mix({},y,g.style);return c.addStrokeAttrs(x,g),t.isNumber(g.size)&&(x.radius=g.size),x}var h=v.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(y,x){var A=x.radius,m;return y&&(y.indexOf("hollow")===0||t.indexOf(n,y)!==-1)||!y?m=x.stroke||x.strokeStyle:m=x.fill||x.fillStyle,{radius:A+1,shadowBlur:A,shadowColor:m,stroke:m,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(y){return c.splitPoints(y)}});function p(g){var y=g.points[0].x,x=g.points[0].y,A=g.size[0],m=g.size[1],M=[["M",y-.5*A,x-.5*m],["L",y+.5*A,x-.5*m],["L",y+.5*A,x+.5*m],["L",y-.5*A,x+.5*m],["z"]];return M}v.registerShape("point","rect",{draw:function(y,x){var A=u(y),m=p(y);m=this.parsePath(m);var M=x.addShape("path",{attrs:t.mix(A,{path:m})});return M},getMarkerCfg:function(y){var x=u(y);return x.symbol="rect",x.radius=4.5,x}}),t.each(e,function(g){v.registerShape("point",g,{draw:function(x,A){var m=u(x);return A.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:x.x,y:x.y})})},getMarkerCfg:function(x){var A=u(x);return A.symbol=g,A.radius=4.5,A}}),v.registerShape("point","hollow"+t.upperFirst(g),{draw:function(x,A){var m=l(x);return A.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:x.x,y:x.y})})},getMarkerCfg:function(x){var A=l(x);return A.symbol=g,A.radius=4.5,A}})}),t.each(n,function(g){v.registerShape("point",g,{draw:function(x,A){var m=l(x);return A.addShape("Marker",{attrs:t.mix(m,{symbol:g,x:x.x,y:x.y})})},getMarkerCfg:function(x){var A=l(x);return A.symbol=g,A.radius=4.5,A}})}),v.registerShape("point","image",{draw:function(y,x){return y.points=this.parsePoints(y.points),x.addShape("image",{attrs:{x:y.points[0].x-y.size/2,y:y.points[0].y-y.size,width:y.size,height:y.size,img:y.shape[1]}})}});var d={};v.registerShape("point","path",{draw:function(y,x){var A=t.mix({},l(y),u(y)),m=y.shape[1],M=y.size||10,b;if(d[m])b=d[m];else{var E=r.parsePathString(m),C=t.flatten(E).filter(function(R){return t.isNumber(R)});d[m]=b={range:Math.max.apply(null,C)-Math.min.apply(null,C),segments:E}}var T=M/b.range,O=[];A.rotate&&(O.push(["r",A.rotate/180*Math.PI]),delete A.rotate);var L=x.addShape("path",{attrs:t.mix(A,{path:b.segments})});return O.push(["s",T,T],["t",y.x,y.y]),L.transform(O),L}}),P.exports=h},function(P,S,i){"use strict";var t=i(430);S.a=function(c){var s=c+="",v=s.indexOf(":");return v>=0&&(s=c.slice(0,v))!=="xmlns"&&(c=c.slice(v+1)),t.a.hasOwnProperty(s)?{space:t.a[s],local:c}:c}},function(P,S,i){"use strict";i.d(S,"b",function(){return t});var t="http://www.w3.org/1999/xhtml";S.a={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(P,S,i){"use strict";function t(){}S.a=function(c){return c==null?t:function(){return this.querySelector(c)}}},function(P,S,i){"use strict";S.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(P,S,i){"use strict";i.d(S,"c",function(){return c}),S.a=n;var t={},c=null;if(typeof document!="undefined"){var s=document.documentElement;"onmouseenter"in s||(t={mouseenter:"mouseover",mouseleave:"mouseout"})}function v(a,u,l){return a=o(a,u,l),function(h){var p=h.relatedTarget;(!p||p!==this&&!(p.compareDocumentPosition(this)&8))&&a.call(this,h)}}function o(a,u,l){return function(h){var p=c;c=h;try{a.call(this,this.__data__,u,l)}finally{c=p}}}function f(a){return a.trim().split(/^|\s+/).map(function(u){var l="",h=u.indexOf(".");return h>=0&&(l=u.slice(h+1),u=u.slice(0,h)),{type:u,name:l}})}function r(a){return function(){var u=this.__on;if(!!u){for(var l=0,h=-1,p=u.length,d;l<p;++l)d=u[l],(!a.type||d.type===a.type)&&d.name===a.name?this.removeEventListener(d.type,d.listener,d.capture):u[++h]=d;++h?u.length=h:delete this.__on}}}function e(a,u,l){var h=t.hasOwnProperty(a.type)?v:o;return function(p,d,g){var y=this.__on,x,A=h(u,d,g);if(y){for(var m=0,M=y.length;m<M;++m)if((x=y[m]).type===a.type&&x.name===a.name){this.removeEventListener(x.type,x.listener,x.capture),this.addEventListener(x.type,x.listener=A,x.capture=l),x.value=u;return}}this.addEventListener(a.type,A,l),x={type:a.type,name:a.name,value:u,listener:A,capture:l},y?y.push(x):this.__on=[x]}}S.b=function(a,u,l){var h=f(a+""),p,d=h.length,g;if(arguments.length<2){var y=this.node().__on;if(y){for(var x=0,A=y.length,m;x<A;++x)for(p=0,m=y[x];p<d;++p)if((g=h[p]).type===m.type&&g.name===m.name)return m.value}return}for(y=u?e:r,l==null&&(l=!1),p=0;p<d;++p)this.each(y(h[p],u,l));return this};function n(a,u,l,h){var p=c;a.sourceEvent=c,c=a;try{return u.apply(l,h)}finally{c=p}}},function(P,S,i){"use strict";var t=i(433);S.a=function(){for(var c=t.c,s;s=c.sourceEvent;)c=s;return c}},function(P,S,i){"use strict";var t=i(436),c=i(452),s=i(437),v=i(450),o=i(453),f=i(513),r=i(514),e=i(420);i.d(S,"a",function(){return e.a});var n=i(438),a=i(454),u=i(515),l=i(455);i.d(S,"c",function(){return l.a});var h=i(516);i.d(S,"d",function(){return h.a}),i.d(S,"e",function(){return h.b});var p=i(519),d=i(449);i.d(S,"b",function(){return d.a});var g=i(520),y=i(521),x=i(522),A=i(523),m=i(524),M=i(525)},function(P,S,i){"use strict";var t=i(19),c=i(449),s=i(452),v=i(453),o=i(420),f=i(454),r=i(455),e=i(451),n=i(438);S.a=function(a,u){var l=typeof u,h;return u==null||l==="boolean"?Object(e.a)(u):(l==="number"?o.a:l==="string"?(h=Object(t.a)(u))?(u=h,c.a):r.a:u instanceof t.a?c.a:u instanceof Date?v.a:Object(n.b)(u)?n.a:Array.isArray(u)?s.a:typeof u.valueOf!="function"&&typeof u.toString!="function"||isNaN(u)?f.a:o.a)(a,u)}},function(P,S,i){"use strict";S.a=t;function t(c,s,v,o,f){var r=c*c,e=r*c;return((1-3*c+3*r-e)*s+(4-6*r+3*e)*v+(1+3*c+3*r-3*e)*o+e*f)/6}S.b=function(c){var s=c.length-1;return function(v){var o=v<=0?v=0:v>=1?(v=1,s-1):Math.floor(v*s),f=c[o],r=c[o+1],e=o>0?c[o-1]:2*f-r,n=o<s-1?c[o+2]:2*r-f;return t((v-o/s)*s,e,f,r,n)}}},function(P,S,i){"use strict";S.b=t,S.a=function(c,s){s||(s=[]);var v=c?Math.min(s.length,c.length):0,o=s.slice(),f;return function(r){for(f=0;f<v;++f)o[f]=c[f]*(1-r)+s[f]*r;return o}};function t(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}},function(P,S){P.exports=function(i){var t=i.get("scaleController")||{};return t.defs}},function(P,S,i){var t=i(439);P.exports=function(c,s){var v=t(c);if(v&&v[s])return v[s]}},function(P,S,i){var t=i(0),c=i(100);P.exports=function(s,v){var o,f=v.field,r=v.type,e=t.Array.values(s,f);return r==="linear"?(o=t.Array.getRange(e),v.min<o.min&&(o.min=v.min),v.max>o.max&&(o.max=v.max)):(r==="timeCat"&&(t.each(e,function(n,a){e[a]=c.toTimeStamp(n)}),e.sort(function(n,a){return n-a})),o=e),o}},function(P,S,i){"use strict";var t=i(99);S.a=function(c){return typeof c=="string"?new t.a([[document.querySelector(c)]],[document.documentElement]):new t.a([[c]],t.c)}},function(P,S,i){"use strict";function t(){return[]}S.a=function(c){return c==null?t:function(){return this.querySelectorAll(c)}}},function(P,S,i){"use strict";S.a=function(t){return function(){return this.matches(t)}}},function(P,S,i){"use strict";S.a=s;var t=i(446),c=i(99);S.b=function(){return new c.a(this._enter||this._groups.map(t.a),this._parents)};function s(v,o){this.ownerDocument=v.ownerDocument,this.namespaceURI=v.namespaceURI,this._next=null,this._parent=v,this.__data__=o}s.prototype={constructor:s,appendChild:function(v){return this._parent.insertBefore(v,this._next)},insertBefore:function(v,o){return this._parent.insertBefore(v,o)},querySelector:function(v){return this._parent.querySelector(v)},querySelectorAll:function(v){return this._parent.querySelectorAll(v)}}},function(P,S,i){"use strict";S.a=function(t){return new Array(t.length)}},function(P,S,i){"use strict";S.b=o;var t=i(432);function c(f){return function(){this.style.removeProperty(f)}}function s(f,r,e){return function(){this.style.setProperty(f,r,e)}}function v(f,r,e){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(f):this.style.setProperty(f,n,e)}}S.a=function(f,r,e){return arguments.length>1?this.each((r==null?c:typeof r=="function"?v:s)(f,r,e==null?"":e)):o(this.node(),f)};function o(f,r){return f.style.getPropertyValue(r)||Object(t.a)(f).getComputedStyle(f,null).getPropertyValue(r)}},function(P,S,i){"use strict";var t=i(58);S.a=function(c,s){var v=c.__transition,o,f,r=!0,e;if(!!v){s=s==null?null:s+"";for(e in v){if((o=v[e]).name!==s){r=!1;continue}f=o.state>t.d&&o.state<t.b,o.state=t.a,o.timer.stop(),o.on.call(f?"interrupt":"cancel",c,c.__data__,o.index,o.group),delete v[e]}r&&delete c.__transition}}},function(P,S,i){"use strict";var t=i(19),c=i(437),s=i(450),v=i(207);S.a=function e(n){var a=Object(v.b)(n);function u(l,h){var p=a((l=Object(t.f)(l)).r,(h=Object(t.f)(h)).r),d=a(l.g,h.g),g=a(l.b,h.b),y=Object(v.a)(l.opacity,h.opacity);return function(x){return l.r=p(x),l.g=d(x),l.b=g(x),l.opacity=y(x),l+""}}return u.gamma=e,u}(1);function o(e){return function(n){var a=n.length,u=new Array(a),l=new Array(a),h=new Array(a),p,d;for(p=0;p<a;++p)d=Object(t.f)(n[p]),u[p]=d.r||0,l[p]=d.g||0,h[p]=d.b||0;return u=e(u),l=e(l),h=e(h),d.opacity=1,function(g){return d.r=u(g),d.g=l(g),d.b=h(g),d+""}}}var f=o(c.b),r=o(s.a)},function(P,S,i){"use strict";var t=i(437);S.a=function(c){var s=c.length;return function(v){var o=Math.floor(((v%=1)<0?++v:v)*s),f=c[(o+s-1)%s],r=c[o%s],e=c[(o+1)%s],n=c[(o+2)%s];return Object(t.a)((v-o/s)*s,f,r,e,n)}}},function(P,S,i){"use strict";S.a=function(t){return function(){return t}}},function(P,S,i){"use strict";S.a=v;var t=i(436),c=i(438),s=function(o,f){return(Object(c.b)(f)?c.a:v)(o,f)};function v(o,f){var r=f?f.length:0,e=o?Math.min(r,o.length):0,n=new Array(e),a=new Array(r),u;for(u=0;u<e;++u)n[u]=Object(t.a)(o[u],f[u]);for(;u<r;++u)a[u]=f[u];return function(l){for(u=0;u<e;++u)a[u]=n[u](l);return a}}},function(P,S,i){"use strict";S.a=function(t,c){var s=new Date;return t=+t,c=+c,function(v){return s.setTime(t*(1-v)+c*v),s}}},function(P,S,i){"use strict";var t=i(436);S.a=function(c,s){var v={},o={},f;(c===null||typeof c!="object")&&(c={}),(s===null||typeof s!="object")&&(s={});for(f in s)f in c?v[f]=Object(t.a)(c[f],s[f]):o[f]=s[f];return function(r){for(f in v)o[f]=v[f](r);return o}}},function(P,S,i){"use strict";var t=i(420),c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(c.source,"g");function v(f){return function(){return f}}function o(f){return function(r){return f(r)+""}}S.a=function(f,r){var e=c.lastIndex=s.lastIndex=0,n,a,u,l=-1,h=[],p=[];for(f=f+"",r=r+"";(n=c.exec(f))&&(a=s.exec(r));)(u=a.index)>e&&(u=r.slice(e,u),h[l]?h[l]+=u:h[++l]=u),(n=n[0])===(a=a[0])?h[l]?h[l]+=a:h[++l]=a:(h[++l]=null,p.push({i:l,x:Object(t.a)(n,a)})),e=s.lastIndex;return e<r.length&&(u=r.slice(e),h[l]?h[l]+=u:h[++l]=u),h.length<2?p[0]?o(p[0].x):v(r):(r=p.length,function(d){for(var g=0,y;g<r;++g)h[(y=p[g]).i]=y.x(d);return h.join("")})}},function(P,S,i){"use strict";var t=i(19),c=i(435);S.a=function(s,v){var o;return(typeof v=="number"?c.a:v instanceof t.a?c.b:(o=Object(t.a)(v))?(v=o,c.b):c.c)(s,v)}},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(422),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="rect",n},r.generateFacets=function(n){var a=this,u=a.fields,l=[],h=1,p=1,d=u[0],g=u[1],y=[""],x=[""];return d&&(y=a.getFieldValues(d,n),p=y.length),g&&(x=a.getFieldValues(g,n),h=x.length),y.forEach(function(A,m){x.forEach(function(M,b){var E=[{field:d,value:A,values:y},{field:g,value:M,values:x}],C=a.getFilter(E),T=n.filter(C),O={type:a.type,colValue:A,rowValue:M,colField:d,rowField:g,colIndex:m,rowIndex:b,cols:p,rows:h,data:T,region:a.getRegion(h,p,m,b)};l.push(O)})}),l},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1?(a[n].title=null,a[n].label=null):u.colIndex!==parseInt((u.cols-1)/2)&&(a[n].title=null)},r.setYAxis=function(n,a,u){u.colIndex!==0?(a[n].title=null,a[n].label=null):u.rowIndex!==parseInt((u.rows-1)/2)&&(a[n].title=null)},r.renderTitle=function(n,a){a.rowIndex===0&&this.drawColTitle(n,a),a.colIndex===a.cols-1&&this.drawRowTitle(n,a)},f}(s);P.exports=v},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(422),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="list",n.cols=null,n},r.generateFacets=function(n){var a=this,u=a.fields,l=u[0];if(!l)throw"Please specify for the field for facet!";var h=a.getFieldValues(l,n),p=h.length,d=a.cols||p,g=parseInt((p+d-1)/d),y=[];return h.forEach(function(x,A){var m=parseInt(A/d),M=A%d,b=[{field:l,value:x,values:h}],E=a.getFilter(b),C=n.filter(E),T={type:a.type,count:p,colValue:x,colField:l,rowField:null,rowValue:x,colIndex:M,rowIndex:m,cols:d,rows:g,data:C,region:a.getRegion(g,d,M,m)};y.push(T)}),y},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1&&u.cols*u.rowIndex+u.colIndex+1+u.cols<=u.count&&(a[n].label=null,a[n].title=null)},r.setYAxis=function(n,a,u){u.colIndex!==0&&(a[n].title=null,a[n].label=null)},f}(s);P.exports=v},function(P,S,i){var t=i(206);i(460),i(462),i(464),i(423),i(425),i(417),i(427),i(465),i(467),i(469),i(545),i(547),i(552),P.exports=t},function(P,S,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(416),f=i(0);i(461);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="area",h.shapeType="area",h.generatePoints=!0,h.sortable=!0,h};function u(l){var h;return h=n.call(this,l)||this,f.assign(t(h),o),h}return a.draw=function(h,p,d,g){var y=this,x=this.getDrawCfg(h[0]);y._applyViewThemeShapeStyle(x,x.shape,d);var A=this.splitData(h);x.origin=h,f.each(A,function(m,M){x.splitedIndex=M;var b=m.map(function(C){return C.points});x.points=b;var E=d.drawShape(x.shape,x,p);y.appendShapeInfo(E,g+M)})},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"stack"}],h},a}(r);r.Stack=e,v.Area=r,v.AreaStack=e,P.exports=r},function(P,S,i){var t=i(0),c=i(21),s=i(25),v=i(57),o=i(8);function f(h){var p=o.shape.hollowArea,d=t.mix({},p,h.style);return v.addStrokeAttrs(d,h),t.isNumber(h.size)&&(d.lineWidth=h.size),d}function r(h){var p=o.shape.area,d=t.mix({},p,h.style);return v.addFillAttrs(d,h),h.color&&(d.stroke=d.stroke||h.color),t.isNumber(h.size)&&(d.lineWidth=h.size),d}function e(h,p,d){var g=[],y=[],x=[],A=[],m=h.isInCircle;return t.each(h.points,function(M){x.push(M[1]),A.push(M[0])}),A=A.reverse(),y.push(x,A),t.each(y,function(M,b){var E=[];M=d.parsePoints(M);var C=M[0];m&&M.push({x:C.x,y:C.y}),p?E=s.getSplinePath(M,!1,h.constraint):E=s.getLinePath(M,!1),b>0&&(E[0][0]="L"),g=g.concat(E)}),g.push(["Z"]),g}function n(h){return{symbol:function(d,g,y){return[["M",d-y,g-4],["L",d+y,g-4],["L",d+y,g+4],["L",d-y,g+4],["Z"]]},radius:5,fill:h.color,fillOpacity:.6}}function a(h,p){if(h==="line"||h==="smoothLine"){var d=p.lineWidth||0;return{lineWidth:d+1}}var g=p.fillOpacity||p.opacity||1;return{fillOpacity:g-.15,strokeOpacity:g-.15}}function u(h,p,d){var g=h._coord,y=g.convertPoint(p.points[0][1]);return d.addShape("circle",{attrs:t.mix({x:y.x,y:y.y,r:2,fill:p.color},p.style)})}var l=c.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(p){var d=[],g=p.x,y=p.y,x=p.y0;return y=t.isArray(y)?y:[x,y],t.each(y,function(A){d.push({x:g,y:A})}),d},getActiveCfg:function(p,d){return a(p,d)},drawShape:function(p,d,g){var y=this.getShape(p),x;return d.points.length===1&&o.showSinglePoint?x=u(this,d,g):x=y.draw(d,g),x&&(x.set("origin",d.origin),x._id=d.splitedIndex?d._id+d.splitedIndex:d._id,x.name=this.name),x},getSelectedCfg:function(p,d){return d&&d.style?d.style:this.getActiveCfg(p,d)}});c.registerShape("area","area",{draw:function(p,d){var g=r(p),y=e(p,!1,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","smooth",{draw:function(p,d){var g=r(p),y=this._coord;p.constraint=[[y.start.x,y.end.y],[y.end.x,y.start.y]];var x=e(p,!0,this);return d.addShape("path",{attrs:t.mix(g,{path:x})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","line",{draw:function(p,d){var g=f(p),y=e(p,!1,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),c.registerShape("area","smoothLine",{draw:function(p,d){var g=f(p),y=e(p,!0,this);return d.addShape("path",{attrs:t.mix(g,{path:y})})},getMarkerCfg:function(p){return n(p)}}),l.spline=l.smooth,P.exports=l},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(23);i(463);var v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="edge",n.shapeType="edge",n.generatePoints=!0,n},f}(s);s.Edge=v,P.exports=v},function(P,S,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=i(25),f=1/3;function r(d){var g=v.shape.edge,y=t.mix({},g,d.style);return s.addStrokeAttrs(y,d),d.size&&(y.lineWidth=d.size),y}var e=c.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(g){return s.splitPoints(g)},getActiveCfg:function(g,y){var x=y.lineWidth||0;return{lineWidth:x+1}}});function n(d,g){var y=[];y.push({x:d.x,y:d.y*(1-1/2)+g.y*1/2}),y.push({y:d.y*(1-1/2)+g.y*1/2,x:g.x}),y.push(g);var x=["C"];return t.each(y,function(A){x.push(A.x,A.y)}),x}function a(d,g){var y=[];y.push({x:g.x,y:g.y}),y.push(d);var x=["Q"];return t.each(y,function(A){x.push(A.x,A.y)}),x}function u(d,g){var y=n(d,g),x=[["M",d.x,d.y]];return x.push(y),x}function l(d,g,y){var x=a(g,y),A=[["M",d.x,d.y]];return A.push(x),A}function h(d,g){var y=a(d[1],g),x=a(d[3],g),A=[["M",d[0].x,d[0].y]];return A.push(x),A.push(["L",d[3].x,d[3].y]),A.push(["L",d[2].x,d[2].y]),A.push(y),A.push(["L",d[1].x,d[1].y]),A.push(["L",d[0].x,d[0].y]),A.push(["Z"]),A}function p(d,g){var y=[];y.push({y:d.y*(1-f)+g.y*f,x:d.x}),y.push({y:d.y*(1-f)+g.y*f,x:g.x}),y.push(g);var x=[["M",d.x,d.y]];return t.each(y,function(A){x.push(["L",A.x,A.y])}),x}c.registerShape("edge","line",{draw:function(g,y){var x=this.parsePoints(g.points),A=r(g),m=o.getLinePath(x),M=y.addShape("path",{attrs:t.mix(A,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","vhv",{draw:function(g,y){var x=g.points,A=r(g),m=p(x[0],x[1]);m=this.parsePath(m);var M=y.addShape("path",{attrs:t.mix(A,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","smooth",{draw:function(g,y){var x=g.points,A=r(g),m=u(x[0],x[1]);m=this.parsePath(m);var M=y.addShape("path",{attrs:t.mix(A,{path:m})});return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),c.registerShape("edge","arc",{draw:function(g,y){var x=g.points,A=x.length>2?"weight":"normal",m=r(g),M,b;if(g.isInCircle){var E={x:0,y:1};A==="normal"?b=l(x[0],x[1],E):(m.fill=m.stroke,b=h(x,E)),b=this.parsePath(b),M=y.addShape("path",{attrs:t.mix(m,{path:b})})}else if(A==="normal")x=this.parsePoints(x),M=y.addShape("arc",{attrs:t.mix(m,{x:(x[1].x+x[0].x)/2,y:x[0].y,r:Math.abs(x[1].x-x[0].x)/2,startAngle:Math.PI,endAngle:Math.PI*2})});else{b=[["M",x[0].x,x[0].y],["L",x[1].x,x[1].y]];var C=n(x[1],x[3]),T=n(x[2],x[0]);b.push(C),b.push(["L",x[3].x,x[3].y]),b.push(["L",x[2].x,x[2].y]),b.push(T),b.push(["Z"]),b=this.parsePath(b),m.fill=m.stroke,M=y.addShape("path",{attrs:t.mix(m,{path:b})})}return M},getMarkerCfg:function(g){return t.mix({symbol:"circle",radius:4.5},r(g))}}),P.exports=e},function(P,S,i){function t(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c(d,g)}function c(d,g){return c=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},c(d,g)}var s=i(104),v=s.ColorUtil,o=i(23),f=i(0),r="_origin",e="shadowCanvas",n="valueRange",a="imageShape",u="mappedData",l="grayScaleBlurredCanvas",h="heatmapSize",p=function(d){t(g,d);function g(){return d.apply(this,arguments)||this}var y=g.prototype;return y.getDefaultCfg=function(){var A=d.prototype.getDefaultCfg.call(this);return A.type="heatmap",A.paletteCache={},A},y._prepareRange=function(){var A=this,m=A.get(u),M=A.getAttr("color"),b=M.field,E=Infinity,C=-Infinity;m.forEach(function(O){var L=O[r][b];L>C&&(C=L),L<E&&(E=L)}),E===C&&(E=C-1);var T=[E,C];A.set(n,T)},y._prepareSize=function(){var A=this,m=A.getDefaultValue("size");f.isNumber(m)||(m=A._getDefaultSize());var M=A.get("styleOptions"),b=M&&f.isObject(M.style)?M.style.blur:null;(!f.isFinite(b)||b===null)&&(b=m/2),A.set(h,{blur:b,radius:m})},y._getDefaultSize=function(){var A=this,m=A.getAttr("position"),M=A.get("coord"),b=Math.min(M.width/(m.scales[0].ticks.length*4),M.height/(m.scales[1].ticks.length*4));return b},y._colorize=function(A){for(var m=this,M=m.getAttr("color"),b=A.data,E=m.get("paletteCache"),C=3;C<b.length;C+=4){var T=b[C];if(T){var O=void 0;E[T]?O=E[T]:(O=v.rgb2arr(M.gradient(T/256)),E[T]=O),b[C-3]=O[0],b[C-2]=O[1],b[C-1]=O[2],b[C]=T}}},y._prepareGreyScaleBlurredCircle=function(A,m){var M=this,b=M.get(l);b||(b=document.createElement("canvas"),M.set(l,b));var E=A+m,C=b.getContext("2d");b.width=b.height=E*2,C.clearRect(0,0,b.width,b.height),C.shadowOffsetX=C.shadowOffsetY=E*2,C.shadowBlur=m,C.shadowColor="black",C.beginPath(),C.arc(-E,-E,A,0,Math.PI*2,!0),C.closePath(),C.fill()},y._drawGrayScaleBlurredCircle=function(A,m,M,b,E){var C=this,T=C.get(l);E.globalAlpha=b,E.drawImage(T,A-M,m-M)},y._getShadowCanvasCtx=function(){var A=this,m=A.get(e);m||(m=document.createElement("canvas"),A.set(e,m));var M=A.get("coord");return M&&(m.width=M.width,m.height=M.height),m.getContext("2d")},y._clearShadowCanvasCtx=function(){var A=this._getShadowCanvasCtx();A.clearRect(0,0,A.canvas.width,A.canvas.height)},y._getImageShape=function(){var A=this,m=A.get(a);if(m)return m;var M=A.get("container");return m=M.addShape("Image",{}),A.set(a,m),m},y.clear=function(){this._clearShadowCanvasCtx(),d.prototype.clear.call(this)},y.drawWithRange=function(A){var m=this,M=m.get("coord"),b=M.start,E=M.end,C=M.width,T=M.height,O=m.getAttr("color").field,L=m.get(h);m._clearShadowCanvasCtx();var R=m._getShadowCanvasCtx(),W=m.get(u);A&&(W=W.filter(function(xt){return xt[r][O]<=A[1]&&xt[r][O]>=A[0]}));for(var U=m._getScale(O),X=0;X<W.length;X++){var Z=W[X],J=m.getDrawCfg(Z),ht=U.scale(Z[r][O]);m._drawGrayScaleBlurredCircle(J.x-b.x,J.y-E.y,L.radius+L.blur,ht,R)}var at=R.getImageData(0,0,C,T);m._clearShadowCanvasCtx(),m._colorize(at),R.putImageData(at,0,0);var Q=m._getImageShape();Q.attr("x",b.x),Q.attr("y",E.y),Q.attr("width",C),Q.attr("height",T),Q.attr("img",R.canvas)},y.draw=function(A){var m=this;m.set(u,A),m._prepareRange(),m._prepareSize();var M=m.get(h);m._prepareGreyScaleBlurredCircle(M.radius,M.blur);var b=m.get(n);m.drawWithRange(b)},g}(o);o.Heatmap=p,P.exports=p},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(23),v=i(0);i(466);var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return a.type="polygon",a.shapeType="polygon",a.generatePoints=!0,a},e.createShapePointsCfg=function(a){var u=f.prototype.createShapePointsCfg.call(this,a),l=this,h=u.x,p=u.y,d;if(!(v.isArray(h)&&v.isArray(p))){var g=l.getXScale(),y=l.getYScale(),x=g.values?g.values.length:g.ticks.length,A=y.values?y.values.length:y.ticks.length,m=.5*1/x,M=.5*1/A;g.isCategory&&y.isCategory?(h=[h-m,h-m,h+m,h+m],p=[p-M,p+M,p+M,p-M]):v.isArray(h)?(d=h,h=[d[0],d[0],d[1],d[1]],p=[p-M/2,p+M/2,p+M/2,p-M/2]):v.isArray(p)&&(d=p,p=[d[0],d[1],d[1],d[0]],h=[h-m/2,h-m/2,h+m/2,h+m/2]),u.x=h,u.y=p}return u},r}(s);s.Polygon=o,P.exports=o},function(P,S,i){var t=i(0),c=i(21),s=i(57),v=i(8);function o(n){var a=v.shape.polygon,u=t.mix({},a,n.style);return s.addFillAttrs(u,n),u}function f(n){var a=v.shape.hollowPolygon,u=t.mix({},a,n.style);return s.addStrokeAttrs(u,n),u}function r(n){for(var a=n[0],u=1,l=[["M",a.x,a.y]];u<n.length;){var h=n[u];(h.x!==n[u-1].x||h.y!==n[u-1].y)&&(l.push(["L",h.x,h.y]),h.x===a.x&&h.y===a.y&&u<n.length-1&&(a=n[u+1],l.push(["Z"]),l.push(["M",a.x,a.y]),u++)),u++}return t.isEqual(l[l.length-1],a)||l.push(["L",a.x,a.y]),l.push(["Z"]),l}var e=c.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(a){var u=[];return t.each(a.x,function(l,h){var p=a.y[h];u.push({x:l,y:p})}),u},getActiveCfg:function(a,u){var l=u.lineWidth||1;if(a==="hollow")return{lineWidth:l+1};var h=u.fillOpacity||u.opacity||1;return{fillOpacity:h-.08}},getSelectedCfg:function(a,u){return u&&u.style?u.style:this.getActiveCfg(a,u)}});c.registerShape("polygon","polygon",{draw:function(a,u){if(!t.isEmpty(a.points)){var l=o(a),h=r(a.points);return h=this.parsePath(h),u.addShape("path",{attrs:t.mix(l,{path:h})})}},getMarkerCfg:function(a){return t.mix({symbol:"square",radius:4},o(a))}}),c.registerShape("polygon","hollow",{draw:function(a,u){if(!t.isEmpty(a.points)){var l=f(a),h=r(a.points);return h=this.parsePath(h),u.addShape("path",{attrs:t.mix(l,{path:h})})}},getMarkerCfg:function(a){return t.mix({symbol:"square",radius:4},o(a))}}),P.exports=e},function(P,S,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(0),f=i(415);i(468);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="schema",h.shapeType="schema",h.generatePoints=!0,h};function u(l){var h;return h=n.call(this,l)||this,o.assign(t(h),f),h}return a.createShapePointsCfg=function(h){var p=n.prototype.createShapePointsCfg.call(this,h);return p.size=this.getNormalizedSize(h),p},a.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"dodge"}],h},a}(r);r.Dodge=e,v.Schema=r,v.SchemaDodge=e,P.exports=r},function(P,S,i){var t=i(0),c=i(21),s=i(57),v=i(8);function o(d){t.isArray(d)||(d=[d]);var g=d[0],y=d[d.length-1],x=d.length>1?d[1]:g,A=d.length>3?d[3]:y,m=d.length>2?d[2]:x;return{min:g,max:y,min1:x,max1:A,median:m}}function f(d,g){t.each(d,function(y){g.push({x:y[0],y:y[1]})})}function r(d){var g=v.shape.schema,y=t.mix({},g,d.style);return s.addStrokeAttrs(y,d),y}function e(d){var g=v.shape.schema,y=t.mix({},g,d.style);return s.addFillAttrs(y,d),d.color&&(y.stroke=d.color||y.stroke),y}function n(d,g,y){var x=[],A,m;return t.isArray(g)?(m=o(g),A=[[d-y/2,m.max],[d+y/2,m.max],[d,m.max],[d,m.max1],[d-y/2,m.min1],[d-y/2,m.max1],[d+y/2,m.max1],[d+y/2,m.min1],[d,m.min1],[d,m.min],[d-y/2,m.min],[d+y/2,m.min],[d-y/2,m.median],[d+y/2,m.median]]):(g=g||.5,m=o(d),A=[[m.min,g-y/2],[m.min,g+y/2],[m.min,g],[m.min1,g],[m.min1,g-y/2],[m.min1,g+y/2],[m.max1,g+y/2],[m.max1,g-y/2],[m.max1,g],[m.max,g],[m.max,g-y/2],[m.max,g+y/2],[m.median,g-y/2],[m.median,g+y/2]]),f(A,x),x}function a(d){t.isArray(d)||(d=[d]);var g=d.sort(function(m,M){return m<M?1:-1}),y=g.length;if(y<4)for(var x=g[y-1],A=0;A<4-y;A++)g.push(x);return g}function u(d,g,y){var x=a(g),A=[{x:d,y:x[0]},{x:d,y:x[1]},{x:d-y/2,y:x[2]},{x:d-y/2,y:x[1]},{x:d+y/2,y:x[1]},{x:d+y/2,y:x[2]},{x:d,y:x[2]},{x:d,y:x[3]}];return A}function l(d){var g=[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["M",d[4].x,d[4].y],["L",d[5].x,d[5].y],["L",d[6].x,d[6].y],["L",d[7].x,d[7].y],["L",d[4].x,d[4].y],["Z"],["M",d[8].x,d[8].y],["L",d[9].x,d[9].y],["M",d[10].x,d[10].y],["L",d[11].x,d[11].y],["M",d[12].x,d[12].y],["L",d[13].x,d[13].y]];return g}function h(d){var g=[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["L",d[4].x,d[4].y],["L",d[5].x,d[5].y],["Z"],["M",d[6].x,d[6].y],["L",d[7].x,d[7].y]];return g}var p=c.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(g,y){if(g==="box"){var x=y.lineWidth||1;return{lineWidth:x+1}}var A=y.fillOpacity||y.opacity||1;return{fillOpacity:A-.15,strokeOpacity:A-.15}},getSelectedCfg:function(g,y){return y&&y.style?y.style:this.getActiveCfg(g,y)}});c.registerShape("schema","box",{getPoints:function(g){return n(g.x,g.y,g.size)},draw:function(g,y){var x=r(g),A=l(g.points);return A=this.parsePath(A),y.addShape("path",{attrs:t.mix(x,{path:A})})},getMarkerCfg:function(g){return{symbol:function(x,A,m){var M=[A-6,A-3,A,A+3,A+6],b=n(x,M,m);return[["M",b[0].x+1,b[0].y],["L",b[1].x-1,b[1].y],["M",b[2].x,b[2].y],["L",b[3].x,b[3].y],["M",b[4].x,b[4].y],["L",b[5].x,b[5].y],["L",b[6].x,b[6].y],["L",b[7].x,b[7].y],["L",b[4].x,b[4].y],["Z"],["M",b[8].x,b[8].y],["L",b[9].x,b[9].y],["M",b[10].x+1,b[10].y],["L",b[11].x-1,b[11].y],["M",b[12].x,b[12].y],["L",b[13].x,b[13].y]]},radius:6,lineWidth:1,stroke:g.color}}}),c.registerShape("schema","candle",{getPoints:function(g){return u(g.x,g.y,g.size)},draw:function(g,y){var x=e(g),A=h(g.points);return A=this.parsePath(A),y.addShape("path",{attrs:t.mix(x,{path:A})})},getMarkerCfg:function(g){return{symbol:function(x,A,m){A=[A+7.5,A+3,A-3,A-7.5];var M=u(x,A,m);return[["M",M[0].x,M[0].y],["L",M[1].x,M[1].y],["M",M[2].x,M[2].y],["L",M[3].x,M[3].y],["L",M[4].x,M[4].y],["L",M[5].x,M[5].y],["Z"],["M",M[6].x,M[6].y],["L",M[7].x,M[7].y]]},lineWidth:1,stroke:g.color,fill:g.color,radius:6}}}),P.exports=p},function(P,S,i){function t(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,c(l,h)}function c(l,h){return c=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d},c(l,h)}var s=i(23),v=i(0),o=i(470),f=o.venn,r=o.scaleSolution,e=o.circlePath,n=o.intersectionAreaPath,a=o.computeTextCentres;i(544);var u=function(l){t(h,l);function h(){return l.apply(this,arguments)||this}var p=h.prototype;return p.getDefaultCfg=function(){var g=l.prototype.getDefaultCfg.call(this);return g.type="venn",g.shapeType="venn",g.generatePoints=!1,g},p._getAttrValues=function(g,y){return g.type==="position"?[y.x,y.y]:l.prototype._getAttrValues.call(this,g,y)},p.sets=function(g){return this.set("setsField",g),this},p._initAttrs=function(){var g=this;l.prototype._initAttrs.call(this);var y=g.get("attrOptions"),x=g.get("setsField")||"sets",A=g.get("data"),m=y.size?y.size.field:"size";A.forEach(function(X){X.sets=X[x],X._sets=X[x].join("&"),X.size=X[m]});var M=f(A),b=g.get("coord"),E=[Math.min(b.x.end,b.x.start),Math.max(b.x.end,b.x.start)],C=[Math.min(b.y.end,b.y.start),Math.max(b.y.end,b.y.start)],T=E[1]-E[0],O=C[1]-C[0],L=g.get("styleOptions"),R=L&&v.isObject(L.style)?L.style.padding:0;v.isFinite(R)||(R=0);var W=r(M,T,O,R),U=a(W,A);A.forEach(function(X){var Z=X.sets,J=Z.join(",");if(X.id=J,Z.length===1){var ht=W[J];X.path=e(ht.x,ht.y,ht.radius),v.assign(X,ht)}else{var at=Z.map(function(kt){return W[kt]}),Q=n(at);/[zZ]$/.test(Q)||(Q+="Z"),X.path=Q;var xt=U[J]||{x:0,y:0};v.assign(X,xt)}})},h}(s);s.Venn=u,P.exports=u},function(P,S,i){(function(t,c){c(S,i(102),i(506))})(this,function(t,c,s){"use strict";var v=1e-10;function o(K,$){var et=r(K),j=et.filter(function(Ee){return f(Ee,K)}),w=0,D=0,V=[],tt;if(j.length>1){var lt=l(j);for(tt=0;tt<j.length;++tt){var St=j[tt];St.angle=Math.atan2(St.x-lt.x,St.y-lt.y)}j.sort(function(Ee,de){return de.angle-Ee.angle});var ot=j[j.length-1];for(tt=0;tt<j.length;++tt){var Mt=j[tt];D+=(ot.x+Mt.x)*(Mt.y-ot.y);for(var Ot={x:(Mt.x+ot.x)/2,y:(Mt.y+ot.y)/2},Ft=null,zt=0;zt<Mt.parentIndex.length;++zt)if(ot.parentIndex.indexOf(Mt.parentIndex[zt])>-1){var $t=K[Mt.parentIndex[zt]],he=Math.atan2(Mt.x-$t.x,Mt.y-$t.y),ye=Math.atan2(ot.x-$t.x,ot.y-$t.y),tr=ye-he;tr<0&&(tr+=2*Math.PI);var nr=ye-tr/2,Xe=n(Ot,{x:$t.x+$t.radius*Math.sin(nr),y:$t.y+$t.radius*Math.cos(nr)});Xe>$t.radius*2&&(Xe=$t.radius*2),(Ft===null||Ft.width>Xe)&&(Ft={circle:$t,width:Xe,p1:Mt,p2:ot})}Ft!==null&&(V.push(Ft),w+=e(Ft.circle.radius,Ft.width),ot=Mt)}}else{var yr=K[0];for(tt=1;tt<K.length;++tt)K[tt].radius<yr.radius&&(yr=K[tt]);var Vr=!1;for(tt=0;tt<K.length;++tt)if(n(K[tt],yr)>Math.abs(yr.radius-K[tt].radius)){Vr=!0;break}Vr?w=D=0:(w=yr.radius*yr.radius*Math.PI,V.push({circle:yr,p1:{x:yr.x,y:yr.y+yr.radius},p2:{x:yr.x-v,y:yr.y+yr.radius},width:yr.radius*2}))}return D/=2,$&&($.area=w+D,$.arcArea=w,$.polygonArea=D,$.arcs=V,$.innerPoints=j,$.intersectionPoints=et),w+D}function f(K,$){for(var et=0;et<$.length;++et)if(n(K,$[et])>$[et].radius+v)return!1;return!0}function r(K){for(var $=[],et=0;et<K.length;++et)for(var j=et+1;j<K.length;++j)for(var w=u(K[et],K[j]),D=0;D<w.length;++D){var V=w[D];V.parentIndex=[et,j],$.push(V)}return $}function e(K,$){return K*K*Math.acos(1-$/K)-(K-$)*Math.sqrt($*(2*K-$))}function n(K,$){return Math.sqrt((K.x-$.x)*(K.x-$.x)+(K.y-$.y)*(K.y-$.y))}function a(K,$,et){if(et>=K+$)return 0;if(et<=Math.abs(K-$))return Math.PI*Math.min(K,$)*Math.min(K,$);var j=K-(et*et-$*$+K*K)/(2*et),w=$-(et*et-K*K+$*$)/(2*et);return e(K,j)+e($,w)}function u(K,$){var et=n(K,$),j=K.radius,w=$.radius;if(et>=j+w||et<=Math.abs(j-w))return[];var D=(j*j-w*w+et*et)/(2*et),V=Math.sqrt(j*j-D*D),tt=K.x+D*($.x-K.x)/et,lt=K.y+D*($.y-K.y)/et,St=-($.y-K.y)*(V/et),ot=-($.x-K.x)*(V/et);return[{x:tt+St,y:lt-ot},{x:tt-St,y:lt+ot}]}function l(K){for(var $={x:0,y:0},et=0;et<K.length;++et)$.x+=K[et].x,$.y+=K[et].y;return $.x/=K.length,$.y/=K.length,$}function h(K,$,et,j){j=j||{};var w=j.maxIterations||100,D=j.tolerance||1e-10,V=K($),tt=K(et),lt=et-$;if(V*tt>0)throw"Initial bisect points must have opposite signs";if(V===0)return $;if(tt===0)return et;for(var St=0;St<w;++St){lt/=2;var ot=$+lt,Mt=K(ot);if(Mt*V>=0&&($=ot),Math.abs(lt)<D||Mt===0)return ot}return $+lt}function p(K){for(var $=new Array(K),et=0;et<K;++et)$[et]=0;return $}function d(K,$){return p(K).map(function(){return p($)})}function g(K,$){for(var et=0,j=0;j<K.length;++j)et+=K[j]*$[j];return et}function y(K){return Math.sqrt(g(K,K))}function x(K,$,et){for(var j=0;j<$.length;++j)K[j]=$[j]*et}function A(K,$,et,j,w){for(var D=0;D<K.length;++D)K[D]=$*et[D]+j*w[D]}function m(K,$,et){et=et||{};var j=et.maxIterations||$.length*200,w=et.nonZeroDelta||1.05,D=et.zeroDelta||.001,V=et.minErrorDelta||1e-6,tt=et.minErrorDelta||1e-5,lt=et.rho!==void 0?et.rho:1,St=et.chi!==void 0?et.chi:2,ot=et.psi!==void 0?et.psi:-.5,Mt=et.sigma!==void 0?et.sigma:.5,Ot,Ft=$.length,zt=new Array(Ft+1);zt[0]=$,zt[0].fx=K($),zt[0].id=0;for(var $t=0;$t<Ft;++$t){var he=$.slice();he[$t]=he[$t]?he[$t]*w:D,zt[$t+1]=he,zt[$t+1].fx=K(he),zt[$t+1].id=$t+1}function ye(fn){for(var pi=0;pi<fn.length;pi++)zt[Ft][pi]=fn[pi];zt[Ft].fx=fn.fx}for(var tr=function(fn,pi){return fn.fx-pi.fx},nr=$.slice(),Xe=$.slice(),yr=$.slice(),Vr=$.slice(),Ee=0;Ee<j;++Ee){if(zt.sort(tr),et.history){var de=zt.map(function(fn){var pi=fn.slice();return pi.fx=fn.fx,pi.id=fn.id,pi});de.sort(function(fn,pi){return fn.id-pi.id}),et.history.push({x:zt[0].slice(),fx:zt[0].fx,simplex:de})}for(Ot=0,$t=0;$t<Ft;++$t)Ot=Math.max(Ot,Math.abs(zt[0][$t]-zt[1][$t]));if(Math.abs(zt[0].fx-zt[Ft].fx)<V&&Ot<tt)break;for($t=0;$t<Ft;++$t){nr[$t]=0;for(var Ge=0;Ge<Ft;++Ge)nr[$t]+=zt[Ge][$t];nr[$t]/=Ft}var ke=zt[Ft];if(A(Xe,1+lt,nr,-lt,ke),Xe.fx=K(Xe),Xe.fx<zt[0].fx)A(Vr,1+St,nr,-St,ke),Vr.fx=K(Vr),Vr.fx<Xe.fx?ye(Vr):ye(Xe);else if(Xe.fx>=zt[Ft-1].fx){var Kr=!1;if(Xe.fx>ke.fx?(A(yr,1+ot,nr,-ot,ke),yr.fx=K(yr),yr.fx<ke.fx?ye(yr):Kr=!0):(A(yr,1-ot*lt,nr,ot*lt,ke),yr.fx=K(yr),yr.fx<Xe.fx?ye(yr):Kr=!0),Kr){if(Mt>=1)break;for($t=1;$t<zt.length;++$t)A(zt[$t],1-Mt,zt[0],Mt,zt[$t]),zt[$t].fx=K(zt[$t])}}else ye(Xe)}return zt.sort(tr),{fx:zt[0].fx,x:zt[0]}}function M(K,$,et,j,w,D,V){var tt=et.fx,lt=g(et.fxprime,$),St=tt,ot=tt,Mt=lt,Ot=0;w=w||1,D=D||1e-6,V=V||.1;function Ft($t,he,ye){for(var tr=0;tr<16;++tr)if(w=($t+he)/2,A(j.x,1,et.x,w,$),St=j.fx=K(j.x,j.fxprime),Mt=g(j.fxprime,$),St>tt+D*w*lt||St>=ye)he=w;else{if(Math.abs(Mt)<=-V*lt)return w;Mt*(he-$t)>=0&&(he=$t),$t=w,ye=St}return 0}for(var zt=0;zt<10;++zt){if(A(j.x,1,et.x,w,$),St=j.fx=K(j.x,j.fxprime),Mt=g(j.fxprime,$),St>tt+D*w*lt||zt&&St>=ot)return Ft(Ot,w,ot);if(Math.abs(Mt)<=-V*lt)return w;if(Mt>=0)return Ft(w,Ot,St);ot=St,Ot=w,w*=2}return w}function b(K,$,et){var j={x:$.slice(),fx:0,fxprime:$.slice()},w={x:$.slice(),fx:0,fxprime:$.slice()},D=$.slice(),V,tt,lt=1,St;et=et||{},St=et.maxIterations||$.length*20,j.fx=K(j.x,j.fxprime),V=j.fxprime.slice(),x(V,j.fxprime,-1);for(var ot=0;ot<St;++ot){if(lt=M(K,V,j,w,lt),et.history&&et.history.push({x:j.x.slice(),fx:j.fx,fxprime:j.fxprime.slice(),alpha:lt}),!lt)x(V,j.fxprime,-1);else{A(D,1,w.fxprime,-1,j.fxprime);var Mt=g(j.fxprime,j.fxprime),Ot=Math.max(0,g(D,w.fxprime)/Mt);A(V,Ot,V,-1,w.fxprime),tt=j,j=w,w=tt}if(y(j.fxprime)<=1e-5)break}return et.history&&et.history.push({x:j.x.slice(),fx:j.fx,fxprime:j.fxprime.slice(),alpha:lt}),j}function E(K,$){$=$||{},$.maxIterations=$.maxIterations||500;var et=$.initialLayout||W,j=$.lossFunction||Z;K=O(K);var w=et(K,$),D=[],V=[],tt;for(tt in w)w.hasOwnProperty(tt)&&(D.push(w[tt].x),D.push(w[tt].y),V.push(tt));for(var lt=m(function(Mt){for(var Ot={},Ft=0;Ft<V.length;++Ft){var zt=V[Ft];Ot[zt]={x:Mt[2*Ft],y:Mt[2*Ft+1],radius:w[zt].radius}}return j(Ot,K)},D,$),St=lt.x,ot=0;ot<V.length;++ot)tt=V[ot],w[tt].x=St[2*ot],w[tt].y=St[2*ot+1];return w}var C=1e-10;function T(K,$,et){return Math.min(K,$)*Math.min(K,$)*Math.PI<=et+C?Math.abs(K-$):h(function(j){return a(K,$,j)-et},0,K+$)}function O(K){K=K.slice();var $=[],et={},j,w,D,V;for(j=0;j<K.length;++j){var tt=K[j];tt.sets.length==1?$.push(tt.sets[0]):tt.sets.length==2&&(D=tt.sets[0],V=tt.sets[1],et[[D,V]]=!0,et[[V,D]]=!0)}for($.sort(function(lt,St){return lt>St}),j=0;j<$.length;++j)for(D=$[j],w=j+1;w<$.length;++w)V=$[w],[D,V]in et||K.push({sets:[D,V],size:0});return K}function L(K,$,et){var j=d($.length,$.length),w=d($.length,$.length);return K.filter(function(D){return D.sets.length==2}).map(function(D){var V=et[D.sets[0]],tt=et[D.sets[1]],lt=Math.sqrt($[V].size/Math.PI),St=Math.sqrt($[tt].size/Math.PI),ot=T(lt,St,D.size);j[V][tt]=j[tt][V]=ot;var Mt=0;D.size+1e-10>=Math.min($[V].size,$[tt].size)?Mt=1:D.size<=1e-10&&(Mt=-1),w[V][tt]=w[tt][V]=Mt}),{distances:j,constraints:w}}function R(K,$,et,j){var w=0,D;for(D=0;D<$.length;++D)$[D]=0;for(D=0;D<et.length;++D)for(var V=K[2*D],tt=K[2*D+1],lt=D+1;lt<et.length;++lt){var St=K[2*lt],ot=K[2*lt+1],Mt=et[D][lt],Ot=j[D][lt],Ft=(St-V)*(St-V)+(ot-tt)*(ot-tt),zt=Math.sqrt(Ft),$t=Ft-Mt*Mt;Ot>0&&zt<=Mt||Ot<0&&zt>=Mt||(w+=2*$t*$t,$[2*D]+=4*$t*(V-St),$[2*D+1]+=4*$t*(tt-ot),$[2*lt]+=4*$t*(St-V),$[2*lt+1]+=4*$t*(ot-tt))}return w}function W(K,$){var et=X(K,$),j=$.lossFunction||Z;if(K.length>=8){var w=U(K,$),D=j(w,K),V=j(et,K);D+1e-8<V&&(et=w)}return et}function U(K,$){$=$||{};var et=$.restarts||10,j=[],w={},D;for(D=0;D<K.length;++D){var V=K[D];V.sets.length==1&&(w[V.sets[0]]=j.length,j.push(V))}var tt=L(K,j,w),lt=tt.distances,St=tt.constraints,ot=y(lt.map(y))/lt.length;lt=lt.map(function(tr){return tr.map(function(nr){return nr/ot})});var Mt=function(tr,nr){return R(tr,nr,lt,St)},Ot,Ft;for(D=0;D<et;++D){var zt=p(lt.length*2).map(Math.random);Ft=b(Mt,zt,$),(!Ot||Ft.fx<Ot.fx)&&(Ot=Ft)}var $t=Ot.x,he={};for(D=0;D<j.length;++D){var ye=j[D];he[ye.sets[0]]={x:$t[2*D]*ot,y:$t[2*D+1]*ot,radius:Math.sqrt(ye.size/Math.PI)}}if($.history)for(D=0;D<$.history.length;++D)x($.history[D].x,ot);return he}function X(K,$){for(var et=$&&$.lossFunction?$.lossFunction:Z,j={},w={},D,V=0;V<K.length;++V){var tt=K[V];tt.sets.length==1&&(D=tt.sets[0],j[D]={x:1e10,y:1e10,rowid:j.length,size:tt.size,radius:Math.sqrt(tt.size/Math.PI)},w[D]=[])}for(K=K.filter(function(zi){return zi.sets.length==2}),V=0;V<K.length;++V){var lt=K[V],St=lt.hasOwnProperty("weight")?lt.weight:1,ot=lt.sets[0],Mt=lt.sets[1];lt.size+C>=Math.min(j[ot].size,j[Mt].size)&&(St=0),w[ot].push({set:Mt,size:lt.size,weight:St}),w[Mt].push({set:ot,size:lt.size,weight:St})}var Ot=[];for(D in w)if(w.hasOwnProperty(D)){var Ft=0;for(V=0;V<w[D].length;++V)Ft+=w[D][V].size*w[D][V].weight;Ot.push({set:D,size:Ft})}function zt(zi,Te){return Te.size-zi.size}Ot.sort(zt);var $t={};function he(zi){return zi.set in $t}function ye(zi,Te){j[Te].x=zi.x,j[Te].y=zi.y,$t[Te]=!0}for(ye({x:0,y:0},Ot[0].set),V=1;V<Ot.length;++V){var tr=Ot[V].set,nr=w[tr].filter(he);if(D=j[tr],nr.sort(zt),nr.length===0)throw"ERROR: missing pairwise overlap information";for(var Xe=[],yr=0;yr<nr.length;++yr){var Vr=j[nr[yr].set],Ee=T(D.radius,Vr.radius,nr[yr].size);Xe.push({x:Vr.x+Ee,y:Vr.y}),Xe.push({x:Vr.x-Ee,y:Vr.y}),Xe.push({y:Vr.y+Ee,x:Vr.x}),Xe.push({y:Vr.y-Ee,x:Vr.x});for(var de=yr+1;de<nr.length;++de)for(var Ge=j[nr[de].set],ke=T(D.radius,Ge.radius,nr[de].size),Kr=u({x:Vr.x,y:Vr.y,radius:Ee},{x:Ge.x,y:Ge.y,radius:ke}),fn=0;fn<Kr.length;++fn)Xe.push(Kr[fn])}var pi=1e50,Vi=Xe[0];for(yr=0;yr<Xe.length;++yr){j[tr].x=Xe[yr].x,j[tr].y=Xe[yr].y;var ea=et(j,K);ea<pi&&(pi=ea,Vi=Xe[yr])}ye(Vi,tr)}return j}function Z(K,$){var et=0;function j(ot){return ot.map(function(Mt){return K[Mt]})}for(var w=0;w<$.length;++w){var D=$[w],V;if(D.sets.length!=1){if(D.sets.length==2){var tt=K[D.sets[0]],lt=K[D.sets[1]];V=a(tt.radius,lt.radius,n(tt,lt))}else V=o(j(D.sets));var St=D.hasOwnProperty("weight")?D.weight:1;et+=St*(V-D.size)*(V-D.size)}}return et}function J(K,$,et){et===null?K.sort(function($t,he){return he.radius-$t.radius}):K.sort(et);var j;if(K.length>0){var w=K[0].x,D=K[0].y;for(j=0;j<K.length;++j)K[j].x-=w,K[j].y-=D}if(K.length==2){var V=n(K[0],K[1]);V<Math.abs(K[1].radius-K[0].radius)&&(K[1].x=K[0].x+K[0].radius-K[1].radius-1e-10,K[1].y=K[0].y)}if(K.length>1){var tt=Math.atan2(K[1].x,K[1].y)-$,lt=Math.cos(tt),St=Math.sin(tt),ot,Mt;for(j=0;j<K.length;++j)ot=K[j].x,Mt=K[j].y,K[j].x=lt*ot-St*Mt,K[j].y=St*ot+lt*Mt}if(K.length>2){for(var Ot=Math.atan2(K[2].x,K[2].y)-$;Ot<0;)Ot+=2*Math.PI;for(;Ot>2*Math.PI;)Ot-=2*Math.PI;if(Ot>Math.PI){var Ft=K[1].y/(1e-10+K[1].x);for(j=0;j<K.length;++j){var zt=(K[j].x+Ft*K[j].y)/(1+Ft*Ft);K[j].x=2*zt-K[j].x,K[j].y=2*zt*Ft-K[j].y}}}}function ht(K){K.map(function(St){St.parent=St});function $(St){return St.parent!==St&&(St.parent=$(St.parent)),St.parent}function et(St,ot){var Mt=$(St),Ot=$(ot);Mt.parent=Ot}for(var j=0;j<K.length;++j)for(var w=j+1;w<K.length;++w){var D=K[j].radius+K[w].radius;n(K[j],K[w])+1e-10<D&&et(K[w],K[j])}var V={},tt;for(j=0;j<K.length;++j)tt=$(K[j]).parent.setid,tt in V||(V[tt]=[]),V[tt].push(K[j]);K.map(function(St){delete St.parent});var lt=[];for(tt in V)V.hasOwnProperty(tt)&&lt.push(V[tt]);return lt}function at(K){var $=function(et){var j=Math.max.apply(null,K.map(function(D){return D[et]+D.radius})),w=Math.min.apply(null,K.map(function(D){return D[et]-D.radius}));return{max:j,min:w}};return{xRange:$("x"),yRange:$("y")}}function Q(K,$,et){$===null&&($=Math.PI/2);var j=[],w,D;for(D in K)if(K.hasOwnProperty(D)){var V=K[D];j.push({x:V.x,y:V.y,radius:V.radius,setid:D})}var tt=ht(j);for(w=0;w<tt.length;++w){J(tt[w],$,et);var lt=at(tt[w]);tt[w].size=(lt.xRange.max-lt.xRange.min)*(lt.yRange.max-lt.yRange.min),tt[w].bounds=lt}tt.sort(function(zt,$t){return $t.size-zt.size}),j=tt[0];var St=j.bounds,ot=(St.xRange.max-St.xRange.min)/50;function Mt(zt,$t,he){if(!!zt){var ye=zt.bounds,tr,nr,Xe;$t?tr=St.xRange.max-ye.xRange.min+ot:(tr=St.xRange.max-ye.xRange.max,Xe=(ye.xRange.max-ye.xRange.min)/2-(St.xRange.max-St.xRange.min)/2,Xe<0&&(tr+=Xe)),he?nr=St.yRange.max-ye.yRange.min+ot:(nr=St.yRange.max-ye.yRange.max,Xe=(ye.yRange.max-ye.yRange.min)/2-(St.yRange.max-St.yRange.min)/2,Xe<0&&(nr+=Xe));for(var yr=0;yr<zt.length;++yr)zt[yr].x+=tr,zt[yr].y+=nr,j.push(zt[yr])}}for(var Ot=1;Ot<tt.length;)Mt(tt[Ot],!0,!1),Mt(tt[Ot+1],!1,!0),Mt(tt[Ot+2],!0,!0),Ot+=3,St=at(j);var Ft={};for(w=0;w<j.length;++w)Ft[j[w].setid]=j[w];return Ft}function xt(K,$,et,j){var w=[],D=[];for(var V in K)K.hasOwnProperty(V)&&(D.push(V),w.push(K[V]));$-=2*j,et-=2*j;var tt=at(w),lt=tt.xRange,St=tt.yRange;if(lt.max==lt.min||St.max==St.min)return console.log("not scaling solution: zero size detected"),K;for(var ot=$/(lt.max-lt.min),Mt=et/(St.max-St.min),Ot=Math.min(Mt,ot),Ft=($-(lt.max-lt.min)*Ot)/2,zt=(et-(St.max-St.min)*Ot)/2,$t={},he=0;he<w.length;++he){var ye=w[he];$t[D[he]]={radius:Ot*ye.radius,x:j+Ft+(ye.x-lt.min)*Ot,y:j+zt+(ye.y-St.min)*Ot}}return $t}function kt(){var K=600,$=350,et=15,j=1e3,w=Math.PI/2,D=!0,V=!0,tt=!0,lt=null,St=null,ot={},Mt=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Ot=0,Ft=function(ye){if(ye in ot)return ot[ye];var tr=ot[ye]=Mt[Ot];return Ot+=1,Ot>=Mt.length&&(Ot=0),tr},zt=E,$t=Z;function he(ye){var tr=ye.datum(),nr={};tr.forEach(function(sr){sr.size==0&&sr.sets.length==1&&(nr[sr.sets[0]]=1)}),tr=tr.filter(function(sr){return!sr.sets.some(function(Dr){return Dr in nr})});var Xe={},yr={};if(tr.length>0){var Vr=zt(tr,{lossFunction:$t});D&&(Vr=Q(Vr,w,St)),Xe=xt(Vr,K,$,et),yr=N(Xe,tr)}var Ee={};tr.forEach(function(sr){sr.label&&(Ee[sr.sets]=sr.label)});function de(sr){if(sr.sets in Ee)return Ee[sr.sets];if(sr.sets.length==1)return""+sr.sets[0]}ye.selectAll("svg").data([Xe]).enter().append("svg");var Ge=ye.select("svg").attr("width",K).attr("height",$),ke={},Kr=!1;Ge.selectAll(".venn-area path").each(function(sr){var Dr=c.select(this).attr("d");sr.sets.length==1&&Dr&&(Kr=!0,ke[sr.sets[0]]=ct(Dr))});var fn=function(sr){return function(Dr){var En=sr.sets.map(function(Yn){var ln=ke[Yn],Jr=Xe[Yn];return ln||(ln={x:K/2,y:$/2,radius:1}),Jr||(Jr={x:K/2,y:$/2,radius:1}),{x:ln.x*(1-Dr)+Jr.x*Dr,y:ln.y*(1-Dr)+Jr.y*Dr,radius:ln.radius*(1-Dr)+Jr.radius*Dr}});return ft(En)}},pi=Ge.selectAll(".venn-area").data(tr,function(sr){return sr.sets}),Vi=pi.enter().append("g").attr("class",function(sr){return"venn-area venn-"+(sr.sets.length==1?"circle":"intersection")}).attr("data-venn-sets",function(sr){return sr.sets.join("_")}),ea=Vi.append("path"),zi=Vi.append("text").attr("class","label").text(function(sr){return de(sr)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",K/2).attr("y",$/2);tt&&(ea.style("fill-opacity","0").filter(function(sr){return sr.sets.length==1}).style("fill",function(sr){return Ft(sr.sets)}).style("fill-opacity",".25"),zi.style("fill",function(sr){return sr.sets.length==1?Ft(sr.sets):"#444"}));var Te=ye;Kr?(Te=ye.transition("venn").duration(j),Te.selectAll("path").attrTween("d",fn)):Te.selectAll("path").attr("d",function(sr){return ft(sr.sets.map(function(Dr){return Xe[Dr]}))});var Be=Te.selectAll("text").filter(function(sr){return sr.sets in yr}).text(function(sr){return de(sr)}).attr("x",function(sr){return Math.floor(yr[sr.sets].x)}).attr("y",function(sr){return Math.floor(yr[sr.sets].y)});V&&(Kr?"on"in Be?Be.on("end",Nt(Xe,de)):Be.each("end",Nt(Xe,de)):Be.each(Nt(Xe,de)));var lr=pi.exit().transition("venn").duration(j).remove();lr.selectAll("path").attrTween("d",fn);var Or=lr.selectAll("text").attr("x",K/2).attr("y",$/2);return lt!==null&&(zi.style("font-size","0px"),Be.style("font-size",lt),Or.style("font-size","0px")),{circles:Xe,textCentres:yr,nodes:pi,enter:Vi,update:Te,exit:lr}}return he.wrap=function(ye){return arguments.length?(V=ye,he):V},he.width=function(ye){return arguments.length?(K=ye,he):K},he.height=function(ye){return arguments.length?($=ye,he):$},he.padding=function(ye){return arguments.length?(et=ye,he):et},he.colours=function(ye){return arguments.length?(Ft=ye,he):Ft},he.fontSize=function(ye){return arguments.length?(lt=ye,he):lt},he.duration=function(ye){return arguments.length?(j=ye,he):j},he.layoutFunction=function(ye){return arguments.length?(zt=ye,he):zt},he.normalize=function(ye){return arguments.length?(D=ye,he):D},he.styled=function(ye){return arguments.length?(tt=ye,he):tt},he.orientation=function(ye){return arguments.length?(w=ye,he):w},he.orientationOrder=function(ye){return arguments.length?(St=ye,he):St},he.lossFunction=function(ye){return arguments.length?($t=ye,he):$t},he}function Nt(K,$){return function(){for(var et=c.select(this),j=et.datum(),w=K[j.sets[0]].radius||50,D=$(j)||"",V=D.split(/\s+/).reverse(),tt=3,lt=(D.length+V.length)/tt,St=V.pop(),ot=[St],Mt,Ot=0,Ft=1.1,zt=et.text(null).append("tspan").text(St);St=V.pop(),!!St;)ot.push(St),Mt=ot.join(" "),zt.text(Mt),Mt.length>lt&&zt.node().getComputedTextLength()>w&&(ot.pop(),zt.text(ot.join(" ")),ot=[St],zt=et.append("tspan").text(St),Ot++);var $t=.35-Ot*Ft/2,he=et.attr("x"),ye=et.attr("y");et.selectAll("tspan").attr("x",he).attr("y",ye).attr("dy",function(tr,nr){return $t+nr*Ft+"em"})}}function nt(K,$,et){var j=$[0].radius-n($[0],K),w,D;for(w=1;w<$.length;++w)D=$[w].radius-n($[w],K),D<=j&&(j=D);for(w=0;w<et.length;++w)D=n(et[w],K)-et[w].radius,D<=j&&(j=D);return j}function q(K,$){var et=[],j;for(j=0;j<K.length;++j){var w=K[j];et.push({x:w.x,y:w.y}),et.push({x:w.x+w.radius/2,y:w.y}),et.push({x:w.x-w.radius/2,y:w.y}),et.push({x:w.x,y:w.y+w.radius/2}),et.push({x:w.x,y:w.y-w.radius/2})}var D=et[0],V=nt(et[0],K,$);for(j=1;j<et.length;++j){var tt=nt(et[j],K,$);tt>=V&&(D=et[j],V=tt)}var lt=m(function(Ot){return-1*nt({x:Ot[0],y:Ot[1]},K,$)},[D.x,D.y],{maxIterations:500,minErrorDelta:1e-10}).x,St={x:lt[0],y:lt[1]},ot=!0;for(j=0;j<K.length;++j)if(n(St,K[j])>K[j].radius){ot=!1;break}for(j=0;j<$.length;++j)if(n(St,$[j])<$[j].radius){ot=!1;break}if(!ot)if(K.length==1)St={x:K[0].x,y:K[0].y};else{var Mt={};o(K,Mt),Mt.arcs.length===0?St={x:0,y:-1e3,disjoint:!0}:Mt.arcs.length==1?St={x:Mt.arcs[0].circle.x,y:Mt.arcs[0].circle.y}:$.length?St=q(K,[]):St=l(Mt.arcs.map(function(Ot){return Ot.p1}))}return St}function G(K){var $={},et=[];for(var j in K)et.push(j),$[j]=[];for(var w=0;w<et.length;w++)for(var D=K[et[w]],V=w+1;V<et.length;++V){var tt=K[et[V]],lt=n(D,tt);lt+tt.radius<=D.radius+1e-10?$[et[V]].push(et[w]):lt+D.radius<=tt.radius+1e-10&&$[et[w]].push(et[V])}return $}function N(K,$){for(var et={},j=G(K),w=0;w<$.length;++w){for(var D=$[w].sets,V={},tt={},lt=0;lt<D.length;++lt){V[D[lt]]=!0;for(var St=j[D[lt]],ot=0;ot<St.length;++ot)tt[St[ot]]=!0}var Mt=[],Ot=[];for(var Ft in K)Ft in V?Mt.push(K[Ft]):Ft in tt||Ot.push(K[Ft]);var zt=q(Mt,Ot);et[D]=zt,zt.disjoint&&$[w].size>0&&console.log("WARNING: area "+D+" not represented on screen")}return et}function it(K,$){for(var et=G(K.selectAll("svg").datum()),j={},w=0;w<$.sets.length;++w){var D=$.sets[w];for(var V in et)for(var tt=et[V],lt=0;lt<tt.length;++lt)if(tt[lt]==D){j[V]=!0;break}}function St(ot){for(var Mt=0;Mt<ot.length;++Mt)if(!(ot[Mt]in j))return!1;return!0}K.selectAll("g").sort(function(ot,Mt){return ot.sets.length!=Mt.sets.length?ot.sets.length-Mt.sets.length:ot==$?St(Mt.sets)?-1:1:Mt==$?St(ot.sets)?1:-1:Mt.size-ot.size})}function H(K,$,et){var j=[];return j.push(`
M`,K,$),j.push(`
m`,-et,0),j.push(`
a`,et,et,0,1,0,et*2,0),j.push(`
a`,et,et,0,1,0,-et*2,0),j.join(" ")}function ct(K){var $=K.split(" ");return{x:parseFloat($[1]),y:parseFloat($[2]),radius:-parseFloat($[4])}}function ft(K){var $={};o(K,$);var et=$.arcs;if(et.length===0)return"M 0 0";if(et.length==1){var j=et[0].circle;return H(j.x,j.y,j.radius)}else{for(var w=[`
M`,et[0].p2.x,et[0].p2.y],D=0;D<et.length;++D){var V=et[D],tt=V.circle.radius,lt=V.width>tt;w.push(`
A`,tt,tt,0,lt?1:0,1,V.p1.x,V.p1.y)}return w.join(" ")}}t.intersectionArea=o,t.circleCircleIntersection=u,t.circleOverlap=a,t.circleArea=e,t.distance=n,t.venn=E,t.greedyLayout=X,t.scaleSolution=xt,t.normalizeSolution=Q,t.bestInitialLayout=W,t.lossFunction=Z,t.disjointCluster=ht,t.distanceFromIntersectArea=T,t.VennDiagram=kt,t.wrapText=Nt,t.computeTextCentres=N,t.computeTextCentre=q,t.sortAreas=it,t.circlePath=H,t.circleFromPath=ct,t.intersectionAreaPath=ft,Object.defineProperty(t,"__esModule",{value:!0})})},function(P,S,i){"use strict";var t=i(418),c=i(442);S.a=function(s){return Object(c.a)(Object(t.a)(s).call(document.documentElement))}},function(P,S,i){"use strict";var t=i(99),c=i(431);S.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=new Array(n),u,l,h=0;h<n;++h)(u=e[h])&&(l=s.call(u,u.__data__,h,e))&&("__data__"in u&&(l.__data__=u.__data__),a[h]=l);return new t.a(f,this._parents)}},function(P,S,i){"use strict";var t=i(99),c=i(443);S.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=[],r=[],e=0;e<o;++e)for(var n=v[e],a=n.length,u,l=0;l<a;++l)(u=n[l])&&(f.push(s.call(u,u.__data__,l,n)),r.push(u));return new t.a(f,r)}},function(P,S,i){"use strict";var t=i(99),c=i(444);S.a=function(s){typeof s!="function"&&(s=Object(c.a)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=[],u,l=0;l<n;++l)(u=e[l])&&s.call(u,u.__data__,l,e)&&a.push(u);return new t.a(f,this._parents)}},function(P,S,i){"use strict";var t=i(99),c=i(445),s=i(476),v="$";function o(r,e,n,a,u,l){for(var h=0,p,d=e.length,g=l.length;h<g;++h)(p=e[h])?(p.__data__=l[h],a[h]=p):n[h]=new c.a(r,l[h]);for(;h<d;++h)(p=e[h])&&(u[h]=p)}function f(r,e,n,a,u,l,h){var p,d,g={},y=e.length,x=l.length,A=new Array(y),m;for(p=0;p<y;++p)(d=e[p])&&(A[p]=m=v+h.call(d,d.__data__,p,e),m in g?u[p]=d:g[m]=d);for(p=0;p<x;++p)m=v+h.call(r,l[p],p,l),(d=g[m])?(a[p]=d,d.__data__=l[p],g[m]=null):n[p]=new c.a(r,l[p]);for(p=0;p<y;++p)(d=e[p])&&g[A[p]]===d&&(u[p]=d)}S.a=function(r,e){if(!r)return m=new Array(this.size()),g=-1,this.each(function(W){m[++g]=W}),m;var n=e?f:o,a=this._parents,u=this._groups;typeof r!="function"&&(r=Object(s.a)(r));for(var l=u.length,h=new Array(l),p=new Array(l),d=new Array(l),g=0;g<l;++g){var y=a[g],x=u[g],A=x.length,m=r.call(y,y&&y.__data__,g,a),M=m.length,b=p[g]=new Array(M),E=h[g]=new Array(M),C=d[g]=new Array(A);n(y,x,b,E,C,m,e);for(var T=0,O=0,L,R;T<M;++T)if(L=b[T]){for(T>=O&&(O=T+1);!(R=E[O])&&++O<M;);L._next=R||null}}return h=new t.a(h,a),h._enter=p,h._exit=d,h}},function(P,S,i){"use strict";S.a=function(t){return function(){return t}}},function(P,S,i){"use strict";var t=i(446),c=i(99);S.a=function(){return new c.a(this._exit||this._groups.map(t.a),this._parents)}},function(P,S,i){"use strict";S.a=function(t,c,s){var v=this.enter(),o=this,f=this.exit();return v=typeof t=="function"?t(v):v.append(t+""),c!=null&&(o=c(o)),s==null?f.remove():s(f),v&&o?v.merge(o).order():o}},function(P,S,i){"use strict";var t=i(99);S.a=function(c){for(var s=this._groups,v=c._groups,o=s.length,f=v.length,r=Math.min(o,f),e=new Array(o),n=0;n<r;++n)for(var a=s[n],u=v[n],l=a.length,h=e[n]=new Array(l),p,d=0;d<l;++d)(p=a[d]||u[d])&&(h[d]=p);for(;n<o;++n)e[n]=s[n];return new t.a(e,this._parents)}},function(P,S,i){"use strict";S.a=function(){for(var t=this._groups,c=-1,s=t.length;++c<s;)for(var v=t[c],o=v.length-1,f=v[o],r;--o>=0;)(r=v[o])&&(f&&r.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(r,f),f=r);return this}},function(P,S,i){"use strict";var t=i(99);S.a=function(s){s||(s=c);function v(p,d){return p&&d?s(p.__data__,d.__data__):!p-!d}for(var o=this._groups,f=o.length,r=new Array(f),e=0;e<f;++e){for(var n=o[e],a=n.length,u=r[e]=new Array(a),l,h=0;h<a;++h)(l=n[h])&&(u[h]=l);u.sort(v)}return new t.a(r,this._parents).order()};function c(s,v){return s<v?-1:s>v?1:s>=v?0:NaN}},function(P,S,i){"use strict";S.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(P,S,i){"use strict";S.a=function(){var t=new Array(this.size()),c=-1;return this.each(function(){t[++c]=this}),t}},function(P,S,i){"use strict";S.a=function(){for(var t=this._groups,c=0,s=t.length;c<s;++c)for(var v=t[c],o=0,f=v.length;o<f;++o){var r=v[o];if(r)return r}return null}},function(P,S,i){"use strict";S.a=function(){var t=0;return this.each(function(){++t}),t}},function(P,S,i){"use strict";S.a=function(){return!this.node()}},function(P,S,i){"use strict";S.a=function(t){for(var c=this._groups,s=0,v=c.length;s<v;++s)for(var o=c[s],f=0,r=o.length,e;f<r;++f)(e=o[f])&&t.call(e,e.__data__,f,o);return this}},function(P,S,i){"use strict";var t=i(429);function c(e){return function(){this.removeAttribute(e)}}function s(e){return function(){this.removeAttributeNS(e.space,e.local)}}function v(e,n){return function(){this.setAttribute(e,n)}}function o(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function f(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function r(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}S.a=function(e,n){var a=Object(t.a)(e);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((n==null?a.local?s:c:typeof n=="function"?a.local?r:f:a.local?o:v)(a,n))}},function(P,S,i){"use strict";function t(v){return function(){delete this[v]}}function c(v,o){return function(){this[v]=o}}function s(v,o){return function(){var f=o.apply(this,arguments);f==null?delete this[v]:this[v]=f}}S.a=function(v,o){return arguments.length>1?this.each((o==null?t:typeof o=="function"?s:c)(v,o)):this.node()[v]}},function(P,S,i){"use strict";function t(n){return n.trim().split(/^|\s+/)}function c(n){return n.classList||new s(n)}function s(n){this._node=n,this._names=t(n.getAttribute("class")||"")}s.prototype={add:function(n){var a=this._names.indexOf(n);a<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var a=this._names.indexOf(n);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function v(n,a){for(var u=c(n),l=-1,h=a.length;++l<h;)u.add(a[l])}function o(n,a){for(var u=c(n),l=-1,h=a.length;++l<h;)u.remove(a[l])}function f(n){return function(){v(this,n)}}function r(n){return function(){o(this,n)}}function e(n,a){return function(){(a.apply(this,arguments)?v:o)(this,n)}}S.a=function(n,a){var u=t(n+"");if(arguments.length<2){for(var l=c(this.node()),h=-1,p=u.length;++h<p;)if(!l.contains(u[h]))return!1;return!0}return this.each((typeof a=="function"?e:a?f:r)(u,a))}},function(P,S,i){"use strict";function t(){this.textContent=""}function c(v){return function(){this.textContent=v}}function s(v){return function(){var o=v.apply(this,arguments);this.textContent=o==null?"":o}}S.a=function(v){return arguments.length?this.each(v==null?t:(typeof v=="function"?s:c)(v)):this.node().textContent}},function(P,S,i){"use strict";function t(){this.innerHTML=""}function c(v){return function(){this.innerHTML=v}}function s(v){return function(){var o=v.apply(this,arguments);this.innerHTML=o==null?"":o}}S.a=function(v){return arguments.length?this.each(v==null?t:(typeof v=="function"?s:c)(v)):this.node().innerHTML}},function(P,S,i){"use strict";function t(){this.nextSibling&&this.parentNode.appendChild(this)}S.a=function(){return this.each(t)}},function(P,S,i){"use strict";function t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}S.a=function(){return this.each(t)}},function(P,S,i){"use strict";var t=i(418);S.a=function(c){var s=typeof c=="function"?c:Object(t.a)(c);return this.select(function(){return this.appendChild(s.apply(this,arguments))})}},function(P,S,i){"use strict";var t=i(418),c=i(431);function s(){return null}S.a=function(v,o){var f=typeof v=="function"?v:Object(t.a)(v),r=o==null?s:typeof o=="function"?o:Object(c.a)(o);return this.select(function(){return this.insertBefore(f.apply(this,arguments),r.apply(this,arguments)||null)})}},function(P,S,i){"use strict";function t(){var c=this.parentNode;c&&c.removeChild(this)}S.a=function(){return this.each(t)}},function(P,S,i){"use strict";function t(){var s=this.cloneNode(!1),v=this.parentNode;return v?v.insertBefore(s,this.nextSibling):s}function c(){var s=this.cloneNode(!0),v=this.parentNode;return v?v.insertBefore(s,this.nextSibling):s}S.a=function(s){return this.select(s?c:t)}},function(P,S,i){"use strict";S.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(P,S,i){"use strict";var t=i(432);function c(o,f,r){var e=Object(t.a)(o),n=e.CustomEvent;typeof n=="function"?n=new n(f,r):(n=e.document.createEvent("Event"),r?(n.initEvent(f,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(f,!1,!1)),o.dispatchEvent(n)}function s(o,f){return function(){return c(this,o,f)}}function v(o,f){return function(){return c(this,o,f.apply(this,arguments))}}S.a=function(o,f){return this.each((typeof f=="function"?v:s)(o,f))}},function(P,S,i){"use strict";S.a=c;var t=0;function c(){return new s}function s(){this._="@"+(++t).toString(36)}s.prototype=c.prototype={constructor:s,get:function(v){for(var o=this._;!(o in v);)if(!(v=v.parentNode))return;return v[o]},set:function(v,o){return v[this._]=o},remove:function(v){return this._ in v&&delete v[this._]},toString:function(){return this._}}},function(P,S,i){"use strict";var t=i(434),c=i(419);S.a=function(s){var v=Object(t.a)();return v.changedTouches&&(v=v.changedTouches[0]),Object(c.a)(s,v)}},function(P,S,i){"use strict";var t=i(99);S.a=function(c){return typeof c=="string"?new t.a([document.querySelectorAll(c)],[document.documentElement]):new t.a([c==null?[]:c],t.c)}},function(P,S,i){"use strict";var t=i(434),c=i(419);S.a=function(s,v,o){arguments.length<3&&(o=v,v=Object(t.a)().changedTouches);for(var f=0,r=v?v.length:0,e;f<r;++f)if((e=v[f]).identifier===o)return Object(c.a)(s,e);return null}},function(P,S,i){"use strict";var t=i(434),c=i(419);S.a=function(s,v){v==null&&(v=Object(t.a)().touches);for(var o=0,f=v?v.length:0,r=new Array(f);o<f;++o)r[o]=Object(c.a)(s,v[o]);return r}},function(P,S,i){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var t=i(507),c=i(204);i.d(S,"transition",function(){return c.b});var s=i(543);i.d(S,"active",function(){return s.a});var v=i(448);i.d(S,"interrupt",function(){return v.a})},function(P,S,i){"use strict";var t=i(102),c=i(508),s=i(511);t.selection.prototype.interrupt=c.a,t.selection.prototype.transition=s.a},function(P,S,i){"use strict";var t=i(448);S.a=function(c){return this.each(function(){Object(t.a)(this,c)})}},function(P,S,i){"use strict";var t=i(510);i.d(S,"a",function(){return t.a})},function(P,S,i){"use strict";var t={value:function(){}};function c(){for(var r=0,e=arguments.length,n={},a;r<e;++r){if(!(a=arguments[r]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new s(n)}function s(r){this._=r}function v(r,e){return r.trim().split(/^|\s+/).map(function(n){var a="",u=n.indexOf(".");if(u>=0&&(a=n.slice(u+1),n=n.slice(0,u)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:a}})}s.prototype=c.prototype={constructor:s,on:function(r,e){var n=this._,a=v(r+"",n),u,l=-1,h=a.length;if(arguments.length<2){for(;++l<h;)if((u=(r=a[l]).type)&&(u=o(n[u],r.name)))return u;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<h;)if(u=(r=a[l]).type)n[u]=f(n[u],r.name,e);else if(e==null)for(u in n)n[u]=f(n[u],r.name,null);return this},copy:function(){var r={},e=this._;for(var n in e)r[n]=e[n].slice();return new s(r)},call:function(r,e){if((u=arguments.length-2)>0)for(var n=new Array(u),a=0,u,l;a<u;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(l=this._[r],a=0,u=l.length;a<u;++a)l[a].value.apply(e,n)},apply:function(r,e,n){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var a=this._[r],u=0,l=a.length;u<l;++u)a[u].value.apply(e,n)}};function o(r,e){for(var n=0,a=r.length,u;n<a;++n)if((u=r[n]).name===e)return u.value}function f(r,e,n){for(var a=0,u=r.length;a<u;++a)if(r[a].name===e){r[a]=t,r=r.slice(0,a).concat(r.slice(a+1));break}return n!=null&&r.push({name:e,value:n}),r}S.a=c},function(P,S,i){"use strict";var t=i(204),c=i(58),s=i(103),v=i(101),o={time:null,delay:0,duration:250,ease:s.easeCubicInOut};function f(r,e){for(var n;!(n=r.__transition)||!(n=n[e]);)if(!(r=r.parentNode))return o.time=Object(v.now)(),o;return n}S.a=function(r){var e,n;r instanceof t.a?(e=r._id,r=r._name):(e=Object(t.c)(),(n=o).time=Object(v.now)(),r=r==null?null:r+"");for(var a=this._groups,u=a.length,l=0;l<u;++l)for(var h=a[l],p=h.length,d,g=0;g<p;++g)(d=h[g])&&Object(c.e)(d,r,e,g,h,n||f(d,e));return new t.a(a,this._parents,r,e)}},function(P,S,i){"use strict";var t=i(435),c=i(102),s=i(421),v=i(456);function o(u){return function(){this.removeAttribute(u)}}function f(u){return function(){this.removeAttributeNS(u.space,u.local)}}function r(u,l,h){var p,d=h+"",g;return function(){var y=this.getAttribute(u);return y===d?null:y===p?g:g=l(p=y,h)}}function e(u,l,h){var p,d=h+"",g;return function(){var y=this.getAttributeNS(u.space,u.local);return y===d?null:y===p?g:g=l(p=y,h)}}function n(u,l,h){var p,d,g;return function(){var y,x=h(this),A;return x==null?void this.removeAttribute(u):(y=this.getAttribute(u),A=x+"",y===A?null:y===p&&A===d?g:(d=A,g=l(p=y,x)))}}function a(u,l,h){var p,d,g;return function(){var y,x=h(this),A;return x==null?void this.removeAttributeNS(u.space,u.local):(y=this.getAttributeNS(u.space,u.local),A=x+"",y===A?null:y===p&&A===d?g:(d=A,g=l(p=y,x)))}}S.a=function(u,l){var h=Object(c.namespace)(u),p=h==="transform"?t.e:v.a;return this.attrTween(u,typeof l=="function"?(h.local?a:n)(h,p,Object(s.b)(this,"attr."+u,l)):l==null?(h.local?f:o)(h):(h.local?e:r)(h,p,l))}},function(P,S,i){"use strict";var t=function(c){var s=c.length;return function(v){return c[Math.max(0,Math.min(s-1,Math.floor(v*s)))]}}},function(P,S,i){"use strict";var t=i(207),c=function(s,v){var o=Object(t.c)(+s,+v);return function(f){var r=o(f);return r-360*Math.floor(r/360)}}},function(P,S,i){"use strict";var t=function(c,s){return c=+c,s=+s,function(v){return Math.round(c*(1-v)+s*v)}}},function(P,S,i){"use strict";i.d(S,"a",function(){return v}),i.d(S,"b",function(){return o});var t=i(420),c=i(517);function s(f,r,e,n){function a(d){return d.length?d.pop()+" ":""}function u(d,g,y,x,A,m){if(d!==y||g!==x){var M=A.push("translate(",null,r,null,e);m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,x)})}else(y||x)&&A.push("translate("+y+r+x+e)}function l(d,g,y,x){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),x.push({i:y.push(a(y)+"rotate(",null,n)-2,x:Object(t.a)(d,g)})):g&&y.push(a(y)+"rotate("+g+n)}function h(d,g,y,x){d!==g?x.push({i:y.push(a(y)+"skewX(",null,n)-2,x:Object(t.a)(d,g)}):g&&y.push(a(y)+"skewX("+g+n)}function p(d,g,y,x,A,m){if(d!==y||g!==x){var M=A.push(a(A)+"scale(",null,",",null,")");m.push({i:M-4,x:Object(t.a)(d,y)},{i:M-2,x:Object(t.a)(g,x)})}else(y!==1||x!==1)&&A.push(a(A)+"scale("+y+","+x+")")}return function(d,g){var y=[],x=[];return d=f(d),g=f(g),u(d.translateX,d.translateY,g.translateX,g.translateY,y,x),l(d.rotate,g.rotate,y,x),h(d.skewX,g.skewX,y,x),p(d.scaleX,d.scaleY,g.scaleX,g.scaleY,y,x),d=g=null,function(A){for(var m=-1,M=x.length,b;++m<M;)y[(b=x[m]).i]=b.x(A);return y.join("")}}}var v=s(c.a,"px, ","px)","deg)"),o=s(c.b,", ",")",")")},function(P,S,i){"use strict";S.a=f,S.b=r;var t=i(518),c,s,v,o;function f(e){return e==="none"?t.b:(c||(c=document.createElement("DIV"),s=document.documentElement,v=document.defaultView),c.style.transform=e,e=v.getComputedStyle(s.appendChild(c),null).getPropertyValue("transform"),s.removeChild(c),e=e.slice(7,-1).split(","),Object(t.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function r(e){return e==null||(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),!(e=o.transform.baseVal.consolidate()))?t.b:(e=e.matrix,Object(t.a)(e.a,e.b,e.c,e.d,e.e,e.f))}},function(P,S,i){"use strict";i.d(S,"b",function(){return c});var t=180/Math.PI,c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};S.a=function(s,v,o,f,r,e){var n,a,u;return(n=Math.sqrt(s*s+v*v))&&(s/=n,v/=n),(u=s*o+v*f)&&(o-=s*u,f-=v*u),(a=Math.sqrt(o*o+f*f))&&(o/=a,f/=a,u/=a),s*f<v*o&&(s=-s,v=-v,u=-u,n=-n),{translateX:r,translateY:e,rotate:Math.atan2(v,s)*t,skewX:Math.atan(u)*t,scaleX:n,scaleY:a}}},function(P,S,i){"use strict";var t=Math.SQRT2,c=2,s=4,v=1e-12;function o(n){return((n=Math.exp(n))+1/n)/2}function f(n){return((n=Math.exp(n))-1/n)/2}function r(n){return((n=Math.exp(2*n))-1)/(n+1)}var e=function(n,a){var u=n[0],l=n[1],h=n[2],p=a[0],d=a[1],g=a[2],y=p-u,x=d-l,A=y*y+x*x,m,M;if(A<v)M=Math.log(g/h)/t,m=function(L){return[u+L*y,l+L*x,h*Math.exp(t*L*M)]};else{var b=Math.sqrt(A),E=(g*g-h*h+s*A)/(2*h*c*b),C=(g*g-h*h-s*A)/(2*g*c*b),T=Math.log(Math.sqrt(E*E+1)-E),O=Math.log(Math.sqrt(C*C+1)-C);M=(O-T)/t,m=function(L){var R=L*M,W=o(T),U=h/(c*b)*(W*r(t*R+T)-f(T));return[u+U*y,l+U*x,h*W/o(t*R+T)]}}return m.duration=M*1e3,m}},function(P,S,i){"use strict";var t=i(19),c=i(207);function s(f){return function(r,e){var n=f((r=Object(t.d)(r)).h,(e=Object(t.d)(e)).h),a=Object(c.a)(r.s,e.s),u=Object(c.a)(r.l,e.l),l=Object(c.a)(r.opacity,e.opacity);return function(h){return r.h=n(h),r.s=a(h),r.l=u(h),r.opacity=l(h),r+""}}}var v=s(c.c),o=s(c.a)},function(P,S,i){"use strict";var t=i(19),c=i(207);function s(v,o){var f=Object(c.a)((v=Object(t.e)(v)).l,(o=Object(t.e)(o)).l),r=Object(c.a)(v.a,o.a),e=Object(c.a)(v.b,o.b),n=Object(c.a)(v.opacity,o.opacity);return function(a){return v.l=f(a),v.a=r(a),v.b=e(a),v.opacity=n(a),v+""}}},function(P,S,i){"use strict";var t=i(19),c=i(207);function s(f){return function(r,e){var n=f((r=Object(t.c)(r)).h,(e=Object(t.c)(e)).h),a=Object(c.a)(r.c,e.c),u=Object(c.a)(r.l,e.l),l=Object(c.a)(r.opacity,e.opacity);return function(h){return r.h=n(h),r.c=a(h),r.l=u(h),r.opacity=l(h),r+""}}}var v=s(c.c),o=s(c.a)},function(P,S,i){"use strict";var t=i(19),c=i(207);function s(f){return function r(e){e=+e;function n(a,u){var l=f((a=Object(t.b)(a)).h,(u=Object(t.b)(u)).h),h=Object(c.a)(a.s,u.s),p=Object(c.a)(a.l,u.l),d=Object(c.a)(a.opacity,u.opacity);return function(g){return a.h=l(g),a.s=h(g),a.l=p(Math.pow(g,e)),a.opacity=d(g),a+""}}return n.gamma=r,n}(1)}var v=s(c.c),o=s(c.a)},function(P,S,i){"use strict";function t(c,s){for(var v=0,o=s.length-1,f=s[0],r=new Array(o<0?0:o);v<o;)r[v]=c(f,f=s[++v]);return function(e){var n=Math.max(0,Math.min(o-1,Math.floor(e*=o)));return r[n](e-n)}}},function(P,S,i){"use strict";var t=function(c,s){for(var v=new Array(s),o=0;o<s;++o)v[o]=c(o/(s-1));return v}},function(P,S,i){"use strict";var t=i(102);function c(f,r){return function(e){this.setAttribute(f,r.call(this,e))}}function s(f,r){return function(e){this.setAttributeNS(f.space,f.local,r.call(this,e))}}function v(f,r){var e,n;function a(){var u=r.apply(this,arguments);return u!==n&&(e=(n=u)&&s(f,u)),e}return a._value=r,a}function o(f,r){var e,n;function a(){var u=r.apply(this,arguments);return u!==n&&(e=(n=u)&&c(f,u)),e}return a._value=r,a}S.a=function(f,r){var e="attr."+f;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var n=Object(t.namespace)(f);return this.tween(e,(n.local?v:o)(n,r))}},function(P,S,i){"use strict";var t=i(58);function c(v,o){return function(){Object(t.g)(this,v).delay=+o.apply(this,arguments)}}function s(v,o){return o=+o,function(){Object(t.g)(this,v).delay=o}}S.a=function(v){var o=this._id;return arguments.length?this.each((typeof v=="function"?c:s)(o,v)):Object(t.f)(this.node(),o).delay}},function(P,S,i){"use strict";var t=i(58);function c(v,o){return function(){Object(t.h)(this,v).duration=+o.apply(this,arguments)}}function s(v,o){return o=+o,function(){Object(t.h)(this,v).duration=o}}S.a=function(v){var o=this._id;return arguments.length?this.each((typeof v=="function"?c:s)(o,v)):Object(t.f)(this.node(),o).duration}},function(P,S,i){"use strict";var t=i(58);function c(s,v){if(typeof v!="function")throw new Error;return function(){Object(t.h)(this,s).ease=v}}S.a=function(s){var v=this._id;return arguments.length?this.each(c(v,s)):Object(t.f)(this.node(),v).ease}},function(P,S,i){"use strict";var t=i(102),c=i(204);S.a=function(s){typeof s!="function"&&(s=Object(t.matcher)(s));for(var v=this._groups,o=v.length,f=new Array(o),r=0;r<o;++r)for(var e=v[r],n=e.length,a=f[r]=[],u,l=0;l<n;++l)(u=e[l])&&s.call(u,u.__data__,l,e)&&a.push(u);return new c.a(f,this._parents,this._name,this._id)}},function(P,S,i){"use strict";var t=i(204);S.a=function(c){if(c._id!==this._id)throw new Error;for(var s=this._groups,v=c._groups,o=s.length,f=v.length,r=Math.min(o,f),e=new Array(o),n=0;n<r;++n)for(var a=s[n],u=v[n],l=a.length,h=e[n]=new Array(l),p,d=0;d<l;++d)(p=a[d]||u[d])&&(h[d]=p);for(;n<o;++n)e[n]=s[n];return new t.a(e,this._parents,this._name,this._id)}},function(P,S,i){"use strict";var t=i(58);function c(v){return(v+"").trim().split(/^|\s+/).every(function(o){var f=o.indexOf(".");return f>=0&&(o=o.slice(0,f)),!o||o==="start"})}function s(v,o,f){var r,e,n=c(o)?t.g:t.h;return function(){var a=n(this,v),u=a.on;u!==r&&(e=(r=u).copy()).on(o,f),a.on=e}}S.a=function(v,o){var f=this._id;return arguments.length<2?Object(t.f)(this.node(),f).on.on(v):this.each(s(f,v,o))}},function(P,S,i){"use strict";function t(c){return function(){var s=this.parentNode;for(var v in this.__transition)if(+v!==c)return;s&&s.removeChild(this)}}S.a=function(){return this.on("end.remove",t(this._id))}},function(P,S,i){"use strict";var t=i(102),c=i(204),s=i(58);S.a=function(v){var o=this._name,f=this._id;typeof v!="function"&&(v=Object(t.selector)(v));for(var r=this._groups,e=r.length,n=new Array(e),a=0;a<e;++a)for(var u=r[a],l=u.length,h=n[a]=new Array(l),p,d,g=0;g<l;++g)(p=u[g])&&(d=v.call(p,p.__data__,g,u))&&("__data__"in p&&(d.__data__=p.__data__),h[g]=d,Object(s.e)(h[g],o,f,g,h,Object(s.f)(p,f)));return new c.a(n,this._parents,o,f)}},function(P,S,i){"use strict";var t=i(102),c=i(204),s=i(58);S.a=function(v){var o=this._name,f=this._id;typeof v!="function"&&(v=Object(t.selectorAll)(v));for(var r=this._groups,e=r.length,n=[],a=[],u=0;u<e;++u)for(var l=r[u],h=l.length,p,d=0;d<h;++d)if(p=l[d]){for(var g=v.call(p,p.__data__,d,l),y,x=Object(s.f)(p,f),A=0,m=g.length;A<m;++A)(y=g[A])&&Object(s.e)(y,o,f,A,g,x);n.push(g),a.push(p)}return new c.a(n,a,o,f)}},function(P,S,i){"use strict";var t=i(102),c=t.selection.prototype.constructor;S.a=function(){return new c(this._groups,this._parents)}},function(P,S,i){"use strict";var t=i(435),c=i(102),s=i(58),v=i(421),o=i(456);function f(u,l){var h,p,d;return function(){var g=Object(c.style)(this,u),y=(this.style.removeProperty(u),Object(c.style)(this,u));return g===y?null:g===h&&y===p?d:d=l(h=g,p=y)}}function r(u){return function(){this.style.removeProperty(u)}}function e(u,l,h){var p,d=h+"",g;return function(){var y=Object(c.style)(this,u);return y===d?null:y===p?g:g=l(p=y,h)}}function n(u,l,h){var p,d,g;return function(){var y=Object(c.style)(this,u),x=h(this),A=x+"";return x==null&&(A=x=(this.style.removeProperty(u),Object(c.style)(this,u))),y===A?null:y===p&&A===d?g:(d=A,g=l(p=y,x))}}function a(u,l){var h,p,d,g="style."+l,y="end."+g,x;return function(){var A=Object(s.h)(this,u),m=A.on,M=A.value[g]==null?x||(x=r(l)):void 0;(m!==h||d!==M)&&(p=(h=m).copy()).on(y,d=M),A.on=p}}S.a=function(u,l,h){var p=(u+="")==="transform"?t.d:o.a;return l==null?this.styleTween(u,f(u,p)).on("end.style."+u,r(u)):typeof l=="function"?this.styleTween(u,n(u,p,Object(v.b)(this,"style."+u,l))).each(a(this._id,u)):this.styleTween(u,e(u,p,l),h).on("end.style."+u,null)}},function(P,S,i){"use strict";function t(s,v,o){return function(f){this.style.setProperty(s,v.call(this,f),o)}}function c(s,v,o){var f,r;function e(){var n=v.apply(this,arguments);return n!==r&&(f=(r=n)&&t(s,n,o)),f}return e._value=v,e}S.a=function(s,v,o){var f="style."+(s+="");if(arguments.length<2)return(f=this.tween(f))&&f._value;if(v==null)return this.tween(f,null);if(typeof v!="function")throw new Error;return this.tween(f,c(s,v,o==null?"":o))}},function(P,S,i){"use strict";var t=i(421);function c(v){return function(){this.textContent=v}}function s(v){return function(){var o=v(this);this.textContent=o==null?"":o}}S.a=function(v){return this.tween("text",typeof v=="function"?s(Object(t.b)(this,"text",v)):c(v==null?"":v+""))}},function(P,S,i){"use strict";function t(s){return function(v){this.textContent=s.call(this,v)}}function c(s){var v,o;function f(){var r=s.apply(this,arguments);return r!==o&&(v=(o=r)&&t(r)),v}return f._value=s,f}S.a=function(s){var v="text";if(arguments.length<1)return(v=this.tween(v))&&v._value;if(s==null)return this.tween(v,null);if(typeof s!="function")throw new Error;return this.tween(v,c(s))}},function(P,S,i){"use strict";var t=i(204),c=i(58);S.a=function(){for(var s=this._name,v=this._id,o=Object(t.c)(),f=this._groups,r=f.length,e=0;e<r;++e)for(var n=f[e],a=n.length,u,l=0;l<a;++l)if(u=n[l]){var h=Object(c.f)(u,v);Object(c.e)(u,s,o,l,n,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new t.a(f,this._parents,s,o)}},function(P,S,i){"use strict";var t=i(58);S.a=function(){var c,s,v=this,o=v._id,f=v.size();return new Promise(function(r,e){var n={value:e},a={value:function(){--f==0&&r()}};v.each(function(){var u=Object(t.h)(this,o),l=u.on;l!==c&&(s=(c=l).copy(),s._.cancel.push(n),s._.interrupt.push(n),s._.end.push(a)),u.on=s})})}},function(P,S,i){"use strict";var t=i(204),c=i(58),s=[null];S.a=function(v,o){var f=v.__transition,r,e;if(f){o=o==null?null:o+"";for(e in f)if((r=f[e]).state>c.c&&r.name===o)return new t.a([[v]],s,o,+e)}return null}},function(P,S,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=t.PathUtil;function f(n){var a=v.shape.venn,u=t.mix({},a,n.style);return s.addFillAttrs(u,n),u}function r(n){var a=v.shape.hollowVenn,u=t.mix({},a,n.style);return s.addStrokeAttrs(u,n),u}var e=c.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(a,u){var l=u.lineWidth||1;if(a==="hollow")return{lineWidth:l+1};var h=u.fillOpacity||u.opacity||1;return{fillOpacity:h-.08}},getSelectedCfg:function(a,u){return u&&u.style?u.style:this.getActiveCfg(a,u)}});c.registerShape("venn","venn",{draw:function(a,u){var l=a.origin._origin,h=l.path,p=f(a),d=o.parsePathString(h),g=u.addShape("path",{attrs:t.mix(p,{path:d})});return g},getMarkerCfg:function(a){return t.mix({symbol:"circle",radius:4},f(a))}}),c.registerShape("venn","hollow",{draw:function(a,u){var l=a.origin._origin,h=l.path,p=r(a),d=o.parsePathString(h),g=u.addShape("path",{attrs:t.mix(p,{path:d})});return g},getMarkerCfg:function(a){return t.mix({symbol:"circle",radius:4},f(a))}}),P.exports=e},function(P,S,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(23),o=i(0),f=i(415);i(546);var r=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.type="violin",h.shapeType="violin",h.generatePoints=!0,h};function u(l){var h;return h=n.call(this,l)||this,o.assign(t(h),f),h}return a.createShapePointsCfg=function(h){var p=this,d=n.prototype.createShapePointsCfg.call(this,h);d.size=p.getNormalizedSize(h);var g=p.get("_sizeField");return d._size=h._origin[g],d},a.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},a._initAttrs=function(){var h=this,p=h.get("attrOptions"),d=p.size?p.size.field:h.get("_sizeField")?h.get("_sizeField"):"size";h.set("_sizeField",d),delete p.size,n.prototype._initAttrs.call(this)},u}(v),e=function(n){c(a,n);function a(){return n.apply(this,arguments)||this}var u=a.prototype;return u.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return h.hasDefaultAdjust=!0,h.adjusts=[{type:"dodge"}],h},a}(r);r.Dodge=e,v.Violin=r,v.ViolinDodge=e,P.exports=r},function(P,S,i){var t=i(0),c=i(21),s=i(57),v=i(8),o=i(25);function f(l){var h=v.shape.venn,p=t.mix({},h,l.style);return s.addFillAttrs(p,l),l.color&&(p.stroke=p.stroke||l.color),p}function r(l){var h=v.shape.hollowVenn,p=t.mix({},h,l.style);return s.addStrokeAttrs(p,l),p}function e(l){for(var h=[],p=0;p<l.length;p++){var d=l[p];if(d){var g=p===0?"M":"L";h.push([g,d.x,d.y])}}var y=l[0];return y&&(h.push(["L",y.x,y.y]),h.push(["z"])),h}function n(l){for(var h=l.length/2,p=[],d=[],g=0;g<l.length;g++)g<h?p.push(l[g]):d.push(l[g]);var y=o.getSplinePath(p,!1),x=o.getSplinePath(d,!1);d.length&&y.push(["L",d[0].x,d[0].y]),x.shift();var A=y.concat(x);return p.length&&A.push(["L",p[0].x,p[0].y]),A.push(["z"]),A}function a(l){var h=Math.max.apply(null,l);return l.map(function(p){return p/h})}var u=c.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(h){var p=h.size/2,d=[],g=a(h._size);return t.each(h.y,function(y,x){var A=g[x]*p,m=x===0,M=x===h.y.length-1;d.push({isMin:m,isMax:M,x:h.x-A,y}),d.unshift({isMin:m,isMax:M,x:h.x+A,y})}),d},getActiveCfg:function(h,p){var d=p.lineWidth||1;if(h==="hollow")return{lineWidth:d+1};var g=p.fillOpacity||p.opacity||1;return{fillOpacity:g-.08}},getSelectedCfg:function(h,p){return p&&p.style?p.style:this.getActiveCfg(h,p)}});c.registerShape("violin","violin",{draw:function(h,p){var d=f(h),g=e(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},f(h))}}),c.registerShape("violin","smooth",{draw:function(h,p){var d=f(h),g=n(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},f(h))}}),c.registerShape("violin","hollow",{draw:function(h,p){var d=r(h),g=e(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},r(h))}}),c.registerShape("violin","smoothHollow",{draw:function(h,p){var d=r(h),g=n(h.points);g=this.parsePath(g);var y=p.addShape("path",{attrs:t.mix(d,{path:g})});return y},getMarkerCfg:function(h){return t.mix({symbol:"circle",radius:4},r(h))}}),P.exports=u},function(P,S,i){var t=i(0),c=i(163),s={};s.Rect=i(457),s.List=i(458),s.Circle=i(548),s.Tree=i(549),s.Mirror=i(550),s.Matrix=i(551),c.prototype.facet=function(v,o){var f=s[t.upperFirst(v)];if(!f)throw new Error("Not support such type of facets as: "+v);var r=this.get("facets");r&&r.destroy(),o.chart=this;var e=new f(o);this.set("facets",e)},P.exports=s},function(P,S,i){function t(f,r){f.prototype=Object.create(r.prototype),f.prototype.constructor=f,c(f,r)}function c(f,r){return c=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},c(f,r)}var s=i(422);function v(f,r,e){return{x:f.x+r*Math.cos(e),y:f.y+r*Math.sin(e)}}var o=function(f){t(r,f);function r(){return f.apply(this,arguments)||this}var e=r.prototype;return e.getDefaultCfg=function(){var a=f.prototype.getDefaultCfg.call(this);return a.type="circle",a},e.getRegion=function(a,u){var l=1/2,h=Math.PI*2/a,p=-1*Math.PI/2+h*u,d=l/(1+1/Math.sin(h/2)),g={x:.5,y:.5},y=v(g,l-d,p),x=Math.PI*5/4,A=Math.PI*1/4;return{start:v(y,d,x),end:v(y,d,A)}},e.generateFacets=function(a){var u=this,l=u.fields,h=l[0];if(!h)throw"Please specify for the field for facet!";var p=u.getFieldValues(h,a),d=p.length,g=[];return p.forEach(function(y,x){var A=[{field:h,value:y,values:p}],m=u.getFilter(A),M=a.filter(m),b={type:u.type,colValue:y,colField:h,colIndex:x,cols:d,rows:1,rowIndex:0,data:M,region:u.getRegion(d,x)};g.push(b)}),g},r}(s);P.exports=o},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(422),v=i(0),o=v.assign,f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return u.type="tree",u.line={lineWidth:1,stroke:"#ddd"},u.lineSmooth=!1,u},n.generateFacets=function(u){var l=this,h=l.fields;if(!h.length)throw"Please specify for the fields for facet!";var p=[],d=l.getRootFacet(u);return p.push(d),d.children=l.getChildFacets(u,1,p),l.setRegion(p),p},n.getRootFacet=function(u){var l=this,h={type:l.type,rows:l.getRows(),rowIndex:0,colIndex:0,colValue:l.rootTitle,data:u};return h},n.getRows=function(){return this.fields.length+1},n.getChildFacets=function(u,l,h){var p=this,d=p.fields,g=d.length;if(!(g<l)){var y=[],x=d[l-1],A=p.getFieldValues(x,u);return A.forEach(function(m,M){var b=[{field:x,value:m,values:A}],E=p.getFilter(b),C=u.filter(E);if(C.length){var T={type:p.type,colValue:m,colField:x,colIndex:M,rows:p.getRows(),rowIndex:l,data:C,children:p.getChildFacets(C,l+1,h)};y.push(T),h.push(T)}}),y}},n.setRegion=function(u){var l=this;l.forceColIndex(u),u.forEach(function(h){h.region=l.getRegion(h.rows,h.cols,h.colIndex,h.rowIndex)})},n.forceColIndex=function(u){var l=this,h=[],p=0;u.forEach(function(m){l.isLeaf(m)&&(h.push(m),m.colIndex=p,p++)}),h.forEach(function(m){m.cols=h.length});for(var d=l.fields.length,g=d-1;g>=0;g--)for(var y=l.getFacetsByLevel(u,g),x=0;x<y.length;x++){var A=y[x];l.isLeaf(A)||(A.originColIndex=A.colIndex,A.colIndex=l.getRegionIndex(A.children),A.cols=h.length)}},n.getFacetsByLevel=function(u,l){var h=[];return u.forEach(function(p){p.rowIndex===l&&h.push(p)}),h},n.getRegion=function(u,l,h,p){var d=1/l,g=1/u,y={x:d*h,y:g*p},x={x:y.x+d,y:y.y+g*2/3};return{start:y,end:x}},n.getRegionIndex=function(u){var l=u[0],h=u[u.length-1];return(h.colIndex-l.colIndex)/2+l.colIndex},n.isLeaf=function(u){return!u.children||!u.children.length},n.setXAxis=function(u,l,h){h.rowIndex!==h.rows-1&&(l[u].label=null,l[u].title=null)},n.setYAxis=function(u,l,h){h.originColIndex!==0&&h.colIndex!==0&&(l[u].title=null,l[u].label=null)},n.onPaint=function(){r.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},n.drawLines=function(u,l){var h=this,p=l.addGroup();u.forEach(function(d){if(!h.isLeaf(d)){var g=d.children;h._addFacetLines(d,g,p)}})},n._addFacetLines=function(u,l,h){var p=this,d=u.view,g=d.getViewRegion(),y={x:g.start.x+(g.end.x-g.start.x)/2,y:g.start.y};l.forEach(function(x){var A=x.view.getViewRegion(),m={x:A.start.x+(A.end.x-A.start.x)/2,y:A.end.y},M={x:y.x,y:y.y+(m.y-y.y)/2},b={x:m.x,y:M.y};p._drawLine([y,M,b,m],h)})},n._getPath=function(u){var l=this,h=[],p=l.lineSmooth;return p?(h.push(["M",u[0].x,u[0].y]),h.push(["C",u[1].x,u[1].y,u[2].x,u[2].y,u[3].x,u[3].y])):u.forEach(function(d,g){g===0?h.push(["M",d.x,d.y]):h.push(["L",d.x,d.y])}),h},n._drawLine=function(u,l){var h=this,p=h._getPath(u),d=h.line;l.addShape("path",{attrs:o({path:p},d)})},e}(s);P.exports=f},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(458),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="mirror",this.transpose=!1,n},r.init=function(){var n=this;n.transpose?(n.cols=2,n.rows=1):(n.cols=1,n.rows=2),o.prototype.init.call(this)},r.beforeProcessView=function(n,a){this.transpose?a.colIndex%2==0?n.coord().transpose().scale(-1,1):n.coord().transpose():a.rowIndex%2!=0&&n.coord().scale(1,-1)},r.renderTitle=function(n,a){this.transpose?this.drawColTitle(n,a):this.drawRowTitle(n,a)},r.setXAxis=function(n,a,u){(u.colIndex===1||u.rowIndex===1)&&(a[n].label=null,a[n].title=null)},r.setYAxis=function(){},f}(s);P.exports=v},function(P,S,i){function t(o,f){o.prototype=Object.create(f.prototype),o.prototype.constructor=o,c(o,f)}function c(o,f){return c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},c(o,f)}var s=i(457),v=function(o){t(f,o);function f(){return o.apply(this,arguments)||this}var r=f.prototype;return r.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.type="matrix",n.showTitle=!1,n},r.generateFacets=function(n){for(var a=this,u=a.fields,l=u.length,h=l,p=[],d=0;d<h;d++)for(var g=u[d],y=0;y<l;y++){var x=u[y],A={type:a.type,colValue:g,rowValue:x,colField:g,rowField:x,colIndex:d,rowIndex:y,cols:h,rows:l,data:n,region:a.getRegion(l,h,d,y)};p.push(A)}return p},r.setXAxis=function(n,a,u){u.rowIndex!==u.rows-1&&(a[n].title=null,a[n].label=null)},r.setYAxis=function(n,a,u){u.colIndex!==0&&(a[n].title=null,a[n].label=null)},f}(s);P.exports=v},function(P,S,i){var t=i(206),c=i(163),s=i(0),v={Base:i(205),Brush:i(553),Drag:i(554),ScrollBar:i(556),ShapeSelect:i(558),Slider:i(559),Zoom:i(561)};t._Interactions={},t.registerInteraction=function(o,f){t._Interactions[o]=f},t.getInteraction=function(o){return t._Interactions[o]},c.prototype.getInteractions=function(){var o=this;return o._interactions||(o._interactions={}),o._interactions},c.prototype._setInteraction=function(o,f){var r=this,e=r.getInteractions();e[o]&&e[o]!==f&&e[o].destroy(),e[o]=f},c.prototype.clearInteraction=function(o){var f=this,r=f.getInteractions();o?(r[o]&&(r[o]._reset(),r[o].destroy()),delete r[o]):s.each(r,function(e,n){e._reset(),e.destroy(),delete r[n]})},c.prototype.interact=c.prototype.interaction=function(o,f){var r=this,e=t.getInteraction(o),n=new e(f,r);return r._setInteraction(o,n),r},t.registerInteraction("brush",v.Brush),t.registerInteraction("Brush",v.Brush),t.registerInteraction("drag",v.Drag),t.registerInteraction("Drag",v.Drag),t.registerInteraction("zoom",v.Zoom),t.registerInteraction("Zoom",v.Zoom),t.registerInteraction("scroll-bar",v.ScrollBar),t.registerInteraction("ScrollBar",v.ScrollBar),t.registerInteraction("shape-select",v.ShapeSelect),t.registerInteraction("ShapeSelect",v.ShapeSelect),t.registerInteraction("slider",v.Slider),t.registerInteraction("Slider",v.Slider),P.exports=v},function(P,S,i){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,s(n,a)}function s(n,a){return s=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},s(n,a)}var v=i(0),o=i(205),f=["X","Y","XY","POLYGON"],r="XY",e=function(n){c(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return v.mix({},h,{type:r,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})};function u(l,h){var p;p=n.call(this,l,h)||this;var d=t(p);d.filter=!d.draggable,d.type=d.type.toUpperCase(),d.chart=h,f.includes(d.type)||(d.type=r);var g=d.canvas;if(g){var y;g.get("children").map(function(M){return M.get("type")==="plotBack"?(y=M.get("plotRange"),!1):M}),d.plot={start:y.bl,end:y.tr}}if(h){var x=h.get("coord");d.plot={start:x.start,end:x.end},h.on("afterrender",function(){d.plot={start:x.start,end:x.end}}),d.isTransposed=x.isTransposed;var A=h._getScales("x"),m=h._getScales("y");d.xScale=d.xField?A[d.xField]:h.getXScale(),d.yScale=d.yField?m[d.yField]:h.getYScales()[0]}return p}return a.start=function(h){var p=this,d=p.canvas,g=p.type,y=p.brushShape;if(!!g){p.brushing&&p.end(h);var x={x:h.offsetX,y:h.offsetY};if(!!x.x){var A=p.plot&&p.inPlot,m=d.get("canvasDOM"),M=d.get("pixelRatio");if(p.selection&&(p.selection=null),p.draggable&&y&&!y.get("destroyed")){if(y.isHit(x.x*M,x.y*M)){if(m.style.cursor="move",p.selection=y,p.dragging=!0,g==="X")p.dragoffX=x.x-y.attr("x"),p.dragoffY=0;else if(g==="Y")p.dragoffX=0,p.dragoffY=x.y-y.attr("y");else if(g==="XY")p.dragoffX=x.x-y.attr("x"),p.dragoffY=x.y-y.attr("y");else if(g==="POLYGON"){var b=y.getBBox();p.dragoffX=x.x-b.minX,p.dragoffY=x.y-b.minY}p.onDragstart&&p.onDragstart(h)}p.prePoint=x}if(!p.dragging){p.onBrushstart&&p.onBrushstart(x);var E=p.container;if(A){var C=p.plot,T=C.start,O=C.end;if(x.x<T.x||x.x>O.x||x.y<O.y||x.y>T.y)return}m.style.cursor="crosshair",p.startPoint=x,p.brushShape=null,p.brushing=!0,E?E.clear():(E=d.addGroup({zIndex:5}),E.initTransform()),p.container=E,g==="POLYGON"&&(p.polygonPath="M "+x.x+" "+x.y)}}}},a.process=function(h){var p=this,d=p.brushing,g=p.dragging,y=p.type,x=p.plot,A=p.startPoint,m=p.xScale,M=p.yScale,b=p.canvas;if(!(!d&&!g)){var E={x:h.offsetX,y:h.offsetY},C=b.get("canvasDOM");if(d){C.style.cursor="crosshair";var T=x.start,O=x.end,L=p.polygonPath,R=p.brushShape,W=p.container;p.plot&&p.inPlot&&(E=p._limitCoordScope(E));var U,X,Z,J;y==="Y"?(U=T.x,X=E.y>=A.y?A.y:E.y,Z=Math.abs(T.x-O.x),J=Math.abs(A.y-E.y)):y==="X"?(U=E.x>=A.x?A.x:E.x,X=O.y,Z=Math.abs(A.x-E.x),J=Math.abs(O.y-T.y)):y==="XY"?(E.x>=A.x?(U=A.x,X=E.y>=A.y?A.y:E.y):(U=E.x,X=E.y>=A.y?A.y:E.y),Z=Math.abs(A.x-E.x),J=Math.abs(A.y-E.y)):y==="POLYGON"&&(L+="L "+E.x+" "+E.y,p.polygonPath=L,R?!R.get("destroyed")&&R.attr(v.mix({},R._attrs,{path:L})):R=W.addShape("path",{attrs:v.mix(p.style,{path:L})})),y!=="POLYGON"&&(R?!R.get("destroyed")&&R.attr(v.mix({},R._attrs,{x:U,y:X,width:Z,height:J})):R=W.addShape("rect",{attrs:v.mix(p.style,{x:U,y:X,width:Z,height:J})})),p.brushShape=R}else if(g){C.style.cursor="move";var ht=p.selection;if(ht&&!ht.get("destroyed"))if(y==="POLYGON"){var at=p.prePoint;p.selection.translate(E.x-at.x,E.y-at.y)}else p.dragoffX&&ht.attr("x",E.x-p.dragoffX),p.dragoffY&&ht.attr("y",E.y-p.dragoffY)}p.prePoint=E,b.draw();var Q=p._getSelected(),xt=Q.data,kt=Q.shapes,Nt=Q.xValues,nt=Q.yValues,q={data:xt,shapes:kt};m&&(q[m.field]=Nt),M&&(q[M.field]=nt),v.mix(h,q),q.x=E.x,q.y=E.y,p.onDragmove&&p.onDragmove(q),p.onBrushmove&&p.onBrushmove(q)}},a.end=function(h){var p=this;if(!(!p.brushing&&!p.dragging)){var d=p.data,g=p.shapes,y=p.xValues,x=p.yValues,A=p.canvas,m=p.type,M=p.startPoint,b=p.chart,E=p.container,C=p.xScale,T=p.yScale,O=h.offsetX,L=h.offsetY,R=A.get("canvasDOM");if(R.style.cursor="default",M!==null){if(Math.abs(M.x-O)<=1&&Math.abs(M.y-L)<=1){p.brushing=!1,p.dragging=!1,E.clear(),A.draw();return}var W={data:d,shapes:g};if(C&&(W[C.field]=y),T&&(W[T.field]=x),v.mix(h,W),W.x=O,W.y=L,p.dragging)p.dragging=!1,p.onDragend&&p.onDragend(W);else if(p.brushing){p.brushing=!1;var U=p.brushShape,X=p.polygonPath;m==="POLYGON"&&(X+="z",U&&!U.get("destroyed")&&U.attr(v.mix({},U._attrs,{path:X})),p.polygonPath=X,A.draw()),p.onBrushend?p.onBrushend(W):b&&p.filter&&(E.clear(),!p.isTransposed&&m==="X"||p.isTransposed&&m==="Y"?C&&b.filter(C.field,function(Z){return y.indexOf(Z)>-1}):!p.isTransposed&&m==="Y"||p.isTransposed&&m==="X"?T&&b.filter(T.field,function(Z){return x.indexOf(Z)>-1}):(C&&b.filter(C.field,function(Z){return y.indexOf(Z)>-1}),T&&b.filter(T.field,function(Z){return x.indexOf(Z)>-1})),b.repaint())}}}},a.reset=function(){var h=this,p=h.chart,d=h.filter,g=h.brushShape,y=h.canvas;this._init(),p&&d&&(p.get("options").filters={},p.repaint()),g&&(g.destroy(),y.draw())},a._limitCoordScope=function(h){var p=this.plot,d=p.start,g=p.end;return h.x<d.x&&(h.x=d.x),h.x>g.x&&(h.x=g.x),h.y<g.y&&(h.y=g.y),h.y>d.y&&(h.y=d.y),h},a._getSelected=function(){var h=this,p=h.chart,d=h.xScale,g=h.yScale,y=h.brushShape,x=h.canvas,A=x.get("pixelRatio"),m=[],M=[],b=[],E=[];if(p){var C=p.get("geoms");C.map(function(T){var O=T.getShapes();return O.map(function(L){var R=L.get("origin");return Array.isArray(R)||(R=[R]),R.map(function(W){if(y.isHit(W.x*A,W.y*A)){m.push(L);var U=W._origin;E.push(U),d&&M.push(U[d.field]),g&&b.push(U[g.field])}return W}),L}),T})}return h.shapes=m,h.xValues=M,h.yValues=b,h.data=E,x.draw(),{data:E,xValues:M,yValues:b,shapes:m}},u}(o);P.exports=e},function(P,S,i){function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function c(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,s(h,p)}function s(h,p){return s=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g},s(h,p)}var v=i(0),o=i(205),f=i(555),r=i(440),e=i(441),n=864e5,a=["X","Y","XY"],u="X",l=function(h){c(d,h);var p=d.prototype;p.getDefaultCfg=function(){var y=h.prototype.getDefaultCfg.call(this);return v.mix({},y,{type:u,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},p._disableTooltip=function(){var y=this,x=y.chart,A=x.get("tooltipController");A&&(y._showTooltip=!0,x.tooltip(!1))},p._enableTooltip=function(y){var x=this,A=x.chart;x._showTooltip&&(A.tooltip(!0),A.showTooltip(y))};function d(g,y){var x;x=h.call(this,g,y)||this;var A=t(x);A.type=A.type.toUpperCase(),A.chart=y,A.coord=y.get("coord");var m=A.data=y.get("data");f(y);var M=y.getYScales(),b=y.getXScale();M.push(b);var E=y.get("scaleController");return M.forEach(function(C){var T=C.field;A.limitRange[T]=e(m,C);var O=E.defs[T]||{};A.originScaleDefsByField[T]=v.mix(O,{nice:!!O.nice}),C.isLinear&&(A.stepByField[T]=(C.max-C.min)*A.stepRatio)}),a.includes(A.type)||(A.type=u),A._disableTooltip(),x}return p._applyTranslate=function(y,x,A){x===void 0&&(x=0);var m=this;y.isLinear?m._translateLinearScale(y,x,A):m._translateCatScale(y,x,A)},p._translateCatScale=function(y,x,A){var m=this,M=m.chart,b=y.type,E=y.field,C=y.values,T=y.ticks,O=r(M,E),L=m.limitRange[E],R=x/A,W=C.length,U=Math.max(1,Math.abs(parseInt(R*W))),X=L.indexOf(C[0]),Z=L.indexOf(C[W-1]);if(x>0&&X>=0){for(var J=0;J<U&&X>0;J++)X-=1,Z-=1;var ht=L.slice(X,Z+1),at=null;if(b==="timeCat"){for(var Q=T.length>2?T[1]-T[0]:n,xt=T[0]-Q;xt>=ht[0];xt-=Q)T.unshift(xt);at=T}M.scale(E,v.mix({},O,{values:ht,ticks:at}))}else if(x<0&&Z<=L.length-1){for(var kt=0;kt<U&&Z<L.length-1;kt++)X+=1,Z+=1;var Nt=L.slice(X,Z+1),nt=null;if(b==="timeCat"){for(var q=T.length>2?T[1]-T[0]:n,G=T[T.length-1]+q;G<=Nt[Nt.length-1];G+=q)T.push(G);nt=T}M.scale(E,v.mix({},O,{values:Nt,ticks:nt}))}},p._translateLinearScale=function(y,x,A){var m=this,M=m.chart,b=m.limitRange,E=y.min,C=y.max,T=y.field;if(!(E===b[T].min&&C===b[T].max)){var O=x/A,L=C-E,R=r(M,T);M.scale(T,v.mix({},R,{nice:!1,min:E+O*L,max:C+O*L}))}},p.start=function(y){var x=this,A=x.canvas,m=A.get("canvasDOM");m.style.cursor="pointer",x.isDragging=!0,x.previousPoint={x:y.x,y:y.y},x._disableTooltip()},p.process=function(y){var x=this;if(x.isDragging){var A=x.chart,m=x.type,M=x.canvas,b=x.coord,E=x.threshold,C=M.get("canvasDOM");C.style.cursor="move";var T=x.previousPoint,O=y,L=O.x-T.x,R=O.y-T.y,W=!1;if(Math.abs(L)>E&&m.indexOf("X")>-1){W=!0;var U=A.getXScale();x._applyTranslate(U,U.isLinear?-L:L,b.width)}if(Math.abs(R)>E&&m.indexOf("Y")>-1){W=!0;var X=A.getYScales();X.forEach(function(Z){x._applyTranslate(Z,O.y-T.y,b.height)})}W&&(x.previousPoint=O,A.repaint())}},p.end=function(y){var x=this;x.isDragging=!1;var A=x.canvas,m=A.get("canvasDOM");m.style.cursor="default",x._enableTooltip(y)},p.reset=function(){var y=this,x=y.view,A=y.originScaleDefsByField,m=x.getYScales(),M=x.getXScale();m.push(M),m.forEach(function(b){if(b.isLinear){var E=b.field;x.scale(E,A[E])}}),x.repaint(),y._disableTooltip()},d}(o);P.exports=l},function(P,S,i){var t=i(0),c=i(100),s=i(439);P.exports=function(v){v.on("beforeinitgeoms",function(){v.set("limitInPlot",!0);var o=v.get("data"),f=s(v);if(!f)return o;var r=v.get("geoms"),e=!1;t.each(r,function(u){if(["area","line","path"].includes(u.get("type")))return e=!0,!1});var n=[];if(t.each(f,function(u,l){!e&&u&&(u.values||u.min||u.max)&&n.push(l)}),n.length===0)return o;var a=[];t.each(o,function(u){var l=!0;t.each(n,function(h){var p=u[h];if(p){var d=f[h];if(d.type==="timeCat"){var g=d.values;t.isNumber(g[0])&&(p=c.toTimeStamp(p))}(d.values&&!d.values.includes(p)||d.min&&p<d.min||d.max&&p>d.max)&&(l=!1)}}),l&&a.push(u)}),v.set("filteredData",a)})}},function(P,S,i){function t(n,a){n.prototype=Object.create(a.prototype),n.prototype.constructor=n,c(n,a)}function c(n,a){return c=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},c(n,a)}var s=i(0),v=i(205),o=i(557),f=i(441),r="X",e=function(n){t(u,n);var a=u.prototype;a.getDefaultCfg=function(){var h=n.prototype.getDefaultCfg.call(this);return s.mix({},h,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:r,xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},a._renderScrollBars=function(){var h=this.chart,p=h.get("_scrollBarCfg");if(!!p){var d=h.get("data"),g=h.get("plotRange");g.width=Math.abs(g.br.x-g.bl.x),g.height=Math.abs(g.tl.y-g.bl.y);var y=h.get("backPlot"),x=h.get("canvas"),A=x.get("height"),m=h.get("_limitRange"),M=p.type;if(M.indexOf("X")>-1){var b=p.xStyle,E=b.offsetX,C=b.offsetY,T=b.lineCap,O=b.backgroundColor,L=b.fillerColor,R=b.size,W=h.getXScale(),U=m[W.field];U||(U=f(d,W),m[W.field]=U);var X=o(W,U,W.type),Z=h.get("_horizontalBar"),J=A-R/2+C;if(Z){var ht=Z.get("children")[1];ht.attr({x1:Math.max(g.bl.x+g.width*X[0]+E,g.bl.x),x2:Math.min(g.bl.x+g.width*X[1]+E,g.br.x)})}else Z=y.addGroup({className:"horizontalBar"}),Z.addShape("line",{attrs:{x1:g.bl.x+E,y1:J,x2:g.br.x+E,y2:J,lineWidth:R,stroke:O,lineCap:T}}),Z.addShape("line",{attrs:{x1:Math.max(g.bl.x+g.width*X[0]+E,g.bl.x),y1:J,x2:Math.min(g.bl.x+g.width*X[1]+E,g.br.x),y2:J,lineWidth:R,stroke:L,lineCap:T}}),h.set("_horizontalBar",Z)}if(M.indexOf("Y")>-1){var at=p.yStyle,Q=at.offsetX,xt=at.offsetY,kt=at.lineCap,Nt=at.backgroundColor,nt=at.fillerColor,q=at.size,G=h.getYScales()[0],N=m[G.field];N||(N=f(d,G),m[G.field]=N);var it=o(G,N,G.type),H=h.get("_verticalBar"),ct=q/2+Q;if(H){var ft=H.get("children")[1];ft.attr({y1:Math.max(g.tl.y+g.height*it[0]+xt,g.tl.y),y2:Math.min(g.tl.y+g.height*it[1]+xt,g.bl.y)})}else H=y.addGroup({className:"verticalBar"}),H.addShape("line",{attrs:{x1:ct,y1:g.tl.y+xt,x2:ct,y2:g.bl.y+xt,lineWidth:q,stroke:Nt,lineCap:kt}}),H.addShape("line",{attrs:{x1:ct,y1:Math.max(g.tl.y+g.height*it[0]+xt,g.tl.y),x2:ct,y2:Math.min(g.tl.y+g.height*it[1]+xt,g.bl.y),lineWidth:q,stroke:nt,lineCap:kt}}),h.set("_verticalBar",H)}}};function u(l,h){var p;p=n.call(this,l,h)||this;var d=p.getDefaultCfg();return h.set("_scrollBarCfg",s.deepMix({},d,l)),h.set("_limitRange",{}),!h.get("_horizontalBar")&&!h.get("_verticalBar")&&p._renderScrollBars(),p}return a._clear=function(){var h=this.chart;if(h){var p=h.get("_horizontalBar"),d=h.get("_verticalBar");p&&p.remove(!0),d&&d.remove(!0),h.set("_horizontalBar",null),h.set("_verticalBar",null)}},a._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var h=this.chart;h.on("afterclear",this._onAfterclearOrBeforechangedata),h.on("beforechangedata",this._onAfterclearOrBeforechangedata),h.on("afterclearinner",this._onAfterclearinner),h.on("afterdrawgeoms",this._onAfterdrawgeoms)},a._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},a._onAfterclearinner=function(){this._clear()},a._onAfterdrawgeoms=function(){this._renderScrollBars()},a._clearEvents=function(){var h=this.chart;h&&(h.off("afterclear",this._onAfterclearOrBeforechangedata),h.off("beforechangedata",this._onAfterclearOrBeforechangedata),h.off("afterclearinner",this._onAfterclearinner),h.off("afterdrawgeoms",this._onAfterdrawgeoms))},a.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},u}(v);P.exports=e},function(P,S){P.exports=function(i,t,c){if(!i)return[0,1];var s=0,v=0;if(c==="linear"){var o=t.min,f=t.max,r=f-o;s=(i.min-o)/r,v=(i.max-o)/r}else{var e=t,n=i.values,a=e.indexOf(n[0]),u=e.indexOf(n[n.length-1]);s=a/(e.length-1),v=u/(e.length-1)}return[s,v]}},function(P,S,i){function t(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e)}function c(r,e){return c=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},c(r,e)}var s=i(0),v=i(205);function o(r,e){var n={};for(var a in e)n[a]=r[a];return n}var f=function(r){t(e,r);function e(){return r.apply(this,arguments)||this}var n=e.prototype;return n.getDefaultCfg=function(){var u=r.prototype.getDefaultCfg.call(this);return s.mix({},u,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},n.start=function(u){var l=this,h=l.view,p,d=[];if(h.eachShape(function(A,m){m.isPointInPath(u.x,u.y)?p=m:d.push(m)}),!p){l.reset();return}if(p.get("_selected")){if(!l.cancelable)return;l.reset()}else{var g=l.selectStyle,y=l.unSelectStyle,x=o(p.attr(),p);p.set("_originAttrs",x),p.attr(g),s.each(d,function(A){var m=A.get("_originAttrs");m&&A.attr(m),A.set("_selected",!1),y&&(m=o(A.attr(),y),A.set("_originAttrs",m),A.attr(y))}),p.set("_selected",!0),l.selectedShape=p,l.canvas.draw()}},n.end=function(u){var l=this.selectedShape;l&&!l.get("destroyed")&&l.get("origin")&&(u.data=l.get("origin")._origin,u.shapeInfo=l.get("origin"),u.shape=l,u.selected=!!l.get("_selected"))},n.reset=function(){var u=this;if(!!u.selectedShape){var l=u.view,h=l.get("geoms")[0],p=h.get("container").get("children")[0],d=p.get("children");s.each(d,function(g){var y=g.get("_originAttrs");y&&(g._attrs=y,g.set("_originAttrs",null)),g.set("_selected",!1)}),u.canvas.draw()}},e}(v);P.exports=f},function(P,S,i){function t(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function c(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,s(g,y)}function s(g,y){return s=Object.setPrototypeOf||function(A,m){return A.__proto__=m,A},s(g,y)}var v=i(560),o=i(163),f=i(0),r=i(18),e=i(8),n=i(205),a=i(440),u=i(439),l=r.Canvas,h=f.DomUtil,p=f.isNumber,d=function(g){c(x,g);var y=x.prototype;y.getDefaultCfg=function(){var m=g.prototype.getDefaultCfg.call(this);return f.mix({},m,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:e.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},y._initContainer=function(){var m=this,M=m.container;if(!M)throw new Error("Please specify the container for the Slider!");f.isString(M)?m.domContainer=document.getElementById(M):m.domContainer=M},y.forceFit=function(){var m=this;if(!(!m||m.destroyed)){var M=h.getWidth(m.domContainer),b=m.height;if(M!==m.domWidth){var E=m.canvas;E.changeSize(M,b),m.bgChart&&m.bgChart.changeWidth(M),E.clear(),m._initWidth(),m._initSlider(),m._bindEvent(),E.draw()}}},y._initForceFitEvent=function(){var m=this,M=setTimeout(f.wrapBehavior(m,"forceFit"),200);clearTimeout(m.resizeTimer),m.resizeTimer=M},y._initStyle=function(){var m=this;m.handleStyle=f.mix({width:m.height,height:m.height},m.handleStyle),m.width==="auto"&&window.addEventListener("resize",f.wrapBehavior(m,"_initForceFitEvent"))},y._initWidth=function(){var m=this,M;m.width==="auto"?M=h.getWidth(m.domContainer):M=m.width,m.domWidth=M;var b=f.toAllPadding(m.padding);m.layout==="horizontal"?(m.plotWidth=M-b[1]-b[3],m.plotPadding=b[3],m.plotHeight=m.height):m.layout==="vertical"&&(m.plotWidth=m.width,m.plotHeight=m.height-b[0]-b[2],m.plotPadding=b[0])},y._initCanvas=function(){var m=this,M=m.domWidth,b=m.height,E=new l({width:M,height:b,containerDOM:m.domContainer,capture:!1}),C=E.get("el");C.style.position="absolute",C.style.top=0,C.style.left=0,C.style.zIndex=3,m.canvas=E},y._initBackground=function(){var m,M=this,b=this.chart,E=b.getAllGeoms[0],C=M.data=M.data||b.get("data"),T=b.getXScale(),O=M.xAxis||T.field,L=M.yAxis||b.getYScales()[0].field,R=f.deepMix((m={},m[""+O]={range:[0,1]},m),u(b),M.scales);if(delete R[O].min,delete R[O].max,!C)throw new Error("Please specify the data!");if(!O)throw new Error("Please specify the xAxis!");if(!L)throw new Error("Please specify the yAxis!");var W=M.backgroundChart,U=W.type||E.get("type"),X=W.color||"grey",Z=W.shape;f.isArray(U)||(U=[U]);var J=f.toAllPadding(M.padding),ht=new o({container:M.container,width:M.domWidth,height:M.height,padding:[0,J[1],0,J[3]],animate:!1});ht.source(C),ht.scale(R),ht.axis(!1),ht.tooltip(!1),ht.legend(!1),f.each(U,function(at,Q){var xt=ht[at]().position(O+"*"+L).opacity(1),kt=f.isArray(X)?X[Q]:X;kt&&(f.isObject(kt)?kt.field&&xt.color(kt.field,kt.colors):xt.color(kt));var Nt=f.isArray(Z)?Z[Q]:Z;Nt&&(f.isObject(Nt)?Nt.field&&xt.shape(Nt.field,Nt.callback||Nt.shapes):xt.shape(Nt))}),ht.render(),M.bgChart=ht,M.scale=M.layout==="horizontal"?ht.getXScale():ht.getYScales()[0],M.layout==="vertical"&&ht.destroy()},y._initRange=function(){var m=this,M=m.startRadio,b=m.endRadio,E=m._startValue,C=m._endValue,T=m.scale,O=0,L=1;p(M)?O=M:E&&(O=T.scale(T.translate(E))),p(b)?L=b:C&&(L=T.scale(T.translate(C)));var R=m.minSpan,W=m.maxSpan,U=0;if(T.type==="time"||T.type==="timeCat"){var X=T.values,Z=X[0],J=X[X.length-1];U=J-Z}else T.isLinear&&(U=T.max-T.min);U&&R&&(m.minRange=R/U*100),U&&W&&(m.maxRange=W/U*100);var ht=[O*100,L*100];return m.range=ht,ht},y._getHandleValue=function(m){var M=this,b,E=M.range,C=E[0]/100,T=E[1]/100,O=M.scale;return m==="min"?b=M._startValue?M._startValue:O.invert(C):b=M._endValue?M._endValue:O.invert(T),b},y._initSlider=function(){var m=this,M=m.canvas,b=m._initRange(),E=m.scale,C=M.addGroup(v,{middleAttr:m.fillerStyle,range:b,minRange:m.minRange,maxRange:m.maxRange,layout:m.layout,width:m.plotWidth,height:m.plotHeight,backgroundStyle:m.backgroundStyle,textStyle:m.textStyle,handleStyle:m.handleStyle,minText:E.getText(m._getHandleValue("min")),maxText:E.getText(m._getHandleValue("max"))});m.layout==="horizontal"?C.translate(m.plotPadding,0):m.layout==="vertical"&&C.translate(0,m.plotPadding),m.rangeElement=C},y._updateElement=function(m,M){var b=this,E=b.chart,C=b.scale,T=b.rangeElement,O=C.field,L=T.get("minTextElement"),R=T.get("maxTextElement"),W=C.invert(m),U=C.invert(M),X=C.getText(W),Z=C.getText(U);L.attr("text",X),R.attr("text",Z),b._startValue=X,b._endValue=Z,b.onChange&&b.onChange({startText:X,endText:Z,startValue:W,endValue:U,startRadio:m,endRadio:M}),E.scale(O,f.mix({},a(E,O),{nice:!1,min:W,max:U})),E.repaint()},y._bindEvent=function(){var m=this,M=m.rangeElement;M.on("sliderchange",function(b){var E=b.range,C=E[0]/100,T=E[1]/100;m._updateElement(C,T)})};function x(A,m){var M;M=g.call(this,A,m)||this;var b=t(M);return b._initContainer(),b._initStyle(),b.render(),M}return y.clear=function(){var m=this;m.canvas.clear(),m.bgChart&&m.bgChart.destroy(),m.bgChart=null,m.scale=null,m.canvas.draw()},y.repaint=function(){var m=this;m.clear(),m.render()},y.render=function(){var m=this;m._initWidth(),m._initCanvas(),m._initBackground(),m._initSlider(),m._bindEvent(),m.canvas.draw()},y.destroy=function(){var m=this;clearTimeout(m.resizeTimer);var M=m.rangeElement;M.off("sliderchange"),m.bgChart&&m.bgChart.destroy(),m.canvas.destroy();for(var b=m.domContainer;b.hasChildNodes();)b.removeChild(b.firstChild);window.removeEventListener("resize",f.getWrapBehavior(m,"_initForceFitEvent")),m.destroyed=!0},x}(n);P.exports=d},function(P,S,i){var t=i(0),c=i(18),s=c.Group,v=t.DomUtil,o=5,f=function r(e){r.superclass.constructor.call(this,e)};t.extend(f,s),t.augment(f,{getDefaultCfg:function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function(e){var n=this,a=n.addGroup(),u=n.get("layout"),l=n.get("handleStyle"),h=l.img,p=l.width,d=l.height,g,y,x;if(u==="horizontal"){var A=l.width;x="ew-resize",y=a.addShape("Image",{attrs:{x:-A/2,y:0,width:A,height:d,img:h,cursor:x}}),g=a.addShape("Text",{attrs:t.mix({x:e==="min"?-(A/2+o):A/2+o,y:d/2,textAlign:e==="min"?"end":"start",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:x},this.get("textStyle"))})}else x="ns-resize",y=a.addShape("Image",{attrs:{x:0,y:-d/2,width:p,height:d,img:h,cursor:x}}),g=a.addShape("Text",{attrs:t.mix({x:p/2,y:e==="min"?d/2+o:-(d/2+o),textAlign:"center",textBaseline:"middle",text:e==="min"?this.get("minText"):this.get("maxText"),cursor:x},this.get("textStyle"))});return this.set(e+"TextElement",g),this.set(e+"IconElement",y),a},_initSliderBackground:function(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:t.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},_beforeRenderUI:function(){var e=this._initSliderBackground(),n=this._initHandle("min"),a=this._initHandle("max"),u=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",u),this.set("minHandleElement",n),this.set("maxHandleElement",a),this.set("backgroundElement",e),e.set("zIndex",0),u.set("zIndex",1),n.set("zIndex",2),a.set("zIndex",2),u.attr("cursor","move"),this.sort()},_renderUI:function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},_transform:function(e){var n=this.get("range"),a=n[0]/100,u=n[1]/100,l=this.get("width"),h=this.get("height"),p=this.get("minHandleElement"),d=this.get("maxHandleElement"),g=this.get("middleHandleElement");p.resetMatrix?(p.resetMatrix(),d.resetMatrix()):(p.initTransform(),d.initTransform()),e==="horizontal"?(g.attr({x:l*a,y:0,width:(u-a)*l,height:h}),p.translate(a*l,0),d.translate(u*l,0)):(g.attr({x:0,y:h*(1-u),width:l,height:(u-a)*h}),p.translate(0,(1-a)*h),d.translate(0,(1-u)*h))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",t.wrapBehavior(this,"_onMouseDown"))},_isElement:function(e,n){var a=this.get(n);if(e===a)return!0;if(a.isGroup){var u=a.get("children");return u.indexOf(e)>-1}return!1},_getRange:function(e,n){var a=e+n;return a=a>100?100:a,a=a<0?0:a,a},_limitRange:function(e,n,a){a[0]=this._getRange(e,a[0]),a[1]=a[0]+n,a[1]>100&&(a[1]=100,a[0]=a[1]-n)},_updateStatus:function(e,n){var a=e==="x"?this.get("width"):this.get("height");e=t.upperFirst(e);var u=this.get("range"),l=this.get("page"+e),h=this.get("currentTarget"),p=this.get("rangeStash"),d=this.get("layout"),g=d==="vertical"?-1:1,y=n["page"+e],x=y-l,A=x/a*100*g,m,M=this.get("minRange"),b=this.get("maxRange");u[1]<=u[0]?(this._isElement(h,"minHandleElement")||this._isElement(h,"maxHandleElement"))&&(u[0]=this._getRange(A,u[0]),u[1]=this._getRange(A,u[0])):(this._isElement(h,"minHandleElement")&&(u[0]=this._getRange(A,u[0]),M&&u[1]-u[0]<=M&&this._limitRange(A,M,u),b&&u[1]-u[0]>=b&&this._limitRange(A,b,u)),this._isElement(h,"maxHandleElement")&&(u[1]=this._getRange(A,u[1]),M&&u[1]-u[0]<=M&&this._limitRange(A,M,u),b&&u[1]-u[0]>=b&&this._limitRange(A,b,u))),this._isElement(h,"middleHandleElement")&&(m=p[1]-p[0],this._limitRange(A,m,u)),this.emit("sliderchange",{range:u}),this.set("page"+e,y),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(e){var n=e.currentTarget,a=e.event,u=this.get("range");a.stopPropagation(),a.preventDefault(),this.set("pageX",a.pageX),this.set("pageY",a.pageY),this.set("currentTarget",n),this.set("rangeStash",[u[0],u[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=v.addEventListener(e,"mousemove",t.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=v.addEventListener(e,"mouseup",t.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=v.addEventListener(e,"mouseleave",t.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(e){var n=this.get("layout");n==="horizontal"?this._updateStatus("x",e):this._updateStatus("y",e)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}}),P.exports=f},function(P,S,i){function t(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function c(u,l){u.prototype=Object.create(l.prototype),u.prototype.constructor=u,s(u,l)}function s(u,l){return s=Object.setPrototypeOf||function(p,d){return p.__proto__=d,p},s(u,l)}var v=i(0),o=i(205),f=i(440),r=i(441),e=["X","Y","XY"],n="X",a=function(u){c(h,u);var l=h.prototype;l.getDefaultCfg=function(){var d=u.prototype.getDefaultCfg.call(this);return v.mix({},d,{processEvent:"mousewheel",type:n,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})};function h(p,d){var g;g=u.call(this,p,d)||this;var y=t(g);y.chart=d,y.type=y.type.toUpperCase();var x=y.data=d.get("data"),A=d.getYScales(),m=d.getXScale();A.push(m);var M=d.get("scaleController");return A.forEach(function(b){var E=b.field,C=M.defs[E]||{};y.limitRange[E]=r(x,b),y.originScaleDefsByField[E]=v.mix(C,{nice:!!C.nice}),b.isLinear?y.stepByField[E]=(b.max-b.min)*y.stepRatio:y.stepByField[E]=y.catStep}),e.includes(y.type)||(y.type=n),g}return l._applyScale=function(d,g,y,x){y===void 0&&(y=0);var A=this,m=A.chart,M=A.stepByField;if(d.isLinear){var b=d.min,E=d.max,C=d.field,T=1-y,O=M[C]*g,L=b+O*y,R=E-O*T;if(R>L){var W=f(m,C);m.scale(C,v.mix({},W,{nice:!1,min:L,max:R}))}}else{var U=d.field,X=d.values,Z=A.chart,J=Z.get("coord"),ht=f(Z,U),at=A.limitRange[U],Q=at.length,xt=A.maxScale,kt=A.minScale,Nt=Q/xt,nt=Q/kt,q=X.length,G=J.invertPoint(x),N=G.x,it=q-g*this.catStep,H=parseInt(it*N),ct=it+H;if(g>0&&q>=Nt){var ft=H,K=ct;ct>q&&(K=q-1,ft=q-it);var $=X.slice(ft,K);Z.scale(U,v.mix({},ht,{values:$}))}else if(g<0&&q<=nt){var et=at.indexOf(X[0]),j=at.indexOf(X[q-1]),w=Math.max(0,et-H),D=Math.min(j+ct,Q),V=at.slice(w,D);Z.scale(U,v.mix({},ht,{values:V}))}}},l.process=function(d){var g=this,y=g.chart,x=g.type,A=y.get("coord"),m=d.deltaY,M=A.invertPoint(d);if(m){g.onZoom&&g.onZoom(m,M,g),m>0?g.onZoomin&&g.onZoomin(m,M,g):g.onZoomout&&g.onZoomout(m,M,g);var b=m/Math.abs(m);if(x.indexOf("X")>-1&&g._applyScale(y.getXScale(),b,M.x,d),x.indexOf("Y")>-1){var E=y.getYScales();E.forEach(function(C){g._applyScale(C,b,M.y,d)})}}y.repaint()},l.reset=function(){var d=this,g=d.view,y=d.originScaleDefsByField,x=g.getYScales(),A=g.getXScale();x.push(A),x.forEach(function(m){if(m.isLinear){var M=m.field;g.scale(M,y[M])}}),g.repaint()},h}(o);P.exports=a}])})},58881:function(mr,P,S){"use strict";S.d(P,{nC:function(){return i.ZP},Hp:function(){return i.Hp},e7:function(){return i.e7},yT:function(){return i.yT},vK:function(){return c.v},BlendType:function(){return v.h},AttributeType:function(){return o.GC},ScaleTypes:function(){return o.vY},StyleScaleType:function(){return o.ee},MapServiceEvent:function(){return e.I},CoordinateSystem:function(){return n.l},CoordinateUniform:function(){return n.k},CameraUniform:function(){return l.l},SceneEventList:function(){return d.P},PositionType:function(){return b.d},gl:function(){return ft.gl}});var i=S(12250),t=S(69530),c=S(72302),s=S(76915),v=S(77252),o=S(31251),f=S(8628),r=S.n(f);S.o(f,"CameraUniform")&&S.d(P,{CameraUniform:function(){return f.CameraUniform}}),S.o(f,"CoordinateSystem")&&S.d(P,{CoordinateSystem:function(){return f.CoordinateSystem}}),S.o(f,"CoordinateUniform")&&S.d(P,{CoordinateUniform:function(){return f.CoordinateUniform}}),S.o(f,"LineLayer")&&S.d(P,{LineLayer:function(){return f.LineLayer}}),S.o(f,"MapServiceEvent")&&S.d(P,{MapServiceEvent:function(){return f.MapServiceEvent}}),S.o(f,"Marker")&&S.d(P,{Marker:function(){return f.Marker}}),S.o(f,"PointLayer")&&S.d(P,{PointLayer:function(){return f.PointLayer}}),S.o(f,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return f.PolygonLayer}}),S.o(f,"Popup")&&S.d(P,{Popup:function(){return f.Popup}}),S.o(f,"PositionType")&&S.d(P,{PositionType:function(){return f.PositionType}}),S.o(f,"Scene")&&S.d(P,{Scene:function(){return f.Scene}}),S.o(f,"SceneEventList")&&S.d(P,{SceneEventList:function(){return f.SceneEventList}}),S.o(f,"gl")&&S.d(P,{gl:function(){return f.gl}});var e=S(16606),n=S(47282),a=S(41906),u=S.n(a);S.o(a,"CameraUniform")&&S.d(P,{CameraUniform:function(){return a.CameraUniform}}),S.o(a,"LineLayer")&&S.d(P,{LineLayer:function(){return a.LineLayer}}),S.o(a,"Marker")&&S.d(P,{Marker:function(){return a.Marker}}),S.o(a,"PointLayer")&&S.d(P,{PointLayer:function(){return a.PointLayer}}),S.o(a,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return a.PolygonLayer}}),S.o(a,"Popup")&&S.d(P,{Popup:function(){return a.Popup}}),S.o(a,"PositionType")&&S.d(P,{PositionType:function(){return a.PositionType}}),S.o(a,"Scene")&&S.d(P,{Scene:function(){return a.Scene}}),S.o(a,"SceneEventList")&&S.d(P,{SceneEventList:function(){return a.SceneEventList}}),S.o(a,"gl")&&S.d(P,{gl:function(){return a.gl}});var l=S(4594),h=S(1910),p=S.n(h);S.o(h,"LineLayer")&&S.d(P,{LineLayer:function(){return h.LineLayer}}),S.o(h,"Marker")&&S.d(P,{Marker:function(){return h.Marker}}),S.o(h,"PointLayer")&&S.d(P,{PointLayer:function(){return h.PointLayer}}),S.o(h,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return h.PolygonLayer}}),S.o(h,"Popup")&&S.d(P,{Popup:function(){return h.Popup}}),S.o(h,"PositionType")&&S.d(P,{PositionType:function(){return h.PositionType}}),S.o(h,"Scene")&&S.d(P,{Scene:function(){return h.Scene}}),S.o(h,"SceneEventList")&&S.d(P,{SceneEventList:function(){return h.SceneEventList}}),S.o(h,"gl")&&S.d(P,{gl:function(){return h.gl}});var d=S(19793),g=S(93102),y=S.n(g);S.o(g,"LineLayer")&&S.d(P,{LineLayer:function(){return g.LineLayer}}),S.o(g,"Marker")&&S.d(P,{Marker:function(){return g.Marker}}),S.o(g,"PointLayer")&&S.d(P,{PointLayer:function(){return g.PointLayer}}),S.o(g,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return g.PolygonLayer}}),S.o(g,"Popup")&&S.d(P,{Popup:function(){return g.Popup}}),S.o(g,"PositionType")&&S.d(P,{PositionType:function(){return g.PositionType}}),S.o(g,"Scene")&&S.d(P,{Scene:function(){return g.Scene}}),S.o(g,"gl")&&S.d(P,{gl:function(){return g.gl}});var x=S(64532),A=S.n(x);S.o(x,"LineLayer")&&S.d(P,{LineLayer:function(){return x.LineLayer}}),S.o(x,"Marker")&&S.d(P,{Marker:function(){return x.Marker}}),S.o(x,"PointLayer")&&S.d(P,{PointLayer:function(){return x.PointLayer}}),S.o(x,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return x.PolygonLayer}}),S.o(x,"Popup")&&S.d(P,{Popup:function(){return x.Popup}}),S.o(x,"PositionType")&&S.d(P,{PositionType:function(){return x.PositionType}}),S.o(x,"Scene")&&S.d(P,{Scene:function(){return x.Scene}}),S.o(x,"gl")&&S.d(P,{gl:function(){return x.gl}});var m=S(2811),M=S.n(m);S.o(m,"LineLayer")&&S.d(P,{LineLayer:function(){return m.LineLayer}}),S.o(m,"Marker")&&S.d(P,{Marker:function(){return m.Marker}}),S.o(m,"PointLayer")&&S.d(P,{PointLayer:function(){return m.PointLayer}}),S.o(m,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return m.PolygonLayer}}),S.o(m,"Popup")&&S.d(P,{Popup:function(){return m.Popup}}),S.o(m,"PositionType")&&S.d(P,{PositionType:function(){return m.PositionType}}),S.o(m,"Scene")&&S.d(P,{Scene:function(){return m.Scene}}),S.o(m,"gl")&&S.d(P,{gl:function(){return m.gl}});var b=S(66690),E=S(81732),C=S.n(E);S.o(E,"LineLayer")&&S.d(P,{LineLayer:function(){return E.LineLayer}}),S.o(E,"Marker")&&S.d(P,{Marker:function(){return E.Marker}}),S.o(E,"PointLayer")&&S.d(P,{PointLayer:function(){return E.PointLayer}}),S.o(E,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return E.PolygonLayer}}),S.o(E,"Popup")&&S.d(P,{Popup:function(){return E.Popup}}),S.o(E,"Scene")&&S.d(P,{Scene:function(){return E.Scene}}),S.o(E,"gl")&&S.d(P,{gl:function(){return E.gl}});var T=S(84007),O=S.n(T);S.o(T,"LineLayer")&&S.d(P,{LineLayer:function(){return T.LineLayer}}),S.o(T,"Marker")&&S.d(P,{Marker:function(){return T.Marker}}),S.o(T,"PointLayer")&&S.d(P,{PointLayer:function(){return T.PointLayer}}),S.o(T,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return T.PolygonLayer}}),S.o(T,"Popup")&&S.d(P,{Popup:function(){return T.Popup}}),S.o(T,"Scene")&&S.d(P,{Scene:function(){return T.Scene}}),S.o(T,"gl")&&S.d(P,{gl:function(){return T.gl}});var L=S(89648),R=S(90919),W=S.n(R);S.o(R,"LineLayer")&&S.d(P,{LineLayer:function(){return R.LineLayer}}),S.o(R,"Marker")&&S.d(P,{Marker:function(){return R.Marker}}),S.o(R,"PointLayer")&&S.d(P,{PointLayer:function(){return R.PointLayer}}),S.o(R,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return R.PolygonLayer}}),S.o(R,"Popup")&&S.d(P,{Popup:function(){return R.Popup}}),S.o(R,"Scene")&&S.d(P,{Scene:function(){return R.Scene}}),S.o(R,"gl")&&S.d(P,{gl:function(){return R.gl}});var U=S(75925),X=S.n(U);S.o(U,"LineLayer")&&S.d(P,{LineLayer:function(){return U.LineLayer}}),S.o(U,"Marker")&&S.d(P,{Marker:function(){return U.Marker}}),S.o(U,"PointLayer")&&S.d(P,{PointLayer:function(){return U.PointLayer}}),S.o(U,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return U.PolygonLayer}}),S.o(U,"Popup")&&S.d(P,{Popup:function(){return U.Popup}}),S.o(U,"Scene")&&S.d(P,{Scene:function(){return U.Scene}}),S.o(U,"gl")&&S.d(P,{gl:function(){return U.gl}});var Z=S(85040),J=S.n(Z);S.o(Z,"LineLayer")&&S.d(P,{LineLayer:function(){return Z.LineLayer}}),S.o(Z,"Marker")&&S.d(P,{Marker:function(){return Z.Marker}}),S.o(Z,"PointLayer")&&S.d(P,{PointLayer:function(){return Z.PointLayer}}),S.o(Z,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return Z.PolygonLayer}}),S.o(Z,"Popup")&&S.d(P,{Popup:function(){return Z.Popup}}),S.o(Z,"Scene")&&S.d(P,{Scene:function(){return Z.Scene}}),S.o(Z,"gl")&&S.d(P,{gl:function(){return Z.gl}});var ht=S(8594),at=S.n(ht);S.o(ht,"LineLayer")&&S.d(P,{LineLayer:function(){return ht.LineLayer}}),S.o(ht,"Marker")&&S.d(P,{Marker:function(){return ht.Marker}}),S.o(ht,"PointLayer")&&S.d(P,{PointLayer:function(){return ht.PointLayer}}),S.o(ht,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return ht.PolygonLayer}}),S.o(ht,"Popup")&&S.d(P,{Popup:function(){return ht.Popup}}),S.o(ht,"Scene")&&S.d(P,{Scene:function(){return ht.Scene}}),S.o(ht,"gl")&&S.d(P,{gl:function(){return ht.gl}});var Q=S(67571),xt=S.n(Q);S.o(Q,"LineLayer")&&S.d(P,{LineLayer:function(){return Q.LineLayer}}),S.o(Q,"Marker")&&S.d(P,{Marker:function(){return Q.Marker}}),S.o(Q,"PointLayer")&&S.d(P,{PointLayer:function(){return Q.PointLayer}}),S.o(Q,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return Q.PolygonLayer}}),S.o(Q,"Popup")&&S.d(P,{Popup:function(){return Q.Popup}}),S.o(Q,"Scene")&&S.d(P,{Scene:function(){return Q.Scene}}),S.o(Q,"gl")&&S.d(P,{gl:function(){return Q.gl}});var kt=S(66718),Nt=S.n(kt);S.o(kt,"LineLayer")&&S.d(P,{LineLayer:function(){return kt.LineLayer}}),S.o(kt,"Marker")&&S.d(P,{Marker:function(){return kt.Marker}}),S.o(kt,"PointLayer")&&S.d(P,{PointLayer:function(){return kt.PointLayer}}),S.o(kt,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return kt.PolygonLayer}}),S.o(kt,"Popup")&&S.d(P,{Popup:function(){return kt.Popup}}),S.o(kt,"Scene")&&S.d(P,{Scene:function(){return kt.Scene}}),S.o(kt,"gl")&&S.d(P,{gl:function(){return kt.gl}});var nt=S(92364),q=S(78010),G=S.n(q);S.o(q,"LineLayer")&&S.d(P,{LineLayer:function(){return q.LineLayer}}),S.o(q,"Marker")&&S.d(P,{Marker:function(){return q.Marker}}),S.o(q,"PointLayer")&&S.d(P,{PointLayer:function(){return q.PointLayer}}),S.o(q,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return q.PolygonLayer}}),S.o(q,"Popup")&&S.d(P,{Popup:function(){return q.Popup}}),S.o(q,"Scene")&&S.d(P,{Scene:function(){return q.Scene}}),S.o(q,"gl")&&S.d(P,{gl:function(){return q.gl}});var N=S(68116),it=S.n(N);S.o(N,"LineLayer")&&S.d(P,{LineLayer:function(){return N.LineLayer}}),S.o(N,"Marker")&&S.d(P,{Marker:function(){return N.Marker}}),S.o(N,"PointLayer")&&S.d(P,{PointLayer:function(){return N.PointLayer}}),S.o(N,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return N.PolygonLayer}}),S.o(N,"Popup")&&S.d(P,{Popup:function(){return N.Popup}}),S.o(N,"Scene")&&S.d(P,{Scene:function(){return N.Scene}}),S.o(N,"gl")&&S.d(P,{gl:function(){return N.gl}});var H=S(23067),ct=S.n(H);S.o(H,"LineLayer")&&S.d(P,{LineLayer:function(){return H.LineLayer}}),S.o(H,"Marker")&&S.d(P,{Marker:function(){return H.Marker}}),S.o(H,"PointLayer")&&S.d(P,{PointLayer:function(){return H.PointLayer}}),S.o(H,"PolygonLayer")&&S.d(P,{PolygonLayer:function(){return H.PolygonLayer}}),S.o(H,"Popup")&&S.d(P,{Popup:function(){return H.Popup}}),S.o(H,"Scene")&&S.d(P,{Scene:function(){return H.Scene}}),S.o(H,"gl")&&S.d(P,{gl:function(){return H.gl}});var ft=S(7648)},12250:function(mr,P,S){"use strict";S.d(P,{e7:function(){return Iu},Hp:function(){return ms},ZP:function(){return wu},yT:function(){return du}});var i=S(28660),t=S(26729),c=S.n(t),s=S(86700),v=S(84879),o=S(72302),f=S(6610),r=S(5991),e=S(96156),n=S(91739),a=S(49296),u=S.n(a);function l(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function h(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?l(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):l(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function p(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=d(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe=!0,Rr=!1,on;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Oe=bn.done,bn},e:function(bn){Rr=!0,on=bn},f:function(){try{!Oe&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw on}}}}function d(oe,ue){if(!!oe){if(typeof oe=="string")return g(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return g(oe,ue)}}function g(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var y=30;function x(oe){var ue=oe.characterSet,Tt=oe.getFontWidth,Lt=oe.fontHeight,se=oe.buffer,Oe=oe.maxCanvasWidth,Rr=oe.mapping,on=Rr===void 0?{}:Rr,Wr=oe.xOffset,bn=Wr===void 0?0:Wr,ai=oe.yOffset,ra=ai===void 0?0:ai,ua=0,ba=bn;Array.from(ue).forEach(function(Ra,no){if(!on[Ra]){var bo=Tt(Ra,no);ba+y>Oe&&(ba=0,ua++),on[Ra]={x:ba,y:ra+ua*y,width:y,height:y,advance:bo},ba+=y}});var Da=Lt+se*2;return{mapping:on,xOffset:ba,yOffset:ra+ua*Da,canvasHeight:M(ra+(ua+1)*Da)}}function A(oe,ue,Tt){var Lt=0,se=0,Oe=0,Rr=[],on={},Wr=p(oe),bn;try{for(Wr.s();!(bn=Wr.n()).done;){var ai=bn.value;if(!on[ai.id]){var ra=ai.size;Lt+ra+ue>Tt&&(m(on,Rr,se),Lt=0,se=Oe+se+ue,Oe=0,Rr=[]),Rr.push({icon:ai,xOffset:Lt}),Lt=Lt+ra+ue,Oe=Math.max(Oe,ra)}}}catch(ba){Wr.e(ba)}finally{Wr.f()}Rr.length>0&&m(on,Rr,se);var ua=M(Oe+se+ue);return{mapping:on,canvasHeight:ua}}function m(oe,ue,Tt){var Lt=p(ue),se;try{for(Lt.s();!(se=Lt.n()).done;){var Oe=se.value,Rr=Oe.icon,on=Oe.xOffset;oe[Rr.id]=h(h({},Rr),{},{x:on,y:Tt,image:Rr.image,width:Rr.width,height:Rr.height})}}catch(Wr){Lt.e(Wr)}finally{Lt.f()}}function M(oe){return Math.pow(2,Math.ceil(Math.log2(oe)))}var b,E;function C(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=T(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe=!0,Rr=!1,on;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Oe=bn.done,bn},e:function(bn){Rr=!0,on=bn},f:function(){try{!Oe&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw on}}}}function T(oe,ue){if(!!oe){if(typeof oe=="string")return O(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return O(oe,ue)}}function O(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}function L(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function R(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?L(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):L(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var W=q(),U="sans-serif",X="normal",Z=24,J=3,ht=.25,at=8,Q=1024,xt=1,kt=1,Nt=3,nt=null;function q(){for(var oe=[],ue=32;ue<128;ue++)oe.push(String.fromCharCode(ue));return oe}function G(oe,ue,Tt,Lt){oe.font="".concat(Lt," ").concat(Tt,"px ").concat(ue),oe.fillStyle="black",oe.textBaseline="middle"}function N(oe,ue){for(var Tt=0;Tt<oe.length;Tt++)ue.data[4*Tt+3]=oe[Tt]}var it=(b=(0,s.b2)(),b(E=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"fontAtlas",void 0),(0,e.Z)(this,"iconFontMap",void 0),(0,e.Z)(this,"iconFontGlyphs",{}),(0,e.Z)(this,"fontOptions",void 0),(0,e.Z)(this,"key",void 0),(0,e.Z)(this,"cache",new n.z6(Nt))}return(0,r.Z)(oe,[{key:"scale",get:function(){return kt}},{key:"canvas",get:function(){var Tt=this.cache.get(this.key);return Tt&&Tt.data}},{key:"mapping",get:function(){var Tt=this.cache.get(this.key);return Tt&&Tt.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:U,fontWeight:X,characterSet:W,fontSize:Z,buffer:J,sdf:!0,cutoff:ht,radius:at,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(Tt){var Lt=this;Tt.forEach(function(se){Lt.iconFontGlyphs[se.name]=se.unicode})}},{key:"addIconFont",value:function(Tt,Lt){this.iconFontMap.set(Tt,Lt)}},{key:"getIconFontKey",value:function(Tt){return this.iconFontMap.get(Tt)||Tt}},{key:"getGlyph",value:function(Tt){return this.iconFontGlyphs[Tt]?String.fromCharCode(parseInt(this.iconFontGlyphs[Tt],16)):""}},{key:"setFontOptions",value:function(Tt){this.fontOptions=R(R({},this.fontOptions),Tt),this.key=this.getKey();var Lt=this.getNewChars(this.key,this.fontOptions.characterSet),se=this.cache.get(this.key);if(!(se&&Lt.length===0)){var Oe=this.generateFontAtlas(this.key,Lt,se);this.fontAtlas=Oe,this.cache.set(this.key,Oe)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(Tt,Lt,se){var Oe=this.fontOptions,Rr=Oe.fontFamily,on=Oe.fontWeight,Wr=Oe.fontSize,bn=Oe.buffer,ai=Oe.sdf,ra=Oe.radius,ua=Oe.cutoff,ba=Oe.iconfont,Da=se&&se.data;Da||(Da=document.createElement("canvas"),Da.width=Q);var Ra=Da.getContext("2d");G(Ra,Rr,Wr,on);var no=x(R({getFontWidth:function(Bu){return Ra.measureText(Bu).width},fontHeight:Wr*kt,buffer:bn,characterSet:Lt,maxCanvasWidth:Q},se&&{mapping:se.mapping,xOffset:se.xOffset,yOffset:se.yOffset})),bo=no.mapping,Po=no.canvasHeight,Ts=no.xOffset,$o=no.yOffset,eu=Ra.getImageData(0,0,Da.width,Da.height);if(Da.height=Po,Ra.putImageData(eu,0,0),G(Ra,Rr,Wr,on),ai){var hs=new(u())(Wr,bn,ra,ua,Rr,on),Mo=Ra.getImageData(0,0,hs.size,hs.size),Ao=C(Lt),ws;try{for(Ao.s();!(ws=Ao.n()).done;){var Xs=ws.value;if(ba){var As=String.fromCharCode(parseInt(Xs.replace("&#x","").replace(";",""),16)),xu=hs.draw(As);N(xu,Mo)}else N(hs.draw(Xs),Mo);Ra.putImageData(Mo,bo[Xs].x,bo[Xs].y)}}catch(Ru){Ao.e(Ru)}finally{Ao.f()}}else{var Su=C(Lt),Gu;try{for(Su.s();!(Gu=Su.n()).done;){var qu=Gu.value;Ra.fillText(qu,bo[qu].x,bo[qu].y+Wr*xt)}}catch(Ru){Su.e(Ru)}finally{Su.f()}}return{xOffset:Ts,yOffset:$o,mapping:bo,data:Da,width:Da.width,height:Da.height}}},{key:"getKey",value:function(){return"key";var Tt,Lt,se,Oe,Rr,on,Wr,bn}},{key:"getNewChars",value:function(Tt,Lt){var se=this.cache.get(Tt);if(!se)return Lt;var Oe=[],Rr=se.mapping,on=new Set(Object.keys(Rr)),Wr=new Set(Lt);return Wr.forEach(function(bn){on.has(bn)||Oe.push(bn)}),Oe}}]),oe}())||E),H=S(63349),ct=S(10379),ft=S(46070),K=S(77608),$,et;function j(oe){var ue=w();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var D=3,V=1024,tt=64,lt=($=(0,s.b2)(),$(et=function(oe){(0,ct.Z)(Tt,oe);var ue=j(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Oe=new Array(se),Rr=0;Rr<se;Rr++)Oe[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Oe)),(0,e.Z)((0,H.Z)(Lt),"canvasHeight",128),(0,e.Z)((0,H.Z)(Lt),"texture",void 0),(0,e.Z)((0,H.Z)(Lt),"canvas",void 0),(0,e.Z)((0,H.Z)(Lt),"iconData",void 0),(0,e.Z)((0,H.Z)(Lt),"iconMap",void 0),(0,e.Z)((0,H.Z)(Lt),"ctx",void 0),(0,e.Z)((0,H.Z)(Lt),"loadingImageCount",0),Lt}return(0,r.Z)(Tt,[{key:"isLoading",value:function(){return this.loadingImageCount===0}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(se,Oe){var Rr=this,on=new Image;if(this.loadingImageCount++,this.hasImage(se))throw new Error("Image Id already exists");this.iconData.push({id:se,size:tt}),this.updateIconMap(),this.loadImage(Oe).then(function(Wr){on=Wr;var bn=Rr.iconData.find(function(ai){return ai.id===se});bn&&(bn.image=on,bn.width=on.width,bn.height=on.height),Rr.update()})}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(se){return this.iconMap.hasOwnProperty(se)}},{key:"removeImage",value:function(se){this.hasImage(se)&&(this.iconData=this.iconData.filter(function(Oe){return Oe.id!==se}),delete this.iconMap[se],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var se=this;this.canvas.width=V,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(function(Oe){var Rr=se.iconMap[Oe],on=Rr.x,Wr=Rr.y,bn=Rr.image,ai=Rr.width,ra=ai===void 0?64:ai,ua=Rr.height,ba=ua===void 0?64:ua,Da=Math.max(ra,ba),Ra=Da/tt,no=ba/Ra,bo=ra/Ra;bn&&se.ctx.drawImage(bn,on+(tt-bo)/2,Wr+(tt-no)/2,bo,no)})}},{key:"updateIconMap",value:function(){var se=A(this.iconData,D,V),Oe=se.mapping,Rr=se.canvasHeight;this.iconMap=Oe,this.canvasHeight=Rr}},{key:"loadImage",value:function(se){return new Promise(function(Oe,Rr){if(se instanceof HTMLImageElement){Oe(se);return}var on=new Image;on.crossOrigin="anonymous",on.onload=function(){Oe(on)},on.onerror=function(){Rr(new Error("Could not load image at "+se))},on.src=se instanceof File?URL.createObjectURL(se):se})}}]),Tt}(t.EventEmitter))||et),St=S(28481),ot=S(85975),Mt,Ot,Ft=(Mt=(0,s.b2)(),Mt(Ot=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"viewport",void 0),(0,e.Z)(this,"overridedViewProjectionMatrix",void 0),(0,e.Z)(this,"jitteredViewProjectionMatrix",void 0),(0,e.Z)(this,"jitteredProjectionMatrix",void 0),(0,e.Z)(this,"viewMatrixInverse",void 0),(0,e.Z)(this,"cameraPosition",void 0)}return(0,r.Z)(oe,[{key:"init",value:function(){}},{key:"update",value:function(Tt){this.viewport=Tt,this.viewMatrixInverse=ot.create(),ot.invert(this.viewMatrixInverse,Tt.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var Tt=this.viewport.getCenter(),Lt=(0,St.Z)(Tt,2),se=Lt[0],Oe=Lt[1];return[se,Oe]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(Tt,Lt){return this.viewport.projectFlat(Tt,Lt)}},{key:"setViewProjectionMatrix",value:function(Tt){this.overridedViewProjectionMatrix=Tt}},{key:"jitterProjectionMatrix",value:function(Tt,Lt){var se=ot.fromTranslation(ot.create(),[Tt,Lt,0]);this.jitteredProjectionMatrix=ot.multiply(ot.create(),se,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ot.multiply(ot.create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),oe}())||Ot),zt,$t;function he(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=ye(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe=!0,Rr=!1,on;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Oe=bn.done,bn},e:function(bn){Rr=!0,on=bn},f:function(){try{!Oe&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw on}}}}function ye(oe,ue){if(!!oe){if(typeof oe=="string")return tr(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return tr(oe,ue)}}function tr(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var nr=(zt=(0,s.b2)(),zt($t=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"container",void 0),(0,e.Z)(this,"controlCorners",void 0),(0,e.Z)(this,"controlContainer",void 0),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"controls",[]),(0,e.Z)(this,"unAddControls",[])}return(0,r.Z)(oe,[{key:"init",value:function(Tt,Lt){this.container=Tt.container,this.scene=Lt,this.mapsService=Lt.get(o.v.IMapService),this.initControlPos()}},{key:"addControl",value:function(Tt,Lt){var se=Lt.get(o.v.IMapService);se.map?(Tt.addTo(this.scene),this.controls.push(Tt)):this.unAddControls.push(Tt)}},{key:"getControlByName",value:function(Tt){return this.controls.find(function(Lt){return Lt.controlOption.name===Tt})}},{key:"removeControl",value:function(Tt){var Lt=this.controls.indexOf(Tt);return Lt>-1&&this.controls.splice(Lt,1),Tt.remove(),this}},{key:"addControls",value:function(){var Tt=this;this.unAddControls.forEach(function(Lt){Lt.addTo(Tt.scene),Tt.controls.push(Lt)}),this.unAddControls=[]}},{key:"destroy",value:function(){var Tt=he(this.controls),Lt;try{for(Tt.s();!(Lt=Tt.n()).done;){var se=Lt.value;se.remove()}}catch(Oe){Tt.e(Oe)}finally{Tt.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var Tt=this.controlCorners={},Lt="l7-",se=this.controlContainer=n.SO.create("div",Lt+"control-container",this.container);function Oe(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],on=Rr.map(function(Wr){return Lt+Wr}).join(" ");Tt[Rr.join("")]=n.SO.create("div",on,se)}Oe(["top","left"]),Oe(["top","right"]),Oe(["bottom","left"]),Oe(["bottom","right"]),Oe(["top","center"]),Oe(["right","center"]),Oe(["left","center"]),Oe(["bottom","center"])}},{key:"clearControlPos",value:function(){for(var Tt in this.controlCorners)this.controlCorners[Tt]&&n.SO.remove(this.controlCorners[Tt]);this.controlContainer&&n.SO.remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),oe}())||$t),Xe,yr,Vr=(Xe=(0,s.b2)(),Xe(yr=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"container",void 0),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"markers",[]),(0,e.Z)(this,"markerLayers",[]),(0,e.Z)(this,"unAddMarkers",[]),(0,e.Z)(this,"unAddMarkerLayers",[])}return(0,r.Z)(oe,[{key:"addMarkerLayer",value:function(Tt){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(Tt),Tt.addTo(this.scene)):this.unAddMarkerLayers.push(Tt)}},{key:"removeMarkerLayer",value:function(Tt){Tt.destroy(),this.markerLayers.indexOf(Tt);var Lt=this.markerLayers.indexOf(Tt);Lt>-1&&this.markerLayers.splice(Lt,1)}},{key:"addMarker",value:function(Tt){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(Tt),Tt.addTo(this.scene)):this.unAddMarkers.push(Tt)}},{key:"addMarkers",value:function(){var Tt=this;this.unAddMarkers.forEach(function(Lt){Lt.addTo(Tt.scene),Tt.markers.push(Lt)}),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var Tt=this;this.unAddMarkerLayers.forEach(function(Lt){Tt.markerLayers.push(Lt),Lt.addTo(Tt.scene)}),this.unAddMarkers=[]}},{key:"removeMarker",value:function(Tt){Tt.remove(),this.markers.indexOf(Tt);var Lt=this.markers.indexOf(Tt);Lt>-1&&this.markers.splice(Lt,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(Tt){this.scene=Tt,this.mapsService=Tt.get(o.v.IMapService)}},{key:"destroy",value:function(){this.markers.forEach(function(Tt){Tt.remove()}),this.markers=[],this.markerLayers.forEach(function(Tt){Tt.destroy()}),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(Tt){Tt.destroy()}}]),oe}())||yr),Ee,de,Ge=(Ee=(0,s.b2)(),Ee(de=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"scene",void 0),(0,e.Z)(this,"popup",void 0),(0,e.Z)(this,"mapsService",void 0),(0,e.Z)(this,"unAddPopup",void 0)}return(0,r.Z)(oe,[{key:"removePopup",value:function(Tt){Tt.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(Tt){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(Tt.addTo(this.scene),this.popup=Tt):this.unAddPopup=Tt}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(Tt){this.scene=Tt,this.mapsService=Tt.get(o.v.IMapService)}}]),oe}())||de),ke=S(82492),Kr=S.n(ke),fn={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo\u6D4B\u8BD5\u5730\u56FEtoken\uFF0C\u5982\u679C\u751F\u4EA7\u73AF\u5883\u4E2D\u4F7F\u7528\u53BB\u5BF9\u5E94\u5730\u56FE\u8BF7\u6CE8\u518CToken",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"},pi=fn,Vi,ea;function zi(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Te(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?zi(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):zi(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var Be={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},lr={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},Or=(Vi=(0,s.b2)(),Vi(ea=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"sceneConfigCache",{}),(0,e.Z)(this,"layerConfigCache",{})}return(0,r.Z)(oe,[{key:"getSceneConfig",value:function(Tt){return this.sceneConfigCache[Tt]}},{key:"getSceneWarninfo",value:function(Tt){return pi[Tt]}},{key:"setSceneConfig",value:function(Tt,Lt){this.sceneConfigCache[Tt]=Te(Te({},Be),Lt)}},{key:"getLayerConfig",value:function(Tt){return this.layerConfigCache[Tt]}},{key:"setLayerConfig",value:function(Tt,Lt,se){this.layerConfigCache[Lt]=Te({},Kr()({},this.sceneConfigCache[Tt],lr,se))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),oe}())||ea),sr=S(55770),Dr=S(3473),En=S(98333),Yn=Math.PI/180,ln=512,Jr=4003e4;function Wn(oe){var ue=oe.latitude,Tt=ue===void 0?0:ue,Lt=oe.zoom,se=Lt===void 0?0:Lt,Oe=oe.scale,Rr=oe.highPrecision,on=Rr===void 0?!1:Rr,Wr=oe.flipY,bn=Wr===void 0?!1:Wr;Oe=Oe!==void 0?Oe:Math.pow(2,se);var ai={},ra=ln*Oe,ua=Math.cos(Tt*Yn),ba=ra/360,Da=ba/ua,Ra=ra/Jr/ua;if(ai.pixelsPerMeter=[Ra,-Ra,Ra],ai.metersPerPixel=[1/Ra,-1/Ra,1/Ra],ai.pixelsPerDegree=[ba,-Da,Ra],ai.degreesPerPixel=[1/ba,-1/Da,1/Ra],on){var no=Yn*Math.tan(Tt*Yn)/ua,bo=ba*no/2,Po=ra/Jr*no,Ts=Po/Da*Ra;ai.pixelsPerDegree2=[0,-bo,Po],ai.pixelsPerMeter2=[Ts,0,Ts],bn&&(ai.pixelsPerDegree2[1]=-ai.pixelsPerDegree2[1],ai.pixelsPerMeter2[1]=-ai.pixelsPerMeter2[1])}return bn&&(ai.pixelsPerMeter[1]=-ai.pixelsPerMeter[1],ai.metersPerPixel[1]=-ai.metersPerPixel[1],ai.pixelsPerDegree[1]=-ai.pixelsPerDegree[1],ai.degreesPerPixel[1]=-ai.degreesPerPixel[1]),ai}var $n=S(47282),Gr,wr,ti,ge,Le,Se=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Ve=(Gr=(0,s.b2)(),wr=(0,s.f3)(o.v.ICameraService),Gr(ti=(ge=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"needRefresh",!0),(0,sr.Z)(this,"cameraService",Le,this),(0,e.Z)(this,"coordinateSystem",void 0),(0,e.Z)(this,"viewportCenter",void 0),(0,e.Z)(this,"viewportCenterProjection",void 0),(0,e.Z)(this,"pixelsPerDegree",void 0),(0,e.Z)(this,"pixelsPerDegree2",void 0),(0,e.Z)(this,"pixelsPerMeter",void 0)}return(0,r.Z)(oe,[{key:"refresh",value:function(){var Tt=this.cameraService.getZoom(),Lt=this.cameraService.getZoomScale(),se=this.cameraService.getCenter(),Oe=Wn({latitude:se[1],zoom:Tt}),Rr=Oe.pixelsPerMeter,on=Oe.pixelsPerDegree;this.viewportCenter=se,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=Rr,this.pixelsPerDegree=on,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===$n.l.LNGLAT||this.coordinateSystem===$n.l.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===$n.l.LNGLAT_OFFSET?this.calculateLnglatOffset(se,Tt):this.coordinateSystem===$n.l.P20_OFFSET&&this.calculateLnglatOffset(se,Tt,Lt,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(Tt){this.coordinateSystem=Tt}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(Tt,Lt,se,Oe){var Rr=Wn({latitude:Tt[1],zoom:Lt,scale:se,flipY:Oe,highPrecision:!0}),on=Rr.pixelsPerMeter,Wr=Rr.pixelsPerDegree,bn=Rr.pixelsPerDegree2,ai=this.cameraService.getViewMatrix(),ra=this.cameraService.getProjectionMatrix(),ua=ot.multiply([],ra,ai),ba=this.cameraService.projectFlat([Math.fround(Tt[0]),Math.fround(Tt[1])],Math.pow(2,Lt));this.viewportCenterProjection=En.fF([],[ba[0],ba[1],0,1],ua),ai=this.cameraService.getViewMatrixUncentered()||ai,ua=ot.multiply([],ra,ai),ua=ot.multiply([],ua,Se),this.cameraService.setViewProjectionMatrix(ua),this.pixelsPerMeter=on,this.pixelsPerDegree=Wr,this.pixelsPerDegree2=bn}}]),oe}(),Le=(0,Dr.Z)(ge.prototype,"cameraService",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge))||ti),le=S(50840),vr=S.n(le),He=S(89648),rr,Lr,Mr,rn,pn;function qr(oe){var ue=Dn();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Dn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var ae={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},er=(rr=(0,s.b2)(),Lr=(0,s.f3)(o.v.IMapService),rr(Mr=(rn=function(oe){(0,ct.Z)(Tt,oe);var ue=qr(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Oe=new Array(se),Rr=0;Rr<se;Rr++)Oe[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Oe)),(0,sr.Z)((0,H.Z)(Lt),"mapService",pn,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"hammertime",void 0),(0,e.Z)((0,H.Z)(Lt),"lastClickTime",0),(0,e.Z)((0,H.Z)(Lt),"lastClickXY",[-1,-1]),(0,e.Z)((0,H.Z)(Lt),"clickTimer",void 0),(0,e.Z)((0,H.Z)(Lt),"$containter",void 0),(0,e.Z)((0,H.Z)(Lt),"onDrag",function(on){var Wr=Lt.interactionEvent(on);Wr.type=ae[Wr.type],Lt.emit(He.s.Drag,Wr)}),(0,e.Z)((0,H.Z)(Lt),"onHammer",function(on){on.srcEvent.stopPropagation();var Wr=Lt.interactionEvent(on);Lt.emit(He.s.Hover,Wr)}),(0,e.Z)((0,H.Z)(Lt),"onTouch",function(on){var Wr=on.touches[0];Lt.onHover({x:Wr.pageX,y:Wr.pageY,type:"touch"})}),(0,e.Z)((0,H.Z)(Lt),"onHover",function(on){var Wr=on.clientX,bn=on.clientY,ai=Wr,ra=bn,ua=on.type,ba=Lt.mapService.getMapContainer();if(ba){var Da=ba.getBoundingClientRect(),Ra=Da.top,no=Da.left;ai=ai-no-ba.clientLeft,ra=ra-Ra-ba.clientTop}var bo=Lt.mapService.containerToLngLat([ai,ra]);if(ua==="click"){if("ontouchstart"in document.documentElement)return;Lt.isDoubleTap(ai,ra,bo);return}if(ua==="touch"){Lt.isDoubleTap(ai,ra,bo);return}ua!=="click"&&ua!=="dblclick"&&Lt.emit(He.s.Hover,{x:ai,y:ra,lngLat:bo,type:ua,target:on})}),Lt}return(0,r.Z)(Tt,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(He.s.Hover)}},{key:"triggerHover",value:function(se){var Oe=se.x,Rr=se.y;this.emit(He.s.Hover,{x:Oe,y:Rr})}},{key:"triggerSelect",value:function(se){this.emit(He.s.Select,{featureId:se})}},{key:"triggerActive",value:function(se){this.emit(He.s.Active,{featureId:se})}},{key:"addEventListenerOnMap",value:function(){var se=this.mapService.getMapContainer();if(se){var Oe=new(vr()).Manager(se);Oe.add(new(vr()).Tap({event:"dblclick",taps:2})),Oe.add(new(vr()).Tap({event:"click"})),Oe.add(new(vr()).Pan({threshold:0,pointers:0})),Oe.add(new(vr()).Press({})),Oe.on("dblclick click",this.onHammer),Oe.on("panstart panmove panend pancancel",this.onDrag),se.addEventListener("mousemove",this.onHover),se.addEventListener("mousedown",this.onHover,!0),se.addEventListener("mouseup",this.onHover),se.addEventListener("contextmenu",this.onHover),this.hammertime=Oe}}},{key:"removeEventListenerOnMap",value:function(){var se=this.mapService.getMapContainer();se&&(se.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),se.removeEventListener("mousedown",this.onHover),se.removeEventListener("mouseup",this.onHover),se.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(se){var Oe=se.type,Rr=se.pointerType,on,Wr;Rr==="touch"?(Wr=Math.floor(se.pointers[0].clientY),on=Math.floor(se.pointers[0].clientX)):(Wr=Math.floor(se.srcEvent.y),on=Math.floor(se.srcEvent.x));var bn=this.mapService.getMapContainer();if(bn){var ai=bn.getBoundingClientRect(),ra=ai.top,ua=ai.left;on-=ua,Wr-=ra}var ba=this.mapService.containerToLngLat([on,Wr]);return{x:on,y:Wr,lngLat:ba,type:Oe,target:se.srcEvent}}},{key:"isDoubleTap",value:function(se,Oe,Rr){var on=this,Wr=new Date().getTime(),bn="click";Wr-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-se)<10&&Math.abs(this.lastClickXY[1]-Oe)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),bn="dblclick",this.emit(He.s.Hover,{x:se,y:Oe,lngLat:Rr,type:bn})):(this.lastClickTime=Wr,this.lastClickXY=[se,Oe],this.clickTimer=setTimeout(function(){bn="click",on.emit(He.s.Hover,{x:se,y:Oe,lngLat:Rr,type:bn})},400))}}]),Tt}(c()),pn=(0,Dr.Z)(rn.prototype,"mapService",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn))||Mr),ar=S(92137),kr=S(87757),Rn=S.n(kr),di=window.document.documentElement.style,Yi=0;function da(oe){var ue=oe;if(typeof oe=="string"&&(ue=document.getElementById(oe)),ue){var Tt=document.createElement("div");return Tt.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,Tt.id="l7-scene-".concat(Yi++),Tt.classList.add("l7-scene"),ue.appendChild(Tt),Tt}return null}function _a(oe){var ue,Tt,Lt=!0;return oe==null||(ue=oe.target)===null||ue===void 0||(Tt=ue.path)===null||Tt===void 0||Tt.map(function(se){if(se!=null&&se.classList){var Oe;se==null||(Oe=se.classList)===null||Oe===void 0||Oe.forEach(function(Rr){(Rr==="l7-marker"||Rr==="l7-popup")&&(Lt=!1)})}}),Lt}var fa=S(7648),wo,ho,mo,yo,zo,io,Za,qa,Zt,je,ur;function Br(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Vt(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Br(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Br(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var ee=(wo=(0,s.b2)(),ho=(0,s.f3)(o.v.IRendererService),mo=(0,s.f3)(o.v.IGlobalConfigService),yo=(0,s.f3)(o.v.IInteractionService),zo=(0,s.f3)(o.v.ILayerService),wo(io=(Za=function(){function oe(){var ue=this;(0,f.Z)(this,oe),(0,sr.Z)(this,"rendererService",qa,this),(0,sr.Z)(this,"configService",Zt,this),(0,sr.Z)(this,"interactionService",je,this),(0,sr.Z)(this,"layerService",ur,this),(0,e.Z)(this,"pickingFBO",void 0),(0,e.Z)(this,"width",0),(0,e.Z)(this,"height",0),(0,e.Z)(this,"alreadyInPicking",!1),(0,e.Z)(this,"pickBufferScale",1),(0,e.Z)(this,"pickFromPickingFBO",function(Tt,Lt){var se,Oe=Lt.x,Rr=Lt.y,on=Lt.lngLat,Wr=Lt.type,bn=Lt.target,ai=!1,ra=ue.rendererService,ua=ra.getViewportSize,ba=ra.readPixels,Da=ra.getContainer,Ra=Da().getBoundingClientRect(),no=Ra.width,bo=Ra.height;no*=n.SO.DPR,bo*=n.SO.DPR;var Po=Tt.getLayerConfig(),Ts=Po.enableHighlight,$o=Po.enableSelect,eu=Oe*n.SO.DPR,hs=Rr*n.SO.DPR;if(eu>no-1*n.SO.DPR||eu<0||hs>bo-1*n.SO.DPR||hs<0)return!1;var Mo;if(Mo=ba({x:Math.floor(eu/ue.pickBufferScale),y:Math.floor((bo-(Rr+1)*n.SO.DPR)/ue.pickBufferScale),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:ue.pickingFBO}),Mo[0]!==0||Mo[1]!==0||Mo[2]!==0){var Ao=(0,n.W0)(Mo),ws=Tt.getSource().getFeatureById(Ao);Ao!==Tt.getCurrentPickId()&&Wr==="mousemove"&&(Wr="mouseenter");var Xs={x:Oe,y:Rr,type:Wr,lngLat:on,featureId:Ao,feature:ws,target:bn};ws&&(ai=!0,Tt.setCurrentPickId(Ao),ue.triggerHoverOnLayer(Tt,Xs))}else{var As={x:Oe,y:Rr,lngLat:on,type:Tt.getCurrentPickId()!==null&&Wr==="mousemove"?"mouseout":"un"+Wr,featureId:null,target:bn,feature:null};ue.triggerHoverOnLayer(Tt,Vt(Vt({},As),{},{type:"unpick"})),ue.triggerHoverOnLayer(Tt,As),Tt.setCurrentPickId(null)}if(Ts&&ue.highlightPickedFeature(Tt,Mo),$o&&Wr==="click"&&((se=Mo)===null||se===void 0?void 0:se.toString())!==[0,0,0,0].toString()){var xu=(0,n.W0)(Mo);Tt.getCurrentSelectedId()===null||xu!==Tt.getCurrentSelectedId()?(ue.selectFeature(Tt,Mo),Tt.setCurrentSelectedId(xu)):(ue.selectFeature(Tt,new Uint8Array([0,0,0,0])),Tt.setCurrentSelectedId(null))}return ai})}return(0,r.Z)(oe,[{key:"init",value:function(Tt){var Lt=this.rendererService,se=Lt.createTexture2D,Oe=Lt.createFramebuffer,Rr=Lt.getViewportSize,on=Lt.getContainer,Wr=on().getBoundingClientRect(),bn=Wr.width,ai=Wr.height;bn*=n.SO.DPR,ai*=n.SO.DPR,this.pickBufferScale=this.configService.getSceneConfig(Tt).pickBufferScale||1,this.pickingFBO=Oe({color:se({width:Math.round(bn/this.pickBufferScale),height:Math.round(ai/this.pickBufferScale),wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.interactionService.on(He.s.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var ue=(0,ar.Z)(Rn().mark(function Lt(se,Oe,Rr){var on=this,Wr,bn,ai,ra;return Rn().wrap(function(ba){for(;;)switch(ba.prev=ba.next){case 0:Wr=this.rendererService,bn=Wr.useFramebuffer,ai=Wr.clear,ra=Wr.getContainer,this.resizePickingFBO(),bn(this.pickingFBO,function(){ai({framebuffer:on.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),se.hooks.beforePickingEncode.call(),se.renderModels(),se.hooks.afterPickingEncode.call();var Da=on.pickBox(se,Oe);Rr(Da)});case 3:case"end":return ba.stop()}},Lt,this)}));function Tt(Lt,se,Oe){return ue.apply(this,arguments)}return Tt}()},{key:"pickBox",value:function(Tt,Lt){var se=this,Oe=Lt.map(function(As){var xu=As<0?0:As;return Math.floor(xu*n.SO.DPR/se.pickBufferScale)}),Rr=(0,St.Z)(Oe,4),on=Rr[0],Wr=Rr[1],bn=Rr[2],ai=Rr[3],ra=this.rendererService,ua=ra.getViewportSize,ba=ra.readPixels,Da=ra.getContainer,Ra=Da().getBoundingClientRect(),no=Ra.width,bo=Ra.height;if(no*=n.SO.DPR,bo*=n.SO.DPR,on>(no-1)*n.SO.DPR/this.pickBufferScale||bn<0||Wr>(bo-1)*n.SO.DPR/this.pickBufferScale||ai<0)return[];var Po,Ts=Math.min(no/this.pickBufferScale,bn)-on,$o=Math.min(bo/this.pickBufferScale,ai)-Wr;Po=ba({x:on,y:Math.floor(bo/this.pickBufferScale-(ai+1)),width:Ts,height:$o,data:new Uint8Array(Ts*$o*4),framebuffer:this.pickingFBO});for(var eu=[],hs={},Mo=0;Mo<Po.length/4;Mo=Mo+1){var Ao=Po.slice(Mo*4,Mo*4+4),ws=(0,n.W0)(Ao);if(ws!==-1&&!hs[ws]){var Xs=Tt.getSource().getFeatureById(ws);eu.push(Xs),hs[ws]=!0}}return eu}},{key:"pickingAllLayer",value:function(){var ue=(0,ar.Z)(Rn().mark(function Lt(se){return Rn().wrap(function(Rr){for(;;)switch(Rr.prev=Rr.next){case 0:if(!(this.alreadyInPicking||this.layerService.alreadyInRendering)){Rr.next=2;break}return Rr.abrupt("return");case 2:return this.alreadyInPicking=!0,Rr.next=5,this.pickingLayers(se);case 5:this.layerService.renderLayers("picking"),this.alreadyInPicking=!1;case 7:case"end":return Rr.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"resizePickingFBO",value:function(){var Tt=this.rendererService.getContainer,Lt=Tt().getBoundingClientRect(),se=Lt.width,Oe=Lt.height;se*=n.SO.DPR,Oe*=n.SO.DPR,(this.width!==se||this.height!==Oe)&&(this.pickingFBO.resize({width:Math.round(se/this.pickBufferScale),height:Math.round(Oe/this.pickBufferScale)}),this.width=se,this.height=Oe)}},{key:"pickingLayers",value:function(){var ue=(0,ar.Z)(Rn().mark(function Lt(se){var Oe=this,Rr,on,Wr,bn,ai;return Rn().wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:Rr=this.rendererService,on=Rr.getViewportSize,Wr=Rr.useFramebuffer,bn=Rr.clear,ai=Rr.getContainer,this.resizePickingFBO(),Wr(this.pickingFBO,function(){var ba=Oe.layerService.getLayers();ba.filter(function(Da){return Da.needPick(se.type)}).reverse().some(function(Da){bn({framebuffer:Oe.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),Da.hooks.beforePickingEncode.call(),Da.renderModels(),Da.hooks.afterPickingEncode.call();var Ra=Oe.pickFromPickingFBO(Da,se);return Ra&&!Da.getLayerConfig().enablePropagation})});case 3:case"end":return ua.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"triggerHoverOnLayer",value:function(Tt,Lt){_a(Lt)&&Tt.emit(Lt.type,Lt)}},{key:"highlightPickedFeature",value:function(Tt,Lt){var se=(0,St.Z)(Lt,3),Oe=se[0],Rr=se[1],on=se[2];Tt.hooks.beforeHighlight.call([Oe,Rr,on])}},{key:"selectFeature",value:function(Tt,Lt){var se=(0,St.Z)(Lt,3),Oe=se[0],Rr=se[1],on=se[2];Tt.hooks.beforeSelect.call([Oe,Rr,on])}}]),oe}(),qa=(0,Dr.Z)(Za.prototype,"rendererService",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=(0,Dr.Z)(Za.prototype,"configService",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,Dr.Z)(Za.prototype,"interactionService",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=(0,Dr.Z)(Za.prototype,"layerService",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za))||io),Ae=function(){function oe(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(0,f.Z)(this,oe),(0,e.Z)(this,"autoStart",void 0),(0,e.Z)(this,"startTime",0),(0,e.Z)(this,"oldTime",0),(0,e.Z)(this,"running",!1),(0,e.Z)(this,"elapsedTime",0),this.autoStart=ue}return(0,r.Z)(oe,[{key:"start",value:function(){this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var Tt=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var Lt=(typeof performance=="undefined"?Date:performance).now();Tt=(Lt-this.oldTime)/1e3,this.oldTime=Lt,this.elapsedTime+=Tt}return Tt}}]),oe}(),Me,Er,dn,xn,fi,Ai,aa,qi,Sa,ca=(Me=(0,s.b2)(),Er=(0,s.f3)(o.v.IRendererService),dn=(0,s.f3)(o.v.IMapService),xn=(0,s.f3)(o.v.IGlobalConfigService),Me(fi=(Ai=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"clock",new Ae),(0,e.Z)(this,"alreadyInRendering",!1),(0,e.Z)(this,"layers",[]),(0,e.Z)(this,"layerRenderID",void 0),(0,e.Z)(this,"sceneInited",!1),(0,e.Z)(this,"animateInstanceCount",0),(0,e.Z)(this,"lastRenderType",void 0),(0,e.Z)(this,"lastPickRenderTime",void 0),(0,sr.Z)(this,"renderService",aa,this),(0,sr.Z)(this,"mapService",qi,this),(0,sr.Z)(this,"configService",Sa,this)}return(0,r.Z)(oe,[{key:"add",value:function(Tt){this.sceneInited&&Tt.init(),this.layers.push(Tt)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach(function(Tt){Tt.inited||Tt.init()})}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(Tt){return this.layers.find(function(Lt){return Lt.id===Tt})}},{key:"getLayerByName",value:function(Tt){return this.layers.find(function(Lt){return Lt.name===Tt})}},{key:"remove",value:function(Tt,Lt){if(Lt){var se=Lt.layerChildren.indexOf(Tt);se>-1&&Lt.layerChildren.splice(se,1)}else{var Oe=this.layers.indexOf(Tt);Oe>-1&&this.layers.splice(Oe,1)}Tt.emit("remove",null),Tt.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(Tt){if(!this.renderTest(Tt)||this.alreadyInRendering)return;this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter(function(se){return se.inited}).filter(function(se){return se.isVisible()}).forEach(function(se){Lt(se.layerChildren),Lt([se])}),this.alreadyInRendering=!1;function Lt(se){se.filter(function(Oe){return Oe.inited}).filter(function(Oe){return Oe.isVisible()}).forEach(function(Oe){Oe.hooks.beforeRenderData.call(),Oe.hooks.beforeRender.call(),Oe.render(),Oe.hooks.afterRender.call()})}}},{key:"updateRenderOrder",value:function(){this.layers.sort(function(Tt,Lt){return Tt.zIndex-Lt.zIndex})}},{key:"destroy",value:function(){this.layers.forEach(function(Tt){Tt.layerChildren&&(Tt.layerChildren.forEach(function(Lt){return Lt.destroy()}),Tt.layerChildren=[]),Tt.destroy()}),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){this.animateInstanceCount++==0&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){--this.animateInstanceCount==0&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"renderTest",value:function(Tt){var Lt=new Date().getTime(),se=Lt-this.lastPickRenderTime;if(Tt==="picking"&&(this.lastPickRenderTime=new Date().getTime()),Tt)switch(Tt){case"picking":return this.lastRenderType==="mapRender"||this.lastRenderType==="animate"?(this.lastRenderType="picking",se>48):(this.lastRenderType="picking",!0);case"animate":return this.lastRenderType==="mapRender"?(this.lastRenderType="animate",!1):(this.lastRenderType="animate",!0);case"mapRender":return this.lastRenderType="mapRender",!0;default:return!0}return!0}},{key:"clear",value:function(){var Tt=(0,n.CI)(this.mapService.bgColor);this.renderService.clear({color:Tt,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers("animate"),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),oe}(),aa=(0,Dr.Z)(Ai.prototype,"renderService",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=(0,Dr.Z)(Ai.prototype,"mapService",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sa=(0,Dr.Z)(Ai.prototype,"configService",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai))||fi),to=S(81253),za=S(85061),Ia=S(14293),Va=S.n(Ia),ro=function(){function oe(ue){var Tt=this;(0,f.Z)(this,oe),(0,e.Z)(this,"name",void 0),(0,e.Z)(this,"type",void 0),(0,e.Z)(this,"scale",void 0),(0,e.Z)(this,"descriptor",void 0),(0,e.Z)(this,"featureBufferLayout",[]),(0,e.Z)(this,"needRescale",!1),(0,e.Z)(this,"needRemapping",!1),(0,e.Z)(this,"needRegenerateVertices",!1),(0,e.Z)(this,"featureRange",{startIndex:0,endIndex:Infinity}),(0,e.Z)(this,"vertexAttribute",void 0),(0,e.Z)(this,"defaultCallback",function(Lt){if(Lt.length===0){var se;return((se=Tt.scale)===null||se===void 0?void 0:se.defaultValues)||[]}return Lt.map(function(Oe,Rr){var on,Wr=(on=Tt.scale)===null||on===void 0?void 0:on.scalers[Rr].func,bn=Wr(Oe);return bn})}),this.setProps(ue)}return(0,r.Z)(oe,[{key:"setProps",value:function(Tt){Object.assign(this,Tt)}},{key:"mapping",value:function(Tt){var Lt;if((Lt=this.scale)!==null&&Lt!==void 0&&Lt.callback){var se,Oe=(se=this.scale)===null||se===void 0?void 0:se.callback.apply(se,(0,za.Z)(Tt));if(!Va()(Oe))return[Oe]}return this.defaultCallback(Tt)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),oe}(),xe,be,pe,vt,gt,dt;function Dt(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function te(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Dt(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Dt(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function We(oe){return new Promise(function(ue){return setTimeout(ue,oe)})}var cr=(xe={},(0,e.Z)(xe,fa.gl.FLOAT,4),(0,e.Z)(xe,fa.gl.UNSIGNED_BYTE,1),(0,e.Z)(xe,fa.gl.UNSIGNED_SHORT,2),xe),zr=(be=(0,s.b2)(),pe=(0,s.f3)(o.v.IRendererService),be(vt=(gt=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"attributesAndIndices",void 0),(0,sr.Z)(this,"rendererService",dt,this),(0,e.Z)(this,"attributes",[]),(0,e.Z)(this,"triangulation",void 0),(0,e.Z)(this,"featureLayout",{sizePerElement:0,elements:[]})}return(0,r.Z)(oe,[{key:"registerStyleAttribute",value:function(Tt){var Lt=this.getLayerStyleAttribute(Tt.name||"");return Lt?Lt.setProps(Tt):(Lt=new ro(Tt),this.attributes.push(Lt)),Lt}},{key:"updateStyleAttribute",value:function(Tt,Lt,se){var Oe=this.getLayerStyleAttribute(Tt);Oe||(Oe=this.registerStyleAttribute(te(te({},Lt),{},{name:Tt})));var Rr=Lt.scale;Rr&&Oe&&(Oe.scale=Rr,Oe.needRescale=!0,Oe.needRemapping=!0,Oe.needRegenerateVertices=!0,se&&se.featureRange&&(Oe.featureRange=se.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(Tt){return this.attributes.find(function(Lt){return Lt.name===Tt})}},{key:"getLayerAttributeScale",value:function(Tt){var Lt,se=this.getLayerStyleAttribute(Tt),Oe=se==null||(Lt=se.scale)===null||Lt===void 0?void 0:Lt.scalers;return Oe&&Oe[0]?Oe[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(Tt,Lt){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Oe=arguments.length>3?arguments[3]:void 0,Rr=this.attributes.find(function($o){return $o.name===Tt});if(Rr&&Rr.descriptor){var on=Rr.descriptor,Wr=on.update,bn=on.buffer,ai=on.size,ra=ai===void 0?0:ai,ua=cr[bn.type||fa.gl.FLOAT];if(Wr){var ba=this.featureLayout,Da=ba.elements,Ra=ba.sizePerElement,no=Da.slice(se,Oe);if(!no.length)return;var bo=no[0].offset,Po=bo*ra*ua,Ts=no.map(function($o,eu){for(var hs=$o.featureIdx,Mo=$o.vertices,Ao=$o.normals,ws=Mo.length/Ra,Xs=[],As=0;As<ws;As++){var xu=Ao?Ao.slice(As*3,As*3+3):[];Xs.push.apply(Xs,(0,za.Z)(Wr(Lt[hs],hs,Mo.slice(As*Ra,As*Ra+Ra),eu,xu)))}return Xs}).reduce(function($o,eu){return $o.push.apply($o,(0,za.Z)(eu)),$o},[]);Rr.vertexAttribute.updateBuffer({data:Ts,offset:Po})}}}},{key:"createAttributesAndIndices",value:function(Tt,Lt,se){var Oe=this;this.featureLayout={sizePerElement:0,elements:[]},Lt&&(this.triangulation=Lt);var Rr=this.attributes.map(function(Po){return Po.resetDescriptor(),Po.descriptor}),on=0,Wr=[],bn=[],ai=[],ra=3;Tt.forEach(function(Po,Ts){var $o=Oe.triangulation(Po,se),eu=$o.indices,hs=$o.vertices,Mo=$o.normals,Ao=$o.size;eu.forEach(function(xu){bn.push(xu+on)}),ra=Ao;var ws=hs.length/Ao;Oe.featureLayout.sizePerElement=ra,Oe.featureLayout.elements.push({featureIdx:Ts,vertices:hs,normals:Mo,offset:on}),on+=ws;for(var Xs=function(Su){var Gu=(Mo==null?void 0:Mo.slice(Su*3,Su*3+3))||[],qu=hs.slice(Su*Ao,Su*Ao+Ao);Rr.forEach(function(Ru,Bu){if(Ru&&Ru.update){var Yu;(Yu=Ru.buffer.data).push.apply(Yu,(0,za.Z)(Ru.update(Po,Ts,qu,Su,Gu)))}})},As=0;As<ws;As++)Xs(As)});var ua=this.rendererService,ba=ua.createAttribute,Da=ua.createBuffer,Ra=ua.createElements,no={};Rr.forEach(function(Po,Ts){if(Po){var $o=Po.buffer,eu=Po.update,hs=Po.name,Mo=(0,to.Z)(Po,["buffer","update","name"]),Ao=ba(te({buffer:Da($o)},Mo));no[Po.name||""]=Ao,Oe.attributes[Ts].vertexAttribute=Ao}});var bo=Ra({data:bn,type:fa.gl.UNSIGNED_INT,count:bn.length});return this.attributesAndIndices={attributes:no,elements:bo},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var Tt;this.attributes.forEach(function(Lt){Lt.vertexAttribute&&Lt.vertexAttribute.destroy()}),(Tt=this.attributesAndIndices)===null||Tt===void 0||Tt.elements.destroy(),this.attributes=[]}}]),oe}(),dt=(0,Dr.Z)(gt.prototype,"rendererService",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt))||vt),Rt=S(46343),Si=S(67709),ri=S.n(Si),k,rt,Bt,yt,ne,_e,or,jr,_r,Pn,Ln,Li,sa,Ki,Ea,pa,Fa,Ua,vo,No,Yo,Ds,Go,Io,xo,Lo,Fo,so,Qo,Jo,So,ds,ns;function qo(oe){var ue=is();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function is(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Xo=(k=(0,s.b2)(),rt=(0,s.f3)(o.v.SceneID),Bt=(0,s.f3)(o.v.IIconService),yt=(0,s.f3)(o.v.IFontService),ne=(0,s.f3)(o.v.IControlService),_e=(0,s.f3)(o.v.IGlobalConfigService),or=(0,s.f3)(o.v.IMapService),jr=(0,s.f3)(o.v.ICoordinateSystemService),_r=(0,s.f3)(o.v.IRendererService),Pn=(0,s.f3)(o.v.ILayerService),Ln=(0,s.f3)(o.v.ICameraService),Li=(0,s.f3)(o.v.IInteractionService),sa=(0,s.f3)(o.v.IPickingService),Ki=(0,s.f3)(o.v.IShaderModuleService),Ea=(0,s.f3)(o.v.IMarkerService),pa=(0,s.f3)(o.v.IPopupService),k(Fa=(Ua=function(oe){(0,ct.Z)(Tt,oe);var ue=qo(Tt);function Tt(){var Lt;return(0,f.Z)(this,Tt),Lt=ue.call(this),(0,e.Z)((0,H.Z)(Lt),"destroyed",!1),(0,e.Z)((0,H.Z)(Lt),"loaded",!1),(0,e.Z)((0,H.Z)(Lt),"loadFont",!1),(0,e.Z)((0,H.Z)(Lt),"fontFamily",""),(0,sr.Z)((0,H.Z)(Lt),"id",vo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"iconService",No,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"fontService",Yo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"controlService",Ds,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"configService",Go,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"map",Io,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"coordinateSystemService",xo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"rendererService",Lo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"layerService",Fo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"cameraService",so,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"interactionService",Qo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"pickingService",Jo,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"shaderModuleService",So,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"markerService",ds,(0,H.Z)(Lt)),(0,sr.Z)((0,H.Z)(Lt),"popupService",ns,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"inited",!1),(0,e.Z)((0,H.Z)(Lt),"initPromise",void 0),(0,e.Z)((0,H.Z)(Lt),"rendering",!1),(0,e.Z)((0,H.Z)(Lt),"$container",void 0),(0,e.Z)((0,H.Z)(Lt),"canvas",void 0),(0,e.Z)((0,H.Z)(Lt),"markerContainer",void 0),(0,e.Z)((0,H.Z)(Lt),"hooks",void 0),(0,e.Z)((0,H.Z)(Lt),"handleWindowResized",function(){Lt.emit("resize"),Lt.$container&&(Lt.initContainer(),n.SO.triggerResize(),Lt.coordinateSystemService.needRefresh=!0,Lt.render())}),(0,e.Z)((0,H.Z)(Lt),"handleMapCameraChanged",function(se){Lt.cameraService.update(se),Lt.render("mapRender")}),Lt.hooks={init:new Rt.zj},Lt}return(0,r.Z)(Tt,[{key:"init",value:function(se){var Oe=this;this.configService.setSceneConfig(this.id,se),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,ar.Z)(Rn().mark(function Rr(){return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:return Wr.next=2,new Promise(function(bn){Oe.map.onCameraChanged(function(ai){Oe.cameraService.init(),Oe.cameraService.update(ai),Oe.map.version!=="GAODE2.x"&&bn()}),Oe.map.version!=="GAODE2.x"?Oe.map.init():bn()});case 2:if(!(Oe.map.version==="GAODE2.x"&&Oe.map.initViewPort)){Wr.next=6;break}return Wr.next=5,Oe.map.init();case 5:Oe.map.initViewPort();case 6:Oe.map.onCameraChanged(Oe.handleMapCameraChanged),Oe.map.addMarkerContainer(),Oe.markerService.addMarkers(),Oe.markerService.addMarkerLayers(),Oe.popupService.initPopup(),Oe.interactionService.init(),Oe.interactionService.on(He.s.Drag,Oe.addSceneEvent.bind(Oe));case 13:case"end":return Wr.stop()}},Rr)}))),this.hooks.init.tapPromise("initRenderer",(0,ar.Z)(Rn().mark(function Rr(){var on;return Rn().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(on=da(Oe.configService.getSceneConfig(Oe.id).id||""),Oe.$container=on,!on){bn.next=11;break}return Oe.canvas=n.SO.create("canvas","",on),Oe.setCanvas(),bn.next=7,Oe.rendererService.init(Oe.canvas,Oe.configService.getSceneConfig(Oe.id));case 7:ri()(Oe.$container,Oe.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(Oe.handleWindowResized),bn.next=12;break;case 11:console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");case 12:Oe.pickingService.init(Oe.id);case 13:case"end":return bn.stop()}},Rr)}))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(se){this.layerService.add(se),this.render()}},{key:"render",value:function(){var Lt=(0,ar.Z)(Rn().mark(function Oe(Rr){return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:if(!(this.rendering||this.destroyed)){Wr.next=2;break}return Wr.abrupt("return");case 2:if(this.rendering=!0,this.inited){Wr.next=15;break}return Wr.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!(this.loadFont&&document.fonts)){Wr.next=10;break}return Wr.next=10,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 10:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 15:this.layerService.renderLayers(Rr),this.rendering=!1;case 17:case"end":return Wr.stop()}},Oe,this)}));function se(Oe){return Lt.apply(this,arguments)}return se}()},{key:"addFontFace",value:function(se,Oe){this.fontFamily=se;var Rr=document.createElement("style");Rr.type="text/css",Rr.innerText=`
        @font-face{
            font-family: '`.concat(se,`';
            src: url('`).concat(Oe,`') format('woff2'),
            url('`).concat(Oe,`') format('woff'),
            url('`).concat(Oe,`') format('truetype');
        }`),document.getElementsByTagName("head")[0].appendChild(Rr),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(se){var Oe,Rr=(Oe=this.$container)===null||Oe===void 0?void 0:Oe.getElementsByTagName("canvas")[0];this.render();var on=se==="jpg"?Rr==null?void 0:Rr.toDataURL("image/jpeg"):Rr==null?void 0:Rr.toDataURL("image/png");return on}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var se=this.$container.parentElement;se!==null&&(this.markerContainer=n.SO.create("div","l7-marker-container",se))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var se,Oe;if(!this.inited){this.destroyed=!0;return}this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),(se=this.$container)===null||se===void 0||(Oe=se.parentNode)===null||Oe===void 0||Oe.removeChild(this.$container),this.removeAllListeners(),this.inited=!1,(0,Si.unbind)(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)}},{key:"initContainer",value:function(){var se,Oe,Rr=n.SO.DPR,on=((se=this.$container)===null||se===void 0?void 0:se.clientWidth)||400,Wr=((Oe=this.$container)===null||Oe===void 0?void 0:Oe.clientHeight)||300,bn=this.canvas;bn&&(bn.width=on*Rr,bn.height=Wr*Rr,bn.style.width="".concat(on,"px"),bn.style.height="".concat(Wr,"px")),this.rendererService.viewport({x:0,y:0,width:Rr*on,height:Rr*Wr})}},{key:"setCanvas",value:function(){var se,Oe,Rr=n.SO.DPR,on=((se=this.$container)===null||se===void 0?void 0:se.clientWidth)||400,Wr=((Oe=this.$container)===null||Oe===void 0?void 0:Oe.clientHeight)||300,bn=this.canvas;bn.width=on*Rr,bn.height=Wr*Rr,bn.style.width="".concat(on,"px"),bn.style.height="".concat(Wr,"px")}},{key:"addSceneEvent",value:function(se){this.emit(se.type,se)}}]),Tt}(t.EventEmitter),vo=(0,Dr.Z)(Ua.prototype,"id",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=(0,Dr.Z)(Ua.prototype,"iconService",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=(0,Dr.Z)(Ua.prototype,"fontService",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=(0,Dr.Z)(Ua.prototype,"controlService",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=(0,Dr.Z)(Ua.prototype,"configService",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=(0,Dr.Z)(Ua.prototype,"map",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=(0,Dr.Z)(Ua.prototype,"coordinateSystemService",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=(0,Dr.Z)(Ua.prototype,"rendererService",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=(0,Dr.Z)(Ua.prototype,"layerService",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=(0,Dr.Z)(Ua.prototype,"cameraService",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=(0,Dr.Z)(Ua.prototype,"interactionService",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=(0,Dr.Z)(Ua.prototype,"pickingService",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=(0,Dr.Z)(Ua.prototype,"shaderModuleService",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=(0,Dr.Z)(Ua.prototype,"markerService",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=(0,Dr.Z)(Ua.prototype,"popupService",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua))||Fa),as=S(44908),$a=S.n(as);function Eu(oe){var ue=0;switch(oe){case"vec2":case"ivec2":ue=2;break;case"vec3":case"ivec3":ue=3;break;case"vec4":case"ivec4":case"mat2":ue=4;break;case"mat3":ue=9;break;case"mat4":ue=16;break;default:}return ue}var pu=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Qs(oe){var ue={};return oe=oe.replace(pu,function(Tt,Lt,se){var Oe=se.split(":"),Rr=Oe[0].trim(),on="";switch(Oe.length>1&&(on=Oe[1].trim()),Lt){case"bool":on=on==="true";break;case"float":case"int":on=Number(on);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":on?on=on.replace("[","").replace("]","").split(",").reduce(function(Wr,bn){return Wr.push(Number(bn.trim())),Wr},[]):on=new Array(Eu(Lt)).fill(0);break;default:}return ue[Rr]=on,"uniform ".concat(Lt," ").concat(Rr,`;
`)}),{content:oe,uniforms:ue}}var au,Ko;function ie(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function ce(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?ie(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):ie(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}var Kt="#define PI 3.14159265359",De=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,br=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,Tn=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}

// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {
//   vec3 lightDir = normalize(light.position - fragPos);
//   // diffuse shading
//   float diff = max(dot(normal, lightDir), 0.0);
//   // specular shading
//   vec3 reflectDir = reflect(-lightDir, normal);
//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);
//   // attenuation
//   float distance = length(light.position - fragPos);
//   float attenuation = 1.0 / (light.constant + light.linear * distance +
//           light.quadratic * (distance * distance));

//   vec3 ambient = light.ambient * u_Ambient;
//   vec3 diffuse = light.diffuse * diff * u_Diffuse;
//   vec3 specular = light.specular * spec * u_Specular;

//   float spotEffect = dot(normalize(light.direction), -lightDir);
//   float spotCosCutoff = cos(light.angle / 180.0 * PI);
//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);
//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);
//   if (spotEffect > spotCosCutoff) {
//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);
//   } else {
//     spotEffect = 0.0;
//   }

//   return ambient + attenuation * (spotEffect * diffuse + specular);
// }

vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {
  //   if (i >= u_NumOfSpotLights) {
  //     break;
  //   }
  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);
  // }
  return weight;
}
`,gi=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,Oi=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,Di=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,ta=`#define TILE_SIZE 512.0
#define PI 3.1415926536
#define WORLD_SCALE TILE_SIZE / (PI * 2.0)

#define COORDINATE_SYSTEM_LNGLAT 1.0
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0
#define COORDINATE_SYSTEM_P20_OFFSET 6.0
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0

uniform mat4 u_ViewMatrix;
uniform mat4 u_ProjectionMatrix;
uniform mat4 u_ViewProjectionMatrix;
uniform float u_Zoom : 1;
uniform float u_ZoomScale : 1;

uniform float u_CoordinateSystem;
uniform vec2 u_ViewportCenter;
uniform vec4 u_ViewportCenterProjection;
uniform vec3 u_PixelsPerDegree;
uniform vec3 u_PixelsPerDegree2;
uniform vec3 u_PixelsPerMeter;

uniform vec2 u_ViewportSize;
uniform float u_DevicePixelRatio;
uniform float u_FocalDistance;
uniform vec3 u_CameraPosition;

// uniform mat4 u_Mvp;

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(
    radians(x) + PI,
    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))
  );
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}


// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1., 1.);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01
    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}
// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01
// reverse Y
vec3 reverse_offset_normal(vec3 vector) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {
    return vector * vec3(1.0, -1.0, 1.0);
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return vector;
  }
  return vector;
}

vec4 project_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(vec4(X, Y, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return vec4(
      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),
      project_scale(position.z),
      position.w
    );
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // return vec4(
    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), 
    //   project_scale(position.z), 
    //   position.w);

     return vec4(
      position.xy, 
      project_scale(position.z), 
      position.w);
  }
  return position;

  // TODO: \u74E6\u7247\u5750\u6807\u7CFB & \u5E38\u89C4\u4E16\u754C\u5750\u6807\u7CFB
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

float project_pixel_allmap(float pixel) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
    return pixel * pow(2.0, u_Zoom);
  }
  return pixel;
}

float project_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel;
}
vec2 project_pixel(vec2 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));
  }
  return pixel * -1.;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
     pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}


bool isEqual( float a,  float b) {
    return  a< b + 0.001 && a > b - 0.001;
}`,ha=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,Ba=`attribute float a_vertexId;

uniform mat4 u_cellTypeLayout;      // \u63CF\u8FF0\u6570\u636E\u7EB9\u7406 cell \u7ED3\u6784\u7684\u77E9\u9635
uniform sampler2D u_dataTexture;    // \u6570\u636E\u7EB9\u7406

bool hasOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 opacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeOpacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeWidth() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeWidth \u7684\u6570\u636E
  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStroke() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 stroke \u7684\u6570\u636E
  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasOffsets() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 offsets \u7684\u6570\u636E
  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

// \u6839\u636E\u5750\u6807\u4F4D\u7F6E\u5148\u662F\u8BA1\u7B97 uv \uFF0C\u7136\u540E\u6839\u636E uv \u4ECE\u6570\u636E\u7EB9\u7406\u4E2D\u53D6\u503C
float pos2value(vec2 pos, float columnWidth, float rowHeight) {
  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;
  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);
  return texture2D(u_dataTexture, vec2(u, v)).r;
}

/*
  currentRow \u5F53\u524D\u884C
  currentColumn \u5F53\u524D\u5217
  columnCount \u6709\u591A\u5C11\u5217
  nextStep \u9700\u8981\u8BA1\u7B97\u5F53\u524D cell \u540E\u7684\u7B2C\u51E0\u4E2A cell \uFF08\u5F53\u524D cell \u5219 nextStep = 0\uFF09
*/
vec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {
  float nextColumn = currentColumn;
  float nextRow = currentRow;
  if(currentColumn + nextStep <= columnCount){
    nextColumn = currentColumn + nextStep;
  } else {
    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4E0D\u4F1A\u51FA\u73B0\u8DE8\u4E24\u884C
    nextRow = currentRow + 1.0;
  }
  return vec2(nextColumn, nextRow);
}

// \u8BA1\u7B97\u5F53\u524D\u5355\u4E2A cell \u7684\u5927\u5C0F
float calCellCount() { 
  //   u_cellTypeLayout
  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51E0\u884C\u51E0\u5217
  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793A\u6709\u6570\u636E\u6620\u5C04\u30010.0 \u8868\u793A\u6CA1\u6709
  //   1.0, 0.0, 0.0, 0.0, // offsets
  //   0.0, 0.0, 0.0, 0.0
  
  return  u_cellTypeLayout[1][0] +        // opacity
          u_cellTypeLayout[1][1] +        // strokeOpacity
          u_cellTypeLayout[1][2] +        // strokeWidth
          u_cellTypeLayout[1][3] * 4.0 +  // stroke
          u_cellTypeLayout[2][0] * 2.0;   // offsets
}`,na=`
// \u8BA1\u7B97 opacity \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasOpacity()) { // \u6570\u636E\u7EB9\u7406\u4E2D\u4E0D\u5B58\u5728 opacity \u7684\u65F6\u5019\u53D6\u9ED8\u8BA4\u503C\uFF08\u7528\u6237\u5728 style \u4E2D\u4F20\u5165\u7684\u662F\u5E38\u91CF\uFF09
    return vec2(u_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureOpacity, textureOffset + 1.0);
  }
}
`,ts=`
// \u8BA1\u7B97 strokeOpaicty \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeOpacity()) {
    return vec2(u_stroke_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeOpacity, textureOffset + 1.0);
  }
}
`,po=`
// \u8BA1\u7B97 strokeWidth \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeWidth()) {
    return vec2(u_stroke_width, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeWidth, textureOffset + 1.0);
  }
}
`,uo=/precision\s+(high|low|medium)p\s+float/,Zo=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Qa=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,go=(au=(0,s.b2)(),au(Ko=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"moduleCache",{}),(0,e.Z)(this,"rawContentCache",{})}return(0,r.Z)(oe,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:Kt,fs:Kt}),this.registerModule("decode",{vs:De,fs:""}),this.registerModule("projection",{vs:ta,fs:""}),this.registerModule("project",{vs:Di,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:ha}),this.registerModule("lighting",{vs:Tn,fs:""}),this.registerModule("light",{vs:br,fs:""}),this.registerModule("picking",{vs:Oi,fs:gi}),this.registerModule("styleMapping",{vs:Ba,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:na,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:ts,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:po,fs:""})}},{key:"registerModule",value:function(Tt,Lt){if(!this.rawContentCache[Tt]){var se=Lt.vs,Oe=Lt.fs,Rr=Lt.uniforms,on=Qs(se),Wr=on.content,bn=on.uniforms,ai=Qs(Oe),ra=ai.content,ua=ai.uniforms;this.rawContentCache[Tt]={fs:ra,uniforms:ce(ce(ce({},bn),ua),Rr),vs:Wr}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(Tt){var Lt=this;if(this.moduleCache[Tt])return this.moduleCache[Tt];var se=this.rawContentCache[Tt].vs,Oe=this.rawContentCache[Tt].fs,Rr=this.processModule(se,[],"vs"),on=Rr.content,Wr=Rr.includeList,bn=this.processModule(Oe,[],"fs"),ai=bn.content,ra=bn.includeList,ua=ai,ba=$a()(Wr.concat(ra).concat(Tt)).reduce(function(Da,Ra){return ce(ce({},Da),Lt.rawContentCache[Ra].uniforms)},{});return uo.test(ai)||(ua=Zo+ai),this.moduleCache[Tt]={fs:ua.trim(),uniforms:ba,vs:on.trim()},this.moduleCache[Tt]}},{key:"processModule",value:function(Tt,Lt,se){var Oe=this,Rr=Tt.replace(Qa,function(on,Wr){var bn=Wr.split(" "),ai=bn[0].replace(/"/g,"");if(Lt.indexOf(ai)>-1)return"";var ra=Oe.rawContentCache[ai][se];Lt.push(ai);var ua=Oe.processModule(ra,Lt,se),ba=ua.content;return ba});return{content:Rr,includeList:Lt}}}]),oe}())||Ko),fs=S(66213),es=S(92364),Rs,os,ss,Bo,Zs,Ss=(Rs=(0,s.b2)(),os=(0,s.f3)(o.v.IShaderModuleService),Rs(ss=(Bo=function(){function oe(){(0,f.Z)(this,oe),(0,sr.Z)(this,"shaderModuleService",Zs,this),(0,e.Z)(this,"rendererService",void 0),(0,e.Z)(this,"cameraService",void 0),(0,e.Z)(this,"mapService",void 0),(0,e.Z)(this,"interactionService",void 0),(0,e.Z)(this,"layerService",void 0),(0,e.Z)(this,"config",void 0)}return(0,r.Z)(oe,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return es.G.Normal}},{key:"init",value:function(Tt,Lt){this.config=Lt,this.rendererService=Tt.getContainer().get(o.v.IRendererService),this.cameraService=Tt.getContainer().get(o.v.ICameraService),this.mapService=Tt.getContainer().get(o.v.IMapService),this.interactionService=Tt.getContainer().get(o.v.IInteractionService),this.layerService=Tt.getContainer().get(o.v.ILayerService)}},{key:"render",value:function(Tt){}}]),oe}(),Zs=(0,Dr.Z)(Bo.prototype,"shaderModuleService",[os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo))||ss),Ns,Fs;function bu(oe){var ue=Cu();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Cu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Bs=(Ns=(0,s.b2)(),Ns(Fs=function(oe){(0,ct.Z)(Tt,oe);var ue=bu(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(se,Oe){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Oe)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),Tt}(Ss))||Fs),ou,Js,gu,qs,js;function Ws(oe,ue){var Tt=typeof Symbol!="undefined"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Tt){if(Array.isArray(oe)||(Tt=Nu(oe))||ue&&oe&&typeof oe.length=="number"){Tt&&(oe=Tt);var Lt=0,se=function(){};return{s:se,n:function(){return Lt>=oe.length?{done:!0}:{done:!1,value:oe[Lt++]}},e:function(bn){throw bn},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe=!0,Rr=!1,on;return{s:function(){Tt=Tt.call(oe)},n:function(){var bn=Tt.next();return Oe=bn.done,bn},e:function(bn){Rr=!0,on=bn},f:function(){try{!Oe&&Tt.return!=null&&Tt.return()}finally{if(Rr)throw on}}}}function Nu(oe,ue){if(!!oe){if(typeof oe=="string")return su(oe,ue);var Tt=Object.prototype.toString.call(oe).slice(8,-1);if(Tt==="Object"&&oe.constructor&&(Tt=oe.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(oe);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return su(oe,ue)}}function su(oe,ue){(ue==null||ue>oe.length)&&(ue=oe.length);for(var Tt=0,Lt=new Array(ue);Tt<ue;Tt++)Lt[Tt]=oe[Tt];return Lt}var Pu=(ou=(0,s.b2)(),Js=(0,s.f3)(o.v.IPostProcessor),ou(gu=(qs=function(){function oe(){(0,f.Z)(this,oe),(0,e.Z)(this,"passes",[]),(0,sr.Z)(this,"postProcessor",js,this),(0,e.Z)(this,"layer",void 0),(0,e.Z)(this,"renderFlag",void 0),(0,e.Z)(this,"width",0),(0,e.Z)(this,"height",0)}return(0,r.Z)(oe,[{key:"setLayer",value:function(Tt){this.layer=Tt}},{key:"setRenderFlag",value:function(Tt){this.renderFlag=Tt}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var ue=(0,ar.Z)(Rn().mark(function Lt(){var se,Oe,Rr;return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:se=Ws(this.passes),Wr.prev=1,se.s();case 3:if((Oe=se.n()).done){Wr.next=9;break}return Rr=Oe.value,Wr.next=7,Rr.render(this.layer);case 7:Wr.next=3;break;case 9:Wr.next=14;break;case 11:Wr.prev=11,Wr.t0=Wr.catch(1),se.e(Wr.t0);case 14:return Wr.prev=14,se.f(),Wr.finish(14);case 17:this.layer.renderModels();case 18:case"end":return Wr.stop()}},Lt,this,[[1,11,14,17]])}));function Tt(){return ue.apply(this,arguments)}return Tt}()},{key:"resize",value:function(Tt,Lt){(this.width!==Tt||this.height!==Lt)&&(this.width=Tt,this.height=Lt)}},{key:"add",value:function(Tt,Lt){Tt.getType()===es.G.PostProcessing?this.postProcessor.add(Tt,this.layer,Lt):(Tt.init(this.layer,Lt),this.passes.push(Tt))}},{key:"insert",value:function(Tt,Lt,se){Tt.init(this.layer,Lt),this.passes.splice(se,0,Tt)}},{key:"destroy",value:function(){this.passes.length=0}}]),oe}(),js=(0,Dr.Z)(qs.prototype,"postProcessor",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qs))||gu),vu,Es;function mu(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Ou(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?mu(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):mu(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Gs(oe){var ue=Co();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Co(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var cs=(vu=(0,s.b2)(),vu(Es=function(oe){(0,ct.Z)(Tt,oe);var ue=Gs(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Oe=new Array(se),Rr=0;Rr<se;Rr++)Oe[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Oe)),(0,e.Z)((0,H.Z)(Lt),"pickingFBO",void 0),(0,e.Z)((0,H.Z)(Lt),"layer",void 0),(0,e.Z)((0,H.Z)(Lt),"width",0),(0,e.Z)((0,H.Z)(Lt),"height",0),(0,e.Z)((0,H.Z)(Lt),"alreadyInRendering",!1),(0,e.Z)((0,H.Z)(Lt),"pickFromPickingFBO",function(on){var Wr=on.x,bn=on.y,ai=on.lngLat,ra=on.type;if(!(!Lt.layer.isVisible()||!Lt.layer.needPick(ra))){var ua=Lt.rendererService,ba=ua.getViewportSize,Da=ua.readPixels,Ra=ua.useFramebuffer,no=ba(),bo=no.width,Po=no.height,Ts=Lt.layer.getLayerConfig(),$o=Ts.enableHighlight,eu=Ts.enableSelect,hs=Wr*n.SO.DPR,Mo=bn*n.SO.DPR;if(!(hs>bo||hs<0||Mo>Po||Mo<0)){var Ao;Ra(Lt.pickingFBO,function(){var ws;if(Ao=Da({x:Math.round(hs),y:Math.round(Po-(bn+1)*n.SO.DPR),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Lt.pickingFBO}),Ao[0]!==0||Ao[1]!==0||Ao[2]!==0){var Xs=(0,n.W0)(Ao),As=Lt.layer.getSource().getFeatureById(Xs),xu={x:Wr,y:bn,type:ra,lngLat:ai,featureId:Xs,feature:As};As&&(Lt.layer.setCurrentPickId(Xs),Lt.triggerHoverOnLayer(xu))}else{var Su={x:Wr,y:bn,lngLat:ai,type:Lt.layer.getCurrentPickId()===null?"un"+ra:"mouseout",featureId:null,feature:null};Lt.triggerHoverOnLayer(Ou(Ou({},Su),{},{type:"unpick"})),Lt.triggerHoverOnLayer(Su),Lt.layer.setCurrentPickId(null)}$o&&Lt.highlightPickedFeature(Ao),eu&&ra==="click"&&((ws=Ao)===null||ws===void 0?void 0:ws.toString())!==[0,0,0,0].toString()&&Lt.selectFeature(Ao)})}}}),Lt}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(se,Oe){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Oe),this.layer=se;var Rr=this.rendererService,on=Rr.createTexture2D,Wr=Rr.createFramebuffer,bn=Rr.getViewportSize,ai=bn(),ra=ai.width,ua=ai.height;this.pickingFBO=Wr({color:on({width:ra,height:ua,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.interactionService.on(He.s.Hover,this.pickFromPickingFBO),this.interactionService.on(He.s.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(He.s.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(se){var Oe=this;if(!this.alreadyInRendering){var Rr=this.rendererService,on=Rr.getViewportSize,Wr=Rr.useFramebuffer,bn=Rr.clear,ai=on(),ra=ai.width,ua=ai.height;this.alreadyInRendering=!0,(this.width!==ra||this.height!==ua)&&(this.pickingFBO.resize({width:ra,height:ua}),this.width=ra,this.height=ua),Wr(this.pickingFBO,function(){bn({framebuffer:Oe.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var ba=Oe.layer.multiPassRenderer.getRenderFlag();Oe.layer.multiPassRenderer.setRenderFlag(!1),se.hooks.beforePickingEncode.call(),se.render(),se.hooks.afterPickingEncode.call(),Oe.layer.multiPassRenderer.setRenderFlag(ba),Oe.alreadyInRendering=!1})}}},{key:"triggerHoverOnLayer",value:function(se){this.layer.emit(se.type,se)}},{key:"highlightPickedFeature",value:function(se){var Oe=(0,St.Z)(se,3),Rr=Oe[0],on=Oe[1],Wr=Oe[2];this.layer.hooks.beforeHighlight.call([Rr,on,Wr]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(se){var Oe=(0,St.Z)(se,3),Rr=Oe[0],on=Oe[1],Wr=Oe[2];this.layer.hooks.beforeSelect.call([Rr,on,Wr]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(se){var Oe=se.featureId,Rr=(0,n.Z6)(Oe);this.selectFeature(new Uint8Array(Rr))}},{key:"highlightFeatureHandle",value:function(se){var Oe=se.featureId,Rr=(0,n.Z6)(Oe);this.highlightPickedFeature(new Uint8Array(Rr))}}]),Tt}(Ss))||Es),us=S(69530),lo,_s;function jo(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Wo(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?jo(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):jo(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Vs(oe){var ue=uu();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function uu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var tu=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,Hs=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,bs=(lo=(0,s.b2)(),lo(_s=function(oe){(0,ct.Z)(Tt,oe);var ue=Vs(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Hs,fs:tu});var se=this.shaderModuleService.getModule("blur-pass"),Oe=se.vs,Rr=se.fs,on=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Oe,fs:Rr,uniforms:Wo(Wo({},on),{},{u_ViewportSize:[bn,ai]})}}},{key:"convertOptionsToUniforms",value:function(se){var Oe={};return Va()(se.blurRadius)||(Oe.u_BlurDir=[se.blurRadius,0]),Oe}}]),Tt}(us.Z))||_s),ps,Ut;function Xt(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Ze(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Xt(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Xt(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function Ie(oe){var ue=xr();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function xr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Zr=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,sn=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Mn=(ps=(0,s.b2)(),ps(Ut=function(oe){(0,ct.Z)(Tt,oe);var ue=Ie(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:sn,fs:Zr});var se=this.shaderModuleService.getModule("blur-pass"),Oe=se.vs,Rr=se.fs,on=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Oe,fs:Rr,uniforms:Ze(Ze({},on),{},{u_ViewportSize:[bn,ai]})}}},{key:"convertOptionsToUniforms",value:function(se){var Oe={};return Va()(se.blurRadius)||(Oe.u_BlurDir=[0,se.blurRadius]),Oe}}]),Tt}(us.Z))||Ut),In,kn;function nn(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function wn(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?nn(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):nn(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function bt(oe){var ue=jt();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function jt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Jt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,re=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,st=(In=(0,s.b2)(),In(kn=function(oe){(0,ct.Z)(Tt,oe);var ue=bt(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:re,fs:Jt});var se=this.shaderModuleService.getModule("colorhalftone-pass"),Oe=se.vs,Rr=se.fs,on=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Oe,fs:Rr,uniforms:wn(wn({},on),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||kn),Et,_t;function wt(oe){var ue=Qt();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Qt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Pe=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,ve=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,we=(Et=(0,s.b2)(),Et(_t=function(oe){(0,ct.Z)(Tt,oe);var ue=wt(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:ve,fs:Pe}),this.shaderModuleService.getModule("copy-pass")}}]),Tt}(us.Z))||_t),Re,Qe;function Ye(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Cr(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Ye(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Ye(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function gr(oe){var ue=Ur();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Ur(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var pr=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Fr=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Hr=(Re=(0,s.b2)(),Re(Qe=function(oe){(0,ct.Z)(Tt,oe);var ue=gr(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:Fr,fs:pr});var se=this.shaderModuleService.getModule("hexagonalpixelate-pass"),Oe=se.vs,Rr=se.fs,on=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Oe,fs:Rr,uniforms:Cr(Cr({},on),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||Qe),Sn,Nn;function cn(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Fn(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?cn(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):cn(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function qn(oe){var ue=Ci();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Ci(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Ti=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Oa=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,va=(Sn=(0,s.b2)(),Sn(Nn=function(oe){(0,ct.Z)(Tt,oe);var ue=qn(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:Oa,fs:Ti});var se=this.shaderModuleService.getModule("ink-pass"),Oe=se.vs,Rr=se.fs,on=se.uniforms,Wr=this.rendererService.getViewportSize(),bn=Wr.width,ai=Wr.height;return{vs:Oe,fs:Rr,uniforms:Fn(Fn({},on),{},{u_ViewportSize:[bn,ai]})}}}]),Tt}(us.Z))||Nn),ma,Bn;function ci(oe){var ue=Ha();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Ha(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Wa=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,Xn=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ja=(ma=(0,s.b2)(),ma(Bn=function(oe){(0,ct.Z)(Tt,oe);var ue=ci(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:Xn,fs:Wa}),this.shaderModuleService.getModule("noise-pass")}}]),Tt}(us.Z))||Bn),fo,Do;function Ro(oe){var ue=Ys();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Ys(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var gs=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,yu=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`,Tu=(fo=(0,s.b2)(),fo(Do=function(oe){(0,ct.Z)(Tt,oe);var ue=Ro(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:gs,fs:yu}),this.shaderModuleService.getModule("sepia-pass")}}]),Tt}(us.Z))||Do),lu,eo,pt,mt,Pt,It,Ht=(lu=(0,s.b2)(),eo=(0,s.f3)(o.v.IRendererService),pt=(0,s.zY)(),lu(mt=(Pt=function(){function oe(){(0,f.Z)(this,oe),(0,sr.Z)(this,"rendererService",It,this),(0,e.Z)(this,"passes",[]),(0,e.Z)(this,"readFBO",void 0),(0,e.Z)(this,"writeFBO",void 0)}return(0,r.Z)(oe,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var ue=(0,ar.Z)(Rn().mark(function Lt(se){var Oe,Rr;return Rn().wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:Oe=0;case 1:if(!(Oe<this.passes.length)){Wr.next=10;break}return Rr=this.passes[Oe],Rr.setRenderToScreen(this.isLastEnabledPass(Oe)),Wr.next=6,Rr.render(se);case 6:Oe!==this.passes.length-1&&this.swap();case 7:Oe++,Wr.next=1;break;case 10:case"end":return Wr.stop()}},Lt,this)}));function Tt(Lt){return ue.apply(this,arguments)}return Tt}()},{key:"resize",value:function(Tt,Lt){this.readFBO.resize({width:Tt,height:Lt}),this.writeFBO.resize({width:Tt,height:Lt})}},{key:"add",value:function(Tt,Lt,se){Tt.init(Lt,se),this.passes.push(Tt)}},{key:"insert",value:function(Tt,Lt,se,Oe){Tt.init(se,Oe),this.passes.splice(Lt,0,Tt)}},{key:"getPostProcessingPassByName",value:function(Tt){return this.passes.find(function(Lt){return Lt.getName()===Tt})}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(Tt){for(var Lt=Tt+1;Lt<this.passes.length;Lt++)if(this.passes[Lt].isEnabled())return!1;return!0}},{key:"swap",value:function(){var Tt=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=Tt}}]),oe}(),It=(0,Dr.Z)(Pt.prototype,"rendererService",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Dr.Z)(Pt.prototype,"init",[pt],Object.getOwnPropertyDescriptor(Pt.prototype,"init"),Pt.prototype),Pt))||mt),Gt,qt;function Ne(oe){var ue=Fe();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function Fe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var $e=(Gt=(0,s.b2)(),Gt(qt=function(oe){(0,ct.Z)(Tt,oe);var ue=Ne(Tt);function Tt(){return(0,f.Z)(this,Tt),ue.apply(this,arguments)}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(se,Oe){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Oe)}},{key:"render",value:function(se){var Oe=this.rendererService,Rr=Oe.useFramebuffer,on=Oe.clear;Rr(null,function(){on({color:[0,0,0,0],depth:1,stencil:0}),se.multiPassRenderer.setRenderFlag(!1),se.render(),se.multiPassRenderer.setRenderFlag(!0)})}}]),Tt}(Ss))||qt),hr,Tr,Yr,en,Cn;function Hn(oe,ue){var Tt=Object.keys(oe);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(oe);ue&&(Lt=Lt.filter(function(se){return Object.getOwnPropertyDescriptor(oe,se).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function hi(oe){for(var ue=1;ue<arguments.length;ue++){var Tt=arguments[ue]!=null?arguments[ue]:{};ue%2?Hn(Object(Tt),!0).forEach(function(Lt){(0,e.Z)(oe,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Tt)):Hn(Object(Tt)).forEach(function(Lt){Object.defineProperty(oe,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return oe}function $i(oe){var ue=ga();return function(){var Lt=(0,K.Z)(oe),se;if(ue){var Oe=(0,K.Z)(this).constructor;se=Reflect.construct(Lt,arguments,Oe)}else se=Lt.apply(this,arguments);return(0,ft.Z)(this,se)}}function ga(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}var Pa=`uniform float u_opacity : 1.0;
uniform float u_MixRatio : 0.5;

uniform sampler2D u_Diffuse1;
uniform sampler2D u_Diffuse2;

varying vec2 v_UV;

void main() {
  vec4 texel1 = texture2D(u_Diffuse1, v_UV);
  vec4 texel2 = texture2D(u_Diffuse2, v_UV);
  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);
}
`,Ta=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,La=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;function Eo(oe,ue){for(var Tt=0,Lt=1/ue,se=oe;se>0;)Tt=Tt+Lt*(se%ue),se=Math.floor(se/ue),Lt=Lt/ue;return Tt}var Os=1,ls=(hr=(0,s.b2)(),Tr=(0,s.f3)(o.v.IShaderModuleService),hr(Yr=(en=function(oe){(0,ct.Z)(Tt,oe);var ue=$i(Tt);function Tt(){var Lt;(0,f.Z)(this,Tt);for(var se=arguments.length,Oe=new Array(se),Rr=0;Rr<se;Rr++)Oe[Rr]=arguments[Rr];return Lt=ue.call.apply(ue,[this].concat(Oe)),(0,sr.Z)((0,H.Z)(Lt),"shaderModuleService",Cn,(0,H.Z)(Lt)),(0,e.Z)((0,H.Z)(Lt),"haltonSequence",[]),(0,e.Z)((0,H.Z)(Lt),"accumulatingId",0),(0,e.Z)((0,H.Z)(Lt),"frame",0),(0,e.Z)((0,H.Z)(Lt),"timer",void 0),(0,e.Z)((0,H.Z)(Lt),"sampleRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"prevRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"outputRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"copyRenderTarget",void 0),(0,e.Z)((0,H.Z)(Lt),"blendModel",void 0),(0,e.Z)((0,H.Z)(Lt),"outputModel",void 0),(0,e.Z)((0,H.Z)(Lt),"copyModel",void 0),Lt}return(0,r.Z)(Tt,[{key:"getType",value:function(){return es.G.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(se,Oe){(0,fs.Z)((0,K.Z)(Tt.prototype),"init",this).call(this,se,Oe);var Rr=this.rendererService,on=Rr.createFramebuffer,Wr=Rr.createTexture2D;this.sampleRenderTarget=on({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.prevRenderTarget=on({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.outputRenderTarget=on({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})}),this.copyRenderTarget=on({color:Wr({width:1,height:1,wrapS:fa.gl.CLAMP_TO_EDGE,wrapT:fa.gl.CLAMP_TO_EDGE})});for(var bn=0;bn<30;bn++)this.haltonSequence.push([Eo(bn,2),Eo(bn,3)]);this.blendModel=this.createTriangleModel("blend-pass",Pa),this.outputModel=this.createTriangleModel("copy-pass",Ta,{blend:{enable:!0,func:{srcRGB:fa.gl.ONE,dstRGB:fa.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:fa.gl.ONE,dstAlpha:fa.gl.ONE_MINUS_SRC_ALPHA},equation:{rgb:fa.gl.FUNC_ADD,alpha:fa.gl.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Ta)}},{key:"render",value:function(se){var Oe=this,Rr=this.rendererService,on=Rr.clear,Wr=Rr.getViewportSize,bn=Rr.useFramebuffer,ai=Wr(),ra=ai.width,ua=ai.height;this.sampleRenderTarget.resize({width:ra,height:ua}),this.prevRenderTarget.resize({width:ra,height:ua}),this.outputRenderTarget.resize({width:ra,height:ua}),this.copyRenderTarget.resize({width:ra,height:ua}),this.resetFrame(),this.stopAccumulating();var ba=se.multiPassRenderer.getPostProcessor().getReadFBO();bn(ba,function(){on({color:[0,0,0,0],depth:1,stencil:0,framebuffer:ba}),se.multiPassRenderer.setRenderFlag(!1),se.render(),se.multiPassRenderer.setRenderFlag(!0)});var Da=function Ra(no){!Oe.accumulatingId||no!==Oe.accumulatingId||Oe.isFinished()||(Oe.doRender(se),requestAnimationFrame(function(){Ra(no)}))};this.accumulatingId=Os++,this.timer=window.setTimeout(function(){Da(Oe.accumulatingId)},50)}},{key:"doRender",value:function(se){var Oe=this,Rr=this.rendererService,on=Rr.clear,Wr=Rr.getViewportSize,bn=Rr.useFramebuffer,ai=Wr(),ra=ai.width,ua=ai.height,ba=se.getLayerConfig(),Da=ba.jitterScale,Ra=Da===void 0?1:Da,no=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((no[0]*2-1)/ra*Ra,(no[1]*2-1)/ua*Ra),se.multiPassRenderer.setRenderFlag(!1),se.hooks.beforeRender.call(),bn(this.sampleRenderTarget,function(){on({color:[0,0,0,0],depth:1,stencil:0,framebuffer:Oe.sampleRenderTarget}),se.render()}),se.hooks.afterRender.call(),se.multiPassRenderer.setRenderFlag(!0);var bo=se.getLayerConfig();bn(this.outputRenderTarget,function(){Oe.blendModel.draw({uniforms:{u_opacity:bo.opacity||1,u_MixRatio:Oe.frame===0?1:.9,u_Diffuse1:Oe.sampleRenderTarget,u_Diffuse2:Oe.frame===0?se.multiPassRenderer.getPostProcessor().getReadFBO():Oe.prevRenderTarget}})}),this.frame===0&&on({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(bn(this.copyRenderTarget,function(){Oe.outputModel.draw({uniforms:{u_Texture:Oe.outputRenderTarget}})}),bn(se.multiPassRenderer.getPostProcessor().getReadFBO(),function(){Oe.copyModel.draw({uniforms:{u_Texture:Oe.copyRenderTarget}})}),se.multiPassRenderer.getPostProcessor().render(se));var Po=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=Po,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(se,Oe,Rr){this.shaderModuleService.registerModule(se,{vs:La,fs:Oe});var on=this.shaderModuleService.getModule(se),Wr=on.vs,bn=on.fs,ai=on.uniforms,ra=this.rendererService,ua=ra.createAttribute,ba=ra.createBuffer,Da=ra.createModel;return Da(hi({vs:Wr,fs:bn,attributes:{a_Position:ua({buffer:ba({data:[-4,-4,4,-4,0,4],type:fa.gl.FLOAT}),size:2})},uniforms:hi({},ai),depth:{enable:!1},count:3},Rr))}}]),Tt}(Ss),Cn=(0,Dr.Z)(en.prototype,"shaderModuleService",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en))||Yr),rs=new s.W2;rs.bind(o.v.IGlobalConfigService).to(Or).inSingletonScope(),rs.bind(o.v.IShaderModuleService).to(go).inSingletonScope(),(0,s.GW)((0,s.b2)(),t.EventEmitter),rs.bind(o.v.IEventEmitter).to(t.EventEmitter);var Us=(0,v.Z)(rs,!1),du=function(ue){var Tt=Us.lazyInject(ue);return function(Lt,se,Oe){Tt.call(this,Lt,se),Oe&&(Oe.initializer=function(){return Lt[se]})}},Wu=function(ue){var Tt=Us.lazyMultiInject(ue);return function(Lt,se,Oe){Tt.call(this,Lt,se),Oe&&(Oe.initializer=function(){return Lt[se]})}},wu=rs,fu=0;function ms(){var oe=new s.W2;return oe.parent=rs,oe.bind(o.v.SceneID).toConstantValue("".concat(fu++)),oe.bind(o.v.ILayerService).to(ca).inSingletonScope(),oe.bind(o.v.ISceneService).to(Xo).inSingletonScope(),oe.bind(o.v.ICameraService).to(Ft).inSingletonScope(),oe.bind(o.v.ICoordinateSystemService).to(Ve).inSingletonScope(),oe.bind(o.v.IInteractionService).to(er).inSingletonScope(),oe.bind(o.v.IPickingService).to(ee).inSingletonScope(),oe.bind(o.v.IControlService).to(nr).inSingletonScope(),oe.bind(o.v.IMarkerService).to(Vr).inSingletonScope(),oe.bind(o.v.IIconService).to(lt).inSingletonScope(),oe.bind(o.v.IFontService).to(it).inSingletonScope(),oe.bind(o.v.IPopupService).to(Ge).inSingletonScope(),oe.bind(o.v.INormalPass).to(Bs).whenTargetNamed("clear"),oe.bind(o.v.INormalPass).to(cs).whenTargetNamed("pixelPicking"),oe.bind(o.v.INormalPass).to($e).whenTargetNamed("render"),oe.bind(o.v.INormalPass).to(ls).whenTargetNamed("taa"),oe.bind(o.v.IFactoryNormalPass).toFactory(function(ue){return function(Tt){return ue.container.getNamed(o.v.INormalPass,Tt)}}),oe.bind(o.v.IPostProcessingPass).to(we).whenTargetNamed("copy"),oe.bind(o.v.IPostProcessingPass).to(bs).whenTargetNamed("blurH"),oe.bind(o.v.IPostProcessingPass).to(Mn).whenTargetNamed("blurV"),oe.bind(o.v.IPostProcessingPass).to(ja).whenTargetNamed("noise"),oe.bind(o.v.IPostProcessingPass).to(Tu).whenTargetNamed("sepia"),oe.bind(o.v.IPostProcessingPass).to(st).whenTargetNamed("colorHalftone"),oe.bind(o.v.IPostProcessingPass).to(Hr).whenTargetNamed("hexagonalPixelate"),oe.bind(o.v.IPostProcessingPass).to(va).whenTargetNamed("ink"),oe.bind(o.v.IFactoryPostProcessingPass).toFactory(function(ue){return function(Tt){var Lt=ue.container.getNamed(o.v.IPostProcessingPass,Tt);return Lt.setName(Tt),Lt}}),oe}function Iu(oe){var ue=new s.W2;return ue.parent=oe,ue.bind(o.v.IStyleAttributeService).to(zr).inSingletonScope(),ue.bind(o.v.IMultiPassRenderer).to(Pu).inSingletonScope(),ue.bind(o.v.IPostProcessor).to(Ht).inSingletonScope(),ue}},2811:function(){},64532:function(){},4594:function(mr,P,S){"use strict";S.d(P,{l:function(){return i}});var i={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},66690:function(mr,P,S){"use strict";S.d(P,{d:function(){return i}});var i;(function(t){t.TOPRIGHT="topright",t.TOPLEFT="topleft",t.BOTTOMRIGHT="bottomright",t.BOTTOMLEFT="bottomleft",t.TOPCENTER="topcenter",t.BOTTOMCENTER="bottomcenter",t.LEFTCENTER="leftcenter",t.RIGHTCENTER="rightcenter"})(i||(i={}))},81732:function(){},84007:function(){},1910:function(){},47282:function(mr,P,S){"use strict";S.d(P,{l:function(){return i},k:function(){return t}});var i;(function(c){c[c.LNGLAT=1]="LNGLAT",c[c.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",c[c.VECTOR_TILE=3]="VECTOR_TILE",c[c.IDENTITY=4]="IDENTITY",c[c.P20=5]="P20",c[c.P20_OFFSET=6]="P20_OFFSET",c[c.METER_OFFSET=7]="METER_OFFSET",c[c.P20_2=8]="P20_2"})(i||(i={}));var t={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"}},89648:function(mr,P,S){"use strict";S.d(P,{s:function(){return i}});var i;(function(t){t.Hover="hover",t.Click="click",t.Select="select",t.Active="active",t.Drag="drag"})(i||(i={}))},90919:function(){},77252:function(mr,P,S){"use strict";S.d(P,{h:function(){return i}});var i;(function(t){t.normal="normal",t.additive="additive",t.subtractive="subtractive",t.min="min",t.max="max",t.none="none"})(i||(i={}))},31251:function(mr,P,S){"use strict";S.d(P,{vY:function(){return i},ee:function(){return t},GC:function(){return c}});var i;(function(s){s.LINEAR="linear",s.POWER="power",s.LOG="log",s.IDENTITY="identity",s.TIME="time",s.QUANTILE="quantile",s.QUANTIZE="quantize",s.THRESHOLD="threshold",s.CAT="cat"})(i||(i={}));var t;(function(s){s.CONSTANT="constant",s.VARIABLE="variable"})(t||(t={}));var c;(function(s){s[s.Attribute=0]="Attribute",s[s.InstancedAttribute=1]="InstancedAttribute",s[s.Uniform=2]="Uniform"})(c||(c={}))},16606:function(mr,P,S){"use strict";S.d(P,{I:function(){return i}});var i=["mapload","mapchange"]},75925:function(){},85040:function(){},8594:function(){},67571:function(){},66718:function(){},92364:function(mr,P,S){"use strict";S.d(P,{G:function(){return i}});var i;(function(t){t.Normal="normal",t.PostProcessing="post-processing"})(i||(i={}))},78010:function(){},41906:function(){},68116:function(){},23067:function(){},7648:function(mr,P,S){"use strict";S.d(P,{gl:function(){return i}});var i;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"})(i||(i={}))},69530:function(mr,P,S){"use strict";S.d(P,{Z:function(){return T}});var i=S(55770),t=S(6610),c=S(5991),s=S(96156),v=S(3473),o=S(11700),f=S.n(o),r=S(14293),e=S.n(r),n=S(68929),a=S.n(n),u=S(86700),l=S(28660),h=S.n(l),p=S(7648),d=S(72302),g=S(92364),y,x,A,m,M;function b(O,L){var R=Object.keys(O);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(O);L&&(W=W.filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable})),R.push.apply(R,W)}return R}function E(O){for(var L=1;L<arguments.length;L++){var R=arguments[L]!=null?arguments[L]:{};L%2?b(Object(R),!0).forEach(function(W){(0,s.Z)(O,W,R[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(R)):b(Object(R)).forEach(function(W){Object.defineProperty(O,W,Object.getOwnPropertyDescriptor(R,W))})}return O}var C=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,T=(y=(0,u.b2)(),x=(0,u.f3)(d.v.IShaderModuleService),y(A=(m=function(){function O(){(0,t.Z)(this,O),(0,i.Z)(this,"shaderModuleService",M,this),(0,s.Z)(this,"rendererService",void 0),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"quad",C),(0,s.Z)(this,"enabled",!0),(0,s.Z)(this,"renderToScreen",!1),(0,s.Z)(this,"model",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"optionsToUpdate",{})}return(0,c.Z)(O,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(R){this.name=R}},{key:"getType",value:function(){return g.G.PostProcessing}},{key:"init",value:function(R,W){this.config=W,this.rendererService=R.getContainer().get(d.v.IRendererService);var U=this.rendererService,X=U.createAttribute,Z=U.createBuffer,J=U.createModel,ht=this.setupShaders(),at=ht.vs,Q=ht.fs,xt=ht.uniforms;this.model=J({vs:at,fs:Q,attributes:{a_Position:X({buffer:Z({data:[-4,-4,4,-4,0,4],type:p.gl.FLOAT}),size:2})},uniforms:E(E({u_Texture:null},xt),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}},{key:"render",value:function(R){var W=this,U=R.multiPassRenderer.getPostProcessor(),X=this.rendererService,Z=X.useFramebuffer,J=X.getViewportSize,ht=X.clear,at=J(),Q=at.width,xt=at.height;Z(this.renderToScreen?null:U.getWriteFBO(),function(){ht({framebuffer:U.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),W.model.draw({uniforms:E({u_Texture:U.getReadFBO(),u_ViewportSize:[Q,xt]},W.convertOptionsToUniforms(W.optionsToUpdate))})})}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(R){this.enabled=R}},{key:"setRenderToScreen",value:function(R){this.renderToScreen=R}},{key:"updateOptions",value:function(R){this.optionsToUpdate=E(E({},this.optionsToUpdate),R)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(R){var W={};return Object.keys(R).forEach(function(U){e()(R[U])||(W["u_".concat(f()(a()(U)))]=R[U])}),W}}]),O}(),M=(0,v.Z)(m.prototype,"shaderModuleService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m))||A)},19793:function(mr,P,S){"use strict";S.d(P,{P:function(){return i}});var i=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},93102:function(){},8628:function(){},72302:function(mr,P,S){"use strict";S.d(P,{v:function(){return i}});var i={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")}},76915:function(mr,P,S){"use strict";var i=S(74691),t=null;function c(T){return t.indexOf(T)}var s=2,v=4,o=64,f=128,r=256,e=512,n=8192,a=16384,u=32768,l=null,h=131072,p=262144,d=524288,g=1048576,y=2097152,x=4194304,A=8388608,m=16777216,M=null;function b(T,O){return T=_clamp(Math.floor(T),0,255),O=_clamp(Math.floor(O),0,255),256*T+O}function E(T){var O=T.color,L=T.radius,R=T.tileX,W=T.tileY,U=T.shape,X=T.opacity,Z=T.stroke,J=T.strokeWidth,ht=T.strokeOpacity,at=[],Q=[],xt=[],kt=[b(O[0],O[1]),b(O[2],O[3])],Nt=[b(Z[0],Z[1]),b(Z[2],Z[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(nt){var q=_slicedToArray(nt,2),G=q[0],N=q[1];at.push([].concat(kt,[(G+1)*A+(N+1)*y+getShapeIndex(U)*h+L,(R+512)*d+(W+512)*o])),Q.push([].concat(Nt,[J,ht])),xt.push([X,0,0,0])}),{packedBuffer:at,packedBuffer2:Q,packedBuffer3:xt}}function C(T,O){if(T===0&&!O)return 0;if(T===1&&O)return 4294967295;var L=O?1:0,R=Math.floor(T*127);return R*M+L*m+R*h+L*l+R*e+L*r+R*s+L}},84433:function(mr,P,S){"use strict";S.d(P,{Sw:function(){return io}});var i=S(82492),t=S.n(i),c=2,s={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/ad26cd25-96ea-40fd-935d-7e21a5c08893.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/62f61f5f-cca7-4137-845d-13c8f9969664.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/71ac4de3-bb14-449d-a97d-2b98e25ec8df.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/522c6496-c711-4581-88db-c3741cd39abd.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/516b2703-d692-44e6-80dd-b3f5df0186e7.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},v={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/35bb8365-1926-471c-b357-db2c02ff3a81.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8ec671c3-a4f9-4fdf-8e88-85d2ab1d8930.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/380370e0-76aa-4240-8874-5732de77e71d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/feeb1f06-11c6-4495-84c9-f41ea6f77123.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/24a9ee83-2be1-4fc1-b187-769ac939269d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},o={1:v,2:s};function f(xe){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;merge(o[be],xe)}function r(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c;return o[xe]}function e(xe){c=xe}var n=o[c],a=S(96773),u=S(26729),l=S(74951),h=S(13218),p=S.n(h),d=S(30236),g=S.n(d),y=S(3614),x=S.n(y),A=S(95022),m=S.n(A);function M(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(pe){return typeof pe}:M=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},M(xe)}function b(xe,be,pe,vt,gt,dt,Dt){try{var te=xe[dt](Dt),We=te.value}catch(cr){pe(cr);return}te.done?be(We):Promise.resolve(We).then(vt,gt)}function E(xe){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=xe.apply(be,pe);function Dt(We){b(dt,vt,gt,Dt,te,"next",We)}function te(We){b(dt,vt,gt,Dt,te,"throw",We)}Dt(void 0)})}}function C(xe,be){var pe=Object.keys(xe);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xe);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(xe,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function T(xe){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?C(Object(pe),!0).forEach(function(vt){O(xe,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(pe)):C(Object(pe)).forEach(function(vt){Object.defineProperty(xe,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return xe}function O(xe,be,pe){return be in xe?Object.defineProperty(xe,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[be]=pe,xe}function L(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function R(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function W(xe,be,pe){return be&&R(xe.prototype,be),pe&&R(xe,pe),xe}function U(xe,be,pe){return typeof Reflect!="undefined"&&Reflect.get?U=Reflect.get:U=function(gt,dt,Dt){var te=X(gt,dt);if(!!te){var We=Object.getOwnPropertyDescriptor(te,dt);return We.get?We.get.call(Dt):We.value}},U(xe,be,pe||xe)}function X(xe,be){for(;!Object.prototype.hasOwnProperty.call(xe,be)&&(xe=kt(xe),xe!==null););return xe}function Z(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&J(xe,be)}function J(xe,be){return J=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},J(xe,be)}function ht(xe){var be=xt();return function(){var vt=kt(xe),gt;if(be){var dt=kt(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return at(this,gt)}}function at(xe,be){return be&&(M(be)==="object"||typeof be=="function")?be:Q(xe)}function Q(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function kt(xe){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},kt(xe)}var Nt=["loaded"];function nt(xe,be){if(Array.isArray(be))return be}var q=function(xe){Z(pe,xe);var be=ht(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L(this,pe),gt=be.call(this),gt.fillLayer=void 0,gt.lineLayer=void 0,gt.labelLayer=void 0,gt.bubbleLayer=void 0,gt.loaded=!1,gt.scene=void 0,gt.options=void 0,gt.layers=[],gt.fillData=void 0,gt.layerType=void 0,gt.popup=void 0,gt.scene=vt,gt.options=g()(gt.getDefaultOption(),dt,nt),e(gt.options.geoDataLevel),gt}return W(pe,[{key:"destroy",value:function(){var gt=this;this.layers.forEach(function(dt){return gt.scene.removeLayer(dt)}),this.layers.length=0}},{key:"show",value:function(){this.layers.forEach(function(gt){return gt.show()})}},{key:"hide",value:function(){this.layers.forEach(function(gt){return gt.hide()})}},{key:"setOption",value:function(gt){this.options=g()(this.options,gt,nt)}},{key:"getFillData",value:function(){return this.fillData}},{key:"getOptions",value:function(){return this.options}},{key:"getLayer",value:function(gt){return this[gt+"Layer"]}},{key:"on",value:function(gt,dt){var Dt=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fill";return Nt.indexOf(gt)!==-1?U(kt(pe.prototype),"on",this).call(this,gt,dt):this.loaded&&this.getLayer(te)?this.getLayer(te).on(gt,dt):U(kt(pe.prototype),"once",this).call(this,"loaded",function(){Dt.getLayer(te).on(gt,dt)}),this}},{key:"off",value:function(gt,dt){var Dt=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fill";return Nt.indexOf(gt)!==-1?U(kt(pe.prototype),"on",this).call(this,gt,dt):this.getLayer(te)&&(this.loaded&&this.getLayer(te)?this.getLayer(te).off(gt,dt):U(kt(pe.prototype),"once",this).call(this,"loaded",function(){Dt.getLayer(te).off(gt,dt)})),this}},{key:"updateData",value:function(gt,dt){var Dt;this.setOption({data:gt,joinBy:dt});var te=this.options,We=te.data,cr=We===void 0?[]:We,zr=te.joinBy;if(this.fillLayer.setData(this.fillData,{transforms:cr.length===0?[]:[{type:"join",sourceField:zr[1],targetField:zr[0],data:cr}]}),this.options.bubble&&((Dt=this.options.bubble)===null||Dt===void 0?void 0:Dt.enable)!==!1){var Rt={};cr.forEach(function(ri){Rt[ri[zr[1]]]=ri});var Si=this.fillData.features.map(function(ri){return T(T({},ri.properties),{},{center:[ri.properties.x,ri.properties.y]})}).filter(function(ri){return Rt[ri[zr[0]]]});this.bubbleLayer.setData(Si,{transforms:cr.length===0?[]:[{type:"join",sourceField:zr[1],targetField:zr[0],data:cr}]})}}},{key:"fetchData",value:function(){var vt=E(regeneratorRuntime.mark(function dt(Dt){var te,We;return regeneratorRuntime.wrap(function(zr){for(;;)switch(zr.prev=zr.next){case 0:if(Dt.type!=="pbf"){zr.next=11;break}return zr.next=3,fetch(Dt.url);case 3:return zr.next=5,zr.sent.arrayBuffer();case 5:return te=zr.sent,We=l.decode(new(x())(te)),this.options.simplifyTolerance!==!1&&(We=m()(We,this.options.simplifyTolerance||.8)),zr.abrupt("return",We);case 11:if(!p()(Dt.url)){zr.next=15;break}zr.t0=Dt.url,zr.next=18;break;case 15:return zr.next=17,fetch(Dt.url);case 17:zr.t0=zr.sent.json();case 18:return zr.abrupt("return",zr.t0);case 19:case"end":return zr.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"getDefaultOption",value:function(){return{zIndex:0,visible:!0,viewType:"normal",enablePropagation:!0,geoDataLevel:2,regionType:"province",depth:1,adcode:[],joinBy:["name","name"],simplifyTolerance:!1,label:{enable:!0,color:"#000",field:"name",size:10,stroke:"#fff",strokeWidth:2,textAllowOverlap:!0,opacity:1,textOffset:[0,0],padding:[5,5]},bubble:{enable:!1,shape:"circle",color:"#1AA9FF",size:15,style:{opacity:1,stroke:"#fff",strokeWidth:1}},fill:{scale:null,color:"#ddd",style:{opacity:1},activeColor:!1},autoFit:!0,showBorder:!0,strokeOpacity:1,stroke:"#bdbdbd",strokeVisible:!0,strokeWidth:.6,cityStroke:"#636363",cityStrokeWidth:.6,countyStrokeWidth:.6,provinceStrokeWidth:.6,provinceStroke:"#f0f0f0",provinceStrokeVisible:!0,countyStroke:"#525252",coastlineStroke:"#4190da",coastlineWidth:.6,nationalStroke:"#c994c7",nationalWidth:.5,chinaNationalStroke:"gray",chinaNationalWidth:1,popup:{enable:!0,openTriggerEvent:"mousemove",closeTriggerEvent:"mouseout",option:{},Html:function(dt){return"".concat(dt.name)}}}}},{key:"addFillLayer",value:function(gt){var dt=this,Dt,te=this.options,We=te.popup,cr=te.data,zr=cr===void 0?[]:cr,Rt=te.fill,Si=te.autoFit,ri=te.joinBy,k=te.visible,rt=te.enablePropagation,Bt=te.zIndex;this.fillData=gt;var yt=new a.PolygonLayer({autoFit:Si,visible:k,enablePropagation:rt,zIndex:Bt}).source(gt,{transforms:zr.length===0?[]:[{type:"join",sourceField:ri[1],targetField:ri[0],data:zr}]});if(this.setLayerAttribute(yt,"color",Rt.color),this.setLayerAttribute(yt,"filter",Rt.filter),Rt.scale&&p()(Rt.color)){var ne;yt.scale("color",{type:Rt.scale,field:Rt==null||(ne=Rt.color)===null||ne===void 0?void 0:ne.field})}if(yt.shape("fill").style(Rt.style),Rt.activeColor&&yt.active({color:Rt.activeColor}),this.fillLayer=yt,this.layers.push(yt),this.scene.addLayer(yt),this.options.onClick&&this.fillLayer.on("click",function(or){dt.options&&dt.options.onClick&&dt.options.onClick(or,dt.layerType)}),this.options.bubble&&((Dt=this.options.bubble)===null||Dt===void 0?void 0:Dt.enable)!==!1){var _e=gt.features.map(function(or){return T(T({},or.properties),{},{center:[or.properties.x,or.properties.y]})});this.addBubbleLayer(_e)}this.addPopup()}},{key:"updateLayerAttribute",value:function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"fill",dt=arguments.length>1?arguments[1]:void 0,Dt=arguments.length>2?arguments[2]:void 0,te=this.getLayer(gt);this.setLayerAttribute(te,dt,Dt)}},{key:"enablePopup",value:function(){this.setOption({popup:T(T({},this.options.popup),{},{enable:!0})})}},{key:"disablePopup",value:function(){this.setOption({popup:T(T({},this.options.popup),{},{enable:!1})})}},{key:"addFillLine",value:function(gt){var dt=this.options,Dt=dt.stroke,te=dt.strokeWidth,We=dt.zIndex,cr=dt.visible,zr=dt.strokeOpacity,Rt=new a.LineLayer({zIndex:We+.1,visible:cr}).source(gt).color(Dt).size(te).style({opacity:zr});this.scene.addLayer(Rt),this.layers.push(Rt),this.lineLayer=Rt}},{key:"addLabelLayer",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.addLabel(gt,dt);this.scene.addLayer(Dt),this.layers.push(Dt),this.labelLayer=Dt}},{key:"addBubbleLayer",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.options,te=Dt.bubble,We=Dt.zIndex,cr=Dt.data,zr=cr===void 0?[]:cr,Rt=Dt.joinBy,Si=Dt.visible,ri=new a.PointLayer({zIndex:We+.3,visible:Si}).source(gt,{parser:{type:dt,coordinates:"center"},transforms:zr.length===0?[]:[{type:"join",sourceField:Rt[1],targetField:Rt[0],data:zr}]});return this.setLayerAttribute(ri,"color",te.color),this.setLayerAttribute(ri,"size",te.size),this.setLayerAttribute(ri,"shape",te.shape),this.setLayerAttribute(ri,"filter",te.filter),te.scale&&ri.scale(te.scale.field,{type:te.scale.type}),ri.style(te.style),this.scene.addLayer(ri),this.layers.push(ri),this.bubbleLayer=ri,ri}},{key:"addLabel",value:function(gt){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"json",Dt=this.options,te=Dt.label,We=Dt.zIndex,cr=Dt.visible,zr=new a.PointLayer({zIndex:We+5,visible:cr}).source(gt,{parser:{type:dt,coordinates:"center"}}).shape(te.field,"text").style(te);return this.setLayerAttribute(zr,"color",te.color),this.setLayerAttribute(zr,"size",te.size),this.setLayerAttribute(zr,"filter",te.filter),zr}},{key:"addPopup",value:function(){var gt=this,dt=this.options.popup,Dt;dt.triggerLayer?Dt=dt.triggerLayer==="bubble"?this.bubbleLayer:this.fillLayer:Dt=this.options.bubble.enable?this.bubbleLayer:this.fillLayer,Dt.on(dt.openTriggerEvent,function(te){if(!!dt.enable){var We=dt.Html?dt.Html(te.feature.properties?te.feature.properties:te.feature):"";gt.popup=new a.Popup(T({closeButton:!1},dt.option)).setLnglat(te.lngLat).setHTML(We),gt.scene.addPopup(gt.popup)}}),Dt.on(dt.closeTriggerEvent,function(te){gt.popup&&gt.popup.remove()})}},{key:"setLayerAttribute",value:function(gt,dt,Dt){!Dt||(p()(Dt)?gt[dt](Dt.field,Dt.values):gt[dt](Dt))}}]),pe}(u.EventEmitter);function G(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G=function(pe){return typeof pe}:G=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},G(xe)}function N(xe,be){var pe=Object.keys(xe);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xe);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(xe,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function it(xe){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?N(Object(pe),!0).forEach(function(vt){H(xe,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(pe)):N(Object(pe)).forEach(function(vt){Object.defineProperty(xe,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return xe}function H(xe,be,pe){return be in xe?Object.defineProperty(xe,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[be]=pe,xe}function ct(xe,be,pe,vt,gt,dt,Dt){try{var te=xe[dt](Dt),We=te.value}catch(cr){pe(cr);return}te.done?be(We):Promise.resolve(We).then(vt,gt)}function ft(xe){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=xe.apply(be,pe);function Dt(We){ct(dt,vt,gt,Dt,te,"next",We)}function te(We){ct(dt,vt,gt,Dt,te,"throw",We)}Dt(void 0)})}}function K(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function $(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function et(xe,be,pe){return be&&$(xe.prototype,be),pe&&$(xe,pe),xe}function j(xe,be,pe){return typeof Reflect!="undefined"&&Reflect.get?j=Reflect.get:j=function(gt,dt,Dt){var te=w(gt,dt);if(!!te){var We=Object.getOwnPropertyDescriptor(te,dt);return We.get?We.get.call(Dt):We.value}},j(xe,be,pe||xe)}function w(xe,be){for(;!Object.prototype.hasOwnProperty.call(xe,be)&&(xe=Mt(xe),xe!==null););return xe}function D(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&V(xe,be)}function V(xe,be){return V=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},V(xe,be)}function tt(xe){var be=ot();return function(){var vt=Mt(xe),gt;if(be){var dt=Mt(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return lt(this,gt)}}function lt(xe,be){return be&&(G(be)==="object"||typeof be=="function")?be:St(xe)}function St(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function ot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function Mt(xe){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Mt(xe)}var Ot=function(xe){D(pe,xe);var be=tt(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K(this,pe),gt=be.call(this,vt,dt),gt.fillRawData=void 0,gt.lineRawData=void 0,gt.labelRawData=void 0,gt.layerType="Province",gt.addProvinceFillLayer(),gt}return et(pe,[{key:"updateDistrict",value:function(gt,dt,Dt){if(!gt&&Array.isArray(gt)&&gt.length===0){this.hide();return}var te=this.options,We=te.label,cr=te.showBorder;this.setOption({adcode:gt});var zr=this.filterData(this.fillRawData,gt),Rt=this.filterData(this.lineRawData,gt),Si=this.filterLabelData(this.labelRawData,gt);this.fillData=zr,this.updateData(dt,Dt),cr&&this.lineLayer.setData(Rt),We.enable&&this.labelLayer&&this.labelLayer.setData(Si),this.show()}},{key:"getDefaultOption",value:function(){var gt=j(Mt(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110000"],depth:2,label:{field:"NAME_CHN",textAllowOverlap:!1},popup:{enable:!0,Html:function(Dt){return"<span>".concat(Dt.NAME_CHN,"</span>")}}})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(We){var cr=We.properties,zr=cr.adcode_pro,Rt=cr.adcode;return Dt.indexOf(zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(We){var cr=We.adcode_pro,zr=We.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+cr)!==-1||Dt.indexOf(""+zr)!==-1});return te}},{key:"addProvinceFillLayer",value:function(){var vt=ft(regeneratorRuntime.mark(function dt(){var Dt,te,We,cr,zr,Rt,Si,ri,k;return regeneratorRuntime.wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Dt=this.options,te=Dt.depth,We=Dt.adcode,cr=Dt.label,zr=Dt.showBorder,Rt=r(this.options.geoDataLevel).country.CHN[te],Bt.next=4,this.fetchData(Rt.fill);case 4:Si=Bt.sent,this.labelRawData=Si.features.map(function(yt){return it(it({},yt.properties),{},{center:[yt.properties.x,yt.properties.y]})}),ri=this.filterData(Si,We),this.fillData=ri,k=this.filterLabelData(this.labelRawData,We),this.fillRawData=Si,this.addFillLayer(ri),cr.enable&&this.addLabelLayer(k),this.lineRawData=Si,zr&&this.addFillLine(ri),this.emit("loaded"),this.loaded=!0;case 16:case"end":return Bt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()}]),pe}(q);function Ft(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(pe){return typeof pe}:Ft=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},Ft(xe)}function zt(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function $t(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function he(xe,be,pe){return be&&$t(xe.prototype,be),pe&&$t(xe,pe),xe}function ye(xe,be,pe){return typeof Reflect!="undefined"&&Reflect.get?ye=Reflect.get:ye=function(gt,dt,Dt){var te=tr(gt,dt);if(!!te){var We=Object.getOwnPropertyDescriptor(te,dt);return We.get?We.get.call(Dt):We.value}},ye(xe,be,pe||xe)}function tr(xe,be){for(;!Object.prototype.hasOwnProperty.call(xe,be)&&(xe=Ge(xe),xe!==null););return xe}function nr(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&Xe(xe,be)}function Xe(xe,be){return Xe=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},Xe(xe,be)}function yr(xe){var be=de();return function(){var vt=Ge(xe),gt;if(be){var dt=Ge(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return Vr(this,gt)}}function Vr(xe,be){return be&&(Ft(be)==="object"||typeof be=="function")?be:Ee(xe)}function Ee(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function de(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function Ge(xe){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Ge(xe)}var ke=function(xe){nr(pe,xe);var be=yr(pe);function pe(){var vt;zt(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="City",vt}return he(pe,[{key:"getDefaultOption",value:function(){var gt=ye(Ge(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110000"],depth:3})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(We){var cr=We.properties,zr=cr.adcode_cit,Rt=cr.adcode;return Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(We){var cr=We.adcode_cit,zr=We.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1});return te}}]),pe}(Ot),Kr=["Country","Region","Province","City","County"],fn={"100":{name:"\u534E\u5317\u533A",code:"100",child:[11e4,12e4,13e4,15e4,21e4,22e4,23e4,37e4],center:[118.740234375,42.87596410238256]},"101":{name:"\u534E\u4E1C\u533A",code:"101",child:[32e4,34e4,31e4],center:[118.564453125,31.765537409484374]},"102":{name:"\u534E\u5357\u533A",code:"102",child:[44e4,45e4,46e4],center:[110.709228515625,22.238259929564308]},"103":{name:"\u534E\u897F\u533A",code:"103",child:[5e5,51e4,52e4,53e4],center:[90.263671875,36.73888412439431]},"104":{name:"\u534E\u4E2D\u533A",code:"104",child:[33e4,35e4,36e4,42e4,43e4],center:[118.05908203124999,28.38173504322308]},"301":{name:"\u4E2D\u897F\u533A",code:"301",child:[14e4,41e4,54e4,61e4,62e4,63e4,64e4,65e4],center:[109.1162109375,35.209721645221386]},"701":{name:"\u6E2F\u6FB3\u53F0",code:"701",child:[71e4,81e4,82e4]}};function pi(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pi=function(pe){return typeof pe}:pi=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},pi(xe)}function Vi(xe,be){var pe=Object.keys(xe);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xe);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(xe,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function ea(xe){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?Vi(Object(pe),!0).forEach(function(vt){zi(xe,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(pe)):Vi(Object(pe)).forEach(function(vt){Object.defineProperty(xe,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return xe}function zi(xe,be,pe){return be in xe?Object.defineProperty(xe,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[be]=pe,xe}function Te(xe,be,pe,vt,gt,dt,Dt){try{var te=xe[dt](Dt),We=te.value}catch(cr){pe(cr);return}te.done?be(We):Promise.resolve(We).then(vt,gt)}function Be(xe){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=xe.apply(be,pe);function Dt(We){Te(dt,vt,gt,Dt,te,"next",We)}function te(We){Te(dt,vt,gt,Dt,te,"throw",We)}Dt(void 0)})}}function lr(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function Or(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function sr(xe,be,pe){return be&&Or(xe.prototype,be),pe&&Or(xe,pe),xe}function Dr(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&En(xe,be)}function En(xe,be){return En=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},En(xe,be)}function Yn(xe){var be=Wn();return function(){var vt=$n(xe),gt;if(be){var dt=$n(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return ln(this,gt)}}function ln(xe,be){return be&&(pi(be)==="object"||typeof be=="function")?be:Jr(xe)}function Jr(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function Wn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function $n(xe){return $n=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},$n(xe)}var Gr=function(xe){Dr(pe,xe);var be=Yn(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lr(this,pe),gt=be.call(this,vt,dt),gt.layerType="Country",gt.fillRawData=void 0,gt.init(),gt}return sr(pe,[{key:"init",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(){var Dt,te,We,cr;return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Dt=this.options,te=Dt.depth,We=Dt.showBorder,Rt.next=3,this.addProvinceFill();case 3:return Rt.next=5,this.addProvinceLabel();case 5:if(cr=r(this.options.geoDataLevel).country.CHN[te],!We){Rt.next=15;break}return Rt.next=9,this.addProvinceLine(cr.provinceLine);case 9:if(te!==2*1){Rt.next=12;break}return Rt.next=12,this.addCityBorder(cr.fill);case 12:if(te!==3*1){Rt.next=15;break}return Rt.next=15,this.addCountyBorder(cr.fill);case 15:this.emit("loaded"),this.loaded=!0;case 17:case"end":return Rt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceFill",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(){var Dt,te,We,cr,zr,Rt;return regeneratorRuntime.wrap(function(ri){for(;;)switch(ri.prev=ri.next){case 0:return Dt=this.options,te=Dt.depth,We=Dt.adcode,cr=r(this.options.geoDataLevel).country.CHN[te],ri.next=4,this.fetchData(cr.fill);case 4:zr=ri.sent,this.fillRawData=zr,Rt=zr,We&&Array.isArray(We)&&We.length!==0&&(Rt=this.filterData(zr,We)),this.fillData=Rt,this.addFillLayer(Rt);case 10:case"end":return ri.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceLabel",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(){var Dt,te,We,cr,zr;return regeneratorRuntime.wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(te=this.options.depth,We=r(this.options.geoDataLevel).country.CHN[te],!We.label){Si.next=8;break}return Si.next=5,this.fetchData(We.label);case 5:Si.t0=Si.sent,Si.next=9;break;case 8:Si.t0=null;case 9:cr=Si.t0,cr&&((Dt=this.options.label)===null||Dt===void 0?void 0:Dt.enable)&&(zr=this.getOptions().viewType,zr==="standard"?(this.addLabelLayer(cr.filter(function(ri){return ri.name!=="\u6FB3\u95E8"})),this.addMCLabel()):this.addLabelLayer(cr));case 11:case"end":return Si.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addProvinceLine",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(Dt){var te,We,cr,zr,Rt,Si,ri;return regeneratorRuntime.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,this.fetchData(Dt);case 2:te=rt.sent,We=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt==="1"}),cr=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt==="4"}),zr={type:"FeatureCollection",features:We},Rt={type:"FeatureCollection",features:cr},Si=te.features.filter(function(Bt){var yt=Bt.properties.type;return yt!=="1"&&yt!=="4"}),ri={type:"FeatureCollection",features:Si},this.addNationBorder(ri,zr,Rt);case 10:case"end":return rt.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addNormalProvinceLine",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(Dt){return regeneratorRuntime.wrap(function(We){for(;;)switch(We.prev=We.next){case 0:case"end":return We.stop()}},dt)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addNationBorder",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(Dt,te,We){var cr,zr,Rt,Si,ri,k,rt,Bt,yt,ne,_e,or,jr,_r,Pn,Ln,Li,sa;return regeneratorRuntime.wrap(function(Ea){for(;;)switch(Ea.prev=Ea.next){case 0:cr=this.options,zr=cr.nationalStroke,Rt=cr.provinceStroke,Si=cr.provinceStrokeWidth,ri=cr.nationalWidth,k=cr.chinaNationalStroke,rt=cr.chinaNationalWidth,Bt=cr.coastlineStroke,yt=cr.coastlineWidth,ne=cr.showBorder,_e=cr.stroke,or=cr.strokeWidth,jr=cr.visible,_r=cr.zIndex,Pn=cr.strokeOpacity,Ln=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(Dt).size("type",function(pa){return pa==="3"?Si:pa==="2"?yt:pa==="0"?rt:"#fff"}).shape("line").color("type",function(pa){return pa==="3"?Rt:pa==="2"?Bt:pa==="0"?k:"#fff"}),Li=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(te).size(rt).shape("line").color(k).style({lineType:"dash",dashArray:[2,2]}),sa=new a.LineLayer({zIndex:_r+.1,visible:jr&&ne}).source(We).size(Si).shape("line").color(Rt).style({lineType:"dash",dashArray:[4,2,2,2]}),this.scene.addLayer(Ln),this.scene.addLayer(Li),this.scene.addLayer(sa),this.layers.push(Ln,Li,sa);case 8:case"end":return Ea.stop()}},dt,this)}));function gt(dt,Dt,te){return vt.apply(this,arguments)}return gt}()},{key:"addCityBorder",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(Dt){var te,We,cr,zr,Rt,Si,ri;return regeneratorRuntime.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,this.fetchData(Dt);case 2:te=rt.sent,We=this.options,cr=We.cityStroke,zr=We.cityStrokeWidth,Rt=We.visible,Si=We.strokeOpacity,ri=new a.LineLayer({zIndex:2,visible:Rt}).source(te).color(cr).size(zr).style({opacity:Si}),this.scene.addLayer(ri),this.layers.push(ri);case 7:case"end":return rt.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addCountyBorder",value:function(){var vt=Be(regeneratorRuntime.mark(function dt(Dt){var te,We,cr,zr,Rt,Si,ri;return regeneratorRuntime.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,this.fetchData(Dt);case 2:te=rt.sent,We=this.options,cr=We.countyStrokeWidth,zr=We.countyStroke,Rt=We.visible,Si=We.strokeOpacity,ri=new a.LineLayer({zIndex:2,visible:Rt}).source(te).color(zr).size(cr).style({opacity:Si}),this.scene.addLayer(ri),this.layers.push(ri);case 7:case"end":return rt.stop()}},dt,this)}));function gt(dt){return vt.apply(this,arguments)}return gt}()},{key:"addMCLabel",value:function(){var gt=[{name:"\u6FB3\u95E8",center:[113.537747,22.187009]}],dt=this.addText(gt,{maxZoom:2.9},[-45,-10]),Dt=this.addText(gt,{minZoom:3,maxZoom:4},[-35,-10]),te=this.addText(gt,{minZoom:4.1},[0,0]);this.scene.addLayer(te),this.scene.addLayer(dt),this.scene.addLayer(Dt),this.layers.push(te,dt,Dt)}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(We){var cr=We.properties,zr=cr.REGION_CODE,Rt=cr.adcode_pro;return Dt.indexOf("86")!==-1||Dt.indexOf(86)!==-1||Dt.indexOf(zr)!==-1||Dt.indexOf(""+zr)!==-1||Dt.indexOf(Rt)!==-1||Dt.indexOf(""+Rt)!==-1});return{type:"FeatureCollection",features:te}}},{key:"addText",value:function(gt,dt,Dt){var te=this.options,We=te.label,cr=te.zIndex,zr=te.visible,Rt=new a.PointLayer(ea({zIndex:cr+.4,visible:zr},dt)).source(gt,{parser:{type:"json",coordinates:"center"}}).color(We.color).shape("name","text").size(We.size).style({opacity:We.opacity,stroke:We.stroke,strokeWidth:We.strokeWidth,textAllowOverlap:We.textAllowOverlap,textOffset:Dt});return Rt}},{key:"addRegionLabel",value:function(){var gt=Object.values(fn).map(function(dt){return dt})}}]),pe}(q);function wr(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wr=function(pe){return typeof pe}:wr=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},wr(xe)}function ti(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function ge(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function Le(xe,be,pe){return be&&ge(xe.prototype,be),pe&&ge(xe,pe),xe}function Se(xe,be,pe){return typeof Reflect!="undefined"&&Reflect.get?Se=Reflect.get:Se=function(gt,dt,Dt){var te=Ve(gt,dt);if(!!te){var We=Object.getOwnPropertyDescriptor(te,dt);return We.get?We.get.call(Dt):We.value}},Se(xe,be,pe||xe)}function Ve(xe,be){for(;!Object.prototype.hasOwnProperty.call(xe,be)&&(xe=rn(xe),xe!==null););return xe}function le(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&vr(xe,be)}function vr(xe,be){return vr=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},vr(xe,be)}function He(xe){var be=Mr();return function(){var vt=rn(xe),gt;if(be){var dt=rn(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return rr(this,gt)}}function rr(xe,be){return be&&(wr(be)==="object"||typeof be=="function")?be:Lr(xe)}function Lr(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function Mr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function rn(xe){return rn=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},rn(xe)}var pn=function(xe){le(pe,xe);var be=He(pe);function pe(){var vt;ti(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="County",vt}return Le(pe,[{key:"getDefaultOption",value:function(){var gt=Se(rn(pe.prototype),"getDefaultOption",this).call(this);return t()({},gt,{adcode:["110100"],depth:3})}},{key:"filterData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.features.filter(function(We){var cr=We.properties.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1});return{type:"FeatureCollection",features:te}}},{key:"filterLabelData",value:function(gt,dt){var Dt=Array.isArray(dt)?dt:[dt],te=gt.filter(function(We){var cr=We.adcode;return Dt.indexOf(cr)!==-1||Dt.indexOf(""+cr)!==-1});return te}}]),pe}(Ot);function qr(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(pe){return typeof pe}:qr=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},qr(xe)}function Dn(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function ae(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&er(xe,be)}function er(xe,be){return er=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},er(xe,be)}function ar(xe){var be=di();return function(){var vt=Yi(xe),gt;if(be){var dt=Yi(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return kr(this,gt)}}function kr(xe,be){return be&&(qr(be)==="object"||typeof be=="function")?be:Rn(xe)}function Rn(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function di(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function Yi(xe){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Yi(xe)}var da=function(xe){ae(pe,xe);var be=ar(pe);function pe(){var vt;Dn(this,pe);for(var gt=arguments.length,dt=new Array(gt),Dt=0;Dt<gt;Dt++)dt[Dt]=arguments[Dt];return vt=be.call.apply(be,[this].concat(dt)),vt.layerType="Region",vt}return pe}(Ot);function _a(xe,be){var pe=Object.keys(xe);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xe);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(xe,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function fa(xe){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?_a(Object(pe),!0).forEach(function(vt){wo(xe,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(pe)):_a(Object(pe)).forEach(function(vt){Object.defineProperty(xe,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return xe}function wo(xe,be,pe){return be in xe?Object.defineProperty(xe,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[be]=pe,xe}function ho(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function mo(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function yo(xe,be,pe){return be&&mo(xe.prototype,be),pe&&mo(xe,pe),xe}function zo(xe,be){if(Array.isArray(be))return be}var io=function(){function xe(be,pe){ho(this,xe),this.drillState=void 0,this.options=void 0,this.regionLayer=void 0,this.cityLayer=void 0,this.countyLayer=void 0,this.provinceLayer=void 0,this.scene=void 0,this.layers=[],this.drillList=void 0,this.options=g()(this.getDefaultOption(),pe,zo),this.drillState=this.options.viewStart,this.scene=be,this.drillList=this.getViewList(),this.initLayers(be),this.initLayerEvent(),this.scene.setMapStatus({doubleClickZoom:!1})}return yo(xe,[{key:"getDefaultOption",value:function(){return{drillDepth:2,drillStart:1,customTrigger:!1,autoUpdateData:!0,regionDrill:!1,drillDownTriggerEvent:"click",drillUpTriggerEvent:"undblclick",provinceData:[],viewStart:"Country",viewEnd:"County",cityData:[],countyData:[],city:{adcode:[],depth:2},region:{adcode:[],depth:1},county:{adcode:[]}}}},{key:"addCountryEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillDownEvent;this.provinceLayer.fillLayer.on(gt,function(Dt){var te=Dt.feature.properties.adcode,We="Province";if(pe.drillState="Province",pe.options.regionDrill){var cr=Dt.feature.properties.REGION_CODE;te=fn[cr].child,pe.drillState="Region",We="Region"}pe.options.autoUpdateData&&pe.drillDown(te),pe.drillList.indexOf(We)!==-1&&(pe.provinceLayer.hide(),dt&&dt(Dt.feature.properties,We,te))})}},{key:"addRegionEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent,te=vt.drillDownEvent;this.regionLayer.fillLayer.on(dt,function(We){pe.drillUp("Country"),pe.drillList.indexOf("Country")!==-1&&Dt&&Dt({from:"region",to:"country"})}),this.regionLayer.fillLayer.on(gt,function(We){pe.drillState="Province",pe.options.autoUpdateData&&pe.drillDown(We.feature.properties.adcode),pe.drillList.indexOf("Province")!==-1&&(pe.regionLayer.hide(),te&&te(We.feature.properties,"Province",We.feature.properties.adcode))})}},{key:"addProvinceEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent,te=vt.drillDownEvent;this.cityLayer.fillLayer.on(dt,function(){pe.drillState="Province";var We=pe.options.regionDrill?"Region":"Country";pe.drillUp(We),pe.drillList.indexOf(We)!==-1&&Dt&&Dt({to:We,from:"Province"})}),this.cityLayer.fillLayer.on(gt,function(We){pe.drillState="City",pe.options.autoUpdateData&&pe.drillDown(We.feature.properties.adcode),pe.drillList.indexOf("City")!==-1&&te&&te(We.feature.properties,"City",We.feature.properties.adcode)})}},{key:"addCityEvent",value:function(){var pe=this,vt=this.options,gt=vt.drillDownTriggerEvent,dt=vt.drillUpTriggerEvent,Dt=vt.drillUpEvent;this.countyLayer.fillLayer.on(dt,function(){pe.drillUp("Province"),pe.drillList.indexOf("Province")!==-1&&Dt&&Dt({to:"Province",from:"city"})})}},{key:"show",value:function(){this.layers.forEach(function(pe){return pe.show()})}},{key:"hide",value:function(){this.layers.forEach(function(pe){return pe.hide()})}},{key:"destroy",value:function(){this.layers.forEach(function(pe){return pe.destroy()})}},{key:"showProvinceView",value:function(pe,vt,gt){this.cityLayer.show(),this.cityLayer.updateDistrict(pe,vt,gt),this.cityLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.provinceLayer.hide(),this.drillState="Province"}},{key:"showCityView",value:function(pe,vt,gt){this.countyLayer.show();var dt="".concat(pe);dt.substr(0,4)==="5000"?dt=[dt.substr(0,2)+"0100",dt.substr(0,2)+"0200"]:dt.substr(2,2)==="00"&&dt!=="810000"&&dt!=="820000"&&(dt=[dt.substr(0,2)+"0100"]),this.countyLayer.updateDistrict(dt,vt,gt),this.countyLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="City"}},{key:"showRegionView",value:function(pe,vt,gt){this.regionLayer.show(),this.regionLayer.updateDistrict(pe,vt,gt),this.regionLayer.fillLayer.fitBounds(),this.provinceLayer.hide(),this.drillState="Region"}},{key:"drillUp",value:function(pe){if(this.drillList.indexOf(pe)!==-1)switch(pe){case"Province":this.cityLayer.show(),this.cityLayer.fillLayer.fitBounds(),this.countyLayer.hide(),this.drillState="Province";break;case"Country":this.provinceLayer.show(),this.provinceLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.cityLayer.hide(),this.drillState="Country";break;case"Region":this.options.regionDrill&&(this.regionLayer.show(),this.regionLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="Region");break}}},{key:"drillDown",value:function(pe,vt,gt){if(this.drillList.indexOf(this.drillState)!==-1)switch(this.drillState){case"Province":this.showProvinceView(pe,vt,gt);break;case"Region":this.showRegionView(pe,vt,gt);break;case"City":this.showCityView(pe,vt,gt);break}}},{key:"updateData",value:function(pe,vt,gt){switch(pe){case"Country":case"province":this.provinceLayer.updateData(vt,gt);break;case"Region":case"region":this.regionLayer.updateData(vt,gt);break;case"Province":case"city":this.cityLayer.updateData(vt,gt);break;case"City":case"county":this.countyLayer.updateData(vt,gt)}}},{key:"getLayerOption",value:function(pe){var vt=this.options,gt=vt.joinBy,dt=vt.label,Dt=vt.bubble,te=vt.fill,We=vt.popup,cr=vt.geoDataLevel,zr=vt.onClick,Rt=pe.toLowerCase()+"Data";return fa({data:this.options[Rt],joinBy:gt,label:dt,bubble:Dt,fill:te,popup:We,onClick:zr,geoDataLevel:cr},this.options[pe.toLowerCase()])}},{key:"initLayers",value:function(pe){var vt=this.getViewList();vt.indexOf("Country")!==-1&&(this.provinceLayer=new Gr(pe,fa({},this.getLayerOption("Province")))),vt.indexOf("Region")!==-1&&(this.regionLayer=new da(pe,this.getLayerOption("Region"))),vt.indexOf("Province")!==-1&&(this.cityLayer=new Ot(pe,this.getLayerOption("City"))),vt.indexOf("City")!==-1&&(this.countyLayer=new ke(pe,this.getLayerOption("County")))}},{key:"initLayerEvent",value:function(){var pe=this,vt=this.getViewList();this.options.customTrigger||(vt.indexOf("Country")!==-1&&this.provinceLayer.on("loaded",function(){pe.addCountryEvent(),pe.options.viewStart!=="Country"&&pe.provinceLayer.hide(),pe.layers.push(pe.provinceLayer)}),vt.indexOf("Region")!==-1&&this.regionLayer.on("loaded",function(){pe.addRegionEvent(),pe.options.viewStart!=="Region"&&pe.regionLayer.hide(),pe.layers.push(pe.regionLayer)}),vt.indexOf("Province")!==-1&&this.cityLayer.on("loaded",function(){pe.addProvinceEvent(),pe.options.viewStart!=="Province"&&pe.cityLayer.hide(),pe.layers.push(pe.cityLayer)}),vt.indexOf("City")!==-1&&this.countyLayer.on("loaded",function(){pe.addCityEvent(),pe.options.viewStart!=="City"&&pe.countyLayer.hide(),pe.layers.push(pe.countyLayer)}))}},{key:"getViewList",value:function(){var pe=this.options,vt=pe.viewStart,gt=pe.viewEnd,dt=Kr;!this.options.regionDrill&&dt.indexOf("Region")!==-1&&dt.splice(1,1);var Dt=dt.indexOf(vt),te=dt.indexOf(gt);if(Dt===-1||te===-1||te<Dt)throw new Error("\u4E0B\u94BB viewStart, viewEnd \u53C2\u6570\u9519\u8BEF");return dt.slice(Dt,te+1)}},{key:"getProperties",value:function(pe,vt){var gt=Array.isArray(vt)?vt:[vt],dt=pe.features.filter(function(Dt){var te=Dt.properties.adcode;return gt.indexOf(te)!==-1||gt.indexOf(""+te)!==-1});return dt[0]?dt[0].properties:{}}},{key:"enablePopup",value:function(){this.cityLayer&&this.cityLayer.enablePopup(),this.countyLayer&&this.countyLayer.enablePopup(),this.provinceLayer&&this.provinceLayer.enablePopup(),this.regionLayer&&this.regionLayer.enablePopup()}},{key:"disablePopup",value:function(){this.cityLayer&&this.cityLayer.disablePopup(),this.countyLayer&&this.countyLayer.disablePopup(),this.provinceLayer&&this.provinceLayer.disablePopup(),this.regionLayer&&this.regionLayer.disablePopup()}}]),xe}();function Za(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(pe){return typeof pe}:Za=function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},Za(xe)}function qa(xe,be){var pe=Object.keys(xe);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xe);be&&(vt=vt.filter(function(gt){return Object.getOwnPropertyDescriptor(xe,gt).enumerable})),pe.push.apply(pe,vt)}return pe}function Zt(xe){for(var be=1;be<arguments.length;be++){var pe=arguments[be]!=null?arguments[be]:{};be%2?qa(Object(pe),!0).forEach(function(vt){je(xe,vt,pe[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(pe)):qa(Object(pe)).forEach(function(vt){Object.defineProperty(xe,vt,Object.getOwnPropertyDescriptor(pe,vt))})}return xe}function je(xe,be,pe){return be in xe?Object.defineProperty(xe,be,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[be]=pe,xe}function ur(xe,be,pe,vt,gt,dt,Dt){try{var te=xe[dt](Dt),We=te.value}catch(cr){pe(cr);return}te.done?be(We):Promise.resolve(We).then(vt,gt)}function Br(xe){return function(){var be=this,pe=arguments;return new Promise(function(vt,gt){var dt=xe.apply(be,pe);function Dt(We){ur(dt,vt,gt,Dt,te,"next",We)}function te(We){ur(dt,vt,gt,Dt,te,"throw",We)}Dt(void 0)})}}function Vt(xe,be){return dn(xe)||Er(xe,be)||Ae(xe,be)||ee()}function ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(xe,be){if(!!xe){if(typeof xe=="string")return Me(xe,be);var pe=Object.prototype.toString.call(xe).slice(8,-1);if(pe==="Object"&&xe.constructor&&(pe=xe.constructor.name),pe==="Map"||pe==="Set")return Array.from(xe);if(pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return Me(xe,be)}}function Me(xe,be){(be==null||be>xe.length)&&(be=xe.length);for(var pe=0,vt=new Array(be);pe<be;pe++)vt[pe]=xe[pe];return vt}function Er(xe,be){var pe=xe==null?null:typeof Symbol!="undefined"&&xe[Symbol.iterator]||xe["@@iterator"];if(pe!=null){var vt=[],gt=!0,dt=!1,Dt,te;try{for(pe=pe.call(xe);!(gt=(Dt=pe.next()).done)&&(vt.push(Dt.value),!(be&&vt.length===be));gt=!0);}catch(We){dt=!0,te=We}finally{try{!gt&&pe.return!=null&&pe.return()}finally{if(dt)throw te}}return vt}}function dn(xe){if(Array.isArray(xe))return xe}function xn(xe,be){if(!(xe instanceof be))throw new TypeError("Cannot call a class as a function")}function fi(xe,be){for(var pe=0;pe<be.length;pe++){var vt=be[pe];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(xe,vt.key,vt)}}function Ai(xe,be,pe){return be&&fi(xe.prototype,be),pe&&fi(xe,pe),xe}function aa(xe,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(be&&be.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),be&&qi(xe,be)}function qi(xe,be){return qi=Object.setPrototypeOf||function(vt,gt){return vt.__proto__=gt,vt},qi(xe,be)}function Sa(xe){var be=za();return function(){var vt=Ia(xe),gt;if(be){var dt=Ia(this).constructor;gt=Reflect.construct(vt,arguments,dt)}else gt=vt.apply(this,arguments);return ca(this,gt)}}function ca(xe,be){return be&&(Za(be)==="object"||typeof be=="function")?be:to(xe)}function to(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function za(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function Ia(xe){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},Ia(xe)}var Va=function(xe){aa(pe,xe);var be=Sa(pe);function pe(vt){var gt,dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xn(this,pe),gt=be.call(this,vt,dt),gt.loadData().then(function(Dt){var te,We=Vt(Dt,3),cr=We[0],zr=We[1],Rt=We[2];gt.addFillLayer(cr),gt.options.showBorder&&gt.addFillLine(zr),((te=gt.options.label)===null||te===void 0?void 0:te.enable)&&gt.addLabelLayer(Rt,"json"),gt.emit("loaded"),gt.loaded=!0}),gt}return Ai(pe,[{key:"addFillLine",value:function(gt){var dt=gt.features.filter(function(cr){return cr.properties.type==="10"||cr.properties.type==="1"||cr.properties.type==="11"||cr.properties.type==="8"}),Dt={type:"FeatureCollection",features:dt},te=gt.features.filter(function(cr){return cr.properties.type!=="10"&&cr.properties.type!=="1"&&cr.properties.type!=="11"&&cr.properties.type!=="8"}),We={type:"FeatureCollection",features:te};this.addNationBorder(We,Dt)}},{key:"loadData",value:function(){var vt=Br(regeneratorRuntime.mark(function dt(){var Dt,te,We,cr;return regeneratorRuntime.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Dt=r(this.options.geoDataLevel).world,Rt.next=3,this.fetchData(Dt.fill);case 3:return te=Rt.sent,Rt.next=6,this.fetchData(Dt.line);case 6:return We=Rt.sent,cr=te.features.map(function(Si){return Zt(Zt({},Si.properties),{},{center:[Si.properties.x,Si.properties.y]})}),Rt.abrupt("return",[te,We,cr]);case 9:case"end":return Rt.stop()}},dt,this)}));function gt(){return vt.apply(this,arguments)}return gt}()},{key:"addNationBorder",value:function(gt,dt){var Dt=this.options,te=Dt.nationalStroke,We=Dt.nationalWidth,cr=Dt.coastlineStroke,zr=Dt.chinaNationalStroke,Rt=Dt.chinaNationalWidth,Si=Dt.coastlineWidth,ri=Dt.visible,k=Dt.zIndex,rt=new a.LineLayer({zIndex:k+.1,visible:ri}).source(gt).size("type",function(yt){return yt==="0"?Rt:yt==="2"||yt==="9"?Si:We}).color("type",function(yt){return yt==="0"?zr:yt==="2"||yt==="9"?cr:te}),Bt=new a.LineLayer({zIndex:k+.1,visible:ri}).source(dt).size("type",function(yt){return yt==="1"?Rt:We}).shape("line").color("type",function(yt){return yt==="1"?zr:te}).style({lineType:"dash",dashArray:[2,2]});this.scene.addLayer(rt),this.scene.addLayer(Bt),this.layers.push(rt,Bt)}}]),pe}(q);function ro(xe){var be=Object.values(RegionList).find(function(pe){return pe.child.indexOf(xe)!==-1});return be}},99873:function(mr,P,S){"use strict";S.d(P,{MK:function(){return Ge},Jx:function(){return $a}});var i=S(67294),t=(0,i.createContext)({});function c(){return useContext(t)}var s=S(96773),v=S(6610),o=S(5991),f=S(10379),r=S(46070),e=S(77608),n=S(55770),a=S(96156),u=S(3473),l=S(58881),h,p,d;function g(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function y(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?g(Object(Kt),!0).forEach(function(De){(0,a.Z)(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):g(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}var x=(h=(0,l.yT)(l.vK.IGlobalConfigService),p=function(){function ie(ce){(0,v.Z)(this,ie),(0,n.Z)(this,"configService",d,this),(0,a.Z)(this,"config",void 0),this.config=ce}return(0,o.Z)(ie,[{key:"setContainer",value:function(Kt,De){Kt.bind(l.vK.MapConfig).toConstantValue(y(y({},this.config),{},{id:De})),Kt.bind(l.vK.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),ie}(),d=(0,u.Z)(p.prototype,"configService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p),A=S(81253),m=S(92137),M=S(28481),b=S(87757),E=S.n(b),C=S(81618),T=S.n(C),O=S(91739),L=S(85975),R=S(77160),W=S(86700),U=S(28660);function X(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Z(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?X(Object(Kt),!0).forEach(function(De){(0,a.Z)(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):X(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function J(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ce={top:0,right:0,bottom:0,left:0};if(typeof ie=="number")return{top:ie,right:ie,bottom:ie,left:ie};if(Array.isArray(ie)){if(ie.length===4)return{top:ie[0],right:ie[1],bottom:ie[2],left:ie[3]};if(ie.length===2)return{top:ie[0],right:ie[1],bottom:ie[0],left:ie[1]}}return Z(Z({},ce),ie)}var ht;(function(ie){ie["GAODE1.x"]="GAODE1.x",ie["GAODE2.x"]="GAODE2.x",ie.MAPBOX="MAPBOX",ie.L7MAP="L7MAP",ie.GLOBEL="GLOBEL"})(ht||(ht={}));var at={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},Q=Math.PI/180,xt=function(){function ie(){(0,v.Z)(this,ie),(0,a.Z)(this,"projectionMatrix",L.create()),(0,a.Z)(this,"viewMatrix",L.create()),(0,a.Z)(this,"viewProjectionMatrix",L.create()),(0,a.Z)(this,"ViewProjectionMatrixUncentered",L.create()),(0,a.Z)(this,"viewUncenteredMatrix",L.create()),(0,a.Z)(this,"zoom",void 0),(0,a.Z)(this,"center",void 0)}return(0,o.Z)(ie,[{key:"syncWithMapCamera",value:function(Kt){var De=Kt.zoom,br=De===void 0?1:De,Tn=Kt.pitch,gi=Tn===void 0?0:Tn,Oi=Kt.bearing,Di=Oi===void 0?0:Oi,ta=Kt.center,ha=ta===void 0?[0,0]:ta,Ba=Kt.offsetOrigin,na=Ba===void 0?[0,0]:Ba,ts=Kt.cameraHeight,po=ts===void 0?1:ts,uo=Kt.aspect,Zo=uo===void 0?1:uo,Qa=Kt.near,go=Qa===void 0?.1:Qa,fs=Kt.far,es=fs===void 0?1e3:fs,Rs=Kt.fov,os=Rs===void 0?0:Rs;this.zoom=br,this.center=ha;var ss=gi*Q,Bo=(360-Di)*Q;L.perspective(this.projectionMatrix,os,Zo,go,es);var Zs=R.fromValues(po*Math.sin(ss)*Math.sin(Bo),-po*Math.sin(ss)*Math.cos(Bo),po*Math.cos(ss)),Ss=R.fromValues(-Math.cos(ss)*Math.sin(Bo),Math.cos(ss)*Math.cos(Bo),Math.sin(ss));L.lookAt(this.viewMatrix,Zs,R.fromValues(0,0,0),Ss),this.viewUncenteredMatrix=L.clone(this.viewMatrix),L.translate(this.viewMatrix,this.viewMatrix,R.fromValues(-na[0],na[1],0)),L.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),L.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var Kt=(0,M.Z)(this.center,2),De=Kt[0],br=Kt[1];return[De,br]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(Kt,De){var br=85.0511287798,Tn=Math.max(Math.min(br,Kt[1]),-br),gi=256<<20,Oi=Math.PI/180,Di=Kt[0]*Oi,ta=Tn*Oi;ta=Math.log(Math.tan(Math.PI/4+ta/2));var ha=.5/Math.PI,Ba=.5,na=-.5/Math.PI;return Oi=.5,Di=gi*(ha*Di+Ba)-215440491,ta=-(gi*(na*ta+Oi)-106744817),[Di,ta]}}]),ie}(),kt,Nt,nt,q,G,N,it,H,ct,ft,K;function $(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function et(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?$(Object(Kt),!0).forEach(function(De){(0,a.Z)(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):$(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function j(ie,ce){var Kt=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",De=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(Kt||De)&&(ce||(ce=document),!!ce)){var br=ce.head||ce.getElementsByTagName("head")[0];if(!br){br=ce.createElement("head");var Tn=ce.body||ce.getElementsByTagName("body")[0];Tn?Tn.parentNode.insertBefore(br,Tn):ce.documentElement.appendChild(br)}var gi=ce.createElement("style");return gi.type="text/css",gi.styleSheet?gi.styleSheet.cssText=ie:gi.appendChild(ce.createTextNode(ie)),br.appendChild(gi),gi}}j(`.amap-logo{
 display: none !important;
}
`);var w=0;window.forceWebGL=!0;var D="15cd8a57710d40c9b7c0e3cc120f1200",V="1.4.15",tt="amap-script",lt=!1,St=[],ot=12,Mt=(kt=(0,W.b2)(),Nt=(0,W.f3)(l.vK.IGlobalConfigService),nt=(0,W.f3)(l.vK.MapConfig),q=(0,W.f3)(l.vK.ICoordinateSystemService),G=(0,W.f3)(l.vK.IEventEmitter),kt(N=(it=function(){function ie(){var ce=this;(0,v.Z)(this,ie),(0,a.Z)(this,"version",ht["GAODE1.x"]),(0,a.Z)(this,"map",void 0),(0,a.Z)(this,"bgColor","rgba(0, 0, 0, 0)"),(0,n.Z)(this,"configService",H,this),(0,n.Z)(this,"config",ct,this),(0,n.Z)(this,"coordinateSystemService",ft,this),(0,n.Z)(this,"eventEmitter",K,this),(0,a.Z)(this,"markerContainer",void 0),(0,a.Z)(this,"$mapContainer",void 0),(0,a.Z)(this,"viewport",void 0),(0,a.Z)(this,"cameraChangedCallback",void 0),(0,a.Z)(this,"handleCameraChanged",function(Kt){var De=Kt.camera,br=De.fov,Tn=De.near,gi=De.far,Oi=De.height,Di=De.pitch,ta=De.rotation,ha=De.aspect,Ba=De.position,na=ce.getCenter(),ts=na.lng,po=na.lat;if(ce.emit("mapchange"),ce.cameraChangedCallback){ce.viewport.syncWithMapCamera({aspect:ha,bearing:360-ta,far:gi,fov:br,cameraHeight:Oi,near:Tn,pitch:Di,zoom:ce.map.getZoom()-1,center:[ts,po],offsetOrigin:[Ba.x,Ba.y]});var uo=ce.config.offsetZoom,Zo=uo===void 0?ot:uo;ce.viewport.getZoom()>Zo?ce.coordinateSystemService.setCoordinateSystem(l.CoordinateSystem.P20_OFFSET):ce.coordinateSystemService.setCoordinateSystem(l.CoordinateSystem.P20),ce.cameraChangedCallback(ce.viewport)}})}return(0,o.Z)(ie,[{key:"setBgColor",value:function(Kt){this.bgColor=Kt}},{key:"addMarkerContainer",value:function(){var Kt=this.map.getContainer();if(Kt!==null){var De=Kt.getElementsByClassName("amap-maps")[0];this.markerContainer=O.SO.create("div","l7-marker-container",De)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(Kt,De){l.MapServiceEvent.indexOf(Kt)!==-1?this.eventEmitter.on(Kt,De):this.map.on(Kt,De)}},{key:"off",value:function(Kt,De){l.MapServiceEvent.indexOf(Kt)!==-1?this.eventEmitter.off(Kt,De):this.map.off(Kt,De)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var Kt;return(Kt=this.map.getContainer())===null||Kt===void 0?void 0:Kt.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var Kt=this.map.getSize();return[Kt.getWidth(),Kt.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(Kt){return this.map.setZoom(Kt)}},{key:"getCenter",value:function(Kt){if(Kt!=null&&Kt.padding){var De=this.getCenter(),br=this.getSize(),Tn=(0,M.Z)(br,2),gi=Tn[0],Oi=Tn[1],Di=J(Kt.padding),ta=this.lngLatToPixel([De.lng,De.lat]),ha=[(Di.right-Di.left)/2,(Di.bottom-Di.top)/2],Ba=this.pixelToLngLat([ta.x-ha[0],ta.y-ha[1]]);return Ba}var na=this.map.getCenter();return{lng:na.getLng(),lat:na.getLat()}}},{key:"setCenter",value:function(Kt,De){if(De!=null&&De.padding){var br=J(De.padding),Tn=this.lngLatToPixel(Kt),gi=[(br.right-br.left)/2,(br.bottom-br.top)/2],Oi=this.pixelToLngLat([Tn.x+gi[0],Tn.y+gi[1]]);this.map.setCenter([Oi.lng,Oi.lat])}else this.map.setCenter(Kt)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var Kt=this.map.getBounds().toBounds(),De=Kt.getNorthEast(),br=Kt.getSouthWest(),Tn=this.getCenter(),gi=Tn.lng>De.getLng()||Tn.lng<br.getLng()?180-De.getLng():De.getLng(),Oi=Tn.lng<br.getLng()?br.getLng()-180:br.getLng();return[[Oi,br.getLat()],[gi,De.getLat()]]}},{key:"getMinZoom",value:function(){var Kt=this.map.get("zooms");return Kt[0]-1}},{key:"getMaxZoom",value:function(){var Kt=this.map.get("zooms");return Kt[1]-1}},{key:"setRotation",value:function(Kt){return this.map.setRotation(Kt)}},{key:"setPitch",value:function(Kt){return this.map.setPitch(Kt)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(Kt){this.map.panTo(Kt)}},{key:"panBy",value:function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.map.panBy(Kt,De)}},{key:"fitBounds",value:function(Kt){this.map.setBounds(new AMap.Bounds([Kt[0][0],Kt[0][1],Kt[1][0],Kt[1][1]]))}},{key:"setZoomAndCenter",value:function(Kt,De){this.map.setZoomAndCenter(Kt,De)}},{key:"setMapStyle",value:function(Kt){this.map.setMapStyle(this.getMapStyle(Kt))}},{key:"setMapStatus",value:function(Kt){this.map.setStatus(Kt)}},{key:"pixelToLngLat",value:function(Kt){var De=this.map.pixelToLngLat(new AMap.Pixel(Kt[0],Kt[1]));return{lng:De.getLng(),lat:De.getLat()}}},{key:"lngLatToPixel",value:function(Kt){var De=this.map.lnglatToPixel(new AMap.LngLat(Kt[0],Kt[1]));return{x:De.getX(),y:De.getY()}}},{key:"containerToLngLat",value:function(Kt){var De=new AMap.Pixel(Kt[0],Kt[1]),br=this.map.containerToLngLat(De);return{lng:br==null?void 0:br.getLng(),lat:br==null?void 0:br.getLat()}}},{key:"lngLatToContainer",value:function(Kt){var De=new AMap.LngLat(Kt[0],Kt[1]),br=this.map.lngLatToContainer(De);return{x:br.getX(),y:br.getY()}}},{key:"lngLatToCoord",value:function(Kt){var De=this.map.lngLatToGeodeticCoord(Kt),br=De.x,Tn=De.y;return[br,-Tn]}},{key:"lngLatToMercator",value:function(Kt,De){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(Kt,De,br){var Tn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],gi=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},Oi=this.viewport.projectFlat(Kt),Di=L.create();return L.translate(Di,Di,R.fromValues(Oi[0],Oi[1],De)),L.scale(Di,Di,R.fromValues(Tn[0],Tn[1],Tn[2])),L.rotateX(Di,Di,br[0]),L.rotateY(Di,Di,br[1]),L.rotateZ(Di,Di,br[2]),Di}},{key:"init",value:function(){var ce=(0,m.Z)(E().mark(function De(){var br=this,Tn,gi,Oi,Di,ta,ha,Ba,na,ts,po,uo,Zo,Qa,go;return E().wrap(function(es){for(;;)switch(es.prev=es.next){case 0:return Tn=this.config,gi=Tn.id,Oi=Tn.style,Di=Oi===void 0?"light":Oi,ta=Tn.minZoom,ha=ta===void 0?0:ta,Ba=Tn.maxZoom,na=Ba===void 0?18:Ba,ts=Tn.token,po=ts===void 0?D:ts,uo=Tn.mapInstance,Zo=Tn.plugin,Qa=Zo===void 0?[]:Zo,go=(0,A.Z)(Tn,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),es.next=3,new Promise(function(Rs){var os=function(){if(uo)br.map=uo,br.$mapContainer=br.map.getContainer(),setTimeout(function(){br.map.on("camerachange",br.handleCameraChanged),Rs()},30);else{br.$mapContainer=br.creatAmapContainer(gi);var Bo=new AMap.Map(br.$mapContainer,et({mapStyle:br.getMapStyle(Di),zooms:[ha,na],viewMode:"3D"},go));Bo.on("camerachange",br.handleCameraChanged),br.map=Bo,setTimeout(function(){Rs()},10)}};!lt&&!uo?(po===D&&console.warn(br.configService.getSceneWarninfo("MapToken")),lt=!0,Qa.push("Map3D"),T().load({key:po,version:V,plugins:Qa}).then(function(ss){os(),St.length&&(St.forEach(function(Bo){return Bo()}),St=[])}).catch(function(ss){throw new Error(ss)})):lt&&window.AMap||uo?os():St.push(os)});case 3:this.viewport=new xt;case 4:case"end":return es.stop()}},De,this)}));function Kt(){return ce.apply(this,arguments)}return Kt}()},{key:"exportMap",value:function(Kt){var De,br=(De=this.getContainer())===null||De===void 0?void 0:De.getElementsByClassName("amap-layer")[0],Tn=Kt==="jpg"?br==null?void 0:br.toDataURL("image/jpeg"):br==null?void 0:br.toDataURL("image/png");return Tn}},{key:"emit",value:function(Kt){for(var De,br=arguments.length,Tn=new Array(br>1?br-1:0),gi=1;gi<br;gi++)Tn[gi-1]=arguments[gi];(De=this.eventEmitter).emit.apply(De,[Kt].concat(Tn))}},{key:"once",value:function(Kt){for(var De,br=arguments.length,Tn=new Array(br>1?br-1:0),gi=1;gi<br;gi++)Tn[gi-1]=arguments[gi];(De=this.eventEmitter).once.apply(De,[Kt].concat(Tn))}},{key:"destroy",value:function(){var Kt,De;this.map.destroy(),(Kt=this.$mapContainer)===null||Kt===void 0||(De=Kt.parentNode)===null||De===void 0||De.removeChild(this.$mapContainer),delete window.initAMap;var br=document.getElementById(tt);br&&document.head.removeChild(br)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(Kt){this.cameraChangedCallback=Kt}},{key:"getMapStyle",value:function(Kt){return at[Kt]?at[Kt]:Kt}},{key:"creatAmapContainer",value:function(Kt){var De=Kt;typeof Kt=="string"&&(De=document.getElementById(Kt));var br=document.createElement("div");return br.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,br.id="l7_amap_div"+w++,De.appendChild(br),br}}]),ie}(),H=(0,u.Z)(it.prototype,"configService",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=(0,u.Z)(it.prototype,"config",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=(0,u.Z)(it.prototype,"coordinateSystemService",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,u.Z)(it.prototype,"eventEmitter",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it))||N);function Ot(ie){var ce=Ft();return function(){var De=(0,e.Z)(ie),br;if(ce){var Tn=(0,e.Z)(this).constructor;br=Reflect.construct(De,arguments,Tn)}else br=De.apply(this,arguments);return(0,r.Z)(this,br)}}function Ft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}var zt=function(ie){(0,f.Z)(Kt,ie);var ce=Ot(Kt);function Kt(){return(0,v.Z)(this,Kt),ce.apply(this,arguments)}return(0,o.Z)(Kt,[{key:"getServiceConstructor",value:function(){return Mt}}]),Kt}(x);function $t(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function he(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?$t(Object(Kt),!0).forEach(function(De){ye(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):$t(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function ye(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function tr(ie,ce){return Ee(ie)||Vr(ie,ce)||Xe(ie,ce)||nr()}function nr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(ie,ce){if(!!ie){if(typeof ie=="string")return yr(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return yr(ie,ce)}}function yr(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function Vr(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function Ee(ie){if(Array.isArray(ie))return ie}var de=i.memo(function(ie){var ce=ie.style,Kt=ie.className,De=ie.map,br=ie.option,Tn=ie.onSceneLoaded,gi=ie.children,Oi=(0,i.useRef)(null),Di=(0,i.useState)(),ta=tr(Di,2),ha=ta[0],Ba=ta[1];return(0,i.useEffect)(function(){var na=new s.Scene(he(he({id:Oi.current},br),{},{map:new zt(De)}));return na.on("loaded",function(){Ba(na),Tn&&Tn(na)}),function(){na.destroy()}},[]),(0,i.useEffect)(function(){ha&&De.style&&ha.setMapStyle(De.style)},[JSON.stringify(De.style)]),(0,i.useEffect)(function(){ha&&De.zoom&&ha.setZoom(De.zoom)},[De.zoom]),(0,i.useEffect)(function(){ha&&De.center&&ha.setCenter(De.center)},[JSON.stringify(De.center)]),(0,i.useEffect)(function(){ha&&De.pitch&&ha.setPitch(De.pitch)},[De.pitch]),(0,i.useEffect)(function(){ha&&De.rotation&&ha.setRotation(De.rotation)},[De.rotation]),i.createElement(t.Provider,{value:ha},i.createElement("div",{ref:Oi,className:Kt,style:ce},ha&&gi))}),Ge=de;function ke(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Kr(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?ke(Object(Kt),!0).forEach(function(De){fn(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):ke(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function fn(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function pi(ie,ce){return Be(ie)||Te(ie,ce)||ea(ie,ce)||Vi()}function Vi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ea(ie,ce){if(!!ie){if(typeof ie=="string")return zi(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return zi(ie,ce)}}function zi(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function Te(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function Be(ie){if(Array.isArray(ie))return ie}var lr=null,Or=null;function sr(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Dr(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?sr(Object(Kt),!0).forEach(function(De){En(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):sr(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function En(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function Yn(ie,ce){return Gr(ie)||$n(ie,ce)||Jr(ie,ce)||ln()}function ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(ie,ce){if(!!ie){if(typeof ie=="string")return Wn(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return Wn(ie,ce)}}function Wn(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function $n(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function Gr(ie){if(Array.isArray(ie))return ie}var wr=null,ti=null;function ge(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Le(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?ge(Object(Kt),!0).forEach(function(De){Se(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):ge(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function Se(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function Ve(ie,ce){return Lr(ie)||rr(ie,ce)||vr(ie,ce)||le()}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vr(ie,ce){if(!!ie){if(typeof ie=="string")return He(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return He(ie,ce)}}function He(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function rr(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function Lr(ie){if(Array.isArray(ie))return ie}var Mr=null,rn=null;function pn(ie,ce){return ar(ie)||er(ie,ce)||Dn(ie,ce)||qr()}function qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(ie,ce){if(!!ie){if(typeof ie=="string")return ae(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return ae(ie,ce)}}function ae(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function er(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function ar(ie){if(Array.isArray(ie))return ie}var kr=null,Rn=null;function di(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Yi(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?di(Object(Kt),!0).forEach(function(De){da(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):di(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function da(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function _a(ie,ce){if(ie==null)return{};var Kt=fa(ie,ce),De,br;if(Object.getOwnPropertySymbols){var Tn=Object.getOwnPropertySymbols(ie);for(br=0;br<Tn.length;br++)De=Tn[br],!(ce.indexOf(De)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ie,De)||(Kt[De]=ie[De]))}return Kt}function fa(ie,ce){if(ie==null)return{};var Kt={},De=Object.keys(ie),br,Tn;for(Tn=0;Tn<De.length;Tn++)br=De[Tn],!(ce.indexOf(br)>=0)&&(Kt[br]=ie[br]);return Kt}var wo=null,ho=S(73935);function mo(ie,ce){return qa(ie)||Za(ie,ce)||zo(ie,ce)||yo()}function yo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zo(ie,ce){if(!!ie){if(typeof ie=="string")return io(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return io(ie,ce)}}function io(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function Za(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function qa(ie){if(Array.isArray(ie))return ie}var Zt=i.useEffect,je=i.useState;function ur(ie){var ce=ie.className,Kt=ie.style,De=ie.children,br=ie.position,Tn=useSceneValue(),gi=je(function(){return document.createElement("div")}),Oi=mo(gi,1),Di=Oi[0];return Zt(function(){var ta=new Control({position:br});return ta.onAdd=function(){if(ce&&(Di.className=ce),Kt){var ha=Object.keys(Kt).map(function(Ba){return"".concat(Ba,":").concat(Kt[Ba])}).join(";");Di.style.cssText=ha}return Di},ta.onRemove=function(){},Tn.addControl(ta),function(){Tn.removeControl(ta)}},[]),createPortal(De,Di)}var Br=(0,i.createContext)({});function Vt(){return useContext(Br)}var ee=i.useEffect,Ae=null,Me=i.useEffect,Er=null,dn=i.useEffect,xn=null,fi=i.useEffect,Ai=null,aa=i.useEffect,qi=null,Sa=i.useEffect,ca=null,to=i.useEffect,za=null,Ia=i.useEffect,Va=null,ro=null;function xe(ie,ce){if(ie==null)return{};var Kt=be(ie,ce),De,br;if(Object.getOwnPropertySymbols){var Tn=Object.getOwnPropertySymbols(ie);for(br=0;br<Tn.length;br++)De=Tn[br],!(ce.indexOf(De)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ie,De)||(Kt[De]=ie[De]))}return Kt}function be(ie,ce){if(ie==null)return{};var Kt={},De=Object.keys(ie),br,Tn;for(Tn=0;Tn<De.length;Tn++)br=De[Tn],!(ce.indexOf(br)>=0)&&(Kt[br]=ie[br]);return Kt}var pe=i.useEffect,vt=null,gt=i.useEffect,dt=null;function Dt(ie,ce){return Rt(ie)||zr(ie,ce)||We(ie,ce)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(ie,ce){if(!!ie){if(typeof ie=="string")return cr(ie,ce);var Kt=Object.prototype.toString.call(ie).slice(8,-1);if(Kt==="Object"&&ie.constructor&&(Kt=ie.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(ie);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return cr(ie,ce)}}function cr(ie,ce){(ce==null||ce>ie.length)&&(ce=ie.length);for(var Kt=0,De=new Array(ce);Kt<ce;Kt++)De[Kt]=ie[Kt];return De}function zr(ie,ce){var Kt=ie==null?null:typeof Symbol!="undefined"&&ie[Symbol.iterator]||ie["@@iterator"];if(Kt!=null){var De=[],br=!0,Tn=!1,gi,Oi;try{for(Kt=Kt.call(ie);!(br=(gi=Kt.next()).done)&&(De.push(gi.value),!(ce&&De.length===ce));br=!0);}catch(Di){Tn=!0,Oi=Di}finally{try{!br&&Kt.return!=null&&Kt.return()}finally{if(Tn)throw Oi}}return De}}function Rt(ie){if(Array.isArray(ie))return ie}var Si=i.useEffect,ri=i.useState;function k(ie,ce){var Kt=ce.source,De=ce.color,br=ce.shape,Tn=ce.style,gi=ce.size,Oi=ce.scale,Di=ce.active,ta=ce.select,ha=ce.filter,Ba=ce.animate,na=ce.options,ts=ce.onLayerLoaded,po=useSceneValue(),uo=ri(function(){var go;switch(ie){case"polygonLayer":go=new PolygonLayer(na);break;case"lineLayer":go=new LineLayer(na);break;case"pointLayer":go=new PointLayer(na);break;case"heatmapLayer":go=new HeatmapLayer(na);break;case"rasterLayer":go=new RasterLayer(na);break;case"imageLayer":go=new ImageLayer(na);break;case"citybuildingLayer":go=new CityBuildingLayer(na);break;default:go=new PolygonLayer(na)}return go.on("inited",function(){ts&&ts(go,po)}),go}),Zo=Dt(uo,1),Qa=Zo[0];return Si(function(){return po.addLayer(Qa),function(){po.removeLayer(Qa)}},[]),Si(function(){Qa.inited&&na&&Qa.updateLayerConfig(na)},[na==null?void 0:na.minZoom,na==null?void 0:na.maxZoom,na==null?void 0:na.visible]),Si(function(){Qa.inited&&(na==null?void 0:na.zIndex)&&Qa.setIndex(na.zIndex)},[na==null?void 0:na.zIndex]),Si(function(){Qa.inited&&(na==null?void 0:na.blend)&&Qa.setBlend(na.blend)},[na==null?void 0:na.blend]),Si(function(){po.render()}),React.createElement(LayerContext.Provider,{value:Qa},React.createElement(Source,{layer:Qa,source:Kt}),Oi&&React.createElement(Scale,{layer:Qa,scale:Oi}),De&&React.createElement(Color,{layer:Qa,color:De}),gi&&React.createElement(Size,{layer:Qa,size:gi}),br&&React.createElement(Shape,{layer:Qa,shape:br}),Tn&&React.createElement(Style,{layer:Qa,style:Tn}),Di&&React.createElement(Active,{layer:Qa,active:Di}),ta&&React.createElement(Select,{layer:Qa,select:ta}),ha&&React.createElement(Filter,{layer:Qa,filter:ha}),Ba&&React.createElement(Animate,{layer:Qa,animate:Ba}),ce.children)}var rt=null,Bt=null,yt=null,ne=null,_e=null,or=null,jr=null,_r=i.useEffect,Pn=null,Ln=null;function Li(ie){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Li=function(Kt){return typeof Kt}:Li=function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},Li(ie)}function sa(ie,ce){var Kt=Object.keys(ie);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(ie);ce&&(De=De.filter(function(br){return Object.getOwnPropertyDescriptor(ie,br).enumerable})),Kt.push.apply(Kt,De)}return Kt}function Ki(ie){for(var ce=1;ce<arguments.length;ce++){var Kt=arguments[ce]!=null?arguments[ce]:{};ce%2?sa(Object(Kt),!0).forEach(function(De){Ea(ie,De,Kt[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(Kt)):sa(Object(Kt)).forEach(function(De){Object.defineProperty(ie,De,Object.getOwnPropertyDescriptor(Kt,De))})}return ie}function Ea(ie,ce,Kt){return ce in ie?Object.defineProperty(ie,ce,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=Kt,ie}function pa(ie,ce){if(!(ie instanceof ce))throw new TypeError("Cannot call a class as a function")}function Fa(ie,ce){for(var Kt=0;Kt<ce.length;Kt++){var De=ce[Kt];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ie,De.key,De)}}function Ua(ie,ce,Kt){return ce&&Fa(ie.prototype,ce),Kt&&Fa(ie,Kt),ie}function vo(ie,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(ce&&ce.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),ce&&No(ie,ce)}function No(ie,ce){return No=Object.setPrototypeOf||function(De,br){return De.__proto__=br,De},No(ie,ce)}function Yo(ie){var ce=Io();return function(){var De=xo(ie),br;if(ce){var Tn=xo(this).constructor;br=Reflect.construct(De,arguments,Tn)}else br=De.apply(this,arguments);return Ds(this,br)}}function Ds(ie,ce){if(ce&&(Li(ce)==="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Go(ie)}function Go(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function Io(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}function xo(ie){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(Kt){return Kt.__proto__||Object.getPrototypeOf(Kt)},xo(ie)}var Lo=function(ie){vo(Kt,ie);var ce=Yo(Kt);function Kt(De){var br;return pa(this,Kt),br=ce.call(this,De),br.el=void 0,br.scene=void 0,br.popup=void 0,br.el=document.createElement("div"),br}return Ua(Kt,[{key:"componentDidMount",value:function(){var br,Tn=this.props,gi=Tn.lnglat,Oi=Tn.children,Di=Tn.option,ta=Tn.lngLat,ha=new s.Popup(Ki(Ki({},Di),{},{stopPropagation:(br=this.props.option)===null||br===void 0?void 0:br.stopPropagation}));gi&&ha.setLnglat(gi),ta&&ha.setLnglat(ta),Oi&&ha.setDOMContent(this.el),this.popup=ha,this.scene.addPopup(ha)}},{key:"componentDidUpdate",value:function(br){var Tn,gi,Oi,Di,ta,ha,Ba=Array.isArray(br.lnglat)?br.lnglat:[br==null||(Tn=br.lnglat)===null||Tn===void 0?void 0:Tn.lng,br==null||(gi=br.lnglat)===null||gi===void 0?void 0:gi.lat],na=Array.isArray(this.props.lnglat)?this.props.lnglat:[(Oi=this.props)===null||Oi===void 0||(Di=Oi.lnglat)===null||Di===void 0?void 0:Di.lng,(ta=this.props)===null||ta===void 0||(ha=ta.lnglat)===null||ha===void 0?void 0:ha.lat],ts=Ba.toString()!==na.toString();if(ts){var po;this.popup.remove(),this.popup=new s.Popup(Ki(Ki({},this.props.option),{},{stopPropagation:(po=this.props.option)===null||po===void 0?void 0:po.stopPropagation})),this.popup.setLnglat(this.props.lnglat),this.popup.setDOMContent(this.el),this.scene.addPopup(this.popup)}}},{key:"componentWillUnmount",value:function(){this.popup.remove()}},{key:"render",value:function(){var br=this;return i.createElement(t.Consumer,{},function(Tn){return Tn&&(br.scene=Tn),(0,ho.createPortal)(br.props.children,br.el)})}}]),Kt}(i.PureComponent);function Fo(ie){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fo=function(Kt){return typeof Kt}:Fo=function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt},Fo(ie)}function so(ie,ce){if(!(ie instanceof ce))throw new TypeError("Cannot call a class as a function")}function Qo(ie,ce){for(var Kt=0;Kt<ce.length;Kt++){var De=ce[Kt];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ie,De.key,De)}}function Jo(ie,ce,Kt){return ce&&Qo(ie.prototype,ce),Kt&&Qo(ie,Kt),ie}function So(ie,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(ce&&ce.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),ce&&ds(ie,ce)}function ds(ie,ce){return ds=Object.setPrototypeOf||function(De,br){return De.__proto__=br,De},ds(ie,ce)}function ns(ie){var ce=Xo();return function(){var De=as(ie),br;if(ce){var Tn=as(this).constructor;br=Reflect.construct(De,arguments,Tn)}else br=De.apply(this,arguments);return qo(this,br)}}function qo(ie,ce){if(ce&&(Fo(ce)==="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return is(ie)}function is(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function Xo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}function as(ie){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(Kt){return Kt.__proto__||Object.getPrototypeOf(Kt)},as(ie)}var $a=function(ie){So(Kt,ie);var ce=ns(Kt);function Kt(De){var br;return so(this,Kt),br=ce.call(this,De),br.el=void 0,br.scene=void 0,br.marker=void 0,br.el=document.createElement("div"),br}return Jo(Kt,[{key:"componentDidMount",value:function(){var br=this.props,Tn=br.lnglat,gi=br.children,Oi=br.option,Di=br.onMarkerLoaded,ta=new s.Marker(Oi);Tn&&ta.setLnglat(Tn),gi&&ta.setElement(this.el),this.marker=ta,Di&&Di(ta),this.scene.addMarker(ta)}},{key:"componentDidUpdate",value:function(br){var Tn,gi=(br==null?void 0:br.lnglat.toString())!==((Tn=this.props)===null||Tn===void 0?void 0:Tn.lnglat.toString());gi&&this.marker.setLnglat(this.props.lnglat)}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.remove()}},{key:"render",value:function(){var br=this;return i.createElement(t.Consumer,{},function(Tn){return Tn&&(br.scene=Tn),(0,ho.createPortal)(br.props.children,br.el)})}}]),Kt}(i.PureComponent),Eu=i.useEffect,pu=null,Qs=null,au=i.useEffect,Ko=null},4771:function(){},6563:function(mr,P,S){var i=S(31795);mr.exports=t;function t(r,e){switch(r&&r.type||null){case"FeatureCollection":return r.features=r.features.map(c(t,e)),r;case"GeometryCollection":return r.geometries=r.geometries.map(c(t,e)),r;case"Feature":return r.geometry=t(r.geometry,e),r;case"Polygon":case"MultiPolygon":return s(r,e);default:return r}}function c(r,e){return function(n){return r(n,e)}}function s(r,e){return r.type==="Polygon"?r.coordinates=v(r.coordinates,e):r.type==="MultiPolygon"&&(r.coordinates=r.coordinates.map(c(v,e))),r}function v(r,e){e=!!e,r[0]=o(r[0],e);for(var n=1;n<r.length;n++)r[n]=o(r[n],!e);return r}function o(r,e){return f(r)===e?r:r.reverse()}function f(r){return i.ring(r)>=0}},91739:function(mr,P,S){"use strict";S.d(P,{SO:function(){return i},z6:function(){return $n},a5:function(){return t},Z:function(){return sr},rQ:function(){return le},bV:function(){return Ve},zi:function(){return vr},ds:function(){return Wn},Ev:function(){return Gr},oO:function(){return Jr},W0:function(){return ge},Z6:function(){return Le},We:function(){return fn},gJ:function(){return it},vP:function(){return zi},yM:function(){return En},yA:function(){return ln},CI:function(){return ti}});var i={};S.r(i),S.d(i,{DPR:function(){return E},addClass:function(){return l},create:function(){return a},empty:function(){return y},getClass:function(){return g},getContainer:function(){return f},getViewPortScale:function(){return b},hasClass:function(){return p},printCanvas:function(){return M},remove:function(){return u},removeClass:function(){return h},setClass:function(){return d},setTransform:function(){return A},splitWords:function(){return e},triggerResize:function(){return m},trim:function(){return r}});var t={};S.r(t),S.d(t,{getColumn:function(){return qr},getSatByColumn:function(){return Dn},max:function(){return He},mean:function(){return Mr},min:function(){return rr},mode:function(){return rn},statMap:function(){return pn},sum:function(){return Lr}});function c(ae){var er=131,ar=137,kr=0;ae+="x";for(var Rn=Math.floor(9007199254740991/ar),di=0;di<ae.length;di++)kr>Rn&&(kr=Math.floor(kr/ar)),kr=kr*er+ae.charCodeAt(di);return kr}function s(ae){ae=ae.toString();for(var er=5381,ar=ae.length;ar;)er=er*33^ae.charCodeAt(--ar);return er>>>0}var v=S(28481),o=window.document.documentElement.style;function f(ae){var er=ae;return typeof ae=="string"&&(er=document.getElementById(ae)),er}function r(ae){return ae.trim?ae.trim():ae.replace(/^\s+|\s+$/g,"")}function e(ae){return r(ae).split(/\s+/)}function n(ae){if(!o)return ae[0];for(var er in ae)if(ae[er]&&ae[er]in o)return ae[er];return ae[0]}function a(ae,er,ar){var kr=document.createElement(ae);return kr.className=er||"",ar&&ar.appendChild(kr),kr}function u(ae){var er=ae.parentNode;er&&er.removeChild(ae)}function l(ae,er){if(ae.classList!==void 0)for(var ar=e(er),kr=0,Rn=ar.length;kr<Rn;kr++)ae.classList.add(ar[kr]);else if(!p(ae,er)){var di=g(ae);d(ae,(di?di+" ":"")+er)}}function h(ae,er){ae.classList!==void 0?ae.classList.remove(er):d(ae,r((" "+g(ae)+" ").replace(" "+er+" "," ")))}function p(ae,er){if(ae.classList!==void 0)return ae.classList.contains(er);var ar=g(ae);return ar.length>0&&new RegExp("(^|\\s)"+er+"(\\s|$)").test(ar)}function d(ae,er){ae instanceof HTMLElement?ae.className=er:ae.className.baseVal=er}function g(ae){return ae instanceof SVGElement&&(ae=ae.correspondingElement),ae.className.baseVal===void 0?ae.className:ae.className.baseVal}function y(ae){for(;ae&&ae.firstChild;)ae.removeChild(ae.firstChild)}var x=n(["transform","WebkitTransform"]);function A(ae,er){ae.style[x]=er}function m(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var ae=window.document.createEvent("UIEvents");ae.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(ae)}}function M(ae){var er=["padding: "+(ae.height/2-8)+"px "+ae.width/2+"px;","line-height: "+ae.height+"px;","background-image: url("+ae.toDataURL()+");"];console.log(`%c
`,er.join(""))}function b(){var ae,er=document.querySelector('meta[name="viewport"]');if(!er)return 1;var ar=(ae=er.content)===null||ae===void 0?void 0:ae.split(","),kr=ar.find(function(Rn){var di=Rn.split("="),Yi=(0,v.Z)(di,2),da=Yi[0],_a=Yi[1];return da==="initial-scale"});return kr?kr.split("=")[1]*1:1}var E=b()<1?1:window.devicePixelRatio,C=S(6610),T=S(5991),O=S(63349),L=S(10379),R=S(46070),W=S(77608),U=S(14665);function X(ae){return Function.toString.call(ae).indexOf("[native code]")!==-1}var Z=S(51814);function J(ae,er,ar){return(0,Z.Z)()?J=Reflect.construct:J=function(Rn,di,Yi){var da=[null];da.push.apply(da,di);var _a=Function.bind.apply(Rn,da),fa=new _a;return Yi&&(0,U.Z)(fa,Yi.prototype),fa},J.apply(null,arguments)}function ht(ae){var er=typeof Map=="function"?new Map:void 0;return ht=function(kr){if(kr===null||!X(kr))return kr;if(typeof kr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof er!="undefined"){if(er.has(kr))return er.get(kr);er.set(kr,Rn)}function Rn(){return J(kr,arguments,(0,W.Z)(this).constructor)}return Rn.prototype=Object.create(kr.prototype,{constructor:{value:Rn,enumerable:!1,writable:!0,configurable:!0}}),(0,U.Z)(Rn,kr)},ht(ae)}var at=S(96156);function Q(ae){var er=xt();return function(){var kr=(0,W.Z)(ae),Rn;if(er){var di=(0,W.Z)(this).constructor;Rn=Reflect.construct(kr,arguments,di)}else Rn=kr.apply(this,arguments);return(0,R.Z)(this,Rn)}}function xt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}var kt=function(ae){(0,L.Z)(ar,ae);var er=Q(ar);function ar(kr,Rn,di){var Yi;return(0,C.Z)(this,ar),Yi=er.call(this,kr),(0,at.Z)((0,O.Z)(Yi),"status",void 0),(0,at.Z)((0,O.Z)(Yi),"url",void 0),Yi.status=Rn,Yi.url=di,Yi.name=Yi.constructor.name,Yi.message=kr,Yi}return(0,T.Z)(ar,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),ar}(ht(Error));function Nt(ae){var er=new XMLHttpRequest;er.open("GET",ae.url,!0);for(var ar in ae.headers)ae.headers.hasOwnProperty(ar)&&er.setRequestHeader(ar,ae.headers[ar]);return er.withCredentials=ae.credentials==="include",er}var nt=function(er,ar){var kr=Nt(er);return kr.setRequestHeader("Accept","application/json"),kr.onerror=function(){ar(new Error(kr.statusText))},kr.onload=function(){if(kr.status>=200&&kr.status<300&&kr.response){var Rn;try{Rn=JSON.parse(kr.response)}catch(di){return ar(di)}ar(null,Rn)}else kr.status===401?ar(new kt("".concat(kr.statusText),kr.status,er.url)):ar(new kt(kr.statusText,kr.status,er.url))},kr.send(),kr},q=function(er,ar){var kr=Nt(er);return kr.responseType="arraybuffer",kr.onerror=function(){ar(new Error(kr.statusText))},kr.onload=function(){var Rn=kr.response;if(Rn.byteLength===0&&kr.status===200)return ar(new Error("http status 200 returned without content."));kr.status>=200&&kr.status<300&&kr.response?ar(null,{data:Rn,cacheControl:kr.getResponseHeader("Cache-Control"),expires:kr.getResponseHeader("Expires")}):ar(new kt(kr.statusText,kr.status,er.url))},kr.send(),kr};function G(ae){var er=window.document.createElement("a");return er.href=ae,er.protocol===window.document.location.protocol&&er.host===window.document.location.host}var N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",it=function(er,ar){return q(er,function(kr,Rn){if(kr)ar(kr);else if(Rn){var di=new window.Image;di.crossOrigin="anonymous";var Yi=window.URL||window.webkitURL;di.onload=function(){ar(null,di),Yi.revokeObjectURL(di.src)};var da=new window.Blob([new Uint8Array(Rn.data)],{type:"image/png"});di.src=Rn.data.byteLength?Yi.createObjectURL(da):N}})},H=63710088e-1,ct={centimeters:H*100,centimetres:H*100,degrees:H/111325,feet:H*3.28084,inches:H*39.37,kilometers:H/1e3,kilometres:H/1e3,meters:H,metres:H,miles:H/1609.344,millimeters:H*1e3,millimetres:H*1e3,nauticalmiles:H/1852,radians:1,yards:H*1.0936},ft={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/H,yards:1.0936133},K={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function $(ae,er,ar){ar===void 0&&(ar={});var kr={type:"Feature"};return(ar.id===0||ar.id)&&(kr.id=ar.id),ar.bbox&&(kr.bbox=ar.bbox),kr.properties=er||{},kr.geometry=ae,kr}function et(ae,er,ar){switch(ar===void 0&&(ar={}),ae){case"Point":return j(er).geometry;case"LineString":return tt(er).geometry;case"Polygon":return D(er).geometry;case"MultiPoint":return Mt(er).geometry;case"MultiLineString":return ot(er).geometry;case"MultiPolygon":return Ot(er).geometry;default:throw new Error(ae+" is invalid")}}function j(ae,er,ar){if(ar===void 0&&(ar={}),!ae)throw new Error("coordinates is required");if(!Array.isArray(ae))throw new Error("coordinates must be an Array");if(ae.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ee(ae[0])||!Ee(ae[1]))throw new Error("coordinates must contain numbers");var kr={type:"Point",coordinates:ae};return $(kr,er,ar)}function w(ae,er,ar){return ar===void 0&&(ar={}),St(ae.map(function(kr){return j(kr,er)}),ar)}function D(ae,er,ar){ar===void 0&&(ar={});for(var kr=0,Rn=ae;kr<Rn.length;kr++){var di=Rn[kr];if(di.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Yi=0;Yi<di[di.length-1].length;Yi++)if(di[di.length-1][Yi]!==di[0][Yi])throw new Error("First and last Position are not equivalent.")}var da={type:"Polygon",coordinates:ae};return $(da,er,ar)}function V(ae,er,ar){return ar===void 0&&(ar={}),St(ae.map(function(kr){return D(kr,er)}),ar)}function tt(ae,er,ar){if(ar===void 0&&(ar={}),ae.length<2)throw new Error("coordinates must be an array of two or more positions");var kr={type:"LineString",coordinates:ae};return $(kr,er,ar)}function lt(ae,er,ar){return ar===void 0&&(ar={}),St(ae.map(function(kr){return tt(kr,er)}),ar)}function St(ae,er){er===void 0&&(er={});var ar={type:"FeatureCollection"};return er.id&&(ar.id=er.id),er.bbox&&(ar.bbox=er.bbox),ar.features=ae,ar}function ot(ae,er,ar){ar===void 0&&(ar={});var kr={type:"MultiLineString",coordinates:ae};return $(kr,er,ar)}function Mt(ae,er,ar){ar===void 0&&(ar={});var kr={type:"MultiPoint",coordinates:ae};return $(kr,er,ar)}function Ot(ae,er,ar){ar===void 0&&(ar={});var kr={type:"MultiPolygon",coordinates:ae};return $(kr,er,ar)}function Ft(ae,er,ar){ar===void 0&&(ar={});var kr={type:"GeometryCollection",geometries:ae};return $(kr,er,ar)}function zt(ae,er){if(er===void 0&&(er=0),er&&!(er>=0))throw new Error("precision must be a positive number");var ar=Math.pow(10,er||0);return Math.round(ae*ar)/ar}function $t(ae,er){er===void 0&&(er="kilometers");var ar=ct[er];if(!ar)throw new Error(er+" units is invalid");return ae*ar}function he(ae,er){er===void 0&&(er="kilometers");var ar=ct[er];if(!ar)throw new Error(er+" units is invalid");return ae/ar}function ye(ae,er){return nr(he(ae,er))}function tr(ae){var er=ae%360;return er<0&&(er+=360),er}function nr(ae){var er=ae%(2*Math.PI);return er*180/Math.PI}function Xe(ae){var er=ae%360;return er*Math.PI/180}function yr(ae,er,ar){if(er===void 0&&(er="kilometers"),ar===void 0&&(ar="kilometers"),!(ae>=0))throw new Error("length must be a positive number");return $t(he(ae,er),ar)}function Vr(ae,er,ar){if(er===void 0&&(er="meters"),ar===void 0&&(ar="kilometers"),!(ae>=0))throw new Error("area must be a positive number");var kr=K[er];if(!kr)throw new Error("invalid original units");var Rn=K[ar];if(!Rn)throw new Error("invalid final units");return ae/kr*Rn}function Ee(ae){return!isNaN(ae)&&ae!==null&&!Array.isArray(ae)}function de(ae){return!!ae&&ae.constructor===Object}function Ge(ae){if(!ae)throw new Error("bbox is required");if(!Array.isArray(ae))throw new Error("bbox must be an Array");if(ae.length!==4&&ae.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");ae.forEach(function(er){if(!Ee(er))throw new Error("bbox must only contain numbers")})}function ke(ae){if(!ae)throw new Error("id is required");if(["string","number"].indexOf(typeof ae)===-1)throw new Error("id must be a number or a string")}var Kr=2*Math.PI*6378137/2;function fn(ae){var er=[Infinity,Infinity,-Infinity,-Infinity];return ae.forEach(function(ar){var kr=ar.coordinates;pi(er,kr)}),er}function pi(ae,er){return Array.isArray(er[0])?er.forEach(function(ar){pi(ae,ar)}):(ae[0]>er[0]&&(ae[0]=er[0]),ae[1]>er[1]&&(ae[1]=er[1]),ae[2]<er[0]&&(ae[2]=er[0]),ae[3]<er[1]&&(ae[3]=er[1])),ae}function Vi(ae,er){return ea(ae,er)}function ea(ae,er){return Array.isArray(ae[0])?ae.map(function(ar){return ea(ar,er)}):er(ae)}function zi(ae){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{enable:!0,decimal:1};ae=Or(ae,er);var kr=ae[0],Rn=ae[1],di=kr*Kr/180,Yi=Math.log(Math.tan((90+Rn)*Math.PI/360))/(Math.PI/180);return Yi=Yi*Kr/180,ar.enable&&(di=Number(di.toFixed(ar.decimal)),Yi=Number(Yi.toFixed(ar.decimal))),ae.length===3?[di,Yi,ae[2]]:[di,Yi]}function Te(ae){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,ar=ae[0],kr=ae[1],Rn=ar/Kr*180,di=kr/Kr*180;return di=180/Math.PI*(2*Math.atan(Math.exp(di*Math.PI/180))-Math.PI/2),er!=null&&(Rn=Number(Rn.toFixed(er)),di=Number(di.toFixed(er))),ae.length===3?[Rn,di,ae[2]]:[Rn,di]}function Be(ae){if(ae==null)throw new Error("lng is required");return(ae>180||ae<-180)&&(ae=ae%360,ae>180&&(ae=-360+ae),ae<-180&&(ae=360+ae),ae===0&&(ae=0)),ae}function lr(ae){if(ae==null)throw new Error("lat is required");return(ae>90||ae<-90)&&(ae=ae%180,ae>90&&(ae=-180+ae),ae<-90&&(ae=180+ae),ae===0&&(ae=0)),ae}function Or(ae,er){if(er===!1)return ae;var ar=Be(ae[0]),kr=lr(ae[1]);return kr>85&&(kr=85),kr<-85&&(kr=-85),ae.length===3?[ar,kr,ae[2]]:[ar,kr]}function sr(ae){var er=85.0511287798,ar=Math.max(Math.min(er,ae[1]),-er),kr=256<<20,Rn=Math.PI/180,di=ae[0]*Rn,Yi=ar*Rn;Yi=Math.log(Math.tan(Math.PI/4+Yi/2));var da=.5/Math.PI,_a=.5,fa=-.5/Math.PI;return Rn=.5,di=kr*(da*di+_a),Yi=kr*(fa*Yi+Rn),[Math.floor(di),Math.floor(Yi)]}function Dr(ae){var er=.5/Math.PI,ar=.5,kr=-.5/Math.PI,Rn=.5,di=256<<20,Yi=_slicedToArray(ae,2),da=Yi[0],_a=Yi[1];da=(da/di-ar)/er,_a=(_a/di-Rn)/kr,_a=(Math.atan(Math.pow(Math.E,_a))-Math.PI/4)*2,Rn=Math.PI/180;var fa=_a/Rn,wo=da/Rn;return[wo,fa]}function En(ae,er,ar){var kr=Xe(er[1]-ae[1]),Rn=Xe(er[0]-ae[0]),di=Xe(ae[1]),Yi=Xe(er[1]),da=Math.pow(Math.sin(kr/2),2)+Math.pow(Math.sin(Rn/2),2)*Math.cos(di)*Math.cos(Yi);return $t(2*Math.atan2(Math.sqrt(da),Math.sqrt(1-da)),ar="meters")}function Yn(ae){var er=Math.PI/180,ar=85.0511287798,kr=6378137,Rn=Math.max(Math.min(ar,ae[1]),-ar),di=Math.sin(Rn*er),Yi=kr*ae[0]*er,da=kr*Math.log((1+di)/(1-di))/2;return[Yi,da]}function ln(ae,er){var ar=Math.abs(ae[1][1]-ae[0][1])*er,kr=Math.abs(ae[1][0]-ae[0][0])*er;return[[ae[0][0]-kr,ae[0][1]-ar],[ae[1][0]+kr,ae[1][1]+ar]]}function Jr(ae,er){return ae[0][0]<=er[0][0]&&ae[0][1]<=er[0][1]&&ae[1][0]>=er[1][0]&&ae[1][1]>=er[1][1]}function Wn(ae){return[[ae[0],ae[1]],[ae[2],ae[3]]]}var $n=function(){function ae(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50,ar=arguments.length>1?arguments[1]:void 0;(0,C.Z)(this,ae),(0,at.Z)(this,"limit",void 0),(0,at.Z)(this,"cache",void 0),(0,at.Z)(this,"destroy",void 0),(0,at.Z)(this,"order",void 0),this.limit=er,this.destroy=ar||this.defaultDestroy,this.order=[],this.clear()}return(0,T.Z)(ae,[{key:"clear",value:function(){var ar=this;this.order.forEach(function(kr){ar.delete(kr)}),this.cache={},this.order=[]}},{key:"get",value:function(ar){var kr=this.cache[ar];return kr&&(this.deleteOrder(ar),this.appendOrder(ar)),kr}},{key:"set",value:function(ar,kr){this.cache[ar]?(this.delete(ar),this.cache[ar]=kr,this.appendOrder(ar)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[ar]=kr,this.appendOrder(ar))}},{key:"delete",value:function(ar){var kr=this.cache[ar];kr&&(this.deleteCache(ar),this.deleteOrder(ar),this.destroy(kr,ar))}},{key:"deleteCache",value:function(ar){delete this.cache[ar]}},{key:"deleteOrder",value:function(ar){var kr=this.order.findIndex(function(Rn){return Rn===ar});kr>=0&&this.order.splice(kr,1)}},{key:"appendOrder",value:function(ar){this.order.push(ar)}},{key:"defaultDestroy",value:function(ar,kr){return null}}]),ae}();function Gr(ae,er){ae.forEach(function(ar){!er[ar]||(er[ar]=er[ar].bind(er))})}var wr=S(2650);function ti(ae){var er=wr.ZP(ae),ar=[0,0,0,0];return er!=null&&(ar[0]=er.r/255,ar[1]=er.g/255,ar[2]=er.b/255,ar[3]=er.opacity),ar}function ge(ae){var er=ae&&ae[0],ar=ae&&ae[1],kr=ae&&ae[2],Rn=er+ar*256+kr*65536-1;return Rn}function Le(ae){return[ae+1&255,ae+1>>8&255,ae+1>>8>>8&255]}function Se(ae){var er=document.createElement("canvas"),ar=er.getContext("2d");er.width=256,er.height=1;for(var kr=ar.createLinearGradient(0,0,256,1),Rn=null,di=ae.positions[0],Yi=ae.positions[ae.positions.length-1],da=0;da<ae.colors.length;++da){var _a=(ae.positions[da]-di)/(Yi-di);kr.addColorStop(_a,ae.colors[da])}return ar.fillStyle=kr,ar.fillRect(0,0,256,1),Rn=new Uint8ClampedArray(ar.getImageData(0,0,256,1).data),new ImageData(Rn,256,1)}var Ve;(function(ae){ae.CENTER="center",ae.TOP="top",ae["TOP-LEFT"]="top-left",ae["TOP-RIGHT"]="top-right",ae.BOTTOM="bottom",ae["BOTTOM-LEFT"]="bottom-left",ae.LEFT="left",ae.RIGHT="right"})(Ve||(Ve={}));var le={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vr(ae,er,ar){var kr=ae.classList;for(var Rn in le)le.hasOwnProperty(Rn)&&kr.remove("l7-".concat(ar,"-anchor-").concat(Rn));kr.add("l7-".concat(ar,"-anchor-").concat(er))}function He(ae){if(ae.length===0)throw new Error("max requires at least one data point");for(var er=ae[0],ar=1;ar<ae.length;ar++)ae[ar]>er&&(er=ae[ar]);return er*1}function rr(ae){if(ae.length===0)throw new Error("min requires at least one data point");for(var er=ae[0],ar=1;ar<ae.length;ar++)ae[ar]<er&&(er=ae[ar]);return er*1}function Lr(ae){if(ae.length===0)return 0;for(var er=ae[0]*1,ar=1;ar<ae.length;ar++)er+=ae[ar]*1;return er}function Mr(ae){if(ae.length===0)throw new Error("mean requires at least one data point");return Lr(ae)/ae.length}function rn(ae){if(ae.length===0)throw new Error("mean requires at least one data point");if(ae.length<3)return ae[0];ae.sort();for(var er=ae[0],ar=NaN,kr=0,Rn=1,di=1;di<ae.length+1;di++)ae[di]!==er?(Rn>kr&&(kr=Rn,ar=er),Rn=1,er=ae[di]):Rn++;return ar*1}var pn={min:rr,max:He,mean:Mr,sum:Lr,mode:rn};function qr(ae,er){return ae.map(function(ar){return ar[er]})}function Dn(ae,er){return pn[ae](er)}},96773:function(mr,P,S){"use strict";S.d(P,{LineLayer:function(){return Su},Marker:function(){return Yo},PointLayer:function(){return bl},PolygonLayer:function(){return Pf},Popup:function(){return ns},Scene:function(){return Ou}});var i={},t={},c=function(z){return t[z]},s=function(z,F){t[z]=F},v=function(z){return i[z]},o=function(z,F){i[z]=F},f={},r={},e=34,n=10,a=13;function u(I){return new Function("d","return {"+I.map(function(z,F){return JSON.stringify(z)+": d["+F+'] || ""'}).join(",")+"}")}function l(I,z){var F=u(I);return function(B,_){return z(F(B),_,I)}}function h(I){var z=Object.create(null),F=[];return I.forEach(function(B){for(var _ in B)_ in z||F.push(z[_]=_)}),F}function p(I,z){var F=I+"",B=F.length;return B<z?new Array(z-B+1).join(0)+F:F}function d(I){return I<0?"-"+p(-I,6):I>9999?"+"+p(I,6):p(I,4)}function g(I){var z=I.getUTCHours(),F=I.getUTCMinutes(),B=I.getUTCSeconds(),_=I.getUTCMilliseconds();return isNaN(I)?"Invalid Date":d(I.getUTCFullYear(),4)+"-"+p(I.getUTCMonth()+1,2)+"-"+p(I.getUTCDate(),2)+(_?"T"+p(z,2)+":"+p(F,2)+":"+p(B,2)+"."+p(_,3)+"Z":B?"T"+p(z,2)+":"+p(F,2)+":"+p(B,2)+"Z":F||z?"T"+p(z,2)+":"+p(F,2)+"Z":"")}function y(I){var z=new RegExp('["'+I+`
\r]`),F=I.charCodeAt(0);function B(fe,qe){var dr,tn,mn=_(fe,function(Zn,ii){if(dr)return dr(Zn,ii-1);tn=Zn,dr=qe?l(Zn,qe):u(Zn)});return mn.columns=tn||[],mn}function _(fe,qe){var dr=[],tn=fe.length,mn=0,Zn=0,ii,bi=tn<=0,Bi=!1;fe.charCodeAt(tn-1)===n&&--tn,fe.charCodeAt(tn-1)===a&&--tn;function Ni(){if(bi)return r;if(Bi)return Bi=!1,f;var Qi,Ji=mn,Ca;if(fe.charCodeAt(Ji)===e){for(;mn++<tn&&fe.charCodeAt(mn)!==e||fe.charCodeAt(++mn)===e;);return(Qi=mn)>=tn?bi=!0:(Ca=fe.charCodeAt(mn++))===n?Bi=!0:Ca===a&&(Bi=!0,fe.charCodeAt(mn)===n&&++mn),fe.slice(Ji+1,Qi-1).replace(/""/g,'"')}for(;mn<tn;){if((Ca=fe.charCodeAt(Qi=mn++))===n)Bi=!0;else if(Ca===a)Bi=!0,fe.charCodeAt(mn)===n&&++mn;else if(Ca!==F)continue;return fe.slice(Ji,Qi)}return bi=!0,fe.slice(Ji,tn)}for(;(ii=Ni())!==r;){for(var la=[];ii!==f&&ii!==r;)la.push(ii),ii=Ni();qe&&(la=qe(la,Zn++))==null||dr.push(la)}return dr}function Y(fe,qe){return fe.map(function(dr){return qe.map(function(tn){return me(dr[tn])}).join(I)})}function ut(fe,qe){return qe==null&&(qe=h(fe)),[qe.map(me).join(I)].concat(Y(fe,qe)).join(`
`)}function At(fe,qe){return qe==null&&(qe=h(fe)),Y(fe,qe).join(`
`)}function Ct(fe){return fe.map(Yt).join(`
`)}function Yt(fe){return fe.map(me).join(I)}function me(fe){return fe==null?"":fe instanceof Date?g(fe):z.test(fe+="")?'"'+fe.replace(/"/g,'""')+'"':fe}return{parse:B,parseRows:_,format:ut,formatBody:At,formatRows:Ct,formatRow:Yt,formatValue:me}}var x=y(","),A=x.parse,m=x.parseRows,M=x.format,b=x.formatBody,E=x.formatRows,C=x.formatRow,T=x.formatValue,O=S(96156),L=S(85061),R=S(6563),W=S.n(R);function U(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function X(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?U(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):U(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function Z(I,z){var F=z.x,B=z.y,_=z.x1,Y=z.y1,ut=z.coordinates,At=[];return I.forEach(function(Ct,Yt){var me=[];if(F&&B&&(me=[parseFloat(Ct[F]),parseFloat(Ct[B])]),F&&B&&_&&Y){var fe=[parseFloat(Ct[F]),parseFloat(Ct[B])],qe=[parseFloat(Ct[_]),parseFloat(Ct[Y])];me=[fe,qe]}if(ut){var dr="Polygon";Array.isArray(ut[0])||(dr="Point"),Array.isArray(ut[0])&&!Array.isArray(ut[0][0])&&(dr="LineString");var tn={type:dr,coordinates:(0,L.Z)(Ct[ut])};W()(tn,!0),me=tn.coordinates}var mn=X(X({},Ct),{},{_id:Yt,coordinates:me});At.push(mn)}),{dataArray:At}}var J=[{lng1:100,lat1:30,lng2:130,lat2:30}],ht={parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}};function at(I,z){var F=A(I);return Z(F,z)}var Q=63710088e-1,xt={centimeters:Q*100,centimetres:Q*100,degrees:Q/111325,feet:Q*3.28084,inches:Q*39.37,kilometers:Q/1e3,kilometres:Q/1e3,meters:Q,metres:Q,miles:Q/1609.344,millimeters:Q*1e3,millimetres:Q*1e3,nauticalmiles:Q/1852,radians:1,yards:Q*1.0936},kt={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Q,yards:1.0936133},Nt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function nt(I,z,F){F===void 0&&(F={});var B={type:"Feature"};return(F.id===0||F.id)&&(B.id=F.id),F.bbox&&(B.bbox=F.bbox),B.properties=z||{},B.geometry=I,B}function q(I,z,F){switch(F===void 0&&(F={}),I){case"Point":return G(z).geometry;case"LineString":return ct(z).geometry;case"Polygon":return it(z).geometry;case"MultiPoint":return et(z).geometry;case"MultiLineString":return $(z).geometry;case"MultiPolygon":return j(z).geometry;default:throw new Error(I+" is invalid")}}function G(I,z,F){if(F===void 0&&(F={}),!I)throw new Error("coordinates is required");if(!Array.isArray(I))throw new Error("coordinates must be an Array");if(I.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zt(I[0])||!zt(I[1]))throw new Error("coordinates must contain numbers");var B={type:"Point",coordinates:I};return nt(B,z,F)}function N(I,z,F){return F===void 0&&(F={}),K(I.map(function(B){return G(B,z)}),F)}function it(I,z,F){F===void 0&&(F={});for(var B=0,_=I;B<_.length;B++){var Y=_[B];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ut=0;ut<Y[Y.length-1].length;ut++)if(Y[Y.length-1][ut]!==Y[0][ut])throw new Error("First and last Position are not equivalent.")}var At={type:"Polygon",coordinates:I};return nt(At,z,F)}function H(I,z,F){return F===void 0&&(F={}),K(I.map(function(B){return it(B,z)}),F)}function ct(I,z,F){if(F===void 0&&(F={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");var B={type:"LineString",coordinates:I};return nt(B,z,F)}function ft(I,z,F){return F===void 0&&(F={}),K(I.map(function(B){return ct(B,z)}),F)}function K(I,z){z===void 0&&(z={});var F={type:"FeatureCollection"};return z.id&&(F.id=z.id),z.bbox&&(F.bbox=z.bbox),F.features=I,F}function $(I,z,F){F===void 0&&(F={});var B={type:"MultiLineString",coordinates:I};return nt(B,z,F)}function et(I,z,F){F===void 0&&(F={});var B={type:"MultiPoint",coordinates:I};return nt(B,z,F)}function j(I,z,F){F===void 0&&(F={});var B={type:"MultiPolygon",coordinates:I};return nt(B,z,F)}function w(I,z,F){F===void 0&&(F={});var B={type:"GeometryCollection",geometries:I};return nt(B,z,F)}function D(I,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,z||0);return Math.round(I*F)/F}function V(I,z){z===void 0&&(z="kilometers");var F=xt[z];if(!F)throw new Error(z+" units is invalid");return I*F}function tt(I,z){z===void 0&&(z="kilometers");var F=xt[z];if(!F)throw new Error(z+" units is invalid");return I/F}function lt(I,z){return ot(tt(I,z))}function St(I){var z=I%360;return z<0&&(z+=360),z}function ot(I){var z=I%(2*Math.PI);return z*180/Math.PI}function Mt(I){var z=I%360;return z*Math.PI/180}function Ot(I,z,F){if(z===void 0&&(z="kilometers"),F===void 0&&(F="kilometers"),!(I>=0))throw new Error("length must be a positive number");return V(tt(I,z),F)}function Ft(I,z,F){if(z===void 0&&(z="meters"),F===void 0&&(F="kilometers"),!(I>=0))throw new Error("area must be a positive number");var B=Nt[z];if(!B)throw new Error("invalid original units");var _=Nt[F];if(!_)throw new Error("invalid final units");return I/B*_}function zt(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)}function $t(I){return!!I&&I.constructor===Object}function he(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(z){if(!zt(z))throw new Error("bbox must only contain numbers")})}function ye(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}function tr(I){if(!I)throw new Error("coord is required");if(!Array.isArray(I)){if(I.type==="Feature"&&I.geometry!==null&&I.geometry.type==="Point")return I.geometry.coordinates;if(I.type==="Point")return I.coordinates}if(Array.isArray(I)&&I.length>=2&&!Array.isArray(I[0])&&!Array.isArray(I[1]))return I;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function nr(I){if(Array.isArray(I))return I;if(I.type==="Feature"){if(I.geometry!==null)return I.geometry.coordinates}else if(I.coordinates)return I.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Xe(I){if(I.length>1&&isNumber(I[0])&&isNumber(I[1]))return!0;if(Array.isArray(I[0])&&I[0].length)return Xe(I[0]);throw new Error("coordinates must only contain numbers")}function yr(I,z,F){if(!z||!F)throw new Error("type and name required");if(!I||I.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+I.type)}function Vr(I,z,F){if(!I)throw new Error("No feature passed");if(!F)throw new Error(".featureOf() requires a name");if(!I||I.type!=="Feature"||!I.geometry)throw new Error("Invalid input to "+F+", Feature with geometry required");if(!I.geometry||I.geometry.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+I.geometry.type)}function Ee(I,z,F){if(!I)throw new Error("No featureCollection passed");if(!F)throw new Error(".collectionOf() requires a name");if(!I||I.type!=="FeatureCollection")throw new Error("Invalid input to "+F+", FeatureCollection required");for(var B=0,_=I.features;B<_.length;B++){var Y=_[B];if(!Y||Y.type!=="Feature"||!Y.geometry)throw new Error("Invalid input to "+F+", Feature with geometry required");if(!Y.geometry||Y.geometry.type!==z)throw new Error("Invalid input to "+F+": must be a "+z+", given "+Y.geometry.type)}}function de(I){return I.type==="Feature"?I.geometry:I}function Ge(I,z){return I.type==="FeatureCollection"?"FeatureCollection":I.type==="GeometryCollection"?"GeometryCollection":I.type==="Feature"&&I.geometry!==null?I.geometry.type:I.type}function ke(I,z,F){if(I!==null)for(var B,_,Y,ut,At,Ct,Yt,me=0,fe=0,qe,dr=I.type,tn=dr==="FeatureCollection",mn=dr==="Feature",Zn=tn?I.features.length:1,ii=0;ii<Zn;ii++){Yt=tn?I.features[ii].geometry:mn?I.geometry:I,qe=Yt?Yt.type==="GeometryCollection":!1,At=qe?Yt.geometries.length:1;for(var bi=0;bi<At;bi++){var Bi=0,Ni=0;if(ut=qe?Yt.geometries[bi]:Yt,ut!==null){Ct=ut.coordinates;var la=ut.type;switch(me=F&&(la==="Polygon"||la==="MultiPolygon")?1:0,la){case null:break;case"Point":if(z(Ct,fe,ii,Bi,Ni)===!1)return!1;fe++,Bi++;break;case"LineString":case"MultiPoint":for(B=0;B<Ct.length;B++){if(z(Ct[B],fe,ii,Bi,Ni)===!1)return!1;fe++,la==="MultiPoint"&&Bi++}la==="LineString"&&Bi++;break;case"Polygon":case"MultiLineString":for(B=0;B<Ct.length;B++){for(_=0;_<Ct[B].length-me;_++){if(z(Ct[B][_],fe,ii,Bi,Ni)===!1)return!1;fe++}la==="MultiLineString"&&Bi++,la==="Polygon"&&Ni++}la==="Polygon"&&Bi++;break;case"MultiPolygon":for(B=0;B<Ct.length;B++){for(Ni=0,_=0;_<Ct[B].length;_++){for(Y=0;Y<Ct[B][_].length-me;Y++){if(z(Ct[B][_][Y],fe,ii,Bi,Ni)===!1)return!1;fe++}Ni++}Bi++}break;case"GeometryCollection":for(B=0;B<ut.geometries.length;B++)if(ke(ut.geometries[B],z,F)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Kr(I,z,F,B){var _=F;return ke(I,function(Y,ut,At,Ct,Yt){ut===0&&F===void 0?_=Y:_=z(_,Y,ut,At,Ct,Yt)},B),_}function fn(I,z){var F;switch(I.type){case"FeatureCollection":for(F=0;F<I.features.length&&z(I.features[F].properties,F)!==!1;F++);break;case"Feature":z(I.properties,0);break}}function pi(I,z,F){var B=F;return fn(I,function(_,Y){Y===0&&F===void 0?B=_:B=z(B,_,Y)}),B}function Vi(I,z){if(I.type==="Feature")z(I,0);else if(I.type==="FeatureCollection")for(var F=0;F<I.features.length&&z(I.features[F],F)!==!1;F++);}function ea(I,z,F){var B=F;return Vi(I,function(_,Y){Y===0&&F===void 0?B=_:B=z(B,_,Y)}),B}function zi(I){var z=[];return ke(I,function(F){z.push(F)}),z}function Te(I,z){var F,B,_,Y,ut,At,Ct,Yt,me,fe,qe=0,dr=I.type==="FeatureCollection",tn=I.type==="Feature",mn=dr?I.features.length:1;for(F=0;F<mn;F++){for(At=dr?I.features[F].geometry:tn?I.geometry:I,Yt=dr?I.features[F].properties:tn?I.properties:{},me=dr?I.features[F].bbox:tn?I.bbox:void 0,fe=dr?I.features[F].id:tn?I.id:void 0,Ct=At?At.type==="GeometryCollection":!1,ut=Ct?At.geometries.length:1,_=0;_<ut;_++){if(Y=Ct?At.geometries[_]:At,Y===null){if(z(null,qe,Yt,me,fe)===!1)return!1;continue}switch(Y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(z(Y,qe,Yt,me,fe)===!1)return!1;break}case"GeometryCollection":{for(B=0;B<Y.geometries.length;B++)if(z(Y.geometries[B],qe,Yt,me,fe)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}qe++}}function Be(I,z,F){var B=F;return Te(I,function(_,Y,ut,At,Ct){Y===0&&F===void 0?B=_:B=z(B,_,Y,ut,At,Ct)}),B}function lr(I,z){Te(I,function(F,B,_,Y,ut){var At=F===null?null:F.type;switch(At){case null:case"Point":case"LineString":case"Polygon":return z(nt(F,_,{bbox:Y,id:ut}),B,0)===!1?!1:void 0}var Ct;switch(At){case"MultiPoint":Ct="Point";break;case"MultiLineString":Ct="LineString";break;case"MultiPolygon":Ct="Polygon";break}for(var Yt=0;Yt<F.coordinates.length;Yt++){var me=F.coordinates[Yt],fe={type:Ct,coordinates:me};if(z(nt(fe,_),B,Yt)===!1)return!1}})}function Or(I,z,F){var B=F;return lr(I,function(_,Y,ut){Y===0&&ut===0&&F===void 0?B=_:B=z(B,_,Y,ut)}),B}function sr(I,z){lr(I,function(F,B,_){var Y=0;if(!!F.geometry){var ut=F.geometry.type;if(!(ut==="Point"||ut==="MultiPoint")){var At,Ct=0,Yt=0,me=0;if(ke(F,function(fe,qe,dr,tn,mn){if(At===void 0||B>Ct||tn>Yt||mn>me){At=fe,Ct=B,Yt=tn,me=mn,Y=0;return}var Zn=lineString([At,fe],F.properties);if(z(Zn,B,_,mn,Y)===!1)return!1;Y++,At=fe})===!1)return!1}}})}function Dr(I,z,F){var B=F,_=!1;return sr(I,function(Y,ut,At,Ct,Yt){_===!1&&F===void 0?B=Y:B=z(B,Y,ut,At,Ct,Yt),_=!0}),B}function En(I,z){if(!I)throw new Error("geojson is required");lr(I,function(F,B,_){if(F.geometry!==null){var Y=F.geometry.type,ut=F.geometry.coordinates;switch(Y){case"LineString":if(z(F,B,_,0,0)===!1)return!1;break;case"Polygon":for(var At=0;At<ut.length;At++)if(z(lineString(ut[At],F.properties),B,_,At)===!1)return!1;break}}})}function Yn(I,z,F){var B=F;return En(I,function(_,Y,ut,At){Y===0&&F===void 0?B=_:B=z(B,_,Y,ut,At)}),B}function ln(I,z){if(z=z||{},!isObject(z))throw new Error("options is invalid");var F=z.featureIndex||0,B=z.multiFeatureIndex||0,_=z.geometryIndex||0,Y=z.segmentIndex||0,ut=z.properties,At;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ut=ut||I.features[F].properties,At=I.features[F].geometry;break;case"Feature":ut=ut||I.properties,At=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":At=I;break;default:throw new Error("geojson is invalid")}if(At===null)return null;var Ct=At.coordinates;switch(At.type){case"Point":case"MultiPoint":return null;case"LineString":return Y<0&&(Y=Ct.length+Y-1),lineString([Ct[Y],Ct[Y+1]],ut,z);case"Polygon":return _<0&&(_=Ct.length+_),Y<0&&(Y=Ct[_].length+Y-1),lineString([Ct[_][Y],Ct[_][Y+1]],ut,z);case"MultiLineString":return B<0&&(B=Ct.length+B),Y<0&&(Y=Ct[B].length+Y-1),lineString([Ct[B][Y],Ct[B][Y+1]],ut,z);case"MultiPolygon":return B<0&&(B=Ct.length+B),_<0&&(_=Ct[B].length+_),Y<0&&(Y=Ct[B][_].length-Y-1),lineString([Ct[B][_][Y],Ct[B][_][Y+1]],ut,z)}throw new Error("geojson is invalid")}function Jr(I,z){if(z=z||{},!isObject(z))throw new Error("options is invalid");var F=z.featureIndex||0,B=z.multiFeatureIndex||0,_=z.geometryIndex||0,Y=z.coordIndex||0,ut=z.properties,At;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ut=ut||I.features[F].properties,At=I.features[F].geometry;break;case"Feature":ut=ut||I.properties,At=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":At=I;break;default:throw new Error("geojson is invalid")}if(At===null)return null;var Ct=At.coordinates;switch(At.type){case"Point":return point(Ct,ut,z);case"MultiPoint":return B<0&&(B=Ct.length+B),point(Ct[B],ut,z);case"LineString":return Y<0&&(Y=Ct.length+Y),point(Ct[Y],ut,z);case"Polygon":return _<0&&(_=Ct.length+_),Y<0&&(Y=Ct[_].length+Y),point(Ct[_][Y],ut,z);case"MultiLineString":return B<0&&(B=Ct.length+B),Y<0&&(Y=Ct[B].length+Y),point(Ct[B][Y],ut,z);case"MultiPolygon":return B<0&&(B=Ct.length+B),_<0&&(_=Ct[B].length+_),Y<0&&(Y=Ct[B][_].length-Y),point(Ct[B][_][Y],ut,z)}throw new Error("geojson is invalid")}function Wn(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function $n(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Wn(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Wn(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function Gr(I,z){var F=[],B={};if(I.features=I.features.filter(function(Y){var ut=Y.geometry;return Y!=null&&ut&&ut.type&&ut.coordinates&&ut.coordinates.length>0}),W()(I,!0),I.features.length===0)return{dataArray:[],featureKeys:B};var _=0;return lr(I,function(Y,ut){var At=nr(Y),Ct=ut,Yt=$n($n({},Y.properties),{},{coordinates:At,_id:Ct});F.push(Yt)}),{dataArray:F,featureKeys:B}}var wr=S(91739);function ti(I,z){var F=z.extent,B=F===void 0?[121.168,30.2828,121.384,30.4219]:F,_=new Promise(function(ut){ge(I,function(At){ut(At)})}),Y={images:_,_id:1,dataArray:[{_id:0,coordinates:[[B[0],B[1]],[B[2],B[3]]]}]};return Y}function ge(I,z){var F=I,B=[];if(typeof F=="string")(0,wr.gJ)({url:F},function(ut,At){B.push(At),z(B)});else{var _=F.length,Y=0;F.forEach(function(ut){(0,wr.gJ)({url:ut},function(At,Ct){Y++,B.push(Ct),Y===_&&z(B)})})}return ti}function Le(I,z){var F=z.extent,B=z.width,_=z.height,Y=z.min,ut=z.max,At={_id:1,dataArray:[{_id:1,data:Array.from(I),width:B,height:_,min:Y,max:ut,coordinates:[[F[0],F[1]],[F[2],F[3]]]}]};return At}var Se=S(6610),Ve=S(5991),le=S(63349),vr=S(10379),He=S(46070),rr=S(77608),Lr=S(30236),Mr=S.n(Lr),rn=S(47037),pn=S.n(rn),qr=S(23560),Dn=S.n(qr),ae=S(50361),er=S.n(ae),ar=S(46343),kr=S(26729),Rn=S(69848),di=S.n(Rn);function Yi(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function da(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Yi(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Yi(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function _a(I,z){var F=z.radius,B=F===void 0?40:F,_=z.maxZoom,Y=_===void 0?18:_,ut=z.minZoom,At=ut===void 0?0:ut,Ct=z.zoom,Yt=Ct===void 0?2:Ct;if(I.pointIndex){var me=I.pointIndex.getClusters(I.extent,Math.floor(Yt));return I.dataArray=fa(me),I}var fe=new(di())({radius:B,minZoom:At,maxZoom:Y}),qe={type:"FeatureCollection",features:[]};return qe.features=I.dataArray.map(function(dr){return{type:"Feature",geometry:{type:"Point",coordinates:dr.coordinates},properties:da({},dr)}}),fe.load(qe.features),fe}function fa(I){return I.map(function(z,F){return da({coordinates:z.geometry.coordinates,_id:F+1},z.properties)})}function wo(I){if(I.length===0)throw new Error("max requires at least one data point");for(var z=I[0],F=1;F<I.length;F++)I[F]>z&&(z=I[F]);return z}function ho(I){if(I.length===0)throw new Error("min requires at least one data point");for(var z=I[0],F=1;F<I.length;F++)I[F]<z&&(z=I[F]);return z}function mo(I){if(I.length===0)return 0;for(var z=I[0],F=0,B,_=1;_<I.length;_++)B=z+I[_]*1,Math.abs(z)>=Math.abs(I[_])?F+=z-B+I[_]:F+=I[_]-B+z,z=B;return z+F*1}function yo(I){if(I.length===0)throw new Error("mean requires at least one data point");return mo(I)/I.length}var zo={min:ho,max:wo,mean:yo,sum:mo};function io(I,z){return I.map(function(F){return F[z]*1})}function Za(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function qa(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Za(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Za(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function Zt(I){var z=je();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}function ur(I,z){if(Array.isArray(z))return z}var Br=function(I){(0,vr.Z)(F,I);var z=Zt(F);function F(B,_){var Y;return(0,Se.Z)(this,F),Y=z.call(this),(0,O.Z)((0,le.Z)(Y),"data",void 0),(0,O.Z)((0,le.Z)(Y),"extent",void 0),(0,O.Z)((0,le.Z)(Y),"hooks",{init:new ar.ni}),(0,O.Z)((0,le.Z)(Y),"parser",{type:"geojson"}),(0,O.Z)((0,le.Z)(Y),"transforms",[]),(0,O.Z)((0,le.Z)(Y),"cluster",!1),(0,O.Z)((0,le.Z)(Y),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),(0,O.Z)((0,le.Z)(Y),"mapService",void 0),(0,O.Z)((0,le.Z)(Y),"invalidExtent",!1),(0,O.Z)((0,le.Z)(Y),"originData",void 0),(0,O.Z)((0,le.Z)(Y),"rawData",void 0),(0,O.Z)((0,le.Z)(Y),"cfg",{}),(0,O.Z)((0,le.Z)(Y),"clusterIndex",void 0),Y.originData=B,Y.initCfg(_),Y.hooks.init.tap("parser",function(){Y.excuteParser()}),Y.hooks.init.tap("cluster",function(){Y.initCluster()}),Y.hooks.init.tap("transform",function(){Y.executeTrans()}),Y.init(),Y}return(0,Ve.Z)(F,[{key:"setData",value:function(_,Y){this.rawData=_,this.originData=_,this.initCfg(Y),this.init(),this.emit("update")}},{key:"getClusters",value:function(_){return this.clusterIndex.getClusters(this.caculClusterExtent(2),_)}},{key:"getClustersLeaves",value:function(_){return this.clusterIndex.getLeaves(_,Infinity)}},{key:"updateClusterData",value:function(_){var Y=this,ut=this.clusterOptions,At=ut.method,Ct=At===void 0?"sum":At,Yt=ut.field,me=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(_));this.clusterOptions.zoom=_,me.forEach(function(fe){fe.id||(fe.properties.point_count=1)}),(Yt||Dn()(Ct))&&(me=me.map(function(fe){var qe=fe.id;if(qe){var dr=Y.clusterIndex.getLeaves(qe,Infinity),tn=dr.map(function(ii){return ii.properties}),mn;if(pn()(Ct)&&Yt){var Zn=io(tn,Yt);mn=zo[Ct](Zn)}Dn()(Ct)&&(mn=Ct(tn)),fe.properties.stat=mn}else fe.properties.point_count=1;return fe})),this.data=c("geojson")({type:"FeatureCollection",features:me}),this.executeTrans()}},{key:"getFeatureById",value:function(_){var Y=this.parser.type,ut=Y===void 0?"geojson":Y;if(ut==="geojson"&&!this.cluster){var At=_<this.originData.features.length?this.originData.features[_]:"null",Ct=er()(At);if(this.transforms.length!==0){var Yt=this.data.dataArray.find(function(me){return me._id===_});Ct.properties=Yt}return Ct}else return _<this.data.dataArray.length?this.data.dataArray[_]:"null"}},{key:"getFeatureId",value:function(_,Y){var ut=this.data.dataArray.find(function(At){return At[_]===name});return ut==null?void 0:ut._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(_){var Y=[[-Infinity,-Infinity],[Infinity,Infinity]];return this.invalidExtent||(Y=(0,wr.yA)((0,wr.ds)(this.extent),_)),Y[0].concat(Y[1])}},{key:"initCfg",value:function(_){this.cfg=Mr()(this.cfg,_,ur);var Y=this.cfg;Y&&(Y.parser&&(this.parser=Y.parser),Y.transforms&&(this.transforms=Y.transforms),this.cluster=Y.cluster||!1,Y.clusterOptions&&(this.cluster=!0,this.clusterOptions=qa(qa({},this.clusterOptions),Y.clusterOptions)))}},{key:"excuteParser",value:function(){var _=this.parser,Y=_.type||"geojson";if(Y==="imagetile"){this.data={tileurl:this.originData,dataArray:[]};return}var ut=c(Y);this.data=ut(this.originData,_),this.extent=(0,wr.We)(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}},{key:"executeTrans",value:function(){var _=this,Y=this.transforms;Y.forEach(function(ut){var At=ut.type,Ct=v(At)(_.data,ut);Object.assign(_.data,Ct)})}},{key:"initCluster",value:function(){if(!!this.cluster){var _=this.clusterOptions||{};this.clusterIndex=_a(this.data,_)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),F}(kr.EventEmitter);function Vt(I,z){var F=z.callback;return F&&(I.dataArray=I.dataArray.filter(F)),I}function ee(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Ae(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function Ae(I,z){if(!!I){if(typeof I=="string")return Me(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Me(I,z)}}function Me(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}var Er=6378e3;function dn(I,z){var F=I.dataArray,B=z.size,_=B===void 0?10:B,Y=_/(2*Math.PI*Er)*(256<<20)/2,ut=xn(F,_),At=ut.gridHash,Ct=ut.gridOffset,Yt=qi(At,Ct,z);return{yOffset:Y,xOffset:Y,radius:Y,type:"grid",dataArray:Yt}}function xn(I,z){var F=Infinity,B=-Infinity,_,Y=ee(I),ut;try{for(Y.s();!(ut=Y.n()).done;){var At=ut.value;_=At.coordinates[1],Number.isFinite(_)&&(F=_<F?_:F,B=_>B?_:B)}}catch(Bi){Y.e(Bi)}finally{Y.f()}var Ct=(F+B)/2,Yt=fi(z,Ct);if(Yt.xOffset<=0||Yt.yOffset<=0)return{gridHash:{},gridOffset:Yt};var me={},fe=ee(I),qe;try{for(fe.s();!(qe=fe.n()).done;){var dr=qe.value,tn=dr.coordinates[1],mn=dr.coordinates[0];if(Number.isFinite(tn)&&Number.isFinite(mn)){var Zn=Math.floor((tn+90)/Yt.yOffset),ii=Math.floor((mn+180)/Yt.xOffset),bi="".concat(Zn,"-").concat(ii);me[bi]=me[bi]||{count:0,points:[]},me[bi].count+=1,me[bi].points.push(dr)}}}catch(Bi){fe.e(Bi)}finally{fe.f()}return{gridHash:me,gridOffset:Yt}}function fi(I,z){var F=Ai(I),B=aa(z,I);return{yOffset:F,xOffset:B}}function Ai(I){return I/Er*(180/Math.PI)}function aa(I,z){return z/Er*(180/Math.PI)/Math.cos(I*Math.PI/180)}function qi(I,z,F){return Object.keys(I).reduce(function(B,_,Y){var ut=_.split("-"),At=parseInt(ut[0],10),Ct=parseInt(ut[1],10),Yt={};if(F.field&&F.method){var me=wr.a5.getColumn(I[_].points,F.field);Yt[F.method]=wr.a5.statMap[F.method](me)}return Object.assign(Yt,{_id:Y,coordinates:(0,wr.Z)([-180+z.xOffset*(Ct+.5),-90+z.yOffset*(At+.5)]),rawData:I[_].points,count:I[_].count}),B.push(Yt),B},[])}var Sa=S(28481),ca=Math.PI/3,to=[0,ca,2*ca,3*ca,4*ca,5*ca];function za(I){return I[0]}function Ia(I){return I[1]}function Va(){var I=0,z=0,F=1,B=1,_=za,Y=Ia,ut,At,Ct;function Yt(fe){var qe={},dr=[],tn,mn=fe.length;for(tn=0;tn<mn;++tn)if(!(isNaN(ii=+_.call(null,Zn=fe[tn],tn,fe))||isNaN(bi=+Y.call(null,Zn,tn,fe)))){var Zn,ii,bi,Bi=Math.round(bi=bi/Ct),Ni=Math.round(ii=ii/At-(Bi&1)/2),la=bi-Bi;if(Math.abs(la)*3>1){var Qi=ii-Ni,Ji=Ni+(ii<Ni?-1:1)/2,Ca=Bi+(bi<Bi?-1:1),Ga=ii-Ji,oo=bi-Ca;Qi*Qi+la*la>Ga*Ga+oo*oo&&(Ni=Ji+(Bi&1?1:-1)/2,Bi=Ca)}var Oo=Ni+"-"+Bi,ko=qe[Oo];ko?ko.push(Zn):(dr.push(ko=qe[Oo]=[Zn]),ko.x=(Ni+(Bi&1)/2)*At,ko.y=Bi*Ct)}return dr}function me(fe){var qe=0,dr=0;return to.map(function(tn){var mn=Math.sin(tn)*fe,Zn=-Math.cos(tn)*fe,ii=mn-qe,bi=Zn-dr;return qe=mn,dr=Zn,[ii,bi]})}return Yt.hexagon=function(fe){return"m"+me(fe==null?ut:+fe).join("l")+"z"},Yt.centers=function(){for(var fe=[],qe=Math.round(z/Ct),dr=Math.round(I/At),tn=qe*Ct;tn<B+ut;tn+=Ct,++qe)for(var mn=dr*At+(qe&1)*At/2;mn<F+At/2;mn+=At)fe.push([mn,tn]);return fe},Yt.mesh=function(){var fe=me(ut).slice(0,4).join("l");return Yt.centers().map(function(qe){return"M"+qe+"m"+fe}).join("")},Yt.x=function(fe){return arguments.length?(_=fe,Yt):_},Yt.y=function(fe){return arguments.length?(Y=fe,Yt):Y},Yt.radius=function(fe){return arguments.length?(ut=+fe,At=ut*2*Math.sin(ca),Ct=ut*1.5,Yt):ut},Yt.size=function(fe){return arguments.length?(I=z=0,F=+fe[0],B=+fe[1],Yt):[F-I,B-z]},Yt.extent=function(fe){return arguments.length?(I=+fe[0][0],z=+fe[0][1],F=+fe[1][0],B=+fe[1][1],Yt):[[I,z],[F,B]]},Yt.radius(1)}function ro(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function xe(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?ro(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):ro(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var be=6378e3;function pe(I,z){var F=I.dataArray,B=z.size,_=B===void 0?10:B,Y=z.method,ut=Y===void 0?"sum":Y,At=_/(2*Math.PI*be)*(256<<20)/2,Ct=F.map(function(qe){var dr=(0,wr.Z)(qe.coordinates),tn=(0,Sa.Z)(dr,2),mn=tn[0],Zn=tn[1];return xe(xe({},qe),{},{coordinates:[mn,Zn]})}),Yt=Va().radius(At).x(function(qe){return qe.coordinates[0]}).y(function(qe){return qe.coordinates[1]}),me=Yt(Ct),fe={dataArray:me.map(function(qe,dr){var tn;if(z.field&&ut){var mn=wr.a5.getColumn(qe,z.field);qe[ut]=wr.a5.statMap[ut](mn)}return tn={},(0,O.Z)(tn,z.method,qe[ut]),(0,O.Z)(tn,"count",qe.length),(0,O.Z)(tn,"rawData",qe),(0,O.Z)(tn,"coordinates",[qe.x,qe.y]),(0,O.Z)(tn,"_id",dr),tn}),radius:At,xOffset:At,yOffset:At,type:"hexagon"};return fe}function vt(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function gt(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?vt(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):vt(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function dt(I,z){var F=z.sourceField,B=z.targetField,_=z.data,Y={};return _.forEach(function(ut){Y[ut[F]]=ut}),I.dataArray=I.dataArray.map(function(ut){var At=ut[B];return gt(gt({},ut),Y[At])}),I}function Dt(I,z){var F=z.callback;return F&&(I.dataArray=I.dataArray.map(F)),I}var te=S(4771),We=Br;s("geojson",Gr),s("image",ti),s("csv",at),s("json",Z),s("raster",Le),o("cluster",_a),o("filter",Vt),o("join",dt),o("map",Dt),o("grid",dn),o("hexagon",pe);var cr=J,zr=ht,Rt=S(58881);function Si(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function ri(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Si(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Si(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function k(I){var z=rt();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function rt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Bt=0,yt=function(I){(0,vr.Z)(F,I);var z=k(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"controlOption",void 0),(0,O.Z)((0,le.Z)(_),"container",void 0),(0,O.Z)((0,le.Z)(_),"sceneContainer",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"renderService",void 0),(0,O.Z)((0,le.Z)(_),"layerService",void 0),(0,O.Z)((0,le.Z)(_),"controlService",void 0),(0,O.Z)((0,le.Z)(_),"isShow",void 0),_.controlOption=ri(ri({},_.getDefault()),B||{}),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.TOPRIGHT,name:"".concat(Bt++)}}},{key:"setPosition",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.PositionType.BOTTOMRIGHT,Y=this.controlService;return Y&&Y.removeControl(this),this.controlOption.position=_,Y&&Y.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(_){this.mapsService=_.get(Rt.vK.IMapService),this.renderService=_.get(Rt.vK.IRendererService),this.layerService=_.get(Rt.vK.ILayerService),this.controlService=_.get(Rt.vK.IControlService),this.sceneContainer=_,this.isShow=!0,this.container=this.onAdd();var Y=this.container,ut=this.controlOption.position,At=this.controlService.controlCorners[ut];return wr.SO.addClass(Y,"l7-control"),ut.indexOf("bottom")!==-1?At.insertBefore(Y,At.firstChild):At.appendChild(Y),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var _=this.container;wr.SO.addClass(_,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var _=this.container;wr.SO.removeClass(_,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;wr.SO.remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(_){if(this.mapsService&&_&&_.screenX>0&&_.screenY>0){var Y=this.mapsService.getContainer();Y!==null&&Y.focus()}}}]),F}(kr.EventEmitter);function ne(I){var z=_e();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function _e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var or=function(I){(0,vr.Z)(F,I);var z=ne(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this,B),(0,O.Z)((0,le.Z)(_),"layerControlInputs",void 0),(0,O.Z)((0,le.Z)(_),"layers",void 0),(0,O.Z)((0,le.Z)(_),"lastZIndex",void 0),(0,O.Z)((0,le.Z)(_),"handlingClick",void 0),(0,O.Z)((0,le.Z)(_),"layersLink",void 0),(0,O.Z)((0,le.Z)(_),"baseLayersList",void 0),(0,O.Z)((0,le.Z)(_),"separator",void 0),(0,O.Z)((0,le.Z)(_),"overlaysList",void 0),(0,O.Z)((0,le.Z)(_),"form",void 0),_.layerControlInputs=[],_.layers=[],_.lastZIndex=0,_.handlingClick=!1,_.initLayers(),(0,wr.Ev)(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{collapsed:!0,position:Rt.PositionType.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var _=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach(function(Y){Y.layer.on("remove",_.onLayerChange),Y.layer.on("add",_.onLayerChange)}),this.container}},{key:"addVisualLayer",value:function(_,Y){return this.addLayer(_,Y,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var _=this.renderService.getViewportSize(),Y=_.height;wr.SO.addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var ut=Y-(this.container.offsetTop+50);return ut<this.form.clientHeight?(wr.SO.addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=ut+"px"):wr.SO.removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return wr.SO.removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var _=this;!this.mapsService||(this.mapsService.off("click",this.collapse),this.layers.forEach(function(Y){Y.layer.off("remove",_.onLayerChange),Y.layer.off("add",_.onLayerChange)}))}},{key:"initLayout",value:function(){var _="l7-control-layers",Y=this.container=wr.SO.create("div",_),ut=this.controlOption.collapsed;Y.setAttribute("aria-haspopup","true");var At=this.form=wr.SO.create("form",_+"-list");ut&&(this.mapsService.on("click",this.collapse),Y.addEventListener("mouseenter",this.expand),Y.addEventListener("mouseleave",this.collapse)),this.layersLink=wr.SO.create("a",_+"-toggle",Y);var Ct=this.layersLink;Ct.title="Layers",ut||this.expand(),this.baseLayersList=wr.SO.create("div",_+"-base",At),this.separator=wr.SO.create("div",_+"-separator",At),this.overlaysList=wr.SO.create("div",_+"-overlays",At),Y.appendChild(At)}},{key:"initLayers",value:function(){var _=this,Y=this.controlOption,ut=Y.baseLayers,At=ut===void 0?{}:ut,Ct=Y.overlayers,Yt=Ct===void 0?{}:Ct;Object.keys(At).forEach(function(me,fe){_.addLayer(At[me],me,!1)}),Object.keys(Yt).forEach(function(me,fe){_.addLayer(Yt[me],me,!0)})}},{key:"update",value:function(){if(!this.container)return this;wr.SO.empty(this.baseLayersList),wr.SO.empty(this.overlaysList),this.layerControlInputs=[];var _,Y,ut,At,Ct=0;for(ut=0;ut<this.layers.length;ut++)At=this.layers[ut],this.addItem(At),Y=Y||At.overlay,_=_||!At.overlay,Ct+=At.overlay?0:1;return this.controlOption.hideSingleBase&&(_=_&&Ct>1,this.baseLayersList.style.display=_?"":"none"),this.separator.style.display=Y&&_?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var _=this.layerControlInputs,Y,ut,At=this.mapsService.getZoom(),Ct=_.length-1;Ct>=0;Ct--)if(Y=_[Ct],ut=this.layerService.getLayer(Y.layerId),ut&&ut.inited){var Yt=ut.getMinZoom(),me=ut.getMaxZoom();Y.disabled=At<Yt||At>me}}},{key:"addLayer",value:function(_,Y,ut){this.mapsService&&(_.on("add",this.onLayerChange),_.on("remove",this.onLayerChange)),this.layers.push({layer:_,name:Y,overlay:ut});var At=this.controlOption,Ct=At.sortLayers,Yt=At.sortFunction,me=At.autoZIndex;Ct&&this.layers.sort(function(fe,qe){return Yt(fe.layer,qe.layer,fe.name,qe.name)}),me&&_.setZIndex&&(this.lastZIndex++,_.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(_){this.handlingClick||this.update();var Y=this.layerService.getLayer(_.target.layerId),ut=Y!=null&&Y.overlay?_.type==="add"?"overlayadd":"overlayremove":_.type==="add"?"baselayerchange":null;ut&&this.emit(ut,Y)}},{key:"createRadioElement",value:function(_,Y){var ut='<input type="radio" class="l7-control-layers-selector" name="'+_+'"'+(Y?' checked="checked"':"")+"/>",At=document.createElement("div");return At.innerHTML=ut,At.firstChild}},{key:"addItem",value:function(_){var Y=document.createElement("label"),ut=this.layerService.getLayer(_.layer.id),At=ut&&ut.inited&&_.layer.isVisible(),Ct;_.overlay?(Ct=document.createElement("input"),Ct.type="checkbox",Ct.className="l7-control-layers-selector",Ct.defaultChecked=At):Ct=this.createRadioElement("l7-base-layers",At),this.layerControlInputs.push(Ct),Ct.layerId=_.layer.id,Ct.addEventListener("click",this.onInputClick);var Yt=document.createElement("span");Yt.innerHTML=" "+_.name;var me=document.createElement("div");Y.appendChild(me),me.appendChild(Ct),me.appendChild(Yt);var fe=_.overlay?this.overlaysList:this.baseLayersList;return fe.appendChild(Y),this.checkDisabledLayers(),Y}},{key:"onInputClick",value:function(){var _=this.layerControlInputs,Y,ut,At=[],Ct=[];this.handlingClick=!0;for(var Yt=_.length-1;Yt>=0;Yt--)Y=_[Yt],ut=this.layerService.getLayer(Y.layerId),Y.checked?At.push(ut):Y.checked||Ct.push(ut);Ct.forEach(function(me){me.hide()}),At.forEach(function(me){me.show()}),this.handlingClick=!1}}]),F}(yt);function jr(I){var z=_r();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function _r(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Pn=function(I){(0,vr.Z)(F,I);var z=jr(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var _="l7-control-logo",Y=wr.SO.create("div",_),ut=wr.SO.create("a","l7-ctrl-logo");return ut.target="_blank",ut.rel="noopener nofollow",ut.href="https://antv.alipay.com/l7",ut.setAttribute("aria-label","AntV logo"),ut.setAttribute("rel","noopener nofollow"),Y.appendChild(ut),Y}},{key:"onRemove",value:function(){return null}}]),F}(yt);function Ln(I){var z=Li();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Li(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var sa=function(I){(0,vr.Z)(F,I);var z=Ln(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this,B),(0,O.Z)((0,le.Z)(_),"mScale",void 0),(0,O.Z)((0,le.Z)(_),"iScale",void 0),(0,wr.Ev)(["update"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var _="l7-control-scale",Y=wr.SO.create("div",_);this.addScales(_+"-line",Y);var ut=this.controlOption.updateWhenIdle;return this.mapsService.on(ut?"moveend":"mapmove",this.update),this.mapsService.on(ut?"zoomend":"zoomchange",this.update),this.update(),Y}},{key:"onRemove",value:function(){var _=this.controlOption.updateWhenIdle;this.mapsService.off(_?"zoomend":"zoomchange",this.update),this.mapsService.off(_?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var _=this.mapsService,Y=this.controlOption.maxWidth,ut=_.getSize()[1]/2,At=_.containerToLngLat([0,ut]),Ct=_.containerToLngLat([Y,ut]),Yt=(0,wr.yM)([At.lng,At.lat],[Ct.lng,Ct.lat]);this.updateScales(Yt)}},{key:"updateScales",value:function(_){var Y=this.controlOption,ut=Y.metric,At=Y.imperial;ut&&_&&this.updateMetric(_),At&&_&&this.updateImperial(_)}},{key:"updateMetric",value:function(_){var Y=this.getRoundNum(_),ut=Y<1e3?Y+" m":Y/1e3+" km";this.updateScale(this.mScale,ut,Y/_)}},{key:"updateImperial",value:function(_){var Y=_*3.2808399,ut,At,Ct;Y>5280?(ut=Y/5280,At=this.getRoundNum(ut),this.updateScale(this.iScale,At+" mi",At/ut)):(Ct=this.getRoundNum(Y),this.updateScale(this.iScale,Ct+" ft",Ct/Y))}},{key:"updateScale",value:function(_,Y,ut){var At=this.controlOption.maxWidth;_.style.width=Math.round(At*ut)+"px",_.innerHTML=Y}},{key:"getRoundNum",value:function(_){var Y=Math.pow(10,(Math.floor(_)+"").length-1),ut=_/Y;return ut=ut>=10?10:ut>=5?5:ut>=3?3:ut>=2?2:1,Y*ut}},{key:"addScales",value:function(_,Y){var ut=this.controlOption,At=ut.metric,Ct=ut.imperial;At&&(this.mScale=wr.SO.create("div",_,Y)),Ct&&(this.iScale=wr.SO.create("div",_,Y))}}]),F}(yt);function Ki(I){var z=Ea();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Ea(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var pa=function(I){(0,vr.Z)(F,I);var z=Ki(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this,B),(0,O.Z)((0,le.Z)(_),"disabled",void 0),(0,O.Z)((0,le.Z)(_),"zoomInButton",void 0),(0,O.Z)((0,le.Z)(_),"zoomOutButton",void 0),(0,wr.Ev)(["updateDisabled","zoomIn","zoomOut"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{position:Rt.PositionType.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var _="l7-control-zoom",Y=wr.SO.create("div",_+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,_+"-in",Y,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,_+"-out",Y,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),Y}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(_,Y,ut,At,Ct){var Yt=wr.SO.create("a",ut,At);return Yt.innerHTML=_,Yt.title=Y,Yt.href="javascript:void(0)",Yt.addEventListener("click",Ct),Yt}},{key:"updateDisabled",value:function(){var _=this.mapsService,Y="l7-disabled";wr.SO.removeClass(this.zoomInButton,Y),wr.SO.removeClass(this.zoomOutButton,Y),(this.disabled||_.getZoom()<=_.getMinZoom())&&wr.SO.addClass(this.zoomOutButton,Y),(this.disabled||_.getZoom()>=_.getMaxZoom())&&wr.SO.addClass(this.zoomInButton,Y)}}]),F}(yt);function Fa(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function Ua(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Fa(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Fa(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function vo(I){var z=No();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function No(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Yo=function(I){(0,vr.Z)(F,I);var z=vo(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"markerOption",void 0),(0,O.Z)((0,le.Z)(_),"defaultMarker",void 0),(0,O.Z)((0,le.Z)(_),"popup",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"sceneSerive",void 0),(0,O.Z)((0,le.Z)(_),"lngLat",void 0),(0,O.Z)((0,le.Z)(_),"scene",void 0),(0,O.Z)((0,le.Z)(_),"added",!1),(0,O.Z)((0,le.Z)(_),"eventHandle",function(Y){_.emit(Y.type,{target:Y,data:_.markerOption.extData,lngLat:_.lngLat})}),_.markerOption=Ua(Ua({},_.getDefault()),B),(0,wr.Ev)(["update","onMove","onUp","addDragHandler","onMapClick"],(0,le.Z)(_)),_.init(),_}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{element:void 0,anchor:wr.bV.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(_){this.scene=_,this.mapsService=_.get(Rt.vK.IMapService),this.sceneSerive=_.get(Rt.vK.ISceneService);var Y=this.markerOption,ut=Y.element,At=Y.draggable;return this.mapsService.getMarkerContainer().appendChild(ut),this.registerMarkerEvent(ut),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var _=this.markerOption.element;return _&&wr.SO.remove(_),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(_){return this.lngLat=_,Array.isArray(_)&&(this.lngLat={lng:_[0],lat:_[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(_){var Y=this;if(!this.added)return this.once("added",function(){Y.setElement(_)}),this;var ut=this.markerOption.element;return ut&&wr.SO.remove(ut),this.markerOption.element=_,this.init(),this.mapsService.getMarkerContainer().appendChild(_),this.registerMarkerEvent(_),this.update(),this}},{key:"openPopup",value:function(){var _=this;if(!this.added)return this.once("added",function(){_.openPopup()}),this;var Y=this.popup;return Y?(Y.isOpen()||Y.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var _=this;this.added||this.once("added",function(){_.closePopup()});var Y=this.popup;return Y&&Y.remove(),this}},{key:"setPopup",value:function(_){return this.popup=_,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var _=this.popup;if(_)_.isOpen()?_.remove():_.addTo(this.scene);else return this;return this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(_){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(_){this.markerOption.extData=_}},{key:"update",value:function(){if(!!this.mapsService){var _=this.markerOption,Y=_.element,ut=_.anchor;this.updatePosition(),wr.SO.setTransform(Y,"".concat(wr.rQ[ut]))}}},{key:"onMapClick",value:function(_){var Y=this.markerOption.element;this.popup&&Y&&this.togglePopup()}},{key:"updatePosition",value:function(){if(!!this.mapsService){var _=this.markerOption,Y=_.element,ut=_.offsets,At=this.lngLat,Ct=At.lng,Yt=At.lat,me=this.mapsService.getBounds(),fe=this.mapsService.lngLatToContainer([Ct,Yt]);if(Y){Y.style.display="block";var qe=this.mapsService.getContainer(),dr=0,tn=0;if(qe&&(dr=qe.scrollWidth,tn=qe.scrollHeight),Math.abs(me[0][0])>180||Math.abs(me[1][0])>180){if(fe.x>dr){var mn=this.mapsService.lngLatToContainer([Ct-360,Yt]);fe.x=mn.x}if(fe.x<0){var Zn=this.mapsService.lngLatToContainer([Ct+360,Yt]);fe.x=Zn.x}}(fe.x>dr||fe.x<0||fe.y>tn||fe.y<0)&&(Y.style.display="none"),Y.style.left=fe.x+ut[0]+"px",Y.style.top=fe.y-ut[1]+"px"}}}},{key:"init",value:function(){var _=this,Y=this.markerOption.element,ut=this.markerOption,At=ut.color,Ct=ut.anchor;if(!Y){this.defaultMarker=!0,Y=wr.SO.create("div"),this.markerOption.element=Y;var Yt=document.createElementNS("http://www.w3.org/2000/svg","svg");Yt.setAttributeNS(null,"display","block"),Yt.setAttributeNS(null,"height","48px"),Yt.setAttributeNS(null,"width","48px"),Yt.setAttributeNS(null,"viewBox","0 0 1024 1024");var me=document.createElementNS("http://www.w3.org/2000/svg","path");me.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),me.setAttributeNS(null,"fill",At),Yt.appendChild(me),Y.appendChild(Yt)}wr.SO.addClass(Y,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(function(fe){var qe,dr,tn=((qe=_.markerOption)===null||qe===void 0?void 0:qe.style)&&((dr=_.markerOption)===null||dr===void 0?void 0:dr.style[fe]);Y&&(Y.style[fe]=tn)}),Y.addEventListener("click",function(fe){_.onMapClick(fe)}),Y.addEventListener("click",this.eventHandle),(0,wr.zi)(Y,Ct,"marker")}},{key:"registerMarkerEvent",value:function(_){_.addEventListener("mousemove",this.eventHandle),_.addEventListener("click",this.eventHandle),_.addEventListener("mousedown",this.eventHandle),_.addEventListener("mouseup",this.eventHandle),_.addEventListener("dblclick",this.eventHandle),_.addEventListener("contextmenu",this.eventHandle),_.addEventListener("mouseover",this.eventHandle),_.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var _=this.getElement();_.removeEventListener("mousemove",this.eventHandle),_.removeEventListener("click",this.eventHandle),_.removeEventListener("mousedown",this.eventHandle),_.removeEventListener("mouseup",this.eventHandle),_.removeEventListener("dblclick",this.eventHandle),_.removeEventListener("contextmenu",this.eventHandle),_.removeEventListener("mouseover",this.eventHandle),_.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(_){throw new Error("Method not implemented.")}},{key:"onUp",value:function(_){throw new Error("Method not implemented.")}}]),F}(kr.EventEmitter),Ds=S(82492),Go=S.n(Ds);function Io(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function xo(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Io(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Io(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function Lo(I){var z=Fo();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Fo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var so=function(I){(0,vr.Z)(F,I);var z=Lo(F);function F(B){var _,Y;return(0,Se.Z)(this,F),Y=z.call(this),(0,O.Z)((0,le.Z)(Y),"markers",[]),(0,O.Z)((0,le.Z)(Y),"markerLayerOption",void 0),(0,O.Z)((0,le.Z)(Y),"clusterIndex",void 0),(0,O.Z)((0,le.Z)(Y),"points",[]),(0,O.Z)((0,le.Z)(Y),"clusterMarkers",[]),(0,O.Z)((0,le.Z)(Y),"mapsService",void 0),(0,O.Z)((0,le.Z)(Y),"scene",void 0),(0,O.Z)((0,le.Z)(Y),"zoom",void 0),(0,O.Z)((0,le.Z)(Y),"bbox",void 0),Y.markerLayerOption=Go()(Y.getDefault(),B),(0,wr.Ev)(["update"],(0,le.Z)(Y)),Y.zoom=((_=Y.markerLayerOption.clusterOption)===null||_===void 0?void 0:_.zoom)||-99,Y}return(0,Ve.Z)(F,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(_){return this.scene=_,this.mapsService=_.get(Rt.vK.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(_){var Y=this.markerLayerOption.cluster;Y&&this.addPoint(_,this.markers.length),this.markers.push(_)}},{key:"removeMarker",value:function(_){this.markers.indexOf(_);var Y=this.markers.indexOf(_);Y>-1&&this.markers.splice(Y,1)}},{key:"hide",value:function(){this.markers.map(function(_){_.getElement().style.opacity="0"})}},{key:"show",value:function(){this.markers.map(function(_){_.getElement().style.opacity="1"})}},{key:"getMarkers",value:function(){var _=this.markerLayerOption.cluster;return _?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var _=this;this.getMarkers().forEach(function(Y){Y.addTo(_.scene)})}},{key:"clear",value:function(){this.markers.forEach(function(_){_.remove()}),this.clusterMarkers.forEach(function(_){_.remove()}),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(_,Y){var ut=_.getLnglat(),At=ut.lng,Ct=ut.lat,Yt={geometry:{type:"Point",coordinates:[At,Ct]},properties:xo(xo({},_.getExtData()),{},{marker_id:Y})};this.points.push(Yt)}},{key:"initCluster",value:function(){if(!!this.markerLayerOption.cluster){var _=this.markerLayerOption.clusterOption,Y=_.radius,ut=_.minZoom,At=ut===void 0?0:ut,Ct=_.maxZoom;this.clusterIndex=new(di())({radius:Y,minZoom:At,maxZoom:Ct}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(_,Y){var ut=this,At=_[0].concat(_[1]),Ct=this.clusterIndex.getClusters(At,Y);this.clusterMarkers.forEach(function(Yt){Yt.remove()}),this.clusterMarkers=[],Ct.forEach(function(Yt){var me,fe=ut.markerLayerOption.clusterOption,qe=fe.field,dr=fe.method;if(Yt.properties&&(me=Yt.properties)!==null&&me!==void 0&&me.cluster_id){var tn,mn=ut.getLeaves((tn=Yt.properties)===null||tn===void 0?void 0:tn.cluster_id);if(Yt.properties.clusterData=mn,qe&&dr){var Zn=mn==null?void 0:mn.map(function(la){var Qi=(0,O.Z)({},qe,la.properties[qe]);return Qi}),ii=wr.a5.getColumn(Zn,qe),bi=wr.a5.getSatByColumn(dr,ii),Bi="point_"+dr;Yt.properties[Bi]=bi.toFixed(2)}}var Ni=ut.clusterMarker(Yt);ut.clusterMarkers.push(Ni),Ni.addTo(ut.scene)})}},{key:"getLeaves",value:function(_){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Infinity,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return _?this.clusterIndex.getLeaves(_,Y,ut):null}},{key:"clusterMarker",value:function(_){var Y=this.markerLayerOption.clusterOption,ut=Y,At=ut.element,Ct=At===void 0?this.generateElement.bind(this):At,Yt=new Yo({element:Ct(_)}).setLnglat({lng:_.geometry.coordinates[0],lat:_.geometry.coordinates[1]});return Yt}},{key:"normalMarker",value:function(_){var Y=_.properties.marker_id;return this.markers[Y]}},{key:"update",value:function(){var _=this.mapsService.getZoom(),Y=this.mapsService.getBounds();(!this.bbox||Math.abs(_-this.zoom)>=1||!(0,wr.oO)(this.bbox,Y))&&(this.bbox=(0,wr.yA)(Y,.5),this.zoom=Math.floor(_),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(_){var Y=wr.SO.create("div","l7-marker-cluster"),ut=wr.SO.create("div","",Y),At=wr.SO.create("span","",ut),Ct=this.markerLayerOption.clusterOption,Yt=Ct.field,me=Ct.method;_.properties.point_count=_.properties.point_count||1;var fe=Yt&&me?_.properties["point_"+me]||_.properties[Yt]:_.properties.point_count;return At.textContent=fe,Y}}]),F}(kr.EventEmitter);function Qo(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function Jo(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Qo(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Qo(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function So(I){var z=ds();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function ds(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ns=function(I){(0,vr.Z)(F,I);var z=So(F);function F(B){var _;return(0,Se.Z)(this,F),_=z.call(this),(0,O.Z)((0,le.Z)(_),"popupOption",void 0),(0,O.Z)((0,le.Z)(_),"mapsService",void 0),(0,O.Z)((0,le.Z)(_),"sceneSerive",void 0),(0,O.Z)((0,le.Z)(_),"lngLat",void 0),(0,O.Z)((0,le.Z)(_),"content",void 0),(0,O.Z)((0,le.Z)(_),"closeButton",void 0),(0,O.Z)((0,le.Z)(_),"timeoutInstance",void 0),(0,O.Z)((0,le.Z)(_),"container",void 0),(0,O.Z)((0,le.Z)(_),"tip",void 0),(0,O.Z)((0,le.Z)(_),"scene",void 0),_.popupOption=Jo(Jo({},_.getdefault()),B),(0,wr.Ev)(["update","onClickClose","remove"],(0,le.Z)(_)),_}return(0,Ve.Z)(F,[{key:"addTo",value:function(_){var Y=this;return this.mapsService=_.get(Rt.vK.IMapService),this.sceneSerive=_.get(Rt.vK.ISceneService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=_,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout(function(){Y.mapsService.on("click",Y.onClickClose)},30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(_){var Y=window.document.createDocumentFragment(),ut=window.document.createElement("body"),At;for(ut.innerHTML=_;At=ut.firstChild,!!At;)Y.appendChild(At);return this.setDOMContent(Y)}},{key:"setLnglat",value:function(_){return this.lngLat=_,Array.isArray(_)&&(this.lngLat={lng:_[0],lat:_[1]}),this.mapsService&&(this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(_){return this.setDOMContent(window.document.createTextNode(_))}},{key:"setMaxWidth",value:function(_){return this.popupOption.maxWidth=_,this.update(),this}},{key:"setDOMContent",value:function(_){return this.createContent(),this.content.appendChild(_),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&wr.SO.remove(this.content),this.content=wr.SO.create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=wr.SO.create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(_,Y,ut){var At=window.document.createElement(_);return Y!==void 0&&(At.className=Y),ut&&ut.appendChild(At),At}},{key:"removeDom",value:function(_){_.parentNode&&_.parentNode.removeChild(_)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:wr.bV.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(_){_.stopPropagation&&_.stopPropagation(),this.remove()}},{key:"update",value:function(){var _=this,Y=this.lngLat,ut=this.popupOption,At=ut.className,Ct=ut.maxWidth,Yt=ut.anchor;if(!(!this.mapsService||!Y||!this.content)){var me=this.mapsService.getMarkerContainer();if(!this.container&&me){this.container=this.creatDom("div","l7-popup",me),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),At&&At.split(" ").forEach(function(qe){return _.container.classList.add(qe)});var fe=this.popupOption.stopPropagation;fe&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(function(qe){_.container.addEventListener(qe,function(dr){dr.stopPropagation()})})}Ct&&this.container.style.maxWidth!==Ct&&(this.container.style.maxWidth=Ct),this.updatePosition(),wr.SO.setTransform(this.container,"".concat(wr.rQ[Yt])),(0,wr.zi)(this.container,Yt,"popup")}}},{key:"updatePosition",value:function(){if(!!this.mapsService){var _=this.lngLat,Y=_.lng,ut=_.lat,At=this.popupOption.offsets,Ct=this.mapsService.lngLatToContainer([Y,ut]);this.container.style.left=Ct.x+At[0]+"px",this.container.style.top=Ct.y-At[1]+"px"}}}]),F}(kr.EventEmitter);function qo(I,z){var F=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",B=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(F||B)&&(z||(z=document),!!z)){var _=z.head||z.getElementsByTagName("head")[0];if(!_){_=z.createElement("head");var Y=z.body||z.getElementsByTagName("body")[0];Y?Y.parentNode.insertBefore(_,Y):z.documentElement.appendChild(_)}var ut=z.createElement("style");return ut.type="text/css",ut.styleSheet?ut.styleSheet.cssText=I:ut.appendChild(z.createTextNode(I)),_.appendChild(ut),ut}}qo(`.l7-marker-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
}

.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}

.l7-marker-cluster {
  background-clip: padding-box;
  border-radius: 20px;
  background-color: rgba(181, 226, 140, 0.6);
  width: 40px;
  height: 40px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-left: 5px;
  margin-top: 5px;
  text-align: center;
  border-radius: 15px;
  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  background-color: rgba(110, 204, 57, 0.6);
}
.l7-marker-cluster span {
  line-height: 30px;
}

.l7-popup-anchor-bottom,
.l7-popup-anchor-bottom-left,
.l7-popup-anchor-bottom-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: reverse;
      -ms-flex-direction: column-reverse;
          flex-direction: column-reverse;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 5px;
}
.l7-popup-anchor-top,
.l7-popup-anchor-top-left,
.l7-popup-anchor-top-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-popup-anchor-left {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}

.l7-popup-anchor-right {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
      -ms-flex-direction: row-reverse;
          flex-direction: row-reverse;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  will-change: transform;
  pointer-events: none;
  z-index: 5;
}
.l7-popup-tip {
  width: 0;
  height: 0;
  border: 10px solid transparent;
  z-index: 1;
}
.l7-popup-anchor-top .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-top: none;
  border-left: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-bottom .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-bottom: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-bottom: none;
  border-left: none;
  border-top-color: #fff;
}

.l7-popup-anchor-bottom-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-bottom: none;
  border-right: none;
  border-top-color: #fff;
}

.l7-popup-anchor-left .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-left: none;
  border-right-color: #fff;
}

.l7-popup-anchor-right .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-right: none;
  border-left-color: #fff;
}

.l7-popup-close-button {
  position: absolute;
  right: 0;
  top: 0;
  border: 0;
  padding: 0;
  font-size: 25px;
  line-height: 20px;
  border-radius: 0 3px 0 0;
  cursor: pointer;
  background-color: transparent;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}

.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}

.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}

.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}

.l7-popup-track-pointer {
  display: none;
}

.l7-popup-track-pointer * {
  pointer-events: none;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-map:hover .l7-popup-track-pointer {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.l7-map:active .l7-popup-track-pointer {
  display: none;
}

.l7-popup-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.l7-popup-content {
  position: relative;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  padding: 10px 10px 15px;
  pointer-events: auto;
}

/* general toolbar styles */

.l7-bar {
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
          box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);
  border-radius: 4px;
}
.l7-bar a,
.l7-bar a:hover {
  background-color: #fff;
  width: 30px;
  height: 30px;
  font-size: 20px;
  display: block;
  text-align: center;
  text-decoration: none;
  color: #8e9dab;
}
.l7-bar a,
.l7-control-layers-toggle {
  background-position: 50% 50%;
  background-repeat: no-repeat;
  display: block;
}
.l7-bar a:hover {
  background-color: #f4f4f4;
}
.l7-bar a:first-child {
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
}
.l7-bar a:last-child {
  border-bottom-left-radius: 2px;
  border-bottom-right-radius: 2px;
  border-bottom: none;
}
.l7-bar a.l7-disabled {
  cursor: default;
  background-color: #f4f4f4;
  color: #bbb;
}

/* control positioning */

.l7-control-container {
  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;
}
.l7-control-hide {
  display: none;
}
.l7-control {
  position: relative;
  z-index: 800;
  pointer-events: visiblePainted; /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control {
  float: left;
  clear: both;
}
.l7-top,
.l7-bottom {
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-top {
  top: 0;
}
.l7-right {
  right: 0;
}
.l7-bottom {
  bottom: 0;
}
.l7-left {
  left: 0;
}
.l7-center {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}
.l7-bottom.l7-center,
.l7-top.l7-center {
  width: 100%;
}
.l7-right.l7-center,
.l7-left.l7-center {
  height: 100%;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}

.l7-top.l7-center,
.l7-left.l7-center {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}

.l7-bottom.l7-center,
.l7-right.l7-center {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}

.l7-center .l7-control {
  margin-right: 10px;
  margin-bottom: 10px;
}

.l7-control {
  float: left;
  clear: both;
}
.l7-right .l7-control {
  float: right;
}
.l7-top .l7-control {
  margin-top: 10px;
}
.l7-bottom .l7-control {
  margin-bottom: 10px;
}
.l7-left .l7-control {
  margin-left: 10px;
}
.l7-right .l7-control {
  margin-right: 10px;
}

/* attribution and scale controls */

.l7-control-container .l7-control-attribution {
  background: #fff;
  background: rgba(255, 255, 255, 0.7);
  margin: 0;
}
.l7-control-attribution,
.l7-control-scale-line {
  padding: 0 5px;
  color: #333;
}
.l7-control-attribution a {
  text-decoration: none;
}
.l7-control-attribution a:hover {
  text-decoration: underline;
}
.l7-container .l7-control-attribution,
.l7-container .l7-control-scale {
  font-size: 11px;
  padding: 5px 5px 2px 5px;
  background: rgba(255, 255, 255, 0.7);
}
.l7-left .l7-control-scale {
  margin-left: 5px;
}
.l7-bottom .l7-control-scale {
  margin-bottom: 5px;
}
.l7-control-scale-line {
  border: 2px solid #000;
  border-top: none;
  color: #000;
  line-height: 1.1;
  padding: 2px 5px 1px;
  font-size: 11px;
  white-space: nowrap;
  overflow: hidden;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;

  background: #fff;
}
.l7-control-scale-line:not(:first-child) {
  border-top: 2px solid #777;
  border-bottom: none;
  margin-top: -2px;
}
.l7-control-scale-line:not(:first-child):not(:last-child) {
  border-bottom: 2px solid #777;
}

.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  -webkit-box-shadow: none;
          box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  border: 2px solid rgba(0, 0, 0, 0.2);
  background-clip: padding-box;
}
/*logo */

.l7-ctrl-logo {
  background-size: 100% 100%;
  width: 89px;
  height: 16px;
  margin: 0 0 -3px -3px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  background-repeat: no-repeat;
  cursor: pointer;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC');
}

/* layers control */

.l7-control-layers {
  -webkit-box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
          box-shadow: 0 1px 8px rgba(0, 0, 0, 0.4);
  background: #fff;
  border-radius: 2px;
}
.l7-control-layers-toggle {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC');
  width: 30px;
  height: 30px;
  background-size: 20px 20px;
}

.l7-touch .l7-control-layers-toggle {
  width: 44px;
  height: 44px;
}
.l7-control-layers .l7-control-layers-list,
.l7-control-layers-expanded .l7-control-layers-toggle {
  display: none;
}
.l7-control-layers-expanded .l7-control-layers-list {
  display: block;
  position: relative;
}
.l7-control-layers-expanded {
  padding: 6px 10px 6px 6px;
  color: #59626b;
  background: #fff;
}
.l7-control-layers-scrollbar {
  overflow-y: scroll;
  overflow-x: hidden;
  padding-right: 5px;
}
.l7-control-layers-selector {
  margin-top: 2px;
  position: relative;
  top: 1px;
}
.l7-control-layers label {
  display: block;
  padding: 8px;
}
.l7-control-layers label input[type='radio'],
.l7-control-layers label input[type='checkbox'] {
  width: 14px;
  height: 14px;
  margin: 0;
}
.l7-control-layers-separator {
  height: 0;
  border-top: 1px solid #d8d8d8;
  margin: 5px -10px 5px -6px;
}
.mapboxgl-ctrl-logo {
  display: none !important;
}
.amap-logo {
  display: none !important;
}
`);var is=S(92137),Xo=S(87757),as=S.n(Xo),$a=S(86700),Eu=S(88307),pu=S.n(Eu),Qs=S(28660),au=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"attribute",void 0),(0,O.Z)(this,"buffer",void 0);var B=F.buffer,_=F.offset,Y=F.stride,ut=F.normalized,At=F.size,Ct=F.divisor;this.buffer=B,this.attribute={buffer:B.get(),offset:_||0,stride:Y||0,normalized:ut||!1,divisor:Ct||0},At&&(this.attribute.size=At)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(F){this.buffer.subData(F)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),I}(),Ko,ie,ce,Kt,De,br,Tn,gi,Oi,Di,ta,ha,Ba,na,ts=(Ko={},(0,O.Z)(Ko,Rt.gl.POINTS,"points"),(0,O.Z)(Ko,Rt.gl.LINES,"lines"),(0,O.Z)(Ko,Rt.gl.LINE_LOOP,"line loop"),(0,O.Z)(Ko,Rt.gl.LINE_STRIP,"line strip"),(0,O.Z)(Ko,Rt.gl.TRIANGLES,"triangles"),(0,O.Z)(Ko,Rt.gl.TRIANGLE_FAN,"triangle fan"),(0,O.Z)(Ko,Rt.gl.TRIANGLE_STRIP,"triangle strip"),Ko),po=(ie={},(0,O.Z)(ie,Rt.gl.STATIC_DRAW,"static"),(0,O.Z)(ie,Rt.gl.DYNAMIC_DRAW,"dynamic"),(0,O.Z)(ie,Rt.gl.STREAM_DRAW,"stream"),ie),uo=(ce={},(0,O.Z)(ce,Rt.gl.BYTE,"int8"),(0,O.Z)(ce,Rt.gl.UNSIGNED_INT,"int16"),(0,O.Z)(ce,Rt.gl.INT,"int32"),(0,O.Z)(ce,Rt.gl.UNSIGNED_BYTE,"uint8"),(0,O.Z)(ce,Rt.gl.UNSIGNED_SHORT,"uint16"),(0,O.Z)(ce,Rt.gl.UNSIGNED_INT,"uint32"),(0,O.Z)(ce,Rt.gl.FLOAT,"float"),ce),Zo=(Kt={},(0,O.Z)(Kt,Rt.gl.ALPHA,"alpha"),(0,O.Z)(Kt,Rt.gl.LUMINANCE,"luminance"),(0,O.Z)(Kt,Rt.gl.LUMINANCE_ALPHA,"luminance alpha"),(0,O.Z)(Kt,Rt.gl.RGB,"rgb"),(0,O.Z)(Kt,Rt.gl.RGBA,"rgba"),(0,O.Z)(Kt,Rt.gl.RGBA4,"rgba4"),(0,O.Z)(Kt,Rt.gl.RGB5_A1,"rgb5 a1"),(0,O.Z)(Kt,Rt.gl.RGB565,"rgb565"),(0,O.Z)(Kt,Rt.gl.DEPTH_COMPONENT,"depth"),(0,O.Z)(Kt,Rt.gl.DEPTH_STENCIL,"depth stencil"),Kt),Qa=(De={},(0,O.Z)(De,Rt.gl.DONT_CARE,"dont care"),(0,O.Z)(De,Rt.gl.NICEST,"nice"),(0,O.Z)(De,Rt.gl.FASTEST,"fast"),De),go=(br={},(0,O.Z)(br,Rt.gl.NEAREST,"nearest"),(0,O.Z)(br,Rt.gl.LINEAR,"linear"),(0,O.Z)(br,Rt.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,O.Z)(br,Rt.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,O.Z)(br,Rt.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,O.Z)(br,Rt.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),br),fs=(Tn={},(0,O.Z)(Tn,Rt.gl.REPEAT,"repeat"),(0,O.Z)(Tn,Rt.gl.CLAMP_TO_EDGE,"clamp"),(0,O.Z)(Tn,Rt.gl.MIRRORED_REPEAT,"mirror"),Tn),es=(gi={},(0,O.Z)(gi,Rt.gl.NONE,"none"),(0,O.Z)(gi,Rt.gl.BROWSER_DEFAULT_WEBGL,"browser"),gi),Rs=(Oi={},(0,O.Z)(Oi,Rt.gl.NEVER,"never"),(0,O.Z)(Oi,Rt.gl.ALWAYS,"always"),(0,O.Z)(Oi,Rt.gl.LESS,"less"),(0,O.Z)(Oi,Rt.gl.LEQUAL,"lequal"),(0,O.Z)(Oi,Rt.gl.GREATER,"greater"),(0,O.Z)(Oi,Rt.gl.GEQUAL,"gequal"),(0,O.Z)(Oi,Rt.gl.EQUAL,"equal"),(0,O.Z)(Oi,Rt.gl.NOTEQUAL,"notequal"),Oi),os=(Di={},(0,O.Z)(Di,Rt.gl.FUNC_ADD,"add"),(0,O.Z)(Di,Rt.gl.MIN_EXT,"min"),(0,O.Z)(Di,Rt.gl.MAX_EXT,"max"),(0,O.Z)(Di,Rt.gl.FUNC_SUBTRACT,"subtract"),(0,O.Z)(Di,Rt.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Di),ss=(ta={},(0,O.Z)(ta,Rt.gl.ZERO,"zero"),(0,O.Z)(ta,Rt.gl.ONE,"one"),(0,O.Z)(ta,Rt.gl.SRC_COLOR,"src color"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,O.Z)(ta,Rt.gl.SRC_ALPHA,"src alpha"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,O.Z)(ta,Rt.gl.DST_COLOR,"dst color"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,O.Z)(ta,Rt.gl.DST_ALPHA,"dst alpha"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,O.Z)(ta,Rt.gl.CONSTANT_COLOR,"constant color"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,O.Z)(ta,Rt.gl.CONSTANT_ALPHA,"constant alpha"),(0,O.Z)(ta,Rt.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,O.Z)(ta,Rt.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),ta),Bo=(ha={},(0,O.Z)(ha,Rt.gl.NEVER,"never"),(0,O.Z)(ha,Rt.gl.ALWAYS,"always"),(0,O.Z)(ha,Rt.gl.LESS,"less"),(0,O.Z)(ha,Rt.gl.LEQUAL,"lequal"),(0,O.Z)(ha,Rt.gl.GREATER,"greater"),(0,O.Z)(ha,Rt.gl.GEQUAL,"gequal"),(0,O.Z)(ha,Rt.gl.EQUAL,"equal"),(0,O.Z)(ha,Rt.gl.NOTEQUAL,"notequal"),ha),Zs=(Ba={},(0,O.Z)(Ba,Rt.gl.ZERO,"zero"),(0,O.Z)(Ba,Rt.gl.KEEP,"keep"),(0,O.Z)(Ba,Rt.gl.REPLACE,"replace"),(0,O.Z)(Ba,Rt.gl.INVERT,"invert"),(0,O.Z)(Ba,Rt.gl.INCR,"increment"),(0,O.Z)(Ba,Rt.gl.DECR,"decrement"),(0,O.Z)(Ba,Rt.gl.INCR_WRAP,"increment wrap"),(0,O.Z)(Ba,Rt.gl.DECR_WRAP,"decrement wrap"),Ba),Ss=(na={},(0,O.Z)(na,Rt.gl.FRONT,"front"),(0,O.Z)(na,Rt.gl.BACK,"back"),na),Ns=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"buffer",void 0);var B=F.data,_=F.usage,Y=F.type;this.buffer=z.buffer({data:B,usage:po[_||Rt.gl.STATIC_DRAW],type:uo[Y||Rt.gl.UNSIGNED_BYTE]})}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(F){var B=F.data,_=F.offset;this.buffer.subdata(B,_)}}]),I}(),Fs=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"elements",void 0);var B=F.data,_=F.usage,Y=F.type,ut=F.count;this.elements=z.elements({data:B,usage:po[_||Rt.gl.STATIC_DRAW],type:uo[Y||Rt.gl.UNSIGNED_BYTE],count:ut})}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(F){var B=F.data;this.elements.subdata(B)}},{key:"destroy",value:function(){}}]),I}(),bu=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"framebuffer",void 0);var B=F.width,_=F.height,Y=F.color,ut=F.colors,At=F.depth,Ct=F.stencil,Yt={width:B,height:_};Array.isArray(ut)&&(Yt.colors=ut.map(function(me){return me.get()})),Y&&typeof Y!="boolean"&&(Yt.color=Y.get()),this.framebuffer=z.framebuffer(Yt)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(F){var B=F.width,_=F.height;this.framebuffer.resize(B,_)}}]),I}(),Cu=S(90484),Bs=S(36719),ou=S.n(Bs),Js=S(68630),gu=S.n(Js);function qs(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function js(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?qs(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):qs(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var Ws=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"reGl",void 0),(0,O.Z)(this,"destroyed",!1),(0,O.Z)(this,"drawCommand",void 0),(0,O.Z)(this,"drawParams",void 0),(0,O.Z)(this,"options",void 0),(0,O.Z)(this,"uniforms",{}),this.reGl=z;var B=F.vs,_=F.fs,Y=F.attributes,ut=F.uniforms,At=F.primitive,Ct=F.count,Yt=F.elements,me=F.depth,fe=F.blend,qe=F.stencil,dr=F.cull,tn=F.instances,mn={};this.options=F,ut&&(this.uniforms=this.extractUniforms(ut),Object.keys(ut).forEach(function(bi){mn[bi]=z.prop(bi)}));var Zn={};Object.keys(Y).forEach(function(bi){Zn[bi]=Y[bi].get()});var ii={attributes:Zn,frag:_,uniforms:mn,vert:B,primitive:ts[At===void 0?Rt.gl.TRIANGLES:At]};tn&&(ii.instances=tn),Ct&&(ii.count=Ct),Yt&&(ii.elements=Yt.get()),this.initDepthDrawParams({depth:me},ii),this.initBlendDrawParams({blend:fe},ii),this.initStencilDrawParams({stencil:qe},ii),this.initCullDrawParams({cull:dr},ii),this.drawCommand=z(ii),this.drawParams=ii}return(0,Ve.Z)(I,[{key:"addUniforms",value:function(F){this.uniforms=js(js({},this.uniforms),this.extractUniforms(F))}},{key:"draw",value:function(F){if(!(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)){var B=js(js({},this.uniforms),this.extractUniforms(F.uniforms||{})),_={};Object.keys(B).forEach(function(Y){var ut=(0,Cu.Z)(B[Y]);ut==="boolean"||ut==="number"||Array.isArray(B[Y])||B[Y].BYTES_PER_ELEMENT?_[Y]=B[Y]:_[Y]=B[Y].get()}),this.drawCommand(_)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(function(F){F.destroy()}),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(F,B){var _=F.depth;_&&(B.depth={enable:_.enable===void 0?!0:!!_.enable,mask:_.mask===void 0?!0:!!_.mask,func:Rs[_.func||Rt.gl.LESS],range:_.range||[0,1]})}},{key:"initBlendDrawParams",value:function(F,B){var _=F.blend;if(_){var Y=_.enable,ut=_.func,At=_.equation,Ct=_.color,Yt=Ct===void 0?[0,0,0,0]:Ct;B.blend={enable:!!Y,func:{srcRGB:ss[ut&&ut.srcRGB||Rt.gl.SRC_ALPHA],srcAlpha:ss[ut&&ut.srcAlpha||Rt.gl.SRC_ALPHA],dstRGB:ss[ut&&ut.dstRGB||Rt.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:ss[ut&&ut.dstAlpha||Rt.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:os[At&&At.rgb||Rt.gl.FUNC_ADD],alpha:os[At&&At.alpha||Rt.gl.FUNC_ADD]},color:Yt}}}},{key:"initStencilDrawParams",value:function(F,B){var _=F.stencil;if(_){var Y=_.enable,ut=_.mask,At=ut===void 0?-1:ut,Ct=_.func,Yt=Ct===void 0?{cmp:Rt.gl.ALWAYS,ref:0,mask:-1}:Ct,me=_.opFront,fe=me===void 0?{fail:Rt.gl.KEEP,zfail:Rt.gl.KEEP,zpass:Rt.gl.KEEP}:me,qe=_.opBack,dr=qe===void 0?{fail:Rt.gl.KEEP,zfail:Rt.gl.KEEP,zpass:Rt.gl.KEEP}:qe;B.stencil={enable:!!Y,mask:At,func:js(js({},Yt),{},{cmp:Bo[Yt.cmp]}),opFront:{fail:Zs[fe.fail],zfail:Zs[fe.zfail],zpass:Zs[fe.zpass]},opBack:{fail:Zs[dr.fail],zfail:Zs[dr.zfail],zpass:Zs[dr.zpass]}}}}},{key:"initCullDrawParams",value:function(F,B){var _=F.cull;if(_){var Y=_.enable,ut=_.face,At=ut===void 0?Rt.gl.BACK:ut;B.cull={enable:!!Y,face:Ss[At]}}}},{key:"extractUniforms",value:function(F){var B=this,_={};return Object.keys(F).forEach(function(Y){B.extractUniformsRecursively(Y,F[Y],_,"")}),_}},{key:"extractUniformsRecursively",value:function(F,B,_,Y){var ut=this;if(B===null||typeof B=="number"||typeof B=="boolean"||Array.isArray(B)&&typeof B[0]=="number"||ou()(B)||B===""||"resize"in B){_["".concat(Y&&Y+".").concat(F)]=B;return}gu()(B)&&Object.keys(B).forEach(function(At){ut.extractUniformsRecursively(At,B[At],_,"".concat(Y&&Y+".").concat(F))}),Array.isArray(B)&&B.forEach(function(At,Ct){Object.keys(At).forEach(function(Yt){ut.extractUniformsRecursively(Yt,At[Yt],_,"".concat(Y&&Y+".").concat(F,"[").concat(Ct,"]"))})})}}]),I}(),Nu=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"texture",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0);var B=F.data,_=F.type,Y=_===void 0?Rt.gl.UNSIGNED_BYTE:_,ut=F.width,At=F.height,Ct=F.flipY,Yt=Ct===void 0?!1:Ct,me=F.format,fe=me===void 0?Rt.gl.RGBA:me,qe=F.mipmap,dr=qe===void 0?!1:qe,tn=F.wrapS,mn=tn===void 0?Rt.gl.CLAMP_TO_EDGE:tn,Zn=F.wrapT,ii=Zn===void 0?Rt.gl.CLAMP_TO_EDGE:Zn,bi=F.aniso,Bi=bi===void 0?0:bi,Ni=F.alignment,la=Ni===void 0?1:Ni,Qi=F.premultiplyAlpha,Ji=Qi===void 0?!1:Qi,Ca=F.mag,Ga=Ca===void 0?Rt.gl.NEAREST:Ca,oo=F.min,Oo=oo===void 0?Rt.gl.NEAREST:oo,ko=F.colorSpace,zs=ko===void 0?Rt.gl.BROWSER_DEFAULT_WEBGL:ko;this.width=ut,this.height=At;var Ju={width:ut,height:At,type:uo[Y],format:Zo[fe],wrapS:fs[mn],wrapT:fs[ii],mag:go[Ga],min:go[Oo],alignment:la,flipY:Yt,colorSpace:es[zs],premultiplyAlpha:Ji,aniso:Bi};B&&(Ju.data=B),typeof dr=="number"?Ju.mipmap=Qa[dr]:typeof dr=="boolean"&&(Ju.mipmap=dr),this.texture=z.texture(Ju)}return(0,Ve.Z)(I,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.texture(F)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(F){var B=F.width,_=F.height;this.texture.resize(B,_),this.width=B,this.height=_}},{key:"destroy",value:function(){this.texture.destroy()}}]),I}(),su,Pu,vu=(su=(0,$a.b2)(),su(Pu=function(){function I(){var z=this;(0,Se.Z)(this,I),(0,O.Z)(this,"extensionObject",void 0),(0,O.Z)(this,"gl",void 0),(0,O.Z)(this,"$container",void 0),(0,O.Z)(this,"canvas",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"isDirty",void 0),(0,O.Z)(this,"createModel",function(F){return new Ws(z.gl,F)}),(0,O.Z)(this,"createAttribute",function(F){return new au(z.gl,F)}),(0,O.Z)(this,"createBuffer",function(F){return new Ns(z.gl,F)}),(0,O.Z)(this,"createElements",function(F){return new Fs(z.gl,F)}),(0,O.Z)(this,"createTexture2D",function(F){return new Nu(z.gl,F)}),(0,O.Z)(this,"createFramebuffer",function(F){return new bu(z.gl,F)}),(0,O.Z)(this,"useFramebuffer",function(F,B){z.gl({framebuffer:F?F.get():null})(B)}),(0,O.Z)(this,"clear",function(F){var B=F.color,_=F.depth,Y=F.stencil,ut=F.framebuffer,At=ut===void 0?null:ut,Ct={color:B,depth:_,stencil:Y};Ct.framebuffer=At===null?At:At.get(),z.gl.clear(Ct)}),(0,O.Z)(this,"viewport",function(F){var B=F.x,_=F.y,Y=F.width,ut=F.height;z.gl._gl.viewport(B,_,Y,ut),z.width=Y,z.height=ut,z.gl._refresh()}),(0,O.Z)(this,"readPixels",function(F){var B=F.framebuffer,_=F.x,Y=F.y,ut=F.width,At=F.height,Ct={x:_,y:Y,width:ut,height:At};return B&&(Ct.framebuffer=B.get()),z.gl.read(Ct)}),(0,O.Z)(this,"getViewportSize",function(){return{width:z.gl._gl.drawingBufferWidth,height:z.gl._gl.drawingBufferHeight}}),(0,O.Z)(this,"getContainer",function(){var F;return(F=z.canvas)===null||F===void 0?void 0:F.parentElement}),(0,O.Z)(this,"getCanvas",function(){return z.canvas}),(0,O.Z)(this,"getGLContext",function(){return z.gl._gl}),(0,O.Z)(this,"destroy",function(){z.gl.destroy()})}return(0,Ve.Z)(I,[{key:"init",value:function(){var z=(0,is.Z)(as().mark(function B(_,Y){var ut=this;return as().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return this.canvas=_,Ct.next=3,new Promise(function(Yt,me){pu()({canvas:ut.canvas,attributes:{alpha:!0,antialias:Y.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:Y.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(qe,dr){(qe||!dr)&&me(qe),Yt(dr)}})});case 3:this.gl=Ct.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return Ct.stop()}},B,this)}));function F(B,_){return z.apply(this,arguments)}return F}()},{key:"testExtension",value:function(F){return!!this.getGLContext().getExtension(F)}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var F=this.getGLContext();F.disable(F.CULL_FACE)}},{key:"setDirty",value:function(F){this.isDirty=F}},{key:"getDirty",value:function(){return this.isDirty}}]),I}())||Pu);function Es(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function mu(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Es(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Es(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var Ou=function(){function I(z){(0,Se.Z)(this,I),(0,O.Z)(this,"sceneService",void 0),(0,O.Z)(this,"mapService",void 0),(0,O.Z)(this,"controlService",void 0),(0,O.Z)(this,"layerService",void 0),(0,O.Z)(this,"iconService",void 0),(0,O.Z)(this,"markerService",void 0),(0,O.Z)(this,"popupService",void 0),(0,O.Z)(this,"fontService",void 0),(0,O.Z)(this,"interactionService",void 0),(0,O.Z)(this,"container",void 0);var F=z.id,B=z.map,_=(0,Rt.Hp)();this.container=_,B.setContainer(_,F),_.bind(Rt.vK.IRendererService).to(vu).inSingletonScope(),this.sceneService=_.get(Rt.vK.ISceneService),this.mapService=_.get(Rt.vK.IMapService),this.iconService=_.get(Rt.vK.IIconService),this.fontService=_.get(Rt.vK.IFontService),this.controlService=_.get(Rt.vK.IControlService),this.layerService=_.get(Rt.vK.ILayerService),this.markerService=_.get(Rt.vK.IMarkerService),this.interactionService=_.get(Rt.vK.IInteractionService),this.popupService=_.get(Rt.vK.IPopupService),this.initComponent(F),this.sceneService.init(z),this.initControl()}return(0,Ve.Z)(I,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(F){return this.sceneService.exportPng(F)}},{key:"exportMap",value:function(F){return this.sceneService.exportPng(F)}},{key:"registerRenderService",value:function(F){var B=this;if(this.sceneService.loaded){var _=new F(this);_.init()}else this.on("loaded",function(){var Y=new F(B);Y.init()})}},{key:"map",get:function(){return this.mapService.map}},{key:"setBgColor",value:function(F){this.mapService.setBgColor(F)}},{key:"addLayer",value:function(F){var B=(0,Rt.e7)(this.container);F.setContainer(B,this.container),this.sceneService.addLayer(F)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(F){return this.layerService.getLayer(F)}},{key:"getLayerByName",value:function(F){return this.layerService.getLayerByName(F)}},{key:"removeLayer",value:function(F,B){this.layerService.remove(F,B)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addIconFont",value:function(F,B){this.fontService.addIconFont(F,B)}},{key:"addIconFonts",value:function(F){var B=this;F.forEach(function(_){var Y=(0,Sa.Z)(_,2),ut=Y[0],At=Y[1];B.fontService.addIconFont(ut,At)})}},{key:"addFontFace",value:function(F,B){this.sceneService.addFontFace(F,B)}},{key:"addImage",value:function(F,B){this.iconService.addImage(F,B)}},{key:"hasImage",value:function(F){return this.iconService.hasImage(F)}},{key:"removeImage",value:function(F){this.iconService.removeImage(F)}},{key:"addIconFontGlyphs",value:function(F,B){this.fontService.addIconGlyphs(B)}},{key:"addControl",value:function(F){this.controlService.addControl(F,this.container)}},{key:"removeControl",value:function(F){this.controlService.removeControl(F)}},{key:"getControlByName",value:function(F){return this.controlService.getControlByName(F)}},{key:"addMarker",value:function(F){this.markerService.addMarker(F)}},{key:"addMarkerLayer",value:function(F){this.markerService.addMarkerLayer(F)}},{key:"removeMarkerLayer",value:function(F){this.markerService.removeMarkerLayer(F)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(F){this.popupService.addPopup(F)}},{key:"on",value:function(F,B){Rt.SceneEventList.indexOf(F)===-1?this.mapService.on(F,B):this.sceneService.on(F,B)}},{key:"once",value:function(F,B){Rt.SceneEventList.indexOf(F)===-1?this.mapService.once(F,B):this.sceneService.once(F,B)}},{key:"off",value:function(F,B){Rt.SceneEventList.indexOf(F)===-1?this.mapService.off(F,B):this.sceneService.off(F,B)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(F){return this.mapService.getCenter(F)}},{key:"setCenter",value:function(F,B){return this.mapService.setCenter(F,B)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(F){return this.mapService.setPitch(F)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(F){this.mapService.setRotation(F)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(F){this.mapService.panTo(F)}},{key:"panBy",value:function(F,B){this.mapService.panBy(F,B)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(F){this.mapService.setZoom(F)}},{key:"fitBounds",value:function(F,B){var _=this.sceneService.getSceneConfig(),Y=_.fitBoundsOptions,ut=_.animate;this.mapService.fitBounds(F,B||mu(mu({},Y),{},{animate:ut}))}},{key:"setZoomAndCenter",value:function(F,B){this.mapService.setZoomAndCenter(F,B)}},{key:"setMapStyle",value:function(F){this.mapService.setMapStyle(F)}},{key:"setMapStatus",value:function(F){this.mapService.setMapStatus(F)}},{key:"pixelToLngLat",value:function(F){return this.mapService.pixelToLngLat(F)}},{key:"lngLatToPixel",value:function(F){return this.mapService.lngLatToPixel(F)}},{key:"containerToLngLat",value:function(F){return this.mapService.containerToLngLat(F)}},{key:"lngLatToContainer",value:function(F){return this.mapService.lngLatToContainer(F)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(F,B){this.container.bind(Rt.vK.IPostProcessingPass).to(F).whenTargetNamed(B)}},{key:"initComponent",value:function(F){this.controlService.init({container:wr.SO.getContainer(F)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var F=this.sceneService.getSceneConfig(),B=F.logoVisible,_=F.logoPosition;B&&this.addControl(new Pn({position:_}))}}]),I}(),Gs=S(81253),Co=S(55770),cs=S(3473),us=S(13218),lo=S.n(us),_s,jo,Wo,Vs,uu;function tu(I){return I.map(function(z){return typeof z=="string"&&(z=[z,{}]),z})}var Hs=(_s=(0,$a.b2)(),jo=(0,$a.f3)(Rt.vK.IGlobalConfigService),_s(Wo=(Vs=function(){function I(){(0,Se.Z)(this,I),(0,Co.Z)(this,"configService",uu,this),(0,O.Z)(this,"enabled",void 0)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=this,Y=B.rendererService,ut=B.postProcessingPassFactory,At=B.normalPassFactory;F.hooks.init.tap("MultiPassRendererPlugin",function(){var Ct=F.getLayerConfig(),Yt=Ct.enableMultiPassRenderer,me=Ct.passes,fe=me===void 0?[]:me;_.enabled=!!Yt&&F.getLayerConfig().enableMultiPassRenderer!==!1,_.enabled&&(F.multiPassRenderer=_.createMultiPassRenderer(F,fe,ut,At),F.multiPassRenderer.setRenderFlag(!0))}),F.hooks.beforeRender.tap("MultiPassRendererPlugin",function(){})}},{key:"createMultiPassRenderer",value:function(F,B,_,Y){var ut=F.multiPassRenderer,At=F.getLayerConfig(),Ct=At.enablePicking,Yt=At.enableTAA;return Ct&&ut.add(Y("pixelPicking")),ut}}]),I}(),uu=(0,cs.Z)(Vs.prototype,"configService",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs))||Wo),bs,ps=(bs={},(0,O.Z)(bs,Rt.BlendType.additive,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE,srcAlpha:1,dstAlpha:1}}),(0,O.Z)(bs,Rt.BlendType.none,{enable:!1}),(0,O.Z)(bs,Rt.BlendType.normal,{enable:!0,func:{srcRGB:Rt.gl.SRC_ALPHA,dstRGB:Rt.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),(0,O.Z)(bs,Rt.BlendType.subtractive,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE,srcAlpha:Rt.gl.ZERO,dstAlpha:Rt.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:Rt.gl.FUNC_SUBTRACT,alpha:Rt.gl.FUNC_SUBTRACT}}),(0,O.Z)(bs,Rt.BlendType.max,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE},equation:{rgb:Rt.gl.MAX_EXT}}),(0,O.Z)(bs,Rt.BlendType.min,{enable:!0,func:{srcRGB:Rt.gl.ONE,dstRGB:Rt.gl.ONE},equation:{rgb:Rt.gl.MIN_EXT}}),bs),Ut=S(81763),Xt=S.n(Ut),Ze=S(1469),Ie=S.n(Ze),xr=1024;function Zr(I,z,F,B,_){z.updateStyleAttribute(I,F,B,_)}function sn(I,z){I.opacity&&Mn("opacity",z,I.opacity),I.strokeWidth&&Mn("strokeWidth",z,I.strokeWidth),I.strokeOpacity&&Mn("strokeOpacity",z,I.strokeOpacity),I.stroke&&kn("stroke",z,I.stroke),I.offsets&&In("offsets",z,I.offsets),I.textOffset&&In("textOffset",z,I.textOffset)}function Mn(I,z,F){pn()(F)?Zr(I,z,F,function(B){return B}):Xt()(F)?Zr(I,z,[F],void 0):Ie()(F)&&F.length===2?pn()(F[0])&&Dn()(F[1])||pn()(F[0])&&Ie()(F[1])&&Xt()(F[1][0])&&Xt()(F[1][1])?Zr(I,z,F[0],F[1]):Zr(I,z,[1],void 0):Zr(I,z,[1],void 0)}function In(I,z,F){pn()(F)?Zr(I,z,F,function(B){return B}):Ie()(F)&&F.length===2&&pn()(F[0])&&Dn()(F[1])?Zr(I,z,F[0],F[1]):Ie()(F)&&F.length===2&&Xt()(F[0])&&Xt()(F[1])?Zr(I,z,F,void 0):Zr(I,z,[0,0],void 0)}function kn(I,z,F){pn()(F)?Zr(I,z,F,void 0):Ie()(F)&&F.length===2&&(pn()(F[0])&&Dn()(F[1])||pn()(F[0])&&Ie()(F[1])&&F[1].length>0)?Zr(I,z,F[0],F[1]):Zr(I,z,"#fff",void 0)}var nn,wn,bt,jt,Jt;function re(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=st(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function st(I,z){if(!!I){if(typeof I=="string")return Et(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Et(I,z)}}function Et(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}function _t(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function wt(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?_t(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):_t(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}function Qt(I){var z=Pe();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Pe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ve=0,we=(nn=(0,Rt.yT)(Rt.vK.IGlobalConfigService),wn=(0,Rt.yT)(Rt.vK.IShaderModuleService),bt=function(I){(0,vr.Z)(F,I);var z=Qt(F);function F(){var B,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Se.Z)(this,F),B=z.call(this),(0,O.Z)((0,le.Z)(B),"id","".concat(ve++)),(0,O.Z)((0,le.Z)(B),"name","".concat(ve)),(0,O.Z)((0,le.Z)(B),"type",void 0),(0,O.Z)((0,le.Z)(B),"visible",!0),(0,O.Z)((0,le.Z)(B),"zIndex",0),(0,O.Z)((0,le.Z)(B),"minZoom",void 0),(0,O.Z)((0,le.Z)(B),"maxZoom",void 0),(0,O.Z)((0,le.Z)(B),"inited",!1),(0,O.Z)((0,le.Z)(B),"layerModelNeedUpdate",!1),(0,O.Z)((0,le.Z)(B),"pickedFeatureID",null),(0,O.Z)((0,le.Z)(B),"selectedFeatureID",null),(0,O.Z)((0,le.Z)(B),"styleNeedUpdate",!1),(0,O.Z)((0,le.Z)(B),"rendering",void 0),(0,O.Z)((0,le.Z)(B),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,O.Z)((0,le.Z)(B),"hooks",{init:new ar.oI,afterInit:new ar.oI,beforeRender:new ar.oI,beforeRenderData:new ar.gg,afterRender:new ar.ni,beforePickingEncode:new ar.ni,afterPickingEncode:new ar.ni,beforeHighlight:new ar.ni(["pickedColor"]),afterHighlight:new ar.ni,beforeSelect:new ar.ni(["pickedColor"]),afterSelect:new ar.ni,beforeDestroy:new ar.ni,afterDestroy:new ar.ni}),(0,O.Z)((0,le.Z)(B),"models",[]),(0,O.Z)((0,le.Z)(B),"multiPassRenderer",void 0),(0,O.Z)((0,le.Z)(B),"plugins",void 0),(0,O.Z)((0,le.Z)(B),"sourceOption",void 0),(0,O.Z)((0,le.Z)(B),"layerModel",void 0),(0,O.Z)((0,le.Z)(B),"sceneContainer",void 0),(0,O.Z)((0,le.Z)(B),"layerChildren",[]),(0,Co.Z)((0,le.Z)(B),"configService",jt,(0,le.Z)(B)),(0,Co.Z)((0,le.Z)(B),"shaderModuleService",Jt,(0,le.Z)(B)),(0,O.Z)((0,le.Z)(B),"cameraService",void 0),(0,O.Z)((0,le.Z)(B),"coordinateService",void 0),(0,O.Z)((0,le.Z)(B),"iconService",void 0),(0,O.Z)((0,le.Z)(B),"fontService",void 0),(0,O.Z)((0,le.Z)(B),"pickingService",void 0),(0,O.Z)((0,le.Z)(B),"rendererService",void 0),(0,O.Z)((0,le.Z)(B),"layerService",void 0),(0,O.Z)((0,le.Z)(B),"interactionService",void 0),(0,O.Z)((0,le.Z)(B),"mapService",void 0),(0,O.Z)((0,le.Z)(B),"styleAttributeService",void 0),(0,O.Z)((0,le.Z)(B),"layerSource",void 0),(0,O.Z)((0,le.Z)(B),"postProcessingPassFactory",void 0),(0,O.Z)((0,le.Z)(B),"normalPassFactory",void 0),(0,O.Z)((0,le.Z)(B),"animateOptions",{enable:!1}),(0,O.Z)((0,le.Z)(B),"container",void 0),(0,O.Z)((0,le.Z)(B),"encodedData",void 0),(0,O.Z)((0,le.Z)(B),"configSchema",void 0),(0,O.Z)((0,le.Z)(B),"currentPickId",null),(0,O.Z)((0,le.Z)(B),"rawConfig",void 0),(0,O.Z)((0,le.Z)(B),"needUpdateConfig",void 0),(0,O.Z)((0,le.Z)(B),"pendingStyleAttributes",[]),(0,O.Z)((0,le.Z)(B),"scaleOptions",{}),(0,O.Z)((0,le.Z)(B),"animateStartTime",void 0),(0,O.Z)((0,le.Z)(B),"aniamateStatus",!1),(0,O.Z)((0,le.Z)(B),"sourceEvent",function(){B.dataState.dataSourceNeedUpdate=!0;var Y=B.getLayerConfig(),ut=Y.autoFit,At=Y.fitBoundsOptions;ut&&B.fitBounds(At),B.emit("dataUpdate"),B.reRender()}),B.name=_.name||B.id,B.zIndex=_.zIndex||0,B.rawConfig=_,B}return(0,Ve.Z)(F,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(_){if(!this.inited)this.needUpdateConfig=wt(wt({},this.needUpdateConfig),_);else{var Y=this.container.get(Rt.vK.SceneID);sn(_,this),this.configService.setLayerConfig(Y,this.id,wt(wt(wt({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),_)),this.needUpdateConfig={}}}},{key:"setContainer",value:function(_,Y){this.container=_,this.sceneContainer=Y}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(_){return this.plugins.push(_),this}},{key:"init",value:function(){var _=this,Y=this.container.get(Rt.vK.SceneID),ut=this.rawConfig.enableMultiPassRenderer,At=ut===void 0?!1:ut;this.configService.setLayerConfig(Y,this.id,{enableMultiPassRenderer:At}),this.iconService=this.container.get(Rt.vK.IIconService),this.fontService=this.container.get(Rt.vK.IFontService),this.rendererService=this.container.get(Rt.vK.IRendererService),this.layerService=this.container.get(Rt.vK.ILayerService),this.interactionService=this.container.get(Rt.vK.IInteractionService),this.pickingService=this.container.get(Rt.vK.IPickingService),this.mapService=this.container.get(Rt.vK.IMapService),this.cameraService=this.container.get(Rt.vK.ICameraService),this.coordinateService=this.container.get(Rt.vK.ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(Rt.vK.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(Rt.vK.IFactoryNormalPass),this.styleAttributeService=this.container.get(Rt.vK.IStyleAttributeService),this.multiPassRenderer=this.container.get(Rt.vK.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach(function(fe){var qe=fe.attributeName,dr=fe.attributeField,tn=fe.attributeValues,mn=fe.updateOptions;_.styleAttributeService.updateStyleAttribute(qe,{scale:wt({field:dr},_.splitValuesAndCallbackInAttribute(tn,_.getLayerConfig()[qe]))},mn)}),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(Rt.vK.ILayerPlugin);var Ct=re(this.plugins),Yt;try{for(Ct.s();!(Yt=Ct.n()).done;){var me=Yt.value;me.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(fe){Ct.e(fe)}finally{Ct.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(wt(wt({},this.getDefaultConfig()),this.rawConfig));var _=this.getLayerConfig(),Y=_.animateOption;Y!=null&&Y.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(_,Y,ut){return this.updateStyleAttribute("color",_,Y,ut),this}},{key:"texture",value:function(_,Y,ut){return this.updateStyleAttribute("texture",_,Y,ut),this}},{key:"rotate",value:function(_,Y,ut){return this.updateStyleAttribute("rotate",_,Y,ut),this}},{key:"size",value:function(_,Y,ut){return this.updateStyleAttribute("size",_,Y,ut),this}},{key:"filter",value:function(_,Y,ut){return this.updateStyleAttribute("filter",_,Y,ut),this}},{key:"shape",value:function(_,Y,ut){return this.updateStyleAttribute("shape",_,Y,ut),this}},{key:"label",value:function(_,Y,ut){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:_,attributeValues:Y,updateOptions:ut}),this}},{key:"animate",value:function(_){var Y={};return lo()(_)?(Y.enable=!0,Y=wt(wt({},Y),_)):Y.enable=_,this.updateLayerConfig({animateOption:Y}),this}},{key:"source",value:function(_,Y){return _!=null&&_.data?(this.setSource(_),this):(this.sourceOption={data:_,options:Y},this)}},{key:"setData",value:function(_,Y){var ut=this;return this.inited?this.layerSource.setData(_,Y):this.on("inited",function(){ut.layerSource.setData(_,Y)}),this}},{key:"style",value:function(_){var Y=this,ut=_.passes,At=(0,Gs.Z)(_,["passes"]);return ut&&tu(ut).forEach(function(Ct){var Yt=Y.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(Ct[0]);Yt&&Yt.updateOptions(Ct[1])}),this.rawConfig=wt(wt({},this.rawConfig),At),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(_,Y){return lo()(_)?this.scaleOptions=wt(wt({},this.scaleOptions),_):this.scaleOptions[_]=Y,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return this.getEncodedData().length!==0&&this.renderModels(),this}},{key:"active",value:function(_){var Y={};return Y.enableHighlight=lo()(_)?!0:_,lo()(_)?(Y.enableHighlight=!0,_.color&&(Y.highlightColor=_.color)):Y.enableHighlight=!!_,this.updateLayerConfig(Y),this}},{key:"setActive",value:function(_,Y){var ut=this;if(lo()(_)){var At=_.x,Ct=At===void 0?0:At,Yt=_.y,me=Yt===void 0?0:Yt;this.updateLayerConfig({highlightColor:lo()(Y)?Y.color:this.getLayerConfig().highlightColor}),this.pick({x:Ct,y:me})}else this.updateLayerConfig({pickedFeatureID:_,highlightColor:lo()(Y)?Y.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call((0,wr.Z6)(_)).then(function(){setTimeout(function(){ut.reRender()},1)})}},{key:"select",value:function(_){var Y={};return Y.enableSelect=lo()(_)?!0:_,lo()(_)?(Y.enableSelect=!0,_.color&&(Y.selectColor=_.color)):Y.enableSelect=!!_,this.updateLayerConfig(Y),this}},{key:"setSelect",value:function(_,Y){var ut=this;if(lo()(_)){var At=_.x,Ct=At===void 0?0:At,Yt=_.y,me=Yt===void 0?0:Yt;this.updateLayerConfig({selectColor:lo()(Y)?Y.color:this.getLayerConfig().selectColor}),this.pick({x:Ct,y:me})}else this.updateLayerConfig({pickedFeatureID:_,selectColor:lo()(Y)?Y.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call((0,wr.Z6)(_)).then(function(){setTimeout(function(){ut.reRender()},1)})}},{key:"setBlend",value:function(_){this.updateLayerConfig({blend:_}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(_){return this.zIndex=_,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(_){this.currentPickId=_}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(_){this.selectedFeatureID=_}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var _=this.mapService.getZoom(),Y=this.getLayerConfig(),ut=Y.visible,At=Y.minZoom,Ct=At===void 0?-Infinity:At,Yt=Y.maxZoom,me=Yt===void 0?Infinity:Yt;return!!ut&&_>=Ct&&_<=me}},{key:"setMinZoom",value:function(_){return this.updateLayerConfig({minZoom:_}),this}},{key:"getMinZoom",value:function(){var _=this.getLayerConfig(),Y=_.minZoom;return Y}},{key:"getMaxZoom",value:function(){var _=this.getLayerConfig(),Y=_.maxZoom;return Y}},{key:"get",value:function(_){var Y=this.getLayerConfig();return Y[_]}},{key:"setMaxZoom",value:function(_){return this.updateLayerConfig({maxZoom:_}),this}},{key:"fitBounds",value:function(_){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var Y=this.getSource(),ut=Y.extent,At=ut.some(function(Ct){return Math.abs(Ct)===Infinity});return At?this:(this.mapService.fitBounds([[ut[0],ut[1]],[ut[2],ut[3]]],_),this)}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach(function(_){return _.destroy()}),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(function(_){return _.needRescale||_.needRemapping||_.needRegenerateVertices}).length}},{key:"setSource",value:function(_){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=_,this.inited&&this.layerSource.cluster){var Y=this.mapService.getZoom();this.layerSource.updateClusterData(Y)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(_){this.encodedData=_}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getLegendItems",value:function(_){var Y=this.styleAttributeService.getLayerAttributeScale(_);if(Y){if(Y.ticks){var ut=Y.ticks().map(function(Ct){return(0,O.Z)({value:Ct},_,Y(Ct))});return ut}else if(Y.invertExtent){var At=Y.range().map(function(Ct){return(0,O.Z)({value:Y.invertExtent(Ct)},_,Ct)});return At}}else return[]}},{key:"pick",value:function(_){var Y=_.x,ut=_.y;this.interactionService.triggerHover({x:Y,y:ut})}},{key:"boxSelect",value:function(_,Y){this.pickingService.boxPickLayer(this,_,Y)}},{key:"buildLayerModel",value:function(_){var Y=_.moduleName,ut=_.vertexShader,At=_.fragmentShader,Ct=_.triangulation,Yt=_.segmentNumber,me=(0,Gs.Z)(_,["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber"]);this.shaderModuleService.registerModule(Y,{vs:ut,fs:At});var fe=this.shaderModuleService.getModule(Y),qe=fe.vs,dr=fe.fs,tn=fe.uniforms,mn=this.rendererService.createModel,Zn=this.styleAttributeService.createAttributesAndIndices(this.encodedData,Ct,Yt),ii=Zn.attributes,bi=Zn.elements;return mn(wt({attributes:ii,uniforms:tn,fs:dr,vs:qe,elements:bi,blend:ps[Rt.BlendType.normal]},me))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(_){var Y=this.getLayerConfig(),ut=Y.enableHighlight,At=ut===void 0?!0:ut,Ct=Y.enableSelect,Yt=Ct===void 0?!0:Ct,me=this.eventNames().indexOf(_)!==-1||this.eventNames().indexOf("un"+_)!==-1;return(_==="click"||_==="dblclick")&&Yt&&(me=!0),_==="mousemove"&&(At||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(me=!0),this.isVisible()&&me}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var _=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach(function(Y){Y.draw({uniforms:_.layerModel.getUninforms()})})),this}},{key:"updateStyleAttribute",value:function(_,Y,ut,At){this.inited?this.styleAttributeService.updateStyleAttribute(_,{scale:wt({field:Y},this.splitValuesAndCallbackInAttribute(ut,this.getLayerConfig()[Y]))},At):this.pendingStyleAttributes.push({attributeName:_,attributeField:Y,attributeValues:ut,updateOptions:At})}},{key:"setEarthTime",value:function(_){console.warn("empty fn")}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(_,Y){return{values:Dn()(_)?void 0:_||Y,callback:Dn()(_)?_:void 0}}}]),F}(kr.EventEmitter),jt=(0,cs.Z)(bt.prototype,"configService",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=(0,cs.Z)(bt.prototype,"shaderModuleService",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt),Re=S(18446),Qe=S.n(Re),Ye=S(2650),Cr,gr,Ur,pr,Fr;function Hr(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Sn(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function Sn(I,z){if(!!I){if(typeof I=="string")return Nn(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Nn(I,z)}}function Nn(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}var cn=(Cr=(0,Rt.yT)(Rt.vK.IGlobalConfigService),gr=(0,Rt.yT)(Rt.vK.IShaderModuleService),Ur=function(){function I(z){(0,Se.Z)(this,I),(0,O.Z)(this,"triangulation",void 0),(0,O.Z)(this,"createTexture2D",void 0),(0,O.Z)(this,"layer",void 0),(0,O.Z)(this,"dataTexture",void 0),(0,O.Z)(this,"DATA_TEXTURE_WIDTH",void 0),(0,O.Z)(this,"rowCount",void 0),(0,O.Z)(this,"cacheStyleProperties",void 0),(0,O.Z)(this,"cellLength",void 0),(0,O.Z)(this,"cellProperties",void 0),(0,O.Z)(this,"cellTypeLayout",void 0),(0,O.Z)(this,"stylePropertyesExist",void 0),(0,O.Z)(this,"dataTextureTest",void 0),(0,Co.Z)(this,"configService",pr,this),(0,Co.Z)(this,"shaderModuleService",Fr,this),(0,O.Z)(this,"rendererService",void 0),(0,O.Z)(this,"iconService",void 0),(0,O.Z)(this,"fontService",void 0),(0,O.Z)(this,"styleAttributeService",void 0),(0,O.Z)(this,"mapService",void 0),(0,O.Z)(this,"cameraService",void 0),(0,O.Z)(this,"layerService",void 0),this.layer=z,this.rendererService=z.getContainer().get(Rt.vK.IRendererService),this.styleAttributeService=z.getContainer().get(Rt.vK.IStyleAttributeService),this.mapService=z.getContainer().get(Rt.vK.IMapService),this.iconService=z.getContainer().get(Rt.vK.IIconService),this.fontService=z.getContainer().get(Rt.vK.IFontService),this.cameraService=z.getContainer().get(Rt.vK.ICameraService),this.layerService=z.getContainer().get(Rt.vK.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var F=this.rendererService.createTexture2D;this.createTexture2D=F,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new ImageData(1,1).data,mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,width:1,height:1}))}return(0,Ve.Z)(I,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,0,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(F){var B=!1;return Qe()(F.opacity,this.cacheStyleProperties.opacity)||(B=!0,this.cacheStyleProperties.opacity=F.opacity),Qe()(F.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(B=!0,this.cacheStyleProperties.strokeOpacity=F.strokeOpacity),Qe()(F.strokeWidth,this.cacheStyleProperties.strokeWidth)||(B=!0,this.cacheStyleProperties.strokeWidth=F.strokeWidth),Qe()(F.stroke,this.cacheStyleProperties.stroke)||(B=!0,this.cacheStyleProperties.stroke=F.stroke),Qe()(F.offsets,this.cacheStyleProperties.offsets)||(B=!0,this.cacheStyleProperties.offsets=F.offsets),this.dataTexture===void 0&&(B=!0),B}},{key:"judgeStyleAttributes",value:function(F){this.clearLastCalRes(),F.opacity!==void 0&&!Xt()(F.opacity)&&(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),F.strokeOpacity!==void 0&&!Xt()(F.strokeOpacity)&&(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),F.strokeWidth!==void 0&&!Xt()(F.strokeWidth)&&(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),F.stroke!==void 0&&!this.isStaticColor(F.stroke)&&(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),F.offsets!==void 0&&!this.isOffsetStatic(F.offsets)&&(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2)}},{key:"isStaticColor",value:function(F){return pn()(F)?!!(0,Ye.ZP)(F):!1}},{key:"getStrokeColor",value:function(F){if(this.isStaticColor(F)){var B=(0,wr.CI)(F);return B[0]=B[0]?B[0]:0,B[1]=B[1]?B[1]:0,B[2]=B[2]?B[2]:0,B[3]=B[3]?B[3]:0,B}else return[0,0,0,0]}},{key:"isOffsetStatic",value:function(F){return!!(Ie()(F)&&F.length===2&&Xt()(F[0])&&Xt()(F[1]))}},{key:"patchMod",value:function(F,B){for(var _=0;_<B;_++)F.push(-1)}},{key:"patchData",value:function(F,B,_){var Y=Hr(_),ut;try{for(Y.s();!(ut=Y.n()).done;){var At=ut.value,Ct=At.attr,Yt=At.count,me=B[Ct];me?Ct==="stroke"?F.push.apply(F,(0,L.Z)((0,wr.CI)(me))):Ct==="offsets"?this.isOffsetStatic(me)?F.push(-me[0],me[1]):F.push(0,0):F.push(Xt()(me)?me:1):this.patchMod(F,Yt)}}catch(fe){Y.e(fe)}finally{Y.f()}}},{key:"calDataFrame",value:function(F,B,_){for(var Y=B.length,ut=Math.ceil(Y*F/this.DATA_TEXTURE_WIDTH),At=ut*this.DATA_TEXTURE_WIDTH,Ct=[],Yt=0;Yt<Y;Yt++){var me=B[Yt];this.patchData(Ct,me,_)}for(var fe=Ct.length;fe<At;fe++)Ct.push(-1);return{data:Ct,width:this.DATA_TEXTURE_WIDTH,height:ut}}},{key:"getBlend",value:function(){var F=this.layer.getLayerConfig(),B=F.blend,_=B===void 0?"normal":B;return ps[Rt.BlendType[_]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(F){return[F.enable?0:1,F.duration||4,F.interval||.2,F.trailLength||.1]}},{key:"startModelAnimate",value:function(){var F=this.layer.getLayerConfig(),B=F.animateOption;B.enable&&this.layer.setAnimateStartTime()}}]),I}(),pr=(0,cs.Z)(Ur.prototype,"configService",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=(0,cs.Z)(Ur.prototype,"shaderModuleService",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur),Fn=S(9187),qn=S.n(Fn),Ci=100,Ti=36,Oa=40;function va(I){return I/180*Math.acos(-1)}function ma(I){var z=va(I[0])+Math.PI/2,F=va(I[1]),B=Ci+Math.random()*.4,_=B*Math.cos(F)*Math.cos(z),Y=B*Math.cos(F)*Math.sin(z),ut=B*Math.sin(F);return[Y,ut,_]}function Bn(I,z){var F=mat4.create(),B=mat4.create(),_=vec3.fromValues(0,1,0),Y=vec3.fromValues(0,0,0);z=z||{},I=typeof I!="undefined"?I:1;for(var ut=typeof z.segments!="undefined"?z.segments:32,At=2+ut,Ct=2*At,Yt=[],me=[],fe=[],qe=[],dr=[],tn=[],mn=0;mn<=At;mn++){for(var Zn=mn/At,ii=Zn*Math.PI,bi=0;bi<=Ct;bi++){var Bi=bi/Ct,Ni=Bi*Math.PI*2;mat4.identity(B),mat4.rotateZ(B,B,-ii),mat4.identity(F),mat4.rotateY(F,F,Ni),vec3.transformMat4(Y,_,B),vec3.transformMat4(Y,Y,F),vec3.scale(Y,Y,-I),fe.push(Y.slice()),qe.push.apply(qe,_toConsumableArray(Y.slice())),vec3.normalize(Y,Y),dr.push.apply(dr,_toConsumableArray(Y.slice())),tn.push([Bi,1-Zn]),qe.push(Bi,1-Zn)}if(mn>0)for(var la=fe.length,Qi=la-2*(Ct+1);Qi+Ct+2<la;Qi++)Yt.push([Qi,Qi+1,Qi+Ct+1]),me.push(Qi,Qi+1,Qi+Ct+1),Yt.push([Qi+Ct+1,Qi+1,Qi+Ct+2]),me.push(Qi+Ct+1,Qi+1,Qi+Ct+2)}return{cells:Yt,positions:fe,uvs:tn,positionsArr:qe,indicesArr:me,normalArr:dr}}var ci=S(31437),Ha=ci.Ue(),Wa=ci.Ue(),Xn=ci.Ue(),ja=ci.Ue(),fo=ci.Ue();function Do(I,z,F,B,_){ci.IH(I,F,B),ci.Fv(I,I),z=ci.al(-I[1],I[0]);var Y=ci.al(-F[1],F[0]);return[_/ci.AK(z,Y),z]}function Ro(I,z){return ci.t8(I,-z[1],z[0])}function Ys(I,z,F){return ci.lu(I,z,F),ci.Fv(I,I),I}function gs(I,z){return I[0]===z[0]&&I[1]===z[1]}function yu(I){for(var z=new Map,F=0;F<I.length;F++){var B=I[0].toString()+"-"+I[1].toString();z.get(B)?(I.splice(F,1),F++):z.set(B,B)}return I}var Tu=function(){function I(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Se.Z)(this,I),(0,O.Z)(this,"complex",void 0),(0,O.Z)(this,"join",void 0),(0,O.Z)(this,"cap",void 0),(0,O.Z)(this,"miterLimit",void 0),(0,O.Z)(this,"thickness",void 0),(0,O.Z)(this,"normal",void 0),(0,O.Z)(this,"lastFlip",-1),(0,O.Z)(this,"miter",ci.al(0,0)),(0,O.Z)(this,"started",!1),(0,O.Z)(this,"dash",!1),(0,O.Z)(this,"totalDistance",0),this.join=z.join||"miter",this.cap=z.cap||"butt",this.miterLimit=z.miterLimit||10,this.thickness=z.thickness||1,this.dash=z.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return(0,Ve.Z)(I,[{key:"extrude_gaode2",value:function(F,B){var _=this.complex;if(F.length<=1)return _;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var Y=F.length,ut=_.startIndex,At=1;At<Y;At++){var Ct=F[At-1],Yt=B[At-1],me=F[At],fe=B[At],qe=At<F.length-1?F[At+1]:null,dr=At<B.length-1?B[At+1]:null,tn=this.segment_gaode2(_,ut,Ct,me,qe,Yt,fe,dr);ut+=tn}if(this.dash)for(var mn=0;mn<_.positions.length/6;mn++)_.positions[mn*6+5]=this.totalDistance;return _.startIndex=_.positions.length/6,_}},{key:"extrude",value:function(F){var B=this.complex;if(F.length<=1)return B;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var _=F.length,Y=B.startIndex,ut=1;ut<_;ut++){var At=F[ut-1],Ct=F[ut],Yt=ut<F.length-1?F[ut+1]:null,me=this.segment(B,Y,At,Ct,Yt);Y+=me}if(this.dash)for(var fe=0;fe<B.positions.length/6;fe++)B.positions[fe*6+5]=this.totalDistance;return B.startIndex=B.positions.length/6,B}},{key:"segment_gaode2",value:function(F,B,_,Y,ut,At,Ct,Yt){var me=0,fe=F.indices,qe=F.positions,dr=F.normals,tn=this.cap==="square",mn=this.join==="bevel",Zn=(0,wr.Z)([Ct[0],Ct[1]]),ii=(0,wr.Z)([At[0],At[1]]);Ys(Xn,Y,_);var bi=0;if(this.dash&&(bi=this.lineSegmentDistance(Zn,ii),this.totalDistance+=bi),this.normal||(this.normal=ci.Ue(),Ro(this.normal,Xn)),!this.started)if(this.started=!0,tn){var Bi=ci.Ue(),Ni=ci.Ue();ci.IH(Bi,this.normal,Xn),ci.IH(Ni,this.normal,Xn),dr.push(Ni[0],Ni[1],0),dr.push(Bi[0],Bi[1],0),qe.push(_[0],_[1],0,this.totalDistance-bi,-this.thickness,0),qe.push(_[0],_[1],0,this.totalDistance-bi,this.thickness,0)}else this.extrusions(qe,dr,_,this.normal,this.thickness,this.totalDistance-bi);if(fe.push(B+0,B+1,B+2),ut){gs(Y,ut)&&ci.IH(ut,Y,ci.Fv(ut,ci.$X(ut,Y,_))),Ys(ja,ut,Y);var Ji=Do(fo,ci.Ue(),Xn,ja,this.thickness),Ca=(0,Sa.Z)(Ji,2),Ga=Ca[0],oo=Ca[1],Oo=ci.AK(fo,this.normal)<0?-1:1,ko=mn;if(!ko&&this.join==="miter"){var zs=Ga;zs>this.miterLimit&&(ko=!0)}ko?(dr.push(this.normal[0],this.normal[1],0),dr.push(oo[0],oo[1],0),qe.push(Y[0],Y[1],0,this.totalDistance,-this.thickness*Oo,0),qe.push(Y[0],Y[1],0,this.totalDistance,this.thickness*Oo,0),fe.push.apply(fe,(0,L.Z)(this.lastFlip!==-Oo?[B,B+2,B+3]:[B+2,B+1,B+3])),fe.push(B+2,B+3,B+4),Ro(Ha,ja),ci.JG(this.normal,Ha),dr.push(this.normal[0],this.normal[1],0),qe.push(Y[0],Y[1],0,this.totalDistance,-this.thickness*Oo,0),me+=3):(this.extrusions(qe,dr,Y,oo,Ga,this.totalDistance),fe.push.apply(fe,(0,L.Z)(this.lastFlip===1?[B,B+2,B+3]:[B+2,B+1,B+3])),Oo=-1,ci.JG(this.normal,oo),me+=2),this.lastFlip=Oo}else{if(Ro(this.normal,Xn),tn){var la=ci.Ue(),Qi=ci.Ue();ci.lu(Qi,Xn,this.normal),ci.IH(la,Xn,this.normal),dr.push(Qi[0],Qi[1],0),dr.push(la[0],la[1],0),qe.push(Y[0],Y[1],0,this.totalDistance,this.thickness,0),qe.push(Y[0],Y[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(qe,dr,Y,this.normal,this.thickness,this.totalDistance);fe.push.apply(fe,(0,L.Z)(this.lastFlip===1?[B,B+2,B+3]:[B+2,B+1,B+3])),me+=2}return me}},{key:"segment",value:function(F,B,_,Y,ut){var At=0,Ct=F.indices,Yt=F.positions,me=F.normals,fe=this.cap==="square",qe=this.join==="bevel",dr=(0,wr.Z)([Y[0],Y[1]]),tn=(0,wr.Z)([_[0],_[1]]);Ys(Xn,dr,tn);var mn=0;if(this.dash&&(mn=this.lineSegmentDistance(dr,tn),this.totalDistance+=mn),this.normal||(this.normal=ci.Ue(),Ro(this.normal,Xn)),!this.started)if(this.started=!0,fe){var Zn=ci.Ue(),ii=ci.Ue();ci.IH(Zn,this.normal,Xn),ci.IH(ii,this.normal,Xn),me.push(ii[0],ii[1],0),me.push(Zn[0],Zn[1],0),Yt.push(_[0],_[1],0,this.totalDistance-mn,-this.thickness,0),Yt.push(_[0],_[1],0,this.totalDistance-mn,this.thickness,0)}else this.extrusions(Yt,me,_,this.normal,this.thickness,this.totalDistance-mn);if(Ct.push(B+0,B+1,B+2),ut){var Ni=(0,wr.Z)([ut[0],ut[1]]);gs(dr,Ni)&&ci.IH(Ni,dr,ci.Fv(Ni,ci.$X(Ni,dr,tn))),Ys(ja,Ni,dr);var la=Do(fo,ci.Ue(),Xn,ja,this.thickness),Qi=(0,Sa.Z)(la,2),Ji=Qi[0],Ca=Qi[1],Ga=ci.AK(fo,this.normal)<0?-1:1,oo=qe;if(!oo&&this.join==="miter"){var Oo=Ji;Oo>this.miterLimit&&(oo=!0)}oo?(me.push(this.normal[0],this.normal[1],0),me.push(Ca[0],Ca[1],0),Yt.push(Y[0],Y[1],0,this.totalDistance,-this.thickness*Ga,0),Yt.push(Y[0],Y[1],0,this.totalDistance,this.thickness*Ga,0),Ct.push.apply(Ct,(0,L.Z)(this.lastFlip!==-Ga?[B,B+2,B+3]:[B+2,B+1,B+3])),Ct.push(B+2,B+3,B+4),Ro(Ha,ja),ci.JG(this.normal,Ha),me.push(this.normal[0],this.normal[1],0),Yt.push(Y[0],Y[1],0,this.totalDistance,-this.thickness*Ga,0),At+=3):(this.extrusions(Yt,me,Y,Ca,Ji,this.totalDistance),Ct.push.apply(Ct,(0,L.Z)(this.lastFlip===1?[B,B+2,B+3]:[B+2,B+1,B+3])),Ga=-1,ci.JG(this.normal,Ca),At+=2),this.lastFlip=Ga}else{if(Ro(this.normal,Xn),fe){var bi=ci.Ue(),Bi=ci.Ue();ci.lu(Bi,Xn,this.normal),ci.IH(bi,Xn,this.normal),me.push(Bi[0],Bi[1],0),me.push(bi[0],bi[1],0),Yt.push(Y[0],Y[1],0,this.totalDistance,this.thickness,0),Yt.push(Y[0],Y[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(Yt,me,Y,this.normal,this.thickness,this.totalDistance);Ct.push.apply(Ct,(0,L.Z)(this.lastFlip===1?[B,B+2,B+3]:[B+2,B+1,B+3])),At+=2}return At}},{key:"extrusions",value:function(F,B,_,Y,ut,At){B.push(Y[0],Y[1],0),B.push(Y[0],Y[1],0),F.push(_[0],_[1],0,At,-ut,0),F.push(_[0],_[1],0,At,ut,0)}},{key:"lineSegmentDistance",value:function(F,B){var _=B[0]-F[0],Y=B[1]-F[1];return Math.sqrt(_*_+Y*Y)}}]),I}();function lu(I){if(Xt()(I[0]))return I;if(Xt()(I[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(Xt()(I[0][0][0])){var z=I,F=0,B=0,_=0;return z.forEach(function(Y){Y.forEach(function(ut){F+=ut[0],B+=ut[1],_++})}),[F/_,B/_,0]}else throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}var eo=S(77160);function pt(I){var z=I[0][0],F=I[0][I[0].length-1];z[0]===F[0]&&z[1]===F[1]&&(I[0]=I[0].slice(0,I[0].length-1));for(var B=I[0].length,_=earcut.flatten(I),Y=_.vertices,ut=_.dimensions,At=[],Ct=[],Yt=0;Yt<Y.length/ut;Yt++)ut===2?At.push(Y[Yt*2],Y[Yt*2+1],1):At.push(Y[Yt*3],Y[Yt*3+1],1);var me=earcut(_.vertices,_.holes,_.dimensions);Ct.push.apply(Ct,_toConsumableArray(me));for(var fe=function(tn){var mn=_.vertices.slice(tn*ut,(tn+1)*ut),Zn=_.vertices.slice((tn+1)*ut,(tn+2)*ut);Zn.length===0&&(Zn=_.vertices.slice(0,ut));var ii=At.length/3;At.push(mn[0],mn[1],1,Zn[0],Zn[1],1,mn[0],mn[1],0,Zn[0],Zn[1],0),Ct.push.apply(Ct,_toConsumableArray([0,2,1,2,3,1].map(function(bi){return bi+ii})))},qe=0;qe<B;qe++)fe(qe);return{positions:At,index:Ct}}function mt(I){var z=earcut.flatten(I),F=earcut(z.vertices,z.holes,z.dimensions);return{positions:z.vertices,index:F}}function Pt(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=I[0][0],B=I[0][I[0].length-1];F[0]===B[0]&&F[1]===B[1]&&(I[0]=I[0].slice(0,I[0].length-1));for(var _=I[0].length,Y=qn().flatten(I),ut=Y.vertices,At=Y.dimensions,Ct=[],Yt=[],me=[],fe=0;fe<ut.length/At;fe++)At===2?Ct.push(ut[fe*2],ut[fe*2+1],1,-1,-1):Ct.push(ut[fe*3],ut[fe*3+1],1,-1,-1),me.push(0,0,1);var qe=qn()(Y.vertices,Y.holes,Y.dimensions);Yt.push.apply(Yt,(0,L.Z)(qe));for(var dr=function(Zn){var ii=Y.vertices.slice(Zn*At,(Zn+1)*At),bi=Y.vertices.slice((Zn+1)*At,(Zn+2)*At);bi.length===0&&(bi=Y.vertices.slice(0,At));var Bi=Ct.length/5;Ct.push(ii[0],ii[1],1,0,0,bi[0],bi[1],1,.1,0,ii[0],ii[1],0,0,.8,bi[0],bi[1],0,.1,.8);var Ni=It([bi[0],bi[1],1],[ii[0],ii[1],0],[ii[0],ii[1],1],z);me.push.apply(me,(0,L.Z)(Ni).concat((0,L.Z)(Ni),(0,L.Z)(Ni),(0,L.Z)(Ni))),Yt.push.apply(Yt,(0,L.Z)([1,2,0,3,2,1].map(function(la){return la+Bi})))},tn=0;tn<_;tn++)dr(tn);return{positions:Ct,index:Yt,normals:me}}function It(I,z,F){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=eo.create(),Y=eo.create(),ut=eo.create();B&&(I=(0,wr.vP)(I),z=(0,wr.vP)(z),F=(0,wr.vP)(F));var At=eo.fromValues.apply(eo,(0,L.Z)(I)),Ct=eo.fromValues.apply(eo,(0,L.Z)(z)),Yt=eo.fromValues.apply(eo,(0,L.Z)(F));eo.sub(_,Yt,Ct),eo.sub(Y,At,Ct),eo.cross(ut,_,Y);var me=eo.create();return eo.normalize(me,ut),me}var Ht,Gt;(function(I){I.CYLINDER="cylinder",I.SQUARECOLUMN="squareColumn",I.TRIANGLECOLUMN="triangleColumn",I.HEXAGONCOLUMN="hexagonColumn",I.PENTAGONCOLUMN="pentagonColumn"})(Gt||(Gt={}));var qt;(function(I){I.CIRCLE="circle",I.SQUARE="square",I.TRIANGLE="triangle",I.HEXAGON="hexagon",I.PENTAGON="pentagon"})(qt||(qt={}));function Ne(I){for(var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=Math.PI*2/I,B=[],_=0;_<I;_++)B.push(F*_+z*Math.PI/12);var Y=B.map(function(ut){var At=Math.sin(ut+Math.PI/4),Ct=Math.cos(ut+Math.PI/4);return[At,Ct,0]});return Y}function Fe(){return Ne(30)}function $e(){return Ne(4)}function hr(){return Ne(3)}function Tr(){return Ne(6,1)}function Yr(){return Ne(5)}var en=(Ht={},(0,O.Z)(Ht,qt.CIRCLE,Fe),(0,O.Z)(Ht,qt.HEXAGON,Tr),(0,O.Z)(Ht,qt.TRIANGLE,hr),(0,O.Z)(Ht,qt.SQUARE,$e),(0,O.Z)(Ht,qt.PENTAGON,Yr),(0,O.Z)(Ht,Gt.CYLINDER,Fe),(0,O.Z)(Ht,Gt.HEXAGONCOLUMN,Tr),(0,O.Z)(Ht,Gt.TRIANGLECOLUMN,hr),(0,O.Z)(Ht,Gt.SQUARECOLUMN,$e),(0,O.Z)(Ht,Gt.PENTAGONCOLUMN,Yr),Ht),Cn={};function Hn(I){var z=lu(I.coordinates);return{vertices:[].concat((0,L.Z)(z),(0,L.Z)(z),(0,L.Z)(z),(0,L.Z)(z)),indices:[0,1,2,2,3,0],size:z.length}}function hi(I){var z=lu(I.coordinates),F=ma(z);return{vertices:[].concat((0,L.Z)(F),(0,L.Z)(F),(0,L.Z)(F),(0,L.Z)(F)),indices:[0,1,2,2,3,0],size:F.length}}function $i(I){var z=I.shape,F=Us(z,!1),B=F.positions,_=F.index,Y=F.normals;return{vertices:B,indices:_,normals:Y,size:5}}function ga(I){var z=lu(I.coordinates);return{vertices:(0,L.Z)(z),indices:[0],size:z.length}}function Pa(I){var z=I.coordinates,F=I.originCoordinates,B=I.version,_=new Tu({dash:!0,join:"bevel"});if(B==="GAODE2.x"){var Y=z;Array.isArray(Y[0][0])||(Y=[z]);var ut=F;Array.isArray(ut[0][0])||(ut=[F]);for(var At=0;At<Y.length;At++){var Ct=Y[At],Yt=ut[At];_.extrude_gaode2(Ct,Yt)}}else{var me=z;Array.isArray(me[0][0])||(me=[z]),me.forEach(function(qe){_.extrude(qe)})}var fe=_.complex;return{vertices:fe.positions,indices:fe.indices,normals:fe.normals,size:6}}function Ta(I){var z=I.coordinates,F=qn().flatten(z),B=F.vertices,_=F.dimensions,Y=F.holes;return{indices:qn()(B,Y,_),vertices:B,size:_}}function La(I){var z=I.coordinates,F=Pt(z,!0),B=F.positions,_=F.index,Y=F.normals;return{vertices:B,indices:_,normals:Y,size:5}}function Eo(I){var z=I.shape,F=fu(z),B=F.positions,_=F.index;return{vertices:B,indices:_,size:3}}function Os(I){var z=I.coordinates,F=[].concat(_toConsumableArray(z[0]),[0,0,1,z[1][0],z[0][1],0,1,1],_toConsumableArray(z[1]),[0,1,0],_toConsumableArray(z[0]),[0,0,1],_toConsumableArray(z[1]),[0,1,0,z[0][0],z[1][1],0,0,0]),B=[0,1,2,3,4,5];return{vertices:F,indices:B,size:5}}function ls(I,z){for(var F=z||30,B=I.coordinates,_=[],Y=[],ut=function(Yt){_.push(Yt,1,Yt,B[0][0],B[0][1],B[1][0],B[1][1],Yt,-1,Yt,B[0][0],B[0][1],B[1][0],B[1][1]),Yt!==F-1&&Y.push.apply(Y,(0,L.Z)([0,1,2,1,3,2].map(function(me){return Yt*2+me})))},At=0;At<F;At++)ut(At);return{vertices:_,indices:Y,size:7}}function rs(I){var z=I.coordinates;z.length===2&&z.push(0);var F=I.size,B=ms(-1,1),_=ms(1,1),Y=ms(-1,-1),ut=ms(1,-1),At=[].concat(_toConsumableArray(z),_toConsumableArray(B),_toConsumableArray(z),_toConsumableArray(Y),_toConsumableArray(z),_toConsumableArray(ut),_toConsumableArray(z),_toConsumableArray(_)),Ct=[0,1,2,3,0,2];return{vertices:At,indices:Ct,size:5}}function Us(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Cn&&Cn[I])return Cn[I];var F=en[I]?en[I]():en.cylinder(),B=Pt([F],z);return Cn[I]=B,B}function du(I,z){for(var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=new Float32Array(I.length/F*3),Y,ut,At,Ct=vec3.create(),Yt=vec3.create(),me=vec3.create(),fe=0,qe=z.length;fe<qe;fe+=3){Y=z[fe+0]*3,ut=z[fe+1]*3,At=z[fe+2]*3;var dr=[I[Y],I[Y+1]],tn=[I[ut],I[ut+1]],mn=[I[At],I[At+1]];B&&(dr=lngLatToMeters(dr),tn=lngLatToMeters(tn),mn=lngLatToMeters(mn));var Zn=dr,ii=_slicedToArray(Zn,2),bi=ii[0],Bi=ii[1],Ni=vec3.fromValues(bi,Bi,I[Y+2]),la=tn,Qi=_slicedToArray(la,2),Ji=Qi[0],Ca=Qi[1],Ga=vec3.fromValues(Ji,Ca,I[ut+2]),oo=mn,Oo=_slicedToArray(oo,2),ko=Oo[0],zs=Oo[1],Ju=vec3.fromValues(ko,zs,I[At+2]);vec3.sub(Ct,Ju,Ga),vec3.sub(Yt,Ni,Ga),vec3.cross(me,Ct,Yt),_[Y]+=Ct[0],_[Y+1]+=Ct[1],_[Y+2]+=Ct[2],_[ut]+=Ct[0],_[ut+1]+=Ct[1],_[ut+2]+=Ct[2],_[At]+=Ct[0],_[At+1]+=Ct[1],_[At+2]+=Ct[2]}return Wu(_),_}function Wu(I){for(var z=0,F=I.length;z<F;z+=3){var B=vec3.fromValues(I[z],I[z+1],I[z+2]),_=vec3.create();vec3.normalize(_,B),I.set(_,z)}}function wu(I){var z=I[0][0],F=I[0][I[0].length-1];return z[0]===F[0]&&z[1]===F[1]}function fu(I){var z=["cylinder","triangleColumn","hexagonColumn","squareColumn"],F=geometryShape[I]?geometryShape[I]():geometryShape.circle(),B=z.indexOf(I)===-1?fillPolygon([F]):extrudePolygon([F]);return B}function ms(I,z){var F=(I+1)/2,B=(z+1)/2;return[F,B]}function Iu(){var I=primitiveSphere(EARTH_RADIUS,{segments:EARTH_SEGMENTS}),z=I.positionsArr,F=I.indicesArr,B=I.normalArr;return{vertices:z,indices:F,size:5,normals:B}}function oe(){var I=primitiveSphere(EARTH_RADIUS+EARTH_RADIUS_OUTER,{segments:EARTH_SEGMENTS}),z=I.positionsArr,F=I.indicesArr,B=I.normalArr;return{vertices:z,indices:F,size:5,normals:B}}function ue(I){var z=Tt();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Tt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Lt=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

uniform float segmentNumber;
varying vec2 v_iconMapUV;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_segmentIndex = styleMappingMat[3].r;   // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  float d_distance_ratio = styleMappingMat[3].b; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u6BD4\u4F8B

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }
  
  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE
  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float d_texCount = styleMappingMat[3].g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = 1.0 - fract(arcRadio * d_texCount + animateSpeed);

    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }
    float v = styleMappingMat[3].a; // \u6A2A\u5411 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
    // gl_FragColor = vec4(1.0 - fract(arcRadio * 20000.0), 0.0, 0.0, 1.0);
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
    // gl_FragColor = filterColor(texture2D(u_texture, uv));
    
  } else {
     gl_FragColor = filterColor(gl_FragColor);
  }
  // gl_FragColor = filterColor(gl_FragColor);
}`,se=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_lineDir: 1.0;
varying vec4 v_dash_array;

uniform float u_thetaOffset: 0.314;
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = u_thetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}
vec2 interpolate (vec2 source, vec2 target, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;
  if(u_line_type == LineTypeDash) {
      d_distance_ratio = segmentIndex / segmentNumber;

      vec2 s = source;
      vec2 t = target;
      
      if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
        s = unProjCustomCoord(source);
        t = unProjCustomCoord(target);
      }
      float total_Distance = pixelDistance(s, t) / 2.0 * PI;
      // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  
  if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

   styleMappingMat[3].b = d_distance_ratio;

  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  styleMappingMat[3].r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F

    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      arcDistrance *= 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      // arcDistrance *= 8.0;
      arcDistrance = project_pixel_allmap(arcDistrance);
    }
    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8
    float texCount = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
     styleMappingMat[3].g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB
     styleMappingMat[3].a = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,Oe={solid:0,dash:1},Rr=function(I){(0,vr.Z)(F,I);var z=ue(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"updateTexture",function(){var At=B.rendererService.createTexture2D;if(B.texture){B.texture.update({data:B.iconService.getCanvas()}),B.layer.render();return}B.texture=At({data:B.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:B.iconService.canvasHeight||128})}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=_.sourceColor,At=_.targetColor,Ct=_.textureBlend,Yt=Ct===void 0?"normal":Ct,me=_.lineType,fe=me===void 0?"solid":me,qe=_.dashArray,dr=qe===void 0?[10,5]:qe,tn=_.forward,mn=tn===void 0?!0:tn,Zn=_.lineTexture,ii=Zn===void 0?!1:Zn,bi=_.iconStep,Bi=bi===void 0?100:bi,Ni=_.segmentNumber,la=Ni===void 0?30:Ni,Qi=_.thetaOffset,Ji=Qi===void 0?.314:Qi;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:Y})){this.judgeStyleAttributes({opacity:Y});var Ca=this.layer.getEncodedData(),Ga=this.calDataFrame(this.cellLength,Ca,this.cellProperties),oo=Ga.data,Oo=Ga.width,ko=Ga.height;this.rowCount=ko,this.dataTexture=this.cellLength>0&&oo.length>0?this.createTexture2D({flipY:!0,data:oo,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Oo,height:ko}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}dr.length===2&&dr.push(0,0);var zs=0,Ju=[0,0,0,0],Vf=[0,0,0,0];return ut&&At&&(Ju=(0,wr.CI)(ut),Vf=(0,wr.CI)(At),zs=1),this.rendererService.getDirty()&&this.texture.bind(),{u_thetaOffset:Ji,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(Y)?Y:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:la,u_line_type:Oe[fe||"solid"],u_dash_array:dr,u_blur:.9,u_lineDir:mn?1:-1,u_texture:this.texture,u_line_texture:ii?1:0,u_icon_step:Bi,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:zs,u_sourceColor:Ju,u_targetColor:Vf}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.animateOption;return{u_aimate:this.animateOption2Array(Y),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,Y;(_=this.texture)===null||_===void 0||_.destroy(),(Y=this.dataTexture)===null||Y===void 0||Y.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var _=this.layer.getLayerConfig(),Y=_.segmentNumber,ut=Y===void 0?30:Y;return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:se,fragmentShader:Lt,triangulation:ls,depth:{enable:!1},blend:this.getBlend(),segmentNumber:ut})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,At,Ct,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,At,Ct,Yt){return[Ct[3],Ct[4],Ct[5],Ct[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,At,Ct,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,qe=me[fe]||{x:0,y:0},dr=qe.x,tn=qe.y;return[dr,tn]}}})}}]),F}(cn);function on(I){var z=Wr();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Wr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bn=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
varying float v_segmentIndex;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);

      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float u = fract(arcRadio * count - animateSpeed * count);
 
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          gl_FragColor = filterColor(pattern);
        }
    }

  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,ai=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
varying float v_segmentIndex;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // TODO: + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // TODO: \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_aimate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,ra={solid:0,dash:1},ua=function(I){(0,vr.Z)(F,I);var z=on(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"updateTexture",function(){var At=B.rendererService.createTexture2D;if(B.texture){B.texture.update({data:B.iconService.getCanvas()}),B.layer.render();return}B.texture=At({data:B.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:B.iconService.canvasHeight||128})}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=_.sourceColor,At=_.targetColor,Ct=_.textureBlend,Yt=Ct===void 0?"normal":Ct,me=_.lineType,fe=me===void 0?"solid":me,qe=_.dashArray,dr=qe===void 0?[10,5]:qe,tn=_.lineTexture,mn=tn===void 0?!1:tn,Zn=_.iconStep,ii=Zn===void 0?100:Zn,bi=_.segmentNumber,Bi=bi===void 0?30:bi,Ni=_.globalArcHeight,la=Ni===void 0?10:Ni;dr.length===2&&dr.push(0,0);var Qi=0,Ji=[0,0,0,0],Ca=[0,0,0,0];if(ut&&At&&(Ji=(0,wr.CI)(ut),Ca=(0,wr.CI)(At),Qi=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:Y})){this.judgeStyleAttributes({opacity:Y});var Ga=this.layer.getEncodedData(),oo=this.calDataFrame(this.cellLength,Ga,this.cellProperties),Oo=oo.data,ko=oo.width,zs=oo.height;this.rowCount=zs,this.dataTexture=this.cellLength>0&&Oo.length>0?this.createTexture2D({flipY:!0,data:Oo,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:ko,height:zs}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:Ci,u_global_height:la,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(Y)?Y:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:Bi,u_line_type:ra[fe]||0,u_dash_array:dr,u_texture:this.texture,u_line_texture:mn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Qi,u_sourceColor:Ji,u_targetColor:Ca}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.animateOption;return{u_aimate:this.animateOption2Array(Y),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,Y;(_=this.texture)===null||_===void 0||_.destroy(),(Y=this.dataTexture)===null||Y===void 0||Y.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var _=this.layer.getLayerConfig(),Y=_.segmentNumber,ut=Y===void 0?30:Y;return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:ai,fragmentShader:bn,triangulation:ls,blend:this.getBlend(),segmentNumber:ut})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,At,Ct,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,At,Ct,Yt){return[Ct[3],Ct[4],Ct[5],Ct[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,At,Ct,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,qe=me[fe]||{x:0,y:0},dr=qe.x,tn=qe.y;return[dr,tn]}}})}}]),F}(cn);function ba(I){var z=Da();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Da(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Ra=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying float v_distance_ratio;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0;
  float d_segmentIndex = styleMappingMat[3].g;
  
  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
   float flag = 0.;
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
      float alpha =1.0 - fract( mod(1.0- smoothstep(0.0, 1.0, v_distance_ratio), u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { 
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_aimate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = styleMappingMat[3].a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);
    
    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}`,no=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
varying vec4 v_color;
// varying vec2 v_normal;

varying float v_distance_ratio;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
    vec2 x = mix(source, target, ratio);
    vec2 center = mix(source, target, 0.5);
    float dSourceCenter = distance(source, center);
    float dXCenter = distance(x, center);
    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
     float vertex_height = paraboloid(source, target, segmentRatio);

    return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
    );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}
float getAngularDist (vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) *
    sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    vec2 mid = midPoint(source, target);
    vec3 x = vec3(source.x, mid.x, target.x);
    vec3 y = vec3(source.y, mid.y, target.y);
    return vec2(bezier3(x ,t), bezier3(y,t));
  }else {
    if(abs(angularDist - PI) < 0.001) {
      return (1.0 - t) * source + t * target;
    }
    float a = sin((1.0 - t) * angularDist) / sin(angularDist);
    float b = sin(t * angularDist) / sin(angularDist);
    vec2 sin_source = sin(source);
    vec2 cos_source = cos(source);
    vec2 sin_target = sin(target);
    vec2 cos_target = cos(target);
    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
    float z = a * sin_source.y + b * sin_target.y;
    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));
  }
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  if(u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    total_Distance = total_Distance*8.0;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
  if(u_aimate.x == Animate) {
      v_distance_ratio = segmentIndex / segmentNumber;
  }
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;
  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  styleMappingMat[3].g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F
  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  
    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;
    float d_arcDistrance = length(source - target);
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      d_arcDistrance = d_arcDistrance * 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      d_arcDistrance = project_pixel_allmap(d_arcDistrance);
    }
    float d_pixelLen = project_pixel(u_icon_step)/8.0;
    styleMappingMat[3].b = floor(d_arcDistrance/d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));
  }
  setPickingColor(a_PickingColor);
}

`,bo={solid:0,dash:1},Po=function(I){(0,vr.Z)(F,I);var z=ba(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"updateTexture",function(){var At=B.rendererService.createTexture2D;if(B.texture){B.texture.update({data:B.iconService.getCanvas()}),B.layer.render();return}B.texture=At({data:B.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:B.iconService.canvasHeight||128})}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=_.sourceColor,At=_.targetColor,Ct=_.textureBlend,Yt=Ct===void 0?"normal":Ct,me=_.lineType,fe=me===void 0?"solid":me,qe=_.dashArray,dr=qe===void 0?[10,5]:qe,tn=_.lineTexture,mn=tn===void 0?!1:tn,Zn=_.iconStep,ii=Zn===void 0?100:Zn,bi=_.segmentNumber,Bi=bi===void 0?30:bi;dr.length===2&&dr.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var Ni=0,la=[0,0,0,0],Qi=[0,0,0,0];if(ut&&At&&(la=(0,wr.CI)(ut),Qi=(0,wr.CI)(At),Ni=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:Y})){this.judgeStyleAttributes({opacity:Y});var Ji=this.layer.getEncodedData(),Ca=this.calDataFrame(this.cellLength,Ji,this.cellProperties),Ga=Ca.data,oo=Ca.width,Oo=Ca.height;this.rowCount=Oo,this.dataTexture=this.cellLength>0&&Ga.length>0?this.createTexture2D({flipY:!0,data:Ga,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:oo,height:Oo}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(Y)?Y:1,u_textureBlend:Yt==="normal"?0:1,segmentNumber:Bi,u_line_type:bo[fe]||0,u_dash_array:dr,u_texture:this.texture,u_line_texture:mn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Ni,u_sourceColor:la,u_targetColor:Qi}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.animateOption;return{u_aimate:this.animateOption2Array(Y),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,Y;(_=this.texture)===null||_===void 0||_.destroy(),(Y=this.dataTexture)===null||Y===void 0||Y.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:no,fragmentShader:Ra,triangulation:ls,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,At,Ct,Yt){var me=ut.size,fe=me===void 0?1:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(ut,At,Ct,Yt){return[Ct[3],Ct[4],Ct[5],Ct[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,At,Ct,Yt){var me=_.iconService.getIconMap(),fe=ut.texture,qe=me[fe]||{x:0,y:0},dr=qe.x,tn=qe.y;return[dr,tn]}}})}}]),F}(cn);function Ts(I){var z=$o();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function $o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var eu=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
uniform float u_blur : 0.99;
uniform float u_line_type: 0.0;
uniform float u_opacity : 1.0;
uniform float u_textureBlend;
varying vec4 v_color;
// varying vec2 v_normal;

// line texture
uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

// dash
uniform float u_dash_offset : 0.0;
uniform float u_dash_ratio : 0.1;
varying vec4 v_dash_array;

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying mat4 styleMappingMat;
// [animate, duration, interval, trailLength],
void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_aimate.x == Animate) {
      animateSpeed = u_time / u_aimate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);
      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }
 // dash line
  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    float aDistance = styleMappingMat[3].g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = styleMappingMat[3].b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
     vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = (vec4(1.0, 0.0, 0.0, 1.0));
 
  // if(rV < r || rV > 1.0 - r) {
  //   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
  // } 
  // if(v > 0.9) {
    // gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // } else if(v < 0.1) {
  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);
  // }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,hs=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

attribute vec2 a_iconMapUV;

// dash line
attribute float a_Total_Distance;
attribute float a_Distance;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];
uniform float u_icon_step: 100;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;
varying vec4 v_dash_array;
varying vec2 v_normal;

// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
varying vec2 v_iconMapUV;


uniform float u_linearColor: 0;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_pixel(u_icon_step);
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  if(u_line_type == LineTypeDash) {
    d_distance_ratio = a_Distance / a_Total_Distance;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  }
  if(u_aimate.x == Animate || u_linearColor == 1.0) {
      d_distance_ratio = a_Distance / a_Total_Distance;
  }
  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));

  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);

  vec2 offset = project_pixel(size.xy);

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][1] = a_Distance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  styleMappingMat[3][2] = d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  styleMappingMat[3][3] = texV;             // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y, 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y / 8.0, 1.0)); // \u989D\u5916\u9664 8.0 \u662F\u4E3A\u4E86\u548Cgaode1.x\u7684\u9AD8\u5EA6\u517C\u5BB9
  } else {
    float lineHeight = a_Size.y;
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      lineHeight = lineHeight*2.0/pow(2.0, 20.0 - u_Zoom);
    }
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,Mo={solid:0,dash:1},Ao=function(I){(0,vr.Z)(F,I);var z=Ts(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"updateTexture",function(){var At=B.rendererService.createTexture2D;if(B.texture){B.texture.update({data:B.iconService.getCanvas()}),B.layer.render();return}B.texture=At({data:B.iconService.getCanvas(),mag:Rt.gl.NEAREST,min:Rt.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:B.iconService.canvasHeight||128})}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=_.sourceColor,At=_.targetColor,Ct=_.textureBlend,Yt=Ct===void 0?"normal":Ct,me=_.lineType,fe=me===void 0?"solid":me,qe=_.dashArray,dr=qe===void 0?[10,5,0,0]:qe,tn=_.lineTexture,mn=tn===void 0?!1:tn,Zn=_.iconStep,ii=Zn===void 0?100:Zn;dr.length===2&&dr.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var bi=0,Bi=[0,0,0,0],Ni=[0,0,0,0];if(ut&&At&&(Bi=(0,wr.CI)(ut),Ni=(0,wr.CI)(At),bi=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:Y})){this.judgeStyleAttributes({opacity:Y});var la=this.layer.getEncodedData(),Qi=this.calDataFrame(this.cellLength,la,this.cellProperties),Ji=Qi.data,Ca=Qi.width,Ga=Qi.height;this.rowCount=Ga,this.dataTexture=this.cellLength>0&&Ji.length>0?this.createTexture2D({flipY:!0,data:Ji,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Ca,height:Ga}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(Y)?Y:1,u_textureBlend:Yt==="normal"?0:1,u_line_type:Mo[fe],u_dash_array:dr,u_texture:this.texture,u_line_texture:mn?1:0,u_icon_step:ii,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:bi,u_sourceColor:Bi,u_targetColor:Ni}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.animateOption;return{u_aimate:this.animateOption2Array(Y),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,Y;(_=this.texture)===null||_===void 0||_.destroy(),(Y=this.dataTexture)===null||Y===void 0||Y.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:hs,fragmentShader:eu,triangulation:Pa,primitive:Rt.gl.TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){var _=this,Y=this.layer.getLayerConfig(),ut=Y.lineType,At=ut===void 0?"solid":ut;this.styleAttributeService.registerStyleAttribute({name:"distance",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Distance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,qe){return[fe[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,qe){return[fe[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Yt,me,fe,qe){var dr=Yt.size,tn=dr===void 0?1:dr;return Array.isArray(tn)?[tn[0],tn[1]]:[tn,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(Yt,me,fe,qe,dr){return dr}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Miter",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Yt,me,fe,qe){return[fe[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Yt,me,fe,qe){var dr=_.iconService.getIconMap(),tn=Yt.texture,mn=dr[tn]||{x:0,y:0},Zn=mn.x,ii=mn.y;return[Zn,ii]}}})}},{key:"loadImage",value:function(_){return new Promise(function(Y,ut){if(_ instanceof HTMLImageElement){Y(_);return}var At=new Image;At.crossOrigin="anonymous",At.onload=function(){Y(At)},At.onerror=function(){ut(new Error("Could not load image at "+_))},At.src=_ instanceof File?URL.createObjectURL(_):_})}}]),F}(cn),ws={arc:Rr,arc3d:ua,greatcircle:Po,line:Ao},Xs=ws;function As(I){var z=xu();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function xu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Su=function(I){(0,vr.Z)(F,I);var z=As(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"type","LineLayer"),B}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new Xs[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var _=this.getModelType(),Y={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return Y[_]}},{key:"getModelType",value:function(){var _,Y=this.styleAttributeService.getLayerStyleAttribute("shape"),ut=Y==null||(_=Y.scale)===null||_===void 0?void 0:_.field;return ut||"line"}}]),F}(we);function Gu(I){var z=qu();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function qu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Ru=`varying vec4 v_color;
uniform float u_opacity: 1.0;

#pragma include "picking"

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Bu=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec3 a_Position;
attribute vec3 a_Pos;
attribute vec4 a_Color;
attribute vec3 a_Size;
attribute vec3 a_Normal;

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  vec2 offset = project_pixel(size.xy);

  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);

  float lightWeight = calc_lighting(pos);
  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);

  // gl_Position = project_common_position_to_clipspace(pos);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * pos;
  } else {
    gl_Position = project_common_position_to_clipspace(pos);
  }
  
  if(u_globel > 0.0) {
    // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6
    //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635
    float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
    float xRadian = getXRadian(a_Pos.y, r);
    float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 mx = mat4(
      1,0,0,0,  
      0,xcos,-xsin,0,  
      0,xsin,xcos,0,  
      0,0,0,1);

    //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635
    float yRadian = getYRadian(a_Pos.x, a_Pos.z);
    float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
    float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
    mat4 my = mat4(
      ycos,0,-ysin,0,  
      0,1,0,0,  
      ysin,0,ycos,0,  
      0,0,0,1);

    gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);
  }

  setPickingColor(a_PickingColor);
}
`,Yu=function(I){(0,vr.Z)(F,I);var z=Gu(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var At=this.layer.getEncodedData(),Ct=this.calDataFrame(this.cellLength,At,this.cellProperties),Yt=Ct.data,me=Ct.width,fe=Ct.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:Bu,fragmentShader:Ru,triangulation:$i,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){var _=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,At,Ct,Yt){var me=ut.size;if(me){var fe=[];return Array.isArray(me)&&(fe=me.length===2?[me[0],me[0],me[1]]:me),Array.isArray(me)||(fe=[me,me,me]),fe}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,At,Ct,Yt,me){return me}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(ut,At){var Ct=lu(ut.coordinates);return _?ma([Ct[0],Ct[1]]):[Ct[0],Ct[1],0]}}})}}]),F}(cn),ku=S(85975);function vl(I){var z=dl();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function dl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var nl=`#define Animate 0.0

uniform float u_globel;
uniform float u_blur : 0;
// uniform float u_stroke_width : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
uniform float u_time;
uniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];

#pragma include "sdf_2d"
#pragma include "picking"


void main() {
  int shape = int(floor(v_data.w + 0.5));

 
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];
  float stroke_opacity = styleMappingMat[0][1];
  float strokeWidth = styleMappingMat[0][2];
  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;

  lowp float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  // float r = v_radius / (v_radius + u_stroke_width);
  float r = v_radius / (v_radius + strokeWidth);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(u_globel > 0.0) {
    // TODO: \u5730\u7403\u6A21\u5F0F\u4E0B\u907F\u514D\u591A\u4F59\u7247\u5143\u7ED8\u5236\uFF0C\u540C\u65F6\u4E5F\u80FD\u907F\u514D\u6709\u7528\u7247\u5143\u5728\u900F\u660E\u4E14\u91CD\u53E0\u7684\u60C5\u51B5\u4E0B\u65E0\u6CD5\u5199\u5165
    // \u4ED8\u51FA\u7684\u4EE3\u4EF7\u662F\u8FB9\u7F18\u4F1A\u6709\u4E00\u4E9B\u952F\u9F7F
    if(outer_df > antialiased_blur + 0.018) discard;
  }
  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);
  
 
  // float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
  //   antialiased_blur,
  //   0.0,
  //   inner_df
  // );
   float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);

  gl_FragColor.a = gl_FragColor.a * opacity_t;
  if(u_aimate.x == Animate) {
    float d = length(v_data.xy);
    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);
    gl_FragColor = vec4(gl_FragColor.xyz, intensity);
  }

  gl_FragColor = filterColor(gl_FragColor);

  

}
`,il=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute float a_Shape;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_globel;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

uniform float u_opacity : 1;
uniform float u_stroke_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
uniform vec2 u_offsets;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  float newSize = setPickingSize(a_Size);

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = strokeOpacityAndOffset.r;
  textureOffset = strokeOpacityAndOffset.g;

  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // TODO: billboard
  // anti-alias
  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);

  // construct point coords
  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  // vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + u_offsets);
  vec2 offset = project_pixel(extrude.xy * (newSize + u_stroke_width) + textrueOffsets);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));
  }

  if(u_globel > 0.0) {
    gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);
  }
 
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,tl=function(I){(0,vr.Z)(F,I);var z=vl(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y,At=_.strokeOpacity,Ct=At===void 0?1:At,Yt=_.strokeWidth,me=Yt===void 0?0:Yt,fe=_.stroke,qe=fe===void 0?"rgba(0,0,0,0)":fe,dr=_.offsets,tn=dr===void 0?[0,0]:dr;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,strokeOpacity:Ct,strokeWidth:me,stroke:qe,offsets:tn})){this.judgeStyleAttributes({opacity:ut,strokeOpacity:Ct,strokeWidth:me,stroke:qe,offsets:tn});var mn=this.layer.getEncodedData(),Zn=this.calDataFrame(this.cellLength,mn,this.cellProperties),ii=Zn.data,bi=Zn.width,Bi=Zn.height;this.rowCount=Bi,this.dataTexture=this.cellLength>0&&ii.length>0?this.createTexture2D({flipY:!0,data:ii,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:bi,height:Bi}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_stroke_opacity:Xt()(Ct)?Ct:1,u_stroke_width:Xt()(me)?me:0,u_stroke_color:this.getStrokeColor(qe),u_offsets:this.isOffsetStatic(tn)?tn:[0,0]}}},{key:"getAnimateUniforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.animateOption;return{u_aimate:this.animateOption2Array(Y),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Hn)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){var _=this.mapService.version==="GLOBEL";return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:il,fragmentShader:nl,triangulation:_?hi:Hn,depth:{enable:_},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"animateOption2Array",value:function(_){return[_.enable?0:1,_.speed||1,_.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var _=this,Y=this.mapService.version==="GLOBEL";this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(At,Ct,Yt,me){var fe;if(Y){var qe=(0,Sa.Z)(Yt,3),dr=qe[0],tn=qe[1],mn=qe[2],Zn=eo.fromValues(0,0,1),ii=eo.fromValues(dr,0,mn),bi=dr>=0?eo.angle(Zn,ii):Math.PI*2-eo.angle(Zn,ii),Bi=Math.PI*2-Math.asin(tn/100),Ni=ku.create();ku.rotateY(Ni,Ni,bi),ku.rotateX(Ni,Ni,Bi);var la=eo.fromValues(1,1,0);eo.transformMat4(la,la,Ni),eo.normalize(la,la);var Qi=eo.fromValues(-1,1,0);eo.transformMat4(Qi,Qi,Ni),eo.normalize(Qi,Qi);var Ji=eo.fromValues(-1,-1,0);eo.transformMat4(Ji,Ji,Ni),eo.normalize(Ji,Ji);var Ca=eo.fromValues(1,-1,0);eo.transformMat4(Ca,Ca,Ni),eo.normalize(Ca,Ca),fe=[].concat((0,L.Z)(la),(0,L.Z)(Qi),(0,L.Z)(Ji),(0,L.Z)(Ca))}else fe=[1,1,0,-1,1,0,-1,-1,0,1,-1,0];var Ga=me%4*3;return[fe[Ga],fe[Ga+1],fe[Ga+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(At,Ct,Yt,me){var fe=At.size,qe=fe===void 0?5:fe;return Array.isArray(qe)?[qe[0]]:[qe]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Shape",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(At,Ct,Yt,me){var fe=At.shape,qe=fe===void 0?2:fe,dr=_.layer.getLayerConfig().shape2d,tn=dr.indexOf(qe);return[tn]}}})}}]),F}(cn);function Ol(I){var z=Tl();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Tl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var pl=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,Zl=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,Wl=function(I){(0,vr.Z)(F,I);var z=Ol(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity;return{u_opacity:Y||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var _=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",function(){_.updateTexture(),_.layer.render()}),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:Zl,fragmentShader:pl,triangulation:ga,primitive:Rt.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,At,Ct,Yt){var me=ut.size;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,At,Ct,Yt){var me=_.fontService.mapping,fe=ut.shape,qe=_.fontService.getGlyph(fe),dr=me[qe],tn=dr.x,mn=dr.y;return[tn,mn]}}})}},{key:"updateTexture",value:function(){var _=this.rendererService.createTexture2D,Y=this.fontService.canvas;this.texture=_({data:Y,mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,width:Y.width,height:Y.height})}},{key:"initIconFontGlyphs",value:function(){var _=this,Y=this.layer.getLayerConfig(),ut=Y.fontWeight,At=ut===void 0?"normal":ut,Ct=Y.fontFamily,Yt=Ct===void 0?"sans-serif":Ct,me=this.layer.getEncodedData(),fe=[];me.forEach(function(qe){var dr=qe.shape,tn=dr===void 0?"":dr;tn=tn.toString();var mn=_.fontService.getGlyph(tn);fe.indexOf(mn)===-1&&fe.push(mn)}),this.fontService.setFontOptions({characterSet:fe,fontWeight:At,fontFamily:Yt,fontSize:48})}}]),F}(cn);function sl(I){var z=ul();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function ul(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Hf=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main(){
      float opacity = styleMappingMat[0][0];
      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor=texture2D(u_texture,pos);
      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }
      // gl_FragColor.a =gl_FragColor.a * u_opacity;
      gl_FragColor.a =gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,Yf=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_stroke_width : 1;
uniform vec2 u_offsets;

uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   v_color = a_Color;
   v_uv = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  //  vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);

  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));

    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);
    } else {
      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));
    }
   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;

  setPickingColor(a_PickingColor);

}
`,Gl=function(I){(0,vr.Z)(F,I);var z=sl(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"updateTexture",function(){var At=B.rendererService.createTexture2D;if(B.texture){B.texture.update({data:B.iconService.getCanvas()}),B.layer.renderLayers();return}B.texture=At({data:B.iconService.getCanvas(),mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,premultiplyAlpha:!1,width:1024,height:B.iconService.canvasHeight||128})}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=_.offsets,At=ut===void 0?[0,0]:ut;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:Y,offsets:At})){this.judgeStyleAttributes({opacity:Y,offsets:At});var Ct=this.layer.getEncodedData(),Yt=this.calDataFrame(this.cellLength,Ct,this.cellProperties),me=Yt.data,fe=Yt.width,qe=Yt.height;this.rowCount=qe,this.dataTexture=this.cellLength>0&&me.length>0?this.createTexture2D({flipY:!0,data:me,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:fe,height:qe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:Xt()(Y)?Y:1,u_offsets:this.isOffsetStatic(At)?At:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var _,Y;(_=this.texture)===null||_===void 0||_.destroy(),(Y=this.dataTexture)===null||Y===void 0||Y.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:Yf,fragmentShader:Hf,triangulation:ga,primitive:Rt.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var _=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(ut,At,Ct,Yt){var me=ut.size,fe=me===void 0?5:me;return Array.isArray(fe)?[fe[0]]:[fe]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(ut,At,Ct,Yt){var me=_.iconService.getIconMap(),fe=ut.shape,qe=me[fe]||{x:0,y:0},dr=qe.x,tn=qe.y;return[dr,tn]}}})}}]),F}(cn);function hf(I){var z=vf();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function vf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Xf=`
uniform float u_opacity : 1;
uniform vec2 u_offsets;
varying vec4 v_color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  float opacity = styleMappingMat[0][0];

  gl_FragColor = v_color;
  // gl_FragColor.a =gl_FragColor.a * u_opacity;
  gl_FragColor.a =gl_FragColor.a * opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,ll=`
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute float a_Size;
attribute vec4 a_Color;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform vec2 u_offsets;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping
  
  // vec2 offset = project_pixel(u_offsets);
  vec2 offset = project_pixel(textrueOffsets);
  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\
  // 
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // vec2 offset = project_pixel((u_offsets));
    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);
  } else { // else
    // vec2 offset = project_pixel(u_offsets);
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function Vl(I){var z=I.coordinates;return{vertices:(0,L.Z)(z),indices:[0],size:z.length}}var df=function(I){(0,vr.Z)(F,I);var z=hf(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y,At=_.offsets,Ct=At===void 0?[0,0]:At;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,offsets:Ct})){this.judgeStyleAttributes({opacity:ut,offsets:Ct});var Yt=this.layer.getEncodedData(),me=this.calDataFrame(this.cellLength,Yt,this.cellProperties),fe=me.data,qe=me.width,dr=me.height;this.rowCount=dr,this.dataTexture=this.cellLength>0&&fe.length>0?this.createTexture2D({flipY:!0,data:fe,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:qe,height:dr}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_offsets:this.isOffsetStatic(Ct)?Ct:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:ll,fragmentShader:Xf,triangulation:Vl,depth:{enable:!1},primitive:Rt.gl.POINTS,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Y,ut,At,Ct){var Yt=Y.size,me=Yt===void 0?1:Yt;return Array.isArray(me)?[me[0]]:[me]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:Rt.BlendType.additive}}}]),F}(cn),Hl=S(98333);function pf(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Kf(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function Kf(I,z){if(!!I){if(typeof I=="string")return gf(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return gf(I,z)}}function gf(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}var $f=function(){function I(z,F,B){(0,Se.Z)(this,I),(0,O.Z)(this,"boxCells",[]),(0,O.Z)(this,"xCellCount",void 0),(0,O.Z)(this,"yCellCount",void 0),(0,O.Z)(this,"boxKeys",void 0),(0,O.Z)(this,"bboxes",void 0),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"xScale",void 0),(0,O.Z)(this,"yScale",void 0),(0,O.Z)(this,"boxUid",void 0);var _=this.boxCells;this.xCellCount=Math.ceil(z/B),this.yCellCount=Math.ceil(F/B);for(var Y=0;Y<this.xCellCount*this.yCellCount;Y++)_.push([]);this.boxKeys=[],this.bboxes=[],this.width=z,this.height=F,this.xScale=this.xCellCount/z,this.yScale=this.yCellCount/F,this.boxUid=0}return(0,Ve.Z)(I,[{key:"insert",value:function(F,B,_,Y,ut){this.forEachCell(B,_,Y,ut,this.insertBoxCell,this.boxUid++),this.boxKeys.push(F),this.bboxes.push(B),this.bboxes.push(_),this.bboxes.push(Y),this.bboxes.push(ut)}},{key:"query",value:function(F,B,_,Y,ut){return this.queryHitTest(F,B,_,Y,!1,ut)}},{key:"hitTest",value:function(F,B,_,Y,ut){return this.queryHitTest(F,B,_,Y,!0,ut)}},{key:"insertBoxCell",value:function(F,B,_,Y,ut,At){this.boxCells[ut].push(At)}},{key:"queryHitTest",value:function(F,B,_,Y,ut,At){if(_<0||F>this.width||Y<0||B>this.height)return ut?!1:[];var Ct=[];if(F<=0&&B<=0&&this.width<=_&&this.height<=Y){if(ut)return!0;for(var Yt=0;Yt<this.boxKeys.length;Yt++)Ct.push({key:this.boxKeys[Yt],x1:this.bboxes[Yt*4],y1:this.bboxes[Yt*4+1],x2:this.bboxes[Yt*4+2],y2:this.bboxes[Yt*4+3]});return At?Ct.filter(At):Ct}var me={hitTest:ut,seenUids:{box:{},circle:{}}};return this.forEachCell(F,B,_,Y,this.queryCell,Ct,me,At),ut?Ct.length>0:Ct}},{key:"queryCell",value:function(F,B,_,Y,ut,At,Ct,Yt){var me=Ct.seenUids,fe=this.boxCells[ut];if(fe!==null){var qe=this.bboxes,dr=pf(fe),tn;try{for(dr.s();!(tn=dr.n()).done;){var mn=tn.value;if(!me.box[mn]){me.box[mn]=!0;var Zn=mn*4;if(F<=qe[Zn+2]&&B<=qe[Zn+3]&&_>=qe[Zn+0]&&Y>=qe[Zn+1]&&(!Yt||Yt(this.boxKeys[mn]))){if(Ct.hitTest)return At.push(!0),!0;At.push({key:this.boxKeys[mn],x1:qe[Zn],y1:qe[Zn+1],x2:qe[Zn+2],y2:qe[Zn+3]})}}}}catch(ii){dr.e(ii)}finally{dr.f()}}return!1}},{key:"forEachCell",value:function(F,B,_,Y,ut,At,Ct,Yt){for(var me=this.convertToXCellCoord(F),fe=this.convertToYCellCoord(B),qe=this.convertToXCellCoord(_),dr=this.convertToYCellCoord(Y),tn=me;tn<=qe;tn++)for(var mn=fe;mn<=dr;mn++){var Zn=this.xCellCount*mn+tn;if(ut.call(this,F,B,_,Y,Zn,At,Ct,Yt))return}}},{key:"convertToXCellCoord",value:function(F){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(F*this.xScale)))}},{key:"convertToYCellCoord",value:function(F){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(F*this.yScale)))}}]),I}(),Qf=$f,Jf=function(){function I(z,F){(0,Se.Z)(this,I),(0,O.Z)(this,"width",void 0),(0,O.Z)(this,"height",void 0),(0,O.Z)(this,"grid",void 0),(0,O.Z)(this,"viewportPadding",100),(0,O.Z)(this,"screenRightBoundary",void 0),(0,O.Z)(this,"screenBottomBoundary",void 0),(0,O.Z)(this,"gridRightBoundary",void 0),(0,O.Z)(this,"gridBottomBoundary",void 0),this.width=z,this.height=F,this.viewportPadding=Math.max(z,F),this.grid=new Qf(z+this.viewportPadding,F+this.viewportPadding,25),this.screenRightBoundary=z+this.viewportPadding,this.screenBottomBoundary=F+this.viewportPadding,this.gridRightBoundary=z+2*this.viewportPadding,this.gridBottomBoundary=F+2*this.viewportPadding}return(0,Ve.Z)(I,[{key:"placeCollisionBox",value:function(F){var B=F.x1+F.anchorPointX+this.viewportPadding,_=F.y1+F.anchorPointY+this.viewportPadding,Y=F.x2+F.anchorPointX+this.viewportPadding,ut=F.y2+F.anchorPointY+this.viewportPadding;return!this.isInsideGrid(B,_,Y,ut)||this.grid.hitTest(B,_,Y,ut)?{box:[]}:{box:[B,_,Y,ut]}}},{key:"insertCollisionBox",value:function(F,B){var _={featureIndex:B};this.grid.insert(_,F[0],F[1],F[2],F[3])}},{key:"project",value:function(F,B,_){var Y=Hl.al(B,_,0,1),ut=Hl.Ue(),At=ku.fromValues.apply(ku,(0,L.Z)(F));return Hl.fF(ut,Y,At),{x:(ut[0]/ut[3]+1)/2*this.width+this.viewportPadding,y:(-ut[1]/ut[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(F,B,_,Y){return _>=0&&F<this.gridRightBoundary&&Y>=0&&B<this.gridBottomBoundary}}]),I}();function mf(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=qf(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function qf(I,z){if(!!I){if(typeof I=="string")return yf(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return yf(I,z)}}function yf(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}function xf(I){var z=.5,F=.5;switch(I){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0;break;default:z=.5}switch(I){case"bottom":case"bottom-right":case"bottom-left":F=1;break;case"top":case"top-right":case"top-left":F=0;break;default:F=.5}return{horizontalAlign:z,verticalAlign:F}}function Sf(I,z,F,B,_){if(!!_){var Y=I[B],ut=Y.glyph;if(ut)for(var At=z[ut].advance*Y.scale,Ct=(I[B].x+At)*_,Yt=F;Yt<=B;Yt++)I[Yt].x-=Ct}}function wl(I,z,F,B,_,Y,ut){var At=(z-F)*_,Ct=(-B*ut+.5)*Y,Yt=mf(I),me;try{for(Yt.s();!(me=Yt.n()).done;){var fe=me.value;fe.x+=At,fe.y+=Ct}}catch(qe){Yt.e(qe)}finally{Yt.f()}}function Il(I,z,F,B,_,Y,ut){var At=-8,Ct=0,Yt=At,me=0,fe=I.positionedGlyphs,qe=Y==="right"?1:Y==="left"?0:.5,dr=fe.length;F.forEach(function(bi){if(bi.split("").forEach(function(Ni){var la=z[Ni],Qi=0;la&&(fe.push({glyph:Ni,x:Ct,y:Yt+Qi,vertical:!1,scale:1,metrics:la}),Ct+=la.advance+ut)}),fe.length!==dr){var Bi=Ct-ut;me=Math.max(Bi,me),Sf(fe,z,dr,fe.length-1,qe)}Ct=0,Yt+=B});var tn=xf(_),mn=tn.horizontalAlign,Zn=tn.verticalAlign;wl(fe,qe,mn,Zn,me,B,F.length);var ii=Yt-At;I.top+=-Zn*ii,I.bottom=I.top+ii,I.left+=-mn*me,I.right=I.left+me}function Ll(I,z,F,B,_,Y,ut){var At=-8,Ct=0,Yt=At,me=0,fe=I.positionedGlyphs,qe=Y==="right"?1:Y==="left"?0:.5,dr=fe.length;F.forEach(function(bi){var Bi=z[bi],Ni=0;if(Bi&&(fe.push({glyph:bi,x:Ct,y:Yt+Ni,vertical:!1,scale:1,metrics:Bi}),Ct+=Bi.advance+ut),fe.length!==dr){var la=Ct-ut;me=Math.max(la,me),Sf(fe,z,dr,fe.length-1,qe)}Ct=0,Yt+=B});var tn=xf(_),mn=tn.horizontalAlign,Zn=tn.verticalAlign;wl(fe,qe,mn,Zn,me,B,F.length);var ii=Yt-At;I.top+=-Zn*ii,I.bottom=I.top+ii,I.left+=-mn*me,I.right=I.left+me}function Dl(I,z,F,B,_,Y){var ut=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[0,0],At=arguments.length>7?arguments[7]:void 0,Ct=I.split(`
`),Yt=[],me={positionedGlyphs:Yt,top:ut[1],bottom:ut[1],left:ut[0],right:ut[0],lineCount:Ct.length,text:I};return At?Ll(me,z,Ct,F,B,_,Y):Il(me,z,Ct,F,B,_,Y),Yt.length?me:!1}function Yl(I){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],F=arguments.length>2?arguments[2]:void 0,B=I.positionedGlyphs,_=B===void 0?[]:B,Y=[],ut=mf(_),At;try{for(ut.s();!(At=ut.n()).done;){var Ct=At.value,Yt=Ct.metrics,me=4,fe=Yt.advance*Ct.scale/2,qe=F?[Ct.x+fe,Ct.y]:[0,0],dr=F?[0,0]:[Ct.x+fe+z[0],Ct.y+z[1]],tn=(0-me)*Ct.scale-fe+dr[0],mn=(0-me)*Ct.scale+dr[1],Zn=tn+Yt.width*Ct.scale,ii=mn+Yt.height*Ct.scale,bi={x:tn,y:mn},Bi={x:Zn,y:mn},Ni={x:tn,y:ii},la={x:Zn,y:ii};Y.push({tl:bi,tr:Bi,bl:Ni,br:la,tex:Yt,glyphOffset:qe})}}catch(Qi){ut.e(Qi)}finally{ut.f()}return Y}function Rl(I,z){var F=typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(!F){if(Array.isArray(I)||(F=Nl(I))||z&&I&&typeof I.length=="number"){F&&(I=F);var B=0,_=function(){};return{s:_,n:function(){return B>=I.length?{done:!0}:{done:!1,value:I[B++]}},e:function(Yt){throw Yt},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ut=!1,At;return{s:function(){F=F.call(I)},n:function(){var Yt=F.next();return Y=Yt.done,Yt},e:function(Yt){ut=!0,At=Yt},f:function(){try{!Y&&F.return!=null&&F.return()}finally{if(ut)throw At}}}}function Nl(I,z){if(!!I){if(typeof I=="string")return gl(I,z);var F=Object.prototype.toString.call(I).slice(8,-1);if(F==="Object"&&I.constructor&&(F=I.constructor.name),F==="Map"||F==="Set")return Array.from(I);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return gl(I,z)}}function gl(I,z){(z==null||z>I.length)&&(z=I.length);for(var F=0,B=new Array(z);F<z;F++)B[F]=I[F];return B}function Xl(I){var z=Fl();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Fl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var ml=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0
uniform sampler2D u_sdf_map;
uniform float u_gamma_scale : 0.5;
// uniform float u_font_size : 24.0;
uniform float u_opacity : 1.0;
uniform vec4 u_stroke_color : [0, 0, 0, 1];
uniform float u_stroke_width : 2.0;
uniform float u_halo_blur : 0.5;
uniform float u_DevicePixelRatio;

varying vec4 v_color;
varying vec2 v_uv;
varying float v_gamma_scale;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  // get style data mapping
  float opacity = styleMappingMat[0][0];
  float strokeWidth = styleMappingMat[0][2];
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  // get sdf from atlas
  float dist = texture2D(u_sdf_map, v_uv).a;

  // float fontScale = u_font_size / FONT_SIZE;

  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);
  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor.a= gl_FragColor.a * alpha;
  gl_FragColor = filterColor(gl_FragColor);
}
`,yl=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0
attribute vec3 a_Position;
attribute vec2 a_tex;
attribute vec2 a_textOffsets;
attribute vec4 a_Color;
attribute float a_Size;
attribute float a_Rotate;

uniform vec2 u_sdf_map_size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec2 v_uv;
varying float v_gamma_scale;
varying vec4 v_color;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }
  
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  v_uv = a_tex / u_sdf_map_size;

  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  highp float angle_sin = sin(a_Rotate);
  highp float angle_cos = cos(a_Rotate);
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  
  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  vec4 projected_position;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
   projected_position  = u_Mvp * (vec4(a_Position.xyz, 1.0));
  } else { // else
   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`;function fl(I){var z=this,F=I.id,B=[],_=[];if(!z.glyphInfoMap||!z.glyphInfoMap[F])return{vertices:[],indices:[],size:7};var Y=z.glyphInfoMap[F].centroid,ut=Y.length===2?[Y[0],Y[1],0]:Y;return z.glyphInfoMap[F].glyphQuads.forEach(function(At,Ct){B.push.apply(B,(0,L.Z)(ut).concat([At.tex.x,At.tex.y+At.tex.height,At.tl.x,At.tl.y],(0,L.Z)(ut),[At.tex.x+At.tex.width,At.tex.y+At.tex.height,At.tr.x,At.tr.y],(0,L.Z)(ut),[At.tex.x+At.tex.width,At.tex.y,At.br.x,At.br.y],(0,L.Z)(ut),[At.tex.x,At.tex.y,At.bl.x,At.bl.y])),_.push(0+Ct*4,1+Ct*4,2+Ct*4,2+Ct*4,3+Ct*4,0+Ct*4)}),{vertices:B,indices:_,size:7}}var cl=function(I){(0,vr.Z)(F,I);var z=Xl(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"glyphInfo",void 0),(0,O.Z)((0,le.Z)(B),"glyphInfoMap",{}),(0,O.Z)((0,le.Z)(B),"texture",void 0),(0,O.Z)((0,le.Z)(B),"currentZoom",-1),(0,O.Z)((0,le.Z)(B),"extent",void 0),(0,O.Z)((0,le.Z)(B),"textureHeight",0),(0,O.Z)((0,le.Z)(B),"textCount",0),(0,O.Z)((0,le.Z)(B),"preTextStyle",{}),(0,O.Z)((0,le.Z)(B),"buildModels",function(){return B.initGlyph(),B.updateTexture(),B.filterGlyphs(),B.reBuildModel(),[B.layer.buildLayerModel({moduleName:"pointText",vertexShader:yl,fragmentShader:ml,triangulation:fl.bind((0,le.Z)(B)),depth:{enable:!1},blend:B.getBlend()})]}),B}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y,At=_.stroke,Ct=At===void 0?"#fff":At,Yt=_.strokeWidth,me=Yt===void 0?0:Yt,fe=_.textAnchor,qe=fe===void 0?"center":fe,dr=_.textAllowOverlap,tn=dr===void 0?!1:dr,mn=_.halo,Zn=mn===void 0?.5:mn,ii=_.gamma,bi=ii===void 0?2:ii,Bi=this.fontService,Ni=Bi.canvas,la=Bi.mapping;if(Object.keys(la).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(la).length),this.preTextStyle={textAnchor:qe,textAllowOverlap:tn},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut,strokeWidth:me,stroke:Ct})){this.judgeStyleAttributes({opacity:ut,strokeWidth:me,stroke:Ct});var Qi=this.layer.getEncodedData(),Ji=this.calDataFrame(this.cellLength,Qi,this.cellProperties),Ca=Ji.data,Ga=Ji.width,oo=Ji.height;this.rowCount=oo,this.dataTexture=this.cellLength>0&&Ca.length>0?this.createTexture2D({flipY:!0,data:Ca,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:Ga,height:oo}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1,u_stroke_width:Xt()(me)?me:0,u_stroke_color:this.getStrokeColor(Ct),u_sdf_map:this.texture,u_halo_blur:Zn,u_gamma_scale:bi,u_sdf_map_size:[Ni.width,Ni.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var _=this.layer.getLayerConfig(),Y=_.textAnchor,ut=Y===void 0?"center":Y,At=_.textAllowOverlap,Ct=At===void 0?!0:At;return this.preTextStyle={textAnchor:ut,textAllowOverlap:Ct},this.buildModels()}},{key:"needUpdate",value:function(){var _=this.layer.getLayerConfig(),Y=_.textAllowOverlap,ut=Y===void 0?!1:Y,At=this.mapService.getZoom(),Ct=this.mapService.getBounds(),Yt=(0,wr.oO)(this.extent,Ct);return!ut&&(Math.abs(this.currentZoom-At)>1||!Yt)||ut!==this.preTextStyle.textAllowOverlap?(this.reBuildModel(),!0):!1}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Y,ut,At,Ct){var Yt=Y.rotate,me=Yt===void 0?0:Yt;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Rt.AttributeType.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Y,ut,At,Ct){return[At[5],At[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Y,ut,At,Ct){var Yt=Y.size,me=Yt===void 0?12:Yt;return Array.isArray(me)?[me[0]]:[me]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Rt.AttributeType.Attribute,descriptor:{name:"a_tex",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:2,update:function(Y,ut,At,Ct){return[At[3],At[4]]}}})}},{key:"textExtent",value:function(){var _=this.mapService.getBounds();return(0,wr.yA)(_,.5)}},{key:"initTextFont",value:function(){var _=this.layer.getLayerConfig(),Y=_.fontWeight,ut=Y===void 0?"400":Y,At=_.fontFamily,Ct=At===void 0?"sans-serif":At,Yt=this.layer.getEncodedData(),me=[];Yt.forEach(function(fe){var qe=fe.shape,dr=qe===void 0?"":qe;dr=dr.toString();var tn=Rl(dr),mn;try{for(tn.s();!(mn=tn.n()).done;){var Zn=mn.value;me.indexOf(Zn)===-1&&me.push(Zn)}}catch(ii){tn.e(ii)}finally{tn.f()}}),this.fontService.setFontOptions({characterSet:me,fontWeight:ut,fontFamily:Ct,iconfont:!1})}},{key:"initIconFontTex",value:function(){var _=this.layer.getLayerConfig(),Y=_.fontWeight,ut=Y===void 0?"400":Y,At=_.fontFamily,Ct=At===void 0?"sans-serif":At,Yt=this.layer.getEncodedData(),me=[];Yt.forEach(function(fe){var qe=fe.shape,dr=qe===void 0?"":qe;dr=dr.toString(),me.indexOf(dr)===-1&&me.push(dr)}),this.fontService.setFontOptions({characterSet:me,fontWeight:ut,fontFamily:Ct,iconfont:!0})}},{key:"generateGlyphLayout",value:function(_){var Y=this,ut=this.fontService.mapping,At=this.layer.getLayerConfig(),Ct=At.spacing,Yt=Ct===void 0?2:Ct,me=At.textAnchor,fe=me===void 0?"center":me,qe=this.layer.getEncodedData();this.glyphInfo=qe.map(function(dr){var tn=dr.shape,mn=tn===void 0?"":tn,Zn=dr.id,ii=dr.size,bi=ii===void 0?1:ii,Bi=dr.textOffset,Ni=Bi===void 0?[0,0]:Bi,la=Dl(mn.toString(),ut,bi,fe,"center",Yt,Ni,_),Qi=Yl(la,Ni,!1);return dr.shaping=la,dr.glyphQuads=Qi,dr.centroid=lu(dr.coordinates),dr.originCentroid=dr.version==="GAODE2.x"?lu(dr.originCoordinates):dr.originCentroid=dr.centroid,Y.glyphInfoMap[Zn]={shaping:la,glyphQuads:Qi,centroid:lu(dr.coordinates)},dr})}},{key:"filterGlyphs",value:function(){var _=this,Y=this.layer.getLayerConfig(),ut=Y.padding,At=ut===void 0?[4,4]:ut,Ct=Y.textAllowOverlap,Yt=Ct===void 0?!1:Ct;if(!Yt){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var me=this.rendererService.getViewportSize(),fe=me.width,qe=me.height,dr=new Jf(fe,qe),tn=this.glyphInfo.filter(function(mn){var Zn=mn.shaping,ii=mn.id,bi=ii===void 0?0:ii,Bi=mn.version==="GAODE2.x"?mn.originCentroid:mn.centroid,Ni=mn.size,la=Ni/24,Qi=_.mapService.lngLatToContainer(Bi),Ji=dr.placeCollisionBox({x1:Zn.left*la-At[0],x2:Zn.right*la+At[0],y1:Zn.top*la-At[1],y2:Zn.bottom*la+At[1],anchorPointX:Qi.x,anchorPointY:Qi.y}),Ca=Ji.box;return Ca&&Ca.length?(dr.insertCollisionBox(Ca,bi),!0):!1});tn.forEach(function(mn){_.glyphInfoMap[mn.id]=mn})}}},{key:"initGlyph",value:function(){var _=this.layer.getLayerConfig(),Y=_.iconfont,ut=Y===void 0?!1:Y;ut?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(ut)}},{key:"updateTexture",value:function(){var _=this.rendererService.createTexture2D,Y=this.fontService.canvas;this.textureHeight=Y.height,this.texture&&this.texture.destroy(),this.texture=_({data:Y,mag:Rt.gl.LINEAR,min:Rt.gl.LINEAR,width:Y.width,height:Y.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:yl,fragmentShader:ml,triangulation:fl.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),F}(cn),xl={fill:tl,image:Gl,normal:df,extrude:Yu,text:cl,icon:Wl},Sl=xl;function El(I){var z=Kl();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Kl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bl=function(I){(0,vr.Z)(F,I);var z=El(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"type","PointLayer"),B}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new Sl[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var _=this.getModelType(),Y={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return Y[_]}},{key:"getModelType",value:function(){var _=this.getEncodedData(),Y=this.getLayerConfig(),ut=Y.shape2d,At=Y.shape3d,Ct=this.iconService.getIconMap(),Yt=_.find(function(fe){return fe.hasOwnProperty("shape")});if(Yt){var me=Yt.shape;return me==="dot"?"normal":(ut==null?void 0:ut.indexOf(me))!==-1?"fill":(At==null?void 0:At.indexOf(me))!==-1?"extrude":Ct.hasOwnProperty(me)?"image":this.fontService.getGlyph(me)!==""?"icon":"text"}else return"normal"}}]),F}(we);function al(I){var z=Ef();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Ef(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var $l=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,tc=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  setPickingColor(a_PickingColor);
}
`,ec=function(I){(0,vr.Z)(F,I);var z=al(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var At=this.layer.getEncodedData(),Ct=this.calDataFrame(this.cellLength,At,this.cellProperties),Yt=Ct.data,me=Ct.width,fe=Ct.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:tc,fragmentShader:$l,triangulation:La})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:Rt.gl.STATIC_DRAW,data:[],type:Rt.gl.FLOAT},size:3,update:function(Y,ut,At,Ct,Yt){return Yt}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(Y,ut,At,Ct){var Yt=Y.size,me=Yt===void 0?10:Yt;return Array.isArray(me)?[me[0]]:[me]}}})}}]),F}(cn);function rc(I){var z=el();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function el(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var bf=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  // gl_FragColor.a *= u_opacity;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Af=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_Color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  setPickingColor(a_PickingColor);
}

`,Mf=function(I){(0,vr.Z)(F,I);var z=rc(F);function F(){return(0,Se.Z)(this,F),z.apply(this,arguments)}return(0,Ve.Z)(F,[{key:"getUninforms",value:function(){var _=this.layer.getLayerConfig(),Y=_.opacity,ut=Y===void 0?1:Y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:ut})){this.judgeStyleAttributes({opacity:ut});var At=this.layer.getEncodedData(),Ct=this.calDataFrame(this.cellLength,At,this.cellProperties),Yt=Ct.data,me=Ct.width,fe=Ct.height;this.rowCount=fe,this.dataTexture=this.cellLength>0&&Yt.length>0?this.createTexture2D({flipY:!0,data:Yt,format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:me,height:fe}):this.createTexture2D({flipY:!0,data:[1],format:Rt.gl.LUMINANCE,type:Rt.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:Xt()(ut)?ut:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:Af,fragmentShader:bf,triangulation:Ta,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"clearModels",value:function(){var _;(_=this.dataTexture)===null||_===void 0||_.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),F}(cn),nc={fill:Mf,line:Ao,extrude:ec,text:cl,point_fill:tl,point_image:Gl,point_normal:df,point_extrude:Yu},Cf=nc;function ic(I){var z=Vu();return function(){var B=(0,rr.Z)(I),_;if(z){var Y=(0,rr.Z)(this).constructor;_=Reflect.construct(B,arguments,Y)}else _=B.apply(this,arguments);return(0,He.Z)(this,_)}}function Vu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}var Pf=function(I){(0,vr.Z)(F,I);var z=ic(F);function F(){var B;(0,Se.Z)(this,F);for(var _=arguments.length,Y=new Array(_),ut=0;ut<_;ut++)Y[ut]=arguments[ut];return B=z.call.apply(z,[this].concat(Y)),(0,O.Z)((0,le.Z)(B),"type","PolygonLayer"),B}return(0,Ve.Z)(F,[{key:"buildModels",value:function(){var _=this.getModelType();this.layerModel=new Cf[_](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var _,Y=this.styleAttributeService.getLayerStyleAttribute("shape"),ut=Y==null||(_=Y.scale)===null||_===void 0?void 0:_.field;return ut==="fill"?"fill":ut==="extrude"?"extrude":ut==="line"?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var _=this.getEncodedData(),Y=this.getLayerConfig(),ut=Y.shape2d,At=Y.shape3d,Ct=this.iconService.getIconMap(),Yt=_.find(function(fe){return fe.hasOwnProperty("shape")});if(Yt){var me=Yt.shape;return me==="dot"?"point_normal":(ut==null?void 0:ut.indexOf(me))!==-1?"point_fill":(At==null?void 0:At.indexOf(me))!==-1?"point_extrude":Ct.hasOwnProperty(me)?"point_image":"text"}else return"fill"}}]),F}(we),ol,Xu,Ql,Bl,Al,hl,Ks,Ku,Is;function Lu(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function Of(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?Lu(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):Lu(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var ac=(ol=(0,$a.b2)(),Xu=(0,$a.f3)(Rt.vK.IGlobalConfigService),Ql=(0,$a.f3)(Rt.vK.IMapService),Bl=(0,$a.f3)(Rt.vK.IFontService),ol(Al=(hl=function(){function I(){(0,Se.Z)(this,I),(0,Co.Z)(this,"configService",Ks,this),(0,Co.Z)(this,"mapService",Ku,this),(0,Co.Z)(this,"fontService",Is,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=this,Y=B.styleAttributeService;F.hooks.init.tap("DataMappingPlugin",function(){_.generateMaping(F,{styleAttributeService:Y})}),F.hooks.beforeRenderData.tap("DataMappingPlugin",function(){return F.dataState.dataMappingNeedUpdate=!1,_.generateMaping(F,{styleAttributeService:Y}),!0}),F.hooks.beforeRender.tap("DataMappingPlugin",function(){if(!F.layerModelNeedUpdate){var ut=Y.getLayerStyleAttributes()||[],At=Y.getLayerStyleAttribute("filter"),Ct=F.getSource().data.dataArray,Yt=ut.filter(function(fe){return fe.needRemapping}),me=Ct;At!=null&&At.needRemapping&&At!==null&&At!==void 0&&At.scale&&(me=Ct.filter(function(fe){return _.applyAttributeMapping(At,fe)[0]})),Yt.length&&(At!=null&&At.needRemapping?(F.setEncodedData(_.mapping(ut,me)),At.needRemapping=!1):F.setEncodedData(_.mapping(Yt,me,F.getEncodedData())),F.emit("remapping",null))}})}},{key:"generateMaping",value:function(F,B){var _=this,Y=B.styleAttributeService,ut=Y.getLayerStyleAttributes()||[],At=Y.getLayerStyleAttribute("filter"),Ct=F.getSource().data.dataArray,Yt=Ct;At!=null&&At.scale&&(Yt=Ct.filter(function(me){return _.applyAttributeMapping(At,me)[0]})),F.setEncodedData(this.mapping(ut,Yt))}},{key:"mapping",value:function(F,B,_){var Y=this,ut=B.map(function(At,Ct){var Yt=_?_[Ct]:{},me=Of({id:At._id,coordinates:At.coordinates},Yt);return F.filter(function(fe){return fe.scale!==void 0}).forEach(function(fe){var qe=Y.applyAttributeMapping(fe,At);fe.needRemapping=!1,fe.name==="color"&&(qe=qe.map(function(dr){return(0,wr.CI)(dr)})),me[fe.name]=Array.isArray(qe)&&qe.length===1?qe[0]:qe,fe.name==="shape"&&(me.shape=Y.fontService.getIconFontKey(me[fe.name]))}),me});return ut.length>0&&this.mapService.version==="GAODE2.x"&&(typeof ut[0].coordinates[0]=="number"?ut.filter(function(At){return!At.originCoordinates}).map(function(At){At.version="GAODE2.x",At.originCoordinates=er()(At.coordinates),At.coordinates=Y.mapService.lngLatToCoord(At.coordinates)}):ut.filter(function(At){return!At.originCoordinates}).map(function(At){At.version="GAODE2.x",At.originCoordinates=er()(At.coordinates),At.coordinates=Y.mapService.lngLatToCoords(At.coordinates)})),ut}},{key:"applyAttributeMapping",value:function(F,B){var _;if(!F.scale)return[];var Y=(F==null||(_=F.scale)===null||_===void 0?void 0:_.scalers)||[],ut=[];return Y.forEach(function(At){var Ct,Yt=At.field;(B.hasOwnProperty(Yt)||((Ct=F.scale)===null||Ct===void 0?void 0:Ct.type)==="variable")&&ut.push(B[Yt])}),F.mapping?F.mapping(ut):[]}}]),I}(),Ks=(0,cs.Z)(hl.prototype,"configService",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ku=(0,cs.Z)(hl.prototype,"mapService",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=(0,cs.Z)(hl.prototype,"fontService",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl))||Al),Tf,wf,oc=(Tf=(0,$a.b2)(),Tf(wf=function(){function I(){(0,Se.Z)(this,I),(0,O.Z)(this,"mapService",void 0)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){var B=this;this.mapService=F.getContainer().get(Rt.vK.IMapService),F.hooks.init.tap("DataSourcePlugin",function(){var _=F.getSource();if(!_){var Y=F.sourceOption||{data:cr,options:zr},ut=Y.data,At=Y.options;F.setSource(new We(ut,At))}B.updateClusterData(F)}),F.hooks.beforeRenderData.tap("DataSourcePlugin",function(){var _=B.updateClusterData(F),Y=F.dataState.dataSourceNeedUpdate;return F.dataState.dataSourceNeedUpdate=!1,_||Y})}},{key:"updateClusterData",value:function(F){var B=F.getSource(),_=B.cluster,Y=B.clusterOptions,ut=Y.zoom,At=ut===void 0?0:ut,Ct=Y.maxZoom,Yt=Ct===void 0?16:Ct,me=this.mapService.getZoom()-1,fe=F.dataState.dataSourceNeedUpdate;return _&&(fe||Math.abs(At-me)>1)&&Yt>At?(B.updateClusterData(Math.floor(me)),!0):!1}}]),I}())||wf),If=S(44908),sc=S.n(If),uc=S(14293),Lf=S.n(uc);function Jl(I,z){return I<z?-1:I>z?1:I>=z?0:NaN}function Df(I){return I.length===1&&(I=Rf(I)),{left:function(z,F,B,_){for(B==null&&(B=0),_==null&&(_=z.length);B<_;){var Y=B+_>>>1;I(z[Y],F)<0?B=Y+1:_=Y}return B},right:function(z,F,B,_){for(B==null&&(B=0),_==null&&(_=z.length);B<_;){var Y=B+_>>>1;I(z[Y],F)>0?_=Y:B=Y+1}return B}}}function Rf(I){return function(z,F){return Jl(I(z),F)}}var ql=Df(Jl),Nf=ql.right,gc=ql.left,jl=Nf;function Ff(I,z){var F=I.length,B=-1,_,Y,ut;if(z==null){for(;++B<F;)if((_=I[B])!=null&&_>=_)for(Y=ut=_;++B<F;)(_=I[B])!=null&&(Y>_&&(Y=_),ut<_&&(ut=_))}else for(;++B<F;)if((_=z(I[B],B,I))!=null&&_>=_)for(Y=ut=_;++B<F;)(_=z(I[B],B,I))!=null&&(Y>_&&(Y=_),ut<_&&(ut=_));return[Y,ut]}var Bf=Array.prototype,Wt=Bf.slice,Ue=Bf.map,fr=Math.sqrt(50),vn=Math.sqrt(10),jn=Math.sqrt(2);function hn(I,z,F){var B,_=-1,Y,ut,At;if(z=+z,I=+I,F=+F,I===z&&F>0)return[I];if((B=z<I)&&(Y=I,I=z,z=Y),(At=On(I,z,F))===0||!isFinite(At))return[];if(At>0)for(I=Math.ceil(I/At),z=Math.floor(z/At),ut=new Array(Y=Math.ceil(z-I+1));++_<Y;)ut[_]=(I+_)*At;else for(I=Math.floor(I*At),z=Math.ceil(z*At),ut=new Array(Y=Math.ceil(I-z+1));++_<Y;)ut[_]=(I-_)/At;return B&&ut.reverse(),ut}function On(I,z,F){var B=(z-I)/Math.max(0,F),_=Math.floor(Math.log(B)/Math.LN10),Y=B/Math.pow(10,_);return _>=0?(Y>=fr?10:Y>=vn?5:Y>=jn?2:1)*Math.pow(10,_):-Math.pow(10,-_)/(Y>=fr?10:Y>=vn?5:Y>=jn?2:1)}function zn(I,z,F){var B=Math.abs(z-I)/Math.max(0,F),_=Math.pow(10,Math.floor(Math.log(B)/Math.LN10)),Y=B/_;return Y>=fr?_*=10:Y>=vn?_*=5:Y>=jn&&(_*=2),z<I?-_:_}function Jn(){var I=identity,z=extent,F=sturges;function B(_){var Y,ut=_.length,At,Ct=new Array(ut);for(Y=0;Y<ut;++Y)Ct[Y]=I(_[Y],Y,_);var Yt=z(Ct),me=Yt[0],fe=Yt[1],qe=F(Ct,me,fe);Array.isArray(qe)||(qe=tickStep(me,fe,qe),qe=range(Math.ceil(me/qe)*qe,fe,qe));for(var dr=qe.length;qe[0]<=me;)qe.shift(),--dr;for(;qe[dr-1]>fe;)qe.pop(),--dr;var tn=new Array(dr+1),mn;for(Y=0;Y<=dr;++Y)mn=tn[Y]=[],mn.x0=Y>0?qe[Y-1]:me,mn.x1=Y<dr?qe[Y]:fe;for(Y=0;Y<ut;++Y)At=Ct[Y],me<=At&&At<=fe&&tn[bisect(qe,At,0,dr)].push(_[Y]);return tn}return B.value=function(_){return arguments.length?(I=typeof _=="function"?_:constant(_),B):I},B.domain=function(_){return arguments.length?(z=typeof _=="function"?_:constant([_[0],_[1]]),B):z},B.thresholds=function(_){return arguments.length?(F=typeof _=="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),B):F},B}function oi(I,z,F){return I=map.call(I,number).sort(ascending),Math.ceil((F-z)/(2*(quantile(I,.75)-quantile(I,.25))*Math.pow(I.length,-1/3)))}function ui(I){return I===null?NaN:+I}function li(I,z,F){if(F==null&&(F=ui),!!(B=I.length)){if((z=+z)<=0||B<2)return+F(I[0],0,I);if(z>=1)return+F(I[B-1],B-1,I);var B,_=(B-1)*z,Y=Math.floor(_),ut=+F(I[Y],Y,I),At=+F(I[Y+1],Y+1,I);return ut+(At-ut)*(_-Y)}}var si="$";function Kn(){}Kn.prototype=ni.prototype={constructor:Kn,has:function(I){return si+I in this},get:function(I){return this[si+I]},set:function(I,z){return this[si+I]=z,this},remove:function(I){var z=si+I;return z in this&&delete this[z]},clear:function(){for(var I in this)I[0]===si&&delete this[I]},keys:function(){var I=[];for(var z in this)z[0]===si&&I.push(z.slice(1));return I},values:function(){var I=[];for(var z in this)z[0]===si&&I.push(this[z]);return I},entries:function(){var I=[];for(var z in this)z[0]===si&&I.push({key:z.slice(1),value:this[z]});return I},size:function(){var I=0;for(var z in this)z[0]===si&&++I;return I},empty:function(){for(var I in this)if(I[0]===si)return!1;return!0},each:function(I){for(var z in this)z[0]===si&&I(this[z],z.slice(1),this)}};function ni(I,z){var F=new Kn;if(I instanceof Kn)I.each(function(At,Ct){F.set(Ct,At)});else if(Array.isArray(I)){var B=-1,_=I.length,Y;if(z==null)for(;++B<_;)F.set(B,I[B]);else for(;++B<_;)F.set(z(Y=I[B],B,I),Y)}else if(I)for(var ut in I)F.set(ut,I[ut]);return F}var Xr=ni;function An(){var I=[],z=[],F,B,_;function Y(At,Ct,Yt,me){if(Ct>=I.length)return F!=null&&At.sort(F),B!=null?B(At):At;for(var fe=-1,qe=At.length,dr=I[Ct++],tn,mn,Zn=map(),ii,bi=Yt();++fe<qe;)(ii=Zn.get(tn=dr(mn=At[fe])+""))?ii.push(mn):Zn.set(tn,[mn]);return Zn.each(function(Bi,Ni){me(bi,Ni,Y(Bi,Ct,Yt,me))}),bi}function ut(At,Ct){if(++Ct>I.length)return At;var Yt,me=z[Ct-1];return B!=null&&Ct>=I.length?Yt=At.entries():(Yt=[],At.each(function(fe,qe){Yt.push({key:qe,values:ut(fe,Ct)})})),me!=null?Yt.sort(function(fe,qe){return me(fe.key,qe.key)}):Yt}return _={object:function(At){return Y(At,0,ei,_i)},map:function(At){return Y(At,0,Vn,Ri)},entries:function(At){return ut(Y(At,0,Vn,Ri),0)},key:function(At){return I.push(At),_},sortKeys:function(At){return z[I.length-1]=At,_},sortValues:function(At){return F=At,_},rollup:function(At){return B=At,_}}}function ei(){return{}}function _i(I,z,F){I[z]=F}function Vn(){return map()}function Ri(I,z,F){I.set(z,F)}function Mi(){}var oa=Xr.prototype;Mi.prototype=Un.prototype={constructor:Mi,has:oa.has,add:function(I){return I+="",this[si+I]=I,this},remove:oa.remove,clear:oa.clear,values:oa.keys,size:oa.size,empty:oa.empty,each:oa.each};function Un(I,z){var F=new Mi;if(I instanceof Mi)I.each(function(Y){F.add(Y)});else if(I){var B=-1,_=I.length;if(z==null)for(;++B<_;)F.add(I[B]);else for(;++B<_;)F.add(z(I[B],B,I))}return F}var _n=null,Zi=Array.prototype,Ei=Zi.map,Qn=Zi.slice;function mi(I,z){switch(arguments.length){case 0:break;case 1:this.range(I);break;default:this.range(z).domain(I);break}return this}function Ii(I,z){switch(arguments.length){case 0:break;case 1:this.interpolator(I);break;default:this.interpolator(z).domain(I);break}return this}var Na={name:"implicit"};function xa(){var I=Xr(),z=[],F=[],B=Na;function _(Y){var ut=Y+"",At=I.get(ut);if(!At){if(B!==Na)return B;I.set(ut,At=z.push(Y))}return F[(At-1)%F.length]}return _.domain=function(Y){if(!arguments.length)return z.slice();z=[],I=Xr();for(var ut=-1,At=Y.length,Ct,Yt;++ut<At;)I.has(Yt=(Ct=Y[ut])+"")||I.set(Yt,z.push(Ct));return _},_.range=function(Y){return arguments.length?(F=Qn.call(Y),_):F.slice()},_.unknown=function(Y){return arguments.length?(B=Y,_):B},_.copy=function(){return xa(z,F).unknown(B)},mi.apply(_,arguments),_}function wi(){var I=ordinal().unknown(void 0),z=I.domain,F=I.range,B=[0,1],_,Y,ut=!1,At=0,Ct=0,Yt=.5;delete I.unknown;function me(){var fe=z().length,qe=B[1]<B[0],dr=B[qe-0],tn=B[1-qe];_=(tn-dr)/Math.max(1,fe-At+Ct*2),ut&&(_=Math.floor(_)),dr+=(tn-dr-_*(fe-At))*Yt,Y=_*(1-At),ut&&(dr=Math.round(dr),Y=Math.round(Y));var mn=sequence(fe).map(function(Zn){return dr+_*Zn});return F(qe?mn.reverse():mn)}return I.domain=function(fe){return arguments.length?(z(fe),me()):z()},I.range=function(fe){return arguments.length?(B=[+fe[0],+fe[1]],me()):B.slice()},I.rangeRound=function(fe){return B=[+fe[0],+fe[1]],ut=!0,me()},I.bandwidth=function(){return Y},I.step=function(){return _},I.round=function(fe){return arguments.length?(ut=!!fe,me()):ut},I.padding=function(fe){return arguments.length?(At=Math.min(1,Ct=+fe),me()):At},I.paddingInner=function(fe){return arguments.length?(At=Math.min(1,fe),me()):At},I.paddingOuter=function(fe){return arguments.length?(Ct=+fe,me()):Ct},I.align=function(fe){return arguments.length?(Yt=Math.max(0,Math.min(1,fe)),me()):Yt},I.copy=function(){return wi(z(),B).round(ut).paddingInner(At).paddingOuter(Ct).align(Yt)},initRange.apply(me(),arguments)}function Fi(I){var z=I.copy;return I.padding=I.paddingOuter,delete I.paddingInner,delete I.paddingOuter,I.copy=function(){return Fi(z())},I}function Aa(){return Fi(wi.apply(null,arguments).paddingInner(1))}var wa=S(26257),Ja=S(73626);function vs(I,z){return I=+I,z=+z,function(F){return Math.round(I*(1-F)+z*F)}}function ys(I){return function(){return I}}function Ya(I){return+I}var ru=[0,1];function ao(I){return I}function Ls(I,z){return(z-=I=+I)?function(F){return(F-I)/z}:ys(isNaN(z)?NaN:.5)}function Ms(I){var z=I[0],F=I[I.length-1],B;return z>F&&(B=z,z=F,F=B),function(_){return Math.max(z,Math.min(F,_))}}function nu(I,z,F){var B=I[0],_=I[1],Y=z[0],ut=z[1];return _<B?(B=Ls(_,B),Y=F(ut,Y)):(B=Ls(B,_),Y=F(Y,ut)),function(At){return Y(B(At))}}function cu(I,z,F){var B=Math.min(I.length,z.length)-1,_=new Array(B),Y=new Array(B),ut=-1;for(I[B]<I[0]&&(I=I.slice().reverse(),z=z.slice().reverse());++ut<B;)_[ut]=Ls(I[ut],I[ut+1]),Y[ut]=F(z[ut],z[ut+1]);return function(At){var Ct=jl(I,At,1,B)-1;return Y[Ct](_[Ct](At))}}function $s(I,z){return z.domain(I.domain()).range(I.range()).interpolate(I.interpolate()).clamp(I.clamp()).unknown(I.unknown())}function xs(){var I=ru,z=ru,F=wa.Z,B,_,Y,ut=ao,At,Ct,Yt;function me(){return At=Math.min(I.length,z.length)>2?cu:nu,Ct=Yt=null,fe}function fe(qe){return isNaN(qe=+qe)?Y:(Ct||(Ct=At(I.map(B),z,F)))(B(ut(qe)))}return fe.invert=function(qe){return ut(_((Yt||(Yt=At(z,I.map(B),Ja.Z)))(qe)))},fe.domain=function(qe){return arguments.length?(I=Ei.call(qe,Ya),ut===ao||(ut=Ms(I)),me()):I.slice()},fe.range=function(qe){return arguments.length?(z=Qn.call(qe),me()):z.slice()},fe.rangeRound=function(qe){return z=Qn.call(qe),F=vs,me()},fe.clamp=function(qe){return arguments.length?(ut=qe?Ms(I):ao,fe):ut!==ao},fe.interpolate=function(qe){return arguments.length?(F=qe,me()):F},fe.unknown=function(qe){return arguments.length?(Y=qe,fe):Y},function(qe,dr){return B=qe,_=dr,me()}}function ka(I,z){return xs()(I,z)}var hu=S(46196),co=S(33085);function iu(I,z){return Math.max(0,Math.max(-8,Math.min(8,Math.floor((0,co.Z)(z)/3)))*3-(0,co.Z)(Math.abs(I)))}var ya=S(28602);function Xa(I,z){return I=Math.abs(I),z=Math.abs(z)-I,Math.max(0,(0,co.Z)(z)-(0,co.Z)(I))+1}function _o(I){return Math.max(0,-(0,co.Z)(Math.abs(I)))}function ks(I,z,F,B){var _=zn(I,z,F),Y;switch(B=(0,hu.Z)(B==null?",f":B),B.type){case"s":{var ut=Math.max(Math.abs(I),Math.abs(z));return B.precision==null&&!isNaN(Y=iu(_,ut))&&(B.precision=Y),(0,ya.jH)(B,ut)}case"":case"e":case"g":case"p":case"r":{B.precision==null&&!isNaN(Y=Xa(_,Math.max(Math.abs(I),Math.abs(z))))&&(B.precision=Y-(B.type==="e"));break}case"f":case"%":{B.precision==null&&!isNaN(Y=_o(_))&&(B.precision=Y-(B.type==="%")*2);break}}return(0,ya.WU)(B)}function ju(I){var z=I.domain;return I.ticks=function(F){var B=z();return hn(B[0],B[B.length-1],F==null?10:F)},I.tickFormat=function(F,B){var _=z();return ks(_[0],_[_.length-1],F==null?10:F,B)},I.nice=function(F){F==null&&(F=10);var B=z(),_=0,Y=B.length-1,ut=B[_],At=B[Y],Ct;return At<ut&&(Ct=ut,ut=At,At=Ct,Ct=_,_=Y,Y=Ct),Ct=On(ut,At,F),Ct>0?(ut=Math.floor(ut/Ct)*Ct,At=Math.ceil(At/Ct)*Ct,Ct=On(ut,At,F)):Ct<0&&(ut=Math.ceil(ut*Ct)/Ct,At=Math.floor(At*Ct)/Ct,Ct=On(ut,At,F)),Ct>0?(B[_]=Math.floor(ut/Ct)*Ct,B[Y]=Math.ceil(At/Ct)*Ct,z(B)):Ct<0&&(B[_]=Math.ceil(ut*Ct)/Ct,B[Y]=Math.floor(At*Ct)/Ct,z(B)),I},I}function ir(){var I=ka(ao,ao);return I.copy=function(){return $s(I,ir())},mi.apply(I,arguments),ju(I)}function yn(I){var z;function F(B){return isNaN(B=+B)?z:B}return F.invert=F,F.domain=F.range=function(B){return arguments.length?(I=Ei.call(B,Ya),F):I.slice()},F.unknown=function(B){return arguments.length?(z=B,F):z},F.copy=function(){return yn(I).unknown(z)},I=arguments.length?Ei.call(I,Ya):[0,1],ju(F)}function un(I,z){I=I.slice();var F=0,B=I.length-1,_=I[F],Y=I[B],ut;return Y<_&&(ut=F,F=B,B=ut,ut=_,_=Y,Y=ut),I[F]=z.floor(_),I[B]=z.ceil(Y),I}function Ui(I){return Math.log(I)}function Ka(I){return Math.exp(I)}function Ke(I){return-Math.log(-I)}function Ce(I){return-Math.exp(-I)}function Ar(I){return isFinite(I)?+("1e"+I):I<0?0:I}function $r(I){return I===10?Ar:I===Math.E?Math.exp:function(z){return Math.pow(I,z)}}function gn(I){return I===Math.E?Math.log:I===10&&Math.log10||I===2&&Math.log2||(I=Math.log(I),function(z){return Math.log(z)/I})}function Ir(I){return function(z){return-I(-z)}}function Pr(I){var z=I(Ui,Ka),F=z.domain,B=10,_,Y;function ut(){return _=gn(B),Y=$r(B),F()[0]<0?(_=Ir(_),Y=Ir(Y),I(Ke,Ce)):I(Ui,Ka),z}return z.base=function(At){return arguments.length?(B=+At,ut()):B},z.domain=function(At){return arguments.length?(F(At),ut()):F()},z.ticks=function(At){var Ct=F(),Yt=Ct[0],me=Ct[Ct.length-1],fe;(fe=me<Yt)&&(qe=Yt,Yt=me,me=qe);var qe=_(Yt),dr=_(me),tn,mn,Zn,ii=At==null?10:+At,bi=[];if(!(B%1)&&dr-qe<ii){if(qe=Math.round(qe)-1,dr=Math.round(dr)+1,Yt>0){for(;qe<dr;++qe)for(mn=1,tn=Y(qe);mn<B;++mn)if(Zn=tn*mn,!(Zn<Yt)){if(Zn>me)break;bi.push(Zn)}}else for(;qe<dr;++qe)for(mn=B-1,tn=Y(qe);mn>=1;--mn)if(Zn=tn*mn,!(Zn<Yt)){if(Zn>me)break;bi.push(Zn)}}else bi=hn(qe,dr,Math.min(dr-qe,ii)).map(Y);return fe?bi.reverse():bi},z.tickFormat=function(At,Ct){if(Ct==null&&(Ct=B===10?".0e":","),typeof Ct!="function"&&(Ct=(0,ya.WU)(Ct)),At===Infinity)return Ct;At==null&&(At=10);var Yt=Math.max(1,B*At/z.ticks().length);return function(me){var fe=me/Y(Math.round(_(me)));return fe*B<B-.5&&(fe*=B),fe<=Yt?Ct(me):""}},z.nice=function(){return F(un(F(),{floor:function(At){return Y(Math.floor(_(At)))},ceil:function(At){return Y(Math.ceil(_(At)))}}))},z}function Nr(){var I=Pr(xs()).domain([1,10]);return I.copy=function(){return $s(I,Nr()).base(I.base())},mi.apply(I,arguments),I}function ze(I){return function(z){return Math.sign(z)*Math.log1p(Math.abs(z/I))}}function Sr(I){return function(z){return Math.sign(z)*Math.expm1(Math.abs(z))*I}}function Je(I){var z=1,F=I(ze(z),Sr(z));return F.constant=function(B){return arguments.length?I(ze(z=+B),Sr(z)):z},linearish(F)}function Qr(){var I=Je(transformer());return I.copy=function(){return copy(I,Qr()).constant(I.constant())},initRange.apply(I,arguments)}function an(I){return function(z){return z<0?-Math.pow(-z,I):Math.pow(z,I)}}function Gn(I){return I<0?-Math.sqrt(-I):Math.sqrt(I)}function yi(I){return I<0?-I*I:I*I}function xi(I){var z=I(ao,ao),F=1;function B(){return F===1?I(ao,ao):F===.5?I(Gn,yi):I(an(F),an(1/F))}return z.exponent=function(_){return arguments.length?(F=+_,B()):F},ju(z)}function Pi(){var I=xi(xs());return I.copy=function(){return $s(I,Pi()).exponent(I.exponent())},mi.apply(I,arguments),I}function vi(){return Pi.apply(null,arguments).exponent(.5)}function Xi(){var I=[],z=[],F=[],B;function _(){var ut=0,At=Math.max(1,z.length);for(F=new Array(At-1);++ut<At;)F[ut-1]=li(I,ut/At);return Y}function Y(ut){return isNaN(ut=+ut)?B:z[jl(F,ut)]}return Y.invertExtent=function(ut){var At=z.indexOf(ut);return At<0?[NaN,NaN]:[At>0?F[At-1]:I[0],At<F.length?F[At]:I[I.length-1]]},Y.domain=function(ut){if(!arguments.length)return I.slice();I=[];for(var At=0,Ct=ut.length,Yt;At<Ct;++At)Yt=ut[At],Yt!=null&&!isNaN(Yt=+Yt)&&I.push(Yt);return I.sort(Jl),_()},Y.range=function(ut){return arguments.length?(z=Qn.call(ut),_()):z.slice()},Y.unknown=function(ut){return arguments.length?(B=ut,Y):B},Y.quantiles=function(){return F.slice()},Y.copy=function(){return Xi().domain(I).range(z).unknown(B)},mi.apply(Y,arguments)}function ji(){var I=0,z=1,F=1,B=[.5],_=[0,1],Y;function ut(Ct){return Ct<=Ct?_[jl(B,Ct,0,F)]:Y}function At(){var Ct=-1;for(B=new Array(F);++Ct<F;)B[Ct]=((Ct+1)*z-(Ct-F)*I)/(F+1);return ut}return ut.domain=function(Ct){return arguments.length?(I=+Ct[0],z=+Ct[1],At()):[I,z]},ut.range=function(Ct){return arguments.length?(F=(_=Qn.call(Ct)).length-1,At()):_.slice()},ut.invertExtent=function(Ct){var Yt=_.indexOf(Ct);return Yt<0?[NaN,NaN]:Yt<1?[I,B[0]]:Yt>=F?[B[F-1],z]:[B[Yt-1],B[Yt]]},ut.unknown=function(Ct){return arguments.length&&(Y=Ct),ut},ut.thresholds=function(){return B.slice()},ut.copy=function(){return ji().domain([I,z]).range(_).unknown(Y)},mi.apply(ju(ut),arguments)}function Wi(){var I=[.5],z=[0,1],F,B=1;function _(Y){return Y<=Y?z[jl(I,Y,0,B)]:F}return _.domain=function(Y){return arguments.length?(I=Qn.call(Y),B=Math.min(I.length,z.length-1),_):I.slice()},_.range=function(Y){return arguments.length?(z=Qn.call(Y),B=Math.min(I.length,z.length-1),_):z.slice()},_.invertExtent=function(Y){var ut=z.indexOf(Y);return[I[ut-1],I[ut]]},_.unknown=function(Y){return arguments.length?(F=Y,_):F},_.copy=function(){return Wi().domain(I).range(z).unknown(F)},mi.apply(_,arguments)}var Gi=new Date,Hi=new Date;function ia(I,z,F,B){function _(Y){return I(Y=arguments.length===0?new Date:new Date(+Y)),Y}return _.floor=function(Y){return I(Y=new Date(+Y)),Y},_.ceil=function(Y){return I(Y=new Date(Y-1)),z(Y,1),I(Y),Y},_.round=function(Y){var ut=_(Y),At=_.ceil(Y);return Y-ut<At-Y?ut:At},_.offset=function(Y,ut){return z(Y=new Date(+Y),ut==null?1:Math.floor(ut)),Y},_.range=function(Y,ut,At){var Ct=[],Yt;if(Y=_.ceil(Y),At=At==null?1:Math.floor(At),!(Y<ut)||!(At>0))return Ct;do Ct.push(Yt=new Date(+Y)),z(Y,At),I(Y);while(Yt<Y&&Y<ut);return Ct},_.filter=function(Y){return ia(function(ut){if(ut>=ut)for(;I(ut),!Y(ut);)ut.setTime(ut-1)},function(ut,At){if(ut>=ut)if(At<0)for(;++At<=0;)for(;z(ut,-1),!Y(ut););else for(;--At>=0;)for(;z(ut,1),!Y(ut););})},F&&(_.count=function(Y,ut){return Gi.setTime(+Y),Hi.setTime(+ut),I(Gi),I(Hi),Math.floor(F(Gi,Hi))},_.every=function(Y){return Y=Math.floor(Y),!isFinite(Y)||!(Y>0)?null:Y>1?_.filter(B?function(ut){return B(ut)%Y==0}:function(ut){return _.count(0,ut)%Y==0}):_}),_}var Uo=ia(function(I){I.setMonth(0,1),I.setHours(0,0,0,0)},function(I,z){I.setFullYear(I.getFullYear()+z)},function(I,z){return z.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Uo.every=function(I){return!isFinite(I=Math.floor(I))||!(I>0)?null:ia(function(z){z.setFullYear(Math.floor(z.getFullYear()/I)*I),z.setMonth(0,1),z.setHours(0,0,0,0)},function(z,F){z.setFullYear(z.getFullYear()+F*I)})};var Cs=Uo,rl=Uo.range,Hu=ia(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,z){I.setMonth(I.getMonth()+z)},function(I,z){return z.getMonth()-I.getMonth()+(z.getFullYear()-I.getFullYear())*12},function(I){return I.getMonth()}),$u=Hu,Du=Hu.range,Fu=1e3,Au=6e4,tf=36e5,_u=864e5,ef=6048e5;function Ml(I){return ia(function(z){z.setDate(z.getDate()-(z.getDay()+7-I)%7),z.setHours(0,0,0,0)},function(z,F){z.setDate(z.getDate()+F*7)},function(z,F){return(F-z-(F.getTimezoneOffset()-z.getTimezoneOffset())*Au)/ef})}var lc=Ml(0),jf=Ml(1),Oh=Ml(2),Th=Ml(3),_l=Ml(4),wh=Ml(5),Ih=Ml(6),Id=lc.range,Ld=jf.range,Dd=Oh.range,Rd=Th.range,Nd=_l.range,Fd=wh.range,Bd=Ih.range,mc=ia(function(I){I.setHours(0,0,0,0)},function(I,z){I.setDate(I.getDate()+z)},function(I,z){return(z-I-(z.getTimezoneOffset()-I.getTimezoneOffset())*Au)/_u},function(I){return I.getDate()-1}),fc=mc,jd=mc.range,yc=ia(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*Fu-I.getMinutes()*Au)},function(I,z){I.setTime(+I+z*tf)},function(I,z){return(z-I)/tf},function(I){return I.getHours()}),Lh=yc,_d=yc.range,xc=ia(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*Fu)},function(I,z){I.setTime(+I+z*Au)},function(I,z){return(z-I)/Au},function(I){return I.getMinutes()}),Dh=xc,Ud=xc.range,Sc=ia(function(I){I.setTime(I-I.getMilliseconds())},function(I,z){I.setTime(+I+z*Fu)},function(I,z){return(z-I)/Fu},function(I){return I.getUTCSeconds()}),Rh=Sc,kd=Sc.range,_f=ia(function(){},function(I,z){I.setTime(+I+z)},function(I,z){return z-I});_f.every=function(I){return I=Math.floor(I),!isFinite(I)||!(I>0)?null:I>1?ia(function(z){z.setTime(Math.floor(z/I)*I)},function(z,F){z.setTime(+z+F*I)},function(z,F){return(F-z)/I}):_f};var Nh=_f,zd=_f.range;function Cl(I){return ia(function(z){z.setUTCDate(z.getUTCDate()-(z.getUTCDay()+7-I)%7),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCDate(z.getUTCDate()+F*7)},function(z,F){return(F-z)/ef})}var Ec=Cl(0),Uf=Cl(1),Fh=Cl(2),Bh=Cl(3),Ul=Cl(4),jh=Cl(5),_h=Cl(6),Zd=Ec.range,Wd=Uf.range,Gd=Fh.range,Vd=Bh.range,Hd=Ul.range,Yd=jh.range,Xd=_h.range,bc=ia(function(I){I.setUTCHours(0,0,0,0)},function(I,z){I.setUTCDate(I.getUTCDate()+z)},function(I,z){return(z-I)/_u},function(I){return I.getUTCDate()-1}),Ac=bc,Kd=bc.range,cc=ia(function(I){I.setUTCMonth(0,1),I.setUTCHours(0,0,0,0)},function(I,z){I.setUTCFullYear(I.getUTCFullYear()+z)},function(I,z){return z.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});cc.every=function(I){return!isFinite(I=Math.floor(I))||!(I>0)?null:ia(function(z){z.setUTCFullYear(Math.floor(z.getUTCFullYear()/I)*I),z.setUTCMonth(0,1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCFullYear(z.getUTCFullYear()+F*I)})};var rf=cc,$d=cc.range;function hc(I){if(0<=I.y&&I.y<100){var z=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);return z.setFullYear(I.y),z}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function vc(I){if(0<=I.y&&I.y<100){var z=new Date(Date.UTC(-1,I.m,I.d,I.H,I.M,I.S,I.L));return z.setUTCFullYear(I.y),z}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function nf(I,z,F){return{y:I,m:z,d:F,H:0,M:0,S:0,L:0}}function Uh(I){var z=I.dateTime,F=I.date,B=I.time,_=I.periods,Y=I.days,ut=I.shortDays,At=I.months,Ct=I.shortMonths,Yt=af(_),me=of(_),fe=af(Y),qe=of(Y),dr=af(ut),tn=of(ut),mn=af(At),Zn=of(At),ii=af(Ct),bi=of(Ct),Bi={a:yd,A:xd,b:Sd,B:Ed,c:null,d:wc,e:wc,f:uv,g:yv,G:Sv,H:av,I:ov,j:sv,L:Ic,m:lv,M:fv,p:bd,q:Ad,Q:Bc,s:jc,S:cv,u:hv,U:vv,V:dv,w:pv,W:gv,x:null,X:null,y:mv,Y:xv,Z:Ev,"%":Fc},Ni={a:Md,A:Cd,b:Pd,B:Od,c:null,d:Dc,e:Dc,f:Cv,g:Fv,G:jv,H:bv,I:Av,j:Mv,L:Rc,m:Pv,M:Ov,p:Td,q:wd,Q:Bc,s:jc,S:Tv,u:wv,U:Iv,V:Lv,w:Dv,W:Rv,x:null,X:null,y:Nv,Y:Bv,Z:_v,"%":Fc},la={a:oo,A:Oo,b:ko,B:zs,c:Ju,d:Oc,e:Oc,f:ev,g:Pc,G:Cc,H:Tc,I:Tc,j:Qh,L:tv,m:$h,M:Jh,p:Ga,q:Kh,Q:nv,s:iv,S:qh,u:Gh,U:Vh,V:Hh,w:Wh,W:Yh,x:Vf,X:md,y:Pc,Y:Cc,Z:Xh,"%":rv};Bi.x=Qi(F,Bi),Bi.X=Qi(B,Bi),Bi.c=Qi(z,Bi),Ni.x=Qi(F,Ni),Ni.X=Qi(B,Ni),Ni.c=Qi(z,Ni);function Qi(Ma,To){return function(Ho){var ki=[],Uu=-1,Ps=0,zu=Ma.length,Zu,Pl,Ph;for(Ho instanceof Date||(Ho=new Date(+Ho));++Uu<zu;)Ma.charCodeAt(Uu)===37&&(ki.push(Ma.slice(Ps,Uu)),(Pl=Mc[Zu=Ma.charAt(++Uu)])!=null?Zu=Ma.charAt(++Uu):Pl=Zu==="e"?" ":"0",(Ph=To[Zu])&&(Zu=Ph(Ho,Pl)),ki.push(Zu),Ps=Uu+1);return ki.push(Ma.slice(Ps,Uu)),ki.join("")}}function Ji(Ma,To){return function(Ho){var ki=nf(1900,void 0,1),Uu=Ca(ki,Ma,Ho+="",0),Ps,zu;if(Uu!=Ho.length)return null;if("Q"in ki)return new Date(ki.Q);if("s"in ki)return new Date(ki.s*1e3+("L"in ki?ki.L:0));if(To&&!("Z"in ki)&&(ki.Z=0),"p"in ki&&(ki.H=ki.H%12+ki.p*12),ki.m===void 0&&(ki.m="q"in ki?ki.q:0),"V"in ki){if(ki.V<1||ki.V>53)return null;"w"in ki||(ki.w=1),"Z"in ki?(Ps=vc(nf(ki.y,0,1)),zu=Ps.getUTCDay(),Ps=zu>4||zu===0?Uf.ceil(Ps):Uf(Ps),Ps=Ac.offset(Ps,(ki.V-1)*7),ki.y=Ps.getUTCFullYear(),ki.m=Ps.getUTCMonth(),ki.d=Ps.getUTCDate()+(ki.w+6)%7):(Ps=hc(nf(ki.y,0,1)),zu=Ps.getDay(),Ps=zu>4||zu===0?jf.ceil(Ps):jf(Ps),Ps=fc.offset(Ps,(ki.V-1)*7),ki.y=Ps.getFullYear(),ki.m=Ps.getMonth(),ki.d=Ps.getDate()+(ki.w+6)%7)}else("W"in ki||"U"in ki)&&("w"in ki||(ki.w="u"in ki?ki.u%7:"W"in ki?1:0),zu="Z"in ki?vc(nf(ki.y,0,1)).getUTCDay():hc(nf(ki.y,0,1)).getDay(),ki.m=0,ki.d="W"in ki?(ki.w+6)%7+ki.W*7-(zu+5)%7:ki.w+ki.U*7-(zu+6)%7);return"Z"in ki?(ki.H+=ki.Z/100|0,ki.M+=ki.Z%100,vc(ki)):hc(ki)}}function Ca(Ma,To,Ho,ki){for(var Uu=0,Ps=To.length,zu=Ho.length,Zu,Pl;Uu<Ps;){if(ki>=zu)return-1;if(Zu=To.charCodeAt(Uu++),Zu===37){if(Zu=To.charAt(Uu++),Pl=la[Zu in Mc?To.charAt(Uu++):Zu],!Pl||(ki=Pl(Ma,Ho,ki))<0)return-1}else if(Zu!=Ho.charCodeAt(ki++))return-1}return ki}function Ga(Ma,To,Ho){var ki=Yt.exec(To.slice(Ho));return ki?(Ma.p=me[ki[0].toLowerCase()],Ho+ki[0].length):-1}function oo(Ma,To,Ho){var ki=dr.exec(To.slice(Ho));return ki?(Ma.w=tn[ki[0].toLowerCase()],Ho+ki[0].length):-1}function Oo(Ma,To,Ho){var ki=fe.exec(To.slice(Ho));return ki?(Ma.w=qe[ki[0].toLowerCase()],Ho+ki[0].length):-1}function ko(Ma,To,Ho){var ki=ii.exec(To.slice(Ho));return ki?(Ma.m=bi[ki[0].toLowerCase()],Ho+ki[0].length):-1}function zs(Ma,To,Ho){var ki=mn.exec(To.slice(Ho));return ki?(Ma.m=Zn[ki[0].toLowerCase()],Ho+ki[0].length):-1}function Ju(Ma,To,Ho){return Ca(Ma,z,To,Ho)}function Vf(Ma,To,Ho){return Ca(Ma,F,To,Ho)}function md(Ma,To,Ho){return Ca(Ma,B,To,Ho)}function yd(Ma){return ut[Ma.getDay()]}function xd(Ma){return Y[Ma.getDay()]}function Sd(Ma){return Ct[Ma.getMonth()]}function Ed(Ma){return At[Ma.getMonth()]}function bd(Ma){return _[+(Ma.getHours()>=12)]}function Ad(Ma){return 1+~~(Ma.getMonth()/3)}function Md(Ma){return ut[Ma.getUTCDay()]}function Cd(Ma){return Y[Ma.getUTCDay()]}function Pd(Ma){return Ct[Ma.getUTCMonth()]}function Od(Ma){return At[Ma.getUTCMonth()]}function Td(Ma){return _[+(Ma.getUTCHours()>=12)]}function wd(Ma){return 1+~~(Ma.getUTCMonth()/3)}return{format:function(Ma){var To=Qi(Ma+="",Bi);return To.toString=function(){return Ma},To},parse:function(Ma){var To=Ji(Ma+="",!1);return To.toString=function(){return Ma},To},utcFormat:function(Ma){var To=Qi(Ma+="",Ni);return To.toString=function(){return Ma},To},utcParse:function(Ma){var To=Ji(Ma+="",!0);return To.toString=function(){return Ma},To}}}var Mc={"-":"",_:" ","0":"0"},Mu=/^\s*\d+/,kh=/^%/,zh=/[\\^$*+?|[\]().{}]/g;function Vo(I,z,F){var B=I<0?"-":"",_=(B?-I:I)+"",Y=_.length;return B+(Y<F?new Array(F-Y+1).join(z)+_:_)}function Zh(I){return I.replace(zh,"\\$&")}function af(I){return new RegExp("^(?:"+I.map(Zh).join("|")+")","i")}function of(I){for(var z={},F=-1,B=I.length;++F<B;)z[I[F].toLowerCase()]=F;return z}function Wh(I,z,F){var B=Mu.exec(z.slice(F,F+1));return B?(I.w=+B[0],F+B[0].length):-1}function Gh(I,z,F){var B=Mu.exec(z.slice(F,F+1));return B?(I.u=+B[0],F+B[0].length):-1}function Vh(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.U=+B[0],F+B[0].length):-1}function Hh(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.V=+B[0],F+B[0].length):-1}function Yh(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.W=+B[0],F+B[0].length):-1}function Cc(I,z,F){var B=Mu.exec(z.slice(F,F+4));return B?(I.y=+B[0],F+B[0].length):-1}function Pc(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.y=+B[0]+(+B[0]>68?1900:2e3),F+B[0].length):-1}function Xh(I,z,F){var B=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(z.slice(F,F+6));return B?(I.Z=B[1]?0:-(B[2]+(B[3]||"00")),F+B[0].length):-1}function Kh(I,z,F){var B=Mu.exec(z.slice(F,F+1));return B?(I.q=B[0]*3-3,F+B[0].length):-1}function $h(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.m=B[0]-1,F+B[0].length):-1}function Oc(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.d=+B[0],F+B[0].length):-1}function Qh(I,z,F){var B=Mu.exec(z.slice(F,F+3));return B?(I.m=0,I.d=+B[0],F+B[0].length):-1}function Tc(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.H=+B[0],F+B[0].length):-1}function Jh(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.M=+B[0],F+B[0].length):-1}function qh(I,z,F){var B=Mu.exec(z.slice(F,F+2));return B?(I.S=+B[0],F+B[0].length):-1}function tv(I,z,F){var B=Mu.exec(z.slice(F,F+3));return B?(I.L=+B[0],F+B[0].length):-1}function ev(I,z,F){var B=Mu.exec(z.slice(F,F+6));return B?(I.L=Math.floor(B[0]/1e3),F+B[0].length):-1}function rv(I,z,F){var B=kh.exec(z.slice(F,F+1));return B?F+B[0].length:-1}function nv(I,z,F){var B=Mu.exec(z.slice(F));return B?(I.Q=+B[0],F+B[0].length):-1}function iv(I,z,F){var B=Mu.exec(z.slice(F));return B?(I.s=+B[0],F+B[0].length):-1}function wc(I,z){return Vo(I.getDate(),z,2)}function av(I,z){return Vo(I.getHours(),z,2)}function ov(I,z){return Vo(I.getHours()%12||12,z,2)}function sv(I,z){return Vo(1+fc.count(Cs(I),I),z,3)}function Ic(I,z){return Vo(I.getMilliseconds(),z,3)}function uv(I,z){return Ic(I,z)+"000"}function lv(I,z){return Vo(I.getMonth()+1,z,2)}function fv(I,z){return Vo(I.getMinutes(),z,2)}function cv(I,z){return Vo(I.getSeconds(),z,2)}function hv(I){var z=I.getDay();return z===0?7:z}function vv(I,z){return Vo(lc.count(Cs(I)-1,I),z,2)}function Lc(I){var z=I.getDay();return z>=4||z===0?_l(I):_l.ceil(I)}function dv(I,z){return I=Lc(I),Vo(_l.count(Cs(I),I)+(Cs(I).getDay()===4),z,2)}function pv(I){return I.getDay()}function gv(I,z){return Vo(jf.count(Cs(I)-1,I),z,2)}function mv(I,z){return Vo(I.getFullYear()%100,z,2)}function yv(I,z){return I=Lc(I),Vo(I.getFullYear()%100,z,2)}function xv(I,z){return Vo(I.getFullYear()%1e4,z,4)}function Sv(I,z){var F=I.getDay();return I=F>=4||F===0?_l(I):_l.ceil(I),Vo(I.getFullYear()%1e4,z,4)}function Ev(I){var z=I.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+Vo(z/60|0,"0",2)+Vo(z%60,"0",2)}function Dc(I,z){return Vo(I.getUTCDate(),z,2)}function bv(I,z){return Vo(I.getUTCHours(),z,2)}function Av(I,z){return Vo(I.getUTCHours()%12||12,z,2)}function Mv(I,z){return Vo(1+Ac.count(rf(I),I),z,3)}function Rc(I,z){return Vo(I.getUTCMilliseconds(),z,3)}function Cv(I,z){return Rc(I,z)+"000"}function Pv(I,z){return Vo(I.getUTCMonth()+1,z,2)}function Ov(I,z){return Vo(I.getUTCMinutes(),z,2)}function Tv(I,z){return Vo(I.getUTCSeconds(),z,2)}function wv(I){var z=I.getUTCDay();return z===0?7:z}function Iv(I,z){return Vo(Ec.count(rf(I)-1,I),z,2)}function Nc(I){var z=I.getUTCDay();return z>=4||z===0?Ul(I):Ul.ceil(I)}function Lv(I,z){return I=Nc(I),Vo(Ul.count(rf(I),I)+(rf(I).getUTCDay()===4),z,2)}function Dv(I){return I.getUTCDay()}function Rv(I,z){return Vo(Uf.count(rf(I)-1,I),z,2)}function Nv(I,z){return Vo(I.getUTCFullYear()%100,z,2)}function Fv(I,z){return I=Nc(I),Vo(I.getUTCFullYear()%100,z,2)}function Bv(I,z){return Vo(I.getUTCFullYear()%1e4,z,4)}function jv(I,z){var F=I.getUTCDay();return I=F>=4||F===0?Ul(I):Ul.ceil(I),Vo(I.getUTCFullYear()%1e4,z,4)}function _v(){return"+0000"}function Fc(){return"%"}function Bc(I){return+I}function jc(I){return Math.floor(+I/1e3)}var kl,_c,Uv,kv,zv;Zv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zv(I){return kl=Uh(I),_c=kl.format,Uv=kl.parse,kv=kl.utcFormat,zv=kl.utcParse,kl}var sf=1e3,uf=sf*60,lf=uf*60,ff=lf*24,Wv=ff*7,Uc=ff*30,dc=ff*365;function Gv(I){return new Date(I)}function Vv(I){return I instanceof Date?+I:+new Date(+I)}function kc(I,z,F,B,_,Y,ut,At,Ct){var Yt=ka(ao,ao),me=Yt.invert,fe=Yt.domain,qe=Ct(".%L"),dr=Ct(":%S"),tn=Ct("%I:%M"),mn=Ct("%I %p"),Zn=Ct("%a %d"),ii=Ct("%b %d"),bi=Ct("%B"),Bi=Ct("%Y"),Ni=[[ut,1,sf],[ut,5,5*sf],[ut,15,15*sf],[ut,30,30*sf],[Y,1,uf],[Y,5,5*uf],[Y,15,15*uf],[Y,30,30*uf],[_,1,lf],[_,3,3*lf],[_,6,6*lf],[_,12,12*lf],[B,1,ff],[B,2,2*ff],[F,1,Wv],[z,1,Uc],[z,3,3*Uc],[I,1,dc]];function la(Ji){return(ut(Ji)<Ji?qe:Y(Ji)<Ji?dr:_(Ji)<Ji?tn:B(Ji)<Ji?mn:z(Ji)<Ji?F(Ji)<Ji?Zn:ii:I(Ji)<Ji?bi:Bi)(Ji)}function Qi(Ji,Ca,Ga,oo){if(Ji==null&&(Ji=10),typeof Ji=="number"){var Oo=Math.abs(Ga-Ca)/Ji,ko=Df(function(zs){return zs[2]}).right(Ni,Oo);ko===Ni.length?(oo=zn(Ca/dc,Ga/dc,Ji),Ji=I):ko?(ko=Ni[Oo/Ni[ko-1][2]<Ni[ko][2]/Oo?ko-1:ko],oo=ko[1],Ji=ko[0]):(oo=Math.max(zn(Ca,Ga,Ji),1),Ji=At)}return oo==null?Ji:Ji.every(oo)}return Yt.invert=function(Ji){return new Date(me(Ji))},Yt.domain=function(Ji){return arguments.length?fe(Ei.call(Ji,Vv)):fe().map(Gv)},Yt.ticks=function(Ji,Ca){var Ga=fe(),oo=Ga[0],Oo=Ga[Ga.length-1],ko=Oo<oo,zs;return ko&&(zs=oo,oo=Oo,Oo=zs),zs=Qi(Ji,oo,Oo,Ca),zs=zs?zs.range(oo,Oo+1):[],ko?zs.reverse():zs},Yt.tickFormat=function(Ji,Ca){return Ca==null?la:Ct(Ca)},Yt.nice=function(Ji,Ca){var Ga=fe();return(Ji=Qi(Ji,Ga[0],Ga[Ga.length-1],Ca))?fe(un(Ga,Ji)):Yt},Yt.copy=function(){return $s(Yt,kc(I,z,F,B,_,Y,ut,At,Ct))},Yt}function Hv(){return mi.apply(kc(Cs,$u,lc,fc,Lh,Dh,Rh,Nh,_c).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qd(){return initRange.apply(calendar(utcYear,utcMonth,utcWeek,utcDay,utcHour,utcMinute,utcSecond,utcMillisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kf(){var I=0,z=1,F,B,_,Y,ut=identity,At=!1,Ct;function Yt(me){return isNaN(me=+me)?Ct:ut(_===0?.5:(me=(Y(me)-F)*_,At?Math.max(0,Math.min(1,me)):me))}return Yt.domain=function(me){return arguments.length?(F=Y(I=+me[0]),B=Y(z=+me[1]),_=F===B?0:1/(B-F),Yt):[I,z]},Yt.clamp=function(me){return arguments.length?(At=!!me,Yt):At},Yt.interpolator=function(me){return arguments.length?(ut=me,Yt):ut},Yt.unknown=function(me){return arguments.length?(Ct=me,Yt):Ct},function(me){return Y=me,F=me(I),B=me(z),_=F===B?0:1/(B-F),Yt}}function zf(I,z){return z.domain(I.domain()).interpolator(I.interpolator()).clamp(I.clamp()).unknown(I.unknown())}function Yv(){var I=linearish(kf()(identity));return I.copy=function(){return zf(I,Yv())},initInterpolator.apply(I,arguments)}function Xv(){var I=loggish(kf()).domain([1,10]);return I.copy=function(){return zf(I,Xv()).base(I.base())},initInterpolator.apply(I,arguments)}function Kv(){var I=symlogish(kf());return I.copy=function(){return zf(I,Kv()).constant(I.constant())},initInterpolator.apply(I,arguments)}function zc(){var I=powish(kf());return I.copy=function(){return zf(I,zc()).exponent(I.exponent())},initInterpolator.apply(I,arguments)}function Jd(){return zc.apply(null,arguments).exponent(.5)}function $v(){var I=[],z=identity;function F(B){if(!isNaN(B=+B))return z((bisect(I,B)-1)/(I.length-1))}return F.domain=function(B){if(!arguments.length)return I.slice();I=[];for(var _=0,Y=B.length,ut;_<Y;++_)ut=B[_],ut!=null&&!isNaN(ut=+ut)&&I.push(ut);return I.sort(ascending),F},F.interpolator=function(B){return arguments.length?(z=B,F):z},F.copy=function(){return $v(z).domain(I)},initInterpolator.apply(F,arguments)}function Zf(){var I=0,z=.5,F=1,B,_,Y,ut,At,Ct=identity,Yt,me=!1,fe;function qe(dr){return isNaN(dr=+dr)?fe:(dr=.5+((dr=+Yt(dr))-_)*(dr<_?ut:At),Ct(me?Math.max(0,Math.min(1,dr)):dr))}return qe.domain=function(dr){return arguments.length?(B=Yt(I=+dr[0]),_=Yt(z=+dr[1]),Y=Yt(F=+dr[2]),ut=B===_?0:.5/(_-B),At=_===Y?0:.5/(Y-_),qe):[I,z,F]},qe.clamp=function(dr){return arguments.length?(me=!!dr,qe):me},qe.interpolator=function(dr){return arguments.length?(Ct=dr,qe):Ct},qe.unknown=function(dr){return arguments.length?(fe=dr,qe):fe},function(dr){return Yt=dr,B=dr(I),_=dr(z),Y=dr(F),ut=B===_?0:.5/(_-B),At=_===Y?0:.5/(Y-_),qe}}function Qv(){var I=linearish(Zf()(identity));return I.copy=function(){return copy(I,Qv())},initInterpolator.apply(I,arguments)}function Jv(){var I=loggish(Zf()).domain([.1,1,10]);return I.copy=function(){return copy(I,Jv()).base(I.base())},initInterpolator.apply(I,arguments)}function qv(){var I=symlogish(Zf());return I.copy=function(){return copy(I,qv()).constant(I.constant())},initInterpolator.apply(I,arguments)}function Zc(){var I=powish(Zf());return I.copy=function(){return copy(I,Zc()).exponent(I.exponent())},initInterpolator.apply(I,arguments)}function qd(){return Zc.apply(null,arguments).exponent(.5)}var Qu,Wc,Gc,Vc,pc,Hc,td=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,ed=(Qu={},(0,O.Z)(Qu,Rt.ScaleTypes.LINEAR,ir),(0,O.Z)(Qu,Rt.ScaleTypes.POWER,Pi),(0,O.Z)(Qu,Rt.ScaleTypes.LOG,Nr),(0,O.Z)(Qu,Rt.ScaleTypes.IDENTITY,yn),(0,O.Z)(Qu,Rt.ScaleTypes.TIME,Hv),(0,O.Z)(Qu,Rt.ScaleTypes.QUANTILE,Xi),(0,O.Z)(Qu,Rt.ScaleTypes.QUANTIZE,ji),(0,O.Z)(Qu,Rt.ScaleTypes.THRESHOLD,Wi),(0,O.Z)(Qu,Rt.ScaleTypes.CAT,xa),Qu),rd=(Wc=(0,$a.b2)(),Gc=(0,$a.f3)(Rt.vK.IGlobalConfigService),Wc(Vc=(pc=function(){function I(){(0,Se.Z)(this,I),(0,Co.Z)(this,"configService",Hc,this),(0,O.Z)(this,"scaleCache",{}),(0,O.Z)(this,"scaleOptions",{})}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=this,Y=B.styleAttributeService;F.hooks.init.tap("FeatureScalePlugin",function(){_.scaleOptions=F.getScaleOptions();var ut=Y.getLayerStyleAttributes(),At=F.getSource().data.dataArray;At.length!==0&&_.caculateScalesForAttributes(ut||[],At)}),F.hooks.beforeRenderData.tap("FeatureScalePlugin",function(){_.scaleOptions=F.getScaleOptions();var ut=Y.getLayerStyleAttributes(),At=F.getSource().data.dataArray;return _.caculateScalesForAttributes(ut||[],At),F.layerModelNeedUpdate=!0,!0}),F.hooks.beforeRender.tap("FeatureScalePlugin",function(){if(!F.layerModelNeedUpdate){_.scaleOptions=F.getScaleOptions();var ut=Y.getLayerStyleAttributes();if(ut){var At=F.getSource().data.dataArray;if(At.length===0)return;var Ct=ut.filter(function(Yt){return Yt.needRescale});Ct.length&&_.caculateScalesForAttributes(Ct,At)}}})}},{key:"isNumber",value:function(F){return!isNaN(parseFloat(F))&&isFinite(F)}},{key:"caculateScalesForAttributes",value:function(F,B){var _=this;this.scaleCache={},F.forEach(function(Y){if(Y.scale){var ut=Y.scale,At=Y.name;ut.names=_.parseFields(Y.scale.field||[]);var Ct=[];ut.names.forEach(function(Yt){Ct.push(_.getOrCreateScale(Yt,Y,B))}),Ct.some(function(Yt){return Yt.type===Rt.StyleScaleType.VARIABLE})?(ut.type=Rt.StyleScaleType.VARIABLE,Ct.forEach(function(Yt){if(!ut.callback){var me;if(ut.values&&ut.values!=="text"){var fe;if(((fe=Yt.option)===null||fe===void 0?void 0:fe.type)==="linear"&&ut.values.length>2){var qe=Yt.scale.ticks(ut.values.length);At==="color"&&Yt.scale.domain(qe)}Yt.scale.range(ut.values)}else((me=Yt.option)===null||me===void 0?void 0:me.type)==="cat"&&Yt.scale.range(Yt.option.domain)}})):(ut.type=Rt.StyleScaleType.CONSTANT,ut.defaultValues=Ct.map(function(Yt,me){return Yt.scale(ut.names[me])})),ut.scalers=Ct.map(function(Yt){return{field:Yt.field,func:Yt.scale,option:Yt.option}}),Y.needRescale=!1}})}},{key:"getOrCreateScale",value:function(F,B,_){var Y,ut=[F,B.name].join("_"),At=(Y=B.scale)===null||Y===void 0?void 0:Y.values,Ct=this.createScale(F,B.name,At,_);return Ct}},{key:"parseFields",value:function(F){return Array.isArray(F)?F:pn()(F)?F.split("*"):[F]}},{key:"createScale",value:function(F,B,_,Y){var ut,At,Ct=this.scaleOptions[B]&&((ut=this.scaleOptions[B])===null||ut===void 0?void 0:ut.field)===F?this.scaleOptions[B]:this.scaleOptions[F],Yt={field:F,scale:void 0,type:Rt.StyleScaleType.VARIABLE,option:Ct};if(!Y||!Y.length)return Ct&&Ct.type?Yt.scale=this.createDefaultScale(Ct):(Yt.scale=xa([F]),Yt.type=Rt.StyleScaleType.CONSTANT),Yt;var me=(At=Y.find(function(dr){return!Lf()(dr[F])}))===null||At===void 0?void 0:At[F];if(this.isNumber(F)||Lf()(me)&&!Ct)Yt.scale=xa([F]),Yt.type=Rt.StyleScaleType.CONSTANT;else{var fe=Ct&&Ct.type||this.getDefaultType(me);_==="text"&&(fe=Rt.ScaleTypes.CAT);var qe=this.createDefaultScaleConfig(fe,F,Y);Object.assign(qe,Ct),Yt.scale=this.createDefaultScale(qe),Yt.option=qe}return Yt}},{key:"getDefaultType",value:function(F){var B=Rt.ScaleTypes.LINEAR;return typeof F=="string"&&(B=td.test(F)?Rt.ScaleTypes.TIME:Rt.ScaleTypes.CAT),B}},{key:"createDefaultScaleConfig",value:function(F,B,_){var Y={type:F},ut=(_==null?void 0:_.map(function(At){return At[B]}))||[];return F!==Rt.ScaleTypes.CAT&&F!==Rt.ScaleTypes.QUANTILE?Y.domain=Ff(ut):F===Rt.ScaleTypes.CAT?Y.domain=sc()(ut):F===Rt.ScaleTypes.QUANTILE&&(Y.domain=ut),Y}},{key:"createDefaultScale",value:function(F){var B=F.type,_=F.domain,Y=ed[B]();return _&&Y.domain(_),Y}}]),I}(),Hc=(0,cs.Z)(pc.prototype,"configService",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc))||Vc),Yc,Xc,Kc,$c,Wf,Qc,Jc;function qc(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function nd(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?qc(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):qc(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var id=(Yc=(0,$a.b2)(),Xc=(0,$a.f3)(Rt.vK.ICameraService),Kc=(0,$a.f3)(Rt.vK.IRendererService),Yc($c=(Wf=function(){function I(){(0,Se.Z)(this,I),(0,Co.Z)(this,"cameraService",Qc,this),(0,Co.Z)(this,"rendererService",Jc,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("LayerAnimateStylePlugin",function(){F.models.forEach(function(B){B.addUniforms(nd({},F.layerModel.getAnimateUniforms()))})})}}]),I}(),Qc=(0,cs.Z)(Wf.prototype,"cameraService",[Xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jc=(0,cs.Z)(Wf.prototype,"rendererService",[Kc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wf))||$c),th,eh,ad=(th=(0,$a.b2)(),th(eh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.init.tap("LayerModelPlugin",function(){F.prepareBuildModel(),F.buildModels(),F.styleNeedUpdate=!1}),F.hooks.beforeRenderData.tap("DataSourcePlugin",function(){return F.prepareBuildModel(),F.clearModels(),F.buildModels(),F.layerModelNeedUpdate=!1,!1})}}]),I}())||eh),rh,nh,od=(rh=(0,$a.b2)(),rh(nh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.afterInit.tap("LayerStylePlugin",function(){F.updateLayerConfig({});var B=F.getLayerConfig(),_=B.autoFit,Y=B.fitBoundsOptions;_&&setTimeout(function(){F.fitBounds(Y)},100)})}}]),I}())||nh),ih,ah;function oh(I,z){var F=Object.keys(I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(I);z&&(B=B.filter(function(_){return Object.getOwnPropertyDescriptor(I,_).enumerable})),F.push.apply(F,B)}return F}function cf(I){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{};z%2?oh(Object(F),!0).forEach(function(B){(0,O.Z)(I,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(F)):oh(Object(F)).forEach(function(B){Object.defineProperty(I,B,Object.getOwnPropertyDescriptor(F,B))})}return I}var sh={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},sd={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},ud={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},ld={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5},t0=null;function fd(I){var z={u_DirectionalLights:new Array(3).fill(cf({},ud)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(cf({},ld)),u_NumOfSpotLights:0};return(!I||!I.length)&&(I=[sd]),I.forEach(function(F,B){var _=F.type,Y=_===void 0?"directional":_,ut=(0,Gs.Z)(F,["type"]),At=sh[Y].lights,Ct=sh[Y].num,Yt=z[Ct];z[At][Yt]=cf(cf({},z[At][Yt]),ut),z[Ct]++}),z}var cd=(ih=(0,$a.b2)(),ih(ah=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("LightingPlugin",function(){var B=F.getLayerConfig(),_=B.enableLighting;_&&F.models.forEach(function(Y){return Y.addUniforms(cf({},fd()))})})}}]),I}())||ah),uh,lh,Gf={NONE:0,ENCODE:1,HIGHLIGHT:2},hd=(uh=(0,$a.b2)(),uh(lh=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=B.rendererService,Y=B.styleAttributeService;F.hooks.init.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),At=ut.enablePicking;Y.registerStyleAttribute({name:"pickingColor",type:Rt.AttributeType.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:Rt.gl.FLOAT},size:3,update:function(Yt,me){var fe=Yt.id;return At?(0,wr.Z6)(fe):[0,0,0]}}})}),F.hooks.beforePickingEncode.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),At=ut.enablePicking;At&&F.isVisible()&&F.models.forEach(function(Ct){return Ct.addUniforms({u_PickingStage:Gf.ENCODE})})}),F.hooks.afterPickingEncode.tap("PixelPickingPlugin",function(){var ut=F.getLayerConfig(),At=ut.enablePicking;At&&F.isVisible()&&F.models.forEach(function(Ct){return Ct.addUniforms({u_PickingStage:Gf.HIGHLIGHT})})}),F.hooks.beforeHighlight.tap("PixelPickingPlugin",function(ut){var At=F.getLayerConfig(),Ct=At.highlightColor,Yt=typeof Ct=="string"?(0,wr.CI)(Ct):Ct||[1,0,0,1];F.updateLayerConfig({pickedFeatureID:(0,wr.W0)(new Uint8Array(ut))}),F.models.forEach(function(me){return me.addUniforms({u_PickingStage:Gf.HIGHLIGHT,u_PickingColor:ut,u_HighlightColor:Yt.map(function(fe){return fe*255})})})}),F.hooks.beforeSelect.tap("PixelPickingPlugin",function(ut){var At=F.getLayerConfig(),Ct=At.selectColor,Yt=typeof Ct=="string"?(0,wr.CI)(Ct):Ct||[1,0,0,1];F.updateLayerConfig({pickedFeatureID:(0,wr.W0)(new Uint8Array(ut))}),F.models.forEach(function(me){return me.addUniforms({u_PickingStage:Gf.HIGHLIGHT,u_PickingColor:ut,u_HighlightColor:Yt.map(function(fe){return fe*255})})})})}}]),I}())||lh),fh,ch,vd=(fh=(0,$a.b2)(),fh(ch=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=this,Y=B.styleAttributeService;F.hooks.init.tap("RegisterStyleAttributePlugin",function(){_.registerBuiltinAttributes(Y)})}},{key:"registerBuiltinAttributes",value:function(F){F.registerStyleAttribute({name:"position",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:Rt.gl.FLOAT},size:3,update:function(_,Y,ut){return ut.length===2?[ut[0],ut[1],0]:[ut[0],ut[1],ut[2]]}}}),F.registerStyleAttribute({name:"filter",type:Rt.AttributeType.Attribute,descriptor:{name:"filter",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(_,Y){var ut=_.filter;return ut?[1]:[0]}}}),F.registerStyleAttribute({name:"color",type:Rt.AttributeType.Attribute,descriptor:{name:"a_Color",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:4,update:function(_,Y){var ut=_.color;return!ut||!ut.length?[1,1,1,1]:ut}}}),F.registerStyleAttribute({name:"vertexId",type:Rt.AttributeType.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:Rt.gl.DYNAMIC_DRAW,data:[],type:Rt.gl.FLOAT},size:1,update:function(_,Y,ut,At){return[Y]}}})}}]),I}())||ch),hh,vh,dh,ph,gh,mh,zl,yh,xh,Sh,Eh,dd=(hh=(0,$a.b2)(),vh=(0,$a.f3)(Rt.vK.ICameraService),dh=(0,$a.f3)(Rt.vK.ICoordinateSystemService),ph=(0,$a.f3)(Rt.vK.IRendererService),gh=(0,$a.f3)(Rt.vK.IMapService),hh(mh=(zl=function(){function I(){(0,Se.Z)(this,I),(0,Co.Z)(this,"cameraService",yh,this),(0,Co.Z)(this,"coordinateSystemService",xh,this),(0,Co.Z)(this,"rendererService",Sh,this),(0,Co.Z)(this,"mapService",Eh,this)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){var B=this,_=this.mapService.version,Y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ut=[0,0];F.hooks.beforeRender.tap("ShaderUniformPlugin",function(){B.coordinateSystemService.refresh(),_==="GAODE2.x"&&(Y=B.mapService.map.customCoords.getMVPMatrix(),ut=B.mapService.getCustomCoordCenter());var At=B.rendererService.getViewportSize(),Ct=At.width,Yt=At.height;F.models.forEach(function(me){var fe;me.addUniforms((fe={},(0,O.Z)(fe,Rt.CameraUniform.ProjectionMatrix,B.cameraService.getProjectionMatrix()),(0,O.Z)(fe,Rt.CameraUniform.ViewMatrix,B.cameraService.getViewMatrix()),(0,O.Z)(fe,Rt.CameraUniform.ViewProjectionMatrix,B.cameraService.getViewProjectionMatrix()),(0,O.Z)(fe,Rt.CameraUniform.Zoom,B.cameraService.getZoom()),(0,O.Z)(fe,Rt.CameraUniform.ZoomScale,B.cameraService.getZoomScale()),(0,O.Z)(fe,Rt.CameraUniform.FocalDistance,B.cameraService.getFocalDistance()),(0,O.Z)(fe,Rt.CameraUniform.CameraPosition,B.cameraService.getCameraPosition()),(0,O.Z)(fe,Rt.CoordinateUniform.CoordinateSystem,B.coordinateSystemService.getCoordinateSystem()),(0,O.Z)(fe,Rt.CoordinateUniform.ViewportCenter,B.coordinateSystemService.getViewportCenter()),(0,O.Z)(fe,Rt.CoordinateUniform.ViewportCenterProjection,B.coordinateSystemService.getViewportCenterProjection()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerDegree,B.coordinateSystemService.getPixelsPerDegree()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerDegree2,B.coordinateSystemService.getPixelsPerDegree2()),(0,O.Z)(fe,Rt.CoordinateUniform.PixelsPerMeter,B.coordinateSystemService.getPixelsPerMeter()),(0,O.Z)(fe,Rt.CoordinateUniform.Mvp,Y),(0,O.Z)(fe,"u_SceneCenterMKT",ut),(0,O.Z)(fe,"u_ViewportSize",[Ct,Yt]),(0,O.Z)(fe,"u_DevicePixelRatio",window.devicePixelRatio),(0,O.Z)(fe,"u_ModelMatrix",B.cameraService.getModelMatrix()),(0,O.Z)(fe,"u_PickingBuffer",F.getLayerConfig().pickingBuffer||0),fe))})})}}]),I}(),yh=(0,cs.Z)(zl.prototype,"cameraService",[vh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=(0,cs.Z)(zl.prototype,"coordinateSystemService",[dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=(0,cs.Z)(zl.prototype,"rendererService",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=(0,cs.Z)(zl.prototype,"mapService",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl))||mh),bh,Ah,pd=(bh=(0,$a.b2)(),bh(Ah=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F){F.hooks.beforeRender.tap("UpdateModelPlugin",function(){F.layerModel&&F.layerModel.needUpdate()})}}]),I}())||Ah),Mh,Ch,gd=(Mh=(0,$a.b2)(),Mh(Ch=function(){function I(){(0,Se.Z)(this,I)}return(0,Ve.Z)(I,[{key:"apply",value:function(F,B){var _=this,Y=B.styleAttributeService;F.hooks.init.tap("UpdateStyleAttributePlugin",function(){_.initStyleAttribute(F,{styleAttributeService:Y})}),F.hooks.beforeRender.tap("UpdateStyleAttributePlugin",function(){F.layerModelNeedUpdate||_.updateStyleAtrribute(F,{styleAttributeService:Y})})}},{key:"updateStyleAtrribute",value:function(F,B){var _=B.styleAttributeService,Y=_.getLayerStyleAttributes()||[],ut=_.getLayerStyleAttribute("filter"),At=_.getLayerStyleAttribute("shape");if(ut&&ut.needRegenerateVertices||At&&At.needRegenerateVertices){F.layerModelNeedUpdate=!0,Y.forEach(function(Ct){return Ct.needRegenerateVertices=!1});return}Y.filter(function(Ct){return Ct.needRegenerateVertices}).forEach(function(Ct){_.updateAttributeByFeatureRange(Ct.name,F.getEncodedData(),Ct.featureRange.startIndex,Ct.featureRange.endIndex),Ct.needRegenerateVertices=!1})}},{key:"initStyleAttribute",value:function(F,B){var _=B.styleAttributeService,Y=_.getLayerStyleAttributes()||[];Y.filter(function(ut){return ut.needRegenerateVertices}).forEach(function(ut){_.updateAttributeByFeatureRange(ut.name,F.getEncodedData(),ut.featureRange.startIndex,ut.featureRange.endIndex),ut.needRegenerateVertices=!1})}}]),I}())||Ch);Rt.nC.bind(Rt.vK.ILayerPlugin).to(oc).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(vd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(rd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(ac).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(od).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(gd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(pd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(Hs).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(dd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(id).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(cd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(hd).inRequestScope(),Rt.nC.bind(Rt.vK.ILayerPlugin).to(ad).inRequestScope();var e0="2.5.40"},3473:function(mr,P,S){"use strict";S.d(P,{Z:function(){return i}});function i(t,c,s,v,o){var f={};return Object.keys(v).forEach(function(r){f[r]=v[r]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=s.slice().reverse().reduce(function(r,e){return e(t,c,r)||r},f),o&&f.initializer!==void 0&&(f.value=f.initializer?f.initializer.call(o):void 0,f.initializer=void 0),f.initializer===void 0&&(Object.defineProperty(t,c,f),f=null),f}},55770:function(mr,P,S){"use strict";S.d(P,{Z:function(){return i}});function i(t,c,s,v){!s||Object.defineProperty(t,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(v):void 0})}},31795:function(mr,P,S){var i=S(75752);mr.exports.geometry=t,mr.exports.ring=s;function t(o){var f=0,r;switch(o.type){case"Polygon":return c(o.coordinates);case"MultiPolygon":for(r=0;r<o.coordinates.length;r++)f+=c(o.coordinates[r]);return f;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)f+=t(o.geometries[r]);return f}}function c(o){var f=0;if(o&&o.length>0){f+=Math.abs(s(o[0]));for(var r=1;r<o.length;r++)f-=Math.abs(s(o[r]))}return f}function s(o){var f,r,e,n,a,u,l,h=0,p=o.length;if(p>2){for(l=0;l<p;l++)l===p-2?(n=p-2,a=p-1,u=0):l===p-1?(n=p-1,a=0,u=1):(n=l,a=l+1,u=l+2),f=o[n],r=o[a],e=o[u],h+=(v(e[0])-v(f[0]))*Math.sin(v(r[1]));h=h*i.RADIUS*i.RADIUS/2}return h}function v(o){return o*Math.PI/180}},49296:function(mr){"use strict";mr.exports=S,mr.exports.default=S;var P=1e20;function S(v,o,f,r,e,n){this.fontSize=v||24,this.buffer=o===void 0?3:o,this.cutoff=r||.25,this.fontFamily=e||"sans-serif",this.fontWeight=n||"normal",this.radius=f||8;var a=this.size=this.fontSize+this.buffer*2,u=a+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(u*u),this.gridInner=new Float64Array(u*u),this.f=new Float64Array(u),this.z=new Float64Array(u+1),this.v=new Uint16Array(u),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(v,o,f,r,e,n,a){n.fill(P,0,o*f),a.fill(0,0,o*f);for(var u=(o-r)/2,l=0;l<e;l++)for(var h=0;h<r;h++){var p=(l+u)*o+h+u,d=v.data[4*(l*r+h)+3]/255;if(d===1)n[p]=0,a[p]=P;else if(d===0)n[p]=P,a[p]=0;else{var g=Math.max(0,.5-d),y=Math.max(0,d-.5);n[p]=g*g,a[p]=y*y}}}function t(v,o,f,r,e,n,a){for(var u=0;u<o*f;u++){var l=Math.sqrt(r[u])-Math.sqrt(e[u]);v[u]=Math.round(255-255*(l/n+a))}}S.prototype._draw=function(v,o){var f=this.ctx.measureText(v),r=f.width,e=2*this.buffer,n,a,u,l,h,p,d,g;o&&this.useMetrics?(h=Math.floor(f.actualBoundingBoxAscent),g=this.buffer+Math.ceil(f.actualBoundingBoxAscent),p=this.buffer,d=this.buffer,a=Math.min(this.size,Math.ceil(f.actualBoundingBoxRight-f.actualBoundingBoxLeft)),l=Math.min(this.size-p,Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent)),n=a+e,u=l+e,this.ctx.textBaseline="alphabetic"):(n=a=this.size,u=l=this.size,h=19*this.fontSize/24,p=d=0,g=this.middle,this.ctx.textBaseline="middle");var y;a&&l&&(this.ctx.clearRect(d,p,a,l),this.ctx.fillText(v,this.buffer,g),y=this.ctx.getImageData(d,p,a,l));var x=new Uint8ClampedArray(n*u);return i(y,n,u,a,l,this.gridOuter,this.gridInner),c(this.gridOuter,n,u,this.f,this.v,this.z),c(this.gridInner,n,u,this.f,this.v,this.z),t(x,n,u,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:x,metrics:{width:a,height:l,sdfWidth:n,sdfHeight:u,top:h,left:0,advance:r}}},S.prototype.draw=function(v){return this._draw(v,!1).data},S.prototype.drawWithMetrics=function(v){return this._draw(v,!0)};function c(v,o,f,r,e,n){for(var a=0;a<o;a++)s(v,a,o,f,r,e,n);for(var u=0;u<f;u++)s(v,u*o,1,o,r,e,n)}function s(v,o,f,r,e,n,a){var u,l,h,p;for(n[0]=0,a[0]=-P,a[1]=P,u=0;u<r;u++)e[u]=v[o+u*f];for(u=1,l=0,h=0;u<r;u++){do p=n[l],h=(e[u]-e[p]+u*u-p*p)/(u-p)/2;while(h<=a[l]&&--l>-1);l++,n[l]=u,a[l]=h,a[l+1]=P}for(u=0,l=0;u<r;u++){for(;a[l+1]<u;)l++;p=n[l],v[o+u*f]=e[p]+(u-p)*(u-p)}}},60674:function(){},29504:function(){},18067:function(){},81903:function(){},33860:function(mr,P,S){"use strict";S.d(P,{Z:function(){return U}});var i=S(96156),t=S(22122),c=S(90484),s=S(67294),v=S(94184),o=S.n(v),f=function(Z){var J=Z.prefixCls,ht=Z.className,at=Z.width,Q=Z.style;return s.createElement("h3",{className:o()(J,ht),style:(0,t.Z)({width:at},Q)})},r=f,e=S(85061),n=function(Z){var J=function(nt){var q=Z.width,G=Z.rows,N=G===void 0?2:G;if(Array.isArray(q))return q[nt];if(N-1===nt)return q},ht=Z.prefixCls,at=Z.className,Q=Z.style,xt=Z.rows,kt=(0,e.Z)(Array(xt)).map(function(Nt,nt){return s.createElement("li",{key:nt,style:{width:J(nt)}})});return s.createElement("ul",{className:o()(ht,at),style:Q},kt)},a=n,u=S(65632),l=function(Z){var J,ht,at=Z.prefixCls,Q=Z.className,xt=Z.style,kt=Z.size,Nt=Z.shape,nt=o()((J={},(0,i.Z)(J,"".concat(at,"-lg"),kt==="large"),(0,i.Z)(J,"".concat(at,"-sm"),kt==="small"),J)),q=o()((ht={},(0,i.Z)(ht,"".concat(at,"-circle"),Nt==="circle"),(0,i.Z)(ht,"".concat(at,"-square"),Nt==="square"),(0,i.Z)(ht,"".concat(at,"-round"),Nt==="round"),ht)),G=typeof kt=="number"?{width:kt,height:kt,lineHeight:"".concat(kt,"px")}:{};return s.createElement("span",{className:o()(at,nt,q,Q),style:(0,t.Z)((0,t.Z)({},G),xt)})},h=l,p=S(98423),d=function(Z){var J=function(at){var Q=at.getPrefixCls,xt=Z.prefixCls,kt=Z.className,Nt=Z.active,nt=Q("skeleton",xt),q=(0,p.Z)(Z,["prefixCls","className"]),G=o()(nt,"".concat(nt,"-element"),(0,i.Z)({},"".concat(nt,"-active"),Nt),kt);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(nt,"-avatar")},q)))};return s.createElement(u.C,null,J)};d.defaultProps={size:"default",shape:"circle"};var g=d,y=function(Z){var J=function(at){var Q=at.getPrefixCls,xt=Z.prefixCls,kt=Z.className,Nt=Z.active,nt=Q("skeleton",xt),q=(0,p.Z)(Z,["prefixCls"]),G=o()(nt,"".concat(nt,"-element"),(0,i.Z)({},"".concat(nt,"-active"),Nt),kt);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(nt,"-button")},q)))};return s.createElement(u.C,null,J)};y.defaultProps={size:"default"};var x=y,A=function(Z){var J=function(at){var Q=at.getPrefixCls,xt=Z.prefixCls,kt=Z.className,Nt=Z.active,nt=Q("skeleton",xt),q=(0,p.Z)(Z,["prefixCls"]),G=o()(nt,"".concat(nt,"-element"),(0,i.Z)({},"".concat(nt,"-active"),Nt),kt);return s.createElement("div",{className:G},s.createElement(h,(0,t.Z)({prefixCls:"".concat(nt,"-input")},q)))};return s.createElement(u.C,null,J)};A.defaultProps={size:"default"};var m=A,M="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",b=function(Z){var J=function(at){var Q=at.getPrefixCls,xt=Z.prefixCls,kt=Z.className,Nt=Z.style,nt=Q("skeleton",xt),q=o()(nt,"".concat(nt,"-element"),kt);return s.createElement("div",{className:q},s.createElement("div",{className:o()("".concat(nt,"-image"),kt),style:Nt},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(nt,"-image-svg")},s.createElement("path",{d:M,className:"".concat(nt,"-image-path")}))))};return s.createElement(u.C,null,J)},E=b;function C(X){return X&&(0,c.Z)(X)==="object"?X:{}}function T(X,Z){return X&&!Z?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function O(X,Z){return!X&&Z?{width:"38%"}:X&&Z?{width:"50%"}:{}}function L(X,Z){var J={};return(!X||!Z)&&(J.width="61%"),!X&&Z?J.rows=3:J.rows=2,J}var R=function(Z){var J=function(at){var Q=at.getPrefixCls,xt=at.direction,kt=Z.prefixCls,Nt=Z.loading,nt=Z.className,q=Z.children,G=Z.avatar,N=Z.title,it=Z.paragraph,H=Z.active,ct=Z.round,ft=Q("skeleton",kt);if(Nt||!("loading"in Z)){var K,$=!!G,et=!!N,j=!!it,w;if($){var D=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ft,"-avatar")},T(et,j)),C(G));w=s.createElement("div",{className:"".concat(ft,"-header")},s.createElement(h,D))}var V;if(et||j){var tt;if(et){var lt=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ft,"-title")},O($,j)),C(N));tt=s.createElement(r,lt)}var St;if(j){var ot=(0,t.Z)((0,t.Z)({prefixCls:"".concat(ft,"-paragraph")},L($,et)),C(it));St=s.createElement(a,ot)}V=s.createElement("div",{className:"".concat(ft,"-content")},tt,St)}var Mt=o()(ft,(K={},(0,i.Z)(K,"".concat(ft,"-with-avatar"),$),(0,i.Z)(K,"".concat(ft,"-active"),H),(0,i.Z)(K,"".concat(ft,"-rtl"),xt==="rtl"),(0,i.Z)(K,"".concat(ft,"-round"),ct),K),nt);return s.createElement("div",{className:Mt},w,V)}return q};return s.createElement(u.C,null,J)};R.defaultProps={avatar:!1,title:!0,paragraph:!0},R.Button=x,R.Avatar=g,R.Input=m,R.Image=E;var W=R,U=W},71748:function(mr,P,S){"use strict";var i=S(65056),t=S.n(i),c=S(18067),s=S.n(c)},7277:function(mr,P,S){"use strict";S.d(P,{Z:function(){return W}});var i=S(96156),t=S(22122),c=S(67294),s=S(94184),v=S.n(s),o=S(65632),f=S(33860),r=S(11726),e=S.n(r),n=function(X){var Z=X.value,J=X.formatter,ht=X.precision,at=X.decimalSeparator,Q=X.groupSeparator,xt=Q===void 0?"":Q,kt=X.prefixCls,Nt;if(typeof J=="function")Nt=J(Z);else{var nt=String(Z),q=nt.match(/^(-?)(\d*)(\.(\d+))?$/);if(!q||nt==="-")Nt=nt;else{var G=q[1],N=q[2]||"0",it=q[4]||"";N=N.replace(/\B(?=(\d{3})+(?!\d))/g,xt),typeof ht=="number"&&(it=e()(it,ht,"0").slice(0,ht)),it&&(it="".concat(at).concat(it)),Nt=[c.createElement("span",{key:"int",className:"".concat(kt,"-content-value-int")},G,N),it&&c.createElement("span",{key:"decimal",className:"".concat(kt,"-content-value-decimal")},it)]}}return c.createElement("span",{className:"".concat(kt,"-content-value")},Nt)},a=n,u=function(X){var Z=X.prefixCls,J=X.className,ht=X.style,at=X.valueStyle,Q=X.value,xt=Q===void 0?0:Q,kt=X.title,Nt=X.valueRender,nt=X.prefix,q=X.suffix,G=X.loading,N=X.direction,it=X.onMouseEnter,H=X.onMouseLeave,ct=c.createElement(a,(0,t.Z)({},X,{value:xt})),ft=v()(Z,(0,i.Z)({},"".concat(Z,"-rtl"),N==="rtl"),J);return c.createElement("div",{className:ft,style:ht,onMouseEnter:it,onMouseLeave:H},kt&&c.createElement("div",{className:"".concat(Z,"-title")},kt),c.createElement(f.Z,{paragraph:!1,loading:G},c.createElement("div",{style:at,className:"".concat(Z,"-content")},nt&&c.createElement("span",{className:"".concat(Z,"-content-prefix")},nt),Nt?Nt(ct):ct,q&&c.createElement("span",{className:"".concat(Z,"-content-suffix")},q))))};u.defaultProps={decimalSeparator:".",groupSeparator:",",loading:!1};var l=(0,o.PG)({prefixCls:"statistic"})(u),h=l,p=S(6610),d=S(5991),g=S(10379),y=S(60446),x=S(28481),A=S(32475),m=S.n(A),M=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function b(U,X){var Z=U,J=/\[[^\]]*]/g,ht=(X.match(J)||[]).map(function(kt){return kt.slice(1,-1)}),at=X.replace(J,"[]"),Q=M.reduce(function(kt,Nt){var nt=(0,x.Z)(Nt,2),q=nt[0],G=nt[1];if(kt.indexOf(q)!==-1){var N=Math.floor(Z/G);return Z-=N*G,kt.replace(new RegExp("".concat(q,"+"),"g"),function(it){var H=it.length;return m()(N.toString(),H,"0")})}return kt},at),xt=0;return Q.replace(J,function(){var kt=ht[xt];return xt+=1,kt})}function E(U,X){var Z=X.format,J=Z===void 0?"":Z,ht=new Date(U).getTime(),at=Date.now(),Q=Math.max(ht-at,0);return b(Q,J)}var C=S(96159),T=1e3/30;function O(U){return new Date(U).getTime()}var L=function(U){(0,g.Z)(Z,U);var X=(0,y.Z)(Z);function Z(){var J;return(0,p.Z)(this,Z),J=X.apply(this,arguments),J.syncTimer=function(){var ht=J.props.value,at=O(ht);at>=Date.now()?J.startTimer():J.stopTimer()},J.startTimer=function(){if(!J.countdownId){var ht=J.props,at=ht.onChange,Q=ht.value,xt=O(Q);J.countdownId=window.setInterval(function(){J.forceUpdate(),at&&xt>Date.now()&&at(xt-Date.now())},T)}},J.stopTimer=function(){var ht=J.props,at=ht.onFinish,Q=ht.value;if(J.countdownId){clearInterval(J.countdownId),J.countdownId=void 0;var xt=O(Q);at&&xt<Date.now()&&at()}},J.formatCountdown=function(ht,at){var Q=J.props.format;return E(ht,(0,t.Z)((0,t.Z)({},at),{format:Q}))},J.valueRender=function(ht){return(0,C.Tm)(ht,{title:void 0})},J}return(0,d.Z)(Z,[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return c.createElement(h,(0,t.Z)({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}]),Z}(c.Component);L.defaultProps={format:"HH:mm:ss"};var R=L;h.Countdown=R;var W=h},95300:function(mr,P,S){"use strict";var i=S(65056),t=S.n(i),c=S(81903),s=S.n(c),v=S(71748)},28602:function(mr,P,S){"use strict";S.d(P,{WU:function(){return d},jH:function(){return g}});var i=S(33085);function t(x,A){return function(m,M){for(var b=m.length,E=[],C=0,T=x[0],O=0;b>0&&T>0&&(O+T+1>M&&(T=Math.max(1,M-O)),E.push(m.substring(b-=T,b+T)),!((O+=T+1)>M));)T=x[C=(C+1)%x.length];return E.reverse().join(A)}}function c(x){return function(A){return A.replace(/[0-9]/g,function(m){return x[+m]})}}var s=S(46196);function v(x){t:for(var A=x.length,m=1,M=-1,b;m<A;++m)switch(x[m]){case".":M=b=m;break;case"0":M===0&&(M=m),b=m;break;default:if(!+x[m])break t;M>0&&(M=0);break}return M>0?x.slice(0,M)+x.slice(b+1):x}var o=S(38885),f;function r(x,A){var m=(0,o.V)(x,A);if(!m)return x+"";var M=m[0],b=m[1],E=b-(f=Math.max(-8,Math.min(8,Math.floor(b/3)))*3)+1,C=M.length;return E===C?M:E>C?M+new Array(E-C+1).join("0"):E>0?M.slice(0,E)+"."+M.slice(E):"0."+new Array(1-E).join("0")+(0,o.V)(x,Math.max(0,A+E-1))[0]}function e(x,A){var m=(0,o.V)(x,A);if(!m)return x+"";var M=m[0],b=m[1];return b<0?"0."+new Array(-b).join("0")+M:M.length>b+1?M.slice(0,b+1)+"."+M.slice(b+1):M+new Array(b-M.length+2).join("0")}var n={"%":function(x,A){return(x*100).toFixed(A)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:o.Z,e:function(x,A){return x.toExponential(A)},f:function(x,A){return x.toFixed(A)},g:function(x,A){return x.toPrecision(A)},o:function(x){return Math.round(x).toString(8)},p:function(x,A){return e(x*100,A)},r:e,s:r,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function a(x){return x}var u=Array.prototype.map,l=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function h(x){var A=x.grouping===void 0||x.thousands===void 0?a:t(u.call(x.grouping,Number),x.thousands+""),m=x.currency===void 0?"":x.currency[0]+"",M=x.currency===void 0?"":x.currency[1]+"",b=x.decimal===void 0?".":x.decimal+"",E=x.numerals===void 0?a:c(u.call(x.numerals,String)),C=x.percent===void 0?"%":x.percent+"",T=x.minus===void 0?"-":x.minus+"",O=x.nan===void 0?"NaN":x.nan+"";function L(W){W=(0,s.Z)(W);var U=W.fill,X=W.align,Z=W.sign,J=W.symbol,ht=W.zero,at=W.width,Q=W.comma,xt=W.precision,kt=W.trim,Nt=W.type;Nt==="n"?(Q=!0,Nt="g"):n[Nt]||(xt===void 0&&(xt=12),kt=!0,Nt="g"),(ht||U==="0"&&X==="=")&&(ht=!0,U="0",X="=");var nt=J==="$"?m:J==="#"&&/[boxX]/.test(Nt)?"0"+Nt.toLowerCase():"",q=J==="$"?M:/[%p]/.test(Nt)?C:"",G=n[Nt],N=/[defgprs%]/.test(Nt);xt=xt===void 0?6:/[gprs]/.test(Nt)?Math.max(1,Math.min(21,xt)):Math.max(0,Math.min(20,xt));function it(H){var ct=nt,ft=q,K,$,et;if(Nt==="c")ft=G(H)+ft,H="";else{H=+H;var j=H<0||1/H<0;if(H=isNaN(H)?O:G(Math.abs(H),xt),kt&&(H=v(H)),j&&+H==0&&Z!=="+"&&(j=!1),ct=(j?Z==="("?Z:T:Z==="-"||Z==="("?"":Z)+ct,ft=(Nt==="s"?l[8+f/3]:"")+ft+(j&&Z==="("?")":""),N){for(K=-1,$=H.length;++K<$;)if(et=H.charCodeAt(K),48>et||et>57){ft=(et===46?b+H.slice(K+1):H.slice(K))+ft,H=H.slice(0,K);break}}}Q&&!ht&&(H=A(H,Infinity));var w=ct.length+H.length+ft.length,D=w<at?new Array(at-w+1).join(U):"";switch(Q&&ht&&(H=A(D+H,D.length?at-ft.length:Infinity),D=""),X){case"<":H=ct+H+ft+D;break;case"=":H=ct+D+H+ft;break;case"^":H=D.slice(0,w=D.length>>1)+ct+H+ft+D.slice(w);break;default:H=D+ct+H+ft;break}return E(H)}return it.toString=function(){return W+""},it}function R(W,U){var X=L((W=(0,s.Z)(W),W.type="f",W)),Z=Math.max(-8,Math.min(8,Math.floor((0,i.Z)(U)/3)))*3,J=Math.pow(10,-Z),ht=l[8+Z/3];return function(at){return X(J*at)+ht}}return{format:L,formatPrefix:R}}var p,d,g;y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function y(x){return p=h(x),d=p.format,g=p.formatPrefix,p}},33085:function(mr,P,S){"use strict";S.d(P,{Z:function(){return t}});var i=S(38885);function t(c){return c=(0,i.V)(Math.abs(c)),c?c[1]:NaN}},38885:function(mr,P,S){"use strict";S.d(P,{Z:function(){return i},V:function(){return t}});function i(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)}function t(c,s){if((v=(c=s?c.toExponential(s-1):c.toExponential()).indexOf("e"))<0)return null;var v,o=c.slice(0,v);return[o.length>1?o[0]+o.slice(2):o,+c.slice(v+1)]}},46196:function(mr,P,S){"use strict";S.d(P,{Z:function(){return t}});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t(s){if(!(v=i.exec(s)))throw new Error("invalid format: "+s);var v;return new c({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}t.prototype=c.prototype;function c(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}},9187:function(mr){"use strict";mr.exports=P,mr.exports.default=P;function P(U,X,Z){Z=Z||2;var J=X&&X.length,ht=J?X[0]*Z:U.length,at=S(U,0,ht,Z,!0),Q=[];if(!at||at.next===at.prev)return Q;var xt,kt,Nt,nt,q,G,N;if(J&&(at=f(U,X,at,Z)),U.length>80*Z){xt=Nt=U[0],kt=nt=U[1];for(var it=Z;it<ht;it+=Z)q=U[it],G=U[it+1],q<xt&&(xt=q),G<kt&&(kt=G),q>Nt&&(Nt=q),G>nt&&(nt=G);N=Math.max(Nt-xt,nt-kt),N=N!==0?1/N:0}return t(at,Q,Z,xt,kt,N),Q}function S(U,X,Z,J,ht){var at,Q;if(ht===W(U,X,Z,J)>0)for(at=X;at<Z;at+=J)Q=O(at,U[at],U[at+1],Q);else for(at=Z-J;at>=X;at-=J)Q=O(at,U[at],U[at+1],Q);return Q&&x(Q,Q.next)&&(L(Q),Q=Q.next),Q}function i(U,X){if(!U)return U;X||(X=U);var Z=U,J;do if(J=!1,!Z.steiner&&(x(Z,Z.next)||y(Z.prev,Z,Z.next)===0)){if(L(Z),Z=X=Z.prev,Z===Z.next)break;J=!0}else Z=Z.next;while(J||Z!==X);return X}function t(U,X,Z,J,ht,at,Q){if(!!U){!Q&&at&&u(U,J,ht,at);for(var xt=U,kt,Nt;U.prev!==U.next;){if(kt=U.prev,Nt=U.next,at?s(U,J,ht,at):c(U)){X.push(kt.i/Z),X.push(U.i/Z),X.push(Nt.i/Z),L(U),U=Nt.next,xt=Nt.next;continue}if(U=Nt,U===xt){Q?Q===1?(U=v(i(U),X,Z),t(U,X,Z,J,ht,at,2)):Q===2&&o(U,X,Z,J,ht,at):t(i(U),X,Z,J,ht,at,1);break}}}}function c(U){var X=U.prev,Z=U,J=U.next;if(y(X,Z,J)>=0)return!1;for(var ht=U.next.next;ht!==U.prev;){if(d(X.x,X.y,Z.x,Z.y,J.x,J.y,ht.x,ht.y)&&y(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function s(U,X,Z,J){var ht=U.prev,at=U,Q=U.next;if(y(ht,at,Q)>=0)return!1;for(var xt=ht.x<at.x?ht.x<Q.x?ht.x:Q.x:at.x<Q.x?at.x:Q.x,kt=ht.y<at.y?ht.y<Q.y?ht.y:Q.y:at.y<Q.y?at.y:Q.y,Nt=ht.x>at.x?ht.x>Q.x?ht.x:Q.x:at.x>Q.x?at.x:Q.x,nt=ht.y>at.y?ht.y>Q.y?ht.y:Q.y:at.y>Q.y?at.y:Q.y,q=h(xt,kt,X,Z,J),G=h(Nt,nt,X,Z,J),N=U.prevZ,it=U.nextZ;N&&N.z>=q&&it&&it.z<=G;){if(N!==U.prev&&N!==U.next&&d(ht.x,ht.y,at.x,at.y,Q.x,Q.y,N.x,N.y)&&y(N.prev,N,N.next)>=0||(N=N.prevZ,it!==U.prev&&it!==U.next&&d(ht.x,ht.y,at.x,at.y,Q.x,Q.y,it.x,it.y)&&y(it.prev,it,it.next)>=0))return!1;it=it.nextZ}for(;N&&N.z>=q;){if(N!==U.prev&&N!==U.next&&d(ht.x,ht.y,at.x,at.y,Q.x,Q.y,N.x,N.y)&&y(N.prev,N,N.next)>=0)return!1;N=N.prevZ}for(;it&&it.z<=G;){if(it!==U.prev&&it!==U.next&&d(ht.x,ht.y,at.x,at.y,Q.x,Q.y,it.x,it.y)&&y(it.prev,it,it.next)>=0)return!1;it=it.nextZ}return!0}function v(U,X,Z){var J=U;do{var ht=J.prev,at=J.next.next;!x(ht,at)&&A(ht,J,J.next,at)&&E(ht,at)&&E(at,ht)&&(X.push(ht.i/Z),X.push(J.i/Z),X.push(at.i/Z),L(J),L(J.next),J=U=at),J=J.next}while(J!==U);return i(J)}function o(U,X,Z,J,ht,at){var Q=U;do{for(var xt=Q.next.next;xt!==Q.prev;){if(Q.i!==xt.i&&g(Q,xt)){var kt=T(Q,xt);Q=i(Q,Q.next),kt=i(kt,kt.next),t(Q,X,Z,J,ht,at),t(kt,X,Z,J,ht,at);return}xt=xt.next}Q=Q.next}while(Q!==U)}function f(U,X,Z,J){var ht=[],at,Q,xt,kt,Nt;for(at=0,Q=X.length;at<Q;at++)xt=X[at]*J,kt=at<Q-1?X[at+1]*J:U.length,Nt=S(U,xt,kt,J,!1),Nt===Nt.next&&(Nt.steiner=!0),ht.push(p(Nt));for(ht.sort(r),at=0;at<ht.length;at++)Z=e(ht[at],Z),Z=i(Z,Z.next);return Z}function r(U,X){return U.x-X.x}function e(U,X){var Z=n(U,X);if(!Z)return X;var J=T(Z,U),ht=i(Z,Z.next);return i(J,J.next),X===Z?ht:X}function n(U,X){var Z=X,J=U.x,ht=U.y,at=-Infinity,Q;do{if(ht<=Z.y&&ht>=Z.next.y&&Z.next.y!==Z.y){var xt=Z.x+(ht-Z.y)*(Z.next.x-Z.x)/(Z.next.y-Z.y);if(xt<=J&&xt>at){if(at=xt,xt===J){if(ht===Z.y)return Z;if(ht===Z.next.y)return Z.next}Q=Z.x<Z.next.x?Z:Z.next}}Z=Z.next}while(Z!==X);if(!Q)return null;if(J===at)return Q;var kt=Q,Nt=Q.x,nt=Q.y,q=Infinity,G;Z=Q;do J>=Z.x&&Z.x>=Nt&&J!==Z.x&&d(ht<nt?J:at,ht,Nt,nt,ht<nt?at:J,ht,Z.x,Z.y)&&(G=Math.abs(ht-Z.y)/(J-Z.x),E(Z,U)&&(G<q||G===q&&(Z.x>Q.x||Z.x===Q.x&&a(Q,Z)))&&(Q=Z,q=G)),Z=Z.next;while(Z!==kt);return Q}function a(U,X){return y(U.prev,U,X.prev)<0&&y(X.next,U,U.next)<0}function u(U,X,Z,J){var ht=U;do ht.z===null&&(ht.z=h(ht.x,ht.y,X,Z,J)),ht.prevZ=ht.prev,ht.nextZ=ht.next,ht=ht.next;while(ht!==U);ht.prevZ.nextZ=null,ht.prevZ=null,l(ht)}function l(U){var X,Z,J,ht,at,Q,xt,kt,Nt=1;do{for(Z=U,U=null,at=null,Q=0;Z;){for(Q++,J=Z,xt=0,X=0;X<Nt&&(xt++,J=J.nextZ,!!J);X++);for(kt=Nt;xt>0||kt>0&&J;)xt!==0&&(kt===0||!J||Z.z<=J.z)?(ht=Z,Z=Z.nextZ,xt--):(ht=J,J=J.nextZ,kt--),at?at.nextZ=ht:U=ht,ht.prevZ=at,at=ht;Z=J}at.nextZ=null,Nt*=2}while(Q>1);return U}function h(U,X,Z,J,ht){return U=32767*(U-Z)*ht,X=32767*(X-J)*ht,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,U|X<<1}function p(U){var X=U,Z=U;do(X.x<Z.x||X.x===Z.x&&X.y<Z.y)&&(Z=X),X=X.next;while(X!==U);return Z}function d(U,X,Z,J,ht,at,Q,xt){return(ht-Q)*(X-xt)-(U-Q)*(at-xt)>=0&&(U-Q)*(J-xt)-(Z-Q)*(X-xt)>=0&&(Z-Q)*(at-xt)-(ht-Q)*(J-xt)>=0}function g(U,X){return U.next.i!==X.i&&U.prev.i!==X.i&&!b(U,X)&&(E(U,X)&&E(X,U)&&C(U,X)&&(y(U.prev,U,X.prev)||y(U,X.prev,X))||x(U,X)&&y(U.prev,U,U.next)>0&&y(X.prev,X,X.next)>0)}function y(U,X,Z){return(X.y-U.y)*(Z.x-X.x)-(X.x-U.x)*(Z.y-X.y)}function x(U,X){return U.x===X.x&&U.y===X.y}function A(U,X,Z,J){var ht=M(y(U,X,Z)),at=M(y(U,X,J)),Q=M(y(Z,J,U)),xt=M(y(Z,J,X));return!!(ht!==at&&Q!==xt||ht===0&&m(U,Z,X)||at===0&&m(U,J,X)||Q===0&&m(Z,U,J)||xt===0&&m(Z,X,J))}function m(U,X,Z){return X.x<=Math.max(U.x,Z.x)&&X.x>=Math.min(U.x,Z.x)&&X.y<=Math.max(U.y,Z.y)&&X.y>=Math.min(U.y,Z.y)}function M(U){return U>0?1:U<0?-1:0}function b(U,X){var Z=U;do{if(Z.i!==U.i&&Z.next.i!==U.i&&Z.i!==X.i&&Z.next.i!==X.i&&A(Z,Z.next,U,X))return!0;Z=Z.next}while(Z!==U);return!1}function E(U,X){return y(U.prev,U,U.next)<0?y(U,X,U.next)>=0&&y(U,U.prev,X)>=0:y(U,X,U.prev)<0||y(U,U.next,X)<0}function C(U,X){var Z=U,J=!1,ht=(U.x+X.x)/2,at=(U.y+X.y)/2;do Z.y>at!=Z.next.y>at&&Z.next.y!==Z.y&&ht<(Z.next.x-Z.x)*(at-Z.y)/(Z.next.y-Z.y)+Z.x&&(J=!J),Z=Z.next;while(Z!==U);return J}function T(U,X){var Z=new R(U.i,U.x,U.y),J=new R(X.i,X.x,X.y),ht=U.next,at=X.prev;return U.next=X,X.prev=U,Z.next=ht,ht.prev=Z,J.next=Z,Z.prev=J,at.next=J,J.prev=at,J}function O(U,X,Z,J){var ht=new R(U,X,Z);return J?(ht.next=J.next,ht.prev=J,J.next.prev=ht,J.next=ht):(ht.prev=ht,ht.next=ht),ht}function L(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function R(U,X,Z){this.i=U,this.x=X,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}P.deviation=function(U,X,Z,J){var ht=X&&X.length,at=ht?X[0]*Z:U.length,Q=Math.abs(W(U,0,at,Z));if(ht)for(var xt=0,kt=X.length;xt<kt;xt++){var Nt=X[xt]*Z,nt=xt<kt-1?X[xt+1]*Z:U.length;Q-=Math.abs(W(U,Nt,nt,Z))}var q=0;for(xt=0;xt<J.length;xt+=3){var G=J[xt]*Z,N=J[xt+1]*Z,it=J[xt+2]*Z;q+=Math.abs((U[G]-U[it])*(U[N+1]-U[G+1])-(U[G]-U[N])*(U[it+1]-U[G+1]))}return Q===0&&q===0?0:Math.abs((q-Q)/Q)};function W(U,X,Z,J){for(var ht=0,at=X,Q=Z-J;at<Z;at+=J)ht+=(U[Q]-U[at])*(U[at+1]+U[Q+1]),Q=at;return ht}P.flatten=function(U){for(var X=U[0][0].length,Z={vertices:[],holes:[],dimensions:X},J=0,ht=0;ht<U.length;ht++){for(var at=0;at<U[ht].length;at++)for(var Q=0;Q<X;Q++)Z.vertices.push(U[ht][at][Q]);ht>0&&(J+=U[ht-1].length,Z.holes.push(J))}return Z}},67709:function(mr){function P(i){var t=i.target||i.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame(function(){var c=t.__resizeTrigger__,s=c&&c.__resizeListeners__;s&&s.forEach(function(v){v.call(c,i)})})}var S=function(t,c){var s=this,v=s.document,o,f=v.attachEvent;typeof navigator!="undefined"&&(o=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/));function r(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",P)}if(!t.__resizeListeners__)if(t.__resizeListeners__=[],f)t.__resizeTrigger__=t,t.attachEvent("onresize",P);else{getComputedStyle(t).position==="static"&&(t.style.position="relative");var e=t.__resizeTrigger__=v.createElement("object");e.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),e.setAttribute("class","resize-sensor"),e.setAttribute("tabindex","-1"),e.setAttribute("title",""),e.__resizeElement__=t,e.onload=r,e.type="text/html",o&&t.appendChild(e),e.data="about:blank",o||t.appendChild(e)}t.__resizeListeners__.push(c)};mr.exports=typeof window=="undefined"?S:S.bind(window),mr.exports.unbind=function(i,t){var c=document.attachEvent,s=i.__resizeListeners__||[];if(t){var v=s.indexOf(t);v!==-1&&s.splice(v,1)}else s=i.__resizeListeners__=[];if(!s.length){if(c)i.detachEvent("onresize",P);else if(i.__resizeTrigger__){var o=i.__resizeTrigger__.contentDocument,f=o&&o.defaultView;f&&(f.removeEventListener("resize",P),delete f.__resizeTrigger__),i.__resizeTrigger__=!i.removeChild(i.__resizeTrigger__)}delete i.__resizeListeners__}}},26729:function(mr){"use strict";var P=Object.prototype.hasOwnProperty,S="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(S=!1));function t(o,f,r){this.fn=o,this.context=f,this.once=r||!1}function c(o,f,r,e,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var a=new t(r,e||o,n),u=S?S+f:f;return o._events[u]?o._events[u].fn?o._events[u]=[o._events[u],a]:o._events[u].push(a):(o._events[u]=a,o._eventsCount++),o}function s(o,f){--o._eventsCount==0?o._events=new i:delete o._events[f]}function v(){this._events=new i,this._eventsCount=0}v.prototype.eventNames=function(){var f=[],r,e;if(this._eventsCount===0)return f;for(e in r=this._events)P.call(r,e)&&f.push(S?e.slice(1):e);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(r)):f},v.prototype.listeners=function(f){var r=S?S+f:f,e=this._events[r];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,a=e.length,u=new Array(a);n<a;n++)u[n]=e[n].fn;return u},v.prototype.listenerCount=function(f){var r=S?S+f:f,e=this._events[r];return e?e.fn?1:e.length:0},v.prototype.emit=function(f,r,e,n,a,u){var l=S?S+f:f;if(!this._events[l])return!1;var h=this._events[l],p=arguments.length,d,g;if(h.fn){switch(h.once&&this.removeListener(f,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,r),!0;case 3:return h.fn.call(h.context,r,e),!0;case 4:return h.fn.call(h.context,r,e,n),!0;case 5:return h.fn.call(h.context,r,e,n,a),!0;case 6:return h.fn.call(h.context,r,e,n,a,u),!0}for(g=1,d=new Array(p-1);g<p;g++)d[g-1]=arguments[g];h.fn.apply(h.context,d)}else{var y=h.length,x;for(g=0;g<y;g++)switch(h[g].once&&this.removeListener(f,h[g].fn,void 0,!0),p){case 1:h[g].fn.call(h[g].context);break;case 2:h[g].fn.call(h[g].context,r);break;case 3:h[g].fn.call(h[g].context,r,e);break;case 4:h[g].fn.call(h[g].context,r,e,n);break;default:if(!d)for(x=1,d=new Array(p-1);x<p;x++)d[x-1]=arguments[x];h[g].fn.apply(h[g].context,d)}}return!0},v.prototype.on=function(f,r,e){return c(this,f,r,e,!1)},v.prototype.once=function(f,r,e){return c(this,f,r,e,!0)},v.prototype.removeListener=function(f,r,e,n){var a=S?S+f:f;if(!this._events[a])return this;if(!r)return s(this,a),this;var u=this._events[a];if(u.fn)u.fn===r&&(!n||u.once)&&(!e||u.context===e)&&s(this,a);else{for(var l=0,h=[],p=u.length;l<p;l++)(u[l].fn!==r||n&&!u[l].once||e&&u[l].context!==e)&&h.push(u[l]);h.length?this._events[a]=h.length===1?h[0]:h:s(this,a)}return this},v.prototype.removeAllListeners=function(f){var r;return f?(r=S?S+f:f,this._events[r]&&s(this,r)):(this._events=new i,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=S,v.EventEmitter=v,mr.exports=v},81490:function(mr){"use strict";mr.exports=v;var P,S,i,t,c,s=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function v(m){t=2,c=Math.pow(10,6),i=null,P=[],S=[];var M=m.readFields(o,{});return P=null,M}function o(m,M,b){m===1?P.push(b.readString()):m===2?t=b.readVarint():m===3?c=Math.pow(10,b.readVarint()):m===4?f(b,M):m===5?r(b,M):m===6&&e(b,M)}function f(m,M){return M.type="FeatureCollection",M.features=[],m.readMessage(n,M)}function r(m,M){M.type="Feature";var b=m.readMessage(a,M);return"geometry"in b||(b.geometry=null),b}function e(m,M){return M.type="Point",m.readMessage(u,M)}function n(m,M,b){m===1?M.features.push(r(b,{})):m===13?S.push(h(b)):m===15&&p(b,M)}function a(m,M,b){m===1?M.geometry=e(b,{}):m===11?M.id=b.readString():m===12?M.id=b.readSVarint():m===13?S.push(h(b)):m===14?M.properties=p(b,{}):m===15&&p(b,M)}function u(m,M,b){m===1?M.type=s[b.readVarint()]:m===2?i=b.readPackedVarint():m===3?l(M,b,M.type):m===4?(M.geometries=M.geometries||[],M.geometries.push(e(b,{}))):m===13?S.push(h(b)):m===15&&p(b,M)}function l(m,M,b){b==="Point"?m.coordinates=d(M):b==="MultiPoint"?m.coordinates=y(M,!0):b==="LineString"?m.coordinates=y(M):b==="MultiLineString"?m.coordinates=x(M):b==="Polygon"?m.coordinates=x(M,!0):b==="MultiPolygon"&&(m.coordinates=A(M))}function h(m){for(var M=m.readVarint()+m.pos,b=null;m.pos<M;){var E=m.readVarint(),C=E>>3;C===1?b=m.readString():C===2?b=m.readDouble():C===3?b=m.readVarint():C===4?b=-m.readVarint():C===5?b=m.readBoolean():C===6&&(b=JSON.parse(m.readString()))}return b}function p(m,M){for(var b=m.readVarint()+m.pos;m.pos<b;)M[P[m.readVarint()]]=S[m.readVarint()];return S=[],M}function d(m){for(var M=m.readVarint()+m.pos,b=[];m.pos<M;)b.push(m.readSVarint()/c);return b}function g(m,M,b,E){var C=0,T=[],O,L,R=[];for(L=0;L<t;L++)R[L]=0;for(;b?C<b:m.pos<M;){for(O=[],L=0;L<t;L++)R[L]+=m.readSVarint(),O[L]=R[L]/c;T.push(O),C++}return E&&T.push(T[0]),T}function y(m){return g(m,m.readVarint()+m.pos)}function x(m,M){var b=m.readVarint()+m.pos;if(!i)return[g(m,b,null,M)];for(var E=[],C=0;C<i.length;C++)E.push(g(m,b,i[C],M));return i=null,E}function A(m){var M=m.readVarint()+m.pos;if(!i)return[[g(m,M,null,!0)]];for(var b=[],E=1,C=0;C<i[0];C++){for(var T=[],O=0;O<i[E];O++)T.push(g(m,M,i[E+1+O],!0));E+=i[E]+1,b.push(T)}return i=null,b}},62020:function(mr){"use strict";mr.exports=o;var P,S,i,t,c,s=1e6,v={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function o(b,E){P={},i=[],S=0,t=0,c=1,f(b),c=Math.min(c,s);for(var C=Math.ceil(Math.log(c)/Math.LN10),T=0;T<i.length;T++)E.writeStringField(1,i[T]);return t!==2&&E.writeVarintField(2,t),C!==6&&E.writeVarintField(3,C),b.type==="FeatureCollection"?E.writeMessage(4,u,b):b.type==="Feature"?E.writeMessage(5,l,b):E.writeMessage(6,h,b),P=null,E.finish()}function f(b){var E,C;if(b.type==="FeatureCollection")for(E=0;E<b.features.length;E++)f(b.features[E]);else if(b.type==="Feature"){b.geometry!==null&&f(b.geometry);for(C in b.properties)a(C)}else if(b.type==="Point")n(b.coordinates);else if(b.type==="MultiPoint")e(b.coordinates);else if(b.type==="GeometryCollection")for(E=0;E<b.geometries.length;E++)f(b.geometries[E]);else if(b.type==="LineString")e(b.coordinates);else if(b.type==="Polygon"||b.type==="MultiLineString")r(b.coordinates);else if(b.type==="MultiPolygon")for(E=0;E<b.coordinates.length;E++)r(b.coordinates[E]);for(C in b)M(C,b.type)||a(C)}function r(b){for(var E=0;E<b.length;E++)e(b[E])}function e(b){for(var E=0;E<b.length;E++)n(b[E])}function n(b){t=Math.max(t,b.length);for(var E=0;E<b.length;E++)for(;Math.round(b[E]*c)/c!==b[E]&&c<s;)c*=10}function a(b){P[b]===void 0&&(i.push(b),P[b]=S++)}function u(b,E){for(var C=0;C<b.features.length;C++)E.writeMessage(1,l,b.features[C]);p(b,E,!0)}function l(b,E){b.geometry!==null&&E.writeMessage(1,h,b.geometry),b.id!==void 0&&(typeof b.id=="number"&&b.id%1==0?E.writeSVarintField(12,b.id):E.writeStringField(11,b.id)),b.properties&&p(b.properties,E),p(b,E,!0)}function h(b,E){E.writeVarintField(1,v[b.type]);var C=b.coordinates;if(b.type==="Point")g(C,E);else if(b.type==="MultiPoint")y(C,E,!0);else if(b.type==="LineString")y(C,E);else if(b.type==="MultiLineString")x(C,E);else if(b.type==="Polygon")x(C,E,!0);else if(b.type==="MultiPolygon")A(C,E);else if(b.type==="GeometryCollection")for(var T=0;T<b.geometries.length;T++)E.writeMessage(4,h,b.geometries[T]);p(b,E,!0)}function p(b,E,C){var T=[],O=0;for(var L in b)C&&M(L,b.type)||(E.writeMessage(13,d,b[L]),T.push(P[L]),T.push(O++));E.writePackedVarint(C?15:14,T)}function d(b,E){if(b!==null){var C=typeof b;C==="string"?E.writeStringField(1,b):C==="boolean"?E.writeBooleanField(5,b):C==="object"?E.writeStringField(6,JSON.stringify(b)):C==="number"&&(b%1!=0?E.writeDoubleField(2,b):b>=0?E.writeVarintField(3,b):E.writeVarintField(4,-b))}}function g(b,E){for(var C=[],T=0;T<t;T++)C.push(Math.round(b[T]*c));E.writePackedSVarint(3,C)}function y(b,E){var C=[];m(C,b),E.writePackedSVarint(3,C)}function x(b,E,C){var T=b.length,O;if(T!==1){var L=[];for(O=0;O<T;O++)L.push(b[O].length-(C?1:0));E.writePackedVarint(2,L)}var R=[];for(O=0;O<T;O++)m(R,b[O],C);E.writePackedSVarint(3,R)}function A(b,E){var C=b.length,T,O;if(C!==1||b[0].length!==1){var L=[C];for(T=0;T<C;T++)for(L.push(b[T].length),O=0;O<b[T].length;O++)L.push(b[T][O].length-1);E.writePackedVarint(2,L)}var R=[];for(T=0;T<C;T++)for(O=0;O<b[T].length;O++)m(R,b[T][O],!0);E.writePackedSVarint(3,R)}function m(b,E,C){var T,O,L=E.length-(C?1:0),R=new Array(t);for(O=0;O<t;O++)R[O]=0;for(T=0;T<L;T++)for(O=0;O<t;O++){var W=Math.round(E[T][O]*c)-R[O];b.push(W),R[O]+=W}}function M(b,E){if(b==="type")return!0;if(E==="FeatureCollection"){if(b==="features")return!0}else if(E==="Feature"){if(b==="id"||b==="properties"||b==="geometry")return!0}else if(E==="GeometryCollection"){if(b==="geometries")return!0}else if(b==="coordinates")return!0;return!1}},74951:function(mr,P,S){"use strict";P.encode=S(62020),P.decode=S(81490)},85975:function(mr,P,S){"use strict";S.r(P),S.d(P,{create:function(){return t},clone:function(){return c},copy:function(){return s},fromValues:function(){return v},set:function(){return o},identity:function(){return f},transpose:function(){return r},invert:function(){return e},adjoint:function(){return n},determinant:function(){return a},multiply:function(){return u},translate:function(){return l},scale:function(){return h},rotate:function(){return p},rotateX:function(){return d},rotateY:function(){return g},rotateZ:function(){return y},fromTranslation:function(){return x},fromScaling:function(){return A},fromRotation:function(){return m},fromXRotation:function(){return M},fromYRotation:function(){return b},fromZRotation:function(){return E},fromRotationTranslation:function(){return C},fromQuat2:function(){return T},getTranslation:function(){return O},getScaling:function(){return L},getRotation:function(){return R},fromRotationTranslationScale:function(){return W},fromRotationTranslationScaleOrigin:function(){return U},fromQuat:function(){return X},frustum:function(){return Z},perspectiveNO:function(){return J},perspective:function(){return ht},perspectiveZO:function(){return at},perspectiveFromFieldOfView:function(){return Q},orthoNO:function(){return xt},ortho:function(){return kt},orthoZO:function(){return Nt},lookAt:function(){return nt},targetTo:function(){return q},str:function(){return G},frob:function(){return N},add:function(){return it},subtract:function(){return H},multiplyScalar:function(){return ct},multiplyScalarAndAdd:function(){return ft},exactEquals:function(){return K},equals:function(){return $},mul:function(){return et},sub:function(){return j}});var i=S(49685);function t(){var w=new i.WT(16);return i.WT!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=0,w[12]=0,w[13]=0,w[14]=0),w[0]=1,w[5]=1,w[10]=1,w[15]=1,w}function c(w){var D=new i.WT(16);return D[0]=w[0],D[1]=w[1],D[2]=w[2],D[3]=w[3],D[4]=w[4],D[5]=w[5],D[6]=w[6],D[7]=w[7],D[8]=w[8],D[9]=w[9],D[10]=w[10],D[11]=w[11],D[12]=w[12],D[13]=w[13],D[14]=w[14],D[15]=w[15],D}function s(w,D){return w[0]=D[0],w[1]=D[1],w[2]=D[2],w[3]=D[3],w[4]=D[4],w[5]=D[5],w[6]=D[6],w[7]=D[7],w[8]=D[8],w[9]=D[9],w[10]=D[10],w[11]=D[11],w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15],w}function v(w,D,V,tt,lt,St,ot,Mt,Ot,Ft,zt,$t,he,ye,tr,nr){var Xe=new i.WT(16);return Xe[0]=w,Xe[1]=D,Xe[2]=V,Xe[3]=tt,Xe[4]=lt,Xe[5]=St,Xe[6]=ot,Xe[7]=Mt,Xe[8]=Ot,Xe[9]=Ft,Xe[10]=zt,Xe[11]=$t,Xe[12]=he,Xe[13]=ye,Xe[14]=tr,Xe[15]=nr,Xe}function o(w,D,V,tt,lt,St,ot,Mt,Ot,Ft,zt,$t,he,ye,tr,nr,Xe){return w[0]=D,w[1]=V,w[2]=tt,w[3]=lt,w[4]=St,w[5]=ot,w[6]=Mt,w[7]=Ot,w[8]=Ft,w[9]=zt,w[10]=$t,w[11]=he,w[12]=ye,w[13]=tr,w[14]=nr,w[15]=Xe,w}function f(w){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function r(w,D){if(w===D){var V=D[1],tt=D[2],lt=D[3],St=D[6],ot=D[7],Mt=D[11];w[1]=D[4],w[2]=D[8],w[3]=D[12],w[4]=V,w[6]=D[9],w[7]=D[13],w[8]=tt,w[9]=St,w[11]=D[14],w[12]=lt,w[13]=ot,w[14]=Mt}else w[0]=D[0],w[1]=D[4],w[2]=D[8],w[3]=D[12],w[4]=D[1],w[5]=D[5],w[6]=D[9],w[7]=D[13],w[8]=D[2],w[9]=D[6],w[10]=D[10],w[11]=D[14],w[12]=D[3],w[13]=D[7],w[14]=D[11],w[15]=D[15];return w}function e(w,D){var V=D[0],tt=D[1],lt=D[2],St=D[3],ot=D[4],Mt=D[5],Ot=D[6],Ft=D[7],zt=D[8],$t=D[9],he=D[10],ye=D[11],tr=D[12],nr=D[13],Xe=D[14],yr=D[15],Vr=V*Mt-tt*ot,Ee=V*Ot-lt*ot,de=V*Ft-St*ot,Ge=tt*Ot-lt*Mt,ke=tt*Ft-St*Mt,Kr=lt*Ft-St*Ot,fn=zt*nr-$t*tr,pi=zt*Xe-he*tr,Vi=zt*yr-ye*tr,ea=$t*Xe-he*nr,zi=$t*yr-ye*nr,Te=he*yr-ye*Xe,Be=Vr*Te-Ee*zi+de*ea+Ge*Vi-ke*pi+Kr*fn;return Be?(Be=1/Be,w[0]=(Mt*Te-Ot*zi+Ft*ea)*Be,w[1]=(lt*zi-tt*Te-St*ea)*Be,w[2]=(nr*Kr-Xe*ke+yr*Ge)*Be,w[3]=(he*ke-$t*Kr-ye*Ge)*Be,w[4]=(Ot*Vi-ot*Te-Ft*pi)*Be,w[5]=(V*Te-lt*Vi+St*pi)*Be,w[6]=(Xe*de-tr*Kr-yr*Ee)*Be,w[7]=(zt*Kr-he*de+ye*Ee)*Be,w[8]=(ot*zi-Mt*Vi+Ft*fn)*Be,w[9]=(tt*Vi-V*zi-St*fn)*Be,w[10]=(tr*ke-nr*de+yr*Vr)*Be,w[11]=($t*de-zt*ke-ye*Vr)*Be,w[12]=(Mt*pi-ot*ea-Ot*fn)*Be,w[13]=(V*ea-tt*pi+lt*fn)*Be,w[14]=(nr*Ee-tr*Ge-Xe*Vr)*Be,w[15]=(zt*Ge-$t*Ee+he*Vr)*Be,w):null}function n(w,D){var V=D[0],tt=D[1],lt=D[2],St=D[3],ot=D[4],Mt=D[5],Ot=D[6],Ft=D[7],zt=D[8],$t=D[9],he=D[10],ye=D[11],tr=D[12],nr=D[13],Xe=D[14],yr=D[15];return w[0]=Mt*(he*yr-ye*Xe)-$t*(Ot*yr-Ft*Xe)+nr*(Ot*ye-Ft*he),w[1]=-(tt*(he*yr-ye*Xe)-$t*(lt*yr-St*Xe)+nr*(lt*ye-St*he)),w[2]=tt*(Ot*yr-Ft*Xe)-Mt*(lt*yr-St*Xe)+nr*(lt*Ft-St*Ot),w[3]=-(tt*(Ot*ye-Ft*he)-Mt*(lt*ye-St*he)+$t*(lt*Ft-St*Ot)),w[4]=-(ot*(he*yr-ye*Xe)-zt*(Ot*yr-Ft*Xe)+tr*(Ot*ye-Ft*he)),w[5]=V*(he*yr-ye*Xe)-zt*(lt*yr-St*Xe)+tr*(lt*ye-St*he),w[6]=-(V*(Ot*yr-Ft*Xe)-ot*(lt*yr-St*Xe)+tr*(lt*Ft-St*Ot)),w[7]=V*(Ot*ye-Ft*he)-ot*(lt*ye-St*he)+zt*(lt*Ft-St*Ot),w[8]=ot*($t*yr-ye*nr)-zt*(Mt*yr-Ft*nr)+tr*(Mt*ye-Ft*$t),w[9]=-(V*($t*yr-ye*nr)-zt*(tt*yr-St*nr)+tr*(tt*ye-St*$t)),w[10]=V*(Mt*yr-Ft*nr)-ot*(tt*yr-St*nr)+tr*(tt*Ft-St*Mt),w[11]=-(V*(Mt*ye-Ft*$t)-ot*(tt*ye-St*$t)+zt*(tt*Ft-St*Mt)),w[12]=-(ot*($t*Xe-he*nr)-zt*(Mt*Xe-Ot*nr)+tr*(Mt*he-Ot*$t)),w[13]=V*($t*Xe-he*nr)-zt*(tt*Xe-lt*nr)+tr*(tt*he-lt*$t),w[14]=-(V*(Mt*Xe-Ot*nr)-ot*(tt*Xe-lt*nr)+tr*(tt*Ot-lt*Mt)),w[15]=V*(Mt*he-Ot*$t)-ot*(tt*he-lt*$t)+zt*(tt*Ot-lt*Mt),w}function a(w){var D=w[0],V=w[1],tt=w[2],lt=w[3],St=w[4],ot=w[5],Mt=w[6],Ot=w[7],Ft=w[8],zt=w[9],$t=w[10],he=w[11],ye=w[12],tr=w[13],nr=w[14],Xe=w[15],yr=D*ot-V*St,Vr=D*Mt-tt*St,Ee=D*Ot-lt*St,de=V*Mt-tt*ot,Ge=V*Ot-lt*ot,ke=tt*Ot-lt*Mt,Kr=Ft*tr-zt*ye,fn=Ft*nr-$t*ye,pi=Ft*Xe-he*ye,Vi=zt*nr-$t*tr,ea=zt*Xe-he*tr,zi=$t*Xe-he*nr;return yr*zi-Vr*ea+Ee*Vi+de*pi-Ge*fn+ke*Kr}function u(w,D,V){var tt=D[0],lt=D[1],St=D[2],ot=D[3],Mt=D[4],Ot=D[5],Ft=D[6],zt=D[7],$t=D[8],he=D[9],ye=D[10],tr=D[11],nr=D[12],Xe=D[13],yr=D[14],Vr=D[15],Ee=V[0],de=V[1],Ge=V[2],ke=V[3];return w[0]=Ee*tt+de*Mt+Ge*$t+ke*nr,w[1]=Ee*lt+de*Ot+Ge*he+ke*Xe,w[2]=Ee*St+de*Ft+Ge*ye+ke*yr,w[3]=Ee*ot+de*zt+Ge*tr+ke*Vr,Ee=V[4],de=V[5],Ge=V[6],ke=V[7],w[4]=Ee*tt+de*Mt+Ge*$t+ke*nr,w[5]=Ee*lt+de*Ot+Ge*he+ke*Xe,w[6]=Ee*St+de*Ft+Ge*ye+ke*yr,w[7]=Ee*ot+de*zt+Ge*tr+ke*Vr,Ee=V[8],de=V[9],Ge=V[10],ke=V[11],w[8]=Ee*tt+de*Mt+Ge*$t+ke*nr,w[9]=Ee*lt+de*Ot+Ge*he+ke*Xe,w[10]=Ee*St+de*Ft+Ge*ye+ke*yr,w[11]=Ee*ot+de*zt+Ge*tr+ke*Vr,Ee=V[12],de=V[13],Ge=V[14],ke=V[15],w[12]=Ee*tt+de*Mt+Ge*$t+ke*nr,w[13]=Ee*lt+de*Ot+Ge*he+ke*Xe,w[14]=Ee*St+de*Ft+Ge*ye+ke*yr,w[15]=Ee*ot+de*zt+Ge*tr+ke*Vr,w}function l(w,D,V){var tt=V[0],lt=V[1],St=V[2],ot,Mt,Ot,Ft,zt,$t,he,ye,tr,nr,Xe,yr;return D===w?(w[12]=D[0]*tt+D[4]*lt+D[8]*St+D[12],w[13]=D[1]*tt+D[5]*lt+D[9]*St+D[13],w[14]=D[2]*tt+D[6]*lt+D[10]*St+D[14],w[15]=D[3]*tt+D[7]*lt+D[11]*St+D[15]):(ot=D[0],Mt=D[1],Ot=D[2],Ft=D[3],zt=D[4],$t=D[5],he=D[6],ye=D[7],tr=D[8],nr=D[9],Xe=D[10],yr=D[11],w[0]=ot,w[1]=Mt,w[2]=Ot,w[3]=Ft,w[4]=zt,w[5]=$t,w[6]=he,w[7]=ye,w[8]=tr,w[9]=nr,w[10]=Xe,w[11]=yr,w[12]=ot*tt+zt*lt+tr*St+D[12],w[13]=Mt*tt+$t*lt+nr*St+D[13],w[14]=Ot*tt+he*lt+Xe*St+D[14],w[15]=Ft*tt+ye*lt+yr*St+D[15]),w}function h(w,D,V){var tt=V[0],lt=V[1],St=V[2];return w[0]=D[0]*tt,w[1]=D[1]*tt,w[2]=D[2]*tt,w[3]=D[3]*tt,w[4]=D[4]*lt,w[5]=D[5]*lt,w[6]=D[6]*lt,w[7]=D[7]*lt,w[8]=D[8]*St,w[9]=D[9]*St,w[10]=D[10]*St,w[11]=D[11]*St,w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15],w}function p(w,D,V,tt){var lt=tt[0],St=tt[1],ot=tt[2],Mt=Math.hypot(lt,St,ot),Ot,Ft,zt,$t,he,ye,tr,nr,Xe,yr,Vr,Ee,de,Ge,ke,Kr,fn,pi,Vi,ea,zi,Te,Be,lr;return Mt<i.Ib?null:(Mt=1/Mt,lt*=Mt,St*=Mt,ot*=Mt,Ot=Math.sin(V),Ft=Math.cos(V),zt=1-Ft,$t=D[0],he=D[1],ye=D[2],tr=D[3],nr=D[4],Xe=D[5],yr=D[6],Vr=D[7],Ee=D[8],de=D[9],Ge=D[10],ke=D[11],Kr=lt*lt*zt+Ft,fn=St*lt*zt+ot*Ot,pi=ot*lt*zt-St*Ot,Vi=lt*St*zt-ot*Ot,ea=St*St*zt+Ft,zi=ot*St*zt+lt*Ot,Te=lt*ot*zt+St*Ot,Be=St*ot*zt-lt*Ot,lr=ot*ot*zt+Ft,w[0]=$t*Kr+nr*fn+Ee*pi,w[1]=he*Kr+Xe*fn+de*pi,w[2]=ye*Kr+yr*fn+Ge*pi,w[3]=tr*Kr+Vr*fn+ke*pi,w[4]=$t*Vi+nr*ea+Ee*zi,w[5]=he*Vi+Xe*ea+de*zi,w[6]=ye*Vi+yr*ea+Ge*zi,w[7]=tr*Vi+Vr*ea+ke*zi,w[8]=$t*Te+nr*Be+Ee*lr,w[9]=he*Te+Xe*Be+de*lr,w[10]=ye*Te+yr*Be+Ge*lr,w[11]=tr*Te+Vr*Be+ke*lr,D!==w&&(w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15]),w)}function d(w,D,V){var tt=Math.sin(V),lt=Math.cos(V),St=D[4],ot=D[5],Mt=D[6],Ot=D[7],Ft=D[8],zt=D[9],$t=D[10],he=D[11];return D!==w&&(w[0]=D[0],w[1]=D[1],w[2]=D[2],w[3]=D[3],w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15]),w[4]=St*lt+Ft*tt,w[5]=ot*lt+zt*tt,w[6]=Mt*lt+$t*tt,w[7]=Ot*lt+he*tt,w[8]=Ft*lt-St*tt,w[9]=zt*lt-ot*tt,w[10]=$t*lt-Mt*tt,w[11]=he*lt-Ot*tt,w}function g(w,D,V){var tt=Math.sin(V),lt=Math.cos(V),St=D[0],ot=D[1],Mt=D[2],Ot=D[3],Ft=D[8],zt=D[9],$t=D[10],he=D[11];return D!==w&&(w[4]=D[4],w[5]=D[5],w[6]=D[6],w[7]=D[7],w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15]),w[0]=St*lt-Ft*tt,w[1]=ot*lt-zt*tt,w[2]=Mt*lt-$t*tt,w[3]=Ot*lt-he*tt,w[8]=St*tt+Ft*lt,w[9]=ot*tt+zt*lt,w[10]=Mt*tt+$t*lt,w[11]=Ot*tt+he*lt,w}function y(w,D,V){var tt=Math.sin(V),lt=Math.cos(V),St=D[0],ot=D[1],Mt=D[2],Ot=D[3],Ft=D[4],zt=D[5],$t=D[6],he=D[7];return D!==w&&(w[8]=D[8],w[9]=D[9],w[10]=D[10],w[11]=D[11],w[12]=D[12],w[13]=D[13],w[14]=D[14],w[15]=D[15]),w[0]=St*lt+Ft*tt,w[1]=ot*lt+zt*tt,w[2]=Mt*lt+$t*tt,w[3]=Ot*lt+he*tt,w[4]=Ft*lt-St*tt,w[5]=zt*lt-ot*tt,w[6]=$t*lt-Mt*tt,w[7]=he*lt-Ot*tt,w}function x(w,D){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=D[0],w[13]=D[1],w[14]=D[2],w[15]=1,w}function A(w,D){return w[0]=D[0],w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=D[1],w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=D[2],w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function m(w,D,V){var tt=V[0],lt=V[1],St=V[2],ot=Math.hypot(tt,lt,St),Mt,Ot,Ft;return ot<i.Ib?null:(ot=1/ot,tt*=ot,lt*=ot,St*=ot,Mt=Math.sin(D),Ot=Math.cos(D),Ft=1-Ot,w[0]=tt*tt*Ft+Ot,w[1]=lt*tt*Ft+St*Mt,w[2]=St*tt*Ft-lt*Mt,w[3]=0,w[4]=tt*lt*Ft-St*Mt,w[5]=lt*lt*Ft+Ot,w[6]=St*lt*Ft+tt*Mt,w[7]=0,w[8]=tt*St*Ft+lt*Mt,w[9]=lt*St*Ft-tt*Mt,w[10]=St*St*Ft+Ot,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w)}function M(w,D){var V=Math.sin(D),tt=Math.cos(D);return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=tt,w[6]=V,w[7]=0,w[8]=0,w[9]=-V,w[10]=tt,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function b(w,D){var V=Math.sin(D),tt=Math.cos(D);return w[0]=tt,w[1]=0,w[2]=-V,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=V,w[9]=0,w[10]=tt,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function E(w,D){var V=Math.sin(D),tt=Math.cos(D);return w[0]=tt,w[1]=V,w[2]=0,w[3]=0,w[4]=-V,w[5]=tt,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function C(w,D,V){var tt=D[0],lt=D[1],St=D[2],ot=D[3],Mt=tt+tt,Ot=lt+lt,Ft=St+St,zt=tt*Mt,$t=tt*Ot,he=tt*Ft,ye=lt*Ot,tr=lt*Ft,nr=St*Ft,Xe=ot*Mt,yr=ot*Ot,Vr=ot*Ft;return w[0]=1-(ye+nr),w[1]=$t+Vr,w[2]=he-yr,w[3]=0,w[4]=$t-Vr,w[5]=1-(zt+nr),w[6]=tr+Xe,w[7]=0,w[8]=he+yr,w[9]=tr-Xe,w[10]=1-(zt+ye),w[11]=0,w[12]=V[0],w[13]=V[1],w[14]=V[2],w[15]=1,w}function T(w,D){var V=new i.WT(3),tt=-D[0],lt=-D[1],St=-D[2],ot=D[3],Mt=D[4],Ot=D[5],Ft=D[6],zt=D[7],$t=tt*tt+lt*lt+St*St+ot*ot;return $t>0?(V[0]=(Mt*ot+zt*tt+Ot*St-Ft*lt)*2/$t,V[1]=(Ot*ot+zt*lt+Ft*tt-Mt*St)*2/$t,V[2]=(Ft*ot+zt*St+Mt*lt-Ot*tt)*2/$t):(V[0]=(Mt*ot+zt*tt+Ot*St-Ft*lt)*2,V[1]=(Ot*ot+zt*lt+Ft*tt-Mt*St)*2,V[2]=(Ft*ot+zt*St+Mt*lt-Ot*tt)*2),C(w,D,V),w}function O(w,D){return w[0]=D[12],w[1]=D[13],w[2]=D[14],w}function L(w,D){var V=D[0],tt=D[1],lt=D[2],St=D[4],ot=D[5],Mt=D[6],Ot=D[8],Ft=D[9],zt=D[10];return w[0]=Math.hypot(V,tt,lt),w[1]=Math.hypot(St,ot,Mt),w[2]=Math.hypot(Ot,Ft,zt),w}function R(w,D){var V=new i.WT(3);L(V,D);var tt=1/V[0],lt=1/V[1],St=1/V[2],ot=D[0]*tt,Mt=D[1]*lt,Ot=D[2]*St,Ft=D[4]*tt,zt=D[5]*lt,$t=D[6]*St,he=D[8]*tt,ye=D[9]*lt,tr=D[10]*St,nr=ot+zt+tr,Xe=0;return nr>0?(Xe=Math.sqrt(nr+1)*2,w[3]=.25*Xe,w[0]=($t-ye)/Xe,w[1]=(he-Ot)/Xe,w[2]=(Mt-Ft)/Xe):ot>zt&&ot>tr?(Xe=Math.sqrt(1+ot-zt-tr)*2,w[3]=($t-ye)/Xe,w[0]=.25*Xe,w[1]=(Mt+Ft)/Xe,w[2]=(he+Ot)/Xe):zt>tr?(Xe=Math.sqrt(1+zt-ot-tr)*2,w[3]=(he-Ot)/Xe,w[0]=(Mt+Ft)/Xe,w[1]=.25*Xe,w[2]=($t+ye)/Xe):(Xe=Math.sqrt(1+tr-ot-zt)*2,w[3]=(Mt-Ft)/Xe,w[0]=(he+Ot)/Xe,w[1]=($t+ye)/Xe,w[2]=.25*Xe),w}function W(w,D,V,tt){var lt=D[0],St=D[1],ot=D[2],Mt=D[3],Ot=lt+lt,Ft=St+St,zt=ot+ot,$t=lt*Ot,he=lt*Ft,ye=lt*zt,tr=St*Ft,nr=St*zt,Xe=ot*zt,yr=Mt*Ot,Vr=Mt*Ft,Ee=Mt*zt,de=tt[0],Ge=tt[1],ke=tt[2];return w[0]=(1-(tr+Xe))*de,w[1]=(he+Ee)*de,w[2]=(ye-Vr)*de,w[3]=0,w[4]=(he-Ee)*Ge,w[5]=(1-($t+Xe))*Ge,w[6]=(nr+yr)*Ge,w[7]=0,w[8]=(ye+Vr)*ke,w[9]=(nr-yr)*ke,w[10]=(1-($t+tr))*ke,w[11]=0,w[12]=V[0],w[13]=V[1],w[14]=V[2],w[15]=1,w}function U(w,D,V,tt,lt){var St=D[0],ot=D[1],Mt=D[2],Ot=D[3],Ft=St+St,zt=ot+ot,$t=Mt+Mt,he=St*Ft,ye=St*zt,tr=St*$t,nr=ot*zt,Xe=ot*$t,yr=Mt*$t,Vr=Ot*Ft,Ee=Ot*zt,de=Ot*$t,Ge=tt[0],ke=tt[1],Kr=tt[2],fn=lt[0],pi=lt[1],Vi=lt[2],ea=(1-(nr+yr))*Ge,zi=(ye+de)*Ge,Te=(tr-Ee)*Ge,Be=(ye-de)*ke,lr=(1-(he+yr))*ke,Or=(Xe+Vr)*ke,sr=(tr+Ee)*Kr,Dr=(Xe-Vr)*Kr,En=(1-(he+nr))*Kr;return w[0]=ea,w[1]=zi,w[2]=Te,w[3]=0,w[4]=Be,w[5]=lr,w[6]=Or,w[7]=0,w[8]=sr,w[9]=Dr,w[10]=En,w[11]=0,w[12]=V[0]+fn-(ea*fn+Be*pi+sr*Vi),w[13]=V[1]+pi-(zi*fn+lr*pi+Dr*Vi),w[14]=V[2]+Vi-(Te*fn+Or*pi+En*Vi),w[15]=1,w}function X(w,D){var V=D[0],tt=D[1],lt=D[2],St=D[3],ot=V+V,Mt=tt+tt,Ot=lt+lt,Ft=V*ot,zt=tt*ot,$t=tt*Mt,he=lt*ot,ye=lt*Mt,tr=lt*Ot,nr=St*ot,Xe=St*Mt,yr=St*Ot;return w[0]=1-$t-tr,w[1]=zt+yr,w[2]=he-Xe,w[3]=0,w[4]=zt-yr,w[5]=1-Ft-tr,w[6]=ye+nr,w[7]=0,w[8]=he+Xe,w[9]=ye-nr,w[10]=1-Ft-$t,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function Z(w,D,V,tt,lt,St,ot){var Mt=1/(V-D),Ot=1/(lt-tt),Ft=1/(St-ot);return w[0]=St*2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=St*2*Ot,w[6]=0,w[7]=0,w[8]=(V+D)*Mt,w[9]=(lt+tt)*Ot,w[10]=(ot+St)*Ft,w[11]=-1,w[12]=0,w[13]=0,w[14]=ot*St*2*Ft,w[15]=0,w}function J(w,D,V,tt,lt){var St=1/Math.tan(D/2),ot;return w[0]=St/V,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=St,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,lt!=null&&lt!==Infinity?(ot=1/(tt-lt),w[10]=(lt+tt)*ot,w[14]=2*lt*tt*ot):(w[10]=-1,w[14]=-2*tt),w}var ht=J;function at(w,D,V,tt,lt){var St=1/Math.tan(D/2),ot;return w[0]=St/V,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=St,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,lt!=null&&lt!==Infinity?(ot=1/(tt-lt),w[10]=lt*ot,w[14]=lt*tt*ot):(w[10]=-1,w[14]=-tt),w}function Q(w,D,V,tt){var lt=Math.tan(D.upDegrees*Math.PI/180),St=Math.tan(D.downDegrees*Math.PI/180),ot=Math.tan(D.leftDegrees*Math.PI/180),Mt=Math.tan(D.rightDegrees*Math.PI/180),Ot=2/(ot+Mt),Ft=2/(lt+St);return w[0]=Ot,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=Ft,w[6]=0,w[7]=0,w[8]=-((ot-Mt)*Ot*.5),w[9]=(lt-St)*Ft*.5,w[10]=tt/(V-tt),w[11]=-1,w[12]=0,w[13]=0,w[14]=tt*V/(V-tt),w[15]=0,w}function xt(w,D,V,tt,lt,St,ot){var Mt=1/(D-V),Ot=1/(tt-lt),Ft=1/(St-ot);return w[0]=-2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*Ot,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=2*Ft,w[11]=0,w[12]=(D+V)*Mt,w[13]=(lt+tt)*Ot,w[14]=(ot+St)*Ft,w[15]=1,w}var kt=xt;function Nt(w,D,V,tt,lt,St,ot){var Mt=1/(D-V),Ot=1/(tt-lt),Ft=1/(St-ot);return w[0]=-2*Mt,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*Ot,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=Ft,w[11]=0,w[12]=(D+V)*Mt,w[13]=(lt+tt)*Ot,w[14]=St*Ft,w[15]=1,w}function nt(w,D,V,tt){var lt,St,ot,Mt,Ot,Ft,zt,$t,he,ye,tr=D[0],nr=D[1],Xe=D[2],yr=tt[0],Vr=tt[1],Ee=tt[2],de=V[0],Ge=V[1],ke=V[2];return Math.abs(tr-de)<i.Ib&&Math.abs(nr-Ge)<i.Ib&&Math.abs(Xe-ke)<i.Ib?f(w):(zt=tr-de,$t=nr-Ge,he=Xe-ke,ye=1/Math.hypot(zt,$t,he),zt*=ye,$t*=ye,he*=ye,lt=Vr*he-Ee*$t,St=Ee*zt-yr*he,ot=yr*$t-Vr*zt,ye=Math.hypot(lt,St,ot),ye?(ye=1/ye,lt*=ye,St*=ye,ot*=ye):(lt=0,St=0,ot=0),Mt=$t*ot-he*St,Ot=he*lt-zt*ot,Ft=zt*St-$t*lt,ye=Math.hypot(Mt,Ot,Ft),ye?(ye=1/ye,Mt*=ye,Ot*=ye,Ft*=ye):(Mt=0,Ot=0,Ft=0),w[0]=lt,w[1]=Mt,w[2]=zt,w[3]=0,w[4]=St,w[5]=Ot,w[6]=$t,w[7]=0,w[8]=ot,w[9]=Ft,w[10]=he,w[11]=0,w[12]=-(lt*tr+St*nr+ot*Xe),w[13]=-(Mt*tr+Ot*nr+Ft*Xe),w[14]=-(zt*tr+$t*nr+he*Xe),w[15]=1,w)}function q(w,D,V,tt){var lt=D[0],St=D[1],ot=D[2],Mt=tt[0],Ot=tt[1],Ft=tt[2],zt=lt-V[0],$t=St-V[1],he=ot-V[2],ye=zt*zt+$t*$t+he*he;ye>0&&(ye=1/Math.sqrt(ye),zt*=ye,$t*=ye,he*=ye);var tr=Ot*he-Ft*$t,nr=Ft*zt-Mt*he,Xe=Mt*$t-Ot*zt;return ye=tr*tr+nr*nr+Xe*Xe,ye>0&&(ye=1/Math.sqrt(ye),tr*=ye,nr*=ye,Xe*=ye),w[0]=tr,w[1]=nr,w[2]=Xe,w[3]=0,w[4]=$t*Xe-he*nr,w[5]=he*tr-zt*Xe,w[6]=zt*nr-$t*tr,w[7]=0,w[8]=zt,w[9]=$t,w[10]=he,w[11]=0,w[12]=lt,w[13]=St,w[14]=ot,w[15]=1,w}function G(w){return"mat4("+w[0]+", "+w[1]+", "+w[2]+", "+w[3]+", "+w[4]+", "+w[5]+", "+w[6]+", "+w[7]+", "+w[8]+", "+w[9]+", "+w[10]+", "+w[11]+", "+w[12]+", "+w[13]+", "+w[14]+", "+w[15]+")"}function N(w){return Math.hypot(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15])}function it(w,D,V){return w[0]=D[0]+V[0],w[1]=D[1]+V[1],w[2]=D[2]+V[2],w[3]=D[3]+V[3],w[4]=D[4]+V[4],w[5]=D[5]+V[5],w[6]=D[6]+V[6],w[7]=D[7]+V[7],w[8]=D[8]+V[8],w[9]=D[9]+V[9],w[10]=D[10]+V[10],w[11]=D[11]+V[11],w[12]=D[12]+V[12],w[13]=D[13]+V[13],w[14]=D[14]+V[14],w[15]=D[15]+V[15],w}function H(w,D,V){return w[0]=D[0]-V[0],w[1]=D[1]-V[1],w[2]=D[2]-V[2],w[3]=D[3]-V[3],w[4]=D[4]-V[4],w[5]=D[5]-V[5],w[6]=D[6]-V[6],w[7]=D[7]-V[7],w[8]=D[8]-V[8],w[9]=D[9]-V[9],w[10]=D[10]-V[10],w[11]=D[11]-V[11],w[12]=D[12]-V[12],w[13]=D[13]-V[13],w[14]=D[14]-V[14],w[15]=D[15]-V[15],w}function ct(w,D,V){return w[0]=D[0]*V,w[1]=D[1]*V,w[2]=D[2]*V,w[3]=D[3]*V,w[4]=D[4]*V,w[5]=D[5]*V,w[6]=D[6]*V,w[7]=D[7]*V,w[8]=D[8]*V,w[9]=D[9]*V,w[10]=D[10]*V,w[11]=D[11]*V,w[12]=D[12]*V,w[13]=D[13]*V,w[14]=D[14]*V,w[15]=D[15]*V,w}function ft(w,D,V,tt){return w[0]=D[0]+V[0]*tt,w[1]=D[1]+V[1]*tt,w[2]=D[2]+V[2]*tt,w[3]=D[3]+V[3]*tt,w[4]=D[4]+V[4]*tt,w[5]=D[5]+V[5]*tt,w[6]=D[6]+V[6]*tt,w[7]=D[7]+V[7]*tt,w[8]=D[8]+V[8]*tt,w[9]=D[9]+V[9]*tt,w[10]=D[10]+V[10]*tt,w[11]=D[11]+V[11]*tt,w[12]=D[12]+V[12]*tt,w[13]=D[13]+V[13]*tt,w[14]=D[14]+V[14]*tt,w[15]=D[15]+V[15]*tt,w}function K(w,D){return w[0]===D[0]&&w[1]===D[1]&&w[2]===D[2]&&w[3]===D[3]&&w[4]===D[4]&&w[5]===D[5]&&w[6]===D[6]&&w[7]===D[7]&&w[8]===D[8]&&w[9]===D[9]&&w[10]===D[10]&&w[11]===D[11]&&w[12]===D[12]&&w[13]===D[13]&&w[14]===D[14]&&w[15]===D[15]}function $(w,D){var V=w[0],tt=w[1],lt=w[2],St=w[3],ot=w[4],Mt=w[5],Ot=w[6],Ft=w[7],zt=w[8],$t=w[9],he=w[10],ye=w[11],tr=w[12],nr=w[13],Xe=w[14],yr=w[15],Vr=D[0],Ee=D[1],de=D[2],Ge=D[3],ke=D[4],Kr=D[5],fn=D[6],pi=D[7],Vi=D[8],ea=D[9],zi=D[10],Te=D[11],Be=D[12],lr=D[13],Or=D[14],sr=D[15];return Math.abs(V-Vr)<=i.Ib*Math.max(1,Math.abs(V),Math.abs(Vr))&&Math.abs(tt-Ee)<=i.Ib*Math.max(1,Math.abs(tt),Math.abs(Ee))&&Math.abs(lt-de)<=i.Ib*Math.max(1,Math.abs(lt),Math.abs(de))&&Math.abs(St-Ge)<=i.Ib*Math.max(1,Math.abs(St),Math.abs(Ge))&&Math.abs(ot-ke)<=i.Ib*Math.max(1,Math.abs(ot),Math.abs(ke))&&Math.abs(Mt-Kr)<=i.Ib*Math.max(1,Math.abs(Mt),Math.abs(Kr))&&Math.abs(Ot-fn)<=i.Ib*Math.max(1,Math.abs(Ot),Math.abs(fn))&&Math.abs(Ft-pi)<=i.Ib*Math.max(1,Math.abs(Ft),Math.abs(pi))&&Math.abs(zt-Vi)<=i.Ib*Math.max(1,Math.abs(zt),Math.abs(Vi))&&Math.abs($t-ea)<=i.Ib*Math.max(1,Math.abs($t),Math.abs(ea))&&Math.abs(he-zi)<=i.Ib*Math.max(1,Math.abs(he),Math.abs(zi))&&Math.abs(ye-Te)<=i.Ib*Math.max(1,Math.abs(ye),Math.abs(Te))&&Math.abs(tr-Be)<=i.Ib*Math.max(1,Math.abs(tr),Math.abs(Be))&&Math.abs(nr-lr)<=i.Ib*Math.max(1,Math.abs(nr),Math.abs(lr))&&Math.abs(Xe-Or)<=i.Ib*Math.max(1,Math.abs(Xe),Math.abs(Or))&&Math.abs(yr-sr)<=i.Ib*Math.max(1,Math.abs(yr),Math.abs(sr))}var et=u,j=H},98333:function(mr,P,S){"use strict";S.d(P,{Ue:function(){return t},al:function(){return s},fF:function(){return R}});var i=S(49685);function t(){var G=new i.WT(4);return i.WT!=Float32Array&&(G[0]=0,G[1]=0,G[2]=0,G[3]=0),G}function c(G){var N=new glMatrix.ARRAY_TYPE(4);return N[0]=G[0],N[1]=G[1],N[2]=G[2],N[3]=G[3],N}function s(G,N,it,H){var ct=new i.WT(4);return ct[0]=G,ct[1]=N,ct[2]=it,ct[3]=H,ct}function v(G,N){return G[0]=N[0],G[1]=N[1],G[2]=N[2],G[3]=N[3],G}function o(G,N,it,H,ct){return G[0]=N,G[1]=it,G[2]=H,G[3]=ct,G}function f(G,N,it){return G[0]=N[0]+it[0],G[1]=N[1]+it[1],G[2]=N[2]+it[2],G[3]=N[3]+it[3],G}function r(G,N,it){return G[0]=N[0]-it[0],G[1]=N[1]-it[1],G[2]=N[2]-it[2],G[3]=N[3]-it[3],G}function e(G,N,it){return G[0]=N[0]*it[0],G[1]=N[1]*it[1],G[2]=N[2]*it[2],G[3]=N[3]*it[3],G}function n(G,N,it){return G[0]=N[0]/it[0],G[1]=N[1]/it[1],G[2]=N[2]/it[2],G[3]=N[3]/it[3],G}function a(G,N){return G[0]=Math.ceil(N[0]),G[1]=Math.ceil(N[1]),G[2]=Math.ceil(N[2]),G[3]=Math.ceil(N[3]),G}function u(G,N){return G[0]=Math.floor(N[0]),G[1]=Math.floor(N[1]),G[2]=Math.floor(N[2]),G[3]=Math.floor(N[3]),G}function l(G,N,it){return G[0]=Math.min(N[0],it[0]),G[1]=Math.min(N[1],it[1]),G[2]=Math.min(N[2],it[2]),G[3]=Math.min(N[3],it[3]),G}function h(G,N,it){return G[0]=Math.max(N[0],it[0]),G[1]=Math.max(N[1],it[1]),G[2]=Math.max(N[2],it[2]),G[3]=Math.max(N[3],it[3]),G}function p(G,N){return G[0]=Math.round(N[0]),G[1]=Math.round(N[1]),G[2]=Math.round(N[2]),G[3]=Math.round(N[3]),G}function d(G,N,it){return G[0]=N[0]*it,G[1]=N[1]*it,G[2]=N[2]*it,G[3]=N[3]*it,G}function g(G,N,it,H){return G[0]=N[0]+it[0]*H,G[1]=N[1]+it[1]*H,G[2]=N[2]+it[2]*H,G[3]=N[3]+it[3]*H,G}function y(G,N){var it=N[0]-G[0],H=N[1]-G[1],ct=N[2]-G[2],ft=N[3]-G[3];return Math.hypot(it,H,ct,ft)}function x(G,N){var it=N[0]-G[0],H=N[1]-G[1],ct=N[2]-G[2],ft=N[3]-G[3];return it*it+H*H+ct*ct+ft*ft}function A(G){var N=G[0],it=G[1],H=G[2],ct=G[3];return Math.hypot(N,it,H,ct)}function m(G){var N=G[0],it=G[1],H=G[2],ct=G[3];return N*N+it*it+H*H+ct*ct}function M(G,N){return G[0]=-N[0],G[1]=-N[1],G[2]=-N[2],G[3]=-N[3],G}function b(G,N){return G[0]=1/N[0],G[1]=1/N[1],G[2]=1/N[2],G[3]=1/N[3],G}function E(G,N){var it=N[0],H=N[1],ct=N[2],ft=N[3],K=it*it+H*H+ct*ct+ft*ft;return K>0&&(K=1/Math.sqrt(K)),G[0]=it*K,G[1]=H*K,G[2]=ct*K,G[3]=ft*K,G}function C(G,N){return G[0]*N[0]+G[1]*N[1]+G[2]*N[2]+G[3]*N[3]}function T(G,N,it,H){var ct=it[0]*H[1]-it[1]*H[0],ft=it[0]*H[2]-it[2]*H[0],K=it[0]*H[3]-it[3]*H[0],$=it[1]*H[2]-it[2]*H[1],et=it[1]*H[3]-it[3]*H[1],j=it[2]*H[3]-it[3]*H[2],w=N[0],D=N[1],V=N[2],tt=N[3];return G[0]=D*j-V*et+tt*$,G[1]=-(w*j)+V*K-tt*ft,G[2]=w*et-D*K+tt*ct,G[3]=-(w*$)+D*ft-V*ct,G}function O(G,N,it,H){var ct=N[0],ft=N[1],K=N[2],$=N[3];return G[0]=ct+H*(it[0]-ct),G[1]=ft+H*(it[1]-ft),G[2]=K+H*(it[2]-K),G[3]=$+H*(it[3]-$),G}function L(G,N){N=N||1;var it,H,ct,ft,K,$;do it=glMatrix.RANDOM()*2-1,H=glMatrix.RANDOM()*2-1,K=it*it+H*H;while(K>=1);do ct=glMatrix.RANDOM()*2-1,ft=glMatrix.RANDOM()*2-1,$=ct*ct+ft*ft;while($>=1);var et=Math.sqrt((1-K)/$);return G[0]=N*it,G[1]=N*H,G[2]=N*ct*et,G[3]=N*ft*et,G}function R(G,N,it){var H=N[0],ct=N[1],ft=N[2],K=N[3];return G[0]=it[0]*H+it[4]*ct+it[8]*ft+it[12]*K,G[1]=it[1]*H+it[5]*ct+it[9]*ft+it[13]*K,G[2]=it[2]*H+it[6]*ct+it[10]*ft+it[14]*K,G[3]=it[3]*H+it[7]*ct+it[11]*ft+it[15]*K,G}function W(G,N,it){var H=N[0],ct=N[1],ft=N[2],K=it[0],$=it[1],et=it[2],j=it[3],w=j*H+$*ft-et*ct,D=j*ct+et*H-K*ft,V=j*ft+K*ct-$*H,tt=-K*H-$*ct-et*ft;return G[0]=w*j+tt*-K+D*-et-V*-$,G[1]=D*j+tt*-$+V*-K-w*-et,G[2]=V*j+tt*-et+w*-$-D*-K,G[3]=N[3],G}function U(G){return G[0]=0,G[1]=0,G[2]=0,G[3]=0,G}function X(G){return"vec4("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+")"}function Z(G,N){return G[0]===N[0]&&G[1]===N[1]&&G[2]===N[2]&&G[3]===N[3]}function J(G,N){var it=G[0],H=G[1],ct=G[2],ft=G[3],K=N[0],$=N[1],et=N[2],j=N[3];return Math.abs(it-K)<=glMatrix.EPSILON*Math.max(1,Math.abs(it),Math.abs(K))&&Math.abs(H-$)<=glMatrix.EPSILON*Math.max(1,Math.abs(H),Math.abs($))&&Math.abs(ct-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(ct),Math.abs(et))&&Math.abs(ft-j)<=glMatrix.EPSILON*Math.max(1,Math.abs(ft),Math.abs(j))}var ht=null,at=null,Q=null,xt=null,kt=null,Nt=null,nt=null,q=function(){var G=t();return function(N,it,H,ct,ft,K){var $,et;for(it||(it=4),H||(H=0),ct?et=Math.min(ct*it+H,N.length):et=N.length,$=H;$<et;$+=it)G[0]=N[$],G[1]=N[$+1],G[2]=N[$+2],G[3]=N[$+3],ft(G,G,K),N[$]=G[0],N[$+1]=G[1],N[$+2]=G[2],N[$+3]=G[3];return N}}()},50840:function(mr,P,S){var i;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(t,c,s,v){"use strict";var o=["","webkit","Moz","MS","ms","o"],f=c.createElement("div"),r="function",e=Math.round,n=Math.abs,a=Date.now;function u(Vt,ee,Ae){return setTimeout(A(Vt,Ae),ee)}function l(Vt,ee,Ae){return Array.isArray(Vt)?(h(Vt,Ae[ee],Ae),!0):!1}function h(Vt,ee,Ae){var Me;if(!!Vt)if(Vt.forEach)Vt.forEach(ee,Ae);else if(Vt.length!==v)for(Me=0;Me<Vt.length;)ee.call(Ae,Vt[Me],Me,Vt),Me++;else for(Me in Vt)Vt.hasOwnProperty(Me)&&ee.call(Ae,Vt[Me],Me,Vt)}function p(Vt,ee,Ae){var Me="DEPRECATED METHOD: "+ee+`
`+Ae+` AT 
`;return function(){var Er=new Error("get-stack-trace"),dn=Er&&Er.stack?Er.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",xn=t.console&&(t.console.warn||t.console.log);return xn&&xn.call(t.console,Me,dn),Vt.apply(this,arguments)}}var d;typeof Object.assign!="function"?d=function(ee){if(ee===v||ee===null)throw new TypeError("Cannot convert undefined or null to object");for(var Ae=Object(ee),Me=1;Me<arguments.length;Me++){var Er=arguments[Me];if(Er!==v&&Er!==null)for(var dn in Er)Er.hasOwnProperty(dn)&&(Ae[dn]=Er[dn])}return Ae}:d=Object.assign;var g=p(function(ee,Ae,Me){for(var Er=Object.keys(Ae),dn=0;dn<Er.length;)(!Me||Me&&ee[Er[dn]]===v)&&(ee[Er[dn]]=Ae[Er[dn]]),dn++;return ee},"extend","Use `assign`."),y=p(function(ee,Ae){return g(ee,Ae,!0)},"merge","Use `assign`.");function x(Vt,ee,Ae){var Me=ee.prototype,Er;Er=Vt.prototype=Object.create(Me),Er.constructor=Vt,Er._super=Me,Ae&&d(Er,Ae)}function A(Vt,ee){return function(){return Vt.apply(ee,arguments)}}function m(Vt,ee){return typeof Vt==r?Vt.apply(ee&&ee[0]||v,ee):Vt}function M(Vt,ee){return Vt===v?ee:Vt}function b(Vt,ee,Ae){h(O(ee),function(Me){Vt.addEventListener(Me,Ae,!1)})}function E(Vt,ee,Ae){h(O(ee),function(Me){Vt.removeEventListener(Me,Ae,!1)})}function C(Vt,ee){for(;Vt;){if(Vt==ee)return!0;Vt=Vt.parentNode}return!1}function T(Vt,ee){return Vt.indexOf(ee)>-1}function O(Vt){return Vt.trim().split(/\s+/g)}function L(Vt,ee,Ae){if(Vt.indexOf&&!Ae)return Vt.indexOf(ee);for(var Me=0;Me<Vt.length;){if(Ae&&Vt[Me][Ae]==ee||!Ae&&Vt[Me]===ee)return Me;Me++}return-1}function R(Vt){return Array.prototype.slice.call(Vt,0)}function W(Vt,ee,Ae){for(var Me=[],Er=[],dn=0;dn<Vt.length;){var xn=ee?Vt[dn][ee]:Vt[dn];L(Er,xn)<0&&Me.push(Vt[dn]),Er[dn]=xn,dn++}return Ae&&(ee?Me=Me.sort(function(Ai,aa){return Ai[ee]>aa[ee]}):Me=Me.sort()),Me}function U(Vt,ee){for(var Ae,Me,Er=ee[0].toUpperCase()+ee.slice(1),dn=0;dn<o.length;){if(Ae=o[dn],Me=Ae?Ae+Er:ee,Me in Vt)return Me;dn++}return v}var X=1;function Z(){return X++}function J(Vt){var ee=Vt.ownerDocument||Vt;return ee.defaultView||ee.parentWindow||t}var ht=/mobile|tablet|ip(ad|hone|od)|android/i,at="ontouchstart"in t,Q=U(t,"PointerEvent")!==v,xt=at&&ht.test(navigator.userAgent),kt="touch",Nt="pen",nt="mouse",q="kinect",G=25,N=1,it=2,H=4,ct=8,ft=1,K=2,$=4,et=8,j=16,w=K|$,D=et|j,V=w|D,tt=["x","y"],lt=["clientX","clientY"];function St(Vt,ee){var Ae=this;this.manager=Vt,this.callback=ee,this.element=Vt.element,this.target=Vt.options.inputTarget,this.domHandler=function(Me){m(Vt.options.enable,[Vt])&&Ae.handler(Me)},this.init()}St.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(J(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(J(this.element),this.evWin,this.domHandler)}};function ot(Vt){var ee,Ae=Vt.options.inputClass;return Ae?ee=Ae:Q?ee=ea:xt?ee=En:at?ee=Wn:ee=ke,new ee(Vt,Mt)}function Mt(Vt,ee,Ae){var Me=Ae.pointers.length,Er=Ae.changedPointers.length,dn=ee&N&&Me-Er==0,xn=ee&(H|ct)&&Me-Er==0;Ae.isFirst=!!dn,Ae.isFinal=!!xn,dn&&(Vt.session={}),Ae.eventType=ee,Ot(Vt,Ae),Vt.emit("hammer.input",Ae),Vt.recognize(Ae),Vt.session.prevInput=Ae}function Ot(Vt,ee){var Ae=Vt.session,Me=ee.pointers,Er=Me.length;Ae.firstInput||(Ae.firstInput=$t(ee)),Er>1&&!Ae.firstMultiple?Ae.firstMultiple=$t(ee):Er===1&&(Ae.firstMultiple=!1);var dn=Ae.firstInput,xn=Ae.firstMultiple,fi=xn?xn.center:dn.center,Ai=ee.center=he(Me);ee.timeStamp=a(),ee.deltaTime=ee.timeStamp-dn.timeStamp,ee.angle=Xe(fi,Ai),ee.distance=nr(fi,Ai),Ft(Ae,ee),ee.offsetDirection=tr(ee.deltaX,ee.deltaY);var aa=ye(ee.deltaTime,ee.deltaX,ee.deltaY);ee.overallVelocityX=aa.x,ee.overallVelocityY=aa.y,ee.overallVelocity=n(aa.x)>n(aa.y)?aa.x:aa.y,ee.scale=xn?Vr(xn.pointers,Me):1,ee.rotation=xn?yr(xn.pointers,Me):0,ee.maxPointers=Ae.prevInput?ee.pointers.length>Ae.prevInput.maxPointers?ee.pointers.length:Ae.prevInput.maxPointers:ee.pointers.length,zt(Ae,ee);var qi=Vt.element;C(ee.srcEvent.target,qi)&&(qi=ee.srcEvent.target),ee.target=qi}function Ft(Vt,ee){var Ae=ee.center,Me=Vt.offsetDelta||{},Er=Vt.prevDelta||{},dn=Vt.prevInput||{};(ee.eventType===N||dn.eventType===H)&&(Er=Vt.prevDelta={x:dn.deltaX||0,y:dn.deltaY||0},Me=Vt.offsetDelta={x:Ae.x,y:Ae.y}),ee.deltaX=Er.x+(Ae.x-Me.x),ee.deltaY=Er.y+(Ae.y-Me.y)}function zt(Vt,ee){var Ae=Vt.lastInterval||ee,Me=ee.timeStamp-Ae.timeStamp,Er,dn,xn,fi;if(ee.eventType!=ct&&(Me>G||Ae.velocity===v)){var Ai=ee.deltaX-Ae.deltaX,aa=ee.deltaY-Ae.deltaY,qi=ye(Me,Ai,aa);dn=qi.x,xn=qi.y,Er=n(qi.x)>n(qi.y)?qi.x:qi.y,fi=tr(Ai,aa),Vt.lastInterval=ee}else Er=Ae.velocity,dn=Ae.velocityX,xn=Ae.velocityY,fi=Ae.direction;ee.velocity=Er,ee.velocityX=dn,ee.velocityY=xn,ee.direction=fi}function $t(Vt){for(var ee=[],Ae=0;Ae<Vt.pointers.length;)ee[Ae]={clientX:e(Vt.pointers[Ae].clientX),clientY:e(Vt.pointers[Ae].clientY)},Ae++;return{timeStamp:a(),pointers:ee,center:he(ee),deltaX:Vt.deltaX,deltaY:Vt.deltaY}}function he(Vt){var ee=Vt.length;if(ee===1)return{x:e(Vt[0].clientX),y:e(Vt[0].clientY)};for(var Ae=0,Me=0,Er=0;Er<ee;)Ae+=Vt[Er].clientX,Me+=Vt[Er].clientY,Er++;return{x:e(Ae/ee),y:e(Me/ee)}}function ye(Vt,ee,Ae){return{x:ee/Vt||0,y:Ae/Vt||0}}function tr(Vt,ee){return Vt===ee?ft:n(Vt)>=n(ee)?Vt<0?K:$:ee<0?et:j}function nr(Vt,ee,Ae){Ae||(Ae=tt);var Me=ee[Ae[0]]-Vt[Ae[0]],Er=ee[Ae[1]]-Vt[Ae[1]];return Math.sqrt(Me*Me+Er*Er)}function Xe(Vt,ee,Ae){Ae||(Ae=tt);var Me=ee[Ae[0]]-Vt[Ae[0]],Er=ee[Ae[1]]-Vt[Ae[1]];return Math.atan2(Er,Me)*180/Math.PI}function yr(Vt,ee){return Xe(ee[1],ee[0],lt)+Xe(Vt[1],Vt[0],lt)}function Vr(Vt,ee){return nr(ee[0],ee[1],lt)/nr(Vt[0],Vt[1],lt)}var Ee={mousedown:N,mousemove:it,mouseup:H},de="mousedown",Ge="mousemove mouseup";function ke(){this.evEl=de,this.evWin=Ge,this.pressed=!1,St.apply(this,arguments)}x(ke,St,{handler:function(ee){var Ae=Ee[ee.type];Ae&N&&ee.button===0&&(this.pressed=!0),Ae&it&&ee.which!==1&&(Ae=H),!!this.pressed&&(Ae&H&&(this.pressed=!1),this.callback(this.manager,Ae,{pointers:[ee],changedPointers:[ee],pointerType:nt,srcEvent:ee}))}});var Kr={pointerdown:N,pointermove:it,pointerup:H,pointercancel:ct,pointerout:ct},fn={2:kt,3:Nt,4:nt,5:q},pi="pointerdown",Vi="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(pi="MSPointerDown",Vi="MSPointerMove MSPointerUp MSPointerCancel");function ea(){this.evEl=pi,this.evWin=Vi,St.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}x(ea,St,{handler:function(ee){var Ae=this.store,Me=!1,Er=ee.type.toLowerCase().replace("ms",""),dn=Kr[Er],xn=fn[ee.pointerType]||ee.pointerType,fi=xn==kt,Ai=L(Ae,ee.pointerId,"pointerId");dn&N&&(ee.button===0||fi)?Ai<0&&(Ae.push(ee),Ai=Ae.length-1):dn&(H|ct)&&(Me=!0),!(Ai<0)&&(Ae[Ai]=ee,this.callback(this.manager,dn,{pointers:Ae,changedPointers:[ee],pointerType:xn,srcEvent:ee}),Me&&Ae.splice(Ai,1))}});var zi={touchstart:N,touchmove:it,touchend:H,touchcancel:ct},Te="touchstart",Be="touchstart touchmove touchend touchcancel";function lr(){this.evTarget=Te,this.evWin=Be,this.started=!1,St.apply(this,arguments)}x(lr,St,{handler:function(ee){var Ae=zi[ee.type];if(Ae===N&&(this.started=!0),!!this.started){var Me=Or.call(this,ee,Ae);Ae&(H|ct)&&Me[0].length-Me[1].length==0&&(this.started=!1),this.callback(this.manager,Ae,{pointers:Me[0],changedPointers:Me[1],pointerType:kt,srcEvent:ee})}}});function Or(Vt,ee){var Ae=R(Vt.touches),Me=R(Vt.changedTouches);return ee&(H|ct)&&(Ae=W(Ae.concat(Me),"identifier",!0)),[Ae,Me]}var sr={touchstart:N,touchmove:it,touchend:H,touchcancel:ct},Dr="touchstart touchmove touchend touchcancel";function En(){this.evTarget=Dr,this.targetIds={},St.apply(this,arguments)}x(En,St,{handler:function(ee){var Ae=sr[ee.type],Me=Yn.call(this,ee,Ae);!Me||this.callback(this.manager,Ae,{pointers:Me[0],changedPointers:Me[1],pointerType:kt,srcEvent:ee})}});function Yn(Vt,ee){var Ae=R(Vt.touches),Me=this.targetIds;if(ee&(N|it)&&Ae.length===1)return Me[Ae[0].identifier]=!0,[Ae,Ae];var Er,dn,xn=R(Vt.changedTouches),fi=[],Ai=this.target;if(dn=Ae.filter(function(aa){return C(aa.target,Ai)}),ee===N)for(Er=0;Er<dn.length;)Me[dn[Er].identifier]=!0,Er++;for(Er=0;Er<xn.length;)Me[xn[Er].identifier]&&fi.push(xn[Er]),ee&(H|ct)&&delete Me[xn[Er].identifier],Er++;if(!!fi.length)return[W(dn.concat(fi),"identifier",!0),fi]}var ln=2500,Jr=25;function Wn(){St.apply(this,arguments);var Vt=A(this.handler,this);this.touch=new En(this.manager,Vt),this.mouse=new ke(this.manager,Vt),this.primaryTouch=null,this.lastTouches=[]}x(Wn,St,{handler:function(ee,Ae,Me){var Er=Me.pointerType==kt,dn=Me.pointerType==nt;if(!(dn&&Me.sourceCapabilities&&Me.sourceCapabilities.firesTouchEvents)){if(Er)$n.call(this,Ae,Me);else if(dn&&wr.call(this,Me))return;this.callback(ee,Ae,Me)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function $n(Vt,ee){Vt&N?(this.primaryTouch=ee.changedPointers[0].identifier,Gr.call(this,ee)):Vt&(H|ct)&&Gr.call(this,ee)}function Gr(Vt){var ee=Vt.changedPointers[0];if(ee.identifier===this.primaryTouch){var Ae={x:ee.clientX,y:ee.clientY};this.lastTouches.push(Ae);var Me=this.lastTouches,Er=function(){var dn=Me.indexOf(Ae);dn>-1&&Me.splice(dn,1)};setTimeout(Er,ln)}}function wr(Vt){for(var ee=Vt.srcEvent.clientX,Ae=Vt.srcEvent.clientY,Me=0;Me<this.lastTouches.length;Me++){var Er=this.lastTouches[Me],dn=Math.abs(ee-Er.x),xn=Math.abs(Ae-Er.y);if(dn<=Jr&&xn<=Jr)return!0}return!1}var ti=U(f.style,"touchAction"),ge=ti!==v,Le="compute",Se="auto",Ve="manipulation",le="none",vr="pan-x",He="pan-y",rr=rn();function Lr(Vt,ee){this.manager=Vt,this.set(ee)}Lr.prototype={set:function(Vt){Vt==Le&&(Vt=this.compute()),ge&&this.manager.element.style&&rr[Vt]&&(this.manager.element.style[ti]=Vt),this.actions=Vt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Vt=[];return h(this.manager.recognizers,function(ee){m(ee.options.enable,[ee])&&(Vt=Vt.concat(ee.getTouchAction()))}),Mr(Vt.join(" "))},preventDefaults:function(Vt){var ee=Vt.srcEvent,Ae=Vt.offsetDirection;if(this.manager.session.prevented){ee.preventDefault();return}var Me=this.actions,Er=T(Me,le)&&!rr[le],dn=T(Me,He)&&!rr[He],xn=T(Me,vr)&&!rr[vr];if(Er){var fi=Vt.pointers.length===1,Ai=Vt.distance<2,aa=Vt.deltaTime<250;if(fi&&Ai&&aa)return}if(!(xn&&dn)&&(Er||dn&&Ae&w||xn&&Ae&D))return this.preventSrc(ee)},preventSrc:function(Vt){this.manager.session.prevented=!0,Vt.preventDefault()}};function Mr(Vt){if(T(Vt,le))return le;var ee=T(Vt,vr),Ae=T(Vt,He);return ee&&Ae?le:ee||Ae?ee?vr:He:T(Vt,Ve)?Ve:Se}function rn(){if(!ge)return!1;var Vt={},ee=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ae){Vt[Ae]=ee?t.CSS.supports("touch-action",Ae):!0}),Vt}var pn=1,qr=2,Dn=4,ae=8,er=ae,ar=16,kr=32;function Rn(Vt){this.options=d({},this.defaults,Vt||{}),this.id=Z(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=pn,this.simultaneous={},this.requireFail=[]}Rn.prototype={defaults:{},set:function(Vt){return d(this.options,Vt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Vt){if(l(Vt,"recognizeWith",this))return this;var ee=this.simultaneous;return Vt=da(Vt,this),ee[Vt.id]||(ee[Vt.id]=Vt,Vt.recognizeWith(this)),this},dropRecognizeWith:function(Vt){return l(Vt,"dropRecognizeWith",this)?this:(Vt=da(Vt,this),delete this.simultaneous[Vt.id],this)},requireFailure:function(Vt){if(l(Vt,"requireFailure",this))return this;var ee=this.requireFail;return Vt=da(Vt,this),L(ee,Vt)===-1&&(ee.push(Vt),Vt.requireFailure(this)),this},dropRequireFailure:function(Vt){if(l(Vt,"dropRequireFailure",this))return this;Vt=da(Vt,this);var ee=L(this.requireFail,Vt);return ee>-1&&this.requireFail.splice(ee,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Vt){return!!this.simultaneous[Vt.id]},emit:function(Vt){var ee=this,Ae=this.state;function Me(Er){ee.manager.emit(Er,Vt)}Ae<ae&&Me(ee.options.event+di(Ae)),Me(ee.options.event),Vt.additionalEvent&&Me(Vt.additionalEvent),Ae>=ae&&Me(ee.options.event+di(Ae))},tryEmit:function(Vt){if(this.canEmit())return this.emit(Vt);this.state=kr},canEmit:function(){for(var Vt=0;Vt<this.requireFail.length;){if(!(this.requireFail[Vt].state&(kr|pn)))return!1;Vt++}return!0},recognize:function(Vt){var ee=d({},Vt);if(!m(this.options.enable,[this,ee])){this.reset(),this.state=kr;return}this.state&(er|ar|kr)&&(this.state=pn),this.state=this.process(ee),this.state&(qr|Dn|ae|ar)&&this.tryEmit(ee)},process:function(Vt){},getTouchAction:function(){},reset:function(){}};function di(Vt){return Vt&ar?"cancel":Vt&ae?"end":Vt&Dn?"move":Vt&qr?"start":""}function Yi(Vt){return Vt==j?"down":Vt==et?"up":Vt==K?"left":Vt==$?"right":""}function da(Vt,ee){var Ae=ee.manager;return Ae?Ae.get(Vt):Vt}function _a(){Rn.apply(this,arguments)}x(_a,Rn,{defaults:{pointers:1},attrTest:function(Vt){var ee=this.options.pointers;return ee===0||Vt.pointers.length===ee},process:function(Vt){var ee=this.state,Ae=Vt.eventType,Me=ee&(qr|Dn),Er=this.attrTest(Vt);return Me&&(Ae&ct||!Er)?ee|ar:Me||Er?Ae&H?ee|ae:ee&qr?ee|Dn:qr:kr}});function fa(){_a.apply(this,arguments),this.pX=null,this.pY=null}x(fa,_a,{defaults:{event:"pan",threshold:10,pointers:1,direction:V},getTouchAction:function(){var Vt=this.options.direction,ee=[];return Vt&w&&ee.push(He),Vt&D&&ee.push(vr),ee},directionTest:function(Vt){var ee=this.options,Ae=!0,Me=Vt.distance,Er=Vt.direction,dn=Vt.deltaX,xn=Vt.deltaY;return Er&ee.direction||(ee.direction&w?(Er=dn===0?ft:dn<0?K:$,Ae=dn!=this.pX,Me=Math.abs(Vt.deltaX)):(Er=xn===0?ft:xn<0?et:j,Ae=xn!=this.pY,Me=Math.abs(Vt.deltaY))),Vt.direction=Er,Ae&&Me>ee.threshold&&Er&ee.direction},attrTest:function(Vt){return _a.prototype.attrTest.call(this,Vt)&&(this.state&qr||!(this.state&qr)&&this.directionTest(Vt))},emit:function(Vt){this.pX=Vt.deltaX,this.pY=Vt.deltaY;var ee=Yi(Vt.direction);ee&&(Vt.additionalEvent=this.options.event+ee),this._super.emit.call(this,Vt)}});function wo(){_a.apply(this,arguments)}x(wo,_a,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(Vt){return this._super.attrTest.call(this,Vt)&&(Math.abs(Vt.scale-1)>this.options.threshold||this.state&qr)},emit:function(Vt){if(Vt.scale!==1){var ee=Vt.scale<1?"in":"out";Vt.additionalEvent=this.options.event+ee}this._super.emit.call(this,Vt)}});function ho(){Rn.apply(this,arguments),this._timer=null,this._input=null}x(ho,Rn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Se]},process:function(Vt){var ee=this.options,Ae=Vt.pointers.length===ee.pointers,Me=Vt.distance<ee.threshold,Er=Vt.deltaTime>ee.time;if(this._input=Vt,!Me||!Ae||Vt.eventType&(H|ct)&&!Er)this.reset();else if(Vt.eventType&N)this.reset(),this._timer=u(function(){this.state=er,this.tryEmit()},ee.time,this);else if(Vt.eventType&H)return er;return kr},reset:function(){clearTimeout(this._timer)},emit:function(Vt){this.state===er&&(Vt&&Vt.eventType&H?this.manager.emit(this.options.event+"up",Vt):(this._input.timeStamp=a(),this.manager.emit(this.options.event,this._input)))}});function mo(){_a.apply(this,arguments)}x(mo,_a,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(Vt){return this._super.attrTest.call(this,Vt)&&(Math.abs(Vt.rotation)>this.options.threshold||this.state&qr)}});function yo(){_a.apply(this,arguments)}x(yo,_a,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:w|D,pointers:1},getTouchAction:function(){return fa.prototype.getTouchAction.call(this)},attrTest:function(Vt){var ee=this.options.direction,Ae;return ee&(w|D)?Ae=Vt.overallVelocity:ee&w?Ae=Vt.overallVelocityX:ee&D&&(Ae=Vt.overallVelocityY),this._super.attrTest.call(this,Vt)&&ee&Vt.offsetDirection&&Vt.distance>this.options.threshold&&Vt.maxPointers==this.options.pointers&&n(Ae)>this.options.velocity&&Vt.eventType&H},emit:function(Vt){var ee=Yi(Vt.offsetDirection);ee&&this.manager.emit(this.options.event+ee,Vt),this.manager.emit(this.options.event,Vt)}});function zo(){Rn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}x(zo,Rn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ve]},process:function(Vt){var ee=this.options,Ae=Vt.pointers.length===ee.pointers,Me=Vt.distance<ee.threshold,Er=Vt.deltaTime<ee.time;if(this.reset(),Vt.eventType&N&&this.count===0)return this.failTimeout();if(Me&&Er&&Ae){if(Vt.eventType!=H)return this.failTimeout();var dn=this.pTime?Vt.timeStamp-this.pTime<ee.interval:!0,xn=!this.pCenter||nr(this.pCenter,Vt.center)<ee.posThreshold;this.pTime=Vt.timeStamp,this.pCenter=Vt.center,!xn||!dn?this.count=1:this.count+=1,this._input=Vt;var fi=this.count%ee.taps;if(fi===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=er,this.tryEmit()},ee.interval,this),qr):er}return kr},failTimeout:function(){return this._timer=u(function(){this.state=kr},this.options.interval,this),kr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==er&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function io(Vt,ee){return ee=ee||{},ee.recognizers=M(ee.recognizers,io.defaults.preset),new Zt(Vt,ee)}io.VERSION="2.0.7",io.defaults={domEvents:!1,touchAction:Le,enable:!0,inputTarget:null,inputClass:null,preset:[[mo,{enable:!1}],[wo,{enable:!1},["rotate"]],[yo,{direction:w}],[fa,{direction:w},["swipe"]],[zo],[zo,{event:"doubletap",taps:2},["tap"]],[ho]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Za=1,qa=2;function Zt(Vt,ee){this.options=d({},io.defaults,ee||{}),this.options.inputTarget=this.options.inputTarget||Vt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Vt,this.input=ot(this),this.touchAction=new Lr(this,this.options.touchAction),je(this,!0),h(this.options.recognizers,function(Ae){var Me=this.add(new Ae[0](Ae[1]));Ae[2]&&Me.recognizeWith(Ae[2]),Ae[3]&&Me.requireFailure(Ae[3])},this)}Zt.prototype={set:function(Vt){return d(this.options,Vt),Vt.touchAction&&this.touchAction.update(),Vt.inputTarget&&(this.input.destroy(),this.input.target=Vt.inputTarget,this.input.init()),this},stop:function(Vt){this.session.stopped=Vt?qa:Za},recognize:function(Vt){var ee=this.session;if(!ee.stopped){this.touchAction.preventDefaults(Vt);var Ae,Me=this.recognizers,Er=ee.curRecognizer;(!Er||Er&&Er.state&er)&&(Er=ee.curRecognizer=null);for(var dn=0;dn<Me.length;)Ae=Me[dn],ee.stopped!==qa&&(!Er||Ae==Er||Ae.canRecognizeWith(Er))?Ae.recognize(Vt):Ae.reset(),!Er&&Ae.state&(qr|Dn|ae)&&(Er=ee.curRecognizer=Ae),dn++}},get:function(Vt){if(Vt instanceof Rn)return Vt;for(var ee=this.recognizers,Ae=0;Ae<ee.length;Ae++)if(ee[Ae].options.event==Vt)return ee[Ae];return null},add:function(Vt){if(l(Vt,"add",this))return this;var ee=this.get(Vt.options.event);return ee&&this.remove(ee),this.recognizers.push(Vt),Vt.manager=this,this.touchAction.update(),Vt},remove:function(Vt){if(l(Vt,"remove",this))return this;if(Vt=this.get(Vt),Vt){var ee=this.recognizers,Ae=L(ee,Vt);Ae!==-1&&(ee.splice(Ae,1),this.touchAction.update())}return this},on:function(Vt,ee){if(Vt!==v&&ee!==v){var Ae=this.handlers;return h(O(Vt),function(Me){Ae[Me]=Ae[Me]||[],Ae[Me].push(ee)}),this}},off:function(Vt,ee){if(Vt!==v){var Ae=this.handlers;return h(O(Vt),function(Me){ee?Ae[Me]&&Ae[Me].splice(L(Ae[Me],ee),1):delete Ae[Me]}),this}},emit:function(Vt,ee){this.options.domEvents&&ur(Vt,ee);var Ae=this.handlers[Vt]&&this.handlers[Vt].slice();if(!(!Ae||!Ae.length)){ee.type=Vt,ee.preventDefault=function(){ee.srcEvent.preventDefault()};for(var Me=0;Me<Ae.length;)Ae[Me](ee),Me++}},destroy:function(){this.element&&je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function je(Vt,ee){var Ae=Vt.element;if(!!Ae.style){var Me;h(Vt.options.cssProps,function(Er,dn){Me=U(Ae.style,dn),ee?(Vt.oldCssProps[Me]=Ae.style[Me],Ae.style[Me]=Er):Ae.style[Me]=Vt.oldCssProps[Me]||""}),ee||(Vt.oldCssProps={})}}function ur(Vt,ee){var Ae=c.createEvent("Event");Ae.initEvent(Vt,!0,!0),Ae.gesture=ee,ee.target.dispatchEvent(Ae)}d(io,{INPUT_START:N,INPUT_MOVE:it,INPUT_END:H,INPUT_CANCEL:ct,STATE_POSSIBLE:pn,STATE_BEGAN:qr,STATE_CHANGED:Dn,STATE_ENDED:ae,STATE_RECOGNIZED:er,STATE_CANCELLED:ar,STATE_FAILED:kr,DIRECTION_NONE:ft,DIRECTION_LEFT:K,DIRECTION_RIGHT:$,DIRECTION_UP:et,DIRECTION_DOWN:j,DIRECTION_HORIZONTAL:w,DIRECTION_VERTICAL:D,DIRECTION_ALL:V,Manager:Zt,Input:St,TouchAction:Lr,TouchInput:En,MouseInput:ke,PointerEventInput:ea,TouchMouseInput:Wn,SingleTouchInput:lr,Recognizer:Rn,AttrRecognizer:_a,Tap:zo,Pan:fa,Swipe:yo,Pinch:wo,Rotate:mo,Press:ho,on:b,off:E,each:h,merge:y,extend:g,assign:d,inherit:x,bindFn:A,prefixed:U});var Br=typeof t!="undefined"?t:typeof self!="undefined"?self:{};Br.Hammer=io,i=function(){return io}.call(P,S,P,mr),i!==v&&(mr.exports=i)})(window,document,"Hammer")},80645:function(mr,P){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */P.read=function(S,i,t,c,s){var v,o,f=s*8-c-1,r=(1<<f)-1,e=r>>1,n=-7,a=t?s-1:0,u=t?-1:1,l=S[i+a];for(a+=u,v=l&(1<<-n)-1,l>>=-n,n+=f;n>0;v=v*256+S[i+a],a+=u,n-=8);for(o=v&(1<<-n)-1,v>>=-n,n+=c;n>0;o=o*256+S[i+a],a+=u,n-=8);if(v===0)v=1-e;else{if(v===r)return o?NaN:(l?-1:1)*Infinity;o=o+Math.pow(2,c),v=v-e}return(l?-1:1)*o*Math.pow(2,v-c)},P.write=function(S,i,t,c,s,v){var o,f,r,e=v*8-s-1,n=(1<<e)-1,a=n>>1,u=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=c?0:v-1,h=c?1:-1,p=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===Infinity?(f=isNaN(i)?1:0,o=n):(o=Math.floor(Math.log(i)/Math.LN2),i*(r=Math.pow(2,-o))<1&&(o--,r*=2),o+a>=1?i+=u/r:i+=u*Math.pow(2,1-a),i*r>=2&&(o++,r/=2),o+a>=n?(f=0,o=n):o+a>=1?(f=(i*r-1)*Math.pow(2,s),o=o+a):(f=i*Math.pow(2,a-1)*Math.pow(2,s),o=0));s>=8;S[t+l]=f&255,l+=h,f/=256,s-=8);for(o=o<<s|f,e+=s;e>0;S[t+l]=o&255,l+=h,o/=256,e-=8);S[t+l-h]|=p*128}},7375:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=Symbol.for("INJECTION");function i(o,f,r,e){function n(){return e&&!Reflect.hasMetadata(S,this,f)&&Reflect.defineMetadata(S,r(),this,f),Reflect.hasMetadata(S,this,f)?Reflect.getMetadata(S,this,f):r()}function a(u){Reflect.defineMetadata(S,u,this,f)}Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:n,set:a})}function t(o,f){return function(r){return function(e,n){var a=function(){return o.get(r)};i(e,n,a,f)}}}P.makePropertyInjectDecorator=t;function c(o,f){return function(r,e){return function(n,a){var u=function(){return o.getNamed(r,e)};i(n,a,u,f)}}}P.makePropertyInjectNamedDecorator=c;function s(o,f){return function(r,e,n){return function(a,u){var l=function(){return o.getTagged(r,e,n)};i(a,u,l,f)}}}P.makePropertyInjectTaggedDecorator=s;function v(o,f){return function(r){return function(e,n){var a=function(){return o.getAll(r)};i(e,n,a,f)}}}P.makePropertyMultiInjectDecorator=v},84879:function(mr,P,S){"use strict";var i;i={value:!0};var t=S(7375);function c(s,v){v===void 0&&(v=!0);var o=t.makePropertyInjectDecorator(s,v),f=t.makePropertyInjectNamedDecorator(s,v),r=t.makePropertyInjectTaggedDecorator(s,v),e=t.makePropertyMultiInjectDecorator(s,v);return{lazyInject:o,lazyInjectNamed:f,lazyInjectTagged:r,lazyMultiInject:e}}P.Z=c},99934:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagProperty=P.tagParameter=P.decorate=void 0;var i=S(16674),t=S(6867);function c(e,n,a,u){var l=t.TAGGED;v(l,e,n,u,a)}P.tagParameter=c;function s(e,n,a){var u=t.TAGGED_PROP;v(u,e.constructor,n,a)}P.tagProperty=s;function v(e,n,a,u,l){var h={},p=typeof l=="number",d=l!==void 0&&p?l.toString():a;if(p&&a!==void 0)throw new Error(i.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,n)&&(h=Reflect.getMetadata(e,n));var g=h[d];if(!Array.isArray(g))g=[];else for(var y=0,x=g;y<x.length;y++){var A=x[y];if(A.key===u.key)throw new Error(i.DUPLICATED_METADATA+" "+A.key.toString())}g.push(u),h[d]=g,Reflect.defineMetadata(e,h,n)}function o(e,n){Reflect.decorate(e,n)}function f(e,n){return function(a,u){n(a,u,e)}}function r(e,n,a){typeof a=="number"?o([f(a,e)],n):typeof a=="string"?Reflect.decorate([e],n,a):o([e],n)}P.decorate=r},5744:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.inject=P.LazyServiceIdentifer=void 0;var i=S(16674),t=S(6867),c=S(47738),s=S(99934),v=function(){function f(r){this._cb=r}return f.prototype.unwrap=function(){return this._cb()},f}();P.LazyServiceIdentifer=v;function o(f){return function(r,e,n){if(f===void 0)throw new Error(i.UNDEFINED_INJECT_ANNOTATION(r.name));var a=new c.Metadata(t.INJECT_TAG,f);typeof n=="number"?s.tagParameter(r,e,n,a):s.tagProperty(r,e,a)}}P.inject=o},64315:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.injectable=void 0;var i=S(16674),t=S(6867);function c(){return function(s){if(Reflect.hasOwnMetadata(t.PARAM_TYPES,s))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var v=Reflect.getMetadata(t.DESIGN_PARAM_TYPES,s)||[];return Reflect.defineMetadata(t.PARAM_TYPES,v,s),s}}P.injectable=c},71693:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiInject=void 0;var i=S(6867),t=S(47738),c=S(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.MULTI_INJECT_TAG,v);typeof r=="number"?c.tagParameter(o,f,r,e):c.tagProperty(o,f,e)}}P.multiInject=s},38085:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.named=void 0;var i=S(6867),t=S(47738),c=S(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.NAMED_TAG,v);typeof r=="number"?c.tagParameter(o,f,r,e):c.tagProperty(o,f,e)}}P.named=s},6515:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.optional=void 0;var i=S(6867),t=S(47738),c=S(99934);function s(){return function(v,o,f){var r=new t.Metadata(i.OPTIONAL_TAG,!0);typeof f=="number"?c.tagParameter(v,o,f,r):c.tagProperty(v,o,r)}}P.optional=s},7014:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.postConstruct=void 0;var i=S(16674),t=S(6867),c=S(47738);function s(){return function(v,o,f){var r=new c.Metadata(t.POST_CONSTRUCT,o);if(Reflect.hasOwnMetadata(t.POST_CONSTRUCT,v.constructor))throw new Error(i.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(t.POST_CONSTRUCT,r,v.constructor)}}P.postConstruct=s},32052:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.tagged=void 0;var i=S(47738),t=S(99934);function c(s,v){return function(o,f,r){var e=new i.Metadata(s,v);typeof r=="number"?t.tagParameter(o,f,r,e):t.tagProperty(o,f,e)}}P.tagged=c},55638:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.targetName=void 0;var i=S(6867),t=S(47738),c=S(99934);function s(v){return function(o,f,r){var e=new t.Metadata(i.NAME_TAG,v);c.tagParameter(o,f,r,e)}}P.targetName=s},86757:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.unmanaged=void 0;var i=S(6867),t=S(47738),c=S(99934);function s(){return function(v,o,f){var r=new t.Metadata(i.UNMANAGED_TAG,!0);c.tagParameter(v,o,f,r)}}P.unmanaged=s},44290:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Binding=void 0;var i=S(28421),t=S(37791),c=function(){function s(v,o){this.id=t.id(),this.activated=!1,this.serviceIdentifier=v,this.scope=o,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(f){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return s.prototype.clone=function(){var v=new s(this.serviceIdentifier,this.scope);return v.activated=v.scope===i.BindingScopeEnum.Singleton?this.activated:!1,v.implementationType=this.implementationType,v.dynamicValue=this.dynamicValue,v.scope=this.scope,v.type=this.type,v.factory=this.factory,v.provider=this.provider,v.constraint=this.constraint,v.onActivation=this.onActivation,v.cache=this.cache,v},s}();P.Binding=c},23184:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingCount=void 0;var S={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};P.BindingCount=S},16674:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.STACK_OVERFLOW=P.CIRCULAR_DEPENDENCY_IN_FACTORY=P.POST_CONSTRUCT_ERROR=P.MULTIPLE_POST_CONSTRUCT_METHODS=P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=P.ARGUMENTS_LENGTH_MISMATCH=P.INVALID_DECORATOR_OPERATION=P.INVALID_TO_SELF_VALUE=P.INVALID_FUNCTION_BINDING=P.INVALID_MIDDLEWARE_RETURN=P.NO_MORE_SNAPSHOTS_AVAILABLE=P.INVALID_BINDING_TYPE=P.NOT_IMPLEMENTED=P.CIRCULAR_DEPENDENCY=P.UNDEFINED_INJECT_ANNOTATION=P.MISSING_INJECT_ANNOTATION=P.MISSING_INJECTABLE_ANNOTATION=P.NOT_REGISTERED=P.CANNOT_UNBIND=P.AMBIGUOUS_MATCH=P.KEY_NOT_FOUND=P.NULL_ARGUMENT=P.DUPLICATED_METADATA=P.DUPLICATED_INJECTABLE_DECORATOR=void 0,P.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",P.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",P.NULL_ARGUMENT="NULL argument",P.KEY_NOT_FOUND="Key Not Found",P.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",P.CANNOT_UNBIND="Could not unbind serviceIdentifier:",P.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",P.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",P.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var S=function(s){return"@inject called with undefined this could mean that the class "+s+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};P.UNDEFINED_INJECT_ANNOTATION=S,P.CIRCULAR_DEPENDENCY="Circular dependency found:",P.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",P.INVALID_BINDING_TYPE="Invalid binding type:",P.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",P.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",P.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",P.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",P.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"The number of constructor arguments in the derived class "+(s[0]+" must be >= than the number of constructor arguments of its base class.")};P.ARGUMENTS_LENGTH_MISMATCH=i,P.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",P.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",P.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",P.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",P.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var t=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"@postConstruct error in class "+s[0]+": "+s[1]};P.POST_CONSTRUCT_ERROR=t;var c=function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return"It looks like there is a circular dependency "+("in one of the '"+s[0]+"' bindings. Please investigate bindings with")+("service identifier '"+s[1]+"'.")};P.CIRCULAR_DEPENDENCY_IN_FACTORY=c,P.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.TargetTypeEnum=P.BindingTypeEnum=P.BindingScopeEnum=void 0;var S={Request:"Request",Singleton:"Singleton",Transient:"Transient"};P.BindingScopeEnum=S;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};P.BindingTypeEnum=i;var t={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};P.TargetTypeEnum=t},6867:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.NON_CUSTOM_TAG_KEYS=P.POST_CONSTRUCT=P.DESIGN_PARAM_TYPES=P.PARAM_TYPES=P.TAGGED_PROP=P.TAGGED=P.MULTI_INJECT_TAG=P.INJECT_TAG=P.OPTIONAL_TAG=P.UNMANAGED_TAG=P.NAME_TAG=P.NAMED_TAG=void 0,P.NAMED_TAG="named",P.NAME_TAG="name",P.UNMANAGED_TAG="unmanaged",P.OPTIONAL_TAG="optional",P.INJECT_TAG="inject",P.MULTI_INJECT_TAG="multi_inject",P.TAGGED="inversify:tagged",P.TAGGED_PROP="inversify:tagged_props",P.PARAM_TYPES="inversify:paramtypes",P.DESIGN_PARAM_TYPES="design:paramtypes",P.POST_CONSTRUCT="post_construct";function S(){return[P.INJECT_TAG,P.MULTI_INJECT_TAG,P.NAME_TAG,P.UNMANAGED_TAG,P.NAMED_TAG,P.OPTIONAL_TAG]}P.NON_CUSTOM_TAG_KEYS=S()},51389:function(mr,P,S){"use strict";var i=this&&this.__awaiter||function(g,y,x,A){function m(M){return M instanceof x?M:new x(function(b){b(M)})}return new(x||(x=Promise))(function(M,b){function E(O){try{T(A.next(O))}catch(L){b(L)}}function C(O){try{T(A.throw(O))}catch(L){b(L)}}function T(O){O.done?M(O.value):m(O.value).then(E,C)}T((A=A.apply(g,y||[])).next())})},t=this&&this.__generator||function(g,y){var x={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},A,m,M,b;return b={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function E(T){return function(O){return C([T,O])}}function C(T){if(A)throw new TypeError("Generator is already executing.");for(;x;)try{if(A=1,m&&(M=T[0]&2?m.return:T[0]?m.throw||((M=m.return)&&M.call(m),0):m.next)&&!(M=M.call(m,T[1])).done)return M;switch(m=0,M&&(T=[T[0]&2,M.value]),T[0]){case 0:case 1:M=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,m=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(M=x.trys,!(M=M.length>0&&M[M.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!M||T[1]>M[0]&&T[1]<M[3])){x.label=T[1];break}if(T[0]===6&&x.label<M[1]){x.label=M[1],M=T;break}if(M&&x.label<M[2]){x.label=M[2],x.ops.push(T);break}M[2]&&x.ops.pop(),x.trys.pop();continue}T=y.call(g,x)}catch(O){T=[6,O],m=0}finally{A=M=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},c=this&&this.__spreadArray||function(g,y){for(var x=0,A=y.length,m=g.length;x<A;x++,m++)g[m]=y[x];return g};Object.defineProperty(P,"__esModule",{value:!0}),P.Container=void 0;var s=S(44290),v=S(16674),o=S(28421),f=S(6867),r=S(51377),e=S(86311),n=S(31927),a=S(15451),u=S(37791),l=S(55800),h=S(85700),p=S(80175),d=function(){function g(y){this._appliedMiddleware=[];var x=y||{};if(typeof x!="object")throw new Error(""+v.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(x.defaultScope===void 0)x.defaultScope=o.BindingScopeEnum.Transient;else if(x.defaultScope!==o.BindingScopeEnum.Singleton&&x.defaultScope!==o.BindingScopeEnum.Transient&&x.defaultScope!==o.BindingScopeEnum.Request)throw new Error(""+v.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(x.autoBindInjectable===void 0)x.autoBindInjectable=!1;else if(typeof x.autoBindInjectable!="boolean")throw new Error(""+v.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(x.skipBaseClassChecks===void 0)x.skipBaseClassChecks=!1;else if(typeof x.skipBaseClassChecks!="boolean")throw new Error(""+v.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:x.autoBindInjectable,defaultScope:x.defaultScope,skipBaseClassChecks:x.skipBaseClassChecks},this.id=u.id(),this._bindingDictionary=new p.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new r.MetadataReader}return g.merge=function(y,x){for(var A=[],m=2;m<arguments.length;m++)A[m-2]=arguments[m];var M=new g,b=c([y,x],A).map(function(T){return e.getBindingDictionary(T)}),E=e.getBindingDictionary(M);function C(T,O){T.traverse(function(L,R){R.forEach(function(W){O.add(W.serviceIdentifier,W.clone())})})}return b.forEach(function(T){C(T,E)}),M},g.prototype.load=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];for(var A=this._getContainerModuleHelpersFactory(),m=0,M=y;m<M.length;m++){var b=M[m],E=A(b.id);b.registry(E.bindFunction,E.unbindFunction,E.isboundFunction,E.rebindFunction)}},g.prototype.loadAsync=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];return i(this,void 0,void 0,function(){var A,m,M,b,E;return t(this,function(C){switch(C.label){case 0:A=this._getContainerModuleHelpersFactory(),m=0,M=y,C.label=1;case 1:return m<M.length?(b=M[m],E=A(b.id),[4,b.registry(E.bindFunction,E.unbindFunction,E.isboundFunction,E.rebindFunction)]):[3,4];case 2:C.sent(),C.label=3;case 3:return m++,[3,1];case 4:return[2]}})})},g.prototype.unload=function(){for(var y=this,x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];var m=function(M){return function(b){return b.moduleId===M}};x.forEach(function(M){var b=m(M.id);y._bindingDictionary.removeByCondition(b)})},g.prototype.bind=function(y){var x=this.options.defaultScope||o.BindingScopeEnum.Transient,A=new s.Binding(y,x);return this._bindingDictionary.add(y,A),new a.BindingToSyntax(A)},g.prototype.rebind=function(y){return this.unbind(y),this.bind(y)},g.prototype.unbind=function(y){try{this._bindingDictionary.remove(y)}catch(x){throw new Error(v.CANNOT_UNBIND+" "+l.getServiceIdentifierAsString(y))}},g.prototype.unbindAll=function(){this._bindingDictionary=new p.Lookup},g.prototype.isBound=function(y){var x=this._bindingDictionary.hasKey(y);return!x&&this.parent&&(x=this.parent.isBound(y)),x},g.prototype.isBoundNamed=function(y,x){return this.isBoundTagged(y,f.NAMED_TAG,x)},g.prototype.isBoundTagged=function(y,x,A){var m=!1;if(this._bindingDictionary.hasKey(y)){var M=this._bindingDictionary.get(y),b=e.createMockRequest(this,y,x,A);m=M.some(function(E){return E.constraint(b)})}return!m&&this.parent&&(m=this.parent.isBoundTagged(y,x,A)),m},g.prototype.snapshot=function(){this._snapshots.push(h.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},g.prototype.restore=function(){var y=this._snapshots.pop();if(y===void 0)throw new Error(v.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=y.bindings,this._middleware=y.middleware},g.prototype.createChild=function(y){var x=new g(y||this.options);return x.parent=this,x},g.prototype.applyMiddleware=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];this._appliedMiddleware=this._appliedMiddleware.concat(y);var A=this._middleware?this._middleware:this._planAndResolve();this._middleware=y.reduce(function(m,M){return M(m)},A)},g.prototype.applyCustomMetadataReader=function(y){this._metadataReader=y},g.prototype.get=function(y){return this._get(!1,!1,o.TargetTypeEnum.Variable,y)},g.prototype.getTagged=function(y,x,A){return this._get(!1,!1,o.TargetTypeEnum.Variable,y,x,A)},g.prototype.getNamed=function(y,x){return this.getTagged(y,f.NAMED_TAG,x)},g.prototype.getAll=function(y){return this._get(!0,!0,o.TargetTypeEnum.Variable,y)},g.prototype.getAllTagged=function(y,x,A){return this._get(!1,!0,o.TargetTypeEnum.Variable,y,x,A)},g.prototype.getAllNamed=function(y,x){return this.getAllTagged(y,f.NAMED_TAG,x)},g.prototype.resolve=function(y){var x=this.createChild();return x.bind(y).toSelf(),this._appliedMiddleware.forEach(function(A){x.applyMiddleware(A)}),x.get(y)},g.prototype._getContainerModuleHelpersFactory=function(){var y=this,x=function(E,C){E._binding.moduleId=C},A=function(E){return function(C){var T=y.bind.bind(y),O=T(C);return x(O,E),O}},m=function(E){return function(C){var T=y.unbind.bind(y);T(C)}},M=function(E){return function(C){var T=y.isBound.bind(y);return T(C)}},b=function(E){return function(C){var T=y.rebind.bind(y),O=T(C);return x(O,E),O}};return function(E){return{bindFunction:A(E),isboundFunction:M(E),rebindFunction:b(E),unbindFunction:m(E)}}},g.prototype._get=function(y,x,A,m,M,b){var E=null,C={avoidConstraints:y,contextInterceptor:function(T){return T},isMultiInject:x,key:M,serviceIdentifier:m,targetType:A,value:b};if(this._middleware){if(E=this._middleware(C),E==null)throw new Error(v.INVALID_MIDDLEWARE_RETURN)}else E=this._planAndResolve()(C);return E},g.prototype._planAndResolve=function(){var y=this;return function(x){var A=e.plan(y._metadataReader,y,x.isMultiInject,x.targetType,x.serviceIdentifier,x.key,x.value,x.avoidConstraints);A=x.contextInterceptor(A);var m=n.resolve(A);return m}},g}();P.Container=d},33244:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.AsyncContainerModule=P.ContainerModule=void 0;var i=S(37791),t=function(){function s(v){this.id=i.id(),this.registry=v}return s}();P.ContainerModule=t;var c=function(){function s(v){this.id=i.id(),this.registry=v}return s}();P.AsyncContainerModule=c},85700:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ContainerSnapshot=void 0;var S=function(){function i(){}return i.of=function(t,c){var s=new i;return s.bindings=t,s.middleware=c,s},i}();P.ContainerSnapshot=S},80175:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Lookup=void 0;var i=S(16674),t=function(){function c(){this._map=new Map}return c.prototype.getMap=function(){return this._map},c.prototype.add=function(s,v){if(s==null)throw new Error(i.NULL_ARGUMENT);if(v==null)throw new Error(i.NULL_ARGUMENT);var o=this._map.get(s);o!==void 0?(o.push(v),this._map.set(s,o)):this._map.set(s,[v])},c.prototype.get=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);var v=this._map.get(s);if(v!==void 0)return v;throw new Error(i.KEY_NOT_FOUND)},c.prototype.remove=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(s))throw new Error(i.KEY_NOT_FOUND)},c.prototype.removeByCondition=function(s){var v=this;this._map.forEach(function(o,f){var r=o.filter(function(e){return!s(e)});r.length>0?v._map.set(f,r):v._map.delete(f)})},c.prototype.hasKey=function(s){if(s==null)throw new Error(i.NULL_ARGUMENT);return this._map.has(s)},c.prototype.clone=function(){var s=new c;return this._map.forEach(function(v,o){v.forEach(function(f){return s.add(o,f.clone())})}),s},c.prototype.traverse=function(s){this._map.forEach(function(v,o){s(o,v)})},c}();P.Lookup=t},86700:function(mr,P,S){"use strict";var i;i={value:!0},i=i=i=i=i=i=P.GW=i=i=P.zY=i=i=i=i=i=P.f3=i=i=P.b2=i=i=i=i=i=P.W2=i=void 0;var t=S(6867);i=t;var c=S(51389);Object.defineProperty(P,"W2",{enumerable:!0,get:function(){return c.Container}});var s=S(28421);i={enumerable:!0,get:function(){return s.BindingScopeEnum}},i={enumerable:!0,get:function(){return s.BindingTypeEnum}},i={enumerable:!0,get:function(){return s.TargetTypeEnum}};var v=S(33244);i={enumerable:!0,get:function(){return v.AsyncContainerModule}},i={enumerable:!0,get:function(){return v.ContainerModule}};var o=S(64315);Object.defineProperty(P,"b2",{enumerable:!0,get:function(){return o.injectable}});var f=S(32052);i={enumerable:!0,get:function(){return f.tagged}};var r=S(38085);i={enumerable:!0,get:function(){return r.named}};var e=S(5744);Object.defineProperty(P,"f3",{enumerable:!0,get:function(){return e.inject}}),i={enumerable:!0,get:function(){return e.LazyServiceIdentifer}};var n=S(6515);i={enumerable:!0,get:function(){return n.optional}};var a=S(86757);i={enumerable:!0,get:function(){return a.unmanaged}};var u=S(71693);i={enumerable:!0,get:function(){return u.multiInject}};var l=S(55638);i={enumerable:!0,get:function(){return l.targetName}};var h=S(7014);Object.defineProperty(P,"zY",{enumerable:!0,get:function(){return h.postConstruct}});var p=S(51377);i={enumerable:!0,get:function(){return p.MetadataReader}};var d=S(37791);i={enumerable:!0,get:function(){return d.id}};var g=S(99934);Object.defineProperty(P,"GW",{enumerable:!0,get:function(){return g.decorate}});var y=S(80758);i={enumerable:!0,get:function(){return y.traverseAncerstors}},i={enumerable:!0,get:function(){return y.taggedConstraint}},i={enumerable:!0,get:function(){return y.namedConstraint}},i={enumerable:!0,get:function(){return y.typeConstraint}};var x=S(55800);i={enumerable:!0,get:function(){return x.getServiceIdentifierAsString}};var A=S(70600);i={enumerable:!0,get:function(){return A.multiBindToService}}},95228:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Context=void 0;var i=S(37791),t=function(){function c(s){this.id=i.id(),this.container=s}return c.prototype.addPlan=function(s){this.plan=s},c.prototype.setCurrentRequest=function(s){this.currentRequest=s},c}();P.Context=t},47738:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Metadata=void 0;var i=S(6867),t=function(){function c(s,v){this.key=s,this.value=v}return c.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},c}();P.Metadata=t},51377:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MetadataReader=void 0;var i=S(6867),t=function(){function c(){}return c.prototype.getConstructorMetadata=function(s){var v=Reflect.getMetadata(i.PARAM_TYPES,s),o=Reflect.getMetadata(i.TAGGED,s);return{compilerGeneratedMetadata:v,userGeneratedMetadata:o||{}}},c.prototype.getPropertiesMetadata=function(s){var v=Reflect.getMetadata(i.TAGGED_PROP,s)||[];return v},c}();P.MetadataReader=t},55314:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Plan=void 0;var S=function(){function i(t,c){this.parentContext=t,this.rootRequest=c}return i}();P.Plan=S},86311:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.getBindingDictionary=P.createMockRequest=P.plan=void 0;var i=S(23184),t=S(16674),c=S(28421),s=S(6867),v=S(85265),o=S(55800),f=S(95228),r=S(47738),e=S(55314),n=S(6e3),a=S(6748),u=S(18924);function l(m){return m._bindingDictionary}P.getBindingDictionary=l;function h(m,M,b,E,C,T){var O=m?s.MULTI_INJECT_TAG:s.INJECT_TAG,L=new r.Metadata(O,b),R=new u.Target(M,E,b,L);if(C!==void 0){var W=new r.Metadata(C,T);R.metadata.push(W)}return R}function p(m,M,b,E,C){var T=y(b.container,C.serviceIdentifier),O=[];return T.length===i.BindingCount.NoBindingsAvailable&&b.container.options.autoBindInjectable&&typeof C.serviceIdentifier=="function"&&m.getConstructorMetadata(C.serviceIdentifier).compilerGeneratedMetadata&&(b.container.bind(C.serviceIdentifier).toSelf(),T=y(b.container,C.serviceIdentifier)),M?O=T:O=T.filter(function(L){var R=new a.Request(L.serviceIdentifier,b,E,L,C);return L.constraint(R)}),d(C.serviceIdentifier,O,C,b.container),O}function d(m,M,b,E){switch(M.length){case i.BindingCount.NoBindingsAvailable:if(b.isOptional())return M;var C=o.getServiceIdentifierAsString(m),T=t.NOT_REGISTERED;throw T+=o.listMetadataForTarget(C,b),T+=o.listRegisteredBindingsForServiceIdentifier(E,C,y),new Error(T);case i.BindingCount.OnlyOneBindingAvailable:if(!b.isArray())return M;case i.BindingCount.MultipleBindingsAvailable:default:if(b.isArray())return M;var C=o.getServiceIdentifierAsString(m),T=t.AMBIGUOUS_MATCH+" "+C;throw T+=o.listRegisteredBindingsForServiceIdentifier(E,C,y),new Error(T)}}function g(m,M,b,E,C,T){var O,L;if(C===null){O=p(m,M,E,null,T),L=new a.Request(b,E,null,O,T);var R=new e.Plan(E,L);E.addPlan(R)}else O=p(m,M,E,C,T),L=C.addChildRequest(T.serviceIdentifier,O,T);O.forEach(function(W){var U=null;if(T.isArray())U=L.addChildRequest(W.serviceIdentifier,W,T);else{if(W.cache)return;U=L}if(W.type===c.BindingTypeEnum.Instance&&W.implementationType!==null){var X=n.getDependencies(m,W.implementationType);if(!E.container.options.skipBaseClassChecks){var Z=n.getBaseClassDependencyCount(m,W.implementationType);if(X.length<Z){var J=t.ARGUMENTS_LENGTH_MISMATCH(n.getFunctionName(W.implementationType));throw new Error(J)}}X.forEach(function(ht){g(m,!1,ht.serviceIdentifier,E,U,ht)})}})}function y(m,M){var b=[],E=l(m);return E.hasKey(M)?b=E.get(M):m.parent!==null&&(b=y(m.parent,M)),b}function x(m,M,b,E,C,T,O,L){L===void 0&&(L=!1);var R=new f.Context(M),W=h(b,E,C,"",T,O);try{return g(m,L,C,R,null,W),R}catch(U){throw v.isStackOverflowExeption(U)&&R.plan&&o.circularDependencyToException(R.plan.rootRequest),U}}P.plan=x;function A(m,M,b,E){var C=new u.Target(c.TargetTypeEnum.Variable,"",M,new r.Metadata(b,E)),T=new f.Context(m),O=new a.Request(M,T,null,[],C);return O}P.createMockRequest=A},88460:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.QueryableString=void 0;var S=function(){function i(t){this.str=t}return i.prototype.startsWith=function(t){return this.str.indexOf(t)===0},i.prototype.endsWith=function(t){var c="",s=t.split("").reverse().join("");return c=this.str.split("").reverse().join(""),this.startsWith.call({str:c},s)},i.prototype.contains=function(t){return this.str.indexOf(t)!==-1},i.prototype.equals=function(t){return this.str===t},i.prototype.value=function(){return this.str},i}();P.QueryableString=S},6e3:function(mr,P,S){"use strict";var i=this&&this.__spreadArray||function(p,d){for(var g=0,y=d.length,x=p.length;g<y;g++,x++)p[x]=d[g];return p};Object.defineProperty(P,"__esModule",{value:!0}),P.getFunctionName=P.getBaseClassDependencyCount=P.getDependencies=void 0;var t=S(5744),c=S(16674),s=S(28421),v=S(6867),o=S(55800);Object.defineProperty(P,"getFunctionName",{enumerable:!0,get:function(){return o.getFunctionName}});var f=S(18924);function r(p,d){var g=o.getFunctionName(d),y=e(p,g,d,!1);return y}P.getDependencies=r;function e(p,d,g,y){var x=p.getConstructorMetadata(g),A=x.compilerGeneratedMetadata;if(A===void 0){var m=c.MISSING_INJECTABLE_ANNOTATION+" "+d+".";throw new Error(m)}var M=x.userGeneratedMetadata,b=Object.keys(M),E=g.length===0&&b.length>0,C=b.length>g.length,T=E||C?b.length:g.length,O=a(y,d,A,M,T),L=u(p,g),R=i(i([],O),L);return R}function n(p,d,g,y,x){var A=x[p.toString()]||[],m=h(A),M=m.unmanaged!==!0,b=y[p],E=m.inject||m.multiInject;if(b=E||b,b instanceof t.LazyServiceIdentifer&&(b=b.unwrap()),M){var C=b===Object,T=b===Function,O=b===void 0,L=C||T||O;if(!d&&L){var R=c.MISSING_INJECT_ANNOTATION+" argument "+p+" in class "+g+".";throw new Error(R)}var W=new f.Target(s.TargetTypeEnum.ConstructorArgument,m.targetName,b);return W.metadata=A,W}return null}function a(p,d,g,y,x){for(var A=[],m=0;m<x;m++){var M=m,b=n(M,p,d,g,y);b!==null&&A.push(b)}return A}function u(p,d){for(var g=p.getPropertiesMetadata(d),y=[],x=Object.keys(g),A=0,m=x;A<m.length;A++){var M=m[A],b=g[M],E=h(g[M]),C=E.targetName||M,T=E.inject||E.multiInject,O=new f.Target(s.TargetTypeEnum.ClassProperty,C,T);O.metadata=b,y.push(O)}var L=Object.getPrototypeOf(d.prototype).constructor;if(L!==Object){var R=u(p,L);y=i(i([],y),R)}return y}function l(p,d){var g=Object.getPrototypeOf(d.prototype).constructor;if(g!==Object){var y=o.getFunctionName(g),x=e(p,y,g,!0),A=x.map(function(b){return b.metadata.filter(function(E){return E.key===v.UNMANAGED_TAG})}),m=[].concat.apply([],A).length,M=x.length-m;return M>0?M:l(p,g)}else return 0}P.getBaseClassDependencyCount=l;function h(p){var d={};return p.forEach(function(g){d[g.key.toString()]=g.value}),{inject:d[v.INJECT_TAG],multiInject:d[v.MULTI_INJECT_TAG],targetName:d[v.NAME_TAG],unmanaged:d[v.UNMANAGED_TAG]}}},6748:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Request=void 0;var i=S(37791),t=function(){function c(s,v,o,f,r){this.id=i.id(),this.serviceIdentifier=s,this.parentContext=v,this.parentRequest=o,this.target=r,this.childRequests=[],this.bindings=Array.isArray(f)?f:[f],this.requestScope=o===null?new Map:null}return c.prototype.addChildRequest=function(s,v,o){var f=new c(s,this.parentContext,this,v,o);return this.childRequests.push(f),f},c}();P.Request=t},18924:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Target=void 0;var i=S(6867),t=S(37791),c=S(47738),s=S(88460),v=function(){function o(f,r,e,n){this.id=t.id(),this.type=f,this.serviceIdentifier=e,this.name=new s.QueryableString(r||""),this.metadata=new Array;var a=null;typeof n=="string"?a=new c.Metadata(i.NAMED_TAG,n):n instanceof c.Metadata&&(a=n),a!==null&&this.metadata.push(a)}return o.prototype.hasTag=function(f){for(var r=0,e=this.metadata;r<e.length;r++){var n=e[r];if(n.key===f)return!0}return!1},o.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},o.prototype.matchesArray=function(f){return this.matchesTag(i.MULTI_INJECT_TAG)(f)},o.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},o.prototype.isTagged=function(){return this.metadata.some(function(f){return i.NON_CUSTOM_TAG_KEYS.every(function(r){return f.key!==r})})},o.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},o.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(f){return f.key===i.NAMED_TAG})[0]:null},o.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(f){return i.NON_CUSTOM_TAG_KEYS.every(function(r){return f.key!==r})}):null},o.prototype.matchesNamedTag=function(f){return this.matchesTag(i.NAMED_TAG)(f)},o.prototype.matchesTag=function(f){var r=this;return function(e){for(var n=0,a=r.metadata;n<a.length;n++){var u=a[n];if(u.key===f&&u.value===e)return!0}return!1}},o}();P.Target=v},52279:function(mr,P,S){"use strict";var i=this&&this.__spreadArray||function(e,n){for(var a=0,u=n.length,l=e.length;a<u;a++,l++)e[l]=n[a];return e};Object.defineProperty(P,"__esModule",{value:!0}),P.resolveInstance=void 0;var t=S(16674),c=S(28421),s=S(6867);function v(e,n,a){var u=n.filter(function(h){return h.target!==null&&h.target.type===c.TargetTypeEnum.ClassProperty}),l=u.map(a);return u.forEach(function(h,p){var d="";d=h.target.name.value();var g=l[p];e[d]=g}),e}function o(e,n){return new(e.bind.apply(e,i([void 0],n)))}function f(e,n){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var a=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{n[a.value]()}catch(u){throw new Error(t.POST_CONSTRUCT_ERROR(e.name,u.message))}}}function r(e,n,a){var u=null;if(n.length>0){var l=n.filter(function(p){return p.target!==null&&p.target.type===c.TargetTypeEnum.ConstructorArgument}),h=l.map(a);u=o(e,h),u=v(u,n,a)}else u=new e;return f(e,u),u}P.resolveInstance=r},31927:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.resolve=void 0;var i=S(16674),t=S(28421),c=S(85265),s=S(55800),v=S(52279),o=function(e,n,a){try{return a()}catch(u){throw c.isStackOverflowExeption(u)?new Error(i.CIRCULAR_DEPENDENCY_IN_FACTORY(e,n.toString())):u}},f=function(e){return function(n){n.parentContext.setCurrentRequest(n);var a=n.bindings,u=n.childRequests,l=n.target&&n.target.isArray(),h=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&h)return u.map(function(A){var m=f(e);return m(A)});var p=null;if(n.target.isOptional()&&a.length===0)return;var d=a[0],g=d.scope===t.BindingScopeEnum.Singleton,y=d.scope===t.BindingScopeEnum.Request;if(g&&d.activated)return d.cache;if(y&&e!==null&&e.has(d.id))return e.get(d.id);if(d.type===t.BindingTypeEnum.ConstantValue)p=d.cache,d.activated=!0;else if(d.type===t.BindingTypeEnum.Function)p=d.cache,d.activated=!0;else if(d.type===t.BindingTypeEnum.Constructor)p=d.implementationType;else if(d.type===t.BindingTypeEnum.DynamicValue&&d.dynamicValue!==null)p=o("toDynamicValue",d.serviceIdentifier,function(){return d.dynamicValue(n.parentContext)});else if(d.type===t.BindingTypeEnum.Factory&&d.factory!==null)p=o("toFactory",d.serviceIdentifier,function(){return d.factory(n.parentContext)});else if(d.type===t.BindingTypeEnum.Provider&&d.provider!==null)p=o("toProvider",d.serviceIdentifier,function(){return d.provider(n.parentContext)});else if(d.type===t.BindingTypeEnum.Instance&&d.implementationType!==null)p=v.resolveInstance(d.implementationType,u,f(e));else{var x=s.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(i.INVALID_BINDING_TYPE+" "+x)}return typeof d.onActivation=="function"&&(p=d.onActivation(n.parentContext,p)),g&&(d.cache=p,d.activated=!0),y&&e!==null&&!e.has(d.id)&&e.set(d.id,p),p}};function r(e){var n=f(e.plan.rootRequest.requestScope);return n(e.plan.rootRequest)}P.resolve=r},83366:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInSyntax=void 0;var i=S(28421),t=S(71325),c=function(){function s(v){this._binding=v}return s.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new t.BindingWhenOnSyntax(this._binding)},s.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new t.BindingWhenOnSyntax(this._binding)},s.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new t.BindingWhenOnSyntax(this._binding)},s}();P.BindingInSyntax=c},74889:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingInWhenOnSyntax=void 0;var i=S(83366),t=S(51811),c=S(98370),s=function(){function v(o){this._binding=o,this._bindingWhenSyntax=new c.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new t.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(o)}return v.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},v.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},v.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},v.prototype.when=function(o){return this._bindingWhenSyntax.when(o)},v.prototype.whenTargetNamed=function(o){return this._bindingWhenSyntax.whenTargetNamed(o)},v.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},v.prototype.whenTargetTagged=function(o,f){return this._bindingWhenSyntax.whenTargetTagged(o,f)},v.prototype.whenInjectedInto=function(o){return this._bindingWhenSyntax.whenInjectedInto(o)},v.prototype.whenParentNamed=function(o){return this._bindingWhenSyntax.whenParentNamed(o)},v.prototype.whenParentTagged=function(o,f){return this._bindingWhenSyntax.whenParentTagged(o,f)},v.prototype.whenAnyAncestorIs=function(o){return this._bindingWhenSyntax.whenAnyAncestorIs(o)},v.prototype.whenNoAncestorIs=function(o){return this._bindingWhenSyntax.whenNoAncestorIs(o)},v.prototype.whenAnyAncestorNamed=function(o){return this._bindingWhenSyntax.whenAnyAncestorNamed(o)},v.prototype.whenAnyAncestorTagged=function(o,f){return this._bindingWhenSyntax.whenAnyAncestorTagged(o,f)},v.prototype.whenNoAncestorNamed=function(o){return this._bindingWhenSyntax.whenNoAncestorNamed(o)},v.prototype.whenNoAncestorTagged=function(o,f){return this._bindingWhenSyntax.whenNoAncestorTagged(o,f)},v.prototype.whenAnyAncestorMatches=function(o){return this._bindingWhenSyntax.whenAnyAncestorMatches(o)},v.prototype.whenNoAncestorMatches=function(o){return this._bindingWhenSyntax.whenNoAncestorMatches(o)},v.prototype.onActivation=function(o){return this._bindingOnSyntax.onActivation(o)},v}();P.BindingInWhenOnSyntax=s},51811:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingOnSyntax=void 0;var i=S(98370),t=function(){function c(s){this._binding=s}return c.prototype.onActivation=function(s){return this._binding.onActivation=s,new i.BindingWhenSyntax(this._binding)},c}();P.BindingOnSyntax=t},15451:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingToSyntax=void 0;var i=S(16674),t=S(28421),c=S(74889),s=S(71325),v=function(){function o(f){this._binding=f}return o.prototype.to=function(f){return this._binding.type=t.BindingTypeEnum.Instance,this._binding.implementationType=f,new c.BindingInWhenOnSyntax(this._binding)},o.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+i.INVALID_TO_SELF_VALUE);var f=this._binding.serviceIdentifier;return this.to(f)},o.prototype.toConstantValue=function(f){return this._binding.type=t.BindingTypeEnum.ConstantValue,this._binding.cache=f,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toDynamicValue=function(f){return this._binding.type=t.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=f,this._binding.implementationType=null,new c.BindingInWhenOnSyntax(this._binding)},o.prototype.toConstructor=function(f){return this._binding.type=t.BindingTypeEnum.Constructor,this._binding.implementationType=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toFactory=function(f){return this._binding.type=t.BindingTypeEnum.Factory,this._binding.factory=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toFunction=function(f){if(typeof f!="function")throw new Error(i.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(f);return this._binding.type=t.BindingTypeEnum.Function,this._binding.scope=t.BindingScopeEnum.Singleton,r},o.prototype.toAutoFactory=function(f){return this._binding.type=t.BindingTypeEnum.Factory,this._binding.factory=function(r){var e=function(){return r.container.get(f)};return e},this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toProvider=function(f){return this._binding.type=t.BindingTypeEnum.Provider,this._binding.provider=f,this._binding.scope=t.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},o.prototype.toService=function(f){this.toDynamicValue(function(r){return r.container.get(f)})},o}();P.BindingToSyntax=v},71325:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenOnSyntax=void 0;var i=S(51811),t=S(98370),c=function(){function s(v){this._binding=v,this._bindingWhenSyntax=new t.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return s.prototype.when=function(v){return this._bindingWhenSyntax.when(v)},s.prototype.whenTargetNamed=function(v){return this._bindingWhenSyntax.whenTargetNamed(v)},s.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},s.prototype.whenTargetTagged=function(v,o){return this._bindingWhenSyntax.whenTargetTagged(v,o)},s.prototype.whenInjectedInto=function(v){return this._bindingWhenSyntax.whenInjectedInto(v)},s.prototype.whenParentNamed=function(v){return this._bindingWhenSyntax.whenParentNamed(v)},s.prototype.whenParentTagged=function(v,o){return this._bindingWhenSyntax.whenParentTagged(v,o)},s.prototype.whenAnyAncestorIs=function(v){return this._bindingWhenSyntax.whenAnyAncestorIs(v)},s.prototype.whenNoAncestorIs=function(v){return this._bindingWhenSyntax.whenNoAncestorIs(v)},s.prototype.whenAnyAncestorNamed=function(v){return this._bindingWhenSyntax.whenAnyAncestorNamed(v)},s.prototype.whenAnyAncestorTagged=function(v,o){return this._bindingWhenSyntax.whenAnyAncestorTagged(v,o)},s.prototype.whenNoAncestorNamed=function(v){return this._bindingWhenSyntax.whenNoAncestorNamed(v)},s.prototype.whenNoAncestorTagged=function(v,o){return this._bindingWhenSyntax.whenNoAncestorTagged(v,o)},s.prototype.whenAnyAncestorMatches=function(v){return this._bindingWhenSyntax.whenAnyAncestorMatches(v)},s.prototype.whenNoAncestorMatches=function(v){return this._bindingWhenSyntax.whenNoAncestorMatches(v)},s.prototype.onActivation=function(v){return this._bindingOnSyntax.onActivation(v)},s}();P.BindingWhenOnSyntax=c},98370:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BindingWhenSyntax=void 0;var i=S(51811),t=S(80758),c=function(){function s(v){this._binding=v}return s.prototype.when=function(v){return this._binding.constraint=v,new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetNamed=function(v){return this._binding.constraint=t.namedConstraint(v),new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(v){var o=v.target!==null&&!v.target.isNamed()&&!v.target.isTagged();return o},new i.BindingOnSyntax(this._binding)},s.prototype.whenTargetTagged=function(v,o){return this._binding.constraint=t.taggedConstraint(v)(o),new i.BindingOnSyntax(this._binding)},s.prototype.whenInjectedInto=function(v){return this._binding.constraint=function(o){return t.typeConstraint(v)(o.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenParentNamed=function(v){return this._binding.constraint=function(o){return t.namedConstraint(v)(o.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenParentTagged=function(v,o){return this._binding.constraint=function(f){return t.taggedConstraint(v)(o)(f.parentRequest)},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorIs=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,t.typeConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorIs=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,t.typeConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorNamed=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,t.namedConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorNamed=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,t.namedConstraint(v))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorTagged=function(v,o){return this._binding.constraint=function(f){return t.traverseAncerstors(f,t.taggedConstraint(v)(o))},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorTagged=function(v,o){return this._binding.constraint=function(f){return!t.traverseAncerstors(f,t.taggedConstraint(v)(o))},new i.BindingOnSyntax(this._binding)},s.prototype.whenAnyAncestorMatches=function(v){return this._binding.constraint=function(o){return t.traverseAncerstors(o,v)},new i.BindingOnSyntax(this._binding)},s.prototype.whenNoAncestorMatches=function(v){return this._binding.constraint=function(o){return!t.traverseAncerstors(o,v)},new i.BindingOnSyntax(this._binding)},s}();P.BindingWhenSyntax=c},80758:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.typeConstraint=P.namedConstraint=P.taggedConstraint=P.traverseAncerstors=void 0;var i=S(6867),t=S(47738),c=function(f,r){var e=f.parentRequest;return e!==null?r(e)?!0:c(e,r):!1};P.traverseAncerstors=c;var s=function(f){return function(r){var e=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(f)(r)};return e.metaData=new t.Metadata(f,r),e}};P.taggedConstraint=s;var v=s(i.NAMED_TAG);P.namedConstraint=v;var o=function(f){return function(r){var e=null;if(r!==null)if(e=r.bindings[0],typeof f=="string"){var n=e.serviceIdentifier;return n===f}else{var a=r.bindings[0].implementationType;return f===a}return!1}};P.typeConstraint=o},70600:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.multiBindToService=void 0;var S=function(i){return function(t){return function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];return c.forEach(function(v){return i.bind(v).toService(t)})}}};P.multiBindToService=S},85265:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isStackOverflowExeption=void 0;var i=S(16674);function t(c){return c instanceof RangeError||c.message===i.STACK_OVERFLOW}P.isStackOverflowExeption=t},37791:function(mr,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.id=void 0;var S=0;function i(){return S++}P.id=i},55800:function(mr,P,S){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.circularDependencyToException=P.listMetadataForTarget=P.listRegisteredBindingsForServiceIdentifier=P.getServiceIdentifierAsString=P.getFunctionName=void 0;var i=S(16674);function t(e){if(typeof e=="function"){var n=e;return n.name}else{if(typeof e=="symbol")return e.toString();var n=e;return n}}P.getServiceIdentifierAsString=t;function c(e,n,a){var u="",l=a(e,n);return l.length!==0&&(u=`
Registered bindings:`,l.forEach(function(h){var p="Object";h.implementationType!==null&&(p=r(h.implementationType)),u=u+`
 `+p,h.constraint.metaData&&(u=u+" - "+h.constraint.metaData)})),u}P.listRegisteredBindingsForServiceIdentifier=c;function s(e,n){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===n?!0:s(e.parentRequest,n)}function v(e){function n(u,l){l===void 0&&(l=[]);var h=t(u.serviceIdentifier);return l.push(h),u.parentRequest!==null?n(u.parentRequest,l):l}var a=n(e);return a.reverse().join(" --> ")}function o(e){e.childRequests.forEach(function(n){if(s(n,n.serviceIdentifier)){var a=v(n);throw new Error(i.CIRCULAR_DEPENDENCY+" "+a)}else o(n)})}P.circularDependencyToException=o;function f(e,n){if(n.isTagged()||n.isNamed()){var a="",u=n.getNamedTag(),l=n.getCustomTags();return u!==null&&(a+=u.toString()+`
`),l!==null&&l.forEach(function(h){a+=h.toString()+`
`})," "+e+`
 `+e+" - "+a}else return" "+e}P.listMetadataForTarget=f;function r(e){if(e.name)return e.name;var n=e.toString(),a=n.match(/^function\s*([^\s(]+)/);return a?a[1]:"Anonymous function: "+n}P.getFunctionName=r},18857:function(mr,P,S){"use strict";S.r(P),S.d(P,{Function:function(){return Si},Interpreter:function(){return dt},default:function(){return ri},evaluate:function(){return Rt},vm:function(){return i}});var i={};S.r(i),S.d(i,{Script:function(){return zr},compileFunction:function(){return te},createContext:function(){return Dt},runInContext:function(){return We},runInNewContext:function(){return cr}});var t={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},c="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:c,"5module":c+" export import",6:c+" const class extends export import super"},v=/^in(stanceof)?$/,o="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",f="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF\u1AC0\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",r=new RegExp("["+o+"]"),e=new RegExp("["+o+f+"]");o=f=null;var n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function u(k,rt){for(var Bt=65536,yt=0;yt<rt.length;yt+=2){if(Bt+=rt[yt],Bt>k)return!1;if(Bt+=rt[yt+1],Bt>=k)return!0}}function l(k,rt){return k<65?k===36:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&r.test(String.fromCharCode(k)):rt===!1?!1:u(k,n)}function h(k,rt){return k<48?k===36:k<58?!0:k<65?!1:k<91?!0:k<97?k===95:k<123?!0:k<=65535?k>=170&&e.test(String.fromCharCode(k)):rt===!1?!1:u(k,n)||u(k,a)}var p=function(rt,Bt){Bt===void 0&&(Bt={}),this.label=rt,this.keyword=Bt.keyword,this.beforeExpr=!!Bt.beforeExpr,this.startsExpr=!!Bt.startsExpr,this.isLoop=!!Bt.isLoop,this.isAssign=!!Bt.isAssign,this.prefix=!!Bt.prefix,this.postfix=!!Bt.postfix,this.binop=Bt.binop||null,this.updateContext=null};function d(k,rt){return new p(k,{beforeExpr:!0,binop:rt})}var g={beforeExpr:!0},y={startsExpr:!0},x={};function A(k,rt){return rt===void 0&&(rt={}),rt.keyword=k,x[k]=new p(k,rt)}var m={num:new p("num",y),regexp:new p("regexp",y),string:new p("string",y),name:new p("name",y),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",g),semi:new p(";",g),colon:new p(":",g),dot:new p("."),question:new p("?",g),questionDot:new p("?."),arrow:new p("=>",g),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",g),backQuote:new p("`",y),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:d("||",1),logicalAND:d("&&",2),bitwiseOR:d("|",3),bitwiseXOR:d("^",4),bitwiseAND:d("&",5),equality:d("==/!=/===/!==",6),relational:d("</>/<=/>=",7),bitShift:d("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:d("%",10),star:d("*",10),slash:d("/",10),starstar:new p("**",{beforeExpr:!0}),coalesce:d("??",1),_break:A("break"),_case:A("case",g),_catch:A("catch"),_continue:A("continue"),_debugger:A("debugger"),_default:A("default",g),_do:A("do",{isLoop:!0,beforeExpr:!0}),_else:A("else",g),_finally:A("finally"),_for:A("for",{isLoop:!0}),_function:A("function",y),_if:A("if"),_return:A("return",g),_switch:A("switch"),_throw:A("throw",g),_try:A("try"),_var:A("var"),_const:A("const"),_while:A("while",{isLoop:!0}),_with:A("with"),_new:A("new",{beforeExpr:!0,startsExpr:!0}),_this:A("this",y),_super:A("super",y),_class:A("class",y),_extends:A("extends",g),_export:A("export"),_import:A("import",y),_null:A("null",y),_true:A("true",y),_false:A("false",y),_in:A("in",{beforeExpr:!0,binop:7}),_instanceof:A("instanceof",{beforeExpr:!0,binop:7}),_typeof:A("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:A("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:A("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},M=/\r\n?|\n|\u2028|\u2029/,b=new RegExp(M.source,"g");function E(k,rt){return k===10||k===13||!rt&&(k===8232||k===8233)}var C=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,T=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,O=Object.prototype,L=O.hasOwnProperty,R=O.toString;function W(k,rt){return L.call(k,rt)}var U=Array.isArray||function(k){return R.call(k)==="[object Array]"};function X(k){return new RegExp("^(?:"+k.replace(/ /g,"|")+")$")}var Z=function(rt,Bt){this.line=rt,this.column=Bt};Z.prototype.offset=function(rt){return new Z(this.line,this.column+rt)};var J=function(rt,Bt,yt){this.start=Bt,this.end=yt,rt.sourceFile!==null&&(this.source=rt.sourceFile)};function ht(k,rt){for(var Bt=1,yt=0;;){b.lastIndex=yt;var ne=b.exec(k);if(ne&&ne.index<rt)++Bt,yt=ne.index+ne[0].length;else return new Z(Bt,rt-yt)}}var at={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Q(k){var rt={};for(var Bt in at)rt[Bt]=k&&W(k,Bt)?k[Bt]:at[Bt];if(rt.ecmaVersion>=2015&&(rt.ecmaVersion-=2009),rt.allowReserved==null&&(rt.allowReserved=rt.ecmaVersion<5),U(rt.onToken)){var yt=rt.onToken;rt.onToken=function(ne){return yt.push(ne)}}return U(rt.onComment)&&(rt.onComment=xt(rt,rt.onComment)),rt}function xt(k,rt){return function(Bt,yt,ne,_e,or,jr){var _r={type:Bt?"Block":"Line",value:yt,start:ne,end:_e};k.locations&&(_r.loc=new J(this,or,jr)),k.ranges&&(_r.range=[ne,_e]),rt.push(_r)}}var kt=1,Nt=2,nt=kt|Nt,q=4,G=8,N=16,it=32,H=64,ct=128;function ft(k,rt){return Nt|(k?q:0)|(rt?G:0)}var K=0,$=1,et=2,j=3,w=4,D=5,V=function(rt,Bt,yt){this.options=rt=Q(rt),this.sourceFile=rt.sourceFile,this.keywords=X(s[rt.ecmaVersion>=6?6:rt.sourceType==="module"?"5module":5]);var ne="";if(rt.allowReserved!==!0){for(var _e=rt.ecmaVersion;!(ne=t[_e]);_e--);rt.sourceType==="module"&&(ne+=" await")}this.reservedWords=X(ne);var or=(ne?ne+" ":"")+t.strict;this.reservedWordsStrict=X(or),this.reservedWordsStrictBind=X(or+" "+t.strictBind),this.input=String(Bt),this.containsEsc=!1,yt?(this.pos=yt,this.lineStart=this.input.lastIndexOf(`
`,yt-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(M).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=rt.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&rt.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(kt),this.regexpState=null},tt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};V.prototype.parse=function(){var rt=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(rt)},tt.inFunction.get=function(){return(this.currentVarScope().flags&Nt)>0},tt.inGenerator.get=function(){return(this.currentVarScope().flags&G)>0},tt.inAsync.get=function(){return(this.currentVarScope().flags&q)>0},tt.allowSuper.get=function(){return(this.currentThisScope().flags&H)>0},tt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ct)>0},tt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},V.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&Nt)>0},V.extend=function(){for(var rt=[],Bt=arguments.length;Bt--;)rt[Bt]=arguments[Bt];for(var yt=this,ne=0;ne<rt.length;ne++)yt=rt[ne](yt);return yt},V.parse=function(rt,Bt){return new this(Bt,rt).parse()},V.parseExpressionAt=function(rt,Bt,yt){var ne=new this(yt,rt,Bt);return ne.nextToken(),ne.parseExpression()},V.tokenizer=function(rt,Bt){return new this(Bt,rt)},Object.defineProperties(V.prototype,tt);var lt=V.prototype,St=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;lt.strictDirective=function(k){for(;;){T.lastIndex=k,k+=T.exec(this.input)[0].length;var rt=St.exec(this.input.slice(k));if(!rt)return!1;if((rt[1]||rt[2])==="use strict"){T.lastIndex=k+rt[0].length;var Bt=T.exec(this.input),yt=Bt.index+Bt[0].length,ne=this.input.charAt(yt);return ne===";"||ne==="}"||M.test(Bt[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(ne)||ne==="!"&&this.input.charAt(yt+1)==="=")}k+=rt[0].length,T.lastIndex=k,k+=T.exec(this.input)[0].length,this.input[k]===";"&&k++}},lt.eat=function(k){return this.type===k?(this.next(),!0):!1},lt.isContextual=function(k){return this.type===m.name&&this.value===k&&!this.containsEsc},lt.eatContextual=function(k){return this.isContextual(k)?(this.next(),!0):!1},lt.expectContextual=function(k){this.eatContextual(k)||this.unexpected()},lt.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||M.test(this.input.slice(this.lastTokEnd,this.start))},lt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},lt.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()},lt.afterTrailingComma=function(k,rt){if(this.type===k)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),rt||this.next(),!0},lt.expect=function(k){this.eat(k)||this.unexpected()},lt.unexpected=function(k){this.raise(k!=null?k:this.start,"Unexpected token")};function ot(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}lt.checkPatternErrors=function(k,rt){if(!!k){k.trailingComma>-1&&this.raiseRecoverable(k.trailingComma,"Comma is not permitted after the rest element");var Bt=rt?k.parenthesizedAssign:k.parenthesizedBind;Bt>-1&&this.raiseRecoverable(Bt,"Parenthesized pattern")}},lt.checkExpressionErrors=function(k,rt){if(!k)return!1;var Bt=k.shorthandAssign,yt=k.doubleProto;if(!rt)return Bt>=0||yt>=0;Bt>=0&&this.raise(Bt,"Shorthand property assignments are valid only in destructuring patterns"),yt>=0&&this.raiseRecoverable(yt,"Redefinition of __proto__ property")},lt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},lt.isSimpleAssignTarget=function(k){return k.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(k.expression):k.type==="Identifier"||k.type==="MemberExpression"};var Mt=V.prototype;Mt.parseTopLevel=function(k){var rt={};for(k.body||(k.body=[]);this.type!==m.eof;){var Bt=this.parseStatement(null,!0,rt);k.body.push(Bt)}if(this.inModule)for(var yt=0,ne=Object.keys(this.undefinedExports);yt<ne.length;yt+=1){var _e=ne[yt];this.raiseRecoverable(this.undefinedExports[_e].start,"Export '"+_e+"' is not defined")}return this.adaptDirectivePrologue(k.body),this.next(),k.sourceType=this.options.sourceType,this.finishNode(k,"Program")};var Ot={kind:"loop"},Ft={kind:"switch"};Mt.isLet=function(k){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;T.lastIndex=this.pos;var rt=T.exec(this.input),Bt=this.pos+rt[0].length,yt=this.input.charCodeAt(Bt);if(yt===91)return!0;if(k)return!1;if(yt===123)return!0;if(l(yt,!0)){for(var ne=Bt+1;h(this.input.charCodeAt(ne),!0);)++ne;var _e=this.input.slice(Bt,ne);if(!v.test(_e))return!0}return!1},Mt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;T.lastIndex=this.pos;var k=T.exec(this.input),rt=this.pos+k[0].length;return!M.test(this.input.slice(this.pos,rt))&&this.input.slice(rt,rt+8)==="function"&&(rt+8===this.input.length||!h(this.input.charAt(rt+8)))},Mt.parseStatement=function(k,rt,Bt){var yt=this.type,ne=this.startNode(),_e;switch(this.isLet(k)&&(yt=m._var,_e="let"),yt){case m._break:case m._continue:return this.parseBreakContinueStatement(ne,yt.keyword);case m._debugger:return this.parseDebuggerStatement(ne);case m._do:return this.parseDoStatement(ne);case m._for:return this.parseForStatement(ne);case m._function:return k&&(this.strict||k!=="if"&&k!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ne,!1,!k);case m._class:return k&&this.unexpected(),this.parseClass(ne,!0);case m._if:return this.parseIfStatement(ne);case m._return:return this.parseReturnStatement(ne);case m._switch:return this.parseSwitchStatement(ne);case m._throw:return this.parseThrowStatement(ne);case m._try:return this.parseTryStatement(ne);case m._const:case m._var:return _e=_e||this.value,k&&_e!=="var"&&this.unexpected(),this.parseVarStatement(ne,_e);case m._while:return this.parseWhileStatement(ne);case m._with:return this.parseWithStatement(ne);case m.braceL:return this.parseBlock(!0,ne);case m.semi:return this.parseEmptyStatement(ne);case m._export:case m._import:if(this.options.ecmaVersion>10&&yt===m._import){T.lastIndex=this.pos;var or=T.exec(this.input),jr=this.pos+or[0].length,_r=this.input.charCodeAt(jr);if(_r===40||_r===46)return this.parseExpressionStatement(ne,this.parseExpression())}return this.options.allowImportExportEverywhere||(rt||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),yt===m._import?this.parseImport(ne):this.parseExport(ne,Bt);default:if(this.isAsyncFunction())return k&&this.unexpected(),this.next(),this.parseFunctionStatement(ne,!0,!k);var Pn=this.value,Ln=this.parseExpression();return yt===m.name&&Ln.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(ne,Pn,Ln,k):this.parseExpressionStatement(ne,Ln)}},Mt.parseBreakContinueStatement=function(k,rt){var Bt=rt==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?k.label=null:this.type!==m.name?this.unexpected():(k.label=this.parseIdent(),this.semicolon());for(var yt=0;yt<this.labels.length;++yt){var ne=this.labels[yt];if((k.label==null||ne.name===k.label.name)&&(ne.kind!=null&&(Bt||ne.kind==="loop")||k.label&&Bt))break}return yt===this.labels.length&&this.raise(k.start,"Unsyntactic "+rt),this.finishNode(k,Bt?"BreakStatement":"ContinueStatement")},Mt.parseDebuggerStatement=function(k){return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement")},Mt.parseDoStatement=function(k){return this.next(),this.labels.push(Ot),k.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),k.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(k,"DoWhileStatement")},Mt.parseForStatement=function(k){this.next();var rt=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ot),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return rt>-1&&this.unexpected(rt),this.parseFor(k,null);var Bt=this.isLet();if(this.type===m._var||this.type===m._const||Bt){var yt=this.startNode(),ne=Bt?"let":this.value;return this.next(),this.parseVar(yt,!0,ne),this.finishNode(yt,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&yt.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?rt>-1&&this.unexpected(rt):k.await=rt>-1),this.parseForIn(k,yt)):(rt>-1&&this.unexpected(rt),this.parseFor(k,yt))}var _e=new ot,or=this.parseExpression(!0,_e);return this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===m._in?rt>-1&&this.unexpected(rt):k.await=rt>-1),this.toAssignable(or,!1,_e),this.checkLVal(or),this.parseForIn(k,or)):(this.checkExpressionErrors(_e,!0),rt>-1&&this.unexpected(rt),this.parseFor(k,or))},Mt.parseFunctionStatement=function(k,rt,Bt){return this.next(),this.parseFunction(k,$t|(Bt?0:he),!1,rt)},Mt.parseIfStatement=function(k){return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement("if"),k.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(k,"IfStatement")},Mt.parseReturnStatement=function(k){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement")},Mt.parseSwitchStatement=function(k){this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.expect(m.braceL),this.labels.push(Ft),this.enterScope(0);for(var rt,Bt=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var yt=this.type===m._case;rt&&this.finishNode(rt,"SwitchCase"),k.cases.push(rt=this.startNode()),rt.consequent=[],this.next(),yt?rt.test=this.parseExpression():(Bt&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),Bt=!0,rt.test=null),this.expect(m.colon)}else rt||this.unexpected(),rt.consequent.push(this.parseStatement(null));return this.exitScope(),rt&&this.finishNode(rt,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(k,"SwitchStatement")},Mt.parseThrowStatement=function(k){return this.next(),M.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement")};var zt=[];Mt.parseTryStatement=function(k){if(this.next(),k.block=this.parseBlock(),k.handler=null,this.type===m._catch){var rt=this.startNode();if(this.next(),this.eat(m.parenL)){rt.param=this.parseBindingAtom();var Bt=rt.param.type==="Identifier";this.enterScope(Bt?it:0),this.checkLVal(rt.param,Bt?w:et),this.expect(m.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),rt.param=null,this.enterScope(0);rt.body=this.parseBlock(!1),this.exitScope(),k.handler=this.finishNode(rt,"CatchClause")}return k.finalizer=this.eat(m._finally)?this.parseBlock():null,!k.handler&&!k.finalizer&&this.raise(k.start,"Missing catch or finally clause"),this.finishNode(k,"TryStatement")},Mt.parseVarStatement=function(k,rt){return this.next(),this.parseVar(k,!1,rt),this.semicolon(),this.finishNode(k,"VariableDeclaration")},Mt.parseWhileStatement=function(k){return this.next(),k.test=this.parseParenExpression(),this.labels.push(Ot),k.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(k,"WhileStatement")},Mt.parseWithStatement=function(k){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement("with"),this.finishNode(k,"WithStatement")},Mt.parseEmptyStatement=function(k){return this.next(),this.finishNode(k,"EmptyStatement")},Mt.parseLabeledStatement=function(k,rt,Bt,yt){for(var ne=0,_e=this.labels;ne<_e.length;ne+=1){var or=_e[ne];or.name===rt&&this.raise(Bt.start,"Label '"+rt+"' is already declared")}for(var jr=this.type.isLoop?"loop":this.type===m._switch?"switch":null,_r=this.labels.length-1;_r>=0;_r--){var Pn=this.labels[_r];if(Pn.statementStart===k.start)Pn.statementStart=this.start,Pn.kind=jr;else break}return this.labels.push({name:rt,kind:jr,statementStart:this.start}),k.body=this.parseStatement(yt?yt.indexOf("label")===-1?yt+"label":yt:"label"),this.labels.pop(),k.label=Bt,this.finishNode(k,"LabeledStatement")},Mt.parseExpressionStatement=function(k,rt){return k.expression=rt,this.semicolon(),this.finishNode(k,"ExpressionStatement")},Mt.parseBlock=function(k,rt,Bt){for(k===void 0&&(k=!0),rt===void 0&&(rt=this.startNode()),rt.body=[],this.expect(m.braceL),k&&this.enterScope(0);this.type!==m.braceR;){var yt=this.parseStatement(null);rt.body.push(yt)}return Bt&&(this.strict=!1),this.next(),k&&this.exitScope(),this.finishNode(rt,"BlockStatement")},Mt.parseFor=function(k,rt){return k.init=rt,this.expect(m.semi),k.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),k.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,"ForStatement")},Mt.parseForIn=function(k,rt){var Bt=this.type===m._in;return this.next(),rt.type==="VariableDeclaration"&&rt.declarations[0].init!=null&&(!Bt||this.options.ecmaVersion<8||this.strict||rt.kind!=="var"||rt.declarations[0].id.type!=="Identifier")?this.raise(rt.start,(Bt?"for-in":"for-of")+" loop variable declaration may not have an initializer"):rt.type==="AssignmentPattern"&&this.raise(rt.start,"Invalid left-hand side in for-loop"),k.left=rt,k.right=Bt?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),k.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(k,Bt?"ForInStatement":"ForOfStatement")},Mt.parseVar=function(k,rt,Bt){for(k.declarations=[],k.kind=Bt;;){var yt=this.startNode();if(this.parseVarId(yt,Bt),this.eat(m.eq)?yt.init=this.parseMaybeAssign(rt):Bt==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():yt.id.type!=="Identifier"&&!(rt&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):yt.init=null,k.declarations.push(this.finishNode(yt,"VariableDeclarator")),!this.eat(m.comma))break}return k},Mt.parseVarId=function(k,rt){k.id=this.parseBindingAtom(),this.checkLVal(k.id,rt==="var"?$:et,!1)};var $t=1,he=2,ye=4;Mt.parseFunction=function(k,rt,Bt,yt){this.initFunction(k),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!yt)&&(this.type===m.star&&rt&he&&this.unexpected(),k.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(k.async=!!yt),rt&$t&&(k.id=rt&ye&&this.type!==m.name?null:this.parseIdent(),k.id&&!(rt&he)&&this.checkLVal(k.id,this.strict||k.generator||k.async?this.treatFunctionsAsVar?$:et:j));var ne=this.yieldPos,_e=this.awaitPos,or=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ft(k.async,k.generator)),rt&$t||(k.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(k),this.parseFunctionBody(k,Bt,!1),this.yieldPos=ne,this.awaitPos=_e,this.awaitIdentPos=or,this.finishNode(k,rt&$t?"FunctionDeclaration":"FunctionExpression")},Mt.parseFunctionParams=function(k){this.expect(m.parenL),k.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Mt.parseClass=function(k,rt){this.next();var Bt=this.strict;this.strict=!0,this.parseClassId(k,rt),this.parseClassSuper(k);var yt=this.startNode(),ne=!1;for(yt.body=[],this.expect(m.braceL);this.type!==m.braceR;){var _e=this.parseClassElement(k.superClass!==null);_e&&(yt.body.push(_e),_e.type==="MethodDefinition"&&_e.kind==="constructor"&&(ne&&this.raise(_e.start,"Duplicate constructor in the same class"),ne=!0))}return this.strict=Bt,this.next(),k.body=this.finishNode(yt,"ClassBody"),this.finishNode(k,rt?"ClassDeclaration":"ClassExpression")},Mt.parseClassElement=function(k){var rt=this;if(this.eat(m.semi))return null;var Bt=this.startNode(),yt=function(_r,Pn){Pn===void 0&&(Pn=!1);var Ln=rt.start,Li=rt.startLoc;return rt.eatContextual(_r)?rt.type!==m.parenL&&(!Pn||!rt.canInsertSemicolon())?!0:(Bt.key&&rt.unexpected(),Bt.computed=!1,Bt.key=rt.startNodeAt(Ln,Li),Bt.key.name=_r,rt.finishNode(Bt.key,"Identifier"),!1):!1};Bt.kind="method",Bt.static=yt("static");var ne=this.eat(m.star),_e=!1;ne||(this.options.ecmaVersion>=8&&yt("async",!0)?(_e=!0,ne=this.options.ecmaVersion>=9&&this.eat(m.star)):yt("get")?Bt.kind="get":yt("set")&&(Bt.kind="set")),Bt.key||this.parsePropertyName(Bt);var or=Bt.key,jr=!1;return!Bt.computed&&!Bt.static&&(or.type==="Identifier"&&or.name==="constructor"||or.type==="Literal"&&or.value==="constructor")?(Bt.kind!=="method"&&this.raise(or.start,"Constructor can't have get/set modifier"),ne&&this.raise(or.start,"Constructor can't be a generator"),_e&&this.raise(or.start,"Constructor can't be an async method"),Bt.kind="constructor",jr=k):Bt.static&&or.type==="Identifier"&&or.name==="prototype"&&this.raise(or.start,"Classes may not have a static property named prototype"),this.parseClassMethod(Bt,ne,_e,jr),Bt.kind==="get"&&Bt.value.params.length!==0&&this.raiseRecoverable(Bt.value.start,"getter should have no params"),Bt.kind==="set"&&Bt.value.params.length!==1&&this.raiseRecoverable(Bt.value.start,"setter should have exactly one param"),Bt.kind==="set"&&Bt.value.params[0].type==="RestElement"&&this.raiseRecoverable(Bt.value.params[0].start,"Setter cannot use rest params"),Bt},Mt.parseClassMethod=function(k,rt,Bt,yt){return k.value=this.parseMethod(rt,Bt,yt),this.finishNode(k,"MethodDefinition")},Mt.parseClassId=function(k,rt){this.type===m.name?(k.id=this.parseIdent(),rt&&this.checkLVal(k.id,et,!1)):(rt===!0&&this.unexpected(),k.id=null)},Mt.parseClassSuper=function(k){k.superClass=this.eat(m._extends)?this.parseExprSubscripts():null},Mt.parseExport=function(k,rt){if(this.next(),this.eat(m.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(k.exported=this.parseIdent(!0),this.checkExport(rt,k.exported.name,this.lastTokStart)):k.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),k.source=this.parseExprAtom(),this.semicolon(),this.finishNode(k,"ExportAllDeclaration");if(this.eat(m._default)){this.checkExport(rt,"default",this.lastTokStart);var Bt;if(this.type===m._function||(Bt=this.isAsyncFunction())){var yt=this.startNode();this.next(),Bt&&this.next(),k.declaration=this.parseFunction(yt,$t|ye,!1,Bt)}else if(this.type===m._class){var ne=this.startNode();k.declaration=this.parseClass(ne,"nullableID")}else k.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(k,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())k.declaration=this.parseStatement(null),k.declaration.type==="VariableDeclaration"?this.checkVariableExport(rt,k.declaration.declarations):this.checkExport(rt,k.declaration.id.name,k.declaration.id.start),k.specifiers=[],k.source=null;else{if(k.declaration=null,k.specifiers=this.parseExportSpecifiers(rt),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),k.source=this.parseExprAtom();else{for(var _e=0,or=k.specifiers;_e<or.length;_e+=1){var jr=or[_e];this.checkUnreserved(jr.local),this.checkLocalExport(jr.local)}k.source=null}this.semicolon()}return this.finishNode(k,"ExportNamedDeclaration")},Mt.checkExport=function(k,rt,Bt){!k||(W(k,rt)&&this.raiseRecoverable(Bt,"Duplicate export '"+rt+"'"),k[rt]=!0)},Mt.checkPatternExport=function(k,rt){var Bt=rt.type;if(Bt==="Identifier")this.checkExport(k,rt.name,rt.start);else if(Bt==="ObjectPattern")for(var yt=0,ne=rt.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.checkPatternExport(k,_e)}else if(Bt==="ArrayPattern")for(var or=0,jr=rt.elements;or<jr.length;or+=1){var _r=jr[or];_r&&this.checkPatternExport(k,_r)}else Bt==="Property"?this.checkPatternExport(k,rt.value):Bt==="AssignmentPattern"?this.checkPatternExport(k,rt.left):Bt==="RestElement"?this.checkPatternExport(k,rt.argument):Bt==="ParenthesizedExpression"&&this.checkPatternExport(k,rt.expression)},Mt.checkVariableExport=function(k,rt){if(!!k)for(var Bt=0,yt=rt;Bt<yt.length;Bt+=1){var ne=yt[Bt];this.checkPatternExport(k,ne.id)}},Mt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Mt.parseExportSpecifiers=function(k){var rt=[],Bt=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(Bt)Bt=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var yt=this.startNode();yt.local=this.parseIdent(!0),yt.exported=this.eatContextual("as")?this.parseIdent(!0):yt.local,this.checkExport(k,yt.exported.name,yt.exported.start),rt.push(this.finishNode(yt,"ExportSpecifier"))}return rt},Mt.parseImport=function(k){return this.next(),this.type===m.string?(k.specifiers=zt,k.source=this.parseExprAtom()):(k.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),k.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(k,"ImportDeclaration")},Mt.parseImportSpecifiers=function(){var k=[],rt=!0;if(this.type===m.name){var Bt=this.startNode();if(Bt.local=this.parseIdent(),this.checkLVal(Bt.local,et),k.push(this.finishNode(Bt,"ImportDefaultSpecifier")),!this.eat(m.comma))return k}if(this.type===m.star){var yt=this.startNode();return this.next(),this.expectContextual("as"),yt.local=this.parseIdent(),this.checkLVal(yt.local,et),k.push(this.finishNode(yt,"ImportNamespaceSpecifier")),k}for(this.expect(m.braceL);!this.eat(m.braceR);){if(rt)rt=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var ne=this.startNode();ne.imported=this.parseIdent(!0),this.eatContextual("as")?ne.local=this.parseIdent():(this.checkUnreserved(ne.imported),ne.local=ne.imported),this.checkLVal(ne.local,et),k.push(this.finishNode(ne,"ImportSpecifier"))}return k},Mt.adaptDirectivePrologue=function(k){for(var rt=0;rt<k.length&&this.isDirectiveCandidate(k[rt]);++rt)k[rt].directive=k[rt].expression.raw.slice(1,-1)},Mt.isDirectiveCandidate=function(k){return k.type==="ExpressionStatement"&&k.expression.type==="Literal"&&typeof k.expression.value=="string"&&(this.input[k.start]==='"'||this.input[k.start]==="'")};var tr=V.prototype;tr.toAssignable=function(k,rt,Bt){if(this.options.ecmaVersion>=6&&k)switch(k.type){case"Identifier":this.inAsync&&k.name==="await"&&this.raise(k.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":k.type="ObjectPattern",Bt&&this.checkPatternErrors(Bt,!0);for(var yt=0,ne=k.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.toAssignable(_e,rt),_e.type==="RestElement"&&(_e.argument.type==="ArrayPattern"||_e.argument.type==="ObjectPattern")&&this.raise(_e.argument.start,"Unexpected token")}break;case"Property":k.kind!=="init"&&this.raise(k.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(k.value,rt);break;case"ArrayExpression":k.type="ArrayPattern",Bt&&this.checkPatternErrors(Bt,!0),this.toAssignableList(k.elements,rt);break;case"SpreadElement":k.type="RestElement",this.toAssignable(k.argument,rt),k.argument.type==="AssignmentPattern"&&this.raise(k.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":k.operator!=="="&&this.raise(k.left.end,"Only '=' operator can be used for specifying default value."),k.type="AssignmentPattern",delete k.operator,this.toAssignable(k.left,rt);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(k.expression,rt,Bt);break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!rt)break;default:this.raise(k.start,"Assigning to rvalue")}else Bt&&this.checkPatternErrors(Bt,!0);return k},tr.toAssignableList=function(k,rt){for(var Bt=k.length,yt=0;yt<Bt;yt++){var ne=k[yt];ne&&this.toAssignable(ne,rt)}if(Bt){var _e=k[Bt-1];this.options.ecmaVersion===6&&rt&&_e&&_e.type==="RestElement"&&_e.argument.type!=="Identifier"&&this.unexpected(_e.argument.start)}return k},tr.parseSpread=function(k){var rt=this.startNode();return this.next(),rt.argument=this.parseMaybeAssign(!1,k),this.finishNode(rt,"SpreadElement")},tr.parseRestBinding=function(){var k=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),k.argument=this.parseBindingAtom(),this.finishNode(k,"RestElement")},tr.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var k=this.startNode();return this.next(),k.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(k,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()},tr.parseBindingList=function(k,rt,Bt){for(var yt=[],ne=!0;!this.eat(k);)if(ne?ne=!1:this.expect(m.comma),rt&&this.type===m.comma)yt.push(null);else{if(Bt&&this.afterTrailingComma(k))break;if(this.type===m.ellipsis){var _e=this.parseRestBinding();this.parseBindingListItem(_e),yt.push(_e),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(k);break}else{var or=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(or),yt.push(or)}}return yt},tr.parseBindingListItem=function(k){return k},tr.parseMaybeDefault=function(k,rt,Bt){if(Bt=Bt||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return Bt;var yt=this.startNodeAt(k,rt);return yt.left=Bt,yt.right=this.parseMaybeAssign(),this.finishNode(yt,"AssignmentPattern")},tr.checkLVal=function(k,rt,Bt){switch(rt===void 0&&(rt=K),k.type){case"Identifier":rt===et&&k.name==="let"&&this.raiseRecoverable(k.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(k.name)&&this.raiseRecoverable(k.start,(rt?"Binding ":"Assigning to ")+k.name+" in strict mode"),Bt&&(W(Bt,k.name)&&this.raiseRecoverable(k.start,"Argument name clash"),Bt[k.name]=!0),rt!==K&&rt!==D&&this.declareName(k.name,rt,k.start);break;case"ChainExpression":this.raiseRecoverable(k.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":rt&&this.raiseRecoverable(k.start,"Binding member expression");break;case"ObjectPattern":for(var yt=0,ne=k.properties;yt<ne.length;yt+=1){var _e=ne[yt];this.checkLVal(_e,rt,Bt)}break;case"Property":this.checkLVal(k.value,rt,Bt);break;case"ArrayPattern":for(var or=0,jr=k.elements;or<jr.length;or+=1){var _r=jr[or];_r&&this.checkLVal(_r,rt,Bt)}break;case"AssignmentPattern":this.checkLVal(k.left,rt,Bt);break;case"RestElement":this.checkLVal(k.argument,rt,Bt);break;case"ParenthesizedExpression":this.checkLVal(k.expression,rt,Bt);break;default:this.raise(k.start,(rt?"Binding":"Assigning to")+" rvalue")}};var nr=V.prototype;nr.checkPropClash=function(k,rt,Bt){if(!(this.options.ecmaVersion>=9&&k.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(k.computed||k.method||k.shorthand))){var yt=k.key,ne;switch(yt.type){case"Identifier":ne=yt.name;break;case"Literal":ne=String(yt.value);break;default:return}var _e=k.kind;if(this.options.ecmaVersion>=6){ne==="__proto__"&&_e==="init"&&(rt.proto&&(Bt?Bt.doubleProto<0&&(Bt.doubleProto=yt.start):this.raiseRecoverable(yt.start,"Redefinition of __proto__ property")),rt.proto=!0);return}ne="$"+ne;var or=rt[ne];if(or){var jr;_e==="init"?jr=this.strict&&or.init||or.get||or.set:jr=or.init||or[_e],jr&&this.raiseRecoverable(yt.start,"Redefinition of property")}else or=rt[ne]={init:!1,get:!1,set:!1};or[_e]=!0}},nr.parseExpression=function(k,rt){var Bt=this.start,yt=this.startLoc,ne=this.parseMaybeAssign(k,rt);if(this.type===m.comma){var _e=this.startNodeAt(Bt,yt);for(_e.expressions=[ne];this.eat(m.comma);)_e.expressions.push(this.parseMaybeAssign(k,rt));return this.finishNode(_e,"SequenceExpression")}return ne},nr.parseMaybeAssign=function(k,rt,Bt){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(k);this.exprAllowed=!1}var yt=!1,ne=-1,_e=-1;rt?(ne=rt.parenthesizedAssign,_e=rt.trailingComma,rt.parenthesizedAssign=rt.trailingComma=-1):(rt=new ot,yt=!0);var or=this.start,jr=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start);var _r=this.parseMaybeConditional(k,rt);if(Bt&&(_r=Bt.call(this,_r,or,jr)),this.type.isAssign){var Pn=this.startNodeAt(or,jr);return Pn.operator=this.value,Pn.left=this.type===m.eq?this.toAssignable(_r,!1,rt):_r,yt||(rt.parenthesizedAssign=rt.trailingComma=rt.doubleProto=-1),rt.shorthandAssign>=Pn.left.start&&(rt.shorthandAssign=-1),this.checkLVal(_r),this.next(),Pn.right=this.parseMaybeAssign(k),this.finishNode(Pn,"AssignmentExpression")}else yt&&this.checkExpressionErrors(rt,!0);return ne>-1&&(rt.parenthesizedAssign=ne),_e>-1&&(rt.trailingComma=_e),_r},nr.parseMaybeConditional=function(k,rt){var Bt=this.start,yt=this.startLoc,ne=this.parseExprOps(k,rt);if(this.checkExpressionErrors(rt))return ne;if(this.eat(m.question)){var _e=this.startNodeAt(Bt,yt);return _e.test=ne,_e.consequent=this.parseMaybeAssign(),this.expect(m.colon),_e.alternate=this.parseMaybeAssign(k),this.finishNode(_e,"ConditionalExpression")}return ne},nr.parseExprOps=function(k,rt){var Bt=this.start,yt=this.startLoc,ne=this.parseMaybeUnary(rt,!1);return this.checkExpressionErrors(rt)||ne.start===Bt&&ne.type==="ArrowFunctionExpression"?ne:this.parseExprOp(ne,Bt,yt,-1,k)},nr.parseExprOp=function(k,rt,Bt,yt,ne){var _e=this.type.binop;if(_e!=null&&(!ne||this.type!==m._in)&&_e>yt){var or=this.type===m.logicalOR||this.type===m.logicalAND,jr=this.type===m.coalesce;jr&&(_e=m.logicalAND.binop);var _r=this.value;this.next();var Pn=this.start,Ln=this.startLoc,Li=this.parseExprOp(this.parseMaybeUnary(null,!1),Pn,Ln,_e,ne),sa=this.buildBinary(rt,Bt,k,Li,_r,or||jr);return(or&&this.type===m.coalesce||jr&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(sa,rt,Bt,yt,ne)}return k},nr.buildBinary=function(k,rt,Bt,yt,ne,_e){var or=this.startNodeAt(k,rt);return or.left=Bt,or.operator=ne,or.right=yt,this.finishNode(or,_e?"LogicalExpression":"BinaryExpression")},nr.parseMaybeUnary=function(k,rt){var Bt=this.start,yt=this.startLoc,ne;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))ne=this.parseAwait(),rt=!0;else if(this.type.prefix){var _e=this.startNode(),or=this.type===m.incDec;_e.operator=this.value,_e.prefix=!0,this.next(),_e.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(k,!0),or?this.checkLVal(_e.argument):this.strict&&_e.operator==="delete"&&_e.argument.type==="Identifier"?this.raiseRecoverable(_e.start,"Deleting local variable in strict mode"):rt=!0,ne=this.finishNode(_e,or?"UpdateExpression":"UnaryExpression")}else{if(ne=this.parseExprSubscripts(k),this.checkExpressionErrors(k))return ne;for(;this.type.postfix&&!this.canInsertSemicolon();){var jr=this.startNodeAt(Bt,yt);jr.operator=this.value,jr.prefix=!1,jr.argument=ne,this.checkLVal(ne),this.next(),ne=this.finishNode(jr,"UpdateExpression")}}return!rt&&this.eat(m.starstar)?this.buildBinary(Bt,yt,ne,this.parseMaybeUnary(null,!1),"**",!1):ne},nr.parseExprSubscripts=function(k){var rt=this.start,Bt=this.startLoc,yt=this.parseExprAtom(k);if(yt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return yt;var ne=this.parseSubscripts(yt,rt,Bt);return k&&ne.type==="MemberExpression"&&(k.parenthesizedAssign>=ne.start&&(k.parenthesizedAssign=-1),k.parenthesizedBind>=ne.start&&(k.parenthesizedBind=-1)),ne},nr.parseSubscripts=function(k,rt,Bt,yt){for(var ne=this.options.ecmaVersion>=8&&k.type==="Identifier"&&k.name==="async"&&this.lastTokEnd===k.end&&!this.canInsertSemicolon()&&k.end-k.start==5&&this.potentialArrowAt===k.start,_e=!1;;){var or=this.parseSubscript(k,rt,Bt,yt,ne,_e);if(or.optional&&(_e=!0),or===k||or.type==="ArrowFunctionExpression"){if(_e){var jr=this.startNodeAt(rt,Bt);jr.expression=or,or=this.finishNode(jr,"ChainExpression")}return or}k=or}},nr.parseSubscript=function(k,rt,Bt,yt,ne,_e){var or=this.options.ecmaVersion>=11,jr=or&&this.eat(m.questionDot);yt&&jr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _r=this.eat(m.bracketL);if(_r||jr&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var Pn=this.startNodeAt(rt,Bt);Pn.object=k,Pn.property=_r?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),Pn.computed=!!_r,_r&&this.expect(m.bracketR),or&&(Pn.optional=jr),k=this.finishNode(Pn,"MemberExpression")}else if(!yt&&this.eat(m.parenL)){var Ln=new ot,Li=this.yieldPos,sa=this.awaitPos,Ki=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Ea=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,Ln);if(ne&&!jr&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(Ln,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Li,this.awaitPos=sa,this.awaitIdentPos=Ki,this.parseArrowExpression(this.startNodeAt(rt,Bt),Ea,!0);this.checkExpressionErrors(Ln,!0),this.yieldPos=Li||this.yieldPos,this.awaitPos=sa||this.awaitPos,this.awaitIdentPos=Ki||this.awaitIdentPos;var pa=this.startNodeAt(rt,Bt);pa.callee=k,pa.arguments=Ea,or&&(pa.optional=jr),k=this.finishNode(pa,"CallExpression")}else if(this.type===m.backQuote){(jr||_e)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Fa=this.startNodeAt(rt,Bt);Fa.tag=k,Fa.quasi=this.parseTemplate({isTagged:!0}),k=this.finishNode(Fa,"TaggedTemplateExpression")}return k},nr.parseExprAtom=function(k){this.type===m.slash&&this.readRegexp();var rt,Bt=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),rt=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(rt.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(rt,"Super");case m._this:return rt=this.startNode(),this.next(),this.finishNode(rt,"ThisExpression");case m.name:var yt=this.start,ne=this.startLoc,_e=this.containsEsc,or=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_e&&or.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.parseFunction(this.startNodeAt(yt,ne),0,!1,!0);if(Bt&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(yt,ne),[or],!1);if(this.options.ecmaVersion>=8&&or.name==="async"&&this.type===m.name&&!_e)return or=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(yt,ne),[or],!0)}return or;case m.regexp:var jr=this.value;return rt=this.parseLiteral(jr.value),rt.regex={pattern:jr.pattern,flags:jr.flags},rt;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return rt=this.startNode(),rt.value=this.type===m._null?null:this.type===m._true,rt.raw=this.type.keyword,this.next(),this.finishNode(rt,"Literal");case m.parenL:var _r=this.start,Pn=this.parseParenAndDistinguishExpression(Bt);return k&&(k.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Pn)&&(k.parenthesizedAssign=_r),k.parenthesizedBind<0&&(k.parenthesizedBind=_r)),Pn;case m.bracketL:return rt=this.startNode(),this.next(),rt.elements=this.parseExprList(m.bracketR,!0,!0,k),this.finishNode(rt,"ArrayExpression");case m.braceL:return this.parseObj(!1,k);case m._function:return rt=this.startNode(),this.next(),this.parseFunction(rt,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},nr.parseExprImport=function(){var k=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var rt=this.parseIdent(!0);switch(this.type){case m.parenL:return this.parseDynamicImport(k);case m.dot:return k.meta=rt,this.parseImportMeta(k);default:this.unexpected()}},nr.parseDynamicImport=function(k){if(this.next(),k.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var rt=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(rt,"Trailing comma is not allowed in import()"):this.unexpected(rt)}return this.finishNode(k,"ImportExpression")},nr.parseImportMeta=function(k){this.next();var rt=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="meta"&&this.raiseRecoverable(k.property.start,"The only valid meta property for import is 'import.meta'"),rt&&this.raiseRecoverable(k.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&this.raiseRecoverable(k.start,"Cannot use 'import.meta' outside a module"),this.finishNode(k,"MetaProperty")},nr.parseLiteral=function(k){var rt=this.startNode();return rt.value=k,rt.raw=this.input.slice(this.start,this.end),rt.raw.charCodeAt(rt.raw.length-1)===110&&(rt.bigint=rt.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(rt,"Literal")},nr.parseParenExpression=function(){this.expect(m.parenL);var k=this.parseExpression();return this.expect(m.parenR),k},nr.parseParenAndDistinguishExpression=function(k){var rt=this.start,Bt=this.startLoc,yt,ne=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var _e=this.start,or=this.startLoc,jr=[],_r=!0,Pn=!1,Ln=new ot,Li=this.yieldPos,sa=this.awaitPos,Ki;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(_r?_r=!1:this.expect(m.comma),ne&&this.afterTrailingComma(m.parenR,!0)){Pn=!0;break}else if(this.type===m.ellipsis){Ki=this.start,jr.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else jr.push(this.parseMaybeAssign(!1,Ln,this.parseParenItem));var Ea=this.start,pa=this.startLoc;if(this.expect(m.parenR),k&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(Ln,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Li,this.awaitPos=sa,this.parseParenArrowList(rt,Bt,jr);(!jr.length||Pn)&&this.unexpected(this.lastTokStart),Ki&&this.unexpected(Ki),this.checkExpressionErrors(Ln,!0),this.yieldPos=Li||this.yieldPos,this.awaitPos=sa||this.awaitPos,jr.length>1?(yt=this.startNodeAt(_e,or),yt.expressions=jr,this.finishNodeAt(yt,"SequenceExpression",Ea,pa)):yt=jr[0]}else yt=this.parseParenExpression();if(this.options.preserveParens){var Fa=this.startNodeAt(rt,Bt);return Fa.expression=yt,this.finishNode(Fa,"ParenthesizedExpression")}else return yt},nr.parseParenItem=function(k){return k},nr.parseParenArrowList=function(k,rt,Bt){return this.parseArrowExpression(this.startNodeAt(k,rt),Bt)};var Xe=[];nr.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var k=this.startNode(),rt=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){k.meta=rt;var Bt=this.containsEsc;return k.property=this.parseIdent(!0),k.property.name!=="target"&&this.raiseRecoverable(k.property.start,"The only valid meta property for new is 'new.target'"),Bt&&this.raiseRecoverable(k.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(k.start,"'new.target' can only be used in functions"),this.finishNode(k,"MetaProperty")}var yt=this.start,ne=this.startLoc,_e=this.type===m._import;return k.callee=this.parseSubscripts(this.parseExprAtom(),yt,ne,!0),_e&&k.callee.type==="ImportExpression"&&this.raise(yt,"Cannot use new with import()"),this.eat(m.parenL)?k.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):k.arguments=Xe,this.finishNode(k,"NewExpression")},nr.parseTemplateElement=function(k){var rt=k.isTagged,Bt=this.startNode();return this.type===m.invalidTemplate?(rt||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),Bt.value={raw:this.value,cooked:null}):Bt.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),Bt.tail=this.type===m.backQuote,this.finishNode(Bt,"TemplateElement")},nr.parseTemplate=function(k){k===void 0&&(k={});var rt=k.isTagged;rt===void 0&&(rt=!1);var Bt=this.startNode();this.next(),Bt.expressions=[];var yt=this.parseTemplateElement({isTagged:rt});for(Bt.quasis=[yt];!yt.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),Bt.expressions.push(this.parseExpression()),this.expect(m.braceR),Bt.quasis.push(yt=this.parseTemplateElement({isTagged:rt}));return this.next(),this.finishNode(Bt,"TemplateLiteral")},nr.isAsyncProp=function(k){return!k.computed&&k.key.type==="Identifier"&&k.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!M.test(this.input.slice(this.lastTokEnd,this.start))},nr.parseObj=function(k,rt){var Bt=this.startNode(),yt=!0,ne={};for(Bt.properties=[],this.next();!this.eat(m.braceR);){if(yt)yt=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var _e=this.parseProperty(k,rt);k||this.checkPropClash(_e,ne,rt),Bt.properties.push(_e)}return this.finishNode(Bt,k?"ObjectPattern":"ObjectExpression")},nr.parseProperty=function(k,rt){var Bt=this.startNode(),yt,ne,_e,or;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return k?(Bt.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(Bt,"RestElement")):(this.type===m.parenL&&rt&&(rt.parenthesizedAssign<0&&(rt.parenthesizedAssign=this.start),rt.parenthesizedBind<0&&(rt.parenthesizedBind=this.start)),Bt.argument=this.parseMaybeAssign(!1,rt),this.type===m.comma&&rt&&rt.trailingComma<0&&(rt.trailingComma=this.start),this.finishNode(Bt,"SpreadElement"));this.options.ecmaVersion>=6&&(Bt.method=!1,Bt.shorthand=!1,(k||rt)&&(_e=this.start,or=this.startLoc),k||(yt=this.eat(m.star)));var jr=this.containsEsc;return this.parsePropertyName(Bt),!k&&!jr&&this.options.ecmaVersion>=8&&!yt&&this.isAsyncProp(Bt)?(ne=!0,yt=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(Bt,rt)):ne=!1,this.parsePropertyValue(Bt,k,yt,ne,_e,or,rt,jr),this.finishNode(Bt,"Property")},nr.parsePropertyValue=function(k,rt,Bt,yt,ne,_e,or,jr){if((Bt||yt)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon))k.value=rt?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,or),k.kind="init";else if(this.options.ecmaVersion>=6&&this.type===m.parenL)rt&&this.unexpected(),k.kind="init",k.method=!0,k.value=this.parseMethod(Bt,yt);else if(!rt&&!jr&&this.options.ecmaVersion>=5&&!k.computed&&k.key.type==="Identifier"&&(k.key.name==="get"||k.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq){(Bt||yt)&&this.unexpected(),k.kind=k.key.name,this.parsePropertyName(k),k.value=this.parseMethod(!1);var _r=k.kind==="get"?0:1;if(k.value.params.length!==_r){var Pn=k.value.start;k.kind==="get"?this.raiseRecoverable(Pn,"getter should have no params"):this.raiseRecoverable(Pn,"setter should have exactly one param")}else k.kind==="set"&&k.value.params[0].type==="RestElement"&&this.raiseRecoverable(k.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!k.computed&&k.key.type==="Identifier"?((Bt||yt)&&this.unexpected(),this.checkUnreserved(k.key),k.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ne),k.kind="init",rt?k.value=this.parseMaybeDefault(ne,_e,k.key):this.type===m.eq&&or?(or.shorthandAssign<0&&(or.shorthandAssign=this.start),k.value=this.parseMaybeDefault(ne,_e,k.key)):k.value=k.key,k.shorthand=!0):this.unexpected()},nr.parsePropertyName=function(k){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return k.computed=!0,k.key=this.parseMaybeAssign(),this.expect(m.bracketR),k.key;k.computed=!1}return k.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},nr.initFunction=function(k){k.id=null,this.options.ecmaVersion>=6&&(k.generator=k.expression=!1),this.options.ecmaVersion>=8&&(k.async=!1)},nr.parseMethod=function(k,rt,Bt){var yt=this.startNode(),ne=this.yieldPos,_e=this.awaitPos,or=this.awaitIdentPos;return this.initFunction(yt),this.options.ecmaVersion>=6&&(yt.generator=k),this.options.ecmaVersion>=8&&(yt.async=!!rt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ft(rt,yt.generator)|H|(Bt?ct:0)),this.expect(m.parenL),yt.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(yt,!1,!0),this.yieldPos=ne,this.awaitPos=_e,this.awaitIdentPos=or,this.finishNode(yt,"FunctionExpression")},nr.parseArrowExpression=function(k,rt,Bt){var yt=this.yieldPos,ne=this.awaitPos,_e=this.awaitIdentPos;return this.enterScope(ft(Bt,!1)|N),this.initFunction(k),this.options.ecmaVersion>=8&&(k.async=!!Bt),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,k.params=this.toAssignableList(rt,!0),this.parseFunctionBody(k,!0,!1),this.yieldPos=yt,this.awaitPos=ne,this.awaitIdentPos=_e,this.finishNode(k,"ArrowFunctionExpression")},nr.parseFunctionBody=function(k,rt,Bt){var yt=rt&&this.type!==m.braceL,ne=this.strict,_e=!1;if(yt)k.body=this.parseMaybeAssign(),k.expression=!0,this.checkParams(k,!1);else{var or=this.options.ecmaVersion>=7&&!this.isSimpleParamList(k.params);(!ne||or)&&(_e=this.strictDirective(this.end),_e&&or&&this.raiseRecoverable(k.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var jr=this.labels;this.labels=[],_e&&(this.strict=!0),this.checkParams(k,!ne&&!_e&&!rt&&!Bt&&this.isSimpleParamList(k.params)),this.strict&&k.id&&this.checkLVal(k.id,D),k.body=this.parseBlock(!1,void 0,_e&&!ne),k.expression=!1,this.adaptDirectivePrologue(k.body.body),this.labels=jr}this.exitScope()},nr.isSimpleParamList=function(k){for(var rt=0,Bt=k;rt<Bt.length;rt+=1){var yt=Bt[rt];if(yt.type!=="Identifier")return!1}return!0},nr.checkParams=function(k,rt){for(var Bt={},yt=0,ne=k.params;yt<ne.length;yt+=1){var _e=ne[yt];this.checkLVal(_e,$,rt?null:Bt)}},nr.parseExprList=function(k,rt,Bt,yt){for(var ne=[],_e=!0;!this.eat(k);){if(_e)_e=!1;else if(this.expect(m.comma),rt&&this.afterTrailingComma(k))break;var or=void 0;Bt&&this.type===m.comma?or=null:this.type===m.ellipsis?(or=this.parseSpread(yt),yt&&this.type===m.comma&&yt.trailingComma<0&&(yt.trailingComma=this.start)):or=this.parseMaybeAssign(!1,yt),ne.push(or)}return ne},nr.checkUnreserved=function(k){var rt=k.start,Bt=k.end,yt=k.name;if(this.inGenerator&&yt==="yield"&&this.raiseRecoverable(rt,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&yt==="await"&&this.raiseRecoverable(rt,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(yt)&&this.raise(rt,"Unexpected keyword '"+yt+"'"),!(this.options.ecmaVersion<6&&this.input.slice(rt,Bt).indexOf("\\")!==-1)){var ne=this.strict?this.reservedWordsStrict:this.reservedWords;ne.test(yt)&&(!this.inAsync&&yt==="await"&&this.raiseRecoverable(rt,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(rt,"The keyword '"+yt+"' is reserved"))}},nr.parseIdent=function(k,rt){var Bt=this.startNode();return this.type===m.name?Bt.name=this.value:this.type.keyword?(Bt.name=this.type.keyword,(Bt.name==="class"||Bt.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!k),this.finishNode(Bt,"Identifier"),k||(this.checkUnreserved(Bt),Bt.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Bt.start)),Bt},nr.parseYield=function(k){this.yieldPos||(this.yieldPos=this.start);var rt=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(rt.delegate=!1,rt.argument=null):(rt.delegate=this.eat(m.star),rt.argument=this.parseMaybeAssign(k)),this.finishNode(rt,"YieldExpression")},nr.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var k=this.startNode();return this.next(),k.argument=this.parseMaybeUnary(null,!1),this.finishNode(k,"AwaitExpression")};var yr=V.prototype;yr.raise=function(k,rt){var Bt=ht(this.input,k);rt+=" ("+Bt.line+":"+Bt.column+")";var yt=new SyntaxError(rt);throw yt.pos=k,yt.loc=Bt,yt.raisedAt=this.pos,yt},yr.raiseRecoverable=yr.raise,yr.curPosition=function(){if(this.options.locations)return new Z(this.curLine,this.pos-this.lineStart)};var Vr=V.prototype,Ee=function(rt){this.flags=rt,this.var=[],this.lexical=[],this.functions=[]};Vr.enterScope=function(k){this.scopeStack.push(new Ee(k))},Vr.exitScope=function(){this.scopeStack.pop()},Vr.treatFunctionsAsVarInScope=function(k){return k.flags&Nt||!this.inModule&&k.flags&kt},Vr.declareName=function(k,rt,Bt){var yt=!1;if(rt===et){var ne=this.currentScope();yt=ne.lexical.indexOf(k)>-1||ne.functions.indexOf(k)>-1||ne.var.indexOf(k)>-1,ne.lexical.push(k),this.inModule&&ne.flags&kt&&delete this.undefinedExports[k]}else if(rt===w){var _e=this.currentScope();_e.lexical.push(k)}else if(rt===j){var or=this.currentScope();this.treatFunctionsAsVar?yt=or.lexical.indexOf(k)>-1:yt=or.lexical.indexOf(k)>-1||or.var.indexOf(k)>-1,or.functions.push(k)}else for(var jr=this.scopeStack.length-1;jr>=0;--jr){var _r=this.scopeStack[jr];if(_r.lexical.indexOf(k)>-1&&!(_r.flags&it&&_r.lexical[0]===k)||!this.treatFunctionsAsVarInScope(_r)&&_r.functions.indexOf(k)>-1){yt=!0;break}if(_r.var.push(k),this.inModule&&_r.flags&kt&&delete this.undefinedExports[k],_r.flags&nt)break}yt&&this.raiseRecoverable(Bt,"Identifier '"+k+"' has already been declared")},Vr.checkLocalExport=function(k){this.scopeStack[0].lexical.indexOf(k.name)===-1&&this.scopeStack[0].var.indexOf(k.name)===-1&&(this.undefinedExports[k.name]=k)},Vr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Vr.currentVarScope=function(){for(var k=this.scopeStack.length-1;;k--){var rt=this.scopeStack[k];if(rt.flags&nt)return rt}},Vr.currentThisScope=function(){for(var k=this.scopeStack.length-1;;k--){var rt=this.scopeStack[k];if(rt.flags&nt&&!(rt.flags&N))return rt}};var de=function(rt,Bt,yt){this.type="",this.start=Bt,this.end=0,rt.options.locations&&(this.loc=new J(rt,yt)),rt.options.directSourceFile&&(this.sourceFile=rt.options.directSourceFile),rt.options.ranges&&(this.range=[Bt,0])},Ge=V.prototype;Ge.startNode=function(){return new de(this,this.start,this.startLoc)},Ge.startNodeAt=function(k,rt){return new de(this,k,rt)};function ke(k,rt,Bt,yt){return k.type=rt,k.end=Bt,this.options.locations&&(k.loc.end=yt),this.options.ranges&&(k.range[1]=Bt),k}Ge.finishNode=function(k,rt){return ke.call(this,k,rt,this.lastTokEnd,this.lastTokEndLoc)},Ge.finishNodeAt=function(k,rt,Bt,yt){return ke.call(this,k,rt,Bt,yt)};var Kr=function(rt,Bt,yt,ne,_e){this.token=rt,this.isExpr=!!Bt,this.preserveSpace=!!yt,this.override=ne,this.generator=!!_e},fn={b_stat:new Kr("{",!1),b_expr:new Kr("{",!0),b_tmpl:new Kr("${",!1),p_stat:new Kr("(",!1),p_expr:new Kr("(",!0),q_tmpl:new Kr("`",!0,!0,function(k){return k.tryReadTemplateToken()}),f_stat:new Kr("function",!1),f_expr:new Kr("function",!0),f_expr_gen:new Kr("function",!0,!1,null,!0),f_gen:new Kr("function",!1,!1,null,!0)},pi=V.prototype;pi.initialContext=function(){return[fn.b_stat]},pi.braceIsBlock=function(k){var rt=this.curContext();return rt===fn.f_expr||rt===fn.f_stat?!0:k===m.colon&&(rt===fn.b_stat||rt===fn.b_expr)?!rt.isExpr:k===m._return||k===m.name&&this.exprAllowed?M.test(this.input.slice(this.lastTokEnd,this.start)):k===m._else||k===m.semi||k===m.eof||k===m.parenR||k===m.arrow?!0:k===m.braceL?rt===fn.b_stat:k===m._var||k===m._const||k===m.name?!1:!this.exprAllowed},pi.inGeneratorContext=function(){for(var k=this.context.length-1;k>=1;k--){var rt=this.context[k];if(rt.token==="function")return rt.generator}return!1},pi.updateContext=function(k){var rt,Bt=this.type;Bt.keyword&&k===m.dot?this.exprAllowed=!1:(rt=Bt.updateContext)?rt.call(this,k):this.exprAllowed=Bt.beforeExpr},m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var k=this.context.pop();k===fn.b_stat&&this.curContext().token==="function"&&(k=this.context.pop()),this.exprAllowed=!k.isExpr},m.braceL.updateContext=function(k){this.context.push(this.braceIsBlock(k)?fn.b_stat:fn.b_expr),this.exprAllowed=!0},m.dollarBraceL.updateContext=function(){this.context.push(fn.b_tmpl),this.exprAllowed=!0},m.parenL.updateContext=function(k){var rt=k===m._if||k===m._for||k===m._with||k===m._while;this.context.push(rt?fn.p_stat:fn.p_expr),this.exprAllowed=!0},m.incDec.updateContext=function(){},m._function.updateContext=m._class.updateContext=function(k){k.beforeExpr&&k!==m.semi&&k!==m._else&&!(k===m._return&&M.test(this.input.slice(this.lastTokEnd,this.start)))&&!((k===m.colon||k===m.braceL)&&this.curContext()===fn.b_stat)?this.context.push(fn.f_expr):this.context.push(fn.f_stat),this.exprAllowed=!1},m.backQuote.updateContext=function(){this.curContext()===fn.q_tmpl?this.context.pop():this.context.push(fn.q_tmpl),this.exprAllowed=!1},m.star.updateContext=function(k){if(k===m._function){var rt=this.context.length-1;this.context[rt]===fn.f_expr?this.context[rt]=fn.f_expr_gen:this.context[rt]=fn.f_gen}this.exprAllowed=!0},m.name.updateContext=function(k){var rt=!1;this.options.ecmaVersion>=6&&k!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(rt=!0),this.exprAllowed=rt};var Vi="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ea=Vi+" Extended_Pictographic",zi=ea,Te={9:Vi,10:ea,11:zi},Be="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",lr="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Or=lr+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",sr=Or+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Dr={9:lr,10:Or,11:sr},En={};function Yn(k){var rt=En[k]={binary:X(Te[k]+" "+Be),nonBinary:{General_Category:X(Be),Script:X(Dr[k])}};rt.nonBinary.Script_Extensions=rt.nonBinary.Script,rt.nonBinary.gc=rt.nonBinary.General_Category,rt.nonBinary.sc=rt.nonBinary.Script,rt.nonBinary.scx=rt.nonBinary.Script_Extensions}Yn(9),Yn(10),Yn(11);var ln=V.prototype,Jr=function(rt){this.parser=rt,this.validFlags="gim"+(rt.options.ecmaVersion>=6?"uy":"")+(rt.options.ecmaVersion>=9?"s":""),this.unicodeProperties=En[rt.options.ecmaVersion>=11?11:rt.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Jr.prototype.reset=function(rt,Bt,yt){var ne=yt.indexOf("u")!==-1;this.start=rt|0,this.source=Bt+"",this.flags=yt,this.switchU=ne&&this.parser.options.ecmaVersion>=6,this.switchN=ne&&this.parser.options.ecmaVersion>=9},Jr.prototype.raise=function(rt){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+rt)},Jr.prototype.at=function(rt,Bt){Bt===void 0&&(Bt=!1);var yt=this.source,ne=yt.length;if(rt>=ne)return-1;var _e=yt.charCodeAt(rt);if(!(Bt||this.switchU)||_e<=55295||_e>=57344||rt+1>=ne)return _e;var or=yt.charCodeAt(rt+1);return or>=56320&&or<=57343?(_e<<10)+or-56613888:_e},Jr.prototype.nextIndex=function(rt,Bt){Bt===void 0&&(Bt=!1);var yt=this.source,ne=yt.length;if(rt>=ne)return ne;var _e=yt.charCodeAt(rt),or;return!(Bt||this.switchU)||_e<=55295||_e>=57344||rt+1>=ne||(or=yt.charCodeAt(rt+1))<56320||or>57343?rt+1:rt+2},Jr.prototype.current=function(rt){return rt===void 0&&(rt=!1),this.at(this.pos,rt)},Jr.prototype.lookahead=function(rt){return rt===void 0&&(rt=!1),this.at(this.nextIndex(this.pos,rt),rt)},Jr.prototype.advance=function(rt){rt===void 0&&(rt=!1),this.pos=this.nextIndex(this.pos,rt)},Jr.prototype.eat=function(rt,Bt){return Bt===void 0&&(Bt=!1),this.current(Bt)===rt?(this.advance(Bt),!0):!1};function Wn(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}ln.validateRegExpFlags=function(k){for(var rt=k.validFlags,Bt=k.flags,yt=0;yt<Bt.length;yt++){var ne=Bt.charAt(yt);rt.indexOf(ne)===-1&&this.raise(k.start,"Invalid regular expression flag"),Bt.indexOf(ne,yt+1)>-1&&this.raise(k.start,"Duplicate regular expression flag")}},ln.validateRegExpPattern=function(k){this.regexp_pattern(k),!k.switchN&&this.options.ecmaVersion>=9&&k.groupNames.length>0&&(k.switchN=!0,this.regexp_pattern(k))},ln.regexp_pattern=function(k){k.pos=0,k.lastIntValue=0,k.lastStringValue="",k.lastAssertionIsQuantifiable=!1,k.numCapturingParens=0,k.maxBackReference=0,k.groupNames.length=0,k.backReferenceNames.length=0,this.regexp_disjunction(k),k.pos!==k.source.length&&(k.eat(41)&&k.raise("Unmatched ')'"),(k.eat(93)||k.eat(125))&&k.raise("Lone quantifier brackets")),k.maxBackReference>k.numCapturingParens&&k.raise("Invalid escape");for(var rt=0,Bt=k.backReferenceNames;rt<Bt.length;rt+=1){var yt=Bt[rt];k.groupNames.indexOf(yt)===-1&&k.raise("Invalid named capture referenced")}},ln.regexp_disjunction=function(k){for(this.regexp_alternative(k);k.eat(124);)this.regexp_alternative(k);this.regexp_eatQuantifier(k,!0)&&k.raise("Nothing to repeat"),k.eat(123)&&k.raise("Lone quantifier brackets")},ln.regexp_alternative=function(k){for(;k.pos<k.source.length&&this.regexp_eatTerm(k););},ln.regexp_eatTerm=function(k){return this.regexp_eatAssertion(k)?(k.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(k)&&k.switchU&&k.raise("Invalid quantifier"),!0):(k.switchU?this.regexp_eatAtom(k):this.regexp_eatExtendedAtom(k))?(this.regexp_eatQuantifier(k),!0):!1},ln.regexp_eatAssertion=function(k){var rt=k.pos;if(k.lastAssertionIsQuantifiable=!1,k.eat(94)||k.eat(36))return!0;if(k.eat(92)){if(k.eat(66)||k.eat(98))return!0;k.pos=rt}if(k.eat(40)&&k.eat(63)){var Bt=!1;if(this.options.ecmaVersion>=9&&(Bt=k.eat(60)),k.eat(61)||k.eat(33))return this.regexp_disjunction(k),k.eat(41)||k.raise("Unterminated group"),k.lastAssertionIsQuantifiable=!Bt,!0}return k.pos=rt,!1},ln.regexp_eatQuantifier=function(k,rt){return rt===void 0&&(rt=!1),this.regexp_eatQuantifierPrefix(k,rt)?(k.eat(63),!0):!1},ln.regexp_eatQuantifierPrefix=function(k,rt){return k.eat(42)||k.eat(43)||k.eat(63)||this.regexp_eatBracedQuantifier(k,rt)},ln.regexp_eatBracedQuantifier=function(k,rt){var Bt=k.pos;if(k.eat(123)){var yt=0,ne=-1;if(this.regexp_eatDecimalDigits(k)&&(yt=k.lastIntValue,k.eat(44)&&this.regexp_eatDecimalDigits(k)&&(ne=k.lastIntValue),k.eat(125)))return ne!==-1&&ne<yt&&!rt&&k.raise("numbers out of order in {} quantifier"),!0;k.switchU&&!rt&&k.raise("Incomplete quantifier"),k.pos=Bt}return!1},ln.regexp_eatAtom=function(k){return this.regexp_eatPatternCharacters(k)||k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)},ln.regexp_eatReverseSolidusAtomEscape=function(k){var rt=k.pos;if(k.eat(92)){if(this.regexp_eatAtomEscape(k))return!0;k.pos=rt}return!1},ln.regexp_eatUncapturingGroup=function(k){var rt=k.pos;if(k.eat(40)){if(k.eat(63)&&k.eat(58)){if(this.regexp_disjunction(k),k.eat(41))return!0;k.raise("Unterminated group")}k.pos=rt}return!1},ln.regexp_eatCapturingGroup=function(k){if(k.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(k):k.current()===63&&k.raise("Invalid group"),this.regexp_disjunction(k),k.eat(41))return k.numCapturingParens+=1,!0;k.raise("Unterminated group")}return!1},ln.regexp_eatExtendedAtom=function(k){return k.eat(46)||this.regexp_eatReverseSolidusAtomEscape(k)||this.regexp_eatCharacterClass(k)||this.regexp_eatUncapturingGroup(k)||this.regexp_eatCapturingGroup(k)||this.regexp_eatInvalidBracedQuantifier(k)||this.regexp_eatExtendedPatternCharacter(k)},ln.regexp_eatInvalidBracedQuantifier=function(k){return this.regexp_eatBracedQuantifier(k,!0)&&k.raise("Nothing to repeat"),!1},ln.regexp_eatSyntaxCharacter=function(k){var rt=k.current();return $n(rt)?(k.lastIntValue=rt,k.advance(),!0):!1};function $n(k){return k===36||k>=40&&k<=43||k===46||k===63||k>=91&&k<=94||k>=123&&k<=125}ln.regexp_eatPatternCharacters=function(k){for(var rt=k.pos,Bt=0;(Bt=k.current())!==-1&&!$n(Bt);)k.advance();return k.pos!==rt},ln.regexp_eatExtendedPatternCharacter=function(k){var rt=k.current();return rt!==-1&&rt!==36&&!(rt>=40&&rt<=43)&&rt!==46&&rt!==63&&rt!==91&&rt!==94&&rt!==124?(k.advance(),!0):!1},ln.regexp_groupSpecifier=function(k){if(k.eat(63)){if(this.regexp_eatGroupName(k)){k.groupNames.indexOf(k.lastStringValue)!==-1&&k.raise("Duplicate capture group name"),k.groupNames.push(k.lastStringValue);return}k.raise("Invalid group")}},ln.regexp_eatGroupName=function(k){if(k.lastStringValue="",k.eat(60)){if(this.regexp_eatRegExpIdentifierName(k)&&k.eat(62))return!0;k.raise("Invalid capture group name")}return!1},ln.regexp_eatRegExpIdentifierName=function(k){if(k.lastStringValue="",this.regexp_eatRegExpIdentifierStart(k)){for(k.lastStringValue+=Wn(k.lastIntValue);this.regexp_eatRegExpIdentifierPart(k);)k.lastStringValue+=Wn(k.lastIntValue);return!0}return!1},ln.regexp_eatRegExpIdentifierStart=function(k){var rt=k.pos,Bt=this.options.ecmaVersion>=11,yt=k.current(Bt);return k.advance(Bt),yt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,Bt)&&(yt=k.lastIntValue),Gr(yt)?(k.lastIntValue=yt,!0):(k.pos=rt,!1)};function Gr(k){return l(k,!0)||k===36||k===95}ln.regexp_eatRegExpIdentifierPart=function(k){var rt=k.pos,Bt=this.options.ecmaVersion>=11,yt=k.current(Bt);return k.advance(Bt),yt===92&&this.regexp_eatRegExpUnicodeEscapeSequence(k,Bt)&&(yt=k.lastIntValue),wr(yt)?(k.lastIntValue=yt,!0):(k.pos=rt,!1)};function wr(k){return h(k,!0)||k===36||k===95||k===8204||k===8205}ln.regexp_eatAtomEscape=function(k){return this.regexp_eatBackReference(k)||this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)||k.switchN&&this.regexp_eatKGroupName(k)?!0:(k.switchU&&(k.current()===99&&k.raise("Invalid unicode escape"),k.raise("Invalid escape")),!1)},ln.regexp_eatBackReference=function(k){var rt=k.pos;if(this.regexp_eatDecimalEscape(k)){var Bt=k.lastIntValue;if(k.switchU)return Bt>k.maxBackReference&&(k.maxBackReference=Bt),!0;if(Bt<=k.numCapturingParens)return!0;k.pos=rt}return!1},ln.regexp_eatKGroupName=function(k){if(k.eat(107)){if(this.regexp_eatGroupName(k))return k.backReferenceNames.push(k.lastStringValue),!0;k.raise("Invalid named reference")}return!1},ln.regexp_eatCharacterEscape=function(k){return this.regexp_eatControlEscape(k)||this.regexp_eatCControlLetter(k)||this.regexp_eatZero(k)||this.regexp_eatHexEscapeSequence(k)||this.regexp_eatRegExpUnicodeEscapeSequence(k,!1)||!k.switchU&&this.regexp_eatLegacyOctalEscapeSequence(k)||this.regexp_eatIdentityEscape(k)},ln.regexp_eatCControlLetter=function(k){var rt=k.pos;if(k.eat(99)){if(this.regexp_eatControlLetter(k))return!0;k.pos=rt}return!1},ln.regexp_eatZero=function(k){return k.current()===48&&!le(k.lookahead())?(k.lastIntValue=0,k.advance(),!0):!1},ln.regexp_eatControlEscape=function(k){var rt=k.current();return rt===116?(k.lastIntValue=9,k.advance(),!0):rt===110?(k.lastIntValue=10,k.advance(),!0):rt===118?(k.lastIntValue=11,k.advance(),!0):rt===102?(k.lastIntValue=12,k.advance(),!0):rt===114?(k.lastIntValue=13,k.advance(),!0):!1},ln.regexp_eatControlLetter=function(k){var rt=k.current();return ti(rt)?(k.lastIntValue=rt%32,k.advance(),!0):!1};function ti(k){return k>=65&&k<=90||k>=97&&k<=122}ln.regexp_eatRegExpUnicodeEscapeSequence=function(k,rt){rt===void 0&&(rt=!1);var Bt=k.pos,yt=rt||k.switchU;if(k.eat(117)){if(this.regexp_eatFixedHexDigits(k,4)){var ne=k.lastIntValue;if(yt&&ne>=55296&&ne<=56319){var _e=k.pos;if(k.eat(92)&&k.eat(117)&&this.regexp_eatFixedHexDigits(k,4)){var or=k.lastIntValue;if(or>=56320&&or<=57343)return k.lastIntValue=(ne-55296)*1024+(or-56320)+65536,!0}k.pos=_e,k.lastIntValue=ne}return!0}if(yt&&k.eat(123)&&this.regexp_eatHexDigits(k)&&k.eat(125)&&ge(k.lastIntValue))return!0;yt&&k.raise("Invalid unicode escape"),k.pos=Bt}return!1};function ge(k){return k>=0&&k<=1114111}ln.regexp_eatIdentityEscape=function(k){if(k.switchU)return this.regexp_eatSyntaxCharacter(k)?!0:k.eat(47)?(k.lastIntValue=47,!0):!1;var rt=k.current();return rt!==99&&(!k.switchN||rt!==107)?(k.lastIntValue=rt,k.advance(),!0):!1},ln.regexp_eatDecimalEscape=function(k){k.lastIntValue=0;var rt=k.current();if(rt>=49&&rt<=57){do k.lastIntValue=10*k.lastIntValue+(rt-48),k.advance();while((rt=k.current())>=48&&rt<=57);return!0}return!1},ln.regexp_eatCharacterClassEscape=function(k){var rt=k.current();if(Le(rt))return k.lastIntValue=-1,k.advance(),!0;if(k.switchU&&this.options.ecmaVersion>=9&&(rt===80||rt===112)){if(k.lastIntValue=-1,k.advance(),k.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(k)&&k.eat(125))return!0;k.raise("Invalid property name")}return!1};function Le(k){return k===100||k===68||k===115||k===83||k===119||k===87}ln.regexp_eatUnicodePropertyValueExpression=function(k){var rt=k.pos;if(this.regexp_eatUnicodePropertyName(k)&&k.eat(61)){var Bt=k.lastStringValue;if(this.regexp_eatUnicodePropertyValue(k)){var yt=k.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(k,Bt,yt),!0}}if(k.pos=rt,this.regexp_eatLoneUnicodePropertyNameOrValue(k)){var ne=k.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(k,ne),!0}return!1},ln.regexp_validateUnicodePropertyNameAndValue=function(k,rt,Bt){W(k.unicodeProperties.nonBinary,rt)||k.raise("Invalid property name"),k.unicodeProperties.nonBinary[rt].test(Bt)||k.raise("Invalid property value")},ln.regexp_validateUnicodePropertyNameOrValue=function(k,rt){k.unicodeProperties.binary.test(rt)||k.raise("Invalid property name")},ln.regexp_eatUnicodePropertyName=function(k){var rt=0;for(k.lastStringValue="";Se(rt=k.current());)k.lastStringValue+=Wn(rt),k.advance();return k.lastStringValue!==""};function Se(k){return ti(k)||k===95}ln.regexp_eatUnicodePropertyValue=function(k){var rt=0;for(k.lastStringValue="";Ve(rt=k.current());)k.lastStringValue+=Wn(rt),k.advance();return k.lastStringValue!==""};function Ve(k){return Se(k)||le(k)}ln.regexp_eatLoneUnicodePropertyNameOrValue=function(k){return this.regexp_eatUnicodePropertyValue(k)},ln.regexp_eatCharacterClass=function(k){if(k.eat(91)){if(k.eat(94),this.regexp_classRanges(k),k.eat(93))return!0;k.raise("Unterminated character class")}return!1},ln.regexp_classRanges=function(k){for(;this.regexp_eatClassAtom(k);){var rt=k.lastIntValue;if(k.eat(45)&&this.regexp_eatClassAtom(k)){var Bt=k.lastIntValue;k.switchU&&(rt===-1||Bt===-1)&&k.raise("Invalid character class"),rt!==-1&&Bt!==-1&&rt>Bt&&k.raise("Range out of order in character class")}}},ln.regexp_eatClassAtom=function(k){var rt=k.pos;if(k.eat(92)){if(this.regexp_eatClassEscape(k))return!0;if(k.switchU){var Bt=k.current();(Bt===99||rr(Bt))&&k.raise("Invalid class escape"),k.raise("Invalid escape")}k.pos=rt}var yt=k.current();return yt!==93?(k.lastIntValue=yt,k.advance(),!0):!1},ln.regexp_eatClassEscape=function(k){var rt=k.pos;if(k.eat(98))return k.lastIntValue=8,!0;if(k.switchU&&k.eat(45))return k.lastIntValue=45,!0;if(!k.switchU&&k.eat(99)){if(this.regexp_eatClassControlLetter(k))return!0;k.pos=rt}return this.regexp_eatCharacterClassEscape(k)||this.regexp_eatCharacterEscape(k)},ln.regexp_eatClassControlLetter=function(k){var rt=k.current();return le(rt)||rt===95?(k.lastIntValue=rt%32,k.advance(),!0):!1},ln.regexp_eatHexEscapeSequence=function(k){var rt=k.pos;if(k.eat(120)){if(this.regexp_eatFixedHexDigits(k,2))return!0;k.switchU&&k.raise("Invalid escape"),k.pos=rt}return!1},ln.regexp_eatDecimalDigits=function(k){var rt=k.pos,Bt=0;for(k.lastIntValue=0;le(Bt=k.current());)k.lastIntValue=10*k.lastIntValue+(Bt-48),k.advance();return k.pos!==rt};function le(k){return k>=48&&k<=57}ln.regexp_eatHexDigits=function(k){var rt=k.pos,Bt=0;for(k.lastIntValue=0;vr(Bt=k.current());)k.lastIntValue=16*k.lastIntValue+He(Bt),k.advance();return k.pos!==rt};function vr(k){return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function He(k){return k>=65&&k<=70?10+(k-65):k>=97&&k<=102?10+(k-97):k-48}ln.regexp_eatLegacyOctalEscapeSequence=function(k){if(this.regexp_eatOctalDigit(k)){var rt=k.lastIntValue;if(this.regexp_eatOctalDigit(k)){var Bt=k.lastIntValue;rt<=3&&this.regexp_eatOctalDigit(k)?k.lastIntValue=rt*64+Bt*8+k.lastIntValue:k.lastIntValue=rt*8+Bt}else k.lastIntValue=rt;return!0}return!1},ln.regexp_eatOctalDigit=function(k){var rt=k.current();return rr(rt)?(k.lastIntValue=rt-48,k.advance(),!0):(k.lastIntValue=0,!1)};function rr(k){return k>=48&&k<=55}ln.regexp_eatFixedHexDigits=function(k,rt){var Bt=k.pos;k.lastIntValue=0;for(var yt=0;yt<rt;++yt){var ne=k.current();if(!vr(ne))return k.pos=Bt,!1;k.lastIntValue=16*k.lastIntValue+He(ne),k.advance()}return!0};var Lr=function(rt){this.type=rt.type,this.value=rt.value,this.start=rt.start,this.end=rt.end,rt.options.locations&&(this.loc=new J(rt,rt.startLoc,rt.endLoc)),rt.options.ranges&&(this.range=[rt.start,rt.end])},Mr=V.prototype;Mr.next=function(k){!k&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Lr(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Mr.getToken=function(){return this.next(),new Lr(this)},typeof Symbol!="undefined"&&(Mr[Symbol.iterator]=function(){var k=this;return{next:function(){var rt=k.getToken();return{done:rt.type===m.eof,value:rt}}}}),Mr.curContext=function(){return this.context[this.context.length-1]},Mr.nextToken=function(){var k=this.curContext();if((!k||!k.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(k.override)return k.override(this);this.readToken(this.fullCharCodeAtPos())},Mr.readToken=function(k){return l(k,this.options.ecmaVersion>=6)||k===92?this.readWord():this.getTokenFromCode(k)},Mr.fullCharCodeAtPos=function(){var k=this.input.charCodeAt(this.pos);if(k<=55295||k>=57344)return k;var rt=this.input.charCodeAt(this.pos+1);return(k<<10)+rt-56613888},Mr.skipBlockComment=function(){var k=this.options.onComment&&this.curPosition(),rt=this.pos,Bt=this.input.indexOf("*/",this.pos+=2);if(Bt===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=Bt+2,this.options.locations){b.lastIndex=rt;for(var yt;(yt=b.exec(this.input))&&yt.index<this.pos;)++this.curLine,this.lineStart=yt.index+yt[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(rt+2,Bt),rt,this.pos,k,this.curPosition())},Mr.skipLineComment=function(k){for(var rt=this.pos,Bt=this.options.onComment&&this.curPosition(),yt=this.input.charCodeAt(this.pos+=k);this.pos<this.input.length&&!E(yt);)yt=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(rt+k,this.pos),rt,this.pos,Bt,this.curPosition())},Mr.skipSpace=function(){t:for(;this.pos<this.input.length;){var k=this.input.charCodeAt(this.pos);switch(k){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(k>8&&k<14||k>=5760&&C.test(String.fromCharCode(k)))++this.pos;else break t}}},Mr.finishToken=function(k,rt){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var Bt=this.type;this.type=k,this.value=rt,this.updateContext(Bt)},Mr.readToken_dot=function(){var k=this.input.charCodeAt(this.pos+1);if(k>=48&&k<=57)return this.readNumber(!0);var rt=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&k===46&&rt===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))},Mr.readToken_slash=function(){var k=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):k===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)},Mr.readToken_mult_modulo_exp=function(k){var rt=this.input.charCodeAt(this.pos+1),Bt=1,yt=k===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&k===42&&rt===42&&(++Bt,yt=m.starstar,rt=this.input.charCodeAt(this.pos+2)),rt===61?this.finishOp(m.assign,Bt+1):this.finishOp(yt,Bt)},Mr.readToken_pipe_amp=function(k){var rt=this.input.charCodeAt(this.pos+1);if(rt===k){if(this.options.ecmaVersion>=12){var Bt=this.input.charCodeAt(this.pos+2);if(Bt===61)return this.finishOp(m.assign,3)}return this.finishOp(k===124?m.logicalOR:m.logicalAND,2)}return rt===61?this.finishOp(m.assign,2):this.finishOp(k===124?m.bitwiseOR:m.bitwiseAND,1)},Mr.readToken_caret=function(){var k=this.input.charCodeAt(this.pos+1);return k===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)},Mr.readToken_plus_min=function(k){var rt=this.input.charCodeAt(this.pos+1);return rt===k?rt===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||M.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):rt===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)},Mr.readToken_lt_gt=function(k){var rt=this.input.charCodeAt(this.pos+1),Bt=1;return rt===k?(Bt=k===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Bt)===61?this.finishOp(m.assign,Bt+1):this.finishOp(m.bitShift,Bt)):rt===33&&k===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(rt===61&&(Bt=2),this.finishOp(m.relational,Bt))},Mr.readToken_eq_excl=function(k){var rt=this.input.charCodeAt(this.pos+1);return rt===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):k===61&&rt===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(k===61?m.eq:m.prefix,1)},Mr.readToken_question=function(){var k=this.options.ecmaVersion;if(k>=11){var rt=this.input.charCodeAt(this.pos+1);if(rt===46){var Bt=this.input.charCodeAt(this.pos+2);if(Bt<48||Bt>57)return this.finishOp(m.questionDot,2)}if(rt===63){if(k>=12){var yt=this.input.charCodeAt(this.pos+2);if(yt===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)},Mr.getTokenFromCode=function(k){switch(k){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var rt=this.input.charCodeAt(this.pos+1);if(rt===120||rt===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(rt===111||rt===79)return this.readRadixNumber(8);if(rt===98||rt===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(k);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(k);case 124:case 38:return this.readToken_pipe_amp(k);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(k);case 60:case 62:return this.readToken_lt_gt(k);case 61:case 33:return this.readToken_eq_excl(k);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1)}this.raise(this.pos,"Unexpected character '"+qr(k)+"'")},Mr.finishOp=function(k,rt){var Bt=this.input.slice(this.pos,this.pos+rt);return this.pos+=rt,this.finishToken(k,Bt)},Mr.readRegexp=function(){for(var k,rt,Bt=this.pos;;){this.pos>=this.input.length&&this.raise(Bt,"Unterminated regular expression");var yt=this.input.charAt(this.pos);if(M.test(yt)&&this.raise(Bt,"Unterminated regular expression"),k)k=!1;else{if(yt==="[")rt=!0;else if(yt==="]"&&rt)rt=!1;else if(yt==="/"&&!rt)break;k=yt==="\\"}++this.pos}var ne=this.input.slice(Bt,this.pos);++this.pos;var _e=this.pos,or=this.readWord1();this.containsEsc&&this.unexpected(_e);var jr=this.regexpState||(this.regexpState=new Jr(this));jr.reset(Bt,ne,or),this.validateRegExpFlags(jr),this.validateRegExpPattern(jr);var _r=null;try{_r=new RegExp(ne,or)}catch(Pn){}return this.finishToken(m.regexp,{pattern:ne,flags:or,value:_r})},Mr.readInt=function(k,rt,Bt){for(var yt=this.options.ecmaVersion>=12&&rt===void 0,ne=Bt&&this.input.charCodeAt(this.pos)===48,_e=this.pos,or=0,jr=0,_r=0,Pn=rt==null?Infinity:rt;_r<Pn;++_r,++this.pos){var Ln=this.input.charCodeAt(this.pos),Li=void 0;if(yt&&Ln===95){ne&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),jr===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),_r===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),jr=Ln;continue}if(Ln>=97?Li=Ln-97+10:Ln>=65?Li=Ln-65+10:Ln>=48&&Ln<=57?Li=Ln-48:Li=Infinity,Li>=k)break;jr=Ln,or=or*k+Li}return yt&&jr===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===_e||rt!=null&&this.pos-_e!==rt?null:or};function rn(k,rt){return rt?parseInt(k,8):parseFloat(k.replace(/_/g,""))}function pn(k){return typeof BigInt!="function"?null:BigInt(k.replace(/_/g,""))}Mr.readRadixNumber=function(k){var rt=this.pos;this.pos+=2;var Bt=this.readInt(k);return Bt==null&&this.raise(this.start+2,"Expected number in radix "+k),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(Bt=pn(this.input.slice(rt,this.pos)),++this.pos):l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,Bt)},Mr.readNumber=function(k){var rt=this.pos;!k&&this.readInt(10,void 0,!0)===null&&this.raise(rt,"Invalid number");var Bt=this.pos-rt>=2&&this.input.charCodeAt(rt)===48;Bt&&this.strict&&this.raise(rt,"Invalid number");var yt=this.input.charCodeAt(this.pos);if(!Bt&&!k&&this.options.ecmaVersion>=11&&yt===110){var ne=pn(this.input.slice(rt,this.pos));return++this.pos,l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,ne)}Bt&&/[89]/.test(this.input.slice(rt,this.pos))&&(Bt=!1),yt===46&&!Bt&&(++this.pos,this.readInt(10),yt=this.input.charCodeAt(this.pos)),(yt===69||yt===101)&&!Bt&&(yt=this.input.charCodeAt(++this.pos),(yt===43||yt===45)&&++this.pos,this.readInt(10)===null&&this.raise(rt,"Invalid number")),l(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var _e=rn(this.input.slice(rt,this.pos),Bt);return this.finishToken(m.num,_e)},Mr.readCodePoint=function(){var k=this.input.charCodeAt(this.pos),rt;if(k===123){this.options.ecmaVersion<6&&this.unexpected();var Bt=++this.pos;rt=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,rt>1114111&&this.invalidStringToken(Bt,"Code point out of bounds")}else rt=this.readHexChar(4);return rt};function qr(k){return k<=65535?String.fromCharCode(k):(k-=65536,String.fromCharCode((k>>10)+55296,(k&1023)+56320))}Mr.readString=function(k){for(var rt="",Bt=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var yt=this.input.charCodeAt(this.pos);if(yt===k)break;yt===92?(rt+=this.input.slice(Bt,this.pos),rt+=this.readEscapedChar(!1),Bt=this.pos):(E(yt,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return rt+=this.input.slice(Bt,this.pos++),this.finishToken(m.string,rt)};var Dn={};Mr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(k){if(k===Dn)this.readInvalidTemplateToken();else throw k}this.inTemplateElement=!1},Mr.invalidStringToken=function(k,rt){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Dn;this.raise(k,rt)},Mr.readTmplToken=function(){for(var k="",rt=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var Bt=this.input.charCodeAt(this.pos);if(Bt===96||Bt===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?Bt===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(k+=this.input.slice(rt,this.pos),this.finishToken(m.template,k));if(Bt===92)k+=this.input.slice(rt,this.pos),k+=this.readEscapedChar(!0),rt=this.pos;else if(E(Bt)){switch(k+=this.input.slice(rt,this.pos),++this.pos,Bt){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:k+=`
`;break;default:k+=String.fromCharCode(Bt);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),rt=this.pos}else++this.pos}},Mr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Mr.readEscapedChar=function(k){var rt=this.input.charCodeAt(++this.pos);switch(++this.pos,rt){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(k){var Bt=this.pos-1;return this.invalidStringToken(Bt,"Invalid escape sequence in template string"),null}default:if(rt>=48&&rt<=55){var yt=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ne=parseInt(yt,8);return ne>255&&(yt=yt.slice(0,-1),ne=parseInt(yt,8)),this.pos+=yt.length-1,rt=this.input.charCodeAt(this.pos),(yt!=="0"||rt===56||rt===57)&&(this.strict||k)&&this.invalidStringToken(this.pos-1-yt.length,k?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ne)}return E(rt)?"":String.fromCharCode(rt)}},Mr.readHexChar=function(k){var rt=this.pos,Bt=this.readInt(16,k);return Bt===null&&this.invalidStringToken(rt,"Bad character escape sequence"),Bt},Mr.readWord1=function(){this.containsEsc=!1;for(var k="",rt=!0,Bt=this.pos,yt=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ne=this.fullCharCodeAtPos();if(h(ne,yt))this.pos+=ne<=65535?1:2;else if(ne===92){this.containsEsc=!0,k+=this.input.slice(Bt,this.pos);var _e=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var or=this.readCodePoint();(rt?l:h)(or,yt)||this.invalidStringToken(_e,"Invalid Unicode escape"),k+=qr(or),Bt=this.pos}else break;rt=!1}return k+this.input.slice(Bt,this.pos)},Mr.readWord=function(){var k=this.readWord1(),rt=m.name;return this.keywords.test(k)&&(rt=x[k]),this.finishToken(rt,k)};var ae="7.4.1";V.acorn={Parser:V,version:ae,defaultOptions:at,Position:Z,SourceLocation:J,getLineInfo:ht,Node:de,TokenType:p,tokTypes:m,keywordTypes:x,TokContext:Kr,tokContexts:fn,isIdentifierChar:h,isIdentifierStart:l,Token:Lr,isNewLine:E,lineBreak:M,lineBreakG:b,nonASCIIwhitespace:C};function er(k,rt){return V.parse(k,rt)}function ar(k,rt,Bt){return V.parseExpressionAt(k,rt,Bt)}function kr(k,rt){return V.tokenizer(k,rt)}function Rn(k,rt){k.prototype=Object.create(rt.prototype),k.prototype.constructor=k,k.__proto__=rt}function di(k){var rt=typeof Map=="function"?new Map:void 0;return di=function(yt){if(yt===null||!_a(yt))return yt;if(typeof yt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof rt!="undefined"){if(rt.has(yt))return rt.get(yt);rt.set(yt,ne)}function ne(){return da(yt,arguments,wo(this).constructor)}return ne.prototype=Object.create(yt.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),fa(ne,yt)},di(k)}function Yi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function da(k,rt,Bt){return Yi()?da=Reflect.construct:da=function(ne,_e,or){var jr=[null];jr.push.apply(jr,_e);var _r=Function.bind.apply(ne,jr),Pn=new _r;return or&&fa(Pn,or.prototype),Pn},da.apply(null,arguments)}function _a(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function fa(k,rt){return fa=Object.setPrototypeOf||function(yt,ne){return yt.__proto__=ne,yt},fa(k,rt)}function wo(k){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(Bt){return Bt.__proto__||Object.getPrototypeOf(Bt)},wo(k)}var ho=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(di(Error)),mo=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(di(SyntaxError)),yo=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(di(ReferenceError)),zo=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(di(TypeError)),io=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(ho),Za=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(mo),qa=function(k){Rn(rt,k);function rt(){return k.apply(this,arguments)||this}return rt}(yo),Zt={UnknownError:[3001,"%0",io],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",io],NodeTypeSyntaxError:[1001,"Unknown node type: %0",qa],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",qa],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",qa],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",qa],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",qa],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",qa],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",qa],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",qa],ParamTypeSyntaxError:[1009,"Unknown param type: %0",qa],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",qa],FunctionUndefinedReferenceError:[2001,"%0 is not a function",yo],VariableUndefinedReferenceError:[2002,"%0 is not defined",yo],IsNotConstructor:[2003,"%0 is not a constructor",zo]};function je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function ur(k,rt,Bt){return je()?ur=Reflect.construct:ur=function(ne,_e,or){var jr=[null];jr.push.apply(jr,_e);var _r=Function.bind.apply(ne,jr),Pn=new _r;return or&&Br(Pn,or.prototype),Pn},ur.apply(null,arguments)}function Br(k,rt){return Br=Object.setPrototypeOf||function(yt,ne){return yt.__proto__=ne,yt},Br(k,rt)}var Vt="0.0.2";function ee(k,rt){Object.defineProperty(k,"name",{value:rt,writable:!1,enumerable:!1,configurable:!0})}var Ae=Object.prototype.hasOwnProperty,Me=Symbol("Break"),Er=Symbol("Continue"),dn=Symbol("DefaultCase"),xn=Symbol("EmptyStatementReturn"),fi=Symbol("WithScopeName"),Ai=Symbol("SuperScopeName"),aa=Symbol("RootScopeName"),qi=Symbol("GlobalScopeName");function Sa(k){return typeof k=="function"}var ca=function(){function k(Bt){this.interpreter=Bt}var rt=k.prototype;return rt.generator=function(){var yt=this.interpreter;function ne(){return this.getCurrentScope()}function _e(){return this.getGlobalScope()}function or(){return this.getCurrentContext()}return{getOptions:yt.getOptions.bind(yt),getCurrentScope:ne.bind(yt),getGlobalScope:_e.bind(yt),getCurrentContext:or.bind(yt),getExecStartTime:yt.getExecStartTime.bind(yt)}},k}();function to(k,rt,Bt){if(Bt===void 0&&(Bt=!0),!(k instanceof ca))throw new Error("Illegal call");if(typeof rt!="string")return rt;if(!!rt){var yt=k.generator(),ne=yt.getOptions(),_e={timeout:ne.timeout,_initEnv:function(){Bt||this.setCurrentContext(yt.getCurrentContext()),this.execStartTime=yt.getExecStartTime(),this.execEndTime=this.execStartTime}},or=Bt?yt.getGlobalScope():yt.getCurrentScope(),jr=new dt(or,_e);return jr.evaluate(rt)}}Object.defineProperty(to,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});function za(k){if(!(k instanceof ca))throw new Error("Illegal call");for(var rt=k.generator(),Bt=arguments.length,yt=new Array(Bt>1?Bt-1:0),ne=1;ne<Bt;ne++)yt[ne-1]=arguments[ne];var _e=yt.pop(),or=new dt(rt.getGlobalScope(),rt.getOptions()),jr=`
		    (function anonymous(`+yt.join(",")+`){
		        `+_e+`
		    });
		    `;return or.evaluate(jr)}Object.defineProperty(za,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var Ia=function(rt){this.value=rt},Va=function(rt){this.value=rt},ro=function(rt){this.value=rt},xe=function(rt,Bt,yt){Bt===void 0&&(Bt=null),this.name=yt,this.parent=Bt,this.data=rt,this.labelStack=[]};function be(){}function pe(k,rt){return k===void 0&&(k=null),new xe(Object.create(null),k,rt)}function vt(k){return Object.create(k)}var gt={NaN:NaN,Infinity:Infinity,undefined:void 0,Object,Array,String,Boolean,Number,Date,RegExp,Error,URIError,TypeError,RangeError,SyntaxError,ReferenceError,Float32Array,Uint32Array,Math,parseInt,parseFloat,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,unescape,eval:to,Function:za};typeof JSON!="undefined"&&(gt.JSON=JSON),typeof Promise!="undefined"&&(gt.Promise=Promise),typeof Set!="undefined"&&(gt.Set=Set),typeof Map!="undefined"&&(gt.Map=Map),typeof Symbol!="undefined"&&(gt.Symbol=Symbol),typeof Proxy!="undefined"&&(gt.Proxy=Proxy),typeof WeakMap!="undefined"&&(gt.WeakMap=WeakMap),typeof WeakSet!="undefined"&&(gt.WeakSet=WeakSet),typeof Reflect!="undefined"&&(gt.Reflect=Reflect);var dt=function(){function k(Bt,yt){Bt===void 0&&(Bt=k.global),yt===void 0&&(yt={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:yt.ecmaVersion||k.ecmaVersion,timeout:yt.timeout||0,rootContext:yt.rootContext,globalContextInFunction:yt.globalContextInFunction===void 0?k.globalContextInFunction:yt.globalContextInFunction,_initEnv:yt._initEnv},this.context=Bt||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var rt=k.prototype;return rt.initEnvironment=function(yt){var ne;if(yt instanceof xe)ne=yt;else{var _e=null,or=this.createSuperScope(yt);this.options.rootContext&&(_e=new xe(vt(this.options.rootContext),or,aa)),ne=new xe(yt,_e||or,qi)}this.globalScope=ne,this.currentScope=this.globalScope,this.globalContext=ne.data,this.currentContext=ne.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var jr=this.options._initEnv;jr&&jr.call(this)},rt.getExecStartTime=function(){return this.execStartTime},rt.getExecutionTime=function(){return this.execEndTime-this.execStartTime},rt.setExecTimeout=function(yt){yt===void 0&&(yt=0),this.options.timeout=yt},rt.getOptions=function(){return this.options},rt.getGlobalScope=function(){return this.globalScope},rt.getCurrentScope=function(){return this.currentScope},rt.getCurrentContext=function(){return this.currentContext},rt.isInterruptThrow=function(yt){return yt instanceof io||yt instanceof qa||yt instanceof Za},rt.createSuperScope=function(yt){var ne=Object.assign({},gt),_e=Object.keys(ne);return _e.forEach(function(or){or in yt&&delete ne[or]}),new xe(ne,null,Ai)},rt.setCurrentContext=function(yt){this.currentContext=yt},rt.setCurrentScope=function(yt){this.currentScope=yt},rt.evaluate=function(yt){yt===void 0&&(yt="");var ne;if(!!yt)return ne=er(yt,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||k.ecmaVersion}),this.evaluateNode(ne,yt)},rt.appendCode=function(yt){return this.evaluate(yt)},rt.evaluateNode=function(yt,ne){var _e=this;ne===void 0&&(ne=""),this.value=void 0,this.source=ne,this.sourceList.push(ne),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var or=this.getCurrentScope(),jr=this.getCurrentContext(),_r=or.labelStack.concat([]),Pn=this.callStack.concat([]),Ln=function(){_e.setCurrentScope(or),_e.setCurrentContext(jr),or.labelStack=_r,_e.callStack=Pn};try{var Li=this.createClosure(yt);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),Li()}catch(sa){throw sa}finally{Ln(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},rt.createErrorMessage=function(yt,ne,_e){var or=yt[1].replace("%0",String(ne));return _e!==null&&(or+=this.getNodePosition(_e||this.lastExecNode)),or},rt.createError=function(yt,ne){return new ne(yt)},rt.createThrowError=function(yt,ne){return this.createError(yt,ne)},rt.createInternalThrowError=function(yt,ne,_e){return this.createError(this.createErrorMessage(yt,ne,_e),yt[2])},rt.checkTimeout=function(){if(!this.isRunning)return!1;var yt=this.options.timeout||0,ne=Date.now();return ne-this.execStartTime>yt},rt.getNodePosition=function(yt){if(yt){var ne="";return yt.loc?" ["+yt.loc.start.line+":"+yt.loc.start.column+"]"+ne:""}return""},rt.createClosure=function(yt){var ne=this,_e;switch(yt.type){case"BinaryExpression":_e=this.binaryExpressionHandler(yt);break;case"LogicalExpression":_e=this.logicalExpressionHandler(yt);break;case"UnaryExpression":_e=this.unaryExpressionHandler(yt);break;case"UpdateExpression":_e=this.updateExpressionHandler(yt);break;case"ObjectExpression":_e=this.objectExpressionHandler(yt);break;case"ArrayExpression":_e=this.arrayExpressionHandler(yt);break;case"CallExpression":_e=this.callExpressionHandler(yt);break;case"NewExpression":_e=this.newExpressionHandler(yt);break;case"MemberExpression":_e=this.memberExpressionHandler(yt);break;case"ThisExpression":_e=this.thisExpressionHandler(yt);break;case"SequenceExpression":_e=this.sequenceExpressionHandler(yt);break;case"Literal":_e=this.literalHandler(yt);break;case"Identifier":_e=this.identifierHandler(yt);break;case"AssignmentExpression":_e=this.assignmentExpressionHandler(yt);break;case"FunctionDeclaration":_e=this.functionDeclarationHandler(yt);break;case"VariableDeclaration":_e=this.variableDeclarationHandler(yt);break;case"BlockStatement":case"Program":_e=this.programHandler(yt);break;case"ExpressionStatement":_e=this.expressionStatementHandler(yt);break;case"EmptyStatement":_e=this.emptyStatementHandler(yt);break;case"ReturnStatement":_e=this.returnStatementHandler(yt);break;case"FunctionExpression":_e=this.functionExpressionHandler(yt);break;case"IfStatement":_e=this.ifStatementHandler(yt);break;case"ConditionalExpression":_e=this.conditionalExpressionHandler(yt);break;case"ForStatement":_e=this.forStatementHandler(yt);break;case"WhileStatement":_e=this.whileStatementHandler(yt);break;case"DoWhileStatement":_e=this.doWhileStatementHandler(yt);break;case"ForInStatement":_e=this.forInStatementHandler(yt);break;case"WithStatement":_e=this.withStatementHandler(yt);break;case"ThrowStatement":_e=this.throwStatementHandler(yt);break;case"TryStatement":_e=this.tryStatementHandler(yt);break;case"ContinueStatement":_e=this.continueStatementHandler(yt);break;case"BreakStatement":_e=this.breakStatementHandler(yt);break;case"SwitchStatement":_e=this.switchStatementHandler(yt);break;case"LabeledStatement":_e=this.labeledStatementHandler(yt);break;case"DebuggerStatement":_e=this.debuggerStatementHandler(yt);break;default:throw this.createInternalThrowError(Zt.NodeTypeSyntaxError,yt.type,yt)}return function(){var or=ne.options.timeout;if(or&&or>0&&ne.checkTimeout())throw ne.createInternalThrowError(Zt.ExecutionTimeOutError,or,null);return ne.lastExecNode=yt,_e.apply(void 0,arguments)}},rt.binaryExpressionHandler=function(yt){var ne=this,_e=this.createClosure(yt.left),or=this.createClosure(yt.right);return function(){var jr=_e(),_r=or();switch(yt.operator){case"==":return jr==_r;case"!=":return jr!=_r;case"===":return jr===_r;case"!==":return jr!==_r;case"<":return jr<_r;case"<=":return jr<=_r;case">":return jr>_r;case">=":return jr>=_r;case"<<":return jr<<_r;case">>":return jr>>_r;case">>>":return jr>>>_r;case"+":return jr+_r;case"-":return jr-_r;case"*":return jr*_r;case"**":return Math.pow(jr,_r);case"/":return jr/_r;case"%":return jr%_r;case"|":return jr|_r;case"^":return jr^_r;case"&":return jr&_r;case"in":return jr in _r;case"instanceof":return jr instanceof _r;default:throw ne.createInternalThrowError(Zt.BinaryOperatorSyntaxError,yt.operator,yt)}}},rt.logicalExpressionHandler=function(yt){var ne=this,_e=this.createClosure(yt.left),or=this.createClosure(yt.right);return function(){switch(yt.operator){case"||":return _e()||or();case"&&":return _e()&&or();default:throw ne.createInternalThrowError(Zt.LogicalOperatorSyntaxError,yt.operator,yt)}}},rt.unaryExpressionHandler=function(yt){var ne=this;switch(yt.operator){case"delete":var _e=this.createObjectGetter(yt.argument),or=this.createNameGetter(yt.argument);return function(){var Ln=_e(),Li=or();return delete Ln[Li]};default:var jr;if(yt.operator==="typeof"&&yt.argument.type==="Identifier"){var _r=this.createObjectGetter(yt.argument),Pn=this.createNameGetter(yt.argument);jr=function(){return _r()[Pn()]}}else jr=this.createClosure(yt.argument);return function(){var Ln=jr();switch(yt.operator){case"-":return-Ln;case"+":return+Ln;case"!":return!Ln;case"~":return~Ln;case"void":return;case"typeof":return typeof Ln;default:throw ne.createInternalThrowError(Zt.UnaryOperatorSyntaxError,yt.operator,yt)}}}},rt.updateExpressionHandler=function(yt){var ne=this,_e=this.createObjectGetter(yt.argument),or=this.createNameGetter(yt.argument);return function(){var jr=_e(),_r=or();switch(ne.assertVariable(jr,_r,yt),yt.operator){case"++":return yt.prefix?++jr[_r]:jr[_r]++;case"--":return yt.prefix?--jr[_r]:jr[_r]--;default:throw ne.createInternalThrowError(Zt.UpdateOperatorSyntaxError,yt.operator,yt)}}},rt.objectExpressionHandler=function(yt){var ne=this,_e=[];function or(_r){return _r.type==="Identifier"?_r.name:_r.type==="Literal"?_r.value:this.throwError(Zt.ObjectStructureSyntaxError,_r.type,_r)}var jr=Object.create(null);return yt.properties.forEach(function(_r){var Pn=_r.kind,Ln=or(_r.key);(!jr[Ln]||Pn==="init")&&(jr[Ln]={}),jr[Ln][Pn]=ne.createClosure(_r.value),_e.push({key:Ln,property:_r})}),function(){for(var _r={},Pn=_e.length,Ln=0;Ln<Pn;Ln++){var Li=_e[Ln],sa=Li.key,Ki=jr[sa],Ea=Ki.init?Ki.init():void 0,pa=Ki.get?Ki.get():function(){},Fa=Ki.set?Ki.set():function(Yo){};if("set"in Ki||"get"in Ki){var Ua={configurable:!0,enumerable:!0,get:pa,set:Fa};Object.defineProperty(_r,sa,Ua)}else{var vo=Li.property,No=vo.kind;vo.key.type==="Identifier"&&vo.value.type==="FunctionExpression"&&No==="init"&&!vo.value.id&&ee(Ea,vo.key.name),_r[sa]=Ea}}return _r}},rt.arrayExpressionHandler=function(yt){var ne=this,_e=yt.elements.map(function(or){return or&&ne.createClosure(or)});return function(){for(var or=_e.length,jr=Array(or),_r=0;_r<or;_r++){var Pn=_e[_r];Pn&&(jr[_r]=Pn())}return jr}},rt.safeObjectGet=function(yt,ne,_e){return yt[ne]},rt.createCallFunctionGetter=function(yt){var ne=this;switch(yt.type){case"MemberExpression":var _e=this.createClosure(yt.object),or=this.createMemberKeyGetter(yt),jr=this.source;return function(){var Pn=_e(),Ln=or(),Li=ne.safeObjectGet(Pn,Ln,yt);if(!Li||!Sa(Li)){var sa=jr.slice(yt.start,yt.end);throw ne.createInternalThrowError(Zt.FunctionUndefinedReferenceError,sa,yt)}return Li.__IS_EVAL_FUNC?function(Ki){return Li(new ca(ne),Ki,!0)}:Li.__IS_FUNCTION_FUNC?function(){for(var Ki=arguments.length,Ea=new Array(Ki),pa=0;pa<Ki;pa++)Ea[pa]=arguments[pa];return Li.apply(void 0,[new ca(ne)].concat(Ea))}:Li.bind(Pn)};default:var _r=this.createClosure(yt);return function(){var Pn="";yt.type==="Identifier"&&(Pn=yt.name);var Ln=_r();if(!Ln||!Sa(Ln))throw ne.createInternalThrowError(Zt.FunctionUndefinedReferenceError,Pn,yt);if(yt.type==="Identifier"&&Ln.__IS_EVAL_FUNC&&Pn==="eval")return function(Ki){var Ea=ne.getScopeFromName(Pn,ne.getCurrentScope()),pa=Ea.name===Ai||Ea.name===qi||Ea.name===aa;return Ln(new ca(ne),Ki,!pa)};if(Ln.__IS_EVAL_FUNC)return function(Ki){return Ln(new ca(ne),Ki,!0)};if(Ln.__IS_FUNCTION_FUNC)return function(){for(var Ki=arguments.length,Ea=new Array(Ki),pa=0;pa<Ki;pa++)Ea[pa]=arguments[pa];return Ln.apply(void 0,[new ca(ne)].concat(Ea))};var Li=ne.options.globalContextInFunction;if(yt.type==="Identifier"){var sa=ne.getIdentifierScope(yt);sa.name===fi&&(Li=sa.data)}return Ln.bind(Li)}}},rt.callExpressionHandler=function(yt){var ne=this,_e=this.createCallFunctionGetter(yt.callee),or=yt.arguments.map(function(jr){return ne.createClosure(jr)});return function(){return _e().apply(void 0,or.map(function(jr){return jr()}))}},rt.functionExpressionHandler=function(yt){var ne=this,_e=this,or=this.source,jr=this.collectDeclVars,_r=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var Pn=yt.id?yt.id.name:"",Ln=yt.params.length,Li=yt.params.map(function(pa){return ne.createParamNameGetter(pa)}),sa=this.createClosure(yt.body),Ki=this.collectDeclVars,Ea=this.collectDeclFuncs;return this.collectDeclVars=jr,this.collectDeclFuncs=_r,function(){var pa=_e.getCurrentScope(),Fa=function Ua(){for(var vo=arguments.length,No=new Array(vo),Yo=0;Yo<vo;Yo++)No[Yo]=arguments[Yo];_e.callStack.push(""+Pn);var Ds=_e.getCurrentScope(),Go=pe(pa,"FunctionScope("+Pn+")");_e.setCurrentScope(Go),_e.addDeclarationsToScope(Ki,Ea,Go),Pn&&(Go.data[Pn]=Ua),Go.data.arguments=arguments,Li.forEach(function(Lo,Fo){Go.data[Lo()]=No[Fo]});var Io=_e.getCurrentContext();_e.setCurrentContext(this);var xo=sa();if(_e.setCurrentContext(Io),_e.setCurrentScope(Ds),_e.callStack.pop(),xo instanceof Ia)return xo.value};return ee(Fa,Pn),Object.defineProperty(Fa,"length",{value:Ln,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(Fa,"toString",{value:function(){return or.slice(yt.start,yt.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Fa,"valueOf",{value:function(){return or.slice(yt.start,yt.end)},writable:!0,configurable:!0,enumerable:!1}),Fa}},rt.newExpressionHandler=function(yt){var ne=this,_e=this.source,or=this.createClosure(yt.callee),jr=yt.arguments.map(function(_r){return ne.createClosure(_r)});return function(){var _r=or();if(!Sa(_r)||_r.__IS_EVAL_FUNC){var Pn=yt.callee,Ln=_e.slice(Pn.start,Pn.end);throw ne.createInternalThrowError(Zt.IsNotConstructor,Ln,yt)}return _r.__IS_FUNCTION_FUNC?_r.apply(void 0,[new ca(ne)].concat(jr.map(function(Li){return Li()}))):ur(_r,jr.map(function(Li){return Li()}))}},rt.memberExpressionHandler=function(yt){var ne=this.createClosure(yt.object),_e=this.createMemberKeyGetter(yt);return function(){var or=ne(),jr=_e();return or[jr]}},rt.thisExpressionHandler=function(yt){var ne=this;return function(){return ne.getCurrentContext()}},rt.sequenceExpressionHandler=function(yt){var ne=this,_e=yt.expressions.map(function(or){return ne.createClosure(or)});return function(){for(var or,jr=_e.length,_r=0;_r<jr;_r++){var Pn=_e[_r];or=Pn()}return or}},rt.literalHandler=function(yt){return function(){return yt.regex?new RegExp(yt.regex.pattern,yt.regex.flags):yt.value}},rt.identifierHandler=function(yt){var ne=this;return function(){var _e=ne.getCurrentScope(),or=ne.getScopeDataFromName(yt.name,_e);return ne.assertVariable(or,yt.name,yt),or[yt.name]}},rt.getIdentifierScope=function(yt){var ne=this.getCurrentScope(),_e=this.getScopeFromName(yt.name,ne);return _e},rt.assignmentExpressionHandler=function(yt){var ne=this;yt.left.type==="Identifier"&&yt.right.type==="FunctionExpression"&&!yt.right.id&&(yt.right.id={type:"Identifier",name:yt.left.name});var _e=this.createObjectGetter(yt.left),or=this.createNameGetter(yt.left),jr=this.createClosure(yt.right);return function(){var _r=_e(),Pn=or(),Ln=jr();switch(yt.operator!=="="&&ne.assertVariable(_r,Pn,yt),yt.operator){case"=":return _r[Pn]=Ln;case"+=":return _r[Pn]+=Ln;case"-=":return _r[Pn]-=Ln;case"*=":return _r[Pn]*=Ln;case"**=":return _r[Pn]=Math.pow(_r[Pn],Ln);case"/=":return _r[Pn]/=Ln;case"%=":return _r[Pn]%=Ln;case"<<=":return _r[Pn]<<=Ln;case">>=":return _r[Pn]>>=Ln;case">>>=":return _r[Pn]>>>=Ln;case"&=":return _r[Pn]&=Ln;case"^=":return _r[Pn]^=Ln;case"|=":return _r[Pn]|=Ln;default:throw ne.createInternalThrowError(Zt.AssignmentExpressionSyntaxError,yt.type,yt)}}},rt.functionDeclarationHandler=function(yt){if(yt.id){var ne=this.functionExpressionHandler(yt);Object.defineProperty(ne,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(yt.id.name,ne)}return function(){return xn}},rt.getVariableName=function(yt){if(yt.type==="Identifier")return yt.name;throw this.createInternalThrowError(Zt.VariableTypeSyntaxError,yt.type,yt)},rt.variableDeclarationHandler=function(yt){for(var ne=this,_e,or=[],jr=0;jr<yt.declarations.length;jr++){var _r=yt.declarations[jr];this.varDeclaration(this.getVariableName(_r.id)),_r.init&&or.push({type:"AssignmentExpression",operator:"=",left:_r.id,right:_r.init})}return or.length&&(_e=this.createClosure({type:"BlockStatement",body:or})),function(){if(_e){var Pn=ne.isVarDeclMode;ne.isVarDeclMode=!0,_e(),ne.isVarDeclMode=Pn}return xn}},rt.assertVariable=function(yt,ne,_e){if(yt===this.globalScope.data&&!(ne in yt))throw this.createInternalThrowError(Zt.VariableUndefinedReferenceError,ne,_e)},rt.programHandler=function(yt){var ne=this,_e=yt.body.map(function(or){return ne.createClosure(or)});return function(){for(var or=xn,jr=0;jr<_e.length;jr++){var _r=_e[jr],Pn=ne.setValue(_r());if(Pn!==xn&&(or=Pn,or instanceof Ia||or instanceof Va||or instanceof ro||or===Me||or===Er))break}return or}},rt.expressionStatementHandler=function(yt){return this.createClosure(yt.expression)},rt.emptyStatementHandler=function(yt){return function(){return xn}},rt.returnStatementHandler=function(yt){var ne=yt.argument?this.createClosure(yt.argument):be;return function(){return new Ia(ne())}},rt.ifStatementHandler=function(yt){var ne=this.createClosure(yt.test),_e=this.createClosure(yt.consequent),or=yt.alternate?this.createClosure(yt.alternate):function(){return xn};return function(){return ne()?_e():or()}},rt.conditionalExpressionHandler=function(yt){return this.ifStatementHandler(yt)},rt.forStatementHandler=function(yt){var ne=this,_e=be,or=yt.test?this.createClosure(yt.test):function(){return!0},jr=be,_r=this.createClosure(yt.body);return yt.type==="ForStatement"&&(_e=yt.init?this.createClosure(yt.init):_e,jr=yt.update?this.createClosure(yt.update):be),function(Pn){var Ln,Li=xn,sa=yt.type==="DoWhileStatement";for(Pn&&Pn.type==="LabeledStatement"&&(Ln=Pn.label.name),_e();sa||or();jr()){sa=!1;var Ki=ne.setValue(_r());if(!(Ki===xn||Ki===Er)){if(Ki===Me)break;if(Li=Ki,Li instanceof ro&&Li.value===Ln){Li=xn;continue}if(Li instanceof Ia||Li instanceof Va||Li instanceof ro)break}}return Li}},rt.whileStatementHandler=function(yt){return this.forStatementHandler(yt)},rt.doWhileStatementHandler=function(yt){return this.forStatementHandler(yt)},rt.forInStatementHandler=function(yt){var ne=this,_e=yt.left,or=this.createClosure(yt.right),jr=this.createClosure(yt.body);return yt.left.type==="VariableDeclaration"&&(this.createClosure(yt.left)(),_e=yt.left.declarations[0].id),function(_r){var Pn,Ln=xn,Li;_r&&_r.type==="LabeledStatement"&&(Pn=_r.label.name);var sa=or();for(Li in sa){ne.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:_e,right:{type:"Literal",value:Li}})();var Ki=ne.setValue(jr());if(!(Ki===xn||Ki===Er)){if(Ki===Me)break;if(Ln=Ki,Ln instanceof ro&&Ln.value===Pn){Ln=xn;continue}if(Ln instanceof Ia||Ln instanceof Va||Ln instanceof ro)break}}return Ln}},rt.withStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.object),or=this.createClosure(yt.body);return function(){var jr=_e(),_r=ne.getCurrentScope(),Pn=new xe(jr,_r,fi);ne.setCurrentScope(Pn);var Ln=ne.setValue(or());return ne.setCurrentScope(_r),Ln}},rt.throwStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.argument);return function(){throw ne.setValue(void 0),_e()}},rt.tryStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.block),or=yt.handler?this.catchClauseHandler(yt.handler):null,jr=yt.finalizer?this.createClosure(yt.finalizer):null;return function(){var _r=ne.getCurrentScope(),Pn=ne.getCurrentContext(),Ln=_r.labelStack.concat([]),Li=ne.callStack.concat([]),sa=xn,Ki,Ea,pa=function(){ne.setCurrentScope(_r),ne.setCurrentContext(Pn),_r.labelStack=Ln,ne.callStack=Li};try{sa=ne.setValue(_e()),sa instanceof Ia&&(Ki=sa)}catch(Fa){if(pa(),ne.isInterruptThrow(Fa))throw Fa;if(or)try{sa=ne.setValue(or(Fa)),sa instanceof Ia&&(Ki=sa)}catch(Ua){if(pa(),ne.isInterruptThrow(Ua))throw Ua;Ea=Ua}}if(jr)try{sa=jr(),sa instanceof Ia&&(Ki=sa)}catch(Fa){if(pa(),ne.isInterruptThrow(Fa))throw Fa;Ea=Fa}if(Ea)throw Ea;return Ki||sa}},rt.catchClauseHandler=function(yt){var ne=this,_e=this.createParamNameGetter(yt.param),or=this.createClosure(yt.body);return function(jr){var _r,Pn=ne.getCurrentScope(),Ln=Pn.data,Li=_e(),sa=Ae.call(Ln,Li),Ki=Ln[Li];return Ln[Li]=jr,_r=or(),sa?Ln[Li]=Ki:delete Ln[Li],_r}},rt.continueStatementHandler=function(yt){return function(){return yt.label?new ro(yt.label.name):Er}},rt.breakStatementHandler=function(yt){return function(){return yt.label?new Va(yt.label.name):Me}},rt.switchStatementHandler=function(yt){var ne=this,_e=this.createClosure(yt.discriminant),or=yt.cases.map(function(jr){return ne.switchCaseHandler(jr)});return function(){for(var jr=_e(),_r=!1,Pn,Ln,Li,sa=0;sa<or.length;sa++){var Ki=or[sa](),Ea=Ki.testClosure();if(Ea===dn){Li=Ki;continue}if(_r||Ea===jr){if(_r=!0,Ln=ne.setValue(Ki.bodyClosure()),Ln===xn)continue;if(Ln===Me||(Pn=Ln,Pn instanceof Ia||Pn instanceof Va||Pn instanceof ro||Pn===Er))break}}if(!_r&&Li){Ln=ne.setValue(Li.bodyClosure());var pa=Ln===xn||Ln===Me||Ln===Er;pa||(Pn=Ln)}return Pn}},rt.switchCaseHandler=function(yt){var ne=yt.test?this.createClosure(yt.test):function(){return dn},_e=this.createClosure({type:"BlockStatement",body:yt.consequent});return function(){return{testClosure:ne,bodyClosure:_e}}},rt.labeledStatementHandler=function(yt){var ne=this,_e=yt.label.name,or=this.createClosure(yt.body);return function(){var jr,_r=ne.getCurrentScope();return _r.labelStack.push(_e),jr=or(yt),jr instanceof Va&&jr.value===_e&&(jr=xn),_r.labelStack.pop(),jr}},rt.debuggerStatementHandler=function(yt){return function(){debugger;return xn}},rt.createParamNameGetter=function(yt){if(yt.type==="Identifier")return function(){return yt.name};throw this.createInternalThrowError(Zt.ParamTypeSyntaxError,yt.type,yt)},rt.createObjectKeyGetter=function(yt){var ne;return yt.type==="Identifier"?ne=function(){return yt.name}:ne=this.createClosure(yt),function(){return ne()}},rt.createMemberKeyGetter=function(yt){return yt.computed?this.createClosure(yt.property):this.createObjectKeyGetter(yt.property)},rt.createObjectGetter=function(yt){var ne=this;switch(yt.type){case"Identifier":return function(){return ne.getScopeDataFromName(yt.name,ne.getCurrentScope())};case"MemberExpression":return this.createClosure(yt.object);default:throw this.createInternalThrowError(Zt.AssignmentTypeSyntaxError,yt.type,yt)}},rt.createNameGetter=function(yt){switch(yt.type){case"Identifier":return function(){return yt.name};case"MemberExpression":return this.createMemberKeyGetter(yt);default:throw this.createInternalThrowError(Zt.AssignmentTypeSyntaxError,yt.type,yt)}},rt.varDeclaration=function(yt){var ne=this.collectDeclVars;ne[yt]=void 0},rt.funcDeclaration=function(yt,ne){var _e=this.collectDeclFuncs;_e[yt]=ne},rt.addDeclarationsToScope=function(yt,ne,_e){var or=_e.data;for(var jr in ne){var _r=ne[jr];or[jr]=_r&&_r()}for(var Pn in yt)Pn in or||(or[Pn]=void 0)},rt.getScopeValue=function(yt,ne){var _e=this.getScopeFromName(yt,ne);return _e.data[yt]},rt.getScopeDataFromName=function(yt,ne){return this.getScopeFromName(yt,ne).data},rt.getScopeFromName=function(yt,ne){var _e=ne;do if(yt in _e.data)return _e;while(_e=_e.parent);return this.globalScope},rt.setValue=function(yt){var ne=this.callStack.length;return this.isVarDeclMode||ne||yt===xn||yt===Me||yt===Er||yt instanceof Va||yt instanceof ro||(this.value=yt instanceof Ia?yt.value:yt),yt},rt.getValue=function(){return this.value},k}();dt.version=Vt,dt.eval=to,dt.Function=za,dt.ecmaVersion=5,dt.globalContextInFunction=void 0,dt.global=Object.create(null);function Dt(k){return k===void 0&&(k=Object.create(null)),k}function te(k,rt,Bt){rt===void 0&&(rt=[]),Bt===void 0&&(Bt={});var yt=Bt.parsingContext,ne=Bt.timeout===void 0?0:Bt.timeout,_e=`
    (function anonymous(`+rt.join(",")+`){
         `+k+`
    });
    `,or=new dt(yt,{ecmaVersion:Bt.ecmaVersion,timeout:ne,rootContext:Bt.rootContext,globalContextInFunction:Bt.globalContextInFunction});return or.evaluate(_e)}function We(k,rt,Bt){var yt=new dt(rt,Bt);return yt.evaluate(k)}var cr=We,zr=function(){function k(Bt){this._code=Bt}var rt=k.prototype;return rt.runInContext=function(yt){return We(this._code,yt)},rt.runInNewContext=function(yt){return We(this._code,yt)},k}(),Rt=function(k,rt,Bt){return We(k,rt,Bt)};function Si(){for(var k=arguments.length,rt=new Array(k),Bt=0;Bt<k;Bt++)rt[Bt]=arguments[Bt];var yt=rt.pop();return te(yt||"",rt)}var ri=Rt},88307:function(mr,P,S){(function(i,t){mr.exports=t(S(18857))})(this,function(i){"use strict";var t=function(Wt){return Wt instanceof Uint8Array||Wt instanceof Uint16Array||Wt instanceof Uint32Array||Wt instanceof Int8Array||Wt instanceof Int16Array||Wt instanceof Int32Array||Wt instanceof Float32Array||Wt instanceof Float64Array||Wt instanceof Uint8ClampedArray},c=function(Wt,Ue){for(var fr=Object.keys(Ue),vn=0;vn<fr.length;++vn)Wt[fr[vn]]=Ue[fr[vn]];return Wt},s=`
`;function v(Wt){return typeof atob!="undefined"?atob(Wt):"base64:"+Wt}function o(Wt){var Ue=new Error("(regl) "+Wt);throw console.error(Ue),Ue}function f(Wt,Ue){Wt||o(Ue)}function r(Wt){return Wt?": "+Wt:""}function e(Wt,Ue,fr){Wt in Ue||o("unknown parameter ("+Wt+")"+r(fr)+". possible values: "+Object.keys(Ue).join())}function n(Wt,Ue){t(Wt)||o("invalid parameter type"+r(Ue)+". must be a typed array")}function a(Wt,Ue){switch(Ue){case"number":return typeof Wt=="number";case"object":return typeof Wt=="object";case"string":return typeof Wt=="string";case"boolean":return typeof Wt=="boolean";case"function":return typeof Wt=="function";case"undefined":return typeof Wt=="undefined";case"symbol":return typeof Wt=="symbol"}}function u(Wt,Ue,fr){a(Wt,Ue)||o("invalid parameter type"+r(fr)+". expected "+Ue+", got "+typeof Wt)}function l(Wt,Ue){Wt>=0&&(Wt|0)===Wt||o("invalid parameter type, ("+Wt+")"+r(Ue)+". must be a nonnegative integer")}function h(Wt,Ue,fr){Ue.indexOf(Wt)<0&&o("invalid value"+r(fr)+". must be one of: "+Ue)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function d(Wt){Object.keys(Wt).forEach(function(Ue){p.indexOf(Ue)<0&&o('invalid regl constructor argument "'+Ue+'". must be one of '+p)})}function g(Wt,Ue){for(Wt=Wt+"";Wt.length<Ue;)Wt=" "+Wt;return Wt}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function x(Wt,Ue){this.number=Wt,this.line=Ue,this.errors=[]}function A(Wt,Ue,fr){this.file=Wt,this.line=Ue,this.message=fr}function m(){var Wt=new Error,Ue=(Wt.stack||Wt).toString(),fr=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Ue);if(fr)return fr[1];var vn=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Ue);return vn?vn[1]:"unknown"}function M(){var Wt=new Error,Ue=(Wt.stack||Wt).toString(),fr=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Ue);if(fr)return fr[1];var vn=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Ue);return vn?vn[1]:"unknown"}function b(Wt,Ue){var fr=Wt.split(`
`),vn=1,jn=0,hn={unknown:new y,0:new y};hn.unknown.name=hn[0].name=Ue||m(),hn.unknown.lines.push(new x(0,""));for(var On=0;On<fr.length;++On){var zn=fr[On],Jn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(zn);if(Jn)switch(Jn[1]){case"line":var oi=/(\d+)(\s+\d+)?/.exec(Jn[2]);oi&&(vn=oi[1]|0,oi[2]&&(jn=oi[2]|0,jn in hn||(hn[jn]=new y)));break;case"define":var ui=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Jn[2]);ui&&(hn[jn].name=ui[1]?v(ui[2]):ui[2]);break}hn[jn].lines.push(new x(vn++,zn))}return Object.keys(hn).forEach(function(li){var si=hn[li];si.lines.forEach(function(Kn){si.index[Kn.number]=Kn})}),hn}function E(Wt){var Ue=[];return Wt.split(`
`).forEach(function(fr){if(!(fr.length<5)){var vn=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(fr);vn?Ue.push(new A(vn[1]|0,vn[2]|0,vn[3].trim())):fr.length>0&&Ue.push(new A("unknown",0,fr))}}),Ue}function C(Wt,Ue){Ue.forEach(function(fr){var vn=Wt[fr.file];if(vn){var jn=vn.index[fr.line];if(jn){jn.errors.push(fr),vn.hasErrors=!0;return}}Wt.unknown.hasErrors=!0,Wt.unknown.lines[0].errors.push(fr)})}function T(Wt,Ue,fr,vn,jn){if(!Wt.getShaderParameter(Ue,Wt.COMPILE_STATUS)){var hn=Wt.getShaderInfoLog(Ue),On=vn===Wt.FRAGMENT_SHADER?"fragment":"vertex";Z(fr,"string",On+" shader source must be a string",jn);var zn=b(fr,jn),Jn=E(hn);C(zn,Jn),Object.keys(zn).forEach(function(oi){var ui=zn[oi];if(!ui.hasErrors)return;var li=[""],si=[""];function Kn(ni,Xr){li.push(ni),si.push(Xr||"")}Kn("file number "+oi+": "+ui.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ui.lines.forEach(function(ni){if(ni.errors.length>0){Kn(g(ni.number,4)+"|  ","background-color:yellow; font-weight:bold"),Kn(ni.line+s,"color:red; background-color:yellow; font-weight:bold");var Xr=0;ni.errors.forEach(function(An){var ei=An.message,_i=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ei);if(_i){var Vn=_i[1];switch(ei=_i[2],Vn){case"assign":Vn="=";break}Xr=Math.max(ni.line.indexOf(Vn,Xr),0)}else Xr=0;Kn(g("| ",6)),Kn(g("^^^",Xr+3)+s,"font-weight:bold"),Kn(g("| ",6)),Kn(ei+s,"font-weight:bold")}),Kn(g("| ",6)+s)}else Kn(g(ni.number,4)+"|  "),Kn(ni.line+s,"color:red")}),typeof document!="undefined"&&!window.chrome?(si[0]=li.join("%c"),console.log.apply(console,si)):console.log(li.join(""))}),f.raise("Error compiling "+On+" shader, "+zn[0].name)}}function O(Wt,Ue,fr,vn,jn){if(!Wt.getProgramParameter(Ue,Wt.LINK_STATUS)){var hn=Wt.getProgramInfoLog(Ue),On=b(fr,jn),zn=b(vn,jn),Jn='Error linking program with vertex shader, "'+zn[0].name+'", and fragment shader "'+On[0].name+'"';typeof document!="undefined"?console.log("%c"+Jn+s+"%c"+hn,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Jn+s+hn),f.raise(Jn)}}function L(Wt){Wt._commandRef=m()}function R(Wt,Ue,fr,vn){L(Wt);function jn(Jn){return Jn?vn.id(Jn):0}Wt._fragId=jn(Wt.static.frag),Wt._vertId=jn(Wt.static.vert);function hn(Jn,oi){Object.keys(oi).forEach(function(ui){Jn[vn.id(ui)]=!0})}var On=Wt._uniformSet={};hn(On,Ue.static),hn(On,Ue.dynamic);var zn=Wt._attributeSet={};hn(zn,fr.static),hn(zn,fr.dynamic),Wt._hasCount="count"in Wt.static||"count"in Wt.dynamic||"elements"in Wt.static||"elements"in Wt.dynamic}function W(Wt,Ue){var fr=M();o(Wt+" in command "+(Ue||m())+(fr==="unknown"?"":" called from "+fr))}function U(Wt,Ue,fr){Wt||W(Ue,fr||m())}function X(Wt,Ue,fr,vn){Wt in Ue||W("unknown parameter ("+Wt+")"+r(fr)+". possible values: "+Object.keys(Ue).join(),vn||m())}function Z(Wt,Ue,fr,vn){a(Wt,Ue)||W("invalid parameter type"+r(fr)+". expected "+Ue+", got "+typeof Wt,vn||m())}function J(Wt){Wt()}function ht(Wt,Ue,fr){Wt.texture?h(Wt.texture._texture.internalformat,Ue,"unsupported texture format for attachment"):h(Wt.renderbuffer._renderbuffer.format,fr,"unsupported renderbuffer format for attachment")}var at=33071,Q=9728,xt=9984,kt=9985,Nt=9986,nt=9987,q=5120,G=5121,N=5122,it=5123,H=5124,ct=5125,ft=5126,K=32819,$=32820,et=33635,j=34042,w=36193,D={};D[q]=D[G]=1,D[N]=D[it]=D[w]=D[et]=D[K]=D[$]=2,D[H]=D[ct]=D[ft]=D[j]=4;function V(Wt,Ue){return Wt===$||Wt===K||Wt===et?2:Wt===j?4:D[Wt]*Ue}function tt(Wt){return!(Wt&Wt-1)&&!!Wt}function lt(Wt,Ue,fr){var vn,jn=Ue.width,hn=Ue.height,On=Ue.channels;f(jn>0&&jn<=fr.maxTextureSize&&hn>0&&hn<=fr.maxTextureSize,"invalid texture shape"),(Wt.wrapS!==at||Wt.wrapT!==at)&&f(tt(jn)&&tt(hn),"incompatible wrap mode for texture, both width and height must be power of 2"),Ue.mipmask===1?jn!==1&&hn!==1&&f(Wt.minFilter!==xt&&Wt.minFilter!==Nt&&Wt.minFilter!==kt&&Wt.minFilter!==nt,"min filter requires mipmap"):(f(tt(jn)&&tt(hn),"texture must be a square power of 2 to support mipmapping"),f(Ue.mipmask===(jn<<1)-1,"missing or incomplete mipmap data")),Ue.type===ft&&(fr.extensions.indexOf("oes_texture_float_linear")<0&&f(Wt.minFilter===Q&&Wt.magFilter===Q,"filter not supported, must enable oes_texture_float_linear"),f(!Wt.genMipmaps,"mipmap generation not supported with float textures"));var zn=Ue.images;for(vn=0;vn<16;++vn)if(zn[vn]){var Jn=jn>>vn,oi=hn>>vn;f(Ue.mipmask&1<<vn,"missing mipmap data");var ui=zn[vn];if(f(ui.width===Jn&&ui.height===oi,"invalid shape for mip images"),f(ui.format===Ue.format&&ui.internalformat===Ue.internalformat&&ui.type===Ue.type,"incompatible type for mip image"),!ui.compressed)if(ui.data){var li=Math.ceil(V(ui.type,On)*Jn/ui.unpackAlignment)*ui.unpackAlignment;f(ui.data.byteLength===li*oi,"invalid data for image, buffer size is inconsistent with image format")}else ui.element||ui.copy}else Wt.genMipmaps||f((Ue.mipmask&1<<vn)==0,"extra mipmap data");Ue.compressed&&f(!Wt.genMipmaps,"mipmap generation for compressed images not supported")}function St(Wt,Ue,fr,vn){var jn=Wt.width,hn=Wt.height,On=Wt.channels;f(jn>0&&jn<=vn.maxTextureSize&&hn>0&&hn<=vn.maxTextureSize,"invalid texture shape"),f(jn===hn,"cube map must be square"),f(Ue.wrapS===at&&Ue.wrapT===at,"wrap mode not supported by cube map");for(var zn=0;zn<fr.length;++zn){var Jn=fr[zn];f(Jn.width===jn&&Jn.height===hn,"inconsistent cube map face shape"),Ue.genMipmaps&&(f(!Jn.compressed,"can not generate mipmap for compressed textures"),f(Jn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var oi=Jn.images,ui=0;ui<16;++ui){var li=oi[ui];if(li){var si=jn>>ui,Kn=hn>>ui;f(Jn.mipmask&1<<ui,"missing mipmap data"),f(li.width===si&&li.height===Kn,"invalid shape for mip images"),f(li.format===Wt.format&&li.internalformat===Wt.internalformat&&li.type===Wt.type,"incompatible type for mip image"),li.compressed||(li.data?f(li.data.byteLength===si*Kn*Math.max(V(li.type,On),li.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):li.element||li.copy)}}}}var ot=c(f,{optional:J,raise:o,commandRaise:W,command:U,parameter:e,commandParameter:X,constructor:d,type:u,commandType:Z,isTypedArray:n,nni:l,oneOf:h,shaderError:T,linkError:O,callSite:M,saveCommandRef:L,saveDrawInfo:R,framebufferFormat:ht,guessCommand:m,texture2D:lt,textureCube:St}),Mt=0,Ot=0,Ft=5,zt=6;function $t(Wt,Ue){this.id=Mt++,this.type=Wt,this.data=Ue}function he(Wt){return Wt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ye(Wt){if(Wt.length===0)return[];var Ue=Wt.charAt(0),fr=Wt.charAt(Wt.length-1);if(Wt.length>1&&Ue===fr&&(Ue==='"'||Ue==="'"))return['"'+he(Wt.substr(1,Wt.length-2))+'"'];var vn=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Wt);if(vn)return ye(Wt.substr(0,vn.index)).concat(ye(vn[1])).concat(ye(Wt.substr(vn.index+vn[0].length)));var jn=Wt.split(".");if(jn.length===1)return['"'+he(Wt)+'"'];for(var hn=[],On=0;On<jn.length;++On)hn=hn.concat(ye(jn[On]));return hn}function tr(Wt){return"["+ye(Wt).join("][")+"]"}function nr(Wt,Ue){return new $t(Wt,tr(Ue+""))}function Xe(Wt){return typeof Wt=="function"&&!Wt._reglType||Wt instanceof $t}function yr(Wt,Ue){if(typeof Wt=="function")return new $t(Ot,Wt);if(typeof Wt=="number"||typeof Wt=="boolean")return new $t(Ft,Wt);if(Array.isArray(Wt))return new $t(zt,Wt.map(function(fr,vn){return yr(fr,Ue+"["+vn+"]")}));if(Wt instanceof $t)return Wt;ot(!1,"invalid option type in uniform "+Ue)}var Vr={DynamicVariable:$t,define:nr,isDynamic:Xe,unbox:yr,accessor:tr},Ee={next:typeof requestAnimationFrame=="function"?function(Wt){return requestAnimationFrame(Wt)}:function(Wt){return setTimeout(Wt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Wt){return cancelAnimationFrame(Wt)}:clearTimeout},de=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",Ge=de?function(){return+new Date}:typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ke(){var Wt={"":0},Ue=[""];return{id:function(fr){var vn=Wt[fr];return vn||(vn=Wt[fr]=Ue.length,Ue.push(fr),vn)},str:function(fr){return Ue[fr]}}}function Kr(Wt,Ue,fr){var vn=document.createElement("canvas");c(vn.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Wt.appendChild(vn),Wt===document.body&&(vn.style.position="absolute",c(Wt.style,{margin:0,padding:0}));function jn(){var zn=window.innerWidth,Jn=window.innerHeight;if(Wt!==document.body){var oi=vn.getBoundingClientRect();zn=oi.right-oi.left,Jn=oi.bottom-oi.top}vn.width=fr*zn,vn.height=fr*Jn}var hn;Wt!==document.body&&typeof ResizeObserver=="function"?(hn=new ResizeObserver(function(){setTimeout(jn)}),hn.observe(Wt)):window.addEventListener("resize",jn,!1);function On(){hn?hn.disconnect():window.removeEventListener("resize",jn),Wt.removeChild(vn)}return jn(),{canvas:vn,onDestroy:On}}function fn(Wt,Ue){function fr(vn){try{return Wt.getContext(vn,Ue)}catch(jn){return null}}return fr("webgl")||fr("experimental-webgl")||fr("webgl-experimental")}function pi(Wt){return typeof Wt.nodeName=="string"&&typeof Wt.appendChild=="function"&&typeof Wt.getBoundingClientRect=="function"}function Vi(Wt){return typeof Wt.drawArrays=="function"||typeof Wt.drawElements=="function"}function ea(Wt){return typeof Wt=="string"?Wt.split():(ot(Array.isArray(Wt),"invalid extension array"),Wt)}function zi(Wt){return typeof Wt=="string"?(ot(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Wt)):Wt}function Te(Wt){var Ue=Wt||{},fr,vn,jn,hn,On={},zn=[],Jn=[],oi=typeof window=="undefined"?1:window.devicePixelRatio,ui=!1,li=function(ni){ni&&ot.raise(ni)},si=function(){};if(typeof Ue=="string"?(ot(typeof document!="undefined","selector queries only supported in DOM environments"),fr=document.querySelector(Ue),ot(fr,"invalid query string for element")):typeof Ue=="object"?pi(Ue)?fr=Ue:Vi(Ue)?(hn=Ue,jn=hn.canvas):(ot.constructor(Ue),"gl"in Ue?hn=Ue.gl:"canvas"in Ue?jn=zi(Ue.canvas):"container"in Ue&&(vn=zi(Ue.container)),"attributes"in Ue&&(On=Ue.attributes,ot.type(On,"object","invalid context attributes")),"extensions"in Ue&&(zn=ea(Ue.extensions)),"optionalExtensions"in Ue&&(Jn=ea(Ue.optionalExtensions)),"onDone"in Ue&&(ot.type(Ue.onDone,"function","invalid or missing onDone callback"),li=Ue.onDone),"profile"in Ue&&(ui=!!Ue.profile),"pixelRatio"in Ue&&(oi=+Ue.pixelRatio,ot(oi>0,"invalid pixel ratio"))):ot.raise("invalid arguments to regl"),fr&&(fr.nodeName.toLowerCase()==="canvas"?jn=fr:vn=fr),!hn){if(!jn){ot(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Kn=Kr(vn||document.body,li,oi);if(!Kn)return null;jn=Kn.canvas,si=Kn.onDestroy}On.premultipliedAlpha===void 0&&(On.premultipliedAlpha=!0),hn=fn(jn,On)}return hn?{gl:hn,canvas:jn,container:vn,extensions:zn,optionalExtensions:Jn,pixelRatio:oi,profile:ui,onDone:li,onDestroy:si}:(si(),li("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Be(Wt,Ue){var fr={};function vn(zn){ot.type(zn,"string","extension name must be string");var Jn=zn.toLowerCase(),oi;try{oi=fr[Jn]=jn(zn)}catch(ui){}return!!oi}function jn(zn){return Wt.getExtension(zn)?Wt.getExtension(zn):Wt.getExtension(zn.toLowerCase())?Wt.getExtension(zn.toLowerCase()):null}for(var hn=0;hn<Ue.extensions.length;++hn){var On=Ue.extensions[hn];if(!vn(On))return Ue.onDestroy(),Ue.onDone('"'+On+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Ue.optionalExtensions.forEach(vn),{extensions:fr,restore:function(){Object.keys(fr).forEach(function(zn){if(fr[zn]&&!vn(zn))throw new Error("(regl): error restoring extension "+zn)})}}}function lr(Wt,Ue){for(var fr=Array(Wt),vn=0;vn<Wt;++vn)fr[vn]=Ue(vn);return fr}var Or=5120,sr=5121,Dr=5122,En=5123,Yn=5124,ln=5125,Jr=5126;function Wn(Wt){for(var Ue=16;Ue<=1<<28;Ue*=16)if(Wt<=Ue)return Ue;return 0}function $n(Wt){var Ue,fr;return Ue=(Wt>65535)<<4,Wt>>>=Ue,fr=(Wt>255)<<3,Wt>>>=fr,Ue|=fr,fr=(Wt>15)<<2,Wt>>>=fr,Ue|=fr,fr=(Wt>3)<<1,Wt>>>=fr,Ue|=fr,Ue|Wt>>1}function Gr(){var Wt=lr(8,function(){return[]});function Ue(hn){var On=Wn(hn),zn=Wt[$n(On)>>2];return zn.length>0?zn.pop():new ArrayBuffer(On)}function fr(hn){Wt[$n(hn.byteLength)>>2].push(hn)}function vn(hn,On){var zn=null;switch(hn){case Or:zn=new Int8Array(Ue(On),0,On);break;case sr:zn=new Uint8Array(Ue(On),0,On);break;case Dr:zn=new Int16Array(Ue(2*On),0,On);break;case En:zn=new Uint16Array(Ue(2*On),0,On);break;case Yn:zn=new Int32Array(Ue(4*On),0,On);break;case ln:zn=new Uint32Array(Ue(4*On),0,On);break;case Jr:zn=new Float32Array(Ue(4*On),0,On);break;default:return null}return zn.length!==On?zn.subarray(0,On):zn}function jn(hn){fr(hn.buffer)}return{alloc:Ue,free:fr,allocType:vn,freeType:jn}}var wr=Gr();wr.zero=Gr();var ti=3408,ge=3410,Le=3411,Se=3412,Ve=3413,le=3414,vr=3415,He=33901,rr=33902,Lr=3379,Mr=3386,rn=34921,pn=36347,qr=36348,Dn=35661,ae=35660,er=34930,ar=36349,kr=34076,Rn=34024,di=7936,Yi=7937,da=7938,_a=35724,fa=34047,wo=36063,ho=34852,mo=3553,yo=34067,zo=34069,io=33984,Za=6408,qa=5126,Zt=5121,je=36160,ur=36053,Br=36064,Vt=16384,ee=function(Wt,Ue){var fr=1;Ue.ext_texture_filter_anisotropic&&(fr=Wt.getParameter(fa));var vn=1,jn=1;Ue.webgl_draw_buffers&&(vn=Wt.getParameter(ho),jn=Wt.getParameter(wo));var hn=!!Ue.oes_texture_float;if(hn){var On=Wt.createTexture();Wt.bindTexture(mo,On),Wt.texImage2D(mo,0,Za,1,1,0,Za,qa,null);var zn=Wt.createFramebuffer();if(Wt.bindFramebuffer(je,zn),Wt.framebufferTexture2D(je,Br,mo,On,0),Wt.bindTexture(mo,null),Wt.checkFramebufferStatus(je)!==ur)hn=!1;else{Wt.viewport(0,0,1,1),Wt.clearColor(1,0,0,1),Wt.clear(Vt);var Jn=wr.allocType(qa,4);Wt.readPixels(0,0,1,1,Za,qa,Jn),Wt.getError()?hn=!1:(Wt.deleteFramebuffer(zn),Wt.deleteTexture(On),hn=Jn[0]===1),wr.freeType(Jn)}}var oi=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ui=!0;if(!oi){var li=Wt.createTexture(),si=wr.allocType(Zt,36);Wt.activeTexture(io),Wt.bindTexture(yo,li),Wt.texImage2D(zo,0,Za,3,3,0,Za,Zt,si),wr.freeType(si),Wt.bindTexture(yo,null),Wt.deleteTexture(li),ui=!Wt.getError()}return{colorBits:[Wt.getParameter(ge),Wt.getParameter(Le),Wt.getParameter(Se),Wt.getParameter(Ve)],depthBits:Wt.getParameter(le),stencilBits:Wt.getParameter(vr),subpixelBits:Wt.getParameter(ti),extensions:Object.keys(Ue).filter(function(Kn){return!!Ue[Kn]}),maxAnisotropic:fr,maxDrawbuffers:vn,maxColorAttachments:jn,pointSizeDims:Wt.getParameter(He),lineWidthDims:Wt.getParameter(rr),maxViewportDims:Wt.getParameter(Mr),maxCombinedTextureUnits:Wt.getParameter(Dn),maxCubeMapSize:Wt.getParameter(kr),maxRenderbufferSize:Wt.getParameter(Rn),maxTextureUnits:Wt.getParameter(er),maxTextureSize:Wt.getParameter(Lr),maxAttributes:Wt.getParameter(rn),maxVertexUniforms:Wt.getParameter(pn),maxVertexTextureUnits:Wt.getParameter(ae),maxVaryingVectors:Wt.getParameter(qr),maxFragmentUniforms:Wt.getParameter(ar),glsl:Wt.getParameter(_a),renderer:Wt.getParameter(Yi),vendor:Wt.getParameter(di),version:Wt.getParameter(da),readFloat:hn,npotTextureCube:ui}};function Ae(Wt){return!!Wt&&typeof Wt=="object"&&Array.isArray(Wt.shape)&&Array.isArray(Wt.stride)&&typeof Wt.offset=="number"&&Wt.shape.length===Wt.stride.length&&(Array.isArray(Wt.data)||t(Wt.data))}var Me=function(Wt){return Object.keys(Wt).map(function(Ue){return Wt[Ue]})},Er={shape:qi,flatten:aa};function dn(Wt,Ue,fr){for(var vn=0;vn<Ue;++vn)fr[vn]=Wt[vn]}function xn(Wt,Ue,fr,vn){for(var jn=0,hn=0;hn<Ue;++hn)for(var On=Wt[hn],zn=0;zn<fr;++zn)vn[jn++]=On[zn]}function fi(Wt,Ue,fr,vn,jn,hn){for(var On=hn,zn=0;zn<Ue;++zn)for(var Jn=Wt[zn],oi=0;oi<fr;++oi)for(var ui=Jn[oi],li=0;li<vn;++li)jn[On++]=ui[li]}function Ai(Wt,Ue,fr,vn,jn){for(var hn=1,On=fr+1;On<Ue.length;++On)hn*=Ue[On];var zn=Ue[fr];if(Ue.length-fr==4){var Jn=Ue[fr+1],oi=Ue[fr+2],ui=Ue[fr+3];for(On=0;On<zn;++On)fi(Wt[On],Jn,oi,ui,vn,jn),jn+=hn}else for(On=0;On<zn;++On)Ai(Wt[On],Ue,fr+1,vn,jn),jn+=hn}function aa(Wt,Ue,fr,vn){var jn=1;if(Ue.length)for(var hn=0;hn<Ue.length;++hn)jn*=Ue[hn];else jn=0;var On=vn||wr.allocType(fr,jn);switch(Ue.length){case 0:break;case 1:dn(Wt,Ue[0],On);break;case 2:xn(Wt,Ue[0],Ue[1],On);break;case 3:fi(Wt,Ue[0],Ue[1],Ue[2],On,0);break;default:Ai(Wt,Ue,0,On,0)}return On}function qi(Wt){for(var Ue=[],fr=Wt;fr.length;fr=fr[0])Ue.push(fr.length);return Ue}var Sa={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ca=5120,to=5122,za=5124,Ia=5121,Va=5123,ro=5125,xe=5126,be=5126,pe={int8:ca,int16:to,int32:za,uint8:Ia,uint16:Va,uint32:ro,float:xe,float32:be},vt=35048,gt=35040,dt={dynamic:vt,stream:gt,static:35044},Dt=Er.flatten,te=Er.shape,We=35044,cr=35040,zr=5121,Rt=5126,Si=[];Si[5120]=1,Si[5122]=2,Si[5124]=4,Si[5121]=1,Si[5123]=2,Si[5125]=4,Si[5126]=4;function ri(Wt){return Sa[Object.prototype.toString.call(Wt)]|0}function k(Wt,Ue){for(var fr=0;fr<Ue.length;++fr)Wt[fr]=Ue[fr]}function rt(Wt,Ue,fr,vn,jn,hn,On){for(var zn=0,Jn=0;Jn<fr;++Jn)for(var oi=0;oi<vn;++oi)Wt[zn++]=Ue[jn*Jn+hn*oi+On]}function Bt(Wt,Ue,fr,vn){var jn=0,hn={};function On(Xr){this.id=jn++,this.buffer=Wt.createBuffer(),this.type=Xr,this.usage=We,this.byteLength=0,this.dimension=1,this.dtype=zr,this.persistentData=null,fr.profile&&(this.stats={size:0})}On.prototype.bind=function(){Wt.bindBuffer(this.type,this.buffer)},On.prototype.destroy=function(){si(this)};var zn=[];function Jn(Xr,An){var ei=zn.pop();return ei||(ei=new On(Xr)),ei.bind(),li(ei,An,cr,0,1,!1),ei}function oi(Xr){zn.push(Xr)}function ui(Xr,An,ei){Xr.byteLength=An.byteLength,Wt.bufferData(Xr.type,An,ei)}function li(Xr,An,ei,_i,Vn,Ri){var Mi;if(Xr.usage=ei,Array.isArray(An)){if(Xr.dtype=_i||Rt,An.length>0){var oa;if(Array.isArray(An[0])){Mi=te(An);for(var Un=1,_n=1;_n<Mi.length;++_n)Un*=Mi[_n];Xr.dimension=Un,oa=Dt(An,Mi,Xr.dtype),ui(Xr,oa,ei),Ri?Xr.persistentData=oa:wr.freeType(oa)}else if(typeof An[0]=="number"){Xr.dimension=Vn;var Zi=wr.allocType(Xr.dtype,An.length);k(Zi,An),ui(Xr,Zi,ei),Ri?Xr.persistentData=Zi:wr.freeType(Zi)}else t(An[0])?(Xr.dimension=An[0].length,Xr.dtype=_i||ri(An[0])||Rt,oa=Dt(An,[An.length,An[0].length],Xr.dtype),ui(Xr,oa,ei),Ri?Xr.persistentData=oa:wr.freeType(oa)):ot.raise("invalid buffer data")}}else if(t(An))Xr.dtype=_i||ri(An),Xr.dimension=Vn,ui(Xr,An,ei),Ri&&(Xr.persistentData=new Uint8Array(new Uint8Array(An.buffer)));else if(Ae(An)){Mi=An.shape;var Ei=An.stride,Qn=An.offset,mi=0,Ii=0,Na=0,xa=0;Mi.length===1?(mi=Mi[0],Ii=1,Na=Ei[0],xa=0):Mi.length===2?(mi=Mi[0],Ii=Mi[1],Na=Ei[0],xa=Ei[1]):ot.raise("invalid shape"),Xr.dtype=_i||ri(An.data)||Rt,Xr.dimension=Ii;var wi=wr.allocType(Xr.dtype,mi*Ii);rt(wi,An.data,mi,Ii,Na,xa,Qn),ui(Xr,wi,ei),Ri?Xr.persistentData=wi:wr.freeType(wi)}else An instanceof ArrayBuffer?(Xr.dtype=zr,Xr.dimension=Vn,ui(Xr,An,ei),Ri&&(Xr.persistentData=new Uint8Array(new Uint8Array(An)))):ot.raise("invalid buffer data")}function si(Xr){Ue.bufferCount--,vn(Xr);var An=Xr.buffer;ot(An,"buffer must not be deleted already"),Wt.deleteBuffer(An),Xr.buffer=null,delete hn[Xr.id]}function Kn(Xr,An,ei,_i){Ue.bufferCount++;var Vn=new On(An);hn[Vn.id]=Vn;function Ri(Un){var _n=We,Zi=null,Ei=0,Qn=0,mi=1;return Array.isArray(Un)||t(Un)||Ae(Un)||Un instanceof ArrayBuffer?Zi=Un:typeof Un=="number"?Ei=Un|0:Un&&(ot.type(Un,"object","buffer arguments must be an object, a number or an array"),"data"in Un&&(ot(Zi===null||Array.isArray(Zi)||t(Zi)||Ae(Zi),"invalid data for buffer"),Zi=Un.data),"usage"in Un&&(ot.parameter(Un.usage,dt,"invalid buffer usage"),_n=dt[Un.usage]),"type"in Un&&(ot.parameter(Un.type,pe,"invalid buffer type"),Qn=pe[Un.type]),"dimension"in Un&&(ot.type(Un.dimension,"number","invalid dimension"),mi=Un.dimension|0),"length"in Un&&(ot.nni(Ei,"buffer length must be a nonnegative integer"),Ei=Un.length|0)),Vn.bind(),Zi?li(Vn,Zi,_n,Qn,mi,_i):(Ei&&Wt.bufferData(Vn.type,Ei,_n),Vn.dtype=Qn||zr,Vn.usage=_n,Vn.dimension=mi,Vn.byteLength=Ei),fr.profile&&(Vn.stats.size=Vn.byteLength*Si[Vn.dtype]),Ri}function Mi(Un,_n){ot(_n+Un.byteLength<=Vn.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Un.byteLength+" starting from offset "+_n+" to a buffer of size "+Vn.byteLength),Wt.bufferSubData(Vn.type,_n,Un)}function oa(Un,_n){var Zi=(_n||0)|0,Ei;if(Vn.bind(),t(Un)||Un instanceof ArrayBuffer)Mi(Un,Zi);else if(Array.isArray(Un)){if(Un.length>0)if(typeof Un[0]=="number"){var Qn=wr.allocType(Vn.dtype,Un.length);k(Qn,Un),Mi(Qn,Zi),wr.freeType(Qn)}else if(Array.isArray(Un[0])||t(Un[0])){Ei=te(Un);var mi=Dt(Un,Ei,Vn.dtype);Mi(mi,Zi),wr.freeType(mi)}else ot.raise("invalid buffer data")}else if(Ae(Un)){Ei=Un.shape;var Ii=Un.stride,Na=0,xa=0,wi=0,Fi=0;Ei.length===1?(Na=Ei[0],xa=1,wi=Ii[0],Fi=0):Ei.length===2?(Na=Ei[0],xa=Ei[1],wi=Ii[0],Fi=Ii[1]):ot.raise("invalid shape");var Aa=Array.isArray(Un.data)?Vn.dtype:ri(Un.data),wa=wr.allocType(Aa,Na*xa);rt(wa,Un.data,Na,xa,wi,Fi,Un.offset),Mi(wa,Zi),wr.freeType(wa)}else ot.raise("invalid data for buffer subdata");return Ri}return ei||Ri(Xr),Ri._reglType="buffer",Ri._buffer=Vn,Ri.subdata=oa,fr.profile&&(Ri.stats=Vn.stats),Ri.destroy=function(){si(Vn)},Ri}function ni(){Me(hn).forEach(function(Xr){Xr.buffer=Wt.createBuffer(),Wt.bindBuffer(Xr.type,Xr.buffer),Wt.bufferData(Xr.type,Xr.persistentData||Xr.byteLength,Xr.usage)})}return fr.profile&&(Ue.getTotalBufferSize=function(){var Xr=0;return Object.keys(hn).forEach(function(An){Xr+=hn[An].stats.size}),Xr}),{create:Kn,createStream:Jn,destroyStream:oi,clear:function(){Me(hn).forEach(si),zn.forEach(si)},getBuffer:function(Xr){return Xr&&Xr._buffer instanceof On?Xr._buffer:null},restore:ni,_initBuffer:li}}var yt=0,ne=0,_e=1,or=1,jr=4,_r=4,Pn={points:yt,point:ne,lines:_e,line:or,triangles:jr,triangle:_r,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ln=0,Li=1,sa=4,Ki=5120,Ea=5121,pa=5122,Fa=5123,Ua=5124,vo=5125,No=34963,Yo=35040,Ds=35044;function Go(Wt,Ue,fr,vn){var jn={},hn=0,On={uint8:Ea,uint16:Fa};Ue.oes_element_index_uint&&(On.uint32=vo);function zn(ni){this.id=hn++,jn[this.id]=this,this.buffer=ni,this.primType=sa,this.vertCount=0,this.type=0}zn.prototype.bind=function(){this.buffer.bind()};var Jn=[];function oi(ni){var Xr=Jn.pop();return Xr||(Xr=new zn(fr.create(null,No,!0,!1)._buffer)),li(Xr,ni,Yo,-1,-1,0,0),Xr}function ui(ni){Jn.push(ni)}function li(ni,Xr,An,ei,_i,Vn,Ri){ni.buffer.bind();var Mi;if(Xr){var oa=Ri;!Ri&&(!t(Xr)||Ae(Xr)&&!t(Xr.data))&&(oa=Ue.oes_element_index_uint?vo:Fa),fr._initBuffer(ni.buffer,Xr,An,oa,3)}else Wt.bufferData(No,Vn,An),ni.buffer.dtype=Mi||Ea,ni.buffer.usage=An,ni.buffer.dimension=3,ni.buffer.byteLength=Vn;if(Mi=Ri,!Ri){switch(ni.buffer.dtype){case Ea:case Ki:Mi=Ea;break;case Fa:case pa:Mi=Fa;break;case vo:case Ua:Mi=vo;break;default:ot.raise("unsupported type for element array")}ni.buffer.dtype=Mi}ni.type=Mi,ot(Mi!==vo||!!Ue.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Un=_i;Un<0&&(Un=ni.buffer.byteLength,Mi===Fa?Un>>=1:Mi===vo&&(Un>>=2)),ni.vertCount=Un;var _n=ei;if(ei<0){_n=sa;var Zi=ni.buffer.dimension;Zi===1&&(_n=Ln),Zi===2&&(_n=Li),Zi===3&&(_n=sa)}ni.primType=_n}function si(ni){vn.elementsCount--,ot(ni.buffer!==null,"must not double destroy elements"),delete jn[ni.id],ni.buffer.destroy(),ni.buffer=null}function Kn(ni,Xr){var An=fr.create(null,No,!0),ei=new zn(An._buffer);vn.elementsCount++;function _i(Vn){if(!Vn)An(),ei.primType=sa,ei.vertCount=0,ei.type=Ea;else if(typeof Vn=="number")An(Vn),ei.primType=sa,ei.vertCount=Vn|0,ei.type=Ea;else{var Ri=null,Mi=Ds,oa=-1,Un=-1,_n=0,Zi=0;Array.isArray(Vn)||t(Vn)||Ae(Vn)?Ri=Vn:(ot.type(Vn,"object","invalid arguments for elements"),"data"in Vn&&(Ri=Vn.data,ot(Array.isArray(Ri)||t(Ri)||Ae(Ri),"invalid data for element buffer")),"usage"in Vn&&(ot.parameter(Vn.usage,dt,"invalid element buffer usage"),Mi=dt[Vn.usage]),"primitive"in Vn&&(ot.parameter(Vn.primitive,Pn,"invalid element buffer primitive"),oa=Pn[Vn.primitive]),"count"in Vn&&(ot(typeof Vn.count=="number"&&Vn.count>=0,"invalid vertex count for elements"),Un=Vn.count|0),"type"in Vn&&(ot.parameter(Vn.type,On,"invalid buffer type"),Zi=On[Vn.type]),"length"in Vn?_n=Vn.length|0:(_n=Un,Zi===Fa||Zi===pa?_n*=2:(Zi===vo||Zi===Ua)&&(_n*=4))),li(ei,Ri,Mi,oa,Un,_n,Zi)}return _i}return _i(ni),_i._reglType="elements",_i._elements=ei,_i.subdata=function(Vn,Ri){return An.subdata(Vn,Ri),_i},_i.destroy=function(){si(ei)},_i}return{create:Kn,createStream:oi,destroyStream:ui,getElements:function(ni){return typeof ni=="function"&&ni._elements instanceof zn?ni._elements:null},clear:function(){Me(jn).forEach(si)}}}var Io=new Float32Array(1),xo=new Uint32Array(Io.buffer),Lo=5123;function Fo(Wt){for(var Ue=wr.allocType(Lo,Wt.length),fr=0;fr<Wt.length;++fr)if(isNaN(Wt[fr]))Ue[fr]=65535;else if(Wt[fr]===Infinity)Ue[fr]=31744;else if(Wt[fr]===-Infinity)Ue[fr]=64512;else{Io[0]=Wt[fr];var vn=xo[0],jn=vn>>>31<<15,hn=(vn<<1>>>24)-127,On=vn>>13&(1<<10)-1;if(hn<-24)Ue[fr]=jn;else if(hn<-14){var zn=-14-hn;Ue[fr]=jn+(On+(1<<10)>>zn)}else hn>15?Ue[fr]=jn+31744:Ue[fr]=jn+(hn+15<<10)+On}return Ue}function so(Wt){return Array.isArray(Wt)||t(Wt)}var Qo=function(Wt){return!(Wt&Wt-1)&&!!Wt},Jo=34467,So=3553,ds=34067,ns=34069,qo=6408,is=6406,Xo=6407,as=6409,$a=6410,Eu=32854,pu=32855,Qs=36194,au=32819,Ko=32820,ie=33635,ce=34042,Kt=6402,De=34041,br=35904,Tn=35906,gi=36193,Oi=33776,Di=33777,ta=33778,ha=33779,Ba=35986,na=35987,ts=34798,po=35840,uo=35841,Zo=35842,Qa=35843,go=36196,fs=5121,es=5123,Rs=5125,os=5126,ss=10242,Bo=10243,Zs=10497,Ss=33071,Ns=33648,Fs=10240,bu=10241,Cu=9728,Bs=9729,ou=9984,Js=9985,gu=9986,qs=9987,js=33170,Ws=4352,Nu=4353,su=4354,Pu=34046,vu=3317,Es=37440,mu=37441,Ou=37443,Gs=37444,Co=33984,cs=[ou,gu,Js,qs],us=[0,as,$a,Xo,qo],lo={};lo[as]=lo[is]=lo[Kt]=1,lo[De]=lo[$a]=2,lo[Xo]=lo[br]=3,lo[qo]=lo[Tn]=4;function _s(Wt){return"[object "+Wt+"]"}var jo=_s("HTMLCanvasElement"),Wo=_s("OffscreenCanvas"),Vs=_s("CanvasRenderingContext2D"),uu=_s("ImageBitmap"),tu=_s("HTMLImageElement"),Hs=_s("HTMLVideoElement"),bs=Object.keys(Sa).concat([jo,Wo,Vs,uu,tu,Hs]),ps=[];ps[fs]=1,ps[os]=4,ps[gi]=2,ps[es]=2,ps[Rs]=4;var Ut=[];Ut[Eu]=2,Ut[pu]=2,Ut[Qs]=2,Ut[De]=4,Ut[Oi]=.5,Ut[Di]=.5,Ut[ta]=1,Ut[ha]=1,Ut[Ba]=.5,Ut[na]=1,Ut[ts]=1,Ut[po]=.5,Ut[uo]=.25,Ut[Zo]=.5,Ut[Qa]=.25,Ut[go]=.5;function Xt(Wt){return Array.isArray(Wt)&&(Wt.length===0||typeof Wt[0]=="number")}function Ze(Wt){if(!Array.isArray(Wt))return!1;var Ue=Wt.length;return!(Ue===0||!so(Wt[0]))}function Ie(Wt){return Object.prototype.toString.call(Wt)}function xr(Wt){return Ie(Wt)===jo}function Zr(Wt){return Ie(Wt)===Wo}function sn(Wt){return Ie(Wt)===Vs}function Mn(Wt){return Ie(Wt)===uu}function In(Wt){return Ie(Wt)===tu}function kn(Wt){return Ie(Wt)===Hs}function nn(Wt){var Ue=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return!!(Ue&&Wt&&Wt.getContext)}function wn(Wt){if(!Wt)return!1;if(nn(Wt))return!0;var Ue=Ie(Wt);return bs.indexOf(Ue)>=0?!0:Xt(Wt)||Ze(Wt)||Ae(Wt)}function bt(Wt){return Sa[Object.prototype.toString.call(Wt)]|0}function jt(Wt,Ue){var fr=Ue.length;switch(Wt.type){case fs:case es:case Rs:case os:var vn=wr.allocType(Wt.type,fr);vn.set(Ue),Wt.data=vn;break;case gi:Wt.data=Fo(Ue);break;default:ot.raise("unsupported texture type, must specify a typed array")}}function Jt(Wt,Ue){return wr.allocType(Wt.type===gi?os:Wt.type,Ue)}function re(Wt,Ue){Wt.type===gi?(Wt.data=Fo(Ue),wr.freeType(Ue)):Wt.data=Ue}function st(Wt,Ue,fr,vn,jn,hn){for(var On=Wt.width,zn=Wt.height,Jn=Wt.channels,oi=On*zn*Jn,ui=Jt(Wt,oi),li=0,si=0;si<zn;++si)for(var Kn=0;Kn<On;++Kn)for(var ni=0;ni<Jn;++ni)ui[li++]=Ue[fr*Kn+vn*si+jn*ni+hn];re(Wt,ui)}function Et(Wt,Ue,fr,vn,jn,hn){var On;if(typeof Ut[Wt]!="undefined"?On=Ut[Wt]:On=lo[Wt]*ps[Ue],hn&&(On*=6),jn){for(var zn=0,Jn=fr;Jn>=1;)zn+=On*Jn*Jn,Jn/=2;return zn}else return On*fr*vn}function _t(Wt,Ue,fr,vn,jn,hn,On){var zn={"don't care":Ws,"dont care":Ws,nice:su,fast:Nu},Jn={repeat:Zs,clamp:Ss,mirror:Ns},oi={nearest:Cu,linear:Bs},ui=c({mipmap:qs,"nearest mipmap nearest":ou,"linear mipmap nearest":Js,"nearest mipmap linear":gu,"linear mipmap linear":qs},oi),li={none:0,browser:Gs},si={uint8:fs,rgba4:au,rgb565:ie,"rgb5 a1":Ko},Kn={alpha:is,luminance:as,"luminance alpha":$a,rgb:Xo,rgba:qo,rgba4:Eu,"rgb5 a1":pu,rgb565:Qs},ni={};Ue.ext_srgb&&(Kn.srgb=br,Kn.srgba=Tn),Ue.oes_texture_float&&(si.float32=si.float=os),Ue.oes_texture_half_float&&(si.float16=si["half float"]=gi),Ue.webgl_depth_texture&&(c(Kn,{depth:Kt,"depth stencil":De}),c(si,{uint16:es,uint32:Rs,"depth stencil":ce})),Ue.webgl_compressed_texture_s3tc&&c(ni,{"rgb s3tc dxt1":Oi,"rgba s3tc dxt1":Di,"rgba s3tc dxt3":ta,"rgba s3tc dxt5":ha}),Ue.webgl_compressed_texture_atc&&c(ni,{"rgb atc":Ba,"rgba atc explicit alpha":na,"rgba atc interpolated alpha":ts}),Ue.webgl_compressed_texture_pvrtc&&c(ni,{"rgb pvrtc 4bppv1":po,"rgb pvrtc 2bppv1":uo,"rgba pvrtc 4bppv1":Zo,"rgba pvrtc 2bppv1":Qa}),Ue.webgl_compressed_texture_etc1&&(ni["rgb etc1"]=go);var Xr=Array.prototype.slice.call(Wt.getParameter(Jo)||new Uint32Array(0));Object.keys(ni).forEach(function(ir){var yn=ni[ir];Xr.indexOf(yn)>=0&&(Kn[ir]=yn)});var An=Object.keys(Kn);fr.textureFormats=An;var ei=[];Object.keys(Kn).forEach(function(ir){var yn=Kn[ir];ei[yn]=ir});var _i=[];Object.keys(si).forEach(function(ir){var yn=si[ir];_i[yn]=ir});var Vn=[];Object.keys(oi).forEach(function(ir){var yn=oi[ir];Vn[yn]=ir});var Ri=[];Object.keys(ui).forEach(function(ir){var yn=ui[ir];Ri[yn]=ir});var Mi=[];Object.keys(Jn).forEach(function(ir){var yn=Jn[ir];Mi[yn]=ir});var oa=An.reduce(function(ir,yn){var un=Kn[yn];return un===as||un===is||un===as||un===$a||un===Kt||un===De||Ue.ext_srgb&&(un===br||un===Tn)?ir[un]=un:un===pu||yn.indexOf("rgba")>=0?ir[un]=qo:ir[un]=Xo,ir},{});function Un(){this.internalformat=qo,this.format=qo,this.type=fs,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Gs,this.width=0,this.height=0,this.channels=0}function _n(ir,yn){ir.internalformat=yn.internalformat,ir.format=yn.format,ir.type=yn.type,ir.compressed=yn.compressed,ir.premultiplyAlpha=yn.premultiplyAlpha,ir.flipY=yn.flipY,ir.unpackAlignment=yn.unpackAlignment,ir.colorSpace=yn.colorSpace,ir.width=yn.width,ir.height=yn.height,ir.channels=yn.channels}function Zi(ir,yn){if(!(typeof yn!="object"||!yn)){if("premultiplyAlpha"in yn&&(ot.type(yn.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),ir.premultiplyAlpha=yn.premultiplyAlpha),"flipY"in yn&&(ot.type(yn.flipY,"boolean","invalid texture flip"),ir.flipY=yn.flipY),"alignment"in yn&&(ot.oneOf(yn.alignment,[1,2,4,8],"invalid texture unpack alignment"),ir.unpackAlignment=yn.alignment),"colorSpace"in yn&&(ot.parameter(yn.colorSpace,li,"invalid colorSpace"),ir.colorSpace=li[yn.colorSpace]),"type"in yn){var un=yn.type;ot(Ue.oes_texture_float||!(un==="float"||un==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ot(Ue.oes_texture_half_float||!(un==="half float"||un==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ot(Ue.webgl_depth_texture||!(un==="uint16"||un==="uint32"||un==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ot.parameter(un,si,"invalid texture type"),ir.type=si[un]}var Ui=ir.width,Ka=ir.height,Ke=ir.channels,Ce=!1;"shape"in yn?(ot(Array.isArray(yn.shape)&&yn.shape.length>=2,"shape must be an array"),Ui=yn.shape[0],Ka=yn.shape[1],yn.shape.length===3&&(Ke=yn.shape[2],ot(Ke>0&&Ke<=4,"invalid number of channels"),Ce=!0),ot(Ui>=0&&Ui<=fr.maxTextureSize,"invalid width"),ot(Ka>=0&&Ka<=fr.maxTextureSize,"invalid height")):("radius"in yn&&(Ui=Ka=yn.radius,ot(Ui>=0&&Ui<=fr.maxTextureSize,"invalid radius")),"width"in yn&&(Ui=yn.width,ot(Ui>=0&&Ui<=fr.maxTextureSize,"invalid width")),"height"in yn&&(Ka=yn.height,ot(Ka>=0&&Ka<=fr.maxTextureSize,"invalid height")),"channels"in yn&&(Ke=yn.channels,ot(Ke>0&&Ke<=4,"invalid number of channels"),Ce=!0)),ir.width=Ui|0,ir.height=Ka|0,ir.channels=Ke|0;var Ar=!1;if("format"in yn){var $r=yn.format;ot(Ue.webgl_depth_texture||!($r==="depth"||$r==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ot.parameter($r,Kn,"invalid texture format");var gn=ir.internalformat=Kn[$r];ir.format=oa[gn],$r in si&&("type"in yn||(ir.type=si[$r])),$r in ni&&(ir.compressed=!0),Ar=!0}!Ce&&Ar?ir.channels=lo[ir.format]:Ce&&!Ar?ir.channels!==us[ir.format]&&(ir.format=ir.internalformat=us[ir.channels]):Ar&&Ce&&ot(ir.channels===lo[ir.format],"number of channels inconsistent with specified format")}}function Ei(ir){Wt.pixelStorei(Es,ir.flipY),Wt.pixelStorei(mu,ir.premultiplyAlpha),Wt.pixelStorei(Ou,ir.colorSpace),Wt.pixelStorei(vu,ir.unpackAlignment)}function Qn(){Un.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function mi(ir,yn){var un=null;if(wn(yn)?un=yn:yn&&(ot.type(yn,"object","invalid pixel data type"),Zi(ir,yn),"x"in yn&&(ir.xOffset=yn.x|0),"y"in yn&&(ir.yOffset=yn.y|0),wn(yn.data)&&(un=yn.data)),ot(!ir.compressed||un instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),yn.copy){ot(!un,"can not specify copy and data field for the same texture");var Ui=jn.viewportWidth,Ka=jn.viewportHeight;ir.width=ir.width||Ui-ir.xOffset,ir.height=ir.height||Ka-ir.yOffset,ir.needsCopy=!0,ot(ir.xOffset>=0&&ir.xOffset<Ui&&ir.yOffset>=0&&ir.yOffset<Ka&&ir.width>0&&ir.width<=Ui&&ir.height>0&&ir.height<=Ka,"copy texture read out of bounds")}else if(!un)ir.width=ir.width||1,ir.height=ir.height||1,ir.channels=ir.channels||4;else if(t(un))ir.channels=ir.channels||4,ir.data=un,!("type"in yn)&&ir.type===fs&&(ir.type=bt(un));else if(Xt(un))ir.channels=ir.channels||4,jt(ir,un),ir.alignment=1,ir.needsFree=!0;else if(Ae(un)){var Ke=un.data;!Array.isArray(Ke)&&ir.type===fs&&(ir.type=bt(Ke));var Ce=un.shape,Ar=un.stride,$r,gn,Ir,Pr,Nr,ze;Ce.length===3?(Ir=Ce[2],ze=Ar[2]):(ot(Ce.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Ir=1,ze=1),$r=Ce[0],gn=Ce[1],Pr=Ar[0],Nr=Ar[1],ir.alignment=1,ir.width=$r,ir.height=gn,ir.channels=Ir,ir.format=ir.internalformat=us[Ir],ir.needsFree=!0,st(ir,Ke,Pr,Nr,ze,un.offset)}else if(nn(un)||xr(un)||Zr(un)||sn(un))nn(un)||xr(un)||Zr(un)?ir.element=un:ir.element=un.canvas,ir.width=ir.element.width,ir.height=ir.element.height,ir.channels=4;else if(Mn(un))ir.element=un,ir.width=un.width,ir.height=un.height,ir.channels=4;else if(In(un))ir.element=un,ir.width=un.naturalWidth,ir.height=un.naturalHeight,ir.channels=4;else if(kn(un))ir.element=un,ir.width=un.videoWidth,ir.height=un.videoHeight,ir.channels=4;else if(Ze(un)){var Sr=ir.width||un[0].length,Je=ir.height||un.length,Qr=ir.channels;so(un[0][0])?Qr=Qr||un[0][0].length:Qr=Qr||1;for(var an=Er.shape(un),Gn=1,yi=0;yi<an.length;++yi)Gn*=an[yi];var xi=Jt(ir,Gn);Er.flatten(un,an,"",xi),re(ir,xi),ir.alignment=1,ir.width=Sr,ir.height=Je,ir.channels=Qr,ir.format=ir.internalformat=us[Qr],ir.needsFree=!0}ir.type===os?ot(fr.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):ir.type===gi&&ot(fr.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Ii(ir,yn,un){var Ui=ir.element,Ka=ir.data,Ke=ir.internalformat,Ce=ir.format,Ar=ir.type,$r=ir.width,gn=ir.height;Ei(ir),Ui?Wt.texImage2D(yn,un,Ce,Ce,Ar,Ui):ir.compressed?Wt.compressedTexImage2D(yn,un,Ke,$r,gn,0,Ka):ir.needsCopy?(vn(),Wt.copyTexImage2D(yn,un,Ce,ir.xOffset,ir.yOffset,$r,gn,0)):Wt.texImage2D(yn,un,Ce,$r,gn,0,Ce,Ar,Ka||null)}function Na(ir,yn,un,Ui,Ka){var Ke=ir.element,Ce=ir.data,Ar=ir.internalformat,$r=ir.format,gn=ir.type,Ir=ir.width,Pr=ir.height;Ei(ir),Ke?Wt.texSubImage2D(yn,Ka,un,Ui,$r,gn,Ke):ir.compressed?Wt.compressedTexSubImage2D(yn,Ka,un,Ui,Ar,Ir,Pr,Ce):ir.needsCopy?(vn(),Wt.copyTexSubImage2D(yn,Ka,un,Ui,ir.xOffset,ir.yOffset,Ir,Pr)):Wt.texSubImage2D(yn,Ka,un,Ui,Ir,Pr,$r,gn,Ce)}var xa=[];function wi(){return xa.pop()||new Qn}function Fi(ir){ir.needsFree&&wr.freeType(ir.data),Qn.call(ir),xa.push(ir)}function Aa(){Un.call(this),this.genMipmaps=!1,this.mipmapHint=Ws,this.mipmask=0,this.images=Array(16)}function wa(ir,yn,un){var Ui=ir.images[0]=wi();ir.mipmask=1,Ui.width=ir.width=yn,Ui.height=ir.height=un,Ui.channels=ir.channels=4}function Ja(ir,yn){var un=null;if(wn(yn))un=ir.images[0]=wi(),_n(un,ir),mi(un,yn),ir.mipmask=1;else if(Zi(ir,yn),Array.isArray(yn.mipmap))for(var Ui=yn.mipmap,Ka=0;Ka<Ui.length;++Ka)un=ir.images[Ka]=wi(),_n(un,ir),un.width>>=Ka,un.height>>=Ka,mi(un,Ui[Ka]),ir.mipmask|=1<<Ka;else un=ir.images[0]=wi(),_n(un,ir),mi(un,yn),ir.mipmask=1;_n(ir,ir.images[0]),ir.compressed&&(ir.internalformat===Oi||ir.internalformat===Di||ir.internalformat===ta||ir.internalformat===ha)&&ot(ir.width%4==0&&ir.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function vs(ir,yn){for(var un=ir.images,Ui=0;Ui<un.length;++Ui){if(!un[Ui])return;Ii(un[Ui],yn,Ui)}}var ys=[];function Ya(){var ir=ys.pop()||new Aa;Un.call(ir),ir.mipmask=0;for(var yn=0;yn<16;++yn)ir.images[yn]=null;return ir}function ru(ir){for(var yn=ir.images,un=0;un<yn.length;++un)yn[un]&&Fi(yn[un]),yn[un]=null;ys.push(ir)}function ao(){this.minFilter=Cu,this.magFilter=Cu,this.wrapS=Ss,this.wrapT=Ss,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ws}function Ls(ir,yn){if("min"in yn){var un=yn.min;ot.parameter(un,ui),ir.minFilter=ui[un],cs.indexOf(ir.minFilter)>=0&&!("faces"in yn)&&(ir.genMipmaps=!0)}if("mag"in yn){var Ui=yn.mag;ot.parameter(Ui,oi),ir.magFilter=oi[Ui]}var Ka=ir.wrapS,Ke=ir.wrapT;if("wrap"in yn){var Ce=yn.wrap;typeof Ce=="string"?(ot.parameter(Ce,Jn),Ka=Ke=Jn[Ce]):Array.isArray(Ce)&&(ot.parameter(Ce[0],Jn),ot.parameter(Ce[1],Jn),Ka=Jn[Ce[0]],Ke=Jn[Ce[1]])}else{if("wrapS"in yn){var Ar=yn.wrapS;ot.parameter(Ar,Jn),Ka=Jn[Ar]}if("wrapT"in yn){var $r=yn.wrapT;ot.parameter($r,Jn),Ke=Jn[$r]}}if(ir.wrapS=Ka,ir.wrapT=Ke,"anisotropic"in yn){var gn=yn.anisotropic;ot(typeof gn=="number"&&gn>=1&&gn<=fr.maxAnisotropic,"aniso samples must be between 1 and "),ir.anisotropic=yn.anisotropic}if("mipmap"in yn){var Ir=!1;switch(typeof yn.mipmap){case"string":ot.parameter(yn.mipmap,zn,"invalid mipmap hint"),ir.mipmapHint=zn[yn.mipmap],ir.genMipmaps=!0,Ir=!0;break;case"boolean":Ir=ir.genMipmaps=yn.mipmap;break;case"object":ot(Array.isArray(yn.mipmap),"invalid mipmap type"),ir.genMipmaps=!1,Ir=!0;break;default:ot.raise("invalid mipmap type")}Ir&&!("min"in yn)&&(ir.minFilter=ou)}}function Ms(ir,yn){Wt.texParameteri(yn,bu,ir.minFilter),Wt.texParameteri(yn,Fs,ir.magFilter),Wt.texParameteri(yn,ss,ir.wrapS),Wt.texParameteri(yn,Bo,ir.wrapT),Ue.ext_texture_filter_anisotropic&&Wt.texParameteri(yn,Pu,ir.anisotropic),ir.genMipmaps&&(Wt.hint(js,ir.mipmapHint),Wt.generateMipmap(yn))}var nu=0,cu={},$s=fr.maxTextureUnits,xs=Array($s).map(function(){return null});function ka(ir){Un.call(this),this.mipmask=0,this.internalformat=qo,this.id=nu++,this.refCount=1,this.target=ir,this.texture=Wt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ao,On.profile&&(this.stats={size:0})}function hu(ir){Wt.activeTexture(Co),Wt.bindTexture(ir.target,ir.texture)}function co(){var ir=xs[0];ir?Wt.bindTexture(ir.target,ir.texture):Wt.bindTexture(So,null)}function iu(ir){var yn=ir.texture;ot(yn,"must not double destroy texture");var un=ir.unit,Ui=ir.target;un>=0&&(Wt.activeTexture(Co+un),Wt.bindTexture(Ui,null),xs[un]=null),Wt.deleteTexture(yn),ir.texture=null,ir.params=null,ir.pixels=null,ir.refCount=0,delete cu[ir.id],hn.textureCount--}c(ka.prototype,{bind:function(){var ir=this;ir.bindCount+=1;var yn=ir.unit;if(yn<0){for(var un=0;un<$s;++un){var Ui=xs[un];if(Ui){if(Ui.bindCount>0)continue;Ui.unit=-1}xs[un]=ir,yn=un;break}yn>=$s&&ot.raise("insufficient number of texture units"),On.profile&&hn.maxTextureUnits<yn+1&&(hn.maxTextureUnits=yn+1),ir.unit=yn,Wt.activeTexture(Co+yn),Wt.bindTexture(ir.target,ir.texture)}return yn},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&iu(this)}});function ya(ir,yn){var un=new ka(So);cu[un.id]=un,hn.textureCount++;function Ui(Ce,Ar){var $r=un.texInfo;ao.call($r);var gn=Ya();return typeof Ce=="number"?typeof Ar=="number"?wa(gn,Ce|0,Ar|0):wa(gn,Ce|0,Ce|0):Ce?(ot.type(Ce,"object","invalid arguments to regl.texture"),Ls($r,Ce),Ja(gn,Ce)):wa(gn,1,1),$r.genMipmaps&&(gn.mipmask=(gn.width<<1)-1),un.mipmask=gn.mipmask,_n(un,gn),ot.texture2D($r,gn,fr),un.internalformat=gn.internalformat,Ui.width=gn.width,Ui.height=gn.height,hu(un),vs(gn,So),Ms($r,So),co(),ru(gn),On.profile&&(un.stats.size=Et(un.internalformat,un.type,gn.width,gn.height,$r.genMipmaps,!1)),Ui.format=ei[un.internalformat],Ui.type=_i[un.type],Ui.mag=Vn[$r.magFilter],Ui.min=Ri[$r.minFilter],Ui.wrapS=Mi[$r.wrapS],Ui.wrapT=Mi[$r.wrapT],Ui}function Ka(Ce,Ar,$r,gn){ot(!!Ce,"must specify image data");var Ir=Ar|0,Pr=$r|0,Nr=gn|0,ze=wi();return _n(ze,un),ze.width=0,ze.height=0,mi(ze,Ce),ze.width=ze.width||(un.width>>Nr)-Ir,ze.height=ze.height||(un.height>>Nr)-Pr,ot(un.type===ze.type&&un.format===ze.format&&un.internalformat===ze.internalformat,"incompatible format for texture.subimage"),ot(Ir>=0&&Pr>=0&&Ir+ze.width<=un.width&&Pr+ze.height<=un.height,"texture.subimage write out of bounds"),ot(un.mipmask&1<<Nr,"missing mipmap data"),ot(ze.data||ze.element||ze.needsCopy,"missing image data"),hu(un),Na(ze,So,Ir,Pr,Nr),co(),Fi(ze),Ui}function Ke(Ce,Ar){var $r=Ce|0,gn=Ar|0||$r;if($r===un.width&&gn===un.height)return Ui;Ui.width=un.width=$r,Ui.height=un.height=gn,hu(un);for(var Ir=0;un.mipmask>>Ir;++Ir){var Pr=$r>>Ir,Nr=gn>>Ir;if(!Pr||!Nr)break;Wt.texImage2D(So,Ir,un.format,Pr,Nr,0,un.format,un.type,null)}return co(),On.profile&&(un.stats.size=Et(un.internalformat,un.type,$r,gn,!1,!1)),Ui}return Ui(ir,yn),Ui.subimage=Ka,Ui.resize=Ke,Ui._reglType="texture2d",Ui._texture=un,On.profile&&(Ui.stats=un.stats),Ui.destroy=function(){un.decRef()},Ui}function Xa(ir,yn,un,Ui,Ka,Ke){var Ce=new ka(ds);cu[Ce.id]=Ce,hn.cubeCount++;var Ar=new Array(6);function $r(Pr,Nr,ze,Sr,Je,Qr){var an,Gn=Ce.texInfo;for(ao.call(Gn),an=0;an<6;++an)Ar[an]=Ya();if(typeof Pr=="number"||!Pr){var yi=Pr|0||1;for(an=0;an<6;++an)wa(Ar[an],yi,yi)}else if(typeof Pr=="object")if(Nr)Ja(Ar[0],Pr),Ja(Ar[1],Nr),Ja(Ar[2],ze),Ja(Ar[3],Sr),Ja(Ar[4],Je),Ja(Ar[5],Qr);else if(Ls(Gn,Pr),Zi(Ce,Pr),"faces"in Pr){var xi=Pr.faces;for(ot(Array.isArray(xi)&&xi.length===6,"cube faces must be a length 6 array"),an=0;an<6;++an)ot(typeof xi[an]=="object"&&!!xi[an],"invalid input for cube map face"),_n(Ar[an],Ce),Ja(Ar[an],xi[an])}else for(an=0;an<6;++an)Ja(Ar[an],Pr);else ot.raise("invalid arguments to cube map");for(_n(Ce,Ar[0]),ot.optional(function(){fr.npotTextureCube||ot(Qo(Ce.width)&&Qo(Ce.height),"your browser does not support non power or two texture dimensions")}),Gn.genMipmaps?Ce.mipmask=(Ar[0].width<<1)-1:Ce.mipmask=Ar[0].mipmask,ot.textureCube(Ce,Gn,Ar,fr),Ce.internalformat=Ar[0].internalformat,$r.width=Ar[0].width,$r.height=Ar[0].height,hu(Ce),an=0;an<6;++an)vs(Ar[an],ns+an);for(Ms(Gn,ds),co(),On.profile&&(Ce.stats.size=Et(Ce.internalformat,Ce.type,$r.width,$r.height,Gn.genMipmaps,!0)),$r.format=ei[Ce.internalformat],$r.type=_i[Ce.type],$r.mag=Vn[Gn.magFilter],$r.min=Ri[Gn.minFilter],$r.wrapS=Mi[Gn.wrapS],$r.wrapT=Mi[Gn.wrapT],an=0;an<6;++an)ru(Ar[an]);return $r}function gn(Pr,Nr,ze,Sr,Je){ot(!!Nr,"must specify image data"),ot(typeof Pr=="number"&&Pr===(Pr|0)&&Pr>=0&&Pr<6,"invalid face");var Qr=ze|0,an=Sr|0,Gn=Je|0,yi=wi();return _n(yi,Ce),yi.width=0,yi.height=0,mi(yi,Nr),yi.width=yi.width||(Ce.width>>Gn)-Qr,yi.height=yi.height||(Ce.height>>Gn)-an,ot(Ce.type===yi.type&&Ce.format===yi.format&&Ce.internalformat===yi.internalformat,"incompatible format for texture.subimage"),ot(Qr>=0&&an>=0&&Qr+yi.width<=Ce.width&&an+yi.height<=Ce.height,"texture.subimage write out of bounds"),ot(Ce.mipmask&1<<Gn,"missing mipmap data"),ot(yi.data||yi.element||yi.needsCopy,"missing image data"),hu(Ce),Na(yi,ns+Pr,Qr,an,Gn),co(),Fi(yi),$r}function Ir(Pr){var Nr=Pr|0;if(Nr!==Ce.width){$r.width=Ce.width=Nr,$r.height=Ce.height=Nr,hu(Ce);for(var ze=0;ze<6;++ze)for(var Sr=0;Ce.mipmask>>Sr;++Sr)Wt.texImage2D(ns+ze,Sr,Ce.format,Nr>>Sr,Nr>>Sr,0,Ce.format,Ce.type,null);return co(),On.profile&&(Ce.stats.size=Et(Ce.internalformat,Ce.type,$r.width,$r.height,!1,!0)),$r}}return $r(ir,yn,un,Ui,Ka,Ke),$r.subimage=gn,$r.resize=Ir,$r._reglType="textureCube",$r._texture=Ce,On.profile&&($r.stats=Ce.stats),$r.destroy=function(){Ce.decRef()},$r}function _o(){for(var ir=0;ir<$s;++ir)Wt.activeTexture(Co+ir),Wt.bindTexture(So,null),xs[ir]=null;Me(cu).forEach(iu),hn.cubeCount=0,hn.textureCount=0}On.profile&&(hn.getTotalTextureSize=function(){var ir=0;return Object.keys(cu).forEach(function(yn){ir+=cu[yn].stats.size}),ir});function ks(){for(var ir=0;ir<$s;++ir){var yn=xs[ir];yn&&(yn.bindCount=0,yn.unit=-1,xs[ir]=null)}Me(cu).forEach(function(un){un.texture=Wt.createTexture(),Wt.bindTexture(un.target,un.texture);for(var Ui=0;Ui<32;++Ui)if((un.mipmask&1<<Ui)!=0)if(un.target===So)Wt.texImage2D(So,Ui,un.internalformat,un.width>>Ui,un.height>>Ui,0,un.internalformat,un.type,null);else for(var Ka=0;Ka<6;++Ka)Wt.texImage2D(ns+Ka,Ui,un.internalformat,un.width>>Ui,un.height>>Ui,0,un.internalformat,un.type,null);Ms(un.texInfo,un.target)})}function ju(){for(var ir=0;ir<$s;++ir){var yn=xs[ir];yn&&(yn.bindCount=0,yn.unit=-1,xs[ir]=null),Wt.activeTexture(Co+ir),Wt.bindTexture(So,null),Wt.bindTexture(ds,null)}}return{create2D:ya,createCube:Xa,clear:_o,getTexture:function(ir){return null},restore:ks,refresh:ju}}var wt=36161,Qt=32854,Pe=32855,ve=36194,we=33189,Re=36168,Qe=34041,Ye=35907,Cr=34836,gr=34842,Ur=34843,pr=[];pr[Qt]=2,pr[Pe]=2,pr[ve]=2,pr[we]=2,pr[Re]=1,pr[Qe]=4,pr[Ye]=4,pr[Cr]=16,pr[gr]=8,pr[Ur]=6;function Fr(Wt,Ue,fr){return pr[Wt]*Ue*fr}var Hr=function(Wt,Ue,fr,vn,jn){var hn={rgba4:Qt,rgb565:ve,"rgb5 a1":Pe,depth:we,stencil:Re,"depth stencil":Qe};Ue.ext_srgb&&(hn.srgba=Ye),Ue.ext_color_buffer_half_float&&(hn.rgba16f=gr,hn.rgb16f=Ur),Ue.webgl_color_buffer_float&&(hn.rgba32f=Cr);var On=[];Object.keys(hn).forEach(function(Kn){var ni=hn[Kn];On[ni]=Kn});var zn=0,Jn={};function oi(Kn){this.id=zn++,this.refCount=1,this.renderbuffer=Kn,this.format=Qt,this.width=0,this.height=0,jn.profile&&(this.stats={size:0})}oi.prototype.decRef=function(){--this.refCount<=0&&ui(this)};function ui(Kn){var ni=Kn.renderbuffer;ot(ni,"must not double destroy renderbuffer"),Wt.bindRenderbuffer(wt,null),Wt.deleteRenderbuffer(ni),Kn.renderbuffer=null,Kn.refCount=0,delete Jn[Kn.id],vn.renderbufferCount--}function li(Kn,ni){var Xr=new oi(Wt.createRenderbuffer());Jn[Xr.id]=Xr,vn.renderbufferCount++;function An(_i,Vn){var Ri=0,Mi=0,oa=Qt;if(typeof _i=="object"&&_i){var Un=_i;if("shape"in Un){var _n=Un.shape;ot(Array.isArray(_n)&&_n.length>=2,"invalid renderbuffer shape"),Ri=_n[0]|0,Mi=_n[1]|0}else"radius"in Un&&(Ri=Mi=Un.radius|0),"width"in Un&&(Ri=Un.width|0),"height"in Un&&(Mi=Un.height|0);"format"in Un&&(ot.parameter(Un.format,hn,"invalid renderbuffer format"),oa=hn[Un.format])}else typeof _i=="number"?(Ri=_i|0,typeof Vn=="number"?Mi=Vn|0:Mi=Ri):_i?ot.raise("invalid arguments to renderbuffer constructor"):Ri=Mi=1;if(ot(Ri>0&&Mi>0&&Ri<=fr.maxRenderbufferSize&&Mi<=fr.maxRenderbufferSize,"invalid renderbuffer size"),!(Ri===Xr.width&&Mi===Xr.height&&oa===Xr.format))return An.width=Xr.width=Ri,An.height=Xr.height=Mi,Xr.format=oa,Wt.bindRenderbuffer(wt,Xr.renderbuffer),Wt.renderbufferStorage(wt,oa,Ri,Mi),ot(Wt.getError()===0,"invalid render buffer format"),jn.profile&&(Xr.stats.size=Fr(Xr.format,Xr.width,Xr.height)),An.format=On[Xr.format],An}function ei(_i,Vn){var Ri=_i|0,Mi=Vn|0||Ri;return Ri===Xr.width&&Mi===Xr.height||(ot(Ri>0&&Mi>0&&Ri<=fr.maxRenderbufferSize&&Mi<=fr.maxRenderbufferSize,"invalid renderbuffer size"),An.width=Xr.width=Ri,An.height=Xr.height=Mi,Wt.bindRenderbuffer(wt,Xr.renderbuffer),Wt.renderbufferStorage(wt,Xr.format,Ri,Mi),ot(Wt.getError()===0,"invalid render buffer format"),jn.profile&&(Xr.stats.size=Fr(Xr.format,Xr.width,Xr.height))),An}return An(Kn,ni),An.resize=ei,An._reglType="renderbuffer",An._renderbuffer=Xr,jn.profile&&(An.stats=Xr.stats),An.destroy=function(){Xr.decRef()},An}jn.profile&&(vn.getTotalRenderbufferSize=function(){var Kn=0;return Object.keys(Jn).forEach(function(ni){Kn+=Jn[ni].stats.size}),Kn});function si(){Me(Jn).forEach(function(Kn){Kn.renderbuffer=Wt.createRenderbuffer(),Wt.bindRenderbuffer(wt,Kn.renderbuffer),Wt.renderbufferStorage(wt,Kn.format,Kn.width,Kn.height)}),Wt.bindRenderbuffer(wt,null)}return{create:li,clear:function(){Me(Jn).forEach(ui)},restore:si}},Sn=36160,Nn=36161,cn=3553,Fn=34069,qn=36064,Ci=36096,Ti=36128,Oa=33306,va=36053,ma=36054,Bn=36055,ci=36057,Ha=36061,Wa=36193,Xn=5121,ja=5126,fo=6407,Do=6408,Ro=6402,Ys=[fo,Do],gs=[];gs[Do]=4,gs[fo]=3;var yu=[];yu[Xn]=1,yu[ja]=4,yu[Wa]=2;var Tu=32854,lu=32855,eo=36194,pt=33189,mt=36168,Pt=34041,It=35907,Ht=34836,Gt=34842,qt=34843,Ne=[Tu,lu,eo,It,Gt,qt,Ht],Fe={};Fe[va]="complete",Fe[ma]="incomplete attachment",Fe[ci]="incomplete dimensions",Fe[Bn]="incomplete, missing attachment",Fe[Ha]="unsupported";function $e(Wt,Ue,fr,vn,jn,hn){var On={cur:null,next:null,dirty:!1,setFBO:null},zn=["rgba"],Jn=["rgba4","rgb565","rgb5 a1"];Ue.ext_srgb&&Jn.push("srgba"),Ue.ext_color_buffer_half_float&&Jn.push("rgba16f","rgb16f"),Ue.webgl_color_buffer_float&&Jn.push("rgba32f");var oi=["uint8"];Ue.oes_texture_half_float&&oi.push("half float","float16"),Ue.oes_texture_float&&oi.push("float","float32");function ui(Qn,mi,Ii){this.target=Qn,this.texture=mi,this.renderbuffer=Ii;var Na=0,xa=0;mi?(Na=mi.width,xa=mi.height):Ii&&(Na=Ii.width,xa=Ii.height),this.width=Na,this.height=xa}function li(Qn){Qn&&(Qn.texture&&Qn.texture._texture.decRef(),Qn.renderbuffer&&Qn.renderbuffer._renderbuffer.decRef())}function si(Qn,mi,Ii){if(!!Qn)if(Qn.texture){var Na=Qn.texture._texture,xa=Math.max(1,Na.width),wi=Math.max(1,Na.height);ot(xa===mi&&wi===Ii,"inconsistent width/height for supplied texture"),Na.refCount+=1}else{var Fi=Qn.renderbuffer._renderbuffer;ot(Fi.width===mi&&Fi.height===Ii,"inconsistent width/height for renderbuffer"),Fi.refCount+=1}}function Kn(Qn,mi){mi&&(mi.texture?Wt.framebufferTexture2D(Sn,Qn,mi.target,mi.texture._texture.texture,0):Wt.framebufferRenderbuffer(Sn,Qn,Nn,mi.renderbuffer._renderbuffer.renderbuffer))}function ni(Qn){var mi=cn,Ii=null,Na=null,xa=Qn;typeof Qn=="object"&&(xa=Qn.data,"target"in Qn&&(mi=Qn.target|0)),ot.type(xa,"function","invalid attachment data");var wi=xa._reglType;return wi==="texture2d"?(Ii=xa,ot(mi===cn)):wi==="textureCube"?(Ii=xa,ot(mi>=Fn&&mi<Fn+6,"invalid cube map target")):wi==="renderbuffer"?(Na=xa,mi=Nn):ot.raise("invalid regl object for attachment"),new ui(mi,Ii,Na)}function Xr(Qn,mi,Ii,Na,xa){if(Ii){var wi=vn.create2D({width:Qn,height:mi,format:Na,type:xa});return wi._texture.refCount=0,new ui(cn,wi,null)}else{var Fi=jn.create({width:Qn,height:mi,format:Na});return Fi._renderbuffer.refCount=0,new ui(Nn,null,Fi)}}function An(Qn){return Qn&&(Qn.texture||Qn.renderbuffer)}function ei(Qn,mi,Ii){Qn&&(Qn.texture?Qn.texture.resize(mi,Ii):Qn.renderbuffer&&Qn.renderbuffer.resize(mi,Ii),Qn.width=mi,Qn.height=Ii)}var _i=0,Vn={};function Ri(){this.id=_i++,Vn[this.id]=this,this.framebuffer=Wt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Mi(Qn){Qn.colorAttachments.forEach(li),li(Qn.depthAttachment),li(Qn.stencilAttachment),li(Qn.depthStencilAttachment)}function oa(Qn){var mi=Qn.framebuffer;ot(mi,"must not double destroy framebuffer"),Wt.deleteFramebuffer(mi),Qn.framebuffer=null,hn.framebufferCount--,delete Vn[Qn.id]}function Un(Qn){var mi;Wt.bindFramebuffer(Sn,Qn.framebuffer);var Ii=Qn.colorAttachments;for(mi=0;mi<Ii.length;++mi)Kn(qn+mi,Ii[mi]);for(mi=Ii.length;mi<fr.maxColorAttachments;++mi)Wt.framebufferTexture2D(Sn,qn+mi,cn,null,0);Wt.framebufferTexture2D(Sn,Oa,cn,null,0),Wt.framebufferTexture2D(Sn,Ci,cn,null,0),Wt.framebufferTexture2D(Sn,Ti,cn,null,0),Kn(Ci,Qn.depthAttachment),Kn(Ti,Qn.stencilAttachment),Kn(Oa,Qn.depthStencilAttachment);var Na=Wt.checkFramebufferStatus(Sn);!Wt.isContextLost()&&Na!==va&&ot.raise("framebuffer configuration not supported, status = "+Fe[Na]),Wt.bindFramebuffer(Sn,On.next?On.next.framebuffer:null),On.cur=On.next,Wt.getError()}function _n(Qn,mi){var Ii=new Ri;hn.framebufferCount++;function Na(wi,Fi){var Aa;ot(On.next!==Ii,"can not update framebuffer which is currently in use");var wa=0,Ja=0,vs=!0,ys=!0,Ya=null,ru=!0,ao="rgba",Ls="uint8",Ms=1,nu=null,cu=null,$s=null,xs=!1;if(typeof wi=="number")wa=wi|0,Ja=Fi|0||wa;else if(!wi)wa=Ja=1;else{ot.type(wi,"object","invalid arguments for framebuffer");var ka=wi;if("shape"in ka){var hu=ka.shape;ot(Array.isArray(hu)&&hu.length>=2,"invalid shape for framebuffer"),wa=hu[0],Ja=hu[1]}else"radius"in ka&&(wa=Ja=ka.radius),"width"in ka&&(wa=ka.width),"height"in ka&&(Ja=ka.height);("color"in ka||"colors"in ka)&&(Ya=ka.color||ka.colors,Array.isArray(Ya)&&ot(Ya.length===1||Ue.webgl_draw_buffers,"multiple render targets not supported")),Ya||("colorCount"in ka&&(Ms=ka.colorCount|0,ot(Ms>0,"invalid color buffer count")),"colorTexture"in ka&&(ru=!!ka.colorTexture,ao="rgba4"),"colorType"in ka&&(Ls=ka.colorType,ru?(ot(Ue.oes_texture_float||!(Ls==="float"||Ls==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ot(Ue.oes_texture_half_float||!(Ls==="half float"||Ls==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ls==="half float"||Ls==="float16"?(ot(Ue.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ao="rgba16f"):(Ls==="float"||Ls==="float32")&&(ot(Ue.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ao="rgba32f"),ot.oneOf(Ls,oi,"invalid color type")),"colorFormat"in ka&&(ao=ka.colorFormat,zn.indexOf(ao)>=0?ru=!0:Jn.indexOf(ao)>=0?ru=!1:ot.optional(function(){ru?ot.oneOf(ka.colorFormat,zn,"invalid color format for texture"):ot.oneOf(ka.colorFormat,Jn,"invalid color format for renderbuffer")}))),("depthTexture"in ka||"depthStencilTexture"in ka)&&(xs=!!(ka.depthTexture||ka.depthStencilTexture),ot(!xs||Ue.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ka&&(typeof ka.depth=="boolean"?vs=ka.depth:(nu=ka.depth,ys=!1)),"stencil"in ka&&(typeof ka.stencil=="boolean"?ys=ka.stencil:(cu=ka.stencil,vs=!1)),"depthStencil"in ka&&(typeof ka.depthStencil=="boolean"?vs=ys=ka.depthStencil:($s=ka.depthStencil,vs=!1,ys=!1))}var co=null,iu=null,ya=null,Xa=null;if(Array.isArray(Ya))co=Ya.map(ni);else if(Ya)co=[ni(Ya)];else for(co=new Array(Ms),Aa=0;Aa<Ms;++Aa)co[Aa]=Xr(wa,Ja,ru,ao,Ls);ot(Ue.webgl_draw_buffers||co.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ot(co.length<=fr.maxColorAttachments,"too many color attachments, not supported"),wa=wa||co[0].width,Ja=Ja||co[0].height,nu?iu=ni(nu):vs&&!ys&&(iu=Xr(wa,Ja,xs,"depth","uint32")),cu?ya=ni(cu):ys&&!vs&&(ya=Xr(wa,Ja,!1,"stencil","uint8")),$s?Xa=ni($s):!nu&&!cu&&ys&&vs&&(Xa=Xr(wa,Ja,xs,"depth stencil","depth stencil")),ot(!!nu+!!cu+!!$s<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var _o=null;for(Aa=0;Aa<co.length;++Aa)if(si(co[Aa],wa,Ja),ot(!co[Aa]||co[Aa].texture&&Ys.indexOf(co[Aa].texture._texture.format)>=0||co[Aa].renderbuffer&&Ne.indexOf(co[Aa].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Aa+" is invalid"),co[Aa]&&co[Aa].texture){var ks=gs[co[Aa].texture._texture.format]*yu[co[Aa].texture._texture.type];_o===null?_o=ks:ot(_o===ks,"all color attachments much have the same number of bits per pixel.")}return si(iu,wa,Ja),ot(!iu||iu.texture&&iu.texture._texture.format===Ro||iu.renderbuffer&&iu.renderbuffer._renderbuffer.format===pt,"invalid depth attachment for framebuffer object"),si(ya,wa,Ja),ot(!ya||ya.renderbuffer&&ya.renderbuffer._renderbuffer.format===mt,"invalid stencil attachment for framebuffer object"),si(Xa,wa,Ja),ot(!Xa||Xa.texture&&Xa.texture._texture.format===Pt||Xa.renderbuffer&&Xa.renderbuffer._renderbuffer.format===Pt,"invalid depth-stencil attachment for framebuffer object"),Mi(Ii),Ii.width=wa,Ii.height=Ja,Ii.colorAttachments=co,Ii.depthAttachment=iu,Ii.stencilAttachment=ya,Ii.depthStencilAttachment=Xa,Na.color=co.map(An),Na.depth=An(iu),Na.stencil=An(ya),Na.depthStencil=An(Xa),Na.width=Ii.width,Na.height=Ii.height,Un(Ii),Na}function xa(wi,Fi){ot(On.next!==Ii,"can not resize a framebuffer which is currently in use");var Aa=Math.max(wi|0,1),wa=Math.max(Fi|0||Aa,1);if(Aa===Ii.width&&wa===Ii.height)return Na;for(var Ja=Ii.colorAttachments,vs=0;vs<Ja.length;++vs)ei(Ja[vs],Aa,wa);return ei(Ii.depthAttachment,Aa,wa),ei(Ii.stencilAttachment,Aa,wa),ei(Ii.depthStencilAttachment,Aa,wa),Ii.width=Na.width=Aa,Ii.height=Na.height=wa,Un(Ii),Na}return Na(Qn,mi),c(Na,{resize:xa,_reglType:"framebuffer",_framebuffer:Ii,destroy:function(){oa(Ii),Mi(Ii)},use:function(wi){On.setFBO({framebuffer:Na},wi)}})}function Zi(Qn){var mi=Array(6);function Ii(xa){var wi;ot(mi.indexOf(On.next)<0,"can not update framebuffer which is currently in use");var Fi={color:null},Aa=0,wa=null,Ja="rgba",vs="uint8",ys=1;if(typeof xa=="number")Aa=xa|0;else if(!xa)Aa=1;else{ot.type(xa,"object","invalid arguments for framebuffer");var Ya=xa;if("shape"in Ya){var ru=Ya.shape;ot(Array.isArray(ru)&&ru.length>=2,"invalid shape for framebuffer"),ot(ru[0]===ru[1],"cube framebuffer must be square"),Aa=ru[0]}else"radius"in Ya&&(Aa=Ya.radius|0),"width"in Ya?(Aa=Ya.width|0,"height"in Ya&&ot(Ya.height===Aa,"must be square")):"height"in Ya&&(Aa=Ya.height|0);("color"in Ya||"colors"in Ya)&&(wa=Ya.color||Ya.colors,Array.isArray(wa)&&ot(wa.length===1||Ue.webgl_draw_buffers,"multiple render targets not supported")),wa||("colorCount"in Ya&&(ys=Ya.colorCount|0,ot(ys>0,"invalid color buffer count")),"colorType"in Ya&&(ot.oneOf(Ya.colorType,oi,"invalid color type"),vs=Ya.colorType),"colorFormat"in Ya&&(Ja=Ya.colorFormat,ot.oneOf(Ya.colorFormat,zn,"invalid color format for texture"))),"depth"in Ya&&(Fi.depth=Ya.depth),"stencil"in Ya&&(Fi.stencil=Ya.stencil),"depthStencil"in Ya&&(Fi.depthStencil=Ya.depthStencil)}var ao;if(wa)if(Array.isArray(wa))for(ao=[],wi=0;wi<wa.length;++wi)ao[wi]=wa[wi];else ao=[wa];else{ao=Array(ys);var Ls={radius:Aa,format:Ja,type:vs};for(wi=0;wi<ys;++wi)ao[wi]=vn.createCube(Ls)}for(Fi.color=Array(ao.length),wi=0;wi<ao.length;++wi){var Ms=ao[wi];ot(typeof Ms=="function"&&Ms._reglType==="textureCube","invalid cube map"),Aa=Aa||Ms.width,ot(Ms.width===Aa&&Ms.height===Aa,"invalid cube map shape"),Fi.color[wi]={target:Fn,data:ao[wi]}}for(wi=0;wi<6;++wi){for(var nu=0;nu<ao.length;++nu)Fi.color[nu].target=Fn+wi;wi>0&&(Fi.depth=mi[0].depth,Fi.stencil=mi[0].stencil,Fi.depthStencil=mi[0].depthStencil),mi[wi]?mi[wi](Fi):mi[wi]=_n(Fi)}return c(Ii,{width:Aa,height:Aa,color:ao})}function Na(xa){var wi,Fi=xa|0;if(ot(Fi>0&&Fi<=fr.maxCubeMapSize,"invalid radius for cube fbo"),Fi===Ii.width)return Ii;var Aa=Ii.color;for(wi=0;wi<Aa.length;++wi)Aa[wi].resize(Fi);for(wi=0;wi<6;++wi)mi[wi].resize(Fi);return Ii.width=Ii.height=Fi,Ii}return Ii(Qn),c(Ii,{faces:mi,resize:Na,_reglType:"framebufferCube",destroy:function(){mi.forEach(function(xa){xa.destroy()})}})}function Ei(){On.cur=null,On.next=null,On.dirty=!0,Me(Vn).forEach(function(Qn){Qn.framebuffer=Wt.createFramebuffer(),Un(Qn)})}return c(On,{getFramebuffer:function(Qn){if(typeof Qn=="function"&&Qn._reglType==="framebuffer"){var mi=Qn._framebuffer;if(mi instanceof Ri)return mi}return null},create:_n,createCube:Zi,clear:function(){Me(Vn).forEach(oa)},restore:Ei})}var hr=5126,Tr=34962,Yr=34963,en=["attributes","elements","offset","count","primitive","instances"];function Cn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=hr,this.offset=0,this.stride=0,this.divisor=0}function Hn(Wt,Ue,fr,vn,jn,hn,On){for(var zn=fr.maxAttributes,Jn=new Array(zn),oi=0;oi<zn;++oi)Jn[oi]=new Cn;var ui=0,li={},si={Record:Cn,scope:{},state:Jn,currentVAO:null,targetVAO:null,restore:ni()?Mi:function(){},createVAO:oa,getVAO:An,destroyBuffer:Kn,setVAO:ni()?ei:_i,clear:ni()?Vn:function(){}};function Kn(Un){for(var _n=0;_n<Jn.length;++_n){var Zi=Jn[_n];Zi.buffer===Un&&(Wt.disableVertexAttribArray(_n),Zi.buffer=null)}}function ni(){return Ue.oes_vertex_array_object}function Xr(){return Ue.angle_instanced_arrays}function An(Un){return typeof Un=="function"&&Un._vao?Un._vao:null}function ei(Un){if(Un!==si.currentVAO){var _n=ni();Un?_n.bindVertexArrayOES(Un.vao):_n.bindVertexArrayOES(null),si.currentVAO=Un}}function _i(Un){if(Un!==si.currentVAO){if(Un)Un.bindAttrs();else{for(var _n=Xr(),Zi=0;Zi<Jn.length;++Zi){var Ei=Jn[Zi];Ei.buffer?(Wt.enableVertexAttribArray(Zi),Ei.buffer.bind(),Wt.vertexAttribPointer(Zi,Ei.size,Ei.type,Ei.normalized,Ei.stride,Ei.offfset),_n&&Ei.divisor&&_n.vertexAttribDivisorANGLE(Zi,Ei.divisor)):(Wt.disableVertexAttribArray(Zi),Wt.vertexAttrib4f(Zi,Ei.x,Ei.y,Ei.z,Ei.w))}On.elements?Wt.bindBuffer(Yr,On.elements.buffer.buffer):Wt.bindBuffer(Yr,null)}si.currentVAO=Un}}function Vn(){Me(li).forEach(function(Un){Un.destroy()})}function Ri(){this.id=++ui,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var Un=ni();Un?this.vao=Un.createVertexArrayOES():this.vao=null,li[this.id]=this,this.buffers=[]}Ri.prototype.bindAttrs=function(){for(var Un=Xr(),_n=this.attributes,Zi=0;Zi<_n.length;++Zi){var Ei=_n[Zi];Ei.buffer?(Wt.enableVertexAttribArray(Zi),Wt.bindBuffer(Tr,Ei.buffer.buffer),Wt.vertexAttribPointer(Zi,Ei.size,Ei.type,Ei.normalized,Ei.stride,Ei.offset),Un&&Ei.divisor&&Un.vertexAttribDivisorANGLE(Zi,Ei.divisor)):(Wt.disableVertexAttribArray(Zi),Wt.vertexAttrib4f(Zi,Ei.x,Ei.y,Ei.z,Ei.w))}for(var Qn=_n.length;Qn<zn;++Qn)Wt.disableVertexAttribArray(Qn);var mi=hn.getElements(this.elements);mi?Wt.bindBuffer(Yr,mi.buffer.buffer):Wt.bindBuffer(Yr,null)},Ri.prototype.refresh=function(){var Un=ni();Un&&(Un.bindVertexArrayOES(this.vao),this.bindAttrs(),si.currentVAO=null,Un.bindVertexArrayOES(null))},Ri.prototype.destroy=function(){if(this.vao){var Un=ni();this===si.currentVAO&&(si.currentVAO=null,Un.bindVertexArrayOES(null)),Un.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),li[this.id]&&(delete li[this.id],vn.vaoCount-=1)};function Mi(){var Un=ni();Un&&Me(li).forEach(function(_n){_n.refresh()})}function oa(Un){var _n=new Ri;vn.vaoCount+=1;function Zi(Ei){var Qn;if(Array.isArray(Ei))Qn=Ei,_n.elements&&_n.ownsElements&&_n.elements.destroy(),_n.elements=null,_n.ownsElements=!1,_n.offset=0,_n.count=0,_n.instances=-1,_n.primitive=4;else{if(ot(typeof Ei=="object","invalid arguments for create vao"),ot("attributes"in Ei,"must specify attributes for vao"),Ei.elements){var mi=Ei.elements;_n.ownsElements?typeof mi=="function"&&mi._reglType==="elements"?(_n.elements.destroy(),_n.ownsElements=!1):(_n.elements(mi),_n.ownsElements=!1):hn.getElements(Ei.elements)?(_n.elements=Ei.elements,_n.ownsElements=!1):(_n.elements=hn.create(Ei.elements),_n.ownsElements=!0)}else _n.elements=null,_n.ownsElements=!1;Qn=Ei.attributes,_n.offset=0,_n.count=-1,_n.instances=-1,_n.primitive=4,_n.elements&&(_n.count=_n.elements._elements.vertCount,_n.primitive=_n.elements._elements.primType),"offset"in Ei&&(_n.offset=Ei.offset|0),"count"in Ei&&(_n.count=Ei.count|0),"instances"in Ei&&(_n.instances=Ei.instances|0),"primitive"in Ei&&(ot(Ei.primitive in Pn,"bad primitive type: "+Ei.primitive),_n.primitive=Pn[Ei.primitive]),ot.optional(()=>{for(var vs=Object.keys(Ei),ys=0;ys<vs.length;++ys)ot(en.indexOf(vs[ys])>=0,'invalid option for vao: "'+vs[ys]+'" valid options are '+en)}),ot(Array.isArray(Qn),"attributes must be an array")}ot(Qn.length<zn,"too many attributes"),ot(Qn.length>0,"must specify at least one attribute");var Ii={},Na=_n.attributes;Na.length=Qn.length;for(var xa=0;xa<Qn.length;++xa){var wi=Qn[xa],Fi=Na[xa]=new Cn,Aa=wi.data||wi;if(Array.isArray(Aa)||t(Aa)||Ae(Aa)){var wa;_n.buffers[xa]&&(wa=_n.buffers[xa],t(Aa)&&wa._buffer.byteLength>=Aa.byteLength?wa.subdata(Aa):(wa.destroy(),_n.buffers[xa]=null)),_n.buffers[xa]||(wa=_n.buffers[xa]=jn.create(wi,Tr,!1,!0)),Fi.buffer=jn.getBuffer(wa),Fi.size=Fi.buffer.dimension|0,Fi.normalized=!1,Fi.type=Fi.buffer.dtype,Fi.offset=0,Fi.stride=0,Fi.divisor=0,Fi.state=1,Ii[xa]=1}else jn.getBuffer(wi)?(Fi.buffer=jn.getBuffer(wi),Fi.size=Fi.buffer.dimension|0,Fi.normalized=!1,Fi.type=Fi.buffer.dtype,Fi.offset=0,Fi.stride=0,Fi.divisor=0,Fi.state=1):jn.getBuffer(wi.buffer)?(Fi.buffer=jn.getBuffer(wi.buffer),Fi.size=(+wi.size||Fi.buffer.dimension)|0,Fi.normalized=!!wi.normalized||!1,"type"in wi?(ot.parameter(wi.type,pe,"invalid buffer type"),Fi.type=pe[wi.type]):Fi.type=Fi.buffer.dtype,Fi.offset=(wi.offset||0)|0,Fi.stride=(wi.stride||0)|0,Fi.divisor=(wi.divisor||0)|0,Fi.state=1,ot(Fi.size>=1&&Fi.size<=4,"size must be between 1 and 4"),ot(Fi.offset>=0,"invalid offset"),ot(Fi.stride>=0&&Fi.stride<=255,"stride must be between 0 and 255"),ot(Fi.divisor>=0,"divisor must be positive"),ot(!Fi.divisor||!!Ue.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in wi?(ot(xa>0,"first attribute must not be a constant"),Fi.x=+wi.x||0,Fi.y=+wi.y||0,Fi.z=+wi.z||0,Fi.w=+wi.w||0,Fi.state=2):ot(!1,"invalid attribute spec for location "+xa)}for(var Ja=0;Ja<_n.buffers.length;++Ja)!Ii[Ja]&&_n.buffers[Ja]&&(_n.buffers[Ja].destroy(),_n.buffers[Ja]=null);return _n.refresh(),Zi}return Zi.destroy=function(){for(var Ei=0;Ei<_n.buffers.length;++Ei)_n.buffers[Ei]&&_n.buffers[Ei].destroy();_n.buffers.length=0,_n.ownsElements&&(_n.elements.destroy(),_n.elements=null,_n.ownsElements=!1),_n.destroy()},Zi._vao=_n,Zi._reglType="vao",Zi(Un)}return si}var hi=35632,$i=35633,ga=35718,Pa=35721;function Ta(Wt,Ue,fr,vn){var jn={},hn={};function On(Xr,An,ei,_i){this.name=Xr,this.id=An,this.location=ei,this.info=_i}function zn(Xr,An){for(var ei=0;ei<Xr.length;++ei)if(Xr[ei].id===An.id){Xr[ei].location=An.location;return}Xr.push(An)}function Jn(Xr,An,ei){var _i=Xr===hi?jn:hn,Vn=_i[An];if(!Vn){var Ri=Ue.str(An);Vn=Wt.createShader(Xr),Wt.shaderSource(Vn,Ri),Wt.compileShader(Vn),ot.shaderError(Wt,Vn,Ri,Xr,ei),_i[An]=Vn}return Vn}var oi={},ui=[],li=0;function si(Xr,An){this.id=li++,this.fragId=Xr,this.vertId=An,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,vn.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Kn(Xr,An,ei){var _i,Vn,Ri=Jn(hi,Xr.fragId),Mi=Jn($i,Xr.vertId),oa=Xr.program=Wt.createProgram();if(Wt.attachShader(oa,Ri),Wt.attachShader(oa,Mi),ei)for(_i=0;_i<ei.length;++_i){var Un=ei[_i];Wt.bindAttribLocation(oa,Un[0],Un[1])}Wt.linkProgram(oa),ot.linkError(Wt,oa,Ue.str(Xr.fragId),Ue.str(Xr.vertId),An);var _n=Wt.getProgramParameter(oa,ga);vn.profile&&(Xr.stats.uniformsCount=_n);var Zi=Xr.uniforms;for(_i=0;_i<_n;++_i)if(Vn=Wt.getActiveUniform(oa,_i),Vn)if(Vn.size>1)for(var Ei=0;Ei<Vn.size;++Ei){var Qn=Vn.name.replace("[0]","["+Ei+"]");zn(Zi,new On(Qn,Ue.id(Qn),Wt.getUniformLocation(oa,Qn),Vn))}else zn(Zi,new On(Vn.name,Ue.id(Vn.name),Wt.getUniformLocation(oa,Vn.name),Vn));var mi=Wt.getProgramParameter(oa,Pa);vn.profile&&(Xr.stats.attributesCount=mi);var Ii=Xr.attributes;for(_i=0;_i<mi;++_i)Vn=Wt.getActiveAttrib(oa,_i),Vn&&zn(Ii,new On(Vn.name,Ue.id(Vn.name),Wt.getAttribLocation(oa,Vn.name),Vn))}vn.profile&&(fr.getMaxUniformsCount=function(){var Xr=0;return ui.forEach(function(An){An.stats.uniformsCount>Xr&&(Xr=An.stats.uniformsCount)}),Xr},fr.getMaxAttributesCount=function(){var Xr=0;return ui.forEach(function(An){An.stats.attributesCount>Xr&&(Xr=An.stats.attributesCount)}),Xr});function ni(){jn={},hn={};for(var Xr=0;Xr<ui.length;++Xr)Kn(ui[Xr],null,ui[Xr].attributes.map(function(An){return[An.location,An.name]}))}return{clear:function(){var Xr=Wt.deleteShader.bind(Wt);Me(jn).forEach(Xr),jn={},Me(hn).forEach(Xr),hn={},ui.forEach(function(An){Wt.deleteProgram(An.program)}),ui.length=0,oi={},fr.shaderCount=0},program:function(Xr,An,ei,_i){ot.command(Xr>=0,"missing vertex shader",ei),ot.command(An>=0,"missing fragment shader",ei);var Vn=oi[An];Vn||(Vn=oi[An]={});var Ri=Vn[Xr];if(Ri&&(Ri.refCount++,!_i))return Ri;var Mi=new si(An,Xr);return fr.shaderCount++,Kn(Mi,ei,_i),Ri||(Vn[Xr]=Mi),ui.push(Mi),c(Mi,{destroy:function(){if(Mi.refCount--,Mi.refCount<=0){Wt.deleteProgram(Mi.program);var oa=ui.indexOf(Mi);ui.splice(oa,1),fr.shaderCount--}Vn[Mi.vertId].refCount<=0&&(Wt.deleteShader(hn[Mi.vertId]),delete hn[Mi.vertId],delete oi[Mi.fragId][Mi.vertId]),Object.keys(oi[Mi.fragId]).length||(Wt.deleteShader(jn[Mi.fragId]),delete jn[Mi.fragId],delete oi[Mi.fragId])}})},restore:ni,shader:Jn,frag:-1,vert:-1}}var La=6408,Eo=5121,Os=3333,ls=5126;function rs(Wt,Ue,fr,vn,jn,hn,On){function zn(ui){var li;Ue.next===null?(ot(jn.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),li=Eo):(ot(Ue.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),li=Ue.next.colorAttachments[0].texture._texture.type,ot.optional(function(){hn.oes_texture_float?(ot(li===Eo||li===ls,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),li===ls&&ot(On.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ot(li===Eo,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var si=0,Kn=0,ni=vn.framebufferWidth,Xr=vn.framebufferHeight,An=null;t(ui)?An=ui:ui&&(ot.type(ui,"object","invalid arguments to regl.read()"),si=ui.x|0,Kn=ui.y|0,ot(si>=0&&si<vn.framebufferWidth,"invalid x offset for regl.read"),ot(Kn>=0&&Kn<vn.framebufferHeight,"invalid y offset for regl.read"),ni=(ui.width||vn.framebufferWidth-si)|0,Xr=(ui.height||vn.framebufferHeight-Kn)|0,An=ui.data||null),An&&(li===Eo?ot(An instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):li===ls&&ot(An instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ot(ni>0&&ni+si<=vn.framebufferWidth,"invalid width for read pixels"),ot(Xr>0&&Xr+Kn<=vn.framebufferHeight,"invalid height for read pixels"),fr();var ei=ni*Xr*4;return An||(li===Eo?An=new Uint8Array(ei):li===ls&&(An=An||new Float32Array(ei))),ot.isTypedArray(An,"data buffer for regl.read() must be a typedarray"),ot(An.byteLength>=ei,"data buffer for regl.read() too small"),Wt.pixelStorei(Os,4),Wt.readPixels(si,Kn,ni,Xr,La,li,An),An}function Jn(ui){var li;return Ue.setFBO({framebuffer:ui.framebuffer},function(){li=zn(ui)}),li}function oi(ui){return!ui||!("framebuffer"in ui)?zn(ui):Jn(ui)}return oi}function Us(Wt){return Array.prototype.slice.call(Wt)}function du(Wt){return Us(Wt).join("")}function Wu(){var Wt=0,Ue=[],fr=[];function vn(li){for(var si=0;si<fr.length;++si)if(fr[si]===li)return Ue[si];var Kn="g"+Wt++;return Ue.push(Kn),fr.push(li),Kn}function jn(){var li=[];function si(){li.push.apply(li,Us(arguments))}var Kn=[];function ni(){var Xr="v"+Wt++;return Kn.push(Xr),arguments.length>0&&(li.push(Xr,"="),li.push.apply(li,Us(arguments)),li.push(";")),Xr}return c(si,{def:ni,toString:function(){return du([Kn.length>0?"var "+Kn.join(",")+";":"",du(li)])}})}function hn(){var li=jn(),si=jn(),Kn=li.toString,ni=si.toString;function Xr(An,ei){si(An,ei,"=",li.def(An,ei),";")}return c(function(){li.apply(li,Us(arguments))},{def:li.def,entry:li,exit:si,save:Xr,set:function(An,ei,_i){Xr(An,ei),li(An,ei,"=",_i,";")},toString:function(){return Kn()+ni()}})}function On(){var li=du(arguments),si=hn(),Kn=hn(),ni=si.toString,Xr=Kn.toString;return c(si,{then:function(){return si.apply(si,Us(arguments)),this},else:function(){return Kn.apply(Kn,Us(arguments)),this},toString:function(){var An=Xr();return An&&(An="else{"+An+"}"),du(["if(",li,"){",ni(),"}",An])}})}var zn=jn(),Jn={};function oi(li,si){var Kn=[];function ni(){var Vn="a"+Kn.length;return Kn.push(Vn),Vn}si=si||0;for(var Xr=0;Xr<si;++Xr)ni();var An=hn(),ei=An.toString,_i=Jn[li]=c(An,{arg:ni,toString:function(){return du(["function(",Kn.join(),"){",ei(),"}"])}});return _i}function ui(){var li=['"use strict";',zn,"return {"];Object.keys(Jn).forEach(function(Xr){li.push('"',Xr,'":',Jn[Xr].toString(),",")}),li.push("}");var si=du(li).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Kn=typeof my!="undefined"&&!!my&&typeof my.showToast=="function",ni=Kn?i.Function.apply(null,Ue.concat(si)):Function.apply(null,Ue.concat(si));return ni.apply(null,fr)}return{global:zn,link:vn,block:jn,proc:oi,scope:hn,cond:On,compile:ui}}var wu="xyzw".split(""),fu=5121,ms=1,Iu=2,oe=0,ue=1,Tt=2,Lt=3,se=4,Oe=5,Rr=6,on="dither",Wr="blend.enable",bn="blend.color",ai="blend.equation",ra="blend.func",ua="depth.enable",ba="depth.func",Da="depth.range",Ra="depth.mask",no="colorMask",bo="cull.enable",Po="cull.face",Ts="frontFace",$o="lineWidth",eu="polygonOffset.enable",hs="polygonOffset.offset",Mo="sample.alpha",Ao="sample.enable",ws="sample.coverage",Xs="stencil.enable",As="stencil.mask",xu="stencil.func",Su="stencil.opFront",Gu="stencil.opBack",qu="scissor.enable",Ru="scissor.box",Bu="viewport",Yu="profile",ku="framebuffer",vl="vert",dl="frag",nl="elements",il="primitive",tl="count",Ol="offset",Tl="instances",pl="vao",Zl="Width",Wl="Height",sl=ku+Zl,ul=ku+Wl,Hf=Bu+Zl,Yf=Bu+Wl,Gl="drawingBuffer",hf=Gl+Zl,vf=Gl+Wl,Xf=[ra,ai,xu,Su,Gu,ws,Bu,Ru,hs],ll=34962,Vl=34963,df=35632,Hl=35633,pf=3553,Kf=34067,gf=2884,$f=3042,Qf=3024,Jf=2960,mf=2929,qf=3089,yf=32823,xf=32926,Sf=32928,wl=5126,Il=35664,Ll=35665,Dl=35666,Yl=5124,Rl=35667,Nl=35668,gl=35669,Xl=35670,Fl=35671,ml=35672,yl=35673,fl=35674,cl=35675,xl=35676,Sl=35678,El=35680,Kl=4,bl=1028,al=1029,Ef=2304,$l=2305,tc=32775,ec=32776,rc=519,el=7680,bf=0,Af=1,Mf=32774,nc=513,Cf=36160,ic=36064,Vu={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pf=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ol={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xu={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ql={frag:df,vert:Hl},Bl={cw:Ef,ccw:$l};function Al(Wt){return Array.isArray(Wt)||t(Wt)||Ae(Wt)}function hl(Wt){return Wt.sort(function(Ue,fr){return Ue===Bu?-1:fr===Bu?1:Ue<fr?-1:1})}function Ks(Wt,Ue,fr,vn){this.thisDep=Wt,this.contextDep=Ue,this.propDep=fr,this.append=vn}function Ku(Wt){return Wt&&!(Wt.thisDep||Wt.contextDep||Wt.propDep)}function Is(Wt){return new Ks(!1,!1,!1,Wt)}function Lu(Wt,Ue){var fr=Wt.type;if(fr===oe){var vn=Wt.data.length;return new Ks(!0,vn>=1,vn>=2,Ue)}else if(fr===se){var jn=Wt.data;return new Ks(jn.thisDep,jn.contextDep,jn.propDep,Ue)}else{if(fr===Oe)return new Ks(!1,!1,!1,Ue);if(fr===Rr){for(var hn=!1,On=!1,zn=!1,Jn=0;Jn<Wt.data.length;++Jn){var oi=Wt.data[Jn];if(oi.type===ue)zn=!0;else if(oi.type===Tt)On=!0;else if(oi.type===Lt)hn=!0;else if(oi.type===oe){hn=!0;var ui=oi.data;ui>=1&&(On=!0),ui>=2&&(zn=!0)}else oi.type===se&&(hn=hn||oi.data.thisDep,On=On||oi.data.contextDep,zn=zn||oi.data.propDep)}return new Ks(hn,On,zn,Ue)}else return new Ks(fr===Lt,fr===Tt,fr===ue,Ue)}}var Of=new Ks(!1,!1,!1,function(){});function ac(Wt,Ue,fr,vn,jn,hn,On,zn,Jn,oi,ui,li,si,Kn,ni){var Xr=oi.Record,An={add:32774,subtract:32778,"reverse subtract":32779};fr.ext_blend_minmax&&(An.min=tc,An.max=ec);var ei=fr.angle_instanced_arrays,_i=fr.webgl_draw_buffers,Vn=fr.oes_vertex_array_object,Ri={dirty:!0,profile:ni.profile},Mi={},oa=[],Un={},_n={};function Zi(Ke){return Ke.replace(".","_")}function Ei(Ke,Ce,Ar){var $r=Zi(Ke);oa.push(Ke),Mi[$r]=Ri[$r]=!!Ar,Un[$r]=Ce}function Qn(Ke,Ce,Ar){var $r=Zi(Ke);oa.push(Ke),Array.isArray(Ar)?(Ri[$r]=Ar.slice(),Mi[$r]=Ar.slice()):Ri[$r]=Mi[$r]=Ar,_n[$r]=Ce}Ei(on,Qf),Ei(Wr,$f),Qn(bn,"blendColor",[0,0,0,0]),Qn(ai,"blendEquationSeparate",[Mf,Mf]),Qn(ra,"blendFuncSeparate",[Af,bf,Af,bf]),Ei(ua,mf,!0),Qn(ba,"depthFunc",nc),Qn(Da,"depthRange",[0,1]),Qn(Ra,"depthMask",!0),Qn(no,no,[!0,!0,!0,!0]),Ei(bo,gf),Qn(Po,"cullFace",al),Qn(Ts,Ts,$l),Qn($o,$o,1),Ei(eu,yf),Qn(hs,"polygonOffset",[0,0]),Ei(Mo,xf),Ei(Ao,Sf),Qn(ws,"sampleCoverage",[1,!1]),Ei(Xs,Jf),Qn(As,"stencilMask",-1),Qn(xu,"stencilFunc",[rc,0,-1]),Qn(Su,"stencilOpSeparate",[bl,el,el,el]),Qn(Gu,"stencilOpSeparate",[al,el,el,el]),Ei(qu,qf),Qn(Ru,"scissor",[0,0,Wt.drawingBufferWidth,Wt.drawingBufferHeight]),Qn(Bu,Bu,[0,0,Wt.drawingBufferWidth,Wt.drawingBufferHeight]);var mi={gl:Wt,context:si,strings:Ue,next:Mi,current:Ri,draw:li,elements:hn,buffer:jn,shader:ui,attributes:oi.state,vao:oi,uniforms:Jn,framebuffer:zn,extensions:fr,timer:Kn,isBufferArgs:Al},Ii={primTypes:Pn,compareFuncs:ol,blendFuncs:Vu,blendEquations:An,stencilOps:Xu,glTypes:pe,orientationType:Bl};ot.optional(function(){mi.isArrayLike=so}),_i&&(Ii.backBuffer=[al],Ii.drawBuffer=lr(vn.maxDrawbuffers,function(Ke){return Ke===0?[0]:lr(Ke,function(Ce){return ic+Ce})}));var Na=0;function xa(){var Ke=Wu(),Ce=Ke.link,Ar=Ke.global;Ke.id=Na++,Ke.batchId="0";var $r=Ce(mi),gn=Ke.shared={props:"a0"};Object.keys(mi).forEach(function(Sr){gn[Sr]=Ar.def($r,".",Sr)}),ot.optional(function(){Ke.CHECK=Ce(ot),Ke.commandStr=ot.guessCommand(),Ke.command=Ce(Ke.commandStr),Ke.assert=function(Sr,Je,Qr){Sr("if(!(",Je,"))",this.CHECK,".commandRaise(",Ce(Qr),",",this.command,");")},Ii.invalidBlendCombinations=Pf});var Ir=Ke.next={},Pr=Ke.current={};Object.keys(_n).forEach(function(Sr){Array.isArray(Ri[Sr])&&(Ir[Sr]=Ar.def(gn.next,".",Sr),Pr[Sr]=Ar.def(gn.current,".",Sr))});var Nr=Ke.constants={};Object.keys(Ii).forEach(function(Sr){Nr[Sr]=Ar.def(JSON.stringify(Ii[Sr]))}),Ke.invoke=function(Sr,Je){switch(Je.type){case oe:var Qr=["this",gn.context,gn.props,Ke.batchId];return Sr.def(Ce(Je.data),".call(",Qr.slice(0,Math.max(Je.data.length+1,4)),")");case ue:return Sr.def(gn.props,Je.data);case Tt:return Sr.def(gn.context,Je.data);case Lt:return Sr.def("this",Je.data);case se:return Je.data.append(Ke,Sr),Je.data.ref;case Oe:return Je.data.toString();case Rr:return Je.data.map(function(an){return Ke.invoke(Sr,an)})}},Ke.attribCache={};var ze={};return Ke.scopeAttrib=function(Sr){var Je=Ue.id(Sr);if(Je in ze)return ze[Je];var Qr=oi.scope[Je];Qr||(Qr=oi.scope[Je]=new Xr);var an=ze[Je]=Ce(Qr);return an},Ke}function wi(Ke){var Ce=Ke.static,Ar=Ke.dynamic,$r;if(Yu in Ce){var gn=!!Ce[Yu];$r=Is(function(Pr,Nr){return gn}),$r.enable=gn}else if(Yu in Ar){var Ir=Ar[Yu];$r=Lu(Ir,function(Pr,Nr){return Pr.invoke(Nr,Ir)})}return $r}function Fi(Ke,Ce){var Ar=Ke.static,$r=Ke.dynamic;if(ku in Ar){var gn=Ar[ku];return gn?(gn=zn.getFramebuffer(gn),ot.command(gn,"invalid framebuffer object"),Is(function(Pr,Nr){var ze=Pr.link(gn),Sr=Pr.shared;Nr.set(Sr.framebuffer,".next",ze);var Je=Sr.context;return Nr.set(Je,"."+sl,ze+".width"),Nr.set(Je,"."+ul,ze+".height"),ze})):Is(function(Pr,Nr){var ze=Pr.shared;Nr.set(ze.framebuffer,".next","null");var Sr=ze.context;return Nr.set(Sr,"."+sl,Sr+"."+hf),Nr.set(Sr,"."+ul,Sr+"."+vf),"null"})}else if(ku in $r){var Ir=$r[ku];return Lu(Ir,function(Pr,Nr){var ze=Pr.invoke(Nr,Ir),Sr=Pr.shared,Je=Sr.framebuffer,Qr=Nr.def(Je,".getFramebuffer(",ze,")");ot.optional(function(){Pr.assert(Nr,"!"+ze+"||"+Qr,"invalid framebuffer object")}),Nr.set(Je,".next",Qr);var an=Sr.context;return Nr.set(an,"."+sl,Qr+"?"+Qr+".width:"+an+"."+hf),Nr.set(an,"."+ul,Qr+"?"+Qr+".height:"+an+"."+vf),Qr})}else return null}function Aa(Ke,Ce,Ar){var $r=Ke.static,gn=Ke.dynamic;function Ir(ze){if(ze in $r){var Sr=$r[ze];ot.commandType(Sr,"object","invalid "+ze,Ar.commandStr);var Je=!0,Qr=Sr.x|0,an=Sr.y|0,Gn,yi;return"width"in Sr?(Gn=Sr.width|0,ot.command(Gn>=0,"invalid "+ze,Ar.commandStr)):Je=!1,"height"in Sr?(yi=Sr.height|0,ot.command(yi>=0,"invalid "+ze,Ar.commandStr)):Je=!1,new Ks(!Je&&Ce&&Ce.thisDep,!Je&&Ce&&Ce.contextDep,!Je&&Ce&&Ce.propDep,function(vi,Xi){var ji=vi.shared.context,Wi=Gn;"width"in Sr||(Wi=Xi.def(ji,".",sl,"-",Qr));var Gi=yi;return"height"in Sr||(Gi=Xi.def(ji,".",ul,"-",an)),[Qr,an,Wi,Gi]})}else if(ze in gn){var xi=gn[ze],Pi=Lu(xi,function(vi,Xi){var ji=vi.invoke(Xi,xi);ot.optional(function(){vi.assert(Xi,ji+"&&typeof "+ji+'==="object"',"invalid "+ze)});var Wi=vi.shared.context,Gi=Xi.def(ji,".x|0"),Hi=Xi.def(ji,".y|0"),ia=Xi.def('"width" in ',ji,"?",ji,".width|0:","(",Wi,".",sl,"-",Gi,")"),Uo=Xi.def('"height" in ',ji,"?",ji,".height|0:","(",Wi,".",ul,"-",Hi,")");return ot.optional(function(){vi.assert(Xi,ia+">=0&&"+Uo+">=0","invalid "+ze)}),[Gi,Hi,ia,Uo]});return Ce&&(Pi.thisDep=Pi.thisDep||Ce.thisDep,Pi.contextDep=Pi.contextDep||Ce.contextDep,Pi.propDep=Pi.propDep||Ce.propDep),Pi}else return Ce?new Ks(Ce.thisDep,Ce.contextDep,Ce.propDep,function(vi,Xi){var ji=vi.shared.context;return[0,0,Xi.def(ji,".",sl),Xi.def(ji,".",ul)]}):null}var Pr=Ir(Bu);if(Pr){var Nr=Pr;Pr=new Ks(Pr.thisDep,Pr.contextDep,Pr.propDep,function(ze,Sr){var Je=Nr.append(ze,Sr),Qr=ze.shared.context;return Sr.set(Qr,"."+Hf,Je[2]),Sr.set(Qr,"."+Yf,Je[3]),Je})}return{viewport:Pr,scissor_box:Ir(Ru)}}function wa(Ke,Ce){var Ar=Ke.static,$r=typeof Ar[dl]=="string"&&typeof Ar[vl]=="string";if($r){if(Object.keys(Ce.dynamic).length>0)return null;var gn=Ce.static,Ir=Object.keys(gn);if(Ir.length>0&&typeof gn[Ir[0]]=="number"){for(var Pr=[],Nr=0;Nr<Ir.length;++Nr)ot(typeof gn[Ir[Nr]]=="number","must specify all vertex attribute locations when using vaos"),Pr.push([gn[Ir[Nr]]|0,Ir[Nr]]);return Pr}}return null}function Ja(Ke,Ce,Ar){var $r=Ke.static,gn=Ke.dynamic;function Ir(Je){if(Je in $r){var Qr=Ue.id($r[Je]);ot.optional(function(){ui.shader(Ql[Je],Qr,ot.guessCommand())});var an=Is(function(){return Qr});return an.id=Qr,an}else if(Je in gn){var Gn=gn[Je];return Lu(Gn,function(yi,xi){var Pi=yi.invoke(xi,Gn),vi=xi.def(yi.shared.strings,".id(",Pi,")");return ot.optional(function(){xi(yi.shared.shader,".shader(",Ql[Je],",",vi,",",yi.command,");")}),vi})}return null}var Pr=Ir(dl),Nr=Ir(vl),ze=null,Sr;return Ku(Pr)&&Ku(Nr)?(ze=ui.program(Nr.id,Pr.id,null,Ar),Sr=Is(function(Je,Qr){return Je.link(ze)})):Sr=new Ks(Pr&&Pr.thisDep||Nr&&Nr.thisDep,Pr&&Pr.contextDep||Nr&&Nr.contextDep,Pr&&Pr.propDep||Nr&&Nr.propDep,function(Je,Qr){var an=Je.shared.shader,Gn;Pr?Gn=Pr.append(Je,Qr):Gn=Qr.def(an,".",dl);var yi;Nr?yi=Nr.append(Je,Qr):yi=Qr.def(an,".",vl);var xi=an+".program("+yi+","+Gn;return ot.optional(function(){xi+=","+Je.command}),Qr.def(xi+")")}),{frag:Pr,vert:Nr,progVar:Sr,program:ze}}function vs(Ke,Ce){var Ar=Ke.static,$r=Ke.dynamic,gn={},Ir=!1;function Pr(){if(pl in Ar){var Xi=Ar[pl];return Xi!==null&&oi.getVAO(Xi)===null&&(Xi=oi.createVAO(Xi)),Ir=!0,gn.vao=Xi,Is(function(Wi){var Gi=oi.getVAO(Xi);return Gi?Wi.link(Gi):"null"})}else if(pl in $r){Ir=!0;var ji=$r[pl];return Lu(ji,function(Wi,Gi){var Hi=Wi.invoke(Gi,ji);return Gi.def(Wi.shared.vao+".getVAO("+Hi+")")})}return null}var Nr=Pr(),ze=!1;function Sr(){if(nl in Ar){var Xi=Ar[nl];if(gn.elements=Xi,Al(Xi)){var ji=gn.elements=hn.create(Xi,!0);Xi=hn.getElements(ji),ze=!0}else Xi&&(Xi=hn.getElements(Xi),ze=!0,ot.command(Xi,"invalid elements",Ce.commandStr));var Wi=Is(function(Hi,ia){if(Xi){var Uo=Hi.link(Xi);return Hi.ELEMENTS=Uo,Uo}return Hi.ELEMENTS=null,null});return Wi.value=Xi,Wi}else if(nl in $r){ze=!0;var Gi=$r[nl];return Lu(Gi,function(Hi,ia){var Uo=Hi.shared,Cs=Uo.isBufferArgs,rl=Uo.elements,Hu=Hi.invoke(ia,Gi),$u=ia.def("null"),Du=ia.def(Cs,"(",Hu,")"),Fu=Hi.cond(Du).then($u,"=",rl,".createStream(",Hu,");").else($u,"=",rl,".getElements(",Hu,");");return ot.optional(function(){Hi.assert(Fu.else,"!"+Hu+"||"+$u,"invalid elements")}),ia.entry(Fu),ia.exit(Hi.cond(Du).then(rl,".destroyStream(",$u,");")),Hi.ELEMENTS=$u,$u})}else if(Ir)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.elements+".getElements("+Hi.shared.vao+".currentVAO.elements):null")});return null}var Je=Sr();function Qr(){if(il in Ar){var Xi=Ar[il];return gn.primitive=Xi,ot.commandParameter(Xi,Pn,"invalid primitve",Ce.commandStr),Is(function(Wi,Gi){return Pn[Xi]})}else if(il in $r){var ji=$r[il];return Lu(ji,function(Wi,Gi){var Hi=Wi.constants.primTypes,ia=Wi.invoke(Gi,ji);return ot.optional(function(){Wi.assert(Gi,ia+" in "+Hi,"invalid primitive, must be one of "+Object.keys(Pn))}),Gi.def(Hi,"[",ia,"]")})}else{if(ze)return Ku(Je)?Je.value?Is(function(Wi,Gi){return Gi.def(Wi.ELEMENTS,".primType")}):Is(function(){return Kl}):new Ks(Je.thisDep,Je.contextDep,Je.propDep,function(Wi,Gi){var Hi=Wi.ELEMENTS;return Gi.def(Hi,"?",Hi,".primType:",Kl)});if(Ir)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Wi,Gi){return Gi.def(Wi.shared.vao+".currentVAO?"+Wi.shared.vao+".currentVAO.primitive:"+Kl)})}return null}function an(Xi,ji){if(Xi in Ar){var Wi=Ar[Xi]|0;return ji?gn.offset=Wi:gn.instances=Wi,ot.command(!ji||Wi>=0,"invalid "+Xi,Ce.commandStr),Is(function(Hi,ia){return ji&&(Hi.OFFSET=Wi),Wi})}else if(Xi in $r){var Gi=$r[Xi];return Lu(Gi,function(Hi,ia){var Uo=Hi.invoke(ia,Gi);return ji&&(Hi.OFFSET=Uo,ot.optional(function(){Hi.assert(ia,Uo+">=0","invalid "+Xi)})),Uo})}else if(ji){if(ze)return Is(function(Hi,ia){return Hi.OFFSET=0,0});if(Ir)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.vao+".currentVAO.offset:0")})}else if(Ir)return new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(Hi,ia){return ia.def(Hi.shared.vao+".currentVAO?"+Hi.shared.vao+".currentVAO.instances:-1")});return null}var Gn=an(Ol,!0);function yi(){if(tl in Ar){var Xi=Ar[tl]|0;return gn.count=Xi,ot.command(typeof Xi=="number"&&Xi>=0,"invalid vertex count",Ce.commandStr),Is(function(){return Xi})}else if(tl in $r){var ji=$r[tl];return Lu(ji,function(ia,Uo){var Cs=ia.invoke(Uo,ji);return ot.optional(function(){ia.assert(Uo,"typeof "+Cs+'==="number"&&'+Cs+">=0&&"+Cs+"===("+Cs+"|0)","invalid vertex count")}),Cs})}else if(ze)if(Ku(Je)){if(Je)return Gn?new Ks(Gn.thisDep,Gn.contextDep,Gn.propDep,function(ia,Uo){var Cs=Uo.def(ia.ELEMENTS,".vertCount-",ia.OFFSET);return ot.optional(function(){ia.assert(Uo,Cs+">=0","invalid vertex offset/element buffer too small")}),Cs}):Is(function(ia,Uo){return Uo.def(ia.ELEMENTS,".vertCount")});var Wi=Is(function(){return-1});return ot.optional(function(){Wi.MISSING=!0}),Wi}else{var Gi=new Ks(Je.thisDep||Gn.thisDep,Je.contextDep||Gn.contextDep,Je.propDep||Gn.propDep,function(ia,Uo){var Cs=ia.ELEMENTS;return ia.OFFSET?Uo.def(Cs,"?",Cs,".vertCount-",ia.OFFSET,":-1"):Uo.def(Cs,"?",Cs,".vertCount:-1")});return ot.optional(function(){Gi.DYNAMIC=!0}),Gi}else if(Ir){var Hi=new Ks(Nr.thisDep,Nr.contextDep,Nr.propDep,function(ia,Uo){return Uo.def(ia.shared.vao,".currentVAO?",ia.shared.vao,".currentVAO.count:-1")});return Hi}return null}var xi=Qr(),Pi=yi(),vi=an(Tl,!1);return{elements:Je,primitive:xi,count:Pi,instances:vi,offset:Gn,vao:Nr,vaoActive:Ir,elementsActive:ze,static:gn}}function ys(Ke,Ce){var Ar=Ke.static,$r=Ke.dynamic,gn={};return oa.forEach(function(Ir){var Pr=Zi(Ir);function Nr(ze,Sr){if(Ir in Ar){var Je=ze(Ar[Ir]);gn[Pr]=Is(function(){return Je})}else if(Ir in $r){var Qr=$r[Ir];gn[Pr]=Lu(Qr,function(an,Gn){return Sr(an,Gn,an.invoke(Gn,Qr))})}}switch(Ir){case bo:case Wr:case on:case Xs:case ua:case qu:case eu:case Mo:case Ao:case Ra:return Nr(function(ze){return ot.commandType(ze,"boolean",Ir,Ce.commandStr),ze},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,"typeof "+Je+'==="boolean"',"invalid flag "+Ir,ze.commandStr)}),Je});case ba:return Nr(function(ze){return ot.commandParameter(ze,ol,"invalid "+Ir,Ce.commandStr),ol[ze]},function(ze,Sr,Je){var Qr=ze.constants.compareFuncs;return ot.optional(function(){ze.assert(Sr,Je+" in "+Qr,"invalid "+Ir+", must be one of "+Object.keys(ol))}),Sr.def(Qr,"[",Je,"]")});case Da:return Nr(function(ze){return ot.command(so(ze)&&ze.length===2&&typeof ze[0]=="number"&&typeof ze[1]=="number"&&ze[0]<=ze[1],"depth range is 2d array",Ce.commandStr),ze},function(ze,Sr,Je){ot.optional(function(){ze.assert(Sr,ze.shared.isArrayLike+"("+Je+")&&"+Je+".length===2&&typeof "+Je+'[0]==="number"&&typeof '+Je+'[1]==="number"&&'+Je+"[0]<="+Je+"[1]","depth range must be a 2d array")});var Qr=Sr.def("+",Je,"[0]"),an=Sr.def("+",Je,"[1]");return[Qr,an]});case ra:return Nr(function(ze){ot.commandType(ze,"object","blend.func",Ce.commandStr);var Sr="srcRGB"in ze?ze.srcRGB:ze.src,Je="srcAlpha"in ze?ze.srcAlpha:ze.src,Qr="dstRGB"in ze?ze.dstRGB:ze.dst,an="dstAlpha"in ze?ze.dstAlpha:ze.dst;return ot.commandParameter(Sr,Vu,Pr+".srcRGB",Ce.commandStr),ot.commandParameter(Je,Vu,Pr+".srcAlpha",Ce.commandStr),ot.commandParameter(Qr,Vu,Pr+".dstRGB",Ce.commandStr),ot.commandParameter(an,Vu,Pr+".dstAlpha",Ce.commandStr),ot.command(Pf.indexOf(Sr+", "+Qr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Sr+", "+Qr+")",Ce.commandStr),[Vu[Sr],Vu[Qr],Vu[Je],Vu[an]]},function(ze,Sr,Je){var Qr=ze.constants.blendFuncs;ot.optional(function(){ze.assert(Sr,Je+"&&typeof "+Je+'==="object"',"invalid blend func, must be an object")});function an(ji,Wi){var Gi=Sr.def('"',ji,Wi,'" in ',Je,"?",Je,".",ji,Wi,":",Je,".",ji);return ot.optional(function(){ze.assert(Sr,Gi+" in "+Qr,"invalid "+Ir+"."+ji+Wi+", must be one of "+Object.keys(Vu))}),Gi}var Gn=an("src","RGB"),yi=an("dst","RGB");ot.optional(function(){var ji=ze.constants.invalidBlendCombinations;ze.assert(Sr,ji+".indexOf("+Gn+'+", "+'+yi+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var xi=Sr.def(Qr,"[",Gn,"]"),Pi=Sr.def(Qr,"[",an("src","Alpha"),"]"),vi=Sr.def(Qr,"[",yi,"]"),Xi=Sr.def(Qr,"[",an("dst","Alpha"),"]");return[xi,vi,Pi,Xi]});case ai:return Nr(function(ze){if(typeof ze=="string")return ot.commandParameter(ze,An,"invalid "+Ir,Ce.commandStr),[An[ze],An[ze]];if(typeof ze=="object")return ot.commandParameter(ze.rgb,An,Ir+".rgb",Ce.commandStr),ot.commandParameter(ze.alpha,An,Ir+".alpha",Ce.commandStr),[An[ze.rgb],An[ze.alpha]];ot.commandRaise("invalid blend.equation",Ce.commandStr)},function(ze,Sr,Je){var Qr=ze.constants.blendEquations,an=Sr.def(),Gn=Sr.def(),yi=ze.cond("typeof ",Je,'==="string"');return ot.optional(function(){function xi(Pi,vi,Xi){ze.assert(Pi,Xi+" in "+Qr,"invalid "+vi+", must be one of "+Object.keys(An))}xi(yi.then,Ir,Je),ze.assert(yi.else,Je+"&&typeof "+Je+'==="object"',"invalid "+Ir),xi(yi.else,Ir+".rgb",Je+".rgb"),xi(yi.else,Ir+".alpha",Je+".alpha")}),yi.then(an,"=",Gn,"=",Qr,"[",Je,"];"),yi.else(an,"=",Qr,"[",Je,".rgb];",Gn,"=",Qr,"[",Je,".alpha];"),Sr(yi),[an,Gn]});case bn:return Nr(function(ze){return ot.command(so(ze)&&ze.length===4,"blend.color must be a 4d array",Ce.commandStr),lr(4,function(Sr){return+ze[Sr]})},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,ze.shared.isArrayLike+"("+Je+")&&"+Je+".length===4","blend.color must be a 4d array")}),lr(4,function(Qr){return Sr.def("+",Je,"[",Qr,"]")})});case As:return Nr(function(ze){return ot.commandType(ze,"number",Pr,Ce.commandStr),ze|0},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,"typeof "+Je+'==="number"',"invalid stencil.mask")}),Sr.def(Je,"|0")});case xu:return Nr(function(ze){ot.commandType(ze,"object",Pr,Ce.commandStr);var Sr=ze.cmp||"keep",Je=ze.ref||0,Qr="mask"in ze?ze.mask:-1;return ot.commandParameter(Sr,ol,Ir+".cmp",Ce.commandStr),ot.commandType(Je,"number",Ir+".ref",Ce.commandStr),ot.commandType(Qr,"number",Ir+".mask",Ce.commandStr),[ol[Sr],Je,Qr]},function(ze,Sr,Je){var Qr=ze.constants.compareFuncs;ot.optional(function(){function xi(){ze.assert(Sr,Array.prototype.join.call(arguments,""),"invalid stencil.func")}xi(Je+"&&typeof ",Je,'==="object"'),xi('!("cmp" in ',Je,")||(",Je,".cmp in ",Qr,")")});var an=Sr.def('"cmp" in ',Je,"?",Qr,"[",Je,".cmp]",":",el),Gn=Sr.def(Je,".ref|0"),yi=Sr.def('"mask" in ',Je,"?",Je,".mask|0:-1");return[an,Gn,yi]});case Su:case Gu:return Nr(function(ze){ot.commandType(ze,"object",Pr,Ce.commandStr);var Sr=ze.fail||"keep",Je=ze.zfail||"keep",Qr=ze.zpass||"keep";return ot.commandParameter(Sr,Xu,Ir+".fail",Ce.commandStr),ot.commandParameter(Je,Xu,Ir+".zfail",Ce.commandStr),ot.commandParameter(Qr,Xu,Ir+".zpass",Ce.commandStr),[Ir===Gu?al:bl,Xu[Sr],Xu[Je],Xu[Qr]]},function(ze,Sr,Je){var Qr=ze.constants.stencilOps;ot.optional(function(){ze.assert(Sr,Je+"&&typeof "+Je+'==="object"',"invalid "+Ir)});function an(Gn){return ot.optional(function(){ze.assert(Sr,'!("'+Gn+'" in '+Je+")||("+Je+"."+Gn+" in "+Qr+")","invalid "+Ir+"."+Gn+", must be one of "+Object.keys(Xu))}),Sr.def('"',Gn,'" in ',Je,"?",Qr,"[",Je,".",Gn,"]:",el)}return[Ir===Gu?al:bl,an("fail"),an("zfail"),an("zpass")]});case hs:return Nr(function(ze){ot.commandType(ze,"object",Pr,Ce.commandStr);var Sr=ze.factor|0,Je=ze.units|0;return ot.commandType(Sr,"number",Pr+".factor",Ce.commandStr),ot.commandType(Je,"number",Pr+".units",Ce.commandStr),[Sr,Je]},function(ze,Sr,Je){ot.optional(function(){ze.assert(Sr,Je+"&&typeof "+Je+'==="object"',"invalid "+Ir)});var Qr=Sr.def(Je,".factor|0"),an=Sr.def(Je,".units|0");return[Qr,an]});case Po:return Nr(function(ze){var Sr=0;return ze==="front"?Sr=bl:ze==="back"&&(Sr=al),ot.command(!!Sr,Pr,Ce.commandStr),Sr},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,Je+'==="front"||'+Je+'==="back"',"invalid cull.face")}),Sr.def(Je,'==="front"?',bl,":",al)});case $o:return Nr(function(ze){return ot.command(typeof ze=="number"&&ze>=vn.lineWidthDims[0]&&ze<=vn.lineWidthDims[1],"invalid line width, must be a positive number between "+vn.lineWidthDims[0]+" and "+vn.lineWidthDims[1],Ce.commandStr),ze},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,"typeof "+Je+'==="number"&&'+Je+">="+vn.lineWidthDims[0]+"&&"+Je+"<="+vn.lineWidthDims[1],"invalid line width")}),Je});case Ts:return Nr(function(ze){return ot.commandParameter(ze,Bl,Pr,Ce.commandStr),Bl[ze]},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,Je+'==="cw"||'+Je+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Sr.def(Je+'==="cw"?'+Ef+":"+$l)});case no:return Nr(function(ze){return ot.command(so(ze)&&ze.length===4,"color.mask must be length 4 array",Ce.commandStr),ze.map(function(Sr){return!!Sr})},function(ze,Sr,Je){return ot.optional(function(){ze.assert(Sr,ze.shared.isArrayLike+"("+Je+")&&"+Je+".length===4","invalid color.mask")}),lr(4,function(Qr){return"!!"+Je+"["+Qr+"]"})});case ws:return Nr(function(ze){ot.command(typeof ze=="object"&&ze,Pr,Ce.commandStr);var Sr="value"in ze?ze.value:1,Je=!!ze.invert;return ot.command(typeof Sr=="number"&&Sr>=0&&Sr<=1,"sample.coverage.value must be a number between 0 and 1",Ce.commandStr),[Sr,Je]},function(ze,Sr,Je){ot.optional(function(){ze.assert(Sr,Je+"&&typeof "+Je+'==="object"',"invalid sample.coverage")});var Qr=Sr.def('"value" in ',Je,"?+",Je,".value:1"),an=Sr.def("!!",Je,".invert");return[Qr,an]})}}),gn}function Ya(Ke,Ce){var Ar=Ke.static,$r=Ke.dynamic,gn={};return Object.keys(Ar).forEach(function(Ir){var Pr=Ar[Ir],Nr;if(typeof Pr=="number"||typeof Pr=="boolean")Nr=Is(function(){return Pr});else if(typeof Pr=="function"){var ze=Pr._reglType;ze==="texture2d"||ze==="textureCube"?Nr=Is(function(Sr){return Sr.link(Pr)}):ze==="framebuffer"||ze==="framebufferCube"?(ot.command(Pr.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ir+'"',Ce.commandStr),Nr=Is(function(Sr){return Sr.link(Pr.color[0])})):ot.commandRaise('invalid data for uniform "'+Ir+'"',Ce.commandStr)}else so(Pr)?Nr=Is(function(Sr){var Je=Sr.global.def("[",lr(Pr.length,function(Qr){return ot.command(typeof Pr[Qr]=="number"||typeof Pr[Qr]=="boolean","invalid uniform "+Ir,Sr.commandStr),Pr[Qr]}),"]");return Je}):ot.commandRaise('invalid or missing data for uniform "'+Ir+'"',Ce.commandStr);Nr.value=Pr,gn[Ir]=Nr}),Object.keys($r).forEach(function(Ir){var Pr=$r[Ir];gn[Ir]=Lu(Pr,function(Nr,ze){return Nr.invoke(ze,Pr)})}),gn}function ru(Ke,Ce){var Ar=Ke.static,$r=Ke.dynamic,gn={};return Object.keys(Ar).forEach(function(Ir){var Pr=Ar[Ir],Nr=Ue.id(Ir),ze=new Xr;if(Al(Pr))ze.state=ms,ze.buffer=jn.getBuffer(jn.create(Pr,ll,!1,!0)),ze.type=0;else{var Sr=jn.getBuffer(Pr);if(Sr)ze.state=ms,ze.buffer=Sr,ze.type=0;else if(ot.command(typeof Pr=="object"&&Pr,"invalid data for attribute "+Ir,Ce.commandStr),"constant"in Pr){var Je=Pr.constant;ze.buffer="null",ze.state=Iu,typeof Je=="number"?ze.x=Je:(ot.command(so(Je)&&Je.length>0&&Je.length<=4,"invalid constant for attribute "+Ir,Ce.commandStr),wu.forEach(function(vi,Xi){Xi<Je.length&&(ze[vi]=Je[Xi])}))}else{Al(Pr.buffer)?Sr=jn.getBuffer(jn.create(Pr.buffer,ll,!1,!0)):Sr=jn.getBuffer(Pr.buffer),ot.command(!!Sr,'missing buffer for attribute "'+Ir+'"',Ce.commandStr);var Qr=Pr.offset|0;ot.command(Qr>=0,'invalid offset for attribute "'+Ir+'"',Ce.commandStr);var an=Pr.stride|0;ot.command(an>=0&&an<256,'invalid stride for attribute "'+Ir+'", must be integer betweeen [0, 255]',Ce.commandStr);var Gn=Pr.size|0;ot.command(!("size"in Pr)||Gn>0&&Gn<=4,'invalid size for attribute "'+Ir+'", must be 1,2,3,4',Ce.commandStr);var yi=!!Pr.normalized,xi=0;"type"in Pr&&(ot.commandParameter(Pr.type,pe,"invalid type for attribute "+Ir,Ce.commandStr),xi=pe[Pr.type]);var Pi=Pr.divisor|0;ot.optional(function(){"divisor"in Pr&&(ot.command(Pi===0||ei,'cannot specify divisor for attribute "'+Ir+'", instancing not supported',Ce.commandStr),ot.command(Pi>=0,'invalid divisor for attribute "'+Ir+'"',Ce.commandStr));var vi=Ce.commandStr,Xi=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Pr).forEach(function(ji){ot.command(Xi.indexOf(ji)>=0,'unknown parameter "'+ji+'" for attribute pointer "'+Ir+'" (valid parameters are '+Xi+")",vi)})}),ze.buffer=Sr,ze.state=ms,ze.size=Gn,ze.normalized=yi,ze.type=xi||Sr.dtype,ze.offset=Qr,ze.stride=an,ze.divisor=Pi}}gn[Ir]=Is(function(vi,Xi){var ji=vi.attribCache;if(Nr in ji)return ji[Nr];var Wi={isStream:!1};return Object.keys(ze).forEach(function(Gi){Wi[Gi]=ze[Gi]}),ze.buffer&&(Wi.buffer=vi.link(ze.buffer),Wi.type=Wi.type||Wi.buffer+".dtype"),ji[Nr]=Wi,Wi})}),Object.keys($r).forEach(function(Ir){var Pr=$r[Ir];function Nr(ze,Sr){var Je=ze.invoke(Sr,Pr),Qr=ze.shared,an=ze.constants,Gn=Qr.isBufferArgs,yi=Qr.buffer;ot.optional(function(){ze.assert(Sr,Je+"&&(typeof "+Je+'==="object"||typeof '+Je+'==="function")&&('+Gn+"("+Je+")||"+yi+".getBuffer("+Je+")||"+yi+".getBuffer("+Je+".buffer)||"+Gn+"("+Je+'.buffer)||("constant" in '+Je+"&&(typeof "+Je+'.constant==="number"||'+Qr.isArrayLike+"("+Je+".constant))))",'invalid dynamic attribute "'+Ir+'"')});var xi={isStream:Sr.def(!1)},Pi=new Xr;Pi.state=ms,Object.keys(Pi).forEach(function(Wi){xi[Wi]=Sr.def(""+Pi[Wi])});var vi=xi.buffer,Xi=xi.type;Sr("if(",Gn,"(",Je,")){",xi.isStream,"=true;",vi,"=",yi,".createStream(",ll,",",Je,");",Xi,"=",vi,".dtype;","}else{",vi,"=",yi,".getBuffer(",Je,");","if(",vi,"){",Xi,"=",vi,".dtype;",'}else if("constant" in ',Je,"){",xi.state,"=",Iu,";","if(typeof "+Je+'.constant === "number"){',xi[wu[0]],"=",Je,".constant;",wu.slice(1).map(function(Wi){return xi[Wi]}).join("="),"=0;","}else{",wu.map(function(Wi,Gi){return xi[Wi]+"="+Je+".constant.length>"+Gi+"?"+Je+".constant["+Gi+"]:0;"}).join(""),"}}else{","if(",Gn,"(",Je,".buffer)){",vi,"=",yi,".createStream(",ll,",",Je,".buffer);","}else{",vi,"=",yi,".getBuffer(",Je,".buffer);","}",Xi,'="type" in ',Je,"?",an.glTypes,"[",Je,".type]:",vi,".dtype;",xi.normalized,"=!!",Je,".normalized;");function ji(Wi){Sr(xi[Wi],"=",Je,".",Wi,"|0;")}return ji("size"),ji("offset"),ji("stride"),ji("divisor"),Sr("}}"),Sr.exit("if(",xi.isStream,"){",yi,".destroyStream(",vi,");","}"),xi}gn[Ir]=Lu(Pr,Nr)}),gn}function ao(Ke){var Ce=Ke.static,Ar=Ke.dynamic,$r={};return Object.keys(Ce).forEach(function(gn){var Ir=Ce[gn];$r[gn]=Is(function(Pr,Nr){return typeof Ir=="number"||typeof Ir=="boolean"?""+Ir:Pr.link(Ir)})}),Object.keys(Ar).forEach(function(gn){var Ir=Ar[gn];$r[gn]=Lu(Ir,function(Pr,Nr){return Pr.invoke(Nr,Ir)})}),$r}function Ls(Ke,Ce,Ar,$r,gn){var Ir=Ke.static,Pr=Ke.dynamic;ot.optional(function(){var ji=[ku,vl,dl,nl,il,Ol,tl,Tl,Yu,pl].concat(oa);function Wi(Gi){Object.keys(Gi).forEach(function(Hi){ot.command(ji.indexOf(Hi)>=0,'unknown parameter "'+Hi+'"',gn.commandStr)})}Wi(Ir),Wi(Pr)});var Nr=wa(Ke,Ce),ze=Fi(Ke,gn),Sr=Aa(Ke,ze,gn),Je=vs(Ke,gn),Qr=ys(Ke,gn),an=Ja(Ke,gn,Nr);function Gn(ji){var Wi=Sr[ji];Wi&&(Qr[ji]=Wi)}Gn(Bu),Gn(Zi(Ru));var yi=Object.keys(Qr).length>0,xi={framebuffer:ze,draw:Je,shader:an,state:Qr,dirty:yi,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(xi.profile=wi(Ke,gn),xi.uniforms=Ya(Ar,gn),xi.drawVAO=xi.scopeVAO=Je.vao,!xi.drawVAO&&an.program&&!Nr&&fr.angle_instanced_arrays&&Je.static.elements){var Pi=!0,vi=an.program.attributes.map(function(ji){var Wi=Ce.static[ji];return Pi=Pi&&!!Wi,Wi});if(Pi&&vi.length>0){var Xi=oi.getVAO(oi.createVAO({attributes:vi,elements:Je.static.elements}));xi.drawVAO=new Ks(null,null,null,function(ji,Wi){return ji.link(Xi)}),xi.useVAO=!0}}return Nr?xi.useVAO=!0:xi.attributes=ru(Ce,gn),xi.context=ao($r,gn),xi}function Ms(Ke,Ce,Ar){var $r=Ke.shared,gn=$r.context,Ir=Ke.scope();Object.keys(Ar).forEach(function(Pr){Ce.save(gn,"."+Pr);var Nr=Ar[Pr],ze=Nr.append(Ke,Ce);Array.isArray(ze)?Ir(gn,".",Pr,"=[",ze.join(),"];"):Ir(gn,".",Pr,"=",ze,";")}),Ce(Ir)}function nu(Ke,Ce,Ar,$r){var gn=Ke.shared,Ir=gn.gl,Pr=gn.framebuffer,Nr;_i&&(Nr=Ce.def(gn.extensions,".webgl_draw_buffers"));var ze=Ke.constants,Sr=ze.drawBuffer,Je=ze.backBuffer,Qr;Ar?Qr=Ar.append(Ke,Ce):Qr=Ce.def(Pr,".next"),$r||Ce("if(",Qr,"!==",Pr,".cur){"),Ce("if(",Qr,"){",Ir,".bindFramebuffer(",Cf,",",Qr,".framebuffer);"),_i&&Ce(Nr,".drawBuffersWEBGL(",Sr,"[",Qr,".colorAttachments.length]);"),Ce("}else{",Ir,".bindFramebuffer(",Cf,",null);"),_i&&Ce(Nr,".drawBuffersWEBGL(",Je,");"),Ce("}",Pr,".cur=",Qr,";"),$r||Ce("}")}function cu(Ke,Ce,Ar){var $r=Ke.shared,gn=$r.gl,Ir=Ke.current,Pr=Ke.next,Nr=$r.current,ze=$r.next,Sr=Ke.cond(Nr,".dirty");oa.forEach(function(Je){var Qr=Zi(Je);if(!(Qr in Ar.state)){var an,Gn;if(Qr in Pr){an=Pr[Qr],Gn=Ir[Qr];var yi=lr(Ri[Qr].length,function(Pi){return Sr.def(an,"[",Pi,"]")});Sr(Ke.cond(yi.map(function(Pi,vi){return Pi+"!=="+Gn+"["+vi+"]"}).join("||")).then(gn,".",_n[Qr],"(",yi,");",yi.map(function(Pi,vi){return Gn+"["+vi+"]="+Pi}).join(";"),";"))}else{an=Sr.def(ze,".",Qr);var xi=Ke.cond(an,"!==",Nr,".",Qr);Sr(xi),Qr in Un?xi(Ke.cond(an).then(gn,".enable(",Un[Qr],");").else(gn,".disable(",Un[Qr],");"),Nr,".",Qr,"=",an,";"):xi(gn,".",_n[Qr],"(",an,");",Nr,".",Qr,"=",an,";")}}}),Object.keys(Ar.state).length===0&&Sr(Nr,".dirty=false;"),Ce(Sr)}function $s(Ke,Ce,Ar,$r){var gn=Ke.shared,Ir=Ke.current,Pr=gn.current,Nr=gn.gl;hl(Object.keys(Ar)).forEach(function(ze){var Sr=Ar[ze];if(!($r&&!$r(Sr))){var Je=Sr.append(Ke,Ce);if(Un[ze]){var Qr=Un[ze];Ku(Sr)?Je?Ce(Nr,".enable(",Qr,");"):Ce(Nr,".disable(",Qr,");"):Ce(Ke.cond(Je).then(Nr,".enable(",Qr,");").else(Nr,".disable(",Qr,");")),Ce(Pr,".",ze,"=",Je,";")}else if(so(Je)){var an=Ir[ze];Ce(Nr,".",_n[ze],"(",Je,");",Je.map(function(Gn,yi){return an+"["+yi+"]="+Gn}).join(";"),";")}else Ce(Nr,".",_n[ze],"(",Je,");",Pr,".",ze,"=",Je,";")}})}function xs(Ke,Ce){ei&&(Ke.instancing=Ce.def(Ke.shared.extensions,".angle_instanced_arrays"))}function ka(Ke,Ce,Ar,$r,gn){var Ir=Ke.shared,Pr=Ke.stats,Nr=Ir.current,ze=Ir.timer,Sr=Ar.profile;function Je(){var ji=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";return ji||typeof performance=="undefined"?"Date.now()":"performance.now()"}var Qr,an;function Gn(ji){Qr=Ce.def(),ji(Qr,"=",Je(),";"),typeof gn=="string"?ji(Pr,".count+=",gn,";"):ji(Pr,".count++;"),Kn&&($r?(an=Ce.def(),ji(an,"=",ze,".getNumPendingQueries();")):ji(ze,".beginQuery(",Pr,");"))}function yi(ji){ji(Pr,".cpuTime+=",Je(),"-",Qr,";"),Kn&&($r?ji(ze,".pushScopeStats(",an,",",ze,".getNumPendingQueries(),",Pr,");"):ji(ze,".endQuery();"))}function xi(ji){var Wi=Ce.def(Nr,".profile");Ce(Nr,".profile=",ji,";"),Ce.exit(Nr,".profile=",Wi,";")}var Pi;if(Sr){if(Ku(Sr)){Sr.enable?(Gn(Ce),yi(Ce.exit),xi("true")):xi("false");return}Pi=Sr.append(Ke,Ce),xi(Pi)}else Pi=Ce.def(Nr,".profile");var vi=Ke.block();Gn(vi),Ce("if(",Pi,"){",vi,"}");var Xi=Ke.block();yi(Xi),Ce.exit("if(",Pi,"){",Xi,"}")}function hu(Ke,Ce,Ar,$r,gn){var Ir=Ke.shared;function Pr(ze){switch(ze){case Il:case Rl:case Fl:return 2;case Ll:case Nl:case ml:return 3;case Dl:case gl:case yl:return 4;default:return 1}}function Nr(ze,Sr,Je){var Qr=Ir.gl,an=Ce.def(ze,".location"),Gn=Ce.def(Ir.attributes,"[",an,"]"),yi=Je.state,xi=Je.buffer,Pi=[Je.x,Je.y,Je.z,Je.w],vi=["buffer","normalized","offset","stride"];function Xi(){Ce("if(!",Gn,".buffer){",Qr,".enableVertexAttribArray(",an,");}");var Wi=Je.type,Gi;if(Je.size?Gi=Ce.def(Je.size,"||",Sr):Gi=Sr,Ce("if(",Gn,".type!==",Wi,"||",Gn,".size!==",Gi,"||",vi.map(function(ia){return Gn+"."+ia+"!=="+Je[ia]}).join("||"),"){",Qr,".bindBuffer(",ll,",",xi,".buffer);",Qr,".vertexAttribPointer(",[an,Gi,Wi,Je.normalized,Je.stride,Je.offset],");",Gn,".type=",Wi,";",Gn,".size=",Gi,";",vi.map(function(ia){return Gn+"."+ia+"="+Je[ia]+";"}).join(""),"}"),ei){var Hi=Je.divisor;Ce("if(",Gn,".divisor!==",Hi,"){",Ke.instancing,".vertexAttribDivisorANGLE(",[an,Hi],");",Gn,".divisor=",Hi,";}")}}function ji(){Ce("if(",Gn,".buffer){",Qr,".disableVertexAttribArray(",an,");",Gn,".buffer=null;","}if(",wu.map(function(Wi,Gi){return Gn+"."+Wi+"!=="+Pi[Gi]}).join("||"),"){",Qr,".vertexAttrib4f(",an,",",Pi,");",wu.map(function(Wi,Gi){return Gn+"."+Wi+"="+Pi[Gi]+";"}).join(""),"}")}yi===ms?Xi():yi===Iu?ji():(Ce("if(",yi,"===",ms,"){"),Xi(),Ce("}else{"),ji(),Ce("}"))}$r.forEach(function(ze){var Sr=ze.name,Je=Ar.attributes[Sr],Qr;if(Je){if(!gn(Je))return;Qr=Je.append(Ke,Ce)}else{if(!gn(Of))return;var an=Ke.scopeAttrib(Sr);ot.optional(function(){Ke.assert(Ce,an+".state","missing attribute "+Sr)}),Qr={},Object.keys(new Xr).forEach(function(Gn){Qr[Gn]=Ce.def(an,".",Gn)})}Nr(Ke.link(ze),Pr(ze.info.type),Qr)})}function co(Ke,Ce,Ar,$r,gn,Ir){for(var Pr=Ke.shared,Nr=Pr.gl,ze,Sr=0;Sr<$r.length;++Sr){var Je=$r[Sr],Qr=Je.name,an=Je.info.type,Gn=Ar.uniforms[Qr],yi=Ke.link(Je),xi=yi+".location",Pi;if(Gn){if(!gn(Gn))continue;if(Ku(Gn)){var vi=Gn.value;if(ot.command(vi!==null&&typeof vi!="undefined",'missing uniform "'+Qr+'"',Ke.commandStr),an===Sl||an===El){ot.command(typeof vi=="function"&&(an===Sl&&(vi._reglType==="texture2d"||vi._reglType==="framebuffer")||an===El&&(vi._reglType==="textureCube"||vi._reglType==="framebufferCube")),"invalid texture for uniform "+Qr,Ke.commandStr);var Xi=Ke.link(vi._texture||vi.color[0]._texture);Ce(Nr,".uniform1i(",xi,",",Xi+".bind());"),Ce.exit(Xi,".unbind();")}else if(an===fl||an===cl||an===xl){ot.optional(function(){ot.command(so(vi),"invalid matrix for uniform "+Qr,Ke.commandStr),ot.command(an===fl&&vi.length===4||an===cl&&vi.length===9||an===xl&&vi.length===16,"invalid length for matrix uniform "+Qr,Ke.commandStr)});var ji=Ke.global.def("new Float32Array(["+Array.prototype.slice.call(vi)+"])"),Wi=2;an===cl?Wi=3:an===xl&&(Wi=4),Ce(Nr,".uniformMatrix",Wi,"fv(",xi,",false,",ji,");")}else{switch(an){case wl:ot.commandType(vi,"number","uniform "+Qr,Ke.commandStr),ze="1f";break;case Il:ot.command(so(vi)&&vi.length===2,"uniform "+Qr,Ke.commandStr),ze="2f";break;case Ll:ot.command(so(vi)&&vi.length===3,"uniform "+Qr,Ke.commandStr),ze="3f";break;case Dl:ot.command(so(vi)&&vi.length===4,"uniform "+Qr,Ke.commandStr),ze="4f";break;case Xl:ot.commandType(vi,"boolean","uniform "+Qr,Ke.commandStr),ze="1i";break;case Yl:ot.commandType(vi,"number","uniform "+Qr,Ke.commandStr),ze="1i";break;case Fl:ot.command(so(vi)&&vi.length===2,"uniform "+Qr,Ke.commandStr),ze="2i";break;case Rl:ot.command(so(vi)&&vi.length===2,"uniform "+Qr,Ke.commandStr),ze="2i";break;case ml:ot.command(so(vi)&&vi.length===3,"uniform "+Qr,Ke.commandStr),ze="3i";break;case Nl:ot.command(so(vi)&&vi.length===3,"uniform "+Qr,Ke.commandStr),ze="3i";break;case yl:ot.command(so(vi)&&vi.length===4,"uniform "+Qr,Ke.commandStr),ze="4i";break;case gl:ot.command(so(vi)&&vi.length===4,"uniform "+Qr,Ke.commandStr),ze="4i";break}Ce(Nr,".uniform",ze,"(",xi,",",so(vi)?Array.prototype.slice.call(vi):vi,");")}continue}else Pi=Gn.append(Ke,Ce)}else{if(!gn(Of))continue;Pi=Ce.def(Pr.uniforms,"[",Ue.id(Qr),"]")}an===Sl?(ot(!Array.isArray(Pi),"must specify a scalar prop for textures"),Ce("if(",Pi,"&&",Pi,'._reglType==="framebuffer"){',Pi,"=",Pi,".color[0];","}")):an===El&&(ot(!Array.isArray(Pi),"must specify a scalar prop for cube maps"),Ce("if(",Pi,"&&",Pi,'._reglType==="framebufferCube"){',Pi,"=",Pi,".color[0];","}")),ot.optional(function(){function Du(_u,ef){Ke.assert(Ce,_u,'bad data or missing for uniform "'+Qr+'".  '+ef)}function Fu(_u){ot(!Array.isArray(Pi),"must not specify an array type for uniform"),Du("typeof "+Pi+'==="'+_u+'"',"invalid type, expected "+_u)}function Au(_u,ef){Array.isArray(Pi)?ot(Pi.length===_u,"must have length "+_u):Du(Pr.isArrayLike+"("+Pi+")&&"+Pi+".length==="+_u,"invalid vector, should have length "+_u,Ke.commandStr)}function tf(_u){ot(!Array.isArray(Pi),"must not specify a value type"),Du("typeof "+Pi+'==="function"&&'+Pi+'._reglType==="texture'+(_u===pf?"2d":"Cube")+'"',"invalid texture type",Ke.commandStr)}switch(an){case Yl:Fu("number");break;case Rl:Au(2,"number");break;case Nl:Au(3,"number");break;case gl:Au(4,"number");break;case wl:Fu("number");break;case Il:Au(2,"number");break;case Ll:Au(3,"number");break;case Dl:Au(4,"number");break;case Xl:Fu("boolean");break;case Fl:Au(2,"boolean");break;case ml:Au(3,"boolean");break;case yl:Au(4,"boolean");break;case fl:Au(4,"number");break;case cl:Au(9,"number");break;case xl:Au(16,"number");break;case Sl:tf(pf);break;case El:tf(Kf);break}});var Gi=1;switch(an){case Sl:case El:var Hi=Ce.def(Pi,"._texture");Ce(Nr,".uniform1i(",xi,",",Hi,".bind());"),Ce.exit(Hi,".unbind();");continue;case Yl:case Xl:ze="1i";break;case Rl:case Fl:ze="2i",Gi=2;break;case Nl:case ml:ze="3i",Gi=3;break;case gl:case yl:ze="4i",Gi=4;break;case wl:ze="1f";break;case Il:ze="2f",Gi=2;break;case Ll:ze="3f",Gi=3;break;case Dl:ze="4f",Gi=4;break;case fl:ze="Matrix2fv";break;case cl:ze="Matrix3fv";break;case xl:ze="Matrix4fv";break}if(ze.charAt(0)==="M"){Ce(Nr,".uniform",ze,"(",xi,",");var ia=Math.pow(an-fl+2,2),Uo=Ke.global.def("new Float32Array(",ia,")");Array.isArray(Pi)?Ce("false,(",lr(ia,function(Du){return Uo+"["+Du+"]="+Pi[Du]}),",",Uo,")"):Ce("false,(Array.isArray(",Pi,")||",Pi," instanceof Float32Array)?",Pi,":(",lr(ia,function(Du){return Uo+"["+Du+"]="+Pi+"["+Du+"]"}),",",Uo,")"),Ce(");")}else if(Gi>1){for(var Cs=[],rl=[],Hu=0;Hu<Gi;++Hu)Array.isArray(Pi)?rl.push(Pi[Hu]):rl.push(Ce.def(Pi+"["+Hu+"]")),Ir&&Cs.push(Ce.def());Ir&&Ce("if(!",Ke.batchId,"||",Cs.map(function(Du,Fu){return Du+"!=="+rl[Fu]}).join("||"),"){",Cs.map(function(Du,Fu){return Du+"="+rl[Fu]+";"}).join("")),Ce(Nr,".uniform",ze,"(",xi,",",rl.join(","),");"),Ir&&Ce("}")}else{if(ot(!Array.isArray(Pi),"uniform value must not be an array"),Ir){var $u=Ce.def();Ce("if(!",Ke.batchId,"||",$u,"!==",Pi,"){",$u,"=",Pi,";")}Ce(Nr,".uniform",ze,"(",xi,",",Pi,");"),Ir&&Ce("}")}}}function iu(Ke,Ce,Ar,$r){var gn=Ke.shared,Ir=gn.gl,Pr=gn.draw,Nr=$r.draw;function ze(){var Gi=Nr.elements,Hi,ia=Ce;return Gi?((Gi.contextDep&&$r.contextDynamic||Gi.propDep)&&(ia=Ar),Hi=Gi.append(Ke,ia),Nr.elementsActive&&ia("if("+Hi+")"+Ir+".bindBuffer("+Vl+","+Hi+".buffer.buffer);")):(Hi=ia.def(),ia(Hi,"=",Pr,".",nl,";","if(",Hi,"){",Ir,".bindBuffer(",Vl,",",Hi,".buffer.buffer);}","else if(",gn.vao,".currentVAO){",Hi,"=",Ke.shared.elements+".getElements("+gn.vao,".currentVAO.elements);",Vn?"":"if("+Hi+")"+Ir+".bindBuffer("+Vl+","+Hi+".buffer.buffer);","}")),Hi}function Sr(){var Gi=Nr.count,Hi,ia=Ce;return Gi?((Gi.contextDep&&$r.contextDynamic||Gi.propDep)&&(ia=Ar),Hi=Gi.append(Ke,ia),ot.optional(function(){Gi.MISSING&&Ke.assert(Ce,"false","missing vertex count"),Gi.DYNAMIC&&Ke.assert(ia,Hi+">=0","missing vertex count")})):(Hi=ia.def(Pr,".",tl),ot.optional(function(){Ke.assert(ia,Hi+">=0","missing vertex count")})),Hi}var Je=ze();function Qr(Gi){var Hi=Nr[Gi];return Hi?Hi.contextDep&&$r.contextDynamic||Hi.propDep?Hi.append(Ke,Ar):Hi.append(Ke,Ce):Ce.def(Pr,".",Gi)}var an=Qr(il),Gn=Qr(Ol),yi=Sr();if(typeof yi=="number"){if(yi===0)return}else Ar("if(",yi,"){"),Ar.exit("}");var xi,Pi;ei&&(xi=Qr(Tl),Pi=Ke.instancing);var vi=Je+".type",Xi=Nr.elements&&Ku(Nr.elements)&&!Nr.vaoActive;function ji(){function Gi(){Ar(Pi,".drawElementsInstancedANGLE(",[an,yi,vi,Gn+"<<(("+vi+"-"+fu+")>>1)",xi],");")}function Hi(){Ar(Pi,".drawArraysInstancedANGLE(",[an,Gn,yi,xi],");")}Je&&Je!=="null"?Xi?Gi():(Ar("if(",Je,"){"),Gi(),Ar("}else{"),Hi(),Ar("}")):Hi()}function Wi(){function Gi(){Ar(Ir+".drawElements("+[an,yi,vi,Gn+"<<(("+vi+"-"+fu+")>>1)"]+");")}function Hi(){Ar(Ir+".drawArrays("+[an,Gn,yi]+");")}Je&&Je!=="null"?Xi?Gi():(Ar("if(",Je,"){"),Gi(),Ar("}else{"),Hi(),Ar("}")):Hi()}ei&&(typeof xi!="number"||xi>=0)?typeof xi=="string"?(Ar("if(",xi,">0){"),ji(),Ar("}else if(",xi,"<0){"),Wi(),Ar("}")):ji():Wi()}function ya(Ke,Ce,Ar,$r,gn){var Ir=xa(),Pr=Ir.proc("body",gn);return ot.optional(function(){Ir.commandStr=Ce.commandStr,Ir.command=Ir.link(Ce.commandStr)}),ei&&(Ir.instancing=Pr.def(Ir.shared.extensions,".angle_instanced_arrays")),Ke(Ir,Pr,Ar,$r),Ir.compile().body}function Xa(Ke,Ce,Ar,$r){xs(Ke,Ce),Ar.useVAO?Ar.drawVAO?Ce(Ke.shared.vao,".setVAO(",Ar.drawVAO.append(Ke,Ce),");"):Ce(Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"):(Ce(Ke.shared.vao,".setVAO(null);"),hu(Ke,Ce,Ar,$r.attributes,function(){return!0})),co(Ke,Ce,Ar,$r.uniforms,function(){return!0},!1),iu(Ke,Ce,Ce,Ar)}function _o(Ke,Ce){var Ar=Ke.proc("draw",1);xs(Ke,Ar),Ms(Ke,Ar,Ce.context),nu(Ke,Ar,Ce.framebuffer),cu(Ke,Ar,Ce),$s(Ke,Ar,Ce.state),ka(Ke,Ar,Ce,!1,!0);var $r=Ce.shader.progVar.append(Ke,Ar);if(Ar(Ke.shared.gl,".useProgram(",$r,".program);"),Ce.shader.program)Xa(Ke,Ar,Ce,Ce.shader.program);else{Ar(Ke.shared.vao,".setVAO(null);");var gn=Ke.global.def("{}"),Ir=Ar.def($r,".id"),Pr=Ar.def(gn,"[",Ir,"]");Ar(Ke.cond(Pr).then(Pr,".call(this,a0);").else(Pr,"=",gn,"[",Ir,"]=",Ke.link(function(Nr){return ya(Xa,Ke,Ce,Nr,1)}),"(",$r,");",Pr,".call(this,a0);"))}Object.keys(Ce.state).length>0&&Ar(Ke.shared.current,".dirty=true;"),Ke.shared.vao&&Ar(Ke.shared.vao,".setVAO(null);")}function ks(Ke,Ce,Ar,$r){Ke.batchId="a1",xs(Ke,Ce);function gn(){return!0}hu(Ke,Ce,Ar,$r.attributes,gn),co(Ke,Ce,Ar,$r.uniforms,gn,!1),iu(Ke,Ce,Ce,Ar)}function ju(Ke,Ce,Ar,$r){xs(Ke,Ce);var gn=Ar.contextDep,Ir=Ce.def(),Pr="a0",Nr="a1",ze=Ce.def();Ke.shared.props=ze,Ke.batchId=Ir;var Sr=Ke.scope(),Je=Ke.scope();Ce(Sr.entry,"for(",Ir,"=0;",Ir,"<",Nr,";++",Ir,"){",ze,"=",Pr,"[",Ir,"];",Je,"}",Sr.exit);function Qr(vi){return vi.contextDep&&gn||vi.propDep}function an(vi){return!Qr(vi)}if(Ar.needsContext&&Ms(Ke,Je,Ar.context),Ar.needsFramebuffer&&nu(Ke,Je,Ar.framebuffer),$s(Ke,Je,Ar.state,Qr),Ar.profile&&Qr(Ar.profile)&&ka(Ke,Je,Ar,!1,!0),$r)Ar.useVAO?Ar.drawVAO?Qr(Ar.drawVAO)?Je(Ke.shared.vao,".setVAO(",Ar.drawVAO.append(Ke,Je),");"):Sr(Ke.shared.vao,".setVAO(",Ar.drawVAO.append(Ke,Sr),");"):Sr(Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"):(Sr(Ke.shared.vao,".setVAO(null);"),hu(Ke,Sr,Ar,$r.attributes,an),hu(Ke,Je,Ar,$r.attributes,Qr)),co(Ke,Sr,Ar,$r.uniforms,an,!1),co(Ke,Je,Ar,$r.uniforms,Qr,!0),iu(Ke,Sr,Je,Ar);else{var Gn=Ke.global.def("{}"),yi=Ar.shader.progVar.append(Ke,Je),xi=Je.def(yi,".id"),Pi=Je.def(Gn,"[",xi,"]");Je(Ke.shared.gl,".useProgram(",yi,".program);","if(!",Pi,"){",Pi,"=",Gn,"[",xi,"]=",Ke.link(function(vi){return ya(ks,Ke,Ar,vi,2)}),"(",yi,");}",Pi,".call(this,a0[",Ir,"],",Ir,");")}}function ir(Ke,Ce){var Ar=Ke.proc("batch",2);Ke.batchId="0",xs(Ke,Ar);var $r=!1,gn=!0;Object.keys(Ce.context).forEach(function(Gn){$r=$r||Ce.context[Gn].propDep}),$r||(Ms(Ke,Ar,Ce.context),gn=!1);var Ir=Ce.framebuffer,Pr=!1;Ir?(Ir.propDep?$r=Pr=!0:Ir.contextDep&&$r&&(Pr=!0),Pr||nu(Ke,Ar,Ir)):nu(Ke,Ar,null),Ce.state.viewport&&Ce.state.viewport.propDep&&($r=!0);function Nr(Gn){return Gn.contextDep&&$r||Gn.propDep}cu(Ke,Ar,Ce),$s(Ke,Ar,Ce.state,function(Gn){return!Nr(Gn)}),(!Ce.profile||!Nr(Ce.profile))&&ka(Ke,Ar,Ce,!1,"a1"),Ce.contextDep=$r,Ce.needsContext=gn,Ce.needsFramebuffer=Pr;var ze=Ce.shader.progVar;if(ze.contextDep&&$r||ze.propDep)ju(Ke,Ar,Ce,null);else{var Sr=ze.append(Ke,Ar);if(Ar(Ke.shared.gl,".useProgram(",Sr,".program);"),Ce.shader.program)ju(Ke,Ar,Ce,Ce.shader.program);else{Ar(Ke.shared.vao,".setVAO(null);");var Je=Ke.global.def("{}"),Qr=Ar.def(Sr,".id"),an=Ar.def(Je,"[",Qr,"]");Ar(Ke.cond(an).then(an,".call(this,a0,a1);").else(an,"=",Je,"[",Qr,"]=",Ke.link(function(Gn){return ya(ju,Ke,Ce,Gn,2)}),"(",Sr,");",an,".call(this,a0,a1);"))}}Object.keys(Ce.state).length>0&&Ar(Ke.shared.current,".dirty=true;"),Ke.shared.vao&&Ar(Ke.shared.vao,".setVAO(null);")}function yn(Ke,Ce){var Ar=Ke.proc("scope",3);Ke.batchId="a2";var $r=Ke.shared,gn=$r.current;Ms(Ke,Ar,Ce.context),Ce.framebuffer&&Ce.framebuffer.append(Ke,Ar),hl(Object.keys(Ce.state)).forEach(function(Pr){var Nr=Ce.state[Pr],ze=Nr.append(Ke,Ar);so(ze)?ze.forEach(function(Sr,Je){Ar.set(Ke.next[Pr],"["+Je+"]",Sr)}):Ar.set($r.next,"."+Pr,ze)}),ka(Ke,Ar,Ce,!0,!0),[nl,Ol,tl,Tl,il].forEach(function(Pr){var Nr=Ce.draw[Pr];!Nr||Ar.set($r.draw,"."+Pr,""+Nr.append(Ke,Ar))}),Object.keys(Ce.uniforms).forEach(function(Pr){var Nr=Ce.uniforms[Pr].append(Ke,Ar);Array.isArray(Nr)&&(Nr="["+Nr.join()+"]"),Ar.set($r.uniforms,"["+Ue.id(Pr)+"]",Nr)}),Object.keys(Ce.attributes).forEach(function(Pr){var Nr=Ce.attributes[Pr].append(Ke,Ar),ze=Ke.scopeAttrib(Pr);Object.keys(new Xr).forEach(function(Sr){Ar.set(ze,"."+Sr,Nr[Sr])})}),Ce.scopeVAO&&Ar.set($r.vao,".targetVAO",Ce.scopeVAO.append(Ke,Ar));function Ir(Pr){var Nr=Ce.shader[Pr];Nr&&Ar.set($r.shader,"."+Pr,Nr.append(Ke,Ar))}Ir(vl),Ir(dl),Object.keys(Ce.state).length>0&&(Ar(gn,".dirty=true;"),Ar.exit(gn,".dirty=true;")),Ar("a1(",Ke.shared.context,",a0,",Ke.batchId,");")}function un(Ke){if(!(typeof Ke!="object"||so(Ke))){for(var Ce=Object.keys(Ke),Ar=0;Ar<Ce.length;++Ar)if(Vr.isDynamic(Ke[Ce[Ar]]))return!0;return!1}}function Ui(Ke,Ce,Ar){var $r=Ce.static[Ar];if(!$r||!un($r))return;var gn=Ke.global,Ir=Object.keys($r),Pr=!1,Nr=!1,ze=!1,Sr=Ke.global.def("{}");Ir.forEach(function(Qr){var an=$r[Qr];if(Vr.isDynamic(an)){typeof an=="function"&&(an=$r[Qr]=Vr.unbox(an));var Gn=Lu(an,null);Pr=Pr||Gn.thisDep,ze=ze||Gn.propDep,Nr=Nr||Gn.contextDep}else{switch(gn(Sr,".",Qr,"="),typeof an){case"number":gn(an);break;case"string":gn('"',an,'"');break;case"object":Array.isArray(an)&&gn("[",an.join(),"]");break;default:gn(Ke.link(an));break}gn(";")}});function Je(Qr,an){Ir.forEach(function(Gn){var yi=$r[Gn];if(!!Vr.isDynamic(yi)){var xi=Qr.invoke(an,yi);an(Sr,".",Gn,"=",xi,";")}})}Ce.dynamic[Ar]=new Vr.DynamicVariable(se,{thisDep:Pr,contextDep:Nr,propDep:ze,ref:Sr,append:Je}),delete Ce.static[Ar]}function Ka(Ke,Ce,Ar,$r,gn){var Ir=xa();Ir.stats=Ir.link(gn),Object.keys(Ce.static).forEach(function(Nr){Ui(Ir,Ce,Nr)}),Xf.forEach(function(Nr){Ui(Ir,Ke,Nr)});var Pr=Ls(Ke,Ce,Ar,$r,Ir);return _o(Ir,Pr),yn(Ir,Pr),ir(Ir,Pr),c(Ir.compile(),{destroy:function(){Pr.shader.program.destroy()}})}return{next:Mi,current:Ri,procs:function(){var Ke=xa(),Ce=Ke.proc("poll"),Ar=Ke.proc("refresh"),$r=Ke.block();Ce($r),Ar($r);var gn=Ke.shared,Ir=gn.gl,Pr=gn.next,Nr=gn.current;$r(Nr,".dirty=false;"),nu(Ke,Ce),nu(Ke,Ar,null,!0);var ze;ei&&(ze=Ke.link(ei)),fr.oes_vertex_array_object&&Ar(Ke.link(fr.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Sr=0;Sr<vn.maxAttributes;++Sr){var Je=Ar.def(gn.attributes,"[",Sr,"]"),Qr=Ke.cond(Je,".buffer");Qr.then(Ir,".enableVertexAttribArray(",Sr,");",Ir,".bindBuffer(",ll,",",Je,".buffer.buffer);",Ir,".vertexAttribPointer(",Sr,",",Je,".size,",Je,".type,",Je,".normalized,",Je,".stride,",Je,".offset);").else(Ir,".disableVertexAttribArray(",Sr,");",Ir,".vertexAttrib4f(",Sr,",",Je,".x,",Je,".y,",Je,".z,",Je,".w);",Je,".buffer=null;"),Ar(Qr),ei&&Ar(ze,".vertexAttribDivisorANGLE(",Sr,",",Je,".divisor);")}return Ar(Ke.shared.vao,".currentVAO=null;",Ke.shared.vao,".setVAO(",Ke.shared.vao,".targetVAO);"),Object.keys(Un).forEach(function(an){var Gn=Un[an],yi=$r.def(Pr,".",an),xi=Ke.block();xi("if(",yi,"){",Ir,".enable(",Gn,")}else{",Ir,".disable(",Gn,")}",Nr,".",an,"=",yi,";"),Ar(xi),Ce("if(",yi,"!==",Nr,".",an,"){",xi,"}")}),Object.keys(_n).forEach(function(an){var Gn=_n[an],yi=Ri[an],xi,Pi,vi=Ke.block();if(vi(Ir,".",Gn,"("),so(yi)){var Xi=yi.length;xi=Ke.global.def(Pr,".",an),Pi=Ke.global.def(Nr,".",an),vi(lr(Xi,function(ji){return xi+"["+ji+"]"}),");",lr(Xi,function(ji){return Pi+"["+ji+"]="+xi+"["+ji+"];"}).join("")),Ce("if(",lr(Xi,function(ji){return xi+"["+ji+"]!=="+Pi+"["+ji+"]"}).join("||"),"){",vi,"}")}else xi=$r.def(Pr,".",an),Pi=$r.def(Nr,".",an),vi(xi,");",Nr,".",an,"=",xi,";"),Ce("if(",xi,"!==",Pi,"){",vi,"}");Ar(vi)}),Ke.compile()}(),compile:Ka}}function Tf(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var wf=34918,oc=34919,If=35007,sc=function(Wt,Ue){if(!Ue.ext_disjoint_timer_query)return null;var fr=[];function vn(){return fr.pop()||Ue.ext_disjoint_timer_query.createQueryEXT()}function jn(ei){fr.push(ei)}var hn=[];function On(ei){var _i=vn();Ue.ext_disjoint_timer_query.beginQueryEXT(If,_i),hn.push(_i),Kn(hn.length-1,hn.length,ei)}function zn(){Ue.ext_disjoint_timer_query.endQueryEXT(If)}function Jn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var oi=[];function ui(){return oi.pop()||new Jn}function li(ei){oi.push(ei)}var si=[];function Kn(ei,_i,Vn){var Ri=ui();Ri.startQueryIndex=ei,Ri.endQueryIndex=_i,Ri.sum=0,Ri.stats=Vn,si.push(Ri)}var ni=[],Xr=[];function An(){var ei,_i,Vn=hn.length;if(Vn!==0){Xr.length=Math.max(Xr.length,Vn+1),ni.length=Math.max(ni.length,Vn+1),ni[0]=0,Xr[0]=0;var Ri=0;for(ei=0,_i=0;_i<hn.length;++_i){var Mi=hn[_i];Ue.ext_disjoint_timer_query.getQueryObjectEXT(Mi,oc)?(Ri+=Ue.ext_disjoint_timer_query.getQueryObjectEXT(Mi,wf),jn(Mi)):hn[ei++]=Mi,ni[_i+1]=Ri,Xr[_i+1]=ei}for(hn.length=ei,ei=0,_i=0;_i<si.length;++_i){var oa=si[_i],Un=oa.startQueryIndex,_n=oa.endQueryIndex;oa.sum+=ni[_n]-ni[Un];var Zi=Xr[Un],Ei=Xr[_n];Ei===Zi?(oa.stats.gpuTime+=oa.sum/1e6,li(oa)):(oa.startQueryIndex=Zi,oa.endQueryIndex=Ei,si[ei++]=oa)}si.length=ei}}return{beginQuery:On,endQuery:zn,pushScopeStats:Kn,update:An,getNumPendingQueries:function(){return hn.length},clear:function(){fr.push.apply(fr,hn);for(var ei=0;ei<fr.length;ei++)Ue.ext_disjoint_timer_query.deleteQueryEXT(fr[ei]);hn.length=0,fr.length=0},restore:function(){hn.length=0,fr.length=0}}},uc=16384,Lf=256,Jl=1024,Df=34962,Rf="webglcontextlost",ql="webglcontextrestored",Nf=1,gc=2,jl=3;function Ff(Wt,Ue){for(var fr=0;fr<Wt.length;++fr)if(Wt[fr]===Ue)return fr;return-1}function Bf(Wt){var Ue=Te(Wt);if(!Ue)return null;var fr=Ue.gl,vn=fr.getContextAttributes(),jn=fr.isContextLost(),hn=Be(fr,Ue);if(!hn)return null;var On=ke(),zn=Tf(),Jn=hn.extensions,oi=sc(fr,Jn),ui=Ge(),li=fr.drawingBufferWidth,si=fr.drawingBufferHeight,Kn={tick:0,time:0,viewportWidth:li,viewportHeight:si,framebufferWidth:li,framebufferHeight:si,drawingBufferWidth:li,drawingBufferHeight:si,pixelRatio:Ue.pixelRatio},ni={},Xr={elements:null,primitive:4,count:-1,offset:0,instances:-1},An=ee(fr,Jn),ei=Bt(fr,zn,Ue,Ri),_i=Go(fr,Jn,ei,zn),Vn=Hn(fr,Jn,An,zn,ei,_i,Xr);function Ri(ya){return Vn.destroyBuffer(ya)}var Mi=Ta(fr,On,zn,Ue),oa=_t(fr,Jn,An,function(){Zi.procs.poll()},Kn,zn,Ue),Un=Hr(fr,Jn,An,zn,Ue),_n=$e(fr,Jn,An,oa,Un,zn),Zi=ac(fr,On,Jn,An,ei,_i,oa,_n,ni,Vn,Mi,Xr,Kn,oi,Ue),Ei=rs(fr,_n,Zi.procs.poll,Kn,vn,Jn,An),Qn=Zi.next,mi=fr.canvas,Ii=[],Na=[],xa=[],wi=[Ue.onDestroy],Fi=null;function Aa(){if(Ii.length===0){oi&&oi.update(),Fi=null;return}Fi=Ee.next(Aa),xs();for(var ya=Ii.length-1;ya>=0;--ya){var Xa=Ii[ya];Xa&&Xa(Kn,null,0)}fr.flush(),oi&&oi.update()}function wa(){!Fi&&Ii.length>0&&(Fi=Ee.next(Aa))}function Ja(){Fi&&(Ee.cancel(Aa),Fi=null)}function vs(ya){ya.preventDefault(),jn=!0,Ja(),Na.forEach(function(Xa){Xa()})}function ys(ya){fr.getError(),jn=!1,hn.restore(),Mi.restore(),ei.restore(),oa.restore(),Un.restore(),_n.restore(),Vn.restore(),oi&&oi.restore(),Zi.procs.refresh(),wa(),xa.forEach(function(Xa){Xa()})}var Ya=typeof my!="undefined"&&!!my&&typeof my.showToast=="function";!Ya&&mi&&(mi.addEventListener(Rf,vs,!1),mi.addEventListener(ql,ys,!1));function ru(){Ii.length=0,Ja(),!Ya&&mi&&(mi.removeEventListener(Rf,vs),mi.removeEventListener(ql,ys)),Mi.clear(),_n.clear(),Un.clear(),Vn.clear(),oa.clear(),_i.clear(),ei.clear(),oi&&oi.clear(),wi.forEach(function(ya){ya()})}function ao(ya){ot(!!ya,"invalid args to regl({...})"),ot.type(ya,"object","invalid args to regl({...})");function Xa(Ir){var Pr=c({},Ir);delete Pr.uniforms,delete Pr.attributes,delete Pr.context,delete Pr.vao,"stencil"in Pr&&Pr.stencil.op&&(Pr.stencil.opBack=Pr.stencil.opFront=Pr.stencil.op,delete Pr.stencil.op);function Nr(ze){if(ze in Pr){var Sr=Pr[ze];delete Pr[ze],Object.keys(Sr).forEach(function(Je){Pr[ze+"."+Je]=Sr[Je]})}}return Nr("blend"),Nr("depth"),Nr("cull"),Nr("stencil"),Nr("polygonOffset"),Nr("scissor"),Nr("sample"),"vao"in Ir&&(Pr.vao=Ir.vao),Pr}function _o(Ir,Pr){var Nr={},ze={};return Object.keys(Ir).forEach(function(Sr){var Je=Ir[Sr];if(Vr.isDynamic(Je)){ze[Sr]=Vr.unbox(Je,Sr);return}else if(Pr&&Array.isArray(Je)){for(var Qr=0;Qr<Je.length;++Qr)if(Vr.isDynamic(Je[Qr])){ze[Sr]=Vr.unbox(Je,Sr);return}}Nr[Sr]=Je}),{dynamic:ze,static:Nr}}var ks=_o(ya.context||{},!0),ju=_o(ya.uniforms||{},!0),ir=_o(ya.attributes||{},!1),yn=_o(Xa(ya),!1),un={gpuTime:0,cpuTime:0,count:0},Ui=Zi.compile(yn,ir,ju,ks,un),Ka=Ui.draw,Ke=Ui.batch,Ce=Ui.scope,Ar=[];function $r(Ir){for(;Ar.length<Ir;)Ar.push(null);return Ar}function gn(Ir,Pr){var Nr;if(jn&&ot.raise("context lost"),typeof Ir=="function")return Ce.call(this,null,Ir,0);if(typeof Pr=="function")if(typeof Ir=="number")for(Nr=0;Nr<Ir;++Nr)Ce.call(this,null,Pr,Nr);else if(Array.isArray(Ir))for(Nr=0;Nr<Ir.length;++Nr)Ce.call(this,Ir[Nr],Pr,Nr);else return Ce.call(this,Ir,Pr,0);else if(typeof Ir=="number"){if(Ir>0)return Ke.call(this,$r(Ir|0),Ir|0)}else if(Array.isArray(Ir)){if(Ir.length)return Ke.call(this,Ir,Ir.length)}else return Ka.call(this,Ir)}return c(gn,{stats:un,destroy:function(){Ui.destroy()}})}var Ls=_n.setFBO=ao({framebuffer:Vr.define.call(null,Nf,"framebuffer")});function Ms(ya,Xa){var _o=0;Zi.procs.poll();var ks=Xa.color;ks&&(fr.clearColor(+ks[0]||0,+ks[1]||0,+ks[2]||0,+ks[3]||0),_o|=uc),"depth"in Xa&&(fr.clearDepth(+Xa.depth),_o|=Lf),"stencil"in Xa&&(fr.clearStencil(Xa.stencil|0),_o|=Jl),ot(!!_o,"called regl.clear with no buffer specified"),fr.clear(_o)}function nu(ya){if(ot(typeof ya=="object"&&ya,"regl.clear() takes an object as input"),"framebuffer"in ya)if(ya.framebuffer&&ya.framebuffer_reglType==="framebufferCube")for(var Xa=0;Xa<6;++Xa)Ls(c({framebuffer:ya.framebuffer.faces[Xa]},ya),Ms);else Ls(ya,Ms);else Ms(null,ya)}function cu(ya){ot.type(ya,"function","regl.frame() callback must be a function"),Ii.push(ya);function Xa(){var _o=Ff(Ii,ya);ot(_o>=0,"cannot cancel a frame twice");function ks(){var ju=Ff(Ii,ks);Ii[ju]=Ii[Ii.length-1],Ii.length-=1,Ii.length<=0&&Ja()}Ii[_o]=ks}return wa(),{cancel:Xa}}function $s(){var ya=Qn.viewport,Xa=Qn.scissor_box;ya[0]=ya[1]=Xa[0]=Xa[1]=0,Kn.viewportWidth=Kn.framebufferWidth=Kn.drawingBufferWidth=ya[2]=Xa[2]=fr.drawingBufferWidth,Kn.viewportHeight=Kn.framebufferHeight=Kn.drawingBufferHeight=ya[3]=Xa[3]=fr.drawingBufferHeight}function xs(){Kn.tick+=1,Kn.time=hu(),$s(),Zi.procs.poll()}function ka(){oa.refresh(),$s(),Zi.procs.refresh(),oi&&oi.update()}function hu(){return(Ge()-ui)/1e3}ka();function co(ya,Xa){ot.type(Xa,"function","listener callback must be a function");var _o;switch(ya){case"frame":return cu(Xa);case"lost":_o=Na;break;case"restore":_o=xa;break;case"destroy":_o=wi;break;default:ot.raise("invalid event, must be one of frame,lost,restore,destroy")}return _o.push(Xa),{cancel:function(){for(var ks=0;ks<_o.length;++ks)if(_o[ks]===Xa){_o[ks]=_o[_o.length-1],_o.pop();return}}}}var iu=c(ao,{clear:nu,prop:Vr.define.bind(null,Nf),context:Vr.define.bind(null,gc),this:Vr.define.bind(null,jl),draw:ao({}),buffer:function(ya){return ei.create(ya,Df,!1,!1)},elements:function(ya){return _i.create(ya,!1)},texture:oa.create2D,cube:oa.createCube,renderbuffer:Un.create,framebuffer:_n.create,framebufferCube:_n.createCube,vao:Vn.createVAO,attributes:vn,frame:cu,on:co,limits:An,hasExtension:function(ya){return An.extensions.indexOf(ya.toLowerCase())>=0},read:Ei,destroy:ru,_gl:fr,_refresh:ka,poll:function(){xs(),oi&&oi.update()},now:hu,stats:zn});return Ue.onDone(null,iu),iu}return Bf})},58380:function(mr){function P(S,i,t){switch(t.length){case 0:return S.call(i);case 1:return S.call(i,t[0]);case 2:return S.call(i,t[0],t[1]);case 3:return S.call(i,t[0],t[1],t[2])}return S.apply(i,t)}mr.exports=P},47443:function(mr,P,S){var i=S(42118);function t(c,s){var v=c==null?0:c.length;return!!v&&i(c,s,0)>-1}mr.exports=t},1196:function(mr){function P(S,i,t){for(var c=-1,s=S==null?0:S.length;++c<s;)if(t(i,S[c]))return!0;return!1}mr.exports=P},62663:function(mr){function P(S,i,t,c){var s=-1,v=S==null?0:S.length;for(c&&v&&(t=S[++s]);++s<v;)t=i(t,S[s],s,S);return t}mr.exports=P},48983:function(mr,P,S){var i=S(40371),t=i("length");mr.exports=t},44286:function(mr){function P(S){return S.split("")}mr.exports=P},49029:function(mr){var P=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function S(i){return i.match(P)||[]}mr.exports=S},86556:function(mr,P,S){var i=S(89465),t=S(77813);function c(s,v,o){(o!==void 0&&!t(s[v],o)||o===void 0&&!(v in s))&&i(s,v,o)}mr.exports=c},29750:function(mr){function P(S,i,t){return S===S&&(t!==void 0&&(S=S<=t?S:t),i!==void 0&&(S=S>=i?S:i)),S}mr.exports=P},41848:function(mr){function P(S,i,t,c){for(var s=S.length,v=t+(c?1:-1);c?v--:++v<s;)if(i(S[v],v,S))return v;return-1}mr.exports=P},42118:function(mr,P,S){var i=S(41848),t=S(62722),c=S(42351);function s(v,o,f){return o===o?c(v,o,f):i(v,t,f)}mr.exports=s},62722:function(mr){function P(S){return S!==S}mr.exports=P},42980:function(mr,P,S){var i=S(46384),t=S(86556),c=S(28483),s=S(59783),v=S(13218),o=S(81704),f=S(36390);function r(e,n,a,u,l){e!==n&&c(n,function(h,p){if(l||(l=new i),v(h))s(e,n,p,a,r,u,l);else{var d=u?u(f(e,p),h,p+"",e,n,l):void 0;d===void 0&&(d=h),t(e,p,d)}},o)}mr.exports=r},59783:function(mr,P,S){var i=S(86556),t=S(64626),c=S(77133),s=S(278),v=S(38517),o=S(35694),f=S(1469),r=S(29246),e=S(44144),n=S(23560),a=S(13218),u=S(68630),l=S(36719),h=S(36390),p=S(59881);function d(g,y,x,A,m,M,b){var E=h(g,x),C=h(y,x),T=b.get(C);if(T){i(g,x,T);return}var O=M?M(E,C,x+"",g,y,b):void 0,L=O===void 0;if(L){var R=f(C),W=!R&&e(C),U=!R&&!W&&l(C);O=C,R||W||U?f(E)?O=E:r(E)?O=s(E):W?(L=!1,O=t(C,!0)):U?(L=!1,O=c(C,!0)):O=[]:u(C)||o(C)?(O=E,o(E)?O=p(E):(!a(E)||n(E))&&(O=v(C))):L=!1}L&&(b.set(C,O),m(O,C,A,M,b),b.delete(C)),i(g,x,O)}mr.exports=d},18674:function(mr){function P(S){return function(i){return S==null?void 0:S[i]}}mr.exports=P},18190:function(mr){var P=9007199254740991,S=Math.floor;function i(t,c){var s="";if(!t||c<1||c>P)return s;do c%2&&(s+=t),c=S(c/2),c&&(t+=t);while(c);return s}mr.exports=i},5976:function(mr,P,S){var i=S(6557),t=S(45357),c=S(30061);function s(v,o){return c(t(v,o,i),v+"")}mr.exports=s},56560:function(mr,P,S){var i=S(75703),t=S(38777),c=S(6557),s=t?function(v,o){return t(v,"toString",{configurable:!0,enumerable:!1,value:i(o),writable:!0})}:c;mr.exports=s},14259:function(mr){function P(S,i,t){var c=-1,s=S.length;i<0&&(i=-i>s?0:s+i),t=t>s?s:t,t<0&&(t+=s),s=i>t?0:t-i>>>0,i>>>=0;for(var v=Array(s);++c<s;)v[c]=S[c+i];return v}mr.exports=P},45652:function(mr,P,S){var i=S(88668),t=S(47443),c=S(1196),s=S(74757),v=S(23593),o=S(21814),f=200;function r(e,n,a){var u=-1,l=t,h=e.length,p=!0,d=[],g=d;if(a)p=!1,l=c;else if(h>=f){var y=n?null:v(e);if(y)return o(y);p=!1,l=s,g=new i}else g=n?[]:d;t:for(;++u<h;){var x=e[u],A=n?n(x):x;if(x=a||x!==0?x:0,p&&A===A){for(var m=g.length;m--;)if(g[m]===A)continue t;n&&g.push(A),d.push(x)}else l(g,A,a)||(g!==d&&g.push(A),d.push(x))}return d}mr.exports=r},40180:function(mr,P,S){var i=S(14259);function t(c,s,v){var o=c.length;return v=v===void 0?o:v,!s&&v>=o?c:i(c,s,v)}mr.exports=t},21463:function(mr,P,S){var i=S(5976),t=S(16612);function c(s){return i(function(v,o){var f=-1,r=o.length,e=r>1?o[r-1]:void 0,n=r>2?o[2]:void 0;for(e=s.length>3&&typeof e=="function"?(r--,e):void 0,n&&t(o[0],o[1],n)&&(e=r<3?void 0:e,r=1),v=Object(v);++f<r;){var a=o[f];a&&s(v,a,f,e)}return v})}mr.exports=c},98805:function(mr,P,S){var i=S(40180),t=S(62689),c=S(83140),s=S(79833);function v(o){return function(f){f=s(f);var r=t(f)?c(f):void 0,e=r?r[0]:f.charAt(0),n=r?i(r,1).join(""):f.slice(1);return e[o]()+n}}mr.exports=v},35393:function(mr,P,S){var i=S(62663),t=S(53816),c=S(58748),s="['\u2019]",v=RegExp(s,"g");function o(f){return function(r){return i(c(t(r).replace(v,"")),f,"")}}mr.exports=o},78302:function(mr,P,S){var i=S(18190),t=S(80531),c=S(40180),s=S(62689),v=S(88016),o=S(83140),f=Math.ceil;function r(e,n){n=n===void 0?" ":t(n);var a=n.length;if(a<2)return a?i(n,e):n;var u=i(n,f(e/v(n)));return s(n)?c(o(u),0,e).join(""):u.slice(0,e)}mr.exports=r},23593:function(mr,P,S){var i=S(58525),t=S(50308),c=S(21814),s=1/0,v=i&&1/c(new i([,-0]))[1]==s?function(o){return new i(o)}:t;mr.exports=v},69389:function(mr,P,S){var i=S(18674),t={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},c=i(t);mr.exports=c},62689:function(mr){var P="\\ud800-\\udfff",S="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=S+i+t,s="\\ufe0e\\ufe0f",v="\\u200d",o=RegExp("["+v+P+c+s+"]");function f(r){return o.test(r)}mr.exports=f},93157:function(mr){var P=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function S(i){return P.test(i)}mr.exports=S},16612:function(mr,P,S){var i=S(77813),t=S(98612),c=S(65776),s=S(13218);function v(o,f,r){if(!s(r))return!1;var e=typeof f;return(e=="number"?t(r)&&c(f,r.length):e=="string"&&f in r)?i(r[f],o):!1}mr.exports=v},45357:function(mr,P,S){var i=S(58380),t=Math.max;function c(s,v,o){return v=t(v===void 0?s.length-1:v,0),function(){for(var f=arguments,r=-1,e=t(f.length-v,0),n=Array(e);++r<e;)n[r]=f[v+r];r=-1;for(var a=Array(v+1);++r<v;)a[r]=f[r];return a[v]=o(n),i(s,this,a)}}mr.exports=c},36390:function(mr){function P(S,i){if(!(i==="constructor"&&typeof S[i]=="function")&&i!="__proto__")return S[i]}mr.exports=P},30061:function(mr,P,S){var i=S(56560),t=S(21275),c=t(i);mr.exports=c},21275:function(mr){var P=800,S=16,i=Date.now;function t(c){var s=0,v=0;return function(){var o=i(),f=S-(o-v);if(v=o,f>0){if(++s>=P)return arguments[0]}else s=0;return c.apply(void 0,arguments)}}mr.exports=t},42351:function(mr){function P(S,i,t){for(var c=t-1,s=S.length;++c<s;)if(S[c]===i)return c;return-1}mr.exports=P},88016:function(mr,P,S){var i=S(48983),t=S(62689),c=S(21903);function s(v){return t(v)?c(v):i(v)}mr.exports=s},83140:function(mr,P,S){var i=S(44286),t=S(62689),c=S(676);function s(v){return t(v)?c(v):i(v)}mr.exports=s},21903:function(mr){var P="\\ud800-\\udfff",S="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=S+i+t,s="\\ufe0e\\ufe0f",v="["+P+"]",o="["+c+"]",f="\\ud83c[\\udffb-\\udfff]",r="(?:"+o+"|"+f+")",e="[^"+P+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="\\u200d",l=r+"?",h="["+s+"]?",p="(?:"+u+"(?:"+[e,n,a].join("|")+")"+h+l+")*",d=h+l+p,g="(?:"+[e+o+"?",o,n,a,v].join("|")+")",y=RegExp(f+"(?="+f+")|"+g+d,"g");function x(A){for(var m=y.lastIndex=0;y.test(A);)++m;return m}mr.exports=x},676:function(mr){var P="\\ud800-\\udfff",S="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=S+i+t,s="\\ufe0e\\ufe0f",v="["+P+"]",o="["+c+"]",f="\\ud83c[\\udffb-\\udfff]",r="(?:"+o+"|"+f+")",e="[^"+P+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="\\u200d",l=r+"?",h="["+s+"]?",p="(?:"+u+"(?:"+[e,n,a].join("|")+")"+h+l+")*",d=h+l+p,g="(?:"+[e+o+"?",o,n,a,v].join("|")+")",y=RegExp(f+"(?="+f+")|"+g+d,"g");function x(A){return A.match(y)||[]}mr.exports=x},2757:function(mr){var P="\\ud800-\\udfff",S="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",c=S+i+t,s="\\u2700-\\u27bf",v="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r="\\u2000-\\u206f",e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\ufe0e\\ufe0f",u=o+f+r+e,l="['\u2019]",h="["+u+"]",p="["+c+"]",d="\\d+",g="["+s+"]",y="["+v+"]",x="[^"+P+u+d+s+v+n+"]",A="\\ud83c[\\udffb-\\udfff]",m="(?:"+p+"|"+A+")",M="[^"+P+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",E="[\\ud800-\\udbff][\\udc00-\\udfff]",C="["+n+"]",T="\\u200d",O="(?:"+y+"|"+x+")",L="(?:"+C+"|"+x+")",R="(?:"+l+"(?:d|ll|m|re|s|t|ve))?",W="(?:"+l+"(?:D|LL|M|RE|S|T|VE))?",U=m+"?",X="["+a+"]?",Z="(?:"+T+"(?:"+[M,b,E].join("|")+")"+X+U+")*",J="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ht="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",at=X+U+Z,Q="(?:"+[g,b,E].join("|")+")"+at,xt=RegExp([C+"?"+y+"+"+R+"(?="+[h,C,"$"].join("|")+")",L+"+"+W+"(?="+[h,C+O,"$"].join("|")+")",C+"?"+O+"+"+R,C+"+"+W,ht,J,d,Q].join("|"),"g");function kt(Nt){return Nt.match(xt)||[]}mr.exports=kt},68929:function(mr,P,S){var i=S(48403),t=S(35393),c=t(function(s,v,o){return v=v.toLowerCase(),s+(o?i(v):v)});mr.exports=c},48403:function(mr,P,S){var i=S(79833),t=S(11700);function c(s){return t(i(s).toLowerCase())}mr.exports=c},74691:function(mr,P,S){var i=S(29750),t=S(14841);function c(s,v,o){return o===void 0&&(o=v,v=void 0),o!==void 0&&(o=t(o),o=o===o?o:0),v!==void 0&&(v=t(v),v=v===v?v:0),i(t(s),v,o)}mr.exports=c},75703:function(mr){function P(S){return function(){return S}}mr.exports=P},53816:function(mr,P,S){var i=S(69389),t=S(79833),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",f=s+v+o,r="["+f+"]",e=RegExp(r,"g");function n(a){return a=t(a),a&&a.replace(c,i).replace(e,"")}mr.exports=n},29246:function(mr,P,S){var i=S(98612),t=S(37005);function c(s){return t(s)&&i(s)}mr.exports=c},14293:function(mr){function P(S){return S==null}mr.exports=P},81763:function(mr,P,S){var i=S(44239),t=S(37005),c="[object Number]";function s(v){return typeof v=="number"||t(v)&&i(v)==c}mr.exports=s},82492:function(mr,P,S){var i=S(42980),t=S(21463),c=t(function(s,v,o){i(s,v,o)});mr.exports=c},30236:function(mr,P,S){var i=S(42980),t=S(21463),c=t(function(s,v,o,f){i(s,v,o,f)});mr.exports=c},50308:function(mr){function P(){}mr.exports=P},11726:function(mr,P,S){var i=S(78302),t=S(88016),c=S(40554),s=S(79833);function v(o,f,r){o=s(o),f=c(f);var e=f?t(o):0;return f&&e<f?o+i(f-e,r):o}mr.exports=v},32475:function(mr,P,S){var i=S(78302),t=S(88016),c=S(40554),s=S(79833);function v(o,f,r){o=s(o),f=c(f);var e=f?t(o):0;return f&&e<f?i(f-e,r)+o:o}mr.exports=v},18601:function(mr,P,S){var i=S(14841),t=1/0,c=17976931348623157e292;function s(v){if(!v)return v===0?v:0;if(v=i(v),v===t||v===-t){var o=v<0?-1:1;return o*c}return v===v?v:0}mr.exports=s},40554:function(mr,P,S){var i=S(18601);function t(c){var s=i(c),v=s%1;return s===s?v?s-v:s:0}mr.exports=t},59881:function(mr,P,S){var i=S(98363),t=S(81704);function c(s){return i(s,t(s))}mr.exports=c},44908:function(mr,P,S){var i=S(45652);function t(c){return c&&c.length?i(c):[]}mr.exports=t},11700:function(mr,P,S){var i=S(98805),t=i("toUpperCase");mr.exports=t},58748:function(mr,P,S){var i=S(49029),t=S(93157),c=S(79833),s=S(2757);function v(o,f,r){return o=c(o),f=r?void 0:f,f===void 0?t(o)?s(o):i(o):o.match(f)||[]}mr.exports=v},3614:function(mr,P,S){"use strict";mr.exports=t;var i=S(80645);function t(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var c=(1<<16)*(1<<16),s=1/c,v=12,o=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");t.prototype={destroy:function(){this.buf=null},readFields:function(R,W,U){for(U=U||this.length;this.pos<U;){var X=this.readVarint(),Z=X>>3,J=this.pos;this.type=X&7,R(Z,W,this),this.pos===J&&this.skip(X)}return W},readMessage:function(R,W){return this.readFields(R,W,this.readVarint()+this.pos)},readFixed32:function(){var R=b(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=C(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=b(this.buf,this.pos)+b(this.buf,this.pos+4)*c;return this.pos+=8,R},readSFixed64:function(){var R=b(this.buf,this.pos)+C(this.buf,this.pos+4)*c;return this.pos+=8,R},readFloat:function(){var R=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var W=this.buf,U,X;return X=W[this.pos++],U=X&127,X<128||(X=W[this.pos++],U|=(X&127)<<7,X<128)||(X=W[this.pos++],U|=(X&127)<<14,X<128)||(X=W[this.pos++],U|=(X&127)<<21,X<128)?U:(X=W[this.pos],U|=(X&15)<<28,f(U,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2==1?(R+1)/-2:R/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var R=this.readVarint()+this.pos,W=this.pos;return this.pos=R,R-W>=v&&o?O(this.buf,W,R):T(this.buf,W,R)},readBytes:function(){var R=this.readVarint()+this.pos,W=this.buf.subarray(this.pos,R);return this.pos=R,W},readPackedVarint:function(R,W){if(this.type!==t.Bytes)return R.push(this.readVarint(W));var U=r(this);for(R=R||[];this.pos<U;)R.push(this.readVarint(W));return R},readPackedSVarint:function(R){if(this.type!==t.Bytes)return R.push(this.readSVarint());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==t.Bytes)return R.push(this.readBoolean());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==t.Bytes)return R.push(this.readFloat());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==t.Bytes)return R.push(this.readDouble());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==t.Bytes)return R.push(this.readFixed32());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==t.Bytes)return R.push(this.readSFixed32());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==t.Bytes)return R.push(this.readFixed64());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==t.Bytes)return R.push(this.readSFixed64());var W=r(this);for(R=R||[];this.pos<W;)R.push(this.readSFixed64());return R},skip:function(R){var W=R&7;if(W===t.Varint)for(;this.buf[this.pos++]>127;);else if(W===t.Bytes)this.pos=this.readVarint()+this.pos;else if(W===t.Fixed32)this.pos+=4;else if(W===t.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+W)},writeTag:function(R,W){this.writeVarint(R<<3|W)},realloc:function(R){for(var W=this.length||16;W<this.pos+R;)W*=2;if(W!==this.length){var U=new Uint8Array(W);U.set(this.buf),this.buf=U,this.length=W}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),E(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),E(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),E(this.buf,R&-1,this.pos),E(this.buf,Math.floor(R*s),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),E(this.buf,R&-1,this.pos),E(this.buf,Math.floor(R*s),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){n(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(Boolean(R))},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var W=this.pos;this.pos=L(this.buf,R,this.pos);var U=this.pos-W;U>=128&&l(W,U,this),this.pos=W-1,this.writeVarint(U),this.pos+=U},writeFloat:function(R){this.realloc(4),i.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),i.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var W=R.length;this.writeVarint(W),this.realloc(W);for(var U=0;U<W;U++)this.buf[this.pos++]=R[U]},writeRawMessage:function(R,W){this.pos++;var U=this.pos;R(W,this);var X=this.pos-U;X>=128&&l(U,X,this),this.pos=U-1,this.writeVarint(X),this.pos+=X},writeMessage:function(R,W,U){this.writeTag(R,t.Bytes),this.writeRawMessage(W,U)},writePackedVarint:function(R,W){W.length&&this.writeMessage(R,h,W)},writePackedSVarint:function(R,W){W.length&&this.writeMessage(R,p,W)},writePackedBoolean:function(R,W){W.length&&this.writeMessage(R,y,W)},writePackedFloat:function(R,W){W.length&&this.writeMessage(R,d,W)},writePackedDouble:function(R,W){W.length&&this.writeMessage(R,g,W)},writePackedFixed32:function(R,W){W.length&&this.writeMessage(R,x,W)},writePackedSFixed32:function(R,W){W.length&&this.writeMessage(R,A,W)},writePackedFixed64:function(R,W){W.length&&this.writeMessage(R,m,W)},writePackedSFixed64:function(R,W){W.length&&this.writeMessage(R,M,W)},writeBytesField:function(R,W){this.writeTag(R,t.Bytes),this.writeBytes(W)},writeFixed32Field:function(R,W){this.writeTag(R,t.Fixed32),this.writeFixed32(W)},writeSFixed32Field:function(R,W){this.writeTag(R,t.Fixed32),this.writeSFixed32(W)},writeFixed64Field:function(R,W){this.writeTag(R,t.Fixed64),this.writeFixed64(W)},writeSFixed64Field:function(R,W){this.writeTag(R,t.Fixed64),this.writeSFixed64(W)},writeVarintField:function(R,W){this.writeTag(R,t.Varint),this.writeVarint(W)},writeSVarintField:function(R,W){this.writeTag(R,t.Varint),this.writeSVarint(W)},writeStringField:function(R,W){this.writeTag(R,t.Bytes),this.writeString(W)},writeFloatField:function(R,W){this.writeTag(R,t.Fixed32),this.writeFloat(W)},writeDoubleField:function(R,W){this.writeTag(R,t.Fixed64),this.writeDouble(W)},writeBooleanField:function(R,W){this.writeVarintField(R,Boolean(W))}};function f(R,W,U){var X=U.buf,Z,J;if(J=X[U.pos++],Z=(J&112)>>4,J<128||(J=X[U.pos++],Z|=(J&127)<<3,J<128)||(J=X[U.pos++],Z|=(J&127)<<10,J<128)||(J=X[U.pos++],Z|=(J&127)<<17,J<128)||(J=X[U.pos++],Z|=(J&127)<<24,J<128)||(J=X[U.pos++],Z|=(J&1)<<31,J<128))return e(R,Z,W);throw new Error("Expected varint not more than 10 bytes")}function r(R){return R.type===t.Bytes?R.readVarint()+R.pos:R.pos+1}function e(R,W,U){return U?W*4294967296+(R>>>0):(W>>>0)*4294967296+(R>>>0)}function n(R,W){var U,X;if(R>=0?(U=R%4294967296|0,X=R/4294967296|0):(U=~(-R%4294967296),X=~(-R/4294967296),U^4294967295?U=U+1|0:(U=0,X=X+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");W.realloc(10),a(U,X,W),u(X,W)}function a(R,W,U){U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos]=R&127}function u(R,W){var U=(R&7)<<4;W.buf[W.pos++]|=U|((R>>>=3)?128:0),!!R&&(W.buf[W.pos++]=R&127|((R>>>=7)?128:0),!!R&&(W.buf[W.pos++]=R&127|((R>>>=7)?128:0),!!R&&(W.buf[W.pos++]=R&127|((R>>>=7)?128:0),!!R&&(W.buf[W.pos++]=R&127|((R>>>=7)?128:0),!!R&&(W.buf[W.pos++]=R&127)))))}function l(R,W,U){var X=W<=16383?1:W<=2097151?2:W<=268435455?3:Math.floor(Math.log(W)/(Math.LN2*7));U.realloc(X);for(var Z=U.pos-1;Z>=R;Z--)U.buf[Z+X]=U.buf[Z]}function h(R,W){for(var U=0;U<R.length;U++)W.writeVarint(R[U])}function p(R,W){for(var U=0;U<R.length;U++)W.writeSVarint(R[U])}function d(R,W){for(var U=0;U<R.length;U++)W.writeFloat(R[U])}function g(R,W){for(var U=0;U<R.length;U++)W.writeDouble(R[U])}function y(R,W){for(var U=0;U<R.length;U++)W.writeBoolean(R[U])}function x(R,W){for(var U=0;U<R.length;U++)W.writeFixed32(R[U])}function A(R,W){for(var U=0;U<R.length;U++)W.writeSFixed32(R[U])}function m(R,W){for(var U=0;U<R.length;U++)W.writeFixed64(R[U])}function M(R,W){for(var U=0;U<R.length;U++)W.writeSFixed64(R[U])}function b(R,W){return(R[W]|R[W+1]<<8|R[W+2]<<16)+R[W+3]*16777216}function E(R,W,U){R[U]=W,R[U+1]=W>>>8,R[U+2]=W>>>16,R[U+3]=W>>>24}function C(R,W){return(R[W]|R[W+1]<<8|R[W+2]<<16)+(R[W+3]<<24)}function T(R,W,U){for(var X="",Z=W;Z<U;){var J=R[Z],ht=null,at=J>239?4:J>223?3:J>191?2:1;if(Z+at>U)break;var Q,xt,kt;at===1?J<128&&(ht=J):at===2?(Q=R[Z+1],(Q&192)==128&&(ht=(J&31)<<6|Q&63,ht<=127&&(ht=null))):at===3?(Q=R[Z+1],xt=R[Z+2],(Q&192)==128&&(xt&192)==128&&(ht=(J&15)<<12|(Q&63)<<6|xt&63,(ht<=2047||ht>=55296&&ht<=57343)&&(ht=null))):at===4&&(Q=R[Z+1],xt=R[Z+2],kt=R[Z+3],(Q&192)==128&&(xt&192)==128&&(kt&192)==128&&(ht=(J&15)<<18|(Q&63)<<12|(xt&63)<<6|kt&63,(ht<=65535||ht>=1114112)&&(ht=null))),ht===null?(ht=65533,at=1):ht>65535&&(ht-=65536,X+=String.fromCharCode(ht>>>10&1023|55296),ht=56320|ht&1023),X+=String.fromCharCode(ht),Z+=at}return X}function O(R,W,U){return o.decode(R.subarray(W,U))}function L(R,W,U){for(var X=0,Z,J;X<W.length;X++){if(Z=W.charCodeAt(X),Z>55295&&Z<57344)if(J)if(Z<56320){R[U++]=239,R[U++]=191,R[U++]=189,J=Z;continue}else Z=J-55296<<10|Z-56320|65536,J=null;else{Z>56319||X+1===W.length?(R[U++]=239,R[U++]=191,R[U++]=189):J=Z;continue}else J&&(R[U++]=239,R[U++]=191,R[U++]=189,J=null);Z<128?R[U++]=Z:(Z<2048?R[U++]=Z>>6|192:(Z<65536?R[U++]=Z>>12|224:(R[U++]=Z>>18|240,R[U++]=Z>>12&63|128),R[U++]=Z>>6&63|128),R[U++]=Z&63|128)}return U}},28660:function(mr,P,S){var i=S(34155);/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t;(function(c){(function(s){var v=typeof S.g=="object"?S.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),o=f(c);typeof v.Reflect=="undefined"?v.Reflect=c:o=f(v.Reflect,o),s(o);function f(r,e){return function(n,a){typeof r[n]!="function"&&Object.defineProperty(r,n,{configurable:!0,writable:!0,value:a}),e&&e(n,a)}}})(function(s){var v=Object.prototype.hasOwnProperty,o=typeof Symbol=="function",f=o&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",r=o&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",e=typeof Object.create=="function",n={__proto__:[]}instanceof Array,a=!e&&!n,u={create:e?function(){return Ft(Object.create(null))}:n?function(){return Ft({__proto__:null})}:function(){return Ft({})},has:a?function(zt,$t){return v.call(zt,$t)}:function(zt,$t){return $t in zt},get:a?function(zt,$t){return v.call(zt,$t)?zt[$t]:void 0}:function(zt,$t){return zt[$t]}},l=Object.getPrototypeOf(Function),h=typeof i=="object"&&{NODE_ENV:"production"}&&{NODE_ENV:"production"}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!h&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ot(),d=!h&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Mt(),g=!h&&typeof WeakMap=="function"?WeakMap:Ot(),y=new g;function x(zt,$t,he,ye){if(Nt(he)){if(!K(zt))throw new TypeError;if(!et($t))throw new TypeError;return R(zt,$t)}else{if(!K(zt))throw new TypeError;if(!G($t))throw new TypeError;if(!G(ye)&&!Nt(ye)&&!nt(ye))throw new TypeError;return nt(ye)&&(ye=void 0),he=ft(he),W(zt,$t,he,ye)}}s("decorate",x);function A(zt,$t){function he(ye,tr){if(!G(ye))throw new TypeError;if(!Nt(tr)&&!j(tr))throw new TypeError;at(zt,$t,ye,tr)}return he}s("metadata",A);function m(zt,$t,he,ye){if(!G(he))throw new TypeError;return Nt(ye)||(ye=ft(ye)),at(zt,$t,he,ye)}s("defineMetadata",m);function M(zt,$t,he){if(!G($t))throw new TypeError;return Nt(he)||(he=ft(he)),X(zt,$t,he)}s("hasMetadata",M);function b(zt,$t,he){if(!G($t))throw new TypeError;return Nt(he)||(he=ft(he)),Z(zt,$t,he)}s("hasOwnMetadata",b);function E(zt,$t,he){if(!G($t))throw new TypeError;return Nt(he)||(he=ft(he)),J(zt,$t,he)}s("getMetadata",E);function C(zt,$t,he){if(!G($t))throw new TypeError;return Nt(he)||(he=ft(he)),ht(zt,$t,he)}s("getOwnMetadata",C);function T(zt,$t){if(!G(zt))throw new TypeError;return Nt($t)||($t=ft($t)),Q(zt,$t)}s("getMetadataKeys",T);function O(zt,$t){if(!G(zt))throw new TypeError;return Nt($t)||($t=ft($t)),xt(zt,$t)}s("getOwnMetadataKeys",O);function L(zt,$t,he){if(!G($t))throw new TypeError;Nt(he)||(he=ft(he));var ye=U($t,he,!1);if(Nt(ye)||!ye.delete(zt))return!1;if(ye.size>0)return!0;var tr=y.get($t);return tr.delete(he),tr.size>0||y.delete($t),!0}s("deleteMetadata",L);function R(zt,$t){for(var he=zt.length-1;he>=0;--he){var ye=zt[he],tr=ye($t);if(!Nt(tr)&&!nt(tr)){if(!et(tr))throw new TypeError;$t=tr}}return $t}function W(zt,$t,he,ye){for(var tr=zt.length-1;tr>=0;--tr){var nr=zt[tr],Xe=nr($t,he,ye);if(!Nt(Xe)&&!nt(Xe)){if(!G(Xe))throw new TypeError;ye=Xe}}return ye}function U(zt,$t,he){var ye=y.get(zt);if(Nt(ye)){if(!he)return;ye=new p,y.set(zt,ye)}var tr=ye.get($t);if(Nt(tr)){if(!he)return;tr=new p,ye.set($t,tr)}return tr}function X(zt,$t,he){var ye=Z(zt,$t,he);if(ye)return!0;var tr=St($t);return nt(tr)?!1:X(zt,tr,he)}function Z(zt,$t,he){var ye=U($t,he,!1);return Nt(ye)?!1:H(ye.has(zt))}function J(zt,$t,he){var ye=Z(zt,$t,he);if(ye)return ht(zt,$t,he);var tr=St($t);if(!nt(tr))return J(zt,tr,he)}function ht(zt,$t,he){var ye=U($t,he,!1);if(!Nt(ye))return ye.get(zt)}function at(zt,$t,he,ye){var tr=U(he,ye,!0);tr.set(zt,$t)}function Q(zt,$t){var he=xt(zt,$t),ye=St(zt);if(ye===null)return he;var tr=Q(ye,$t);if(tr.length<=0)return he;if(he.length<=0)return tr;for(var nr=new d,Xe=[],yr=0,Vr=he;yr<Vr.length;yr++){var Ee=Vr[yr],de=nr.has(Ee);de||(nr.add(Ee),Xe.push(Ee))}for(var Ge=0,ke=tr;Ge<ke.length;Ge++){var Ee=ke[Ge],de=nr.has(Ee);de||(nr.add(Ee),Xe.push(Ee))}return Xe}function xt(zt,$t){var he=[],ye=U(zt,$t,!1);if(Nt(ye))return he;for(var tr=ye.keys(),nr=D(tr),Xe=0;;){var yr=tt(nr);if(!yr)return he.length=Xe,he;var Vr=V(yr);try{he[Xe]=Vr}catch(Ee){try{lt(nr)}finally{throw Ee}}Xe++}}function kt(zt){if(zt===null)return 1;switch(typeof zt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return zt===null?1:6;default:return 6}}function Nt(zt){return zt===void 0}function nt(zt){return zt===null}function q(zt){return typeof zt=="symbol"}function G(zt){return typeof zt=="object"?zt!==null:typeof zt=="function"}function N(zt,$t){switch(kt(zt)){case 0:return zt;case 1:return zt;case 2:return zt;case 3:return zt;case 4:return zt;case 5:return zt}var he=$t===3?"string":$t===5?"number":"default",ye=w(zt,f);if(ye!==void 0){var tr=ye.call(zt,he);if(G(tr))throw new TypeError;return tr}return it(zt,he==="default"?"number":he)}function it(zt,$t){if($t==="string"){var he=zt.toString;if($(he)){var ye=he.call(zt);if(!G(ye))return ye}var tr=zt.valueOf;if($(tr)){var ye=tr.call(zt);if(!G(ye))return ye}}else{var tr=zt.valueOf;if($(tr)){var ye=tr.call(zt);if(!G(ye))return ye}var nr=zt.toString;if($(nr)){var ye=nr.call(zt);if(!G(ye))return ye}}throw new TypeError}function H(zt){return!!zt}function ct(zt){return""+zt}function ft(zt){var $t=N(zt,3);return q($t)?$t:ct($t)}function K(zt){return Array.isArray?Array.isArray(zt):zt instanceof Object?zt instanceof Array:Object.prototype.toString.call(zt)==="[object Array]"}function $(zt){return typeof zt=="function"}function et(zt){return typeof zt=="function"}function j(zt){switch(kt(zt)){case 3:return!0;case 4:return!0;default:return!1}}function w(zt,$t){var he=zt[$t];if(he!=null){if(!$(he))throw new TypeError;return he}}function D(zt){var $t=w(zt,r);if(!$($t))throw new TypeError;var he=$t.call(zt);if(!G(he))throw new TypeError;return he}function V(zt){return zt.value}function tt(zt){var $t=zt.next();return $t.done?!1:$t}function lt(zt){var $t=zt.return;$t&&$t.call(zt)}function St(zt){var $t=Object.getPrototypeOf(zt);if(typeof zt!="function"||zt===l||$t!==l)return $t;var he=zt.prototype,ye=he&&Object.getPrototypeOf(he);if(ye==null||ye===Object.prototype)return $t;var tr=ye.constructor;return typeof tr!="function"||tr===zt?$t:tr}function ot(){var zt={},$t=[],he=function(){function Xe(yr,Vr,Ee){this._index=0,this._keys=yr,this._values=Vr,this._selector=Ee}return Xe.prototype["@@iterator"]=function(){return this},Xe.prototype[r]=function(){return this},Xe.prototype.next=function(){var yr=this._index;if(yr>=0&&yr<this._keys.length){var Vr=this._selector(this._keys[yr],this._values[yr]);return yr+1>=this._keys.length?(this._index=-1,this._keys=$t,this._values=$t):this._index++,{value:Vr,done:!1}}return{value:void 0,done:!0}},Xe.prototype.throw=function(yr){throw this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),yr},Xe.prototype.return=function(yr){return this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),{value:yr,done:!0}},Xe}();return function(){function Xe(){this._keys=[],this._values=[],this._cacheKey=zt,this._cacheIndex=-2}return Object.defineProperty(Xe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Xe.prototype.has=function(yr){return this._find(yr,!1)>=0},Xe.prototype.get=function(yr){var Vr=this._find(yr,!1);return Vr>=0?this._values[Vr]:void 0},Xe.prototype.set=function(yr,Vr){var Ee=this._find(yr,!0);return this._values[Ee]=Vr,this},Xe.prototype.delete=function(yr){var Vr=this._find(yr,!1);if(Vr>=0){for(var Ee=this._keys.length,de=Vr+1;de<Ee;de++)this._keys[de-1]=this._keys[de],this._values[de-1]=this._values[de];return this._keys.length--,this._values.length--,yr===this._cacheKey&&(this._cacheKey=zt,this._cacheIndex=-2),!0}return!1},Xe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=zt,this._cacheIndex=-2},Xe.prototype.keys=function(){return new he(this._keys,this._values,ye)},Xe.prototype.values=function(){return new he(this._keys,this._values,tr)},Xe.prototype.entries=function(){return new he(this._keys,this._values,nr)},Xe.prototype["@@iterator"]=function(){return this.entries()},Xe.prototype[r]=function(){return this.entries()},Xe.prototype._find=function(yr,Vr){return this._cacheKey!==yr&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=yr)),this._cacheIndex<0&&Vr&&(this._cacheIndex=this._keys.length,this._keys.push(yr),this._values.push(void 0)),this._cacheIndex},Xe}();function ye(Xe,yr){return Xe}function tr(Xe,yr){return yr}function nr(Xe,yr){return[Xe,yr]}}function Mt(){return function(){function zt(){this._map=new p}return Object.defineProperty(zt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),zt.prototype.has=function($t){return this._map.has($t)},zt.prototype.add=function($t){return this._map.set($t,$t),this},zt.prototype.delete=function($t){return this._map.delete($t)},zt.prototype.clear=function(){this._map.clear()},zt.prototype.keys=function(){return this._map.keys()},zt.prototype.values=function(){return this._map.values()},zt.prototype.entries=function(){return this._map.entries()},zt.prototype["@@iterator"]=function(){return this.keys()},zt.prototype[r]=function(){return this.keys()},zt}()}function Ot(){var zt=16,$t=u.create(),he=ye();return function(){function Vr(){this._key=ye()}return Vr.prototype.has=function(Ee){var de=tr(Ee,!1);return de!==void 0?u.has(de,this._key):!1},Vr.prototype.get=function(Ee){var de=tr(Ee,!1);return de!==void 0?u.get(de,this._key):void 0},Vr.prototype.set=function(Ee,de){var Ge=tr(Ee,!0);return Ge[this._key]=de,this},Vr.prototype.delete=function(Ee){var de=tr(Ee,!1);return de!==void 0?delete de[this._key]:!1},Vr.prototype.clear=function(){this._key=ye()},Vr}();function ye(){var Vr;do Vr="@@WeakMap@@"+yr();while(u.has($t,Vr));return $t[Vr]=!0,Vr}function tr(Vr,Ee){if(!v.call(Vr,he)){if(!Ee)return;Object.defineProperty(Vr,he,{value:u.create()})}return Vr[he]}function nr(Vr,Ee){for(var de=0;de<Ee;++de)Vr[de]=Math.random()*255|0;return Vr}function Xe(Vr){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Vr)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Vr)):nr(new Uint8Array(Vr),Vr):nr(new Array(Vr),Vr)}function yr(){var Vr=Xe(zt);Vr[6]=Vr[6]&79|64,Vr[8]=Vr[8]&191|128;for(var Ee="",de=0;de<zt;++de){var Ge=Vr[de];(de===4||de===6||de===8)&&(Ee+="-"),Ge<16&&(Ee+="0"),Ee+=Ge.toString(16).toLowerCase()}return Ee}}function Ft(zt){return zt.__=void 0,delete zt.__,zt}})})(t||(t={}))},95022:function(mr,P,S){var i=S(44878);mr.exports=function(s,v,o){return o||(s=JSON.parse(JSON.stringify(s))),s.features?c(s,v):s.type&&s.type==="Feature"?t(s,v):new Error("FeatureCollection or individual Feature required")},mr.exports.simplify=function(s,v){return i(s,v)};function t(s,v){var o=s.geometry,f=o.type;if(f==="LineString")o.coordinates=mr.exports.simplify(o.coordinates,v);else if(f==="Polygon"||f==="MultiLineString")for(var r=0;r<o.coordinates.length;r++)o.coordinates[r]=mr.exports.simplify(o.coordinates[r],v);else if(f==="MultiPolygon")for(var e=0;e<o.coordinates.length;e++)for(var n=0;n<o.coordinates[e].length;n++)o.coordinates[e][n]=mr.exports.simplify(o.coordinates[e][n],v);return s}function c(s,v){for(var o=0;o<s.features.length;o++)s.features[o]=t(s.features[o],v);return s}},44878:function(mr,P,S){var i=S(54301),t=function(c,s){for(var v=0,o=0,f=1;f<=c.length-2;f++){var r=new i(c[0],c[c.length-1]).perpendicularDistance(c[f]);r>v&&(o=f,v=r)}if(v>s)var e=t(c.slice(0,o),s),n=t(c.slice(o,c.length),s),a=e.concat(n);else c.length>1?a=[c[0],c[c.length-1]]:a=[c[0]];return a};mr.exports=t},54301:function(mr){var P=function(S,i){this.p1=S,this.p2=i};P.prototype.rise=function(){return this.p2[1]-this.p1[1]},P.prototype.run=function(){return this.p2[0]-this.p1[0]},P.prototype.slope=function(){return this.rise()/this.run()},P.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)},P.prototype.isVertical=function(){return!isFinite(this.slope())},P.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]},P.prototype._perpendicularDistanceHorizontal=function(S){return Math.abs(this.p1[1]-S[1])},P.prototype._perpendicularDistanceVertical=function(S){return Math.abs(this.p1[0]-S[0])},P.prototype._perpendicularDistanceHasSlope=function(S){var i=this.slope(),t=this.yIntercept();return Math.abs(i*S[0]-S[1]+t)/Math.sqrt(Math.pow(i,2)+1)},P.prototype.perpendicularDistance=function(S){return this.isVertical()?this._perpendicularDistanceVertical(S):this.isHorizontal()?this._perpendicularDistanceHorizontal(S):this._perpendicularDistanceHasSlope(S)},mr.exports=P},69848:function(mr){(function(P,S){mr.exports=S()})(this,function(){"use strict";function P(b,E,C,T,O,L){if(!(O-T<=C)){var R=T+O>>1;S(b,E,R,T,O,L%2),P(b,E,C,T,R-1,L+1),P(b,E,C,R+1,O,L+1)}}function S(b,E,C,T,O,L){for(;O>T;){if(O-T>600){var R=O-T+1,W=C-T+1,U=Math.log(R),X=.5*Math.exp(2*U/3),Z=.5*Math.sqrt(U*X*(R-X)/R)*(W-R/2<0?-1:1),J=Math.max(T,Math.floor(C-W*X/R+Z)),ht=Math.min(O,Math.floor(C+(R-W)*X/R+Z));S(b,E,C,J,ht,L)}var at=E[2*C+L],Q=T,xt=O;for(i(b,E,T,C),E[2*O+L]>at&&i(b,E,T,O);Q<xt;){for(i(b,E,Q,xt),Q++,xt--;E[2*Q+L]<at;)Q++;for(;E[2*xt+L]>at;)xt--}E[2*T+L]===at?i(b,E,T,xt):(xt++,i(b,E,xt,O)),xt<=C&&(T=xt+1),C<=xt&&(O=xt-1)}}function i(b,E,C,T){t(b,C,T),t(E,2*C,2*T),t(E,2*C+1,2*T+1)}function t(b,E,C){var T=b[E];b[E]=b[C],b[C]=T}function c(b,E,C,T,O,L,R){for(var W=[0,b.length-1,0],U=[],X,Z;W.length;){var J=W.pop(),ht=W.pop(),at=W.pop();if(ht-at<=R){for(var Q=at;Q<=ht;Q++)X=E[2*Q],Z=E[2*Q+1],X>=C&&X<=O&&Z>=T&&Z<=L&&U.push(b[Q]);continue}var xt=Math.floor((at+ht)/2);X=E[2*xt],Z=E[2*xt+1],X>=C&&X<=O&&Z>=T&&Z<=L&&U.push(b[xt]);var kt=(J+1)%2;(J===0?C<=X:T<=Z)&&(W.push(at),W.push(xt-1),W.push(kt)),(J===0?O>=X:L>=Z)&&(W.push(xt+1),W.push(ht),W.push(kt))}return U}function s(b,E,C,T,O,L){for(var R=[0,b.length-1,0],W=[],U=O*O;R.length;){var X=R.pop(),Z=R.pop(),J=R.pop();if(Z-J<=L){for(var ht=J;ht<=Z;ht++)v(E[2*ht],E[2*ht+1],C,T)<=U&&W.push(b[ht]);continue}var at=Math.floor((J+Z)/2),Q=E[2*at],xt=E[2*at+1];v(Q,xt,C,T)<=U&&W.push(b[at]);var kt=(X+1)%2;(X===0?C-O<=Q:T-O<=xt)&&(R.push(J),R.push(at-1),R.push(kt)),(X===0?C+O>=Q:T+O>=xt)&&(R.push(at+1),R.push(Z),R.push(kt))}return W}function v(b,E,C,T){var O=b-C,L=E-T;return O*O+L*L}var o=function(b){return b[0]},f=function(b){return b[1]},r=function(E,C,T,O,L){C===void 0&&(C=o),T===void 0&&(T=f),O===void 0&&(O=64),L===void 0&&(L=Float64Array),this.nodeSize=O,this.points=E;for(var R=E.length<65536?Uint16Array:Uint32Array,W=this.ids=new R(E.length),U=this.coords=new L(E.length*2),X=0;X<E.length;X++)W[X]=X,U[2*X]=C(E[X]),U[2*X+1]=T(E[X]);P(W,U,O,0,W.length-1,0)};r.prototype.range=function(E,C,T,O){return c(this.ids,this.coords,E,C,T,O,this.nodeSize)},r.prototype.within=function(E,C,T){return s(this.ids,this.coords,E,C,T,this.nodeSize)};var e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(b){return b}},n=Math.fround||function(b){return function(E){return b[0]=+E,b[0]}}(new Float32Array(1)),a=function(E){this.options=A(Object.create(e),E),this.trees=new Array(this.options.maxZoom+1)};a.prototype.load=function(E){var C=this.options,T=C.log,O=C.minZoom,L=C.maxZoom,R=C.nodeSize;T&&console.time("total time");var W="prepare "+E.length+" points";T&&console.time(W),this.points=E;for(var U=[],X=0;X<E.length;X++)!E[X].geometry||U.push(l(E[X],X));this.trees[L+1]=new r(U,m,M,R,Float32Array),T&&console.timeEnd(W);for(var Z=L;Z>=O;Z--){var J=+Date.now();U=this._cluster(U,Z),this.trees[Z]=new r(U,m,M,R,Float32Array),T&&console.log("z%d: %d clusters in %dms",Z,U.length,+Date.now()-J)}return T&&console.timeEnd("total time"),this},a.prototype.getClusters=function(E,C){var T=((E[0]+180)%360+360)%360-180,O=Math.max(-90,Math.min(90,E[1])),L=E[2]===180?180:((E[2]+180)%360+360)%360-180,R=Math.max(-90,Math.min(90,E[3]));if(E[2]-E[0]>=360)T=-180,L=180;else if(T>L){var W=this.getClusters([T,O,180,R],C),U=this.getClusters([-180,O,L,R],C);return W.concat(U)}for(var X=this.trees[this._limitZoom(C)],Z=X.range(d(T),g(R),d(L),g(O)),J=[],ht=0,at=Z;ht<at.length;ht+=1){var Q=at[ht],xt=X.points[Q];J.push(xt.numPoints?h(xt):this.points[xt.index])}return J},a.prototype.getChildren=function(E){var C=this._getOriginId(E),T=this._getOriginZoom(E),O="No cluster with the specified id.",L=this.trees[T];if(!L)throw new Error(O);var R=L.points[C];if(!R)throw new Error(O);for(var W=this.options.radius/(this.options.extent*Math.pow(2,T-1)),U=L.within(R.x,R.y,W),X=[],Z=0,J=U;Z<J.length;Z+=1){var ht=J[Z],at=L.points[ht];at.parentId===E&&X.push(at.numPoints?h(at):this.points[at.index])}if(X.length===0)throw new Error(O);return X},a.prototype.getLeaves=function(E,C,T){C=C||10,T=T||0;var O=[];return this._appendLeaves(O,E,C,T,0),O},a.prototype.getTile=function(E,C,T){var O=this.trees[this._limitZoom(E)],L=Math.pow(2,E),R=this.options,W=R.extent,U=R.radius,X=U/W,Z=(T-X)/L,J=(T+1+X)/L,ht={features:[]};return this._addTileFeatures(O.range((C-X)/L,Z,(C+1+X)/L,J),O.points,C,T,L,ht),C===0&&this._addTileFeatures(O.range(1-X/L,Z,1,J),O.points,L,T,L,ht),C===L-1&&this._addTileFeatures(O.range(0,Z,X/L,J),O.points,-1,T,L,ht),ht.features.length?ht:null},a.prototype.getClusterExpansionZoom=function(E){for(var C=this._getOriginZoom(E)-1;C<=this.options.maxZoom;){var T=this.getChildren(E);if(C++,T.length!==1)break;E=T[0].properties.cluster_id}return C},a.prototype._appendLeaves=function(E,C,T,O,L){for(var R=this.getChildren(C),W=0,U=R;W<U.length;W+=1){var X=U[W],Z=X.properties;if(Z&&Z.cluster?L+Z.point_count<=O?L+=Z.point_count:L=this._appendLeaves(E,Z.cluster_id,T,O,L):L<O?L++:E.push(X),E.length===T)break}return L},a.prototype._addTileFeatures=function(E,C,T,O,L,R){for(var W=0,U=E;W<U.length;W+=1){var X=U[W],Z=C[X],J=Z.numPoints,ht=void 0,at=void 0,Q=void 0;if(J)ht=p(Z),at=Z.x,Q=Z.y;else{var xt=this.points[Z.index];ht=xt.properties,at=d(xt.geometry.coordinates[0]),Q=g(xt.geometry.coordinates[1])}var kt={type:1,geometry:[[Math.round(this.options.extent*(at*L-T)),Math.round(this.options.extent*(Q*L-O))]],tags:ht},Nt=void 0;J?Nt=Z.id:this.options.generateId?Nt=Z.index:this.points[Z.index].id&&(Nt=this.points[Z.index].id),Nt!==void 0&&(kt.id=Nt),R.features.push(kt)}},a.prototype._limitZoom=function(E){return Math.max(this.options.minZoom,Math.min(+E,this.options.maxZoom+1))},a.prototype._cluster=function(E,C){for(var T=[],O=this.options,L=O.radius,R=O.extent,W=O.reduce,U=O.minPoints,X=L/(R*Math.pow(2,C)),Z=0;Z<E.length;Z++){var J=E[Z];if(!(J.zoom<=C)){J.zoom=C;for(var ht=this.trees[C+1],at=ht.within(J.x,J.y,X),Q=J.numPoints||1,xt=Q,kt=0,Nt=at;kt<Nt.length;kt+=1){var nt=Nt[kt],q=ht.points[nt];q.zoom>C&&(xt+=q.numPoints||1)}if(xt>Q&&xt>=U){for(var G=J.x*Q,N=J.y*Q,it=W&&Q>1?this._map(J,!0):null,H=(Z<<5)+(C+1)+this.points.length,ct=0,ft=at;ct<ft.length;ct+=1){var K=ft[ct],$=ht.points[K];if(!($.zoom<=C)){$.zoom=C;var et=$.numPoints||1;G+=$.x*et,N+=$.y*et,$.parentId=H,W&&(it||(it=this._map(J,!0)),W(it,this._map($)))}}J.parentId=H,T.push(u(G/xt,N/xt,H,xt,it))}else if(T.push(J),xt>1)for(var j=0,w=at;j<w.length;j+=1){var D=w[j],V=ht.points[D];V.zoom<=C||(V.zoom=C,T.push(V))}}}return T},a.prototype._getOriginId=function(E){return E-this.points.length>>5},a.prototype._getOriginZoom=function(E){return(E-this.points.length)%32},a.prototype._map=function(E,C){if(E.numPoints)return C?A({},E.properties):E.properties;var T=this.points[E.index].properties,O=this.options.map(T);return C&&O===T?A({},O):O};function u(b,E,C,T,O){return{x:n(b),y:n(E),zoom:Infinity,id:C,parentId:-1,numPoints:T,properties:O}}function l(b,E){var C=b.geometry.coordinates,T=C[0],O=C[1];return{x:n(d(T)),y:n(g(O)),zoom:Infinity,index:E,parentId:-1}}function h(b){return{type:"Feature",id:b.id,properties:p(b),geometry:{type:"Point",coordinates:[y(b.x),x(b.y)]}}}function p(b){var E=b.numPoints,C=E>=1e4?Math.round(E/1e3)+"k":E>=1e3?Math.round(E/100)/10+"k":E;return A(A({},b.properties),{cluster:!0,cluster_id:b.id,point_count:E,point_count_abbreviated:C})}function d(b){return b/360+.5}function g(b){var E=Math.sin(b*Math.PI/180),C=.5-.25*Math.log((1+E)/(1-E))/Math.PI;return C<0?0:C>1?1:C}function y(b){return(b-.5)*360}function x(b){var E=(180-b*360)*Math.PI/180;return 360*Math.atan(Math.exp(E))/Math.PI-90}function A(b,E){for(var C in E)b[C]=E[C];return b}function m(b){return b.x}function M(b){return b.y}return a})},55513:function(mr,P,S){"use strict";S.d(P,{kL:function(){return io},r$:function(){return Ai},De:function(){return ea},u:function(){return Vi}});var i=S(96486),t=/on(.+)(MouseEnter|MouseMove|MouseLeave|Click|DdlClick|MouseDown|MouseUp|TouchStart|TouchMove|TouchEnd)/;function c(vt,gt,dt,Dt){if(!i.isEmpty(dt)){var te=t.exec(dt);if(!(!te||te.length<=2)){var We=te[1].toLowerCase(),cr=te[2].toLowerCase(),zr=gt+"-"+We;vt.on(zr+":"+cr,function(Rt){Dt&&Dt(Rt,vt)})}}}function s(vt,gt,dt){if(!i.isEmpty(dt)){var Dt=Object.keys(dt).filter(function(te){return/^on/.test(te)});i.isEmpty(Dt)||Dt.forEach(function(te){var We=te.slice(2,te.length),cr=We.toLowerCase(),zr=dt[te];if(dt.gemo&&cr.indexOf("label")>=0){var Rt=cr.replace("label","");vt.on("label:"+Rt,function(Si){zr&&zr(Si,vt)});return}gt?vt.on(gt+":"+cr,function(Si){zr&&zr(Si,vt)}):vt.on(cr,function(Si){zr&&zr(Si,vt)})})}}var v=S(28602),o=function(vt){var gt=i.get(vt,"formatter");if(i.isString(gt))return vt.formatter=function(te){return v.WU(gt)(te)},vt;var dt=function(te){if(vt.hasOwnProperty(te)){var We=i.get(vt[te],"formatter");i.isString(We)&&(vt[te].formatter=function(cr){return v.WU(We)(cr)})}};for(var Dt in vt)dt(Dt);return vt},f=function(){return f=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},f.apply(this,arguments)};function r(vt,gt,dt,Dt){var te=i.get(gt,"polarLabel"),We=i.get(gt,"polarLabel.rotate");if(!!We){var cr={};We==="parallel"?cr={rotate:dt.startAngle,textAlign:"center"}:We==="normal"&&(cr={rotate:dt.startAngle+90,textAlign:"right"});var zr=i.get(gt,"polarLabel.offsetX"),Rt=i.get(gt,"polarLabel.offsetY");Dt.forEach(function(Si,ri){vt.guide().text(f({position:[ri,0],content:Dt[ri][gt.dataKey],style:f({polarLabel:te},cr)},zr,Rt))})}}var e=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.axis),te=i.isArray(Dt);if(i.isNil(Dt)||Dt===!1||te&&Dt.length===0)return vt.axis(!1);if(Dt===!0)return vt.axis();for(var We=te?Dt:[Dt],cr=gt.coord,zr=gt.data,Rt=function(rt){if(cr&&cr.type==="polar"&&cr.direction==="rotate"&&r(vt,rt,cr,zr),rt.label&&(rt.label=o(rt.label)),!dt){for(var Bt in rt)if(rt.hasOwnProperty(Bt)){var yt=Bt==="tickLine"?"ticks":Bt;c(vt,"axis",yt,rt[Bt])}}if(rt.dataKey)if(rt.show===!1)vt.axis(rt.dataKey,!1);else{var ne=i.omit(rt,["show","dataKey"]),_e=ne.label;if(_e&&i.isNumber(_e.density)&&0<_e.density&&_e.density<1&&i.isFunction(_e.formatter)){var or=Math.floor(1/_e.density),jr=_e.formatter;ne.label.formatter=function(_r,Pn,Ln){return Ln%or?" ":jr(_r,Pn,Ln)}}vt.axis(rt.dataKey,ne)}else vt.axis(rt)},Si=0,ri=We;Si<ri.length;Si++){var k=ri[Si];Rt(k)}return vt},n=function(vt){return vt*Math.PI/180},a=function(vt){return vt*180/Math.PI},u=function(vt,gt,dt,Dt){var te=n(Dt);return{x:vt+Math.cos(te)*dt,y:gt+Math.sin(te)*dt}},l=function(){return l=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},l.apply(this,arguments)};function h(vt,gt){var dt={};if(gt.radius&&(gt.radius<0||gt.radius>1)||gt.innerRadius&&(gt.innerRadius<0||gt.innerRadius>1))throw new Error("please set correct radius or innerRadius");if(gt.radius&&(dt=l({},dt,{radius:gt.radius})),gt.innerRadius&&(dt=l({},dt,{innerRadius:gt.innerRadius})),gt.startAngle||gt.endAngle){if(gt.startAngle&&(gt.startAngle<-360||gt.startAngle>360))throw new Error("please set correct starAngle");if(dt=l({},dt,{startAngle:n(gt.startAngle)}),gt.endAngle&&(gt.endAngle<-360||gt.endAngle>360))throw new Error("please set correct endAngle");dt=l({},dt,{endAngle:n(gt.endAngle)})}var Dt=vt.coord(gt.type,l({},dt));switch(gt.direction){case"rotate":Dt.transpose();break;case"xReverse":Dt.reflect("x");break;case"yReverse":Dt.reflect("y");break;case"reverse":Dt.reflect();break;default:break}return gt.rotate&&Dt.rotate(gt.rotate),Dt}function p(vt,gt){if(!gt.direction)return vt.coord("rect");switch(gt.direction){case"BL":vt.coord("rect");break;case"BR":vt.coord("rect").scale(-1,1);break;case"LT":vt.coord("rect").transpose().scale(1,-1);break;case"LB":vt.coord("rect").transpose();break;case"RB":vt.coord("rect").transpose().reflect();break;case"RT":vt.coord("rect").transpose().reflect().scale(-1,1);break;case"TL":vt.coord("rect").reflect();break;case"TR":vt.coord("rect").reflect().scale(-1,1);break;default:vt.coord("rect");break}return vt}var d=function(vt,gt){var dt=i.cloneDeep(gt.coord);if(!dt||!dt.type)return vt.coord("rect");var Dt=dt.type;return Dt==="polar"||Dt==="theta"||Dt==="helix"?h(vt,dt):Dt==="rect"?p(vt,dt):vt.coord(Dt)},g=function(vt,gt){var dt=i.cloneDeep(gt.filter),Dt=i.isArray(dt);if(!i.isEmpty(dt)){for(var te=Dt?dt:[dt],We=0,cr=te;We<cr.length;We++){var zr=cr[We];zr.dataKey&&zr.callback&&vt.filter(zr.dataKey,zr.callback)}return vt}},y=function(){return y=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},y.apply(this,arguments)};function x(vt,gt){if(gt.quickType==="parallel"){var dt=gt.data;vt.guide().line(y({start:["min",dt],end:["max",dt]},gt))}else if(gt.quickType==="normal"){var dt=gt.data;vt.guide().line(y({start:[dt,"min"],end:[dt,"max"]},gt))}else vt.guide().line(gt)}function A(vt,gt){if(gt.quickType==="parallel"){var dt=gt.data;vt.guide().arc(y({start:["min",dt],end:["max",dt]},gt)),vt.guide().arc(y({start:["max",dt],end:["min",dt]},gt))}else if(gt.quickType==="normal"){var dt=gt.data;vt.guide().line(y({start:[dt,"min"],end:[dt,"max"]},gt))}else vt.guide().arc(gt)}var m=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.guide),te=Array.isArray(Dt);if(!(i.isNil(Dt)||i.isEmpty(Dt))){var We=te?Dt:[Dt];return We.forEach(function(cr){dt||s(vt,"guide-"+cr.type,cr),cr.type==="line"?x(vt,cr):cr.type==="region"?vt.guide().region(cr):cr.type==="arc"?A(vt,cr):cr.type==="text"?vt.guide().text(cr):cr.type==="image"?vt.guide().image(cr):cr.type==="html"?vt.guide().html(cr):cr.type==="dataMarker"?vt.guide().dataMarker(cr):cr.type==="regionFilter"?vt.guide().regionFilter(cr):cr.type==="dataRegion"&&vt.guide().dataRegion(cr)}),vt}};function M(vt){return vt.onHover=function(gt){var dt=gt.shapes,Dt=gt.geom;Dt.highlightShapes(dt)},vt}var b=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.legend),te=Array.isArray(Dt);if(i.isNil(Dt)||Dt===!1||te&&Dt.length===0)return vt.legend(!1);if(Dt===!0)return vt.legend();for(var We=te?Dt:[Dt],cr=0,zr=We;cr<zr.length;cr++){var Rt=zr[cr];Rt.highlight&&(Rt=M(Rt));var Si=function(rt){if(Rt.hasOwnProperty(rt)){if(rt==="onClick"){var Bt=Rt.onClick;Rt.onClick=function(yt){Bt(yt,vt)}}dt||c(vt,"legend",rt,Rt[rt])}};for(var ri in Rt)Si(ri);if(i.isNil(Rt.legendMarker)||(Rt["g2-legend-marker"]=Rt.legendMarker),i.isNil(Rt.legendListItem)||(Rt["g2-legend-list-item"]=Rt.legendListItem),i.isNil(Rt.legendTitle)||(Rt["g2-legend-title"]=Rt.legendTitle),i.isNil(Rt.legendList)||(Rt["g2-legend-list"]=Rt.legendList),Rt=i.omit(Rt,["legendMarker","legendListItem","legendTitle","legendList"]),Rt.dataKey)if(Rt.show===!1)vt.legend(Rt.dataKey,!1);else{var k=i.omit(Rt,["dataKey","show"]);vt.legend(Rt.dataKey,k)}else vt.legend(Rt)}return vt},E=function(vt,gt){var dt=i.cloneDeep(gt.scale),Dt=i.isArray(dt);if(!i.isEmpty(dt)){for(var te=Dt?dt:[dt],We={},cr=0,zr=te;cr<zr.length;cr++){var Rt=zr[cr];if(Rt.dataKey){var Si=i.omit(Rt,"dataKey");We[Rt.dataKey]=Si}}return We=o(We),vt.scale(We)}},C=function(){return C=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},C.apply(this,arguments)},T=[{type:"pie",series:{gemo:"interval",adjust:"stack"},coord:{type:"theta"}},{type:"sector",series:{gemo:"interval"},coord:{type:"polar"}},{type:"line",series:{gemo:"line"}},{type:"smoothLine",series:{gemo:"line",shape:"smooth"}},{type:"dashLine",series:{gemo:"line",shape:"dash"}},{type:"stackLine",series:{gemo:"line",adjust:"stack"}},{type:"area",series:{gemo:"area"}},{type:"stackArea",series:{gemo:"area",adjust:"stack"}},{type:"smoothArea",series:{gemo:"area",shape:"smooth"}},{type:"interval",series:{gemo:"interval"}},{type:"stackInterval",series:{gemo:"interval",adjust:"stack"}},{type:"dodgeInterval",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"bar",series:{gemo:"interval"}},{type:"stackBar",series:{gemo:"interval",shape:"interval",adjust:"stack"}},{type:"dodgeBar",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"point",series:{gemo:"point",shape:"hollowCircle"}},{type:"funnel",series:{gemo:"interval",adjust:"symmetric",shape:"funnel"}},{type:"pyramid",series:{gemo:"interval",adjust:"symmetric",shape:"pyramid"}},{type:"schema",series:{gemo:"schema",shape:"box"}},{type:"box",series:{gemo:"schema",shape:"box"}},{type:"candle",series:{gemo:"schema",shape:"candle"}},{type:"polygon",series:{gemo:"polygon"}},{type:"contour",series:{gemo:"contour"}},{type:"heatmap",series:{gemo:"heatmap"}},{type:"edge",series:{gemo:"edge"}},{type:"sankey",series:{gemo:"edge",shape:"sankey"}},{type:"errorBar",series:{gemo:"schema",shape:"errorbar"}},{type:"jitterPoint",series:{gemo:"point",adjust:"jitter"}},{type:"path",series:{gemo:"path"}},{type:"venn",series:{gemo:"venn"}}],O=function(vt,gt){for(var dt={},Dt=0,te=T;Dt<te.length;Dt++){var We=te[Dt];dt[We.type]=We}for(var cr=0;cr<vt.length;cr++){var zr=dt[vt[cr].quickType];if(zr&&(vt[cr]=C({},zr.series,vt[cr]),gt&&gt.type&&i.get(zr,"coord.type")&&i.get(zr,"coord.type")!==gt.type))throw new Error("quickType and coord had conflicted.")}return vt};function L(vt,gt){var dt=gt.gemo;switch(dt){case"line":vt=vt.line();break;case"area":vt=vt.area();break;case"bar":case"interval":vt=vt.interval();break;case"point":vt=vt.point();break;case"schema":vt=vt.schema();break;case"polygon":vt=vt.polygon();break;case"contour":vt=vt.contour();break;case"heatmap":vt=vt.heatmap();break;case"edge":vt=vt.edge();break;case"path":vt=vt.path();break;case"venn":vt=vt.venn();break;default:vt=vt.line()}return vt}function R(vt,gt){var dt=gt.position;return i.isNil(dt)?vt:vt.position(dt)}function W(vt,gt){var dt=gt.adjust;return i.isNil(dt)?vt:vt.adjust(dt)}function U(vt,gt){var dt=gt.shape;return i.isString(dt)?vt.shape(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.shape(dt[0],dt[1]):vt.shape(dt[0]):vt}function X(vt,gt){var dt=gt.color;return i.isString(dt)?vt.color(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.color(dt[0],dt[1]):vt.color(dt[0]):vt}function Z(vt,gt){var dt=gt.size;return i.isNumber(dt)||i.isString(dt)?vt.size(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.size(dt[0],dt[1]):vt.size(dt[0]):vt}function J(vt,gt){var dt=gt.opacity;return i.isNumber(dt)||i.isString(dt)?vt.opacity(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.opacity(dt[0],dt[1]):vt.opacity(dt[0]):vt}function ht(vt,gt){var dt=gt.label;if(i.isString(dt))return vt.label(dt);if(i.isArray(dt)&&dt.length>=2){if(i.isNumber(dt[1].density)&&0<dt[1].density&&dt[1].density<1&&(i.isFunction(dt[1].formatter)||i.isString(dt[1].formatter))){var Dt=Math.floor(1/dt[1].density),te=i.isString(dt[1].formatter)?o(dt[1]).formatter:dt[1].formatter;dt[1].formatter=function(We,cr,zr){return zr%Dt?" ":te(We,cr,zr)}}return vt.label.apply(vt,dt)}return vt}function at(vt,gt){var dt=gt.style;return i.isArray(dt)&&dt.length>=1?dt[1]?vt.style(dt[0],dt[1]):vt.style(dt[0]):i.isPlainObject(dt)?vt.style(dt):vt}function Q(vt,gt){var dt=gt.tooltip;return i.isBoolean(dt)||i.isString(dt)?vt.tooltip(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.tooltip(dt[0],dt[1]):vt.tooltip(dt[0]):vt}function xt(vt,gt){var dt=gt.select;return i.isBoolean(dt)?vt.select(dt):i.isArray(dt)&&dt.length>=1?dt[1]?vt.select(dt[0],dt[1]):vt.select(dt[0]):vt}function kt(vt,gt){var dt=gt.active;return i.isArray(dt)?vt.active.apply(vt,dt):i.isBoolean(dt)||i.isPlainObject(dt)?vt.active(dt):vt}function Nt(vt,gt){var dt=gt.animate;return i.isEmpty(dt)?vt:vt.animate(dt)}var nt=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.series),te=i.isArray(Dt);if(i.isNil(Dt)||i.isEmpty(Dt))return vt;var We=te?Dt:[Dt];We=O(We,gt.coord),We=i.sortBy(We,"zIndex");var cr;return We.forEach(function(zr){dt||s(vt,zr.gemo,zr);for(var Rt in zr)zr.hasOwnProperty(Rt)&&c(vt,"label",name,zr[Rt]);cr=L(vt,zr),cr=R(cr,zr),cr=W(cr,zr),cr=U(cr,zr),cr=X(cr,zr),cr=J(cr,zr),cr=Z(cr,zr),cr=ht(cr,zr),cr=Q(cr,zr),cr=at(cr,zr),cr=xt(cr,zr),cr=kt(cr,zr),cr=Nt(cr,zr)}),cr},q=function(vt,gt,dt){dt===void 0&&(dt=!1);var Dt=i.cloneDeep(gt.tooltip);if(i.isNil(Dt)||Dt===!1||Dt.show===!1)return vt.tooltip(!1);for(var te in Dt)Dt.hasOwnProperty(te)&&(te==="g2Tooltip"&&(Dt["g2-tooltip"]=Dt[te],Dt=i.omit(Dt,"g2Tooltip")),te==="g2TooltipTitle"&&(Dt["g2-tooltip-title"]=Dt[te],Dt=i.omit(Dt,"g2TooltipTitle")),te==="g2TooltipList"&&(Dt["g2-tooltip-list"]=Dt[te],Dt=i.omit(Dt,"g2TooltipList")),te==="g2TooltipListItem"&&(Dt["g2-tooltip-list-item"]=Dt[te],Dt=i.omit(Dt,"g2TooltipListItem")),te==="g2TooltipMaker"&&(Dt["g2-tooltip-maker"]=Dt[te],Dt=i.omit(Dt,"g2TooltipMaker")));return dt||s(vt,"tooltip",Dt),vt.tooltip(Dt)},G=function(vt,gt){var dt=i.cloneDeep(gt.tooltip);if(!i.isNil(dt)&&dt!==!1&&dt.show!==!1&&dt.defaultPoint){var Dt=dt.defaultPoint,te=vt.getXY(Dt);te&&vt.showTooltip(te)}},N=S(25925),it=function(vt,gt,dt){N.Shape.registerShape(vt,gt,dt)},H=function(vt,gt,dt){N.Animate.registerAnimation(vt,gt,dt)},ct=function(){return ct=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},ct.apply(this,arguments)},ft="errorbar";function K(vt){return[["M",vt[1].x,vt[1].y],["L",vt[2].x,vt[2].y],["Z"],["M",((vt[1].x||0)+(vt[2].x||0))/2,((vt[1].y||0)+(vt[2].y||0))/2],["L",((vt[0].x||0)+(vt[3].x||0))/2,((vt[0].y||0)+(vt[3].y||0))/2],["Z"],["M",vt[0].x,vt[0].y],["L",vt[3].x,vt[3].y],["Z"]]}var $=function(){var vt=1,gt=!1;it("schema",ft,{getPoints:function(dt){var Dt=dt.x,te=Dt===void 0?0:Dt,We=dt.y,cr=We===void 0?[0,0,0]:We,zr=dt.size,Rt=zr===void 0?0:zr;return[{x:te-Rt/2*vt,y:cr[0]},{x:te-Rt/2*vt,y:cr[2]},{x:te+Rt/2*vt,y:cr[2]},{x:te+Rt/2*vt,y:cr[0]},{x:te,y:cr[1]},{x:te-Rt/2*vt,y:cr[1]}]},drawShape:function(dt,Dt){var te=Dt,We=dt.points;return te.addShape("path",{attrs:ct({stroke:dt.color,strokeOpacity:dt.opacity||1,lineWidth:dt.style.lineWidth||1,fill:dt.color,opacity:dt.opacity||1,path:this.parsePath(K(We))},dt.style)}),gt&&te.addShape("circle",{attrs:ct({stroke:dt.color,strokeOpacity:dt.opacity||1,lineWidth:dt.style.lineWidth||1,fill:dt.color,opacity:dt.opacity||1,x:this.parsePoint(We[4]).x,y:this.parsePoint(We[4]).y,r:dt.style.lineWidth+.5||1.5},dt.style)}),te}})},et="sankey";function j(vt,gt){var dt=+vt,Dt=gt-dt;return function(te){return dt+Dt*te}}function w(vt,gt,dt){var Dt=j(vt.x,gt.x),te=Dt(dt),We=Dt(1-dt),cr=["C",te,vt.y,We,gt.y,gt.x,gt.y];return cr}function D(vt,gt){var dt=[["M",vt[0].x,vt[0].y],["L",vt[1].x,vt[1].y]],Dt=w(vt[1],vt[3],gt);dt.push(Dt),dt.push(["L",vt[3].x,vt[3].y]),dt.push(["L",vt[2].x,vt[2].y]);var te=w(vt[2],vt[0],gt);return dt.push(te),dt.push(["Z"]),dt}var V=function(){it("edge",et,{drawShape:function(vt,gt){var dt=vt.points,Dt=vt.style,te=Dt.curvature||.5,We=this.parsePath(D(dt,te)),cr=gt.addShape("path",{attrs:{stroke:"none",strokeOpacity:0,fill:vt.color,opacity:vt.opacity,path:We}});return cr}})};function tt(){V(),$()}var lt=function(){return lt=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},lt.apply(this,arguments)},St=S(25925),ot=S(4922);function Mt(vt){return vt.toLowerCase().replace(/( |^)[a-z]/g,function(gt){return gt.toUpperCase()})}var Ot=function(){function vt(gt){this.viewInstance={},this.config=i.cloneDeep(gt),this.checkChartConfig(this.config),this.chartInstance=new St.Chart(this.config.chart)}return vt.prototype.getWidth=function(){return this.chartInstance.get("width")},vt.prototype.getHeight=function(){return this.chartInstance.get("height")},vt.prototype.render=function(){var gt=this.config,dt=this.chartInstance;tt(),this.setEvents(dt,gt),this.setDataSource(dt,gt.data),this.setCoord(dt,gt),this.setTooltip(dt,gt),this.setAxis(dt,gt),this.setContent(dt,gt),this.setLegend(dt,gt),this.setViews(dt,gt),this.setFacet(dt,gt),dt.render(),this.setDefaultTooltip(dt,gt),this.setBrush(dt,gt)},vt.prototype.repaint=function(gt){var dt=i.cloneDeep(gt);this.checkChartConfig(dt),this.renderDiffConfig(dt)},vt.prototype.destroy=function(gt){gt&&gt.destroy()},vt.prototype.clear=function(gt){gt&&gt.clear()},vt.prototype.checkChartConfig=function(gt){var dt=gt.chart;if(!dt||!dt.height)throw new Error("please set correct chart option")},vt.prototype.createView=function(gt,dt){var Dt={};dt.start&&(Dt.start=dt.start),dt.end&&(Dt.end=dt.end);var te=gt.view(Dt);if(!dt.viewId)throw new Error("you must set viewId");return this.viewInstance[dt.viewId]=te,te},vt.prototype.setEvents=function(gt,dt){s(gt,"",dt.chart)},vt.prototype.setDataSource=function(gt,dt){!i.isNil(dt)&&!i.isEmpty(dt)&&gt.source(dt)},vt.prototype.setFilter=function(gt,dt){return g(gt,dt)},vt.prototype.setScale=function(gt,dt){return E(gt,dt)},vt.prototype.setCoord=function(gt,dt){return d(gt,dt)},vt.prototype.setSeries=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),nt(gt,dt,Dt)},vt.prototype.setAxis=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),e(gt,dt,Dt)},vt.prototype.setTooltip=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),q(gt,dt,Dt)},vt.prototype.setDefaultTooltip=function(gt,dt){return G(gt,dt)},vt.prototype.setGuide=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),m(gt,dt,Dt)},vt.prototype.setLegend=function(gt,dt,Dt){return Dt===void 0&&(Dt=!1),b(gt,dt,Dt)},vt.prototype.setContent=function(gt,dt,Dt){Dt===void 0&&(Dt=!1),this.setScale(gt,dt),this.setFilter(gt,dt),this.setSeries(gt,dt,Dt),this.setGuide(gt,dt,Dt)},vt.prototype.setView=function(gt,dt,Dt,te){te===void 0&&(te=!1);var We=this.createView(dt,gt),cr=gt.data?gt.data:Dt.data;return this.setDataSource(We,cr),i.isNil(gt.coord)||this.setCoord(We,gt),i.isNil(gt.tooltip)||this.setTooltip(We,gt,te),i.isNil(gt.axis)||this.setAxis(We,gt,te),i.isNil(gt.guide)||this.setGuide(We,gt,te),this.setContent(We,gt,te),We},vt.prototype.setViews=function(gt,dt,Dt){Dt===void 0&&(Dt=!1);var te=i.cloneDeep(dt.views),We=Array.isArray(te);if(!(i.isNil(te)||i.isEmpty(te)))for(var cr=We?te:[te],zr=0,Rt=cr;zr<Rt.length;zr++){var Si=Rt[zr];this.setView(Si,gt,dt,Dt)}},vt.prototype.setFacetViews=function(gt,dt,Dt,te){te===void 0&&(te=!1),this.setDataSource(gt,Dt.data),i.isNil(Dt.coord)||this.setCoord(gt,Dt),i.isNil(Dt.tooltip)||this.setTooltip(gt,Dt,te),i.isNil(Dt.axis)||this.setAxis(gt,Dt,te),i.isNil(Dt.guide)||this.setGuide(gt,Dt,te),this.setContent(gt,Dt)},vt.prototype.setFacet=function(gt,dt,Dt){var te=this;Dt===void 0&&(Dt=!1);var We=i.cloneDeep(dt.facet);if(!(i.isNil(We)||i.isEmpty(We))){var cr=i.omit(We,["type","views"]);return i.isEmpty(We.views)&&!i.isFunction(We.views)||(i.isFunction(We.views)?cr.eachView=function(zr,Rt){te.setFacetViews(zr,Rt,We.views(zr,Rt),Dt)}:(We.views=Array.isArray(We.views)?We.views:[We.views],cr.eachView=function(zr,Rt){te.setFacetViews(zr,Rt,We.views[0],Dt)})),gt.facet(We.type,cr)}},vt.prototype.setBrush=function(gt,dt){if(!(i.isNil(dt.brush)||i.isEmpty(dt.brush))){var Dt=dt.brush,te=lt({},dt.brush,{canvas:gt.get("canvas"),chart:gt}),We=/on(BrushStart|BrushMove|BrushEnd|DragStart|DragMove|DragEnd)/,cr=Object.keys(Dt).filter(function(zr){return We.test(zr)});cr.forEach(function(zr){var Rt=We.exec(zr);if(Rt&&Rt.length){var Si="on"+Mt(Rt[0]);te[Si]=function(ri){Dt[zr](ri,gt)}}}),new ot(te)}},vt.prototype.repaintWidthHeight=function(gt,dt){var Dt=i.get(dt,"chart.width");Dt&&gt.changeWidth(Dt);var te=i.get(dt,"chart.height");te&&gt.changeHeight(te)},vt.prototype.renderDiffConfig=function(gt){var dt=this.chartInstance;this.clear(dt),this.setScale(dt,gt),this.setCoord(dt,gt),this.setFilter(dt,gt),this.setAxis(dt,gt,!0),this.setSeries(dt,gt,!0),this.setTooltip(dt,gt,!0),this.setGuide(dt,gt,!0),this.setViews(dt,gt,!0),this.setLegend(dt,gt,!0),this.setFacet(dt,gt,!0),this.repaintWidthHeight(dt,gt),gt.data&&dt.changeData(gt.data),dt.repaint(),this.setBrush(dt,gt)},vt}(),Ft=Ot,zt=S(25925),$t=S(10817),he=function(vt){var gt=document.getElementById(vt.container);if(!gt){console.error("plugin slider container not defined");return}gt.innerHTML="";var dt=new $t(vt);return dt.render(),dt},ye=function(vt){var gt={};for(var dt in vt)if(vt.hasOwnProperty(dt)){var Dt=vt[dt];switch(dt){case"slider":gt.slider=he(Dt);break;default:break}}return gt},tr=S(25925),nr=H,Xe=it,yr=tr.Global;function Vr(vt){var gt=!1;if(i.isEmpty(vt.data)||(gt=!0),!i.isNil(vt.views)&&(i.isPlainObject(vt.views)&&!i.isEmpty(vt.views.data)&&(gt=!0),i.isArray(vt.views)))for(var dt=0,Dt=vt.views;dt<Dt.length;dt++){var te=Dt[dt];i.isEmpty(te.data)||(gt=!0)}return gt}function Ee(vt){if(!(i.isNil(vt)||i.isEmpty(vt))){var gt=Vr(vt);if(!!gt){var dt=new Ft(vt);return dt.render(),dt}}}var de=S(45697),Ge=S(67294),ke=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Kr=function(){function vt(){}return vt}(),fn=function(vt){ke(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="SubComponent",Dt}return gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return null},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewId:de.string,viewType:de.string},gt}(Ge.Component),pi=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Coord",dt}return gt}(fn),Vi=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Tooltip",dt}return gt}(fn),ea=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Legend",dt}return gt}(fn),zi=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Guide",dt}return gt}(fn),Te=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Axis",dt}return gt}(fn),Be=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Brush",dt}return gt}(fn),lr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Series",dt}return gt}(fn),Or=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Line",dt}return gt}(fn),sr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Pie",dt}return gt}(fn),Dr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Sector",dt}return gt}(fn),En=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="SmoothLine",dt}return gt}(fn),Yn=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DashLine",dt}return gt}(fn),ln=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackLine",dt}return gt}(fn),Jr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Area",dt}return gt}(fn),Wn=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackArea",dt}return gt}(fn),$n=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="SmoothArea",dt}return gt}(fn),Gr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Bar",dt}return gt}(fn),wr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackBar",dt}return gt}(fn),ti=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DodgeBar",dt}return gt}(fn),ge=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Interval",dt}return gt}(fn),Le=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="StackInterval",dt}return gt}(fn),Se=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="DodgeInterval",dt}return gt}(fn),Ve=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Point",dt}return gt}(fn),le=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Funnel",dt}return gt}(fn),vr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Pyramid",dt}return gt}(fn),He=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Schema",dt}return gt}(fn),rr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Box",dt}return gt}(fn),Lr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Candle",dt}return gt}(fn),Mr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Polygon",dt}return gt}(fn),rn=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Contour",dt}return gt}(fn),pn=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Heatmap",dt}return gt}(fn),qr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Edge",dt}return gt}(fn),Dn=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Sankey",dt}return gt}(fn),ae=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="ErrorBar",dt}return gt}(fn),er=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="JitterPoint",dt}return gt}(fn),ar=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Path",dt}return gt}(fn),kr=function(vt){ke(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Venn",dt}return gt}(fn),Rn=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),di=function(){function vt(){}return vt}(),Yi=function(vt){Rn(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="SubPlugin",Dt.state={container:dt.container},Dt}return gt.prototype.getChildContext=function(){return{container:this.state.container}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){var dt=this.state.container;return Ge.createElement("div",{id:dt})},gt.childContextTypes={container:de.string},gt.contextTypes={centralizedUpdates:de.func},gt}(Ge.Component),da=function(vt){Rn(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.displayName="Slider",dt}return gt}(Yi),_a=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),fa=function(){return fa=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},fa.apply(this,arguments)};function wo(vt){return vt.replace(/^\S/,function(gt){return gt.toLowerCase()})}function ho(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)>=0&&(dt[Dt]=vt[Dt])}return dt}function mo(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)<0&&(dt[Dt]=vt[Dt])}return dt}function yo(vt){for(var gt in vt)if(vt.hasOwnProperty(gt))return!1;return!0}var zo=function(vt){_a(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.config={},Dt.views={},Dt.facetviews={},Dt.centralizedUpdates=function(te){var We=Dt.config,cr=te.props,zr=te.displayName,Rt=te.context.hasInViews;if(zr==="Facet"){var Si=mo(cr,"children");We.facet=Si}else if(zr==="FacetView"){var ri=te.state.viewId;Dt.facetviews[ri]||(Dt.facetviews[ri]={viewId:ri}),Dt.combineViewConfig(cr,Dt.facetviews[ri])}else if(zr==="View"){var ri=te.state.viewId;Dt.views[ri]||(Dt.views[ri]={viewId:ri}),Dt.combineViewConfig(cr,Dt.views[ri])}else if(!Rt)Dt.combineContentConfig(zr,cr,We);else{var k=te.context.viewType,ri=te.context.viewId;k==="view"?(Dt.views[ri]||(Dt.views[ri]={viewId:ri}),Dt.combineContentConfig(zr,cr,Dt.views[ri])):k==="facet"&&(Dt.facetviews[ri]||(Dt.facetviews[ri]={viewId:ri}),Dt.combineContentConfig(zr,cr,Dt.facetviews[ri]))}},Dt.portalRef=function(te){Dt.container||(Dt.container=te)},Dt}return gt.prototype.getChildContext=function(){return{centralizedUpdates:this.centralizedUpdates,hasInViews:!1,viewType:"view"}},gt.prototype.combineChartConfig=function(dt,Dt){var te=["height","width","animate","forceFit","background","plotBackground","padding","theme","renderer","onMouseDown","onMouseMove","onMouseUp","onClick","onDbClick","onTouchStart","onTouchMove","onTouchEnd","onPlotEnter","onPlotMove","onPlotLeave","onPlotClick","onPlotDbClick"];Dt.chart=ho(dt,te)},gt.prototype.combineViewConfig=function(dt,Dt){dt.data&&(Dt.data=dt.data),dt.scale&&(Dt.scale=dt.scale),dt.filter&&(Dt.filter=dt.filter),dt.start&&(Dt.start=dt.start),dt.end&&(Dt.end=dt.end)},gt.prototype.combineContentConfig=function(dt,Dt,te){var We=wo(dt),cr=dt.toLowerCase(),zr=["pie","sector","line","smoothLine","dashLine","stackLine","area","stackArea","smoothArea","bar","stackBar","dodgeBar","interval","stackInterval","dodgeInterval","point","waterfall","funnel","pyramid","radialBar","schema","box","candle","polygon","contour","heatmap","edge","sankey","jitterPoint","path","venn"];return zr.indexOf(We)<0&&yo(Dt)?te[cr]=!0:zr.indexOf(We)>=0?(te.series||(te.series=[]),te.series.push(fa({quickType:We},Dt))):cr==="axis"?(te.axis||(te.axis=[]),te.axis.push(Dt)):cr==="series"?(te.series||(te.series=[]),te.series.push(Dt)):cr==="guide"?(te.guide||(te.guide=[]),te.guide.push(Dt)):cr==="legend"?(te.legend||(te.legend=[]),te.legend.push(Dt)):te[cr]=Dt,te},gt.prototype.changeViewConfig=function(){var dt=this.views,Dt=this.facetviews,te=this.config;if(!yo(dt)){te.views=[];for(var We in dt)dt.hasOwnProperty(We)&&te.views.push(dt[We])}if(!yo(Dt)){te.facet.views=[];for(var We in Dt)Dt.hasOwnProperty(We)&&te.facet.views.push(Dt[We])}},gt.prototype.createChartInstance=function(dt){this.chart&&this.chart.destroy(),this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),dt.chart.container=this.container,this.changeViewConfig(),this.chart=Ee(dt)},gt.prototype.repaintChartInstance=function(dt){this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.changeViewConfig(),this.chart?this.chart.repaint(dt):(dt.chart.container=this.container,this.chart=Ee(dt))},gt.prototype.clearConfigData=function(){this.config={},this.views={}},gt.prototype.componentDidMount=function(){this.createChartInstance(this.config),this.clearConfigData()},gt.prototype.componentDidUpdate=function(dt){this.repaintChartInstance(this.config),this.clearConfigData()},gt.prototype.componentWillUnmount=function(){this.chart&&(this.chart.destroy(),this.chart=null),this.container=null},gt.prototype.render=function(){return Ge.createElement("div",{ref:this.portalRef},this.props.children)},gt.childContextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewType:de.string},gt}(Ge.Component),io=zo,Za=S(73935),qa=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Zt=Za.createPortal!==void 0;function je(){return Math.floor(new Date().getTime()+Math.random()*1e4).toString()}var ur=function(vt){qa(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="View",Dt.state={hasInViews:!0,viewId:Dt.props.viewId||je()},Dt}return gt.prototype.getChildContext=function(){return{hasInViews:this.state.hasInViews,viewId:this.state.viewId}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return Zt?this.props.children:Ge.Children.only(this.props.children)},gt.childContextTypes={hasInViews:de.bool,viewId:de.string},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool},gt}(Ge.Component),Br=null,Vt=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),ee=Za.createPortal!==void 0;function Ae(){return Math.floor(new Date().getTime()+Math.random()*1e4).toString()}var Me=function(vt){Vt(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="FacetView",Dt.state={hasInViews:!0,viewId:Dt.props.viewId||Ae(),viewType:"facet"},Dt}return gt.prototype.getChildContext=function(){return{hasInViews:this.state.hasInViews,viewId:this.state.viewId,viewType:this.state.viewType}},gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return ee?this.props.children:Ge.Children.only(this.props.children)},gt.childContextTypes={hasInViews:de.bool,viewId:de.string,viewType:de.string},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewType:de.string},gt}(Ge.Component),Er=null,dn=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),xn=Za.createPortal!==void 0,fi=function(vt){dn(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.displayName="Facet",Dt}return gt.prototype.componentDidUpdate=function(){this.context.centralizedUpdates(this)},gt.prototype.componentDidMount=function(){this.context.centralizedUpdates(this)},gt.prototype.render=function(){return this.props.children?xn?this.props.children:Ge.Children.only(this.props.children):null},gt.contextTypes={centralizedUpdates:de.func,hasInViews:de.bool,viewId:de.string},gt}(Ge.Component),Ai=fi,aa=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),qi=function(){return qi=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},qi.apply(this,arguments)};function Sa(vt,gt){var dt=Object.create(null);for(var Dt in vt)if(vt.hasOwnProperty(Dt)){var te=Array.isArray(gt)?gt:[gt];te.indexOf(Dt)>=0&&(dt[Dt]=vt[Dt])}return dt}var ca=function(vt){aa(gt,vt);function gt(dt){var Dt=vt.call(this,dt)||this;return Dt.config={},Dt.displayName="",Dt.portalRef=function(te){Dt.container||(Dt.container=te)},Dt}return gt.prototype.combineChartConfig=function(dt,Dt){var te=["height","width","animate","forceFit","background","plotBackground","padding"];return Dt.chart=Sa(dt,te),Dt},gt.prototype.combineViewConfig=function(dt,Dt){return dt.data&&(Dt.data=dt.data),dt.dataPre&&(Dt.dataPre=dt.dataPre),dt.scale&&(Dt.scale=dt.scale),dt.guide&&(Dt.guide=dt.guide),Dt.tooltip=dt.tooltip?dt.tooltip:!0,Dt.legend=dt.legend?dt.legend:!0,Dt.axis=dt.axis?dt.axis:!0,Dt},gt.prototype.combineSeriesConfig=function(dt,Dt){for(var te=["pie","sector","line","smoothLine","dashLine","area","stackArea","smoothArea","bar","stackBar","dodgeBar","interval","stackInterval","dodgeInterval","point","waterfall","funnel","pyramid","radialBar","schema","box","candle","polygon","contour","heatmap","edge","jitterPoint"],We=0,cr=te;We<cr.length;We++){var zr=cr[We];if(dt[zr]){Dt.series=qi({},Dt.series,{quickType:zr});break}}return Dt},gt.prototype.createChartInstance=function(dt){var Dt=this.elm;Dt&&Za.unmountComponentAtNode(Dt),this.chart&&this.chart.destroy(),this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.combineSeriesConfig(this.props,this.config);var te=document.createElement("div");this.container.appendChild(te),dt.chart.container=te,this.elm=document.createElement("div"),this.chart=Ee(dt)},gt.prototype.repaintChartInstance=function(dt){this.combineChartConfig(this.props,this.config),this.combineViewConfig(this.props,this.config),this.combineSeriesConfig(this.props,this.config),this.chart?this.chart.repaint(dt):(dt.chart.container=this.container,this.chart=Ee(dt))},gt.prototype.clearConfigData=function(){this.config={}},gt.prototype.componentDidMount=function(){this.createChartInstance(this.config),this.clearConfigData()},gt.prototype.componentDidUpdate=function(){this.repaintChartInstance(this.config),this.clearConfigData()},gt.prototype.componentWillUnmount=function(){this.chart&&(this.chart.destroy(),this.chart=null),this.elm=this.container=null},gt.prototype.render=function(){return Ge.createElement("div",{ref:this.portalRef},this.props.children)},gt}(Ge.Component),to=null,za=function(){var vt=function(gt,dt){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,te){Dt.__proto__=te}||function(Dt,te){for(var We in te)te.hasOwnProperty(We)&&(Dt[We]=te[We])},vt(gt,dt)};return function(gt,dt){vt(gt,dt);function Dt(){this.constructor=gt}gt.prototype=dt===null?Object.create(dt):(Dt.prototype=dt.prototype,new Dt)}}(),Ia=function(){return Ia=Object.assign||function(vt){for(var gt,dt=1,Dt=arguments.length;dt<Dt;dt++){gt=arguments[dt];for(var te in gt)Object.prototype.hasOwnProperty.call(gt,te)&&(vt[te]=gt[te])}return vt},Ia.apply(this,arguments)},Va=function(vt){za(gt,vt);function gt(){var dt=vt!==null&&vt.apply(this,arguments)||this;return dt.config={},dt.plugins=null,dt.centralizedUpdates=function(Dt){var te=dt.config,We=Dt.props,cr=Dt.displayName;if(cr==="Slider"){var zr=We.container;(!zr||!document.getElementById(zr))&&(We=Ia({},We,{container:Dt.state.containerId}))}dt.combineContentConfig(cr,We,te),dt.updateSliderInstance(te)},dt.portalRef=function(Dt){dt.container||(dt.container=Dt)},dt}return gt.prototype.getChildContext=function(){return{centralizedUpdates:this.centralizedUpdates}},gt.prototype.combineContentConfig=function(dt,Dt,te){var We=dt.toLowerCase();te[We]=Dt},gt.prototype.updateSliderInstance=function(dt){this.plugins||(this.plugins=ye(dt)),this.plugins&&this.plugins.slider&&dt.slider&&(this.plugins=ye(dt))},gt.prototype.clearConfigData=function(){this.config={}},gt.prototype.render=function(){return Ge.createElement("div",{ref:this.portalRef},this.props.children)},gt.childContextTypes={centralizedUpdates:de.func},gt}(Ge.Component),ro=null,xe=nr,be=Xe,pe=yr},75752:function(mr){mr.exports.RADIUS=6378137,mr.exports.FLATTENING=1/298.257223563,mr.exports.POLAR_RADIUS=63567523142e-4}}]);
